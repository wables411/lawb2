const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-gr9IFigk.js","assets/hmac-H-DyPIMp.js","assets/secp256k1-Dl5YGRNQ.js","assets/embedded-wallet-D9jyh9vP.js","assets/if-defined-CMioxqZl.js","assets/index-BREK9Xho.js","assets/index-CX5MaxRv.js","assets/ref-Ce7pIcwv.js","assets/index-D4K74m9t.js","assets/index-DdKyqi65.js","assets/index-Bdbm_3_v.js","assets/index-BJNIaf4R.js","assets/index-AVrV0jNJ.js","assets/index-CWg6nRau.js","assets/index-BgPtXI2M.js","assets/email-CYD4N_Sc.js","assets/index-DZiD3VLw.js","assets/socials-DABMPl9M.js","assets/index-CXeechpd.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-24LOLMhF.js","assets/index-CtCKq1aI.js","assets/index-CQAfcAu1.js","assets/index-DXJ8kPxS.js","assets/swaps-ByeZSV5_.js","assets/index-Rysr3gJg.js","assets/index-DeLxZuPs.js","assets/index-C32WxPHm.js","assets/send-Bi5dIiWj.js","assets/index-l6hT84bF.js","assets/index-D1msZjNm.js","assets/receive-FlCMfasE.js","assets/index-DS_FzEXG.js","assets/onramp-dxYWegGA.js","assets/index-DIxbKPWh.js","assets/index-BP-H9tR9.js","assets/index-CEwv3gSI.js","assets/transactions-BdrkNkoQ.js","assets/index-CR61inRG.js","assets/index-DGzHtiB3.js","assets/index-CXy0wTn4.js","assets/index-Bk7FQb9T.js","assets/index-CdjQipaZ.js","assets/w3m-modal-CF97mgsE.js"])))=>i.map(i=>d[i]);
var fS=t=>{throw TypeError(t)};var ww=(t,e,n)=>e.has(t)||fS("Cannot "+n);var D=(t,e,n)=>(ww(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>e.has(t)?fS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ae=(t,e,n,r)=>(ww(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),$e=(t,e,n)=>(ww(t,e,"access private method"),n);var dg=(t,e,n,r)=>({set _(s){ae(t,e,s,n)},get _(){return D(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function D_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var IP={exports:{}},r0={},TP={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=Symbol.for("react.element"),M6=Symbol.for("react.portal"),j6=Symbol.for("react.fragment"),B6=Symbol.for("react.strict_mode"),F6=Symbol.for("react.profiler"),z6=Symbol.for("react.provider"),W6=Symbol.for("react.context"),q6=Symbol.for("react.forward_ref"),H6=Symbol.for("react.suspense"),V6=Symbol.for("react.memo"),G6=Symbol.for("react.lazy"),hS=Symbol.iterator;function K6(t){return t===null||typeof t!="object"?null:(t=hS&&t[hS]||t["@@iterator"],typeof t=="function"?t:null)}var NP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PP=Object.assign,RP={};function yd(t,e,n){this.props=t,this.context=e,this.refs=RP,this.updater=n||NP}yd.prototype.isReactComponent={};yd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function OP(){}OP.prototype=yd.prototype;function U_(t,e,n){this.props=t,this.context=e,this.refs=RP,this.updater=n||NP}var L_=U_.prototype=new OP;L_.constructor=U_;PP(L_,yd.prototype);L_.isPureReactComponent=!0;var pS=Array.isArray,kP=Object.prototype.hasOwnProperty,M_={current:null},$P={key:!0,ref:!0,__self:!0,__source:!0};function DP(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)kP.call(e,r)&&!$P.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Dp,type:t,key:i,ref:o,props:s,_owner:M_.current}}function Y6(t,e){return{$$typeof:Dp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function j_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dp}function Z6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gS=/\/+/g;function vw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Z6(""+t.key):e.toString(36)}function mm(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Dp:case M6:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+vw(o,0):r,pS(s)?(n="",t!=null&&(n=t.replace(gS,"$&/")+"/"),mm(s,e,n,"",function(l){return l})):s!=null&&(j_(s)&&(s=Y6(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gS,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",pS(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+vw(i,a);o+=mm(i,e,n,c,s)}else if(c=K6(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+vw(i,a++),o+=mm(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fg(t,e,n){if(t==null)return t;var r=[],s=0;return mm(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Q6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ir={current:null},ym={transition:null},X6={ReactCurrentDispatcher:ir,ReactCurrentBatchConfig:ym,ReactCurrentOwner:M_};function UP(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:fg,forEach:function(t,e,n){fg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fg(t,function(){e++}),e},toArray:function(t){return fg(t,function(e){return e})||[]},only:function(t){if(!j_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=yd;Me.Fragment=j6;Me.Profiler=F6;Me.PureComponent=U_;Me.StrictMode=B6;Me.Suspense=H6;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X6;Me.act=UP;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PP({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=M_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)kP.call(e,c)&&!$P.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Dp,type:t.type,key:s,ref:i,props:r,_owner:o}};Me.createContext=function(t){return t={$$typeof:W6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:z6,_context:t},t.Consumer=t};Me.createElement=DP;Me.createFactory=function(t){var e=DP.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:q6,render:t}};Me.isValidElement=j_;Me.lazy=function(t){return{$$typeof:G6,_payload:{_status:-1,_result:t},_init:Q6}};Me.memo=function(t,e){return{$$typeof:V6,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=ym.transition;ym.transition={};try{t()}finally{ym.transition=e}};Me.unstable_act=UP;Me.useCallback=function(t,e){return ir.current.useCallback(t,e)};Me.useContext=function(t){return ir.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return ir.current.useDeferredValue(t)};Me.useEffect=function(t,e){return ir.current.useEffect(t,e)};Me.useId=function(){return ir.current.useId()};Me.useImperativeHandle=function(t,e,n){return ir.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return ir.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return ir.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return ir.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return ir.current.useReducer(t,e,n)};Me.useRef=function(t){return ir.current.useRef(t)};Me.useState=function(t){return ir.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return ir.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return ir.current.useTransition()};Me.version="18.3.1";TP.exports=Me;var z=TP.exports;const ms=vl(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J6=z,e4=Symbol.for("react.element"),t4=Symbol.for("react.fragment"),n4=Object.prototype.hasOwnProperty,r4=J6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s4={key:!0,ref:!0,__self:!0,__source:!0};function LP(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)n4.call(e,r)&&!s4.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:e4,type:t,key:i,ref:o,props:s,_owner:r4.current}}r0.Fragment=t4;r0.jsx=LP;r0.jsxs=LP;IP.exports=r0;var b=IP.exports,Ob={},MP={exports:{}},Qr={},jP={exports:{}},BP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,$){var j=k.length;k.push($);e:for(;0<j;){var F=j-1>>>1,H=k[F];if(0<s(H,$))k[F]=$,k[j]=H,j=F;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var $=k[0],j=k.pop();if(j!==$){k[0]=j;e:for(var F=0,H=k.length,Y=H>>>1;F<Y;){var Z=2*(F+1)-1,se=k[Z],ge=Z+1,ke=k[ge];if(0>s(se,j))ge<H&&0>s(ke,se)?(k[F]=ke,k[ge]=j,F=ge):(k[F]=se,k[Z]=j,F=Z);else if(ge<H&&0>s(ke,j))k[F]=ke,k[ge]=j,F=ge;else break e}}return $}function s(k,$){var j=k.sortIndex-$.sortIndex;return j!==0?j:k.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,f=3,h=!1,p=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var $=n(l);$!==null;){if($.callback===null)r(l);else if($.startTime<=k)r(l),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(l)}}function _(k){if(g=!1,v(k),!p)if(n(c)!==null)p=!0,N(E);else{var $=n(l);$!==null&&M(_,$.startTime-k)}}function E(k,$){p=!1,g&&(g=!1,m(T),T=-1),h=!0;var j=f;try{for(v($),d=n(c);d!==null&&(!(d.expirationTime>$)||k&&!O());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var H=F(d.expirationTime<=$);$=t.unstable_now(),typeof H=="function"?d.callback=H:d===n(c)&&r(c),v($)}else r(c);d=n(c)}if(d!==null)var Y=!0;else{var Z=n(l);Z!==null&&M(_,Z.startTime-$),Y=!1}return Y}finally{d=null,f=j,h=!1}}var x=!1,S=null,T=-1,C=5,R=-1;function O(){return!(t.unstable_now()-R<C)}function L(){if(S!==null){var k=t.unstable_now();R=k;var $=!0;try{$=S(!0,k)}finally{$?U():(x=!1,S=null)}}else x=!1}var U;if(typeof y=="function")U=function(){y(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,I=B.port2;B.port1.onmessage=L,U=function(){I.postMessage(null)}}else U=function(){w(L,0)};function N(k){S=k,x||(x=!0,U())}function M(k,$){T=w(function(){k(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,N(E))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var j=f;f=$;try{return k()}finally{f=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,$){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var j=f;f=k;try{return $()}finally{f=j}},t.unstable_scheduleCallback=function(k,$,j){var F=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?F+j:F):j=F,k){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=j+H,k={id:u++,callback:$,priorityLevel:k,startTime:j,expirationTime:H,sortIndex:-1},j>F?(k.sortIndex=j,e(l,k),n(c)===null&&k===n(l)&&(g?(m(T),T=-1):g=!0,M(_,j-F))):(k.sortIndex=H,e(c,k),p||h||(p=!0,N(E))),k},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(k){var $=f;return function(){var j=f;f=$;try{return k.apply(this,arguments)}finally{f=j}}}})(BP);jP.exports=BP;var i4=jP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o4=z,Yr=i4;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FP=new Set,ph={};function bl(t,e){Zu(t,e),Zu(t+"Capture",e)}function Zu(t,e){for(ph[t]=e,t=0;t<e.length;t++)FP.add(e[t])}var po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kb=Object.prototype.hasOwnProperty,a4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mS={},yS={};function c4(t){return kb.call(yS,t)?!0:kb.call(mS,t)?!1:a4.test(t)?yS[t]=!0:(mS[t]=!0,!1)}function l4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function u4(t,e,n,r){if(e===null||typeof e>"u"||l4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function or(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xn[t]=new or(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xn[e]=new or(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xn[t]=new or(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xn[t]=new or(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xn[t]=new or(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xn[t]=new or(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xn[t]=new or(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xn[t]=new or(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xn[t]=new or(t,5,!1,t.toLowerCase(),null,!1,!1)});var B_=/[\-:]([a-z])/g;function F_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(B_,F_);xn[e]=new or(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(B_,F_);xn[e]=new or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(B_,F_);xn[e]=new or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xn[t]=new or(t,1,!1,t.toLowerCase(),null,!1,!1)});xn.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xn[t]=new or(t,1,!1,t.toLowerCase(),null,!0,!0)});function z_(t,e,n,r){var s=xn.hasOwnProperty(e)?xn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(u4(e,n,s,r)&&(n=null),r||s===null?c4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xo=o4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hg=Symbol.for("react.element"),lu=Symbol.for("react.portal"),uu=Symbol.for("react.fragment"),W_=Symbol.for("react.strict_mode"),$b=Symbol.for("react.profiler"),zP=Symbol.for("react.provider"),WP=Symbol.for("react.context"),q_=Symbol.for("react.forward_ref"),Db=Symbol.for("react.suspense"),Ub=Symbol.for("react.suspense_list"),H_=Symbol.for("react.memo"),Qo=Symbol.for("react.lazy"),qP=Symbol.for("react.offscreen"),wS=Symbol.iterator;function Wd(t){return t===null||typeof t!="object"?null:(t=wS&&t[wS]||t["@@iterator"],typeof t=="function"?t:null)}var $t=Object.assign,bw;function xf(t){if(bw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bw=e&&e[1]||""}return`
`+bw+t}var Ew=!1;function _w(t,e){if(!t||Ew)return"";Ew=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ew=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xf(t):""}function d4(t){switch(t.tag){case 5:return xf(t.type);case 16:return xf("Lazy");case 13:return xf("Suspense");case 19:return xf("SuspenseList");case 0:case 2:case 15:return t=_w(t.type,!1),t;case 11:return t=_w(t.type.render,!1),t;case 1:return t=_w(t.type,!0),t;default:return""}}function Lb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uu:return"Fragment";case lu:return"Portal";case $b:return"Profiler";case W_:return"StrictMode";case Db:return"Suspense";case Ub:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WP:return(t.displayName||"Context")+".Consumer";case zP:return(t._context.displayName||"Context")+".Provider";case q_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H_:return e=t.displayName||null,e!==null?e:Lb(t.type)||"Memo";case Qo:e=t._payload,t=t._init;try{return Lb(t(e))}catch{}}return null}function f4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lb(e);case 8:return e===W_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ha(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function HP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function h4(t){var e=HP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pg(t){t._valueTracker||(t._valueTracker=h4(t))}function VP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=HP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mb(t,e){var n=e.checked;return $t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ha(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function GP(t,e){e=e.checked,e!=null&&z_(t,"checked",e,!1)}function jb(t,e){GP(t,e);var n=Ha(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bb(t,e.type,Ha(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bb(t,e,n){(e!=="number"||Gm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sf=Array.isArray;function xu(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ha(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Fb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return $t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ES(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Sf(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ha(n)}}function KP(t,e){var n=Ha(e.value),r=Ha(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _S(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gg,ZP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gg=gg||document.createElement("div"),gg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p4=["Webkit","ms","Moz","O"];Object.keys(Bf).forEach(function(t){p4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bf[e]=Bf[t]})});function QP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bf.hasOwnProperty(t)&&Bf[t]?(""+e).trim():e+"px"}function XP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=QP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var g4=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wb(t,e){if(e){if(g4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function qb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hb=null;function V_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vb=null,Su=null,Au=null;function CS(t){if(t=Mp(t)){if(typeof Vb!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=c0(e),Vb(t.stateNode,t.type,e))}}function JP(t){Su?Au?Au.push(t):Au=[t]:Su=t}function eR(){if(Su){var t=Su,e=Au;if(Au=Su=null,CS(t),e)for(t=0;t<e.length;t++)CS(e[t])}}function tR(t,e){return t(e)}function nR(){}var Cw=!1;function rR(t,e,n){if(Cw)return t(e,n);Cw=!0;try{return tR(t,e,n)}finally{Cw=!1,(Su!==null||Au!==null)&&(nR(),eR())}}function mh(t,e){var n=t.stateNode;if(n===null)return null;var r=c0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Gb=!1;if(po)try{var qd={};Object.defineProperty(qd,"passive",{get:function(){Gb=!0}}),window.addEventListener("test",qd,qd),window.removeEventListener("test",qd,qd)}catch{Gb=!1}function m4(t,e,n,r,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var Ff=!1,Km=null,Ym=!1,Kb=null,y4={onError:function(t){Ff=!0,Km=t}};function w4(t,e,n,r,s,i,o,a,c){Ff=!1,Km=null,m4.apply(y4,arguments)}function v4(t,e,n,r,s,i,o,a,c){if(w4.apply(this,arguments),Ff){if(Ff){var l=Km;Ff=!1,Km=null}else throw Error(Q(198));Ym||(Ym=!0,Kb=l)}}function El(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xS(t){if(El(t)!==t)throw Error(Q(188))}function b4(t){var e=t.alternate;if(!e){if(e=El(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return xS(s),t;if(i===r)return xS(s),e;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function iR(t){return t=b4(t),t!==null?oR(t):null}function oR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oR(t);if(e!==null)return e;t=t.sibling}return null}var aR=Yr.unstable_scheduleCallback,SS=Yr.unstable_cancelCallback,E4=Yr.unstable_shouldYield,_4=Yr.unstable_requestPaint,jt=Yr.unstable_now,C4=Yr.unstable_getCurrentPriorityLevel,G_=Yr.unstable_ImmediatePriority,cR=Yr.unstable_UserBlockingPriority,Zm=Yr.unstable_NormalPriority,x4=Yr.unstable_LowPriority,lR=Yr.unstable_IdlePriority,s0=null,Ci=null;function S4(t){if(Ci&&typeof Ci.onCommitFiberRoot=="function")try{Ci.onCommitFiberRoot(s0,t,void 0,(t.current.flags&128)===128)}catch{}}var Vs=Math.clz32?Math.clz32:T4,A4=Math.log,I4=Math.LN2;function T4(t){return t>>>=0,t===0?32:31-(A4(t)/I4|0)|0}var mg=64,yg=4194304;function Af(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Af(a):(i&=o,i!==0&&(r=Af(i)))}else o=n&~s,o!==0?r=Af(o):i!==0&&(r=Af(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vs(e),s=1<<n,r|=t[n],e&=~s;return r}function N4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Vs(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=N4(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Yb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uR(){var t=mg;return mg<<=1,!(mg&4194240)&&(mg=64),t}function xw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Up(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vs(e),t[e]=n}function R4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Vs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function K_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var at=0;function dR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fR,Y_,hR,pR,gR,Zb=!1,wg=[],Ia=null,Ta=null,Na=null,yh=new Map,wh=new Map,ia=[],O4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AS(t,e){switch(t){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":yh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wh.delete(e.pointerId)}}function Hd(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Mp(e),e!==null&&Y_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function k4(t,e,n,r,s){switch(e){case"focusin":return Ia=Hd(Ia,t,e,n,r,s),!0;case"dragenter":return Ta=Hd(Ta,t,e,n,r,s),!0;case"mouseover":return Na=Hd(Na,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return yh.set(i,Hd(yh.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,wh.set(i,Hd(wh.get(i)||null,t,e,n,r,s)),!0}return!1}function mR(t){var e=Cc(t.target);if(e!==null){var n=El(e);if(n!==null){if(e=n.tag,e===13){if(e=sR(n),e!==null){t.blockedOn=e,gR(t.priority,function(){hR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hb=r,n.target.dispatchEvent(r),Hb=null}else return e=Mp(n),e!==null&&Y_(e),t.blockedOn=n,!1;e.shift()}return!0}function IS(t,e,n){wm(t)&&n.delete(e)}function $4(){Zb=!1,Ia!==null&&wm(Ia)&&(Ia=null),Ta!==null&&wm(Ta)&&(Ta=null),Na!==null&&wm(Na)&&(Na=null),yh.forEach(IS),wh.forEach(IS)}function Vd(t,e){t.blockedOn===e&&(t.blockedOn=null,Zb||(Zb=!0,Yr.unstable_scheduleCallback(Yr.unstable_NormalPriority,$4)))}function vh(t){function e(s){return Vd(s,t)}if(0<wg.length){Vd(wg[0],t);for(var n=1;n<wg.length;n++){var r=wg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ia!==null&&Vd(Ia,t),Ta!==null&&Vd(Ta,t),Na!==null&&Vd(Na,t),yh.forEach(e),wh.forEach(e),n=0;n<ia.length;n++)r=ia[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ia.length&&(n=ia[0],n.blockedOn===null);)mR(n),n.blockedOn===null&&ia.shift()}var Iu=xo.ReactCurrentBatchConfig,Xm=!0;function D4(t,e,n,r){var s=at,i=Iu.transition;Iu.transition=null;try{at=1,Z_(t,e,n,r)}finally{at=s,Iu.transition=i}}function U4(t,e,n,r){var s=at,i=Iu.transition;Iu.transition=null;try{at=4,Z_(t,e,n,r)}finally{at=s,Iu.transition=i}}function Z_(t,e,n,r){if(Xm){var s=Qb(t,e,n,r);if(s===null)$w(t,e,r,Jm,n),AS(t,r);else if(k4(s,t,e,n,r))r.stopPropagation();else if(AS(t,r),e&4&&-1<O4.indexOf(t)){for(;s!==null;){var i=Mp(s);if(i!==null&&fR(i),i=Qb(t,e,n,r),i===null&&$w(t,e,r,Jm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $w(t,e,r,null,n)}}var Jm=null;function Qb(t,e,n,r){if(Jm=null,t=V_(r),t=Cc(t),t!==null)if(e=El(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jm=t,null}function yR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C4()){case G_:return 1;case cR:return 4;case Zm:case x4:return 16;case lR:return 536870912;default:return 16}default:return 16}}var ba=null,Q_=null,vm=null;function wR(){if(vm)return vm;var t,e=Q_,n=e.length,r,s="value"in ba?ba.value:ba.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return vm=s.slice(t,1<r?1-r:void 0)}function bm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vg(){return!0}function TS(){return!1}function Xr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vg:TS,this.isPropagationStopped=TS,this}return $t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vg)},persist:function(){},isPersistent:vg}),e}var wd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},X_=Xr(wd),Lp=$t({},wd,{view:0,detail:0}),L4=Xr(Lp),Sw,Aw,Gd,i0=$t({},Lp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:J_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gd&&(Gd&&t.type==="mousemove"?(Sw=t.screenX-Gd.screenX,Aw=t.screenY-Gd.screenY):Aw=Sw=0,Gd=t),Sw)},movementY:function(t){return"movementY"in t?t.movementY:Aw}}),NS=Xr(i0),M4=$t({},i0,{dataTransfer:0}),j4=Xr(M4),B4=$t({},Lp,{relatedTarget:0}),Iw=Xr(B4),F4=$t({},wd,{animationName:0,elapsedTime:0,pseudoElement:0}),z4=Xr(F4),W4=$t({},wd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),q4=Xr(W4),H4=$t({},wd,{data:0}),PS=Xr(H4),V4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=K4[t])?!!e[t]:!1}function J_(){return Y4}var Z4=$t({},Lp,{key:function(t){if(t.key){var e=V4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:J_,charCode:function(t){return t.type==="keypress"?bm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Q4=Xr(Z4),X4=$t({},i0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RS=Xr(X4),J4=$t({},Lp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:J_}),eU=Xr(J4),tU=$t({},wd,{propertyName:0,elapsedTime:0,pseudoElement:0}),nU=Xr(tU),rU=$t({},i0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sU=Xr(rU),iU=[9,13,27,32],eC=po&&"CompositionEvent"in window,zf=null;po&&"documentMode"in document&&(zf=document.documentMode);var oU=po&&"TextEvent"in window&&!zf,vR=po&&(!eC||zf&&8<zf&&11>=zf),OS=" ",kS=!1;function bR(t,e){switch(t){case"keyup":return iU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ER(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var du=!1;function aU(t,e){switch(t){case"compositionend":return ER(e);case"keypress":return e.which!==32?null:(kS=!0,OS);case"textInput":return t=e.data,t===OS&&kS?null:t;default:return null}}function cU(t,e){if(du)return t==="compositionend"||!eC&&bR(t,e)?(t=wR(),vm=Q_=ba=null,du=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vR&&e.locale!=="ko"?null:e.data;default:return null}}var lU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $S(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lU[t.type]:e==="textarea"}function _R(t,e,n,r){JP(r),e=ey(e,"onChange"),0<e.length&&(n=new X_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wf=null,bh=null;function uU(t){kR(t,0)}function o0(t){var e=pu(t);if(VP(e))return t}function dU(t,e){if(t==="change")return e}var CR=!1;if(po){var Tw;if(po){var Nw="oninput"in document;if(!Nw){var DS=document.createElement("div");DS.setAttribute("oninput","return;"),Nw=typeof DS.oninput=="function"}Tw=Nw}else Tw=!1;CR=Tw&&(!document.documentMode||9<document.documentMode)}function US(){Wf&&(Wf.detachEvent("onpropertychange",xR),bh=Wf=null)}function xR(t){if(t.propertyName==="value"&&o0(bh)){var e=[];_R(e,bh,t,V_(t)),rR(uU,e)}}function fU(t,e,n){t==="focusin"?(US(),Wf=e,bh=n,Wf.attachEvent("onpropertychange",xR)):t==="focusout"&&US()}function hU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return o0(bh)}function pU(t,e){if(t==="click")return o0(e)}function gU(t,e){if(t==="input"||t==="change")return o0(e)}function mU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qs=typeof Object.is=="function"?Object.is:mU;function Eh(t,e){if(Qs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!kb.call(e,s)||!Qs(t[s],e[s]))return!1}return!0}function LS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function MS(t,e){var n=LS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=LS(n)}}function SR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?SR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AR(){for(var t=window,e=Gm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gm(t.document)}return e}function tC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yU(t){var e=AR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&SR(n.ownerDocument.documentElement,n)){if(r!==null&&tC(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=MS(n,i);var o=MS(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wU=po&&"documentMode"in document&&11>=document.documentMode,fu=null,Xb=null,qf=null,Jb=!1;function jS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jb||fu==null||fu!==Gm(r)||(r=fu,"selectionStart"in r&&tC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qf&&Eh(qf,r)||(qf=r,r=ey(Xb,"onSelect"),0<r.length&&(e=new X_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fu)))}function bg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hu={animationend:bg("Animation","AnimationEnd"),animationiteration:bg("Animation","AnimationIteration"),animationstart:bg("Animation","AnimationStart"),transitionend:bg("Transition","TransitionEnd")},Pw={},IR={};po&&(IR=document.createElement("div").style,"AnimationEvent"in window||(delete hu.animationend.animation,delete hu.animationiteration.animation,delete hu.animationstart.animation),"TransitionEvent"in window||delete hu.transitionend.transition);function a0(t){if(Pw[t])return Pw[t];if(!hu[t])return t;var e=hu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IR)return Pw[t]=e[n];return t}var TR=a0("animationend"),NR=a0("animationiteration"),PR=a0("animationstart"),RR=a0("transitionend"),OR=new Map,BS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nc(t,e){OR.set(t,e),bl(e,[t])}for(var Rw=0;Rw<BS.length;Rw++){var Ow=BS[Rw],vU=Ow.toLowerCase(),bU=Ow[0].toUpperCase()+Ow.slice(1);nc(vU,"on"+bU)}nc(TR,"onAnimationEnd");nc(NR,"onAnimationIteration");nc(PR,"onAnimationStart");nc("dblclick","onDoubleClick");nc("focusin","onFocus");nc("focusout","onBlur");nc(RR,"onTransitionEnd");Zu("onMouseEnter",["mouseout","mouseover"]);Zu("onMouseLeave",["mouseout","mouseover"]);Zu("onPointerEnter",["pointerout","pointerover"]);Zu("onPointerLeave",["pointerout","pointerover"]);bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var If="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EU=new Set("cancel close invalid load scroll toggle".split(" ").concat(If));function FS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,v4(r,e,void 0,t),t.currentTarget=null}function kR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;FS(s,a,l),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;FS(s,a,l),i=c}}}if(Ym)throw t=Kb,Ym=!1,Kb=null,t}function _t(t,e){var n=e[s1];n===void 0&&(n=e[s1]=new Set);var r=t+"__bubble";n.has(r)||($R(e,t,2,!1),n.add(r))}function kw(t,e,n){var r=0;e&&(r|=4),$R(n,t,r,e)}var Eg="_reactListening"+Math.random().toString(36).slice(2);function _h(t){if(!t[Eg]){t[Eg]=!0,FP.forEach(function(n){n!=="selectionchange"&&(EU.has(n)||kw(n,!1,t),kw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eg]||(e[Eg]=!0,kw("selectionchange",!1,e))}}function $R(t,e,n,r){switch(yR(e)){case 1:var s=D4;break;case 4:s=U4;break;default:s=Z_}n=s.bind(null,e,n,t),s=void 0,!Gb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function $w(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Cc(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}rR(function(){var l=i,u=V_(n),d=[];e:{var f=OR.get(t);if(f!==void 0){var h=X_,p=t;switch(t){case"keypress":if(bm(n)===0)break e;case"keydown":case"keyup":h=Q4;break;case"focusin":p="focus",h=Iw;break;case"focusout":p="blur",h=Iw;break;case"beforeblur":case"afterblur":h=Iw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=NS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=j4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=eU;break;case TR:case NR:case PR:h=z4;break;case RR:h=nU;break;case"scroll":h=L4;break;case"wheel":h=sU;break;case"copy":case"cut":case"paste":h=q4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=RS}var g=(e&4)!==0,w=!g&&t==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var y=l,v;y!==null;){v=y;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,m!==null&&(_=mh(y,m),_!=null&&g.push(Ch(y,_,v)))),w)break;y=y.return}0<g.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Hb&&(p=n.relatedTarget||n.fromElement)&&(Cc(p)||p[go]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?Cc(p):null,p!==null&&(w=El(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(g=NS,_="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=RS,_="onPointerLeave",m="onPointerEnter",y="pointer"),w=h==null?f:pu(h),v=p==null?f:pu(p),f=new g(_,y+"leave",h,n,u),f.target=w,f.relatedTarget=v,_=null,Cc(u)===l&&(g=new g(m,y+"enter",p,n,u),g.target=v,g.relatedTarget=w,_=g),w=_,h&&p)t:{for(g=h,m=p,y=0,v=g;v;v=kl(v))y++;for(v=0,_=m;_;_=kl(_))v++;for(;0<y-v;)g=kl(g),y--;for(;0<v-y;)m=kl(m),v--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=kl(g),m=kl(m)}g=null}else g=null;h!==null&&zS(d,f,h,g,!1),p!==null&&w!==null&&zS(d,w,p,g,!0)}}e:{if(f=l?pu(l):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=dU;else if($S(f))if(CR)E=gU;else{E=hU;var x=fU}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=pU);if(E&&(E=E(t,l))){_R(d,E,n,u);break e}x&&x(t,f,l),t==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&Bb(f,"number",f.value)}switch(x=l?pu(l):window,t){case"focusin":($S(x)||x.contentEditable==="true")&&(fu=x,Xb=l,qf=null);break;case"focusout":qf=Xb=fu=null;break;case"mousedown":Jb=!0;break;case"contextmenu":case"mouseup":case"dragend":Jb=!1,jS(d,n,u);break;case"selectionchange":if(wU)break;case"keydown":case"keyup":jS(d,n,u)}var S;if(eC)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else du?bR(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(vR&&n.locale!=="ko"&&(du||T!=="onCompositionStart"?T==="onCompositionEnd"&&du&&(S=wR()):(ba=u,Q_="value"in ba?ba.value:ba.textContent,du=!0)),x=ey(l,T),0<x.length&&(T=new PS(T,t,null,n,u),d.push({event:T,listeners:x}),S?T.data=S:(S=ER(n),S!==null&&(T.data=S)))),(S=oU?aU(t,n):cU(t,n))&&(l=ey(l,"onBeforeInput"),0<l.length&&(u=new PS("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=S))}kR(d,e)})}function Ch(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ey(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=mh(t,n),i!=null&&r.unshift(Ch(t,i,s)),i=mh(t,e),i!=null&&r.push(Ch(t,i,s))),t=t.return}return r}function kl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zS(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,s?(c=mh(n,i),c!=null&&o.unshift(Ch(n,c,a))):s||(c=mh(n,i),c!=null&&o.push(Ch(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _U=/\r\n?/g,CU=/\u0000|\uFFFD/g;function WS(t){return(typeof t=="string"?t:""+t).replace(_U,`
`).replace(CU,"")}function _g(t,e,n){if(e=WS(e),WS(t)!==e&&n)throw Error(Q(425))}function ty(){}var e1=null,t1=null;function n1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var r1=typeof setTimeout=="function"?setTimeout:void 0,xU=typeof clearTimeout=="function"?clearTimeout:void 0,qS=typeof Promise=="function"?Promise:void 0,SU=typeof queueMicrotask=="function"?queueMicrotask:typeof qS<"u"?function(t){return qS.resolve(null).then(t).catch(AU)}:r1;function AU(t){setTimeout(function(){throw t})}function Dw(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),vh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vh(e)}function Pa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function HS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vd=Math.random().toString(36).slice(2),bi="__reactFiber$"+vd,xh="__reactProps$"+vd,go="__reactContainer$"+vd,s1="__reactEvents$"+vd,IU="__reactListeners$"+vd,TU="__reactHandles$"+vd;function Cc(t){var e=t[bi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[go]||n[bi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=HS(t);t!==null;){if(n=t[bi])return n;t=HS(t)}return e}t=n,n=t.parentNode}return null}function Mp(t){return t=t[bi]||t[go],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function c0(t){return t[xh]||null}var i1=[],gu=-1;function rc(t){return{current:t}}function St(t){0>gu||(t.current=i1[gu],i1[gu]=null,gu--)}function vt(t,e){gu++,i1[gu]=t.current,t.current=e}var Va={},Wn=rc(Va),Ar=rc(!1),Zc=Va;function Qu(t,e){var n=t.type.contextTypes;if(!n)return Va;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ir(t){return t=t.childContextTypes,t!=null}function ny(){St(Ar),St(Wn)}function VS(t,e,n){if(Wn.current!==Va)throw Error(Q(168));vt(Wn,e),vt(Ar,n)}function DR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Q(108,f4(t)||"Unknown",s));return $t({},n,r)}function ry(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Va,Zc=Wn.current,vt(Wn,t),vt(Ar,Ar.current),!0}function GS(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=DR(t,e,Zc),r.__reactInternalMemoizedMergedChildContext=t,St(Ar),St(Wn),vt(Wn,t)):St(Ar),vt(Ar,n)}var Qi=null,l0=!1,Uw=!1;function UR(t){Qi===null?Qi=[t]:Qi.push(t)}function NU(t){l0=!0,UR(t)}function sc(){if(!Uw&&Qi!==null){Uw=!0;var t=0,e=at;try{var n=Qi;for(at=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qi=null,l0=!1}catch(s){throw Qi!==null&&(Qi=Qi.slice(t+1)),aR(G_,sc),s}finally{at=e,Uw=!1}}return null}var mu=[],yu=0,sy=null,iy=0,fs=[],hs=0,Qc=null,so=1,io="";function gc(t,e){mu[yu++]=iy,mu[yu++]=sy,sy=t,iy=e}function LR(t,e,n){fs[hs++]=so,fs[hs++]=io,fs[hs++]=Qc,Qc=t;var r=so;t=io;var s=32-Vs(r)-1;r&=~(1<<s),n+=1;var i=32-Vs(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,so=1<<32-Vs(e)+s|n<<s|r,io=i+t}else so=1<<i|n<<s|r,io=t}function nC(t){t.return!==null&&(gc(t,1),LR(t,1,0))}function rC(t){for(;t===sy;)sy=mu[--yu],mu[yu]=null,iy=mu[--yu],mu[yu]=null;for(;t===Qc;)Qc=fs[--hs],fs[hs]=null,io=fs[--hs],fs[hs]=null,so=fs[--hs],fs[hs]=null}var Vr=null,qr=null,It=!1,js=null;function MR(t,e){var n=ps(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function KS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vr=t,qr=Pa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vr=t,qr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qc!==null?{id:so,overflow:io}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ps(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vr=t,qr=null,!0):!1;default:return!1}}function o1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function a1(t){if(It){var e=qr;if(e){var n=e;if(!KS(t,e)){if(o1(t))throw Error(Q(418));e=Pa(n.nextSibling);var r=Vr;e&&KS(t,e)?MR(r,n):(t.flags=t.flags&-4097|2,It=!1,Vr=t)}}else{if(o1(t))throw Error(Q(418));t.flags=t.flags&-4097|2,It=!1,Vr=t}}}function YS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vr=t}function Cg(t){if(t!==Vr)return!1;if(!It)return YS(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!n1(t.type,t.memoizedProps)),e&&(e=qr)){if(o1(t))throw jR(),Error(Q(418));for(;e;)MR(t,e),e=Pa(e.nextSibling)}if(YS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qr=Pa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qr=null}}else qr=Vr?Pa(t.stateNode.nextSibling):null;return!0}function jR(){for(var t=qr;t;)t=Pa(t.nextSibling)}function Xu(){qr=Vr=null,It=!1}function sC(t){js===null?js=[t]:js.push(t)}var PU=xo.ReactCurrentBatchConfig;function Kd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function xg(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ZS(t){var e=t._init;return e(t._payload)}function BR(t){function e(m,y){if(t){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function s(m,y){return m=$a(m,y),m.index=0,m.sibling=null,m}function i(m,y,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,v,_){return y===null||y.tag!==6?(y=Ww(v,m.mode,_),y.return=m,y):(y=s(y,v),y.return=m,y)}function c(m,y,v,_){var E=v.type;return E===uu?u(m,y,v.props.children,_,v.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qo&&ZS(E)===y.type)?(_=s(y,v.props),_.ref=Kd(m,y,v),_.return=m,_):(_=Im(v.type,v.key,v.props,null,m.mode,_),_.ref=Kd(m,y,v),_.return=m,_)}function l(m,y,v,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=qw(v,m.mode,_),y.return=m,y):(y=s(y,v.children||[]),y.return=m,y)}function u(m,y,v,_,E){return y===null||y.tag!==7?(y=Hc(v,m.mode,_,E),y.return=m,y):(y=s(y,v),y.return=m,y)}function d(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ww(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hg:return v=Im(y.type,y.key,y.props,null,m.mode,v),v.ref=Kd(m,null,y),v.return=m,v;case lu:return y=qw(y,m.mode,v),y.return=m,y;case Qo:var _=y._init;return d(m,_(y._payload),v)}if(Sf(y)||Wd(y))return y=Hc(y,m.mode,v,null),y.return=m,y;xg(m,y)}return null}function f(m,y,v,_){var E=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(m,y,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hg:return v.key===E?c(m,y,v,_):null;case lu:return v.key===E?l(m,y,v,_):null;case Qo:return E=v._init,f(m,y,E(v._payload),_)}if(Sf(v)||Wd(v))return E!==null?null:u(m,y,v,_,null);xg(m,v)}return null}function h(m,y,v,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(v)||null,a(y,m,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case hg:return m=m.get(_.key===null?v:_.key)||null,c(y,m,_,E);case lu:return m=m.get(_.key===null?v:_.key)||null,l(y,m,_,E);case Qo:var x=_._init;return h(m,y,v,x(_._payload),E)}if(Sf(_)||Wd(_))return m=m.get(v)||null,u(y,m,_,E,null);xg(y,_)}return null}function p(m,y,v,_){for(var E=null,x=null,S=y,T=y=0,C=null;S!==null&&T<v.length;T++){S.index>T?(C=S,S=null):C=S.sibling;var R=f(m,S,v[T],_);if(R===null){S===null&&(S=C);break}t&&S&&R.alternate===null&&e(m,S),y=i(R,y,T),x===null?E=R:x.sibling=R,x=R,S=C}if(T===v.length)return n(m,S),It&&gc(m,T),E;if(S===null){for(;T<v.length;T++)S=d(m,v[T],_),S!==null&&(y=i(S,y,T),x===null?E=S:x.sibling=S,x=S);return It&&gc(m,T),E}for(S=r(m,S);T<v.length;T++)C=h(S,m,T,v[T],_),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?T:C.key),y=i(C,y,T),x===null?E=C:x.sibling=C,x=C);return t&&S.forEach(function(O){return e(m,O)}),It&&gc(m,T),E}function g(m,y,v,_){var E=Wd(v);if(typeof E!="function")throw Error(Q(150));if(v=E.call(v),v==null)throw Error(Q(151));for(var x=E=null,S=y,T=y=0,C=null,R=v.next();S!==null&&!R.done;T++,R=v.next()){S.index>T?(C=S,S=null):C=S.sibling;var O=f(m,S,R.value,_);if(O===null){S===null&&(S=C);break}t&&S&&O.alternate===null&&e(m,S),y=i(O,y,T),x===null?E=O:x.sibling=O,x=O,S=C}if(R.done)return n(m,S),It&&gc(m,T),E;if(S===null){for(;!R.done;T++,R=v.next())R=d(m,R.value,_),R!==null&&(y=i(R,y,T),x===null?E=R:x.sibling=R,x=R);return It&&gc(m,T),E}for(S=r(m,S);!R.done;T++,R=v.next())R=h(S,m,T,R.value,_),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?T:R.key),y=i(R,y,T),x===null?E=R:x.sibling=R,x=R);return t&&S.forEach(function(L){return e(m,L)}),It&&gc(m,T),E}function w(m,y,v,_){if(typeof v=="object"&&v!==null&&v.type===uu&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case hg:e:{for(var E=v.key,x=y;x!==null;){if(x.key===E){if(E=v.type,E===uu){if(x.tag===7){n(m,x.sibling),y=s(x,v.props.children),y.return=m,m=y;break e}}else if(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qo&&ZS(E)===x.type){n(m,x.sibling),y=s(x,v.props),y.ref=Kd(m,x,v),y.return=m,m=y;break e}n(m,x);break}else e(m,x);x=x.sibling}v.type===uu?(y=Hc(v.props.children,m.mode,_,v.key),y.return=m,m=y):(_=Im(v.type,v.key,v.props,null,m.mode,_),_.ref=Kd(m,y,v),_.return=m,m=_)}return o(m);case lu:e:{for(x=v.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(m,y.sibling),y=s(y,v.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=qw(v,m.mode,_),y.return=m,m=y}return o(m);case Qo:return x=v._init,w(m,y,x(v._payload),_)}if(Sf(v))return p(m,y,v,_);if(Wd(v))return g(m,y,v,_);xg(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(m,y.sibling),y=s(y,v),y.return=m,m=y):(n(m,y),y=Ww(v,m.mode,_),y.return=m,m=y),o(m)):n(m,y)}return w}var Ju=BR(!0),FR=BR(!1),oy=rc(null),ay=null,wu=null,iC=null;function oC(){iC=wu=ay=null}function aC(t){var e=oy.current;St(oy),t._currentValue=e}function c1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Tu(t,e){ay=t,iC=wu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xr=!0),t.firstContext=null)}function ws(t){var e=t._currentValue;if(iC!==t)if(t={context:t,memoizedValue:e,next:null},wu===null){if(ay===null)throw Error(Q(308));wu=t,ay.dependencies={lanes:0,firstContext:t}}else wu=wu.next=t;return e}var xc=null;function cC(t){xc===null?xc=[t]:xc.push(t)}function zR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,cC(e)):(n.next=s.next,s.next=n),e.interleaved=n,mo(t,r)}function mo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xo=!1;function lC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ao(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ra(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,mo(t,n)}return s=r.interleaved,s===null?(e.next=e,cC(r)):(e.next=s.next,s.next=e),r.interleaved=e,mo(t,n)}function Em(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,K_(t,n)}}function QS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cy(t,e,n,r){var s=t.updateQueue;Xo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,u=l=c=null,a=i;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(f=e,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=$t({},d,f);break e;case 2:Xo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=d):u=u.next=h,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=d),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Jc|=o,t.lanes=o,t.memoizedState=d}}function XS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var jp={},xi=rc(jp),Sh=rc(jp),Ah=rc(jp);function Sc(t){if(t===jp)throw Error(Q(174));return t}function uC(t,e){switch(vt(Ah,e),vt(Sh,t),vt(xi,jp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zb(e,t)}St(xi),vt(xi,e)}function ed(){St(xi),St(Sh),St(Ah)}function qR(t){Sc(Ah.current);var e=Sc(xi.current),n=zb(e,t.type);e!==n&&(vt(Sh,t),vt(xi,n))}function dC(t){Sh.current===t&&(St(xi),St(Sh))}var Rt=rc(0);function ly(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lw=[];function fC(){for(var t=0;t<Lw.length;t++)Lw[t]._workInProgressVersionPrimary=null;Lw.length=0}var _m=xo.ReactCurrentDispatcher,Mw=xo.ReactCurrentBatchConfig,Xc=0,kt=null,Jt=null,cn=null,uy=!1,Hf=!1,Ih=0,RU=0;function Rn(){throw Error(Q(321))}function hC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qs(t[n],e[n]))return!1;return!0}function pC(t,e,n,r,s,i){if(Xc=i,kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_m.current=t===null||t.memoizedState===null?DU:UU,t=n(r,s),Hf){i=0;do{if(Hf=!1,Ih=0,25<=i)throw Error(Q(301));i+=1,cn=Jt=null,e.updateQueue=null,_m.current=LU,t=n(r,s)}while(Hf)}if(_m.current=dy,e=Jt!==null&&Jt.next!==null,Xc=0,cn=Jt=kt=null,uy=!1,e)throw Error(Q(300));return t}function gC(){var t=Ih!==0;return Ih=0,t}function ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?kt.memoizedState=cn=t:cn=cn.next=t,cn}function vs(){if(Jt===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=cn===null?kt.memoizedState:cn.next;if(e!==null)cn=e,Jt=t;else{if(t===null)throw Error(Q(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},cn===null?kt.memoizedState=cn=t:cn=cn.next=t}return cn}function Th(t,e){return typeof e=="function"?e(t):e}function jw(t){var e=vs(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,l=i;do{var u=l.lane;if((Xc&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,kt.lanes|=u,Jc|=u}l=l.next}while(l!==null&&l!==i);c===null?o=r:c.next=a,Qs(r,e.memoizedState)||(xr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,kt.lanes|=i,Jc|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bw(t){var e=vs(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Qs(i,e.memoizedState)||(xr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function HR(){}function VR(t,e){var n=kt,r=vs(),s=e(),i=!Qs(r.memoizedState,s);if(i&&(r.memoizedState=s,xr=!0),r=r.queue,mC(YR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||cn!==null&&cn.memoizedState.tag&1){if(n.flags|=2048,Nh(9,KR.bind(null,n,r,s,e),void 0,null),fn===null)throw Error(Q(349));Xc&30||GR(n,e,s)}return s}function GR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KR(t,e,n,r){e.value=n,e.getSnapshot=r,ZR(e)&&QR(t)}function YR(t,e,n){return n(function(){ZR(e)&&QR(t)})}function ZR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qs(t,n)}catch{return!0}}function QR(t){var e=mo(t,1);e!==null&&Gs(e,t,1,-1)}function JS(t){var e=ui();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Th,lastRenderedState:t},e.queue=t,t=t.dispatch=$U.bind(null,kt,t),[e.memoizedState,t]}function Nh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function XR(){return vs().memoizedState}function Cm(t,e,n,r){var s=ui();kt.flags|=t,s.memoizedState=Nh(1|e,n,void 0,r===void 0?null:r)}function u0(t,e,n,r){var s=vs();r=r===void 0?null:r;var i=void 0;if(Jt!==null){var o=Jt.memoizedState;if(i=o.destroy,r!==null&&hC(r,o.deps)){s.memoizedState=Nh(e,n,i,r);return}}kt.flags|=t,s.memoizedState=Nh(1|e,n,i,r)}function e2(t,e){return Cm(8390656,8,t,e)}function mC(t,e){return u0(2048,8,t,e)}function JR(t,e){return u0(4,2,t,e)}function eO(t,e){return u0(4,4,t,e)}function tO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nO(t,e,n){return n=n!=null?n.concat([t]):null,u0(4,4,tO.bind(null,e,t),n)}function yC(){}function rO(t,e){var n=vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sO(t,e){var n=vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iO(t,e,n){return Xc&21?(Qs(n,e)||(n=uR(),kt.lanes|=n,Jc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xr=!0),t.memoizedState=n)}function OU(t,e){var n=at;at=n!==0&&4>n?n:4,t(!0);var r=Mw.transition;Mw.transition={};try{t(!1),e()}finally{at=n,Mw.transition=r}}function oO(){return vs().memoizedState}function kU(t,e,n){var r=ka(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aO(t))cO(e,n);else if(n=zR(t,e,n,r),n!==null){var s=Jn();Gs(n,t,r,s),lO(n,e,r)}}function $U(t,e,n){var r=ka(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aO(t))cO(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Qs(a,o)){var c=e.interleaved;c===null?(s.next=s,cC(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=zR(t,e,s,r),n!==null&&(s=Jn(),Gs(n,t,r,s),lO(n,e,r))}}function aO(t){var e=t.alternate;return t===kt||e!==null&&e===kt}function cO(t,e){Hf=uy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,K_(t,n)}}var dy={readContext:ws,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},DU={readContext:ws,useCallback:function(t,e){return ui().memoizedState=[t,e===void 0?null:e],t},useContext:ws,useEffect:e2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cm(4194308,4,tO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cm(4,2,t,e)},useMemo:function(t,e){var n=ui();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ui();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kU.bind(null,kt,t),[r.memoizedState,t]},useRef:function(t){var e=ui();return t={current:t},e.memoizedState=t},useState:JS,useDebugValue:yC,useDeferredValue:function(t){return ui().memoizedState=t},useTransition:function(){var t=JS(!1),e=t[0];return t=OU.bind(null,t[1]),ui().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=kt,s=ui();if(It){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),fn===null)throw Error(Q(349));Xc&30||GR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,e2(YR.bind(null,r,i,t),[t]),r.flags|=2048,Nh(9,KR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ui(),e=fn.identifierPrefix;if(It){var n=io,r=so;n=(r&~(1<<32-Vs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ih++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UU={readContext:ws,useCallback:rO,useContext:ws,useEffect:mC,useImperativeHandle:nO,useInsertionEffect:JR,useLayoutEffect:eO,useMemo:sO,useReducer:jw,useRef:XR,useState:function(){return jw(Th)},useDebugValue:yC,useDeferredValue:function(t){var e=vs();return iO(e,Jt.memoizedState,t)},useTransition:function(){var t=jw(Th)[0],e=vs().memoizedState;return[t,e]},useMutableSource:HR,useSyncExternalStore:VR,useId:oO,unstable_isNewReconciler:!1},LU={readContext:ws,useCallback:rO,useContext:ws,useEffect:mC,useImperativeHandle:nO,useInsertionEffect:JR,useLayoutEffect:eO,useMemo:sO,useReducer:Bw,useRef:XR,useState:function(){return Bw(Th)},useDebugValue:yC,useDeferredValue:function(t){var e=vs();return Jt===null?e.memoizedState=t:iO(e,Jt.memoizedState,t)},useTransition:function(){var t=Bw(Th)[0],e=vs().memoizedState;return[t,e]},useMutableSource:HR,useSyncExternalStore:VR,useId:oO,unstable_isNewReconciler:!1};function Ds(t,e){if(t&&t.defaultProps){e=$t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function l1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var d0={isMounted:function(t){return(t=t._reactInternals)?El(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jn(),s=ka(t),i=ao(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ra(t,i,s),e!==null&&(Gs(e,t,s,r),Em(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jn(),s=ka(t),i=ao(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ra(t,i,s),e!==null&&(Gs(e,t,s,r),Em(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jn(),r=ka(t),s=ao(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ra(t,s,r),e!==null&&(Gs(e,t,r,n),Em(e,t,r))}};function t2(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Eh(n,r)||!Eh(s,i):!0}function uO(t,e,n){var r=!1,s=Va,i=e.contextType;return typeof i=="object"&&i!==null?i=ws(i):(s=Ir(e)?Zc:Wn.current,r=e.contextTypes,i=(r=r!=null)?Qu(t,s):Va),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=d0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function n2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&d0.enqueueReplaceState(e,e.state,null)}function u1(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},lC(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ws(i):(i=Ir(e)?Zc:Wn.current,s.context=Qu(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(l1(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&d0.enqueueReplaceState(s,s.state,null),cy(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function td(t,e){try{var n="",r=e;do n+=d4(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Fw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function d1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var MU=typeof WeakMap=="function"?WeakMap:Map;function dO(t,e,n){n=ao(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hy||(hy=!0,E1=r),d1(t,e)},n}function fO(t,e,n){n=ao(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){d1(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){d1(t,e),typeof r!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function r2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new MU;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=XU.bind(null,t,e,n),e.then(t,t))}function s2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function i2(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ao(-1,1),e.tag=2,Ra(n,e,1))),n.lanes|=1),t)}var jU=xo.ReactCurrentOwner,xr=!1;function Zn(t,e,n,r){e.child=t===null?FR(e,null,n,r):Ju(e,t.child,n,r)}function o2(t,e,n,r,s){n=n.render;var i=e.ref;return Tu(e,s),r=pC(t,e,n,r,i,s),n=gC(),t!==null&&!xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yo(t,e,s)):(It&&n&&nC(e),e.flags|=1,Zn(t,e,r,s),e.child)}function a2(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!SC(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,hO(t,e,i,r,s)):(t=Im(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Eh,n(o,r)&&t.ref===e.ref)return yo(t,e,s)}return e.flags|=1,t=$a(i,r),t.ref=e.ref,t.return=e,e.child=t}function hO(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Eh(i,r)&&t.ref===e.ref)if(xr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(xr=!0);else return e.lanes=t.lanes,yo(t,e,s)}return f1(t,e,n,r,s)}function pO(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(bu,Br),Br|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,vt(bu,Br),Br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,vt(bu,Br),Br|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,vt(bu,Br),Br|=r;return Zn(t,e,s,n),e.child}function gO(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function f1(t,e,n,r,s){var i=Ir(n)?Zc:Wn.current;return i=Qu(e,i),Tu(e,s),n=pC(t,e,n,r,i,s),r=gC(),t!==null&&!xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yo(t,e,s)):(It&&r&&nC(e),e.flags|=1,Zn(t,e,n,s),e.child)}function c2(t,e,n,r,s){if(Ir(n)){var i=!0;ry(e)}else i=!1;if(Tu(e,s),e.stateNode===null)xm(t,e),uO(e,n,r),u1(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=ws(l):(l=Ir(n)?Zc:Wn.current,l=Qu(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&n2(e,o,r,l),Xo=!1;var f=e.memoizedState;o.state=f,cy(e,r,o,s),c=e.memoizedState,a!==r||f!==c||Ar.current||Xo?(typeof u=="function"&&(l1(e,n,u,r),c=e.memoizedState),(a=Xo||t2(e,n,a,r,f,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,WR(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Ds(e.type,a),o.props=l,d=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ws(c):(c=Ir(n)?Zc:Wn.current,c=Qu(e,c));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==c)&&n2(e,o,r,c),Xo=!1,f=e.memoizedState,o.state=f,cy(e,r,o,s);var p=e.memoizedState;a!==d||f!==p||Ar.current||Xo?(typeof h=="function"&&(l1(e,n,h,r),p=e.memoizedState),(l=Xo||t2(e,n,l,r,f,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return h1(t,e,n,r,i,s)}function h1(t,e,n,r,s,i){gO(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&GS(e,n,!1),yo(t,e,i);r=e.stateNode,jU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ju(e,t.child,null,i),e.child=Ju(e,null,a,i)):Zn(t,e,a,i),e.memoizedState=r.state,s&&GS(e,n,!0),e.child}function mO(t){var e=t.stateNode;e.pendingContext?VS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VS(t,e.context,!1),uC(t,e.containerInfo)}function l2(t,e,n,r,s){return Xu(),sC(s),e.flags|=256,Zn(t,e,n,r),e.child}var p1={dehydrated:null,treeContext:null,retryLane:0};function g1(t){return{baseLanes:t,cachePool:null,transitions:null}}function yO(t,e,n){var r=e.pendingProps,s=Rt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),vt(Rt,s&1),t===null)return a1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=p0(o,r,0,null),t=Hc(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=g1(n),e.memoizedState=p1,t):wC(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return BU(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=$a(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=$a(a,i):(i=Hc(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?g1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=p1,r}return i=t.child,t=i.sibling,r=$a(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wC(t,e){return e=p0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sg(t,e,n,r){return r!==null&&sC(r),Ju(e,t.child,null,n),t=wC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BU(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Fw(Error(Q(422))),Sg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=p0({mode:"visible",children:r.children},s,0,null),i=Hc(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ju(e,t.child,null,o),e.child.memoizedState=g1(o),e.memoizedState=p1,i);if(!(e.mode&1))return Sg(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Q(419)),r=Fw(i,r,void 0),Sg(t,e,o,r)}if(a=(o&t.childLanes)!==0,xr||a){if(r=fn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mo(t,s),Gs(r,t,s,-1))}return xC(),r=Fw(Error(Q(421))),Sg(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=JU.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,qr=Pa(s.nextSibling),Vr=e,It=!0,js=null,t!==null&&(fs[hs++]=so,fs[hs++]=io,fs[hs++]=Qc,so=t.id,io=t.overflow,Qc=e),e=wC(e,r.children),e.flags|=4096,e)}function u2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),c1(t.return,e,n)}function zw(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wO(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Zn(t,e,r.children,n),r=Rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u2(t,n,e);else if(t.tag===19)u2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(vt(Rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ly(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),zw(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ly(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}zw(e,!0,n,null,i);break;case"together":zw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=$a(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$a(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FU(t,e,n){switch(e.tag){case 3:mO(e),Xu();break;case 5:qR(e);break;case 1:Ir(e.type)&&ry(e);break;case 4:uC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;vt(oy,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(vt(Rt,Rt.current&1),e.flags|=128,null):n&e.child.childLanes?yO(t,e,n):(vt(Rt,Rt.current&1),t=yo(t,e,n),t!==null?t.sibling:null);vt(Rt,Rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wO(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),vt(Rt,Rt.current),r)break;return null;case 22:case 23:return e.lanes=0,pO(t,e,n)}return yo(t,e,n)}var vO,m1,bO,EO;vO=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};m1=function(){};bO=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Sc(xi.current);var i=null;switch(n){case"input":s=Mb(t,s),r=Mb(t,r),i=[];break;case"select":s=$t({},s,{value:void 0}),r=$t({},r,{value:void 0}),i=[];break;case"textarea":s=Fb(t,s),r=Fb(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ty)}Wb(n,r);var o;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ph.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var c=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(ph.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&_t("scroll",t),i||a===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};EO=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yd(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function On(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zU(t,e,n){var r=e.pendingProps;switch(rC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(e),null;case 1:return Ir(e.type)&&ny(),On(e),null;case 3:return r=e.stateNode,ed(),St(Ar),St(Wn),fC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,js!==null&&(x1(js),js=null))),m1(t,e),On(e),null;case 5:dC(e);var s=Sc(Ah.current);if(n=e.type,t!==null&&e.stateNode!=null)bO(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return On(e),null}if(t=Sc(xi.current),Cg(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[bi]=e,r[xh]=i,t=(e.mode&1)!==0,n){case"dialog":_t("cancel",r),_t("close",r);break;case"iframe":case"object":case"embed":_t("load",r);break;case"video":case"audio":for(s=0;s<If.length;s++)_t(If[s],r);break;case"source":_t("error",r);break;case"img":case"image":case"link":_t("error",r),_t("load",r);break;case"details":_t("toggle",r);break;case"input":vS(r,i),_t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_t("invalid",r);break;case"textarea":ES(r,i),_t("invalid",r)}Wb(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&_g(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&_g(r.textContent,a,t),s=["children",""+a]):ph.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_t("scroll",r)}switch(n){case"input":pg(r),bS(r,i,!0);break;case"textarea":pg(r),_S(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ty)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[bi]=e,t[xh]=r,vO(t,e,!1,!1),e.stateNode=t;e:{switch(o=qb(n,r),n){case"dialog":_t("cancel",t),_t("close",t),s=r;break;case"iframe":case"object":case"embed":_t("load",t),s=r;break;case"video":case"audio":for(s=0;s<If.length;s++)_t(If[s],t);s=r;break;case"source":_t("error",t),s=r;break;case"img":case"image":case"link":_t("error",t),_t("load",t),s=r;break;case"details":_t("toggle",t),s=r;break;case"input":vS(t,r),s=Mb(t,r),_t("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=$t({},r,{value:void 0}),_t("invalid",t);break;case"textarea":ES(t,r),s=Fb(t,r),_t("invalid",t);break;default:s=r}Wb(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?XP(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ZP(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&gh(t,c):typeof c=="number"&&gh(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ph.hasOwnProperty(i)?c!=null&&i==="onScroll"&&_t("scroll",t):c!=null&&z_(t,i,c,o))}switch(n){case"input":pg(t),bS(t,r,!1);break;case"textarea":pg(t),_S(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ha(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?xu(t,!!r.multiple,i,!1):r.defaultValue!=null&&xu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ty)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return On(e),null;case 6:if(t&&e.stateNode!=null)EO(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Sc(Ah.current),Sc(xi.current),Cg(e)){if(r=e.stateNode,n=e.memoizedProps,r[bi]=e,(i=r.nodeValue!==n)&&(t=Vr,t!==null))switch(t.tag){case 3:_g(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_g(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bi]=e,e.stateNode=r}return On(e),null;case 13:if(St(Rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&qr!==null&&e.mode&1&&!(e.flags&128))jR(),Xu(),e.flags|=98560,i=!1;else if(i=Cg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[bi]=e}else Xu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;On(e),i=!1}else js!==null&&(x1(js),js=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Rt.current&1?nn===0&&(nn=3):xC())),e.updateQueue!==null&&(e.flags|=4),On(e),null);case 4:return ed(),m1(t,e),t===null&&_h(e.stateNode.containerInfo),On(e),null;case 10:return aC(e.type._context),On(e),null;case 17:return Ir(e.type)&&ny(),On(e),null;case 19:if(St(Rt),i=e.memoizedState,i===null)return On(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Yd(i,!1);else{if(nn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ly(t),o!==null){for(e.flags|=128,Yd(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return vt(Rt,Rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&jt()>nd&&(e.flags|=128,r=!0,Yd(i,!1),e.lanes=4194304)}else{if(!r)if(t=ly(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!It)return On(e),null}else 2*jt()-i.renderingStartTime>nd&&n!==1073741824&&(e.flags|=128,r=!0,Yd(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=jt(),e.sibling=null,n=Rt.current,vt(Rt,r?n&1|2:n&1),e):(On(e),null);case 22:case 23:return CC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Br&1073741824&&(On(e),e.subtreeFlags&6&&(e.flags|=8192)):On(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function WU(t,e){switch(rC(e),e.tag){case 1:return Ir(e.type)&&ny(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ed(),St(Ar),St(Wn),fC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dC(e),null;case 13:if(St(Rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Xu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St(Rt),null;case 4:return ed(),null;case 10:return aC(e.type._context),null;case 22:case 23:return CC(),null;case 24:return null;default:return null}}var Ag=!1,zn=!1,qU=typeof WeakSet=="function"?WeakSet:Set,pe=null;function vu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Lt(t,e,r)}else n.current=null}function y1(t,e,n){try{n()}catch(r){Lt(t,e,r)}}var d2=!1;function HU(t,e){if(e1=Xm,t=AR(),tC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++l===s&&(a=o),f===i&&++u===r&&(c=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(t1={focusedElem:t,selectionRange:n},Xm=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,w=p.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ds(e.type,g),w);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(_){Lt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return p=d2,d2=!1,p}function Vf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&y1(e,n,i)}s=s.next}while(s!==r)}}function f0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function w1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _O(t){var e=t.alternate;e!==null&&(t.alternate=null,_O(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bi],delete e[xh],delete e[s1],delete e[IU],delete e[TU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CO(t){return t.tag===5||t.tag===3||t.tag===4}function f2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function v1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ty));else if(r!==4&&(t=t.child,t!==null))for(v1(t,e,n),t=t.sibling;t!==null;)v1(t,e,n),t=t.sibling}function b1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(b1(t,e,n),t=t.sibling;t!==null;)b1(t,e,n),t=t.sibling}var En=null,Ms=!1;function No(t,e,n){for(n=n.child;n!==null;)xO(t,e,n),n=n.sibling}function xO(t,e,n){if(Ci&&typeof Ci.onCommitFiberUnmount=="function")try{Ci.onCommitFiberUnmount(s0,n)}catch{}switch(n.tag){case 5:zn||vu(n,e);case 6:var r=En,s=Ms;En=null,No(t,e,n),En=r,Ms=s,En!==null&&(Ms?(t=En,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):En.removeChild(n.stateNode));break;case 18:En!==null&&(Ms?(t=En,n=n.stateNode,t.nodeType===8?Dw(t.parentNode,n):t.nodeType===1&&Dw(t,n),vh(t)):Dw(En,n.stateNode));break;case 4:r=En,s=Ms,En=n.stateNode.containerInfo,Ms=!0,No(t,e,n),En=r,Ms=s;break;case 0:case 11:case 14:case 15:if(!zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&y1(n,e,o),s=s.next}while(s!==r)}No(t,e,n);break;case 1:if(!zn&&(vu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Lt(n,e,a)}No(t,e,n);break;case 21:No(t,e,n);break;case 22:n.mode&1?(zn=(r=zn)||n.memoizedState!==null,No(t,e,n),zn=r):No(t,e,n);break;default:No(t,e,n)}}function h2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qU),e.forEach(function(r){var s=eL.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function As(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:En=a.stateNode,Ms=!1;break e;case 3:En=a.stateNode.containerInfo,Ms=!0;break e;case 4:En=a.stateNode.containerInfo,Ms=!0;break e}a=a.return}if(En===null)throw Error(Q(160));xO(i,o,s),En=null,Ms=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){Lt(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SO(e,t),e=e.sibling}function SO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(As(e,t),ni(t),r&4){try{Vf(3,t,t.return),f0(3,t)}catch(g){Lt(t,t.return,g)}try{Vf(5,t,t.return)}catch(g){Lt(t,t.return,g)}}break;case 1:As(e,t),ni(t),r&512&&n!==null&&vu(n,n.return);break;case 5:if(As(e,t),ni(t),r&512&&n!==null&&vu(n,n.return),t.flags&32){var s=t.stateNode;try{gh(s,"")}catch(g){Lt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&GP(s,i),qb(a,o);var l=qb(a,i);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?XP(s,d):u==="dangerouslySetInnerHTML"?ZP(s,d):u==="children"?gh(s,d):z_(s,u,d,l)}switch(a){case"input":jb(s,i);break;case"textarea":KP(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?xu(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?xu(s,!!i.multiple,i.defaultValue,!0):xu(s,!!i.multiple,i.multiple?[]:"",!1))}s[xh]=i}catch(g){Lt(t,t.return,g)}}break;case 6:if(As(e,t),ni(t),r&4){if(t.stateNode===null)throw Error(Q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Lt(t,t.return,g)}}break;case 3:if(As(e,t),ni(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vh(e.containerInfo)}catch(g){Lt(t,t.return,g)}break;case 4:As(e,t),ni(t);break;case 13:As(e,t),ni(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(EC=jt())),r&4&&h2(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(zn=(l=zn)||u,As(e,t),zn=l):As(e,t),ni(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(pe=t,u=t.child;u!==null;){for(d=pe=u;pe!==null;){switch(f=pe,h=f.child,f.tag){case 0:case 11:case 14:case 15:Vf(4,f,f.return);break;case 1:vu(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Lt(r,n,g)}}break;case 5:vu(f,f.return);break;case 22:if(f.memoizedState!==null){g2(d);continue}}h!==null?(h.return=f,pe=h):g2(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=QP("display",o))}catch(g){Lt(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Lt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:As(e,t),ni(t),r&4&&h2(t);break;case 21:break;default:As(e,t),ni(t)}}function ni(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CO(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gh(s,""),r.flags&=-33);var i=f2(t);b1(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=f2(t);v1(t,a,o);break;default:throw Error(Q(161))}}catch(c){Lt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VU(t,e,n){pe=t,AO(t)}function AO(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var s=pe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ag;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||zn;a=Ag;var l=zn;if(Ag=o,(zn=c)&&!l)for(pe=s;pe!==null;)o=pe,c=o.child,o.tag===22&&o.memoizedState!==null?m2(s):c!==null?(c.return=o,pe=c):m2(s);for(;i!==null;)pe=i,AO(i),i=i.sibling;pe=s,Ag=a,zn=l}p2(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,pe=i):p2(t)}}function p2(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zn||f0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ds(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&XS(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}XS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&vh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}zn||e.flags&512&&w1(e)}catch(f){Lt(e,e.return,f)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function g2(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function m2(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{f0(4,e)}catch(c){Lt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Lt(e,s,c)}}var i=e.return;try{w1(e)}catch(c){Lt(e,i,c)}break;case 5:var o=e.return;try{w1(e)}catch(c){Lt(e,o,c)}}}catch(c){Lt(e,e.return,c)}if(e===t){pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,pe=a;break}pe=e.return}}var GU=Math.ceil,fy=xo.ReactCurrentDispatcher,vC=xo.ReactCurrentOwner,ys=xo.ReactCurrentBatchConfig,Ve=0,fn=null,Kt=null,Cn=0,Br=0,bu=rc(0),nn=0,Ph=null,Jc=0,h0=0,bC=0,Gf=null,Cr=null,EC=0,nd=1/0,Zi=null,hy=!1,E1=null,Oa=null,Ig=!1,Ea=null,py=0,Kf=0,_1=null,Sm=-1,Am=0;function Jn(){return Ve&6?jt():Sm!==-1?Sm:Sm=jt()}function ka(t){return t.mode&1?Ve&2&&Cn!==0?Cn&-Cn:PU.transition!==null?(Am===0&&(Am=uR()),Am):(t=at,t!==0||(t=window.event,t=t===void 0?16:yR(t.type)),t):1}function Gs(t,e,n,r){if(50<Kf)throw Kf=0,_1=null,Error(Q(185));Up(t,n,r),(!(Ve&2)||t!==fn)&&(t===fn&&(!(Ve&2)&&(h0|=n),nn===4&&oa(t,Cn)),Tr(t,r),n===1&&Ve===0&&!(e.mode&1)&&(nd=jt()+500,l0&&sc()))}function Tr(t,e){var n=t.callbackNode;P4(t,e);var r=Qm(t,t===fn?Cn:0);if(r===0)n!==null&&SS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&SS(n),e===1)t.tag===0?NU(y2.bind(null,t)):UR(y2.bind(null,t)),SU(function(){!(Ve&6)&&sc()}),n=null;else{switch(dR(r)){case 1:n=G_;break;case 4:n=cR;break;case 16:n=Zm;break;case 536870912:n=lR;break;default:n=Zm}n=$O(n,IO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function IO(t,e){if(Sm=-1,Am=0,Ve&6)throw Error(Q(327));var n=t.callbackNode;if(Nu()&&t.callbackNode!==n)return null;var r=Qm(t,t===fn?Cn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gy(t,r);else{e=r;var s=Ve;Ve|=2;var i=NO();(fn!==t||Cn!==e)&&(Zi=null,nd=jt()+500,qc(t,e));do try{ZU();break}catch(a){TO(t,a)}while(!0);oC(),fy.current=i,Ve=s,Kt!==null?e=0:(fn=null,Cn=0,e=nn)}if(e!==0){if(e===2&&(s=Yb(t),s!==0&&(r=s,e=C1(t,s))),e===1)throw n=Ph,qc(t,0),oa(t,r),Tr(t,jt()),n;if(e===6)oa(t,r);else{if(s=t.current.alternate,!(r&30)&&!KU(s)&&(e=gy(t,r),e===2&&(i=Yb(t),i!==0&&(r=i,e=C1(t,i))),e===1))throw n=Ph,qc(t,0),oa(t,r),Tr(t,jt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:mc(t,Cr,Zi);break;case 3:if(oa(t,r),(r&130023424)===r&&(e=EC+500-jt(),10<e)){if(Qm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Jn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=r1(mc.bind(null,t,Cr,Zi),e);break}mc(t,Cr,Zi);break;case 4:if(oa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Vs(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GU(r/1960))-r,10<r){t.timeoutHandle=r1(mc.bind(null,t,Cr,Zi),r);break}mc(t,Cr,Zi);break;case 5:mc(t,Cr,Zi);break;default:throw Error(Q(329))}}}return Tr(t,jt()),t.callbackNode===n?IO.bind(null,t):null}function C1(t,e){var n=Gf;return t.current.memoizedState.isDehydrated&&(qc(t,e).flags|=256),t=gy(t,e),t!==2&&(e=Cr,Cr=n,e!==null&&x1(e)),t}function x1(t){Cr===null?Cr=t:Cr.push.apply(Cr,t)}function KU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oa(t,e){for(e&=~bC,e&=~h0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vs(e),r=1<<n;t[n]=-1,e&=~r}}function y2(t){if(Ve&6)throw Error(Q(327));Nu();var e=Qm(t,0);if(!(e&1))return Tr(t,jt()),null;var n=gy(t,e);if(t.tag!==0&&n===2){var r=Yb(t);r!==0&&(e=r,n=C1(t,r))}if(n===1)throw n=Ph,qc(t,0),oa(t,e),Tr(t,jt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mc(t,Cr,Zi),Tr(t,jt()),null}function _C(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(nd=jt()+500,l0&&sc())}}function el(t){Ea!==null&&Ea.tag===0&&!(Ve&6)&&Nu();var e=Ve;Ve|=1;var n=ys.transition,r=at;try{if(ys.transition=null,at=1,t)return t()}finally{at=r,ys.transition=n,Ve=e,!(Ve&6)&&sc()}}function CC(){Br=bu.current,St(bu)}function qc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xU(n)),Kt!==null)for(n=Kt.return;n!==null;){var r=n;switch(rC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ny();break;case 3:ed(),St(Ar),St(Wn),fC();break;case 5:dC(r);break;case 4:ed();break;case 13:St(Rt);break;case 19:St(Rt);break;case 10:aC(r.type._context);break;case 22:case 23:CC()}n=n.return}if(fn=t,Kt=t=$a(t.current,null),Cn=Br=e,nn=0,Ph=null,bC=h0=Jc=0,Cr=Gf=null,xc!==null){for(e=0;e<xc.length;e++)if(n=xc[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}xc=null}return t}function TO(t,e){do{var n=Kt;try{if(oC(),_m.current=dy,uy){for(var r=kt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}uy=!1}if(Xc=0,cn=Jt=kt=null,Hf=!1,Ih=0,vC.current=null,n===null||n.return===null){nn=1,Ph=e,Kt=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Cn,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=s2(o);if(h!==null){h.flags&=-257,i2(h,o,a,i,e),h.mode&1&&r2(i,l,e),e=h,c=l;var p=e.updateQueue;if(p===null){var g=new Set;g.add(c),e.updateQueue=g}else p.add(c);break e}else{if(!(e&1)){r2(i,l,e),xC();break e}c=Error(Q(426))}}else if(It&&a.mode&1){var w=s2(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),i2(w,o,a,i,e),sC(td(c,a));break e}}i=c=td(c,a),nn!==4&&(nn=2),Gf===null?Gf=[i]:Gf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=dO(i,c,e);QS(i,m);break e;case 1:a=c;var y=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Oa===null||!Oa.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=fO(i,a,e);QS(i,_);break e}}i=i.return}while(i!==null)}RO(n)}catch(E){e=E,Kt===n&&n!==null&&(Kt=n=n.return);continue}break}while(!0)}function NO(){var t=fy.current;return fy.current=dy,t===null?dy:t}function xC(){(nn===0||nn===3||nn===2)&&(nn=4),fn===null||!(Jc&268435455)&&!(h0&268435455)||oa(fn,Cn)}function gy(t,e){var n=Ve;Ve|=2;var r=NO();(fn!==t||Cn!==e)&&(Zi=null,qc(t,e));do try{YU();break}catch(s){TO(t,s)}while(!0);if(oC(),Ve=n,fy.current=r,Kt!==null)throw Error(Q(261));return fn=null,Cn=0,nn}function YU(){for(;Kt!==null;)PO(Kt)}function ZU(){for(;Kt!==null&&!E4();)PO(Kt)}function PO(t){var e=kO(t.alternate,t,Br);t.memoizedProps=t.pendingProps,e===null?RO(t):Kt=e,vC.current=null}function RO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WU(n,e),n!==null){n.flags&=32767,Kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nn=6,Kt=null;return}}else if(n=zU(n,e,Br),n!==null){Kt=n;return}if(e=e.sibling,e!==null){Kt=e;return}Kt=e=t}while(e!==null);nn===0&&(nn=5)}function mc(t,e,n){var r=at,s=ys.transition;try{ys.transition=null,at=1,QU(t,e,n,r)}finally{ys.transition=s,at=r}return null}function QU(t,e,n,r){do Nu();while(Ea!==null);if(Ve&6)throw Error(Q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(R4(t,i),t===fn&&(Kt=fn=null,Cn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ig||(Ig=!0,$O(Zm,function(){return Nu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ys.transition,ys.transition=null;var o=at;at=1;var a=Ve;Ve|=4,vC.current=null,HU(t,n),SO(n,t),yU(t1),Xm=!!e1,t1=e1=null,t.current=n,VU(n),_4(),Ve=a,at=o,ys.transition=i}else t.current=n;if(Ig&&(Ig=!1,Ea=t,py=s),i=t.pendingLanes,i===0&&(Oa=null),S4(n.stateNode),Tr(t,jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hy)throw hy=!1,t=E1,E1=null,t;return py&1&&t.tag!==0&&Nu(),i=t.pendingLanes,i&1?t===_1?Kf++:(Kf=0,_1=t):Kf=0,sc(),null}function Nu(){if(Ea!==null){var t=dR(py),e=ys.transition,n=at;try{if(ys.transition=null,at=16>t?16:t,Ea===null)var r=!1;else{if(t=Ea,Ea=null,py=0,Ve&6)throw Error(Q(331));var s=Ve;for(Ve|=4,pe=t.current;pe!==null;){var i=pe,o=i.child;if(pe.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(pe=l;pe!==null;){var u=pe;switch(u.tag){case 0:case 11:case 15:Vf(8,u,i)}var d=u.child;if(d!==null)d.return=u,pe=d;else for(;pe!==null;){u=pe;var f=u.sibling,h=u.return;if(_O(u),u===l){pe=null;break}if(f!==null){f.return=h,pe=f;break}pe=h}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}pe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,pe=o;else e:for(;pe!==null;){if(i=pe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vf(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,pe=m;break e}pe=i.return}}var y=t.current;for(pe=y;pe!==null;){o=pe;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,pe=v;else e:for(o=y;pe!==null;){if(a=pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:f0(9,a)}}catch(E){Lt(a,a.return,E)}if(a===o){pe=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,pe=_;break e}pe=a.return}}if(Ve=s,sc(),Ci&&typeof Ci.onPostCommitFiberRoot=="function")try{Ci.onPostCommitFiberRoot(s0,t)}catch{}r=!0}return r}finally{at=n,ys.transition=e}}return!1}function w2(t,e,n){e=td(n,e),e=dO(t,e,1),t=Ra(t,e,1),e=Jn(),t!==null&&(Up(t,1,e),Tr(t,e))}function Lt(t,e,n){if(t.tag===3)w2(t,t,n);else for(;e!==null;){if(e.tag===3){w2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oa===null||!Oa.has(r))){t=td(n,t),t=fO(e,t,1),e=Ra(e,t,1),t=Jn(),e!==null&&(Up(e,1,t),Tr(e,t));break}}e=e.return}}function XU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jn(),t.pingedLanes|=t.suspendedLanes&n,fn===t&&(Cn&n)===n&&(nn===4||nn===3&&(Cn&130023424)===Cn&&500>jt()-EC?qc(t,0):bC|=n),Tr(t,e)}function OO(t,e){e===0&&(t.mode&1?(e=yg,yg<<=1,!(yg&130023424)&&(yg=4194304)):e=1);var n=Jn();t=mo(t,e),t!==null&&(Up(t,e,n),Tr(t,n))}function JU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),OO(t,n)}function eL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),OO(t,n)}var kO;kO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ar.current)xr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xr=!1,FU(t,e,n);xr=!!(t.flags&131072)}else xr=!1,It&&e.flags&1048576&&LR(e,iy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xm(t,e),t=e.pendingProps;var s=Qu(e,Wn.current);Tu(e,n),s=pC(null,e,r,t,s,n);var i=gC();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ir(r)?(i=!0,ry(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lC(e),s.updater=d0,e.stateNode=s,s._reactInternals=e,u1(e,r,t,n),e=h1(null,e,r,!0,i,n)):(e.tag=0,It&&i&&nC(e),Zn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xm(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=nL(r),t=Ds(r,t),s){case 0:e=f1(null,e,r,t,n);break e;case 1:e=c2(null,e,r,t,n);break e;case 11:e=o2(null,e,r,t,n);break e;case 14:e=a2(null,e,r,Ds(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ds(r,s),f1(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ds(r,s),c2(t,e,r,s,n);case 3:e:{if(mO(e),t===null)throw Error(Q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,WR(t,e),cy(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=td(Error(Q(423)),e),e=l2(t,e,r,n,s);break e}else if(r!==s){s=td(Error(Q(424)),e),e=l2(t,e,r,n,s);break e}else for(qr=Pa(e.stateNode.containerInfo.firstChild),Vr=e,It=!0,js=null,n=FR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xu(),r===s){e=yo(t,e,n);break e}Zn(t,e,r,n)}e=e.child}return e;case 5:return qR(e),t===null&&a1(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,n1(r,s)?o=null:i!==null&&n1(r,i)&&(e.flags|=32),gO(t,e),Zn(t,e,o,n),e.child;case 6:return t===null&&a1(e),null;case 13:return yO(t,e,n);case 4:return uC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ju(e,null,r,n):Zn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ds(r,s),o2(t,e,r,s,n);case 7:return Zn(t,e,e.pendingProps,n),e.child;case 8:return Zn(t,e,e.pendingProps.children,n),e.child;case 12:return Zn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,vt(oy,r._currentValue),r._currentValue=o,i!==null)if(Qs(i.value,o)){if(i.children===s.children&&!Ar.current){e=yo(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ao(-1,n&-n),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),c1(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),c1(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Zn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Tu(e,n),s=ws(s),r=r(s),e.flags|=1,Zn(t,e,r,n),e.child;case 14:return r=e.type,s=Ds(r,e.pendingProps),s=Ds(r.type,s),a2(t,e,r,s,n);case 15:return hO(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ds(r,s),xm(t,e),e.tag=1,Ir(r)?(t=!0,ry(e)):t=!1,Tu(e,n),uO(e,r,s),u1(e,r,s,n),h1(null,e,r,!0,t,n);case 19:return wO(t,e,n);case 22:return pO(t,e,n)}throw Error(Q(156,e.tag))};function $O(t,e){return aR(t,e)}function tL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(t,e,n,r){return new tL(t,e,n,r)}function SC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nL(t){if(typeof t=="function")return SC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===q_)return 11;if(t===H_)return 14}return 2}function $a(t,e){var n=t.alternate;return n===null?(n=ps(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Im(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")SC(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case uu:return Hc(n.children,s,i,e);case W_:o=8,s|=8;break;case $b:return t=ps(12,n,e,s|2),t.elementType=$b,t.lanes=i,t;case Db:return t=ps(13,n,e,s),t.elementType=Db,t.lanes=i,t;case Ub:return t=ps(19,n,e,s),t.elementType=Ub,t.lanes=i,t;case qP:return p0(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zP:o=10;break e;case WP:o=9;break e;case q_:o=11;break e;case H_:o=14;break e;case Qo:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=ps(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Hc(t,e,n,r){return t=ps(7,t,r,e),t.lanes=n,t}function p0(t,e,n,r){return t=ps(22,t,r,e),t.elementType=qP,t.lanes=n,t.stateNode={isHidden:!1},t}function Ww(t,e,n){return t=ps(6,t,null,e),t.lanes=n,t}function qw(t,e,n){return e=ps(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rL(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xw(0),this.expirationTimes=xw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xw(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function AC(t,e,n,r,s,i,o,a,c){return t=new rL(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ps(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lC(i),t}function sL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function DO(t){if(!t)return Va;t=t._reactInternals;e:{if(El(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ir(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(Ir(n))return DR(t,n,e)}return e}function UO(t,e,n,r,s,i,o,a,c){return t=AC(n,r,!0,t,s,i,o,a,c),t.context=DO(null),n=t.current,r=Jn(),s=ka(n),i=ao(r,s),i.callback=e??null,Ra(n,i,s),t.current.lanes=s,Up(t,s,r),Tr(t,r),t}function g0(t,e,n,r){var s=e.current,i=Jn(),o=ka(s);return n=DO(n),e.context===null?e.context=n:e.pendingContext=n,e=ao(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ra(s,e,o),t!==null&&(Gs(t,s,o,i),Em(t,s,o)),o}function my(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function v2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function IC(t,e){v2(t,e),(t=t.alternate)&&v2(t,e)}function iL(){return null}var LO=typeof reportError=="function"?reportError:function(t){console.error(t)};function TC(t){this._internalRoot=t}m0.prototype.render=TC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));g0(t,e,null,null)};m0.prototype.unmount=TC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;el(function(){g0(null,t,null,null)}),e[go]=null}};function m0(t){this._internalRoot=t}m0.prototype.unstable_scheduleHydration=function(t){if(t){var e=pR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ia.length&&e!==0&&e<ia[n].priority;n++);ia.splice(n,0,t),n===0&&mR(t)}};function NC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function y0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function b2(){}function oL(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=my(o);i.call(l)}}var o=UO(e,r,t,0,null,!1,!1,"",b2);return t._reactRootContainer=o,t[go]=o.current,_h(t.nodeType===8?t.parentNode:t),el(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=my(c);a.call(l)}}var c=AC(t,0,!1,null,null,!1,!1,"",b2);return t._reactRootContainer=c,t[go]=c.current,_h(t.nodeType===8?t.parentNode:t),el(function(){g0(e,c,n,r)}),c}function w0(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=my(o);a.call(c)}}g0(e,o,t,s)}else o=oL(n,e,t,s,r);return my(o)}fR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Af(e.pendingLanes);n!==0&&(K_(e,n|1),Tr(e,jt()),!(Ve&6)&&(nd=jt()+500,sc()))}break;case 13:el(function(){var r=mo(t,1);if(r!==null){var s=Jn();Gs(r,t,1,s)}}),IC(t,1)}};Y_=function(t){if(t.tag===13){var e=mo(t,134217728);if(e!==null){var n=Jn();Gs(e,t,134217728,n)}IC(t,134217728)}};hR=function(t){if(t.tag===13){var e=ka(t),n=mo(t,e);if(n!==null){var r=Jn();Gs(n,t,e,r)}IC(t,e)}};pR=function(){return at};gR=function(t,e){var n=at;try{return at=t,e()}finally{at=n}};Vb=function(t,e,n){switch(e){case"input":if(jb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=c0(r);if(!s)throw Error(Q(90));VP(r),jb(r,s)}}}break;case"textarea":KP(t,n);break;case"select":e=n.value,e!=null&&xu(t,!!n.multiple,e,!1)}};tR=_C;nR=el;var aL={usingClientEntryPoint:!1,Events:[Mp,pu,c0,JP,eR,_C]},Zd={findFiberByHostInstance:Cc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cL={bundleType:Zd.bundleType,version:Zd.version,rendererPackageName:Zd.rendererPackageName,rendererConfig:Zd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=iR(t),t===null?null:t.stateNode},findFiberByHostInstance:Zd.findFiberByHostInstance||iL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tg.isDisabled&&Tg.supportsFiber)try{s0=Tg.inject(cL),Ci=Tg}catch{}}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aL;Qr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!NC(e))throw Error(Q(200));return sL(t,e,null,n)};Qr.createRoot=function(t,e){if(!NC(t))throw Error(Q(299));var n=!1,r="",s=LO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=AC(t,1,!1,null,null,n,!1,r,s),t[go]=e.current,_h(t.nodeType===8?t.parentNode:t),new TC(e)};Qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=iR(e),t=t===null?null:t.stateNode,t};Qr.flushSync=function(t){return el(t)};Qr.hydrate=function(t,e,n){if(!y0(e))throw Error(Q(200));return w0(null,t,e,!0,n)};Qr.hydrateRoot=function(t,e,n){if(!NC(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=LO;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=UO(e,null,t,1,n??null,s,!1,i,o),t[go]=e.current,_h(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new m0(e)};Qr.render=function(t,e,n){if(!y0(e))throw Error(Q(200));return w0(null,t,e,!1,n)};Qr.unmountComponentAtNode=function(t){if(!y0(t))throw Error(Q(40));return t._reactRootContainer?(el(function(){w0(null,null,t,!1,function(){t._reactRootContainer=null,t[go]=null})}),!0):!1};Qr.unstable_batchedUpdates=_C;Qr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!y0(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return w0(t,e,n,!1,r)};Qr.version="18.3.1-next-f1338f8080-20240426";function MO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MO)}catch(t){console.error(t)}}MO(),MP.exports=Qr;var PC=MP.exports,E2=PC;Ob.createRoot=E2.createRoot,Ob.hydrateRoot=E2.hydrateRoot;const jO="2.31.4";let Qd={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${jO}`},V=class S1 extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof S1?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof S1&&n.cause.docsPath||n.docsPath,i=(a=Qd.getDocsUrl)==null?void 0:a.call(Qd,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Qd.version?[`Version: ${Qd.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=jO}walk(e){return BO(this,e)}};function BO(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?BO(t.cause,e):e?null:t}let FO=class extends V{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class lL extends V{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let uL=class extends V{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class zO extends V{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let WO=class extends V{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class _2 extends V{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function bd(t,{dir:e,size:n=32}={}){return typeof t=="string"?Da(t,{dir:e,size:n}):dL(t,{dir:e,size:n})}function Da(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new WO({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function dL(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new WO({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}function wo(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Ft(t){return wo(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Ed(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const fL=new TextEncoder;function v0(t,e={}){return typeof t=="number"||typeof t=="bigint"?pL(t,e):typeof t=="boolean"?hL(t,e):wo(t)?Ni(t,e):Pu(t,e)}function hL(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(ei(n,{size:e.size}),bd(n,{size:e.size})):n}const Li={zero:48,nine:57,A:65,F:70,a:97,f:102};function C2(t){if(t>=Li.zero&&t<=Li.nine)return t-Li.zero;if(t>=Li.A&&t<=Li.F)return t-(Li.A-10);if(t>=Li.a&&t<=Li.f)return t-(Li.a-10)}function Ni(t,e={}){let n=t;e.size&&(ei(n,{size:e.size}),n=bd(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=C2(r.charCodeAt(a++)),l=C2(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new V(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function pL(t,e){const n=Se(t,e);return Ni(n)}function Pu(t,e={}){const n=fL.encode(t);return typeof e.size=="number"?(ei(n,{size:e.size}),bd(n,{dir:"right",size:e.size})):n}function ei(t,{size:e}){if(Ft(t)>e)throw new uL({givenSize:Ft(t),maxSize:e})}function vo(t,e={}){const{signed:n}=e;e.size&&ei(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function bo(t,e={}){return Number(vo(t,e))}function qO(t,e={}){let n=Ni(t);return e.size&&(ei(n,{size:e.size}),n=Ed(n,{dir:"right"})),new TextDecoder().decode(n)}const gL=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function tl(t,e={}){return typeof t=="number"||typeof t=="bigint"?Se(t,e):typeof t=="string"?b0(t,e):typeof t=="boolean"?HO(t,e):rr(t,e)}function HO(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(ei(n,{size:e.size}),bd(n,{size:e.size})):n}function rr(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=gL[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(ei(r,{size:e.size}),bd(r,{dir:"right",size:e.size})):r}function Se(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new FO({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?bd(a,{size:r}):a}const mL=new TextEncoder;function b0(t,e={}){const n=mL.encode(t);return rr(n,e)}async function yL(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Se(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function Ga(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new PL(t.type);return`${t.name}(${E0(t.inputs,{includeName:e})})`}function E0(t,{includeName:e=!1}={}){return t?t.map(n=>wL(n,{includeName:e})).join(e?", ":","):""}function wL(t,{includeName:e}){return t.type.startsWith("tuple")?`(${E0(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class vL extends V{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class x2 extends V{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class VO extends V{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${E0(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class _0 extends V{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class bL extends V{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class EL extends V{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Ft(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class _L extends V{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class e0e extends V{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class t0e extends V{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class GO extends V{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class CL extends V{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class KO extends V{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class yy extends V{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class xL extends V{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class n0e extends V{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class SL extends V{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Ga(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Ga(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class AL extends V{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class A1 extends V{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${E0(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class YO extends V{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ga(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class IL extends V{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class TL extends V{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class NL extends V{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class PL extends V{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function Ka(t){return typeof t[0]=="string"?C0(t):RL(t)}function RL(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function C0(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class Ya extends V{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let x0=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Ng=BigInt(2**32-1),S2=BigInt(32);function OL(t,e=!1){return e?{h:Number(t&Ng),l:Number(t>>S2&Ng)}:{h:Number(t>>S2&Ng)|0,l:Number(t&Ng)|0}}function kL(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=OL(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const $L=(t,e,n)=>t<<n|e>>>32-n,DL=(t,e,n)=>e<<n|t>>>32-n,UL=(t,e,n)=>e<<n-32|t>>>64-n,LL=(t,e,n)=>t<<n-32|e>>>64-n,$l=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ML(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function wy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function nl(t,...e){if(!ML(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function s0e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");wy(t.outputLen),wy(t.blockLen)}function vy(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ZO(t,e){nl(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function jL(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Rh(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Hw(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ri(t,e){return t<<32-e|t>>>e}const BL=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function FL(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function zL(t){for(let e=0;e<t.length;e++)t[e]=FL(t[e]);return t}const A2=BL?t=>t:zL,QO=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",WL=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function i0e(t){if(nl(t),QO)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=WL[t[n]];return e}const Mi={_0:48,_9:57,A:65,F:70,a:97,f:102};function I2(t){if(t>=Mi._0&&t<=Mi._9)return t-Mi._0;if(t>=Mi.A&&t<=Mi.F)return t-(Mi.A-10);if(t>=Mi.a&&t<=Mi.f)return t-(Mi.a-10)}function o0e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(QO)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=I2(t.charCodeAt(i)),a=I2(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function qL(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function S0(t){return typeof t=="string"&&(t=qL(t)),nl(t),t}function a0e(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];nl(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class XO{}function JO(t){const e=r=>t().update(S0(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function HL(t){const e=(r,s)=>t(s).update(S0(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function c0e(t=32){if($l&&typeof $l.getRandomValues=="function")return $l.getRandomValues(new Uint8Array(t));if($l&&typeof $l.randomBytes=="function")return Uint8Array.from($l.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const VL=BigInt(0),Xd=BigInt(1),GL=BigInt(2),KL=BigInt(7),YL=BigInt(256),ZL=BigInt(113),e3=[],t3=[],n3=[];for(let t=0,e=Xd,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],e3.push(2*(5*r+n)),t3.push((t+1)*(t+2)/2%64);let s=VL;for(let i=0;i<7;i++)e=(e<<Xd^(e>>KL)*ZL)%YL,e&GL&&(s^=Xd<<(Xd<<BigInt(i))-Xd);n3.push(s)}const r3=kL(n3,!0),QL=r3[0],XL=r3[1],T2=(t,e,n)=>n>32?UL(t,e,n):$L(t,e,n),N2=(t,e,n)=>n>32?LL(t,e,n):DL(t,e,n);function s3(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=T2(l,u,1)^n[a],f=N2(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=t3[o],c=T2(s,i,a),l=N2(s,i,a),u=e3[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=QL[r],t[1]^=XL[r]}Rh(n)}class Bp extends XO{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,wy(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=jL(this.state)}clone(){return this._cloneInto()}keccak(){A2(this.state32),s3(this.state32,this.rounds),A2(this.state32),this.posOut=0,this.pos=0}update(e){vy(this),e=S0(e),nl(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){vy(this,!1),nl(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return wy(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ZO(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Rh(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Bp(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const ic=(t,e,n)=>JO(()=>new Bp(e,t,n)),JL=ic(6,144,224/8),eM=ic(6,136,256/8),tM=ic(6,104,384/8),nM=ic(6,72,512/8),rM=ic(1,144,224/8),RC=ic(1,136,256/8),sM=ic(1,104,384/8),iM=ic(1,72,512/8),i3=(t,e,n)=>HL((r={})=>new Bp(e,t,r.dkLen===void 0?n:r.dkLen,!0)),oM=i3(31,168,128/8),aM=i3(31,136,256/8),l0e=Object.freeze(Object.defineProperty({__proto__:null,Keccak:Bp,keccakP:s3,keccak_224:rM,keccak_256:RC,keccak_384:sM,keccak_512:iM,sha3_224:JL,sha3_256:eM,sha3_384:tM,sha3_512:nM,shake128:oM,shake256:aM},Symbol.toStringTag,{value:"Module"}));function _d(t,e){const n=e||"hex",r=RC(wo(t,{strict:!1})?v0(t):t);return n==="bytes"?r:tl(r)}const Vw=new x0(8192);function Fp(t,e){if(Vw.has(`${t}.${e}`))return Vw.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=_d(Pu(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Vw.set(`${t}.${e}`,i),i}function _a(t,e){if(!Xs(t,{strict:!1}))throw new Ya({address:t});return Fp(t,e)}const cM=/^0x[a-fA-F0-9]{40}$/,Gw=new x0(8192);function Xs(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Gw.has(r))return Gw.get(r);const s=cM.test(t)?t.toLowerCase()===t?!0:n?Fp(t)===t:!0:!1;return Gw.set(r,s),s}function by(t,e,n,{strict:r}={}){return wo(t,{strict:!1})?I1(t,e,n,{strict:r}):c3(t,e,n,{strict:r})}function o3(t,e){if(typeof e=="number"&&e>0&&e>Ft(t)-1)throw new zO({offset:e,position:"start",size:Ft(t)})}function a3(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Ft(t)!==n-e)throw new zO({offset:n,position:"end",size:Ft(t)})}function c3(t,e,n,{strict:r}={}){o3(t,e);const s=t.slice(e,n);return r&&a3(s,e,n),s}function I1(t,e,n,{strict:r}={}){o3(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&a3(s,e,n),s}const lM=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,l3=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function u3(t,e){if(t.length!==e.length)throw new _L({expectedLength:t.length,givenLength:e.length});const n=uM({params:t,values:e}),r=kC(n);return r.length===0?"0x":r}function uM({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(OC({param:t[r],value:e[r]}));return n}function OC({param:t,value:e}){const n=$C(t.type);if(n){const[r,s]=n;return fM(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return yM(e,{param:t});if(t.type==="address")return dM(e);if(t.type==="bool")return pM(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=l3.exec(t.type)??[];return gM(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return hM(e,{param:t});if(t.type==="string")return mM(e);throw new IL(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function kC(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=Ft(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(Se(e+s,{size:32})),r.push(a),s+=Ft(a)):n.push(a)}return Ka([...n,...r])}function dM(t){if(!Xs(t))throw new Ya({address:t});return{dynamic:!1,encoded:Da(t.toLowerCase())}}function fM(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new NL(t);if(!r&&t.length!==e)throw new bL({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=OC({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=kC(i);if(r){const a=Se(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Ka([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Ka(i.map(({encoded:o})=>o))}}function hM(t,{param:e}){const[,n]=e.type.split("bytes"),r=Ft(t);if(!n){let s=t;return r%32!==0&&(s=Da(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Ka([Da(Se(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new EL({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Da(t,{dir:"right"})}}function pM(t){if(typeof t!="boolean")throw new V(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Da(HO(t))}}function gM(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new FO({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Se(t,{size:32,signed:e})}}function mM(t){const e=b0(t),n=Math.ceil(Ft(e)/32),r=[];for(let s=0;s<n;s++)r.push(Da(by(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ka([Da(Se(Ft(e),{size:32})),...r])}}function yM(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=OC({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?kC(r):Ka(r.map(({encoded:s})=>s))}}function $C(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Kw="/docs/contract/encodeDeployData";function DC(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new vL({docsPath:Kw});if(!("inputs"in s))throw new x2({docsPath:Kw});if(!s.inputs||s.inputs.length===0)throw new x2({docsPath:Kw});const i=u3(s.inputs,n);return C0([r,i])}function Sn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class _l extends V{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Tm extends V{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function wM(t){const e=_d(`0x${t.substring(4)}`).substring(26);return Fp(`0x${e}`)}const vM="modulepreload",bM=function(t){return"/"+t},P2={},Fn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=bM(c),c in P2)return;P2[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":vM,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};async function EM({hash:t,signature:e}){const n=wo(t)?t:tl(t),{secp256k1:r}=await Fn(async()=>{const{secp256k1:o}=await import("./secp256k1-gr9IFigk.js");return{secp256k1:o}},__vite__mapDeps([0,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:f}=e,h=Number(f??d),p=R2(h);return new r.Signature(vo(l),vo(u)).addRecoveryBit(p)}const o=wo(e)?e:tl(e);if(Ft(o)!==65)throw new Error("invalid signature length");const a=bo(`0x${o.slice(130)}`),c=R2(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function R2(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function _M({hash:t,signature:e}){return wM(await EM({hash:t,signature:e}))}class O2 extends V{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class d3 extends V{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class CM extends V{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const xM={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new CM({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new d3({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new O2({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new O2({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function UC(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(xM);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function SM(t,e="hex"){const n=f3(t),r=UC(new Uint8Array(n.length));return n.encode(r),e==="hex"?rr(r.bytes):r.bytes}function f3(t){return Array.isArray(t)?AM(t.map(e=>f3(e))):IM(t)}function AM(t){const e=t.reduce((s,i)=>s+i.length,0),n=h3(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function IM(t){const e=typeof t=="string"?Ni(t):t,n=h3(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function h3(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new V("Length is too large.")}function TM(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=_d(C0(["0x05",SM([e?Se(e):"0x",s,n?Se(n):"0x"])]));return r==="bytes"?Ni(i):i}async function p3(t){const{authorization:e,signature:n}=t;return _M({hash:TM(e),signature:n??e})}class T1 extends V{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class NM extends V{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class PM extends V{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class g3 extends V{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function m3({chain:t,currentChainId:e}){if(!t)throw new PM;if(e!==t.id)throw new NM({chain:t,currentChainId:e})}const RM={gwei:9,wei:18},OM={ether:-9,wei:9},kM={ether:-18,gwei:-9};function Cd(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function Nr(t,e="wei"){return Cd(t,OM[e])}class Ac extends V{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Ac,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Ac,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Ey extends V{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Nr(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Ey,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class N1 extends V{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Nr(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(N1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class P1 extends V{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(P1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class R1 extends V{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(R1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class O1 extends V{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(O1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class k1 extends V{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(k1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class $1 extends V{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty($1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class D1 extends V{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(D1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class U1 extends V{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(U1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class _y extends V{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Nr(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Nr(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(_y,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class A0 extends V{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function LC(t,e="wei"){return Cd(t,RM[e])}function zp(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class $M extends V{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class DM extends V{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",zp(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class UM extends V{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f}){var p;const h=zp({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${LC(f)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Nr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Nr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Nr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class y3 extends V{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class w3 extends V{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class LM extends V{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const er=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n),MM=t=>t,MC=t=>t;class Yf extends V{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${MC(o)}`,e&&`Request body: ${er(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class jC extends V{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${MC(r)}`,`Request body: ${er(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class k2 extends V{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${MC(n)}`,`Request body: ${er(e)}`],name:"TimeoutError"})}}const jM=-1;class Rr extends V{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof jC?e.code:n??jM}}class Jr extends Rr{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Oh extends Rr{constructor(e){super(e,{code:Oh.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Oh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class kh extends Rr{constructor(e){super(e,{code:kh.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(kh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class $h extends Rr{constructor(e,{method:n}={}){super(e,{code:$h.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty($h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Dh extends Rr{constructor(e){super(e,{code:Dh.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Dh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class rl extends Rr{constructor(e){super(e,{code:rl.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(rl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Uh extends Rr{constructor(e){super(e,{code:Uh.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Uh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Lh extends Rr{constructor(e){super(e,{code:Lh.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Lh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ua extends Rr{constructor(e){super(e,{code:Ua.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Ua,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class rd extends Rr{constructor(e){super(e,{code:rd.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(rd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ic extends Rr{constructor(e,{method:n}={}){super(e,{code:Ic.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Ic,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class sd extends Rr{constructor(e){super(e,{code:sd.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(sd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Mh extends Rr{constructor(e){super(e,{code:Mh.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Mh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Xt extends Jr{constructor(e){super(e,{code:Xt.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class jh extends Jr{constructor(e){super(e,{code:jh.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(jh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Bh extends Jr{constructor(e,{method:n}={}){super(e,{code:Bh.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Bh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Fh extends Jr{constructor(e){super(e,{code:Fh.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Fh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class zh extends Jr{constructor(e){super(e,{code:zh.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Pi extends Jr{constructor(e){super(e,{code:Pi.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Pi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class id extends Jr{constructor(e){super(e,{code:id.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(id,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Wh extends Jr{constructor(e){super(e,{code:Wh.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Wh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class qh extends Jr{constructor(e){super(e,{code:qh.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(qh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Hh extends Jr{constructor(e){super(e,{code:Hh.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Hh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Vh extends Jr{constructor(e){super(e,{code:Vh.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Vh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Gh extends Jr{constructor(e){super(e,{code:Gh.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Gh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class od extends Jr{constructor(e){super(e,{code:od.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(od,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class BM extends Rr{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function BC(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof V?t.walk(s=>(s==null?void 0:s.code)===Ac.code):t;return r instanceof V?new Ac({cause:t,message:r.details}):Ac.nodeMessage.test(n)?new Ac({cause:t,message:t.details}):Ey.nodeMessage.test(n)?new Ey({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):N1.nodeMessage.test(n)?new N1({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):P1.nodeMessage.test(n)?new P1({cause:t,nonce:e==null?void 0:e.nonce}):R1.nodeMessage.test(n)?new R1({cause:t,nonce:e==null?void 0:e.nonce}):O1.nodeMessage.test(n)?new O1({cause:t,nonce:e==null?void 0:e.nonce}):k1.nodeMessage.test(n)?new k1({cause:t}):$1.nodeMessage.test(n)?new $1({cause:t,gas:e==null?void 0:e.gas}):D1.nodeMessage.test(n)?new D1({cause:t,gas:e==null?void 0:e.gas}):U1.nodeMessage.test(n)?new U1({cause:t}):_y.nodeMessage.test(n)?new _y({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new A0({cause:t})}function v3(t,{docsPath:e,...n}){const r=(()=>{const s=BC(t,n);return s instanceof A0?t:s})();return new UM(r,{docsPath:e,...n})}function FC(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}const FM={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function I0(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=zM(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>rr(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Se(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Se(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Se(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Se(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Se(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Se(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=FM[t.type]),typeof t.value<"u"&&(e.value=Se(t.value)),e}function zM(t){return t.map(e=>({address:e.address,r:e.r?Se(BigInt(e.r)):e.r,s:e.s?Se(BigInt(e.s)):e.s,chainId:Se(e.chainId),nonce:Se(e.nonce),...typeof e.yParity<"u"?{yParity:Se(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Se(e.v)}:{}}))}function ft(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const WM=2n**256n-1n;function Wp(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?Sn(e):void 0;if(o&&!Xs(o.address))throw new Ya({address:o.address});if(i&&!Xs(i))throw new Ya({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new $M;if(r&&r>WM)throw new Ey({maxFeePerGas:r});if(s&&r&&s>r)throw new _y({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function qp(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return bo(e)}class qM extends V{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class zC extends V{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class HM extends V{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Nr(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class b3 extends V{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const E3={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function _3(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?bo(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?bo(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?E3[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=VM(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function VM(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function GM(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:_3(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Kh(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var u,d,f;const i=r??"latest",o=s??!1,a=n!==void 0?Se(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||i,o]},{dedupe:!!a}),!c)throw new b3({blockHash:e,blockNumber:n});return(((f=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:f.format)||GM)(c)}async function C3(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function KM(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await ft(t,Kh,"getBlock")({}),u=await a({block:l,client:t,request:s});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return vo(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):ft(t,Kh,"getBlock")({}),ft(t,C3,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new zC;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function $2(t,e){var f,h;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var p,g;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(o<1)throw new qM;const c=10**(((f=o.toString().split(".")[1])==null?void 0:f.length)??0),l=p=>p*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await ft(t,Kh,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:s,type:i});if(p!==null)return p}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new zC;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await KM(t,{block:u,chain:r,request:s}),g=l(u.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??g+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await ft(t,C3,"getGasPrice")({}))}}class YM extends V{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f}){var p;const h=zp({from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${LC(f)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Nr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Nr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Nr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function ZM(t,{docsPath:e,...n}){const r=(()=>{const s=BC(t,n);return s instanceof A0?t:s})();return new YM(r,{docsPath:e,...n})}class QM extends V{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class XM extends V{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function D2(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function JM(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=D2(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=D2(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function U2(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new _2({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new _2({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function ej(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=Se(e)),n!==void 0&&(o.nonce=Se(n)),r!==void 0&&(o.state=U2(r)),s!==void 0){if(o.state)throw new XM;o.stateDiff=U2(s)}return o}function x3(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Xs(n,{strict:!1}))throw new Ya({address:n});if(e[n])throw new QM({address:n});e[n]=ej(r)}return e}async function S3(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?Se(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function A3(t,e){var s,i,o;const{account:n=t.account}=e,r=n?Sn(n):void 0;try{let B=function(N){const{block:M,request:k,rpcStateOverride:$}=N;return t.request({method:"eth_estimateGas",params:$?[k,M??"latest",$]:M?[k,M]:[k]})};const{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:f,data:h,gas:p,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:v,value:_,stateOverride:E,...x}=await T0(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),T=(typeof d=="bigint"?Se(d):void 0)||f,C=x3(E),R=await(async()=>{if(x.to)return x.to;if(c&&c.length>0)return await p3({authorization:c[0]}).catch(()=>{throw new V("`to` is required. Could not infer from `authorizationList`")})})();Wp(e);const O=(o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,U=(O||I0)({...FC(x,{format:O}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:h,gas:p,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:v,to:R,value:_});let I=BigInt(await B({block:T,request:U,rpcStateOverride:C}));if(c){const N=await S3(t,{address:U.from}),M=await Promise.all(c.map(async k=>{const{address:$}=k,j=await B({block:T,request:{authorizationList:void 0,data:h,from:r==null?void 0:r.address,to:$,value:Se(N)},rpcStateOverride:C}).catch(()=>100000n);return 2n*BigInt(j)}));I+=M.reduce((k,$)=>k+$,0n)}return I}catch(a){throw ZM(a,{...e,account:r,chain:t.chain})}}async function I3(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Se(r):n]},{dedupe:!!r});return bo(s)}function T3(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>Ni(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>rr(i))}function N3(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Ni(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>Ni(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>rr(o))}function tj(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function nj(t,e,n){return t&e^~t&n}function rj(t,e,n){return t&e^t&n^e&n}class sj extends XO{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Hw(this.buffer)}update(e){vy(this),e=S0(e),nl(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Hw(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vy(this),ZO(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Rh(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;tj(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Hw(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Po=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ij=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ro=new Uint32Array(64);class oj extends sj{constructor(e=32){super(64,e,8,!1),this.A=Po[0]|0,this.B=Po[1]|0,this.C=Po[2]|0,this.D=Po[3]|0,this.E=Po[4]|0,this.F=Po[5]|0,this.G=Po[6]|0,this.H=Po[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Ro[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=Ro[d-15],h=Ro[d-2],p=ri(f,7)^ri(f,18)^f>>>3,g=ri(h,17)^ri(h,19)^h>>>10;Ro[d]=g+Ro[d-7]+p+Ro[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const f=ri(a,6)^ri(a,11)^ri(a,25),h=u+f+nj(a,c,l)+ij[d]+Ro[d]|0,g=(ri(r,2)^ri(r,13)^ri(r,22))+rj(r,s,i)|0;u=l,l=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Rh(Ro)}destroy(){this.set(0,0,0,0,0,0,0,0),Rh(this.buffer)}}const aj=JO(()=>new oj),cj=aj;function lj(t,e){return cj(wo(t,{strict:!1})?v0(t):t)}function uj(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=lj(e);return s.set([n],0),r==="bytes"?s:rr(s)}function dj(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const i of e)s.push(uj({commitment:i,to:r,version:n}));return s}const L2=6,P3=32,WC=4096,R3=P3*WC,M2=R3*L2-1-1*WC*L2;class fj extends V{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class hj extends V{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function pj(t){const e=typeof t.data=="string"?Ni(t.data):t.data,n=Ft(e);if(!n)throw new hj;if(n>M2)throw new fj({maxSize:M2,size:n});const r=[];let s=!0,i=0;for(;s;){const o=UC(new Uint8Array(R3));let a=0;for(;a<WC;){const c=e.slice(i,i+(P3-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}a++,i+=31}r.push(o)}return r.map(o=>rr(o.bytes))}function gj(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??pj({data:e}),i=t.commitments??T3({blobs:s,kzg:n,to:r}),o=t.proofs??N3({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function mj(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new DM({transaction:t})}const O3=["blobVersionedHashes","chainId","fees","gas","nonce","type"],j2=new Map;async function T0(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:l=O3,type:u}=e,d=n&&Sn(n),f={...e,...d?{from:d==null?void 0:d.address}:{}};let h;async function p(){return h||(h=await ft(t,Kh,"getBlock")({blockTag:"latest"}),h)}let g;async function w(){return g||(s?s.id:typeof e.chainId<"u"?e.chainId:(g=await ft(t,qp,"getChainId")({}),g))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const m=await w();f.nonce=await c.consume({address:d.address,chainId:m,client:t})}else f.nonce=await ft(t,I3,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const m=T3({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const y=dj({commitments:m,to:"hex"});f.blobVersionedHashes=y}if(l.includes("sidecars")){const y=N3({blobs:r,commitments:m,kzg:o}),v=gj({blobs:r,commitments:m,proofs:y,to:"hex"});f.sidecars=v}}if(l.includes("chainId")&&(f.chainId=await w()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{f.type=mj(f)}catch{let m=j2.get(t.uid);if(typeof m>"u"){const y=await p();m=typeof(y==null?void 0:y.baseFeePerGas)=="bigint",j2.set(t.uid,m)}f.type=m?"eip1559":"legacy"}if(l.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const m=await p(),{maxFeePerGas:y,maxPriorityFeePerGas:v}=await $2(t,{block:m,chain:s,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<v)throw new HM({maxPriorityFeePerGas:v});f.maxPriorityFeePerGas=v,f.maxFeePerGas=y}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new zC;if(typeof e.gasPrice>"u"){const m=await p(),{gasPrice:y}=await $2(t,{block:m,chain:s,request:f,type:"legacy"});f.gasPrice=y}}return l.includes("gas")&&typeof i>"u"&&(f.gas=await ft(t,A3,"estimateGas")({...f,account:d&&{address:d.address,type:"json-rpc"}})),Wp(f),delete f.parameters,f}async function k3(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Yw=new x0(128);async function Hp(t,e){var y,v,_,E;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,type:p,value:g,...w}=e;if(typeof n>"u")throw new _l({docsPath:"/docs/actions/wallet/sendTransaction"});const m=n?Sn(n):null;try{Wp(e);const x=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await p3({authorization:i[0]}).catch(()=>{throw new V("`to` is required. Could not infer from `authorizationList`.")})})();if((m==null?void 0:m.type)==="json-rpc"||m===null){let S;r!==null&&(S=await ft(t,qp,"getChainId")({}),m3({currentChainId:S,chain:r}));const T=(_=(v=(y=t.chain)==null?void 0:y.formatters)==null?void 0:v.transactionRequest)==null?void 0:_.format,R=(T||I0)({...FC(w,{format:T}),accessList:s,authorizationList:i,blobs:o,chainId:S,data:a,from:m==null?void 0:m.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:x,type:p,value:g}),O=Yw.get(t.uid),L=O?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:L,params:[R]},{retryCount:0})}catch(U){if(O===!1)throw U;const B=U;if(B.name==="InvalidInputRpcError"||B.name==="InvalidParamsRpcError"||B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[R]},{retryCount:0}).then(I=>(Yw.set(t.uid,!0),I)).catch(I=>{const N=I;throw N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError"?(Yw.set(t.uid,!1),B):N});throw B}}if((m==null?void 0:m.type)==="local"){const S=await ft(t,T0,"prepareTransactionRequest")({account:m,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,nonceManager:m.nonceManager,parameters:[...O3,"sidecars"],type:p,value:g,...w,to:x}),T=(E=r==null?void 0:r.serializers)==null?void 0:E.transaction,C=await m.signTransaction(S,{serializer:T});return await ft(t,k3,"sendRawTransaction")({serializedTransaction:C})}throw(m==null?void 0:m.type)==="smart"?new Tm({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Tm({docsPath:"/docs/actions/wallet/sendTransaction",type:m==null?void 0:m.type})}catch(x){throw x instanceof Tm?x:v3(x,{...e,account:m,chain:e.chain||void 0})}}function yj(t,e){const{abi:n,args:r,bytecode:s,...i}=e,o=DC({abi:n,args:r,bytecode:s});return Hp(t,{...i,...i.authorizationList?{to:null}:{},data:o})}const L1=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],u0e=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],wj=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],vj=[...wj,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}];function bj(t,e={}){typeof e.size<"u"&&ei(t,{size:e.size});const n=rr(t,e);return vo(n,e)}function Ej(t,e={}){let n=t;if(typeof e.size<"u"&&(ei(n,{size:e.size}),n=Ed(n)),n.length>1||n[0]>1)throw new lL(n);return!!n[0]}function co(t,e={}){typeof e.size<"u"&&ei(t,{size:e.size});const n=rr(t,e);return bo(n,e)}function _j(t,e={}){let n=t;return typeof e.size<"u"&&(ei(n,{size:e.size}),n=Ed(n,{dir:"right"})),new TextDecoder().decode(n)}function N0(t,e){const n=typeof e=="string"?Ni(e):e,r=UC(n);if(Ft(n)===0&&t.length>0)throw new _0;if(Ft(e)&&Ft(e)<32)throw new VO({data:typeof e=="string"?e:rr(e),params:t,size:Ft(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,l]=Ru(r,a,{staticPosition:0});s+=l,i.push(c)}return i}function Ru(t,e,{staticPosition:n}){const r=$C(e.type);if(r){const[s,i]=r;return xj(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return Tj(t,e,{staticPosition:n});if(e.type==="address")return Cj(t);if(e.type==="bool")return Sj(t);if(e.type.startsWith("bytes"))return Aj(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Ij(t,e);if(e.type==="string")return Nj(t,{staticPosition:n});throw new TL(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const B2=32,M1=32;function Cj(t){const e=t.readBytes(32);return[Fp(rr(c3(e,-20))),32]}function xj(t,e,{length:n,staticPosition:r}){if(!n){const o=co(t.readBytes(M1)),a=r+o,c=a+B2;t.setPosition(a);const l=co(t.readBytes(B2)),u=Yh(e);let d=0;const f=[];for(let h=0;h<l;++h){t.setPosition(c+(u?h*32:d));const[p,g]=Ru(t,e,{staticPosition:c});d+=g,f.push(p)}return t.setPosition(r+32),[f,32]}if(Yh(e)){const o=co(t.readBytes(M1)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=Ru(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Ru(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function Sj(t){return[Ej(t.readBytes(32),{size:32}),32]}function Aj(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=co(t.readBytes(32));t.setPosition(n+o);const a=co(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[rr(c),32]}return[rr(t.readBytes(Number.parseInt(s),32)),32]}function Ij(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?bj(s,{signed:n}):co(s,{signed:n}),32]}function Tj(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(Yh(e)){const o=co(t.readBytes(M1)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+i);const[u,d]=Ru(t,l,{staticPosition:a});i+=d,s[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=Ru(t,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=l}return[s,i]}function Nj(t,{staticPosition:e}){const n=co(t.readBytes(32)),r=e+n;t.setPosition(r);const s=co(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=_j(Ed(i));return t.setPosition(e+32),[o,32]}function Yh(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(Yh);const n=$C(t.type);return!!(n&&Yh({...t,type:n[1]}))}const Pj=t=>_d(v0(t));function Rj(t){return Pj(t)}const Oj="1.0.8";let _s=class j1 extends Error{constructor(e,n={}){var o;const r=n.cause instanceof j1?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof j1&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Oj}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function So(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const $3=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,D3=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,U3=/^\(.+?\).*?$/,F2=/^tuple(?<array>(\[(\d*)\])*)$/;function B1(t){let e=t.type;if(F2.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=B1(i),s<n-1&&(e+=", ")}const r=So(F2,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,B1({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Jd(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=B1(s),r!==n-1&&(e+=", ")}return e}function kj(t){var e;return t.type==="function"?`function ${t.name}(${Jd(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Jd(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Jd(t.inputs)})`:t.type==="error"?`error ${t.name}(${Jd(t.inputs)})`:t.type==="constructor"?`constructor(${Jd(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const L3=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function $j(t){return L3.test(t)}function Dj(t){return So(L3,t)}const M3=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Uj(t){return M3.test(t)}function Lj(t){return So(M3,t)}const j3=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Mj(t){return j3.test(t)}function jj(t){return So(j3,t)}const B3=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function F3(t){return B3.test(t)}function Bj(t){return So(B3,t)}const z3=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Fj(t){return z3.test(t)}function zj(t){return So(z3,t)}const W3=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Wj(t){return W3.test(t)}function qj(t){return So(W3,t)}const Hj=/^receive\(\) external payable$/;function Vj(t){return Hj.test(t)}const Gj=new Set(["indexed"]),F1=new Set(["calldata","memory","storage"]);class Kj extends _s{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Yj extends _s{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Zj extends _s{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Qj extends _s{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Xj extends _s{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Jj extends _s{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class eB extends _s{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class xd extends _s{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class tB extends _s{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class nB extends _s{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class rB extends _s{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class sB extends _s{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function iB(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const Zw=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function oB(t,e={}){if(Mj(t))return aB(t,e);if(Uj(t))return cB(t,e);if($j(t))return lB(t,e);if(Fj(t))return uB(t,e);if(Wj(t))return dB(t);if(Vj(t))return{type:"receive",stateMutability:"payable"};throw new tB({signature:t})}function aB(t,e={}){const n=jj(t);if(!n)throw new xd({signature:t,type:"function"});const r=zs(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(sl(r[a],{modifiers:F1,structs:e,type:"function"}));const o=[];if(n.returns){const a=zs(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(sl(a[l],{modifiers:F1,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function cB(t,e={}){const n=Lj(t);if(!n)throw new xd({signature:t,type:"event"});const r=zs(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(sl(r[o],{modifiers:Gj,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function lB(t,e={}){const n=Dj(t);if(!n)throw new xd({signature:t,type:"error"});const r=zs(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(sl(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function uB(t,e={}){const n=zj(t);if(!n)throw new xd({signature:t,type:"constructor"});const r=zs(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(sl(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function dB(t){const e=qj(t);if(!e)throw new xd({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const fB=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,hB=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,pB=/^u?int$/;function sl(t,e){var d,f;const n=iB(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(Zw.has(n))return Zw.get(n);const r=U3.test(t),s=So(r?hB:fB,t);if(!s)throw new Zj({param:t});if(s.name&&mB(s.name))throw new Qj({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const h=zs(s.type),p=[],g=h.length;for(let w=0;w<g;w++)p.push(sl(h[w],{structs:a}));l={components:p}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(pB.test(s.type))c=`${s.type}256`;else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!q3(c))throw new Yj({type:c});if(s.modifier){if(!((f=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&f.call(d,s.modifier)))throw new Xj({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(F1.has(s.modifier)&&!yB(c,!!s.array))throw new Jj({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return Zw.set(n,u),u}function zs(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?zs(a,[...e,n.trim()]):zs(a,e,`${n}${o}`,r);case"(":return zs(a,e,`${n}${o}`,r+1);case")":return zs(a,e,`${n}${o}`,r-1);default:return zs(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new sB({current:n,depth:r});return e.push(n.trim()),e}function q3(t){return t==="address"||t==="bool"||t==="function"||t==="string"||$3.test(t)||D3.test(t)}const gB=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function mB(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||$3.test(t)||D3.test(t)||gB.test(t)}function yB(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function wB(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!F3(a))continue;const c=Bj(a);if(!c)throw new xd({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let f=0;f<d;f++){const p=l[f].trim();if(!p)continue;const g=sl(p,{type:"struct"});u.push(g)}if(!u.length)throw new nB({signature:a});e[c.name]=u}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=H3(c,e)}return r}const vB=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function H3(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(U3.test(o.type))r.push(o);else{const c=So(vB,o.type);if(!(c!=null&&c.type))throw new eB({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new rB({type:u});r.push({...o,type:`tuple${l??""}`,components:H3(e[u]??[],e,new Set([...n,u]))})}else if(q3(u))r.push(o);else throw new Kj({type:u})}}return r}function V3(t){const e=wB(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];F3(i)||n.push(oB(i,e))}return n}function bB(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new V("Unable to normalize signature.");return s}const EB=t=>{const e=typeof t=="string"?t:kj(t);return bB(e)};function G3(t){return Rj(EB(t))}const qC=G3,HC=t=>by(G3(t),0,4);function VC(t){const{abi:e,args:n=[],name:r}=t,s=wo(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?HC(a)===r:a.type==="event"?qC(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?z1(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=K3(a.inputs,o.inputs,n);if(l)throw new SL({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function z1(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Xs(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>z1(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>z1(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function K3(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return K3(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Xs(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Xs(n[r],{strict:!1}):!1)return o}}const Qw="/docs/contract/decodeFunctionResult";function GC(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=VC({abi:e,args:n,name:r});if(!a)throw new yy(r,{docsPath:Qw});i=a}if(i.type!=="function")throw new yy(void 0,{docsPath:Qw});if(!i.outputs)throw new xL(i.name,{docsPath:Qw});const o=N0(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const z2="/docs/contract/encodeFunctionData";function _B(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=VC({abi:e,args:n,name:r});if(!i)throw new yy(r,{docsPath:z2});s=i}if(s.type!=="function")throw new yy(void 0,{docsPath:z2});return{abi:[s],functionName:HC(Ga(s))}}function Vp(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:_B(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?u3(s.inputs,e??[]):void 0;return C0([i,o??"0x"])}function KC({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new T1({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new T1({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const Y3={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},CB={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},xB={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function SB(t){const{abi:e,data:n}=t,r=by(n,0,4);if(r==="0x")throw new _0;const i=[...e||[],CB,xB].find(o=>o.type==="error"&&r===HC(Ga(o)));if(!i)throw new GO(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?N0(i.inputs,by(n,4)):void 0,errorName:i.name}}function Z3({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?er(e[i]):e[i]}`).join(", ")})`}class AB extends V{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f,stateOverride:h}){var w;const p=n?Sn(n):void 0;let g=zp({from:p==null?void 0:p.address,to:d,value:typeof f<"u"&&`${LC(f)} ${((w=s==null?void 0:s.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Nr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Nr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Nr(l)} gwei`,nonce:u});h&&(g+=`
${JM(h)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Q3 extends V{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=VC({abi:n,args:r,name:o}),l=c?Z3({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Ga(c,{includeName:!0}):void 0,d=zp({address:s&&MM(s),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class W1 extends V{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=SB({abi:e,data:n});const{abiItem:u,errorName:d,args:f}=o;if(d==="Error")c=f[0];else if(d==="Panic"){const[h]=f;c=Y3[h]}else{const h=u?Ga(u,{includeName:!0}):void 0,p=u&&f?Z3({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){i=u}else s&&(c=s);let l;i instanceof GO&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class IB extends V{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class TB extends V{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class YC extends V{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function NB(t,e){var r,s,i,o,a,c;if(!(t instanceof V))return!1;const n=t.walk(l=>l instanceof W1);return n instanceof W1?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((i=n.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||n.reason===Y3[50]):!1}function PB(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return wo(e)?e:null}function RB(t){return`[${t.slice(2)}]`}function OB(t){const e=new Uint8Array(32).fill(0);return t?PB(t)||_d(Pu(t)):rr(e)}function kB(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Pu(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let o=Pu(s[i]);o.byteLength>255&&(o=Pu(RB(OB(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const $B=3;function Cy(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof YC?t:t instanceof V?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:f}=a,h=t instanceof _0?new IB({functionName:i}):[$B,rl.code].includes(c)&&(l||u||d||f)?new W1({abi:e,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof jC?u:f??d}):t;return new Q3(h,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}const DB="0.1.1";function UB(){return DB}let X3=class q1 extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof q1){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof q1&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${UB()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return J3(this,e)}};function J3(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?J3(t.cause,e):e?null:t}function LB(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new BB({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function Xi(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new jB({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?MB(c,r):c}function MB(t,e){return LB(t,{dir:"left",size:e})}let jB=class extends X3{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},BB=class extends X3{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function FB(t){return{address:t.address,amount:Xi(t.amount),index:Xi(t.index),validatorIndex:Xi(t.validatorIndex)}}function zB(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Xi(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Xi(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Xi(t.gasLimit)},...typeof t.number=="bigint"&&{number:Xi(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Xi(t.prevRandao)},...typeof t.time=="bigint"&&{time:Xi(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(FB)}}}const WB="0x82ad56cb",qB="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",HB="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function VB(t,{docsPath:e,...n}){const r=(()=>{const s=BC(t,n);return s instanceof A0?t:s})();return new AB(r,{docsPath:e,...n})}function ZC(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const Xw=new Map;function ek({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const d=u.map(({args:f})=>f);d.length!==0&&t(d).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let h=0;h<u.length;h++){const{resolve:p}=u[h];p==null||p([f[h],f])}}).catch(f=>{for(let h=0;h<u.length;h++){const{reject:p}=u[h];p==null||p(f)}})},o=()=>Xw.delete(e),a=()=>c().map(({args:u})=>u),c=()=>Xw.get(e)||[],l=u=>Xw.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:f,reject:h}=ZC();return(n==null?void 0:n([...a(),u]))&&i(),c().length>0?(l({args:u,resolve:f,reject:h}),d):(l({args:u,resolve:f,reject:h}),setTimeout(i,r),d)}}}async function tk(t,e){var U,B,I,N;const{account:n=t.account,authorizationList:r,batch:s=!!((U=t.batch)!=null&&U.multicall),blockNumber:i,blockTag:o="latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:f,factoryData:h,gas:p,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:v,to:_,value:E,stateOverride:x,...S}=e,T=n?Sn(n):void 0;if(u&&(f||h))throw new V("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&_)throw new V("Cannot provide both `code` & `to` as parameters.");const C=u&&d,R=f&&h&&_&&d,O=C||R,L=C?YB({code:u,data:d}):R?ZB({data:d,factory:f,factoryData:h,to:_}):d;try{Wp(e);const k=(typeof i=="bigint"?Se(i):void 0)||o,$=l?zB(l):void 0,j=x3(x),F=(N=(I=(B=t.chain)==null?void 0:B.formatters)==null?void 0:I.transactionRequest)==null?void 0:N.format,Y=(F||I0)({...FC(S,{format:F}),from:T==null?void 0:T.address,accessList:a,authorizationList:r,blobs:c,data:L,gas:p,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:v,to:O?void 0:_,value:E});if(s&&GB({request:Y})&&!j&&!$)try{return await KB(t,{...Y,blockNumber:i,blockTag:o})}catch(ge){if(!(ge instanceof g3)&&!(ge instanceof T1))throw ge}const Z=(()=>{const ge=[Y,k];return j&&$?[...ge,j,$]:j?[...ge,j]:$?[...ge,{},$]:ge})(),se=await t.request({method:"eth_call",params:Z});return se==="0x"?{data:void 0}:{data:se}}catch(M){const k=QB(M),{offchainLookup:$,offchainLookupSignature:j}=await Fn(async()=>{const{offchainLookup:F,offchainLookupSignature:H}=await import("./ccip-BeI_KHJu.js");return{offchainLookup:F,offchainLookupSignature:H}},[]);if(t.ccipRead!==!1&&(k==null?void 0:k.slice(0,10))===j&&_)return{data:await $(t,{data:k,to:_})};throw O&&(k==null?void 0:k.slice(0,10))==="0x101bb98d"?new TB({factory:f}):VB(M,{...e,account:T,chain:t.chain})}}function GB({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(WB)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function KB(t,e){var g;const{batchSize:n=1024,wait:r=0}=typeof((g=t.batch)==null?void 0:g.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:a,to:c}=e;let l=a;if(!l){if(!t.chain)throw new g3;l=KC({blockNumber:s,chain:t.chain,contract:"multicall3"})}const d=(typeof s=="bigint"?Se(s):void 0)||i,{schedule:f}=ek({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(w){return w.reduce((y,{data:v})=>y+(v.length-2),0)>n*2},fn:async w=>{const m=w.map(_=>({allowFailure:!0,callData:_.data,target:_.to})),y=Vp({abi:L1,args:[m],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{data:y,to:l},d]});return GC({abi:L1,args:[m],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:h,success:p}]=await f({data:o,to:c});if(!p)throw new YC({data:h});return h==="0x"?{data:void 0}:{data:h}}function YB(t){const{code:e,data:n}=t;return DC({abi:V3(["constructor(bytes, bytes)"]),bytecode:qB,args:[e,n]})}function ZB(t){const{data:e,factory:n,factoryData:r,to:s}=t;return DC({abi:V3(["constructor(address, bytes, address, bytes)"]),bytecode:HB,args:[s,e,n,r]})}function QB(t){var n;if(!(t instanceof V))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function QC(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=Vp({abi:n,args:s,functionName:i});try{const{data:c}=await ft(t,tk,"call")({...o,data:a,to:r});return GC({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw Cy(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function XB(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=KC({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:vj,functionName:"reverse",args:[tl(kB(c))],blockNumber:n,blockTag:r},u=ft(t,QC,"readContract"),[d,f]=s?await u({...l,args:[...l.args,s]}):await u(l);return e.toLowerCase()!==f.toLowerCase()?null:d}catch(l){if(i)throw l;if(NB(l))return null;throw l}}function JB(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(n[o]=c.request)})),i=>n[i]||t.request}async function eF(t){const e=JB(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const tF=new Map,nF=new Map;function rF(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,tF),r=e(t,nF);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function sF(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=rF(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const iF=t=>`blockNumber.${t}`;async function oF(t,{cacheTime:e=t.cacheTime}={}){const n=await sF(()=>t.request({method:"eth_blockNumber"}),{cacheKey:iF(t.uid),cacheTime:e});return BigInt(n)}function nk(t,e){if(!Xs(t,{strict:!1}))throw new Ya({address:t});if(!Xs(e,{strict:!1}))throw new Ya({address:e});return t.toLowerCase()===e.toLowerCase()}const W2="/docs/contract/decodeEventLog";function aF(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new CL({docsPath:W2});const c=e.find(g=>g.type==="event"&&o===qC(Ga(g)));if(!(c&&"name"in c)||c.type!=="event")throw new KO(o,{docsPath:W2});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(g=>!("name"in g&&g.name)),f=d?[]:{},h=u.map((g,w)=>[g,w]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<h.length;g++){const[w,m]=h[g],y=a[g];if(!y)throw new YO({abiItem:c,param:w});f[d?m:w.name||m]=cF({param:w,value:y})}const p=u.filter(g=>!("indexed"in g&&g.indexed));if(p.length>0){if(n&&n!=="0x")try{const g=N0(p,n);if(g)if(d)for(let w=0;w<u.length;w++)f[w]=f[w]??g.shift();else for(let w=0;w<p.length;w++)f[p[w].name]=g[w]}catch(g){if(i)throw g instanceof VO||g instanceof d3?new A1({abiItem:c,data:n,params:p,size:Ft(n)}):g}else if(i)throw new A1({abiItem:c,data:"0x",params:p,size:0})}return{eventName:l,args:Object.values(f).length>0?f:void 0}}function cF({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(N0([t],e)||[])[0]}function lF(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(u=>u.type==="event"&&o.topics[0]===qC(u));if(!c)return null;const l=aF({...o,abi:[c],strict:s});return i&&!i.includes(l.eventName)||!uF({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,u;if(c instanceof KO)return null;if(c instanceof A1||c instanceof YO){if(s)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function uF(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?nk(o,a):i.type==="string"||i.type==="bytes"?_d(v0(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,e[i])):!1}):!1}function rk(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function dF(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>rk(i));return!("abi"in e)||!e.abi?s:lF({abi:e.abi,logs:s,strict:n})}async function sk(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var u,d,f;const o=r||"latest",a=n!==void 0?Se(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Se(i)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,Se(i)]},{dedupe:!!a}),!c)throw new y3({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(((f=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:f.format)||_3)(c)}const ik={"0x0":"reverted","0x1":"success"};function fF(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>rk(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?bo(t.transactionIndex):null,status:t.status?ik[t.status]:null,type:t.type?E3[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function q2(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new w3({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||fF)(n)}async function hF(t,e){var m;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:i,blockTag:o,multicallAddress:a,stateOverride:c}=e,l=e.contracts,u=s??(typeof((m=t.batch)==null?void 0:m.multicall)=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=KC({blockNumber:i,chain:t.chain,contract:"multicall3"})}const f=[[]];let h=0,p=0;for(let y=0;y<l.length;y++){const{abi:v,address:_,args:E,functionName:x}=l[y];try{const S=Vp({abi:v,args:E,functionName:x});p+=(S.length-2)/2,u>0&&p>u&&f[h].length>0&&(h++,p=(S.length-2)/2,f[h]=[]),f[h]=[...f[h],{allowFailure:!0,callData:S,target:_}]}catch(S){const T=Cy(S,{abi:v,address:_,args:E,docsPath:"/docs/contract/multicall",functionName:x,sender:n});if(!r)throw T;f[h]=[...f[h],{allowFailure:!0,callData:"0x",target:_}]}}const g=await Promise.allSettled(f.map(y=>ft(t,QC,"readContract")({abi:L1,account:n,address:d,args:[y],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:c}))),w=[];for(let y=0;y<g.length;y++){const v=g[y];if(v.status==="rejected"){if(!r)throw v.reason;for(let E=0;E<f[y].length;E++)w.push({status:"failure",error:v.reason,result:void 0});continue}const _=v.value;for(let E=0;E<_.length;E++){const{returnData:x,success:S}=_[E],{callData:T}=f[y][E],{abi:C,address:R,functionName:O,args:L}=l[w.length];try{if(T==="0x")throw new _0;if(!S)throw new YC({data:x});const U=GC({abi:C,args:L,data:x,functionName:O});w.push(r?{result:U,status:"success"}:U)}catch(U){const B=Cy(U,{abi:C,address:R,args:L,docsPath:"/docs/contract/multicall",functionName:O});if(!r)throw B;w.push({error:B,result:void 0,status:"failure"})}}}if(w.length!==l.length)throw new V("multicall results mismatch");return w}const Pg=new x0(8192);function pF(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Pg.get(n))return Pg.get(n);const r=t().finally(()=>Pg.delete(n));return Pg.set(n,r),r}async function xy(t){return new Promise(e=>setTimeout(e,t))}function Sy(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await xy(u),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}function gF(t,e={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(l))throw new Ic(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new Ic(new Error("method not supported"),{method:l});const u=s?b0(`${c}.${er(n)}`):void 0;return pF(()=>Sy(async()=>{try{return await t(n)}catch(f){const h=f;switch(h.code){case Oh.code:throw new Oh(h);case kh.code:throw new kh(h);case $h.code:throw new $h(h,{method:n.method});case Dh.code:throw new Dh(h);case rl.code:throw new rl(h);case Uh.code:throw new Uh(h);case Lh.code:throw new Lh(h);case Ua.code:throw new Ua(h);case rd.code:throw new rd(h);case Ic.code:throw new Ic(h,{method:n.method});case sd.code:throw new sd(h);case Mh.code:throw new Mh(h);case Xt.code:throw new Xt(h);case jh.code:throw new jh(h);case Bh.code:throw new Bh(h);case Fh.code:throw new Fh(h);case zh.code:throw new zh(h);case Pi.code:throw new Pi(h);case id.code:throw new id(h);case Wh.code:throw new Wh(h);case qh.code:throw new qh(h);case Hh.code:throw new Hh(h);case Vh.code:throw new Vh(h);case Gh.code:throw new Gh(h);case od.code:throw new od(h);case 5e3:throw new Xt(h);default:throw f instanceof V?f:new BM(h)}}},{delay:({count:f,error:h})=>{var p;if(h&&h instanceof Yf){const g=(p=h==null?void 0:h.headers)==null?void 0:p.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>mF(f)}),{enabled:s,id:u})}}function mF(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===sd.code||t.code===rl.code:t instanceof Yf&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function yF(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function ok(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(e)},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function wF(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const H2=wF();function vF(t,e={}){return{async request(n){var d;const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const f=await ok(async({signal:p})=>{const g={...a,body:Array.isArray(r)?er(r.map(v=>({jsonrpc:"2.0",id:v.id??H2.take(),...v}))):er({jsonrpc:"2.0",id:r.id??H2.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?p:null)},w=new Request(t,g),m=await(s==null?void 0:s(w,g))??{...g,url:t};return await fetch(m.url??t,m)},{errorInstance:new k2({body:r,url:t}),timeout:o,signal:!0});i&&await i(f);let h;if((d=f.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))h=await f.json();else{h=await f.text();try{h=JSON.parse(h||"{}")}catch(p){if(f.ok)throw p;h={error:h}}}if(!f.ok)throw new Yf({body:r,details:er(h.error)||f.statusText,headers:f.headers,status:f.status,url:t});return h}catch(f){throw f instanceof Yf||f instanceof k2?f:new Yf({body:r,cause:f,url:t})}}}}class bF extends V{constructor({domain:e}){super(`Invalid domain "${er(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class EF extends V{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class _F extends V{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function CF(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(c,l)=>{const u={...l};for(const d of c){const{name:f,type:h}=d;h==="address"&&(u[f]=u[f].toLowerCase())}return u},o=s.EIP712Domain?e?i(s.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return er({domain:o,message:a,primaryType:r,types:s})}function xF(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(o,a)=>{for(const c of o){const{name:l,type:u}=c,d=a[l],f=u.match(l3);if(f&&(typeof d=="number"||typeof d=="bigint")){const[g,w,m]=f;Se(d,{signed:w==="int",size:Number.parseInt(m)/8})}if(u==="address"&&typeof d=="string"&&!Xs(d))throw new Ya({address:d});const h=u.match(lM);if(h){const[g,w]=h;if(w&&Ft(d)!==Number.parseInt(w))throw new AL({expectedSize:Number.parseInt(w),givenSize:Ft(d)})}const p=s[u];p&&(AF(u),i(p,d))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new bF({domain:e});i(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new EF({primaryType:r,types:s})}function SF({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function AF(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new _F({type:t})}class IF extends V{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function TF(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new IF({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}const Jw=new Map,V2=new Map;let NF=0;function Zh(t,e,n){const r=++NF,s=()=>Jw.get(t)||[],i=()=>{const u=s();Jw.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=s();if(!u.some(f=>f.id===r))return;const d=V2.get(t);if(u.length===1&&d){const f=d();f instanceof Promise&&f.catch(()=>{})}i()},a=s();if(Jw.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...d)=>{var h,p;const f=s();if(f.length!==0)for(const g of f)(p=(h=g.fns)[u])==null||p.call(h,...d)};const l=n(c);return typeof l=="function"&&V2.set(t,l),o}function XC(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await xy(c);const l=async()=>{s&&(await t({unpoll:i}),await xy(r),l())};l()})(),i}function PF(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=er(["watchBlockNumber",t.uid,e,n,o]);return Zh(d,{onBlockNumber:r,onError:s},f=>XC(async()=>{var h;try{const p=await ft(t,oF,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let g=c+1n;g<p;g++)f.onBlockNumber(g,c),c=g}(!c||p>c)&&(f.onBlockNumber(p,c),c=p)}catch(p){(h=f.onError)==null||h.call(f,p)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=er(["watchBlockNumber",t.uid,e,n]);return Zh(d,{onBlockNumber:r,onError:s},f=>{let h=!0,p=()=>h=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const m=t.transport.transports.find(y=>y.config.type==="webSocket"||y.config.type==="ipc");return m?m.value:t.transport}return t.transport})(),{unsubscribe:w}=await g.subscribe({params:["newHeads"],onData(m){var v;if(!h)return;const y=vo((v=m.result)==null?void 0:v.number);f.onBlockNumber(y,c),c=y},onError(m){var y;(y=f.onError)==null||y.call(f,m)}});p=w,h||p()}catch(g){s==null||s(g)}})(),()=>p()})})()}async function RF(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function OF(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=er(["watchPendingTransactions",t.uid,e,i]);return Zh(l,{onTransactions:r,onError:n},u=>{let d;const f=XC(async()=>{var h;try{if(!d)try{d=await ft(t,eF,"createPendingTransactionFilter")({});return}catch(g){throw f(),g}const p=await ft(t,dF,"getFilterChanges")({filter:d});if(p.length===0)return;if(e)u.onTransactions(p);else for(const g of p)u.onTransactions([g])}catch(p){(h=u.onError)==null||h.call(u,p)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await ft(t,RF,"uninstallFilter")({filter:d}),f()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!l)return;const h=f.result;r([h])},onError(f){n==null||n(f)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}async function kF(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Fp(r))}async function $F(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function DF(t,e={}){const{account:n=t.account,chainId:r}=e,s=n?Sn(n):void 0,i=r?[s==null?void 0:s.address,[Se(r)]]:[s==null?void 0:s.address],o=await t.request({method:"wallet_getCapabilities",params:i}),a={};for(const[c,l]of Object.entries(o)){a[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=d}return typeof r=="number"?a[r]:a}const ak="0x5792579257925792579257925792579257925792579257925792579257925792",ck=Se(0,{size:32});async function UF(t,e){const{account:n=t.account,capabilities:r,chain:s=t.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=e,u=n?Sn(n):null,d=e.calls.map(f=>{const h=f,p=h.abi?Vp({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&p?Ka([p,h.dataSuffix]):p,to:h.to,value:h.value?Se(h.value):void 0}});try{const f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:Se(s.id),from:u==null?void 0:u.address,id:c,version:l}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const h=f;if(i&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method"))){if(r&&Object.values(r).some(y=>!y.optional)){const y="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new id(new V(y,{details:y}))}if(a&&d.length>1){const m="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new od(new V(m,{details:m}))}const p=[];for(const m of d){const y=Hp(t,{account:u,chain:s,data:m.data,to:m.to,value:m.value?vo(m.value):void 0});p.push(y),o>0&&await new Promise(v=>setTimeout(v,o))}const g=await Promise.allSettled(p);if(g.every(m=>m.status==="rejected"))throw g[0].reason;const w=g.map(m=>m.status==="fulfilled"?m.value:ck);return{id:Ka([...w,Se(s.id,{size:32}),ak])}}throw v3(f,{...e,account:u,chain:e.chain})}}async function lk(t,e){async function n(u){if(u.endsWith(ak.slice(2))){const f=Ed(I1(u,-64,-32)),h=I1(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(h.map(w=>ck.slice(2)!==w?t.request({method:"eth_getTransactionReceipt",params:[`0x${w}`]},{dedupe:!0}):void 0)),g=p.some(w=>w===null)?100:p.every(w=>(w==null?void 0:w.status)==="0x1")?200:p.every(w=>(w==null?void 0:w.status)==="0x0")?500:600;return{atomic:!1,chainId:bo(f),receipts:p.filter(Boolean),status:g,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(e.id),[c,l]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:s?bo(s):void 0,receipts:(i==null?void 0:i.map(u=>({...u,blockNumber:vo(u.blockNumber),gasUsed:vo(u.gasUsed),status:ik[u.status]})))??[],statusCode:l,status:c,version:o}}async function LF(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function MF(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:f})=>f>=200,timeout:i=6e4}=e,o=er(["waitForCallsStatus",t.uid,n]),{promise:a,resolve:c,reject:l}=ZC();let u;const d=Zh(o,{resolve:c,reject:l},f=>{const h=XC(async()=>{const p=g=>{clearTimeout(u),h(),g(),d()};try{const g=await lk(t,{id:n});if(!s(g))return;p(()=>f.resolve(g))}catch(g){p(()=>f.reject(g))}},{interval:r,emitOnBegin:!0});return h});return u=i?setTimeout(()=>{d(),clearTimeout(u),l(new jF({id:n}))},i):void 0,await a}class jF extends V{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function BF(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=er(["waitForTransactionReceipt",t.uid,n]);let l,u,d,f=!1,h,p;const{promise:g,resolve:w,reject:m}=ZC(),y=a?setTimeout(()=>{p(),h(),m(new LM({hash:n}))},a):void 0;return h=Zh(c,{onReplaced:r,resolve:w,reject:m},v=>{p=ft(t,PF,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(_){const E=S=>{clearTimeout(y),p(),S(),h()};let x=_;if(!f)try{if(d){if(e>1&&(!d.blockNumber||x-d.blockNumber+1n<e))return;E(()=>v.resolve(d));return}if(l||(f=!0,await Sy(async()=>{l=await ft(t,sk,"getTransaction")({hash:n}),l.blockNumber&&(x=l.blockNumber)},{delay:o,retryCount:i}),f=!1),d=await ft(t,q2,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||x-d.blockNumber+1n<e))return;E(()=>v.resolve(d))}catch(S){if(S instanceof y3||S instanceof w3){if(!l){f=!1;return}try{u=l,f=!0;const T=await Sy(()=>ft(t,Kh,"getBlock")({blockNumber:x,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:O})=>O instanceof b3});f=!1;const C=T.transactions.find(({from:O,nonce:L})=>O===u.from&&L===u.nonce);if(!C||(d=await ft(t,q2,"getTransactionReceipt")({hash:C.hash}),e>1&&(!d.blockNumber||x-d.blockNumber+1n<e)))return;let R="replaced";C.to===u.to&&C.value===u.value&&C.input===u.input?R="repriced":C.from===C.to&&C.value===0n&&(R="cancelled"),E(()=>{var O;(O=v.onReplaced)==null||O.call(v,{reason:R,replacedTransaction:u,transaction:C,transactionReceipt:d}),v.resolve(d)})}catch(T){E(()=>v.reject(T))}}else E(()=>v.reject(S))}}})}),g}async function FF(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>_a(n))}async function zF(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function uk(t,e){var c;const{account:n=t.account,chainId:r,nonce:s}=e;if(!n)throw new _l({docsPath:"/docs/eip7702/prepareAuthorization"});const i=Sn(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Sn(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await ft(t,qp,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await ft(t,I3,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&nk(o.address,i.address))&&(a.nonce+=1)),a}async function WF(t,e){const{account:n=t.account}=e;if(!n)throw new _l({docsPath:"/docs/eip7702/signAuthorization"});const r=Sn(n);if(!r.signAuthorization)throw new Tm({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await uk(t,e);return r.signAuthorization(s)}async function qF(t,e){var l,u,d,f;const{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new _l({docsPath:"/docs/actions/wallet/signTransaction"});const i=Sn(n);Wp({account:i,...e});const o=await ft(t,qp,"getChainId")({});r!==null&&m3({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=t.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||I0;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:(f=(d=t.chain)==null?void 0:d.serializers)==null?void 0:f.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(s),chainId:Se(o),from:i.address}]},{retryCount:0})}async function dk(t,{account:e=t.account,message:n}){if(!e)throw new _l({docsPath:"/docs/actions/wallet/signMessage"});const r=Sn(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?b0(n):n.raw instanceof Uint8Array?tl(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function HF(t,e){const{account:n=t.account,domain:r,message:s,primaryType:i}=e;if(!n)throw new _l({docsPath:"/docs/actions/wallet/signTypedData"});const o=Sn(n),a={EIP712Domain:SF({domain:r}),...e.types};if(xF({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=CF({domain:r,message:s,primaryType:i,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function VF(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Se(e)}]},{retryCount:0})}async function GF(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function fk(t,e){const{abi:n,account:r=t.account,address:s,args:i,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new _l({docsPath:"/docs/contract/writeContract"});const l=r?Sn(r):null,u=Vp({abi:n,args:i,functionName:a});try{return await ft(t,Hp,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:s,account:l,...c})}catch(d){throw Cy(d,{abi:n,address:s,args:i,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}function Gr(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const Nm="2.17.3",KF=()=>`@wagmi/core@${Nm}`;var hk=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ay,pk;let Ao=class H1 extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return KF()}constructor(e,n={}){var i;super(),Ay.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof H1?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof H1&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return hk(this,Ay,"m",pk).call(this,this,e)}};Ay=new WeakSet,pk=function t(e,n){return n!=null&&n(e)?e:e.cause?hk(this,Ay,"m",t).call(this,e.cause,n):e};class Qh extends Ao{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class YF extends Ao{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class ZF extends Ao{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class QF extends Ao{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class XF extends Ao{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class JF extends Ao{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Pm(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new YF;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await n.connect(i),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(s){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}const V1=256;let Rg=V1,Og;function gk(t=11){if(!Og||Rg+t>V1*2){Og="",Rg=0;for(let e=0;e<V1;e++)Og+=(256+Math.random()*256|0).toString(16).substring(1)}return Og.substring(Rg,Rg+++t)}function mk(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,a=(n==null?void 0:n.blockTime)??12e3,c=Math.min(Math.max(Math.floor(a/2),500),4e3),l=t.pollingInterval??c,u=t.cacheTime??l,d=t.account?Sn(t.account):void 0,{config:f,request:h,value:p}=t.transport({chain:n,pollingInterval:l}),g={...f,...p},w={account:d,batch:e,cacheTime:u,ccipRead:r,chain:n,key:s,name:i,pollingInterval:l,request:h,transport:g,type:o,uid:gk()};function m(y){return v=>{const _=v(y);for(const x in w)delete _[x];const E={...y,..._};return Object.assign(E,{extend:m(E)})}}return Object.assign(w,{extend:m(w)})}function JC({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=gk();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:gF(r,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}function e9(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>JC({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}function G2(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=t9,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let f=t,h=()=>{};const p=JC({key:n,name:r,async request({method:g,params:w}){let m;const y=async(v=0)=>{const _=f[v]({...d,chain:c,retryCount:0,timeout:u});try{const E=await _.request({method:g,params:w});return h({method:g,params:w,response:E,transport:_,status:"success"}),E}catch(E){if(h({error:E,method:g,params:w,transport:_,status:"error"}),i(E)||v===f.length-1||(m??(m=f.slice(v+1).some(x=>{const{include:S,exclude:T}=x({chain:c}).config.methods||{};return S?S.includes(g):T?!T.includes(g):!0})),!m))throw E;return y(v+1)}};return y()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>h=g,transports:f.map(g=>g({chain:c,retryCount:0}))});if(s){const g=typeof s=="object"?s:{};n9({chain:c,interval:g.interval??l,onTransports:w=>f=w,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:f,weights:g.weights})}return p}}function t9(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===rd.code||t.code===Xt.code||Ac.nodeMessage.test(t.message)||t.code===5e3))}function n9({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const f=await Promise.all(o.map(async g=>{const w=g({chain:t,retryCount:0,timeout:i}),m=Date.now();let y,v;try{await(r?r({transport:w}):w.request({method:"net_listening"})),v=1}catch{v=0}finally{y=Date.now()}return{latency:y-m,success:v}}));u.push(f),u.length>s&&u.shift();const h=Math.max(...u.map(g=>Math.max(...g.map(({latency:w})=>w)))),p=o.map((g,w)=>{const m=u.map(x=>x[w].latency),v=1-m.reduce((x,S)=>x+S,0)/m.length/h,_=u.map(x=>x[w].success),E=_.reduce((x,S)=>x+S,0)/_.length;return E===0?[0,w]:[l*v+c*E,w]}).sort((g,w)=>w[0]-g[0]);n(p.map(([,g])=>o[g])),await xy(e),d()};d()}class r9 extends V{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function kg(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:f,timeout:h})=>{const{batchSize:p=1e3,wait:g=0}=typeof n=="object"?n:{},w=e.retryCount??f,m=h??e.timeout??1e4,y=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!y)throw new r9;const v=vF(y,{fetchOptions:r,onRequest:a,onResponse:c,timeout:m});return JC({key:s,methods:i,name:o,async request({method:_,params:E}){const x={method:_,params:E},{schedule:S}=ek({id:y,wait:g,shouldSplitBatch(O){return O.length>p},fn:O=>v.request({body:O}),sort:(O,L)=>O.id-L.id}),T=async O=>n?S(O):[await v.request({body:O})],[{error:C,result:R}]=await T(x);if(u)return{error:C,result:R};if(C)throw new jC({body:x,error:C,url:y});return R},retryCount:w,retryDelay:l,timeout:m,type:"http"},{fetchOptions:r,url:y})}}function s9(t){return{addChain:e=>yL(t,e),deployContract:e=>yj(t,e),getAddresses:()=>kF(t),getCallsStatus:e=>lk(t,e),getCapabilities:e=>DF(t,e),getChainId:()=>qp(t),getPermissions:()=>$F(t),prepareAuthorization:e=>uk(t,e),prepareTransactionRequest:e=>T0(t,e),requestAddresses:()=>FF(t),requestPermissions:e=>zF(t,e),sendCalls:e=>UF(t,e),sendRawTransaction:e=>k3(t,e),sendTransaction:e=>Hp(t,e),showCallsStatus:e=>LF(t,e),signAuthorization:e=>WF(t,e),signMessage:e=>dk(t,e),signTransaction:e=>qF(t,e),signTypedData:e=>HF(t,e),switchChain:e=>VF(t,e),waitForCallsStatus:e=>MF(t,e),watchAsset:e=>GF(t,e),writeContract:e=>fk(t,e)}}async function Gp(t,e={}){let n;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new JF({connector:l});const[u,d]=await Promise.all([l.getAccounts().catch(f=>{if(e.account===null)return[];throw f}),l.getChainId()]);n={accounts:u,chainId:d,connector:l}}else n=t.state.connections.get(t.state.current);if(!n)throw new ZF;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new XF({connectionChainId:n.chainId,connectorChainId:s});const i=n.connector;if(i.getClient)return i.getClient({chainId:r});const o=Sn(e.account??n.accounts[0]);if(o&&(o.address=_a(o.address)),e.account&&!n.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new QF({address:o.address,connector:i});const a=t.chains.find(l=>l.id===r),c=await n.connector.getProvider({chainId:r});return mk({account:o,chain:a,name:"Connector Client",transport:l=>e9(c)({...l,retryCount:0})})}async function yk(t,e={}){var s,i;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(s=t.state.connections.get(o))==null?void 0:s.connector;if(!a)return;await((i=t.storage)==null?void 0:i.setItem("recentConnectorId",a.id))}}async function i9(t,e){const{chainId:n,connector:r,...s}=e;let i;e.account?i=e.account:i=(await Gp(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return Gr(o,A3,"estimateGas")({...s,account:i})}function wk(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(kM[t])}function Ou(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function o9(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=e,o=t.getClient({chainId:r});return Gr(o,hF,"multicall")({allowFailure:n,contracts:s,...i})}function a9(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return Gr(s,QC,"readContract")(r)}async function c9(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=e,o=e.contracts;try{const c={};for(const[f,h]of o.entries()){const p=h.chainId??t.state.chainId;c[p]||(c[p]=[]),(a=c[p])==null||a.push({contract:h,index:f})}const l=()=>Object.entries(c).map(([f,h])=>o9(t,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(f),contracts:h.map(({contract:p})=>p)})),u=(await Promise.all(l())).flat(),d=Object.values(c).flatMap(f=>f.map(({index:h})=>h));return u.reduce((f,h,p)=>(f&&(f[d[p]]=h),f),[])}catch(c){if(c instanceof Q3)throw c;const l=()=>o.map(u=>a9(t,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(l())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function l9(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=e;if(o)try{return await K2(t,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(f){if(f.name==="ContractFunctionExecutionError"){const h=await K2(t,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),p=qO(Ed(h.symbol,{dir:"right"}));return{...h,symbol:p}}throw f}const c=t.getClient({chainId:i}),u=await Gr(c,S3,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=t.chains.find(f=>f.id===i)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:Cd(u,wk(a)),symbol:d.nativeCurrency.symbol,value:u}}async function K2(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,l,u]=await c9(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=Cd(c??"0",wk(o??l));return{decimals:l,formatted:d,symbol:u,value:c}}function Y2(t){return t.state.chainId}function il(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!il(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!il(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let $g=[];function hi(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||il($g,e)?$g:($g=e,e)}let ev=[];function Z2(t){const e=t.connectors;return il(ev,e)?ev:(ev=e,e)}function u9(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return Gr(s,XB,"getEnsName")(r)}async function d9(t,e={}){return(await Gp(t,e)).extend(s9)}async function f9(t,e){const{account:n,chainId:r,...s}=e,i=n??Ou(t).address,o=t.getClient({chainId:r});return Gr(o,T0,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}let tv=!1;async function G1(t,e={}){var l,u;if(tv)return[];tv=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const d of e.connectors){let f;typeof d=="function"?f=t._internal.connectors.setup(d):f=d,n.push(f)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of t.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,f)=>(s[d.id]??10)-(s[f.id]??10)):n;let o=!1;const a=[],c=[];for(const d of i){const f=await d.getProvider().catch(()=>{});if(!f||c.some(g=>g===f)||!await d.isAuthorized())continue;const p=await d.connect({isReconnecting:!0}).catch(()=>null);p&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(g=>{const w=new Map(o?g.connections:new Map).set(d.uid,{accounts:p.accounts,chainId:p.chainId,connector:d});return{...g,current:o?g.current:d.uid,connections:w}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:d}),c.push(f),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),tv=!1,a}async function h9(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await Gp(t,{account:n??void 0,chainId:r,connector:s}),await Gr(o,Hp,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function p9(t,e){const{account:n,connector:r,...s}=e;let i;return typeof n=="object"&&n.type==="local"?i=t.getClient():i=await Gp(t,{account:n,connector:r}),Gr(i,dk,"signMessage")({...s,...n?{account:n}:{}})}class Jo extends Ao{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class g9 extends Ao{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function Q2(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new g9({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const i=t.chains.find(a=>a.id===r);if(!i)throw new Qh;return t.setState(a=>({...a,chainId:r})),i}function vk(t,e){const{onChange:n}=e;return t.subscribe(()=>Ou(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return il(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function m9(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function y9(t,e){const{onChange:n}=e;return t.subscribe(()=>hi(t),n,{equalityFn:il})}function bk(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function w9(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const i=c=>{s&&s();const l=t.getClient({chainId:c});return s=Gr(l,OF,"watchPendingTransactions")(r),s},o=i(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>i(c))),()=>{o==null||o(),a==null||a()}}async function v9(t,e){const{chainId:n,timeout:r=0,...s}=e,i=t.getClient({chainId:n}),a=await Gr(i,BF,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const l=await Gr(i,sk,"getTransaction")({hash:a.transactionHash}),d=await Gr(i,tk,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),f=d!=null&&d.data?qO(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(f)}return{...a,chainId:i.chain.id}}async function b9(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await Gp(t,{account:n??void 0,chainId:r,connector:s}),await Gr(o,fk,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function h0e(t){return t}P0.type="injected";function P0(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...E9[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:P0.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)))},async connect({chainId:l,isReconnecting:u}={}){var h,p,g,w,m,y;const d=await this.getProvider();if(!d)throw new Jo;let f=[];if(u)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(w=(g=(p=(h=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:h.caveats)==null?void 0:p[0])==null?void 0:g.value)==null?void 0:w.map(_=>_a(_)),f.length>0&&(f=await this.getAccounts())}catch(v){const _=v;if(_.code===Xt.code)throw new Xt(_);if(_.code===Ua.code)throw _}try{!(f!=null&&f.length)&&!u&&(f=(await d.request({method:"eth_requestAccounts"})).map(E=>_a(E))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let v=await this.getChainId();if(l&&v!==l){const _=await this.switchChain({chainId:l}).catch(E=>{if(E.code===Xt.code)throw E;return{id:v}});v=(_==null?void 0:_.id)??v}return e&&await((m=c.storage)==null?void 0:m.removeItem(`${this.id}.disconnected`)),t.target||await((y=c.storage)==null?void 0:y.setItem("injected.connected",!0)),{accounts:f,chainId:v}}catch(v){const _=v;throw _.code===Xt.code?new Xt(_):_.code===Ua.code?new Ua(_):_}},async disconnect(){var u,d;const l=await this.getProvider();if(!l)throw new Jo;i&&(l.removeListener("chainChanged",i),i=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await ok(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new Jo;return(await l.request({method:"eth_accounts"})).map(d=>_a(d))},async getChainId(){const l=await this.getProvider();if(!l)throw new Jo;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=Rm(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),g=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(m=>window.addEventListener("ethereum#initialized",()=>m(p()),{once:!0}))]:[],new Promise(m=>setTimeout(()=>m(p()),g))]))return!0}throw new Jo}return!!(await Sy(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var p,g,w,m;const d=await this.getProvider();if(!d)throw new Jo;const f=c.chains.find(y=>y.id===u);if(!f)throw new Pi(new Qh);const h=new Promise(y=>{const v=_=>{"chainId"in _&&_.chainId===u&&(c.emitter.off("change",v),y())};c.emitter.on("change",v)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:Se(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),h]),f}catch(y){const v=y;if(v.code===4902||((g=(p=v==null?void 0:v.data)==null?void 0:p.originalError)==null?void 0:g.code)===4902)try{const{default:_,...E}=f.blockExplorers??{};let x;l!=null&&l.blockExplorerUrls?x=l.blockExplorerUrls:_&&(x=[_.url,...Object.values(E).map(C=>C.url)]);let S;(w=l==null?void 0:l.rpcUrls)!=null&&w.length?S=l.rpcUrls:S=[((m=f.rpcUrls.default)==null?void 0:m.http[0])??""];const T={blockExplorerUrls:x,chainId:Se(u),chainName:(l==null?void 0:l.chainName)??f.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??f.nativeCurrency,rpcUrls:S};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[T]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new Xt(new Error("User rejected switch after adding network."))}),h]),f}catch(_){throw new Xt(_)}throw v.code===Xt.code?new Xt(v):new Pi(v)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(d=>_a(d))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const d=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:d});const f=await this.getProvider();f&&(o&&(f.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),f.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const E9={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Rm(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Rm(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:Rm(t,"isPhantom")}}};function Rm(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function _9(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function C9(){const t=new Set;let e=[];const n=()=>_9(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const x9=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=f=>{const h=o(f);if(!u(d,h)){const p=d;a(d=h,p)}},c!=null&&c.fireImmediately&&a(d,d)}return s(l)},t(e,n,r)},S9=x9;function A9(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const K1=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return K1(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return K1(r)(n)}}}},I9=(t,e)=>(n,r,s)=>{let i={storage:A9(()=>localStorage),partialize:g=>g,version:0,merge:(g,w)=>({...w,...g}),...e},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...g)},r,s);const u=()=>{const g=i.partialize({...r()});return l.setItem(i.name,{state:g,version:i.version})},d=s.setState;s.setState=(g,w)=>{d(g,w),u()};const f=t((...g)=>{n(...g),u()},r,s);s.getInitialState=()=>f;let h;const p=()=>{var g,w;if(!l)return;o=!1,a.forEach(y=>{var v;return y((v=r())!=null?v:f)});const m=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(g=r())!=null?g:f))||void 0;return K1(l.getItem.bind(l))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var v;const[_,E]=y;if(h=i.merge(E,(v=r())!=null?v:f),n(h,!0),_)return u()}).then(()=>{m==null||m(h,void 0),h=r(),o=!0,c.forEach(y=>y(h))}).catch(y=>{m==null||m(void 0,y)})};return s.persist={setOptions:g=>{i={...i,...g},g.storage&&(l=g.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},i.skipHydration||p(),h||f},T9=I9,X2=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const f=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,s,a);return a},nv=t=>t?X2(t):X2;var Ek={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new s(u,d||c,f),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,f,h,p){var g=n?n+l:l;if(!this._events[g])return!1;var w=this._events[g],m=arguments.length,y,v;if(w.fn){switch(w.once&&this.removeListener(l,w.fn,void 0,!0),m){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,d),!0;case 4:return w.fn.call(w.context,u,d,f),!0;case 5:return w.fn.call(w.context,u,d,f,h),!0;case 6:return w.fn.call(w.context,u,d,f,h,p),!0}for(v=1,y=new Array(m-1);v<m;v++)y[v-1]=arguments[v];w.fn.apply(w.context,y)}else{var _=w.length,E;for(v=0;v<_;v++)switch(w[v].once&&this.removeListener(l,w[v].fn,void 0,!0),m){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,u);break;case 3:w[v].fn.call(w[v].context,u,d);break;case 4:w[v].fn.call(w[v].context,u,d,f);break;default:if(!y)for(E=1,y=new Array(m-1);E<m;E++)y[E-1]=arguments[E];w[v].fn.apply(w[v].context,y)}}return!0},a.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,f){var h=n?n+l:l;if(!this._events[h])return this;if(!u)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!d||p.context===d)&&o(this,h);else{for(var g=0,w=[],m=p.length;g<m;g++)(p[g].fn!==u||f&&!p[g].once||d&&p[g].context!==d)&&w.push(p[g]);w.length?this._events[h]=w.length===1?w[0]:w:o(this,h)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Ek);var N9=Ek.exports;const P9=vl(N9);class R9{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new P9})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function O9(t){return new R9(t)}function k9(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function J2(t,e){return t.slice(0,e).join(".")||"."}function eA(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function $9(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const l=eA(s,this);l===0?s[s.length]=this:(s.splice(l),i.splice(l)),i[i.length]=a;const u=eA(s,c);if(u!==0)return r?e.call(this,a,c,J2(i,u)):`[ref=${J2(i,u)}]`}else s[0]=c,i[0]=a;return n?t.call(this,a,c):c}}function D9(t,e,n,r){return JSON.stringify(t,$9((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),n??void 0)}function U9(t){const{deserialize:e=k9,key:n="wagmi",serialize:r=D9,storage:s=_k}=t;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),l=await i(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const _k={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function L9(){const t=typeof window<"u"&&window.localStorage?window.localStorage:_k;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const Y1=256;let Dg=Y1,Ug;function M9(t=11){if(!Ug||Dg+t>Y1*2){Ug="",Dg=0;for(let e=0;e<Y1;e++)Ug+=(256+Math.random()*256|0).toString(16).substring(1)}return Ug.substring(Dg,Dg+++t)}function j9(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=U9({storage:L9()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?C9():void 0,a=nv(()=>i.chains),c=nv(()=>{const E=[],x=new Set;for(const S of i.connectors??[]){const T=l(S);if(E.push(T),!s&&T.rdns){const C=typeof T.rdns=="string"?[T.rdns]:T.rdns;for(const R of C)x.add(R)}}if(!s&&o){const S=o.getProviders();for(const T of S)x.has(T.info.rdns)||E.push(l(u(T)))}return E});function l(E){var T;const x=O9(M9()),S={...E({emitter:x,chains:a.getState(),storage:n,transports:i.transports}),emitter:x,uid:x.uid};return x.on("connect",v),(T=S.setup)==null||T.call(S),S}function u(E){const{info:x}=E,S=E.provider;return P0({target:{...x,id:x.rdns,provider:S}})}const d=new Map;function f(E={}){const x=E.chainId??w.getState().chainId,S=a.getState().find(C=>C.id===x);if(E.chainId&&!S)throw new Qh;{const C=d.get(w.getState().chainId);if(C&&!S)return C;if(!S)throw new Qh}{const C=d.get(x);if(C)return C}let T;if(i.client)T=i.client({chain:S});else{const C=S.id,R=a.getState().map(U=>U.id),O={},L=Object.entries(i);for(const[U,B]of L)if(!(U==="chains"||U==="client"||U==="connectors"||U==="transports"))if(typeof B=="object")if(C in B)O[U]=B[C];else{if(R.some(N=>N in B))continue;O[U]=B}else O[U]=B;T=mk({...O,chain:S,batch:O.batch??{multicall:!0},transport:U=>i.transports[C]({...U,connectors:c})})}return d.set(x,T),T}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const g="0.0.0-canary-";Nm.startsWith(g)?p=Number.parseInt(Nm.replace(g,"")):p=Number.parseInt(Nm.split(".")[0]??"0");const w=nv(S9(n?T9(h,{migrate(E,x){if(x===p)return E;const S=h(),T=m(E,S.chainId);return{...S,chainId:T}},name:"store",partialize(E){return{connections:{__type:"Map",value:Array.from(E.connections.entries()).map(([x,S])=>{const{id:T,name:C,type:R,uid:O}=S.connector;return[x,{...S,connector:{id:T,name:C,type:R,uid:O}}]})},chainId:E.chainId,current:E.current}},merge(E,x){typeof E=="object"&&E&&"status"in E&&delete E.status;const S=m(E,x.chainId);return{...x,...E,chainId:S}},skipHydration:s,storage:n,version:p}):h));w.setState(h());function m(E,x){return E&&typeof E=="object"&&"chainId"in E&&typeof E.chainId=="number"&&a.getState().some(S=>S.id===E.chainId)?E.chainId:x}r&&w.subscribe(({connections:E,current:x})=>{var S;return x?(S=E.get(x))==null?void 0:S.chainId:void 0},E=>{if(a.getState().some(S=>S.id===E))return w.setState(S=>({...S,chainId:E??S.chainId}))}),o==null||o.subscribe(E=>{const x=new Set,S=new Set;for(const C of c.getState())if(x.add(C.id),C.rdns){const R=typeof C.rdns=="string"?[C.rdns]:C.rdns;for(const O of R)S.add(O)}const T=[];for(const C of E){if(S.has(C.info.rdns))continue;const R=l(u(C));x.has(R.id)||T.push(R)}n&&!w.persist.hasHydrated()||c.setState(C=>[...C,...T],!0)});function y(E){w.setState(x=>{const S=x.connections.get(E.uid);return S?{...x,connections:new Map(x.connections).set(E.uid,{accounts:E.accounts??S.accounts,chainId:E.chainId??S.chainId,connector:S.connector})}:x})}function v(E){w.getState().status==="connecting"||w.getState().status==="reconnecting"||w.setState(x=>{const S=c.getState().find(T=>T.uid===E.uid);return S?(S.emitter.listenerCount("connect")&&S.emitter.off("connect",y),S.emitter.listenerCount("change")||S.emitter.on("change",y),S.emitter.listenerCount("disconnect")||S.emitter.on("disconnect",_),{...x,connections:new Map(x.connections).set(E.uid,{accounts:E.accounts,chainId:E.chainId,connector:S}),current:E.uid,status:"connected"}):x})}function _(E){w.setState(x=>{const S=x.connections.get(E.uid);if(S){const C=S.connector;C.emitter.listenerCount("change")&&S.connector.emitter.off("change",y),C.emitter.listenerCount("disconnect")&&S.connector.emitter.off("disconnect",_),C.emitter.listenerCount("connect")||S.connector.emitter.on("connect",v)}if(x.connections.delete(E.uid),x.connections.size===0)return{...x,connections:new Map,current:null,status:"disconnected"};const T=x.connections.values().next().value;return{...x,connections:new Map(x.connections),current:T.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:f,get state(){return w.getState()},setState(E){let x;typeof E=="function"?x=E(w.getState()):x=E;const S=h();typeof x!="object"&&(x=S),Object.keys(S).some(C=>!(C in x))&&(x=S),w.setState(x,!0)},subscribe(E,x,S){return w.subscribe(E,x,S?{...S,fireImmediately:S.emitImmediately}:void 0)},_internal:{mipd:o,store:w,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(E){const x=typeof E=="function"?E(a.getState()):E;if(x.length!==0)return a.setState(x,!0)},subscribe(E){return a.subscribe(E)}},connectors:{providerDetailToConnector:u,setup:l,setState(E){return c.setState(typeof E=="function"?E(c.getState()):E,!0)},subscribe(E){return c.subscribe(E)}},events:{change:y,connect:v,disconnect:_}}}}function B9(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var c;const i=new Set;for(const l of s??[])if(l.rdns){const u=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const d of u)i.add(d)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(i.has(l.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(l),d=t._internal.connectors.setup(u);o.push(d)}return[...s,...o]})),r?G1(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function F9(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:i}=B9(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=z.useRef(!0);return z.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),e}const Ck=z.createContext(void 0);function z9(t){const{children:e,config:n}=t,r={value:n};return z.createElement(F9,t,z.createElement(Ck.Provider,r,e))}const W9="2.15.6",q9=()=>`wagmi@${W9}`;let H9=class extends Ao{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return q9()}};class V9 extends H9{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function oc(t={}){const e=t.config??z.useContext(Ck);if(!e)throw new V9;return e}var xk={exports:{}},Sk={},Ak={exports:{}},Ik={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad=z;function G9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var K9=typeof Object.is=="function"?Object.is:G9,Y9=ad.useState,Z9=ad.useEffect,Q9=ad.useLayoutEffect,X9=ad.useDebugValue;function J9(t,e){var n=e(),r=Y9({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Q9(function(){s.value=n,s.getSnapshot=e,rv(s)&&i({inst:s})},[t,n,e]),Z9(function(){return rv(s)&&i({inst:s}),t(function(){rv(s)&&i({inst:s})})},[t]),X9(n),n}function rv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!K9(t,n)}catch{return!0}}function e7(t,e){return e()}var t7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?e7:J9;Ik.useSyncExternalStore=ad.useSyncExternalStore!==void 0?ad.useSyncExternalStore:t7;Ak.exports=Ik;var n7=Ak.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0=z,r7=n7;function s7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var i7=typeof Object.is=="function"?Object.is:s7,o7=r7.useSyncExternalStore,a7=R0.useRef,c7=R0.useEffect,l7=R0.useMemo,u7=R0.useDebugValue;Sk.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=a7(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=l7(function(){function c(h){if(!l){if(l=!0,u=h,h=r(h),s!==void 0&&o.hasValue){var p=o.value;if(s(p,h))return d=p}return d=h}if(p=d,i7(u,h))return p;var g=r(h);return s!==void 0&&s(p,g)?(u=h,p):(u=h,d=g)}var l=!1,u,d,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,s]);var a=o7(t,i[0],i[1]);return c7(function(){o.hasValue=!0,o.value=a},[a]),u7(a),a};xk.exports=Sk;var d7=xk.exports;const sv=t=>typeof t=="object"&&!Array.isArray(t);function f7(t,e,n=e,r=il){const s=z.useRef([]),i=d7.useSyncExternalStoreWithSelector(t,e,n,o=>o,(o,a)=>{if(sv(o)&&sv(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return z.useMemo(()=>{if(sv(i)){const o={...i};let a={};for(const[c,l]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),l)}};return Object.defineProperties(o,a),o}return i},[i])}function ex(t={}){const e=oc(t);return f7(n=>vk(e,{onChange:n}),()=>Ou(e))}var Sd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ol=typeof window>"u"||"Deno"in globalThis;function Qn(){}function h7(t,e){return typeof t=="function"?t(e):t}function Z1(t){return typeof t=="number"&&t>=0&&t!==1/0}function Tk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function La(t,e){return typeof t=="function"?t(e):t}function Bs(t,e){return typeof t=="function"?t(e):t}function tA(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==tx(o,e.options))return!1}else if(!Xh(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function nA(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(al(e.options.mutationKey)!==al(i))return!1}else if(!Xh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function tx(t,e){return((e==null?void 0:e.queryKeyHashFn)||al)(t)}function al(t){return JSON.stringify(t,(e,n)=>Q1(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Xh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Xh(t[n],e[n])):!1}function Nk(t,e){if(t===e)return t;const n=rA(t)&&rA(e);if(n||Q1(t)&&Q1(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=Nk(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Iy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function rA(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Q1(t){if(!sA(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!sA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function sA(t){return Object.prototype.toString.call(t)==="[object Object]"}function p7(t){return new Promise(e=>{setTimeout(e,t)})}function X1(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Nk(t,e):e}function g7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function m7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var nx=Symbol();function Pk(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===nx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Rk(t,e){return typeof t=="function"?t(...e):!!t}var Dc,ua,Mu,mP,y7=(mP=class extends Sd{constructor(){super();we(this,Dc);we(this,ua);we(this,Mu);ae(this,Mu,e=>{if(!ol&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){D(this,ua)||this.setEventListener(D(this,Mu))}onUnsubscribe(){var e;this.hasListeners()||((e=D(this,ua))==null||e.call(this),ae(this,ua,void 0))}setEventListener(e){var n;ae(this,Mu,e),(n=D(this,ua))==null||n.call(this),ae(this,ua,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){D(this,Dc)!==e&&(ae(this,Dc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof D(this,Dc)=="boolean"?D(this,Dc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Dc=new WeakMap,ua=new WeakMap,Mu=new WeakMap,mP),rx=new y7,ju,da,Bu,yP,w7=(yP=class extends Sd{constructor(){super();we(this,ju,!0);we(this,da);we(this,Bu);ae(this,Bu,e=>{if(!ol&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){D(this,da)||this.setEventListener(D(this,Bu))}onUnsubscribe(){var e;this.hasListeners()||((e=D(this,da))==null||e.call(this),ae(this,da,void 0))}setEventListener(e){var n;ae(this,Bu,e),(n=D(this,da))==null||n.call(this),ae(this,da,e(this.setOnline.bind(this)))}setOnline(e){D(this,ju)!==e&&(ae(this,ju,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return D(this,ju)}},ju=new WeakMap,da=new WeakMap,Bu=new WeakMap,yP),Ty=new w7;function J1(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function v7(t){return Math.min(1e3*2**t,3e4)}function Ok(t){return(t??"online")==="online"?Ty.isOnline():!0}var kk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function iv(t){return t instanceof kk}function $k(t){let e=!1,n=0,r=!1,s;const i=J1(),o=g=>{var w;r||(f(new kk(g)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>rx.isFocused()&&(t.networkMode==="always"||Ty.isOnline())&&t.canRun(),u=()=>Ok(t.networkMode)&&t.canRun(),d=g=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,g),s==null||s(),i.resolve(g))},f=g=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,g),s==null||s(),i.reject(g))},h=()=>new Promise(g=>{var w;s=m=>{(r||l())&&g(m)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(r)return;let g;const w=n===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(m){g=Promise.reject(m)}Promise.resolve(g).then(d).catch(m=>{var x;if(r)return;const y=t.retry??(ol?0:3),v=t.retryDelay??v7,_=typeof v=="function"?v(n,m):v,E=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,m);if(e||!E){f(m);return}n++,(x=t.onFail)==null||x.call(t,n,m),p7(_).then(()=>l()?void 0:h()).then(()=>{e?f(m):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?p():h().then(p),i)}}var b7=t=>setTimeout(t,0);function E7(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=b7;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var tn=E7(),Uc,wP,Dk=(wP=class{constructor(){we(this,Uc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Z1(this.gcTime)&&ae(this,Uc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ol?1/0:5*60*1e3))}clearGcTimeout(){D(this,Uc)&&(clearTimeout(D(this,Uc)),ae(this,Uc,void 0))}},Uc=new WeakMap,wP),Fu,Lc,ls,Mc,Bn,Rp,jc,Us,Gi,vP,_7=(vP=class extends Dk{constructor(e){super();we(this,Us);we(this,Fu);we(this,Lc);we(this,ls);we(this,Mc);we(this,Bn);we(this,Rp);we(this,jc);ae(this,jc,!1),ae(this,Rp,e.defaultOptions),this.setOptions(e.options),this.observers=[],ae(this,Mc,e.client),ae(this,ls,D(this,Mc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ae(this,Fu,C7(this.options)),this.state=e.state??D(this,Fu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=D(this,Bn))==null?void 0:e.promise}setOptions(e){this.options={...D(this,Rp),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,ls).remove(this)}setData(e,n){const r=X1(this.state.data,e,this.options);return $e(this,Us,Gi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){$e(this,Us,Gi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=D(this,Bn))==null?void 0:r.promise;return(s=D(this,Bn))==null||s.cancel(e),n?n.then(Qn).catch(Qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,Fu))}isActive(){return this.observers.some(e=>Bs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>La(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Tk(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=D(this,Bn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=D(this,Bn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),D(this,ls).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(D(this,Bn)&&(D(this,jc)?D(this,Bn).cancel({revert:!0}):D(this,Bn).cancelRetry()),this.scheduleGc()),D(this,ls).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$e(this,Us,Gi).call(this,{type:"invalidate"})}fetch(e,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(D(this,Bn))return D(this,Bn).continueRetry(),D(this,Bn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ae(this,jc,!0),r.signal)})},i=()=>{const f=Pk(this.options,n),p=(()=>{const g={client:D(this,Mc),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return ae(this,jc,!1),this.options.persister?this.options.persister(f,p,this):f(p)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:D(this,Mc),state:this.state,fetchFn:i};return s(f),f})();(l=this.options.behavior)==null||l.onFetch(a,this),ae(this,Lc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&$e(this,Us,Gi).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const c=f=>{var h,p,g,w;iv(f)&&f.silent||$e(this,Us,Gi).call(this,{type:"error",error:f}),iv(f)||((p=(h=D(this,ls).config).onError)==null||p.call(h,f,this),(w=(g=D(this,ls).config).onSettled)==null||w.call(g,this.state.data,f,this)),this.scheduleGc()};return ae(this,Bn,$k({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,g,w;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(m){c(m);return}(p=(h=D(this,ls).config).onSuccess)==null||p.call(h,f,this),(w=(g=D(this,ls).config).onSettled)==null||w.call(g,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,h)=>{$e(this,Us,Gi).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{$e(this,Us,Gi).call(this,{type:"pause"})},onContinue:()=>{$e(this,Us,Gi).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),D(this,Bn).start()}},Fu=new WeakMap,Lc=new WeakMap,ls=new WeakMap,Mc=new WeakMap,Bn=new WeakMap,Rp=new WeakMap,jc=new WeakMap,Us=new WeakSet,Gi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Uk(r.data,this.options),fetchMeta:e.meta??null};case"success":return ae(this,Lc,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return iv(s)&&s.revert&&D(this,Lc)?{...D(this,Lc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),tn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),D(this,ls).notify({query:this,type:"updated",action:e})})},vP);function Uk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ok(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function C7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var pi,bP,x7=(bP=class extends Sd{constructor(e={}){super();we(this,pi);this.config=e,ae(this,pi,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??tx(s,n);let o=this.get(i);return o||(o=new _7({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){D(this,pi).has(e.queryHash)||(D(this,pi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=D(this,pi).get(e.queryHash);n&&(e.destroy(),n===e&&D(this,pi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return D(this,pi).get(e)}getAll(){return[...D(this,pi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>tA(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>tA(e,r)):n}notify(e){tn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){tn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pi=new WeakMap,bP),gi,Kn,Bc,mi,Ko,EP,S7=(EP=class extends Dk{constructor(e){super();we(this,mi);we(this,gi);we(this,Kn);we(this,Bc);this.mutationId=e.mutationId,ae(this,Kn,e.mutationCache),ae(this,gi,[]),this.state=e.state||Lk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){D(this,gi).includes(e)||(D(this,gi).push(e),this.clearGcTimeout(),D(this,Kn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ae(this,gi,D(this,gi).filter(n=>n!==e)),this.scheduleGc(),D(this,Kn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){D(this,gi).length||(this.state.status==="pending"?this.scheduleGc():D(this,Kn).remove(this))}continue(){var e;return((e=D(this,Bc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,l,u,d,f,h,p,g,w,m,y,v,_,E,x,S,T;const n=()=>{$e(this,mi,Ko).call(this,{type:"continue"})};ae(this,Bc,$k({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,R)=>{$e(this,mi,Ko).call(this,{type:"failed",failureCount:C,error:R})},onPause:()=>{$e(this,mi,Ko).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,Kn).canRun(this)}));const r=this.state.status==="pending",s=!D(this,Bc).canStart();try{if(r)n();else{$e(this,mi,Ko).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=D(this,Kn).config).onMutate)==null?void 0:o.call(i,e,this));const R=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));R!==this.state.context&&$e(this,mi,Ko).call(this,{type:"pending",context:R,variables:e,isPaused:s})}const C=await D(this,Bc).start();return await((u=(l=D(this,Kn).config).onSuccess)==null?void 0:u.call(l,C,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,C,e,this.state.context)),await((p=(h=D(this,Kn).config).onSettled)==null?void 0:p.call(h,C,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,C,null,e,this.state.context)),$e(this,mi,Ko).call(this,{type:"success",data:C}),C}catch(C){try{throw await((y=(m=D(this,Kn).config).onError)==null?void 0:y.call(m,C,e,this.state.context,this)),await((_=(v=this.options).onError)==null?void 0:_.call(v,C,e,this.state.context)),await((x=(E=D(this,Kn).config).onSettled)==null?void 0:x.call(E,void 0,C,this.state.variables,this.state.context,this)),await((T=(S=this.options).onSettled)==null?void 0:T.call(S,void 0,C,e,this.state.context)),C}finally{$e(this,mi,Ko).call(this,{type:"error",error:C})}}finally{D(this,Kn).runNext(this)}}},gi=new WeakMap,Kn=new WeakMap,Bc=new WeakMap,mi=new WeakSet,Ko=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),tn.batch(()=>{D(this,gi).forEach(r=>{r.onMutationUpdate(e)}),D(this,Kn).notify({mutation:this,type:"updated",action:e})})},EP);function Lk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var eo,Ls,Op,_P,A7=(_P=class extends Sd{constructor(e={}){super();we(this,eo);we(this,Ls);we(this,Op);this.config=e,ae(this,eo,new Set),ae(this,Ls,new Map),ae(this,Op,0)}build(e,n,r){const s=new S7({mutationCache:this,mutationId:++dg(this,Op)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){D(this,eo).add(e);const n=Lg(e);if(typeof n=="string"){const r=D(this,Ls).get(n);r?r.push(e):D(this,Ls).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(D(this,eo).delete(e)){const n=Lg(e);if(typeof n=="string"){const r=D(this,Ls).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&D(this,Ls).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Lg(e);if(typeof n=="string"){const r=D(this,Ls).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Lg(e);if(typeof n=="string"){const s=(r=D(this,Ls).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tn.batch(()=>{D(this,eo).forEach(e=>{this.notify({type:"removed",mutation:e})}),D(this,eo).clear(),D(this,Ls).clear()})}getAll(){return Array.from(D(this,eo))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>nA(n,r))}findAll(e={}){return this.getAll().filter(n=>nA(e,n))}notify(e){tn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return tn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Qn))))}},eo=new WeakMap,Ls=new WeakMap,Op=new WeakMap,_P);function Lg(t){var e;return(e=t.options.scope)==null?void 0:e.id}function iA(t){return{onFetch:(e,n)=>{var u,d,f,h,p;const r=e.options,s=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let g=!1;const w=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},m=Pk(e.options,e.fetchOptions),y=async(v,_,E)=>{if(g)return Promise.reject();if(_==null&&v.pages.length)return Promise.resolve(v);const S=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:_,direction:E?"backward":"forward",meta:e.options.meta};return w(O),O})(),T=await m(S),{maxPages:C}=e.options,R=E?m7:g7;return{pages:R(v.pages,T,C),pageParams:R(v.pageParams,_,C)}};if(s&&i.length){const v=s==="backward",_=v?I7:oA,E={pages:i,pageParams:o},x=_(r,E);a=await y(E,x,v)}else{const v=t??i.length;do{const _=c===0?o[0]??r.initialPageParam:oA(r,a);if(c>0&&_==null)break;a=await y(a,_),c++}while(c<v)}return a};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function oA(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function I7(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ut,fa,ha,zu,Wu,pa,qu,Hu,CP,T7=(CP=class{constructor(t={}){we(this,Ut);we(this,fa);we(this,ha);we(this,zu);we(this,Wu);we(this,pa);we(this,qu);we(this,Hu);ae(this,Ut,t.queryCache||new x7),ae(this,fa,t.mutationCache||new A7),ae(this,ha,t.defaultOptions||{}),ae(this,zu,new Map),ae(this,Wu,new Map),ae(this,pa,0)}mount(){dg(this,pa)._++,D(this,pa)===1&&(ae(this,qu,rx.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,Ut).onFocus())})),ae(this,Hu,Ty.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,Ut).onOnline())})))}unmount(){var t,e;dg(this,pa)._--,D(this,pa)===0&&((t=D(this,qu))==null||t.call(this),ae(this,qu,void 0),(e=D(this,Hu))==null||e.call(this),ae(this,Hu,void 0))}isFetching(t){return D(this,Ut).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return D(this,fa).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=D(this,Ut).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=D(this,Ut).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(La(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return D(this,Ut).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=D(this,Ut).get(r.queryHash),i=s==null?void 0:s.state.data,o=h7(e,i);if(o!==void 0)return D(this,Ut).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return tn.batch(()=>D(this,Ut).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=D(this,Ut).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=D(this,Ut);tn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=D(this,Ut);return tn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=tn.batch(()=>D(this,Ut).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Qn).catch(Qn)}invalidateQueries(t,e={}){return tn.batch(()=>(D(this,Ut).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=tn.batch(()=>D(this,Ut).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Qn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Qn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=D(this,Ut).build(this,e);return n.isStaleByTime(La(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qn).catch(Qn)}fetchInfiniteQuery(t){return t.behavior=iA(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qn).catch(Qn)}ensureInfiniteQueryData(t){return t.behavior=iA(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ty.isOnline()?D(this,fa).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,Ut)}getMutationCache(){return D(this,fa)}getDefaultOptions(){return D(this,ha)}setDefaultOptions(t){ae(this,ha,t)}setQueryDefaults(t,e){D(this,zu).set(al(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...D(this,zu).values()],n={};return e.forEach(r=>{Xh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){D(this,Wu).set(al(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...D(this,Wu).values()],n={};return e.forEach(r=>{Xh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...D(this,ha).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=tx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===nx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...D(this,ha).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){D(this,Ut).clear(),D(this,fa).clear()}},Ut=new WeakMap,fa=new WeakMap,ha=new WeakMap,zu=new WeakMap,Wu=new WeakMap,pa=new WeakMap,qu=new WeakMap,Hu=new WeakMap,CP),yr,Fe,kp,Yn,Fc,Vu,ga,ma,$p,Gu,Ku,zc,Wc,ya,Yu,rt,Tf,eE,tE,nE,rE,sE,iE,oE,Mk,xP,N7=(xP=class extends Sd{constructor(e,n){super();we(this,rt);we(this,yr);we(this,Fe);we(this,kp);we(this,Yn);we(this,Fc);we(this,Vu);we(this,ga);we(this,ma);we(this,$p);we(this,Gu);we(this,Ku);we(this,zc);we(this,Wc);we(this,ya);we(this,Yu,new Set);this.options=n,ae(this,yr,e),ae(this,ma,null),ae(this,ga,J1()),this.options.experimental_prefetchInRender||D(this,ga).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,Fe).addObserver(this),aA(D(this,Fe),this.options)?$e(this,rt,Tf).call(this):this.updateResult(),$e(this,rt,rE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return aE(D(this,Fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return aE(D(this,Fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$e(this,rt,sE).call(this),$e(this,rt,iE).call(this),D(this,Fe).removeObserver(this)}setOptions(e){const n=this.options,r=D(this,Fe);if(this.options=D(this,yr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bs(this.options.enabled,D(this,Fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");$e(this,rt,oE).call(this),D(this,Fe).setOptions(this.options),n._defaulted&&!Iy(this.options,n)&&D(this,yr).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,Fe),observer:this});const s=this.hasListeners();s&&cA(D(this,Fe),r,this.options,n)&&$e(this,rt,Tf).call(this),this.updateResult(),s&&(D(this,Fe)!==r||Bs(this.options.enabled,D(this,Fe))!==Bs(n.enabled,D(this,Fe))||La(this.options.staleTime,D(this,Fe))!==La(n.staleTime,D(this,Fe)))&&$e(this,rt,eE).call(this);const i=$e(this,rt,tE).call(this);s&&(D(this,Fe)!==r||Bs(this.options.enabled,D(this,Fe))!==Bs(n.enabled,D(this,Fe))||i!==D(this,ya))&&$e(this,rt,nE).call(this,i)}getOptimisticResult(e){const n=D(this,yr).getQueryCache().build(D(this,yr),e),r=this.createResult(n,e);return R7(this,r)&&(ae(this,Yn,r),ae(this,Vu,this.options),ae(this,Fc,D(this,Fe).state)),r}getCurrentResult(){return D(this,Yn)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){D(this,Yu).add(e)}getCurrentQuery(){return D(this,Fe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=D(this,yr).defaultQueryOptions(e),r=D(this,yr).getQueryCache().build(D(this,yr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return $e(this,rt,Tf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,Yn)))}createResult(e,n){var C;const r=D(this,Fe),s=this.options,i=D(this,Yn),o=D(this,Fc),a=D(this,Vu),l=e!==r?e.state:D(this,kp),{state:u}=e;let d={...u},f=!1,h;if(n._optimisticResults){const R=this.hasListeners(),O=!R&&aA(e,n),L=R&&cA(e,r,n,s);(O||L)&&(d={...d,...Uk(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:w}=d;h=d.data;let m=!1;if(n.placeholderData!==void 0&&h===void 0&&w==="pending"){let R;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(R=i.data,m=!0):R=typeof n.placeholderData=="function"?n.placeholderData((C=D(this,Ku))==null?void 0:C.state.data,D(this,Ku)):n.placeholderData,R!==void 0&&(w="success",h=X1(i==null?void 0:i.data,R,n),f=!0)}if(n.select&&h!==void 0&&!m)if(i&&h===(o==null?void 0:o.data)&&n.select===D(this,$p))h=D(this,Gu);else try{ae(this,$p,n.select),h=n.select(h),h=X1(i==null?void 0:i.data,h,n),ae(this,Gu,h),ae(this,ma,null)}catch(R){ae(this,ma,R)}D(this,ma)&&(p=D(this,ma),h=D(this,Gu),g=Date.now(),w="error");const y=d.fetchStatus==="fetching",v=w==="pending",_=w==="error",E=v&&y,x=h!==void 0,T={status:w,fetchStatus:d.fetchStatus,isPending:v,isSuccess:w==="success",isError:_,isInitialLoading:E,isLoading:E,data:h,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:_&&!x,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:_&&x,isStale:sx(e,n),refetch:this.refetch,promise:D(this,ga)};if(this.options.experimental_prefetchInRender){const R=U=>{T.status==="error"?U.reject(T.error):T.data!==void 0&&U.resolve(T.data)},O=()=>{const U=ae(this,ga,T.promise=J1());R(U)},L=D(this,ga);switch(L.status){case"pending":e.queryHash===r.queryHash&&R(L);break;case"fulfilled":(T.status==="error"||T.data!==L.value)&&O();break;case"rejected":(T.status!=="error"||T.error!==L.reason)&&O();break}}return T}updateResult(){const e=D(this,Yn),n=this.createResult(D(this,Fe),this.options);if(ae(this,Fc,D(this,Fe).state),ae(this,Vu,this.options),D(this,Fc).data!==void 0&&ae(this,Ku,D(this,Fe)),Iy(n,e))return;ae(this,Yn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!D(this,Yu).size)return!0;const o=new Set(i??D(this,Yu));return this.options.throwOnError&&o.add("error"),Object.keys(D(this,Yn)).some(a=>{const c=a;return D(this,Yn)[c]!==e[c]&&o.has(c)})};$e(this,rt,Mk).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$e(this,rt,rE).call(this)}},yr=new WeakMap,Fe=new WeakMap,kp=new WeakMap,Yn=new WeakMap,Fc=new WeakMap,Vu=new WeakMap,ga=new WeakMap,ma=new WeakMap,$p=new WeakMap,Gu=new WeakMap,Ku=new WeakMap,zc=new WeakMap,Wc=new WeakMap,ya=new WeakMap,Yu=new WeakMap,rt=new WeakSet,Tf=function(e){$e(this,rt,oE).call(this);let n=D(this,Fe).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Qn)),n},eE=function(){$e(this,rt,sE).call(this);const e=La(this.options.staleTime,D(this,Fe));if(ol||D(this,Yn).isStale||!Z1(e))return;const r=Tk(D(this,Yn).dataUpdatedAt,e)+1;ae(this,zc,setTimeout(()=>{D(this,Yn).isStale||this.updateResult()},r))},tE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,Fe)):this.options.refetchInterval)??!1},nE=function(e){$e(this,rt,iE).call(this),ae(this,ya,e),!(ol||Bs(this.options.enabled,D(this,Fe))===!1||!Z1(D(this,ya))||D(this,ya)===0)&&ae(this,Wc,setInterval(()=>{(this.options.refetchIntervalInBackground||rx.isFocused())&&$e(this,rt,Tf).call(this)},D(this,ya)))},rE=function(){$e(this,rt,eE).call(this),$e(this,rt,nE).call(this,$e(this,rt,tE).call(this))},sE=function(){D(this,zc)&&(clearTimeout(D(this,zc)),ae(this,zc,void 0))},iE=function(){D(this,Wc)&&(clearInterval(D(this,Wc)),ae(this,Wc,void 0))},oE=function(){const e=D(this,yr).getQueryCache().build(D(this,yr),this.options);if(e===D(this,Fe))return;const n=D(this,Fe);ae(this,Fe,e),ae(this,kp,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Mk=function(e){tn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(D(this,Yn))}),D(this,yr).getQueryCache().notify({query:D(this,Fe),type:"observerResultsUpdated"})})},xP);function P7(t,e){return Bs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function aA(t,e){return P7(t,e)||t.state.data!==void 0&&aE(t,e,e.refetchOnMount)}function aE(t,e,n){if(Bs(e.enabled,t)!==!1&&La(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&sx(t,e)}return!1}function cA(t,e,n,r){return(t!==e||Bs(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&sx(t,n)}function sx(t,e){return Bs(e.enabled,t)!==!1&&t.isStaleByTime(La(e.staleTime,t))}function R7(t,e){return!Iy(t.getCurrentResult(),e)}var wa,va,wr,to,ho,Om,cE,SP,O7=(SP=class extends Sd{constructor(n,r){super();we(this,ho);we(this,wa);we(this,va);we(this,wr);we(this,to);ae(this,wa,n),this.setOptions(r),this.bindMethods(),$e(this,ho,Om).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=D(this,wa).defaultMutationOptions(n),Iy(this.options,r)||D(this,wa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:D(this,wr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&al(r.mutationKey)!==al(this.options.mutationKey)?this.reset():((s=D(this,wr))==null?void 0:s.state.status)==="pending"&&D(this,wr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=D(this,wr))==null||n.removeObserver(this)}onMutationUpdate(n){$e(this,ho,Om).call(this),$e(this,ho,cE).call(this,n)}getCurrentResult(){return D(this,va)}reset(){var n;(n=D(this,wr))==null||n.removeObserver(this),ae(this,wr,void 0),$e(this,ho,Om).call(this),$e(this,ho,cE).call(this)}mutate(n,r){var s;return ae(this,to,r),(s=D(this,wr))==null||s.removeObserver(this),ae(this,wr,D(this,wa).getMutationCache().build(D(this,wa),this.options)),D(this,wr).addObserver(this),D(this,wr).execute(n)}},wa=new WeakMap,va=new WeakMap,wr=new WeakMap,to=new WeakMap,ho=new WeakSet,Om=function(){var r;const n=((r=D(this,wr))==null?void 0:r.state)??Lk();ae(this,va,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},cE=function(n){tn.batch(()=>{var r,s,i,o,a,c,l,u;if(D(this,to)&&this.hasListeners()){const d=D(this,va).variables,f=D(this,va).context;(n==null?void 0:n.type)==="success"?((s=(r=D(this,to)).onSuccess)==null||s.call(r,n.data,d,f),(o=(i=D(this,to)).onSettled)==null||o.call(i,n.data,null,d,f)):(n==null?void 0:n.type)==="error"&&((c=(a=D(this,to)).onError)==null||c.call(a,n.error,d,f),(u=(l=D(this,to)).onSettled)==null||u.call(l,void 0,n.error,d,f))}this.listeners.forEach(d=>{d(D(this,va))})})},SP);function k7(t){return JSON.stringify(t,(e,n)=>$7(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function $7(t){if(!lA(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!lA(n)||!n.hasOwnProperty("isPrototypeOf"))}function lA(t){return Object.prototype.toString.call(t)==="[object Object]"}function jk(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:i,maxPages:o,meta:a,networkMode:c,queryFn:l,queryHash:u,queryKey:d,queryKeyHashFn:f,retry:h,retryDelay:p,structuralSharing:g,getPreviousPageParam:w,getNextPageParam:m,initialPageParam:y,_optimisticResults:v,enabled:_,notifyOnChangeProps:E,placeholderData:x,refetchInterval:S,refetchIntervalInBackground:T,refetchOnMount:C,refetchOnReconnect:R,refetchOnWindowFocus:O,retryOnMount:L,select:U,staleTime:B,suspense:I,throwOnError:N,config:M,connector:k,query:$,...j}=t;return j}function D7(t){return{mutationFn(e){return Pm(t,e)},mutationKey:["connect"]}}function U7(t){return{mutationFn(e){return yk(t,e)},mutationKey:["disconnect"]}}function L7(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("address is required");return u9(t,{...i,address:r})},queryKey:M7(e)}}function M7(t={}){return["ensName",jk(t)]}function j7(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=e,{connectorUid:s,scopeKey:i,...o}=n[1];return d9(t,{...o,connector:r})},queryKey:B7(e)}}function B7(t={}){const{connector:e,...n}=t;return["walletClient",{...jk(n),connectorUid:e==null?void 0:e.uid}]}var Bk=z.createContext(void 0),ix=t=>{const e=z.useContext(Bk);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},F7=({client:t,children:e})=>(z.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),b.jsx(Bk.Provider,{value:t,children:e})),Fk=z.createContext(!1),z7=()=>z.useContext(Fk);Fk.Provider;function W7(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var q7=z.createContext(W7()),H7=()=>z.useContext(q7),V7=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},G7=t=>{z.useEffect(()=>{t.clearReset()},[t])},K7=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||Rk(n,[t.error,r])),Y7=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Z7=(t,e)=>t.isLoading&&t.isFetching&&!e,Q7=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,uA=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function X7(t,e,n){var d,f,h,p,g;const r=z7(),s=H7(),i=ix(),o=i.defaultQueryOptions(t);(f=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",Y7(o),V7(o,s),G7(s);const a=!i.getQueryCache().get(o.queryHash),[c]=z.useState(()=>new e(i,o)),l=c.getOptimisticResult(o),u=!r&&t.subscribed!==!1;if(z.useSyncExternalStore(z.useCallback(w=>{const m=u?c.subscribe(tn.batchCalls(w)):Qn;return c.updateResult(),m},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),z.useEffect(()=>{c.setOptions(o)},[o,c]),Q7(o,l))throw uA(o,c,s);if(K7({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,l),o.experimental_prefetchInRender&&!ol&&Z7(l,r)){const w=a?uA(o,c,s):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;w==null||w.catch(Qn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function J7(t,e){return X7(t,N7)}function zk(t,e){const n=ix(),[r]=z.useState(()=>new O7(n,t));z.useEffect(()=>{r.setOptions(t)},[r,t]);const s=z.useSyncExternalStore(z.useCallback(o=>r.subscribe(tn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=z.useCallback((o,a)=>{r.mutate(o,a).catch(Qn)},[r]);if(s.error&&Rk(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Wk(t){const e=J7({...t,queryKeyHashFn:k7});return e.queryKey=t.queryKey,e}function qk(t={}){const e=oc(t);return z.useSyncExternalStore(n=>m9(e,{onChange:n}),()=>Y2(e),()=>Y2(e))}function ez(t={}){const e=oc(t);return z.useSyncExternalStore(n=>bk(e,{onChange:n}),()=>Z2(e),()=>Z2(e))}function Hk(t={}){const{mutation:e}=t,n=oc(t),r=D7(n),{mutate:s,mutateAsync:i,...o}=zk({...e,...r});return z.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:ez({config:n})}}function tz(t={}){const e=oc(t);return z.useSyncExternalStore(n=>y9(e,{onChange:n}),()=>hi(e),()=>hi(e))}function Vk(t={}){const{mutation:e}=t,n=oc(t),r=U7(n),{mutate:s,mutateAsync:i,...o}=zk({...e,...r});return{...o,connectors:tz({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:i}}function Gk(t={}){const{address:e,query:n={}}=t,r=oc(t),s=qk({config:r}),i=L7(r,{...t,chainId:t.chainId??s}),o=!!(e&&(n.enabled??!0));return Wk({...n,...i,enabled:o})}function Kk(t={}){const{query:e={},...n}=t,r=oc(n),s=ix(),{address:i,connector:o,status:a}=ex({config:r}),c=qk({config:r}),l=t.connector??o,{queryKey:u,...d}=j7(r,{...t,chainId:t.chainId??c,connector:t.connector??o}),f=!!((a==="connected"||a==="reconnecting"&&(l!=null&&l.getProvider))&&(e.enabled??!0)),h=z.useRef(i);return z.useEffect(()=>{const p=h.current;!i&&p?(s.removeQueries({queryKey:u}),h.current=void 0):i!==p&&(s.invalidateQueries({queryKey:u}),h.current=i)},[i,s]),Wk({...e,...d,queryKey:u,enabled:f,staleTime:Number.POSITIVE_INFINITY})}const nz="_verified_lvyh0_1",ox={verified:nz},rz=()=>b.jsx("svg",{viewBox:"0 0 24 24","aria-label":"Verified account",role:"img",className:ox.verified,children:b.jsx("g",{children:b.jsx("path",{d:"M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.26 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z"})})}),sz=()=>b.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:ox.verified,children:b.jsxs("g",{children:[b.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-a",x1:"4.411",x2:"18.083",y1:"2.495",y2:"21.508",children:[b.jsx("stop",{offset:"0",stopColor:"#f4e72a"}),b.jsx("stop",{offset:".539",stopColor:"#cd8105"}),b.jsx("stop",{offset:".68",stopColor:"#cb7b00"}),b.jsx("stop",{offset:"1",stopColor:"#f4ec26"}),b.jsx("stop",{offset:"1",stopColor:"#f4e72a"})]}),b.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-b",x1:"5.355",x2:"16.361",y1:"3.395",y2:"19.133",children:[b.jsx("stop",{offset:"0",stopColor:"#f9e87f"}),b.jsx("stop",{offset:".406",stopColor:"#e2b719"}),b.jsx("stop",{offset:".989",stopColor:"#e2b719"})]}),b.jsxs("g",{clipRule:"evenodd",fillRule:"evenodd",children:[b.jsx("path",{d:"M13.324 3.848L11 1.6 8.676 3.848l-3.201-.453-.559 3.184L2.06 8.095 3.48 11l-1.42 2.904 2.856 1.516.559 3.184 3.201-.452L11 20.4l2.324-2.248 3.201.452.559-3.184 2.856-1.516L18.52 11l1.42-2.905-2.856-1.516-.559-3.184zm-7.09 7.575l3.428 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-a)"}),b.jsx("path",{d:"M13.101 4.533L11 2.5 8.899 4.533l-2.895-.41-.505 2.88-2.583 1.37L4.2 11l-1.284 2.627 2.583 1.37.505 2.88 2.895-.41L11 19.5l2.101-2.033 2.895.41.505-2.88 2.583-1.37L17.8 11l1.284-2.627-2.583-1.37-.505-2.88zm-6.868 6.89l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-b)"}),b.jsx("path",{d:"M6.233 11.423l3.429 3.428 5.65-6.17.038-.033-.005 1.398-5.683 6.206-3.429-3.429-.003-1.405.005.003z",fill:"#d18800"})]})]})}),iz=()=>b.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:ox.verified,children:b.jsx("g",{children:b.jsx("path",{clipRule:"evenodd",d:"M12.05 2.056c-.568-.608-1.532-.608-2.1 0l-1.393 1.49c-.284.303-.685.47-1.1.455L5.42 3.932c-.832-.028-1.514.654-1.486 1.486l.069 2.039c.014.415-.152.816-.456 1.1l-1.49 1.392c-.608.568-.608 1.533 0 2.101l1.49 1.393c.304.284.47.684.456 1.1l-.07 2.038c-.027.832.655 1.514 1.487 1.486l2.038-.069c.415-.014.816.152 1.1.455l1.392 1.49c.569.609 1.533.609 2.102 0l1.393-1.49c.283-.303.684-.47 1.099-.455l2.038.069c.832.028 1.515-.654 1.486-1.486L18 14.542c-.015-.415.152-.815.455-1.099l1.49-1.393c.608-.568.608-1.533 0-2.101l-1.49-1.393c-.303-.283-.47-.684-.455-1.1l.068-2.038c.029-.832-.654-1.514-1.486-1.486l-2.038.07c-.415.013-.816-.153-1.1-.456zm-5.817 9.367l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fillRule:"evenodd"})})});function Yk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Yk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ma(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Yk(t))&&(r&&(r+=" "),r+=e);return r}const oz="_root_98iqw_1",az="_article_98iqw_21",dA={root:oz,article:az},ax=({className:t,children:e})=>b.jsx("div",{className:Ma("react-tweet-theme",dA.root,t),children:b.jsx("article",{className:dA.article,children:e})}),Zk=t=>b.jsx("img",{...t}),cz="_header_nqq4j_1",lz="_avatar_nqq4j_11",uz="_avatarOverflow_nqq4j_16",dz="_avatarSquare_nqq4j_23",fz="_avatarShadow_nqq4j_26",hz="_author_nqq4j_37",pz="_authorLink_nqq4j_44",gz="_authorVerified_nqq4j_53",mz="_authorLinkText_nqq4j_56",yz="_authorMeta_nqq4j_63",wz="_authorFollow_nqq4j_66",vz="_username_nqq4j_69",bz="_follow_nqq4j_74",Ez="_separator_nqq4j_82",_z="_brand_nqq4j_86",Cz="_twitterIcon_nqq4j_90",gn={header:cz,avatar:lz,avatarOverflow:uz,avatarSquare:dz,avatarShadow:fz,author:hz,authorLink:pz,authorVerified:gz,authorLinkText:mz,authorMeta:yz,authorFollow:wz,username:vz,follow:bz,separator:Ez,brand:_z,twitterIcon:Cz},xz="_verifiedOld_lcna5_1",Sz="_verifiedBlue_lcna5_4",Az="_verifiedGovernment_lcna5_7",ov={verifiedOld:xz,verifiedBlue:Sz,verifiedGovernment:Az},Qk=({user:t,className:e})=>{const n=t.verified||t.is_blue_verified||t.verified_type;let r=b.jsx(rz,{}),s=ov.verifiedBlue;if(n)switch(t.is_blue_verified||(s=ov.verifiedOld),t.verified_type){case"Government":r=b.jsx(iz,{}),s=ov.verifiedGovernment;break;case"Business":r=b.jsx(sz,{}),s=null;break}return n?b.jsx("div",{className:Ma(e,s),children:r}):null},Iz=({tweet:t,components:e})=>{var n;const r=(n=e==null?void 0:e.AvatarImg)!=null?n:Zk,{user:s}=t;return b.jsxs("div",{className:gn.header,children:[b.jsxs("a",{href:t.url,className:gn.avatar,target:"_blank",rel:"noopener noreferrer",children:[b.jsx("div",{className:Ma(gn.avatarOverflow,s.profile_image_shape==="Square"&&gn.avatarSquare),children:b.jsx(r,{src:s.profile_image_url_https,alt:s.name,width:48,height:48})}),b.jsx("div",{className:gn.avatarOverflow,children:b.jsx("div",{className:gn.avatarShadow})})]}),b.jsxs("div",{className:gn.author,children:[b.jsxs("a",{href:t.url,className:gn.authorLink,target:"_blank",rel:"noopener noreferrer",children:[b.jsx("div",{className:gn.authorLinkText,children:b.jsx("span",{title:s.name,children:s.name})}),b.jsx(Qk,{user:s,className:gn.authorVerified})]}),b.jsxs("div",{className:gn.authorMeta,children:[b.jsx("a",{href:t.url,className:gn.username,target:"_blank",rel:"noopener noreferrer",children:b.jsxs("span",{title:`@${s.screen_name}`,children:["@",s.screen_name]})}),b.jsxs("div",{className:gn.authorFollow,children:[b.jsx("span",{className:gn.separator,children:"·"}),b.jsx("a",{href:s.follow_url,className:gn.follow,target:"_blank",rel:"noopener noreferrer",children:"Follow"})]})]})]}),b.jsx("a",{href:t.url,className:gn.brand,target:"_blank",rel:"noopener noreferrer","aria-label":"View on Twitter",children:b.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:gn.twitterIcon,children:b.jsx("g",{children:b.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})})]})},Tz="_root_1ec15_1",Nz={root:Tz},Pz=({tweet:t})=>b.jsxs("a",{href:t.in_reply_to_url,className:Nz.root,target:"_blank",rel:"noopener noreferrer",children:["Replying to @",t.in_reply_to_screen_name]}),Rz="_root_eihfa_1",Oz={root:Rz},kz=({href:t,children:e})=>b.jsx("a",{href:t,className:Oz.root,target:"_blank",rel:"noopener noreferrer nofollow",children:e}),$z="_root_1xq52_1",Dz={root:$z},Uz=({tweet:t})=>b.jsx("p",{className:Dz.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>{switch(e.type){case"hashtag":case"mention":case"url":case"symbol":return b.jsx(kz,{href:e.href,children:e.text},n);case"media":return;default:return b.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n)}})}),fA=t=>`https://x.com/${t.user.screen_name}/status/${t.id_str}`,Xk=t=>`https://x.com/${typeof t=="string"?t:t.user.screen_name}`,Lz=t=>`https://x.com/intent/like?tweet_id=${t.id_str}`,Mz=t=>`https://x.com/intent/tweet?in_reply_to=${t.id_str}`,jz=t=>`https://x.com/intent/follow?screen_name=${t.user.screen_name}`,Bz=t=>`https://x.com/hashtag/${t.text}`,Fz=t=>`https://x.com/search?q=%24${t.text}`,zz=t=>`https://x.com/${t.in_reply_to_screen_name}/status/${t.in_reply_to_status_id_str}`,Jk=(t,e)=>{const n=new URL(t.media_url_https),r=n.pathname.split(".").pop();return r?(n.pathname=n.pathname.replace(`.${r}`,""),n.searchParams.set("format",r),n.searchParams.set("name",e),n.toString()):t.media_url_https},Wz=t=>{const{variants:e}=t.video_info;return e.filter(r=>r.content_type==="video/mp4").sort((r,s)=>{var i,o;return((i=s.bitrate)!=null?i:0)-((o=r.bitrate)!=null?o:0)})},qz=t=>{const e=Wz(t);return e.length>1?e[1]:e[0]},lE=t=>t>999999?`${(t/1e6).toFixed(1)}M`:t>999?`${(t/1e3).toFixed(1)}K`:t.toString();function hA(t){const e=Array.from(t.text),n=[{indices:t.display_text_range,type:"text"}];return ef(n,"hashtag",t.entities.hashtags),ef(n,"mention",t.entities.user_mentions),ef(n,"url",t.entities.urls),ef(n,"symbol",t.entities.symbols),t.entities.media&&ef(n,"media",t.entities.media),Hz(t,n),n.map(r=>{const s=e.slice(r.indices[0],r.indices[1]).join("");switch(r.type){case"hashtag":return Object.assign(r,{href:Bz(r),text:s});case"mention":return Object.assign(r,{href:Xk(r.screen_name),text:s});case"url":case"media":return Object.assign(r,{href:r.expanded_url,text:r.display_url});case"symbol":return Object.assign(r,{href:Fz(r),text:s});default:return Object.assign(r,{text:s})}})}function ef(t,e,n){for(const r of n)for(const[s,i]of t.entries()){if(i.indices[0]>r.indices[0]||i.indices[1]<r.indices[1])continue;const o=[{...r,type:e}];i.indices[0]<r.indices[0]&&o.unshift({indices:[i.indices[0],r.indices[0]],type:"text"}),i.indices[1]>r.indices[1]&&o.push({indices:[r.indices[1],i.indices[1]],type:"text"}),t.splice(s,1,...o);break}}function Hz(t,e){t.entities.media&&t.entities.media[0].indices[0]<t.display_text_range[1]&&(t.display_text_range[1]=t.entities.media[0].indices[0]);const n=e.at(-1);n&&n.indices[1]>t.display_text_range[1]&&(n.indices[1]=t.display_text_range[1])}const Vz=t=>({...t,url:fA(t),user:{...t.user,url:Xk(t),follow_url:jz(t)},like_url:Lz(t),reply_url:Mz(t),in_reply_to_url:t.in_reply_to_screen_name?zz(t):void 0,entities:hA(t),quoted_tweet:t.quoted_tweet?{...t.quoted_tweet,url:fA(t.quoted_tweet),entities:hA(t.quoted_tweet)}:void 0}),Gz="_root_g9tkv_1",Kz="_rounded_g9tkv_6",Yz="_mediaWrapper_g9tkv_10",Zz="_grid2Columns_g9tkv_17",Qz="_grid3_g9tkv_20",Xz="_grid2x2_g9tkv_23",Jz="_mediaContainer_g9tkv_26",eW="_mediaLink_g9tkv_34",tW="_skeleton_g9tkv_38",nW="_image_g9tkv_43",Lr={root:Gz,rounded:Kz,mediaWrapper:Yz,grid2Columns:Zz,grid3:Qz,grid2x2:Xz,mediaContainer:Jz,mediaLink:eW,skeleton:tW,image:nW},rW="_anchor_fp31d_1",sW="_videoButton_fp31d_17",iW="_videoButtonIcon_fp31d_35",oW="_watchOnTwitter_fp31d_44",aW="_viewReplies_fp31d_60",Dl={anchor:rW,videoButton:sW,videoButtonIcon:iW,watchOnTwitter:oW,viewReplies:aW},cW=({tweet:t,media:e})=>{const[n,r]=z.useState(!0),[s,i]=z.useState(!1),[o,a]=z.useState(!1),c=qz(e);let l=0;return b.jsxs(b.Fragment,{children:[b.jsx("video",{className:Lr.image,poster:Jk(e,"small"),controls:!n,playsInline:!0,preload:"none",tabIndex:n?-1:0,onPlay:()=>{l&&window.clearTimeout(l),s||i(!0),o&&a(!1)},onPause:()=>{l&&window.clearTimeout(l),l=window.setTimeout(()=>{s&&i(!1),l=0},100)},onEnded:()=>{a(!0)},children:b.jsx("source",{src:c.url,type:c.content_type})}),n&&b.jsx("button",{type:"button",className:Dl.videoButton,"aria-label":"View video on X",onClick:u=>{const d=u.currentTarget.previousSibling;u.preventDefault(),r(!1),d.load(),d.play().then(()=>{i(!0),d.focus()}).catch(f=>{console.error("Error playing video:",f),r(!0),i(!1)})},children:b.jsx("svg",{viewBox:"0 0 24 24",className:Dl.videoButtonIcon,"aria-hidden":"true",children:b.jsx("g",{children:b.jsx("path",{d:"M21 12L4 2v20l17-10z"})})})}),!s&&!o&&b.jsx("div",{className:Dl.watchOnTwitter,children:b.jsx("a",{href:t.url,className:Dl.anchor,target:"_blank",rel:"noopener noreferrer",children:n?"Watch on X":"Continue watching on X"})}),o&&b.jsx("a",{href:t.url,className:Ma(Dl.anchor,Dl.viewReplies),target:"_blank",rel:"noopener noreferrer",children:"View replies"})]})},lW=t=>b.jsx("img",{...t}),pA=(t,e)=>{let n=56.25;return e===1&&(n=100/t.original_info.width*t.original_info.height),e===2&&(n=n*2),{width:t.type==="photo"?void 0:"unset",paddingBottom:`${n}%`}},e$=({tweet:t,components:e,quoted:n})=>{var r,s,i;const o=(i=(r=t.mediaDetails)==null?void 0:r.length)!=null?i:0;var a;const c=(a=e==null?void 0:e.MediaImg)!=null?a:lW;return b.jsx("div",{className:Ma(Lr.root,!n&&Lr.rounded),children:b.jsx("div",{className:Ma(Lr.mediaWrapper,o>1&&Lr.grid2Columns,o===3&&Lr.grid3,o>4&&Lr.grid2x2),children:(s=t.mediaDetails)==null?void 0:s.map(l=>b.jsx(z.Fragment,{children:l.type==="photo"?b.jsxs("a",{href:t.url,className:Ma(Lr.mediaContainer,Lr.mediaLink),target:"_blank",rel:"noopener noreferrer",children:[b.jsx("div",{className:Lr.skeleton,style:pA(l,o)}),b.jsx(c,{src:Jk(l,"small"),alt:l.ext_alt_text||"Image",className:Lr.image,draggable:!0})]},l.media_url_https):b.jsxs("div",{className:Lr.mediaContainer,children:[b.jsx("div",{className:Lr.skeleton,style:pA(l,o)}),b.jsx(cW,{tweet:t,media:l})]},l.media_url_https)},l.media_url_https))})})},uW={hour:"numeric",minute:"2-digit",hour12:!0,weekday:"short",month:"short",day:"numeric",year:"numeric"},dW=new Intl.DateTimeFormat("en-US",uW),fW=t=>{const e={};for(const n of t)e[n.type]=n.value;return e},hW=t=>{const e=fW(dW.formatToParts(t)),n=`${e.hour}:${e.minute} ${e.dayPeriod}`,r=`${e.month} ${e.day}, ${e.year}`;return`${n} · ${r}`},pW="_root_i24yn_1",gW={root:pW},mW=({tweet:t})=>{const e=new Date(t.created_at),n=hW(e);return b.jsx("a",{className:gW.root,href:t.url,target:"_blank",rel:"noopener noreferrer","aria-label":n,children:b.jsx("time",{dateTime:e.toISOString(),children:n})})},yW="_info_19qcj_1",wW="_infoLink_19qcj_10",vW="_infoIcon_19qcj_30",av={info:yW,infoLink:wW,infoIcon:vW},bW=({tweet:t})=>b.jsxs("div",{className:av.info,children:[b.jsx(mW,{tweet:t}),b.jsx("a",{className:av.infoLink,href:"https://help.x.com/en/x-for-websites-ads-info-and-privacy",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter for Websites, Ads Information and Privacy",children:b.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:av.infoIcon,children:b.jsx("g",{children:b.jsx("path",{d:"M13.5 8.5c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5S11.17 7 12 7s1.5.67 1.5 1.5zM13 17v-5h-2v5h2zm-1 5.25c5.66 0 10.25-4.59 10.25-10.25S17.66 1.75 12 1.75 1.75 6.34 1.75 12 6.34 22.25 12 22.25zM20.25 12c0 4.56-3.69 8.25-8.25 8.25S3.75 16.56 3.75 12 7.44 3.75 12 3.75s8.25 3.69 8.25 8.25z"})})})})]}),EW="_actions_n2anf_1",_W="_like_n2anf_13",CW="_reply_n2anf_14",xW="_copy_n2anf_15",SW="_likeIconWrapper_n2anf_27",AW="_likeCount_n2anf_30",IW="_replyIconWrapper_n2anf_35",TW="_copyIconWrapper_n2anf_36",NW="_likeIcon_n2anf_27",PW="_replyIcon_n2anf_35",RW="_copyIcon_n2anf_36",OW="_replyText_n2anf_56",kW="_copyText_n2anf_57",vr={actions:EW,like:_W,reply:CW,copy:xW,likeIconWrapper:SW,likeCount:AW,replyIconWrapper:IW,copyIconWrapper:TW,likeIcon:NW,replyIcon:PW,copyIcon:RW,replyText:OW,copyText:kW},$W=({tweet:t})=>{const[e,n]=z.useState(!1),r=()=>{navigator.clipboard.writeText(t.url),n(!0)};return z.useEffect(()=>{if(e){const s=setTimeout(()=>{n(!1)},6e3);return()=>clearTimeout(s)}},[e]),b.jsxs("button",{type:"button",className:vr.copy,"aria-label":"Copy link",onClick:r,children:[b.jsx("div",{className:vr.copyIconWrapper,children:e?b.jsx("svg",{viewBox:"0 0 24 24",className:vr.copyIcon,"aria-hidden":"true",children:b.jsx("g",{children:b.jsx("path",{d:"M9.64 18.952l-5.55-4.861 1.317-1.504 3.951 3.459 8.459-10.948L19.4 6.32 9.64 18.952z"})})}):b.jsx("svg",{viewBox:"0 0 24 24",className:vr.copyIcon,"aria-hidden":"true",children:b.jsx("g",{children:b.jsx("path",{d:"M18.36 5.64c-1.95-1.96-5.11-1.96-7.07 0L9.88 7.05 8.46 5.64l1.42-1.42c2.73-2.73 7.16-2.73 9.9 0 2.73 2.74 2.73 7.17 0 9.9l-1.42 1.42-1.41-1.42 1.41-1.41c1.96-1.96 1.96-5.12 0-7.07zm-2.12 3.53l-7.07 7.07-1.41-1.41 7.07-7.07 1.41 1.41zm-12.02.71l1.42-1.42 1.41 1.42-1.41 1.41c-1.96 1.96-1.96 5.12 0 7.07 1.95 1.96 5.11 1.96 7.07 0l1.41-1.41 1.42 1.41-1.42 1.42c-2.73 2.73-7.16 2.73-9.9 0-2.73-2.74-2.73-7.17 0-9.9z"})})})}),b.jsx("span",{className:vr.copyText,children:e?"Copied!":"Copy link"})]})},DW=({tweet:t})=>{const e=lE(t.favorite_count);return b.jsxs("div",{className:vr.actions,children:[b.jsxs("a",{className:vr.like,href:t.like_url,target:"_blank",rel:"noopener noreferrer","aria-label":`Like. This Tweet has ${e} likes`,children:[b.jsx("div",{className:vr.likeIconWrapper,children:b.jsx("svg",{viewBox:"0 0 24 24",className:vr.likeIcon,"aria-hidden":"true",children:b.jsx("g",{children:b.jsx("path",{d:"M20.884 13.19c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z"})})})}),b.jsx("span",{className:vr.likeCount,children:e})]}),b.jsxs("a",{className:vr.reply,href:t.reply_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Reply to this Tweet on Twitter",children:[b.jsx("div",{className:vr.replyIconWrapper,children:b.jsx("svg",{viewBox:"0 0 24 24",className:vr.replyIcon,"aria-hidden":"true",children:b.jsx("g",{children:b.jsx("path",{d:"M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 8.129 3.64 8.129 8.13 0 2.96-1.607 5.68-4.196 7.11l-8.054 4.46v-3.69h-.067c-4.49.1-8.183-3.51-8.183-8.01z"})})})}),b.jsx("span",{className:vr.replyText,children:"Reply"})]}),b.jsx($W,{tweet:t})]})},UW="_replies_1cutb_1",LW="_link_1cutb_4",MW="_text_1cutb_23",cv={replies:UW,link:LW,text:MW},jW=({tweet:t})=>b.jsx("div",{className:cv.replies,children:b.jsx("a",{className:cv.link,href:t.url,target:"_blank",rel:"noopener noreferrer",children:b.jsx("span",{className:cv.text,children:t.conversation_count===0?"Read more on X":t.conversation_count===1?`Read ${lE(t.conversation_count)} reply`:`Read ${lE(t.conversation_count)} replies`})})}),BW="_root_q5799_1",FW="_article_q5799_16",gA={root:BW,article:FW},zW=({tweet:t,children:e})=>b.jsx("div",{className:gA.root,onClick:n=>{n.preventDefault(),window.open(t.url,"_blank")},children:b.jsx("article",{className:gA.article,children:e})}),WW="_header_r31i5_1",qW="_avatar_r31i5_11",HW="_avatarSquare_r31i5_17",VW="_author_r31i5_21",GW="_authorText_r31i5_26",KW="_username_r31i5_33",cc={header:WW,avatar:qW,avatarSquare:HW,author:VW,authorText:GW,username:KW},YW=({tweet:t})=>{const{user:e}=t;return b.jsxs("div",{className:cc.header,children:[b.jsx("a",{href:t.url,className:cc.avatar,target:"_blank",rel:"noopener noreferrer",children:b.jsx("div",{className:Ma(cc.avatarOverflow,e.profile_image_shape==="Square"&&cc.avatarSquare),children:b.jsx(Zk,{src:e.profile_image_url_https,alt:e.name,width:20,height:20})})}),b.jsxs("div",{className:cc.author,children:[b.jsx("div",{className:cc.authorText,children:b.jsx("span",{title:e.name,children:e.name})}),b.jsx(Qk,{user:e}),b.jsx("div",{className:cc.username,children:b.jsxs("span",{title:`@${e.screen_name}`,children:["@",e.screen_name]})})]})]})},ZW="_root_175ot_1",QW={root:ZW},XW=({tweet:t})=>b.jsx("p",{className:QW.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>b.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n))}),JW=({tweet:t})=>{var e;return b.jsxs(zW,{tweet:t,children:[b.jsx(YW,{tweet:t}),b.jsx(XW,{tweet:t}),(e=t.mediaDetails)!=null&&e.length?b.jsx(e$,{quoted:!0,tweet:t}):null]})},eq=({tweet:t,components:e})=>{var n;const r=z.useMemo(()=>Vz(t),[t]);return b.jsxs(ax,{children:[b.jsx(Iz,{tweet:r,components:e}),r.in_reply_to_status_id_str&&b.jsx(Pz,{tweet:r}),b.jsx(Uz,{tweet:r}),(n=r.mediaDetails)!=null&&n.length?b.jsx(e$,{tweet:r,components:e}):null,r.quoted_tweet&&b.jsx(JW,{tweet:r.quoted_tweet}),b.jsx(bW,{tweet:r}),b.jsx(DW,{tweet:r}),b.jsx(jW,{tweet:r})]})},tq="_root_16yxa_1",nq={root:tq},rq=t=>b.jsx(ax,{children:b.jsxs("div",{className:nq.root,children:[b.jsx("h3",{children:"Tweet not found"}),b.jsx("p",{children:"The embedded tweet could not be found…"})]})}),sq="_skeleton_oi7hr_1",iq={skeleton:sq},Mg=({style:t})=>b.jsx("span",{className:iq.skeleton,style:t}),oq="_root_17qqv_1",aq={root:oq},cq=()=>b.jsxs(ax,{className:aq.root,children:[b.jsx(Mg,{style:{height:"3rem",marginBottom:"0.75rem"}}),b.jsx(Mg,{style:{height:"6rem",margin:"0.5rem 0"}}),b.jsx("div",{style:{borderTop:"var(--tweet-border)",margin:"0.5rem 0"}}),b.jsx(Mg,{style:{height:"2rem"}}),b.jsx(Mg,{style:{height:"2rem",borderRadius:"9999px",marginTop:"0.5rem"}})]});var t$={exports:{}},n$={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd=z;function lq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uq=typeof Object.is=="function"?Object.is:lq,dq=cd.useState,fq=cd.useEffect,hq=cd.useLayoutEffect,pq=cd.useDebugValue;function gq(t,e){var n=e(),r=dq({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return hq(function(){s.value=n,s.getSnapshot=e,lv(s)&&i({inst:s})},[t,n,e]),fq(function(){return lv(s)&&i({inst:s}),t(function(){lv(s)&&i({inst:s})})},[t]),pq(n),n}function lv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uq(t,n)}catch{return!0}}function mq(t,e){return e()}var yq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mq:gq;n$.useSyncExternalStore=cd.useSyncExternalStore!==void 0?cd.useSyncExternalStore:yq;t$.exports=n$;var wq=t$.exports;const r$=0,s$=1,i$=2,mA=3;var yA=Object.prototype.hasOwnProperty;function uE(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&uE(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(yA.call(t,n)&&++r&&!yA.call(e,n)||!(n in e)||!uE(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const no=new WeakMap,Ca=()=>{},Xn=Ca(),dE=Object,He=t=>t===Xn,Ei=t=>typeof t=="function",Za=(t,e)=>({...t,...e}),o$=t=>Ei(t.then),uv={},jg={},cx="undefined",Kp=typeof window!=cx,fE=typeof document!=cx,vq=Kp&&"Deno"in window,bq=()=>Kp&&typeof window.requestAnimationFrame!=cx,a$=(t,e)=>{const n=no.get(t);return[()=>!He(e)&&t.get(e)||uv,r=>{if(!He(e)){const s=t.get(e);e in jg||(jg[e]=s),n[5](e,Za(s,r),s||uv)}},n[6],()=>!He(e)&&e in jg?jg[e]:!He(e)&&t.get(e)||uv]};let hE=!0;const Eq=()=>hE,[pE,gE]=Kp&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ca,Ca],_q=()=>{const t=fE&&document.visibilityState;return He(t)||t!=="hidden"},Cq=t=>(fE&&document.addEventListener("visibilitychange",t),pE("focus",t),()=>{fE&&document.removeEventListener("visibilitychange",t),gE("focus",t)}),xq=t=>{const e=()=>{hE=!0,t()},n=()=>{hE=!1};return pE("online",e),pE("offline",n),()=>{gE("online",e),gE("offline",n)}},Sq={isOnline:Eq,isVisible:_q},Aq={initFocus:Cq,initReconnect:xq},wA=!ms.useId,Jh=!Kp||vq,Iq=t=>bq()?window.requestAnimationFrame(t):setTimeout(t,1),dv=Jh?z.useEffect:z.useLayoutEffect,fv=typeof navigator<"u"&&navigator.connection,vA=!Jh&&fv&&(["slow-2g","2g"].includes(fv.effectiveType)||fv.saveData),Bg=new WeakMap,hv=(t,e)=>dE.prototype.toString.call(t)===`[object ${e}]`;let Tq=0;const mE=t=>{const e=typeof t,n=hv(t,"Date"),r=hv(t,"RegExp"),s=hv(t,"Object");let i,o;if(dE(t)===t&&!n&&!r){if(i=Bg.get(t),i)return i;if(i=++Tq+"~",Bg.set(t,i),Array.isArray(t)){for(i="@",o=0;o<t.length;o++)i+=mE(t[o])+",";Bg.set(t,i)}if(s){i="#";const a=dE.keys(t).sort();for(;!He(o=a.pop());)He(t[o])||(i+=o+":"+mE(t[o])+",");Bg.set(t,i)}}else i=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},lx=t=>{if(Ei(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?mE(t):"",[t,e]};let Nq=0;const yE=()=>++Nq;async function c$(...t){const[e,n,r,s]=t,i=Za({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let o=i.populateCache;const a=i.rollbackOnError;let c=i.optimisticData;const l=f=>typeof a=="function"?a(f):a!==!1,u=i.throwOnError;if(Ei(n)){const f=n,h=[],p=e.keys();for(const g of p)!/^\$(inf|sub)\$/.test(g)&&f(e.get(g)._k)&&h.push(g);return Promise.all(h.map(d))}return d(n);async function d(f){const[h]=lx(f);if(!h)return;const[p,g]=a$(e,h),[w,m,y,v]=no.get(e),_=()=>{const U=w[h];return(Ei(i.revalidate)?i.revalidate(p().data,f):i.revalidate!==!1)&&(delete y[h],delete v[h],U&&U[0])?U[0](i$).then(()=>p().data):p().data};if(t.length<3)return _();let E=r,x;const S=yE();m[h]=[S,0];const T=!He(c),C=p(),R=C.data,O=C._c,L=He(O)?R:O;if(T&&(c=Ei(c)?c(L,R):c,g({data:c,_c:L})),Ei(E))try{E=E(L)}catch(U){x=U}if(E&&o$(E))if(E=await E.catch(U=>{x=U}),S!==m[h][0]){if(x)throw x;return E}else x&&T&&l(x)&&(o=!0,g({data:L,_c:Xn}));if(o&&!x)if(Ei(o)){const U=o(E,L);g({data:U,error:Xn,_c:Xn})}else g({data:E,error:Xn,_c:Xn});if(m[h][1]=yE(),Promise.resolve(_()).then(()=>{g({_c:Xn})}),x){if(u)throw x;return}return E}}const bA=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},Pq=(t,e)=>{if(!no.has(t)){const n=Za(Aq,e),r=Object.create(null),s=c$.bind(Xn,t);let i=Ca;const o=Object.create(null),a=(u,d)=>{const f=o[u]||[];return o[u]=f,f.push(d),()=>f.splice(f.indexOf(d),1)},c=(u,d,f)=>{t.set(u,d);const h=o[u];if(h)for(const p of h)p(d,f)},l=()=>{if(!no.has(t)&&(no.set(t,[r,Object.create(null),Object.create(null),Object.create(null),s,c,a]),!Jh)){const u=n.initFocus(setTimeout.bind(Xn,bA.bind(Xn,r,r$))),d=n.initReconnect(setTimeout.bind(Xn,bA.bind(Xn,r,s$)));i=()=>{u&&u(),d&&d(),no.delete(t)}}};return l(),[t,s,l,i]}return[t,no.get(t)[4]]},Rq=(t,e,n,r,s)=>{const i=n.errorRetryCount,o=s.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!He(i)&&o>i||setTimeout(r,a,s)},Oq=uE,[l$,kq]=Pq(new Map),$q=Za({onLoadingSlow:Ca,onSuccess:Ca,onError:Ca,onErrorRetry:Rq,onDiscarded:Ca,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:vA?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:vA?5e3:3e3,compare:Oq,isPaused:()=>!1,cache:l$,mutate:kq,fallback:{}},Sq),Dq=(t,e)=>{const n=Za(t,e);if(e){const{use:r,fallback:s}=t,{use:i,fallback:o}=e;r&&i&&(n.use=r.concat(i)),s&&o&&(n.fallback=Za(s,o))}return n},Uq=z.createContext({}),Lq="$inf$",u$=Kp&&window.__SWR_DEVTOOLS_USE__,Mq=u$?window.__SWR_DEVTOOLS_USE__:[],jq=()=>{u$&&(window.__SWR_DEVTOOLS_REACT__=ms)},Bq=t=>Ei(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],Fq=()=>Za($q,z.useContext(Uq)),zq=t=>(e,n,r)=>t(e,n&&((...i)=>{const[o]=lx(e),[,,,a]=no.get(l$);if(o.startsWith(Lq))return n(...i);const c=a[o];return He(c)?n(...i):(delete a[o],c)}),r),Wq=Mq.concat(zq),qq=t=>function(...n){const r=Fq(),[s,i,o]=Bq(n),a=Dq(r,o);let c=t;const{use:l}=a,u=(l||[]).concat(Wq);for(let d=u.length;d--;)c=u[d](c);return c(s,i||a.fetcher||null,a)},Hq=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}};jq();const pv=ms.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),gv={dedupe:!0},Vq=(t,e,n)=>{const{cache:r,compare:s,suspense:i,fallbackData:o,revalidateOnMount:a,revalidateIfStale:c,refreshInterval:l,refreshWhenHidden:u,refreshWhenOffline:d,keepPreviousData:f}=n,[h,p,g,w]=no.get(r),[m,y]=lx(t),v=z.useRef(!1),_=z.useRef(!1),E=z.useRef(m),x=z.useRef(e),S=z.useRef(n),T=()=>S.current,C=()=>T().isVisible()&&T().isOnline(),[R,O,L,U]=a$(r,m),B=z.useRef({}).current,I=He(o)?He(n.fallback)?Xn:n.fallback[m]:o,N=(et,ze)=>{for(const Wt in B){const Tt=Wt;if(Tt==="data"){if(!s(et[Tt],ze[Tt])&&(!He(et[Tt])||!s(se,ze[Tt])))return!1}else if(ze[Tt]!==et[Tt])return!1}return!0},M=z.useMemo(()=>{const et=!m||!e?!1:He(a)?T().isPaused()||i?!1:c!==!1:a,ze=rn=>{const $r=Za(rn);return delete $r._k,et?{isValidating:!0,isLoading:!0,...$r}:$r},Wt=R(),Tt=U(),kr=ze(Wt),To=Wt===Tt?kr:ze(Tt);let qt=kr;return[()=>{const rn=ze(R());return N(rn,qt)?(qt.data=rn.data,qt.isLoading=rn.isLoading,qt.isValidating=rn.isValidating,qt.error=rn.error,qt):(qt=rn,rn)},()=>To]},[r,m]),k=wq.useSyncExternalStore(z.useCallback(et=>L(m,(ze,Wt)=>{N(Wt,ze)||et()}),[r,m]),M[0],M[1]),$=!v.current,j=h[m]&&h[m].length>0,F=k.data,H=He(F)?I&&o$(I)?pv(I):I:F,Y=k.error,Z=z.useRef(H),se=f?He(F)?He(Z.current)?H:Z.current:F:H,ge=j&&!He(Y)?!1:$&&!He(a)?a:T().isPaused()?!1:i?He(H)?!1:c:He(H)||c,ke=!!(m&&e&&$&&ge),Te=He(k.isValidating)?ke:k.isValidating,Le=He(k.isLoading)?ke:k.isLoading,pt=z.useCallback(async et=>{const ze=x.current;if(!m||!ze||_.current||T().isPaused())return!1;let Wt,Tt,kr=!0;const To=et||{},qt=!g[m]||!To.dedupe,rn=()=>wA?!_.current&&m===E.current&&v.current:m===E.current,$r={isValidating:!1,isLoading:!1},Md=()=>{O($r)},jd=()=>{const Vn=g[m];Vn&&Vn[1]===Tt&&delete g[m]},Bd={isValidating:!0};He(R().data)&&(Bd.isLoading=!0);try{if(qt&&(O(Bd),n.loadingTimeout&&He(R().data)&&setTimeout(()=>{kr&&rn()&&T().onLoadingSlow(m,n)},n.loadingTimeout),g[m]=[ze(y),yE()]),[Wt,Tt]=g[m],Wt=await Wt,qt&&setTimeout(jd,n.dedupingInterval),!g[m]||g[m][1]!==Tt)return qt&&rn()&&T().onDiscarded(m),!1;$r.error=Xn;const Vn=p[m];if(!He(Vn)&&(Tt<=Vn[0]||Tt<=Vn[1]||Vn[1]===0))return Md(),qt&&rn()&&T().onDiscarded(m),!1;const ns=R().data;$r.data=s(ns,Wt)?ns:Wt,qt&&rn()&&T().onSuccess(Wt,m,n)}catch(Vn){jd();const ns=T(),{shouldRetryOnError:Fd}=ns;ns.isPaused()||($r.error=Vn,qt&&rn()&&(ns.onError(Vn,m,ns),(Fd===!0||Ei(Fd)&&Fd(Vn))&&(!T().revalidateOnFocus||!T().revalidateOnReconnect||C())&&ns.onErrorRetry(Vn,m,ns,yw=>{const zd=h[m];zd&&zd[0]&&zd[0](mA,yw)},{retryCount:(To.retryCount||0)+1,dedupe:!0})))}return kr=!1,Md(),!0},[m,r]),zt=z.useCallback((...et)=>c$(r,E.current,...et),[]);if(dv(()=>{x.current=e,S.current=n,He(F)||(Z.current=F)}),dv(()=>{if(!m)return;const et=pt.bind(Xn,gv);let ze=0;T().revalidateOnFocus&&(ze=Date.now()+T().focusThrottleInterval);const Tt=Hq(m,h,(kr,To={})=>{if(kr==r$){const qt=Date.now();T().revalidateOnFocus&&qt>ze&&C()&&(ze=qt+T().focusThrottleInterval,et())}else if(kr==s$)T().revalidateOnReconnect&&C()&&et();else{if(kr==i$)return pt();if(kr==mA)return pt(To)}});return _.current=!1,E.current=m,v.current=!0,O({_k:y}),ge&&(He(H)||Jh?et():Iq(et)),()=>{_.current=!0,Tt()}},[m]),dv(()=>{let et;function ze(){const Tt=Ei(l)?l(R().data):l;Tt&&et!==-1&&(et=setTimeout(Wt,Tt))}function Wt(){!R().error&&(u||T().isVisible())&&(d||T().isOnline())?pt(gv).then(ze):ze()}return ze(),()=>{et&&(clearTimeout(et),et=-1)}},[l,u,d,m]),z.useDebugValue(se),i&&He(H)&&m){if(!wA&&Jh)throw new Error("Fallback data is required when using Suspense in SSR.");x.current=e,S.current=n,_.current=!1;const et=w[m];if(!He(et)){const ze=zt(et);pv(ze)}if(He(Y)){const ze=pt(gv);He(se)||(ze.status="fulfilled",ze.value=!0),pv(ze)}else throw Y}return{mutate:zt,get data(){return B.data=!0,se},get error(){return B.error=!0,Y},get isValidating(){return B.isValidating=!0,Te},get isLoading(){return B.isLoading=!0,Le}}},EA=qq(Vq);class Gq extends Error{constructor({message:e,status:n,data:r}){super(e),this.name="TwitterApiError",this.status=n,this.data=r}}const Kq=EA.default||EA,Yq="https://react-tweet.vercel.app";async function Zq([t,e]){const n=await fetch(t,e),r=await n.json();if(n.ok)return r.data||null;throw new Gq({message:`Failed to fetch tweet at "${t}" with "${n.status}".`,data:r,status:n.status})}const Qq=(t,e,n)=>{const{isLoading:r,data:s,error:i}=Kq(()=>e||t?[e||t&&`${Yq}/api/tweet/${t}`,n]:null,Zq,{revalidateIfStale:!1,revalidateOnFocus:!1,shouldRetryOnError:!1});return{isLoading:!!(r||s===void 0&&!i),data:s,error:i}},Xq=({id:t,apiUrl:e,fallback:n=b.jsx(cq,{}),components:r,fetchOptions:s,onError:i})=>{const{data:o,error:a,isLoading:c}=Qq(t,e,s);if(c)return n;if(a||!o){const l=(r==null?void 0:r.TweetNotFound)||rq;return b.jsx(l,{error:i?i(a):a})}return b.jsx(eq,{tweet:o,components:r})};var O0={exports:{}},d$={},f$={exports:{}},Jq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eH=Jq,tH=eH;function h$(){}function p$(){}p$.resetWarningCache=h$;var nH=function(){function t(r,s,i,o,a,c){if(c!==tH){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:p$,resetWarningCache:h$};return n.PropTypes=n,n};f$.exports=nH();var g$=f$.exports;function m$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=m$(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function _A(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=m$(t))&&(r&&(r+=" "),r+=e);return r}const rH=Object.freeze(Object.defineProperty({__proto__:null,clsx:_A,default:_A},Symbol.toStringTag,{value:"Module"})),sH=D_(rH);var Mt={},$i={};Object.defineProperty($i,"__esModule",{value:!0});$i.dontSetMe=lH;$i.findInArray=iH;$i.int=cH;$i.isFunction=oH;$i.isNum=aH;function iH(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function oH(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function aH(t){return typeof t=="number"&&!isNaN(t)}function cH(t){return parseInt(t,10)}function lH(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.browserPrefixToKey=w$;Cl.browserPrefixToStyle=uH;Cl.default=void 0;Cl.getPrefix=y$;const mv=["Moz","Webkit","O","ms"];function y$(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<mv.length;r++)if(w$(e,mv[r])in n)return mv[r];return""}function w$(t,e){return e?"".concat(e).concat(dH(t)):t}function uH(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function dH(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}Cl.default=y$();Object.defineProperty(Mt,"__esModule",{value:!0});Mt.addClassName=E$;Mt.addEvent=pH;Mt.addUserSelectStyles=SH;Mt.createCSSTransform=EH;Mt.createSVGTransform=_H;Mt.getTouch=CH;Mt.getTouchIdentifier=xH;Mt.getTranslation=ux;Mt.innerHeight=wH;Mt.innerWidth=vH;Mt.matchesSelector=b$;Mt.matchesSelectorAndParentsTo=hH;Mt.offsetXYFromParent=bH;Mt.outerHeight=mH;Mt.outerWidth=yH;Mt.removeClassName=_$;Mt.removeEvent=gH;Mt.removeUserSelectStyles=AH;var Kr=$i,CA=fH(Cl);function v$(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(v$=function(r){return r?n:e})(t)}function fH(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=v$(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}let Fg="";function b$(t,e){return Fg||(Fg=(0,Kr.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Kr.isFunction)(t[n])})),(0,Kr.isFunction)(t[Fg])?t[Fg](e):!1}function hH(t,e,n){let r=t;do{if(b$(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function pH(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,s):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function gH(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,s):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function mH(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Kr.int)(n.borderTopWidth),e+=(0,Kr.int)(n.borderBottomWidth),e}function yH(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Kr.int)(n.borderLeftWidth),e+=(0,Kr.int)(n.borderRightWidth),e}function wH(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Kr.int)(n.paddingTop),e-=(0,Kr.int)(n.paddingBottom),e}function vH(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Kr.int)(n.paddingLeft),e-=(0,Kr.int)(n.paddingRight),e}function bH(t,e,n){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),i=(t.clientX+e.scrollLeft-s.left)/n,o=(t.clientY+e.scrollTop-s.top)/n;return{x:i,y:o}}function EH(t,e){const n=ux(t,e,"px");return{[(0,CA.browserPrefixToKey)("transform",CA.default)]:n}}function _H(t,e){return ux(t,e,"")}function ux(t,e,n){let{x:r,y:s}=t,i="translate(".concat(r).concat(n,",").concat(s).concat(n,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);i="translate(".concat(o,", ").concat(a,")")+i}return i}function CH(t,e){return t.targetTouches&&(0,Kr.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Kr.findInArray)(t.changedTouches,n=>e===n.identifier)}function xH(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function SH(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&E$(t.body,"react-draggable-transparent-selection")}function AH(t){if(t)try{if(t.body&&_$(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function E$(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function _$(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.canDragX=NH;Di.canDragY=PH;Di.createCoreData=OH;Di.createDraggableData=kH;Di.getBoundPosition=IH;Di.getControlPosition=RH;Di.snapToGrid=TH;var Mr=$i,Eu=Mt;function IH(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:$H(r);const s=dx(t);if(typeof r=="string"){const{ownerDocument:i}=s,o=i.defaultView;let a;if(r==="parent"?a=s.parentNode:a=i.querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=a,l=o.getComputedStyle(s),u=o.getComputedStyle(c);r={left:-s.offsetLeft+(0,Mr.int)(u.paddingLeft)+(0,Mr.int)(l.marginLeft),top:-s.offsetTop+(0,Mr.int)(u.paddingTop)+(0,Mr.int)(l.marginTop),right:(0,Eu.innerWidth)(c)-(0,Eu.outerWidth)(s)-s.offsetLeft+(0,Mr.int)(u.paddingRight)-(0,Mr.int)(l.marginRight),bottom:(0,Eu.innerHeight)(c)-(0,Eu.outerHeight)(s)-s.offsetTop+(0,Mr.int)(u.paddingBottom)-(0,Mr.int)(l.marginBottom)}}return(0,Mr.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Mr.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Mr.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Mr.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function TH(t,e,n){const r=Math.round(e/t[0])*t[0],s=Math.round(n/t[1])*t[1];return[r,s]}function NH(t){return t.props.axis==="both"||t.props.axis==="x"}function PH(t){return t.props.axis==="both"||t.props.axis==="y"}function RH(t,e,n){const r=typeof e=="number"?(0,Eu.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const s=dx(n),i=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,Eu.offsetXYFromParent)(r||t,i,n.props.scale)}function OH(t,e,n){const r=!(0,Mr.isNum)(t.lastX),s=dx(t);return r?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function kH(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function $H(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function dx(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var k0={},$0={};Object.defineProperty($0,"__esModule",{value:!0});$0.default=DH;function DH(){}Object.defineProperty(k0,"__esModule",{value:!0});k0.default=void 0;var yv=LH(z),ar=fx(g$),UH=fx(PC),kn=Mt,Oo=Di,wv=$i,tf=fx($0);function fx(t){return t&&t.__esModule?t:{default:t}}function C$(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(C$=function(r){return r?n:e})(t)}function LH(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=C$(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function Gn(t,e,n){return e=MH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MH(t){var e=jH(t,"string");return typeof e=="symbol"?e:String(e)}function jH(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Rs={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ko=Rs.mouse,D0=class extends yv.Component{constructor(){super(...arguments),Gn(this,"dragging",!1),Gn(this,"lastX",NaN),Gn(this,"lastY",NaN),Gn(this,"touchIdentifier",null),Gn(this,"mounted",!1),Gn(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,kn.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,kn.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const s=(0,kn.getTouchIdentifier)(e);this.touchIdentifier=s;const i=(0,Oo.getControlPosition)(e,s,this);if(i==null)return;const{x:o,y:a}=i,c=(0,Oo.createCoreData)(this,o,a);(0,tf.default)("DraggableCore: handleDragStart: %j",c),(0,tf.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,kn.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,kn.addEvent)(r,ko.move,this.handleDrag),(0,kn.addEvent)(r,ko.stop,this.handleDragStop))}),Gn(this,"handleDrag",e=>{const n=(0,Oo.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,c=s-this.lastY;if([a,c]=(0,Oo.snapToGrid)(this.props.grid,a,c),!a&&!c)return;r=this.lastX+a,s=this.lastY+c}const i=(0,Oo.createCoreData)(this,r,s);if((0,tf.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(e,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=s}),Gn(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Oo.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,l=s-this.lastY||0;[c,l]=(0,Oo.snapToGrid)(this.props.grid,c,l),r=this.lastX+c,s=this.lastY+l}const i=(0,Oo.createCoreData)(this,r,s);if(this.props.onStop(e,i)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,kn.removeUserSelectStyles)(a.ownerDocument),(0,tf.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,tf.default)("DraggableCore: Removing handlers"),(0,kn.removeEvent)(a.ownerDocument,ko.move,this.handleDrag),(0,kn.removeEvent)(a.ownerDocument,ko.stop,this.handleDragStop))}),Gn(this,"onMouseDown",e=>(ko=Rs.mouse,this.handleDragStart(e))),Gn(this,"onMouseUp",e=>(ko=Rs.mouse,this.handleDragStop(e))),Gn(this,"onTouchStart",e=>(ko=Rs.touch,this.handleDragStart(e))),Gn(this,"onTouchEnd",e=>(ko=Rs.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,kn.addEvent)(e,Rs.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,kn.removeEvent)(n,Rs.mouse.move,this.handleDrag),(0,kn.removeEvent)(n,Rs.touch.move,this.handleDrag),(0,kn.removeEvent)(n,Rs.mouse.stop,this.handleDragStop),(0,kn.removeEvent)(n,Rs.touch.stop,this.handleDragStop),(0,kn.removeEvent)(e,Rs.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,kn.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:UH.default.findDOMNode(this)}render(){return yv.cloneElement(yv.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};k0.default=D0;Gn(D0,"displayName","DraggableCore");Gn(D0,"propTypes",{allowAnyClick:ar.default.bool,children:ar.default.node.isRequired,disabled:ar.default.bool,enableUserSelectHack:ar.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ar.default.arrayOf(ar.default.number),handle:ar.default.string,cancel:ar.default.string,nodeRef:ar.default.object,onStart:ar.default.func,onDrag:ar.default.func,onStop:ar.default.func,onMouseDown:ar.default.func,scale:ar.default.number,className:wv.dontSetMe,style:wv.dontSetMe,transform:wv.dontSetMe});Gn(D0,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=f(z),n=u(g$),r=u(PC),s=u(sH),i=Mt,o=Di,a=$i,c=u(k0),l=u($0);function u(y){return y&&y.__esModule?y:{default:y}}function d(y){if(typeof WeakMap!="function")return null;var v=new WeakMap,_=new WeakMap;return(d=function(E){return E?_:v})(y)}function f(y,v){if(y&&y.__esModule)return y;if(y===null||typeof y!="object"&&typeof y!="function")return{default:y};var _=d(v);if(_&&_.has(y))return _.get(y);var E={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in y)if(S!=="default"&&Object.prototype.hasOwnProperty.call(y,S)){var T=x?Object.getOwnPropertyDescriptor(y,S):null;T&&(T.get||T.set)?Object.defineProperty(E,S,T):E[S]=y[S]}return E.default=y,_&&_.set(y,E),E}function h(){return h=Object.assign?Object.assign.bind():function(y){for(var v=1;v<arguments.length;v++){var _=arguments[v];for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(y[E]=_[E])}return y},h.apply(this,arguments)}function p(y,v,_){return v=g(v),v in y?Object.defineProperty(y,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):y[v]=_,y}function g(y){var v=w(y,"string");return typeof v=="symbol"?v:String(v)}function w(y,v){if(typeof y!="object"||y===null)return y;var _=y[Symbol.toPrimitive];if(_!==void 0){var E=_.call(y,v);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(y)}class m extends e.Component{static getDerivedStateFromProps(v,_){let{position:E}=v,{prevPropsPosition:x}=_;return E&&(!x||E.x!==x.x||E.y!==x.y)?((0,l.default)("Draggable: getDerivedStateFromProps %j",{position:E,prevPropsPosition:x}),{x:E.x,y:E.y,prevPropsPosition:{...E}}):null}constructor(v){super(v),p(this,"onDragStart",(_,E)=>{if((0,l.default)("Draggable: onDragStart: %j",E),this.props.onStart(_,(0,o.createDraggableData)(this,E))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(_,E)=>{if(!this.state.dragging)return!1;(0,l.default)("Draggable: onDrag: %j",E);const x=(0,o.createDraggableData)(this,E),S={x:x.x,y:x.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:R}=S;S.x+=this.state.slackX,S.y+=this.state.slackY;const[O,L]=(0,o.getBoundPosition)(this,S.x,S.y);S.x=O,S.y=L,S.slackX=this.state.slackX+(C-S.x),S.slackY=this.state.slackY+(R-S.y),x.x=S.x,x.y=S.y,x.deltaX=S.x-this.state.x,x.deltaY=S.y-this.state.y}if(this.props.onDrag(_,x)===!1)return!1;this.setState(S)}),p(this,"onDragStop",(_,E)=>{if(!this.state.dragging||this.props.onStop(_,(0,o.createDraggableData)(this,E))===!1)return!1;(0,l.default)("Draggable: onDragStop: %j",E);const S={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:R}=this.props.position;S.x=C,S.y=R}this.setState(S)}),this.state={dragging:!1,dragged:!1,x:v.position?v.position.x:v.defaultPosition.x,y:v.position?v.position.y:v.defaultPosition.y,prevPropsPosition:{...v.position},slackX:0,slackY:0,isElementSVG:!1},v.position&&!(v.onDrag||v.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var v,_;return(v=(_=this.props)===null||_===void 0||(_=_.nodeRef)===null||_===void 0?void 0:_.current)!==null&&v!==void 0?v:r.default.findDOMNode(this)}render(){const{axis:v,bounds:_,children:E,defaultPosition:x,defaultClassName:S,defaultClassNameDragging:T,defaultClassNameDragged:C,position:R,positionOffset:O,scale:L,...U}=this.props;let B={},I=null;const M=!!!R||this.state.dragging,k=R||x,$={x:(0,o.canDragX)(this)&&M?this.state.x:k.x,y:(0,o.canDragY)(this)&&M?this.state.y:k.y};this.state.isElementSVG?I=(0,i.createSVGTransform)($,O):B=(0,i.createCSSTransform)($,O);const j=(0,s.default)(E.props.className||"",S,{[T]:this.state.dragging,[C]:this.state.dragged});return e.createElement(c.default,h({},U,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(E),{className:j,style:{...E.props.style,...B},transform:I}))}}t.default=m,p(m,"displayName","Draggable"),p(m,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),p(m,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(d$);const{default:x$,DraggableCore:BH}=d$;O0.exports=x$;O0.exports.default=x$;O0.exports.DraggableCore=BH;var FH=O0.exports;const Yp=vl(FH);function Ot(){return Ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ot.apply(null,arguments)}function S$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var A$={exports:{}},lt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pn=typeof Symbol=="function"&&Symbol.for,hx=pn?Symbol.for("react.element"):60103,px=pn?Symbol.for("react.portal"):60106,U0=pn?Symbol.for("react.fragment"):60107,L0=pn?Symbol.for("react.strict_mode"):60108,M0=pn?Symbol.for("react.profiler"):60114,j0=pn?Symbol.for("react.provider"):60109,B0=pn?Symbol.for("react.context"):60110,gx=pn?Symbol.for("react.async_mode"):60111,F0=pn?Symbol.for("react.concurrent_mode"):60111,z0=pn?Symbol.for("react.forward_ref"):60112,W0=pn?Symbol.for("react.suspense"):60113,zH=pn?Symbol.for("react.suspense_list"):60120,q0=pn?Symbol.for("react.memo"):60115,H0=pn?Symbol.for("react.lazy"):60116,WH=pn?Symbol.for("react.block"):60121,qH=pn?Symbol.for("react.fundamental"):60117,HH=pn?Symbol.for("react.responder"):60118,VH=pn?Symbol.for("react.scope"):60119;function es(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case hx:switch(t=t.type,t){case gx:case F0:case U0:case M0:case L0:case W0:return t;default:switch(t=t&&t.$$typeof,t){case B0:case z0:case H0:case q0:case j0:return t;default:return e}}case px:return e}}}function I$(t){return es(t)===F0}lt.AsyncMode=gx;lt.ConcurrentMode=F0;lt.ContextConsumer=B0;lt.ContextProvider=j0;lt.Element=hx;lt.ForwardRef=z0;lt.Fragment=U0;lt.Lazy=H0;lt.Memo=q0;lt.Portal=px;lt.Profiler=M0;lt.StrictMode=L0;lt.Suspense=W0;lt.isAsyncMode=function(t){return I$(t)||es(t)===gx};lt.isConcurrentMode=I$;lt.isContextConsumer=function(t){return es(t)===B0};lt.isContextProvider=function(t){return es(t)===j0};lt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===hx};lt.isForwardRef=function(t){return es(t)===z0};lt.isFragment=function(t){return es(t)===U0};lt.isLazy=function(t){return es(t)===H0};lt.isMemo=function(t){return es(t)===q0};lt.isPortal=function(t){return es(t)===px};lt.isProfiler=function(t){return es(t)===M0};lt.isStrictMode=function(t){return es(t)===L0};lt.isSuspense=function(t){return es(t)===W0};lt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===U0||t===F0||t===M0||t===L0||t===W0||t===zH||typeof t=="object"&&t!==null&&(t.$$typeof===H0||t.$$typeof===q0||t.$$typeof===j0||t.$$typeof===B0||t.$$typeof===z0||t.$$typeof===qH||t.$$typeof===HH||t.$$typeof===VH||t.$$typeof===WH)};lt.typeOf=es;A$.exports=lt;var GH=A$.exports,mx=GH,KH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},YH={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ZH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},T$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yx={};yx[mx.ForwardRef]=ZH;yx[mx.Memo]=T$;function xA(t){return mx.isMemo(t)?T$:yx[t.$$typeof]||KH}var QH=Object.defineProperty,XH=Object.getOwnPropertyNames,SA=Object.getOwnPropertySymbols,JH=Object.getOwnPropertyDescriptor,eV=Object.getPrototypeOf,AA=Object.prototype;function N$(t,e,n){if(typeof e!="string"){if(AA){var r=eV(e);r&&r!==AA&&N$(t,r,n)}var s=XH(e);SA&&(s=s.concat(SA(e)));for(var i=xA(t),o=xA(e),a=0;a<s.length;++a){var c=s[a];if(!YH[c]&&!(n&&n[c])&&!(o&&o[c])&&!(i&&i[c])){var l=JH(e,c);try{QH(t,c,l)}catch{}}}}return t}var tV=N$;const nV=vl(tV);var P$={};Object.defineProperty(P$,"__esModule",{value:!0});P$.default=rV;function rV(t){return t.displayName||t.name||(typeof t=="string"&&t.length>0?t:"Unknown")}function zg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ny(){return Ny=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ny.apply(this,arguments)}function sV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function $o(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iV(t){var e=function(n){sV(r,n);function r(){for(var i,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return i=n.call.apply(n,[this].concat(a))||this,zg($o($o(i)),"cachedTheme",void 0),zg($o($o(i)),"lastOuterTheme",void 0),zg($o($o(i)),"lastTheme",void 0),zg($o($o(i)),"renderProvider",function(l){var u=i.props.children;return ms.createElement(t.Provider,{value:i.getTheme(l)},u)}),i}var s=r.prototype;return s.getTheme=function(o){if(this.props.theme!==this.lastTheme||o!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=o,this.lastTheme=this.props.theme,typeof this.lastTheme=="function"){var a=this.props.theme;this.cachedTheme=a(o)}else{var c=this.props.theme;this.cachedTheme=o?Ny({},o,c):c}return this.cachedTheme},s.render=function(){var o=this.props.children;return o?ms.createElement(t.Consumer,null,this.renderProvider):null},r}(ms.Component);return e}function oV(t){return function(n){var r=ms.forwardRef(function(s,i){return ms.createElement(t.Consumer,null,function(o){return ms.createElement(n,Ny({theme:o,ref:i},s))})});return nV(r,n),r}}function aV(t){var e=function(){var r=ms.useContext(t);return r};return e}function cV(t){return{context:t,withTheme:oV(t),useTheme:aV(t),ThemeProvider:iV(t)}}var R$=z.createContext();cV(R$);var IA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad=(typeof window>"u"?"undefined":IA(window))==="object"&&(typeof document>"u"?"undefined":IA(document))==="object"&&document.nodeType===9;function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function lV(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uV(t){var e=lV(t,"string");return ep(e)=="symbol"?e:e+""}function dV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uV(r.key),r)}}function wx(t,e,n){return e&&dV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wE(t,e){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},wE(t,e)}function O$(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,wE(t,e)}function TA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var fV={}.constructor;function vE(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(vE);if(t.constructor!==fV)return t;var e={};for(var n in t)e[n]=vE(t[n]);return e}function V0(t,e,n){t===void 0&&(t="unnamed");var r=n.jss,s=vE(e),i=r.plugins.onCreateRule(t,s,n);return i||(t[0],null)}var NA=function(e,n){for(var r="",s=0;s<e.length&&e[s]!=="!important";s++)r&&(r+=n),r+=e[s];return r},Vc=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)n&&(n+=", "),n+=NA(e[r]," ");else n=NA(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function Id(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function nf(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function tp(t,e,n){n===void 0&&(n={});var r="";if(!e)return r;var s=n,i=s.indent,o=i===void 0?0:i,a=e.fallbacks;n.format===!1&&(o=-1/0);var c=Id(n),l=c.linebreak,u=c.space;if(t&&o++,a)if(Array.isArray(a))for(var d=0;d<a.length;d++){var f=a[d];for(var h in f){var p=f[h];p!=null&&(r&&(r+=l),r+=nf(h+":"+u+Vc(p)+";",o))}}else for(var g in a){var w=a[g];w!=null&&(r&&(r+=l),r+=nf(g+":"+u+Vc(w)+";",o))}for(var m in e){var y=e[m];y!=null&&m!=="fallbacks"&&(r&&(r+=l),r+=nf(m+":"+u+Vc(y)+";",o))}return!r&&!n.allowEmpty||!t?r:(o--,r&&(r=""+l+r+l),nf(""+t+u+"{"+r,o)+nf("}",o))}var hV=/([[\].#*$><+~=|^:(),"'`\s])/g,PA=typeof CSS<"u"&&CSS.escape,vx=function(t){return PA?PA(t):t.replace(hV,"\\$1")},k$=function(){function t(n,r,s){this.type="style",this.isProcessed=!1;var i=s.sheet,o=s.Renderer;this.key=n,this.options=s,this.style=r,i?this.renderer=i.renderer:o&&(this.renderer=new o)}var e=t.prototype;return e.prop=function(r,s,i){if(s===void 0)return this.style[r];var o=i?i.force:!1;if(!o&&this.style[r]===s)return this;var a=s;(!i||i.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(s,r,this));var c=a==null||a===!1,l=r in this.style;if(c&&!l&&!o)return this;var u=c&&l;if(u?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var d=this.options.sheet;return d&&d.attached,this},t}(),bE=function(t){O$(e,t);function e(r,s,i){var o;o=t.call(this,r,s,i)||this;var a=i.selector,c=i.scoped,l=i.sheet,u=i.generateId;return a?o.selectorText=a:c!==!1&&(o.id=u(TA(TA(o)),l),o.selectorText="."+vx(o.id)),o}var n=e.prototype;return n.applyTo=function(s){var i=this.renderer;if(i){var o=this.toJSON();for(var a in o)i.setProperty(s,a,o[a])}return this},n.toJSON=function(){var s={};for(var i in this.style){var o=this.style[i];typeof o!="object"?s[i]=o:Array.isArray(o)&&(s[i]=Vc(o))}return s},n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?Ot({},s,{allowEmpty:!0}):s;return tp(this.selectorText,this.style,a)},wx(e,[{key:"selector",set:function(s){if(s!==this.selectorText){this.selectorText=s;var i=this.renderer,o=this.renderable;if(!(!o||!i)){var a=i.setSelector(o,s);a||i.replaceRule(o,this)}}},get:function(){return this.selectorText}}]),e}(k$),pV={onCreateRule:function(e,n,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new bE(e,n,r)}},vv={indent:1,children:!0},gV=/@([\w-]+)/,mV=function(){function t(n,r,s){this.type="conditional",this.isProcessed=!1,this.key=n;var i=n.match(gV);this.at=i?i[1]:"unknown",this.query=s.name||"@"+this.at,this.options=s,this.rules=new G0(Ot({},s,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o?(this.options.jss.plugins.onProcessRule(o),o):null},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.toString=function(r){r===void 0&&(r=vv);var s=Id(r),i=s.linebreak;if(r.indent==null&&(r.indent=vv.indent),r.children==null&&(r.children=vv.children),r.children===!1)return this.query+" {}";var o=this.rules.toString(r);return o?this.query+" {"+i+o+i+"}":""},t}(),yV=/@container|@media|@supports\s+/,wV={onCreateRule:function(e,n,r){return yV.test(e)?new mV(e,n,r):null}},bv={indent:1,children:!0},vV=/@keyframes\s+([\w-]+)/,EE=function(){function t(n,r,s){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=n.match(vV);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=s;var o=s.scoped,a=s.sheet,c=s.generateId;this.id=o===!1?this.name:vx(c(this,a)),this.rules=new G0(Ot({},s,{parent:this}));for(var l in r)this.rules.add(l,r[l],Ot({},s,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(r){r===void 0&&(r=bv);var s=Id(r),i=s.linebreak;if(r.indent==null&&(r.indent=bv.indent),r.children==null&&(r.children=bv.children),r.children===!1)return this.at+" "+this.id+" {}";var o=this.rules.toString(r);return o&&(o=""+i+o+i),this.at+" "+this.id+" {"+o+"}"},t}(),bV=/@keyframes\s+/,EV=/\$([\w-]+)/g,_E=function(e,n){return typeof e=="string"?e.replace(EV,function(r,s){return s in n?n[s]:r}):e},RA=function(e,n,r){var s=e[n],i=_E(s,r);i!==s&&(e[n]=i)},_V={onCreateRule:function(e,n,r){return typeof e=="string"&&bV.test(e)?new EE(e,n,r):null},onProcessStyle:function(e,n,r){return n.type!=="style"||!r||("animation-name"in e&&RA(e,"animation-name",r.keyframes),"animation"in e&&RA(e,"animation",r.keyframes)),e},onChangeValue:function(e,n,r){var s=r.options.sheet;if(!s)return e;switch(n){case"animation":return _E(e,s.keyframes);case"animation-name":return _E(e,s.keyframes);default:return e}}},CV=function(t){O$(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?Ot({},s,{allowEmpty:!0}):s;return tp(this.key,this.style,a)},e}(k$),xV={onCreateRule:function(e,n,r){return r.parent&&r.parent.type==="keyframes"?new CV(e,n,r):null}},SV=function(){function t(n,r,s){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){var s=Id(r),i=s.linebreak;if(Array.isArray(this.style)){for(var o="",a=0;a<this.style.length;a++)o+=tp(this.at,this.style[a]),this.style[a+1]&&(o+=i);return o}return tp(this.at,this.style,r)},t}(),AV=/@font-face/,IV={onCreateRule:function(e,n,r){return AV.test(e)?new SV(e,n,r):null}},TV=function(){function t(n,r,s){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){return tp(this.key,this.style,r)},t}(),NV={onCreateRule:function(e,n,r){return e==="@viewport"||e==="@-ms-viewport"?new TV(e,n,r):null}},PV=function(){function t(n,r,s){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=s}var e=t.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var s="",i=0;i<this.value.length;i++)s+=this.key+" "+this.value[i]+";",this.value[i+1]&&(s+=`
`);return s}return this.key+" "+this.value+";"},t}(),RV={"@charset":!0,"@import":!0,"@namespace":!0},OV={onCreateRule:function(e,n,r){return e in RV?new PV(e,n,r):null}},OA=[pV,wV,_V,xV,IV,NV,OV],kV={process:!0},kA={force:!0,process:!0},G0=function(){function t(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var e=t.prototype;return e.add=function(r,s,i){var o=this.options,a=o.parent,c=o.sheet,l=o.jss,u=o.Renderer,d=o.generateId,f=o.scoped,h=Ot({classes:this.classes,parent:a,sheet:c,jss:l,Renderer:u,generateId:d,scoped:f,name:r,keyframes:this.keyframes,selector:void 0},i),p=r;r in this.raw&&(p=r+"-d"+this.counter++),this.raw[p]=s,p in this.classes&&(h.selector="."+vx(this.classes[p]));var g=V0(p,s,h);if(!g)return null;this.register(g);var w=h.index===void 0?this.index.length:h.index;return this.index.splice(w,0,g),g},e.replace=function(r,s,i){var o=this.get(r),a=this.index.indexOf(o);o&&this.remove(o);var c=i;return a!==-1&&(c=Ot({},i,{index:a})),this.add(r,s,c)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof bE?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof EE&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof bE?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof EE&&delete this.keyframes[r.name]},e.update=function(){var r,s,i;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2]):(s=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),s,i);else for(var o=0;o<this.index.length;o++)this.updateOne(this.index[o],s,i)},e.updateOne=function(r,s,i){i===void 0&&(i=kV);var o=this.options,a=o.jss.plugins,c=o.sheet;if(r.rules instanceof t){r.rules.update(s,i);return}var l=r.style;if(a.onUpdate(s,r,c,i),i.process&&l&&l!==r.style){a.onProcessStyle(r.style,r,c);for(var u in r.style){var d=r.style[u],f=l[u];d!==f&&r.prop(u,d,kA)}for(var h in l){var p=r.style[h],g=l[h];p==null&&p!==g&&r.prop(h,null,kA)}}},e.toString=function(r){for(var s="",i=this.options.sheet,o=i?i.options.link:!1,a=Id(r),c=a.linebreak,l=0;l<this.index.length;l++){var u=this.index[l],d=u.toString(r);!d&&!o||(s&&(s+=c),s+=d)}return s},t}(),$$=function(){function t(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Ot({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new G0(this.options);for(var s in n)this.rules.add(s,n[s]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,s,i){var o=this.queue;this.attached&&!o&&(this.queue=[]);var a=this.rules.add(r,s,i);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(o?o.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},e.replaceRule=function(r,s,i){var o=this.rules.get(r);if(!o)return this.addRule(r,s,i);var a=this.rules.replace(r,s,i);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?o.renderable&&this.renderer.replaceRule(o.renderable,a):this.renderer.deleteRule(o)),a):(this.deployed=!1,a)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,s){var i=[];for(var o in r){var a=this.addRule(o,r[o],s);a&&i.push(a)}return i},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var s=typeof r=="object"?r:this.rules.get(r);return!s||this.attached&&!s.renderable?!1:(this.rules.remove(s),this.attached&&s.renderable&&this.renderer?this.renderer.deleteRule(s.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,s,i){return this.rules.updateOne(r,s,i),this},e.toString=function(r){return this.rules.toString(r)},t}(),$V=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(r,s,i){for(var o=0;o<this.registry.onCreateRule.length;o++){var a=this.registry.onCreateRule[o](r,s,i);if(a)return a}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var s=r.options.sheet,i=0;i<this.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](r,s);r.style&&this.onProcessStyle(r.style,r,s),r.isProcessed=!0}},e.onProcessStyle=function(r,s,i){for(var o=0;o<this.registry.onProcessStyle.length;o++)s.style=this.registry.onProcessStyle[o](s.style,s,i)},e.onProcessSheet=function(r){for(var s=0;s<this.registry.onProcessSheet.length;s++)this.registry.onProcessSheet[s](r)},e.onUpdate=function(r,s,i,o){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,s,i,o)},e.onChangeValue=function(r,s,i){for(var o=r,a=0;a<this.registry.onChangeValue.length;a++)o=this.registry.onChangeValue[a](o,s,i);return o},e.use=function(r,s){s===void 0&&(s={queue:"external"});var i=this.plugins[s.queue];i.indexOf(r)===-1&&(i.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(o,a){for(var c in a)c in o&&o[c].push(a[c]);return o},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),DV=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(r){var s=this.registry,i=r.options.index;if(s.indexOf(r)===-1){if(s.length===0||i>=this.index){s.push(r);return}for(var o=0;o<s.length;o++)if(s[o].options.index>i){s.splice(o,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var s=this.registry.indexOf(r);this.registry.splice(s,1)},e.toString=function(r){for(var s=r===void 0?{}:r,i=s.attached,o=S$(s,["attached"]),a=Id(o),c=a.linebreak,l="",u=0;u<this.registry.length;u++){var d=this.registry[u];i!=null&&d.attached!==i||(l&&(l+=c),l+=d.toString(o))}return l},wx(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),Zf=new DV,CE=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),xE="2f1acc6c3a606b082e5eef5e54414ffb";CE[xE]==null&&(CE[xE]=0);var $A=CE[xE]++,DA=function(e){e===void 0&&(e={});var n=0,r=function(i,o){n+=1;var a="",c="";return o&&(o.options.classNamePrefix&&(c=o.options.classNamePrefix),o.options.jss.id!=null&&(a=String(o.options.jss.id))),e.minify?""+(c||"c")+$A+a+n:c+i.key+"-"+$A+(a?"-"+a:"")+"-"+n};return r},D$=function(e){var n;return function(){return n||(n=e()),n}},UV=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},LV=function(e,n,r){try{var s=r;if(Array.isArray(r)&&(s=Vc(r)),e.attributeStyleMap)e.attributeStyleMap.set(n,s);else{var i=s?s.indexOf("!important"):-1,o=i>-1?s.substr(0,i-1):s;e.style.setProperty(n,o,i>-1?"important":"")}}catch{return!1}return!0},MV=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},jV=function(e,n){return e.selectorText=n,e.selectorText===n},U$=D$(function(){return document.querySelector("head")});function BV(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function FV(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function zV(t){for(var e=U$(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===t)return r}return null}function WV(t){var e=Zf.registry;if(e.length>0){var n=BV(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=FV(e,t),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&typeof r=="string"){var s=zV(r);if(s)return{parent:s.parentNode,node:s.nextSibling}}return!1}function qV(t,e){var n=e.insertionPoint,r=WV(e);if(r!==!1&&r.parent){r.parent.insertBefore(t,r.node);return}if(n&&typeof n.nodeType=="number"){var s=n,i=s.parentNode;i&&i.insertBefore(t,s.nextSibling);return}U$().appendChild(t)}var HV=D$(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),UA=function(e,n,r){try{"insertRule"in e?e.insertRule(n,r):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[r]},LA=function(e,n){var r=e.cssRules.length;return n===void 0||n>r?r:n},VV=function(){var e=document.createElement("style");return e.textContent=`
`,e},GV=function(){function t(n){this.getPropertyValue=UV,this.setProperty=LV,this.removeProperty=MV,this.setSelector=jV,this.hasInsertedRules=!1,this.cssRules=[],n&&Zf.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},s=r.media,i=r.meta,o=r.element;this.element=o||VV(),this.element.setAttribute("data-jss",""),s&&this.element.setAttribute("media",s),i&&this.element.setAttribute("data-meta",i);var a=HV();a&&this.element.setAttribute("nonce",a)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){qV(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,s){for(var i=0;i<r.index.length;i++)this.insertRule(r.index[i],i,s)},e.insertRule=function(r,s,i){if(i===void 0&&(i=this.element.sheet),r.rules){var o=r,a=i;if(r.type==="conditional"||r.type==="keyframes"){var c=LA(i,s);if(a=UA(i,o.toString({children:!1}),c),a===!1)return!1;this.refCssRule(r,c,a)}return this.insertRules(o.rules,a),a}var l=r.toString();if(!l)return!1;var u=LA(i,s),d=UA(i,l,u);return d===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,u,d),d)},e.refCssRule=function(r,s,i){r.renderable=i,r.options.parent instanceof $$&&this.cssRules.splice(s,0,i)},e.deleteRule=function(r){var s=this.element.sheet,i=this.indexOf(r);return i===-1?!1:(s.deleteRule(i),this.cssRules.splice(i,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,s){var i=this.indexOf(r);return i===-1?!1:(this.element.sheet.deleteRule(i),this.cssRules.splice(i,1),this.insertRule(s,i))},e.getRules=function(){return this.element.sheet.cssRules},t}(),KV=0,YV=function(){function t(n){this.id=KV++,this.version="10.10.0",this.plugins=new $V,this.options={id:{minify:!1},createGenerateId:DA,Renderer:Ad?GV:null,plugins:[]},this.generateId=DA({minify:!1});for(var r=0;r<OA.length;r++)this.plugins.use(OA[r],{queue:"internal"});this.setup(n)}var e=t.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=Ot({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,s){s===void 0&&(s={});var i=s,o=i.index;typeof o!="number"&&(o=Zf.index===0?0:Zf.index+1);var a=new $$(r,Ot({},s,{jss:this,generateId:s.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:o}));return this.plugins.onProcessSheet(a),a},e.removeStyleSheet=function(r){return r.detach(),Zf.remove(r),this},e.createRule=function(r,s,i){if(s===void 0&&(s={}),i===void 0&&(i={}),typeof r=="object")return this.createRule(void 0,r,s);var o=Ot({},i,{name:r,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var a=V0(r,s,o);return a&&this.plugins.onProcessRule(a),a},e.use=function(){for(var r=this,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return i.forEach(function(a){r.plugins.use(a)}),this},t}(),L$=function(e){return new YV(e)},MA=function(){function t(){this.length=0,this.sheets=new WeakMap}var e=t.prototype;return e.get=function(r){var s=this.sheets.get(r);return s&&s.sheet},e.add=function(r,s){this.sheets.has(r)||(this.length++,this.sheets.set(r,{sheet:s,refs:0}))},e.manage=function(r){var s=this.sheets.get(r);if(s)return s.refs===0&&s.sheet.attach(),s.refs++,s.sheet},e.unmanage=function(r){var s=this.sheets.get(r);s&&s.refs>0&&(s.refs--,s.refs===0&&s.sheet.detach())},wx(t,[{key:"size",get:function(){return this.length}}]),t}(),bx=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function M$(t){var e=null;for(var n in t){var r=t[n],s=typeof r;if(s==="function")e||(e={}),e[n]=r;else if(s==="object"&&r!==null&&!Array.isArray(r)){var i=M$(r);i&&(e||(e={}),e[n]=i)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */L$();var j$=Date.now(),Ev="fnValues"+j$,_v="fnStyle"+ ++j$,ZV=function(){return{onCreateRule:function(n,r,s){if(typeof r!="function")return null;var i=V0(n,{},s);return i[_v]=r,i},onProcessStyle:function(n,r){if(Ev in r||_v in r)return n;var s={};for(var i in n){var o=n[i];typeof o=="function"&&(delete n[i],s[i]=o)}return r[Ev]=s,n},onUpdate:function(n,r,s,i){var o=r,a=o[_v];a&&(o.style=a(n)||{});var c=o[Ev];if(c)for(var l in c)o.prop(l,c[l](n),i)}}};function QV(t){var e,n=t.Symbol;return typeof n=="function"?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var su;typeof self<"u"?su=self:typeof window<"u"?su=window:typeof global<"u"?su=global:typeof module<"u"?su=module:su=Function("return this")();var jA=QV(su),BA=function(e){return e&&e[jA]&&e===e[jA]()},XV=function(e){return{onCreateRule:function(r,s,i){if(!BA(s))return null;var o=s,a=V0(r,{},i);return o.subscribe(function(c){for(var l in c)a.prop(l,c[l],e)}),a},onProcessRule:function(r){if(!(r&&r.type!=="style")){var s=r,i=s.style,o=function(u){var d=i[u];if(!BA(d))return"continue";delete i[u],d.subscribe({next:function(h){s.prop(u,h,e)}})};for(var a in i)var c=o(a)}}}},JV=/;\n/,eG=function(e){for(var n={},r=e.split(JV),s=0;s<r.length;s++){var i=(r[s]||"").trim();if(i){var o=i.indexOf(":");if(o!==-1){var a=i.substr(0,o).trim(),c=i.substr(o+1).trim();n[a]=c}}}return n},tG=function(e){typeof e.style=="string"&&(e.style=eG(e.style))};function nG(){return{onProcessRule:tG}}var ja="@global",SE="@global ",rG=function(){function t(n,r,s){this.type="global",this.at=ja,this.isProcessed=!1,this.key=n,this.options=s,this.rules=new G0(Ot({},s,{parent:this}));for(var i in r)this.rules.add(i,r[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},t}(),sG=function(){function t(n,r,s){this.type="global",this.at=ja,this.isProcessed=!1,this.key=n,this.options=s;var i=n.substr(SE.length);this.rule=s.jss.createRule(i,r,Ot({},s,{parent:this}))}var e=t.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},t}(),iG=/\s*,\s*/g;function B$(t,e){for(var n=t.split(iG),r="",s=0;s<n.length;s++)r+=e+" "+n[s].trim(),n[s+1]&&(r+=", ");return r}function oG(t,e){var n=t.options,r=t.style,s=r?r[ja]:null;if(s){for(var i in s)e.addRule(i,s[i],Ot({},n,{selector:B$(i,t.selector)}));delete r[ja]}}function aG(t,e){var n=t.options,r=t.style;for(var s in r)if(!(s[0]!=="@"||s.substr(0,ja.length)!==ja)){var i=B$(s.substr(ja.length),t.selector);e.addRule(i,r[s],Ot({},n,{selector:i})),delete r[s]}}function cG(){function t(n,r,s){if(!n)return null;if(n===ja)return new rG(n,r,s);if(n[0]==="@"&&n.substr(0,SE.length)===SE)return new sG(n,r,s);var i=s.parent;return i&&(i.type==="global"||i.options.parent&&i.options.parent.type==="global")&&(s.scoped=!1),!s.selector&&s.scoped===!1&&(s.selector=n),null}function e(n,r){n.type!=="style"||!r||(oG(n,r),aG(n,r))}return{onCreateRule:t,onProcessRule:e}}var km=function(e){return e&&typeof e=="object"&&!Array.isArray(e)},Cv="extendCurrValue"+Date.now();function lG(t,e,n,r){var s=typeof t.extend;if(s==="string"){if(!n)return;var i=n.getRule(t.extend);if(!i||i===e)return;var o=i.options.parent;if(o){var a=o.rules.raw[t.extend];Tc(a,e,n,r)}return}if(Array.isArray(t.extend)){for(var c=0;c<t.extend.length;c++){var l=t.extend[c],u=typeof l=="string"?Ot({},t,{extend:l}):t.extend[c];Tc(u,e,n,r)}return}for(var d in t.extend){if(d==="extend"){Tc(t.extend.extend,e,n,r);continue}if(km(t.extend[d])){d in r||(r[d]={}),Tc(t.extend[d],e,n,r[d]);continue}r[d]=t.extend[d]}}function uG(t,e,n,r){for(var s in t)if(s!=="extend"){if(km(r[s])&&km(t[s])){Tc(t[s],e,n,r[s]);continue}if(km(t[s])){r[s]=Tc(t[s],e,n);continue}r[s]=t[s]}}function Tc(t,e,n,r){return r===void 0&&(r={}),lG(t,e,n,r),uG(t,e,n,r),r}function dG(){function t(n,r,s){return"extend"in n?Tc(n,r,s):n}function e(n,r,s){if(r!=="extend")return n;if(n==null||n===!1){for(var i in s[Cv])s.prop(i,null);return s[Cv]=null,null}if(typeof n=="object"){for(var o in n)s.prop(o,n[o]);s[Cv]=n}return null}return{onProcessStyle:t,onChangeValue:e}}var FA=/\s*,\s*/g,fG=/&/g,hG=/\$([\w-]+)/g;function pG(){function t(s,i){return function(o,a){var c=s.getRule(a)||i&&i.getRule(a);return c?c.selector:a}}function e(s,i){for(var o=i.split(FA),a=s.split(FA),c="",l=0;l<o.length;l++)for(var u=o[l],d=0;d<a.length;d++){var f=a[d];c&&(c+=", "),c+=f.indexOf("&")!==-1?f.replace(fG,u):u+" "+f}return c}function n(s,i,o){if(o)return Ot({},o,{index:o.index+1});var a=s.options.nestingLevel;a=a===void 0?1:a+1;var c=Ot({},s.options,{nestingLevel:a,index:i.indexOf(s)+1});return delete c.name,c}function r(s,i,o){if(i.type!=="style")return s;var a=i,c=a.options.parent,l,u;for(var d in s){var f=d.indexOf("&")!==-1,h=d[0]==="@";if(!(!f&&!h)){if(l=n(a,c,l),f){var p=e(d,a.selector);u||(u=t(c,o)),p=p.replace(hG,u);var g=a.key+"-"+d;"replaceRule"in c?c.replaceRule(g,s[d],Ot({},l,{selector:p})):c.addRule(g,s[d],Ot({},l,{selector:p}))}else h&&c.addRule(d,{},l).addRule(a.key,s[d],{selector:a.selector});delete s[d]}}return s}return{onProcessStyle:r}}function AE(t,e){if(!e)return!0;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var r=AE(t,e[n]);if(!r)return!1}return!0}if(e.indexOf(" ")>-1)return AE(t,e.split(" "));var s=t.options.parent;if(e[0]==="$"){var i=s.getRule(e.substr(1));return!i||i===t?!1:(s.classes[t.key]+=" "+s.classes[i.key],!0)}return s.classes[t.key]+=" "+e,!0}function gG(){function t(e,n){return"composes"in e&&(AE(n,e.composes),delete e.composes),e}return{onProcessStyle:t}}var mG=/[A-Z]/g,yG=/^ms-/,xv={};function wG(t){return"-"+t.toLowerCase()}function F$(t){if(xv.hasOwnProperty(t))return xv[t];var e=t.replace(mG,wG);return xv[t]=yG.test(e)?"-"+e:e}function Py(t){var e={};for(var n in t){var r=n.indexOf("--")===0?n:F$(n);e[r]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(Py):e.fallbacks=Py(t.fallbacks)),e}function vG(){function t(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=Py(n[r]);return n}return Py(n)}function e(n,r,s){if(r.indexOf("--")===0)return n;var i=F$(r);return r===i?n:(s.prop(i,n),null)}return{onProcessStyle:t,onChangeValue:e}}var W=bx&&CSS?CSS.px:"px",Wg=bx&&CSS?CSS.ms:"ms",Ul=bx&&CSS?CSS.percent:"%",bG={"animation-delay":Wg,"animation-duration":Wg,"background-position":W,"background-position-x":W,"background-position-y":W,"background-size":W,border:W,"border-bottom":W,"border-bottom-left-radius":W,"border-bottom-right-radius":W,"border-bottom-width":W,"border-left":W,"border-left-width":W,"border-radius":W,"border-right":W,"border-right-width":W,"border-top":W,"border-top-left-radius":W,"border-top-right-radius":W,"border-top-width":W,"border-width":W,"border-block":W,"border-block-end":W,"border-block-end-width":W,"border-block-start":W,"border-block-start-width":W,"border-block-width":W,"border-inline":W,"border-inline-end":W,"border-inline-end-width":W,"border-inline-start":W,"border-inline-start-width":W,"border-inline-width":W,"border-start-start-radius":W,"border-start-end-radius":W,"border-end-start-radius":W,"border-end-end-radius":W,margin:W,"margin-bottom":W,"margin-left":W,"margin-right":W,"margin-top":W,"margin-block":W,"margin-block-end":W,"margin-block-start":W,"margin-inline":W,"margin-inline-end":W,"margin-inline-start":W,padding:W,"padding-bottom":W,"padding-left":W,"padding-right":W,"padding-top":W,"padding-block":W,"padding-block-end":W,"padding-block-start":W,"padding-inline":W,"padding-inline-end":W,"padding-inline-start":W,"mask-position-x":W,"mask-position-y":W,"mask-size":W,height:W,width:W,"min-height":W,"max-height":W,"min-width":W,"max-width":W,bottom:W,left:W,top:W,right:W,inset:W,"inset-block":W,"inset-block-end":W,"inset-block-start":W,"inset-inline":W,"inset-inline-end":W,"inset-inline-start":W,"box-shadow":W,"text-shadow":W,"column-gap":W,"column-rule":W,"column-rule-width":W,"column-width":W,"font-size":W,"font-size-delta":W,"letter-spacing":W,"text-decoration-thickness":W,"text-indent":W,"text-stroke":W,"text-stroke-width":W,"word-spacing":W,motion:W,"motion-offset":W,outline:W,"outline-offset":W,"outline-width":W,perspective:W,"perspective-origin-x":Ul,"perspective-origin-y":Ul,"transform-origin":Ul,"transform-origin-x":Ul,"transform-origin-y":Ul,"transform-origin-z":Ul,"transition-delay":Wg,"transition-duration":Wg,"vertical-align":W,"flex-basis":W,"shape-margin":W,size:W,gap:W,grid:W,"grid-gap":W,"row-gap":W,"grid-row-gap":W,"grid-column-gap":W,"grid-template-rows":W,"grid-template-columns":W,"grid-auto-rows":W,"grid-auto-columns":W,"box-shadow-x":W,"box-shadow-y":W,"box-shadow-blur":W,"box-shadow-spread":W,"font-line-height":W,"text-shadow-x":W,"text-shadow-y":W,"text-shadow-blur":W};function z$(t){var e=/(-[a-z])/g,n=function(o){return o[1].toUpperCase()},r={};for(var s in t)r[s]=t[s],r[s.replace(e,n)]=t[s];return r}var EG=z$(bG);function Qf(t,e,n){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=Qf(t,e[r],n);else if(typeof e=="object")if(t==="fallbacks")for(var s in e)e[s]=Qf(s,e[s],n);else for(var i in e)e[i]=Qf(t+"-"+i,e[i],n);else if(typeof e=="number"&&isNaN(e)===!1){var o=n[t]||EG[t];return o&&!(e===0&&o===W)?typeof o=="function"?o(e).toString():""+e+o:e.toString()}return e}function _G(t){t===void 0&&(t={});var e=z$(t);function n(s,i){if(i.type!=="style")return s;for(var o in s)s[o]=Qf(o,s[o],e);return s}function r(s,i){return Qf(i,s,e)}return{onProcessStyle:n,onChangeValue:r}}var CG={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},xG={position:!0,size:!0},qg={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},Sv={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function SG(t,e,n){return t.map(function(r){return q$(r,e,n,!1,!0)})}function W$(t,e,n,r){return n[e]==null?t:t.length===0?[]:Array.isArray(t[0])?W$(t[0],e,n,r):typeof t[0]=="object"?SG(t,e,r):[t]}function q$(t,e,n,r,s){if(!(qg[e]||Sv[e]))return[];var i=[];if(Sv[e]&&(t=AG(t,n,Sv[e],r)),Object.keys(t).length)for(var o in qg[e]){if(t[o]){Array.isArray(t[o])?i.push(xG[o]===null?t[o]:t[o].join(" ")):i.push(t[o]);continue}qg[e][o]!=null&&i.push(qg[e][o])}return!i.length||s?i:[i]}function AG(t,e,n,r){for(var s in n){var i=n[s];if(typeof t[s]<"u"&&(r||!e.prop(i))){var o,a=np((o={},o[i]=t[s],o),e)[i];r?e.style.fallbacks[i]=a:e.style[i]=a}delete t[s]}return t}function np(t,e,n){for(var r in t){var s=t[r];if(Array.isArray(s)){if(!Array.isArray(s[0])){if(r==="fallbacks"){for(var i=0;i<t.fallbacks.length;i++)t.fallbacks[i]=np(t.fallbacks[i],e,!0);continue}t[r]=W$(s,r,CG,e),t[r].length||delete t[r]}}else if(typeof s=="object"){if(r==="fallbacks"){t.fallbacks=np(t.fallbacks,e,!0);continue}t[r]=q$(s,r,e,n),t[r].length||delete t[r]}else t[r]===""&&delete t[r]}return t}function IG(){function t(e,n){if(!e||n.type!=="style")return e;if(Array.isArray(e)){for(var r=0;r<e.length;r++)e[r]=np(e[r],n);return e}return np(e,n)}return{onProcessStyle:t}}function IE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function TG(t){if(Array.isArray(t))return IE(t)}function NG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PG(t,e){if(t){if(typeof t=="string")return IE(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?IE(t,e):void 0}}function RG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OG(t){return TG(t)||NG(t)||PG(t)||RG()}var Nf="",TE="",H$="",V$="",kG=Ad&&"ontouchstart"in document.documentElement;if(Ad){var Av={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},$G=document.createElement("p"),Iv=$G.style,DG="Transform";for(var Tv in Av)if(Tv+DG in Iv){Nf=Tv,TE=Av[Tv];break}Nf==="Webkit"&&"msHyphens"in Iv&&(Nf="ms",TE=Av.ms,V$="edge"),Nf==="Webkit"&&"-apple-trailing-word"in Iv&&(H$="apple")}var Re={js:Nf,css:TE,vendor:H$,browser:V$,isTouch:kG};function UG(t){return t[1]==="-"||Re.js==="ms"?t:"@"+Re.css+"keyframes"+t.substr(10)}var LG={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:Re.js==="ms"?"-webkit-"+e:Re.css+e}},MG={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:Re.js==="Webkit"?Re.css+"print-"+e:e}},jG=/[-\s]+(.)?/g;function BG(t,e){return e?e.toUpperCase():""}function Ex(t){return t.replace(jG,BG)}function Qa(t){return Ex("-"+t)}var FG={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(Re.js==="Webkit"){var r="mask-image";if(Ex(r)in n)return e;if(Re.js+Qa(r)in n)return Re.css+e}return e}},zG={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:Re.vendor==="apple"&&!Re.isTouch?Re.css+e:e}},WG={noPrefill:["transform"],supportedProperty:function(e,n,r){return e!=="transform"?!1:r.transform?e:Re.css+e}},qG={noPrefill:["transition"],supportedProperty:function(e,n,r){return e!=="transition"?!1:r.transition?e:Re.css+e}},HG={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:Re.js==="Webkit"||Re.js==="ms"&&Re.browser!=="edge"?Re.css+e:e}},VG={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:Re.js==="Moz"||Re.js==="ms"||Re.vendor==="apple"?Re.css+e:e}},GG={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(Re.js==="Webkit"){var r="WebkitColumn"+Qa(e);return r in n?Re.css+"column-"+e:!1}if(Re.js==="Moz"){var s="page"+Qa(e);return s in n?"page-"+e:!1}return!1}},KG={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(Re.js==="Moz")return e;var r=e.replace("-inline","");return Re.js+Qa(r)in n?Re.css+r:!1}},YG={supportedProperty:function(e,n){return Ex(e)in n?e:!1}},ZG={supportedProperty:function(e,n){var r=Qa(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:Re.js+r in n?Re.css+e:Re.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+e:!1}},QG={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:Re.js==="ms"?""+Re.css+e:e}},XG={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:Re.js==="ms"?Re.css+"scroll-chaining":e}},JG={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},eK={supportedProperty:function(e,n){var r=JG[e];return r&&Re.js+Qa(r)in n?Re.css+r:!1}},G$={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},tK=Object.keys(G$),nK=function(e){return Re.css+e},rK={supportedProperty:function(e,n,r){var s=r.multiple;if(tK.indexOf(e)>-1){var i=G$[e];if(!Array.isArray(i))return Re.js+Qa(i)in n?Re.css+i:!1;if(!s)return!1;for(var o=0;o<i.length;o++)if(!(Re.js+Qa(i[0])in n))return!1;return i.map(nK)}return!1}},K$=[LG,MG,FG,zG,WG,qG,HG,VG,GG,KG,YG,ZG,QG,XG,eK,rK],zA=K$.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),sK=K$.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,OG(e.noPrefill)),t},[]),Pf,vc={};if(Ad){Pf=document.createElement("p");var Nv=window.getComputedStyle(document.documentElement,"");for(var Pv in Nv)isNaN(Pv)||(vc[Nv[Pv]]=Nv[Pv]);sK.forEach(function(t){return delete vc[t]})}function NE(t,e){if(e===void 0&&(e={}),!Pf)return t;if(vc[t]!=null)return vc[t];(t==="transition"||t==="transform")&&(e[t]=t in Pf.style);for(var n=0;n<zA.length&&(vc[t]=zA[n](t,Pf.style,e),!vc[t]);n++);try{Pf.style[t]=""}catch{return!1}return vc[t]}var Ll={},iK={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},oK=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Yo;function aK(t,e,n){if(e==="var")return"var";if(e==="all")return"all";if(n==="all")return", all";var r=e?NE(e):", "+NE(n);return r||e||n}Ad&&(Yo=document.createElement("p"));function WA(t,e){var n=e;if(!Yo||t==="content")return e;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=t+n;if(Ll[r]!=null)return Ll[r];try{Yo.style[t]=n}catch{return Ll[r]=!1,!1}if(iK[t])n=n.replace(oK,aK);else if(Yo.style[t]===""&&(n=Re.css+n,n==="-ms-flex"&&(Yo.style[t]="-ms-flexbox"),Yo.style[t]=n,Yo.style[t]===""))return Ll[r]=!1,!1;return Yo.style[t]="",Ll[r]=n,Ll[r]}function cK(){function t(s){if(s.type==="keyframes"){var i=s;i.at=UG(i.at)}}function e(s){for(var i in s){var o=s[i];if(i==="fallbacks"&&Array.isArray(o)){s[i]=o.map(e);continue}var a=!1,c=NE(i);c&&c!==i&&(a=!0);var l=!1,u=WA(c,Vc(o));u&&u!==o&&(l=!0),(a||l)&&(a&&delete s[i],s[c||i]=u||o)}return s}function n(s,i){return i.type!=="style"?s:e(s)}function r(s,i){return WA(i,Vc(s))||s}return{onProcessRule:t,onProcessStyle:n,onChangeValue:r}}function lK(){var t=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var s={},i=Object.keys(n).sort(t),o=0;o<i.length;o++)s[i[o]]=n[i[o]];return s}}}var uK=function(e){return e===void 0&&(e={}),{plugins:[ZV(),XV(e.observable),nG(),cG(),dG(),pG(),gG(),vG(),_G(e.defaultUnit),IG(),cK(),lK()]}},dK=Number.MIN_SAFE_INTEGER||-1e9,fK=function(){return dK++},hK=z.createContext({classNamePrefix:"",disableStylesGeneration:!1,isSSR:!Ad}),qA=new Map,_x=function(e,n){var r=e.managers;if(r)return r[n]||(r[n]=new MA),r[n];var s=qA.get(n);return s||(s=new MA,qA.set(n,s)),s},HA=function(e){var n=e.sheet,r=e.context,s=e.index,i=e.theme;if(n){var o=_x(r,s);o.manage(i),r.registry&&r.registry.add(n)}},pK=function(e){if(e.sheet){var n=_x(e.context,e.index);n.unmanage(e.theme)}},gK=L$(uK()),Y$=new WeakMap,Z$=function(e){return Y$.get(e)},mK=function(e,n){Y$.set(e,n)},yK=function(e){var n=e.styles;return typeof n!="function"?n:n(e.theme)};function wK(t,e){var n;t.context.id&&t.context.id.minify!=null&&(n=t.context.id.minify);var r=t.context.classNamePrefix||"";t.name&&!n&&(r+=t.name.replace(/\s/g,"-")+"-");var s="";return t.name&&(s=t.name+", "),s+=typeof t.styles=="function"?"Themed":"Unthemed",Ot({},t.sheetOptions,{index:t.index,meta:s,classNamePrefix:r,link:e,generateId:t.sheetOptions&&t.sheetOptions.generateId?t.sheetOptions.generateId:t.context.generateId})}var vK=function(e){if(!e.context.disableStylesGeneration){var n=_x(e.context,e.index),r=n.get(e.theme);if(r)return r;var s=e.context.jss||gK,i=yK(e),o=M$(i),a=s.createStyleSheet(i,wK(e,o!==null));return mK(a,{dynamicStyles:o,styles:i}),n.add(e.theme,a),a}},bK=function(e,n){for(var r in n)e.deleteRule(n[r])},EK=function(e,n,r){for(var s in r)n.updateOne(r[s],e)},_K=function(e,n){var r=Z$(e);if(r){var s={};for(var i in r.dynamicStyles)for(var o=e.rules.index.length,a=e.addRule(i,r.dynamicStyles[i]),c=o;c<e.rules.index.length;c++){var l=e.rules.index[c];e.updateOne(l,n),s[a===l?i:l.key]=l}return s}},CK=function(e,n){if(!n)return e.classes;var r=Z$(e);if(!r)return e.classes;var s={};for(var i in r.styles)s[i]=e.classes[i],i in n&&(s[i]+=" "+e.classes[n[i].key]);return s};function VA(t){return t?z.useEffect:ms.useInsertionEffect||z.useLayoutEffect}var Rv={},Ui=function(e,n){n===void 0&&(n={});var r=n,s=r.index,i=s===void 0?fK():s,o=r.theming,a=r.name,c=S$(r,["index","theming","name"]),l=o&&o.context||R$,u=function(h){return typeof e=="function"&&(h||z.useContext(l))||Rv},d={};return function(h){var p=z.useRef(!0),g=z.useContext(hK),w=u(h&&h.theme),m=z.useMemo(function(){var E=vK({context:g,styles:e,name:a,theme:w,index:i,sheetOptions:c});return E&&g.isSSR&&HA({index:i,context:g,sheet:E,theme:w}),[E,E?_K(E,h):null]},[g,w]),y=m[0],v=m[1];VA(g.isSSR)(function(){y&&v&&!p.current&&EK(h,y,v)},[h]),VA(g.isSSR)(function(){return y&&HA({index:i,context:g,sheet:y,theme:w}),function(){y&&(pK({index:i,context:g,sheet:y,theme:w}),v&&bK(y,v))}},[y]);var _=z.useMemo(function(){return y&&v?CK(y,v):d},[y,v]);return z.useDebugValue(_),z.useDebugValue(w===Rv?"No theme":w),z.useEffect(function(){p.current=!1}),_}};const xK=Ui({icon:{position:"absolute",width:"80px",textAlign:"center",cursor:"pointer",zIndex:3e3,userSelect:"none",pointerEvents:"auto"},iconImage:{width:"48px",height:"48px",display:"block",margin:"0 auto"},iconLabel:{display:"block",background:"#c0c0c0",color:"#000",fontSize:"12px",padding:"2px 4px",marginTop:"2px",border:"1px outset #fff"}});function Ov({image:t,label:e,action:n,url:r,popupId:s,folderId:i,isInFolder:o=!1,position:a,onDrag:c,onClick:l}){const u=xK(),d=z.useRef(null),f=p=>{p.stopPropagation(),p.preventDefault(),l(n,s,r,i)},h=b.jsxs("div",{ref:d,className:u.icon,onClick:f,style:{position:o?"relative":"absolute",zIndex:3e3,left:!o&&a?a.x:void 0,top:!o&&a?a.y:void 0},children:[b.jsx("img",{src:t,alt:e,className:u.iconImage}),b.jsx("span",{className:u.iconLabel,children:e})]});return o?h:b.jsx(Yp,{nodeRef:d,position:a,onDrag:c,bounds:"parent",children:h})}const SK=Ui({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"15px",height:"calc(100% - 30px)",overflow:"auto"}});function ks({id:t,isOpen:e,onClose:n,onMinimize:r,children:s,title:i,initialPosition:o,initialSize:a,zIndex:c}){const l=SK({isOpen:e}),u=z.useRef(null),d=()=>{r&&r(t)};return b.jsx(Yp,{nodeRef:u,handle:`.${l.header}`,defaultPosition:o,children:b.jsxs("div",{ref:u,className:l.popup,style:{width:a==null?void 0:a.width,height:a==null?void 0:a.height,zIndex:c||100},children:[b.jsxs("div",{className:l.header,children:[b.jsx("span",{children:i||t.replace("-popup","")}),b.jsxs("div",{className:l.titleBarButtons,children:[b.jsx("button",{className:l.titleBarButton,onClick:d,title:"Minimize",children:"_"}),b.jsx("button",{className:l.titleBarButton,onClick:n,title:"Close",children:"✕"})]})]}),b.jsx("div",{className:l.content,children:s})]})})}const kv=[{id:"evm-folder",image:"/assets/evmfolder.png",label:"EVM NFTs",action:"folder",folderId:"evm-folder",row:0,col:3},{id:"sol-folder",image:"/assets/solfolder.png",label:"SOL NFTs",action:"folder",folderId:"sol-folder",row:1,col:3},{id:"wallet",image:"/assets/wallet.png",label:"Wallet",action:"wallet",row:0,col:0},{id:"mint",image:"/assets/mint.gif",label:"Mint",action:"mint",row:0,col:1},{id:"gallery",image:"/assets/lawbstarz.gif",label:"NFT Gallery",action:"nft-gallery",row:0,col:2},{id:"purity",image:"/assets/purityfinance.png",label:"Purity",action:"popup",popupId:"purity-popup",row:1,col:0},{id:"lawbstarz",image:"/assets/lawbstarz.gif",label:"Lawbstarz",action:"popup",popupId:"lawbstarz-popup",row:-1,col:-1},{id:"lawbsters",image:"/assets/lawbsters.gif",label:"Lawbsters",action:"popup",popupId:"lawbsters-popup",row:-1,col:-1},{id:"halloween",image:"/assets/lawbsterhalloween.gif",label:"Halloween",action:"popup",popupId:"halloween-popup",row:-1,col:-1},{id:"pixelawbs",image:"/assets/pixelawb.png",label:"Pixelawbs",action:"popup",popupId:"pixelawbs-popup",row:-1,col:-1},{id:"lawbstation",image:"/assets/lawbstation.GIF",label:"Lawbstation",action:"popup",popupId:"lawbstation-popup",row:-1,col:-1},{id:"nexus",image:"/assets/nexus.gif",label:"Nexus",action:"popup",popupId:"nexus-popup",row:-1,col:-1},{id:"chat",image:"/assets/miladychan.png",label:"Chat",action:"popup",popupId:"chat-popup",row:3,col:0},{id:"lawb",image:"/assets/lawbticker.gif",label:"$LAWB",action:"popup",popupId:"lawb-popup",row:3,col:2}],AK=80,IK=80,TK=10,NK=10,PK=10,RK=10,OK=({onIconClick:t})=>{const e=kv.filter(l=>l.row>=0&&l.col>=0),n=()=>{const l={};let u=0,d=0;return e.forEach(f=>{l[f.id]={x:PK+d*(AK+TK),y:RK+u*(IK+NK)},u++,u>=4&&(u=0,d++)}),l},[r,s]=z.useState(n()),[i,o]=z.useState({}),a=(l,u)=>{s(d=>({...d,[l]:{x:u.x,y:u.y}}))},c=(l,u,d,f)=>{if(l==="folder"&&f){o(h=>({...h,[f]:!0}));return}t(l,u,d)};return b.jsx("div",{style:{position:"relative",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",overflow:"hidden"},children:b.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 60px)",padding:"10px",zIndex:10,overflow:"visible"},children:[e.map(l=>b.jsx(Ov,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,position:r[l.id],onDrag:(u,d)=>a(l.id,d),onClick:c},l.id)),i["evm-folder"]&&b.jsx(ks,{id:"evm-folder",isOpen:!0,onClose:()=>o(l=>({...l,"evm-folder":!1})),onMinimize:()=>o(l=>({...l,"evm-folder":!1})),children:b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:kv.filter(l=>["lawbsters","lawbstarz","halloween","pixelawbs"].includes(l.id)).map(l=>b.jsx(Ov,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})}),i["sol-folder"]&&b.jsx(ks,{id:"sol-folder",isOpen:!0,onClose:()=>o(l=>({...l,"sol-folder":!1})),onMinimize:()=>o(l=>({...l,"sol-folder":!1})),children:b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:kv.filter(l=>["lawbstation","nexus"].includes(l.id)).map(l=>b.jsx(Ov,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})})]})})},kK=Ui({taskbar:{position:"fixed",left:0,bottom:0,width:"100vw",height:40,background:"#c0c0c0",borderTop:"2px outset #fff",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:200},leftSection:{display:"flex",alignItems:"center"},rightSection:{display:"flex",alignItems:"center",marginRight:"5px",height:"100%"},statusSection:{display:"flex",alignItems:"center",padding:"0 8px",marginRight:"4px",border:"2px inset #fff",height:"calc(100% - 8px)"},menuBtn:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"},menu:{position:"absolute",bottom:"40px",left:"5px",background:"#c0c0c0",border:"2px outset #fff",padding:"5px",display:({isOpen:t})=>t?"block":"none",zIndex:9999},menuLink:{display:"block",padding:"8px 12px",color:"#000",textDecoration:"none",background:"#c0c0c0",border:"2px outset #fff",marginBottom:"2px",cursor:"pointer",fontSize:"12px","&:hover":{background:"#d0d0d0",border:"2px inset #fff"},"&:active":{border:"2px inset #c0c0c0"}},minimizedWindow:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:"12px"},clock:{padding:"5px 10px",background:"#c0c0c0",border:"2px inset #fff",fontSize:"12px",fontFamily:"monospace",height:"calc(100% - 8px)",display:"flex",alignItems:"center"},windows:{display:"flex",alignItems:"center"},windowButton:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"}}),$K=({minimizedWindows:t,onRestoreWindow:e,walletButton:n,connectionStatus:r})=>{const[s,i]=z.useState(!1),[o,a]=z.useState(new Date),c=kK({isOpen:s});z.useEffect(()=>{const f=window.setInterval(()=>{a(new Date)},1e3);return()=>window.clearInterval(f)},[]);const l=f=>f.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),u=()=>{i(!s)},d=()=>{i(!1)};return b.jsxs("div",{className:c.taskbar,children:[b.jsxs("div",{className:c.leftSection,children:[b.jsx("button",{className:c.menuBtn,onClick:u,children:"Menu"}),b.jsx("div",{className:c.windows,children:t.map(f=>b.jsx("button",{className:c.windowButton,onClick:()=>e(f),children:f.replace("-popup","").replace("-"," ").toUpperCase()},f))})]}),b.jsxs("div",{className:c.rightSection,children:[b.jsxs("div",{className:c.statusSection,children:[b.jsx("div",{style:{display:"flex",alignItems:"center",gap:4,fontSize:12},children:b.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:r.connected?"limegreen":"red",marginRight:4,border:"1px solid #222"}})}),n]}),b.jsx("div",{className:c.clock,children:l(o)})]}),s&&b.jsxs("div",{className:c.menu,children:[b.jsx("a",{href:"https://dexscreener.com/solana/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Dexscreener"}),b.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbStation Twitter"}),b.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbNexus Twitter"}),b.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"NFTX - Lawbsters"}),b.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"UwU LAWB"}),b.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Telegram"}),b.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Discord"})]})]})};async function Q$(t){const e="https://api.scatter.art/v1",n="pixelawbs";try{console.log(`Getting eligible invite lists for collection: ${n}`);const r=await fetch(`${e}/collection/${n}/eligible-invite-lists?minterAddress=${t}`);if(console.log("Response status:",r.status),r.ok){const s=await r.json();return console.log("Lists found:",s),s}else return console.log("Failed to get lists:",r.status,r.statusText),[]}catch(r){return console.log("Error getting lists:",r),[]}}async function X$(t,e=1,n=50,r){let i=`https://api.scatter.art/v1/collection/${t}/nfts?page=${e}&pageSize=${n}&sortBy=recent&sortOrder=desc`;r&&(i+=`&ownerAddress=${r}`);try{const o=await fetch(i);if(o.ok)return await o.json();throw new Error(`Failed to get NFTs: ${o.statusText}`)}catch(o){throw console.error("Error getting collection NFTs:",o),o}}async function J$(t,e){const i=await fetch("https://api.scatter.art/v1/mint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionAddress:"0x2d278e95b2fC67D4b27a276807e24E479D9707F6",chainId:1,minterAddress:t,lists:e})}),o=await i.json();if(!i.ok)throw console.error("Scatter API Error:",JSON.stringify(o,null,2)),new Error(o.message||"Minting failed");return{success:!0,mintTransaction:o.mintTransaction,erc20s:o.erc20s}}async function e5(t,e=50,n){const r="030a5ee582f64b8ab3a598ab2b97d85f";let s=`https://api.opensea.io/api/v2/collection/${t}/nfts?limit=${e}`;n&&console.warn("Owner filtering is not supported for OpenSea collections in this view.");try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get OpenSea NFTs: ${i.statusText}`);const a=(await i.json()).nfts.map(c=>{var l,u,d;return{id:c.identifier,address:c.contract,token_id:parseInt(c.identifier,10),attributes:JSON.stringify(c.traits||[]),name:c.name||`#${c.identifier}`,image_url:c.image_url,owner_of:((u=(l=c.owners)==null?void 0:l[0])==null?void 0:u.address)||"",block_minted:0,contract_type:"ERC721",description:c.description||"",image:c.image_url,image_url_shrunk:c.image_url,animation_url:c.animation_url,metadata:"",chain_id:1,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:t,num_items:1,created_at:c.updated_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString(),owners:((d=c.owners)==null?void 0:d.map(f=>({owner_of:f.address,quantity:f.quantity})))||[]}});return{page:1,pageSize:e,totalCount:a.length,totalPages:1,data:a}}catch(i){throw console.error("Error getting OpenSea NFTs:",i),i}}async function t5(t,e,n){const r="030a5ee582f64b8ab3a598ab2b97d85f",s=`https://api.opensea.io/api/v2/chain/${t}/contract/${e}/nfts/${n}`;try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get single OpenSea NFT: ${i.statusText}`);return(await i.json()).nft}catch(i){throw console.error("Error getting single OpenSea NFT:",i),i}}const DK=Ui({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:5e3},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"}}),UK=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=DK({isOpen:t}),i=z.useRef(null),[o,a]=z.useState([]),[c,l]=z.useState(!1),[u,d]=z.useState(!1),[f,h]=z.useState({}),[p,g]=z.useState(null),{data:w}=Kk();z.useEffect(()=>{t&&r&&m()},[t,r]);const m=async()=>{l(!0),g(null);try{const x=await Q$(r);a(x);const S={};x.forEach(T=>{S[T.id]=0}),h(S)}catch(x){g(x.message)}finally{l(!1)}},y=(x,S)=>{h(T=>({...T,[x]:Math.max(0,S)}))},v=async()=>{const x=Object.entries(f).filter(([,S])=>S>0).map(([S,T])=>({id:S,quantity:T}));if(x.length===0){g("Please select at least one item to mint");return}if(!w){g("Wallet not connected");return}d(!0),g(null);try{console.log("Starting mint process for address:",r);const S=await J$(r,x);if(console.log("Mint API result:",S),S.success&&S.mintTransaction){console.log("Got mint transaction:",S.mintTransaction),alert("Please confirm the transaction in your wallet.");try{console.log("Sending transaction to wallet...");const T=await w.sendTransaction({to:S.mintTransaction.to,value:BigInt(S.mintTransaction.value),data:S.mintTransaction.data});console.log("Transaction sent successfully:",T),alert(`NFT Minted Successfully: Transaction Hash - ${T}`),e()}catch(T){console.error("Transaction sending failed:",T),g("Transaction failed: "+T.message)}}else throw new Error(S.message||"Could not retrieve minting transaction.")}catch(S){console.error("Minting failed:",S),g("Minting failed: "+S.message)}finally{d(!1)}},_=(x,S)=>`${parseFloat(x)} ${S}`,E=()=>{n&&n()};return t?b.jsx(Yp,{nodeRef:i,handle:`.${s.header}`,children:b.jsxs("div",{ref:i,className:s.popup,children:[b.jsxs("div",{className:s.header,children:[b.jsx("span",{children:"Mint Pixelawbster"}),b.jsxs("div",{className:s.titleBarButtons,children:[b.jsx("button",{className:s.titleBarButton,onClick:E,title:"Minimize",children:"_"}),b.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:"✕"})]})]}),b.jsxs("div",{className:s.content,children:[p&&b.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:p}),c?b.jsx("div",{children:"Loading eligible invite lists..."}):o.length===0?b.jsx("div",{children:"No eligible invite lists found for your wallet."}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{style:{marginBottom:"20px"},children:[b.jsx("h3",{children:"Available Lists:"}),o.map(x=>b.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#ffffff"},children:[b.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:x.name}),b.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",_(x.token_price,x.currency_symbol)]}),b.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",x.wallet_limit===4294967295?"Unlimited":x.wallet_limit," per wallet"]}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[b.jsx("label",{style:{fontSize:"12px"},children:"Quantity:"}),b.jsx("input",{type:"number",min:"0",max:x.wallet_limit===4294967295?999:x.wallet_limit,value:f[x.id]||0,onChange:S=>y(x.id,parseInt(S.target.value)||0),style:{width:"60px",padding:"2px 5px",border:"1px solid #808080"}})]})]},x.id))]}),b.jsx("button",{onClick:v,disabled:u,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"10px 20px",cursor:u?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:u?"Minting...":"Mint Selected NFTs"})]})]})]})}):null},LK=Ui({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"400px",height:"auto",top:"20vh",left:"30vw",zIndex:102,display:"flex",flexDirection:"column"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",background:"white",color:"black"},detailImage:{width:"100%",height:"auto",marginBottom:"10px"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}}}),MK=t=>{try{const e=JSON.parse(t);return Array.isArray(e)&&e.every(n=>"trait_type"in n&&"value"in n)?e:[]}catch{return[]}},jK=({nft:t,onClose:e})=>{const n=LK(),r=z.useRef(null),s=MK(t.attributes);return b.jsx(Yp,{nodeRef:r,handle:`.${n.header}`,children:b.jsxs("div",{className:n.popup,ref:r,children:[b.jsxs("div",{className:n.header,children:[b.jsxs("span",{children:[t.name," - Details"]}),b.jsx("button",{className:n.titleBarButton,onClick:e,children:"X"})]}),b.jsxs("div",{className:n.content,children:[b.jsx("img",{src:t.image_url,alt:t.name,className:n.detailImage}),b.jsx("h3",{children:"Traits"}),b.jsx("ul",{className:n.detailTraits,children:s.length>0?s.map((i,o)=>b.jsxs("li",{children:[b.jsxs("strong",{children:[i.trait_type,":"]})," ",i.value]},o)):b.jsx("li",{children:"No traits found."})})]})]})})},BK=Ui({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"720px",height:"600px",minWidth:"480px",minHeight:"360px",top:"calc(50vh - 300px)",left:"calc(50vw - 360px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:100},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},detailContent:{padding:"20px",color:"#000"},detailImage:{width:"100%",height:"auto",marginBottom:"20px",border:"1px solid #ccc"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),GA=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"}],FK=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=BK({isOpen:t}),i=z.useRef(null),[o,a]=z.useState([]),[c,l]=z.useState(!0),[u,d]=z.useState(null),[f,h]=z.useState("all"),[p,g]=z.useState(1),[w,m]=z.useState(1),[y,v]=z.useState(0),[_,E]=z.useState(null),[x,S]=z.useState(GA[0]);z.useEffect(()=>{t&&(async()=>{l(!0),d(null);try{let B;const I=f==="owned"?r:void 0;x.api==="opensea"?B=await e5(x.slug,50,I):B=await X$(x.slug,p,50,I),a(B.data),m(B.totalPages),v(B.totalCount)}catch(B){B instanceof Error?d(B.message):d("An unknown error occurred."),a([])}finally{l(!1)}})()},[t,p,f,r,x]);const T=U=>new Date(U).toLocaleDateString(),C=U=>U.owners.length>0?`${U.owners[0].owner_of.substring(0,6)}...`:"N/A",R=()=>{n&&n()},O=async U=>{if(x.api==="opensea"&&x.chain)try{const B=await t5(x.chain,U.address,U.token_id.toString()),I={...U,attributes:JSON.stringify(B.traits||[])};E(I)}catch(B){console.error("Failed to fetch full NFT details",B),E(U)}else E(U)},L=U=>{S(U),g(1)};return t?b.jsxs(b.Fragment,{children:[b.jsx(Yp,{nodeRef:i,handle:`.${s.header}`,children:b.jsxs("div",{ref:i,className:s.popup,children:[b.jsxs("div",{className:s.header,children:[b.jsx("span",{children:"EVM LAWB GALLERY"}),b.jsxs("div",{className:s.titleBarButtons,children:[b.jsx("button",{className:s.titleBarButton,onClick:R,title:"Minimize",children:"_"}),b.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:"✕"})]})]}),b.jsx("div",{className:s.collectionSelector,children:GA.map(U=>b.jsx("button",{className:`${s.collectionButton} ${x.slug===U.slug?"active":""}`,onClick:()=>L(U),children:U.name},U.slug))}),b.jsxs("div",{className:s.content,children:[b.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px"},children:[b.jsx("button",{onClick:()=>h("all"),style:{background:f==="all"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:f==="all"?"white":"black"},children:"All NFTs"}),b.jsx("button",{onClick:()=>h("recent"),disabled:!r,style:{background:f==="recent"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r?"pointer":"not-allowed",color:f==="recent"?"white":"black",opacity:r?1:.6},children:"Recently Minted"}),b.jsx("button",{onClick:()=>h("owned"),disabled:!r,style:{background:f==="owned"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r?"pointer":"not-allowed",color:f==="owned"?"white":"black",opacity:r?1:.6},children:"My NFTs"})]}),u&&b.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:u}),c?b.jsx("div",{children:"Loading NFTs..."}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{style:{marginBottom:"10px",fontSize:"14px"},children:[f==="all"&&`Showing all NFTs (${y} total)`,f==="recent"&&`Recently minted NFTs by ${r==null?void 0:r.slice(0,6)}...${r==null?void 0:r.slice(-4)}`,f==="owned"&&`NFTs owned by ${r==null?void 0:r.slice(0,6)}...${r==null?void 0:r.slice(-4)}`]}),o.length===0?b.jsx("div",{children:"No NFTs found."}):b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:o.map(U=>b.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},onClick:()=>{O(U)},children:[b.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${U.image_url})`,backgroundSize:"cover",backgroundPosition:"center",marginBottom:"10px",border:"1px solid #ccc"}}),b.jsx("div",{style:{fontSize:"12px",marginBottom:"5px",color:"#000"},children:b.jsxs("strong",{children:["#",U.token_id]})}),b.jsxs("div",{style:{fontSize:"11px",marginBottom:"5px",color:"#000"},children:["Owner: ",C(U)]}),b.jsxs("div",{style:{fontSize:"11px",color:"#666"},children:["Minted: ",T(U.created_at)]})]},U.id))}),f!=="recent"&&w>1&&b.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"20px"},children:[b.jsx("button",{onClick:()=>g(U=>Math.max(1,U-1)),disabled:p===1,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:p===1?"not-allowed":"pointer"},children:"Previous"}),b.jsxs("span",{style:{padding:"5px 10px"},children:["Page ",p," of ",w]}),b.jsx("button",{onClick:()=>g(U=>Math.min(w,U+1)),disabled:p===w,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:p===w?"not-allowed":"pointer"},children:"Next"})]})]})]})]})}),_&&b.jsx(jK,{nft:_,onClose:()=>E(null)})]}):null},zK=Symbol(),KA=Object.getPrototypeOf,PE=new WeakMap,WK=t=>t&&(PE.has(t)?PE.get(t):KA(t)===Object.prototype||KA(t)===Array.prototype),qK=t=>WK(t)&&t[zK]||null,YA=(t,e=!0)=>{PE.set(t,e)},Ry={},$v=t=>typeof t=="object"&&t!==null,ea=new WeakMap,Rf=new WeakSet,HK=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>$v(l)&&!Rf.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},s=new WeakMap,i=(l,u,d=r)=>{const f=s.get(l);if((f==null?void 0:f[0])===u)return f[1];const h=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return YA(h,!0),s.set(l,[u,h]),Reflect.ownKeys(l).forEach(p=>{if(Object.getOwnPropertyDescriptor(h,p))return;const g=Reflect.get(l,p),{enumerable:w}=Reflect.getOwnPropertyDescriptor(l,p),m={value:g,enumerable:w,configurable:!0};if(Rf.has(g))YA(g,!1);else if(g instanceof Promise)delete m.value,m.get=()=>d(g);else if(ea.has(g)){const[y,v]=ea.get(g);m.value=i(y,v(),d)}Object.defineProperty(h,p,m)}),Object.preventExtensions(h)},o=new WeakMap,a=[1,1],c=l=>{if(!$v(l))throw new Error("object required");const u=o.get(l);if(u)return u;let d=a[0];const f=new Set,h=(C,R=++a[0])=>{d!==R&&(d=R,f.forEach(O=>O(C,R)))};let p=a[1];const g=(C=++a[1])=>(p!==C&&!f.size&&(p=C,m.forEach(([R])=>{const O=R[1](C);O>d&&(d=O)})),d),w=C=>(R,O)=>{const L=[...R];L[1]=[C,...L[1]],h(L,O)},m=new Map,y=(C,R)=>{if((Ry?"production":void 0)!=="production"&&m.has(C))throw new Error("prop listener already exists");if(f.size){const O=R[3](w(C));m.set(C,[R,O])}else m.set(C,[R])},v=C=>{var R;const O=m.get(C);O&&(m.delete(C),(R=O[1])==null||R.call(O))},_=C=>(f.add(C),f.size===1&&m.forEach(([O,L],U)=>{if((Ry?"production":void 0)!=="production"&&L)throw new Error("remove already exists");const B=O[3](w(U));m.set(U,[O,B])}),()=>{f.delete(C),f.size===0&&m.forEach(([O,L],U)=>{L&&(L(),m.set(U,[O]))})}),E=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),S=e(E,{deleteProperty(C,R){const O=Reflect.get(C,R);v(R);const L=Reflect.deleteProperty(C,R);return L&&h(["delete",[R],O]),L},set(C,R,O,L){const U=Reflect.has(C,R),B=Reflect.get(C,R,L);if(U&&(t(B,O)||o.has(O)&&t(B,o.get(O))))return!0;v(R),$v(O)&&(O=qK(O)||O);let I=O;if(O instanceof Promise)O.then(N=>{O.status="fulfilled",O.value=N,h(["resolve",[R],N])}).catch(N=>{O.status="rejected",O.reason=N,h(["reject",[R],N])});else{!ea.has(O)&&n(O)&&(I=c(O));const N=!Rf.has(I)&&ea.get(I);N&&y(R,N)}return Reflect.set(C,R,I,L),h(["set",[R],O,B]),!0}});o.set(l,S);const T=[E,g,i,_];return ea.set(S,T),Reflect.ownKeys(l).forEach(C=>{const R=Object.getOwnPropertyDescriptor(l,C);"value"in R&&(S[C]=l[C],delete R.value,delete R.writable),Object.defineProperty(E,C,R)}),S})=>[c,ea,Rf,t,e,n,r,s,i,o,a],[VK]=HK();function bt(t={}){return VK(t)}function An(t,e,n){const r=ea.get(t);(Ry?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[3];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function rp(t,e){const n=ea.get(t);(Ry?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,s,i]=n;return i(r,s(),e)}function cl(t){return Rf.add(t),t}function In(t,e,n,r){let s=t[e];return An(t,()=>{const i=t[e];Object.is(s,i)||n(s=i)})}function GK(t){const e=bt({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const s=this.data.find(i=>i[0]===n);return s?s[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(s=>s[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(s=>s[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var ZA={};const q={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof ZA<"u"?ZA.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},sp={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var s;if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return((s=q.CHAIN_NAME_MAP)==null?void 0:s[r])||void 0}};var KK=20,YK=1,ll=1e6,QA=1e6,ZK=-7,QK=21,XK=!1,Zp="[big.js] ",xl=Zp+"Invalid ",K0=xl+"decimal places",JK=xl+"rounding mode",n5=Zp+"Division by zero",ct={},Si=void 0,eY=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function r5(){function t(e){var n=this;if(!(n instanceof t))return e===Si?r5():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(xl+"value");e=e===0&&1/e<0?"-0":String(e)}tY(n,e)}n.constructor=t}return t.prototype=ct,t.DP=KK,t.RM=YK,t.NE=ZK,t.PE=QK,t.strict=XK,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function tY(t,e){var n,r,s;if(!eY.test(e))throw Error(xl+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function Sl(t,e,n,r){var s=t.c;if(n===Si&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(JK);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==Si))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==Si||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function Al(t,e,n){var r=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}ct.abs=function(){var t=new this.constructor(this);return t.s=1,t};ct.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,i=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=s.length)?a:c,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};ct.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,i=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>ll)throw Error(K0);if(!s[0])throw Error(n5);if(!r[0])return t.s=i,t.c=[t.e=0],t;var a,c,l,u,d,f=s.slice(),h=a=s.length,p=r.length,g=r.slice(0,a),w=g.length,m=t,y=m.c=[],v=0,_=o+(m.e=e.e-t.e)+1;for(m.s=i,i=_<0?0:_,f.unshift(0);w++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(w=g.length))u=a>w?1:-1;else for(d=-1,u=0;++d<a;)if(s[d]!=g[d]){u=s[d]>g[d]?1:-1;break}if(u<0){for(c=w==a?s:f;w;){if(g[--w]<c[w]){for(d=w;d&&!g[--d];)g[d]=9;--g[d],g[w]+=10}g[w]-=c[w]}for(;!g[0];)g.shift()}else break}y[v++]=u?l:++l,g[0]&&u?g[w]=r[h]||0:g=[r[h]]}while((h++<p||g[0]!==Si)&&i--);return!y[0]&&v!=1&&(y.shift(),m.e--,_--),v>_&&Sl(m,_,n.RM,g[0]!==Si),m};ct.eq=function(t){return this.cmp(t)===0};ct.gt=function(t){return this.cmp(t)>0};ct.gte=function(t){return this.cmp(t)>-1};ct.lt=function(t){return this.cmp(t)<0};ct.lte=function(t){return this.cmp(t)<1};ct.minus=ct.sub=function(t){var e,n,r,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),u=i.e,d=t.c,f=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(i):t.s=1,t;if(a=u-f){for((s=a<0)?(a=-a,r=l):(f=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){s=l[c]<d[c];break}if(s&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--f;return l[0]||(t.s=1,l=[f=0]),t.c=l,t.e=f,t};ct.mod=function(t){var e,n=this,r=n.constructor,s=n.s,i=(t=new r(t)).s;if(!t.c[0])throw Error(n5);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=i,e?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=i,this.minus(n.times(t)))};ct.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};ct.plus=ct.add=function(t){var e,n,r,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};ct.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-QA||t>QA)throw Error(xl+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};ct.prec=function(t,e){if(t!==~~t||t<1||t>ll)throw Error(xl+"precision");return Sl(new this.constructor(this),t,e)};ct.round=function(t,e){if(t===Si)t=0;else if(t!==~~t||t<-ll||t>ll)throw Error(K0);return Sl(new this.constructor(this),t+this.e+1,e)};ct.sqrt=function(){var t,e,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(Zp+"No square root");i=Math.sqrt(+Al(r,!0,!0)),i===0||i===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Sl(t,(s.DP-=4)+t.e+1,s.RM)};ct.times=ct.mul=function(t){var e,n=this,r=n.constructor,s=n.c,i=(t=new r(t)).c,o=s.length,a=i.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=s,s=i,i=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+i[c]*s[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};ct.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==Si){if(t!==~~t||t<0||t>ll)throw Error(K0);for(n=Sl(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return Al(n,!0,!!r)};ct.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==Si){if(t!==~~t||t<0||t>ll)throw Error(K0);for(n=Sl(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return Al(n,!1,!!r)};ct[Symbol.for("nodejs.util.inspect.custom")]=ct.toJSON=ct.toString=function(){var t=this,e=t.constructor;return Al(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};ct.toNumber=function(){var t=+Al(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Zp+"Imprecise conversion");return t};ct.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==Si){if(t!==~~t||t<1||t>ll)throw Error(xl+"precision");for(n=Sl(new r(n),t,e);n.c.length<t;)n.c.push(0)}return Al(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};ct.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Zp+"valueOf disallowed");return Al(t,t.e<=e.NE||t.e>=e.PE,!0)};var rf=r5();const nY={bigNumber(t){return t?new rf(t):new rf(0)},multiply(t,e){if(t===void 0||e===void 0)return new rf(0);const n=new rf(t),r=new rf(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},rY=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],sY=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],iY=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],oY={getERC20Abi:t=>q.USDT_CONTRACT_ADDRESSES.includes(t)?iY:rY,getSwapAbi:()=>sY},Fr={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Ae={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids"};function Dv(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Ce={setItem(t,e){Of()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Of())return localStorage.getItem(t)||void 0},removeItem(t){Of()&&localStorage.removeItem(t)},clear(){Of()&&localStorage.clear()}};function Of(){return typeof window<"u"&&typeof localStorage<"u"}function oo(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var XA={};const Uv=(typeof process<"u"&&typeof XA<"u"?XA.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",s5=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]},{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]}],aY="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",it={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:Uv,SECURE_SITE_DASHBOARD:`${Uv}/dashboard`,SECURE_SITE_FAVICON:`${Uv}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld","coinbase"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},ne={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=ne.getActiveNamespace(),e=ne.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{Ce.setItem(Ae.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Ce.getItem(Ae.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Ce.removeItem(Ae.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Ce.setItem(Ae.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Ce.setItem(Ae.ACTIVE_CAIP_NETWORK_ID,t),ne.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Ce.getItem(Ae.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Ce.removeItem(Ae.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=Dv(t);Ce.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=ne.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Ce.setItem(Ae.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Ce.getItem(Ae.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=Dv(t);Ce.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Ce.getItem(Ae.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=Dv(t);return Ce.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{Ce.setItem(Ae.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Ce.getItem(Ae.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Ce.removeItem(Ae.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Ce.getItem(Ae.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=Ce.getItem(Ae.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{Ce.setItem(Ae.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Ce.getItem(Ae.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Ce.getItem(Ae.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Ce.setItem(Ae.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=ne.getConnectedNamespaces();e.includes(t)||(e.push(t),ne.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=ne.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),ne.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Ce.getItem(Ae.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Ce.setItem(Ae.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Ce.removeItem(Ae.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Ce.getItem(Ae.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=ne.getBalanceCache();Ce.setItem(Ae.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=ne.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;ne.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=ne.getBalanceCache();e[t.caipAddress]=t,Ce.setItem(Ae.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Ce.getItem(Ae.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=ne.getBalanceCache();Ce.setItem(Ae.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=ne.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),ne.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=ne.getNativeBalanceCache();e[t.caipAddress]=t,Ce.setItem(Ae.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Ce.getItem(Ae.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=ne.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;ne.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=ne.getEnsCache();e[t.address]=t,Ce.setItem(Ae.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=ne.getEnsCache();Ce.setItem(Ae.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Ce.getItem(Ae.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=ne.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;ne.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=ne.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Ce.setItem(Ae.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=ne.getIdentityCache();Ce.setItem(Ae.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Ce.removeItem(Ae.PORTFOLIO_CACHE),Ce.removeItem(Ae.NATIVE_BALANCE_CACHE),Ce.removeItem(Ae.ENS_CACHE),Ce.removeItem(Ae.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Ce.setItem(Ae.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Ce.getItem(Ae.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=ne.getConnections(),r=n[e]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of t){const a=s.get(o.connectorId),c=o.connectorId===q.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else s.set(o.connectorId,{...o})}const i={...n,[e]:Array.from(s.values())};Ce.setItem(Ae.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=Ce.getItem(Ae.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=ne.getConnections(),s=r[n]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),Ce.setItem(Ae.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=Ce.getItem(Ae.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=ne.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),Ce.setItem(Ae.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=ne.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(s=>s.toLowerCase()!==t.toLowerCase()),Ce.setItem(Ae.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(ne.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1}},me={isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return me.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=it.TEN_SEC_MS:!0},isAllowedRetry(t,e=it.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(me.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(n){const s=new URL(n),i=new URL(r);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+it.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(me.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(t,e){if(!me.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?ne.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r;if(typeof window>"u")return!1;const t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(n=window.matchMedia("(display-mode: standalone)"))==null?void 0:n.matches:!1,e=(r=window==null?void 0:window.navigator)==null?void 0:r.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,me.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return q.W3M_API_URL},getBlockchainApiUrl(){return q.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return q.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?it.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in q.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,r+i),c=t.substring(r+i,o),l=t.substring(s),u=c+n;return a+u+l}};async function sf(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Qp{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await sf(i,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await sf(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await sf(i,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await sf(i,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await sf(i,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const cY={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?it.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(me.isTelegram()){if(me.isIos())return t.filter(e=>e!=="google");if(me.isMac())return t.filter(e=>e!=="x");if(me.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},be=bt({features:it.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:it.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),K={state:be,subscribeKey(t,e){return In(be,t,e)},setOptions(t){Object.assign(be,t)},setRemoteFeatures(t){var n;if(!t)return;const e={...be.remoteFeatures,...t};be.remoteFeatures=e,(n=be.remoteFeatures)!=null&&n.socials&&(be.remoteFeatures.socials=cY.filterSocialsByPlatform(be.remoteFeatures.socials))},setFeatures(t){if(!t)return;be.features||(be.features=it.DEFAULT_FEATURES);const e={...be.features,...t};be.features=e},setProjectId(t){be.projectId=t},setCustomRpcUrls(t){be.customRpcUrls=t},setAllWallets(t){be.allWallets=t},setIncludeWalletIds(t){be.includeWalletIds=t},setExcludeWalletIds(t){be.excludeWalletIds=t},setFeaturedWalletIds(t){be.featuredWalletIds=t},setTokens(t){be.tokens=t},setTermsConditionsUrl(t){be.termsConditionsUrl=t},setPrivacyPolicyUrl(t){be.privacyPolicyUrl=t},setCustomWallets(t){be.customWallets=t},setIsSiweEnabled(t){be.isSiweEnabled=t},setIsUniversalProvider(t){be.isUniversalProvider=t},setSdkVersion(t){be.sdkVersion=t},setMetadata(t){be.metadata=t},setDisableAppend(t){be.disableAppend=t},setEIP6963Enabled(t){be.enableEIP6963=t},setDebug(t){be.debug=t},setEnableWalletConnect(t){be.enableWalletConnect=t},setEnableWalletGuide(t){be.enableWalletGuide=t},setEnableAuthLogger(t){be.enableAuthLogger=t},setEnableWallets(t){be.enableWallets=t},setPreferUniversalLinks(t){be.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){be.hasMultipleAddresses=t},setSIWX(t){be.siwx=t},setConnectMethodsOrder(t){be.features={...be.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){be.features={...be.features,walletFeaturesOrder:t}},setSocialsOrder(t){be.remoteFeatures={...be.remoteFeatures,socials:t}},setCollapseWallets(t){be.features={...be.features,collapseWallets:t}},setEnableEmbedded(t){be.enableEmbedded=t},setAllowUnsupportedChain(t){be.allowUnsupportedChain=t},setManualWCControl(t){be.manualWCControl=t},setEnableNetworkSwitch(t){be.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(be.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){be.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return be.universalProviderConfigOverride},getSnapshot(){return rp(be)}},lY=Object.freeze({enabled:!0,events:[]}),uY=new Qp({baseUrl:me.getAnalyticsUrl(),clientId:null}),dY=5,fY=60*1e3,Do=bt({...lY}),hY={state:Do,subscribeKey(t,e){return In(Do,t,e)},async sendError(t,e){if(!Do.enabled)return;const n=Date.now();if(Do.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<fY}).length>=dY)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};Do.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=K.state;await uY.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:me.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){Do.enabled=!0},disable(){Do.enabled=!1},clearEvents(){Do.events=[]}};class ld extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,ld.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,ld):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function JA(t,e){const n=t instanceof ld?t:new ld(t instanceof Error?t.message:String(t),e,t);throw hY.sendError(n,n.category),n}function ts(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return JA(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return JA(a,e)}},n[r]=i}else n[r]=s}),n}const wi={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},pY={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===wi.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${wi.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===wi.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${wi.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===q.CHAIN.SOLANA&&t===wi.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${wi.COINBASE.url}/dapp?cb_url=${r}`)}},Dr=bt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),gY={state:Dr,subscribeNetworkImages(t){return An(Dr.networkImages,()=>t(Dr.networkImages))},subscribeKey(t,e){return In(Dr,t,e)},subscribe(t){return An(Dr,()=>t(Dr))},setWalletImage(t,e){Dr.walletImages[t]=e},setNetworkImage(t,e){Dr.networkImages[t]=e},setChainImage(t,e){Dr.chainImages[t]=e},setConnectorImage(t,e){Dr.connectorImages={...Dr.connectorImages,[t]:e}},setTokenImage(t,e){Dr.tokenImages[t]=e},setCurrencyImage(t,e){Dr.currencyImages[t]=e}},Fs=ts(gY),mY={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},Lv=bt({networkImagePromises:{}}),i5={async fetchWalletImage(t){if(t)return await ye._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(Lv.networkImagePromises[t]||(Lv.networkImagePromises[t]=ye._fetchNetworkImage(t)),await Lv.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Fs.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Fs.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return Fs.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Fs.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return Fs.state.connectorImages[t.imageId]},getChainImage(t){return Fs.state.networkImages[mY[t]]}},Uo=bt({message:"",variant:"info",open:!1}),yY={state:Uo,subscribeKey(t,e){return In(Uo,t,e)},open(t,e){const{debug:n}=K.state,{shortMessage:r,longMessage:s}=t;n&&(Uo.message=r,Uo.variant=e,Uo.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){Uo.open=!1,Uo.message="",Uo.variant="info"}},Vt=ts(yY),wY=me.getAnalyticsUrl(),vY=new Qp({baseUrl:wY,clientId:null}),bY=["MODAL_CREATED"],ji=bt({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),ot={state:ji,subscribe(t){return An(ji,()=>t(ji))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=K.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=te.state.address;if(bY.includes(t.data.event)||typeof window>"u")return;await vY.post({path:"/e",params:ot.getSdkProperties(),body:{eventId:me.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),ji.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===q.HTTP_STATUS_CODES.FORBIDDEN&&!ji.reportedErrors.FORBIDDEN&&(Vt.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Of()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),ji.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;ji.timestamp=Date.now(),ji.data=t,(e=K.state.features)!=null&&e.analytics&&ot._sendAnalyticsEvent(ji)}},EY=me.getApiUrl(),cr=new Qp({baseUrl:EY,clientId:null}),_Y=40,eI=4,CY=20,Ne=bt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),ye={state:Ne,subscribeKey(t,e){return In(Ne,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=K.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return K.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${cr.baseUrl}/getWalletImage/${t}`,n=await cr.getBlob({path:e,params:ye._getSdkProperties()});Fs.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${cr.baseUrl}/public/getAssetImage/${t}`,n=await cr.getBlob({path:e,params:ye._getSdkProperties()});Fs.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${cr.baseUrl}/public/getAssetImage/${t}`,n=await cr.getBlob({path:e,params:ye._getSdkProperties()});Fs.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${cr.baseUrl}/public/getCurrencyImage/${t}`,n=await cr.getBlob({path:e,params:ye._getSdkProperties()});Fs.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${cr.baseUrl}/public/getTokenImage/${t}`,n=await cr.getBlob({path:e,params:ye._getSdkProperties()});Fs.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return me.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===wi.COINBASE.id?!0:P.state.activeChain==="solana"&&(n.id===wi.SOLFLARE.id||n.id===wi.PHANTOM.id)):t},async fetchProjectConfig(){return(await cr.get({path:"/appkit/v1/config",params:ye._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await cr.get({path:"/projects/v1/origins",params:ye._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===q.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=q.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=P.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!i5.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>ye._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=re.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>ye._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>ye._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>ye._fetchTokenImage(e)))},async fetchWallets(t){var i;const e=t.exclude??[];ye._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(wi).map(o=>o.id));const r=await cr.get({path:"/getWallets",params:{...ye._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(i=t.include)==null?void 0:i.join(","),exclude:e.join(",")}});return{data:ye._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=K.state;if(t!=null&&t.length){const e={...ye._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??eI,include:t},{data:n}=await ye.fetchWallets(e),r=[...n].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>ye._fetchWalletImage(i))),Ne.featured=r,Ne.allFeatured=r}},async fetchRecommendedWallets(){try{Ne.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=K.state,r=[...e??[],...n??[]].filter(Boolean),s=P.getRequestedCaipNetworkIds().join(","),i={page:1,entries:eI,include:t,exclude:r,chains:s},{data:o,count:a}=await ye.fetchWallets(i),c=ne.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>ye._fetchWalletImage(d))),Ne.recommended=o,Ne.allRecommended=o,Ne.count=a??0}catch{}finally{Ne.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=K.state,s=P.getRequestedCaipNetworkIds().join(","),i=[...Ne.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:_Y,include:e,exclude:i,chains:s},{data:a,count:c}=await ye.fetchWallets(o),l=a.slice(0,CY).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>ye._fetchWalletImage(u))),Ne.wallets=me.uniqueBy([...Ne.wallets,...ye._filterOutExtensions(a)],"id").filter(u=>{var d;return(d=u.chains)==null?void 0:d.some(f=>s.includes(f))}),Ne.count=c>Ne.count?c:Ne.count,Ne.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await ye.fetchWallets(e);n&&n.forEach(r=>{Ne.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=K.state,s=P.getRequestedCaipNetworkIds().join(",");Ne.search=[];const i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:o}=await ye.fetchWallets(i);ot.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>ye._fetchWalletImage(c)),me.wait(300)]),Ne.search=ye._filterOutExtensions(o)},initPromise(t,e){const n=Ne.promises[t];return n||(Ne.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&ye.initPromise("connectorImages",ye.fetchConnectorImages),e&&ye.initPromise("featuredWallets",ye.fetchFeaturedWallets),n&&ye.initPromise("recommendedWallets",ye.fetchRecommendedWallets),r&&ye.initPromise("networkImages",ye.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=K.state.features)!=null&&t.analytics&&ye.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await cr.get({path:"/getAnalyticsConfig",params:ye._getSdkProperties()});K.setFeatures({analytics:t})}catch{K.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){Ne.featured=Ne.allFeatured,Ne.recommended=Ne.allRecommended;return}const e=P.getRequestedCaipNetworkIds().join(",");Ne.featured=Ne.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ne.recommended=Ne.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ne.filteredWallets=Ne.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){Ne.filteredWallets=[]},setFilterByNamespace(t){if(!t){Ne.featured=Ne.allFeatured,Ne.recommended=Ne.allRecommended;return}const e=P.getRequestedCaipNetworkIds().join(",");Ne.featured=Ne.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ne.recommended=Ne.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ne.filteredWallets=Ne.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},ut=bt({view:"Connect",history:["Connect"],transactionStack:[]}),xY={state:ut,subscribeKey(t,e){return In(ut,t,e)},pushTransactionStack(t){ut.transactionStack.push(t)},popTransactionStack(t){const e=ut.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:s}=e;switch(t){case"success":n==null||n();break;case"error":r==null||r(),_e.goBack();break;case"cancel":s==null||s(),_e.goBack();break}},push(t,e){t!==ut.view&&(ut.view=t,ut.history.push(t),ut.data=e)},reset(t,e){ut.view=t,ut.history=[t],ut.data=e},replace(t,e){ut.history.at(-1)===t||(ut.view=t,ut.history[ut.history.length-1]=t,ut.data=e)},goBack(){var r;const t=P.state.activeCaipAddress,e=_e.state.view==="ConnectingFarcaster",n=!t&&e;if(ut.history.length>1){ut.history.pop();const[s]=ut.history.slice(-1);s&&(t&&s==="Connect"?ut.view="Account":ut.view=s)}else nt.close();(r=ut.data)!=null&&r.wallet&&(ut.data.wallet=void 0),setTimeout(()=>{var s,i,o;if(n){te.setFarcasterUrl(void 0,P.state.activeChain);const a=re.getAuthConnector();(s=a==null?void 0:a.provider)==null||s.reload();const c=rp(K.state);(o=(i=a==null?void 0:a.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(ut.history.length>1){ut.history=ut.history.slice(0,t+1);const[e]=ut.history.slice(-1);e&&(ut.view=e)}},goBackOrCloseModal(){_e.state.history.length>1?_e.goBack():nt.close()}},_e=ts(xY),Bi=bt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),RE={state:Bi,subscribe(t){return An(Bi,()=>t(Bi))},setThemeMode(t){Bi.themeMode=t;try{const e=re.getAuthConnector();if(e){const n=RE.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:oo(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Bi.themeVariables={...Bi.themeVariables,...t};try{const e=re.getAuthConnector();if(e){const n=RE.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:oo(Bi.themeVariables,Bi.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return rp(Bi)}},br=ts(RE),o5={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},Ge=bt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...o5},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),SY={state:Ge,subscribe(t){return An(Ge,()=>{t(Ge)})},subscribeKey(t,e){return In(Ge,t,e)},initialize(t){t.forEach(e=>{const n=ne.getConnectedConnectorId(e);n&&re.setConnectorId(n,e)})},setActiveConnector(t){t&&(Ge.activeConnector=cl(t))},setConnectors(t){t.filter(s=>!Ge.allConnectors.some(i=>i.id===s.id&&re.getConnectorName(i.name)===re.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&Ge.allConnectors.push(cl(s))});const n=re.getEnabledNamespaces(),r=re.getEnabledConnectors(n);Ge.connectors=re.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(Ge.filterByNamespaceMap).forEach(e=>{Ge.filterByNamespaceMap[e]=!1}),t.forEach(e=>{Ge.filterByNamespaceMap[e]=!0}),re.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){Ge.filterByNamespaceMap[t]=e,re.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=re.getEnabledNamespaces(),e=re.getEnabledConnectors(t),n=re.areAllNamespacesEnabled();Ge.connectors=re.mergeMultiChainConnectors(e),n?ye.clearFilterByNamespaces():ye.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(Ge.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return Ge.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(Ge.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=re.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],i=(s==null?void 0:s.id)===q.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=re.getConnectorName(r);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===q.CONNECTOR_ID.AUTH){const s=t,i=rp(K.state),o=br.getSnapshot().themeMode,a=br.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:oo(a,o)}),re.setConnectors([t])}else re.setConnectors([t])},getAuthConnector(t){var r;const e=t||P.state.activeChain,n=Ge.connectors.find(s=>s.id===q.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return Ge.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return Ge.allConnectors.find(e=>e.id===t)},getConnector(t,e){return Ge.allConnectors.filter(r=>r.chain===P.state.activeChain).find(r=>{var s;return r.explorerId===t||((s=r.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="ID_AUTH")return;const e=t,n=rp(K.state),r=br.getSnapshot().themeMode,s=br.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:oo(s,r)})},getConnectorsByNamespace(t){const e=Ge.allConnectors.filter(n=>n.chain===t);return re.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=re.getConnector(t.id,t.rdns),n=P.state.activeChain;pY.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,n),e?_e.push("ConnectingExternal",{connector:e}):_e.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?re.getConnectorsByNamespace(t):re.mergeMultiChainConnectors(Ge.allConnectors)},setFilterByNamespace(t){Ge.filterByNamespace=t,Ge.connectors=re.getConnectors(t),ye.setFilterByNamespace(t)},setConnectorId(t,e){t&&(Ge.activeConnectorIds={...Ge.activeConnectorIds,[e]:t},ne.setConnectedConnectorId(e,t))},removeConnectorId(t){Ge.activeConnectorIds={...Ge.activeConnectorIds,[t]:void 0},ne.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return Ge.activeConnectorIds[t]},isConnected(t){return t?!!Ge.activeConnectorIds[t]:Object.values(Ge.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){Ge.activeConnectorIds={...o5}}},re=ts(SY),ip={getConnectionStatus(t,e){const n=re.state.activeConnectorIds[e],r=de.state.connections.get(e)??[];return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},validateAccountSwitch({namespace:t,connection:e,address:n}){if(t===q.CHAIN.BITCOIN){if(!n)throw new Error("Address parameter is required for switching bip122 connection");const{type:s}=e.accounts.find(i=>i.address.toLowerCase()===n.toLowerCase())??{};if(typeof s=="string"&&s!=="payment")throw new Error(`Switching to non-payment accounts is not allowed for ${t}`)}},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},filterConnectionsByAccountType(t,e){return t.map(n=>{const r=n.accounts.filter(s=>typeof s.type=="string"?s.type.toLowerCase()===e.toLowerCase():!0);return{...n,accounts:r}})},getConnectionsData(t){const e=de.state.connections.get(t)??[],n=e.filter(a=>!a.recent),r=re.state.activeConnectorIds[t],i=e.filter(a=>a.recent).filter(a=>re.getConnectorById(a.connectorId)),o=ip.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],i);return{connections:n,recentConnections:o}}};var ud={};const AY="https://secure.walletconnect.org/sdk",IY=(typeof process<"u"&&typeof ud<"u"?ud.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||AY,TY=(typeof process<"u"&&typeof ud<"u"?ud.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",NY=(typeof process<"u"&&typeof ud<"u"?ud.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",he={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},hn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},PY=1e3,ro={checkNamespaceConnectorId(t,e){return re.getConnectorId(t)===e},isSocialProvider(t){return it.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&re.setActiveConnector(e),s==null||s(me.isMobile()&&t),r){const l=nt.subscribeKey("open",u=>{u||(_e.state.view!==r&&_e.replace(r),l(),a(new Error("Modal closed")))})}const c=P.subscribeKey("activeCaipAddress",l=>{l&&(i==null||i(),n&&nt.close(),c(),o(Fr.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,n)=>{const r=P.subscribeKey("activeCaipAddress",s=>{s&&(nt.close(),r(),e(Fr.parseCaipAddress(s)))});de.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,closeModalOnConnect:e=!0,onOpenFarcaster:n,onConnect:r}){let s=te.state.socialWindow,i=te.state.socialProvider,o=!1,a=null;const c=P.subscribeKey("activeCaipAddress",l=>{l&&(e&&nt.close(),c())});return new Promise((l,u)=>{async function d(h){var p;if((p=h.data)!=null&&p.resultUri)if(h.origin===q.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",d,!1);try{const g=re.getAuthConnector();if(g&&!o){s&&(s.close(),te.setSocialWindow(void 0,P.state.activeChain),s=te.state.socialWindow),o=!0;const w=h.data.resultUri;if(i&&ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:i}}),await g.provider.connectSocial(w),i){ne.setConnectedSocialProvider(i),await de.connectExternal({id:g.id,type:g.type,socialUri:w},g.chain);const m=P.state.activeCaipAddress;if(!m){u(new Error("Failed to connect"));return}l(Fr.parseCaipAddress(m)),ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:i}})}}}catch{i&&ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}}),u(new Error("Failed to connect"))}}else i&&ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}})}async function f(){if(t&&(te.setSocialProvider(t,P.state.activeChain),i=te.state.socialProvider,ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:i}})),i==="farcaster"){n==null||n();const h=nt.subscribeKey("open",g=>{!g&&t==="farcaster"&&(u(new Error("Popup closed")),r==null||r(),h())}),p=re.getAuthConnector();if(p&&!te.state.farcasterUrl)try{const{url:g}=await p.provider.getFarcasterUri();te.setFarcasterUrl(g,P.state.activeChain)}catch{u(new Error("Failed to connect to farcaster"))}}else{const h=re.getAuthConnector();a=me.returnOpenHref(`${q.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(h&&i){const{uri:p}=await h.provider.getSocialRedirectUri({provider:i});if(a&&p){te.setSocialWindow(a,P.state.activeChain),s=te.state.socialWindow,a.location.href=p;const g=setInterval(()=>{s!=null&&s.closed&&!o&&(u(new Error("Popup closed")),clearInterval(g))},1e3);window.addEventListener("message",d,!1)}else a==null||a.close(),u(new Error("Failed to initiate social connection"))}}catch{u(new Error("Failed to initiate social connection")),a==null||a.close()}}}f()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n==null||n(),e){const a=nt.subscribeKey("open",c=>{c||(_e.state.view!==e&&_e.replace(e),a(),i(new Error("Modal closed")))})}const o=P.subscribeKey("activeCaipAddress",a=>{a&&(r==null||r(),t&&nt.close(),o(),s(Fr.parseCaipAddress(a)))})})},async updateEmail(){const t=ne.getConnectedConnectorId(P.state.activeChain),e=re.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==q.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return _e.push("UpdateEmailWallet",{email:n,redirectView:void 0}),new Promise((r,s)=>{const i=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(nt.close(),clearInterval(i),o(),r({email:a}))},PY),o=nt.subscribeKey("open",a=>{a||(_e.state.view!=="Connect"&&_e.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){var n;return P.checkIfSmartAccountEnabled()&&((n=te.state.preferredAccountTypes)==null?void 0:n[t])===hn.ACCOUNT_TYPES.EOA}},yc=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Yt=bt({...yc}),RY={state:Yt,subscribeKey(t,e){return In(Yt,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=me.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){Yt.message=yc.message,Yt.variant=yc.variant,Yt.svg=yc.svg,Yt.open=yc.open,Yt.autoClose=yc.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=yc.autoClose}){Yt.open?(Yt.open=!1,setTimeout(()=>{Yt.message=t,Yt.variant=n,Yt.svg=e,Yt.open=!0,Yt.autoClose=r},150)):(Yt.message=t,Yt.variant=n,Yt.svg=e,Yt.open=!0,Yt.autoClose=r)}},Ws=RY,mt=bt({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),OY={state:mt,subscribe(t){return An(mt,()=>t(mt))},setLastNetworkInView(t){mt.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");mt.loading=!0;try{const s=await Ee.fetchTransactions({account:t,cursor:mt.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=P.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),i=kf.filterSpamTransactions(s.data),o=kf.filterByConnectedChain(i),a=[...mt.transactions,...o];mt.loading=!1,e==="coinbase"?mt.coinbaseTransactions=kf.groupTransactionsByYearAndMonth(mt.coinbaseTransactions,s.data):(mt.transactions=a,mt.transactionsByYear=kf.groupTransactionsByYearAndMonth(mt.transactionsByYear,o)),mt.empty=a.length===0,mt.next=s.next?s.next:void 0}catch{const i=P.state.activeChain;ot.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:K.state.projectId,cursor:mt.next,isSmartAccount:((r=te.state.preferredAccountTypes)==null?void 0:r[i])===hn.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ws.showError("Failed to fetch transactions"),mt.loading=!1,mt.empty=!0,mt.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},c=(o[i]??[]).filter(l=>l.id!==r.id);n[s]={...o,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=P.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){mt.next=void 0},resetTransactions(){mt.transactions=[],mt.transactionsByYear={},mt.lastNetworkInView=void 0,mt.loading=!1,mt.empty=!1,mt.next=void 0}},kf=ts(OY,"API_ERROR"),We=bt({connections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let lc;const kY={state:We,subscribe(t){return An(We,()=>t(We))},subscribeKey(t,e){return In(We,t,e)},_getClient(){return We._client},setClient(t){We._client=cl(t)},initialize(t){const e=ne.getConnections();for(const n of t){const r=n.namespace;if(r){const s=We.connections.get(r)??[],i=e[r]??[],o=[...s,...i];We.connections.set(r,o)}}},async connectWalletConnect(){var t,e,n,r;if(me.isTelegram()||me.isSafari()&&me.isIos()){if(lc){await lc,lc=void 0;return}if(!me.isPairingExpired(We==null?void 0:We.wcPairingExpiry)){const s=We.wcUri;We.wcUri=s;return}lc=(e=(t=de._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),de.state.status="connecting",await lc,lc=void 0,We.wcPairingExpiry=void 0,de.state.status="connected"}else await((r=(n=de._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var s,i;const r=await((i=(s=de._getClient())==null?void 0:s.connectExternal)==null?void 0:i.call(s,t));return n&&P.setActiveNamespace(e),r},async reconnectExternal(t){var n,r;await((r=(n=de._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||P.state.activeChain;e&&re.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;nt.setLoading(!0,P.state.activeChain);const n=re.getAuthConnector();n&&(te.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),ne.setPreferredAccountTypes(te.state.preferredAccountTypes??{[e]:t}),await de.reconnectExternal(n),nt.setLoading(!1,P.state.activeChain),ot.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=P.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=de._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=de._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=de._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=de._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=de._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=de._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=de._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=de._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=de._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=de._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=de._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=de._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){We.wcUri=void 0,We.wcPairingExpiry=void 0,We.wcLinking=void 0,We.recentWallet=void 0,We.status="disconnected",kf.resetTransactions(),ne.deleteWalletConnectDeepLink()},resetUri(){We.wcUri=void 0,We.wcPairingExpiry=void 0,lc=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=de.state;t&&ne.setWalletConnectDeepLink(t),e&&ne.setAppKitRecent(e),ot.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=_e.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){We.wcBasic=t},setUri(t){We.wcUri=t,We.wcPairingExpiry=me.getPairingExpiry()},setWcLinking(t){We.wcLinking=t},setWcError(t){We.wcError=t,We.buffering=!1},setRecentWallet(t){We.recentWallet=t},setBuffering(t){We.buffering=t},setStatus(t){We.status=t},setIsSwitchingConnection(t){We.isSwitchingConnection=t},async disconnect({id:t,namespace:e}={}){var n;try{await((n=de._getClient())==null?void 0:n.disconnect({id:t,chainNamespace:e}))}catch(r){throw new ld("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(t,e){We.connections=new Map(We.connections.set(e,t))},async handleAuthAccountSwitch({address:t,connection:e,namespace:n}){var o;const r=(o=e.accounts.find(a=>a.type==="smartAccount"))==null?void 0:o.address,i=(r==null?void 0:r.toLowerCase())===t.toLowerCase()&&ro.canSwitchToSmartAccount(n)?"smartAccount":"eoa";await de.setPreferredAccountType(i,n)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=re.getConnectorById(t.connectorId),s=t.connectorId===q.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);const i=await de.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e);return s&&n&&await de.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),i==null?void 0:i.address},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){var l,u;const s=re.getConnectorById(t.connectorId),i=(u=(l=t.auth)==null?void 0:l.name)==null?void 0:u.toLowerCase(),o=t.connectorId===q.CONNECTOR_ID.AUTH,a=t.connectorId===q.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(i&&ro.isSocialProvider(i)){const{address:d}=await ro.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){nt.open({view:"ConnectingFarcaster"})},onConnect(){_e.replace("ProfileWallets")}});c=d}else{const{address:d}=await ro.connectEmail({closeModalOnConnect:r,onOpen(){nt.open({view:"EmailLogin"})},onConnect(){_e.replace("ProfileWallets")}});c=d}else if(a){const{address:d}=await ro.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(f){nt.open({view:f?"AllWallets":"ConnectingWalletConnect"})},onConnect(){_e.replace("ProfileWallets")}});c=d}else{const d=await de.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);d&&(c=d.address)}return o&&n&&await de.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:s}){ip.validateAccountSwitch({namespace:n,connection:t,address:e});let i;const o=te.getCaipAddress(n);if(o){const{address:c}=Fr.parseCaipAddress(o);i=c}const a=ip.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const c=await de.handleActiveConnection({connection:t,namespace:n,address:e});if(i&&c){const l=c.toLowerCase()!==i.toLowerCase();s==null||s({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await de.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&(s==null||s({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},de=ts(kY),Ml=bt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Ai={state:Ml,subscribe(t){return An(Ml,()=>t(Ml))},subscribeOpen(t){return In(Ml,"open",t)},set(t){Object.assign(Ml,{...Ml,...t})}};function $Y(t){const e=Array.from(P.state.chains.keys());let n=[];return t?(n.push([t,P.state.chains.get(t)]),ro.checkNamespaceConnectorId(t,q.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&ro.checkNamespaceConnectorId(r,q.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,P.state.chains.get(r)])}):ro.checkNamespaceConnectorId(t,q.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&ro.checkNamespaceConnectorId(r,q.CONNECTOR_ID.AUTH)&&n.push([r,P.state.chains.get(r)])})):n=Array.from(P.state.chains.entries()),n}function a5(){var r,s;const t=((r=P.state.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=P.state.activeCaipNetwork)==null?void 0:s.id)||1,n=it.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}const DY={async getTokenList(){var r;const t=P.state.activeCaipNetwork,e=await Ee.fetchSwapTokens({chainId:t==null?void 0:t.caipNetworkId});return((r=e==null?void 0:e.tokens)==null?void 0:r.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=P.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const n=(e=await(de==null?void 0:de.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await Ee.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await Ee.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&n&&r){const i=de.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await Cx.getMyTokensWithBalance(t);return te.setTokenBalance(e,P.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:a5(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},st=bt({tokenBalances:[],loading:!1}),UY={state:st,subscribe(t){return An(st,()=>t(st))},subscribeKey(t,e){return In(st,t,e)},setToken(t){t&&(st.token=cl(t))},setTokenAmount(t){st.sendTokenAmount=t},setReceiverAddress(t){st.receiverAddress=t},setReceiverProfileImageUrl(t){st.receiverProfileImageUrl=t},setReceiverProfileName(t){st.receiverProfileName=t},setNetworkBalanceInUsd(t){st.networkBalanceInUSD=t},setLoading(t){st.loading=t},async sendToken(){var t;try{switch(Je.setLoading(!0),(t=P.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await Je.sendEvmToken();return;case"solana":await Je.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{Je.setLoading(!1)}},async sendEvmToken(){var n,r,s,i;const t=P.state.activeChain,e=(n=te.state.preferredAccountTypes)==null?void 0:n[t];if(!Je.state.sendTokenAmount||!Je.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Je.state.token)throw new Error("A token is required");(r=Je.state.token)!=null&&r.address?(ot.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===hn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Je.state.token.address,amount:Je.state.sendTokenAmount,network:((s=P.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await Je.sendERC20Token({receiverAddress:Je.state.receiverAddress,tokenAddress:Je.state.token.address,sendTokenAmount:Je.state.sendTokenAmount,decimals:Je.state.token.quantity.decimals})):(ot.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===hn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Je.state.token.symbol||"",amount:Je.state.sendTokenAmount,network:((i=P.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),await Je.sendNativeToken({receiverAddress:Je.state.receiverAddress,sendTokenAmount:Je.state.sendTokenAmount,decimals:Je.state.token.quantity.decimals}))},async fetchTokenBalance(t){var i,o;st.loading=!0;const e=(i=P.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=P.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=P.state.activeCaipAddress,s=r?me.getPlainAddress(r):void 0;if(st.lastRetry&&!me.isAllowedRetry(st.lastRetry,30*it.ONE_SEC_MS))return st.loading=!1,[];try{if(s&&e&&n){const a=await Cx.getMyTokensWithBalance();return st.tokenBalances=a,st.lastRetry=void 0,a}}catch(a){st.lastRetry=Date.now(),t==null||t(a),Ws.showError("Token Balance Unavailable")}finally{st.loading=!1}return[]},fetchNetworkBalance(){if(st.tokenBalances.length===0)return;const t=DY.mapBalancesToSwapTokens(st.tokenBalances);if(!t)return;const e=t.find(n=>n.address===a5());e&&(st.networkBalanceInUSD=e?nY.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var i,o,a,c;_e.pushTransactionStack({});const e=t.receiverAddress,n=te.state.address,r=de.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await de.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),ot.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((i=te.state.preferredAccountTypes)==null?void 0:i.eip155)===hn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=Je.state.token)==null?void 0:o.symbol)||"",amount:t.sendTokenAmount,network:((a=P.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),(c=de._getClient())==null||c.updateBalance("eip155"),Je.resetSend()},async sendERC20Token(t){_e.pushTransactionStack({onSuccess(){_e.replace("Account")}});const e=de.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(te.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=me.getPlainAddress(t.tokenAddress);await de.writeContract({fromAddress:te.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:oY.getERC20Abi(n),chainNamespace:"eip155"}),Je.resetSend()}},async sendSolanaToken(){var t;if(!Je.state.sendTokenAmount||!Je.state.receiverAddress)throw new Error("An amount and receiver address are required");_e.pushTransactionStack({onSuccess(){_e.replace("Account")}}),await de.sendTransaction({chainNamespace:"solana",to:Je.state.receiverAddress,value:Je.state.sendTokenAmount}),(t=de._getClient())==null||t.updateBalance("solana"),Je.resetSend()},resetSend(){st.token=void 0,st.sendTokenAmount=void 0,st.receiverAddress=void 0,st.receiverProfileImageUrl=void 0,st.receiverProfileName=void 0,st.loading=!1,st.tokenBalances=[]}},Je=ts(UY),Mv={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},Hg={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ie=bt({chains:GK(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),LY={state:ie,subscribe(t){return An(ie,()=>{t(ie)})},subscribeKey(t,e){return In(ie,t,e)},subscribeChainProp(t,e,n){let r;return An(ie.chains,()=>{var i;const s=n||ie.activeChain;if(s){const o=(i=ie.chains.get(s))==null?void 0:i[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:s}=ne.getActiveNetworkProps(),i=e==null?void 0:e.find(u=>u.id.toString()===(r==null?void 0:r.toString())),a=t.find(u=>(u==null?void 0:u.namespace)===s)||(t==null?void 0:t[0]),c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=K.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(u=>u.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(ie.noAdapters=!0),ie.noAdapters||(ie.activeChain=a==null?void 0:a.namespace,ie.activeCaipNetwork=i,P.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),ie.activeChain&&Ai.set({activeChain:a==null?void 0:a.namespace})),l.forEach(u=>{const d=e==null?void 0:e.filter(f=>f.chainNamespace===u);P.state.chains.set(u,{namespace:u,networkState:bt({...Hg,caipNetwork:d==null?void 0:d[0]}),accountState:bt(Mv),caipNetworks:d??[],...n}),P.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){var e,n;if(ie.activeChain===t){const r=Array.from(ie.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&P.setActiveCaipNetwork(s)}}ie.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){ie.chains.set(t.namespace,{namespace:t.namespace,networkState:{...Hg,caipNetwork:r[0]},accountState:Mv,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),P.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=ie.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),ie.chains.set(t.chainNamespace,{...e,caipNetworks:r}),P.setRequestedCaipNetworks(r,t.chainNamespace),re.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,s,i;const n=ie.chains.get(t);if(n){const o=((r=ie.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((s=n.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=n==null?void 0:n.caipNetworks)!=null&&i[0])&&P.setActiveCaipNetwork(n.caipNetworks[0]),ie.chains.set(t,{...n,caipNetworks:a}),P.setRequestedCaipNetworks(a||[],t),a.length===0&&re.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=ie.chains.get(t);n&&(n.networkState={...n.networkState||Hg,...e},ie.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=ie.chains.get(t);if(r){const s={...r.accountState||Mv,...e};ie.chains.set(t,{...r,accountState:s}),(ie.chains.size===1||ie.activeChain===t)&&(e.caipAddress&&(ie.activeCaipAddress=e.caipAddress),te.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=ie.chains.get(t);if(n){const r={...n.networkState||Hg,...e};ie.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){P.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&re.removeConnectorId(n)},setActiveNamespace(t){var r,s;ie.activeChain=t;const e=t?ie.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(ie.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,ie.activeCaipNetwork=n,P.setChainNetworkData(t,{caipNetwork:n}),ne.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),Ai.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,i;if(!t)return;ie.activeChain!==t.chainNamespace&&P.setIsSwitchingNamespace(!0);const e=ie.chains.get(t.chainNamespace);ie.activeChain=t.chainNamespace,ie.activeCaipNetwork=t,P.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?ie.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:ie.activeCaipAddress=void 0,P.setAccountProp("caipAddress",ie.activeCaipAddress,t.chainNamespace),e&&te.replaceState(e.accountState),Je.resetSend(),Ai.set({activeChain:ie.activeChain,selectedNetworkId:(i=ie.activeCaipNetwork)==null?void 0:i.caipNetworkId}),ne.setActiveCaipNetworkId(t.caipNetworkId),!P.checkIfSupportedNetwork(t.chainNamespace)&&K.state.enableNetworkSwitch&&!K.state.allowUnsupportedChain&&!de.state.wcBasic&&P.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=ie.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==P.state.activeChain,n=(s=P.getNetworkData(t))==null?void 0:s.caipNetwork,r=P.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await P.switchActiveNetwork(r)},async switchActiveNetwork(t){var s;const e=P.state.chains.get(P.state.activeChain),n=!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(i=>{var o;return i.id===((o=ie.activeCaipNetwork)==null?void 0:o.id)})),r=P.getNetworkControllerClient(t.chainNamespace);if(r){try{await r.switchCaipNetwork(t),n&&nt.close()}catch{_e.goBack()}ot.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||ie.activeChain,n=ie.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||ie.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=ie.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var s;let n=ie.activeChain;if(e&&(n=e),!n)return;const r=(s=ie.chains.get(n))==null?void 0:s.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=ie.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=ie.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return me.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return ie.chains.forEach(e=>{const n=P.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){P.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=P.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));re.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return ie.chains.forEach(e=>{const n=P.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return ie.activeCaipNetwork},getActiveCaipAddress(){return ie.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=ie.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=P.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());P.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||ie.activeCaipNetwork,r=P.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(s=>s.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!ie.activeChain)return!0;const e=P.getRequestedCaipNetworks(ie.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){P.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=sp.caipNetworkIdToNumber((r=ie.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=ie.activeChain;if(!e||!t)return!1;const n=P.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},showUnsupportedChainUI(){nt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=ie.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&it.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){P.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");ie.activeCaipAddress=void 0,P.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),re.removeConnectorId(e)},setIsSwitchingNamespace(t){ie.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(ie.chains.forEach(s=>{q.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=ie.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=P.state.chains.get(t))==null?void 0:e.accountState:te.state},getNetworkData(t){var n;const e=t||ie.activeChain;if(e)return(n=P.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const n=P.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(a=>a.id===e);return r||((i=n==null?void 0:n.networkState)==null?void 0:i.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=re.state.filterByNamespace;return(t?[ie.chains.get(t)]:Array.from(ie.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?P.getRequestedCaipNetworks(t):P.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){ie.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return ie.lastConnectedSIWECaipNetwork}},P=ts(LY),MY={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},c5=me.getBlockchainApiUrl(),lr=bt({clientId:null,api:new Qp({baseUrl:c5,clientId:null}),supportedChains:{http:[],ws:[]}}),Ee={state:lr,async get(t){const{st:e,sv:n}=Ee.getSdkProperties(),r=K.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return lr.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=K.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{lr.supportedChains.http.length||await Ee.getSupportedNetworks()}catch{return!1}return lr.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Ee.get({path:"v1/supported-chains"});return lr.supportedChains=t,t}catch{return lr.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Ee.isNetworkSupported(e))return{avatar:"",name:""};const r=ne.getIdentityFromCacheForAddress(t);if(r)return r;const s=await Ee.get({path:`/v1/identity/${t}`,params:{sender:P.state.activeCaipAddress?me.getPlainAddress(P.state.activeCaipAddress):void 0}});return ne.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:s,chainId:i}){var a;return await Ee.isNetworkSupported((a=P.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?Ee.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:i},signal:r,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var o;return await Ee.isNetworkSupported((o=P.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Ee.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Ee.isNetworkSupported((n=P.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ee.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await Ee.isNetworkSupported((n=P.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?lr.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:K.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Ee.isNetworkSupported((r=P.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Ee.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=Ee.getSdkProperties();if(!await Ee.isNetworkSupported((s=P.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return Ee.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var o;if(!await Ee.isNetworkSupported((o=P.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return lr.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:it.CONVERT_SLIPPAGE_TOLERANCE},projectId:K.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:s}=Ee.getSdkProperties();if(!await Ee.isNetworkSupported((o=P.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Ee.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var l;const{st:r,sv:s}=Ee.getSdkProperties();if(!await Ee.isNetworkSupported((l=P.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return Ws.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=ne.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Ee.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return ne.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await Ee.isNetworkSupported((n=P.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ee.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Ee.isNetworkSupported((n=P.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ee.get({path:`/v1/profile/reverse/${t}`,params:{sender:te.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Ee.isNetworkSupported((n=P.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ee.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var i;return await Ee.isNetworkSupported((i=P.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?lr.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var a;return await Ee.isNetworkSupported((a=P.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await lr.api.post({path:"/v1/generators/onrampurl",params:{projectId:K.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await Ee.isNetworkSupported((e=P.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Ee.get({path:"/v1/onramp/options"})}catch{return MY}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await Ee.isNetworkSupported((s=P.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await lr.api.post({path:"/v1/onramp/quote",params:{projectId:K.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Ee.isNetworkSupported((n=P.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ee.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await Ee.isNetworkSupported((s=P.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?lr.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:K.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){lr.clientId=t,lr.api=new Qp({baseUrl:c5,clientId:t})}},jv={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return Cd(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},Cx={async getMyTokensWithBalance(t){const e=te.state.address,n=P.state.activeCaipNetwork,r=re.getConnectorId("eip155")===q.CONNECTOR_ID.AUTH;if(!e||!n)return[];const s=`${n.caipNetworkId}:${e}`,i=ne.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace==="eip155"&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await Ee.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){var n,r;try{const s=jv.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await de.getCapabilities(t);if(!((r=(n=i==null?void 0:i[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await de.walletGetAssets({account:t,chainFilter:[s]});if(!jv.isWalletGetAssetsResponse(o))return null;const c=(o[s]||[]).map(l=>jv.createBalance(l,e.caipNetworkId));return ne.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},rs=bt({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),jY={state:rs,replaceState(t){t&&Object.assign(rs,cl(t))},subscribe(t){return P.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return P.subscribeChainProp("accountState",s=>{if(s){const i=s[t];r!==i&&(r=i,e(i))}},n)},setStatus(t,e){P.setAccountProp("status",t,e)},getCaipAddress(t){return P.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?me.getPlainAddress(t):void 0;e===P.state.activeChain&&(P.state.activeCaipAddress=t),P.setAccountProp("caipAddress",t,e),P.setAccountProp("address",n,e)},setBalance(t,e,n){P.setAccountProp("balance",t,n),P.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){P.setAccountProp("profileName",t,e)},setProfileImage(t,e){P.setAccountProp("profileImage",t,e)},setUser(t,e){P.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){P.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){P.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){P.setAccountProp("currentTab",t,P.state.activeChain)},setTokenBalance(t,e){t&&P.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){P.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){P.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=P.getAccountProp("addressLabels",n)||new Map;r.set(t,e),P.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=P.getAccountProp("addressLabels",e)||new Map;n.delete(t),P.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){P.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){P.setAccountProp("preferredAccountTypes",{...rs.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){rs.preferredAccountTypes=t},setSocialProvider(t,e){t&&P.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){P.setAccountProp("socialWindow",t?cl(t):void 0,e)},setFarcasterUrl(t,e){P.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var i,o;rs.balanceLoading=!0;const e=(i=P.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=P.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=P.state.activeCaipAddress,s=r?me.getPlainAddress(r):void 0;if(rs.lastRetry&&!me.isAllowedRetry(rs.lastRetry,30*it.ONE_SEC_MS))return rs.balanceLoading=!1,[];try{if(s&&e&&n){const a=await Cx.getMyTokensWithBalance();return te.setTokenBalance(a,n),rs.lastRetry=void 0,rs.balanceLoading=!1,a}}catch(a){rs.lastRetry=Date.now(),t==null||t(a),Ws.showError("Token Balance Unavailable")}finally{rs.balanceLoading=!1}return[]},resetAccount(t){P.resetAccount(t)}},te=ts(jY),BY={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=P.state.activeCaipNetwork,r=_e.state.data;if(t.id===(n==null?void 0:n.id))return;const i=te.getCaipAddress(P.state.activeChain),o=t.chainNamespace!==P.state.activeChain,a=te.getCaipAddress(t.chainNamespace),l=re.getConnectorId(P.state.activeChain)===q.CONNECTOR_ID.AUTH,u=q.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?_e.push("SwitchNetwork",{...r,network:t}):i&&o&&!a?_e.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):_e.push("SwitchNetwork",{...r,network:t})}},ur=bt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),FY={state:ur,subscribe(t){return An(ur,()=>t(ur))},subscribeKey(t,e){return In(ur,t,e)},async open(t){var o,a;const e=te.state.status==="connected",n=t==null?void 0:t.namespace,r=P.state.activeChain,s=n&&n!==r,i=(o=P.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress;if(de.state.wcBasic?ye.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await ye.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),re.setFilterByNamespace(t==null?void 0:t.namespace),nt.setLoading(!0,n),n&&s){const c=((a=P.getNetworkData(n))==null?void 0:a.caipNetwork)||P.getRequestedCaipNetworks(n)[0];c&&BY.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0})}else{const c=P.state.noAdapters;K.state.manualWCControl||c&&!i?me.isMobile()?_e.reset("AllWallets"):_e.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?_e.reset(t.view,t.data):i?_e.reset("Account"):_e.reset("Connect")}ur.open=!0,Ai.set({open:!0}),ot.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=K.state.enableEmbedded,e=!!P.state.activeCaipAddress;ur.open&&ot.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),ur.open=!1,_e.reset("Connect"),nt.clearLoading(),t?e?_e.replace("Account"):_e.push("Connect"):Ai.set({open:!1}),de.resetUri()},setLoading(t,e){e&&ur.loadingNamespaceMap.set(e,t),ur.loading=t,Ai.set({loading:t})},clearLoading(){ur.loadingNamespaceMap.clear(),ur.loading=!1},shake(){ur.shake||(ur.shake=!0,setTimeout(()=>{ur.shake=!1},500))}},nt=ts(FY),Xf={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},OE={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},zY={providers:s5,selectedProvider:null,error:null,purchaseCurrency:Xf,paymentCurrency:OE,purchaseCurrencies:[Xf],paymentCurrencies:[],quotesLoading:!1},qe=bt(zY),WY={state:qe,subscribe(t){return An(qe,()=>t(qe))},subscribeKey(t,e){return In(qe,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=P.state.activeChain===q.CHAIN.SOLANA?"SOL":"USDC",n=te.state.address??"",r=new URL(t.url);r.searchParams.append("publicKey",aY),r.searchParams.append("destinationCurrencyCode",e),r.searchParams.append("walletAddress",n),r.searchParams.append("externalCustomerId",K.state.projectId),qe.selectedProvider={...t,url:r.toString()}}else qe.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=s5.filter(r=>e.includes(r.name));qe.providers=n}else qe.providers=[]},setPurchaseCurrency(t){qe.purchaseCurrency=t},setPaymentCurrency(t){qe.paymentCurrency=t},setPurchaseAmount(t){kE.state.purchaseAmount=t},setPaymentAmount(t){kE.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Ee.getOnrampOptions();qe.purchaseCurrencies=t.purchaseCurrencies,qe.paymentCurrencies=t.paymentCurrencies,qe.paymentCurrency=t.paymentCurrencies[0]||OE,qe.purchaseCurrency=t.purchaseCurrencies[0]||Xf,await ye.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await ye.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;qe.quotesLoading=!0;try{const n=await Ee.getOnrampQuote({purchaseCurrency:qe.purchaseCurrency,paymentCurrency:qe.paymentCurrency,amount:((t=qe.paymentAmount)==null?void 0:t.toString())||"0",network:(e=qe.purchaseCurrency)==null?void 0:e.symbol});return qe.quotesLoading=!1,qe.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return qe.error=n.message,qe.quotesLoading=!1,null}finally{qe.quotesLoading=!1}},resetState(){qe.selectedProvider=null,qe.error=null,qe.purchaseCurrency=Xf,qe.paymentCurrency=OE,qe.purchaseCurrencies=[Xf],qe.paymentCurrencies=[],qe.paymentAmount=void 0,qe.purchaseAmount=void 0,qe.quotesLoading=!1}},kE=ts(WY),tI=2147483648,qY={convertEVMChainIdToCoinType(t){if(t>=tI)throw new Error("Invalid chainId");return(tI|t)>>>0}},ss=bt({suggestions:[],loading:!1}),HY={state:ss,subscribe(t){return An(ss,()=>t(ss))},subscribeKey(t,e){return In(ss,t,e)},async resolveName(t){var e,n;try{return await Ee.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Ee.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{ss.loading=!0,ss.suggestions=[];const e=await Ee.getEnsNameSuggestions(t);return ss.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],ss.suggestions}catch(e){const n=Jf.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{ss.loading=!1}},async getNamesForAddress(t){try{if(!P.state.activeCaipNetwork)return[];const n=ne.getEnsFromCacheForAddress(t);if(n)return n;const r=await Ee.reverseLookupEnsName({address:t});return ne.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=Jf.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=P.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=te.state.address,r=re.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");ss.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});_e.pushTransactionStack({onCancel(){_e.replace("RegisterAccountName")}});const i=await de.signMessage(s);ss.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=qY.convertEVMChainIdToCoinType(Number(o));await Ee.registerEnsName({coinType:a,address:n,signature:i,message:s}),te.setProfileName(t,e.chainNamespace),_e.replace("RegisterAccountNameSuccess")}catch(s){const i=Jf.parseEnsApiError(s,`Error registering name ${t}`);throw _e.replace("RegisterAccountName"),new Error(i)}finally{ss.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},Jf=ts(HY);var xx={exports:{}},ku=typeof Reflect=="object"?Reflect:null,nI=ku&&typeof ku.apply=="function"?ku.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},$m;ku&&typeof ku.ownKeys=="function"?$m=ku.ownKeys:Object.getOwnPropertySymbols?$m=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:$m=function(e){return Object.getOwnPropertyNames(e)};function VY(t){console&&console.warn&&console.warn(t)}var l5=Number.isNaN||function(e){return e!==e};function ht(){ht.init.call(this)}xx.exports=ht;xx.exports.once=ZY;ht.EventEmitter=ht;ht.prototype._events=void 0;ht.prototype._eventsCount=0;ht.prototype._maxListeners=void 0;var rI=10;function Y0(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ht,"defaultMaxListeners",{enumerable:!0,get:function(){return rI},set:function(t){if(typeof t!="number"||t<0||l5(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");rI=t}});ht.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ht.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||l5(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function u5(t){return t._maxListeners===void 0?ht.defaultMaxListeners:t._maxListeners}ht.prototype.getMaxListeners=function(){return u5(this)};ht.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")nI(c,this,n);else for(var l=c.length,u=g5(c,l),r=0;r<l;++r)nI(u[r],this,n);return!0};function d5(t,e,n,r){var s,i,o;if(Y0(n),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]),o===void 0)o=i[e]=n,++t._eventsCount;else if(typeof o=="function"?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=u5(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,VY(a)}return t}ht.prototype.addListener=function(e,n){return d5(this,e,n,!1)};ht.prototype.on=ht.prototype.addListener;ht.prototype.prependListener=function(e,n){return d5(this,e,n,!0)};function GY(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f5(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=GY.bind(r);return s.listener=n,r.wrapFn=s,s}ht.prototype.once=function(e,n){return Y0(n),this.on(e,f5(this,e,n)),this};ht.prototype.prependOnceListener=function(e,n){return Y0(n),this.prependListener(e,f5(this,e,n)),this};ht.prototype.removeListener=function(e,n){var r,s,i,o,a;if(Y0(n),s=this._events,s===void 0)return this;if(r=s[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():KY(r,i),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};ht.prototype.off=ht.prototype.removeListener;ht.prototype.removeAllListeners=function(e){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(e,n[s]);return this};function h5(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?YY(s):g5(s,s.length)}ht.prototype.listeners=function(e){return h5(this,e,!0)};ht.prototype.rawListeners=function(e){return h5(this,e,!1)};ht.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):p5.call(t,e)};ht.prototype.listenerCount=p5;function p5(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}ht.prototype.eventNames=function(){return this._eventsCount>0?$m(this._events):[]};function g5(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function KY(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function YY(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function ZY(t,e){return new Promise(function(n,r){function s(o){t.removeListener(e,i),r(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}m5(t,e,i,{once:!0}),e!=="error"&&QY(t,s,{once:!0})})}function QY(t,e,n){typeof t.on=="function"&&m5(t,"error",e,n)}function m5(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){r.once&&t.removeEventListener(e,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Cs=xx.exports;const Sx=vl(Cs);var J={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $E=function(t,e){return $E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},$E(t,e)};function XY(t,e){$E(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var DE=function(){return DE=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},DE.apply(this,arguments)};function JY(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function eZ(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function tZ(t,e){return function(n,r){e(n,r,t)}}function nZ(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function rZ(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function sZ(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function iZ(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function oZ(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function UE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y5(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function aZ(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y5(arguments[e]));return t}function cZ(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function op(t){return this instanceof op?(this.v=t,this):new op(t)}function lZ(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){r[f]&&(s[f]=function(h){return new Promise(function(p,g){i.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{c(r[f](h))}catch(p){d(i[0][3],p)}}function c(f){f.value instanceof op?Promise.resolve(f.value.v).then(l,u):d(i[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function uZ(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:op(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function dZ(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof UE=="function"?UE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function fZ(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function hZ(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function pZ(t){return t&&t.__esModule?t:{default:t}}function gZ(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function mZ(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const yZ=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return DE},__asyncDelegator:uZ,__asyncGenerator:lZ,__asyncValues:dZ,__await:op,__awaiter:rZ,__classPrivateFieldGet:gZ,__classPrivateFieldSet:mZ,__createBinding:iZ,__decorate:eZ,__exportStar:oZ,__extends:XY,__generator:sZ,__importDefault:pZ,__importStar:hZ,__makeTemplateObject:fZ,__metadata:nZ,__param:tZ,__read:y5,__rest:JY,__spread:aZ,__spreadArrays:cZ,__values:UE},Symbol.toStringTag,{value:"Module"})),Z0=D_(yZ);var Bv={},of={},sI;function wZ(){if(sI)return of;sI=1,Object.defineProperty(of,"__esModule",{value:!0}),of.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return of.delay=t,of}var uc={},Fv={},dc={},iI;function vZ(){return iI||(iI=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.ONE_THOUSAND=dc.ONE_HUNDRED=void 0,dc.ONE_HUNDRED=100,dc.ONE_THOUSAND=1e3),dc}var zv={},oI;function bZ(){return oI||(oI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(zv)),zv}var aI;function w5(){return aI||(aI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Z0;e.__exportStar(vZ(),t),e.__exportStar(bZ(),t)}(Fv)),Fv}var cI;function EZ(){if(cI)return uc;cI=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.fromMiliseconds=uc.toMiliseconds=void 0;const t=w5();function e(r){return r*t.ONE_THOUSAND}uc.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return uc.fromMiliseconds=n,uc}var lI;function _Z(){return lI||(lI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Z0;e.__exportStar(wZ(),t),e.__exportStar(EZ(),t)}(Bv)),Bv}var jl={},uI;function CZ(){if(uI)return jl;uI=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return jl.Watch=t,jl.default=t,jl}var Wv={},af={},dI;function xZ(){if(dI)return af;dI=1,Object.defineProperty(af,"__esModule",{value:!0}),af.IWatch=void 0;class t{}return af.IWatch=t,af}var fI;function SZ(){return fI||(fI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Z0.__exportStar(xZ(),t)}(Wv)),Wv}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Z0;e.__exportStar(_Z(),t),e.__exportStar(CZ(),t),e.__exportStar(SZ(),t),e.__exportStar(w5(),t)})(J);class Il{}let AZ=class extends Il{constructor(e){super()}};const hI=J.FIVE_SECONDS,Tl={pulse:"heartbeat_pulse"};let IZ=class v5 extends AZ{constructor(e){super(e),this.events=new Cs.EventEmitter,this.interval=hI,this.interval=(e==null?void 0:e.interval)||hI}static async init(e){const n=new v5(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),J.toMiliseconds(this.interval))}pulse(){this.events.emit(Tl.pulse)}};const TZ=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,NZ=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,PZ=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function RZ(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){OZ(t);return}return e}function OZ(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Vg(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!PZ.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(TZ.test(t)||NZ.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,RZ)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function kZ(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function an(t,...e){try{return kZ(t(...e))}catch(n){return Promise.reject(n)}}function $Z(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function DZ(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Dm(t){if($Z(t))return String(t);if(DZ(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Dm(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const LE="base64:";function UZ(t){return typeof t=="string"?t:LE+jZ(t)}function LZ(t){return typeof t!="string"||!t.startsWith(LE)?t:MZ(t.slice(LE.length))}function MZ(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function jZ(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function gr(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function BZ(...t){return gr(t.join(":"))}function Gg(t){return t=gr(t),t?t+":":""}function FZ(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function zZ(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const WZ="memory",qZ=()=>{const t=new Map;return{name:WZ,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function HZ(t={}){const e={mounts:{"":t.driver||qZ()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),s=(l,u)=>{if(e.watching){u=gr(u);for(const d of e.watchListeners)d(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await pI(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const f=new Map,h=p=>{let g=f.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},f.set(p.base,g)),g};for(const p of l){const g=typeof p=="string",w=gr(g?p:p.key),m=g?void 0:p.value,y=g||!p.options?u:{...u,...p.options},v=n(w);h(v).items.push({key:w,value:m,relativeKey:v.relativeKey,options:y})}return Promise.all([...f.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=gr(l);const{relativeKey:d,driver:f}=n(l);return an(f.hasItem,d,u)},getItem(l,u={}){l=gr(l);const{relativeKey:d,driver:f}=n(l);return an(f.getItem,d,u).then(h=>Vg(h))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?an(d.driver.getItems,d.items.map(f=>({key:f.relativeKey,options:f.options})),u).then(f=>f.map(h=>({key:BZ(d.base,h.key),value:Vg(h.value)}))):Promise.all(d.items.map(f=>an(d.driver.getItem,f.relativeKey,f.options).then(h=>({key:f.key,value:Vg(h)})))))},getItemRaw(l,u={}){l=gr(l);const{relativeKey:d,driver:f}=n(l);return f.getItemRaw?an(f.getItemRaw,d,u):an(f.getItem,d,u).then(h=>LZ(h))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=gr(l);const{relativeKey:f,driver:h}=n(l);h.setItem&&(await an(h.setItem,f,Dm(u),d),h.watch||s("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return an(d.driver.setItems,d.items.map(f=>({key:f.relativeKey,value:Dm(f.value),options:f.options})),u);d.driver.setItem&&await Promise.all(d.items.map(f=>an(d.driver.setItem,f.relativeKey,Dm(f.value),f.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=gr(l);const{relativeKey:f,driver:h}=n(l);if(h.setItemRaw)await an(h.setItemRaw,f,u,d);else if(h.setItem)await an(h.setItem,f,UZ(u),d);else return;h.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=gr(l);const{relativeKey:d,driver:f}=n(l);f.removeItem&&(await an(f.removeItem,d,u),(u.removeMeta||u.removeMata)&&await an(f.removeItem,d+"$",u),f.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=gr(l);const{relativeKey:d,driver:f}=n(l),h=Object.create(null);if(f.getMeta&&Object.assign(h,await an(f.getMeta,d,u)),!u.nativeOnly){const p=await an(f.getItem,d+"$",u).then(g=>Vg(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(h,p))}return h},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var w;l=Gg(l);const d=r(l,!0);let f=[];const h=[];let p=!0;for(const m of d){(w=m.driver.flags)!=null&&w.maxDepth||(p=!1);const y=await an(m.driver.getKeys,m.relativeBase,u);for(const v of y){const _=m.mountpoint+gr(v);f.some(E=>_.startsWith(E))||h.push(_)}f=[m.mountpoint,...f.filter(v=>!v.startsWith(m.mountpoint))]}const g=u.maxDepth!==void 0&&!p;return h.filter(m=>(!g||FZ(m,u.maxDepth))&&zZ(m,l))},async clear(l,u={}){l=Gg(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return an(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const f=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(f.map(h=>d.driver.removeItem(h,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>gI(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=Gg(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,f)=>f.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(pI(u,s,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,f;l=Gg(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((f=(d=e.unwatch)[l])==null||f.call(d),delete e.unwatch[l]),u&&await gI(e.mounts[l]),e.mountpoints=e.mountpoints.filter(h=>h!==l),delete e.mounts[l])},getMount(l=""){l=gr(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=gr(l),r(l,u.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function pI(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function gI(t){typeof t.dispose=="function"&&await an(t.dispose)}function Nl(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function b5(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=Nl(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(e,s).objectStore(e)))}let qv;function Xp(){return qv||(qv=b5("keyval-store","keyval")),qv}function mI(t,e=Xp()){return e("readonly",n=>Nl(n.get(t)))}function VZ(t,e,n=Xp()){return n("readwrite",r=>(r.put(e,t),Nl(r.transaction)))}function GZ(t,e=Xp()){return e("readwrite",n=>(n.delete(t),Nl(n.transaction)))}function KZ(t=Xp()){return t("readwrite",e=>(e.clear(),Nl(e.transaction)))}function YZ(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Nl(t.transaction)}function ZZ(t=Xp()){return t("readonly",e=>{if(e.getAllKeys)return Nl(e.getAllKeys());const n=[];return YZ(e,r=>n.push(r.key)).then(()=>n)})}const QZ=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),XZ=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function ul(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return XZ(t)}catch{return t}}function Eo(t){return typeof t=="string"?t:QZ(t)||""}const JZ="idb-keyval";var eQ=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=b5(t.dbName,t.storeName)),{name:JZ,options:t,async hasItem(s){return!(typeof await mI(n(s),r)>"u")},async getItem(s){return await mI(n(s),r)??null},setItem(s,i){return VZ(n(s),i,r)},removeItem(s){return GZ(n(s),r)},getKeys(){return ZZ(r)},clear(){return KZ(r)}}};const tQ="WALLET_CONNECT_V2_INDEXED_DB",nQ="keyvaluestorage";let rQ=class{constructor(){this.indexedDb=HZ({driver:eQ({dbName:tQ,storeName:nQ})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Eo(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Um={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Hv<"u"&&Hv.localStorage?Um.exports=Hv.localStorage:typeof window<"u"&&window.localStorage?Um.exports=window.localStorage:Um.exports=new e})();function sQ(t){var e;return[t[0],ul((e=t[1])!=null?e:"")]}let iQ=class{constructor(){this.localStorage=Um.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(sQ)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return ul(n)}async setItem(e,n){this.localStorage.setItem(e,Eo(n))}async removeItem(e){this.localStorage.removeItem(e)}};const oQ="wc_storage_version",yI=1,aQ=async(t,e,n)=>{const r=oQ,s=await e.getItem(r);if(s&&s>=yI){n(e);return}const i=await t.getKeys();if(!i.length){n(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,yI),n(e),cQ(t,o)},cQ=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let lQ=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new iQ;this.storage=e;try{const n=new rQ;aQ(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function uQ(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var dQ=fQ;function fQ(t,e,n){var r=n&&n.stringify||uQ,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var o=new Array(i);o[0]=r(t);for(var a=1;a<i;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-s,d=-1,f=t&&t.length||0,h=0;h<f;){if(t.charCodeAt(h)===37&&h+1<f){switch(d=d>-1?d:0,t.charCodeAt(h+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<h&&(l+=t.slice(d,h)),l+=Number(e[u]),d=h+2,h++;break;case 105:if(u>=c||e[u]==null)break;d<h&&(l+=t.slice(d,h)),l+=Math.floor(Number(e[u])),d=h+2,h++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<h&&(l+=t.slice(d,h));var p=typeof e[u];if(p==="string"){l+="'"+e[u]+"'",d=h+2,h++;break}if(p==="function"){l+=e[u].name||"<anonymous>",d=h+2,h++;break}l+=r(e[u]),d=h+2,h++;break;case 115:if(u>=c)break;d<h&&(l+=t.slice(d,h)),l+=String(e[u]),d=h+2,h++;break;case 37:d<h&&(l+=t.slice(d,h)),l+="%",d=h+2,h++,u--;break}++u}++h}return d===-1?t:(d<f&&(l+=t.slice(d)),l)}const wI=dQ;var iu=Ii;const ap=_Q().console||{},hQ={mapHttpRequest:Kg,mapHttpResponse:Kg,wrapRequestSerializer:Vv,wrapResponseSerializer:Vv,wrapErrorSerializer:Vv,req:Kg,res:Kg,err:wQ};function pQ(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Ii(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||ap;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},s=pQ(t.browser.serialize,r);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=cp),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:f});const l={transmit:e,serialize:s,asObject:t.browser.asObject,levels:o,timestamp:vQ(t)};c.levels=Ii.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=cp,c.serializers=r,c._serialize=s,c._stdErrSerialize=i,c.child=h,e&&(c._logEvent=ME());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function f(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,Bl(l,c,"error","log"),Bl(l,c,"fatal","error"),Bl(l,c,"warn","error"),Bl(l,c,"info","log"),Bl(l,c,"debug","log"),Bl(l,c,"trace","log")}function h(p,g){if(!p)throw new Error("missing bindings for child Pino");g=g||{},s&&p.serializers&&(g.serializers=p.serializers);const w=g.serializers;if(s&&w){var m=Object.assign({},r,w),y=t.browser.serialize===!0?Object.keys(m):s;delete p.serializers,Q0([p],y,m,this._stdErrSerialize)}function v(_){this._childLevel=(_._childLevel|0)+1,this.error=Fl(_,p,"error"),this.fatal=Fl(_,p,"fatal"),this.warn=Fl(_,p,"warn"),this.info=Fl(_,p,"info"),this.debug=Fl(_,p,"debug"),this.trace=Fl(_,p,"trace"),m&&(this.serializers=m,this._serialize=y),e&&(this._logEvent=ME([].concat(_._logEvent.bindings,p)))}return v.prototype=this,new v(this)}return c}Ii.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Ii.stdSerializers=hQ;Ii.stdTimeFunctions=Object.assign({},{nullTime:E5,epochTime:_5,unixTime:bQ,isoTime:EQ});function Bl(t,e,n,r){const s=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?cp:s[n]?s[n]:ap[n]||ap[r]||cp,gQ(t,e,n)}function gQ(t,e,n){!t.transmit&&e[n]===cp||(e[n]=function(r){return function(){const i=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===ap?ap:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&Q0(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,mQ(this,n,o,i)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=Ii.levels.values[l],d=Ii.levels.values[n];if(d<u)return;yQ(this,{ts:i,methodLevel:n,methodValue:d,transmitValue:Ii.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function mQ(t,e,n,r){t._serialize&&Q0(n,t._serialize,t.serializers,t._stdErrSerialize);const s=n.slice();let i=s[0];const o={};r&&(o.time=r),o.level=Ii.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),i!==null&&typeof i=="object"){for(;a--&&typeof s[0]=="object";)Object.assign(o,s.shift());i=s.length?wI(s.shift(),s):void 0}else typeof i=="string"&&(i=wI(s.shift(),s));return i!==void 0&&(o.msg=i),o}function Q0(t,e,n,r){for(const s in t)if(r&&t[s]instanceof Error)t[s]=Ii.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in n&&(t[s][i]=n[i](t[s][i]))}function Fl(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var s=1;s<r.length;s++)r[s]=arguments[s-1];return t[n].apply(this,r)}}function yQ(t,e,n){const r=e.send,s=e.ts,i=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;Q0(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=o,r(i,t._logEvent,a),t._logEvent=ME(c)}function ME(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function wQ(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function vQ(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?E5:_5}function Kg(){return{}}function Vv(t){return t}function cp(){}function E5(){return!1}function _5(){return Date.now()}function bQ(){return Math.round(Date.now()/1e3)}function EQ(){return new Date(Date.now()).toISOString()}function _Q(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const Jp=vl(iu),CQ={level:"info"},eg="custom_context",Ax=1e3*1024;let xQ=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},vI=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new xQ(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},C5=class{constructor(e,n=Ax){this.level=e??"error",this.levelValue=iu.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new vI(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===iu.levels.values.error?console.error(e):n===iu.levels.values.warn?console.warn(e):n===iu.levels.values.debug?console.debug(e):n===iu.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Eo({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new vI(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Eo({extraMetadata:e})),new Blob(n,{type:"application/json"})}},SQ=class{constructor(e,n=Ax){this.baseChunkLogger=new C5(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},AQ=class{constructor(e,n=Ax){this.baseChunkLogger=new C5(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var IQ=Object.defineProperty,TQ=Object.defineProperties,NQ=Object.getOwnPropertyDescriptors,bI=Object.getOwnPropertySymbols,PQ=Object.prototype.hasOwnProperty,RQ=Object.prototype.propertyIsEnumerable,EI=(t,e,n)=>e in t?IQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Oy=(t,e)=>{for(var n in e||(e={}))PQ.call(e,n)&&EI(t,n,e[n]);if(bI)for(var n of bI(e))RQ.call(e,n)&&EI(t,n,e[n]);return t},ky=(t,e)=>TQ(t,NQ(e));function Td(t){return ky(Oy({},t),{level:(t==null?void 0:t.level)||CQ.level})}function OQ(t,e=eg){return t[e]||""}function kQ(t,e,n=eg){return t[n]=e,t}function Or(t,e=eg){let n="";return typeof t.bindings>"u"?n=OQ(t,e):n=t.bindings().context||"",n}function $Q(t,e,n=eg){const r=Or(t,n);return r.trim()?`${r}/${e}`:e}function Hn(t,e,n=eg){const r=$Q(t,e,n),s=t.child({context:r});return kQ(s,r,n)}function DQ(t){var e,n;const r=new SQ((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Jp(ky(Oy({},t.opts),{level:"trace",browser:ky(Oy({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function UQ(t){var e;const n=new AQ((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Jp(ky(Oy({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function Ix(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?DQ(t):UQ(t)}var LQ=Object.defineProperty,MQ=(t,e,n)=>e in t?LQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_I=(t,e,n)=>MQ(t,typeof e!="symbol"?e+"":e,n);let jQ=class extends Il{constructor(e){super(),this.opts=e,_I(this,"protocol","wc"),_I(this,"version",2)}};var BQ=Object.defineProperty,FQ=(t,e,n)=>e in t?BQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zQ=(t,e,n)=>FQ(t,e+"",n);let WQ=class extends Il{constructor(e,n){super(),this.core=e,this.logger=n,zQ(this,"records",new Map)}},qQ=class{constructor(e,n){this.logger=e,this.core=n}},HQ=class extends Il{constructor(e,n){super(),this.relayer=e,this.logger=n}},VQ=class extends Il{constructor(e){super()}},GQ=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},KQ=class extends Il{constructor(e,n){super(),this.relayer=e,this.logger=n}},YQ=class extends Il{constructor(e,n){super(),this.core=e,this.logger=n}},ZQ=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},QQ=class{constructor(e,n){this.projectId=e,this.logger=n}},XQ=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var JQ=Object.defineProperty,eX=(t,e,n)=>e in t?JQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CI=(t,e,n)=>eX(t,typeof e!="symbol"?e+"":e,n);let tX=class{constructor(e){this.opts=e,CI(this,"protocol","wc"),CI(this,"version",2)}},nX=class{constructor(e){this.client=e}};function rX(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function x5(t,...e){if(!rX(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function xI(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function sX(t,e){x5(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const zl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gv=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function iX(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function S5(t){return typeof t=="string"&&(t=iX(t)),x5(t),t}let oX=class{clone(){return this._cloneInto()}};function aX(t){const e=r=>t().update(S5(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function A5(t=32){if(zl&&typeof zl.getRandomValues=="function")return zl.getRandomValues(new Uint8Array(t));if(zl&&typeof zl.randomBytes=="function")return zl.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function cX(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let lX=class extends oX{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Gv(this.buffer)}update(e){xI(this);const{view:n,buffer:r,blockLen:s}=this;e=S5(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Gv(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){xI(this),sX(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;cX(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Gv(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const Yg=BigInt(2**32-1),jE=BigInt(32);function I5(t,e=!1){return e?{h:Number(t&Yg),l:Number(t>>jE&Yg)}:{h:Number(t>>jE&Yg)|0,l:Number(t&Yg)|0}}function uX(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=I5(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const dX=(t,e)=>BigInt(t>>>0)<<jE|BigInt(e>>>0),fX=(t,e,n)=>t>>>n,hX=(t,e,n)=>t<<32-n|e>>>n,pX=(t,e,n)=>t>>>n|e<<32-n,gX=(t,e,n)=>t<<32-n|e>>>n,mX=(t,e,n)=>t<<64-n|e>>>n-32,yX=(t,e,n)=>t>>>n-32|e<<64-n,wX=(t,e)=>e,vX=(t,e)=>t,bX=(t,e,n)=>t<<n|e>>>32-n,EX=(t,e,n)=>e<<n|t>>>32-n,_X=(t,e,n)=>e<<n-32|t>>>64-n,CX=(t,e,n)=>t<<n-32|e>>>64-n;function xX(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const SX=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),AX=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,IX=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),TX=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,NX=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),PX=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,De={fromBig:I5,split:uX,toBig:dX,shrSH:fX,shrSL:hX,rotrSH:pX,rotrSL:gX,rotrBH:mX,rotrBL:yX,rotr32H:wX,rotr32L:vX,rotlSH:bX,rotlSL:EX,rotlBH:_X,rotlBL:CX,add:xX,add3L:SX,add3H:AX,add4L:IX,add4H:TX,add5H:PX,add5L:NX},[RX,OX]=De.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Lo=new Uint32Array(80),Mo=new Uint32Array(80);let kX=class extends lX{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:p,Hh:g,Hl:w}=this;return[e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,w]}set(e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=w|0}process(e,n){for(let v=0;v<16;v++,n+=4)Lo[v]=e.getUint32(n),Mo[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const _=Lo[v-15]|0,E=Mo[v-15]|0,x=De.rotrSH(_,E,1)^De.rotrSH(_,E,8)^De.shrSH(_,E,7),S=De.rotrSL(_,E,1)^De.rotrSL(_,E,8)^De.shrSL(_,E,7),T=Lo[v-2]|0,C=Mo[v-2]|0,R=De.rotrSH(T,C,19)^De.rotrBH(T,C,61)^De.shrSH(T,C,6),O=De.rotrSL(T,C,19)^De.rotrBL(T,C,61)^De.shrSL(T,C,6),L=De.add4L(S,O,Mo[v-7],Mo[v-16]),U=De.add4H(L,x,R,Lo[v-7],Lo[v-16]);Lo[v]=U|0,Mo[v]=L|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:p,Gh:g,Gl:w,Hh:m,Hl:y}=this;for(let v=0;v<80;v++){const _=De.rotrSH(d,f,14)^De.rotrSH(d,f,18)^De.rotrBH(d,f,41),E=De.rotrSL(d,f,14)^De.rotrSL(d,f,18)^De.rotrBL(d,f,41),x=d&h^~d&g,S=f&p^~f&w,T=De.add5L(y,E,S,OX[v],Mo[v]),C=De.add5H(T,m,_,x,RX[v],Lo[v]),R=T|0,O=De.rotrSH(r,s,28)^De.rotrBH(r,s,34)^De.rotrBH(r,s,39),L=De.rotrSL(r,s,28)^De.rotrBL(r,s,34)^De.rotrBL(r,s,39),U=r&i^r&a^i&a,B=s&o^s&c^o&c;m=g|0,y=w|0,g=h|0,w=p|0,h=d|0,p=f|0,{h:d,l:f}=De.add(l|0,u|0,C|0,R|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const I=De.add3L(R,L,B);r=De.add3H(I,C,O,U),s=I|0}({h:r,l:s}=De.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=De.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=De.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=De.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=De.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=De.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:w}=De.add(this.Gh|0,this.Gl|0,g|0,w|0),{h:m,l:y}=De.add(this.Hh|0,this.Hl|0,m|0,y|0),this.set(r,s,i,o,a,c,l,u,d,f,h,p,g,w,m,y)}roundClean(){Lo.fill(0),Mo.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const $X=aX(()=>new kX);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tx=BigInt(0),T5=BigInt(1),DX=BigInt(2);function Nx(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Px(t){if(!Nx(t))throw new Error("Uint8Array expected")}function Kv(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const UX=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Rx(t){Px(t);let e="";for(let n=0;n<t.length;n++)e+=UX[t[n]];return e}function N5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Tx:BigInt("0x"+t)}const Fi={_0:48,_9:57,A:65,F:70,a:97,f:102};function SI(t){if(t>=Fi._0&&t<=Fi._9)return t-Fi._0;if(t>=Fi.A&&t<=Fi.F)return t-(Fi.A-10);if(t>=Fi.a&&t<=Fi.f)return t-(Fi.a-10)}function P5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=SI(t.charCodeAt(i)),a=SI(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function LX(t){return N5(Rx(t))}function Lm(t){return Px(t),N5(Rx(Uint8Array.from(t).reverse()))}function R5(t,e){return P5(t.toString(16).padStart(e*2,"0"))}function BE(t,e){return R5(t,e).reverse()}function zi(t,e,n){let r;if(typeof e=="string")try{r=P5(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Nx(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function AI(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Px(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const Yv=t=>typeof t=="bigint"&&Tx<=t;function MX(t,e,n){return Yv(t)&&Yv(e)&&Yv(n)&&e<=t&&t<n}function cf(t,e,n,r){if(!MX(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function jX(t){let e;for(e=0;t>Tx;t>>=T5,e+=1);return e}const BX=t=>(DX<<BigInt(t-1))-T5,FX={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Nx(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ox(t,e,n={}){const r=(s,i,o)=>{const a=FX[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function II(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const dn=BigInt(0),Bt=BigInt(1),bc=BigInt(2),zX=BigInt(3),FE=BigInt(4),TI=BigInt(5),NI=BigInt(8);function en(t,e){const n=t%e;return n>=dn?n:e+n}function WX(t,e,n){if(e<dn)throw new Error("invalid exponent, negatives unsupported");if(n<=dn)throw new Error("invalid modulus");if(n===Bt)return dn;let r=Bt;for(;e>dn;)e&Bt&&(r=r*t%n),t=t*t%n,e>>=Bt;return r}function si(t,e,n){let r=t;for(;e-- >dn;)r*=r,r%=n;return r}function PI(t,e){if(t===dn)throw new Error("invert: expected non-zero number");if(e<=dn)throw new Error("invert: expected positive modulus, got "+e);let n=en(t,e),r=e,s=dn,i=Bt;for(;n!==dn;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==Bt)throw new Error("invert: does not exist");return en(s,e)}function qX(t){const e=(t-Bt)/bc;let n,r,s;for(n=t-Bt,r=0;n%bc===dn;n/=bc,r++);for(s=bc;s<t&&WX(s,e,t)!==t-Bt;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Bt)/FE;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+Bt)/bc;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let f=1;for(let p=o.sqr(d);f<c&&!o.eql(p,o.ONE);f++)p=o.sqr(p);const h=o.pow(l,Bt<<BigInt(c-f-1));l=o.sqr(h),u=o.mul(u,h),d=o.mul(d,l),c=f}return u}}function HX(t){if(t%FE===zX){const e=(t+Bt)/FE;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%NI===TI){const e=(t-TI)/NI;return function(n,r){const s=n.mul(r,bc),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,bc),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return qX(t)}const VX=(t,e)=>(en(t,e)&Bt)===Bt,GX=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function KX(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=GX.reduce((r,s)=>(r[s]="function",r),e);return Ox(t,n)}function YX(t,e,n){if(n<dn)throw new Error("invalid exponent, negatives unsupported");if(n===dn)return t.ONE;if(n===Bt)return e;let r=t.ONE,s=e;for(;n>dn;)n&Bt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Bt;return r}function ZX(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function O5(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function k5(t,e,n=!1,r={}){if(t<=dn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=O5(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:BX(s),ZERO:dn,ONE:Bt,create:c=>en(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return dn<=c&&c<t},is0:c=>c===dn,isOdd:c=>(c&Bt)===Bt,neg:c=>en(-c,t),eql:(c,l)=>c===l,sqr:c=>en(c*c,t),add:(c,l)=>en(c+l,t),sub:(c,l)=>en(c-l,t),mul:(c,l)=>en(c*l,t),pow:(c,l)=>YX(a,c,l),div:(c,l)=>en(c*PI(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>PI(c,t),sqrt:r.sqrt||(c=>(o||(o=HX(t)),o(a,c))),invertBatch:c=>ZX(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?BE(c,i):R5(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?Lm(c):LX(c)}});return Object.freeze(a)}const RI=BigInt(0),Zg=BigInt(1);function Zv(t,e){const n=e.negate();return t?n:e}function $5(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Qv(t,e){$5(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function QX(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function XX(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Xv=new WeakMap,D5=new WeakMap;function Jv(t){return D5.get(t)||1}function JX(t,e){return{constTimeNegate:Zv,hasPrecomputes(n){return Jv(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>RI;)r&Zg&&(s=s.add(i)),i=i.double(),r>>=Zg;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Qv(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=Qv(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let f=0;f<i;f++){const h=f*o;let p=Number(s&l);s>>=d,p>o&&(p-=u,s+=Zg);const g=h,w=h+Math.abs(p)-1,m=f%2!==0,y=p<0;p===0?c=c.add(Zv(m,r[g])):a=a.add(Zv(y,r[w]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=Qv(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const f=d*a;if(s===RI)break;let h=Number(s&c);if(s>>=u,h>a&&(h-=l,s+=Zg),h===0)continue;let p=r[f+Math.abs(h)-1];h<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(n,r,s){let i=Xv.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&Xv.set(r,s(i))),i},wNAFCached(n,r,s){const i=Jv(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=Jv(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){$5(r,e),D5.set(n,r),Xv.delete(n)}}}function eJ(t,e,n,r){if(QX(n,t),XX(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=jX(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let h=0;h<r.length;h++){const p=r[h],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[h])}let f=s;for(let h=c.length-1,p=s;h>0;h--)p=p.add(c[h]),f=f.add(p);if(u=u.add(f),d!==0)for(let h=0;h<o;h++)u=u.double()}return u}function tJ(t){return KX(t.Fp),Ox(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...O5(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Is=BigInt(0),dr=BigInt(1),Qg=BigInt(2),nJ=BigInt(8),rJ={zip215:!0};function sJ(t){const e=tJ(t);return Ox(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function iJ(t){const e=sJ(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=Qg<<BigInt(a*8)-dr,u=n.create,d=k5(e.n,e.nBitLength),f=e.uvRatio||((I,N)=>{try{return{isValid:!0,value:n.sqrt(I*n.inv(N))}}catch{return{isValid:!1,value:Is}}}),h=e.adjustScalarBytes||(I=>I),p=e.domain||((I,N,M)=>{if(Kv("phflag",M),N.length||M)throw new Error("Contexts/pre-hash are not supported");return I});function g(I,N){cf("coordinate "+I,N,Is,l)}function w(I){if(!(I instanceof v))throw new Error("ExtendedPoint expected")}const m=II((I,N)=>{const{ex:M,ey:k,ez:$}=I,j=I.is0();N==null&&(N=j?nJ:n.inv($));const F=u(M*N),H=u(k*N),Y=u($*N);if(j)return{x:Is,y:dr};if(Y!==dr)throw new Error("invZ was invalid");return{x:F,y:H}}),y=II(I=>{const{a:N,d:M}=e;if(I.is0())throw new Error("bad point: ZERO");const{ex:k,ey:$,ez:j,et:F}=I,H=u(k*k),Y=u($*$),Z=u(j*j),se=u(Z*Z),ge=u(H*N),ke=u(Z*u(ge+Y)),Te=u(se+u(M*u(H*Y)));if(ke!==Te)throw new Error("bad point: equation left != right (1)");const Le=u(k*$),pt=u(j*F);if(Le!==pt)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(N,M,k,$){this.ex=N,this.ey=M,this.ez=k,this.et=$,g("x",N),g("y",M),g("z",k),g("t",$),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(N){if(N instanceof v)throw new Error("extended point not allowed");const{x:M,y:k}=N||{};return g("x",M),g("y",k),new v(M,k,dr,u(M*k))}static normalizeZ(N){const M=n.invertBatch(N.map(k=>k.ez));return N.map((k,$)=>k.toAffine(M[$])).map(v.fromAffine)}static msm(N,M){return eJ(v,d,N,M)}_setWindowSize(N){x.setWindowSize(this,N)}assertValidity(){y(this)}equals(N){w(N);const{ex:M,ey:k,ez:$}=this,{ex:j,ey:F,ez:H}=N,Y=u(M*H),Z=u(j*$),se=u(k*H),ge=u(F*$);return Y===Z&&se===ge}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:N}=e,{ex:M,ey:k,ez:$}=this,j=u(M*M),F=u(k*k),H=u(Qg*u($*$)),Y=u(N*j),Z=M+k,se=u(u(Z*Z)-j-F),ge=Y+F,ke=ge-H,Te=Y-F,Le=u(se*ke),pt=u(ge*Te),zt=u(se*Te),Io=u(ke*ge);return new v(Le,pt,Io,zt)}add(N){w(N);const{a:M,d:k}=e,{ex:$,ey:j,ez:F,et:H}=this,{ex:Y,ey:Z,ez:se,et:ge}=N;if(M===BigInt(-1)){const qt=u((j-$)*(Z+Y)),rn=u((j+$)*(Z-Y)),$r=u(rn-qt);if($r===Is)return this.double();const Md=u(F*Qg*ge),jd=u(H*Qg*se),Bd=jd+Md,Vn=rn+qt,ns=jd-Md,Fd=u(Bd*$r),yw=u(Vn*ns),zd=u(Bd*ns),L6=u($r*Vn);return new v(Fd,yw,L6,zd)}const ke=u($*Y),Te=u(j*Z),Le=u(H*k*ge),pt=u(F*se),zt=u(($+j)*(Y+Z)-ke-Te),Io=pt-Le,et=pt+Le,ze=u(Te-M*ke),Wt=u(zt*Io),Tt=u(et*ze),kr=u(zt*ze),To=u(Io*et);return new v(Wt,Tt,To,kr)}subtract(N){return this.add(N.negate())}wNAF(N){return x.wNAFCached(this,N,v.normalizeZ)}multiply(N){const M=N;cf("scalar",M,dr,r);const{p:k,f:$}=this.wNAF(M);return v.normalizeZ([k,$])[0]}multiplyUnsafe(N,M=v.ZERO){const k=N;return cf("scalar",k,Is,r),k===Is?E:this.is0()||k===dr?this:x.wNAFCachedUnsafe(this,k,v.normalizeZ,M)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return x.unsafeLadder(this,r).is0()}toAffine(N){return m(this,N)}clearCofactor(){const{h:N}=e;return N===dr?this:this.multiplyUnsafe(N)}static fromHex(N,M=!1){const{d:k,a:$}=e,j=n.BYTES;N=zi("pointHex",N,j),Kv("zip215",M);const F=N.slice(),H=N[j-1];F[j-1]=H&-129;const Y=Lm(F),Z=M?l:n.ORDER;cf("pointHex.y",Y,Is,Z);const se=u(Y*Y),ge=u(se-dr),ke=u(k*se-$);let{isValid:Te,value:Le}=f(ge,ke);if(!Te)throw new Error("Point.fromHex: invalid y coordinate");const pt=(Le&dr)===dr,zt=(H&128)!==0;if(!M&&Le===Is&&zt)throw new Error("Point.fromHex: x=0 and x_0=1");return zt!==pt&&(Le=u(-Le)),v.fromAffine({x:Le,y:Y})}static fromPrivateKey(N){return C(N).point}toRawBytes(){const{x:N,y:M}=this.toAffine(),k=BE(M,n.BYTES);return k[k.length-1]|=N&dr?128:0,k}toHex(){return Rx(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,dr,u(e.Gx*e.Gy)),v.ZERO=new v(Is,dr,dr,Is);const{BASE:_,ZERO:E}=v,x=JX(v,a*8);function S(I){return en(I,r)}function T(I){return S(Lm(I))}function C(I){const N=n.BYTES;I=zi("private key",I,N);const M=zi("hashed private key",i(I),2*N),k=h(M.slice(0,N)),$=M.slice(N,2*N),j=T(k),F=_.multiply(j),H=F.toRawBytes();return{head:k,prefix:$,scalar:j,point:F,pointBytes:H}}function R(I){return C(I).pointBytes}function O(I=new Uint8Array,...N){const M=AI(...N);return T(i(p(M,zi("context",I),!!s)))}function L(I,N,M={}){I=zi("message",I),s&&(I=s(I));const{prefix:k,scalar:$,pointBytes:j}=C(N),F=O(M.context,k,I),H=_.multiply(F).toRawBytes(),Y=O(M.context,H,j,I),Z=S(F+Y*$);cf("signature.s",Z,Is,r);const se=AI(H,BE(Z,n.BYTES));return zi("result",se,n.BYTES*2)}const U=rJ;function B(I,N,M,k=U){const{context:$,zip215:j}=k,F=n.BYTES;I=zi("signature",I,2*F),N=zi("message",N),M=zi("publicKey",M,F),j!==void 0&&Kv("zip215",j),s&&(N=s(N));const H=Lm(I.slice(F,2*F));let Y,Z,se;try{Y=v.fromHex(M,j),Z=v.fromHex(I.slice(0,F),j),se=_.multiplyUnsafe(H)}catch{return!1}if(!j&&Y.isSmallOrder())return!1;const ge=O($,Z.toRawBytes(),Y.toRawBytes(),N);return Z.add(Y.multiplyUnsafe(ge)).subtract(se).clearCofactor().equals(v.ZERO)}return _._setWindowSize(8),{CURVE:e,getPublicKey:R,sign:L,verify:B,ExtendedPoint:v,utils:{getExtendedPublicKey:C,randomPrivateKey:()=>o(n.BYTES),precompute(I=8,N=v.BASE){return N._setWindowSize(I),N.multiply(BigInt(3)),N}}}}BigInt(0),BigInt(1);const kx=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),OI=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const oJ=BigInt(1),kI=BigInt(2);BigInt(3);const aJ=BigInt(5),cJ=BigInt(8);function lJ(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=kx,o=t*t%i*t%i,a=si(o,kI,i)*o%i,c=si(a,oJ,i)*t%i,l=si(c,aJ,i)*c%i,u=si(l,e,i)*l%i,d=si(u,n,i)*u%i,f=si(d,r,i)*d%i,h=si(f,s,i)*f%i,p=si(h,s,i)*f%i,g=si(p,e,i)*l%i;return{pow_p_5_8:si(g,kI,i)*t%i,b2:o}}function uJ(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function dJ(t,e){const n=kx,r=en(e*e*e,n),s=en(r*r*e,n),i=lJ(t*s).pow_p_5_8;let o=en(t*r*i,n);const a=en(e*o*o,n),c=o,l=en(o*OI,n),u=a===t,d=a===en(-t,n),f=a===en(-t*OI,n);return u&&(o=c),(d||f)&&(o=l),VX(o,n)&&(o=en(-o,n)),{isValid:u||d,value:o}}const fJ=k5(kx,void 0,!0),hJ={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:fJ,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:cJ,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:$X,randomBytes:A5,adjustScalarBytes:uJ,uvRatio:dJ},U5=iJ(hJ),pJ="EdDSA",gJ="JWT",$y=".",X0="base64url",L5="utf8",M5="utf8",mJ=":",yJ="did",wJ="key",$I="base58btc",vJ="z",bJ="K36",EJ=32;function $x(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function j5(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?$x(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function B5(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=j5(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return $x(n)}function _J(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,m=0,y=p.length;m!==y&&p[m]===0;)m++,g++;for(var v=(y-m)*u+1>>>0,_=new Uint8Array(v);m!==y;){for(var E=p[m],x=0,S=v-1;(E!==0||x<w)&&S!==-1;S--,x++)E+=256*_[S]>>>0,_[S]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");w=x,m++}for(var T=v-w;T!==v&&_[T]===0;)T++;for(var C=c.repeat(g);T<v;++T)C+=t.charAt(_[T]);return C}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,m=0;p[g]===c;)w++,g++;for(var y=(p.length-g)*l+1>>>0,v=new Uint8Array(y);p[g];){var _=n[p.charCodeAt(g)];if(_===255)return;for(var E=0,x=y-1;(_!==0||E<m)&&x!==-1;x--,E++)_+=a*v[x]>>>0,v[x]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");m=E,g++}if(p[g]!==" "){for(var S=y-m;S!==y&&v[S]===0;)S++;for(var T=new Uint8Array(w+(y-S)),C=w;S!==y;)T[C++]=v[S++];return T}}}function h(p){var g=f(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var CJ=_J,xJ=CJ;const F5=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},SJ=t=>new TextEncoder().encode(t),AJ=t=>new TextDecoder().decode(t);let IJ=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},TJ=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return z5(this,e)}},NJ=class{constructor(e){this.decoders=e}or(e){return z5(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const z5=(t,e)=>new NJ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let PJ=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new IJ(e,n,r),this.decoder=new TJ(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const J0=({name:t,prefix:e,encode:n,decode:r})=>new PJ(t,e,n,r),tg=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=xJ(n,e);return J0({prefix:t,name:e,encode:r,decode:i=>F5(s(i))})},RJ=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},OJ=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Tn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>J0({prefix:e,name:t,encode(s){return OJ(s,r,n)},decode(s){return RJ(s,r,n,t)}}),kJ=J0({prefix:"\0",name:"identity",encode:t=>AJ(t),decode:t=>SJ(t)});var $J=Object.freeze({__proto__:null,identity:kJ});const DJ=Tn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var UJ=Object.freeze({__proto__:null,base2:DJ});const LJ=Tn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var MJ=Object.freeze({__proto__:null,base8:LJ});const jJ=tg({prefix:"9",name:"base10",alphabet:"0123456789"});var BJ=Object.freeze({__proto__:null,base10:jJ});const FJ=Tn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),zJ=Tn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var WJ=Object.freeze({__proto__:null,base16:FJ,base16upper:zJ});const qJ=Tn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),HJ=Tn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),VJ=Tn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),GJ=Tn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),KJ=Tn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),YJ=Tn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ZJ=Tn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),QJ=Tn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),XJ=Tn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var JJ=Object.freeze({__proto__:null,base32:qJ,base32upper:HJ,base32pad:VJ,base32padupper:GJ,base32hex:KJ,base32hexupper:YJ,base32hexpad:ZJ,base32hexpadupper:QJ,base32z:XJ});const eee=tg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tee=tg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var nee=Object.freeze({__proto__:null,base36:eee,base36upper:tee});const ree=tg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),see=tg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var iee=Object.freeze({__proto__:null,base58btc:ree,base58flickr:see});const oee=Tn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),aee=Tn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),cee=Tn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),lee=Tn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var uee=Object.freeze({__proto__:null,base64:oee,base64pad:aee,base64url:cee,base64urlpad:lee});const W5=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),dee=W5.reduce((t,e,n)=>(t[n]=e,t),[]),fee=W5.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function hee(t){return t.reduce((e,n)=>(e+=dee[n],e),"")}function pee(t){const e=[];for(const n of t){const r=fee[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const gee=J0({prefix:"🚀",name:"base256emoji",encode:hee,decode:pee});var mee=Object.freeze({__proto__:null,base256emoji:gee}),yee=q5,DI=128,wee=-128,vee=Math.pow(2,31);function q5(t,e,n){e=e||[],n=n||0;for(var r=n;t>=vee;)e[n++]=t&255|DI,t/=128;for(;t&wee;)e[n++]=t&255|DI,t>>>=7;return e[n]=t|0,q5.bytes=n-r+1,e}var bee=zE,Eee=128,UI=127;function zE(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw zE.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&UI)<<s:(o&UI)*Math.pow(2,s),s+=7}while(o>=Eee);return zE.bytes=i-r,n}var _ee=Math.pow(2,7),Cee=Math.pow(2,14),xee=Math.pow(2,21),See=Math.pow(2,28),Aee=Math.pow(2,35),Iee=Math.pow(2,42),Tee=Math.pow(2,49),Nee=Math.pow(2,56),Pee=Math.pow(2,63),Ree=function(t){return t<_ee?1:t<Cee?2:t<xee?3:t<See?4:t<Aee?5:t<Iee?6:t<Tee?7:t<Nee?8:t<Pee?9:10},Oee={encode:yee,decode:bee,encodingLength:Ree},H5=Oee;const LI=(t,e,n=0)=>(H5.encode(t,e,n),e),MI=t=>H5.encodingLength(t),WE=(t,e)=>{const n=e.byteLength,r=MI(t),s=r+MI(n),i=new Uint8Array(s+n);return LI(t,i,0),LI(n,i,r),i.set(e,s),new kee(t,n,e,i)};let kee=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const V5=({name:t,code:e,encode:n})=>new $ee(t,e,n);let $ee=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?WE(this.code,n):n.then(r=>WE(this.code,r))}else throw Error("Unknown type, must be binary type")}};const G5=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Dee=V5({name:"sha2-256",code:18,encode:G5("SHA-256")}),Uee=V5({name:"sha2-512",code:19,encode:G5("SHA-512")});var Lee=Object.freeze({__proto__:null,sha256:Dee,sha512:Uee});const K5=0,Mee="identity",Y5=F5,jee=t=>WE(K5,Y5(t)),Bee={code:K5,name:Mee,encode:Y5,digest:jee};var Fee=Object.freeze({__proto__:null,identity:Bee});new TextEncoder,new TextDecoder;const jI={...$J,...UJ,...MJ,...BJ,...WJ,...JJ,...nee,...iee,...uee,...mee};({...Lee,...Fee});function Z5(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const BI=Z5("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),eb=Z5("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=j5(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Q5={utf8:BI,"utf-8":BI,hex:jI.base16,latin1:eb,ascii:eb,binary:eb,...jI};function ew(t,e="utf8"){const n=Q5[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Nd(t,e="utf8"){const n=Q5[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?$x(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function FI(t){return ul(ew(Nd(t,X0),L5))}function Dy(t){return ew(Nd(Eo(t),L5),X0)}function X5(t){const e=Nd(bJ,$I),n=vJ+ew(B5([e,t]),$I);return[yJ,wJ,n].join(mJ)}function zee(t){return ew(t,X0)}function Wee(t){return Nd(t,X0)}function qee(t){return Nd([Dy(t.header),Dy(t.payload)].join($y),M5)}function Hee(t){return[Dy(t.header),Dy(t.payload),zee(t.signature)].join($y)}function qE(t){const e=t.split($y),n=FI(e[0]),r=FI(e[1]),s=Wee(e[2]),i=Nd(e.slice(0,2).join($y),M5);return{header:n,payload:r,signature:s,data:i}}function zI(t=A5(EJ)){const e=U5.getPublicKey(t);return{secretKey:B5([t,e]),publicKey:e}}async function Vee(t,e,n,r,s=J.fromMiliseconds(Date.now())){const i={alg:pJ,typ:gJ},o=X5(r.publicKey),a=s+n,c={iss:o,sub:t,aud:e,iat:s,exp:a},l=qee({header:i,payload:c}),u=U5.sign(l,r.secretKey.slice(0,32));return Hee({header:i,payload:c,signature:u})}var WI=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},Gee=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),Kee=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Yee=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),Zee=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Qee=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Xee=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Jee=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,qI=3,ete=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Xee]],HI=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function tte(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Qee:typeof navigator<"u"?rte(navigator.userAgent):ite()}function nte(t){return t!==""&&ete.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var i=s.exec(t);return!!i&&[r,i]},!1)}function rte(t){var e=nte(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Zee;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<qI&&(s=WI(WI([],s,!0),ote(qI-s.length),!0)):s=[];var i=s.join("."),o=ste(t),a=Jee.exec(t);return a&&a[1]?new Yee(n,i,o,a[1]):new Gee(n,i,o)}function ste(t){for(var e=0,n=HI.length;e<n;e++){var r=HI[e],s=r[0],i=r[1],o=i.exec(t);if(o)return s}return null}function ite(){var t=typeof process<"u"&&process.version;return t?new Kee(process.version.slice(1)):null}function ote(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.getLocalStorage=wt.getLocalStorageOrThrow=wt.getCrypto=wt.getCryptoOrThrow=J5=wt.getLocation=wt.getLocationOrThrow=Dx=wt.getNavigator=wt.getNavigatorOrThrow=dl=wt.getDocument=wt.getDocumentOrThrow=wt.getFromWindowOrThrow=wt.getFromWindow=void 0;function Pl(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}wt.getFromWindow=Pl;function Pd(t){const e=Pl(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}wt.getFromWindowOrThrow=Pd;function ate(){return Pd("document")}wt.getDocumentOrThrow=ate;function cte(){return Pl("document")}var dl=wt.getDocument=cte;function lte(){return Pd("navigator")}wt.getNavigatorOrThrow=lte;function ute(){return Pl("navigator")}var Dx=wt.getNavigator=ute;function dte(){return Pd("location")}wt.getLocationOrThrow=dte;function fte(){return Pl("location")}var J5=wt.getLocation=fte;function hte(){return Pd("crypto")}wt.getCryptoOrThrow=hte;function pte(){return Pl("crypto")}wt.getCrypto=pte;function gte(){return Pd("localStorage")}wt.getLocalStorageOrThrow=gte;function mte(){return Pl("localStorage")}wt.getLocalStorage=mte;var Ux={};Object.defineProperty(Ux,"__esModule",{value:!0});var eD=Ux.getWindowMetadata=void 0;const VI=wt;function yte(){let t,e;try{t=VI.getDocumentOrThrow(),e=VI.getLocationOrThrow()}catch{return null}function n(){const d=t.getElementsByTagName("link"),f=[];for(let h=0;h<d.length;h++){const p=d[h],g=p.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const w=p.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let m=e.protocol+"//"+e.host;if(w.indexOf("/")===0)m+=w;else{const y=e.pathname.split("/");y.pop();const v=y.join("/");m+=v+"/"+w}f.push(m)}else if(w.indexOf("//")===0){const m=e.protocol+w;f.push(m)}else f.push(w)}}return f}function r(...d){const f=t.getElementsByTagName("meta");for(let h=0;h<f.length;h++){const p=f[h],g=["itemprop","property","name"].map(w=>p.getAttribute(w)).filter(w=>w?d.includes(w):!1);if(g.length&&g){const w=p.getAttribute("content");if(w)return w}}return""}function s(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function i(){return r("description","og:description","twitter:description","keywords")}const o=s(),a=i(),c=e.origin,l=n();return{description:a,url:c,icons:l,name:o}}eD=Ux.getWindowMetadata=yte;function lp(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function HE(t){return lp(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const tD="2.31.0";let lf={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${tD}`};class fl extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof fl?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof fl&&n.cause.docsPath||n.docsPath,i=(a=lf.getDocsUrl)==null?void 0:a.call(lf,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...lf.version?[`Version: ${lf.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=tD}walk(e){return nD(this,e)}}function nD(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?nD(t.cause,e):e?null:t}class rD extends fl{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Rd(t,{dir:e,size:n=32}={}){return typeof t=="string"?wte(t,{dir:e,size:n}):vte(t,{dir:e,size:n})}function wte(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new rD({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function vte(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new rD({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class bte extends fl{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class Ete extends fl{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Od(t,{size:e}){if(HE(t)>e)throw new Ete({givenSize:HE(t),maxSize:e})}function VE(t,e={}){const{signed:n}=e;e.size&&Od(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function _te(t,e={}){return Number(VE(t,e))}const Cte=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function GE(t,e={}){return typeof t=="number"||typeof t=="bigint"?iD(t,e):typeof t=="string"?Ate(t,e):typeof t=="boolean"?xte(t,e):sD(t,e)}function xte(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Od(n,{size:e.size}),Rd(n,{size:e.size})):n}function sD(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=Cte[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Od(r,{size:e.size}),Rd(r,{dir:"right",size:e.size})):r}function iD(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new bte({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Rd(a,{size:r}):a}const Ste=new TextEncoder;function Ate(t,e={}){const n=Ste.encode(t);return sD(n,e)}const Ite=new TextEncoder;function Tte(t,e={}){return typeof t=="number"||typeof t=="bigint"?Pte(t,e):typeof t=="boolean"?Nte(t,e):lp(t)?oD(t,e):aD(t,e)}function Nte(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Od(n,{size:e.size}),Rd(n,{size:e.size})):n}const Wi={zero:48,nine:57,A:65,F:70,a:97,f:102};function GI(t){if(t>=Wi.zero&&t<=Wi.nine)return t-Wi.zero;if(t>=Wi.A&&t<=Wi.F)return t-(Wi.A-10);if(t>=Wi.a&&t<=Wi.f)return t-(Wi.a-10)}function oD(t,e={}){let n=t;e.size&&(Od(n,{size:e.size}),n=Rd(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=GI(r.charCodeAt(a++)),l=GI(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new fl(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function Pte(t,e){const n=iD(t,e);return oD(n)}function aD(t,e={}){const n=Ite.encode(t);return typeof e.size=="number"?(Od(n,{size:e.size}),Rd(n,{dir:"right",size:e.size})):n}function cD(t,e){const n=e||"hex",r=RC(lp(t,{strict:!1})?Tte(t):t);return n==="bytes"?r:GE(r)}class Rte extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const tb=new Rte(8192);function Ote(t,e){if(tb.has(`${t}.${e}`))return tb.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=cD(aD(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return tb.set(`${t}.${e}`,i),i}function kte(t){const e=cD(`0x${t.substring(4)}`).substring(26);return Ote(`0x${e}`)}async function $te({hash:t,signature:e}){const n=lp(t)?t:GE(t),{secp256k1:r}=await Fn(async()=>{const{secp256k1:o}=await import("./secp256k1-Dl5YGRNQ.js");return{secp256k1:o}},__vite__mapDeps([2,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:f}=e,h=Number(f??d),p=KI(h);return new r.Signature(VE(l),VE(u)).addRecoveryBit(p)}const o=lp(e)?e:GE(e);if(HE(o)!==65)throw new Error("invalid signature length");const a=_te(`0x${o.slice(130)}`),c=KI(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function KI(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Dte({hash:t,signature:e}){return kte(await $te({hash:t,signature:e}))}function Ute(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,f=0;const h=l.length;for(;f!==h&&l[f]===0;)f++,u++;const p=(h-f)*i+1>>>0,g=new Uint8Array(p);for(;f!==h;){let y=l[f],v=0;for(let _=p-1;(y!==0||v<d)&&_!==-1;_--,v++)y+=256*g[_]>>>0,g[_]=y%n>>>0,y=y/n>>>0;if(y!==0)throw new Error("Non-zero carry");d=v,f++}let w=p-d;for(;w!==p&&g[w]===0;)w++;let m=r.repeat(u);for(;w<p;++w)m+=t.charAt(g[w]);return m}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,f=0;for(;l[u]===r;)d++,u++;const h=(l.length-u)*s+1>>>0,p=new Uint8Array(h);for(;u<l.length;){const y=l.charCodeAt(u);if(y>255)return;let v=e[y];if(v===255)return;let _=0;for(let E=h-1;(v!==0||_<f)&&E!==-1;E--,_++)v+=n*p[E]>>>0,p[E]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");f=_,u++}let g=h-f;for(;g!==h&&p[g]===0;)g++;const w=new Uint8Array(d+(h-g));let m=d;for(;g!==h;)w[m++]=p[g++];return w}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var Lte="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const kd=Ute(Lte);function Mte(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.charCodeAt(r++);if(s&4294967168)if(!(s&4294965248))n+=2;else{if(s>=55296&&s<=56319&&r<e){const i=t.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}s&4294901760?n+=4:n+=3}else{n++;continue}}return n}function jte(t,e,n){const r=t.length;let s=n,i=0;for(;i<r;){let o=t.charCodeAt(i++);if(o&4294967168)if(!(o&4294965248))e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128):(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128)}else{e[s++]=o;continue}e[s++]=o&63|128}}const Bte=new TextEncoder,Fte=50;function zte(t,e,n){Bte.encodeInto(t,e.subarray(n))}function Wte(t,e,n){t.length>Fte?zte(t,e,n):jte(t,e,n)}const qte=4096;function lD(t,e,n){let r=e;const s=r+n,i=[];let o="";for(;r<s;){const a=t[r++];if(!(a&128))i.push(a);else if((a&224)===192){const c=t[r++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;i.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d)}else i.push(a);i.length>=qte&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const Hte=new TextDecoder,Vte=200;function Gte(t,e,n){const r=t.subarray(e,e+n);return Hte.decode(r)}function Kte(t,e,n){return n>Vte?Gte(t,e,n):lD(t,e,n)}class Xg{constructor(e,n){this.type=e,this.data=n}}class zr extends Error{constructor(e){super(e);const n=Object.create(zr.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:zr.name})}}const uf=4294967295;function Yte(t,e,n){const r=n/4294967296,s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function uD(t,e,n){const r=Math.floor(n/4294967296),s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function dD(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function Zte(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const Qte=-1,Xte=4294967296-1,Jte=17179869184-1;function ene({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Jte)if(e===0&&t<=Xte){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),uD(r,4,t),n}}function tne(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function nne(t){if(t instanceof Date){const e=tne(t);return ene(e)}else return null}function rne(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=dD(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new zr(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function sne(t){const e=rne(t);return new Date(e.sec*1e3+e.nsec/1e6)}const ine={type:Qte,encode:nne,decode:sne};class Uy{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(ine)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const s=-1-e;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=-1-r;return new Xg(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=r;return new Xg(o,i)}}}return e instanceof Xg?e:null}decode(e,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(e,n,r):new Xg(n,e)}}Uy.defaultCodec=new Uy;function one(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function KE(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):one(t)?new Uint8Array(t):Uint8Array.from(t)}const ane=100,cne=2048;let lne=class fD{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??Uy.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??ane,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??cne,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new fD({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=Mte(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),Wte(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=KE(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of e)this.doEncode(s,n+1)}countWithoutUndefined(e,n){let r=0;for(const s of n)e[s]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),Yte(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),uD(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function une(t,e){return new lne(e).encodeSharedRef(t)}function nb(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const dne=16,fne=16;class hne{constructor(e=dne,n=fne){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return i.str}return null}store(e,n){const r=this.caches[e.length-1],s={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(e,n,r){const s=this.find(e,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=lD(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,i),i}}const YE="array",eh="map_key",hD="map_value",pne=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new zr("The type of key must be string or number but "+typeof t)};class gne{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=YE,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=eh,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===YE){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===eh||e.type===hD){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const df=-1,Lx=new DataView(new ArrayBuffer(0)),mne=new Uint8Array(Lx.buffer);try{Lx.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const YI=new RangeError("Insufficient data"),yne=new hne;let wne=class pD{constructor(e){this.totalPos=0,this.pos=0,this.view=Lx,this.bytes=mne,this.headByte=df,this.stack=new gne,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??Uy.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??uf,this.maxBinLength=(e==null?void 0:e.maxBinLength)??uf,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??uf,this.maxMapLength=(e==null?void 0:e.maxMapLength)??uf,this.maxExtLength=(e==null?void 0:e.maxExtLength)??uf,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:yne,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??pne}clone(){return new pD({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=df,this.stack.reset()}setBuffer(e){const n=KE(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===df&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=KE(e),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${nb(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of e){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=e-160;n=this.decodeString(s,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new zr(`Unrecognized type byte: ${nb(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===YE)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===eh){if(n==="__proto__")throw new zr("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=hD;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=eh;continue e}}return n}}readHeadByte(){return this.headByte===df&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=df}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new zr(`Unrecognized array type byte: ${nb(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new zr(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new zr(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var i;if(e>this.maxStrLength)throw new zr(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw YI;const r=this.pos+n;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,r,e):s=Kte(this.bytes,r,e),this.pos+=n+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===eh:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new zr(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw YI;const r=this.pos+n,s=this.bytes.subarray(r,r+e);return this.pos+=n+e,s}decodeExtension(e,n){if(e>this.maxExtLength)throw new zr(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(e,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=Zte(this.view,this.pos);return this.pos+=8,e}readI64(){const e=dD(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function vne(t,e){return new wne(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function bne(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function gD(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function Ly(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function Mx(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function ZE(t){if(!Array.isArray(t))throw new Error("array expected")}function My(t,e){if(!gD(!0,e))throw new Error(`${t}: array of strings expected`)}function Ene(t,e){if(!gD(!1,e))throw new Error(`${t}: array of numbers expected`)}function _ne(...t){const e=i=>i,n=(i,o)=>a=>i(o(a)),r=t.map(i=>i.encode).reduceRight(n,e),s=t.map(i=>i.decode).reduce(n,e);return{encode:r,decode:s}}function Cne(t){const e=typeof t=="string"?t.split(""):t,n=e.length;My("alphabet",e);const r=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(ZE(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(ZE(s),s.map(i=>{Ly("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function xne(t=""){return Ly("join",t),{encode:e=>(My("join.decode",e),e.join(t)),decode:e=>(Ly("join.decode",e),e.split(t))}}function Sne(t,e="="){return Mx(t),Ly("padding",e),{encode(n){for(My("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){My("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const mD=(t,e)=>e===0?t:mD(e,t%e),jy=(t,e)=>t+(e-mD(t,e)),rb=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function ZI(t,e,n,r){if(ZE(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(jy(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${jy(e,n)}`);let s=0,i=0;const o=rb[e],a=rb[n]-1,c=[];for(const l of t){if(Mx(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(s=s<<e|l,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)c.push((s>>i-n&a)>>>0);const u=rb[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function Ane(t,e=!1){if(Mx(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(jy(8,t)>32||jy(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!bne(n))throw new Error("radix2.encode input should be Uint8Array");return ZI(Array.from(n),8,t,!e)},decode:n=>(Ene("radix2.decode",n),Uint8Array.from(ZI(n,t,8,e)))}}const Ine=_ne(Ane(5),Cne("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Sne(5),xne(""));function jx(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function yD(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?jx(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function th(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=yD(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return jx(n)}function Tne(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,m=0,y=p.length;m!==y&&p[m]===0;)m++,g++;for(var v=(y-m)*u+1>>>0,_=new Uint8Array(v);m!==y;){for(var E=p[m],x=0,S=v-1;(E!==0||x<w)&&S!==-1;S--,x++)E+=256*_[S]>>>0,_[S]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");w=x,m++}for(var T=v-w;T!==v&&_[T]===0;)T++;for(var C=c.repeat(g);T<v;++T)C+=t.charAt(_[T]);return C}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,m=0;p[g]===c;)w++,g++;for(var y=(p.length-g)*l+1>>>0,v=new Uint8Array(y);p[g];){var _=n[p.charCodeAt(g)];if(_===255)return;for(var E=0,x=y-1;(_!==0||E<m)&&x!==-1;x--,E++)_+=a*v[x]>>>0,v[x]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");m=E,g++}if(p[g]!==" "){for(var S=y-m;S!==y&&v[S]===0;)S++;for(var T=new Uint8Array(w+(y-S)),C=w;S!==y;)T[C++]=v[S++];return T}}}function h(p){var g=f(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var Nne=Tne,Pne=Nne;const Rne=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},One=t=>new TextEncoder().encode(t),kne=t=>new TextDecoder().decode(t);class $ne{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Dne{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return wD(this,e)}}class Une{constructor(e){this.decoders=e}or(e){return wD(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const wD=(t,e)=>new Une({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Lne{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new $ne(e,n,r),this.decoder=new Dne(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const tw=({name:t,prefix:e,encode:n,decode:r})=>new Lne(t,e,n,r),ng=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Pne(n,e);return tw({prefix:t,name:e,encode:r,decode:i=>Rne(s(i))})},Mne=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},jne=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Nn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>tw({prefix:e,name:t,encode(s){return jne(s,r,n)},decode(s){return Mne(s,r,n,t)}}),Bne=tw({prefix:"\0",name:"identity",encode:t=>kne(t),decode:t=>One(t)}),Fne=Object.freeze(Object.defineProperty({__proto__:null,identity:Bne},Symbol.toStringTag,{value:"Module"})),zne=Nn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Wne=Object.freeze(Object.defineProperty({__proto__:null,base2:zne},Symbol.toStringTag,{value:"Module"})),qne=Nn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Hne=Object.freeze(Object.defineProperty({__proto__:null,base8:qne},Symbol.toStringTag,{value:"Module"})),Vne=ng({prefix:"9",name:"base10",alphabet:"0123456789"}),Gne=Object.freeze(Object.defineProperty({__proto__:null,base10:Vne},Symbol.toStringTag,{value:"Module"})),Kne=Nn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Yne=Nn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Zne=Object.freeze(Object.defineProperty({__proto__:null,base16:Kne,base16upper:Yne},Symbol.toStringTag,{value:"Module"})),Qne=Nn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Xne=Nn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Jne=Nn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ere=Nn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tre=Nn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),nre=Nn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rre=Nn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),sre=Nn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ire=Nn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ore=Object.freeze(Object.defineProperty({__proto__:null,base32:Qne,base32hex:tre,base32hexpad:rre,base32hexpadupper:sre,base32hexupper:nre,base32pad:Jne,base32padupper:ere,base32upper:Xne,base32z:ire},Symbol.toStringTag,{value:"Module"})),are=ng({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),cre=ng({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),lre=Object.freeze(Object.defineProperty({__proto__:null,base36:are,base36upper:cre},Symbol.toStringTag,{value:"Module"})),ure=ng({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),dre=ng({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),fre=Object.freeze(Object.defineProperty({__proto__:null,base58btc:ure,base58flickr:dre},Symbol.toStringTag,{value:"Module"})),hre=Nn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),pre=Nn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),gre=Nn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),mre=Nn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),yre=Object.freeze(Object.defineProperty({__proto__:null,base64:hre,base64pad:pre,base64url:gre,base64urlpad:mre},Symbol.toStringTag,{value:"Module"})),vD=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),wre=vD.reduce((t,e,n)=>(t[n]=e,t),[]),vre=vD.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function bre(t){return t.reduce((e,n)=>(e+=wre[n],e),"")}function Ere(t){const e=[];for(const n of t){const r=vre[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const _re=tw({prefix:"🚀",name:"base256emoji",encode:bre,decode:Ere}),Cre=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:_re},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const QI={...Fne,...Wne,...Hne,...Gne,...Zne,...ore,...lre,...fre,...yre,...Cre};function bD(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const XI=bD("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),sb=bD("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=yD(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),ED={utf8:XI,"utf-8":XI,hex:QI.base16,latin1:sb,ascii:sb,binary:sb,...QI};function gs(t,e="utf8"){const n=ED[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?jx(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Pr(t,e="utf8"){const n=ED[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const xre={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},Sre="Input must be an string, Buffer or Uint8Array";function Are(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(Sre);return e}function Ire(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function Jg(t){return(4294967296+t).toString(16).substring(1)}function Tre(t,e,n){let r=`
`+t+" = ";for(let s=0;s<e.length;s+=2){if(n===32)r+=Jg(e[s]).toUpperCase(),r+=" ",r+=Jg(e[s+1]).toUpperCase();else if(n===64)r+=Jg(e[s+1]).toUpperCase(),r+=Jg(e[s]).toUpperCase();else throw new Error("Invalid size "+n);s%6===4?r+=`
`+new Array(t.length+4).join(" "):s<e.length-2&&(r+=" ")}console.log(r)}function Nre(t,e,n){let r=new Date().getTime();const s=new Uint8Array(e);for(let o=0;o<e;o++)s[o]=o%256;const i=new Date().getTime();console.log("Generated random input in "+(i-r)+"ms"),r=i;for(let o=0;o<n;o++){const a=t(s),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var _D={normalizeInput:Are,toHex:Ire,debugPrint:Tre,testSpeed:Nre};const Mm=_D;function em(t,e,n){const r=t[e]+t[n];let s=t[e+1]+t[n+1];r>=4294967296&&s++,t[e]=r,t[e+1]=s}function JI(t,e,n,r){let s=t[e]+n;n<0&&(s+=4294967296);let i=t[e+1]+r;s>=4294967296&&i++,t[e]=s,t[e+1]=i}function CD(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function jo(t,e,n,r,s,i){const o=$f[s],a=$f[s+1],c=$f[i],l=$f[i+1];em(Pe,t,e),JI(Pe,t,o,a);let u=Pe[r]^Pe[t],d=Pe[r+1]^Pe[t+1];Pe[r]=d,Pe[r+1]=u,em(Pe,n,r),u=Pe[e]^Pe[n],d=Pe[e+1]^Pe[n+1],Pe[e]=u>>>24^d<<8,Pe[e+1]=d>>>24^u<<8,em(Pe,t,e),JI(Pe,t,c,l),u=Pe[r]^Pe[t],d=Pe[r+1]^Pe[t+1],Pe[r]=u>>>16^d<<16,Pe[r+1]=d>>>16^u<<16,em(Pe,n,r),u=Pe[e]^Pe[n],d=Pe[e+1]^Pe[n+1],Pe[e]=d>>>31^u<<1,Pe[e+1]=u>>>31^d<<1}const xD=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Pre=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],$n=new Uint8Array(Pre.map(function(t){return t*2})),Pe=new Uint32Array(32),$f=new Uint32Array(32);function SD(t,e){let n=0;for(n=0;n<16;n++)Pe[n]=t.h[n],Pe[n+16]=xD[n];for(Pe[24]=Pe[24]^t.t,Pe[25]=Pe[25]^t.t/4294967296,e&&(Pe[28]=~Pe[28],Pe[29]=~Pe[29]),n=0;n<32;n++)$f[n]=CD(t.b,4*n);for(n=0;n<12;n++)jo(0,8,16,24,$n[n*16+0],$n[n*16+1]),jo(2,10,18,26,$n[n*16+2],$n[n*16+3]),jo(4,12,20,28,$n[n*16+4],$n[n*16+5]),jo(6,14,22,30,$n[n*16+6],$n[n*16+7]),jo(0,10,20,30,$n[n*16+8],$n[n*16+9]),jo(2,12,22,24,$n[n*16+10],$n[n*16+11]),jo(4,14,16,26,$n[n*16+12],$n[n*16+13]),jo(6,8,18,28,$n[n*16+14],$n[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^Pe[n]^Pe[n+16]}const Bo=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function AD(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};Bo.fill(0),Bo[0]=t,e&&(Bo[1]=e.length),Bo[2]=1,Bo[3]=1,n&&Bo.set(n,32),r&&Bo.set(r,48);for(let i=0;i<16;i++)s.h[i]=xD[i]^CD(Bo,i*4);return e&&(Bx(s,e),s.c=128),s}function Bx(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,SD(t,!1),t.c=0),t.b[t.c++]=e[n]}function ID(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;SD(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function TD(t,e,n,r,s){n=n||64,t=Mm.normalizeInput(t),r&&(r=Mm.normalizeInput(r)),s&&(s=Mm.normalizeInput(s));const i=AD(n,e,r,s);return Bx(i,t),ID(i)}function Rre(t,e,n,r,s){const i=TD(t,e,n,r,s);return Mm.toHex(i)}var Ore={blake2b:TD,blake2bHex:Rre,blake2bInit:AD,blake2bUpdate:Bx,blake2bFinal:ID};const ND=_D;function kre(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Fo(t,e,n,r,s,i){Ze[t]=Ze[t]+Ze[e]+s,Ze[r]=tm(Ze[r]^Ze[t],16),Ze[n]=Ze[n]+Ze[r],Ze[e]=tm(Ze[e]^Ze[n],12),Ze[t]=Ze[t]+Ze[e]+i,Ze[r]=tm(Ze[r]^Ze[t],8),Ze[n]=Ze[n]+Ze[r],Ze[e]=tm(Ze[e]^Ze[n],7)}function tm(t,e){return t>>>e^t<<32-e}const PD=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Dn=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Ze=new Uint32Array(16),mn=new Uint32Array(16);function RD(t,e){let n=0;for(n=0;n<8;n++)Ze[n]=t.h[n],Ze[n+8]=PD[n];for(Ze[12]^=t.t,Ze[13]^=t.t/4294967296,e&&(Ze[14]=~Ze[14]),n=0;n<16;n++)mn[n]=kre(t.b,4*n);for(n=0;n<10;n++)Fo(0,4,8,12,mn[Dn[n*16+0]],mn[Dn[n*16+1]]),Fo(1,5,9,13,mn[Dn[n*16+2]],mn[Dn[n*16+3]]),Fo(2,6,10,14,mn[Dn[n*16+4]],mn[Dn[n*16+5]]),Fo(3,7,11,15,mn[Dn[n*16+6]],mn[Dn[n*16+7]]),Fo(0,5,10,15,mn[Dn[n*16+8]],mn[Dn[n*16+9]]),Fo(1,6,11,12,mn[Dn[n*16+10]],mn[Dn[n*16+11]]),Fo(2,7,8,13,mn[Dn[n*16+12]],mn[Dn[n*16+13]]),Fo(3,4,9,14,mn[Dn[n*16+14]],mn[Dn[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=Ze[n]^Ze[n+8]}function OD(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(PD),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(Fx(r,e),r.c=64),r}function Fx(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,RD(t,!1),t.c=0),t.b[t.c++]=e[n]}function kD(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;RD(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function $D(t,e,n){n=n||32,t=ND.normalizeInput(t);const r=OD(n,e);return Fx(r,t),kD(r)}function $re(t,e,n){const r=$D(t,e,n);return ND.toHex(r)}var Dre={blake2s:$D,blake2sHex:$re,blake2sInit:OD,blake2sUpdate:Fx,blake2sFinal:kD};const ff=Ore,hf=Dre;var Ure={blake2b:ff.blake2b,blake2bHex:ff.blake2bHex,blake2bInit:ff.blake2bInit,blake2bUpdate:ff.blake2bUpdate,blake2bFinal:ff.blake2bFinal,blake2s:hf.blake2s,blake2sHex:hf.blake2sHex,blake2sInit:hf.blake2sInit,blake2sUpdate:hf.blake2sUpdate,blake2sFinal:hf.blake2sFinal},Lre={};const Mre=":";function $u(t){const[e,n]=t.split(Mre);return{namespace:e,reference:n}}function DD(t,e){return t.includes(":")?[t]:e.chains||[]}var jre=Object.defineProperty,Bre=Object.defineProperties,Fre=Object.getOwnPropertyDescriptors,eT=Object.getOwnPropertySymbols,zre=Object.prototype.hasOwnProperty,Wre=Object.prototype.propertyIsEnumerable,tT=(t,e,n)=>e in t?jre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nT=(t,e)=>{for(var n in e||(e={}))zre.call(e,n)&&tT(t,n,e[n]);if(eT)for(var n of eT(e))Wre.call(e,n)&&tT(t,n,e[n]);return t},qre=(t,e)=>Bre(t,Fre(e));const Hre="ReactNative",Hr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Vre="js";function By(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function ac(){return!dl()&&!!Dx()&&navigator.product===Hre}function Gre(){return ac()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Kre(){return ac()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function $d(){return!By()&&!!Dx()&&!!dl()}function rg(){return ac()?Hr.reactNative:By()?Hr.node:$d()?Hr.browser:Hr.unknown}function rT(){var t;try{return ac()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Yre(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function Zre(t){var e,n;const r=UD();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),qre(nT(nT({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function UD(){return eD()||{name:"",description:"",url:"",icons:[""]}}function Qre(){if(rg()===Hr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=tte();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Xre(){var t;const e=rg();return e===Hr.browser?[e,((t=J5())==null?void 0:t.host)||"unknown"].join(":"):e}function LD(t,e,n){const r=Qre(),s=Xre();return[[t,e].join("-"),[Vre,n].join("-"),r,s].join("/")}function Jre({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=LD(t,e,r),d={auth:s,ua:u,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},f=Yre(l[1]||"",d);return l[0]+"?"+f}function Nc(t,e){return t.filter(n=>e.includes(n)).length===t.length}function QE(t){return Object.fromEntries(t.entries())}function XE(t){return new Map(Object.entries(t))}function wc(t=J.FIVE_MINUTES,e){const n=J.toMiliseconds(t||J.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function xa(t,e,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),e);try{const o=await t;r(o)}catch(o){s(o)}clearTimeout(i)})}function MD(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function ese(t){return MD("topic",t)}function tse(t){return MD("id",t)}function jD(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Qt(t,e){return J.fromMiliseconds(Date.now()+J.toMiliseconds(t))}function ta(t){return Date.now()>=J.toMiliseconds(t)}function tt(t,e){return`${t}${e?`:${e}`:""}`}function Ti(t=[],e=[]){return[...new Set([...t,...e])]}async function nse({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=rse(i,t,e),a=rg();if(a===Hr.browser){if(!((r=dl())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}sse(o)}else a===Hr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function rse(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${cse(r,!0)}`}else s=`${s}/wc?${r}`;return s}function sse(t){let e="_self";ase()?e="_top":(ose()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function ise(t,e){let n="";try{if($d()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function sT(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function iT(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function zx(){return typeof process<"u"&&Lre.IS_VITEST==="true"}function ose(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function ase(){try{return window.self!==window.top}catch{return!1}}function cse(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function BD(t){return Buffer.from(t,"base64").toString("utf-8")}function lse(t){return new Promise(e=>setTimeout(e,t))}const nm=BigInt(2**32-1),oT=BigInt(32);function FD(t,e=!1){return e?{h:Number(t&nm),l:Number(t>>oT&nm)}:{h:Number(t>>oT&nm)|0,l:Number(t&nm)|0}}function zD(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=FD(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const aT=(t,e,n)=>t>>>n,cT=(t,e,n)=>t<<32-n|e>>>n,na=(t,e,n)=>t>>>n|e<<32-n,ra=(t,e,n)=>t<<32-n|e>>>n,Df=(t,e,n)=>t<<64-n|e>>>n-32,Uf=(t,e,n)=>t>>>n-32|e<<64-n,use=(t,e)=>e,dse=(t,e)=>t,fse=(t,e,n)=>t<<n|e>>>32-n,hse=(t,e,n)=>e<<n|t>>>32-n,pse=(t,e,n)=>e<<n-32|t>>>64-n,gse=(t,e,n)=>t<<n-32|e>>>64-n;function $s(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const Wx=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),qx=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,mse=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),yse=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,wse=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),vse=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Wl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Hx(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function _o(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function bs(t,...e){if(!Hx(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Vx(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");_o(t.outputLen),_o(t.blockLen)}function Xa(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Gx(t,e){bs(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function up(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Es(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ib(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ii(t,e){return t<<32-e|t>>>e}const WD=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function qD(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Ki=WD?t=>t:t=>qD(t);function bse(t){for(let e=0;e<t.length;e++)t[e]=qD(t[e]);return t}const sa=WD?t=>t:bse,HD=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ese=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function dp(t){if(bs(t),HD)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Ese[t[n]];return e}const qi={_0:48,_9:57,A:65,F:70,a:97,f:102};function lT(t){if(t>=qi._0&&t<=qi._9)return t-qi._0;if(t>=qi.A&&t<=qi.F)return t-(qi.A-10);if(t>=qi.a&&t<=qi.f)return t-(qi.a-10)}function Kx(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(HD)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=lT(t.charCodeAt(i)),a=lT(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function _se(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Ks(t){return typeof t=="string"&&(t=_se(t)),bs(t),t}function Pc(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];bs(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let nw=class{};function sg(t){const e=r=>t().update(Ks(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Cse(t){const e=(r,s)=>t(s).update(Ks(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Dd(t=32){if(Wl&&typeof Wl.getRandomValues=="function")return Wl.getRandomValues(new Uint8Array(t));if(Wl&&typeof Wl.randomBytes=="function")return Uint8Array.from(Wl.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const xse=BigInt(0),pf=BigInt(1),Sse=BigInt(2),Ase=BigInt(7),Ise=BigInt(256),Tse=BigInt(113),VD=[],GD=[],KD=[];for(let t=0,e=pf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],VD.push(2*(5*r+n)),GD.push((t+1)*(t+2)/2%64);let s=xse;for(let i=0;i<7;i++)e=(e<<pf^(e>>Ase)*Tse)%Ise,e&Sse&&(s^=pf<<(pf<<BigInt(i))-pf);KD.push(s)}const YD=zD(KD,!0),Nse=YD[0],Pse=YD[1],uT=(t,e,n)=>n>32?pse(t,e,n):fse(t,e,n),dT=(t,e,n)=>n>32?gse(t,e,n):hse(t,e,n);function Rse(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=uT(l,u,1)^n[a],f=dT(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=GD[o],c=uT(s,i,a),l=dT(s,i,a),u=VD[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Nse[r],t[1]^=Pse[r]}Es(n)}let Ose=class ZD extends nw{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,_o(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=up(this.state)}clone(){return this._cloneInto()}keccak(){sa(this.state32),Rse(this.state32,this.rounds),sa(this.state32),this.posOut=0,this.pos=0}update(e){Xa(this),e=Ks(e),bs(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Xa(this,!1),bs(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return _o(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Gx(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Es(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new ZD(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const kse=(t,e,n)=>sg(()=>new Ose(e,t,n)),$se=kse(1,136,256/8);function Dse(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Use(t,e,n){return t&e^~t&n}function Lse(t,e,n){return t&e^t&n^e&n}let QD=class extends nw{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=ib(this.buffer)}update(e){Xa(this),e=Ks(e),bs(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=ib(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Xa(this),Gx(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Es(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Dse(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=ib(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const zo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Un=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ln=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Mse=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wo=new Uint32Array(64);let jse=class extends QD{constructor(e=32){super(64,e,8,!1),this.A=zo[0]|0,this.B=zo[1]|0,this.C=zo[2]|0,this.D=zo[3]|0,this.E=zo[4]|0,this.F=zo[5]|0,this.G=zo[6]|0,this.H=zo[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Wo[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=Wo[d-15],h=Wo[d-2],p=ii(f,7)^ii(f,18)^f>>>3,g=ii(h,17)^ii(h,19)^h>>>10;Wo[d]=g+Wo[d-7]+p+Wo[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const f=ii(a,6)^ii(a,11)^ii(a,25),h=u+f+Use(a,c,l)+Mse[d]+Wo[d]|0,p=(ii(r,2)^ii(r,13)^ii(r,22))+Lse(r,s,i)|0;u=l,l=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Es(Wo)}destroy(){this.set(0,0,0,0,0,0,0,0),Es(this.buffer)}};const XD=zD(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Bse=XD[0],Fse=XD[1],qo=new Uint32Array(80),Ho=new Uint32Array(80);let Yx=class extends QD{constructor(e=64){super(128,e,16,!1),this.Ah=Ln[0]|0,this.Al=Ln[1]|0,this.Bh=Ln[2]|0,this.Bl=Ln[3]|0,this.Ch=Ln[4]|0,this.Cl=Ln[5]|0,this.Dh=Ln[6]|0,this.Dl=Ln[7]|0,this.Eh=Ln[8]|0,this.El=Ln[9]|0,this.Fh=Ln[10]|0,this.Fl=Ln[11]|0,this.Gh=Ln[12]|0,this.Gl=Ln[13]|0,this.Hh=Ln[14]|0,this.Hl=Ln[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:p,Hh:g,Hl:w}=this;return[e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,w]}set(e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=w|0}process(e,n){for(let v=0;v<16;v++,n+=4)qo[v]=e.getUint32(n),Ho[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const _=qo[v-15]|0,E=Ho[v-15]|0,x=na(_,E,1)^na(_,E,8)^aT(_,E,7),S=ra(_,E,1)^ra(_,E,8)^cT(_,E,7),T=qo[v-2]|0,C=Ho[v-2]|0,R=na(T,C,19)^Df(T,C,61)^aT(T,C,6),O=ra(T,C,19)^Uf(T,C,61)^cT(T,C,6),L=mse(S,O,Ho[v-7],Ho[v-16]),U=yse(L,x,R,qo[v-7],qo[v-16]);qo[v]=U|0,Ho[v]=L|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:p,Gh:g,Gl:w,Hh:m,Hl:y}=this;for(let v=0;v<80;v++){const _=na(d,f,14)^na(d,f,18)^Df(d,f,41),E=ra(d,f,14)^ra(d,f,18)^Uf(d,f,41),x=d&h^~d&g,S=f&p^~f&w,T=wse(y,E,S,Fse[v],Ho[v]),C=vse(T,m,_,x,Bse[v],qo[v]),R=T|0,O=na(r,s,28)^Df(r,s,34)^Df(r,s,39),L=ra(r,s,28)^Uf(r,s,34)^Uf(r,s,39),U=r&i^r&a^i&a,B=s&o^s&c^o&c;m=g|0,y=w|0,g=h|0,w=p|0,h=d|0,p=f|0,{h:d,l:f}=$s(l|0,u|0,C|0,R|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const I=Wx(R,L,B);r=qx(I,C,O,U),s=I|0}({h:r,l:s}=$s(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=$s(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=$s(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=$s(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=$s(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=$s(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:w}=$s(this.Gh|0,this.Gl|0,g|0,w|0),{h:m,l:y}=$s(this.Hh|0,this.Hl|0,m|0,y|0),this.set(r,s,i,o,a,c,l,u,d,f,h,p,g,w,m,y)}roundClean(){Es(qo,Ho)}destroy(){Es(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},zse=class extends Yx{constructor(){super(48),this.Ah=Un[0]|0,this.Al=Un[1]|0,this.Bh=Un[2]|0,this.Bl=Un[3]|0,this.Ch=Un[4]|0,this.Cl=Un[5]|0,this.Dh=Un[6]|0,this.Dl=Un[7]|0,this.Eh=Un[8]|0,this.El=Un[9]|0,this.Fh=Un[10]|0,this.Fl=Un[11]|0,this.Gh=Un[12]|0,this.Gl=Un[13]|0,this.Hh=Un[14]|0,this.Hl=Un[15]|0}};const Mn=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let Wse=class extends Yx{constructor(){super(32),this.Ah=Mn[0]|0,this.Al=Mn[1]|0,this.Bh=Mn[2]|0,this.Bl=Mn[3]|0,this.Ch=Mn[4]|0,this.Cl=Mn[5]|0,this.Dh=Mn[6]|0,this.Dl=Mn[7]|0,this.Eh=Mn[8]|0,this.El=Mn[9]|0,this.Fh=Mn[10]|0,this.Fl=Mn[11]|0,this.Gh=Mn[12]|0,this.Gl=Mn[13]|0,this.Hh=Mn[14]|0,this.Hl=Mn[15]|0}};const rw=sg(()=>new jse),qse=sg(()=>new Yx),Hse=sg(()=>new zse),Vse=sg(()=>new Wse),Gse=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Zt=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),oe=new Uint32Array(32);function Vo(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=oe[2*t],l=oe[2*t+1],u=oe[2*e],d=oe[2*e+1],f=oe[2*n],h=oe[2*n+1],p=oe[2*r],g=oe[2*r+1],w=Wx(c,u,o);l=qx(w,l,d,a),c=w|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:use(g,p),Dl:dse(g)},{h,l:f}=$s(h,f,g,p),{Bh:d,Bl:u}={Bh:d^h,Bl:u^f},{Bh:d,Bl:u}={Bh:na(d,u,24),Bl:ra(d,u,24)},oe[2*t]=c,oe[2*t+1]=l,oe[2*e]=u,oe[2*e+1]=d,oe[2*n]=f,oe[2*n+1]=h,oe[2*r]=p,oe[2*r+1]=g}function Go(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=oe[2*t],l=oe[2*t+1],u=oe[2*e],d=oe[2*e+1],f=oe[2*n],h=oe[2*n+1],p=oe[2*r],g=oe[2*r+1],w=Wx(c,u,o);l=qx(w,l,d,a),c=w|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:na(g,p,16),Dl:ra(g,p,16)},{h,l:f}=$s(h,f,g,p),{Bh:d,Bl:u}={Bh:d^h,Bl:u^f},{Bh:d,Bl:u}={Bh:Df(d,u,63),Bl:Uf(d,u,63)},oe[2*t]=c,oe[2*t+1]=l,oe[2*e]=u,oe[2*e+1]=d,oe[2*n]=f,oe[2*n+1]=h,oe[2*r]=p,oe[2*r+1]=g}function Kse(t,e={},n,r,s){if(_o(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class Yse extends nw{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,_o(e),_o(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=up(this.buffer)}update(e){Xa(this),e=Ks(e),bs(e);const{blockLen:n,buffer:r,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===n&&(sa(s),this.compress(s,0,!1),sa(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const d=new Uint32Array(a,u,Math.floor((i-c)/4));sa(d);for(let f=0;c+n<i;f+=s.length,c+=n)this.length+=n,this.compress(d,f,!1);sa(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Xa(this),Gx(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,Es(this.buffer.subarray(n)),sa(r),this.compress(r,0,!0),sa(r);const s=up(e);this.get().forEach((i,o)=>s[o]=Ki(i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=i,e.finished=s,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class Zse extends Yse{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Zt[0]|0,this.v0h=Zt[1]|0,this.v1l=Zt[2]|0,this.v1h=Zt[3]|0,this.v2l=Zt[4]|0,this.v2h=Zt[5]|0,this.v3l=Zt[6]|0,this.v3h=Zt[7]|0,this.v4l=Zt[8]|0,this.v4h=Zt[9]|0,this.v5l=Zt[10]|0,this.v5h=Zt[11]|0,this.v6l=Zt[12]|0,this.v6h=Zt[13]|0,this.v7l=Zt[14]|0,this.v7h=Zt[15]|0,Kse(n,e,64,16,16);let{key:r,personalization:s,salt:i}=e,o=0;if(r!==void 0&&(r=Ks(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=Ks(i);const a=up(i);this.v4l^=Ki(a[0]),this.v4h^=Ki(a[1]),this.v5l^=Ki(a[2]),this.v5h^=Ki(a[3])}if(s!==void 0){s=Ks(s);const a=up(s);this.v6l^=Ki(a[0]),this.v6h^=Ki(a[1]),this.v7l^=Ki(a[2]),this.v7h^=Ki(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:f,v6l:h,v6h:p,v7l:g,v7h:w}=this;return[e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,w]}set(e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,w){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=f|0,this.v6l=h|0,this.v6h=p|0,this.v7l=g|0,this.v7h=w|0}compress(e,n,r){this.get().forEach((c,l)=>oe[l]=c),oe.set(Zt,16);let{h:s,l:i}=FD(BigInt(this.length));oe[24]=Zt[8]^i,oe[25]=Zt[9]^s,r&&(oe[28]=~oe[28],oe[29]=~oe[29]);let o=0;const a=Gse;for(let c=0;c<12;c++)Vo(0,4,8,12,e,n+2*a[o++]),Go(0,4,8,12,e,n+2*a[o++]),Vo(1,5,9,13,e,n+2*a[o++]),Go(1,5,9,13,e,n+2*a[o++]),Vo(2,6,10,14,e,n+2*a[o++]),Go(2,6,10,14,e,n+2*a[o++]),Vo(3,7,11,15,e,n+2*a[o++]),Go(3,7,11,15,e,n+2*a[o++]),Vo(0,5,10,15,e,n+2*a[o++]),Go(0,5,10,15,e,n+2*a[o++]),Vo(1,6,11,12,e,n+2*a[o++]),Go(1,6,11,12,e,n+2*a[o++]),Vo(2,7,8,13,e,n+2*a[o++]),Go(2,7,8,13,e,n+2*a[o++]),Vo(3,4,9,14,e,n+2*a[o++]),Go(3,4,9,14,e,n+2*a[o++]);this.v0l^=oe[0]^oe[16],this.v0h^=oe[1]^oe[17],this.v1l^=oe[2]^oe[18],this.v1h^=oe[3]^oe[19],this.v2l^=oe[4]^oe[20],this.v2h^=oe[5]^oe[21],this.v3l^=oe[6]^oe[22],this.v3h^=oe[7]^oe[23],this.v4l^=oe[8]^oe[24],this.v4h^=oe[9]^oe[25],this.v5l^=oe[10]^oe[26],this.v5h^=oe[11]^oe[27],this.v6l^=oe[12]^oe[28],this.v6h^=oe[13]^oe[29],this.v7l^=oe[14]^oe[30],this.v7h^=oe[15]^oe[31],Es(oe)}destroy(){this.destroyed=!0,Es(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Qse=Cse(t=>new Zse(t)),Xse="https://rpc.walletconnect.org/v1";function JD(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from($se(n)).toString("hex")}async function Jse(t,e,n,r,s,i){switch(n.t){case"eip191":return await eie(t,e,n.s);case"eip1271":return await tie(t,e,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function eie(t,e,n){return(await Dte({hash:JD(e),signature:n})).toLowerCase()===t.toLowerCase()}async function tie(t,e,n,r,s,i){const o=$u(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:JD(e)).substring(2),f=a+d+c+u+l,h=await fetch(`${i||Xse}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:nie(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:p}=await h.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function nie(){return Date.now()+Math.floor(Math.random()*1e3)}function rie(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return kd.encode(i)}function sie(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const s=Qse(r,{dkLen:32});return kd.encode(s)}function fT(t){const e=new Uint8Array(rw(iie(t)));return kd.encode(e)}function iie(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function hT(t){const e=Buffer.from(t,"base64"),n=vne(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=une(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=Vse(i);return Ine.encode(o).replace(/=+$/,"")}function ob(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function oie(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(ob(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(ob(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(ob(r.length)),s.push(r);const i=Buffer.concat(s),o=rw(i);return Buffer.from(o).toString("hex").toUpperCase()}var aie=Object.defineProperty,cie=Object.defineProperties,lie=Object.getOwnPropertyDescriptors,pT=Object.getOwnPropertySymbols,uie=Object.prototype.hasOwnProperty,die=Object.prototype.propertyIsEnumerable,gT=(t,e,n)=>e in t?aie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fie=(t,e)=>{for(var n in e||(e={}))uie.call(e,n)&&gT(t,n,e[n]);if(pT)for(var n of pT(e))die.call(e,n)&&gT(t,n,e[n]);return t},hie=(t,e)=>cie(t,lie(e));const pie="did:pkh:",Zx=t=>t==null?void 0:t.split(":"),gie=t=>{const e=t&&Zx(t);if(e)return t.includes(pie)?e[3]:e[1]},JE=t=>{const e=t&&Zx(t);if(e)return e[2]+":"+e[3]},Fy=t=>{const e=t&&Zx(t);if(e)return e.pop()};async function mT(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,i=e8(s,s.iss),o=Fy(s.iss);return await Jse(o,i,r,JE(s.iss),n)}const e8=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=Fy(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${gie(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,f=t.requestId?`Request ID: ${t.requestId}`:void 0,h=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=jm(t.resources);if(p){const g=fp(p);s=xie(s,g)}return[n,r,"",s,"",i,o,a,c,l,u,d,f,h].filter(g=>g!=null).join(`
`)};function mie(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function yie(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function hl(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function wie(t,e,n,r={}){return n==null||n.sort((s,i)=>s.localeCompare(i)),{att:{[t]:vie(e,n,r)}}}function vie(t,e,n={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function t8(t){return hl(t),`urn:recap:${mie(t).replace(/=/g,"")}`}function fp(t){const e=yie(t.replace("urn:recap:",""));return hl(e),e}function bie(t,e,n){const r=wie(t,e,n);return t8(r)}function Eie(t){return t&&t.includes("urn:recap:")}function _ie(t,e){const n=fp(t),r=fp(e),s=Cie(n,r);return t8(s)}function Cie(t,e){hl(t),hl(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=hie(fie({},r.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),r}function xie(t="",e){hl(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,f)=>d.action.localeCompare(f.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${t?t+" ":""}${o}`}function yT(t){var e;const n=fp(t);hl(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function wT(t){const e=fp(t);hl(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function jm(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return Eie(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function n8(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function e_(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function ab(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function _r(t,...e){if(!n8(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function vT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Sie(t,e){_r(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ba(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function dd(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Aie(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Iie=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Tie(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function t_(t){if(typeof t=="string")t=Tie(t);else if(n8(t))t=n_(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Nie(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Pie(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Rie=(t,e)=>{function n(r,...s){if(_r(r),!Iie)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?_r(l):_r(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&_r(s[1]);const o=e(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");_r(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,_r(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(_r(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function bT(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!kie(e))throw new Error("invalid output, must be aligned");return e}function ET(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function Oie(t,e,n){e_(n);const r=new Uint8Array(16),s=Aie(r);return ET(s,0,BigInt(e),n),ET(s,8,BigInt(t),n),r}function kie(t){return t.byteOffset%4===0}function n_(t){return Uint8Array.from(t)}const r8=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),$ie=r8("expand 16-byte k"),Die=r8("expand 32-byte k"),Uie=Ba($ie),Lie=Ba(Die);function Ke(t,e){return t<<e|t>>>32-e}function r_(t){return t.byteOffset%4===0}const rm=64,Mie=16,s8=2**32-1,_T=new Uint32Array;function jie(t,e,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(rm),u=Ba(l),d=r_(s)&&r_(i),f=d?Ba(s):_T,h=d?Ba(i):_T;for(let p=0;p<c;o++){if(t(e,n,r,u,o,a),o>=s8)throw new Error("arx: counter overflow");const g=Math.min(rm,c-p);if(d&&g===rm){const w=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let m=0,y;m<Mie;m++)y=w+m,h[y]=f[y]^u[m];p+=rm;continue}for(let w=0,m;w<g;w++)m=p+w,i[m]=s[m]^l[w];p+=g}}function Bie(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=Nie({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return ab(s),ab(o),e_(i),e_(n),(a,c,l,u,d=0)=>{_r(a),_r(c),_r(l);const f=l.length;if(u===void 0&&(u=new Uint8Array(f)),_r(u),ab(d),d<0||d>=s8)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const h=[];let p=a.length,g,w;if(p===32)h.push(g=n_(a)),w=Lie;else if(p===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),w=Uie,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);r_(c)||h.push(c=n_(c));const m=Ba(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(w,m,Ba(c.subarray(0,16)),m),c=c.subarray(16)}const y=16-s;if(y!==c.length)throw new Error(`arx: nonce must be ${y} or 16 bytes`);if(y!==12){const _=new Uint8Array(12);_.set(c,i?0:12-c.length),c=_,h.push(c)}const v=Ba(c);return jie(t,w,m,v,l,u,d,o),dd(...h),u}}const yn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Fie{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=t_(e),_r(e,32);const n=yn(e,0),r=yn(e,2),s=yn(e,4),i=yn(e,6),o=yn(e,8),a=yn(e,10),c=yn(e,12),l=yn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=yn(e,16+2*u)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],f=o[5],h=o[6],p=o[7],g=o[8],w=o[9],m=yn(e,n+0),y=yn(e,n+2),v=yn(e,n+4),_=yn(e,n+6),E=yn(e,n+8),x=yn(e,n+10),S=yn(e,n+12),T=yn(e,n+14);let C=i[0]+(m&8191),R=i[1]+((m>>>13|y<<3)&8191),O=i[2]+((y>>>10|v<<6)&8191),L=i[3]+((v>>>7|_<<9)&8191),U=i[4]+((_>>>4|E<<12)&8191),B=i[5]+(E>>>1&8191),I=i[6]+((E>>>14|x<<2)&8191),N=i[7]+((x>>>11|S<<5)&8191),M=i[8]+((S>>>8|T<<8)&8191),k=i[9]+(T>>>5|s),$=0,j=$+C*a+R*(5*w)+O*(5*g)+L*(5*p)+U*(5*h);$=j>>>13,j&=8191,j+=B*(5*f)+I*(5*d)+N*(5*u)+M*(5*l)+k*(5*c),$+=j>>>13,j&=8191;let F=$+C*c+R*a+O*(5*w)+L*(5*g)+U*(5*p);$=F>>>13,F&=8191,F+=B*(5*h)+I*(5*f)+N*(5*d)+M*(5*u)+k*(5*l),$+=F>>>13,F&=8191;let H=$+C*l+R*c+O*a+L*(5*w)+U*(5*g);$=H>>>13,H&=8191,H+=B*(5*p)+I*(5*h)+N*(5*f)+M*(5*d)+k*(5*u),$+=H>>>13,H&=8191;let Y=$+C*u+R*l+O*c+L*a+U*(5*w);$=Y>>>13,Y&=8191,Y+=B*(5*g)+I*(5*p)+N*(5*h)+M*(5*f)+k*(5*d),$+=Y>>>13,Y&=8191;let Z=$+C*d+R*u+O*l+L*c+U*a;$=Z>>>13,Z&=8191,Z+=B*(5*w)+I*(5*g)+N*(5*p)+M*(5*h)+k*(5*f),$+=Z>>>13,Z&=8191;let se=$+C*f+R*d+O*u+L*l+U*c;$=se>>>13,se&=8191,se+=B*a+I*(5*w)+N*(5*g)+M*(5*p)+k*(5*h),$+=se>>>13,se&=8191;let ge=$+C*h+R*f+O*d+L*u+U*l;$=ge>>>13,ge&=8191,ge+=B*c+I*a+N*(5*w)+M*(5*g)+k*(5*p),$+=ge>>>13,ge&=8191;let ke=$+C*p+R*h+O*f+L*d+U*u;$=ke>>>13,ke&=8191,ke+=B*l+I*c+N*a+M*(5*w)+k*(5*g),$+=ke>>>13,ke&=8191;let Te=$+C*g+R*p+O*h+L*f+U*d;$=Te>>>13,Te&=8191,Te+=B*u+I*l+N*c+M*a+k*(5*w),$+=Te>>>13,Te&=8191;let Le=$+C*w+R*g+O*p+L*h+U*f;$=Le>>>13,Le&=8191,Le+=B*d+I*u+N*l+M*c+k*a,$+=Le>>>13,Le&=8191,$=($<<2)+$|0,$=$+j|0,j=$&8191,$=$>>>13,F+=$,i[0]=j,i[1]=F,i[2]=H,i[3]=Y,i[4]=Z,i[5]=se,i[6]=ge,i[7]=ke,i[8]=Te,i[9]=Le}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;dd(r)}update(e){vT(this),e=t_(e),_r(e);const{buffer:n,blockLen:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){dd(this.h,this.r,this.buffer,this.pad)}digestInto(e){vT(this),Sie(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function zie(t){const e=(r,s)=>t(s).update(t_(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Wie=zie(t=>new Fie(t));function qie(t,e,n,r,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],f=e[2],h=e[3],p=e[4],g=e[5],w=e[6],m=e[7],y=s,v=n[0],_=n[1],E=n[2],x=o,S=a,T=c,C=l,R=u,O=d,L=f,U=h,B=p,I=g,N=w,M=m,k=y,$=v,j=_,F=E;for(let Y=0;Y<i;Y+=2)x=x+R|0,k=Ke(k^x,16),B=B+k|0,R=Ke(R^B,12),x=x+R|0,k=Ke(k^x,8),B=B+k|0,R=Ke(R^B,7),S=S+O|0,$=Ke($^S,16),I=I+$|0,O=Ke(O^I,12),S=S+O|0,$=Ke($^S,8),I=I+$|0,O=Ke(O^I,7),T=T+L|0,j=Ke(j^T,16),N=N+j|0,L=Ke(L^N,12),T=T+L|0,j=Ke(j^T,8),N=N+j|0,L=Ke(L^N,7),C=C+U|0,F=Ke(F^C,16),M=M+F|0,U=Ke(U^M,12),C=C+U|0,F=Ke(F^C,8),M=M+F|0,U=Ke(U^M,7),x=x+O|0,F=Ke(F^x,16),N=N+F|0,O=Ke(O^N,12),x=x+O|0,F=Ke(F^x,8),N=N+F|0,O=Ke(O^N,7),S=S+L|0,k=Ke(k^S,16),M=M+k|0,L=Ke(L^M,12),S=S+L|0,k=Ke(k^S,8),M=M+k|0,L=Ke(L^M,7),T=T+U|0,$=Ke($^T,16),B=B+$|0,U=Ke(U^B,12),T=T+U|0,$=Ke($^T,8),B=B+$|0,U=Ke(U^B,7),C=C+R|0,j=Ke(j^C,16),I=I+j|0,R=Ke(R^I,12),C=C+R|0,j=Ke(j^C,8),I=I+j|0,R=Ke(R^I,7);let H=0;r[H++]=o+x|0,r[H++]=a+S|0,r[H++]=c+T|0,r[H++]=l+C|0,r[H++]=u+R|0,r[H++]=d+O|0,r[H++]=f+L|0,r[H++]=h+U|0,r[H++]=p+B|0,r[H++]=g+I|0,r[H++]=w+N|0,r[H++]=m+M|0,r[H++]=y+k|0,r[H++]=v+$|0,r[H++]=_+j|0,r[H++]=E+F|0}const Hie=Bie(qie,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Vie=new Uint8Array(16),CT=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Vie.subarray(n))},Gie=new Uint8Array(32);function xT(t,e,n,r,s){const i=t(e,n,Gie),o=Wie.create(i);s&&CT(o,s),CT(o,r);const a=Oie(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return dd(i,a),c}const Kie=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=bT(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const c=xT(t,e,n,a,r);return i.set(c,o),dd(c),i},decrypt(s,i){i=bT(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=xT(t,e,n,o,r);if(!Pie(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),dd(c),i}}),i8=Rie({blockSize:64,nonceLength:12,tagLength:16},Kie(Hie));let o8=class extends nw{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Vx(e);const r=Ks(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Es(i)}update(e){return Xa(this),this.iHash.update(e),this}digestInto(e){Xa(this),bs(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const sw=(t,e,n)=>new o8(t,e).update(n).digest();sw.create=(t,e)=>new o8(t,e);function Yie(t,e,n){return Vx(t),n===void 0&&(n=new Uint8Array(t.outputLen)),sw(t,Ks(n),Ks(e))}const cb=Uint8Array.from([0]),ST=Uint8Array.of();function Zie(t,e,n,r=32){Vx(t),_o(r);const s=t.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=ST);const o=new Uint8Array(i*s),a=sw.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)cb[0]=u+1,c.update(u===0?ST:l).update(n).update(cb).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),Es(l,cb),o.slice(0,r)}const Qie=(t,e,n,r,s)=>Zie(t,Yie(t,e,n),r,s),iw=rw,Qx=BigInt(0),s_=BigInt(1);function zy(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function sm(t){const e=t.toString(16);return e.length&1?"0"+e:e}function a8(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Qx:BigInt("0x"+t)}function ow(t){return a8(dp(t))}function Wy(t){return bs(t),a8(dp(Uint8Array.from(t).reverse()))}function Xx(t,e){return Kx(t.toString(16).padStart(e*2,"0"))}function Jx(t,e){return Xx(t,e).reverse()}function Er(t,e,n){let r;if(typeof e=="string")try{r=Kx(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Hx(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const lb=t=>typeof t=="bigint"&&Qx<=t;function Xie(t,e,n){return lb(t)&&lb(e)&&lb(n)&&e<=t&&t<n}function i_(t,e,n,r){if(!Xie(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Jie(t){let e;for(e=0;t>Qx;t>>=s_,e+=1);return e}const aw=t=>(s_<<BigInt(t))-s_;function eoe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=f=>new Uint8Array(f),s=f=>Uint8Array.of(f);let i=r(t),o=r(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...f)=>n(o,i,...f),u=(f=r(0))=>{o=l(s(0),f),i=l(),f.length!==0&&(o=l(s(1),f),i=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){i=l();const p=i.slice();h.push(p),f+=i.length}return Pc(...h)};return(f,h)=>{c(),u(f);let p;for(;!(p=h(d()));)u();return c(),p}}function cw(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function AT(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Sr=BigInt(0),tr=BigInt(1),Rc=BigInt(2),toe=BigInt(3),c8=BigInt(4),l8=BigInt(5),u8=BigInt(8);function ds(t,e){const n=t%e;return n>=Sr?n:e+n}function Os(t,e,n){let r=t;for(;e-- >Sr;)r*=r,r%=n;return r}function IT(t,e){if(t===Sr)throw new Error("invert: expected non-zero number");if(e<=Sr)throw new Error("invert: expected positive modulus, got "+e);let n=ds(t,e),r=e,s=Sr,i=tr;for(;n!==Sr;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==tr)throw new Error("invert: does not exist");return ds(s,e)}function d8(t,e){const n=(t.ORDER+tr)/c8,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function noe(t,e){const n=(t.ORDER-l8)/u8,r=t.mul(e,Rc),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,Rc),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function roe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-tr,n=0;for(;e%Rc===Sr;)e/=Rc,n++;let r=Rc;const s=Ud(t);for(;TT(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return d8;let i=s.pow(r,e);const o=(e+tr)/Rc;return function(a,c){if(a.is0(c))return c;if(TT(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),d=a.pow(c,e),f=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let h=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(h++,p=a.sqr(p),h===l)throw new Error("Cannot find square root");const g=tr<<BigInt(l-h-1),w=a.pow(u,g);l=h,u=a.sqr(w),d=a.mul(d,u),f=a.mul(f,w)}return f}}function soe(t){return t%c8===toe?d8:t%u8===l8?noe:roe(t)}const ioe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ooe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=ioe.reduce((r,s)=>(r[s]="function",r),e);return cw(t,n),t}function aoe(t,e,n){if(n<Sr)throw new Error("invalid exponent, negatives unsupported");if(n===Sr)return t.ONE;if(n===tr)return e;let r=t.ONE,s=e;for(;n>Sr;)n&tr&&(r=t.mul(r,s)),s=t.sqr(s),n>>=tr;return r}function f8(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function TT(t,e){const n=(t.ORDER-tr)/Rc,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function coe(t,e){e!==void 0&&_o(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ud(t,e,n=!1,r={}){if(t<=Sr)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(s=u.BITS),u.sqrt&&(i=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:a}=coe(t,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:aw(o),ZERO:Sr,ONE:tr,create:u=>ds(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Sr<=u&&u<t},is0:u=>u===Sr,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&tr)===tr,neg:u=>ds(-u,t),eql:(u,d)=>u===d,sqr:u=>ds(u*u,t),add:(u,d)=>ds(u+d,t),sub:(u,d)=>ds(u-d,t),mul:(u,d)=>ds(u*d,t),pow:(u,d)=>aoe(l,u,d),div:(u,d)=>ds(u*IT(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>IT(u,t),sqrt:i||(u=>(c||(c=soe(t)),c(l,u))),toBytes:u=>n?Jx(u,a):Xx(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?Wy(u):ow(u)},invertBatch:u=>f8(l,u),cmov:(u,d,f)=>f?d:u});return Object.freeze(l)}function h8(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function p8(t){const e=h8(t);return e+Math.ceil(e/2)}function loe(t,e,n=!1){const r=t.length,s=h8(e),i=p8(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?Wy(t):ow(t),a=ds(o,e-tr)+tr;return n?Jx(a,s):Xx(a,s)}const fd=BigInt(0),Oc=BigInt(1);function nh(t,e){const n=e.negate();return t?n:e}function uoe(t,e,n){const r=i=>i.pz,s=f8(t.Fp,n.map(r));return n.map((i,o)=>i.toAffine(s[o])).map(t.fromAffine)}function g8(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function ub(t,e){g8(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=aw(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function NT(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=Oc);const l=e*r,u=l+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:l}}function doe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function foe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const db=new WeakMap,m8=new WeakMap;function fb(t){return m8.get(t)||1}function PT(t){if(t!==fd)throw new Error("invalid wNAF")}function hoe(t,e){return{constTimeNegate:nh,hasPrecomputes(n){return fb(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>fd;)r&Oc&&(s=s.add(i)),i=i.double(),r>>=Oc;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=ub(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=ub(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:p}=NT(s,c,a);s=l,d?o=o.add(nh(h,r[p])):i=i.add(nh(f,r[u]))}return PT(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=ub(n,e);for(let a=0;a<o.windows&&s!==fd;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=NT(s,a,o);if(s=c,!u){const f=r[l];i=i.add(d?f.negate():f)}}return PT(s),i},getPrecomputes(n,r,s){let i=db.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),db.set(r,i))),i},wNAFCached(n,r,s){const i=fb(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=fb(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){g8(r,e),m8.set(n,r),db.delete(n)}}}function poe(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>fd||r>fd;)n&Oc&&(i=i.add(s)),r&Oc&&(o=o.add(s)),s=s.double(),n>>=Oc,r>>=Oc;return{p1:i,p2:o}}function goe(t,e,n,r){doe(n,t),foe(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Jie(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=aw(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let f=o;for(let h=d;h>=0;h-=c){u.fill(o);for(let g=0;g<i;g++){const w=r[g],m=Number(w>>BigInt(h)&l);u[m]=u[m].add(n[g])}let p=o;for(let g=u.length-1,w=o;g>0;g--)w=w.add(u[g]),p=p.add(w);if(f=f.add(p),h!==0)for(let g=0;g<c;g++)f=f.double()}return f}function RT(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return ooe(e),e}else return Ud(t)}function moe(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>fd))throw new Error(`CURVE.${o} must be positive bigint`)}const r=RT(e.p,n.Fp),s=RT(e.n,n.Fn),i=["Gx","Gy","a","b"];for(const o of i)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const gf=BigInt(0),ql=BigInt(1),im=BigInt(2);function yoe(t){return cw(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function woe(t){const e=yoe(t),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||Dd,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),f=BigInt(a?121665:39081),h=a?im**BigInt(254):im**BigInt(447),p=a?BigInt(8)*im**BigInt(251)-ql:BigInt(4)*im**BigInt(445)-ql,g=h+p+ql,w=C=>ds(C,n),m=y(d);function y(C){return Jx(w(C),u)}function v(C){const R=Er("u coordinate",C,u);return a&&(R[31]&=127),w(Wy(R))}function _(C){return Wy(s(Er("scalar",C,u)))}function E(C,R){const O=T(v(R),_(C));if(O===gf)throw new Error("invalid private or public key received");return y(O)}function x(C){return E(C,m)}function S(C,R,O){const L=w(C*(R-O));return R=w(R-L),O=w(O+L),{x_2:R,x_3:O}}function T(C,R){i_("u",C,gf,n),i_("scalar",R,h,g);const O=R,L=C;let U=ql,B=gf,I=C,N=ql,M=gf;for(let $=BigInt(l-1);$>=gf;$--){const j=O>>$&ql;M^=j,{x_2:U,x_3:I}=S(M,U,I),{x_2:B,x_3:N}=S(M,B,N),M=j;const F=U+B,H=w(F*F),Y=U-B,Z=w(Y*Y),se=H-Z,ge=I+N,ke=I-N,Te=w(ke*F),Le=w(ge*Y),pt=Te+Le,zt=Te-Le;I=w(pt*pt),N=w(L*w(zt*zt)),U=w(H*Z),B=w(se*(H+w(f*se)))}({x_2:U,x_3:I}=S(M,U,I)),{x_2:B,x_3:N}=S(M,B,N);const k=i(B);return w(U*k)}return{scalarMult:E,scalarMultBase:x,getSharedSecret:(C,R)=>E(C,R),getPublicKey:C=>x(C),utils:{randomPrivateKey:()=>c(u)},GuBytes:m.slice()}}BigInt(0);const voe=BigInt(1),OT=BigInt(2),boe=BigInt(3),Eoe=BigInt(5);BigInt(8);const y8={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function _oe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=y8.p,o=t*t%i*t%i,a=Os(o,OT,i)*o%i,c=Os(a,voe,i)*t%i,l=Os(c,Eoe,i)*c%i,u=Os(l,e,i)*l%i,d=Os(u,n,i)*u%i,f=Os(d,r,i)*d%i,h=Os(f,s,i)*f%i,p=Os(h,s,i)*f%i,g=Os(p,e,i)*l%i;return{pow_p_5_8:Os(g,OT,i)*t%i,b2:o}}function Coe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const o_=(()=>{const t=y8.p;return woe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=_oe(e);return ds(Os(n,boe,t)*r,t)},adjustScalarBytes:Coe})})();function kT(t){t.lowS!==void 0&&zy("lowS",t.lowS),t.prehash!==void 0&&zy("prehash",t.prehash)}class xoe extends Error{constructor(e=""){super(e)}}const Ji={Err:xoe,_tlv:{encode:(t,e)=>{const{Err:n}=Ji;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=sm(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?sm(s.length/2|128):"";return sm(t)+i+s+e},decode(t,e){const{Err:n}=Ji;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Ji;if(t<rh)throw new e("integer: negative integers are not allowed");let n=sm(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Ji;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return ow(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Ji,s=Er("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Ji,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},rh=BigInt(0),sh=BigInt(1),Soe=BigInt(2),om=BigInt(3),Aoe=BigInt(4);function Ioe(t,e,n){function r(s){const i=t.sqr(s),o=t.mul(i,s);return t.add(t.add(o,t.mul(s,e)),n)}return r}function w8(t,e,n){const{BYTES:r}=t;function s(i){let o;if(typeof i=="bigint")o=i;else{let a=Er("private key",i);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function Toe(t,e={}){const{Fp:n,Fn:r}=moe("weierstrass",t,e),{h:s,n:i}=t;cw(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(T,C,R){const{x:O,y:L}=C.toAffine(),U=n.toBytes(O);if(zy("isCompressed",R),R){a();const B=!n.isOdd(L);return Pc(v8(B),U)}else return Pc(Uint8Array.of(4),U,n.toBytes(L))}function l(T){bs(T);const C=n.BYTES,R=C+1,O=2*C+1,L=T.length,U=T[0],B=T.subarray(1);if(L===R&&(U===2||U===3)){const I=n.fromBytes(B);if(!n.isValid(I))throw new Error("bad point: is not on curve, wrong x");const N=f(I);let M;try{M=n.sqrt(N)}catch($){const j=$ instanceof Error?": "+$.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}a();const k=n.isOdd(M);return(U&1)===1!==k&&(M=n.neg(M)),{x:I,y:M}}else if(L===O&&U===4){const I=n.fromBytes(B.subarray(C*0,C*1)),N=n.fromBytes(B.subarray(C*1,C*2));if(!h(I,N))throw new Error("bad point: is not on curve");return{x:I,y:N}}else throw new Error(`bad point: got length ${L}, expected compressed=${R} or uncompressed=${O}`)}const u=e.toBytes||c,d=e.fromBytes||l,f=Ioe(n,t.a,t.b);function h(T,C){const R=n.sqr(C),O=f(T);return n.eql(R,O)}if(!h(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(t.a,om),Aoe),g=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(p,g)))throw new Error("bad curve params: a or b");function w(T,C,R=!1){if(!n.isValid(C)||R&&n.is0(C))throw new Error(`bad point coordinate ${T}`);return C}function m(T){if(!(T instanceof E))throw new Error("ProjectivePoint expected")}const y=AT((T,C)=>{const{px:R,py:O,pz:L}=T;if(n.eql(L,n.ONE))return{x:R,y:O};const U=T.is0();C==null&&(C=U?n.ONE:n.inv(L));const B=n.mul(R,C),I=n.mul(O,C),N=n.mul(L,C);if(U)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:B,y:I}}),v=AT(T=>{if(T.is0()){if(e.allowInfinityPoint&&!n.is0(T.py))return;throw new Error("bad point: ZERO")}const{x:C,y:R}=T.toAffine();if(!n.isValid(C)||!n.isValid(R))throw new Error("bad point: x or y not field elements");if(!h(C,R))throw new Error("bad point: equation left != right");if(!T.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function _(T,C,R,O,L){return R=new E(n.mul(R.px,T),R.py,R.pz),C=nh(O,C),R=nh(L,R),C.add(R)}class E{constructor(C,R,O){this.px=w("x",C),this.py=w("y",R,!0),this.pz=w("z",O),Object.freeze(this)}static fromAffine(C){const{x:R,y:O}=C||{};if(!C||!n.isValid(R)||!n.isValid(O))throw new Error("invalid affine point");if(C instanceof E)throw new Error("projective point not allowed");return n.is0(R)&&n.is0(O)?E.ZERO:new E(R,O,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){return uoe(E,"pz",C)}static fromBytes(C){return bs(C),E.fromHex(C)}static fromHex(C){const R=E.fromAffine(d(Er("pointHex",C)));return R.assertValidity(),R}static fromPrivateKey(C){const R=w8(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return E.BASE.multiply(R(C))}static msm(C,R){return goe(E,r,C,R)}precompute(C=8,R=!0){return S.setWindowSize(this,C),R||this.multiply(om),this}_setWindowSize(C){this.precompute(C)}assertValidity(){v(this)}hasEvenY(){const{y:C}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(C)}equals(C){m(C);const{px:R,py:O,pz:L}=this,{px:U,py:B,pz:I}=C,N=n.eql(n.mul(R,I),n.mul(U,L)),M=n.eql(n.mul(O,I),n.mul(B,L));return N&&M}negate(){return new E(this.px,n.neg(this.py),this.pz)}double(){const{a:C,b:R}=t,O=n.mul(R,om),{px:L,py:U,pz:B}=this;let I=n.ZERO,N=n.ZERO,M=n.ZERO,k=n.mul(L,L),$=n.mul(U,U),j=n.mul(B,B),F=n.mul(L,U);return F=n.add(F,F),M=n.mul(L,B),M=n.add(M,M),I=n.mul(C,M),N=n.mul(O,j),N=n.add(I,N),I=n.sub($,N),N=n.add($,N),N=n.mul(I,N),I=n.mul(F,I),M=n.mul(O,M),j=n.mul(C,j),F=n.sub(k,j),F=n.mul(C,F),F=n.add(F,M),M=n.add(k,k),k=n.add(M,k),k=n.add(k,j),k=n.mul(k,F),N=n.add(N,k),j=n.mul(U,B),j=n.add(j,j),k=n.mul(j,F),I=n.sub(I,k),M=n.mul(j,$),M=n.add(M,M),M=n.add(M,M),new E(I,N,M)}add(C){m(C);const{px:R,py:O,pz:L}=this,{px:U,py:B,pz:I}=C;let N=n.ZERO,M=n.ZERO,k=n.ZERO;const $=t.a,j=n.mul(t.b,om);let F=n.mul(R,U),H=n.mul(O,B),Y=n.mul(L,I),Z=n.add(R,O),se=n.add(U,B);Z=n.mul(Z,se),se=n.add(F,H),Z=n.sub(Z,se),se=n.add(R,L);let ge=n.add(U,I);return se=n.mul(se,ge),ge=n.add(F,Y),se=n.sub(se,ge),ge=n.add(O,L),N=n.add(B,I),ge=n.mul(ge,N),N=n.add(H,Y),ge=n.sub(ge,N),k=n.mul($,se),N=n.mul(j,Y),k=n.add(N,k),N=n.sub(H,k),k=n.add(H,k),M=n.mul(N,k),H=n.add(F,F),H=n.add(H,F),Y=n.mul($,Y),se=n.mul(j,se),H=n.add(H,Y),Y=n.sub(F,Y),Y=n.mul($,Y),se=n.add(se,Y),F=n.mul(H,se),M=n.add(M,F),F=n.mul(ge,se),N=n.mul(Z,N),N=n.sub(N,F),F=n.mul(Z,H),k=n.mul(ge,k),k=n.add(k,F),new E(N,M,k)}subtract(C){return this.add(C.negate())}is0(){return this.equals(E.ZERO)}multiply(C){const{endo:R}=e;if(!r.isValidNot0(C))throw new Error("invalid scalar: out of range");let O,L;const U=B=>S.wNAFCached(this,B,E.normalizeZ);if(R){const{k1neg:B,k1:I,k2neg:N,k2:M}=R.splitScalar(C),{p:k,f:$}=U(I),{p:j,f:F}=U(M);L=$.add(F),O=_(R.beta,k,j,B,N)}else{const{p:B,f:I}=U(C);O=B,L=I}return E.normalizeZ([O,L])[0]}multiplyUnsafe(C){const{endo:R}=e,O=this;if(!r.isValid(C))throw new Error("invalid scalar: out of range");if(C===rh||O.is0())return E.ZERO;if(C===sh)return O;if(S.hasPrecomputes(this))return this.multiply(C);if(R){const{k1neg:L,k1:U,k2neg:B,k2:I}=R.splitScalar(C),{p1:N,p2:M}=poe(E,O,U,I);return _(R.beta,N,M,L,B)}else return S.wNAFCachedUnsafe(O,C)}multiplyAndAddUnsafe(C,R,O){const L=this.multiplyUnsafe(R).add(C.multiplyUnsafe(O));return L.is0()?void 0:L}toAffine(C){return y(this,C)}isTorsionFree(){const{isTorsionFree:C}=e;return s===sh?!0:C?C(E,this):S.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:C}=e;return s===sh?this:C?C(E,this):this.multiplyUnsafe(s)}toBytes(C=!0){return zy("isCompressed",C),this.assertValidity(),u(E,this,C)}toRawBytes(C=!0){return this.toBytes(C)}toHex(C=!0){return dp(this.toBytes(C))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}E.BASE=new E(t.Gx,t.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO),E.Fp=n,E.Fn=r;const x=r.BITS,S=hoe(E,e.endo?Math.ceil(x/2):x);return E}function v8(t){return Uint8Array.of(t?2:3)}function Noe(t,e,n={}){cw(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||Dd,s=e.hmac||((O,...L)=>sw(e.hash,O,Pc(...L))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(O){const L=a>>sh;return O>L}function u(O){return l(O)?o.neg(O):O}function d(O,L){if(!o.isValidNot0(L))throw new Error(`invalid signature ${O}: out of range 1..CURVE.n`)}class f{constructor(L,U,B){d("r",L),d("s",U),this.r=L,this.s=U,B!=null&&(this.recovery=B),Object.freeze(this)}static fromCompact(L){const U=o.BYTES,B=Er("compactSignature",L,U*2);return new f(o.fromBytes(B.subarray(0,U)),o.fromBytes(B.subarray(U,U*2)))}static fromDER(L){const{r:U,s:B}=Ji.toSig(Er("DER",L));return new f(U,B)}assertValidity(){}addRecoveryBit(L){return new f(this.r,this.s,L)}recoverPublicKey(L){const U=i.ORDER,{r:B,s:I,recovery:N}=this;if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");if(a*Soe<U&&N>1)throw new Error("recovery id is ambiguous for h>1 curve");const M=N===2||N===3?B+a:B;if(!i.isValid(M))throw new Error("recovery id 2 or 3 invalid");const k=i.toBytes(M),$=t.fromHex(Pc(v8((N&1)===0),k)),j=o.inv(M),F=v(Er("msgHash",L)),H=o.create(-F*j),Y=o.create(I*j),Z=t.BASE.multiplyUnsafe(H).add($.multiplyUnsafe(Y));if(Z.is0())throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,o.neg(this.s),this.recovery):this}toBytes(L){if(L==="compact")return Pc(o.toBytes(this.r),o.toBytes(this.s));if(L==="der")return Kx(Ji.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return dp(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return dp(this.toBytes("compact"))}}const h=w8(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(O){try{return h(O),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const O=a;return loe(r(p8(O)),O)},precompute(O=8,L=t.BASE){return L.precompute(O,!1)}};function g(O,L=!0){return t.fromPrivateKey(O).toBytes(L)}function w(O){if(typeof O=="bigint")return!1;if(O instanceof t)return!0;const L=Er("key",O).length,U=i.BYTES,B=U+1,I=2*U+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===B))return L===B||L===I}function m(O,L,U=!0){if(w(O)===!0)throw new Error("first arg must be private key");if(w(L)===!1)throw new Error("second arg must be public key");return t.fromHex(L).multiply(h(O)).toBytes(U)}const y=e.bits2int||function(O){if(O.length>8192)throw new Error("input is too large");const L=ow(O),U=O.length*8-c;return U>0?L>>BigInt(U):L},v=e.bits2int_modN||function(O){return o.create(y(O))},_=aw(c);function E(O){return i_("num < 2^"+c,O,rh,_),o.toBytes(O)}function x(O,L,U=S){if(["recovered","canonical"].some(Z=>Z in U))throw new Error("sign() legacy options not supported");const{hash:B}=e;let{lowS:I,prehash:N,extraEntropy:M}=U;I==null&&(I=!0),O=Er("msgHash",O),kT(U),N&&(O=Er("prehashed msgHash",B(O)));const k=v(O),$=h(L),j=[E($),E(k)];if(M!=null&&M!==!1){const Z=M===!0?r(i.BYTES):M;j.push(Er("extraEntropy",Z))}const F=Pc(...j),H=k;function Y(Z){const se=y(Z);if(!o.isValidNot0(se))return;const ge=o.inv(se),ke=t.BASE.multiply(se).toAffine(),Te=o.create(ke.x);if(Te===rh)return;const Le=o.create(ge*o.create(H+Te*$));if(Le===rh)return;let pt=(ke.x===Te?0:2)|Number(ke.y&sh),zt=Le;return I&&l(Le)&&(zt=u(Le),pt^=1),new f(Te,zt,pt)}return{seed:F,k2sig:Y}}const S={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function C(O,L,U=S){const{seed:B,k2sig:I}=x(O,L,U);return eoe(e.hash.outputLen,o.BYTES,s)(B,I)}t.BASE.precompute(8);function R(O,L,U,B=T){const I=O;L=Er("msgHash",L),U=Er("publicKey",U),kT(B);const{lowS:N,prehash:M,format:k}=B;if("strict"in B)throw new Error("options.strict was renamed to lowS");if(k!==void 0&&!["compact","der","js"].includes(k))throw new Error('format must be "compact", "der" or "js"');const $=typeof I=="string"||Hx(I),j=!$&&!k&&typeof I=="object"&&I!==null&&typeof I.r=="bigint"&&typeof I.s=="bigint";if(!$&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,H;try{if(j)if(k===void 0||k==="js")F=new f(I.r,I.s);else throw new Error("invalid format");if($){try{k!=="compact"&&(F=f.fromDER(I))}catch(pt){if(!(pt instanceof Ji.Err))throw pt}!F&&k!=="der"&&(F=f.fromCompact(I))}H=t.fromHex(U)}catch{return!1}if(!F||N&&F.hasHighS())return!1;M&&(L=e.hash(L));const{r:Y,s:Z}=F,se=v(L),ge=o.inv(Z),ke=o.create(se*ge),Te=o.create(Y*ge),Le=t.BASE.multiplyUnsafe(ke).add(H.multiplyUnsafe(Te));return Le.is0()?!1:o.create(Le.x)===Y}return Object.freeze({getPublicKey:g,getSharedSecret:m,sign:C,verify:R,utils:p,Point:t,Signature:f})}function Poe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Ud(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function Roe(t){const{CURVE:e,curveOpts:n}=Poe(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function Ooe(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function koe(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=Roe(t),s=Toe(e,n),i=Noe(s,r,n);return Ooe(t,i)}function a_(t,e){const n=r=>koe({...t,hash:r});return{...n(e),create:n}}const b8={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},E8={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},_8={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},$oe=Ud(b8.p),Doe=Ud(E8.p),Uoe=Ud(_8.p),Loe=a_({...b8,Fp:$oe,lowS:!1},rw);a_({...E8,Fp:Doe,lowS:!1},Hse),a_({..._8,Fp:Uoe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},qse);const Moe=Loe,C8="base10",nr="base16",qs="base64pad",aa="base64url",ig="utf8",x8=0,lo=1,og=2,joe=0,$T=1,ih=12,eS=32;function Boe(){const t=o_.utils.randomPrivateKey(),e=o_.getPublicKey(t);return{privateKey:Pr(t,nr),publicKey:Pr(e,nr)}}function c_(){const t=Dd(eS);return Pr(t,nr)}function Foe(t,e){const n=o_.getSharedSecret(gs(t,nr),gs(e,nr)),r=Qie(iw,n,void 0,void 0,eS);return Pr(r,nr)}function Bm(t){const e=iw(gs(t,nr));return Pr(e,nr)}function vi(t){const e=iw(gs(t,ig));return Pr(e,nr)}function S8(t){return gs(`${t}`,C8)}function pl(t){return Number(Pr(t,C8))}function A8(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function I8(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function zoe(t){const e=S8(typeof t.type<"u"?t.type:x8);if(pl(e)===lo&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?gs(t.senderPublicKey,nr):void 0,r=typeof t.iv<"u"?gs(t.iv,nr):Dd(ih),s=gs(t.symKey,nr),i=i8(s,r).encrypt(gs(t.message,ig)),o=T8({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===aa?A8(o):o}function Woe(t){const e=gs(t.symKey,nr),{sealed:n,iv:r}=hp({encoded:t.encoded,encoding:t.encoding}),s=i8(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return Pr(s,ig)}function qoe(t,e){const n=S8(og),r=Dd(ih),s=gs(t,ig),i=T8({type:n,sealed:s,iv:r});return e===aa?A8(i):i}function Hoe(t,e){const{sealed:n}=hp({encoded:t,encoding:e});return Pr(n,ig)}function T8(t){if(pl(t.type)===og)return Pr(th([t.type,t.sealed]),qs);if(pl(t.type)===lo){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Pr(th([t.type,t.senderPublicKey,t.iv,t.sealed]),qs)}return Pr(th([t.type,t.iv,t.sealed]),qs)}function hp(t){const e=(t.encoding||qs)===aa?I8(t.encoded):t.encoded,n=gs(e,qs),r=n.slice(joe,$T),s=$T;if(pl(r)===lo){const c=s+eS,l=c+ih,u=n.slice(s,c),d=n.slice(c,l),f=n.slice(l);return{type:r,sealed:f,iv:d,senderPublicKey:u}}if(pl(r)===og){const c=n.slice(s),l=Dd(ih);return{type:r,sealed:c,iv:l}}const i=s+ih,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function Voe(t,e){const n=hp({encoded:t,encoding:e==null?void 0:e.encoding});return N8({type:pl(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Pr(n.senderPublicKey,nr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function N8(t){const e=(t==null?void 0:t.type)||x8;if(e===lo){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function DT(t){return t.type===lo&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function UT(t){return t.type===og}function Goe(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return th([new Uint8Array([4]),e,n])}function Koe(t,e){const[n,r,s]=t.split("."),i=Buffer.from(I8(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=iw(c),u=Goe(e);if(!Moe.verify(th([o,a]),l,u))throw new Error("Invalid signature");return qE(t).payload}const Yoe="irn";function qy(t){return(t==null?void 0:t.relay)||{protocol:Yoe}}function Lf(t){const e=xre[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function Zoe(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=t[s];n[i]=o}}),n}function LT(t){if(!t.includes("wc:")){const l=BD(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(i),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:Qoe(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:Zoe(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Qoe(t){return t.startsWith("//")?t.substring(2):t}function Xoe(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const i=s,o=n+e+i;t[i]&&(r[o]=t[i])}),r}function MT(t){const e=new URLSearchParams,n=Xoe(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function am(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Joe=Object.defineProperty,eae=Object.defineProperties,tae=Object.getOwnPropertyDescriptors,jT=Object.getOwnPropertySymbols,nae=Object.prototype.hasOwnProperty,rae=Object.prototype.propertyIsEnumerable,BT=(t,e,n)=>e in t?Joe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sae=(t,e)=>{for(var n in e||(e={}))nae.call(e,n)&&BT(t,n,e[n]);if(jT)for(var n of jT(e))rae.call(e,n)&&BT(t,n,e[n]);return t},iae=(t,e)=>eae(t,tae(e));function Ld(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function oae(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Ld(n.accounts))}),e}function aae(t,e){const n=[];return Object.values(t).forEach(r=>{Ld(r.accounts).includes(e)&&n.push(...r.methods)}),n}function cae(t,e){const n=[];return Object.values(t).forEach(r=>{Ld(r.accounts).includes(e)&&n.push(...r.events)}),n}function lw(t){return t.includes(":")}function _u(t){return lw(t)?t.split(":")[0]:t}function FT(t){var e,n,r;const s={};if(!Fa(t))return s;for(const[i,o]of Object.entries(t)){const a=lw(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=_u(i);s[u]=iae(sae({},s[u]),{chains:Ti(a,(e=s[u])==null?void 0:e.chains),methods:Ti(c,(n=s[u])==null?void 0:n.methods),events:Ti(l,(r=s[u])==null?void 0:r.events)})}return s}function lae(t){const e={};return t==null||t.forEach(n=>{var r;const[s,i]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${i}`)}),e}function zT(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=lae(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=Ti(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}function uae(t,e){var n,r,s,i,o,a;const c=FT(t),l=FT(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const f of d)u[f]={chains:Ti((n=c[f])==null?void 0:n.chains,(r=l[f])==null?void 0:r.chains),methods:Ti((s=c[f])==null?void 0:s.methods,(i=l[f])==null?void 0:i.methods),events:Ti((o=c[f])==null?void 0:o.events,(a=l[f])==null?void 0:a.events)};return u}const dae={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},fae={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ee(t,e){const{message:n,code:r}=fae[t];return{message:e?`${n} ${e}`:n,code:r}}function At(t,e){const{message:n,code:r}=dae[t];return{message:e?`${n} ${e}`:n,code:r}}function uo(t,e){return!!Array.isArray(t)}function Fa(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function _n(t){return typeof t>"u"}function Gt(t,e){return e&&_n(t)?!0:typeof t=="string"&&!!t.trim().length}function tS(t,e){return e&&_n(t)?!0:typeof t=="number"&&!isNaN(t)}function hae(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let i=!0;return Nc(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=Ld(a),d=n[o];(!Nc(DD(o,d),u)||!Nc(d.methods,c)||!Nc(d.events,l))&&(i=!1)}),i):!1}function Hy(t){return Gt(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function pae(t){if(Gt(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&Hy(n)}}return!1}function gae(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Gt(t,!1)){if(e(t))return!0;const n=BD(t);return e(n)}}catch{}return!1}function mae(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function yae(t){return t==null?void 0:t.topic}function wae(t,e){let n=null;return Gt(t==null?void 0:t.publicKey,!1)||(n=ee("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function WT(t){let e=!0;return uo(t)?t.length&&(e=t.every(n=>Gt(n,!1))):e=!1,e}function vae(t,e,n){let r=null;return uo(e)&&e.length?e.forEach(s=>{r||Hy(s)||(r=At("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):Hy(t)||(r=At("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function bae(t,e,n){let r=null;return Object.entries(t).forEach(([s,i])=>{if(r)return;const o=vae(s,DD(s,i),`${e} ${n}`);o&&(r=o)}),r}function Eae(t,e){let n=null;return uo(t)?t.forEach(r=>{n||pae(r)||(n=At("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=At("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function _ae(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=Eae(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function Cae(t,e){let n=null;return WT(t==null?void 0:t.methods)?WT(t==null?void 0:t.events)||(n=At("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=At("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function P8(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=Cae(r,`${e}, namespace`);s&&(n=s)}),n}function xae(t,e,n){let r=null;if(t&&Fa(t)){const s=P8(t,e);s&&(r=s);const i=bae(t,e,n);i&&(r=i)}else r=ee("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function hb(t,e){let n=null;if(t&&Fa(t)){const r=P8(t,e);r&&(n=r);const s=_ae(t,e);s&&(n=s)}else n=ee("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function R8(t){return Gt(t.protocol,!0)}function Sae(t,e){let n=!1;return t?t&&uo(t)&&t.length&&t.forEach(r=>{n=R8(r)}):n=!0,n}function Aae(t){return typeof t=="number"}function mr(t){return typeof t<"u"&&typeof t!==null}function Iae(t){return!(!t||typeof t!="object"||!t.code||!tS(t.code,!1)||!t.message||!Gt(t.message,!1))}function Tae(t){return!(_n(t)||!Gt(t.method,!1))}function Nae(t){return!(_n(t)||_n(t.result)&&_n(t.error)||!tS(t.id,!1)||!Gt(t.jsonrpc,!1))}function Pae(t){return!(_n(t)||!Gt(t.name,!1))}function qT(t,e){return!(!Hy(e)||!oae(t).includes(e))}function Rae(t,e,n){return Gt(n,!1)?aae(t,e).includes(n):!1}function Oae(t,e,n){return Gt(n,!1)?cae(t,e).includes(n):!1}function HT(t,e,n){let r=null;const s=kae(t),i=$ae(e),o=Object.keys(s),a=Object.keys(i),c=VT(Object.keys(t)),l=VT(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=ee("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Nc(o,a)||(r=ee("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const f=Ld(e[d].accounts);f.includes(d)||(r=ee("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${f.toString()}`))}),o.forEach(d=>{r||(Nc(s[d].methods,i[d].methods)?Nc(s[d].events,i[d].events)||(r=ee("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=ee("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function kae(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function VT(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function $ae(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Ld(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(i=>i.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Dae(t,e){return tS(t,!1)&&t<=e.max&&t>=e.min}function GT(){const t=rg();return new Promise(e=>{switch(t){case Hr.browser:e(Uae());break;case Hr.reactNative:e(Lae());break;case Hr.node:e(Mae());break;default:e(!0)}})}function Uae(){return $d()&&(navigator==null?void 0:navigator.onLine)}async function Lae(){if(ac()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Mae(){return!0}function jae(t){switch(rg()){case Hr.browser:Bae(t);break;case Hr.reactNative:Fae(t);break}}function Bae(t){!ac()&&$d()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Fae(t){ac()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function zae(){var t;return $d()&&dl()?((t=dl())==null?void 0:t.visibilityState)==="visible":!0}const pb={};class mf{static get(e){return pb[e]}static set(e,n){pb[e]=n}static delete(e){delete pb[e]}}function Wae(t){const e=kd.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function qae({publicKey:t,signature:e,payload:n}){var r;const s=l_(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=Gae(n.address),a=n.era==="00"?new Uint8Array([0]):l_(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${Vae(n.tip)}`),d=Yae(u),f=new Uint8Array([0,...t,o,...e,...a,...l,...d,...s]),h=Kae(f.length+1);return new Uint8Array([...h,i,...f])}function Hae(t){const e=l_(t),n=Ure.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function l_(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Vae(t){return t.startsWith("0x")?t.slice(2):t}function Gae(t){const e=kd.decode(t)[0];return e===42?0:e===60?2:1}function Kae(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function Yae(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Zae(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=Wae(t.transaction.address),r=qae({publicKey:n,signature:e,payload:t.transaction}),s=Buffer.from(r).toString("hex");return Hae(s)}const Qae="PARSE_ERROR",Xae="INVALID_REQUEST",Jae="METHOD_NOT_FOUND",ece="INVALID_PARAMS",O8="INTERNAL_ERROR",nS="SERVER_ERROR",tce=[-32700,-32600,-32601,-32602,-32603],oh={[Qae]:{code:-32700,message:"Parse error"},[Xae]:{code:-32600,message:"Invalid Request"},[Jae]:{code:-32601,message:"Method not found"},[ece]:{code:-32602,message:"Invalid params"},[O8]:{code:-32603,message:"Internal error"},[nS]:{code:-32e3,message:"Server error"}},k8=nS;function nce(t){return tce.includes(t)}function KT(t){return Object.keys(oh).includes(t)?oh[t]:oh[k8]}function rce(t){const e=Object.values(oh).find(n=>n.code===t);return e||oh[k8]}function $8(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var D8={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var u_=function(t,e){return u_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},u_(t,e)};function sce(t,e){u_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var d_=function(){return d_=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},d_.apply(this,arguments)};function ice(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function oce(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function ace(t,e){return function(n,r){e(n,r,t)}}function cce(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function lce(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function uce(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function dce(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function fce(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function f_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function U8(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function hce(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(U8(arguments[e]));return t}function pce(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function pp(t){return this instanceof pp?(this.v=t,this):new pp(t)}function gce(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){r[f]&&(s[f]=function(h){return new Promise(function(p,g){i.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{c(r[f](h))}catch(p){d(i[0][3],p)}}function c(f){f.value instanceof pp?Promise.resolve(f.value.v).then(l,u):d(i[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function mce(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:pp(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function yce(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof f_=="function"?f_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function wce(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function vce(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function bce(t){return t&&t.__esModule?t:{default:t}}function Ece(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function _ce(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Cce=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return d_},__asyncDelegator:mce,__asyncGenerator:gce,__asyncValues:yce,__await:pp,__awaiter:lce,__classPrivateFieldGet:Ece,__classPrivateFieldSet:_ce,__createBinding:dce,__decorate:oce,__exportStar:fce,__extends:sce,__generator:uce,__importDefault:bce,__importStar:vce,__makeTemplateObject:wce,__metadata:cce,__param:ace,__read:U8,__rest:ice,__spread:hce,__spreadArrays:pce,__values:f_},Symbol.toStringTag,{value:"Module"})),xce=D_(Cce);var Hi={},YT;function Sce(){if(YT)return Hi;YT=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.isBrowserCryptoAvailable=Hi.getSubtleCrypto=Hi.getBrowerCrypto=void 0;function t(){return(yi==null?void 0:yi.crypto)||(yi==null?void 0:yi.msCrypto)||{}}Hi.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}Hi.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Hi.isBrowserCryptoAvailable=n,Hi}var Vi={},ZT;function Ace(){if(ZT)return Vi;ZT=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.isBrowser=Vi.isNode=Vi.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Vi.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Vi.isNode=e;function n(){return!t()&&!e()}return Vi.isBrowser=n,Vi}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=xce;e.__exportStar(Sce(),t),e.__exportStar(Ace(),t)})(D8);function di(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function kc(t=6){return BigInt(di(t))}function Sa(t,e,n){return{id:n||di(),jsonrpc:"2.0",method:t,params:e}}function uw(t,e){return{id:t,jsonrpc:"2.0",result:e}}function dw(t,e,n){return{id:t,jsonrpc:"2.0",error:Ice(e)}}function Ice(t,e){return typeof t>"u"?KT(O8):(typeof t=="string"&&(t=Object.assign(Object.assign({},KT(nS)),{message:t})),nce(t.code)&&(t=rce(t.code)),t)}let Tce=class{},Nce=class extends Tce{constructor(){super()}},Pce=class extends Nce{constructor(e){super()}};const Rce="^https?:",Oce="^wss?:";function kce(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function L8(t,e){const n=kce(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function QT(t){return L8(t,Rce)}function XT(t){return L8(t,Oce)}function $ce(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function M8(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function rS(t){return M8(t)&&"method"in t}function fw(t){return M8(t)&&(fi(t)||us(t))}function fi(t){return"result"in t}function us(t){return"error"in t}let xs=class extends Pce{constructor(e){super(e),this.events=new Cs.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Sa(e.method,e.params||[],e.id||kc().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{us(i)?s(i.error):r(i.result)});try{await this.connection.send(e,n)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),fw(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Dce=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Uce=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",JT=t=>t.split("?")[0],eN=10,Lce=Dce();let Mce=class{constructor(e){if(this.url=e,this.events=new Cs.EventEmitter,this.registering=!1,!XT(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Eo(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!XT(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=D8.isReactNative()?void 0:{rejectUnauthorized:!$ce(e)},i=new Lce(e,[],s);Uce()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?ul(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=dw(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return $8(e,JT(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>eN&&this.events.setMaxListeners(eN)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${JT(this.url)}`));return this.events.emit("register_error",n),n}};var jce={};const j8="wc",B8=2,h_="core",Ri=`${j8}@2:${h_}:`,Bce={logger:"error"},Fce={database:":memory:"},zce="crypto",tN="client_ed25519_seed",Wce=J.ONE_DAY,qce="keychain",Hce="0.3",Vce="messages",Gce="0.3",nN=J.SIX_HOURS,Kce="publisher",F8="irn",Yce="error",z8="wss://relay.walletconnect.org",Zce="relayer",ln={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Qce="_subscription",is={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Xce=.1,p_="2.21.3",Ct={link_mode:"link_mode",relay:"relay"},Fm={inbound:"inbound",outbound:"outbound"},Jce="0.3",ele="WALLETCONNECT_CLIENT_ID",rN="WALLETCONNECT_LINK_MODE_APPS",jr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},tle="subscription",nle="0.3",rle="pairing",sle="0.3",yf={wc_pairingDelete:{req:{ttl:J.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:J.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:J.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:J.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:J.ONE_DAY,prompt:!1,tag:0},res:{ttl:J.ONE_DAY,prompt:!1,tag:0}}},Ec={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ts={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},ile="history",ole="0.3",ale="expirer",cs={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},cle="0.3",lle="verify-api",ule="https://verify.walletconnect.com",W8="https://verify.walletconnect.org",ah=W8,dle=`${ah}/v3`,fle=[ule,W8],hle="echo",ple="https://echo.walletconnect.com",ci={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Yi={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ns={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},fc={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},hc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},wf={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},gle=.1,mle="event-client",yle=86400,wle="https://pulse.walletconnect.org/batch";function vle(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,m=0,y=p.length;m!==y&&p[m]===0;)m++,g++;for(var v=(y-m)*u+1>>>0,_=new Uint8Array(v);m!==y;){for(var E=p[m],x=0,S=v-1;(E!==0||x<w)&&S!==-1;S--,x++)E+=256*_[S]>>>0,_[S]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");w=x,m++}for(var T=v-w;T!==v&&_[T]===0;)T++;for(var C=c.repeat(g);T<v;++T)C+=t.charAt(_[T]);return C}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,m=0;p[g]===c;)w++,g++;for(var y=(p.length-g)*l+1>>>0,v=new Uint8Array(y);p[g];){var _=n[p.charCodeAt(g)];if(_===255)return;for(var E=0,x=y-1;(_!==0||E<m)&&x!==-1;x--,E++)_+=a*v[x]>>>0,v[x]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");m=E,g++}if(p[g]!==" "){for(var S=y-m;S!==y&&v[S]===0;)S++;for(var T=new Uint8Array(w+(y-S)),C=w;S!==y;)T[C++]=v[S++];return T}}}function h(p){var g=f(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var ble=vle,Ele=ble;const q8=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},_le=t=>new TextEncoder().encode(t),Cle=t=>new TextDecoder().decode(t);class xle{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Sle{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return H8(this,e)}}class Ale{constructor(e){this.decoders=e}or(e){return H8(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const H8=(t,e)=>new Ale({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Ile{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new xle(e,n,r),this.decoder=new Sle(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const hw=({name:t,prefix:e,encode:n,decode:r})=>new Ile(t,e,n,r),ag=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Ele(n,e);return hw({prefix:t,name:e,encode:r,decode:i=>q8(s(i))})},Tle=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Nle=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Pn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>hw({prefix:e,name:t,encode(s){return Nle(s,r,n)},decode(s){return Tle(s,r,n,t)}}),Ple=hw({prefix:"\0",name:"identity",encode:t=>Cle(t),decode:t=>_le(t)});var Rle=Object.freeze({__proto__:null,identity:Ple});const Ole=Pn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var kle=Object.freeze({__proto__:null,base2:Ole});const $le=Pn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Dle=Object.freeze({__proto__:null,base8:$le});const Ule=ag({prefix:"9",name:"base10",alphabet:"0123456789"});var Lle=Object.freeze({__proto__:null,base10:Ule});const Mle=Pn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),jle=Pn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ble=Object.freeze({__proto__:null,base16:Mle,base16upper:jle});const Fle=Pn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),zle=Pn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Wle=Pn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),qle=Pn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Hle=Pn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Vle=Pn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Gle=Pn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Kle=Pn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Yle=Pn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Zle=Object.freeze({__proto__:null,base32:Fle,base32upper:zle,base32pad:Wle,base32padupper:qle,base32hex:Hle,base32hexupper:Vle,base32hexpad:Gle,base32hexpadupper:Kle,base32z:Yle});const Qle=ag({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Xle=ag({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Jle=Object.freeze({__proto__:null,base36:Qle,base36upper:Xle});const eue=ag({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),tue=ag({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var nue=Object.freeze({__proto__:null,base58btc:eue,base58flickr:tue});const rue=Pn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),sue=Pn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),iue=Pn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),oue=Pn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var aue=Object.freeze({__proto__:null,base64:rue,base64pad:sue,base64url:iue,base64urlpad:oue});const V8=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),cue=V8.reduce((t,e,n)=>(t[n]=e,t),[]),lue=V8.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function uue(t){return t.reduce((e,n)=>(e+=cue[n],e),"")}function due(t){const e=[];for(const n of t){const r=lue[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const fue=hw({prefix:"🚀",name:"base256emoji",encode:uue,decode:due});var hue=Object.freeze({__proto__:null,base256emoji:fue}),pue=G8,sN=128,gue=-128,mue=Math.pow(2,31);function G8(t,e,n){e=e||[],n=n||0;for(var r=n;t>=mue;)e[n++]=t&255|sN,t/=128;for(;t&gue;)e[n++]=t&255|sN,t>>>=7;return e[n]=t|0,G8.bytes=n-r+1,e}var yue=g_,wue=128,iN=127;function g_(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw g_.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&iN)<<s:(o&iN)*Math.pow(2,s),s+=7}while(o>=wue);return g_.bytes=i-r,n}var vue=Math.pow(2,7),bue=Math.pow(2,14),Eue=Math.pow(2,21),_ue=Math.pow(2,28),Cue=Math.pow(2,35),xue=Math.pow(2,42),Sue=Math.pow(2,49),Aue=Math.pow(2,56),Iue=Math.pow(2,63),Tue=function(t){return t<vue?1:t<bue?2:t<Eue?3:t<_ue?4:t<Cue?5:t<xue?6:t<Sue?7:t<Aue?8:t<Iue?9:10},Nue={encode:pue,decode:yue,encodingLength:Tue},K8=Nue;const oN=(t,e,n=0)=>(K8.encode(t,e,n),e),aN=t=>K8.encodingLength(t),m_=(t,e)=>{const n=e.byteLength,r=aN(t),s=r+aN(n),i=new Uint8Array(s+n);return oN(t,i,0),oN(n,i,r),i.set(e,s),new Pue(t,n,e,i)};class Pue{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const Y8=({name:t,code:e,encode:n})=>new Rue(t,e,n);class Rue{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?m_(this.code,n):n.then(r=>m_(this.code,r))}else throw Error("Unknown type, must be binary type")}}const Z8=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Oue=Y8({name:"sha2-256",code:18,encode:Z8("SHA-256")}),kue=Y8({name:"sha2-512",code:19,encode:Z8("SHA-512")});var $ue=Object.freeze({__proto__:null,sha256:Oue,sha512:kue});const Q8=0,Due="identity",X8=q8,Uue=t=>m_(Q8,X8(t)),Lue={code:Q8,name:Due,encode:X8,digest:Uue};var Mue=Object.freeze({__proto__:null,identity:Lue});new TextEncoder,new TextDecoder;const cN={...Rle,...kle,...Dle,...Lle,...Ble,...Zle,...Jle,...nue,...aue,...hue};({...$ue,...Mue});function J8(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function jue(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?J8(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function e6(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const lN=e6("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),gb=e6("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=jue(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Bue={utf8:lN,"utf-8":lN,hex:cN.base16,latin1:gb,ascii:gb,binary:gb,...cN};function Fue(t,e="utf8"){const n=Bue[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?J8(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var zue=Object.defineProperty,Wue=(t,e,n)=>e in t?zue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oi=(t,e,n)=>Wue(t,typeof e!="symbol"?e+"":e,n);class que{constructor(e,n){this.core=e,this.logger=n,oi(this,"keychain",new Map),oi(this,"name",qce),oi(this,"version",Hce),oi(this,"initialized",!1),oi(this,"storagePrefix",Ri),oi(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),oi(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),oi(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),oi(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=ee("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),oi(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Hn(n,this.name)}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,QE(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?XE(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Hue=Object.defineProperty,Vue=(t,e,n)=>e in t?Hue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wn=(t,e,n)=>Vue(t,typeof e!="symbol"?e+"":e,n);class Gue{constructor(e,n,r){this.core=e,this.logger=n,wn(this,"name",zce),wn(this,"keychain"),wn(this,"randomSessionIdentifier",c_()),wn(this,"initialized",!1),wn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),wn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),wn(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=zI(s);return X5(i.publicKey)}),wn(this,"generateKeyPair",()=>{this.isInitialized();const s=Boe();return this.setPrivateKey(s.publicKey,s.privateKey)}),wn(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=zI(i),a=this.randomSessionIdentifier;return await Vee(a,s,Wce,o)}),wn(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=Foe(a,i);return this.setSymKey(c,o)}),wn(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||Bm(s);return await this.keychain.set(o,s),o}),wn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),wn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),wn(this,"encode",async(s,i,o)=>{this.isInitialized();const a=N8(o),c=Eo(i);if(UT(a))return qoe(c,o==null?void 0:o.encoding);if(DT(a)){const f=a.senderPublicKey,h=a.receiverPublicKey;s=await this.generateSharedKey(f,h)}const l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return zoe({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),wn(this,"decode",async(s,i,o)=>{this.isInitialized();const a=Voe(i,o);if(UT(a)){const c=Hoe(i,o==null?void 0:o.encoding);return ul(c)}if(DT(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=Woe({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return ul(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),wn(this,"getPayloadType",(s,i=qs)=>{const o=hp({encoded:s,encoding:i});return pl(o.type)}),wn(this,"getPayloadSenderPublicKey",(s,i=qs)=>{const o=hp({encoded:s,encoding:i});return o.senderPublicKey?Pr(o.senderPublicKey,nr):void 0}),this.core=e,this.logger=Hn(n,this.name),this.keychain=r||new que(this.core,this.logger)}get context(){return Or(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(tN)}catch{e=c_(),await this.keychain.set(tN,e)}return Fue(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Kue=Object.defineProperty,Yue=Object.defineProperties,Zue=Object.getOwnPropertyDescriptors,uN=Object.getOwnPropertySymbols,Que=Object.prototype.hasOwnProperty,Xue=Object.prototype.propertyIsEnumerable,y_=(t,e,n)=>e in t?Kue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jue=(t,e)=>{for(var n in e||(e={}))Que.call(e,n)&&y_(t,n,e[n]);if(uN)for(var n of uN(e))Xue.call(e,n)&&y_(t,n,e[n]);return t},ede=(t,e)=>Yue(t,Zue(e)),Ur=(t,e,n)=>y_(t,typeof e!="symbol"?e+"":e,n);class tde extends qQ{constructor(e,n){super(e,n),this.logger=e,this.core=n,Ur(this,"messages",new Map),Ur(this,"messagesWithoutClientAck",new Map),Ur(this,"name",Vce),Ur(this,"version",Gce),Ur(this,"initialized",!1),Ur(this,"storagePrefix",Ri),Ur(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Ur(this,"set",async(r,s,i)=>{this.isInitialized();const o=vi(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===Fm.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,ede(Jue({},c),{[o]:s}))}return await this.persist(),o}),Ur(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),Ur(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),Ur(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=vi(s);return typeof i[o]<"u"}),Ur(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=vi(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),Ur(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Hn(e,this.name),this.core=n}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,QE(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,QE(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?XE(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?XE(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}var nde=Object.defineProperty,rde=Object.defineProperties,sde=Object.getOwnPropertyDescriptors,dN=Object.getOwnPropertySymbols,ide=Object.prototype.hasOwnProperty,ode=Object.prototype.propertyIsEnumerable,w_=(t,e,n)=>e in t?nde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cm=(t,e)=>{for(var n in e||(e={}))ide.call(e,n)&&w_(t,n,e[n]);if(dN)for(var n of dN(e))ode.call(e,n)&&w_(t,n,e[n]);return t},mb=(t,e)=>rde(t,sde(e)),Ps=(t,e,n)=>w_(t,typeof e!="symbol"?e+"":e,n);class ade extends HQ{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Ps(this,"events",new Cs.EventEmitter),Ps(this,"name",Kce),Ps(this,"queue",new Map),Ps(this,"publishTimeout",J.toMiliseconds(J.ONE_MINUTE)),Ps(this,"initialPublishTimeout",J.toMiliseconds(J.ONE_SECOND*15)),Ps(this,"needsTransportRestart",!1),Ps(this,"publish",async(r,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const a=(i==null?void 0:i.ttl)||nN,c=qy(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,d=(i==null?void 0:i.id)||kc().toString(),f={topic:r,message:s,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},h=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const p=new Promise(async g=>{const w=({id:y})=>{f.opts.id===y&&(this.removeRequestFromQueue(y),this.relayer.events.removeListener(ln.publish,w),g(f))};this.relayer.events.on(ln.publish,w);const m=xa(new Promise((y,v)=>{this.rpcPublish({topic:r,message:s,ttl:a,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(y).catch(_=>{this.logger.warn(_,_==null?void 0:_.message),v(_)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await m,this.events.removeListener(ln.publish,w)}catch(y){this.queue.set(d,mb(cm({},f),{attempt:1})),this.logger.warn(y,y==null?void 0:y.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:s,opts:i}}),await xa(p,this.publishTimeout,h)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=i==null?void 0:i.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(d)}}),Ps(this,"on",(r,s)=>{this.events.on(r,s)}),Ps(this,"once",(r,s)=>{this.events.once(r,s)}),Ps(this,"off",(r,s)=>{this.events.off(r,s)}),Ps(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=Hn(n,this.name),this.registerEventListeners()}get context(){return Or(this.logger)}async rpcPublish(e){var n,r,s,i;const{topic:o,message:a,ttl:c=nN,prompt:l,tag:u,id:d,attestation:f,tvf:h}=e,p={method:Lf(qy().protocol).publish,params:cm({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:f},h),id:d};_n((n=p.params)==null?void 0:n.prompt)&&((r=p.params)==null||delete r.prompt),_n((s=p.params)==null?void 0:s.tag)&&((i=p.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const g=await this.relayer.request(p);return this.relayer.events.emit(ln.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,mb(cm({},e),{attempt:r}));const{topic:s,message:i,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(mb(cm({},e),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Tl.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(ln.connection_stalled);return}this.checkQueue()}),this.relayer.on(ln.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var cde=Object.defineProperty,lde=(t,e,n)=>e in t?cde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hl=(t,e,n)=>lde(t,typeof e!="symbol"?e+"":e,n);class ude{constructor(){Hl(this,"map",new Map),Hl(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Hl(this,"get",e=>this.map.get(e)||[]),Hl(this,"exists",(e,n)=>this.get(e).includes(n)),Hl(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),Hl(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var dde=Object.defineProperty,fde=Object.defineProperties,hde=Object.getOwnPropertyDescriptors,fN=Object.getOwnPropertySymbols,pde=Object.prototype.hasOwnProperty,gde=Object.prototype.propertyIsEnumerable,v_=(t,e,n)=>e in t?dde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vf=(t,e)=>{for(var n in e||(e={}))pde.call(e,n)&&v_(t,n,e[n]);if(fN)for(var n of fN(e))gde.call(e,n)&&v_(t,n,e[n]);return t},yb=(t,e)=>fde(t,hde(e)),gt=(t,e,n)=>v_(t,typeof e!="symbol"?e+"":e,n);class mde extends KQ{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,gt(this,"subscriptions",new Map),gt(this,"topicMap",new ude),gt(this,"events",new Cs.EventEmitter),gt(this,"name",tle),gt(this,"version",nle),gt(this,"pending",new Map),gt(this,"cached",[]),gt(this,"initialized",!1),gt(this,"storagePrefix",Ri),gt(this,"subscribeTimeout",J.toMiliseconds(J.ONE_MINUTE)),gt(this,"initialSubscribeTimeout",J.toMiliseconds(J.ONE_SECOND*15)),gt(this,"clientId"),gt(this,"batchSubscribeTopicsLimit",500),gt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),gt(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const i=qy(s),o={topic:r,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,i,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),a}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),gt(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),gt(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),gt(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),gt(this,"on",(r,s)=>{this.events.on(r,s)}),gt(this,"once",(r,s)=>{this.events.once(r,s)}),gt(this,"off",(r,s)=>{this.events.off(r,s)}),gt(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),gt(this,"start",async()=>{await this.onConnect()}),gt(this,"stop",async()=>{await this.onDisconnect()}),gt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),gt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),gt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Tl.pulse,async()=>{await this.checkPending()}),this.events.on(jr.created,async r=>{const s=jr.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(jr.deleted,async r=>{const s=jr.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=Hn(n,this.name),this.clientId=""}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=qy(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const i=At("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||(r==null?void 0:r.transportType)===Ct.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const i={method:Lf(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===Ct.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(u=>this.logger.warn(u))},J.toMiliseconds(J.ONE_SECOND)),a;const c=new Promise(async u=>{const d=f=>{f.topic===e&&(this.events.removeListener(jr.created,d),u(f.id))};this.events.on(jr.created,d);try{const f=await xa(new Promise((h,p)=>{this.relayer.request(i).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),p(g)}).then(h)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(jr.created,d),u(f)}catch{}}),l=await xa(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(ln.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Lf(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await xa(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(ln.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Lf(n.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await xa(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(ln.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:Lf(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,yb(vf({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,vf({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,vf({},n)),this.topicMap.set(n.topic,e),this.events.emit(jr.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(jr.deleted,yb(vf({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(jr.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(jr.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>yb(vf({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await lse(J.toMiliseconds(J.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return vi(e+await this.getClientId())}}var yde=Object.defineProperty,hN=Object.getOwnPropertySymbols,wde=Object.prototype.hasOwnProperty,vde=Object.prototype.propertyIsEnumerable,b_=(t,e,n)=>e in t?yde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pN=(t,e)=>{for(var n in e||(e={}))wde.call(e,n)&&b_(t,n,e[n]);if(hN)for(var n of hN(e))vde.call(e,n)&&b_(t,n,e[n]);return t},Ye=(t,e,n)=>b_(t,typeof e!="symbol"?e+"":e,n);class bde extends VQ{constructor(e){super(e),Ye(this,"protocol","wc"),Ye(this,"version",2),Ye(this,"core"),Ye(this,"logger"),Ye(this,"events",new Cs.EventEmitter),Ye(this,"provider"),Ye(this,"messages"),Ye(this,"subscriber"),Ye(this,"publisher"),Ye(this,"name",Zce),Ye(this,"transportExplicitlyClosed",!1),Ye(this,"initialized",!1),Ye(this,"connectionAttemptInProgress",!1),Ye(this,"relayUrl"),Ye(this,"projectId"),Ye(this,"packageName"),Ye(this,"bundleId"),Ye(this,"hasExperiencedNetworkDisruption",!1),Ye(this,"pingTimeout"),Ye(this,"heartBeatTimeout",J.toMiliseconds(J.THIRTY_SECONDS+J.FIVE_SECONDS)),Ye(this,"reconnectTimeout"),Ye(this,"connectPromise"),Ye(this,"reconnectInProgress",!1),Ye(this,"requestsInFlight",[]),Ye(this,"connectTimeout",J.toMiliseconds(J.ONE_SECOND*15)),Ye(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||kc().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),Ye(this,"resetPingTimeout",()=>{By()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),Ye(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Ye(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(ln.connect)}),Ye(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),Ye(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(ln.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Ye(this,"registerProviderListeners",()=>{this.provider.on(is.payload,this.onPayloadHandler),this.provider.on(is.connect,this.onConnectHandler),this.provider.on(is.disconnect,this.onDisconnectHandler),this.provider.on(is.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Hn(e.logger,this.name):Jp(Td({level:e.logger||Yce})),this.messages=new tde(this.logger,e.core),this.subscriber=new mde(this,this.logger),this.publisher=new ade(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||z8,this.projectId=e.projectId,Gre()?this.packageName=rT():Kre()&&(this.bundleId=rT()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return Or(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Ct.relay},Fm.outbound)}async subscribe(e,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(jr.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(jr.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,pN({internal:{throwOnFailedPublish:o}},n)).catch(f=>{o&&d(f)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await xa(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await GT())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=Qt(J.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(ln.message,e),await this.recordMessageEvent(e,Fm.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(is.disconnect,i),await xa(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(is.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(is.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(is.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,J.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,i;if(By())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new xs(new Mce(Jre({sdkVersion:p_,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),rS(e)){if(!e.method.endsWith(Qce))return;const n=e.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:Ct.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(pN({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else fw(e)&&this.events.emit(ln.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Fm.inbound),this.events.emit(ln.message,e))}async acknowledgePayload(e){const n=uw(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(is.payload,this.onPayloadHandler),this.provider.off(is.connect,this.onConnectHandler),this.provider.off(is.disconnect,this.onDisconnectHandler),this.provider.off(is.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await GT();jae(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Tl.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&zae())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(ln.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},J.toMiliseconds(Xce)))))}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function Ede(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function gN(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function mN(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const _de="[object RegExp]",Cde="[object String]",xde="[object Number]",Sde="[object Boolean]",yN="[object Arguments]",Ade="[object Symbol]",Ide="[object Date]",Tde="[object Map]",Nde="[object Set]",Pde="[object Array]",Rde="[object Function]",Ode="[object ArrayBuffer]",wb="[object Object]",kde="[object Error]",$de="[object DataView]",Dde="[object Uint8Array]",Ude="[object Uint8ClampedArray]",Lde="[object Uint16Array]",Mde="[object Uint32Array]",jde="[object BigUint64Array]",Bde="[object Int8Array]",Fde="[object Int16Array]",zde="[object Int32Array]",Wde="[object BigInt64Array]",qde="[object Float32Array]",Hde="[object Float64Array]";function Vde(){}function wN(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Gde(t,e,n){return Mf(t,e,void 0,void 0,void 0,void 0,n)}function Mf(t,e,n,r,s,i,o){const a=o(t,e,n,r,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return ch(t,e,i,o)}return ch(t,e,i,o)}function ch(t,e,n,r){if(Object.is(t,e))return!0;let s=mN(t),i=mN(e);if(s===yN&&(s=wb),i===yN&&(i=wb),s!==i)return!1;switch(s){case Cde:return t.toString()===e.toString();case xde:{const c=t.valueOf(),l=e.valueOf();return Ede(c,l)}case Sde:case Ide:case Ade:return Object.is(t.valueOf(),e.valueOf());case _de:return t.source===e.source&&t.flags===e.flags;case Rde:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(s){case Tde:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!Mf(l,e.get(c),c,t,e,n,r))return!1;return!0}case Nde:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],f=l.findIndex(h=>Mf(d,h,void 0,t,e,n,r));if(f===-1)return!1;l.splice(f,1)}return!0}case Pde:case Dde:case Ude:case Lde:case Mde:case jde:case Bde:case Fde:case zde:case Wde:case qde:case Hde:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Mf(t[c],e[c],c,t,e,n,r))return!1;return!0}case Ode:return t.byteLength!==e.byteLength?!1:ch(new Uint8Array(t),new Uint8Array(e),n,r);case $de:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:ch(new Uint8Array(t),new Uint8Array(e),n,r);case kde:return t.name===e.name&&t.message===e.message;case wb:{if(!(ch(t.constructor,e.constructor,n,r)||wN(t)&&wN(e)))return!1;const c=[...Object.keys(t),...gN(t)],l=[...Object.keys(e),...gN(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],f=t[d];if(!Object.hasOwn(e,d))return!1;const h=e[d];if(!Mf(f,h,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function Kde(t,e){return Gde(t,e,Vde)}var Yde=Object.defineProperty,vN=Object.getOwnPropertySymbols,Zde=Object.prototype.hasOwnProperty,Qde=Object.prototype.propertyIsEnumerable,E_=(t,e,n)=>e in t?Yde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bN=(t,e)=>{for(var n in e||(e={}))Zde.call(e,n)&&E_(t,n,e[n]);if(vN)for(var n of vN(e))Qde.call(e,n)&&E_(t,n,e[n]);return t},fr=(t,e,n)=>E_(t,typeof e!="symbol"?e+"":e,n);class Rl extends GQ{constructor(e,n,r,s=Ri,i=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,fr(this,"map",new Map),fr(this,"version",Jce),fr(this,"cached",[]),fr(this,"initialized",!1),fr(this,"getKey"),fr(this,"storagePrefix",Ri),fr(this,"recentlyDeleted",[]),fr(this,"recentlyDeletedLimit",200),fr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!_n(o)?this.map.set(this.getKey(o),o):mae(o)?this.map.set(o.id,o):yae(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),fr(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),fr(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),fr(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Kde(a[c],o[c]))):this.values)),fr(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=bN(bN({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),fr(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Hn(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=ee("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Xde=Object.defineProperty,Jde=(t,e,n)=>e in t?Xde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,je=(t,e,n)=>Jde(t,typeof e!="symbol"?e+"":e,n);class efe{constructor(e,n){this.core=e,this.logger=n,je(this,"name",rle),je(this,"version",sle),je(this,"events",new Sx),je(this,"pairings"),je(this,"initialized",!1),je(this,"storagePrefix",Ri),je(this,"ignoredPayloadTypes",[lo]),je(this,"registeredMethods",[]),je(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),je(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),je(this,"create",async r=>{this.isInitialized();const s=c_(),i=await this.core.crypto.setSymKey(s),o=Qt(J.FIVE_MINUTES),a={protocol:F8},c={topic:i,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=MT({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(Ec.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r==null?void 0:r.transportType}),{topic:i,uri:l}}),je(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[ci.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=LT(r.uri);s.props.properties.topic=i,s.addTrace(ci.pairing_uri_validation_success),s.addTrace(ci.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(ci.existing_pairing),u.active)throw s.setError(Yi.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(ci.pairing_not_expired)}const d=c||Qt(J.FIVE_MINUTES),f={topic:i,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(i,d),await this.pairings.set(i,f),s.addTrace(ci.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(Ec.create,f),s.addTrace(ci.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(ci.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Yi.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(h){throw s.setError(Yi.subscribe_pairing_topic_failure),h}return s.addTrace(ci.subscribe_pairing_topic_success),f}),je(this,"activate",async({topic:r})=>{this.isInitialized();const s=Qt(J.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),je(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=wc();this.events.once(tt("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),je(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),je(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),je(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),je(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",At("USER_DISCONNECTED")),await this.deletePairing(s))}),je(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return MT({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),je(this,"sendRequest",async(r,s,i)=>{const o=Sa(s,i),a=await this.core.crypto.encode(r,o),c=yf[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),je(this,"sendResult",async(r,s,i)=>{const o=uw(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=yf[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),je(this,"sendError",async(r,s,i)=>{const o=dw(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=yf[c]?yf[c].res:yf.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),je(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,At("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),je(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>ta(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),je(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),je(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),je(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(Ec.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),je(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{fi(s)?this.events.emit(tt("pairing_ping",i),{}):us(s)&&this.events.emit(tt("pairing_ping",i),{error:s.error})},500)}),je(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Ec.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),je(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=At("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),je(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(At("WC_METHOD_UNSUPPORTED",r))}),je(this,"isValidPair",(r,s)=>{var i;if(!mr(r)){const{message:a}=ee("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(Yi.malformed_pairing_uri),new Error(a)}if(!gae(r.uri)){const{message:a}=ee("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(Yi.malformed_pairing_uri),new Error(a)}const o=LT(r==null?void 0:r.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=ee("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(Yi.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ee("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(Yi.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&J.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(Yi.pairing_expired);const{message:a}=ee("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),je(this,"isValidPing",async r=>{if(!mr(r)){const{message:i}=ee("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),je(this,"isValidDisconnect",async r=>{if(!mr(r)){const{message:i}=ee("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),je(this,"isValidPairingTopic",async r=>{if(!Gt(r,!1)){const{message:s}=ee("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=ee("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(ta(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=ee("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=Hn(n,this.name),this.pairings=new Rl(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Or(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(ln.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==Ct.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);rS(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):fw(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(cs.expired,async e=>{const{topic:n}=jD(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Ec.expire,{topic:n}))})}}var tfe=Object.defineProperty,nfe=(t,e,n)=>e in t?tfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vn=(t,e,n)=>nfe(t,typeof e!="symbol"?e+"":e,n);class rfe extends WQ{constructor(e,n){super(e,n),this.core=e,this.logger=n,vn(this,"records",new Map),vn(this,"events",new Cs.EventEmitter),vn(this,"name",ile),vn(this,"version",ole),vn(this,"cached",[]),vn(this,"initialized",!1),vn(this,"storagePrefix",Ri),vn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),vn(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:Qt(J.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Ts.created,o)}),vn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=us(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(Ts.updated,s))}),vn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),vn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Ts.deleted,i)}}),this.persist()}),vn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),vn(this,"on",(r,s)=>{this.events.on(r,s)}),vn(this,"once",(r,s)=>{this.events.once(r,s)}),vn(this,"off",(r,s)=>{this.events.off(r,s)}),vn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Hn(n,this.name)}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Sa(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ts.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ts.created,e=>{const n=Ts.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ts.updated,e=>{const n=Ts.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ts.deleted,e=>{const n=Ts.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Tl.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{J.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Ts.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}var sfe=Object.defineProperty,ife=(t,e,n)=>e in t?sfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jn=(t,e,n)=>ife(t,typeof e!="symbol"?e+"":e,n);class ofe extends YQ{constructor(e,n){super(e,n),this.core=e,this.logger=n,jn(this,"expirations",new Map),jn(this,"events",new Cs.EventEmitter),jn(this,"name",ale),jn(this,"version",cle),jn(this,"cached",[]),jn(this,"initialized",!1),jn(this,"storagePrefix",Ri),jn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),jn(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),jn(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(cs.created,{target:i,expiration:o})}),jn(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),jn(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(cs.deleted,{target:s,expiration:i})}}),jn(this,"on",(r,s)=>{this.events.on(r,s)}),jn(this,"once",(r,s)=>{this.events.once(r,s)}),jn(this,"off",(r,s)=>{this.events.off(r,s)}),jn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Hn(n,this.name)}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return ese(e);if(typeof e=="number")return tse(e);const{message:n}=ee("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(cs.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;J.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(cs.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Tl.pulse,()=>this.checkExpirations()),this.events.on(cs.created,e=>{const n=cs.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(cs.expired,e=>{const n=cs.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(cs.deleted,e=>{const n=cs.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}var afe=Object.defineProperty,cfe=(t,e,n)=>e in t?afe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ht=(t,e,n)=>cfe(t,typeof e!="symbol"?e+"":e,n);class lfe extends ZQ{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Ht(this,"name",lle),Ht(this,"abortController"),Ht(this,"isDevEnv"),Ht(this,"verifyUrlV3",dle),Ht(this,"storagePrefix",Ri),Ht(this,"version",B8),Ht(this,"publicKey"),Ht(this,"fetchPromise"),Ht(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&J.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Ht(this,"register",async s=>{if(!$d()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=dl(),u=this.startAbortTimer(J.ONE_SECOND*5),d=await new Promise((f,h)=>{const p=()=>{window.removeEventListener("message",w),l.body.removeChild(g),h("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const w=m=>{if(m.data&&typeof m.data=="string")try{const y=JSON.parse(m.data);if(y.type==="verify_attestation"){if(qE(y.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",w),f(y.attestation===null?"":y.attestation)}}catch(y){this.logger.warn(y)}};l.body.appendChild(g),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),Ht(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(qE(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),Ht(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(J.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Ht(this,"getVerifyUrl",s=>{let i=s||ah;return fle.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${ah}`),i=ah),i}),Ht(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(J.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),Ht(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),Ht(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Ht(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Ht(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Ht(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),Ht(this,"validateAttestation",(s,i)=>{const o=Koe(s,i.publicKey),a={hasExpired:J.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Hn(n,this.name),this.abortController=new AbortController,this.isDevEnv=zx(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Or(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),J.toMiliseconds(e))}}var ufe=Object.defineProperty,dfe=(t,e,n)=>e in t?ufe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EN=(t,e,n)=>dfe(t,typeof e!="symbol"?e+"":e,n);class ffe extends QQ{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,EN(this,"context",hle),EN(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${ple}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=Hn(n,this.context)}}var hfe=Object.defineProperty,_N=Object.getOwnPropertySymbols,pfe=Object.prototype.hasOwnProperty,gfe=Object.prototype.propertyIsEnumerable,__=(t,e,n)=>e in t?hfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bf=(t,e)=>{for(var n in e||(e={}))pfe.call(e,n)&&__(t,n,e[n]);if(_N)for(var n of _N(e))gfe.call(e,n)&&__(t,n,e[n]);return t},sn=(t,e,n)=>__(t,typeof e!="symbol"?e+"":e,n);class mfe extends XQ{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,sn(this,"context",mle),sn(this,"storagePrefix",Ri),sn(this,"storageVersion",gle),sn(this,"events",new Map),sn(this,"shouldPersist",!1),sn(this,"init",async()=>{if(!zx())try{const s={eventId:iT(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:LD(this.core.relayer.protocol,this.core.relayer.version,p_)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),sn(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=iT(),u=this.core.projectId||"",d=Date.now(),f=bf({eventId:l,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,f),this.shouldPersist=!0),f}),sn(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return bf(bf({},a),this.setMethods(a.eventId))}),sn(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),sn(this,"setEventListeners",()=>{this.core.heartbeat.on(Tl.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{J.fromMiliseconds(Date.now())-J.fromMiliseconds(s.timestamp)>yle&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),sn(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),sn(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),sn(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),sn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),sn(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,bf(bf({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),sn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),sn(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${wle}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${p_}${i}`,{method:"POST",body:JSON.stringify(s)})}),sn(this,"getAppDomain",()=>UD().url),this.logger=Hn(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var yfe=Object.defineProperty,CN=Object.getOwnPropertySymbols,wfe=Object.prototype.hasOwnProperty,vfe=Object.prototype.propertyIsEnumerable,C_=(t,e,n)=>e in t?yfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xN=(t,e)=>{for(var n in e||(e={}))wfe.call(e,n)&&C_(t,n,e[n]);if(CN)for(var n of CN(e))vfe.call(e,n)&&C_(t,n,e[n]);return t},yt=(t,e,n)=>C_(t,typeof e!="symbol"?e+"":e,n);let bfe=class t6 extends jQ{constructor(e){var n;super(e),yt(this,"protocol",j8),yt(this,"version",B8),yt(this,"name",h_),yt(this,"relayUrl"),yt(this,"projectId"),yt(this,"customStoragePrefix"),yt(this,"events",new Cs.EventEmitter),yt(this,"logger"),yt(this,"heartbeat"),yt(this,"relayer"),yt(this,"crypto"),yt(this,"storage"),yt(this,"history"),yt(this,"expirer"),yt(this,"pairing"),yt(this,"verify"),yt(this,"echoClient"),yt(this,"linkModeSupportedApps"),yt(this,"eventClient"),yt(this,"initialized",!1),yt(this,"logChunkController"),yt(this,"on",(a,c)=>this.events.on(a,c)),yt(this,"once",(a,c)=>this.events.once(a,c)),yt(this,"off",(a,c)=>this.events.off(a,c)),yt(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),yt(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:Ct.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||z8,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=Td({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Bce.logger,name:h_}),{logger:i,chunkLoggerController:o}=Ix({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Hn(i,this.name),this.heartbeat=new IZ,this.crypto=new Gue(this,this.logger,e==null?void 0:e.keychain),this.history=new rfe(this,this.logger),this.expirer=new ofe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new lQ(xN(xN({},Fce),e==null?void 0:e.storageOptions)),this.relayer=new bde({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new efe(this,this.logger),this.verify=new lfe(this,this.logger,this.storage),this.echoClient=new ffe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new mfe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new t6(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(ele,r),n}get context(){return Or(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(rN,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(rN)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&jce.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const Efe=bfe,n6="wc",r6=2,s6="client",sS=`${n6}@${r6}:${s6}:`,vb={name:s6,logger:"error"},SN="WALLETCONNECT_DEEPLINK_CHOICE",_fe="proposal",AN="Proposal expired",Cfe="session",Vl=J.SEVEN_DAYS,xfe="engine",on={wc_sessionPropose:{req:{ttl:J.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:J.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:J.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:J.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:J.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:J.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:J.ONE_DAY,prompt:!1,tag:1104},res:{ttl:J.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:J.ONE_DAY,prompt:!1,tag:1106},res:{ttl:J.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:J.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:J.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:J.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:J.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:J.ONE_DAY,prompt:!1,tag:1112},res:{ttl:J.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:J.ONE_DAY,prompt:!1,tag:1114},res:{ttl:J.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:J.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:J.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:J.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:J.FIVE_MINUTES,prompt:!1,tag:1119}}},bb={min:J.FIVE_MINUTES,max:J.SEVEN_DAYS},ai={idle:"IDLE",active:"ACTIVE"},Sfe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Afe="request",Ife=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Tfe="wc",Nfe="auth",Pfe="authKeys",Rfe="pairingTopics",Ofe="requests",pw=`${Tfe}@${1.5}:${Nfe}:`,zm=`${pw}:PUB_KEY`;var kfe=Object.defineProperty,$fe=Object.defineProperties,Dfe=Object.getOwnPropertyDescriptors,IN=Object.getOwnPropertySymbols,Ufe=Object.prototype.hasOwnProperty,Lfe=Object.prototype.propertyIsEnumerable,x_=(t,e,n)=>e in t?kfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Et=(t,e)=>{for(var n in e||(e={}))Ufe.call(e,n)&&x_(t,n,e[n]);if(IN)for(var n of IN(e))Lfe.call(e,n)&&x_(t,n,e[n]);return t},hr=(t,e)=>$fe(t,Dfe(e)),G=(t,e,n)=>x_(t,typeof e!="symbol"?e+"":e,n);class Mfe extends nX{constructor(e){super(e),G(this,"name",xfe),G(this,"events",new Sx),G(this,"initialized",!1),G(this,"requestQueue",{state:ai.idle,queue:[]}),G(this,"sessionRequestQueue",{state:ai.idle,queue:[]}),G(this,"requestQueueDelay",J.ONE_SECOND),G(this,"expectedPairingMethodMap",new Map),G(this,"recentlyDeletedMap",new Map),G(this,"recentlyDeletedLimit",200),G(this,"relayMessageCache",[]),G(this,"pendingSessions",new Map),G(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(on)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},J.toMiliseconds(this.requestQueueDelay)))}),G(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=hr(Et({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=uae(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,d,f=!1;try{if(u){const x=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=x.active}}catch(x){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),x}if(!u||!f){const{topic:x,uri:S}=await this.client.core.pairing.create();u=x,d=S}if(!u){const{message:x}=ee("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(x)}const h=await this.client.core.crypto.generateKeyPair(),p=on.wc_sessionPropose.req.ttl||J.FIVE_MINUTES,g=Qt(p),w=hr(Et(Et({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:F8}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:di()}),m=tt("session_connect",w.id),{reject:y,resolve:v,done:_}=wc(p,AN),E=({id:x})=>{x===w.id&&(this.client.events.off("proposal_expire",E),this.pendingSessions.delete(w.id),this.events.emit(m,{error:{message:AN,code:0}}))};return this.client.events.on("proposal_expire",E),this.events.once(m,({error:x,session:S})=>{this.client.events.off("proposal_expire",E),x?y(x):S&&v(S)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:w,throwOnFailedPublish:!0,clientRpcId:w.id}),await this.setProposal(w.id,w),{uri:d,approval:_}}),G(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),G(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Ns.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(C){throw o.setError(fc.no_internet_connection),C}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(C){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(fc.proposal_not_found),C}try{await this.isValidApprove(n)}catch(C){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(fc.session_approve_namespace_validation_failure),C}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:f}=n,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:w,optionalNamespaces:m}=h;let y=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});y||(y=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:Ns.session_approve_started,properties:{topic:p,trace:[Ns.session_approve_started,Ns.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),_=g.publicKey,E=await this.client.core.crypto.generateSharedKey(v,_),x=Et(Et(Et({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:v,metadata:this.client.metadata},expiry:Qt(Vl)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),S=Ct.relay;y.addTrace(Ns.subscribing_session_topic);try{await this.client.core.relayer.subscribe(E,{transportType:S})}catch(C){throw y.setError(fc.subscribe_session_topic_failure),C}y.addTrace(Ns.subscribe_session_topic_success);const T=hr(Et({},x),{topic:E,requiredNamespaces:w,optionalNamespaces:m,pairingTopic:p,acknowledged:!1,self:x.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:v,transportType:Ct.relay});await this.client.session.set(E,T),y.addTrace(Ns.store_session);try{y.addTrace(Ns.publishing_session_settle),await this.sendRequest({topic:E,method:"wc_sessionSettle",params:x,throwOnFailedPublish:!0}).catch(C=>{throw y==null||y.setError(fc.session_settle_publish_failure),C}),y.addTrace(Ns.session_settle_publish_success),y.addTrace(Ns.publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:v},throwOnFailedPublish:!0}).catch(C=>{throw y==null||y.setError(fc.session_approve_publish_failure),C}),y.addTrace(Ns.session_approve_publish_success)}catch(C){throw this.client.logger.error(C),this.client.session.delete(E,At("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(E),C}return this.client.core.eventClient.deleteEvent({eventId:y.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(E,Qt(Vl)),{topic:E,acknowledged:()=>Promise.resolve(this.client.session.get(E))}}),G(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:on.wc_sessionPropose.reject}),await this.deleteProposal(r)}),G(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=wc(),c=di(),l=kc().toString(),u=this.client.session.get(r).namespaces;return this.events.once(tt("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:i}}),G(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=di(),{done:i,resolve:o,reject:a}=wc();return this.events.once(tt("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,Qt(Vl)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),G(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:r,request:s,topic:i,expiry:o=on.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);(a==null?void 0:a.transportType)===Ct.relay&&await this.confirmOnlineStateOrThrow();const c=di(),l=kc().toString(),{done:u,resolve:d,reject:f}=wc(o,"Request expired. Please try again.");this.events.once(tt("session_request",c),({error:w,result:m})=>{w?f(w):d(m)});const h="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:{request:hr(Et({},s),{expiryTimestamp:Qt(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(w=>f(w)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const g={request:hr(Et({},s),{expiryTimestamp:Qt(o)}),chainId:r};return await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(m=>f(m)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),w()}),new Promise(async w=>{var m;if(!((m=a.sessionConfig)!=null&&m.disableDeepLink)){const y=await ise(this.client.core.storage,SN);await nse({id:c,topic:i,wcDeepLink:y})}w()}),u()]).then(w=>w[2])}),G(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===Ct.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);fi(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):us(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),G(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=di(),i=kc().toString(),{done:o,resolve:a,reject:c}=wc();this.events.once(tt("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),G(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=kc().toString(),a=di();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),G(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:At("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=ee("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),G(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>hae(r,n)))),G(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),G(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?Ct.link_mode:Ct.relay;o===Ct.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:f,exp:h,nbf:p,methods:g=[],expiry:w}=n,m=[...n.resources||[]],{topic:y,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:y,uri:v}});const _=await this.client.core.crypto.generateKeyPair(),E=Bm(_);if(await Promise.all([this.client.auth.authKeys.set(zm,{responseTopic:E,publicKey:_}),this.client.auth.pairingTopics.set(E,{topic:E,pairingTopic:y})]),await this.client.core.relayer.subscribe(E,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${y}`),g.length>0){const{namespace:$}=$u(a[0]);let j=bie($,"request",g);jm(m)&&(j=_ie(j,m.pop())),m.push(j)}const x=w&&w>on.wc_sessionAuthenticate.req.ttl?w:on.wc_sessionAuthenticate.req.ttl,S={authPayload:{type:f??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:h,nbf:p,resources:m},requester:{publicKey:_,metadata:this.client.metadata},expiryTimestamp:Qt(x)},T={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},C={requiredNamespaces:{},optionalNamespaces:T,relays:[{protocol:"irn"}],pairingTopic:y,proposer:{publicKey:_,metadata:this.client.metadata},expiryTimestamp:Qt(on.wc_sessionPropose.req.ttl),id:di()},{done:R,resolve:O,reject:L}=wc(x,"Request expired"),U=di(),B=tt("session_connect",C.id),I=tt("session_request",U),N=async({error:$,session:j})=>{this.events.off(I,M),$?L($):j&&O({session:j})},M=async $=>{var j,F,H;if(await this.deletePendingAuthRequest(U,{message:"fulfilled",code:0}),$.error){const Le=At("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return $.error.code===Le.code?void 0:(this.events.off(B,N),L($.error.message))}await this.deleteProposal(C.id),this.events.off(B,N);const{cacaos:Y,responder:Z}=$.result,se=[],ge=[];for(const Le of Y){await mT({cacao:Le,projectId:this.client.core.projectId})||(this.client.logger.error(Le,"Signature verification failed"),L(At("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:pt}=Le,zt=jm(pt.resources),Io=[JE(pt.iss)],et=Fy(pt.iss);if(zt){const ze=yT(zt),Wt=wT(zt);se.push(...ze),Io.push(...Wt)}for(const ze of Io)ge.push(`${ze}:${et}`)}const ke=await this.client.core.crypto.generateSharedKey(_,Z.publicKey);let Te;se.length>0&&(Te={topic:ke,acknowledged:!0,self:{publicKey:_,metadata:this.client.metadata},peer:Z,controller:Z.publicKey,expiry:Qt(Vl),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:y,namespaces:zT([...new Set(se)],[...new Set(ge)]),transportType:o},await this.client.core.relayer.subscribe(ke,{transportType:o}),await this.client.session.set(ke,Te),y&&await this.client.core.pairing.updateMetadata({topic:y,metadata:Z.metadata}),Te=this.client.session.get(ke)),(j=this.client.metadata.redirect)!=null&&j.linkMode&&(F=Z.metadata.redirect)!=null&&F.linkMode&&(H=Z.metadata.redirect)!=null&&H.universal&&r&&(this.client.core.addLinkModeSupportedApp(Z.metadata.redirect.universal),this.client.session.update(ke,{transportType:Ct.link_mode})),O({auths:Y,session:Te})};this.events.once(B,N),this.events.once(I,M);let k;try{if(i){const $=Sa("wc_sessionAuthenticate",S,U);this.client.core.history.set(y,$);const j=await this.client.core.crypto.encode("",$,{type:og,encoding:aa});k=am(r,y,j)}else await Promise.all([this.sendRequest({topic:y,method:"wc_sessionAuthenticate",params:S,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:U}),this.sendRequest({topic:y,method:"wc_sessionPropose",params:C,expiry:on.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:C.id})])}catch($){throw this.events.off(B,N),this.events.off(I,M),$}return await this.setProposal(C.id,C),await this.setAuthRequest(U,{request:hr(Et({},S),{verifyContext:{}}),pairingTopic:y,transportType:o}),{uri:k??v,response:R}}),G(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[hc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw i.setError(wf.no_internet_connection),w}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(wf.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Ct.relay;a===Ct.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Bm(c),d={type:lo,receiverPublicKey:c,senderPublicKey:l},f=[],h=[];for(const w of s){if(!await mT({cacao:w,projectId:this.client.core.projectId})){i.setError(wf.invalid_cacao);const E=At("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:E,encodeOpts:d}),new Error(E.message)}i.addTrace(hc.cacaos_verified);const{p:m}=w,y=jm(m.resources),v=[JE(m.iss)],_=Fy(m.iss);if(y){const E=yT(y),x=wT(y);f.push(...E),v.push(...x)}for(const E of v)h.push(`${E}:${_}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(hc.create_authenticated_session_topic);let g;if((f==null?void 0:f.length)>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Qt(Vl),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:zT([...new Set(f)],[...new Set(h)]),transportType:a},i.addTrace(hc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(w){throw i.setError(wf.subscribe_authenticated_session_topic_failure),w}i.addTrace(hc.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),i.addTrace(hc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(hc.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw i.setError(wf.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:g}}),G(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===Ct.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Bm(o),l={type:lo,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:on.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),G(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return e8(r,s)}),G(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),G(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),G(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,At("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(SN).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,At("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=ai.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),G(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(fc.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,At("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),G(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=ai.idle,this.client.events.emit("session_request_expire",{id:n}))}),G(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),G(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),G(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Qt(on.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),G(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=Ct.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),G(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||Qt(on.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),G(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,f=Sa(s,i,c);let h;const p=!!u;try{const m=p?aa:qs;h=await this.client.core.crypto.encode(r,f,{encoding:m})}catch(m){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),m}let g;if(Ife.includes(s)){const m=vi(JSON.stringify(f)),y=vi(h);g=await this.client.core.verify.register({id:y,decryptedId:m})}const w=on[s].req;if(w.attestation=g,o&&(w.ttl=o),a&&(w.id=a),this.client.core.history.set(r,f),p){const m=am(u,r,h);await global.Linking.openURL(m,this.client.name)}else{const m=on[s].req;o&&(m.ttl=o),a&&(m.id=a),m.tvf=hr(Et({},d),{correlationId:f.id}),l?(m.internal=hr(Et({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,h,m)):this.client.core.relayer.publish(r,h,m).catch(y=>this.client.logger.error(y))}return f.id}),G(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=uw(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?aa:qs;u=await this.client.core.crypto.encode(s,l,hr(Et({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let f,h;try{f=await this.client.core.history.get(s,r);const p=f.request;try{h=this.getTVFParams(r,p.params,i)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g==null?void 0:g.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(d){const p=am(c,s,u);await global.Linking.openURL(p,this.client.name)}else{const p=f.request.method,g=on[p].res;g.tvf=hr(Et({},h),{correlationId:r}),o?(g.internal=hr(Et({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(l)}),G(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=dw(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=d?aa:qs;u=await this.client.core.crypto.encode(s,l,hr(Et({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),h}let f;try{f=await this.client.core.history.get(s,r)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),h}if(d){const h=am(c,s,u);await global.Linking.openURL(h,this.client.name)}else{const h=f.request.method,p=a||on[h].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),G(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;ta(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{ta(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),G(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),G(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),G(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===ai.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ai.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=ai.idle}),G(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),G(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),G(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=ee("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),G(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),G(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(Yi.proposal_listener_not_found)),this.isValidConnect(Et({},s.params));const u=a.expiryTimestamp||Qt(on.wc_sessionPropose.req.ttl),d=Et({id:c,pairingTopic:r,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,d);const f=await this.getVerifyContext({attestationId:i,hash:vi(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(ci.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:f})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:on.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),G(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(fi(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(us(r)){await this.deleteProposal(i);const o=tt("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),G(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:f}=r.params,h=[...this.pendingSessions.values()].find(w=>w.sessionTopic===n);if(!h)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(h.proposalId),g=hr(Et(Et(Et({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),{transportType:Ct.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(tt("session_connect",h.proposalId),{session:g}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),G(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;fi(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(tt("session_approve",s),{})):us(r)&&(await this.client.session.delete(n,At("USER_DISCONNECTED")),this.events.emit(tt("session_approve",s),{error:r.error}))}),G(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=mf.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:At("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Et({topic:n},s));try{mf.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(c){throw mf.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),G(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),G(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=tt("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);fi(r)?this.events.emit(tt("session_update",s),{}):us(r)&&this.events.emit(tt("session_update",s),{error:r.error})}),G(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Qt(Vl)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),G(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=tt("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);fi(r)?this.events.emit(tt("session_extend",s),{}):us(r)&&this.events.emit(tt("session_extend",s),{error:r.error})}),G(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),G(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=tt("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);fi(r)?this.events.emit(tt("session_ping",s),{}):us(r)&&this.events.emit(tt("session_ping",s),{error:r.error})},500)}),G(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(ln.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:At("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),G(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:f}=a;try{await this.isValidRequest(Et({topic:o},f));const h=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:vi(JSON.stringify(Sa("wc_sessionRequest",f,d))),encryptedId:l,metadata:h.peer.metadata,transportType:u}),g={id:d,topic:o,params:f,verifyContext:p};await this.setPendingSessionRequest(g),u===Ct.link_mode&&(r=h.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=h.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(h){await this.sendError({id:d,topic:o,error:h}),this.client.logger.error(h)}}),G(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=tt("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);fi(r)?this.events.emit(tt("session_request",s),{result:r.result}):us(r)&&this.events.emit(tt("session_request",s),{error:r.error})}),G(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=mf.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Et({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),mf.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),G(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),fi(r)?this.events.emit(tt("session_request",s),{result:r.result}):us(r)&&this.events.emit(tt("session_request",s),{error:r.error})}),G(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=i.params,f=await this.getVerifyContext({attestationId:o,hash:vi(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),h={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:f,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:h,pairingTopic:s,transportType:c}),c===Ct.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:f})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(i.params.requester.metadata,c),h={type:lo,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:h,rpcOpts:on.wc_sessionAuthenticate.autoReject,appLink:f})}}),G(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),G(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ai.idle,this.processSessionRequestQueue()},J.toMiliseconds(this.requestQueueDelay))}),G(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=tt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(tt("session_request",i.request.id),{error:r})})}),G(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===ai.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=ai.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),G(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),G(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Sa("wc_sessionPropose",hr(Et({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),G(this,"isValidConnect",async n=>{if(!mr(n)){const{message:l}=ee("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(_n(r)||await this.isValidPairingTopic(r),!Sae(c)){const{message:l}=ee("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!_n(s)&&Fa(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(!_n(i)&&Fa(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),_n(o)||this.validateSessionProps(o,"sessionProperties"),!_n(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),G(this,"validateNamespaces",(n,r)=>{const s=xae(n,"connect()",r);if(s)throw new Error(s.message)}),G(this,"isValidApprove",async n=>{if(!mr(n))throw new Error(ee("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=hb(s,"approve()");if(l)throw new Error(l.message);const u=HT(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!Gt(i,!0)){const{message:d}=ee("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(_n(o)||this.validateSessionProps(o,"sessionProperties"),!_n(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(f=>d.has(f)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),G(this,"isValidReject",async n=>{if(!mr(n)){const{message:i}=ee("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Iae(s)){const{message:i}=ee("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),G(this,"isValidSessionSettleRequest",n=>{if(!mr(n)){const{message:l}=ee("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!R8(r)){const{message:l}=ee("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=wae(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=hb(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(ta(o)){const{message:l}=ee("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),G(this,"isValidUpdate",async n=>{if(!mr(n)){const{message:c}=ee("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=hb(s,"update()");if(o)throw new Error(o.message);const a=HT(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),G(this,"isValidExtend",async n=>{if(!mr(n)){const{message:s}=ee("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),G(this,"isValidRequest",async n=>{if(!mr(n)){const{message:c}=ee("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!qT(a,i)){const{message:c}=ee("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!Tae(s)){const{message:c}=ee("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!Rae(a,i,s.method)){const{message:c}=ee("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!Dae(o,bb)){const{message:c}=ee("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${bb.min} and ${bb.max}`);throw new Error(c)}}),G(this,"isValidRespond",async n=>{var r;if(!mr(n)){const{message:o}=ee("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Nae(i)){const{message:o}=ee("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),G(this,"isValidPing",async n=>{if(!mr(n)){const{message:s}=ee("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),G(this,"isValidEmit",async n=>{if(!mr(n)){const{message:a}=ee("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!qT(o,i)){const{message:a}=ee("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!Pae(s)){const{message:a}=ee("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!Oae(o,i,s.name)){const{message:a}=ee("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),G(this,"isValidDisconnect",async n=>{if(!mr(n)){const{message:s}=ee("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),G(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Gt(s,!1))throw new Error("uri is required parameter");if(!Gt(i,!1))throw new Error("domain is required parameter");if(!Gt(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>$u(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=$u(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),G(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||ah,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Ct.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),G(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=ee("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),G(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),G(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),G(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=ee("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),G(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,d,f;return!n||r!==Ct.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((f=n==null?void 0:n.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),G(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),G(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=sT(n,"topic")||"",s=decodeURIComponent(sT(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:Ct.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),G(this,"registerLinkModeListeners",async()=>{var n;if(zx()||ac()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),G(this,"getTVFParams",(n,r,s)=>{var i,o,a;if(!((i=r.request)!=null&&i.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),G(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),G(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=Sfe[i];if(i==="sui_signTransaction")return[sie(r.transactionBytes)];if(i==="near_signTransaction")return[fT(r)];if(i==="near_signTransactions")return r.map(c=>fT(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[Zae({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return uo(r)?r.map(c=>hT(c)):[hT(r)];if(i==="cosmos_signDirect")return[oie(r)];if(typeof r=="string")return[r];const a=r[o.key];if(uo(a))return i==="solana_signAllTransactions"?a.map(c=>rie(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(ln.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(zm)?this.client.auth.authKeys.get(zm):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===Ct.link_mode?aa:qs});rS(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:vi(r)})):fw(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(cs.expired,async e=>{const{topic:n,id:r}=jD(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,ee("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,ee("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Ec.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Ec.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Gt(e,!1)){const{message:n}=ee("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=ee("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(ta(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=ee("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Gt(e,!1)){const{message:n}=ee("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=ee("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(ta(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=ee("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=ee("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Gt(e,!1)){const{message:n}=ee("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=ee("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!Aae(e)){const{message:n}=ee("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=ee("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(ta(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=ee("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class jfe extends Rl{constructor(e,n){super(e,n,_fe,sS),this.core=e,this.logger=n}}let Bfe=class extends Rl{constructor(e,n){super(e,n,Cfe,sS),this.core=e,this.logger=n}};class Ffe extends Rl{constructor(e,n){super(e,n,Afe,sS,r=>r.id),this.core=e,this.logger=n}}class zfe extends Rl{constructor(e,n){super(e,n,Pfe,pw,()=>zm),this.core=e,this.logger=n}}class Wfe extends Rl{constructor(e,n){super(e,n,Rfe,pw),this.core=e,this.logger=n}}class qfe extends Rl{constructor(e,n){super(e,n,Ofe,pw,r=>r.id),this.core=e,this.logger=n}}var Hfe=Object.defineProperty,Vfe=(t,e,n)=>e in t?Hfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Eb=(t,e,n)=>Vfe(t,typeof e!="symbol"?e+"":e,n);class Gfe{constructor(e,n){this.core=e,this.logger=n,Eb(this,"authKeys"),Eb(this,"pairingTopics"),Eb(this,"requests"),this.authKeys=new zfe(this.core,this.logger),this.pairingTopics=new Wfe(this.core,this.logger),this.requests=new qfe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Kfe=Object.defineProperty,Yfe=(t,e,n)=>e in t?Kfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Be=(t,e,n)=>Yfe(t,typeof e!="symbol"?e+"":e,n);let Zfe=class i6 extends tX{constructor(e){super(e),Be(this,"protocol",n6),Be(this,"version",r6),Be(this,"name",vb.name),Be(this,"metadata"),Be(this,"core"),Be(this,"logger"),Be(this,"events",new Cs.EventEmitter),Be(this,"engine"),Be(this,"session"),Be(this,"proposal"),Be(this,"pendingRequest"),Be(this,"auth"),Be(this,"signConfig"),Be(this,"on",(r,s)=>this.events.on(r,s)),Be(this,"once",(r,s)=>this.events.once(r,s)),Be(this,"off",(r,s)=>this.events.off(r,s)),Be(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),Be(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Be(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),Be(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),Be(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),Be(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),Be(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),Be(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),Be(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),Be(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),Be(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),Be(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),Be(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),Be(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),Be(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Be(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),Be(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),Be(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),Be(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||vb.name,this.metadata=Zre(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Jp(Td({level:(e==null?void 0:e.logger)||vb.logger}));this.core=(e==null?void 0:e.core)||new Efe(e),this.logger=Hn(n,this.name),this.session=new Bfe(this.core,this.logger),this.proposal=new jfe(this.core,this.logger),this.pendingRequest=new Ffe(this.core,this.logger),this.engine=new Mfe(this),this.auth=new Gfe(this.core,this.logger)}static async init(e){const n=new i6(e);return await n.initialize(),n}get context(){return Or(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},J.toMiliseconds(J.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var S_={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof yi<"u"&&yi,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof yi<"u"&&yi||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(I){return I&&DataView.prototype.isPrototypeOf(I)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(I){return I&&u.indexOf(Object.prototype.toString.call(I))>-1};function f(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(I)||I==="")throw new TypeError('Invalid character in header field name: "'+I+'"');return I.toLowerCase()}function h(I){return typeof I!="string"&&(I=String(I)),I}function p(I){var N={next:function(){var M=I.shift();return{done:M===void 0,value:M}}};return c.iterable&&(N[Symbol.iterator]=function(){return N}),N}function g(I){this.map={},I instanceof g?I.forEach(function(N,M){this.append(M,N)},this):Array.isArray(I)?I.forEach(function(N){if(N.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+N.length);this.append(N[0],N[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(N){this.append(N,I[N])},this)}g.prototype.append=function(I,N){I=f(I),N=h(N);var M=this.map[I];this.map[I]=M?M+", "+N:N},g.prototype.delete=function(I){delete this.map[f(I)]},g.prototype.get=function(I){return I=f(I),this.has(I)?this.map[I]:null},g.prototype.has=function(I){return this.map.hasOwnProperty(f(I))},g.prototype.set=function(I,N){this.map[f(I)]=h(N)},g.prototype.forEach=function(I,N){for(var M in this.map)this.map.hasOwnProperty(M)&&I.call(N,this.map[M],M,this)},g.prototype.keys=function(){var I=[];return this.forEach(function(N,M){I.push(M)}),p(I)},g.prototype.values=function(){var I=[];return this.forEach(function(N){I.push(N)}),p(I)},g.prototype.entries=function(){var I=[];return this.forEach(function(N,M){I.push([M,N])}),p(I)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function w(I){if(!I._noBody){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}}function m(I){return new Promise(function(N,M){I.onload=function(){N(I.result)},I.onerror=function(){M(I.error)}})}function y(I){var N=new FileReader,M=m(N);return N.readAsArrayBuffer(I),M}function v(I){var N=new FileReader,M=m(N),k=/charset=([A-Za-z0-9_-]+)/.exec(I.type),$=k?k[1]:"utf-8";return N.readAsText(I,$),M}function _(I){for(var N=new Uint8Array(I),M=new Array(N.length),k=0;k<N.length;k++)M[k]=String.fromCharCode(N[k]);return M.join("")}function E(I){if(I.slice)return I.slice(0);var N=new Uint8Array(I.byteLength);return N.set(new Uint8Array(I)),N.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(I){this.bodyUsed=this.bodyUsed,this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:c.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:c.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():c.arrayBuffer&&c.blob&&l(I)?(this._bodyArrayBuffer=E(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||d(I))?this._bodyArrayBuffer=E(I):this._bodyText=I=Object.prototype.toString.call(I):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var I=w(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var I=w(this);return I||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var I=w(this);if(I)return I;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(R)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function T(I){var N=I.toUpperCase();return S.indexOf(N)>-1?N:I}function C(I,N){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');N=N||{};var M=N.body;if(I instanceof C){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,N.headers||(this.headers=new g(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!M&&I._bodyInit!=null&&(M=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new g(N.headers)),this.method=T(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal||function(){if("AbortController"in a){var j=new AbortController;return j.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&M)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(M),(this.method==="GET"||this.method==="HEAD")&&(N.cache==="no-store"||N.cache==="no-cache")){var k=/([?&])_=[^&]*/;if(k.test(this.url))this.url=this.url.replace(k,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function R(I){var N=new FormData;return I.trim().split("&").forEach(function(M){if(M){var k=M.split("="),$=k.shift().replace(/\+/g," "),j=k.join("=").replace(/\+/g," ");N.append(decodeURIComponent($),decodeURIComponent(j))}}),N}function O(I){var N=new g,M=I.replace(/\r?\n[\t ]+/g," ");return M.split("\r").map(function(k){return k.indexOf(`
`)===0?k.substr(1,k.length):k}).forEach(function(k){var $=k.split(":"),j=$.shift().trim();if(j){var F=$.join(":").trim();try{N.append(j,F)}catch(H){console.warn("Response "+H.message)}}}),N}x.call(C.prototype);function L(I,N){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=N.statusText===void 0?"":""+N.statusText,this.headers=new g(N.headers),this.url=N.url||"",this._initBody(I)}x.call(L.prototype),L.prototype.clone=function(){return new L(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},L.error=function(){var I=new L(null,{status:200,statusText:""});return I.ok=!1,I.status=0,I.type="error",I};var U=[301,302,303,307,308];L.redirect=function(I,N){if(U.indexOf(N)===-1)throw new RangeError("Invalid status code");return new L(null,{status:N,headers:{location:I}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(N,M){this.message=N,this.name=M;var k=Error(N);this.stack=k.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function B(I,N){return new Promise(function(M,k){var $=new C(I,N);if($.signal&&$.signal.aborted)return k(new o.DOMException("Aborted","AbortError"));var j=new XMLHttpRequest;function F(){j.abort()}j.onload=function(){var Z={statusText:j.statusText,headers:O(j.getAllResponseHeaders()||"")};$.url.indexOf("file://")===0&&(j.status<200||j.status>599)?Z.status=200:Z.status=j.status,Z.url="responseURL"in j?j.responseURL:Z.headers.get("X-Request-URL");var se="response"in j?j.response:j.responseText;setTimeout(function(){M(new L(se,Z))},0)},j.onerror=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},j.ontimeout=function(){setTimeout(function(){k(new TypeError("Network request timed out"))},0)},j.onabort=function(){setTimeout(function(){k(new o.DOMException("Aborted","AbortError"))},0)};function H(Z){try{return Z===""&&a.location.href?a.location.href:Z}catch{return Z}}if(j.open($.method,H($.url),!0),$.credentials==="include"?j.withCredentials=!0:$.credentials==="omit"&&(j.withCredentials=!1),"responseType"in j&&(c.blob?j.responseType="blob":c.arrayBuffer&&(j.responseType="arraybuffer")),N&&typeof N.headers=="object"&&!(N.headers instanceof g||a.Headers&&N.headers instanceof a.Headers)){var Y=[];Object.getOwnPropertyNames(N.headers).forEach(function(Z){Y.push(f(Z)),j.setRequestHeader(Z,h(N.headers[Z]))}),$.headers.forEach(function(Z,se){Y.indexOf(se)===-1&&j.setRequestHeader(se,Z)})}else $.headers.forEach(function(Z,se){j.setRequestHeader(se,Z)});$.signal&&($.signal.addEventListener("abort",F),j.onreadystatechange=function(){j.readyState===4&&$.signal.removeEventListener("abort",F)}),j.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return B.polyfill=!0,a.fetch||(a.fetch=B,a.Headers=g,a.Request=C,a.Response=L),o.Headers=g,o.Request=C,o.Response=L,o.fetch=B,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(S_,S_.exports);var Qfe=S_.exports;const TN=vl(Qfe);var Xfe=Object.defineProperty,Jfe=Object.defineProperties,ehe=Object.getOwnPropertyDescriptors,NN=Object.getOwnPropertySymbols,the=Object.prototype.hasOwnProperty,nhe=Object.prototype.propertyIsEnumerable,PN=(t,e,n)=>e in t?Xfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RN=(t,e)=>{for(var n in e||(e={}))the.call(e,n)&&PN(t,n,e[n]);if(NN)for(var n of NN(e))nhe.call(e,n)&&PN(t,n,e[n]);return t},ON=(t,e)=>Jfe(t,ehe(e));const rhe={Accept:"application/json","Content-Type":"application/json"},she="POST",kN={headers:rhe,method:she},$N=10;let ti=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Cs.EventEmitter,this.isAvailable=!1,this.registering=!1,!QT(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Eo(e),r=await(await TN(this.url,ON(RN({},kN),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!QT(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Eo({id:1,jsonrpc:"2.0",method:"test",params:[]});await TN(e,ON(RN({},kN),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?ul(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=dw(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return $8(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>$N&&this.events.setMaxListeners($N)}};const DN="error",ihe="wss://relay.walletconnect.org",ohe="wc",ahe="universal_provider",lm=`${ohe}@2:${ahe}:`,o6="https://rpc.walletconnect.org/v1/",ou="generic",che=`${o6}bundler`,Ss={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function iS(t){return t==null||typeof t!="object"&&typeof t!="function"}function a6(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function c6(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const lhe="[object RegExp]",l6="[object String]",u6="[object Number]",d6="[object Boolean]",f6="[object Arguments]",uhe="[object Symbol]",dhe="[object Date]",fhe="[object Map]",hhe="[object Set]",phe="[object Array]",ghe="[object ArrayBuffer]",mhe="[object Object]",yhe="[object DataView]",whe="[object Uint8Array]",vhe="[object Uint8ClampedArray]",bhe="[object Uint16Array]",Ehe="[object Uint32Array]",_he="[object Int8Array]",Che="[object Int16Array]",xhe="[object Int32Array]",She="[object Float32Array]",Ahe="[object Float64Array]";function oS(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ihe(t,e){return Cu(t,void 0,t,new Map,e)}function Cu(t,e,n,r=new Map,s=void 0){const i=s==null?void 0:s(t,e,n,r);if(i!=null)return i;if(iS(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Cu(t[a],a,n,r,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,Cu(c,a,n,r,s));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Cu(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(oS(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Cu(t[a],a,n,r,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),_c(o,t,n,r,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),_c(o,t,n,r,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),_c(o,t,n,r,s),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,_c(o,t,n,r,s),o}if(typeof t=="object"&&The(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),_c(o,t,n,r,s),o}return t}function _c(t,e,n=t,r,s){const i=[...Object.keys(e),...a6(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Cu(e[a],a,n,r,s))}}function The(t){switch(c6(t)){case f6:case phe:case ghe:case yhe:case d6:case dhe:case She:case Ahe:case _he:case Che:case xhe:case fhe:case u6:case mhe:case lhe:case hhe:case l6:case uhe:case whe:case vhe:case bhe:case Ehe:return!0;default:return!1}}function Nhe(t,e){return Ihe(t,(n,r,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case u6:case l6:case d6:{const o=new t.constructor(t==null?void 0:t.valueOf());return _c(o,t),o}case f6:{const o={};return _c(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function UN(t){return Nhe(t)}function LN(t){return t!==null&&typeof t=="object"&&c6(t)==="[object Arguments]"}function MN(t){return typeof t=="object"&&t!==null}function Phe(){}function Rhe(t){return oS(t)}function Ohe(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function khe(t){if(iS(t))return t;if(Array.isArray(t)||oS(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function $he(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const o=n[i];s=A_(s,o,r,new Map)}return s}function A_(t,e,n,r){if(iS(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return khe(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...a6(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(LN(a)&&(a={...a}),LN(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=UN(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let f=0;f<d.length;f++){const h=d[f];u[h]=c[h]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||MN(c)&&MN(a)?t[o]=A_(c,a,n,r):c==null&&Ohe(a)?t[o]=A_({},a,n,r):c==null&&Rhe(a)?t[o]=UN(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function Dhe(t,...e){return $he(t,...e,Phe)}var Uhe=Object.defineProperty,Lhe=Object.defineProperties,Mhe=Object.getOwnPropertyDescriptors,jN=Object.getOwnPropertySymbols,jhe=Object.prototype.hasOwnProperty,Bhe=Object.prototype.propertyIsEnumerable,BN=(t,e,n)=>e in t?Uhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,um=(t,e)=>{for(var n in e||(e={}))jhe.call(e,n)&&BN(t,n,e[n]);if(jN)for(var n of jN(e))Bhe.call(e,n)&&BN(t,n,e[n]);return t},Fhe=(t,e)=>Lhe(t,Mhe(e));function Zr(t,e,n){var r;const s=$u(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${o6}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function Ol(t){return t.includes(":")?t.split(":")[1]:t}function h6(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function zhe(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=e.namespaces[s].accounts;r.push(...i)}),r}function dm(t={},e={}){const n=FN(t),r=FN(e);return Dhe(n,r)}function FN(t){var e,n,r,s,i;const o={};if(!Fa(t))return o;for(const[a,c]of Object.entries(t)){const l=lw(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],f=c.rpcMap||{},h=_u(a);o[h]=Fhe(um(um({},o[h]),c),{chains:Ti(l,(e=o[h])==null?void 0:e.chains),methods:Ti(u,(n=o[h])==null?void 0:n.methods),events:Ti(d,(r=o[h])==null?void 0:r.events)}),(Fa(f)||Fa(((s=o[h])==null?void 0:s.rpcMap)||{}))&&(o[h].rpcMap=um(um({},f),(i=o[h])==null?void 0:i.rpcMap))}return o}function zN(t){return t.includes(":")?t.split(":")[2]:t}function WN(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=lw(n)?[n]:r.chains?r.chains:h6(r.accounts);e[n]={chains:a,methods:s,events:i,accounts:o}}return e}function _b(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const p6={},Xe=t=>p6[t],Cb=(t,e)=>{p6[t]=e};var Whe=Object.defineProperty,qhe=(t,e,n)=>e in t?Whe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gl=(t,e,n)=>qhe(t,typeof e!="symbol"?e+"":e,n);class Hhe{constructor(e){Gl(this,"name","polkadot"),Gl(this,"client"),Gl(this,"httpProviders"),Gl(this,"events"),Gl(this,"namespace"),Gl(this,"chainId"),this.namespace=e.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Ol(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Zr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xs(new ti(r,Xe("disableProviderPing")))}}var Vhe=Object.defineProperty,Ghe=Object.defineProperties,Khe=Object.getOwnPropertyDescriptors,qN=Object.getOwnPropertySymbols,Yhe=Object.prototype.hasOwnProperty,Zhe=Object.prototype.propertyIsEnumerable,I_=(t,e,n)=>e in t?Vhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HN=(t,e)=>{for(var n in e||(e={}))Yhe.call(e,n)&&I_(t,n,e[n]);if(qN)for(var n of qN(e))Zhe.call(e,n)&&I_(t,n,e[n]);return t},VN=(t,e)=>Ghe(t,Khe(e)),Kl=(t,e,n)=>I_(t,typeof e!="symbol"?e+"":e,n);class Qhe{constructor(e){Kl(this,"name","eip155"),Kl(this,"client"),Kl(this,"chainId"),Kl(this,"namespace"),Kl(this,"httpProviders"),Kl(this,"events"),this.namespace=e.namespace,this.events=Xe("events"),this.client=Xe("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Zr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xs(new ti(r,Xe("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(Ol(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s,i,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[],l=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((o=u==null?void 0:u.sessionProperties)==null?void 0:o.capabilities)||{};if(d!=null&&d[l])return d==null?void 0:d[l];const f=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:VN(HN({},u.sessionProperties||{}),{capabilities:VN(HN({},d||{}),{[l]:f})})})}catch(h){console.warn("Failed to update session with capabilities",h)}return f}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const a=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Sa("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,n){return`${che}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var Xhe=Object.defineProperty,Jhe=(t,e,n)=>e in t?Xhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yl=(t,e,n)=>Jhe(t,typeof e!="symbol"?e+"":e,n);class epe{constructor(e){Yl(this,"name","solana"),Yl(this,"client"),Yl(this,"httpProviders"),Yl(this,"events"),Yl(this,"namespace"),Yl(this,"chainId"),this.namespace=e.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Ol(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Zr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xs(new ti(r,Xe("disableProviderPing")))}}var tpe=Object.defineProperty,npe=(t,e,n)=>e in t?tpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zl=(t,e,n)=>npe(t,typeof e!="symbol"?e+"":e,n);class rpe{constructor(e){Zl(this,"name","cosmos"),Zl(this,"client"),Zl(this,"httpProviders"),Zl(this,"events"),Zl(this,"namespace"),Zl(this,"chainId"),this.namespace=e.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Ol(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Zr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xs(new ti(r,Xe("disableProviderPing")))}}var spe=Object.defineProperty,ipe=(t,e,n)=>e in t?spe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ql=(t,e,n)=>ipe(t,typeof e!="symbol"?e+"":e,n);class ope{constructor(e){Ql(this,"name","algorand"),Ql(this,"client"),Ql(this,"httpProviders"),Ql(this,"events"),Ql(this,"namespace"),Ql(this,"chainId"),this.namespace=e.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Zr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Zr(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new xs(new ti(r,Xe("disableProviderPing")))}}var ape=Object.defineProperty,cpe=(t,e,n)=>e in t?ape(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xl=(t,e,n)=>cpe(t,typeof e!="symbol"?e+"":e,n);class lpe{constructor(e){Xl(this,"name","cip34"),Xl(this,"client"),Xl(this,"httpProviders"),Xl(this,"events"),Xl(this,"namespace"),Xl(this,"chainId"),this.namespace=e.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=Ol(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xs(new ti(r,Xe("disableProviderPing")))}}var upe=Object.defineProperty,dpe=(t,e,n)=>e in t?upe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jl=(t,e,n)=>dpe(t,typeof e!="symbol"?e+"":e,n);class fpe{constructor(e){Jl(this,"name","elrond"),Jl(this,"client"),Jl(this,"httpProviders"),Jl(this,"events"),Jl(this,"namespace"),Jl(this,"chainId"),this.namespace=e.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Ol(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Zr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xs(new ti(r,Xe("disableProviderPing")))}}var hpe=Object.defineProperty,ppe=(t,e,n)=>e in t?hpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eu=(t,e,n)=>ppe(t,typeof e!="symbol"?e+"":e,n);class gpe{constructor(e){eu(this,"name","multiversx"),eu(this,"client"),eu(this,"httpProviders"),eu(this,"events"),eu(this,"namespace"),eu(this,"chainId"),this.namespace=e.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Ol(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Zr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xs(new ti(r,Xe("disableProviderPing")))}}var mpe=Object.defineProperty,ype=(t,e,n)=>e in t?mpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tu=(t,e,n)=>ype(t,typeof e!="symbol"?e+"":e,n);class wpe{constructor(e){tu(this,"name","near"),tu(this,"client"),tu(this,"httpProviders"),tu(this,"events"),tu(this,"namespace"),tu(this,"chainId"),this.namespace=e.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Zr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Zr(e,this.namespace);return typeof r>"u"?void 0:new xs(new ti(r,Xe("disableProviderPing")))}}var vpe=Object.defineProperty,bpe=(t,e,n)=>e in t?vpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nu=(t,e,n)=>bpe(t,typeof e!="symbol"?e+"":e,n);class Epe{constructor(e){nu(this,"name","tezos"),nu(this,"client"),nu(this,"httpProviders"),nu(this,"events"),nu(this,"namespace"),nu(this,"chainId"),this.namespace=e.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Zr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Zr(e,this.namespace);return typeof r>"u"?void 0:new xs(new ti(r))}}var _pe=Object.defineProperty,Cpe=(t,e,n)=>e in t?_pe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ru=(t,e,n)=>Cpe(t,typeof e!="symbol"?e+"":e,n);class xpe{constructor(e){ru(this,"name",ou),ru(this,"client"),ru(this,"httpProviders"),ru(this,"events"),ru(this,"namespace"),ru(this,"chainId"),this.namespace=e.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const i=$u(s);r[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Zr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new xs(new ti(r,Xe("disableProviderPing")))}}var Spe=Object.defineProperty,Ape=Object.defineProperties,Ipe=Object.getOwnPropertyDescriptors,GN=Object.getOwnPropertySymbols,Tpe=Object.prototype.hasOwnProperty,Npe=Object.prototype.propertyIsEnumerable,T_=(t,e,n)=>e in t?Spe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fm=(t,e)=>{for(var n in e||(e={}))Tpe.call(e,n)&&T_(t,n,e[n]);if(GN)for(var n of GN(e))Npe.call(e,n)&&T_(t,n,e[n]);return t},xb=(t,e)=>Ape(t,Ipe(e)),os=(t,e,n)=>T_(t,typeof e!="symbol"?e+"":e,n);let Ppe=class g6{constructor(e){os(this,"client"),os(this,"namespaces"),os(this,"optionalNamespaces"),os(this,"sessionProperties"),os(this,"scopedProperties"),os(this,"events",new Sx),os(this,"rpcProviders",{}),os(this,"session"),os(this,"providerOpts"),os(this,"logger"),os(this,"uri"),os(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Jp(Td({level:(e==null?void 0:e.logger)||DN})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new g6(e);return await n.initialize(),n}async request(e,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:fm({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const i=new Date().getTime();this.request(e,r,s).then(o=>n(null,uw(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:At("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=WN(this.session.namespaces);this.namespaces=dm(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=WN(s.namespaces);return this.namespaces=dm(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),i=this.getProvider(r);i.name===ou?i.setDefaultChain(`${r}:${s}`,n):i.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(uo(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await Zfe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||DN,relayUrl:this.providerOpts.relayUrl||ihe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>_u(n)))];Cb("client",this.client),Cb("events",this.events),Cb("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=zhe(n,this.session),s=h6(r),i=dm(this.namespaces,this.optionalNamespaces),o=xb(fm({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new Qhe({namespace:o});break;case"algorand":this.rpcProviders[n]=new ope({namespace:o});break;case"solana":this.rpcProviders[n]=new epe({namespace:o});break;case"cosmos":this.rpcProviders[n]=new rpe({namespace:o});break;case"polkadot":this.rpcProviders[n]=new Hhe({namespace:o});break;case"cip34":this.rpcProviders[n]=new lpe({namespace:o});break;case"elrond":this.rpcProviders[n]=new fpe({namespace:o});break;case"multiversx":this.rpcProviders[n]=new gpe({namespace:o});break;case"near":this.rpcProviders[n]=new wpe({namespace:o});break;case"tezos":this.rpcProviders[n]=new Epe({namespace:o});break;default:this.rpcProviders[ou]?this.rpcProviders[ou].updateNamespace(o):this.rpcProviders[ou]=new xpe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&uo(o)&&this.events.emit("accountsChanged",o.map(zN))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=_u(o),l=_b(o)!==_b(a)?`${c}:${_b(a)}`:o;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(e);this.session=xb(fm({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",xb(fm({},At("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Ss.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[ou]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=dm(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>_u(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=_u(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const i=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(zN);if(!uo(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${lm}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${lm}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${lm}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(lm)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const lh={getSIWX(){return K.state.siwx},async initializeIfEnabled(){var i;const t=K.state.siwx,e=P.getActiveCaipAddress();if(!(t&&e))return;const[n,r,s]=e.split(":");if(P.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,s)).length)return;await nt.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),ot.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((i=de._getClient())==null?void 0:i.disconnect().catch(console.error)),_e.reset("Connect"),Ws.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=K.state.siwx,e=me.getPlainAddress(P.getActiveCaipAddress()),n=P.getActiveCaipNetwork(),r=de._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=s.toString();re.getConnectorId(n.chainNamespace)===q.CONNECTOR_ID.AUTH&&_e.pushTransactionStack({});const a=await r.signMessage(i);await t.addSession({data:s,message:i,signature:a}),P.setLastConnectedSIWECaipNetwork(n),nt.close(),ot.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!nt.state.open||_e.state.view==="ApproveTransaction")&&await nt.open({view:"SIWXSignMessage"}),i.isSmartAccount?Ws.showError("This application might not support Smart Accounts"):Ws.showError("Signature declined"),ot.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();if((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e)){const r=P.getLastConnectedSIWECaipNetwork();r?P.switchActiveNetwork(r):await de.disconnect()}else nt.close();_e.reset("Connect"),ot.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const t=this.getSIWX(),e=P.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const s=await(t==null?void 0:t.getSessions(r.caipNetworkId,me.getPlainAddress(P.getActiveCaipAddress())||""));s&&n.push(...s)})),n},async getSessions(){const t=K.state.siwx,e=me.getPlainAddress(P.getActiveCaipAddress()),n=P.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=_e.state.view==="ApproveTransaction",r=_e.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=lh.getSIWX(),s=new Set(e.map(u=>u.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const i=await r.createMessage({chainId:((a=P.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...e.filter(u=>u!==i.chainId)]});if(Ws.showLoading("Authenticating...",{autoClose:!1}),te.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(d=>{const f=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||i.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:f,signature:d.s.s,cacao:d}});try{await r.setSessions(u),ot.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:lh.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),ot.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:lh.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{Ws.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=P.state.activeChain;return{network:((e=P.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=te.state.preferredAccountTypes)==null?void 0:n[t])===hn.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},xt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Aa={ConnectorExplorerIds:{[q.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[q.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[q.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[q.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[q.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[xt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[xt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[xt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[xt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[xt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[xt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[xt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[xt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[xt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[xt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[xt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[q.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[q.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[q.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[q.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[q.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[q.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[q.CONNECTOR_ID.INJECTED]:"Browser Wallet",[q.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[q.CONNECTOR_ID.COINBASE]:"Coinbase",[q.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[q.CONNECTOR_ID.LEDGER]:"Ledger",[q.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[q.CONNECTOR_ID.INJECTED]:"INJECTED",[q.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[q.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[q.CONNECTOR_ID.AUTH]:"AUTH"}},gp={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${xt.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){const t=P.state.activeChain;return q.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>re.getConnectorId(e)===q.CONNECTOR_ID.AUTH&&e===t)}},Rpe=new AbortController,Nt={EmbeddedWalletAbortController:Rpe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${Ope()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"},SERVER_ERROR_APP_CONFIGURATION:{shortMessage:"Server Error",longMessage:t=>`Failed to get App Configuration ${t||""}`},RATE_LIMITED_APP_CONFIGURATION:{shortMessage:"Rate Limited",longMessage:"Rate limited when trying to get the App Configuration"}}};function Ope(){return typeof window<"u"}const kpe={createLogger(t,e="error"){const n=Td({level:e}),{logger:r}=Ix({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},r}},$pe="rpc.walletconnect.org";function KN(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const Sb=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],_i={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===$pe}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:q.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${q.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,i,o;const r=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return Sb.includes(e)?KN(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var f,h,p,g,w;const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(f=t.rpcUrls.default.http)==null?void 0:f[0],a=this.getDefaultRpcUrl(t,i,n),c=((g=(p=(h=t==null?void 0:t.rpcUrls)==null?void 0:h.chainDefault)==null?void 0:p.http)==null?void 0:g[0])||o,l=((w=r==null?void 0:r[i])==null?void 0:w.map(m=>m.url))||[],u=[...l,a],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:Aa.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>_i.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,i,o;const r=[];return n==null||n.forEach(a=>{r.push(kg(a.url,a.config))}),Sb.includes(t.caipNetworkId)&&r.push(kg(KN(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{r.push(kg(a))}),G2(r)},extendWagmiTransports(t,e,n){if(Sb.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return G2([n,kg(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:q.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=ne.getActiveCaipNetworkId(),n=P.getAllRequestedCaipNetworks(),r=Array.from(((c=P.state.chains)==null?void 0:c.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?r.includes(s):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},Vy={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},pr=bt({providers:{...Vy},providerIds:{...Vy}}),dt={state:pr,subscribeKey(t,e){return In(pr,t,e)},subscribe(t){return An(pr,()=>{t(pr)})},subscribeProviders(t){return An(pr.providers,()=>t(pr.providers))},setProvider(t,e){e&&(pr.providers[t]=cl(e))},getProvider(t){return pr.providers[t]},setProviderId(t,e){e&&(pr.providerIds[t]=e)},getProviderId(t){if(t)return pr.providerIds[t]},reset(){pr.providers={...Vy},pr.providerIds={...Vy}},resetChain(t){pr.providers[t]=void 0,pr.providerIds[t]=void 0}},YN={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},bn={set(t,e){Wr.isClient&&localStorage.setItem(`${he.STORAGE_KEY}${t}`,e)},get(t){return Wr.isClient?localStorage.getItem(`${he.STORAGE_KEY}${t}`):null},delete(t,e){Wr.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${he.STORAGE_KEY}${t}`))}},hm=30*1e3,Wr={checkIfAllowedToTriggerEmail(){const t=bn.get(he.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<hm){const n=Math.ceil((hm-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=bn.get(he.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<hm)return Math.ceil((hm-e)/1e3)}return 0},checkIfRequestExists(t){return hn.NOT_SAFE_RPC_METHODS.includes(t.method)||hn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(YN.transactionHash))||(t==null?void 0:t.match(YN.signedMessage)))?he.RPC_RESPONSE_TYPE_TX:he.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return hn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Qe;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Qe||(Qe={}));var N_;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(N_||(N_={}));const ce=Qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ca=t=>{switch(typeof t){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return isNaN(t)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(t)?ce.array:t===null?ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ce.promise:typeof Map<"u"&&t instanceof Map?ce.map:typeof Set<"u"&&t instanceof Set?ce.set:typeof Date<"u"&&t instanceof Date?ce.date:ce.object;default:return ce.unknown}},X=Qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Dpe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ys extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ys.create=t=>new Ys(t);const mp=(t,e)=>{let n;switch(t.code){case X.invalid_type:t.received===ce.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case X.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Qe.jsonStringifyReplacer)}`;break;case X.unrecognized_keys:n=`Unrecognized key(s) in object: ${Qe.joinValues(t.keys,", ")}`;break;case X.invalid_union:n="Invalid input";break;case X.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Qe.joinValues(t.options)}`;break;case X.invalid_enum_value:n=`Invalid enum value. Expected ${Qe.joinValues(t.options)}, received '${t.received}'`;break;case X.invalid_arguments:n="Invalid function arguments";break;case X.invalid_return_type:n="Invalid function return type";break;case X.invalid_date:n="Invalid date";break;case X.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Qe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case X.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case X.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case X.custom:n="Invalid input";break;case X.invalid_intersection_types:n="Intersection results could not be merged";break;case X.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case X.not_finite:n="Number must be finite";break;default:n=e.defaultError,Qe.assertNever(t)}return{message:n}};let m6=mp;function Upe(t){m6=t}function Gy(){return m6}const Ky=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},Lpe=[];function fe(t,e){const n=Ky({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Gy(),mp].filter(r=>!!r)});t.common.issues.push(n)}class qn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ie;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return qn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ie;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Ie=Object.freeze({status:"aborted"}),y6=t=>({status:"dirty",value:t}),sr=t=>({status:"valid",value:t}),P_=t=>t.status==="aborted",R_=t=>t.status==="dirty",yp=t=>t.status==="valid",Yy=t=>typeof Promise<"u"&&t instanceof Promise;var ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ve||(ve={}));class Oi{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ZN=(t,e)=>{if(yp(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ys(t.common.issues);return this._error=n,this._error}}};function Oe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class Ue{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ca(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ca(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qn,ctx:{common:e.parent.common,data:e.data,parsedType:ca(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Yy(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ca(e)},i=this._parseSync({data:e,path:s.path,parent:s});return ZN(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ca(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Yy(s)?s:Promise.resolve(s));return ZN(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:X.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Js({schema:this,typeName:xe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return fo.create(this,this._def)}nullable(){return yl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Zs.create(this,this._def)}promise(){return pd.create(this,this._def)}or(e){return Ep.create([this,e],this._def)}and(e){return _p.create(this,e,this._def)}transform(e){return new Js({...Oe(this._def),schema:this,typeName:xe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ip({...Oe(this._def),innerType:this,defaultValue:n,typeName:xe.ZodDefault})}brand(){return new v6({typeName:xe.ZodBranded,type:this,...Oe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Jy({...Oe(this._def),innerType:this,catchValue:n,typeName:xe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return cg.create(this,e)}readonly(){return t0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Mpe=/^c[^\s-]{8,}$/i,jpe=/^[a-z][a-z0-9]*$/,Bpe=/^[0-9A-HJKMNP-TV-Z]{26}$/,Fpe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zpe=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Wpe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ab;const qpe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Hpe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Vpe=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Gpe(t,e){return!!((e==="v4"||!e)&&qpe.test(t)||(e==="v6"||!e)&&Hpe.test(t))}class Hs extends Ue{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ce.string){const i=this._getOrReturnCtx(e);return fe(i,{code:X.invalid_type,expected:ce.string,received:i.parsedType}),Ie}const r=new qn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:X.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:X.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?fe(s,{code:X.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&fe(s,{code:X.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")zpe.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"email",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Ab||(Ab=new RegExp(Wpe,"u")),Ab.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"emoji",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Fpe.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"uuid",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Mpe.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"cuid",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")jpe.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"cuid2",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Bpe.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"ulid",code:X.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),fe(s,{validation:"url",code:X.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"regex",code:X.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),fe(s,{code:X.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),fe(s,{code:X.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),fe(s,{code:X.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Vpe(i).test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{code:X.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?Gpe(e.data,i.version)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"ip",code:X.invalid_string,message:i.message}),r.dirty()):Qe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:X.invalid_string,...ve.errToObj(r)})}_addCheck(e){return new Hs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ve.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...ve.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ve.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ve.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ve.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ve.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ve.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ve.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ve.errToObj(n)})}nonempty(e){return this.min(1,ve.errToObj(e))}trim(){return new Hs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hs.create=t=>{var e;return new Hs({checks:[],typeName:xe.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Oe(t)})};function Kpe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Ja extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ce.number){const i=this._getOrReturnCtx(e);return fe(i,{code:X.invalid_type,expected:ce.number,received:i.parsedType}),Ie}let r;const s=new qn;for(const i of this._def.checks)i.kind==="int"?Qe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:X.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:X.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:X.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Kpe(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),fe(r,{code:X.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:X.not_finite,message:i.message}),s.dirty()):Qe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,r,s){return new Ja({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ve.toString(s)}]})}_addCheck(e){return new Ja({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Qe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ja.create=t=>new Ja({checks:[],typeName:xe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Oe(t)});class ec extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ce.bigint){const i=this._getOrReturnCtx(e);return fe(i,{code:X.invalid_type,expected:ce.bigint,received:i.parsedType}),Ie}let r;const s=new qn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:X.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:X.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:X.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Qe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,r,s){return new ec({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ve.toString(s)}]})}_addCheck(e){return new ec({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ec.create=t=>{var e;return new ec({checks:[],typeName:xe.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Oe(t)})};class wp extends Ue{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ce.boolean){const r=this._getOrReturnCtx(e);return fe(r,{code:X.invalid_type,expected:ce.boolean,received:r.parsedType}),Ie}return sr(e.data)}}wp.create=t=>new wp({typeName:xe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Oe(t)});class gl extends Ue{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ce.date){const i=this._getOrReturnCtx(e);return fe(i,{code:X.invalid_type,expected:ce.date,received:i.parsedType}),Ie}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return fe(i,{code:X.invalid_date}),Ie}const r=new qn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:X.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:X.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Qe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new gl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ve.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ve.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}gl.create=t=>new gl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:xe.ZodDate,...Oe(t)});class Zy extends Ue{_parse(e){if(this._getType(e)!==ce.symbol){const r=this._getOrReturnCtx(e);return fe(r,{code:X.invalid_type,expected:ce.symbol,received:r.parsedType}),Ie}return sr(e.data)}}Zy.create=t=>new Zy({typeName:xe.ZodSymbol,...Oe(t)});class vp extends Ue{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:X.invalid_type,expected:ce.undefined,received:r.parsedType}),Ie}return sr(e.data)}}vp.create=t=>new vp({typeName:xe.ZodUndefined,...Oe(t)});class bp extends Ue{_parse(e){if(this._getType(e)!==ce.null){const r=this._getOrReturnCtx(e);return fe(r,{code:X.invalid_type,expected:ce.null,received:r.parsedType}),Ie}return sr(e.data)}}bp.create=t=>new bp({typeName:xe.ZodNull,...Oe(t)});class hd extends Ue{constructor(){super(...arguments),this._any=!0}_parse(e){return sr(e.data)}}hd.create=t=>new hd({typeName:xe.ZodAny,...Oe(t)});class Gc extends Ue{constructor(){super(...arguments),this._unknown=!0}_parse(e){return sr(e.data)}}Gc.create=t=>new Gc({typeName:xe.ZodUnknown,...Oe(t)});class Co extends Ue{_parse(e){const n=this._getOrReturnCtx(e);return fe(n,{code:X.invalid_type,expected:ce.never,received:n.parsedType}),Ie}}Co.create=t=>new Co({typeName:xe.ZodNever,...Oe(t)});class Qy extends Ue{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:X.invalid_type,expected:ce.void,received:r.parsedType}),Ie}return sr(e.data)}}Qy.create=t=>new Qy({typeName:xe.ZodVoid,...Oe(t)});class Zs extends Ue{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ce.array)return fe(n,{code:X.invalid_type,expected:ce.array,received:n.parsedType}),Ie;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(fe(n,{code:o?X.too_big:X.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(fe(n,{code:X.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(fe(n,{code:X.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Oi(n,o,n.path,a)))).then(o=>qn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Oi(n,o,n.path,a)));return qn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Zs({...this._def,minLength:{value:e,message:ve.toString(n)}})}max(e,n){return new Zs({...this._def,maxLength:{value:e,message:ve.toString(n)}})}length(e,n){return new Zs({...this._def,exactLength:{value:e,message:ve.toString(n)}})}nonempty(e){return this.min(1,e)}}Zs.create=(t,e)=>new Zs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:xe.ZodArray,...Oe(e)});function au(t){if(t instanceof Pt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=fo.create(au(r))}return new Pt({...t._def,shape:()=>e})}else return t instanceof Zs?new Zs({...t._def,type:au(t.element)}):t instanceof fo?fo.create(au(t.unwrap())):t instanceof yl?yl.create(au(t.unwrap())):t instanceof ki?ki.create(t.items.map(e=>au(e))):t}class Pt extends Ue{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Qe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ce.object){const l=this._getOrReturnCtx(e);return fe(l,{code:X.invalid_type,expected:ce.object,received:l.parsedType}),Ie}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Co&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Oi(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof Co){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(fe(s,{code:X.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Oi(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>qn.mergeObjectSync(r,l)):qn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return ve.errToObj,new Pt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ve.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Pt({...this._def,unknownKeys:"strip"})}passthrough(){return new Pt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Pt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Pt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:xe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Pt({...this._def,catchall:e})}pick(e){const n={};return Qe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Pt({...this._def,shape:()=>n})}omit(e){const n={};return Qe.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Pt({...this._def,shape:()=>n})}deepPartial(){return au(this)}partial(e){const n={};return Qe.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Pt({...this._def,shape:()=>n})}required(e){const n={};return Qe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof fo;)i=i._def.innerType;n[r]=i}}),new Pt({...this._def,shape:()=>n})}keyof(){return w6(Qe.objectKeys(this.shape))}}Pt.create=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strip",catchall:Co.create(),typeName:xe.ZodObject,...Oe(e)});Pt.strictCreate=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strict",catchall:Co.create(),typeName:xe.ZodObject,...Oe(e)});Pt.lazycreate=(t,e)=>new Pt({shape:t,unknownKeys:"strip",catchall:Co.create(),typeName:xe.ZodObject,...Oe(e)});class Ep extends Ue{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Ys(a.ctx.common.issues));return fe(n,{code:X.invalid_union,unionErrors:o}),Ie}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new Ys(c));return fe(n,{code:X.invalid_union,unionErrors:a}),Ie}}get options(){return this._def.options}}Ep.create=(t,e)=>new Ep({options:t,typeName:xe.ZodUnion,...Oe(e)});const Wm=t=>t instanceof xp?Wm(t.schema):t instanceof Js?Wm(t.innerType()):t instanceof Sp?[t.value]:t instanceof tc?t.options:t instanceof Ap?Object.keys(t.enum):t instanceof Ip?Wm(t._def.innerType):t instanceof vp?[void 0]:t instanceof bp?[null]:null;class gw extends Ue{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.object)return fe(n,{code:X.invalid_type,expected:ce.object,received:n.parsedType}),Ie;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(fe(n,{code:X.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Wm(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new gw({typeName:xe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Oe(r)})}}function O_(t,e){const n=ca(t),r=ca(e);if(t===e)return{valid:!0,data:t};if(n===ce.object&&r===ce.object){const s=Qe.objectKeys(e),i=Qe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=O_(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===ce.array&&r===ce.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=O_(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===ce.date&&r===ce.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class _p extends Ue{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(P_(i)||P_(o))return Ie;const a=O_(i.value,o.value);return a.valid?((R_(i)||R_(o))&&n.dirty(),{status:n.value,value:a.data}):(fe(r,{code:X.invalid_intersection_types}),Ie)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_p.create=(t,e,n)=>new _p({left:t,right:e,typeName:xe.ZodIntersection,...Oe(n)});class ki extends Ue{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.array)return fe(r,{code:X.invalid_type,expected:ce.array,received:r.parsedType}),Ie;if(r.data.length<this._def.items.length)return fe(r,{code:X.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ie;!this._def.rest&&r.data.length>this._def.items.length&&(fe(r,{code:X.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Oi(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>qn.mergeArray(n,o)):qn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ki({...this._def,rest:e})}}ki.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ki({items:t,typeName:xe.ZodTuple,rest:null,...Oe(e)})};class Cp extends Ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.object)return fe(r,{code:X.invalid_type,expected:ce.object,received:r.parsedType}),Ie;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Oi(r,a,r.path,a)),value:o._parse(new Oi(r,r.data[a],r.path,a))});return r.common.async?qn.mergeObjectAsync(n,s):qn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ue?new Cp({keyType:e,valueType:n,typeName:xe.ZodRecord,...Oe(r)}):new Cp({keyType:Hs.create(),valueType:e,typeName:xe.ZodRecord,...Oe(n)})}}class Xy extends Ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.map)return fe(r,{code:X.invalid_type,expected:ce.map,received:r.parsedType}),Ie;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new Oi(r,a,r.path,[l,"key"])),value:i._parse(new Oi(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Ie;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Ie;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}Xy.create=(t,e,n)=>new Xy({valueType:e,keyType:t,typeName:xe.ZodMap,...Oe(n)});class ml extends Ue{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.set)return fe(r,{code:X.invalid_type,expected:ce.set,received:r.parsedType}),Ie;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(fe(r,{code:X.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(fe(r,{code:X.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Ie;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new Oi(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new ml({...this._def,minSize:{value:e,message:ve.toString(n)}})}max(e,n){return new ml({...this._def,maxSize:{value:e,message:ve.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ml.create=(t,e)=>new ml({valueType:t,minSize:null,maxSize:null,typeName:xe.ZodSet,...Oe(e)});class Du extends Ue{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.function)return fe(n,{code:X.invalid_type,expected:ce.function,received:n.parsedType}),Ie;function r(a,c){return Ky({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Gy(),mp].filter(l=>!!l),issueData:{code:X.invalid_arguments,argumentsError:c}})}function s(a,c){return Ky({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Gy(),mp].filter(l=>!!l),issueData:{code:X.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof pd){const a=this;return sr(async function(...c){const l=new Ys([]),u=await a._def.args.parseAsync(c,i).catch(h=>{throw l.addIssue(r(c,h)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(h=>{throw l.addIssue(s(d,h)),l})})}else{const a=this;return sr(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new Ys([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new Ys([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Du({...this._def,args:ki.create(e).rest(Gc.create())})}returns(e){return new Du({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Du({args:e||ki.create([]).rest(Gc.create()),returns:n||Gc.create(),typeName:xe.ZodFunction,...Oe(r)})}}class xp extends Ue{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}xp.create=(t,e)=>new xp({getter:t,typeName:xe.ZodLazy,...Oe(e)});class Sp extends Ue{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return fe(n,{received:n.data,code:X.invalid_literal,expected:this._def.value}),Ie}return{status:"valid",value:e.data}}get value(){return this._def.value}}Sp.create=(t,e)=>new Sp({value:t,typeName:xe.ZodLiteral,...Oe(e)});function w6(t,e){return new tc({values:t,typeName:xe.ZodEnum,...Oe(e)})}class tc extends Ue{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return fe(n,{expected:Qe.joinValues(r),received:n.parsedType,code:X.invalid_type}),Ie}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return fe(n,{received:n.data,code:X.invalid_enum_value,options:r}),Ie}return sr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return tc.create(e)}exclude(e){return tc.create(this.options.filter(n=>!e.includes(n)))}}tc.create=w6;class Ap extends Ue{_parse(e){const n=Qe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ce.string&&r.parsedType!==ce.number){const s=Qe.objectValues(n);return fe(r,{expected:Qe.joinValues(s),received:r.parsedType,code:X.invalid_type}),Ie}if(n.indexOf(e.data)===-1){const s=Qe.objectValues(n);return fe(r,{received:r.data,code:X.invalid_enum_value,options:s}),Ie}return sr(e.data)}get enum(){return this._def.values}}Ap.create=(t,e)=>new Ap({values:t,typeName:xe.ZodNativeEnum,...Oe(e)});class pd extends Ue{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.promise&&n.common.async===!1)return fe(n,{code:X.invalid_type,expected:ce.promise,received:n.parsedType}),Ie;const r=n.parsedType===ce.promise?n.data:Promise.resolve(n.data);return sr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}pd.create=(t,e)=>new pd({type:t,typeName:xe.ZodPromise,...Oe(e)});class Js extends Ue{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{fe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ie:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ie:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!yp(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>yp(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Qe.assertNever(s)}}Js.create=(t,e,n)=>new Js({schema:t,typeName:xe.ZodEffects,effect:e,...Oe(n)});Js.createWithPreprocess=(t,e,n)=>new Js({schema:e,effect:{type:"preprocess",transform:t},typeName:xe.ZodEffects,...Oe(n)});class fo extends Ue{_parse(e){return this._getType(e)===ce.undefined?sr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fo.create=(t,e)=>new fo({innerType:t,typeName:xe.ZodOptional,...Oe(e)});class yl extends Ue{_parse(e){return this._getType(e)===ce.null?sr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yl.create=(t,e)=>new yl({innerType:t,typeName:xe.ZodNullable,...Oe(e)});class Ip extends Ue{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ce.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ip.create=(t,e)=>new Ip({innerType:t,typeName:xe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Oe(e)});class Jy extends Ue{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Yy(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ys(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ys(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Jy.create=(t,e)=>new Jy({innerType:t,typeName:xe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Oe(e)});class e0 extends Ue{_parse(e){if(this._getType(e)!==ce.nan){const r=this._getOrReturnCtx(e);return fe(r,{code:X.invalid_type,expected:ce.nan,received:r.parsedType}),Ie}return{status:"valid",value:e.data}}}e0.create=t=>new e0({typeName:xe.ZodNaN,...Oe(t)});const Ype=Symbol("zod_brand");class v6 extends Ue{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class cg extends Ue{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ie:i.status==="dirty"?(n.dirty(),y6(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ie:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new cg({in:e,out:n,typeName:xe.ZodPipeline})}}class t0 extends Ue{_parse(e){const n=this._def.innerType._parse(e);return yp(n)&&(n.value=Object.freeze(n.value)),n}}t0.create=(t,e)=>new t0({innerType:t,typeName:xe.ZodReadonly,...Oe(e)});const b6=(t,e={},n)=>t?hd.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):hd.create(),Zpe={object:Pt.lazycreate};var xe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(xe||(xe={}));const Qpe=(t,e={message:`Input not instance of ${t.name}`})=>b6(n=>n instanceof t,e),E6=Hs.create,_6=Ja.create,Xpe=e0.create,Jpe=ec.create,C6=wp.create,ege=gl.create,tge=Zy.create,nge=vp.create,rge=bp.create,sge=hd.create,ige=Gc.create,oge=Co.create,age=Qy.create,cge=Zs.create,lge=Pt.create,uge=Pt.strictCreate,dge=Ep.create,fge=gw.create,hge=_p.create,pge=ki.create,gge=Cp.create,mge=Xy.create,yge=ml.create,wge=Du.create,vge=xp.create,bge=Sp.create,Ege=tc.create,_ge=Ap.create,Cge=pd.create,QN=Js.create,xge=fo.create,Sge=yl.create,Age=Js.createWithPreprocess,Ige=cg.create,Tge=()=>E6().optional(),Nge=()=>_6().optional(),Pge=()=>C6().optional(),Rge={string:t=>Hs.create({...t,coerce:!0}),number:t=>Ja.create({...t,coerce:!0}),boolean:t=>wp.create({...t,coerce:!0}),bigint:t=>ec.create({...t,coerce:!0}),date:t=>gl.create({...t,coerce:!0})},Oge=Ie;var A=Object.freeze({__proto__:null,defaultErrorMap:mp,setErrorMap:Upe,getErrorMap:Gy,makeIssue:Ky,EMPTY_PATH:Lpe,addIssueToContext:fe,ParseStatus:qn,INVALID:Ie,DIRTY:y6,OK:sr,isAborted:P_,isDirty:R_,isValid:yp,isAsync:Yy,get util(){return Qe},get objectUtil(){return N_},ZodParsedType:ce,getParsedType:ca,ZodType:Ue,ZodString:Hs,ZodNumber:Ja,ZodBigInt:ec,ZodBoolean:wp,ZodDate:gl,ZodSymbol:Zy,ZodUndefined:vp,ZodNull:bp,ZodAny:hd,ZodUnknown:Gc,ZodNever:Co,ZodVoid:Qy,ZodArray:Zs,ZodObject:Pt,ZodUnion:Ep,ZodDiscriminatedUnion:gw,ZodIntersection:_p,ZodTuple:ki,ZodRecord:Cp,ZodMap:Xy,ZodSet:ml,ZodFunction:Du,ZodLazy:xp,ZodLiteral:Sp,ZodEnum:tc,ZodNativeEnum:Ap,ZodPromise:pd,ZodEffects:Js,ZodTransformer:Js,ZodOptional:fo,ZodNullable:yl,ZodDefault:Ip,ZodCatch:Jy,ZodNaN:e0,BRAND:Ype,ZodBranded:v6,ZodPipeline:cg,ZodReadonly:t0,custom:b6,Schema:Ue,ZodSchema:Ue,late:Zpe,get ZodFirstPartyTypeKind(){return xe},coerce:Rge,any:sge,array:cge,bigint:Jpe,boolean:C6,date:ege,discriminatedUnion:fge,effect:QN,enum:Ege,function:wge,instanceof:Qpe,intersection:hge,lazy:vge,literal:bge,map:mge,nan:Xpe,nativeEnum:_ge,never:oge,null:rge,nullable:Sge,number:_6,object:lge,oboolean:Pge,onumber:Nge,optional:xge,ostring:Tge,pipeline:Ige,preprocess:Age,promise:Cge,record:gge,set:yge,strictObject:uge,string:E6,symbol:tge,transformer:QN,tuple:pge,undefined:nge,union:dge,unknown:ige,void:age,NEVER:Oge,ZodIssueCode:X,quotelessJson:Dpe,ZodError:Ys});const Dt=A.object({message:A.string()});function le(t){return A.literal(he[t])}A.object({accessList:A.array(A.string()),blockHash:A.string().nullable(),blockNumber:A.string().nullable(),chainId:A.string().or(A.number()),from:A.string(),gas:A.string(),hash:A.string(),input:A.string().nullable(),maxFeePerGas:A.string(),maxPriorityFeePerGas:A.string(),nonce:A.string(),r:A.string(),s:A.string(),to:A.string(),transactionIndex:A.string().nullable(),type:A.string(),v:A.string(),value:A.string()});const kge=A.object({chainId:A.string().or(A.number())}),$ge=A.object({email:A.string().email()}),Dge=A.object({otp:A.string()}),Uge=A.object({uri:A.string(),preferredAccountType:A.optional(A.string()),chainId:A.optional(A.string().or(A.number()))}),Lge=A.object({chainId:A.optional(A.string().or(A.number())),preferredAccountType:A.optional(A.string()),socialUri:A.optional(A.string())}),Mge=A.object({provider:A.enum(["google","github","apple","facebook","x","discord"])}),jge=A.object({email:A.string().email()}),Bge=A.object({otp:A.string()}),Fge=A.object({otp:A.string()}),zge=A.object({themeMode:A.optional(A.enum(["light","dark"])),themeVariables:A.optional(A.record(A.string(),A.string().or(A.number()))),w3mThemeVariables:A.optional(A.record(A.string(),A.string()))}),Wge=A.object({metadata:A.object({name:A.string(),description:A.string(),url:A.string(),icons:A.array(A.string())}).optional(),sdkVersion:A.string().optional(),sdkType:A.string().optional(),projectId:A.string()}),qge=A.object({type:A.string()}),Hge=A.object({action:A.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Vge=A.object({url:A.string()}),Gge=A.object({userName:A.string()}),Kge=A.object({email:A.string().optional().nullable(),address:A.string(),chainId:A.string().or(A.number()),accounts:A.array(A.object({address:A.string(),type:A.enum([hn.ACCOUNT_TYPES.EOA,hn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:A.string().optional().nullable(),preferredAccountType:A.optional(A.string())}),Yge=A.object({action:A.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Zge=A.object({email:A.string().email().optional().nullable(),address:A.string(),chainId:A.string().or(A.number()),smartAccountDeployed:A.optional(A.boolean()),accounts:A.array(A.object({address:A.string(),type:A.enum([hn.ACCOUNT_TYPES.EOA,hn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:A.optional(A.string())}),Qge=A.object({uri:A.string()}),Xge=A.object({isConnected:A.boolean()}),Jge=A.object({chainId:A.string().or(A.number())}),eme=A.object({chainId:A.string().or(A.number())}),tme=A.object({newEmail:A.string().email()}),nme=A.object({smartAccountEnabledNetworks:A.array(A.number())});A.object({address:A.string(),isDeployed:A.boolean()});const rme=A.object({version:A.string().optional()}),sme=A.object({type:A.string(),address:A.string()}),ime=A.any(),ome=A.object({method:A.literal("eth_accounts")}),ame=A.object({method:A.literal("eth_blockNumber")}),cme=A.object({method:A.literal("eth_call"),params:A.array(A.any())}),lme=A.object({method:A.literal("eth_chainId")}),ume=A.object({method:A.literal("eth_estimateGas"),params:A.array(A.any())}),dme=A.object({method:A.literal("eth_feeHistory"),params:A.array(A.any())}),fme=A.object({method:A.literal("eth_gasPrice")}),hme=A.object({method:A.literal("eth_getAccount"),params:A.array(A.any())}),pme=A.object({method:A.literal("eth_getBalance"),params:A.array(A.any())}),gme=A.object({method:A.literal("eth_getBlockByHash"),params:A.array(A.any())}),mme=A.object({method:A.literal("eth_getBlockByNumber"),params:A.array(A.any())}),yme=A.object({method:A.literal("eth_getBlockReceipts"),params:A.array(A.any())}),wme=A.object({method:A.literal("eth_getBlockTransactionCountByHash"),params:A.array(A.any())}),vme=A.object({method:A.literal("eth_getBlockTransactionCountByNumber"),params:A.array(A.any())}),bme=A.object({method:A.literal("eth_getCode"),params:A.array(A.any())}),Eme=A.object({method:A.literal("eth_getFilterChanges"),params:A.array(A.any())}),_me=A.object({method:A.literal("eth_getFilterLogs"),params:A.array(A.any())}),Cme=A.object({method:A.literal("eth_getLogs"),params:A.array(A.any())}),xme=A.object({method:A.literal("eth_getProof"),params:A.array(A.any())}),Sme=A.object({method:A.literal("eth_getStorageAt"),params:A.array(A.any())}),Ame=A.object({method:A.literal("eth_getTransactionByBlockHashAndIndex"),params:A.array(A.any())}),Ime=A.object({method:A.literal("eth_getTransactionByBlockNumberAndIndex"),params:A.array(A.any())}),Tme=A.object({method:A.literal("eth_getTransactionByHash"),params:A.array(A.any())}),Nme=A.object({method:A.literal("eth_getTransactionCount"),params:A.array(A.any())}),Pme=A.object({method:A.literal("eth_getTransactionReceipt"),params:A.array(A.any())}),Rme=A.object({method:A.literal("eth_getUncleCountByBlockHash"),params:A.array(A.any())}),Ome=A.object({method:A.literal("eth_getUncleCountByBlockNumber"),params:A.array(A.any())}),kme=A.object({method:A.literal("eth_maxPriorityFeePerGas")}),$me=A.object({method:A.literal("eth_newBlockFilter")}),Dme=A.object({method:A.literal("eth_newFilter"),params:A.array(A.any())}),Ume=A.object({method:A.literal("eth_newPendingTransactionFilter")}),Lme=A.object({method:A.literal("eth_sendRawTransaction"),params:A.array(A.any())}),Mme=A.object({method:A.literal("eth_syncing"),params:A.array(A.any())}),jme=A.object({method:A.literal("eth_uninstallFilter"),params:A.array(A.any())}),XN=A.object({method:A.literal("personal_sign"),params:A.array(A.any())}),Bme=A.object({method:A.literal("eth_signTypedData_v4"),params:A.array(A.any())}),Fme=A.object({method:A.literal("eth_sendTransaction"),params:A.array(A.any())}),zme=A.object({method:A.literal("solana_signMessage"),params:A.object({message:A.string(),pubkey:A.string()})}),Wme=A.object({method:A.literal("solana_signTransaction"),params:A.object({transaction:A.string()})}),qme=A.object({method:A.literal("solana_signAllTransactions"),params:A.object({transactions:A.array(A.string())})}),Hme=A.object({method:A.literal("solana_signAndSendTransaction"),params:A.object({transaction:A.string(),options:A.object({skipPreflight:A.boolean().optional(),preflightCommitment:A.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:A.number().optional(),minContextSlot:A.number().optional()}).optional()})}),Vme=A.object({method:A.literal("wallet_sendCalls"),params:A.array(A.object({chainId:A.string().or(A.number()).optional(),from:A.string().optional(),version:A.string().optional(),capabilities:A.any().optional(),calls:A.array(A.object({to:A.string().startsWith("0x"),data:A.string().startsWith("0x").optional(),value:A.string().optional()}))}))}),Gme=A.object({method:A.literal("wallet_getCallsStatus"),params:A.array(A.string())}),Kme=A.object({method:A.literal("wallet_getCapabilities")}),Yme=A.object({method:A.literal("wallet_grantPermissions"),params:A.array(A.any())}),Zme=A.object({method:A.literal("wallet_revokePermissions"),params:A.any()}),Qme=A.object({method:A.literal("wallet_getAssets"),params:A.any()}),JN=A.object({token:A.string()}),ue=A.object({id:A.string().optional()}),Ef={appEvent:ue.extend({type:le("APP_SWITCH_NETWORK"),payload:kge}).or(ue.extend({type:le("APP_CONNECT_EMAIL"),payload:$ge})).or(ue.extend({type:le("APP_CONNECT_DEVICE")})).or(ue.extend({type:le("APP_CONNECT_OTP"),payload:Dge})).or(ue.extend({type:le("APP_CONNECT_SOCIAL"),payload:Uge})).or(ue.extend({type:le("APP_GET_FARCASTER_URI")})).or(ue.extend({type:le("APP_CONNECT_FARCASTER")})).or(ue.extend({type:le("APP_GET_USER"),payload:A.optional(Lge)})).or(ue.extend({type:le("APP_GET_SOCIAL_REDIRECT_URI"),payload:Mge})).or(ue.extend({type:le("APP_SIGN_OUT")})).or(ue.extend({type:le("APP_IS_CONNECTED"),payload:A.optional(JN)})).or(ue.extend({type:le("APP_GET_CHAIN_ID")})).or(ue.extend({type:le("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(ue.extend({type:le("APP_INIT_SMART_ACCOUNT")})).or(ue.extend({type:le("APP_SET_PREFERRED_ACCOUNT"),payload:qge})).or(ue.extend({type:le("APP_RPC_REQUEST"),payload:XN.or(Qme).or(ome).or(ame).or(cme).or(lme).or(ume).or(dme).or(fme).or(hme).or(pme).or(gme).or(mme).or(yme).or(wme).or(vme).or(bme).or(Eme).or(_me).or(Cme).or(xme).or(Sme).or(Ame).or(Ime).or(Tme).or(Nme).or(Pme).or(Rme).or(Ome).or(kme).or($me).or(Dme).or(Ume).or(Lme).or(Mme).or(jme).or(XN).or(Bme).or(Fme).or(zme).or(Wme).or(qme).or(Hme).or(Gme).or(Vme).or(Kme).or(Yme).or(Zme)})).or(ue.extend({type:le("APP_UPDATE_EMAIL"),payload:jge})).or(ue.extend({type:le("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Bge})).or(ue.extend({type:le("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Fge})).or(ue.extend({type:le("APP_SYNC_THEME"),payload:zge})).or(ue.extend({type:le("APP_SYNC_DAPP_DATA"),payload:Wge})).or(ue.extend({type:le("APP_RELOAD")})),frameEvent:ue.extend({type:le("FRAME_SWITCH_NETWORK_ERROR"),payload:Dt}).or(ue.extend({type:le("FRAME_SWITCH_NETWORK_SUCCESS"),payload:eme})).or(ue.extend({type:le("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Hge})).or(ue.extend({type:le("FRAME_CONNECT_EMAIL_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Vge})).or(ue.extend({type:le("FRAME_GET_FARCASTER_URI_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Gge})).or(ue.extend({type:le("FRAME_CONNECT_FARCASTER_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_CONNECT_OTP_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_CONNECT_OTP_SUCCESS")})).or(ue.extend({type:le("FRAME_CONNECT_DEVICE_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_CONNECT_DEVICE_SUCCESS")})).or(ue.extend({type:le("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Kge})).or(ue.extend({type:le("FRAME_CONNECT_SOCIAL_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_GET_USER_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_GET_USER_SUCCESS"),payload:Zge})).or(ue.extend({type:le("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Qge})).or(ue.extend({type:le("FRAME_SIGN_OUT_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_SIGN_OUT_SUCCESS")})).or(ue.extend({type:le("FRAME_IS_CONNECTED_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_IS_CONNECTED_SUCCESS"),payload:Xge})).or(ue.extend({type:le("FRAME_GET_CHAIN_ID_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Jge})).or(ue.extend({type:le("FRAME_RPC_REQUEST_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_RPC_REQUEST_SUCCESS"),payload:ime})).or(ue.extend({type:le("FRAME_SESSION_UPDATE"),payload:JN})).or(ue.extend({type:le("FRAME_UPDATE_EMAIL_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Yge})).or(ue.extend({type:le("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(ue.extend({type:le("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:tme})).or(ue.extend({type:le("FRAME_SYNC_THEME_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_SYNC_THEME_SUCCESS")})).or(ue.extend({type:le("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(ue.extend({type:le("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:nme})).or(ue.extend({type:le("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:sme})).or(ue.extend({type:le("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_READY"),payload:rme})).or(ue.extend({type:le("FRAME_RELOAD_ERROR"),payload:Dt})).or(ue.extend({type:le("FRAME_RELOAD_SUCCESS")}))};function Ib(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class Xme{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=q.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const i=document.getElementById("w3m-iframe");this.iframe&&!i&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(i,o,a)=>{function c({data:l}){if(!Ib(he.FRAME_EVENT_KEY,l))return;const u=Ef.frameEvent.parse(l);u.id===i&&(o(u),window.removeEventListener("message",c))}Wr.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:i=>{Wr.isClient&&window.addEventListener("message",({data:o})=>{if(!Ib(he.FRAME_EVENT_KEY,o))return;const a=Ef.frameEvent.parse(o);i(a)})},onAppEvent:i=>{Wr.isClient&&window.addEventListener("message",({data:o})=>{if(!Ib(he.APP_EVENT_KEY,o))return;const a=Ef.appEvent.parse(o);i(a)})},postAppEvent:i=>{var o;if(Wr.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");Ef.appEvent.parse(i),this.iframe.contentWindow.postMessage(i,"*")}},postFrameEvent:i=>{if(Wr.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");Ef.frameEvent.parse(i),parent.postMessage(i,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),n&&(this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),Wr.isClient)){const i=document.createElement("iframe");i.id="w3m-iframe",i.src=`${IY}?projectId=${e}&chainId=${r}&version=${NY}&enableLogger=${s}`,i.name="w3m-secure-iframe",i.style.position="fixed",i.style.zIndex="999999",i.style.display="none",i.style.border="none",i.style.animationDelay="0s, 50ms",i.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",i.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=i,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class Jme{constructor(e){var i;const n=Td({level:TY}),{logger:r,chunkLoggerController:s}=Ix({opts:n});this.logger=Hn(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class eye{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new Jme(e)),this.abortController=i,this.w3mFrame=new Xme({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===he.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!bn.get(he.EMAIL_LOGIN_USED_KEY)}getEmail(){return bn.get(he.EMAIL)}getUsername(){return bn.get(he.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:he.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{Wr.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:he.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:he.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:he.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:he.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:he.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:he.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:he.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:he.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:he.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:he.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:he.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:he.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:he.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n,r;if(e!=null&&e.socialUri)try{await this.init();const s=await this.appEvent({type:he.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId}});return s.userName&&this.setSocialLoginSuccess(s.userName),this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var n;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:he.APP_GET_USER,payload:{...e,chainId:r}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{await this.init();const r=await this.appEvent({type:he.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:he.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:he.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:he.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const s=setTimeout(()=>{r()},3e3);await this.appEvent({type:he.APP_SIGN_OUT}),clearTimeout(s),r()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,s,i;try{if(hn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:he.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,o,e),o}catch(o){throw(s=this.rpcErrorHandler)==null||s.call(this,o,e),(i=this.w3mLogger)==null||i.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===he.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===he.FRAME_IS_CONNECTED_ERROR&&e(),n.type===he.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===he.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===he.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===he.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===he.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:hn.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===he.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===he.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{hn.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(c){return c.replace("@w3m-app/","")}const i=[he.APP_SYNC_DAPP_DATA,he.APP_SYNC_THEME,he.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(r=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[he.APP_CONNECT_EMAIL,he.APP_CONNECT_DEVICE,he.APP_CONNECT_OTP,he.APP_CONNECT_SOCIAL,he.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(n=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{var h,p,g;const u=Math.random().toString(36).substring(7);(g=(h=this.w3mLogger)==null?void 0:(p=h.logger).info)==null||g.call(p,{event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const d=new AbortController;if(o==="RPC_REQUEST"){const w=e;this.openRpcRequests=[...this.openRpcRequests,{...w.payload,abortController:d}]}d.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});function f(w,m){var y,v,_;w.id===u&&((v=m==null?void 0:(y=m.logger).info)==null||v.call(y,{framEvent:w,id:u},"Received frame response"),w.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in w&&c(w.payload),c(void 0)):w.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in w&&l(new Error(((_=w.payload)==null?void 0:_.message)||"An error occurred")),l(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(u,w=>f(w,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){bn.set(he.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){bn.set(he.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&bn.set(he.EMAIL,e),bn.set(he.EMAIL_LOGIN_USED_KEY,"true"),bn.delete(he.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){bn.delete(he.EMAIL_LOGIN_USED_KEY),bn.delete(he.EMAIL),bn.delete(he.LAST_USED_CHAIN_KEY),bn.delete(he.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&bn.set(he.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=bn.get(he.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){bn.set(he.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class Kc{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i}){return Kc.instance||(Kc.instance=new eye({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i})),Kc.instance}}var eP={};const tye={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof eP<"u"?eP.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},k_={filterOutDuplicatesByRDNS(t){const e=K.state.enableEIP6963?re.state.connectors:[],n=ne.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&me.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!i.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=re.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=ne.getRecentWallets(),r=e.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=re.state,{featuredWalletIds:n}=K.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=K.state.features)==null?void 0:c.connectMethodsOrder),r=e||re.state.connectors;if(n)return n;const{injected:s,announced:i}=qm.getConnectorsByType(r,ye.state.recommended,ye.state.featured),o=s.filter(qm.showConnector),a=i.filter(qm.showConnector);return o.length||a.length?["wallet","email","social"]:tye.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&ye.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&ye.state.excludedWallets.some(r=>gp.isLowerCaseMatch(r.name,t.name));return e||n}},qm={getConnectorsByType(t,e,n){const{customWallets:r}=K.state,s=ne.getRecentWallets(),i=k_.filterOutDuplicateWallets(e),o=k_.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&ye.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&ye.state.excludedWallets.some(i=>gp.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!me.isMobile()||me.isMobile()&&!e&&!de.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(P.state.chains.values()).some(n=>re.getConnectorId(n.namespace)===q.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=K.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=qm.getIsConnectedWithWC(),h=[{type:"walletConnect",isEnabled:K.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(m=>m.isEnabled),p=new Set(h.map(m=>m.type)),g=c.filter(m=>p.has(m)).map(m=>({type:m,isEnabled:!0})),w=h.filter(({type:m})=>!g.some(({type:v})=>v===m));return Array.from(new Set([...g,...w].map(({type:m})=>m)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,n;try{if(t.name==="Browser Wallet"&&!me.isMobile())return{accounts:[],chainId:void 0};if(t.id===q.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[r,s]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(n=t.provider)==null?void 0:n.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:r,chainId:s}}catch(r){return console.warn(`Failed to fetch provider data for ${t.name}`,r),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Hm=globalThis,aS=Hm.ShadowRoot&&(Hm.ShadyCSS===void 0||Hm.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,cS=Symbol(),tP=new WeakMap;let x6=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==cS)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(aS&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=tP.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&tP.set(n,e))}return e}toString(){return this.cssText}};const as=t=>new x6(typeof t=="string"?t:t+"",void 0,cS),Uu=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new x6(n,t,cS)},nye=(t,e)=>{if(aS)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=Hm.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},nP=aS?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return as(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:rye,defineProperty:sye,getOwnPropertyDescriptor:iye,getOwnPropertyNames:oye,getOwnPropertySymbols:aye,getPrototypeOf:cye}=Object,za=globalThis,rP=za.trustedTypes,lye=rP?rP.emptyScript:"",Tb=za.reactiveElementPolyfillSupport,uh=(t,e)=>t,$_={toAttribute(t,e){switch(e){case Boolean:t=t?lye:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},S6=(t,e)=>!rye(t,e),sP={attribute:!0,type:String,converter:$_,reflect:!1,useDefault:!1,hasChanged:S6};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),za.litPropertyMetadata??(za.litPropertyMetadata=new WeakMap);let cu=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=sP){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&sye(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:i}=iye(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const a=s==null?void 0:s.call(this);i==null||i.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??sP}static _$Ei(){if(this.hasOwnProperty(uh("elementProperties")))return;const e=cye(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(uh("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(uh("properties"))){const n=this.properties,r=[...oye(n),...aye(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(nP(s))}else e!==void 0&&n.push(nP(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return nye(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var i;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)==null?void 0:i.toAttribute)!==void 0?r.converter:$_).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,n){var i,o;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const a=r.getPropertyOptions(s),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)==null?void 0:i.fromAttribute)!==void 0?a.converter:$_;this._$Em=s,this[s]=c.fromAttribute(n,a.type)??((o=this._$Ej)==null?void 0:o.get(s))??null,this._$Em=null}}requestUpdate(e,n,r){var s;if(e!==void 0){const i=this.constructor,o=this[e];if(r??(r=i.getPropertyOptions(e)),!((r.hasChanged??S6)(o,n)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s){const{wrapped:a}=o,c=this[i];a!==!0||this._$AL.has(i)||c===void 0||this.C(i,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};cu.elementStyles=[],cu.shadowRootOptions={mode:"open"},cu[uh("elementProperties")]=new Map,cu[uh("finalized")]=new Map,Tb==null||Tb({ReactiveElement:cu}),(za.reactiveElementVersions??(za.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const dh=globalThis,n0=dh.trustedTypes,iP=n0?n0.createPolicy("lit-html",{createHTML:t=>t}):void 0,A6="$lit$",la=`lit$${Math.random().toFixed(9).slice(2)}$`,I6="?"+la,uye=`<${I6}>`,wl=document,Tp=()=>wl.createComment(""),Np=t=>t===null||typeof t!="object"&&typeof t!="function",lS=Array.isArray,dye=t=>lS(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",Nb=`[ 	
\f\r]`,_f=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,oP=/-->/g,aP=/>/g,pc=RegExp(`>|${Nb}(?:([^\\s"'>=/]+)(${Nb}*=${Nb}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),cP=/'/g,lP=/"/g,T6=/^(?:script|style|textarea|title)$/i,N6=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),uwe=N6(1),dwe=N6(2),gd=Symbol.for("lit-noChange"),un=Symbol.for("lit-nothing"),uP=new WeakMap,$c=wl.createTreeWalker(wl,129);function P6(t,e){if(!lS(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return iP!==void 0?iP.createHTML(e):e}const fye=(t,e)=>{const n=t.length-1,r=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=_f;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,f=0;for(;f<c.length&&(o.lastIndex=f,u=o.exec(c),u!==null);)f=o.lastIndex,o===_f?u[1]==="!--"?o=oP:u[1]!==void 0?o=aP:u[2]!==void 0?(T6.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=pc):u[3]!==void 0&&(o=pc):o===pc?u[0]===">"?(o=s??_f,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?pc:u[3]==='"'?lP:cP):o===lP||o===cP?o=pc:o===oP||o===aP?o=_f:(o=pc,s=void 0);const h=o===pc&&t[a+1].startsWith("/>")?" ":"";i+=o===_f?c+uye:d>=0?(r.push(l),c.slice(0,d)+A6+c.slice(d)+la+h):c+la+(d===-2?a:h)}return[P6(t,i+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class Pp{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[l,u]=fye(e,n);if(this.el=Pp.createElement(l,r),$c.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=$c.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(A6)){const f=u[o++],h=s.getAttribute(d).split(la),p=/([.?@])?(.*)/.exec(f);c.push({type:1,index:i,name:p[2],strings:h,ctor:p[1]==="."?pye:p[1]==="?"?gye:p[1]==="@"?mye:mw}),s.removeAttribute(d)}else d.startsWith(la)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(T6.test(s.tagName)){const d=s.textContent.split(la),f=d.length-1;if(f>0){s.textContent=n0?n0.emptyScript:"";for(let h=0;h<f;h++)s.append(d[h],Tp()),$c.nextNode(),c.push({type:2,index:++i});s.append(d[f],Tp())}}}else if(s.nodeType===8)if(s.data===I6)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(la,d+1))!==-1;)c.push({type:7,index:i}),d+=la.length-1}i++}}static createElement(e,n){const r=wl.createElement("template");return r.innerHTML=e,r}}function md(t,e,n=t,r){var o,a;if(e===gd)return e;let s=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const i=Np(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=md(t,s._$AS(t,e.values),s,r)),e}class hye{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??wl).importNode(n,!0);$c.currentNode=s;let i=$c.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new lg(i,i.nextSibling,this,e):c.type===1?l=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(l=new yye(i,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(i=$c.nextNode(),o++)}return $c.currentNode=wl,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class lg{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=un,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=md(this,e,n),Np(e)?e===un||e==null||e===""?(this._$AH!==un&&this._$AR(),this._$AH=un):e!==this._$AH&&e!==gd&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):dye(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==un&&Np(this._$AH)?this._$AA.nextSibling.data=e:this.T(wl.createTextNode(e)),this._$AH=e}$(e){var i;const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=Pp.createElement(P6(r.h,r.h[0]),this.options)),r);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(n);else{const o=new hye(s,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=uP.get(e.strings);return n===void 0&&uP.set(e.strings,n=new Pp(e)),n}k(e){lS(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of e)s===n.length?n.push(r=new lg(this.O(Tp()),this.O(Tp()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class mw{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,i){this.type=1,this._$AH=un,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=un}_$AI(e,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)e=md(this,e,n,0),o=!Np(e)||e!==this._$AH&&e!==gd,o&&(this._$AH=e);else{const a=e;let c,l;for(e=i[0],c=0;c<i.length-1;c++)l=md(this,a[r+c],n,c),l===gd&&(l=this._$AH[c]),o||(o=!Np(l)||l!==this._$AH[c]),l===un?e=un:e!==un&&(e+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===un?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class pye extends mw{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===un?void 0:e}}class gye extends mw{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==un)}}class mye extends mw{constructor(e,n,r,s,i){super(e,n,r,s,i),this.type=5}_$AI(e,n=this){if((e=md(this,e,n,0)??un)===gd)return;const r=this._$AH,s=e===un&&r!==un||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==un&&(r===un||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class yye{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){md(this,e)}}const Pb=dh.litHtmlPolyfillSupport;Pb==null||Pb(Pp,lg),(dh.litHtmlVersions??(dh.litHtmlVersions=[])).push("3.3.0");const wye=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const i=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new lg(e.insertBefore(Tp(),i),i,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Yc=globalThis;class Vm extends cu{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=wye(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return gd}}var AP;Vm._$litElement$=!0,Vm.finalized=!0,(AP=Yc.litElementHydrateSupport)==null||AP.call(Yc,{LitElement:Vm});const Rb=Yc.litElementPolyfillSupport;Rb==null||Rb({LitElement:Vm});(Yc.litElementVersions??(Yc.litElementVersions=[])).push("4.2.0");let fh,Wa,qa;function fwe(t,e){fh=document.createElement("style"),Wa=document.createElement("style"),qa=document.createElement("style"),fh.textContent=Lu(t).core.cssText,Wa.textContent=Lu(t).dark.cssText,qa.textContent=Lu(t).light.cssText,document.head.appendChild(fh),document.head.appendChild(Wa),document.head.appendChild(qa),R6(e)}function R6(t){Wa&&qa&&(t==="light"?(Wa.removeAttribute("media"),qa.media="enabled"):(qa.removeAttribute("media"),Wa.media="enabled"))}function vye(t){fh&&Wa&&qa&&(fh.textContent=Lu(t).core.cssText,Wa.textContent=Lu(t).dark.cssText,qa.textContent=Lu(t).light.cssText)}function Lu(t){return{core:Uu`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${as(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${as((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${as((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${as((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${as((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Uu`
      :root {
        --w3m-color-mix: ${as((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${as(oo(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${as(oo(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Uu`
      :root {
        --w3m-color-mix: ${as((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${as(oo(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${as(oo(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const hwe=Uu`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,pwe=Uu`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,gwe=Uu`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,jf={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},O6=yF({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function ug(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const dP=ug({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),fP=ug({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});ug({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});ug({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});ug({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const bye={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},hh={getMethodsByChainNamespace(t){return bye[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${i}`,u=r[o];switch(u.chains.push(l),l){case dP.caipNetworkId:u.chains.push(dP.deprecatedCaipNetworkId);break;case fP.caipNetworkId:u.chains.push(fP.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await Jf.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1}};class uS{constructor({provider:e,namespace:n}){this.id=q.CONNECTOR_ID.WALLET_CONNECT,this.name=Aa.ConnectorNamesMap[q.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Aa.ConnectorImageIds[q.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=P.getCaipNetworks.bind(P),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=K.state.universalProviderConfigOverride,s=hh.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return lh.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Eye})}}const Eye=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class k6{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>P.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:q.CONNECTOR_ID.AUTH,type:"AUTH",name:q.CONNECTOR_NAMES.AUTH,provider:e,imageId:Aa.ConnectorImageIds[q.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){te.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var i;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const o=s,a=(i=te.state.preferredAccountTypes)==null?void 0:i[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof uS);if(!e)throw new Error("WalletConnectConnector not found");return e}}class _ye extends k6{setUniversalProvider(e){this.addConnector(new uS({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,i,o,a;const n=this.provider,r=((a=(o=(i=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>me.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var i,o,a,c,l;if(!(e.caipNetwork&&it.BALANCE_SUPPORTED_CHAINS.includes((i=e.caipNetwork)==null?void 0:i.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(te.state.balanceLoading&&e.chainId===((c=P.state.activeCaipNetwork)==null?void 0:c.id))return{balance:te.state.balance||"0.00",symbol:te.state.balanceSymbol||""};const s=(await te.fetchTokenBalance()).find(u=>{var d,f;return u.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&u.symbol===((f=e.caipNetwork)==null?void 0:f.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=P.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===q.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:kd.encode(new TextEncoder().encode(r)),pubkey:s}},(a=P.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},(c=P.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===q.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:tl(n.id)}]}))}catch(u){if(u.code===jf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===jf.ERROR_INVALID_CHAIN_ID||u.code===jf.ERROR_CODE_DEFAULT||((o=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:o.code)===jf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:tl(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const Cye=["email","socials","swaps","onramp","activity","reownBranding"],pm={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?it.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?it.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?it.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?it.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?it.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?it.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?it.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?it.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?it.DEFAULT_REMOTE_FEATURES.reownBranding:!!t}},xye={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=pm[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,s){const i=pm[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(i.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return pm[t].processApi(e)},processFallbackFeature(t,e){return pm[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await ye.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?it.DEFAULT_REMOTE_FEATURES:it.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of Cye){const a=this.processFeature(o,n,r,s,e);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),it.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;Vt.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return i}};class Sye{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,i,o,a;if(n){const c=(i=(s=P.getNetworkData(n))==null?void 0:s.requestedCaipNetworks)==null?void 0:i.find(d=>d.id===r);if(c)return c;const l=(o=P.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=P.getRequestedCaipNetworks(n).filter(d=>d.chainNamespace===n))==null?void 0:a[0])}return P.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>P.getCaipNetworks(n),this.getActiveChainNamespace=()=>P.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{P.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>P.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>P.state.activeChain===n||!n?P.state.activeCaipAddress:P.getAccountProp("caipAddress",n),this.setClientId=n=>{Ee.setClientId(n)},this.getProvider=n=>dt.getProvider(n),this.getProviderType=n=>dt.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=te.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{te.setCaipAddress(n,r),n&&K.state.enableEmbedded&&this.close()},this.setBalance=(n,r,s)=>{te.setBalance(n,r,s)},this.setProfileName=(n,r)=>{te.setProfileName(n,r)},this.setProfileImage=(n,r)=>{te.setProfileImage(n,r)},this.setUser=(n,r)=>{te.setUser(n,r)},this.resetAccount=n=>{te.resetAccount(n)},this.setCaipNetwork=n=>{P.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{P.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{te.setAllAccounts(n,r),K.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{te.setStatus(n,r),re.isConnected()?ne.setConnectionStatus("connected"):ne.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>P.getAccountProp("address",n),this.setConnectors=n=>{const r=[...re.state.allConnectors,...n];re.setConnectors(r)},this.setConnections=(n,r)=>{de.setConnections(n,r)},this.fetchIdentity=n=>Ee.fetchIdentity(n),this.getReownName=n=>Jf.getNamesForAddress(n),this.getConnectors=()=>re.getConnectors(),this.getConnectorImage=n=>i5.getConnectorImage(n),this.getConnections=n=>ip.getConnectionsData(n).connections,this.getRecentConnections=n=>ip.getConnectionsData(n).recentConnections,this.switchConnection=n=>de.switchConnection(n),this.deleteConnection=n=>ne.deleteAddressFromConnection(n),this.setConnectedWalletInfo=(n,r)=>{const s=dt.getProviderId(r),i=n?{...n,type:s}:void 0;te.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!P.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{te.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{te.removeAddressLabel(n,r)},this.getAddress=n=>P.state.activeChain===n||!n?te.state.address:P.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>P.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{P.resetNetwork(n)},this.addConnector=n=>{re.addConnector(n)},this.resetWcConnection=()=>{de.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{te.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{te.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{P.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{te.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{K.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){var n,r,s;this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await xye.fetchRemoteFeatures(e),K.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&kE.setOnrampProviders(this.remoteFeatures.onramp),((n=K.state.remoteFeatures)!=null&&n.email||Array.isArray((r=K.state.remoteFeatures)==null?void 0:r.socials)&&((s=K.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const e=await ye.fetchAllowedOrigins();if(!e||!me.isClient()){Vt.open(Nt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;hh.isOriginAllowed(n,e,jf.DEFAULT_ALLOWED_ANCESTORS)||Vt.open(Nt.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}catch(e){if(!(e instanceof Error)){Vt.open(Nt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(e.message){case"RATE_LIMITED":Vt.open(Nt.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;Vt.open({shortMessage:Nt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.shortMessage,longMessage:Nt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.longMessage(n.message)},"error");break}default:Vt.open(Nt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,ot.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&br.setThemeMode(e.themeMode),e.themeVariables&&br.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");P.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&P.setActiveCaipNetwork(n)}initializeConnectionController(e){de.initialize(e.adapters??[]),de.setWcBasic(e.basic??!1)}initializeConnectorController(){re.initialize(this.chainNamespaces)}initializeProjectSettings(e){K.setProjectId(e.projectId),K.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var o;K.setDebug(e.debug!==!1),K.setEnableWalletConnect(e.enableWalletConnect!==!1),K.setEnableWalletGuide(e.enableWalletGuide!==!1),K.setEnableWallets(e.enableWallets!==!1),K.setEIP6963Enabled(e.enableEIP6963!==!1),K.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),K.setEnableAuthLogger(e.enableAuthLogger!==!1),K.setCustomRpcUrls(e.customRpcUrls),K.setEnableEmbedded(e.enableEmbedded),K.setAllWallets(e.allWallets),K.setIncludeWalletIds(e.includeWalletIds),K.setExcludeWalletIds(e.excludeWalletIds),K.setFeaturedWalletIds(e.featuredWalletIds),K.setTokens(e.tokens),K.setTermsConditionsUrl(e.termsConditionsUrl),K.setPrivacyPolicyUrl(e.privacyPolicyUrl),K.setCustomWallets(e.customWallets),K.setFeatures(e.features),K.setAllowUnsupportedChain(e.allowUnsupportedChain),K.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),K.setPreferUniversalLinks(e.experimental_preferUniversalLinks),K.setDefaultAccountTypes(e.defaultAccountTypes);const n=ne.getPreferredAccountTypes()||{},r={...K.state.defaultAccountTypes,...n};te.setPreferredAccountTypes(r);const s=this.getDefaultMetaData();if(!e.metadata&&s&&(e.metadata=s),K.setMetadata(e.metadata),K.setDisableAppend(e.disableAppend),K.setEnableEmbedded(e.enableEmbedded),K.setSIWX(e.siwx),!e.projectId){Vt.open(Nt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===q.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");K.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return me.isClient()?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=_i.getUnsupportedNetwork(`${n}:${e}`);P.setActiveCaipNetwork(r)}}getDefaultNetwork(){return _i.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return _i.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return _i.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return n?_i.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const n=this.getAdapter(e),r=dt.getProvider(e),s=dt.getProviderId(e),{caipAddress:i}=P.getAccountData(e)||{};this.setLoading(!0,e),i&&(n!=null&&n.disconnect)&&await n.disconnect({provider:r,providerType:s}),ne.removeConnectedNamespace(e),dt.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e),this.setConnectedWalletInfo(void 0,e),re.removeConnectorId(e),P.resetAccount(e),P.resetNetwork(e),this.setLoading(!1,e)}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var i;const e=P.state.activeChain,n=this.getAdapter(e),r=(i=this.getCaipNetwork(e))==null?void 0:i.id;if(!n)throw new Error("Adapter not found");const s=await n.connectWalletConnect(r);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),ne.setConnectedNamespaces([...P.state.chains.keys()]),this.chainNamespaces.forEach(o=>{re.setConnectorId(xt.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:s,chain:i,caipNetwork:o,socialUri:a})=>{var g,w,m,y,v,_;const c=P.state.activeChain,l=i||c,u=this.getAdapter(l);if(i&&i!==c&&!o){const E=this.getCaipNetworks().find(x=>x.chainNamespace===i);E&&this.setCaipNetwork(E)}if(!u)throw new Error("Adapter not found");const d=this.getCaipNetwork(l),f=await u.connect({id:e,info:n,type:r,provider:s,socialUri:a,chainId:(o==null?void 0:o.id)||(d==null?void 0:d.id),rpcUrl:((m=(w=(g=o==null?void 0:o.rpcUrls)==null?void 0:g.default)==null?void 0:w.http)==null?void 0:m[0])||((_=(v=(y=d==null?void 0:d.rpcUrls)==null?void 0:y.default)==null?void 0:v.http)==null?void 0:_[0])});if(!f)return;ne.addConnectedNamespace(l),this.syncProvider({...f,chainNamespace:l});const h=te.state.allAccounts,{accounts:p}=(h==null?void 0:h.length)>0?{accounts:[...h]}:await u.getAccounts({namespace:l,id:e});this.setAllAccounts(p,l),this.setStatus("connected",l),this.syncConnectedWalletInfo(l)},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var a;const i=P.state.activeChain,o=this.getAdapter(i);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),ne.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async({chainNamespace:e}={})=>{const n=$Y(e);try{const r=await Promise.allSettled(n.map(async([i])=>this.disconnectNamespace(i)));Je.resetSend(),de.resetWcConnection(),await lh.clearSessions(),re.setFilterByNamespace(void 0);const s=r.filter(i=>i.status==="rejected");if(s.length>0)throw new Error(s.map(i=>i.reason.message).join(", "));ne.deleteConnectedSocialProvider(),ot.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(r){throw new Error(`Failed to disconnect chains: ${r.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(P.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:te.state.address,provider:dt.getProvider(P.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(it.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(P.state.activeChain),s=dt.getProvider(n),i=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===q.CHAIN.EVM){const n=this.getAdapter(P.state.activeChain),r=dt.getProvider(P.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const i=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:s}));return(i==null?void 0:i.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:te.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:P.state.activeChain}),te.state.profileImage||!1},getEnsAddress:async e=>await hh.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(P.state.activeChain),r=this.getCaipNetwork(),s=this.getCaipAddress(),i=dt.getProvider(P.state.activeChain);if(!r||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:i,caipAddress:s}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter(P.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(P.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(P.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(P.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(P.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(P.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!te.state.address||this.updateNativeBalance(te.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},de.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,i,o;if(dt.getProviderId(P.state.activeChain)===xt.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=dt.getProvider(n),i=dt.getProviderId(n);if(e.chainNamespace===P.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:s,providerType:i}))}else if(this.setCaipNetwork(e),i===xt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=Fr.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var i;const s=e==null?void 0:e.find(o=>o.namespace===r);return s?(s.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new _ye({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=ne.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(ne.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:i})=>{const o=this.getCaipNetworks().find(l=>l.id===i||l.caipNetworkId===i),a=P.state.activeChain===e,c=P.getAccountProp("address",e);if(o){const l=a&&s?s:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=te.state.address,i=P.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i})=>{var a,c;const o=P.state.activeChain===e;o&&i?this.syncAccount({address:s,chainId:i,chainNamespace:e}):o&&((a=P.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:s,chainId:(c=P.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(s,i,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===q.CHAIN.EVM&&me.isSafeApp()&&re.setConnectorId(q.CONNECTOR_ID.SAFE,e);const n=re.getConnectorId(e);switch(this.setStatus("connecting",e),n){case q.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case q.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var a,c,l;const n=this.getAdapter(e),r=re.getConnectorId(e),s=this.getCaipNetwork(e),o=re.getConnectors(e).find(u=>u.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const u=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:s.id,rpcUrl:(l=(c=(a=s==null?void 0:s.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));if(u){const d=await(n==null?void 0:n.getAccounts({namespace:e,id:o.id}));d&&d.accounts.length>0?this.setAllAccounts(d.accounts,e):this.setAllAccounts([me.createAccount(e,u.address,"eoa")],e),this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){var r,s;const e=Object.keys(((s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)||{}),n=this.chainNamespaces.map(async i=>{var u,d,f,h,p;const o=this.getAdapter(i),a=((h=(f=(d=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:d.namespaces)==null?void 0:f[i])==null?void 0:h.accounts)||[],c=(p=P.state.activeCaipNetwork)==null?void 0:p.id,l=a.find(g=>{const{chainId:w}=Fr.parseCaipAddress(g);return w===(c==null?void 0:c.toString())})||a[0];if(l){const g=Fr.validateCaipAddress(l),{chainId:w,address:m}=Fr.parseCaipAddress(g);if(dt.setProviderId(i,xt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&P.state.activeCaipNetwork&&(o==null?void 0:o.namespace)!==q.CHAIN.EVM){const y=o==null?void 0:o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:P.state.activeCaipNetwork});dt.setProvider(i,y)}else dt.setProvider(i,this.universalProvider);re.setConnectorId(q.CONNECTOR_ID.WALLET_CONNECT,i),ne.addConnectedNamespace(i),this.syncWalletConnectAccounts(i),await this.syncAccount({address:m,chainId:w,chainNamespace:i})}else e.includes(i)&&this.setStatus("disconnected",i);this.syncConnectedWalletInfo(i),await P.setApprovedCaipNetworksData(i)});await Promise.all(n)}syncWalletConnectAccounts(e){var r,s,i,o,a;const n=(a=(o=(i=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=Fr.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>me.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){dt.setProviderId(s,e),dt.setProvider(s,n),re.setConnectorId(r,s)}async syncAllAccounts(e){const n=re.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),s=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));s&&s.accounts.length>0&&this.setAllAccounts(s.accounts,e)}async syncAccount(e){var d,f;const n=e.chainNamespace===P.state.activeChain,r=P.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=ne.getActiveNetworkProps(),c=i||a,l=((d=P.state.activeCaipNetwork)==null?void 0:d.name)===q.UNSUPPORTED_NETWORK_NAME,u=P.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let h=this.getCaipNetworks().find(w=>w.id.toString()===c.toString()),p=this.getCaipNetworks().find(w=>w.chainNamespace===o);if(!u&&!h&&!p){const w=this.getApprovedCaipNetworkIds()||[],m=w.find(v=>{var _;return((_=Fr.parseCaipNetworkId(v))==null?void 0:_.chainId)===c.toString()}),y=w.find(v=>{var _;return((_=Fr.parseCaipNetworkId(v))==null?void 0:_.chainNamespace)===o});h=this.getCaipNetworks().find(v=>v.caipNetworkId===m),p=this.getCaipNetworks().find(v=>v.caipNetworkId===y||"deprecatedCaipNetworkId"in v&&v.deprecatedCaipNetworkId===y)}const g=h||p;(g==null?void 0:g.chainNamespace)===P.state.activeChain?K.state.enableNetworkSwitch&&!K.state.allowUnsupportedChain&&((f=P.state.activeCaipNetwork)==null?void 0:f.name)===q.UNSUPPORTED_NETWORK_NAME?P.showUnsupportedChainUI():this.setCaipNetwork(g):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),gp.isLowerCaseMatch(s,te.state.address)||this.syncAccountInfo(s,g==null?void 0:g.id,o),n?await this.syncBalance({address:s,chainId:g==null?void 0:g.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),i=n||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${r}:${i}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=re.getConnectorId(e),r=dt.getProviderId(e);if(r===xt.CONNECTOR_TYPE_ANNOUNCED||r===xt.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(o=>o.id===n);if(i){const{info:o,name:a,imageUrl:c}=i,l=c||this.getConnectorImage(i);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===xt.CONNECTOR_TYPE_WALLET_CONNECT){const i=dt.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n&&n===q.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(o=>o.id===q.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}}async syncBalance(e){!sp.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),i=P.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:e,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,s,i,o,a,c,l,u,d,f;const e=kpe.createLogger((h,...p)=>{h&&this.handleAlertError(h),console.error(...p)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};K.setManualWCControl(!!((f=this.options)!=null&&f.manualWCControl)),this.universalProvider=this.options.universalProvider??await Ppe.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{de.setUri(e)}),this.universalProvider.on("connect",de.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),de.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(s=>s.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(hh.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&me.isCaipAddress(r[0])&&this.syncAccount(Fr.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&me.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){ot.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(Nt.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=Nt.ALERT_ERRORS[o];a&&(Vt.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&de.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return nt.open({...e,data:{swap:e.arguments}})}return nt.open(e)}async close(){await this.injectModalUi(),nt.close()}setLoading(e,n){nt.setLoading(e,n)}async disconnect(e){await de.disconnect({namespace:e})}getSIWX(){return K.state.siwx}getError(){return""}getChainId(){var e;return(e=P.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){Vt.open(Nt.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await P.switchActiveNetwork(n)}getWalletProvider(){return P.state.activeChain?dt.state.providers[P.state.activeChain]:null}getWalletProviderType(){return dt.getProviderId(P.state.activeChain)}subscribeProviders(e){return dt.subscribeProviders(e)}getThemeMode(){return br.state.themeMode}getThemeVariables(){return br.state.themeVariables}setThemeMode(e){br.setThemeMode(e),R6(br.state.themeMode)}setTermsConditionsUrl(e){K.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){K.setPrivacyPolicyUrl(e)}setThemeVariables(e){br.setThemeVariables(e),vye(br.state.themeVariables)}subscribeTheme(e){return br.subscribe(e)}subscribeConnections(e){return de.subscribe(e)}getWalletInfo(e){return e?P.getAccountProp("connectedWalletInfo",e):te.state.connectedWalletInfo}getAccount(e){var o;const n=re.getAuthConnector(e),r=P.getAccountData(e),s=P.state.activeChain,i=ne.getConnectedConnectorId(e||s);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:me.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&i===q.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:ne.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(o=r.preferredAccountTypes)==null?void 0:o[e||s],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?P.subscribeChainProp("accountState",r,n):P.subscribe(r),re.subscribe(r)}subscribeNetwork(e){return P.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e,n){return n?te.subscribeKey("connectedWalletInfo",e,n):te.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){te.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){P.subscribeKey("activeCaipNetwork",e)}getState(){return Ai.state}subscribeState(e){return Ai.subscribe(e)}showErrorMessage(e){Ws.showError(e)}showSuccessMessage(e){Ws.showSuccess(e)}getEvent(){return{...ot.state}}subscribeEvents(e){return ot.subscribe(e)}replace(e){_e.replace(e)}redirect(e){_e.push(e)}popTransactionStack(e){_e.popTransactionStack(e)}isOpen(){return nt.state.open}isTransactionStackEmpty(){return _e.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){K.setFeatures(e)}updateRemoteFeatures(e){K.setRemoteFeatures(e)}updateOptions(e){const r={...K.state||{},...e};K.setOptions(r)}setConnectMethodsOrder(e){K.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){K.setWalletFeaturesOrder(e)}setCollapseWallets(e){K.setCollapseWallets(e)}setSocialsOrder(e){K.setSocialsOrder(e)}getConnectMethodsOrder(){return k_.getConnectOrderMethod(K.state.features,re.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||P.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&P.removeNetwork(e,n)}}let hP=!1;class Aye extends Sye{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{Wr.checkIfRequestExists(n)?Wr.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(hn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(hn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const s=Wr.checkIfRequestIsSafe(r),i=te.state.address,o=P.state.activeCaipNetwork;s||(i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=P.state.activeChain;re.getConnectorId(n)===q.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(n=>{var l,u;const r=P.state.activeChain,s=r===q.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,i=K.state.defaultAccountTypes[r],o=(l=te.state.preferredAccountTypes)==null?void 0:l[r],a=n.preferredAccountType||o||i;gp.isLowerCaseMatch(n.address,te.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(s,r),this.setUser({...te.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(a,r);const c=(u=n.accounts)==null?void 0:u.map(d=>me.createAccount(r,d.address,d.type||o||i));this.setAllAccounts(c||[me.createAccount(r,n.address,n.preferredAccountType||a)],r),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...te.state.user||{},username:n},P.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,P.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,P.state.activeChain)})}async syncAuthConnector(e,n){var d,f,h,p;const r=q.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),s=n===P.state.activeChain;if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername();this.setUser({...((d=te.state)==null?void 0:d.user)||{},username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected(),l=br.getSnapshot(),u=K.getSnapshot();await Promise.all([e.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),e.syncTheme({themeMode:l.themeMode,themeVariables:l.themeVariables,w3mThemeVariables:oo(l.themeVariables,l.themeMode)})]),await e.getSmartAccountEnabledNetworks(),n&&r&&s&&(c&&((f=this.connectionControllerClient)!=null&&f.connectExternal)?(await((p=this.connectionControllerClient)==null?void 0:p.connectExternal({id:q.CONNECTOR_ID.AUTH,info:{name:q.CONNECTOR_ID.AUTH},type:xt.CONNECTOR_TYPE_AUTH,provider:e,chainId:(h=P.state.activeCaipNetwork)==null?void 0:h.id,chain:n})),this.setStatus("connected",n)):re.getConnectorId(n)===q.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),ne.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!me.isTelegram())return;const r=ne.getTelegramSocialProvider();if(!r||!me.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;te.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=re.getAuthConnector();r&&o&&(this.setLoading(!0,e),await de.connectExternal({id:o.id,type:o.type,socialUri:i},o.chain),ne.setConnectedSocialProvider(r),ne.removeTelegramSocialProvider(),ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var l,u,d,f;if(!q.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=(l=this.remoteFeatures)==null?void 0:l.email,s=Array.isArray((u=this.remoteFeatures)==null?void 0:u.socials)&&this.remoteFeatures.socials.length>0,i=r||s,a=gp.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&((d=this.options)!=null&&d.projectId)&&i&&(this.authProvider=Kc.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(f=this.getCaipNetwork(a))==null?void 0:f.caipNetworkId,abortController:Nt.EmbeddedWalletAbortController,onTimeout:h=>{h==="iframe_load_failed"?Vt.open(Nt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):h==="iframe_request_timeout"?Vt.open(Nt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):h==="unverified_domain"&&Vt.open(Nt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),Ai.subscribeOpen(h=>{var p;!h&&this.isTransactionStackEmpty()&&((p=this.authProvider)==null||p.rejectRpcRequests())}));const c=e===P.state.activeChain;this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&ye.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var o,a;if(!e)return;const n=P.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===n&&s){const c=this.getAdapter(r),l=dt.getProvider(r),u=dt.getProviderId(r);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:l,providerType:u})),this.setCaipNetwork(e)}else{const l=dt.getProviderId(n)===xt.CONNECTOR_TYPE_AUTH,u=dt.getProviderId(r),d=u===xt.CONNECTOR_TYPE_AUTH,f=q.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((l&&u===void 0||d)&&f)try{if(P.state.activeChain=e.chainNamespace,s){const h=this.getAdapter(r);await(h==null?void 0:h.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else await((a=(o=this.connectionControllerClient)==null?void 0:o.connectExternal)==null?void 0:a.call(o,{id:q.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:xt.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const p=this.getAdapter(r);await(p==null?void 0:p.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else u===xt.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r}))}}async initialize(e){var n;await super.initialize(e),(n=this.chainNamespaces)==null||n.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),Ai.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const s=`${r}:${n}`,i=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===s);if(r!==q.CHAIN.EVM||i!=null&&i.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(a,r),this.setProfileImage(c,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=dt.getProviderId(e);if(n===xt.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=ne.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(me.isClient()&&!hP)try{const e={...it.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),me.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!K.state.disableAppend&&!K.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}hP=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!me.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(Fn(()=>import("./embedded-wallet-D9jyh9vP.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12,13,14]))),n.email&&r.push(Fn(()=>import("./email-CYD4N_Sc.js"),__vite__mapDeps([15,4,14,8,13,7,12,16,9]))),n.socials&&r.push(Fn(()=>import("./socials-DABMPl9M.js"),__vite__mapDeps([17,4,18,7,19,20,13,21,12,8,14,22,6,23]))),n.swaps&&n.swaps.length>0&&r.push(Fn(()=>import("./swaps-ByeZSV5_.js"),__vite__mapDeps([24,4,12,8,25,26,27,6,13,23,9,7]))),e.send&&r.push(Fn(()=>import("./send-Bi5dIiWj.js"),__vite__mapDeps([28,4,12,8,13,7,19,14,27,6,9,29,30]))),e.receive&&r.push(Fn(()=>import("./receive-FlCMfasE.js"),__vite__mapDeps([31,4,32,6,22]))),n.onramp&&n.onramp.length>0&&r.push(Fn(()=>import("./onramp-dxYWegGA.js"),__vite__mapDeps([33,4,34,23,13,6,8,35,18,7,19,36,14,12,21,9]))),n.activity&&r.push(Fn(()=>import("./transactions-BdrkNkoQ.js"),__vite__mapDeps([37,4,38,34,23,13,14,6]))),e.pay&&r.push(Fn(()=>import("./index-DGzHtiB3.js"),__vite__mapDeps([39,4,12,8,40,6,13,10,35,30,21]))),await Promise.all([...r,Fn(()=>import("./index-Bk7FQb9T.js"),__vite__mapDeps([41,4,6,8,29,13,42,26,10,35,12,11,40,38,34,23,14,25,30,7,9,16,18,19,20,5,21,32,22,36])),Fn(()=>import("./w3m-modal-CF97mgsE.js"),__vite__mapDeps([43,4,10,6,13,11,8,26,42]))])}}let Zo;function Iye(t){t&&(Zo=t)}function $6(){if(!Zo)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function t(n){await(Zo==null?void 0:Zo.open(n))}async function e(){await(Zo==null?void 0:Zo.close())}return{open:t,close:e}}const Tye="1.7.10";let gm;function Nye(t){return gm||(gm=new Aye({...t,sdkVersion:me.generateSdkVersion(t.adapters??[],"react",Tye)}),Iye(gm)),gm}const Pye=Ui({body:{margin:0,height:"100vh",width:"100vw",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000"}});function Rye(){const t=Pye(),{open:e}=$6(),{address:n,isConnected:r}=ex(),{isPending:s}=Hk(),{disconnect:i}=Vk(),{data:o}=Gk({address:n}),[a,c]=z.useState("pixelawbs-popup"),[l,u]=z.useState(new Set),[d,f]=z.useState(!1),[h,p]=z.useState(!1),g=z.useRef(null);z.useEffect(()=>{if(a==="halloween-popup"&&g.current){const C=g.current.querySelector("script[data-tiktok-embed]");C&&C.remove();const R=document.createElement("script");R.src="https://www.tiktok.com/embed.js",R.async=!0,R.setAttribute("data-tiktok-embed","true"),g.current.appendChild(R)}},[a]);const w=(C,R,O)=>{if(C==="url"&&O)window.open(O,"_blank");else if(C==="popup"&&R)c(R),u(L=>{const U=new Set(L);return U.delete(R),U}),document.body.offsetWidth;else if(C==="wallet")r?i():e();else if(C==="mint"){if(!n){alert("Please connect your wallet first!");return}f(!0)}else C==="nft-gallery"&&p(!0)},m=()=>c(null),y=C=>{u(R=>new Set(R).add(C)),c(null)},v=C=>{C==="mint-popup"?f(!0):C==="nft-gallery-popup"?p(!0):c(C),u(R=>{const O=new Set(R);return O.delete(C),O})},_=()=>f(!1),E=()=>p(!1),x=()=>{f(!1),u(C=>new Set(C).add("mint-popup"))},S=()=>{p(!1),u(C=>new Set(C).add("nft-gallery-popup"))},T=b.jsxs("div",{onClick:()=>{r?i():e()},style:{cursor:"pointer",display:"flex",alignItems:"center",color:r?"limegreen":"red",fontWeight:"bold"},children:[b.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"8px",border:"1px solid black"}}),s?"Connecting...":r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]});return b.jsxs("div",{className:t.body,children:[b.jsx(OK,{onIconClick:w}),b.jsx($K,{minimizedWindows:Array.from(l),onRestoreWindow:v,walletButton:T,connectionStatus:{connected:r,address:n,ens:o||void 0}}),b.jsxs(ks,{id:"chat-popup",isOpen:a==="chat-popup",onClose:m,onMinimize:y,children:[b.jsxs("p",{style:{marginBottom:"10px"},children:["join the chat, there is no meme we lawb you ",b.jsx("a",{href:"https://boards.miladychan.org/milady/33793",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"/milady/33793"})]}),b.jsx("img",{src:"/assets/miladychanfaq.png",alt:"Milady Chan FAQ",style:{maxWidth:"100%",marginTop:"10px"}})]}),b.jsxs(ks,{id:"purity-popup",isOpen:a==="purity-popup",onClose:m,onMinimize:y,children:[b.jsx("p",{style:{marginBottom:"10px"},children:"purify your wallet and cleanse your soul with Purity Finance."}),b.jsx("p",{style:{marginBottom:"10px"},children:"swap any sol token in your wallet directly for $LAWB"}),b.jsx("a",{href:"https://www.purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",style:{cursor:"pointer"},children:"click to Purify"}),b.jsx("img",{src:"/assets/puritylawb.png",alt:"Purity Lawb",style:{maxWidth:"100%",marginTop:"10px"}})]}),b.jsxs(ks,{id:"lawbstarz-popup",isOpen:a==="lawbstarz-popup",onClose:m,onMinimize:y,children:[b.jsxs("p",{style:{marginBottom:"10px"},children:["☆ LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER ☆ 666x PREMIUM PFP COLLECTION ☆ LAWBSTARZ IS A MUSIC NFT ☆ LAWBSTARZ IS AN ",b.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE ☆ LAWBSTARZ IS INSPIRED BY ",b.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"REMILIA CORP"})," ☆ LED BY NETWORK SPIRITUALITY ☆ 666 ",b.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",b.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 ☆"]}),b.jsx("p",{children:"Chain: Ethereum"}),b.jsxs("p",{children:["Collect on ",b.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),b.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),b.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),b.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),b.jsxs(ks,{id:"lawbstation-popup",isOpen:a==="lawbstation-popup",onClose:m,onMinimize:y,children:[b.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",b.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),b.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),b.jsx("p",{style:{marginBottom:"10px"},children:b.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",children:"Collect Lawbstations on Secondary"})}),b.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),b.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),b.jsxs(ks,{id:"nexus-popup",isOpen:a==="nexus-popup",onClose:m,onMinimize:y,children:[b.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",b.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),b.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),b.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),b.jsxs(ks,{id:"lawbsters-popup",isOpen:a==="lawbsters-popup",onClose:m,onMinimize:y,children:[b.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",b.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),b.jsx("p",{children:"Chain: Ethereum"}),b.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",b.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})," or ",b.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"NFTX"})]}),b.jsx("div",{style:{maxWidth:"400px",margin:"0 auto"},children:b.jsx(Xq,{id:"1620879129850834944"})}),b.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),b.jsx(ks,{id:"pixelawbs-popup",isOpen:a==="pixelawbs-popup",onClose:m,onMinimize:y,children:(()=>{const C=R=>{R.preventDefault(),c(null),f(!0)};return b.jsxs(b.Fragment,{children:[b.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",b.jsx("span",{style:{color:"blue",textDecoration:"underline",cursor:"pointer"},onClick:C,children:"COLLECT HERE"})," OR VISIT ",b.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"SCATTER.ART"})]}),b.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none"}),b.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",b.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PixeladyMaker"})]}),b.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Ethereum"}),b.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",b.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),b.jsx("img",{src:"/assets/mint.gif",alt:"Mint",style:{maxWidth:"100%"}})]})})()}),b.jsxs(ks,{id:"halloween-popup",isOpen:a==="halloween-popup",onClose:m,onMinimize:y,children:[b.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),b.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),b.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),b.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",b.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),b.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}}),b.jsx("div",{ref:g,style:{maxWidth:"400px",margin:"0 auto"},children:b.jsx("blockquote",{className:"tiktok-embed",cite:"https://www.tiktok.com/@wables.eth/video/7295660710644682027","data-video-id":"7295660710644682027",style:{maxWidth:"605px",minWidth:"325px"},children:b.jsxs("section",{children:[b.jsx("a",{target:"_blank",rel:"noreferrer",title:"@wables.eth",href:"https://www.tiktok.com/@wables.eth?refer=embed",children:"@wables.eth"})," 420 lawbsters hijacked a spirit halloween superstore 🦞🎃 minting rn on @ourzora via @PC69 ",b.jsx("a",{target:"_blank",rel:"noreferrer",title:"♬ original sound - wables.eth",href:"https://www.tiktok.com/music/original-sound-7295660837769857835?refer=embed",children:"♬ original sound - wables.eth"})]})})})]}),b.jsxs(ks,{id:"lawb-popup",isOpen:a==="lawb-popup",onClose:m,onMinimize:y,children:[b.jsx("h1",{style:{marginBottom:"10px"},children:b.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"🦞 $LAWB"})}),b.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",b.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"pump.fun"}),"."]}),b.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),b.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),b.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),b.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),b.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),b.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",b.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),b.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),b.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),b.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),b.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",b.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),b.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),b.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),b.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),b.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}}),b.jsx("div",{style:{width:"100%",height:"400px",marginTop:"10px"},children:b.jsx("iframe",{src:"https://dexscreener.com/solana/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&theme=dark&info=0",title:"DexScreener",style:{width:"100%",height:"100%",border:"none"}})})]}),b.jsx(UK,{isOpen:d,onClose:_,onMinimize:x,walletAddress:n||""}),b.jsx(FK,{isOpen:h,onClose:E,onMinimize:S,walletAddress:n})]})}const Oye=Ui({galleryContainer:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#c0c0c0",zIndex:200,display:"flex",flexDirection:"column",fontFamily:"'MS Sans Serif', Arial, sans-serif"},header:{background:"navy",color:"#fff",padding:"8px",display:"flex",alignItems:"center",gap:"10px"},backButton:{background:"#c0c0c0",border:"2px outset #fff",padding:"2px 8px",cursor:"pointer","&:active":{borderStyle:"inset"}},headerTitle:{margin:0,fontSize:"1rem",fontWeight:"bold"},content:{flex:1,overflowY:"auto",padding:"1rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",cursor:"pointer",textAlign:"center","& img":{width:"100%",height:"auto",marginBottom:"8px"}},detailView:{padding:"1rem","& img":{maxWidth:"100%",marginBottom:"1rem"}},loading:{textAlign:"center",padding:"2rem"},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff",flexWrap:"wrap"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),pP=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"}],kye=({onBack:t,walletAddress:e})=>{const n=Oye(),[r,s]=z.useState([]),[i,o]=z.useState(!0),[a,c]=z.useState(null),[l,u]=z.useState(pP[0]);z.useEffect(()=>{(async()=>{o(!0);try{let g;l.api==="opensea"?g=await e5(l.slug,100,e):g=await X$(l.slug,1,100,e),s(g.data)}catch(g){console.error(g)}finally{o(!1)}})()},[e,l]);const d=async p=>{if(o(!0),l.api==="opensea"&&l.chain)try{const g=await t5(l.chain,p.address,p.token_id.toString()),w={...p,attributes:JSON.stringify(g.traits||[])};c(w)}catch(g){console.error("Failed to fetch full NFT details",g),c(p)}else c(p);o(!1)},f=()=>{if(!a)return null;let p=[];try{p=JSON.parse(a.attributes||"[]")}catch(g){console.error("Failed to parse NFT attributes:",g)}return b.jsxs("div",{className:n.detailView,children:[b.jsx("img",{src:a.image,alt:a.name}),b.jsx("h2",{children:a.name}),b.jsx("h4",{children:"Traits:"}),b.jsx("ul",{children:p.map((g,w)=>b.jsxs("li",{children:[b.jsxs("strong",{children:[g.trait_type,":"]})," ",g.value]},w))})]})},h=()=>b.jsxs(b.Fragment,{children:[b.jsx("div",{className:n.collectionSelector,children:pP.map(p=>b.jsx("button",{className:`${n.collectionButton} ${l.slug===p.slug?"active":""}`,onClick:()=>u(p),children:p.name},p.slug))}),b.jsx("div",{className:n.grid,children:r.map(p=>{let g=p.image||p.image_url||p.image_url_shrunk||"/assets/pixelawb.png";return b.jsxs("div",{className:n.gridItem,onClick:()=>void d(p),children:[b.jsx("img",{src:g,alt:p.name,onError:w=>{w.currentTarget.src!==p.image_url&&p.image_url?w.currentTarget.src=p.image_url:w.currentTarget.src!==p.image_url_shrunk&&p.image_url_shrunk?w.currentTarget.src=p.image_url_shrunk:w.currentTarget.src="/assets/pixelawb.png"}}),b.jsx("span",{children:p.name})]},p.id)})})]});return b.jsxs("div",{className:n.galleryContainer,children:[b.jsxs("header",{className:n.header,children:[b.jsx("button",{className:n.backButton,onClick:a?()=>c(null):t,children:"Back"}),b.jsx("h2",{className:n.headerTitle,children:a?a.name:"EVM LAWB GALLERY"})]}),b.jsx("div",{className:n.content,children:i?b.jsx("p",{className:n.loading,children:"Loading..."}):a?f():h()})]})},$ye=Ui({overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",zIndex:4e3,display:"flex",alignItems:"center",justifyContent:"center"},popup:{background:"#c0c0c0",border:"2px outset #fff",borderRadius:12,width:"92vw",maxWidth:420,minHeight:240,maxHeight:"90vh",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"stretch",position:"relative",overflow:"hidden"},titleBar:{background:"navy",color:"#fff",fontWeight:"bold",fontFamily:"'MS Sans Serif', Arial, sans-serif",fontSize:16,padding:"8px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px inset #fff",userSelect:"none"},closeButton:{width:28,height:28,background:"#c0c0c0",border:"2px outset #fff",borderRadius:4,color:"#000",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginLeft:8,boxShadow:"1px 1px 0 #888","&:active":{border:"2px inset #fff",background:"#e0e0e0"}},content:{padding:16,overflowY:"auto",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000",fontSize:15,background:"#fff",flex:1}}),li=({isOpen:t,onClose:e,title:n,children:r})=>{const s=$ye();return t?b.jsx("div",{className:s.overlay,children:b.jsxs("div",{className:s.popup,children:[b.jsxs("div",{className:s.titleBar,children:[b.jsx("span",{children:n}),b.jsx("button",{className:s.closeButton,onClick:e,title:"Close",children:"✕"})]}),b.jsx("div",{className:s.content,children:r})]})}):null},Dye=({isOpen:t,onClose:e,walletAddress:n})=>{const[r,s]=z.useState([]),[i,o]=z.useState(!1),[a,c]=z.useState(!1),[l,u]=z.useState({}),[d,f]=z.useState(null),{data:h}=Kk();z.useEffect(()=>{t&&n&&p()},[t,n]);const p=async()=>{o(!0),f(null);try{const _=await Q$(n);s(_);const E={};_.forEach(x=>{E[x.id]=0}),u(E)}catch(_){f(_.message)}finally{o(!1)}},g=(_,E)=>{u(x=>({...x,[_]:Math.max(0,E)}))},w=async()=>{const _=Object.entries(l).filter(([,E])=>E>0).map(([E,x])=>({id:E,quantity:x}));if(_.length===0){f("Please select at least one item to mint");return}if(!h){f("Wallet not connected");return}c(!0),f(null);try{const E=await J$(n,_);if(E.success&&E.mintTransaction){alert("Please confirm the transaction in your wallet.");try{const x=await h.sendTransaction({to:E.mintTransaction.to,value:BigInt(E.mintTransaction.value),data:E.mintTransaction.data});alert(`NFT Minted Successfully: Transaction Hash - ${x}`),e()}catch(x){f("Transaction failed: "+x.message)}}else throw new Error(E.message||"Could not retrieve minting transaction.")}catch(E){f("Minting failed: "+E.message)}finally{c(!1)}},m=(_,E)=>`${parseFloat(_)} ${E}`,y={border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#f8f8f8",borderRadius:"8px",textAlign:"left"},v={backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000",borderRadius:"8px"};return b.jsxs(li,{isOpen:t,onClose:e,title:"Mint Pixelawbs",children:[d&&b.jsx("div",{style:v,children:d}),i?b.jsx("div",{children:"Loading eligible invite lists..."}):r.length===0?b.jsx("div",{children:"No eligible invite lists found for your wallet."}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{style:{marginBottom:"20px"},children:[b.jsx("h3",{style:{color:"#008080",fontSize:"1rem",margin:0},children:"Available Lists:"}),r.map(_=>b.jsxs("div",{style:y,children:[b.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:_.name}),b.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",m(_.token_price,_.currency_symbol)]}),b.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",_.wallet_limit===4294967295?"Unlimited":_.wallet_limit," per wallet"]}),b.jsx("input",{type:"number",min:0,max:_.wallet_limit===4294967295?void 0:_.wallet_limit,value:l[_.id]||"",onChange:E=>g(_.id,parseInt(E.target.value)||0),style:{width:"60px",fontSize:"1rem",marginRight:"8px"}}),b.jsx("span",{style:{fontSize:"0.95rem"},children:"Qty"})]},_.id))]}),b.jsx("button",{style:{background:"#00ffff",color:"#000",border:"none",borderRadius:"8px",padding:"12px 32px",fontWeight:"bold",fontSize:"1.1rem",marginTop:"1.5rem",cursor:"pointer",boxShadow:"1px 1px 0 #aaa"},onClick:w,disabled:a,children:a?"Minting...":"Mint"})]})]})},Uye=Ui({mobileContainer:{minHeight:"100vh",minWidth:"100vw",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",position:"relative",overflow:"hidden"},header:{backgroundColor:"#c00",padding:"0.75rem 0",border:"none",textAlign:"center",marginBottom:"1.5rem"},title:{margin:0,fontSize:"1.1rem",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",letterSpacing:"1px",textShadow:"1px 1px 0 #000",textTransform:"uppercase"},iconGrid:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem",marginBottom:"80px"},icon:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",cursor:"pointer",textAlign:"center","& img":{width:"64px",height:"64px"},"& span":{wordBreak:"break-word"}},taskbar:{position:"fixed",left:0,bottom:0,width:"100%",maxWidth:"100vw",height:"56px",background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1rem",zIndex:1e3,borderTop:"2px solid #00ffff"},menuButton:{background:"#00ffff",color:"#000",fontWeight:"bold",border:"none",borderRadius:"4px",padding:"8px 16px",fontSize:"1rem",cursor:"pointer",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",boxShadow:"2px 2px 0 #000"},walletStatus:{display:"flex",alignItems:"center",color:"#fff",fontWeight:"bold",fontSize:"0.9rem",fontFamily:"'MS Sans Serif', Arial, sans-serif"},statusDot:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:t=>t?"limegreen":"red",marginRight:"6px",border:"1px solid #000"},clock:{color:"#00ffff",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",fontSize:"1rem",fontWeight:"bold",textShadow:"1px 1px 0 #000",marginRight:"12px"},pixelawbsPopupOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},pixelawbsPopup:{background:"#fff",borderRadius:"12px",width:"90vw",maxWidth:"420px",height:"75vh",maxHeight:"600px",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1.5rem",position:"relative"},closeButton:{position:"absolute",top:"10px",right:"10px",background:"#00ffff",color:"#000",border:"none",borderRadius:"50%",width:"32px",height:"32px",fontSize:"1.5rem",fontWeight:"bold",cursor:"pointer",boxShadow:"1px 1px 0 #000"},menuOverlay:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",zIndex:3e3,display:"flex",alignItems:"flex-end",justifyContent:"center",pointerEvents:"auto"},menuModal:{width:"100vw",background:"#c0c0c0",borderTopLeftRadius:"16px",borderTopRightRadius:"16px",boxShadow:"0 -4px 24px rgba(0,0,0,0.2)",padding:"18px 0 8px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",zIndex:3100,marginBottom:"56px"},menuLink:{display:"block",width:"90%",padding:"12px",color:"#000",textDecoration:"none",background:"#e0e0e0",borderRadius:"8px",fontWeight:"bold",fontSize:"1.1rem",textAlign:"center",marginBottom:"4px",border:"2px outset #fff",boxShadow:"1px 1px 0 #aaa"}}),Lye=[{id:"lawbsters",name:"Lawbsters",image:"/assets/lawbsters.gif",description:"420 Lawbsters. ETH."},{id:"lawbstarz",name:"Lawbstarz",image:"/assets/lawbstarz.gif",description:"666 Lawbstarz. ETH."},{id:"halloween",name:"Halloween",image:"/assets/lawbsterhalloween.gif",description:"Halloween Lawbsters. BASE."},{id:"pixelawbs",name:"Pixelawbs",image:"/assets/pixelawb.png",description:"2222 Pixelawbs. ETH."}],Mye=[{id:"lawbstation",name:"Lawbstation",image:"/assets/lawbstation.GIF",description:"Lawbstation. SOL."},{id:"nexus",name:"Nexus",image:"/assets/nexus.gif",description:"Nexus. SOL."}],jye=()=>{const t=Uye(),{open:e}=$6(),{address:n,isConnected:r}=ex(),{isPending:s}=Hk(),{disconnect:i}=Vk(),{data:o}=Gk({address:n}),[a,c]=z.useState("main"),[l,u]=z.useState(!1),[d,f]=z.useState(()=>new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),[h,p]=z.useState(!1),[g,w]=z.useState(!1),[m,y]=z.useState(!1),[v,_]=z.useState(!1),[E,x]=z.useState(!1),[S,T]=z.useState(!1),[C,R]=z.useState(!1),[O,L]=z.useState(!1),[U,B]=z.useState(!1),[I,N]=z.useState(!1),[M,k]=z.useState(!1),$=[{label:"Mint",icon:"/assets/mint.gif",action:()=>w(!0)},{label:"EVM NFT'S FOLDER",icon:"/assets/evmfolder.png",action:()=>y(!0)},{label:"SOL NFTS FOLDER",icon:"/assets/solfolder.png",action:()=>_(!0)},{label:"$LAWB",icon:"/assets/lawbticker.gif",action:()=>x(!0)},{label:r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Wallet",icon:"/assets/wallet.png",action:()=>{r?i():e()},disabled:s}],j=Y=>{Y.disabled||Y.action()};if(z.useEffect(()=>{const Y=window.setInterval(()=>{f(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},1e3);return()=>window.clearInterval(Y)},[]),z.useEffect(()=>{u(!0)},[]),a==="gallery")return b.jsx(kye,{onBack:()=>c("main"),walletAddress:n||void 0});function F({open:Y,onClose:Z,title:se,nfts:ge}){const ke=Te=>{switch(Te){case"lawbsters":T(!0);break;case"lawbstarz":R(!0);break;case"pixelawbs":L(!0);break;case"halloween":B(!0);break;case"lawbstation":N(!0);break;case"nexus":k(!0);break}};return b.jsx(li,{isOpen:Y,onClose:Z,title:se,children:b.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,width:"100%"},children:ge.map(Te=>b.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",background:"#f8f8f8",borderRadius:8,padding:8,cursor:"pointer"},onClick:()=>ke(Te.id),children:[b.jsx("img",{src:Te.image,alt:Te.name,style:{width:80,height:80,objectFit:"contain",marginBottom:8}}),b.jsx("span",{style:{fontWeight:"bold",fontSize:14},children:Te.name}),b.jsx("span",{style:{fontSize:12,color:"#555",textAlign:"center"},children:Te.description})]},Te.id))})})}function H({open:Y,onClose:Z}){return Y?b.jsxs(li,{isOpen:Y,onClose:Z,title:"$LAWB",children:[b.jsx("h1",{style:{marginBottom:"10px"},children:b.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"🦞 $LAWB"})}),b.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",b.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"pump.fun"}),"."]}),b.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),b.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),b.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),b.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),b.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),b.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",b.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),b.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),b.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),b.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),b.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",b.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),b.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),b.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),b.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),b.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}})]}):null}return b.jsxs("div",{className:t.mobileContainer,children:[b.jsx("header",{className:t.header,children:b.jsx("h1",{className:t.title,children:"there is no meme we lawb you"})}),b.jsx("div",{className:t.iconGrid,children:$.map(Y=>b.jsxs("div",{className:t.icon,onClick:()=>j(Y),children:[b.jsx("img",{src:Y.icon,alt:Y.label}),b.jsx("span",{children:Y.label})]},Y.label))}),l&&b.jsxs(li,{isOpen:l,onClose:()=>u(!1),title:"Pixelawbs",children:[b.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",b.jsx("span",{style:{color:"blue",textDecoration:"underline",cursor:"pointer"},onClick:()=>{u(!1),w(!0)},children:"COLLECT HERE"})," OR VISIT ",b.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"SCATTER.ART"})]}),b.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none"}),b.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",b.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PixeladyMaker"})]}),b.jsx("p",{style:{marginBottom:"10px"},children:b.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})})]}),h&&b.jsx("div",{className:t.menuOverlay,onClick:()=>p(!1),children:b.jsxs("div",{className:t.menuModal,onClick:Y=>Y.stopPropagation(),children:[b.jsx("a",{href:"https://dexscreener.com/solana/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Dexscreener"}),b.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbStation Twitter"}),b.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbNexus Twitter"}),b.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"NFTX - Lawbsters"}),b.jsx("a",{href:"https://purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Purity"}),b.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"UwU LAWB"}),b.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Telegram"}),b.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Discord"})]})}),b.jsx(Dye,{isOpen:g,onClose:()=>w(!1),walletAddress:n||""}),b.jsx(F,{open:m,onClose:()=>y(!1),title:"EVM NFT'S FOLDER",nfts:Lye}),b.jsx(F,{open:v,onClose:()=>_(!1),title:"SOL NFTS FOLDER",nfts:Mye}),b.jsx(H,{open:E,onClose:()=>x(!1)}),b.jsxs(li,{isOpen:S,onClose:()=>T(!1),title:"Lawbsters",children:[b.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",b.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),b.jsx("p",{children:"Chain: Ethereum"}),b.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",b.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})," or ",b.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"NFTX"})]}),b.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),b.jsxs(li,{isOpen:C,onClose:()=>R(!1),title:"Lawbstarz",children:[b.jsxs("p",{style:{marginBottom:"10px"},children:["☆ LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER ☆ 666x PREMIUM PFP COLLECTION ☆ LAWBSTARZ IS A MUSIC NFT ☆ LAWBSTARZ IS AN ",b.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE ☆ LAWBSTARZ IS INSPIRED BY ",b.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"REMILIA CORP"})," ☆ LED BY NETWORK SPIRITUALITY ☆ 666 ",b.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",b.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 ☆"]}),b.jsx("p",{children:"Chain: Ethereum"}),b.jsxs("p",{children:["Collect on ",b.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),b.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),b.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),b.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),b.jsxs(li,{isOpen:O,onClose:()=>L(!1),title:"Pixelawbs",children:[b.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",b.jsx("span",{style:{color:"blue",textDecoration:"underline",cursor:"pointer"},onClick:()=>{L(!1),w(!0)},children:"COLLECT HERE"})," OR VISIT ",b.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"SCATTER.ART"})]}),b.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none"}),b.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",b.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PixeladyMaker"})]})]}),b.jsxs(li,{isOpen:U,onClose:()=>B(!1),title:"A Lawbster Halloween",children:[b.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),b.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),b.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),b.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",b.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),b.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}})]}),b.jsxs(li,{isOpen:I,onClose:()=>N(!1),title:"Lawbstation",children:[b.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",b.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),b.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),b.jsx("p",{style:{marginBottom:"10px"},children:b.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",children:"Collect Lawbstations on Secondary"})}),b.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),b.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),b.jsxs(li,{isOpen:M,onClose:()=>k(!1),title:"Nexus",children:[b.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",b.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),b.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),b.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),b.jsxs("div",{className:t.taskbar,children:[b.jsx("button",{className:t.menuButton,onClick:()=>p(!0),children:"Menu"}),b.jsxs("div",{className:t.walletStatus,children:[b.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"6px",border:"1px solid #000",display:"inline-block"}}),r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]}),b.jsx("span",{className:t.clock,children:d})]})]})};function Bye(t){const e=i=>typeof window<"u"?window.matchMedia(i).matches:!1,[n,r]=z.useState(e(t));function s(){r(e(t))}return z.useEffect(()=>{const i=window.matchMedia(t);return s(),i.addEventListener("change",s),()=>{i.removeEventListener("change",s)}},[t]),n}function Fye(t){let e=[],n,r;function s(a){return sp.parseEvmChainId(a)||1}function i(){var a;return n||(n=Kc.getInstance({projectId:t.options.projectId,chainId:(a=P.getActiveCaipNetwork())==null?void 0:a.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:c=>{c==="iframe_load_failed"?Vt.open(Nt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?Vt.open(Nt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&Vt.open(Nt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:Nt.EmbeddedWalletAbortController})),n}async function o(a={}){var g,w;const c=i();let l=a.chainId;if(a.isReconnecting){const m=sp.parseEvmChainId(c.getLastUsedChainId()||""),y=(g=t.chains)==null?void 0:g[0].id;if(l=m||y,!l)throw new Error("ChainId not found in provider")}const u=(w=te.state.preferredAccountTypes)==null?void 0:w.eip155,{address:d,chainId:f,accounts:h}=await c.connect({chainId:l,preferredAccountType:u,socialUri:a.socialUri});e=(h==null?void 0:h.map(m=>m.address))||[d];const p=s(f);return{accounts:e,account:d,chainId:p,chain:{id:p,unsuported:!1}}}return a=>({id:q.CONNECTOR_ID.AUTH,name:q.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:q.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,l},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){var c;return this.provider||(this.provider=Kc.getInstance({projectId:t.options.projectId,chainId:(c=P.getActiveCaipNetwork())==null?void 0:c.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:Nt.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?Vt.open(Nt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?Vt.open(Nt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&Vt.open(Nt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return s(l)},async isAuthorized(){const l=P.state.activeChain===q.CHAIN.EVM;if(q.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(f=>re.getConnectorId(f)===q.CONNECTOR_ID.AUTH)&&!l)return!1;const d=await this.getProvider();return Promise.resolve(d.getLoginEmailUsed())},async switchChain({chainId:c}){var l,u;try{const d=a.chains.find(g=>g.id===c);if(!d)throw new Pi(new Error("chain not found on connector."));const f=await this.getProvider(),h=(l=te.state.preferredAccountTypes)==null?void 0:l.eip155,p=await f.connect({chainId:c,preferredAccountType:h});return e=((u=p==null?void 0:p.accounts)==null?void 0:u.map(g=>g.address))||[p.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),d}catch(d){throw d instanceof Error?new Pi(d):d}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(_a)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}dS.type="walletConnect";function dS(t,e){const n=t.isNewChainsStale??!0;let r,s,i,o,a,c,l;return u=>({id:"walletConnect",name:"WalletConnect",type:dS.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),c||(c=this.onSessionDelete.bind(this),d.on("session_delete",c)))},async connect({...d}={}){var f,h,p;try{const g=P.getCaipNetworks(),w=await this.getProvider();if(!w)throw new Jo;a||(a=this.onDisplayUri,w.on("display_uri",a));const m=await this.isChainsStale();w.session&&m&&await w.disconnect();const y=K.state.universalProviderConfigOverride;if(!w.session||m){const C=hh.createNamespaces(g,y);await w.connect({optionalNamespaces:C,..."pairingTopic"in d?{pairingTopic:d.pairingTopic}:{}}),this.setRequestedChainsIds(g.map(R=>Number(R.id)))}const v=await this.getAccounts(),_=await this.getChainId(),E=(p=(h=(f=w.session)==null?void 0:f.namespaces)==null?void 0:h.eip155)==null?void 0:p.chains,x=E==null?void 0:E.some(C=>Number(C.split(":")[1])===_);let S=1;x?S=_:E!=null&&E[0]&&(S=Number(E[0].split(":")[1])),a&&(w.removeListener("display_uri",a),a=void 0),o&&(w.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),w.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),w.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),w.on("disconnect",l)),c||(c=this.onSessionDelete.bind(this),w.on("session_delete",c));const T=y==null?void 0:y.defaultChain;return w.setDefaultChain(T??`eip155:${S}`),{accounts:v,chainId:S}}catch(g){throw/(user rejected|connection request reset)/i.test(g==null?void 0:g.message)?new Xt(g):g}},async disconnect(){const d=await this.getProvider();try{await(d==null?void 0:d.disconnect())}catch(f){if(!/No matching key/i.test(f.message))throw f}finally{i&&(d==null||d.removeListener("chainChanged",i),i=void 0),l&&(d==null||d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d==null||d.on("connect",o)),s&&(d==null||d.removeListener("accountsChanged",s),s=void 0),c&&(d==null||d.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var p,g,w;const d=await this.getProvider();if(!((p=d==null?void 0:d.session)!=null&&p.namespaces))return[];const f=(w=(g=d==null?void 0:d.session)==null?void 0:g.namespaces[q.CHAIN.EVM])==null?void 0:w.accounts;return(f==null?void 0:f.map(m=>m.split(":")[2]))??[]},async getProvider({chainId:d}={}){var p,g;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const f=ne.getActiveNamespace(),h=(p=e.getCaipNetwork())==null?void 0:p.id;if(d&&h!==d&&f){const w=ne.getStoredActiveCaipNetworkId(),m=e.getCaipNetworks(f),y=m==null?void 0:m.find(v=>v.id===w);y&&y.chainNamespace===q.CHAIN.EVM&&await((g=this.switchChain)==null?void 0:g.call(this,{chainId:Number(y.id)}))}return r},async getChainId(){var g,w,m,y;const d=(g=e.getCaipNetwork(q.CHAIN.EVM))==null?void 0:g.id;if(d)return d;const h=(y=(m=(w=(await this.getProvider()).session)==null?void 0:w.namespaces[q.CHAIN.EVM])==null?void 0:m.chains)==null?void 0:y[0],p=P.getCaipNetworks().find(v=>v.id===h);return p==null?void 0:p.id},async isAuthorized(){try{const[d,f]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&f.session?(await f.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:f}){var g,w,m,y;const h=await this.getProvider();if(!h)throw new Jo;const p=P.getCaipNetworks().find(v=>v.id===f);if(!p)throw new Pi(new Qh);try{await h.request({method:"wallet_switchEthereumChain",params:[{chainId:Se(f)}]}),p!=null&&p.caipNetworkId&&h.setDefaultChain(p==null?void 0:p.caipNetworkId),u.emitter.emit("change",{chainId:Number(f)});const v=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...v,f]),{...p,id:p.id}}catch(v){const _=v;if(/(?:user rejected)/iu.test(_.message))throw new Xt(_);try{let E;d!=null&&d.blockExplorerUrls?E=d.blockExplorerUrls:E=(g=p.blockExplorers)!=null&&g.default.url?[(w=p.blockExplorers)==null?void 0:w.default.url]:[];const x=((y=(m=p.rpcUrls)==null?void 0:m.chainDefault)==null?void 0:y.http)||[],S={blockExplorerUrls:E,chainId:Se(f),chainName:p.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:p.nativeCurrency,rpcUrls:x};await h.request({method:"wallet_addEthereumChain",params:[S]});const T=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...T,f]),{...p,id:p.id}}catch(E){throw new Xt(E)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:d.map(f=>_a(f))})},onChainChanged(d){const f=Number(d);u.emitter.emit("change",{chainId:f})},onConnect(d){this.setRequestedChainsIds(P.getCaipNetworks().map(f=>Number(f.id)))},async onDisconnect(d){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const f=await this.getProvider();s&&(f.removeListener("accountsChanged",s),s=void 0),i&&(f.removeListener("chainChanged",i),i=void 0),l&&(f.removeListener("disconnect",l),l=void 0),c&&(f.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var h,p,g;if(!((h=r==null?void 0:r.session)!=null&&h.namespaces))return[];const d=(g=(p=r==null?void 0:r.session)==null?void 0:p.namespaces[q.CHAIN.EVM])==null?void 0:g.accounts;return(d==null?void 0:d.map(w=>Number.parseInt(w.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var f;const d=await((f=u.storage)==null?void 0:f.getItem(this.requestedChainsStorageKey))??[];return[...new Set(d)]},async isChainsStale(){if(!n)return!1;const d=u.chains.map(p=>p.id),f=this.getNamespaceChainsIds();if(f.length&&!f.some(p=>d.includes(p)))return!1;const h=await this.getRequestedChainsIds();return!d.every(p=>h.includes(Number(p)))},async setRequestedChainsIds(d){var f;await((f=u.storage)==null?void 0:f.setItem(this.requestedChainsStorageKey,d))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const Cf=bt({pendingTransactions:0}),gP={state:Cf,subscribeKey(t,e){return In(Cf,t,e)},increase(t){Cf[t]+=1},decrease(t){Cf[t]-=1},reset(t){Cf[t]=0}};function zye(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}async function Wye(t){if(me.isSafeApp()){const{safe:e}=await Fn(async()=>{const{safe:n}=await import("./index-DHxrQ9ZM.js");return{safe:n}},[]);if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function qye(t){try{const{coinbaseWallet:e}=await Fn(async()=>{const{coinbaseWallet:n}=await import("./index-DHxrQ9ZM.js");return{coinbaseWallet:n}},[]);if(e&&!t.some(n=>n.id==="coinbaseWalletSDK"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const Hye={enable:!1,pollingInterval:3e4};class Vye extends k6{constructor(e){const n=_i.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=q.CHAIN.EVM,this.adapterType=q.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...Hye,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===q.CONNECTOR_ID.AUTH){const i=await n.getProvider();if(!(i!=null&&i.user))return{accounts:[]};const{address:o,accounts:a}=i.user;return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>me.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:s}=Ou(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(i=>me.createAccount("eip155",i||"","eoa"))})}checkChainId(){const{chainId:e}=Ou(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===q.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var a,c;const i=(a=e.transports)==null?void 0:a[s.id],o=_i.getCaipNetworkId(s);i?n[s.id]=_i.extendWagmiTransports(s,e.projectId,i):n[s.id]=_i.getViemTransport(s,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=j9({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=w9(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),gP.increase("pendingTransactions")}});const e=gP.subscribeKey("pendingTransactions",n=>{var r;n>=q.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){vk(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e!=null&&e.chainId&&(e==null?void 0:e.chainId)!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"&&(e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){const n=[];if(e.enableCoinbase!==!1){const s=await qye(this.wagmiConfig.connectors);s&&n.push(s)}const r=await Wye(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(s=>{const i=this.wagmiConfig._internal.connectors.setup(s);return this.wagmiConfig._internal.connectors.setState(o=>[...o,i]),this.addWagmiConnector(i,e)}))}addWagmiConnectors(e,n){var o,a,c,l;const r=[];e.enableWalletConnect!==!1&&r.push(dS(e,n)),e.enableInjected!==!1&&r.push(P0({shimDisconnect:!0}));const s=((o=n==null?void 0:n.remoteFeatures)==null?void 0:o.email)??!0,i=Array.isArray((a=n==null?void 0:n.remoteFeatures)==null?void 0:a.socials)&&((l=(c=n==null?void 0:n.remoteFeatures)==null?void 0:c.socials)==null?void 0:l.length)>0;(s||i)&&r.push(Fye({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(u=>{const d=this.wagmiConfig._internal.connectors.setup(u);this.wagmiConfig._internal.connectors.setState(f=>[...f,d])})}async signMessage(e){try{return{signature:await p9(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=Ou(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await f9(this.wagmiConfig,s);const i=await h9(this.wagmiConfig,s);return await v9(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,s=Number(sp.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await b9(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await i9(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return TF(e.value,e.decimals)}formatUnits(e){return Cd(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(e.id===q.CONNECTOR_ID.AUTH||e.id===q.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:Aa.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:Aa.ConnectorNamesMap[e.id]??e.name,imageId:Aa.ConnectorImageIds[e.id],type:Aa.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===q.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){bk(this.wagmiConfig,{onChange:r=>{r.forEach(s=>this.addWagmiConnector(s,e))}}),this.addWagmiConnectors(e,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addThirdPartyConnectors(e)}async syncConnection(e){var l,u;const{id:n,chainId:r}=e,i=hi(this.wagmiConfig).find(d=>d.connector.id===n),o=this.getWagmiConnector(n),a=await(o==null?void 0:o.getProvider());if(me.isSafeApp()&&n===q.CONNECTOR_ID.SAFE&&!(i!=null&&i.accounts.length)){const d=this.getWagmiConnector("safe");if(d){const f=await Pm(this.wagmiConfig,{connector:d,chainId:Number(r)}),h=await d.getProvider();return{chainId:Number(r),address:f.accounts[0],provider:h,type:(l=i==null?void 0:i.connector.type)==null?void 0:l.toUpperCase(),id:i==null?void 0:i.connector.id}}}return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:a,type:(u=i==null?void 0:i.connector.type)==null?void 0:u.toUpperCase(),id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await Pm(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await Q2(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var u,d,f,h,p;const{id:n,provider:r,type:s,info:i,chainId:o,socialUri:a}=e,c=this.getWagmiConnector(n);if(!c)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&i&&c.id===q.CONNECTOR_ID.EIP6963&&((u=c.setEip6963Wallet)==null||u.call(c,{provider:r,info:i})),c.uid===((f=(d=this.wagmiConfig)==null?void 0:d.state)==null?void 0:f.current)){const g=(p=(h=this.wagmiConfig.state)==null?void 0:h.connections)==null?void 0:p.get(c.uid);if(g)return{address:g==null?void 0:g.accounts[0],chainId:g==null?void 0:g.chainId,provider:r,type:s,id:n}}const l=await Pm(this.wagmiConfig,{connector:c,chainId:o?Number(o):void 0,socialUri:a});return{address:l.accounts[0],chainId:l.chainId,provider:r,type:s,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await G1(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,i=this.balancePromises[s];if(i)return i;const o=ne.getNativeBalanceCacheForCaipAddress(s);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[s]=new Promise(async a=>{var c,l;try{const u=Number(e.chainId),d=await l9(this.wagmiConfig,{address:e.address,chainId:u,token:(l=(c=e.tokens)==null?void 0:c[r.caipNetworkId])==null?void 0:l.address});ne.updateNativeBalanceCache({caipAddress:s,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),a({balance:d.formatted,symbol:d.symbol})}catch(u){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",u),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=hi(this.wagmiConfig);await Promise.allSettled(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await yk(this.wagmiConfig,{connector:r})})),this.wagmiConfig.state.connections.clear()}async switchNetwork(e){var r,s,i,o,a;const{caipNetwork:n}=e;await Q2(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[((i=(s=(r=n.rpcUrls)==null?void 0:r.chainDefault)==null?void 0:s.http)==null?void 0:i[0])??""],blockExplorerUrls:[((o=n.blockExplorers)==null?void 0:o.default.url)??""],iconUrls:[((a=n.assets)==null?void 0:a.imageUrl)??""]}}),await super.switchNetwork(e)}async getCapabilities(e){var a,c;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=hi(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(c=(a=i.session)==null?void 0:a.sessionProperties)==null?void 0:c.capabilities;if(o){const u=zye(o)[e];if(u)return u}return await i.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=hi(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=hi(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=hi(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){e.on("connect",()=>{const n=hi(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(s=>s.connector.id===r.id)){if(P.state.activeChain==="eip155")return;G1(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new uS({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}const D6="7c65f27254d6ddd24cf7eedf2685c4fb",Gye={name:"Lawb.xyz",description:"Windows 98-style NFT site",url:"https://lawb.xyz",icons:["/assets/favicon.ico"]},U6=new Vye({networks:[O6],projectId:D6,ssr:!1});Nye({adapters:[U6],networks:[O6],projectId:D6,metadata:Gye,features:{analytics:!1}});const Kye=new T7,Yye=()=>Bye("(max-width: 768px)")?b.jsx(jye,{}):b.jsx(Rye,{});Ob.createRoot(document.getElementById("root")).render(b.jsx(ms.StrictMode,{children:b.jsx(z9,{config:U6.wagmiConfig,children:b.jsx(F7,{client:Kye,children:b.jsx(Yye,{})})})}));export{dwe as $,te as A,Ee as B,re as C,In as D,Jf as E,An as F,ye as G,kE as H,kf as I,Fs as J,oY as K,dt as L,nt as M,nY as N,K as O,Fr as P,qm as Q,_e as R,Ws as S,br as T,ip as U,gp as V,hn as W,gwe as X,k_ as Y,BY as Z,lh as _,Vm as a,_d as a$,un as a0,vl as a1,yi as a2,fwe as a3,S6 as a4,$_ as a5,gd as a6,Fn as a7,h0e as a8,_a as a9,nk as aA,tk as aB,Ka as aC,Yf as aD,wo as aE,o0e as aF,ML as aG,nl as aH,i0e as aI,a0e as aJ,wy as aK,c0e as aL,aj as aM,XO as aN,s0e as aO,S0 as aP,Rh as aQ,vy as aR,D_ as aS,l0e as aT,cj as aU,_A as aV,P9 as aW,sH as aX,Cs as aY,SF as aZ,xF as a_,Pi as aa,Qh as ab,Se as ac,Xt as ad,Jo as ae,ok as af,P0 as ag,by as ah,HC as ai,Ga as aj,n0e as ak,N0 as al,VC as am,t0e as an,e0e as ao,u3 as ap,C0 as aq,yy as ar,xL as as,NL as at,u0e as au,CB as av,V as aw,MC as ax,er as ay,SB as az,it as b,tl as b0,b0 as b1,rr as b2,Ft as b3,Vp as b4,q as c,me as d,P as e,ot as f,oo as g,pwe as h,Uu as i,Wr as j,de as k,xt as l,eye as m,Vt as n,tye as o,ne as p,Nt as q,hwe as r,Je as s,i5 as t,bt as u,DY as v,ts as w,uwe as x,Cx as y,a5 as z};
