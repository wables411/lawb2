const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-D6tYISsl.js","assets/hmac-BXS8FHkq.js","assets/secp256k1-lKf5jATH.js","assets/embedded-wallet-D4f5JLs2.js","assets/if-defined-BIKm3549.js","assets/index-mpPh7kV8.js","assets/index-IgMqawcF.js","assets/ref-DtyBmD2h.js","assets/index-CGmxYx78.js","assets/index-DNv0gXFm.js","assets/index-Cz6ZY6gd.js","assets/index-Ctci1gv4.js","assets/index-1xKFGomR.js","assets/index-A5WGH_V5.js","assets/index-DMyCAE8-.js","assets/email-CelLR8fJ.js","assets/index-DAn00jTq.js","assets/socials-Bg1_XfB1.js","assets/index-DN4Jn7Xv.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-OzHZ44xQ.js","assets/index-k8qqzeif.js","assets/index-Dq1iBtF0.js","assets/index-B8XAugRt.js","assets/swaps-DUj21Cy4.js","assets/index-Bc1NBDeU.js","assets/index-DHx_khT2.js","assets/index-zF2Ti3Ht.js","assets/send-9O_azCIu.js","assets/index-B0_Lki19.js","assets/index-Cqc9qKSS.js","assets/receive-kj5wE6EO.js","assets/index-saqrhodr.js","assets/onramp-ybACKyhp.js","assets/index-D1uHsv20.js","assets/index-B9eWda6Y.js","assets/index-CB3CXhdt.js","assets/transactions-q14wKmUH.js","assets/index-aIClIDrA.js","assets/index-DhHMGMaK.js","assets/index-CbYUf8mV.js","assets/index-CG0nkC02.js","assets/index-Csm_j7gj.js","assets/w3m-modal-CyECqf-B.js"])))=>i.map(i=>d[i]);
var M2=t=>{throw TypeError(t)};var ib=(t,e,n)=>e.has(t)||M2("Cannot "+n);var M=(t,e,n)=>(ib(t,e,"read from private field"),n?n.call(t):e.get(t)),$e=(t,e,n)=>e.has(t)?M2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ee=(t,e,n,r)=>(ib(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Qe=(t,e,n)=>(ib(t,e,"access private method"),n);var Sm=(t,e,n,r)=>({set _(s){Ee(t,e,s,n)},get _(){return M(t,e,r)}});function HL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var on=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Tw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var AR={exports:{}},Nw={},IR={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg=Symbol.for("react.element"),VL=Symbol.for("react.portal"),GL=Symbol.for("react.fragment"),KL=Symbol.for("react.strict_mode"),YL=Symbol.for("react.profiler"),JL=Symbol.for("react.provider"),QL=Symbol.for("react.context"),ZL=Symbol.for("react.forward_ref"),XL=Symbol.for("react.suspense"),eM=Symbol.for("react.memo"),tM=Symbol.for("react.lazy"),B2=Symbol.iterator;function nM(t){return t===null||typeof t!="object"?null:(t=B2&&t[B2]||t["@@iterator"],typeof t=="function"?t:null)}var TR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NR=Object.assign,PR={};function ph(t,e,n){this.props=t,this.context=e,this.refs=PR,this.updater=n||TR}ph.prototype.isReactComponent={};ph.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ph.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kR(){}kR.prototype=ph.prototype;function Bx(t,e,n){this.props=t,this.context=e,this.refs=PR,this.updater=n||TR}var Fx=Bx.prototype=new kR;Fx.constructor=Bx;NR(Fx,ph.prototype);Fx.isPureReactComponent=!0;var F2=Array.isArray,OR=Object.prototype.hasOwnProperty,zx={current:null},RR={key:!0,ref:!0,__self:!0,__source:!0};function $R(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)OR.call(e,r)&&!RR.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:qg,type:t,key:i,ref:o,props:s,_owner:zx.current}}function rM(t,e){return{$$typeof:qg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wx(t){return typeof t=="object"&&t!==null&&t.$$typeof===qg}function sM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var z2=/\/+/g;function ob(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sM(""+t.key):e.toString(36)}function Ly(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qg:case VL:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ob(o,0):r,F2(s)?(n="",t!=null&&(n=t.replace(z2,"$&/")+"/"),Ly(s,e,n,"",function(l){return l})):s!=null&&(Wx(s)&&(s=rM(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(z2,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",F2(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+ob(i,a);o+=Ly(i,e,n,c,s)}else if(c=nM(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+ob(i,a++),o+=Ly(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Am(t,e,n){if(t==null)return t;var r=[],s=0;return Ly(t,r,"","",function(i){return e.call(n,i,s++)}),r}function iM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pr={current:null},My={transition:null},oM={ReactCurrentDispatcher:Pr,ReactCurrentBatchConfig:My,ReactCurrentOwner:zx};function DR(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:Am,forEach:function(t,e,n){Am(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Am(t,function(){e++}),e},toArray:function(t){return Am(t,function(e){return e})||[]},only:function(t){if(!Wx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};tt.Component=ph;tt.Fragment=GL;tt.Profiler=YL;tt.PureComponent=Bx;tt.StrictMode=KL;tt.Suspense=XL;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oM;tt.act=DR;tt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=NR({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=zx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)OR.call(e,c)&&!RR.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:qg,type:t.type,key:s,ref:i,props:r,_owner:o}};tt.createContext=function(t){return t={$$typeof:QL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JL,_context:t},t.Consumer=t};tt.createElement=$R;tt.createFactory=function(t){var e=$R.bind(null,t);return e.type=t,e};tt.createRef=function(){return{current:null}};tt.forwardRef=function(t){return{$$typeof:ZL,render:t}};tt.isValidElement=Wx;tt.lazy=function(t){return{$$typeof:tM,_payload:{_status:-1,_result:t},_init:iM}};tt.memo=function(t,e){return{$$typeof:eM,type:t,compare:e===void 0?null:e}};tt.startTransition=function(t){var e=My.transition;My.transition={};try{t()}finally{My.transition=e}};tt.unstable_act=DR;tt.useCallback=function(t,e){return Pr.current.useCallback(t,e)};tt.useContext=function(t){return Pr.current.useContext(t)};tt.useDebugValue=function(){};tt.useDeferredValue=function(t){return Pr.current.useDeferredValue(t)};tt.useEffect=function(t,e){return Pr.current.useEffect(t,e)};tt.useId=function(){return Pr.current.useId()};tt.useImperativeHandle=function(t,e,n){return Pr.current.useImperativeHandle(t,e,n)};tt.useInsertionEffect=function(t,e){return Pr.current.useInsertionEffect(t,e)};tt.useLayoutEffect=function(t,e){return Pr.current.useLayoutEffect(t,e)};tt.useMemo=function(t,e){return Pr.current.useMemo(t,e)};tt.useReducer=function(t,e,n){return Pr.current.useReducer(t,e,n)};tt.useRef=function(t){return Pr.current.useRef(t)};tt.useState=function(t){return Pr.current.useState(t)};tt.useSyncExternalStore=function(t,e,n){return Pr.current.useSyncExternalStore(t,e,n)};tt.useTransition=function(){return Pr.current.useTransition()};tt.version="18.3.1";IR.exports=tt;var R=IR.exports;const vs=cu(R),aM=HL({__proto__:null,default:vs},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cM=R,lM=Symbol.for("react.element"),uM=Symbol.for("react.fragment"),dM=Object.prototype.hasOwnProperty,hM=cM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fM={key:!0,ref:!0,__self:!0,__source:!0};function jR(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)dM.call(e,r)&&!fM.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:lM,type:t,key:i,ref:o,props:s,_owner:hM.current}}Nw.Fragment=uM;Nw.jsx=jR;Nw.jsxs=jR;AR.exports=Nw;var m=AR.exports,IE={},UR={exports:{}},Ss={},LR={exports:{}},MR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,$){var U=D.length;D.push($);e:for(;0<U;){var W=U-1>>>1,Y=D[W];if(0<s(Y,$))D[W]=$,D[U]=Y,U=W;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],U=D.pop();if(U!==$){D[0]=U;e:for(var W=0,Y=D.length,te=Y>>>1;W<te;){var ee=2*(W+1)-1,ne=D[ee],me=ee+1,G=D[me];if(0>s(ne,U))me<Y&&0>s(G,ne)?(D[W]=G,D[me]=U,W=me):(D[W]=ne,D[ee]=U,W=ee);else if(me<Y&&0>s(G,U))D[W]=G,D[me]=U,W=me;else break e}}return $}function s(D,$){var U=D.sortIndex-$.sortIndex;return U!==0?U:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var $=n(l);$!==null;){if($.callback===null)r(l);else if($.startTime<=D)r(l),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(l)}}function _(D){if(g=!1,v(D),!p)if(n(c)!==null)p=!0,T(E);else{var $=n(l);$!==null&&L(_,$.startTime-D)}}function E(D,$){p=!1,g&&(g=!1,y(A),A=-1),f=!0;var U=h;try{for(v($),d=n(c);d!==null&&(!(d.expirationTime>$)||D&&!k());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var Y=W(d.expirationTime<=$);$=t.unstable_now(),typeof Y=="function"?d.callback=Y:d===n(c)&&r(c),v($)}else r(c);d=n(c)}if(d!==null)var te=!0;else{var ee=n(l);ee!==null&&L(_,ee.startTime-$),te=!1}return te}finally{d=null,h=U,f=!1}}var x=!1,S=null,A=-1,C=5,P=-1;function k(){return!(t.unstable_now()-P<C)}function B(){if(S!==null){var D=t.unstable_now();P=D;var $=!0;try{$=S(!0,D)}finally{$?F():(x=!1,S=null)}}else x=!1}var F;if(typeof b=="function")F=function(){b(B)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,N=H.port2;H.port1.onmessage=B,F=function(){N.postMessage(null)}}else F=function(){w(B,0)};function T(D){S=D,x||(x=!0,F())}function L(D,$){A=w(function(){D(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,T(E))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var U=h;h=$;try{return D()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=h;h=D;try{return $()}finally{h=U}},t.unstable_scheduleCallback=function(D,$,U){var W=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,D={id:u++,callback:$,priorityLevel:D,startTime:U,expirationTime:Y,sortIndex:-1},U>W?(D.sortIndex=U,e(l,D),n(c)===null&&D===n(l)&&(g?(y(A),A=-1):g=!0,L(_,U-W))):(D.sortIndex=Y,e(c,D),p||f||(p=!0,T(E))),D},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(D){var $=h;return function(){var U=h;h=$;try{return D.apply(this,arguments)}finally{h=U}}}})(MR);LR.exports=MR;var pM=LR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gM=R,Cs=pM;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BR=new Set,bp={};function lu(t,e){Vd(t,e),Vd(t+"Capture",e)}function Vd(t,e){for(bp[t]=e,t=0;t<e.length;t++)BR.add(e[t])}var qo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TE=Object.prototype.hasOwnProperty,mM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W2={},q2={};function yM(t){return TE.call(q2,t)?!0:TE.call(W2,t)?!1:mM.test(t)?q2[t]=!0:(W2[t]=!0,!1)}function wM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vM(t,e,n,r){if(e===null||typeof e>"u"||wM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jn[t]=new kr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jn[e]=new kr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jn[t]=new kr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jn[t]=new kr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jn[t]=new kr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jn[t]=new kr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jn[t]=new kr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jn[t]=new kr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jn[t]=new kr(t,5,!1,t.toLowerCase(),null,!1,!1)});var qx=/[\-:]([a-z])/g;function Hx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qx,Hx);Jn[e]=new kr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qx,Hx);Jn[e]=new kr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qx,Hx);Jn[e]=new kr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jn[t]=new kr(t,1,!1,t.toLowerCase(),null,!1,!1)});Jn.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jn[t]=new kr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vx(t,e,n,r){var s=Jn.hasOwnProperty(e)?Jn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vM(e,n,s,r)&&(n=null),r||s===null?yM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ea=gM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Im=Symbol.for("react.element"),id=Symbol.for("react.portal"),od=Symbol.for("react.fragment"),Gx=Symbol.for("react.strict_mode"),NE=Symbol.for("react.profiler"),FR=Symbol.for("react.provider"),zR=Symbol.for("react.context"),Kx=Symbol.for("react.forward_ref"),PE=Symbol.for("react.suspense"),kE=Symbol.for("react.suspense_list"),Yx=Symbol.for("react.memo"),ka=Symbol.for("react.lazy"),WR=Symbol.for("react.offscreen"),H2=Symbol.iterator;function Wh(t){return t===null||typeof t!="object"?null:(t=H2&&t[H2]||t["@@iterator"],typeof t=="function"?t:null)}var en=Object.assign,ab;function Sf(t){if(ab===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ab=e&&e[1]||""}return`
`+ab+t}var cb=!1;function lb(t,e){if(!t||cb)return"";cb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{cb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sf(t):""}function bM(t){switch(t.tag){case 5:return Sf(t.type);case 16:return Sf("Lazy");case 13:return Sf("Suspense");case 19:return Sf("SuspenseList");case 0:case 2:case 15:return t=lb(t.type,!1),t;case 11:return t=lb(t.type.render,!1),t;case 1:return t=lb(t.type,!0),t;default:return""}}function OE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case od:return"Fragment";case id:return"Portal";case NE:return"Profiler";case Gx:return"StrictMode";case PE:return"Suspense";case kE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zR:return(t.displayName||"Context")+".Consumer";case FR:return(t._context.displayName||"Context")+".Provider";case Kx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yx:return e=t.displayName||null,e!==null?e:OE(t.type)||"Memo";case ka:e=t._payload,t=t._init;try{return OE(t(e))}catch{}}return null}function EM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return OE(e);case 8:return e===Gx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _M(t){var e=qR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tm(t){t._valueTracker||(t._valueTracker=_M(t))}function HR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function m0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function RE(t,e){var n=e.checked;return en({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VR(t,e){e=e.checked,e!=null&&Vx(t,"checked",e,!1)}function $E(t,e){VR(t,e);var n=Tc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?DE(t,e.type,n):e.hasOwnProperty("defaultValue")&&DE(t,e.type,Tc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function G2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function DE(t,e,n){(e!=="number"||m0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Af=Array.isArray;function bd(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tc(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function jE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return en({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function K2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(Af(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tc(n)}}function GR(t,e){var n=Tc(e.value),r=Tc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Y2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function UE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nm,YR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nm=Nm||document.createElement("div"),Nm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ep(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CM=["Webkit","ms","Moz","O"];Object.keys(zf).forEach(function(t){CM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zf[e]=zf[t]})});function JR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zf.hasOwnProperty(t)&&zf[t]?(""+e).trim():e+"px"}function QR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=JR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var xM=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function LE(t,e){if(e){if(xM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function ME(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BE=null;function Jx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var FE=null,Ed=null,_d=null;function J2(t){if(t=Gg(t)){if(typeof FE!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=$w(e),FE(t.stateNode,t.type,e))}}function ZR(t){Ed?_d?_d.push(t):_d=[t]:Ed=t}function XR(){if(Ed){var t=Ed,e=_d;if(_d=Ed=null,J2(t),e)for(t=0;t<e.length;t++)J2(e[t])}}function e3(t,e){return t(e)}function t3(){}var ub=!1;function n3(t,e,n){if(ub)return t(e,n);ub=!0;try{return e3(t,e,n)}finally{ub=!1,(Ed!==null||_d!==null)&&(t3(),XR())}}function _p(t,e){var n=t.stateNode;if(n===null)return null;var r=$w(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var zE=!1;if(qo)try{var qh={};Object.defineProperty(qh,"passive",{get:function(){zE=!0}}),window.addEventListener("test",qh,qh),window.removeEventListener("test",qh,qh)}catch{zE=!1}function SM(t,e,n,r,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var Wf=!1,y0=null,w0=!1,WE=null,AM={onError:function(t){Wf=!0,y0=t}};function IM(t,e,n,r,s,i,o,a,c){Wf=!1,y0=null,SM.apply(AM,arguments)}function TM(t,e,n,r,s,i,o,a,c){if(IM.apply(this,arguments),Wf){if(Wf){var l=y0;Wf=!1,y0=null}else throw Error(ae(198));w0||(w0=!0,WE=l)}}function uu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function r3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Q2(t){if(uu(t)!==t)throw Error(ae(188))}function NM(t){var e=t.alternate;if(!e){if(e=uu(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Q2(s),t;if(i===r)return Q2(s),e;i=i.sibling}throw Error(ae(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function s3(t){return t=NM(t),t!==null?i3(t):null}function i3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=i3(t);if(e!==null)return e;t=t.sibling}return null}var o3=Cs.unstable_scheduleCallback,Z2=Cs.unstable_cancelCallback,PM=Cs.unstable_shouldYield,kM=Cs.unstable_requestPaint,un=Cs.unstable_now,OM=Cs.unstable_getCurrentPriorityLevel,Qx=Cs.unstable_ImmediatePriority,a3=Cs.unstable_UserBlockingPriority,v0=Cs.unstable_NormalPriority,RM=Cs.unstable_LowPriority,c3=Cs.unstable_IdlePriority,Pw=null,Zi=null;function $M(t){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(Pw,t,void 0,(t.current.flags&128)===128)}catch{}}var _i=Math.clz32?Math.clz32:UM,DM=Math.log,jM=Math.LN2;function UM(t){return t>>>=0,t===0?32:31-(DM(t)/jM|0)|0}var Pm=64,km=4194304;function If(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function b0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=If(a):(i&=o,i!==0&&(r=If(i)))}else o=n&~s,o!==0?r=If(o):i!==0&&(r=If(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_i(e),s=1<<n,r|=t[n],e&=~s;return r}function LM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-_i(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=LM(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function qE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function l3(){var t=Pm;return Pm<<=1,!(Pm&4194240)&&(Pm=64),t}function db(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_i(e),t[e]=n}function BM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-_i(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Zx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_i(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var At=0;function u3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var d3,Xx,h3,f3,p3,HE=!1,Om=[],uc=null,dc=null,hc=null,Cp=new Map,xp=new Map,Ba=[],FM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X2(t,e){switch(t){case"focusin":case"focusout":uc=null;break;case"dragenter":case"dragleave":dc=null;break;case"mouseover":case"mouseout":hc=null;break;case"pointerover":case"pointerout":Cp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xp.delete(e.pointerId)}}function Hh(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Gg(e),e!==null&&Xx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function zM(t,e,n,r,s){switch(e){case"focusin":return uc=Hh(uc,t,e,n,r,s),!0;case"dragenter":return dc=Hh(dc,t,e,n,r,s),!0;case"mouseover":return hc=Hh(hc,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Cp.set(i,Hh(Cp.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,xp.set(i,Hh(xp.get(i)||null,t,e,n,r,s)),!0}return!1}function g3(t){var e=dl(t.target);if(e!==null){var n=uu(e);if(n!==null){if(e=n.tag,e===13){if(e=r3(n),e!==null){t.blockedOn=e,p3(t.priority,function(){h3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function By(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=VE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);BE=r,n.target.dispatchEvent(r),BE=null}else return e=Gg(n),e!==null&&Xx(e),t.blockedOn=n,!1;e.shift()}return!0}function eI(t,e,n){By(t)&&n.delete(e)}function WM(){HE=!1,uc!==null&&By(uc)&&(uc=null),dc!==null&&By(dc)&&(dc=null),hc!==null&&By(hc)&&(hc=null),Cp.forEach(eI),xp.forEach(eI)}function Vh(t,e){t.blockedOn===e&&(t.blockedOn=null,HE||(HE=!0,Cs.unstable_scheduleCallback(Cs.unstable_NormalPriority,WM)))}function Sp(t){function e(s){return Vh(s,t)}if(0<Om.length){Vh(Om[0],t);for(var n=1;n<Om.length;n++){var r=Om[n];r.blockedOn===t&&(r.blockedOn=null)}}for(uc!==null&&Vh(uc,t),dc!==null&&Vh(dc,t),hc!==null&&Vh(hc,t),Cp.forEach(e),xp.forEach(e),n=0;n<Ba.length;n++)r=Ba[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ba.length&&(n=Ba[0],n.blockedOn===null);)g3(n),n.blockedOn===null&&Ba.shift()}var Cd=ea.ReactCurrentBatchConfig,E0=!0;function qM(t,e,n,r){var s=At,i=Cd.transition;Cd.transition=null;try{At=1,eS(t,e,n,r)}finally{At=s,Cd.transition=i}}function HM(t,e,n,r){var s=At,i=Cd.transition;Cd.transition=null;try{At=4,eS(t,e,n,r)}finally{At=s,Cd.transition=i}}function eS(t,e,n,r){if(E0){var s=VE(t,e,n,r);if(s===null)Eb(t,e,r,_0,n),X2(t,r);else if(zM(s,t,e,n,r))r.stopPropagation();else if(X2(t,r),e&4&&-1<FM.indexOf(t)){for(;s!==null;){var i=Gg(s);if(i!==null&&d3(i),i=VE(t,e,n,r),i===null&&Eb(t,e,r,_0,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Eb(t,e,r,null,n)}}var _0=null;function VE(t,e,n,r){if(_0=null,t=Jx(r),t=dl(t),t!==null)if(e=uu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=r3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _0=t,null}function m3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OM()){case Qx:return 1;case a3:return 4;case v0:case RM:return 16;case c3:return 536870912;default:return 16}default:return 16}}var nc=null,tS=null,Fy=null;function y3(){if(Fy)return Fy;var t,e=tS,n=e.length,r,s="value"in nc?nc.value:nc.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Fy=s.slice(t,1<r?1-r:void 0)}function zy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rm(){return!0}function tI(){return!1}function As(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rm:tI,this.isPropagationStopped=tI,this}return en(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rm)},persist:function(){},isPersistent:Rm}),e}var gh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nS=As(gh),Vg=en({},gh,{view:0,detail:0}),VM=As(Vg),hb,fb,Gh,kw=en({},Vg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gh&&(Gh&&t.type==="mousemove"?(hb=t.screenX-Gh.screenX,fb=t.screenY-Gh.screenY):fb=hb=0,Gh=t),hb)},movementY:function(t){return"movementY"in t?t.movementY:fb}}),nI=As(kw),GM=en({},kw,{dataTransfer:0}),KM=As(GM),YM=en({},Vg,{relatedTarget:0}),pb=As(YM),JM=en({},gh,{animationName:0,elapsedTime:0,pseudoElement:0}),QM=As(JM),ZM=en({},gh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XM=As(ZM),eB=en({},gh,{data:0}),rI=As(eB),tB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rB[t])?!!e[t]:!1}function rS(){return sB}var iB=en({},Vg,{key:function(t){if(t.key){var e=tB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rS,charCode:function(t){return t.type==="keypress"?zy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oB=As(iB),aB=en({},kw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sI=As(aB),cB=en({},Vg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rS}),lB=As(cB),uB=en({},gh,{propertyName:0,elapsedTime:0,pseudoElement:0}),dB=As(uB),hB=en({},kw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fB=As(hB),pB=[9,13,27,32],sS=qo&&"CompositionEvent"in window,qf=null;qo&&"documentMode"in document&&(qf=document.documentMode);var gB=qo&&"TextEvent"in window&&!qf,w3=qo&&(!sS||qf&&8<qf&&11>=qf),iI=" ",oI=!1;function v3(t,e){switch(t){case"keyup":return pB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ad=!1;function mB(t,e){switch(t){case"compositionend":return b3(e);case"keypress":return e.which!==32?null:(oI=!0,iI);case"textInput":return t=e.data,t===iI&&oI?null:t;default:return null}}function yB(t,e){if(ad)return t==="compositionend"||!sS&&v3(t,e)?(t=y3(),Fy=tS=nc=null,ad=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w3&&e.locale!=="ko"?null:e.data;default:return null}}var wB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wB[t.type]:e==="textarea"}function E3(t,e,n,r){ZR(r),e=C0(e,"onChange"),0<e.length&&(n=new nS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hf=null,Ap=null;function vB(t){O3(t,0)}function Ow(t){var e=ud(t);if(HR(e))return t}function bB(t,e){if(t==="change")return e}var _3=!1;if(qo){var gb;if(qo){var mb="oninput"in document;if(!mb){var cI=document.createElement("div");cI.setAttribute("oninput","return;"),mb=typeof cI.oninput=="function"}gb=mb}else gb=!1;_3=gb&&(!document.documentMode||9<document.documentMode)}function lI(){Hf&&(Hf.detachEvent("onpropertychange",C3),Ap=Hf=null)}function C3(t){if(t.propertyName==="value"&&Ow(Ap)){var e=[];E3(e,Ap,t,Jx(t)),n3(vB,e)}}function EB(t,e,n){t==="focusin"?(lI(),Hf=e,Ap=n,Hf.attachEvent("onpropertychange",C3)):t==="focusout"&&lI()}function _B(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ow(Ap)}function CB(t,e){if(t==="click")return Ow(e)}function xB(t,e){if(t==="input"||t==="change")return Ow(e)}function SB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ii=typeof Object.is=="function"?Object.is:SB;function Ip(t,e){if(Ii(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!TE.call(e,s)||!Ii(t[s],e[s]))return!1}return!0}function uI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dI(t,e){var n=uI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uI(n)}}function x3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?x3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function S3(){for(var t=window,e=m0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=m0(t.document)}return e}function iS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AB(t){var e=S3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&x3(n.ownerDocument.documentElement,n)){if(r!==null&&iS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=dI(n,i);var o=dI(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IB=qo&&"documentMode"in document&&11>=document.documentMode,cd=null,GE=null,Vf=null,KE=!1;function hI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;KE||cd==null||cd!==m0(r)||(r=cd,"selectionStart"in r&&iS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vf&&Ip(Vf,r)||(Vf=r,r=C0(GE,"onSelect"),0<r.length&&(e=new nS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=cd)))}function $m(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ld={animationend:$m("Animation","AnimationEnd"),animationiteration:$m("Animation","AnimationIteration"),animationstart:$m("Animation","AnimationStart"),transitionend:$m("Transition","TransitionEnd")},yb={},A3={};qo&&(A3=document.createElement("div").style,"AnimationEvent"in window||(delete ld.animationend.animation,delete ld.animationiteration.animation,delete ld.animationstart.animation),"TransitionEvent"in window||delete ld.transitionend.transition);function Rw(t){if(yb[t])return yb[t];if(!ld[t])return t;var e=ld[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in A3)return yb[t]=e[n];return t}var I3=Rw("animationend"),T3=Rw("animationiteration"),N3=Rw("animationstart"),P3=Rw("transitionend"),k3=new Map,fI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mc(t,e){k3.set(t,e),lu(e,[t])}for(var wb=0;wb<fI.length;wb++){var vb=fI[wb],TB=vb.toLowerCase(),NB=vb[0].toUpperCase()+vb.slice(1);Mc(TB,"on"+NB)}Mc(I3,"onAnimationEnd");Mc(T3,"onAnimationIteration");Mc(N3,"onAnimationStart");Mc("dblclick","onDoubleClick");Mc("focusin","onFocus");Mc("focusout","onBlur");Mc(P3,"onTransitionEnd");Vd("onMouseEnter",["mouseout","mouseover"]);Vd("onMouseLeave",["mouseout","mouseover"]);Vd("onPointerEnter",["pointerout","pointerover"]);Vd("onPointerLeave",["pointerout","pointerover"]);lu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lu("onBeforeInput",["compositionend","keypress","textInput","paste"]);lu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tf));function pI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TM(r,e,void 0,t),t.currentTarget=null}function O3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;pI(s,a,l),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;pI(s,a,l),i=c}}}if(w0)throw t=WE,w0=!1,WE=null,t}function Wt(t,e){var n=e[XE];n===void 0&&(n=e[XE]=new Set);var r=t+"__bubble";n.has(r)||(R3(e,t,2,!1),n.add(r))}function bb(t,e,n){var r=0;e&&(r|=4),R3(n,t,r,e)}var Dm="_reactListening"+Math.random().toString(36).slice(2);function Tp(t){if(!t[Dm]){t[Dm]=!0,BR.forEach(function(n){n!=="selectionchange"&&(PB.has(n)||bb(n,!1,t),bb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dm]||(e[Dm]=!0,bb("selectionchange",!1,e))}}function R3(t,e,n,r){switch(m3(e)){case 1:var s=qM;break;case 4:s=HM;break;default:s=eS}n=s.bind(null,e,n,t),s=void 0,!zE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Eb(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=dl(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}n3(function(){var l=i,u=Jx(n),d=[];e:{var h=k3.get(t);if(h!==void 0){var f=nS,p=t;switch(t){case"keypress":if(zy(n)===0)break e;case"keydown":case"keyup":f=oB;break;case"focusin":p="focus",f=pb;break;case"focusout":p="blur",f=pb;break;case"beforeblur":case"afterblur":f=pb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=nI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=KM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=lB;break;case I3:case T3:case N3:f=QM;break;case P3:f=dB;break;case"scroll":f=VM;break;case"wheel":f=fB;break;case"copy":case"cut":case"paste":f=XM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=sI}var g=(e&4)!==0,w=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var b=l,v;b!==null;){v=b;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,y!==null&&(_=_p(b,y),_!=null&&g.push(Np(b,_,v)))),w)break;b=b.return}0<g.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==BE&&(p=n.relatedTarget||n.fromElement)&&(dl(p)||p[Ho]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=l,p=p?dl(p):null,p!==null&&(w=uu(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=l),f!==p)){if(g=nI,_="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=sI,_="onPointerLeave",y="onPointerEnter",b="pointer"),w=f==null?h:ud(f),v=p==null?h:ud(p),h=new g(_,b+"leave",f,n,u),h.target=w,h.relatedTarget=v,_=null,dl(u)===l&&(g=new g(y,b+"enter",p,n,u),g.target=v,g.relatedTarget=w,_=g),w=_,f&&p)t:{for(g=f,y=p,b=0,v=g;v;v=xu(v))b++;for(v=0,_=y;_;_=xu(_))v++;for(;0<b-v;)g=xu(g),b--;for(;0<v-b;)y=xu(y),v--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=xu(g),y=xu(y)}g=null}else g=null;f!==null&&gI(d,h,f,g,!1),p!==null&&w!==null&&gI(d,w,p,g,!0)}}e:{if(h=l?ud(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var E=bB;else if(aI(h))if(_3)E=xB;else{E=_B;var x=EB}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=CB);if(E&&(E=E(t,l))){E3(d,E,n,u);break e}x&&x(t,h,l),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&DE(h,"number",h.value)}switch(x=l?ud(l):window,t){case"focusin":(aI(x)||x.contentEditable==="true")&&(cd=x,GE=l,Vf=null);break;case"focusout":Vf=GE=cd=null;break;case"mousedown":KE=!0;break;case"contextmenu":case"mouseup":case"dragend":KE=!1,hI(d,n,u);break;case"selectionchange":if(IB)break;case"keydown":case"keyup":hI(d,n,u)}var S;if(sS)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ad?v3(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(w3&&n.locale!=="ko"&&(ad||A!=="onCompositionStart"?A==="onCompositionEnd"&&ad&&(S=y3()):(nc=u,tS="value"in nc?nc.value:nc.textContent,ad=!0)),x=C0(l,A),0<x.length&&(A=new rI(A,t,null,n,u),d.push({event:A,listeners:x}),S?A.data=S:(S=b3(n),S!==null&&(A.data=S)))),(S=gB?mB(t,n):yB(t,n))&&(l=C0(l,"onBeforeInput"),0<l.length&&(u=new rI("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=S))}O3(d,e)})}function Np(t,e,n){return{instance:t,listener:e,currentTarget:n}}function C0(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=_p(t,n),i!=null&&r.unshift(Np(t,i,s)),i=_p(t,e),i!=null&&r.push(Np(t,i,s))),t=t.return}return r}function xu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gI(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,s?(c=_p(n,i),c!=null&&o.unshift(Np(n,c,a))):s||(c=_p(n,i),c!=null&&o.push(Np(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var kB=/\r\n?/g,OB=/\u0000|\uFFFD/g;function mI(t){return(typeof t=="string"?t:""+t).replace(kB,`
`).replace(OB,"")}function jm(t,e,n){if(e=mI(e),mI(t)!==e&&n)throw Error(ae(425))}function x0(){}var YE=null,JE=null;function QE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ZE=typeof setTimeout=="function"?setTimeout:void 0,RB=typeof clearTimeout=="function"?clearTimeout:void 0,yI=typeof Promise=="function"?Promise:void 0,$B=typeof queueMicrotask=="function"?queueMicrotask:typeof yI<"u"?function(t){return yI.resolve(null).then(t).catch(DB)}:ZE;function DB(t){setTimeout(function(){throw t})}function _b(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Sp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Sp(e)}function fc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mh=Math.random().toString(36).slice(2),Yi="__reactFiber$"+mh,Pp="__reactProps$"+mh,Ho="__reactContainer$"+mh,XE="__reactEvents$"+mh,jB="__reactListeners$"+mh,UB="__reactHandles$"+mh;function dl(t){var e=t[Yi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ho]||n[Yi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wI(t);t!==null;){if(n=t[Yi])return n;t=wI(t)}return e}t=n,n=t.parentNode}return null}function Gg(t){return t=t[Yi]||t[Ho],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ud(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function $w(t){return t[Pp]||null}var e_=[],dd=-1;function Bc(t){return{current:t}}function Vt(t){0>dd||(t.current=e_[dd],e_[dd]=null,dd--)}function Bt(t,e){dd++,e_[dd]=t.current,t.current=e}var Nc={},gr=Bc(Nc),es=Bc(!1),Ml=Nc;function Gd(t,e){var n=t.type.contextTypes;if(!n)return Nc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ts(t){return t=t.childContextTypes,t!=null}function S0(){Vt(es),Vt(gr)}function vI(t,e,n){if(gr.current!==Nc)throw Error(ae(168));Bt(gr,e),Bt(es,n)}function $3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ae(108,EM(t)||"Unknown",s));return en({},n,r)}function A0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nc,Ml=gr.current,Bt(gr,t),Bt(es,es.current),!0}function bI(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=$3(t,e,Ml),r.__reactInternalMemoizedMergedChildContext=t,Vt(es),Vt(gr),Bt(gr,t)):Vt(es),Bt(es,n)}var To=null,Dw=!1,Cb=!1;function D3(t){To===null?To=[t]:To.push(t)}function LB(t){Dw=!0,D3(t)}function Fc(){if(!Cb&&To!==null){Cb=!0;var t=0,e=At;try{var n=To;for(At=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}To=null,Dw=!1}catch(s){throw To!==null&&(To=To.slice(t+1)),o3(Qx,Fc),s}finally{At=e,Cb=!1}}return null}var hd=[],fd=0,I0=null,T0=0,Fs=[],zs=0,Bl=null,Do=1,jo="";function tl(t,e){hd[fd++]=T0,hd[fd++]=I0,I0=t,T0=e}function j3(t,e,n){Fs[zs++]=Do,Fs[zs++]=jo,Fs[zs++]=Bl,Bl=t;var r=Do;t=jo;var s=32-_i(r)-1;r&=~(1<<s),n+=1;var i=32-_i(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Do=1<<32-_i(e)+s|n<<s|r,jo=i+t}else Do=1<<i|n<<s|r,jo=t}function oS(t){t.return!==null&&(tl(t,1),j3(t,1,0))}function aS(t){for(;t===I0;)I0=hd[--fd],hd[fd]=null,T0=hd[--fd],hd[fd]=null;for(;t===Bl;)Bl=Fs[--zs],Fs[zs]=null,jo=Fs[--zs],Fs[zs]=null,Do=Fs[--zs],Fs[zs]=null}var bs=null,ys=null,Kt=!1,gi=null;function U3(t,e){var n=Ws(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function EI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bs=t,ys=fc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bs=t,ys=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bl!==null?{id:Do,overflow:jo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ws(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bs=t,ys=null,!0):!1;default:return!1}}function t_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function n_(t){if(Kt){var e=ys;if(e){var n=e;if(!EI(t,e)){if(t_(t))throw Error(ae(418));e=fc(n.nextSibling);var r=bs;e&&EI(t,e)?U3(r,n):(t.flags=t.flags&-4097|2,Kt=!1,bs=t)}}else{if(t_(t))throw Error(ae(418));t.flags=t.flags&-4097|2,Kt=!1,bs=t}}}function _I(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bs=t}function Um(t){if(t!==bs)return!1;if(!Kt)return _I(t),Kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!QE(t.type,t.memoizedProps)),e&&(e=ys)){if(t_(t))throw L3(),Error(ae(418));for(;e;)U3(t,e),e=fc(e.nextSibling)}if(_I(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ys=fc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ys=null}}else ys=bs?fc(t.stateNode.nextSibling):null;return!0}function L3(){for(var t=ys;t;)t=fc(t.nextSibling)}function Kd(){ys=bs=null,Kt=!1}function cS(t){gi===null?gi=[t]:gi.push(t)}var MB=ea.ReactCurrentBatchConfig;function Kh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function Lm(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function CI(t){var e=t._init;return e(t._payload)}function M3(t){function e(y,b){if(t){var v=y.deletions;v===null?(y.deletions=[b],y.flags|=16):v.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function s(y,b){return y=yc(y,b),y.index=0,y.sibling=null,y}function i(y,b,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<b?(y.flags|=2,b):v):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,v,_){return b===null||b.tag!==6?(b=Pb(v,y.mode,_),b.return=y,b):(b=s(b,v),b.return=y,b)}function c(y,b,v,_){var E=v.type;return E===od?u(y,b,v.props.children,_,v.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ka&&CI(E)===b.type)?(_=s(b,v.props),_.ref=Kh(y,b,v),_.return=y,_):(_=Yy(v.type,v.key,v.props,null,y.mode,_),_.ref=Kh(y,b,v),_.return=y,_)}function l(y,b,v,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=kb(v,y.mode,_),b.return=y,b):(b=s(b,v.children||[]),b.return=y,b)}function u(y,b,v,_,E){return b===null||b.tag!==7?(b=Rl(v,y.mode,_,E),b.return=y,b):(b=s(b,v),b.return=y,b)}function d(y,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Pb(""+b,y.mode,v),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Im:return v=Yy(b.type,b.key,b.props,null,y.mode,v),v.ref=Kh(y,null,b),v.return=y,v;case id:return b=kb(b,y.mode,v),b.return=y,b;case ka:var _=b._init;return d(y,_(b._payload),v)}if(Af(b)||Wh(b))return b=Rl(b,y.mode,v,null),b.return=y,b;Lm(y,b)}return null}function h(y,b,v,_){var E=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(y,b,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Im:return v.key===E?c(y,b,v,_):null;case id:return v.key===E?l(y,b,v,_):null;case ka:return E=v._init,h(y,b,E(v._payload),_)}if(Af(v)||Wh(v))return E!==null?null:u(y,b,v,_,null);Lm(y,v)}return null}function f(y,b,v,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(v)||null,a(b,y,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Im:return y=y.get(_.key===null?v:_.key)||null,c(b,y,_,E);case id:return y=y.get(_.key===null?v:_.key)||null,l(b,y,_,E);case ka:var x=_._init;return f(y,b,v,x(_._payload),E)}if(Af(_)||Wh(_))return y=y.get(v)||null,u(b,y,_,E,null);Lm(b,_)}return null}function p(y,b,v,_){for(var E=null,x=null,S=b,A=b=0,C=null;S!==null&&A<v.length;A++){S.index>A?(C=S,S=null):C=S.sibling;var P=h(y,S,v[A],_);if(P===null){S===null&&(S=C);break}t&&S&&P.alternate===null&&e(y,S),b=i(P,b,A),x===null?E=P:x.sibling=P,x=P,S=C}if(A===v.length)return n(y,S),Kt&&tl(y,A),E;if(S===null){for(;A<v.length;A++)S=d(y,v[A],_),S!==null&&(b=i(S,b,A),x===null?E=S:x.sibling=S,x=S);return Kt&&tl(y,A),E}for(S=r(y,S);A<v.length;A++)C=f(S,y,A,v[A],_),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?A:C.key),b=i(C,b,A),x===null?E=C:x.sibling=C,x=C);return t&&S.forEach(function(k){return e(y,k)}),Kt&&tl(y,A),E}function g(y,b,v,_){var E=Wh(v);if(typeof E!="function")throw Error(ae(150));if(v=E.call(v),v==null)throw Error(ae(151));for(var x=E=null,S=b,A=b=0,C=null,P=v.next();S!==null&&!P.done;A++,P=v.next()){S.index>A?(C=S,S=null):C=S.sibling;var k=h(y,S,P.value,_);if(k===null){S===null&&(S=C);break}t&&S&&k.alternate===null&&e(y,S),b=i(k,b,A),x===null?E=k:x.sibling=k,x=k,S=C}if(P.done)return n(y,S),Kt&&tl(y,A),E;if(S===null){for(;!P.done;A++,P=v.next())P=d(y,P.value,_),P!==null&&(b=i(P,b,A),x===null?E=P:x.sibling=P,x=P);return Kt&&tl(y,A),E}for(S=r(y,S);!P.done;A++,P=v.next())P=f(S,y,A,P.value,_),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?A:P.key),b=i(P,b,A),x===null?E=P:x.sibling=P,x=P);return t&&S.forEach(function(B){return e(y,B)}),Kt&&tl(y,A),E}function w(y,b,v,_){if(typeof v=="object"&&v!==null&&v.type===od&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Im:e:{for(var E=v.key,x=b;x!==null;){if(x.key===E){if(E=v.type,E===od){if(x.tag===7){n(y,x.sibling),b=s(x,v.props.children),b.return=y,y=b;break e}}else if(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ka&&CI(E)===x.type){n(y,x.sibling),b=s(x,v.props),b.ref=Kh(y,x,v),b.return=y,y=b;break e}n(y,x);break}else e(y,x);x=x.sibling}v.type===od?(b=Rl(v.props.children,y.mode,_,v.key),b.return=y,y=b):(_=Yy(v.type,v.key,v.props,null,y.mode,_),_.ref=Kh(y,b,v),_.return=y,y=_)}return o(y);case id:e:{for(x=v.key;b!==null;){if(b.key===x)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){n(y,b.sibling),b=s(b,v.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=kb(v,y.mode,_),b.return=y,y=b}return o(y);case ka:return x=v._init,w(y,b,x(v._payload),_)}if(Af(v))return p(y,b,v,_);if(Wh(v))return g(y,b,v,_);Lm(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(n(y,b.sibling),b=s(b,v),b.return=y,y=b):(n(y,b),b=Pb(v,y.mode,_),b.return=y,y=b),o(y)):n(y,b)}return w}var Yd=M3(!0),B3=M3(!1),N0=Bc(null),P0=null,pd=null,lS=null;function uS(){lS=pd=P0=null}function dS(t){var e=N0.current;Vt(N0),t._currentValue=e}function r_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xd(t,e){P0=t,lS=pd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zr=!0),t.firstContext=null)}function Vs(t){var e=t._currentValue;if(lS!==t)if(t={context:t,memoizedValue:e,next:null},pd===null){if(P0===null)throw Error(ae(308));pd=t,P0.dependencies={lanes:0,firstContext:t}}else pd=pd.next=t;return e}var hl=null;function hS(t){hl===null?hl=[t]:hl.push(t)}function F3(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,hS(e)):(n.next=s.next,s.next=n),e.interleaved=n,Vo(t,r)}function Vo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oa=!1;function fS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Vo(t,n)}return s=r.interleaved,s===null?(e.next=e,hS(r)):(e.next=s.next,s.next=e),r.interleaved=e,Vo(t,n)}function Wy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zx(t,n)}}function xI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function k0(t,e,n,r){var s=t.updateQueue;Oa=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,u=l=c=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=en({},d,h);break e;case 2:Oa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=f,c=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=d),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);zl|=o,t.lanes=o,t.memoizedState=d}}function SI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ae(191,s));s.call(r)}}}var Kg={},Xi=Bc(Kg),kp=Bc(Kg),Op=Bc(Kg);function fl(t){if(t===Kg)throw Error(ae(174));return t}function pS(t,e){switch(Bt(Op,e),Bt(kp,t),Bt(Xi,Kg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:UE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=UE(e,t)}Vt(Xi),Bt(Xi,e)}function Jd(){Vt(Xi),Vt(kp),Vt(Op)}function W3(t){fl(Op.current);var e=fl(Xi.current),n=UE(e,t.type);e!==n&&(Bt(kp,t),Bt(Xi,n))}function gS(t){kp.current===t&&(Vt(Xi),Vt(kp))}var Qt=Bc(0);function O0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xb=[];function mS(){for(var t=0;t<xb.length;t++)xb[t]._workInProgressVersionPrimary=null;xb.length=0}var qy=ea.ReactCurrentDispatcher,Sb=ea.ReactCurrentBatchConfig,Fl=0,Xt=null,Cn=null,On=null,R0=!1,Gf=!1,Rp=0,BB=0;function rr(){throw Error(ae(321))}function yS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ii(t[n],e[n]))return!1;return!0}function wS(t,e,n,r,s,i){if(Fl=i,Xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qy.current=t===null||t.memoizedState===null?qB:HB,t=n(r,s),Gf){i=0;do{if(Gf=!1,Rp=0,25<=i)throw Error(ae(301));i+=1,On=Cn=null,e.updateQueue=null,qy.current=VB,t=n(r,s)}while(Gf)}if(qy.current=$0,e=Cn!==null&&Cn.next!==null,Fl=0,On=Cn=Xt=null,R0=!1,e)throw Error(ae(300));return t}function vS(){var t=Rp!==0;return Rp=0,t}function Bi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Xt.memoizedState=On=t:On=On.next=t,On}function Gs(){if(Cn===null){var t=Xt.alternate;t=t!==null?t.memoizedState:null}else t=Cn.next;var e=On===null?Xt.memoizedState:On.next;if(e!==null)On=e,Cn=t;else{if(t===null)throw Error(ae(310));Cn=t,t={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},On===null?Xt.memoizedState=On=t:On=On.next=t}return On}function $p(t,e){return typeof e=="function"?e(t):e}function Ab(t){var e=Gs(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=Cn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,l=i;do{var u=l.lane;if((Fl&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,Xt.lanes|=u,zl|=u}l=l.next}while(l!==null&&l!==i);c===null?o=r:c.next=a,Ii(r,e.memoizedState)||(Zr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Xt.lanes|=i,zl|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ib(t){var e=Gs(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ii(i,e.memoizedState)||(Zr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function q3(){}function H3(t,e){var n=Xt,r=Gs(),s=e(),i=!Ii(r.memoizedState,s);if(i&&(r.memoizedState=s,Zr=!0),r=r.queue,bS(K3.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||On!==null&&On.memoizedState.tag&1){if(n.flags|=2048,Dp(9,G3.bind(null,n,r,s,e),void 0,null),jn===null)throw Error(ae(349));Fl&30||V3(n,e,s)}return s}function V3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xt.updateQueue,e===null?(e={lastEffect:null,stores:null},Xt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function G3(t,e,n,r){e.value=n,e.getSnapshot=r,Y3(e)&&J3(t)}function K3(t,e,n){return n(function(){Y3(e)&&J3(t)})}function Y3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ii(t,n)}catch{return!0}}function J3(t){var e=Vo(t,1);e!==null&&Ci(e,t,1,-1)}function AI(t){var e=Bi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$p,lastRenderedState:t},e.queue=t,t=t.dispatch=WB.bind(null,Xt,t),[e.memoizedState,t]}function Dp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xt.updateQueue,e===null?(e={lastEffect:null,stores:null},Xt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Q3(){return Gs().memoizedState}function Hy(t,e,n,r){var s=Bi();Xt.flags|=t,s.memoizedState=Dp(1|e,n,void 0,r===void 0?null:r)}function jw(t,e,n,r){var s=Gs();r=r===void 0?null:r;var i=void 0;if(Cn!==null){var o=Cn.memoizedState;if(i=o.destroy,r!==null&&yS(r,o.deps)){s.memoizedState=Dp(e,n,i,r);return}}Xt.flags|=t,s.memoizedState=Dp(1|e,n,i,r)}function II(t,e){return Hy(8390656,8,t,e)}function bS(t,e){return jw(2048,8,t,e)}function Z3(t,e){return jw(4,2,t,e)}function X3(t,e){return jw(4,4,t,e)}function e$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function t$(t,e,n){return n=n!=null?n.concat([t]):null,jw(4,4,e$.bind(null,e,t),n)}function ES(){}function n$(t,e){var n=Gs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function r$(t,e){var n=Gs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function s$(t,e,n){return Fl&21?(Ii(n,e)||(n=l3(),Xt.lanes|=n,zl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zr=!0),t.memoizedState=n)}function FB(t,e){var n=At;At=n!==0&&4>n?n:4,t(!0);var r=Sb.transition;Sb.transition={};try{t(!1),e()}finally{At=n,Sb.transition=r}}function i$(){return Gs().memoizedState}function zB(t,e,n){var r=mc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},o$(t))a$(e,n);else if(n=F3(t,e,n,r),n!==null){var s=xr();Ci(n,t,r,s),c$(n,e,r)}}function WB(t,e,n){var r=mc(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(o$(t))a$(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ii(a,o)){var c=e.interleaved;c===null?(s.next=s,hS(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=F3(t,e,s,r),n!==null&&(s=xr(),Ci(n,t,r,s),c$(n,e,r))}}function o$(t){var e=t.alternate;return t===Xt||e!==null&&e===Xt}function a$(t,e){Gf=R0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function c$(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zx(t,n)}}var $0={readContext:Vs,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useInsertionEffect:rr,useLayoutEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useMutableSource:rr,useSyncExternalStore:rr,useId:rr,unstable_isNewReconciler:!1},qB={readContext:Vs,useCallback:function(t,e){return Bi().memoizedState=[t,e===void 0?null:e],t},useContext:Vs,useEffect:II,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hy(4194308,4,e$.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hy(4,2,t,e)},useMemo:function(t,e){var n=Bi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zB.bind(null,Xt,t),[r.memoizedState,t]},useRef:function(t){var e=Bi();return t={current:t},e.memoizedState=t},useState:AI,useDebugValue:ES,useDeferredValue:function(t){return Bi().memoizedState=t},useTransition:function(){var t=AI(!1),e=t[0];return t=FB.bind(null,t[1]),Bi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xt,s=Bi();if(Kt){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),jn===null)throw Error(ae(349));Fl&30||V3(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,II(K3.bind(null,r,i,t),[t]),r.flags|=2048,Dp(9,G3.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Bi(),e=jn.identifierPrefix;if(Kt){var n=jo,r=Do;n=(r&~(1<<32-_i(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HB={readContext:Vs,useCallback:n$,useContext:Vs,useEffect:bS,useImperativeHandle:t$,useInsertionEffect:Z3,useLayoutEffect:X3,useMemo:r$,useReducer:Ab,useRef:Q3,useState:function(){return Ab($p)},useDebugValue:ES,useDeferredValue:function(t){var e=Gs();return s$(e,Cn.memoizedState,t)},useTransition:function(){var t=Ab($p)[0],e=Gs().memoizedState;return[t,e]},useMutableSource:q3,useSyncExternalStore:H3,useId:i$,unstable_isNewReconciler:!1},VB={readContext:Vs,useCallback:n$,useContext:Vs,useEffect:bS,useImperativeHandle:t$,useInsertionEffect:Z3,useLayoutEffect:X3,useMemo:r$,useReducer:Ib,useRef:Q3,useState:function(){return Ib($p)},useDebugValue:ES,useDeferredValue:function(t){var e=Gs();return Cn===null?e.memoizedState=t:s$(e,Cn.memoizedState,t)},useTransition:function(){var t=Ib($p)[0],e=Gs().memoizedState;return[t,e]},useMutableSource:q3,useSyncExternalStore:H3,useId:i$,unstable_isNewReconciler:!1};function ui(t,e){if(t&&t.defaultProps){e=en({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function s_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:en({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uw={isMounted:function(t){return(t=t._reactInternals)?uu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xr(),s=mc(t),i=Lo(r,s);i.payload=e,n!=null&&(i.callback=n),e=pc(t,i,s),e!==null&&(Ci(e,t,s,r),Wy(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xr(),s=mc(t),i=Lo(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=pc(t,i,s),e!==null&&(Ci(e,t,s,r),Wy(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xr(),r=mc(t),s=Lo(n,r);s.tag=2,e!=null&&(s.callback=e),e=pc(t,s,r),e!==null&&(Ci(e,t,r,n),Wy(e,t,r))}};function TI(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ip(n,r)||!Ip(s,i):!0}function l$(t,e,n){var r=!1,s=Nc,i=e.contextType;return typeof i=="object"&&i!==null?i=Vs(i):(s=ts(e)?Ml:gr.current,r=e.contextTypes,i=(r=r!=null)?Gd(t,s):Nc),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function NI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uw.enqueueReplaceState(e,e.state,null)}function i_(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},fS(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Vs(i):(i=ts(e)?Ml:gr.current,s.context=Gd(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(s_(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Uw.enqueueReplaceState(s,s.state,null),k0(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Qd(t,e){try{var n="",r=e;do n+=bM(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Tb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function o_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var GB=typeof WeakMap=="function"?WeakMap:Map;function u$(t,e,n){n=Lo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){j0||(j0=!0,m_=r),o_(t,e)},n}function d$(t,e,n){n=Lo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){o_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){o_(t,e),typeof r!="function"&&(gc===null?gc=new Set([this]):gc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function PI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new GB;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=aF.bind(null,t,e,n),e.then(t,t))}function kI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function OI(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Lo(-1,1),e.tag=2,pc(n,e,1))),n.lanes|=1),t)}var KB=ea.ReactCurrentOwner,Zr=!1;function Er(t,e,n,r){e.child=t===null?B3(e,null,n,r):Yd(e,t.child,n,r)}function RI(t,e,n,r,s){n=n.render;var i=e.ref;return xd(e,s),r=wS(t,e,n,r,i,s),n=vS(),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Go(t,e,s)):(Kt&&n&&oS(e),e.flags|=1,Er(t,e,r,s),e.child)}function $I(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!NS(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,h$(t,e,i,r,s)):(t=Yy(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ip,n(o,r)&&t.ref===e.ref)return Go(t,e,s)}return e.flags|=1,t=yc(i,r),t.ref=e.ref,t.return=e,e.child=t}function h$(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ip(i,r)&&t.ref===e.ref)if(Zr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Zr=!0);else return e.lanes=t.lanes,Go(t,e,s)}return a_(t,e,n,r,s)}function f$(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(md,fs),fs|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Bt(md,fs),fs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Bt(md,fs),fs|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Bt(md,fs),fs|=r;return Er(t,e,s,n),e.child}function p$(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function a_(t,e,n,r,s){var i=ts(n)?Ml:gr.current;return i=Gd(e,i),xd(e,s),n=wS(t,e,n,r,i,s),r=vS(),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Go(t,e,s)):(Kt&&r&&oS(e),e.flags|=1,Er(t,e,n,s),e.child)}function DI(t,e,n,r,s){if(ts(n)){var i=!0;A0(e)}else i=!1;if(xd(e,s),e.stateNode===null)Vy(t,e),l$(e,n,r),i_(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Vs(l):(l=ts(n)?Ml:gr.current,l=Gd(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&NI(e,o,r,l),Oa=!1;var h=e.memoizedState;o.state=h,k0(e,r,o,s),c=e.memoizedState,a!==r||h!==c||es.current||Oa?(typeof u=="function"&&(s_(e,n,u,r),c=e.memoizedState),(a=Oa||TI(e,n,a,r,h,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,z3(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:ui(e.type,a),o.props=l,d=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Vs(c):(c=ts(n)?Ml:gr.current,c=Gd(e,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==c)&&NI(e,o,r,c),Oa=!1,h=e.memoizedState,o.state=h,k0(e,r,o,s);var p=e.memoizedState;a!==d||h!==p||es.current||Oa?(typeof f=="function"&&(s_(e,n,f,r),p=e.memoizedState),(l=Oa||TI(e,n,l,r,h,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return c_(t,e,n,r,i,s)}function c_(t,e,n,r,s,i){p$(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&bI(e,n,!1),Go(t,e,i);r=e.stateNode,KB.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Yd(e,t.child,null,i),e.child=Yd(e,null,a,i)):Er(t,e,a,i),e.memoizedState=r.state,s&&bI(e,n,!0),e.child}function g$(t){var e=t.stateNode;e.pendingContext?vI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vI(t,e.context,!1),pS(t,e.containerInfo)}function jI(t,e,n,r,s){return Kd(),cS(s),e.flags|=256,Er(t,e,n,r),e.child}var l_={dehydrated:null,treeContext:null,retryLane:0};function u_(t){return{baseLanes:t,cachePool:null,transitions:null}}function m$(t,e,n){var r=e.pendingProps,s=Qt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Bt(Qt,s&1),t===null)return n_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bw(o,r,0,null),t=Rl(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=u_(n),e.memoizedState=l_,t):_S(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return YB(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=yc(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=yc(a,i):(i=Rl(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?u_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=l_,r}return i=t.child,t=i.sibling,r=yc(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _S(t,e){return e=Bw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mm(t,e,n,r){return r!==null&&cS(r),Yd(e,t.child,null,n),t=_S(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function YB(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Tb(Error(ae(422))),Mm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Bw({mode:"visible",children:r.children},s,0,null),i=Rl(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Yd(e,t.child,null,o),e.child.memoizedState=u_(o),e.memoizedState=l_,i);if(!(e.mode&1))return Mm(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ae(419)),r=Tb(i,r,void 0),Mm(t,e,o,r)}if(a=(o&t.childLanes)!==0,Zr||a){if(r=jn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vo(t,s),Ci(r,t,s,-1))}return TS(),r=Tb(Error(ae(421))),Mm(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=cF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ys=fc(s.nextSibling),bs=e,Kt=!0,gi=null,t!==null&&(Fs[zs++]=Do,Fs[zs++]=jo,Fs[zs++]=Bl,Do=t.id,jo=t.overflow,Bl=e),e=_S(e,r.children),e.flags|=4096,e)}function UI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),r_(t.return,e,n)}function Nb(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function y$(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Er(t,e,r.children,n),r=Qt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&UI(t,n,e);else if(t.tag===19)UI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Bt(Qt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&O0(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Nb(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&O0(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Nb(e,!0,n,null,i);break;case"together":Nb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Go(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=yc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JB(t,e,n){switch(e.tag){case 3:g$(e),Kd();break;case 5:W3(e);break;case 1:ts(e.type)&&A0(e);break;case 4:pS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Bt(N0,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Bt(Qt,Qt.current&1),e.flags|=128,null):n&e.child.childLanes?m$(t,e,n):(Bt(Qt,Qt.current&1),t=Go(t,e,n),t!==null?t.sibling:null);Bt(Qt,Qt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return y$(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Bt(Qt,Qt.current),r)break;return null;case 22:case 23:return e.lanes=0,f$(t,e,n)}return Go(t,e,n)}var w$,d_,v$,b$;w$=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};d_=function(){};v$=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,fl(Xi.current);var i=null;switch(n){case"input":s=RE(t,s),r=RE(t,r),i=[];break;case"select":s=en({},s,{value:void 0}),r=en({},r,{value:void 0}),i=[];break;case"textarea":s=jE(t,s),r=jE(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=x0)}LE(n,r);var o;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(bp.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var c=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(bp.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Wt("scroll",t),i||a===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};b$=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yh(t,e){if(!Kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QB(t,e,n){var r=e.pendingProps;switch(aS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(e),null;case 1:return ts(e.type)&&S0(),sr(e),null;case 3:return r=e.stateNode,Jd(),Vt(es),Vt(gr),mS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Um(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gi!==null&&(v_(gi),gi=null))),d_(t,e),sr(e),null;case 5:gS(e);var s=fl(Op.current);if(n=e.type,t!==null&&e.stateNode!=null)v$(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return sr(e),null}if(t=fl(Xi.current),Um(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Yi]=e,r[Pp]=i,t=(e.mode&1)!==0,n){case"dialog":Wt("cancel",r),Wt("close",r);break;case"iframe":case"object":case"embed":Wt("load",r);break;case"video":case"audio":for(s=0;s<Tf.length;s++)Wt(Tf[s],r);break;case"source":Wt("error",r);break;case"img":case"image":case"link":Wt("error",r),Wt("load",r);break;case"details":Wt("toggle",r);break;case"input":V2(r,i),Wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Wt("invalid",r);break;case"textarea":K2(r,i),Wt("invalid",r)}LE(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&jm(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&jm(r.textContent,a,t),s=["children",""+a]):bp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Wt("scroll",r)}switch(n){case"input":Tm(r),G2(r,i,!0);break;case"textarea":Tm(r),Y2(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=x0)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Yi]=e,t[Pp]=r,w$(t,e,!1,!1),e.stateNode=t;e:{switch(o=ME(n,r),n){case"dialog":Wt("cancel",t),Wt("close",t),s=r;break;case"iframe":case"object":case"embed":Wt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Tf.length;s++)Wt(Tf[s],t);s=r;break;case"source":Wt("error",t),s=r;break;case"img":case"image":case"link":Wt("error",t),Wt("load",t),s=r;break;case"details":Wt("toggle",t),s=r;break;case"input":V2(t,r),s=RE(t,r),Wt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=en({},r,{value:void 0}),Wt("invalid",t);break;case"textarea":K2(t,r),s=jE(t,r),Wt("invalid",t);break;default:s=r}LE(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?QR(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&YR(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ep(t,c):typeof c=="number"&&Ep(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bp.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Wt("scroll",t):c!=null&&Vx(t,i,c,o))}switch(n){case"input":Tm(t),G2(t,r,!1);break;case"textarea":Tm(t),Y2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tc(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?bd(t,!!r.multiple,i,!1):r.defaultValue!=null&&bd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=x0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sr(e),null;case 6:if(t&&e.stateNode!=null)b$(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=fl(Op.current),fl(Xi.current),Um(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yi]=e,(i=r.nodeValue!==n)&&(t=bs,t!==null))switch(t.tag){case 3:jm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jm(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yi]=e,e.stateNode=r}return sr(e),null;case 13:if(Vt(Qt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Kt&&ys!==null&&e.mode&1&&!(e.flags&128))L3(),Kd(),e.flags|=98560,i=!1;else if(i=Um(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ae(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ae(317));i[Yi]=e}else Kd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sr(e),i=!1}else gi!==null&&(v_(gi),gi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qt.current&1?An===0&&(An=3):TS())),e.updateQueue!==null&&(e.flags|=4),sr(e),null);case 4:return Jd(),d_(t,e),t===null&&Tp(e.stateNode.containerInfo),sr(e),null;case 10:return dS(e.type._context),sr(e),null;case 17:return ts(e.type)&&S0(),sr(e),null;case 19:if(Vt(Qt),i=e.memoizedState,i===null)return sr(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Yh(i,!1);else{if(An!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=O0(t),o!==null){for(e.flags|=128,Yh(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Bt(Qt,Qt.current&1|2),e.child}t=t.sibling}i.tail!==null&&un()>Zd&&(e.flags|=128,r=!0,Yh(i,!1),e.lanes=4194304)}else{if(!r)if(t=O0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Kt)return sr(e),null}else 2*un()-i.renderingStartTime>Zd&&n!==1073741824&&(e.flags|=128,r=!0,Yh(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=un(),e.sibling=null,n=Qt.current,Bt(Qt,r?n&1|2:n&1),e):(sr(e),null);case 22:case 23:return IS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fs&1073741824&&(sr(e),e.subtreeFlags&6&&(e.flags|=8192)):sr(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function ZB(t,e){switch(aS(e),e.tag){case 1:return ts(e.type)&&S0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jd(),Vt(es),Vt(gr),mS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gS(e),null;case 13:if(Vt(Qt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));Kd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vt(Qt),null;case 4:return Jd(),null;case 10:return dS(e.type._context),null;case 22:case 23:return IS(),null;case 24:return null;default:return null}}var Bm=!1,pr=!1,XB=typeof WeakSet=="function"?WeakSet:Set,Te=null;function gd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){sn(t,e,r)}else n.current=null}function h_(t,e,n){try{n()}catch(r){sn(t,e,r)}}var LI=!1;function eF(t,e){if(YE=E0,t=S3(),iS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++l===s&&(a=o),h===i&&++u===r&&(c=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(JE={focusedElem:t,selectionRange:n},E0=!1,Te=e;Te!==null;)if(e=Te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Te=t;else for(;Te!==null;){e=Te;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,w=p.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:ui(e.type,g),w);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(_){sn(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Te=t;break}Te=e.return}return p=LI,LI=!1,p}function Kf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&h_(e,n,i)}s=s.next}while(s!==r)}}function Lw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function f_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function E$(t){var e=t.alternate;e!==null&&(t.alternate=null,E$(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yi],delete e[Pp],delete e[XE],delete e[jB],delete e[UB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _$(t){return t.tag===5||t.tag===3||t.tag===4}function MI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_$(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function p_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=x0));else if(r!==4&&(t=t.child,t!==null))for(p_(t,e,n),t=t.sibling;t!==null;)p_(t,e,n),t=t.sibling}function g_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(g_(t,e,n),t=t.sibling;t!==null;)g_(t,e,n),t=t.sibling}var Gn=null,fi=!1;function ca(t,e,n){for(n=n.child;n!==null;)C$(t,e,n),n=n.sibling}function C$(t,e,n){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(Pw,n)}catch{}switch(n.tag){case 5:pr||gd(n,e);case 6:var r=Gn,s=fi;Gn=null,ca(t,e,n),Gn=r,fi=s,Gn!==null&&(fi?(t=Gn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gn.removeChild(n.stateNode));break;case 18:Gn!==null&&(fi?(t=Gn,n=n.stateNode,t.nodeType===8?_b(t.parentNode,n):t.nodeType===1&&_b(t,n),Sp(t)):_b(Gn,n.stateNode));break;case 4:r=Gn,s=fi,Gn=n.stateNode.containerInfo,fi=!0,ca(t,e,n),Gn=r,fi=s;break;case 0:case 11:case 14:case 15:if(!pr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&h_(n,e,o),s=s.next}while(s!==r)}ca(t,e,n);break;case 1:if(!pr&&(gd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){sn(n,e,a)}ca(t,e,n);break;case 21:ca(t,e,n);break;case 22:n.mode&1?(pr=(r=pr)||n.memoizedState!==null,ca(t,e,n),pr=r):ca(t,e,n);break;default:ca(t,e,n)}}function BI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XB),e.forEach(function(r){var s=lF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ei(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Gn=a.stateNode,fi=!1;break e;case 3:Gn=a.stateNode.containerInfo,fi=!0;break e;case 4:Gn=a.stateNode.containerInfo,fi=!0;break e}a=a.return}if(Gn===null)throw Error(ae(160));C$(i,o,s),Gn=null,fi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){sn(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)x$(e,t),e=e.sibling}function x$(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ei(e,t),Ri(t),r&4){try{Kf(3,t,t.return),Lw(3,t)}catch(g){sn(t,t.return,g)}try{Kf(5,t,t.return)}catch(g){sn(t,t.return,g)}}break;case 1:ei(e,t),Ri(t),r&512&&n!==null&&gd(n,n.return);break;case 5:if(ei(e,t),Ri(t),r&512&&n!==null&&gd(n,n.return),t.flags&32){var s=t.stateNode;try{Ep(s,"")}catch(g){sn(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&VR(s,i),ME(a,o);var l=ME(a,i);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?QR(s,d):u==="dangerouslySetInnerHTML"?YR(s,d):u==="children"?Ep(s,d):Vx(s,u,d,l)}switch(a){case"input":$E(s,i);break;case"textarea":GR(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?bd(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?bd(s,!!i.multiple,i.defaultValue,!0):bd(s,!!i.multiple,i.multiple?[]:"",!1))}s[Pp]=i}catch(g){sn(t,t.return,g)}}break;case 6:if(ei(e,t),Ri(t),r&4){if(t.stateNode===null)throw Error(ae(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){sn(t,t.return,g)}}break;case 3:if(ei(e,t),Ri(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sp(e.containerInfo)}catch(g){sn(t,t.return,g)}break;case 4:ei(e,t),Ri(t);break;case 13:ei(e,t),Ri(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(SS=un())),r&4&&BI(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(pr=(l=pr)||u,ei(e,t),pr=l):ei(e,t),Ri(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(Te=t,u=t.child;u!==null;){for(d=Te=u;Te!==null;){switch(h=Te,f=h.child,h.tag){case 0:case 11:case 14:case 15:Kf(4,h,h.return);break;case 1:gd(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){sn(r,n,g)}}break;case 5:gd(h,h.return);break;case 22:if(h.memoizedState!==null){zI(d);continue}}f!==null?(f.return=h,Te=f):zI(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=JR("display",o))}catch(g){sn(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){sn(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ei(e,t),Ri(t),r&4&&BI(t);break;case 21:break;default:ei(e,t),Ri(t)}}function Ri(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_$(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ep(s,""),r.flags&=-33);var i=MI(t);g_(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=MI(t);p_(t,a,o);break;default:throw Error(ae(161))}}catch(c){sn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tF(t,e,n){Te=t,S$(t)}function S$(t,e,n){for(var r=(t.mode&1)!==0;Te!==null;){var s=Te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Bm;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||pr;a=Bm;var l=pr;if(Bm=o,(pr=c)&&!l)for(Te=s;Te!==null;)o=Te,c=o.child,o.tag===22&&o.memoizedState!==null?WI(s):c!==null?(c.return=o,Te=c):WI(s);for(;i!==null;)Te=i,S$(i),i=i.sibling;Te=s,Bm=a,pr=l}FI(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Te=i):FI(t)}}function FI(t){for(;Te!==null;){var e=Te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pr||Lw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ui(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&SI(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}SI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Sp(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}pr||e.flags&512&&f_(e)}catch(h){sn(e,e.return,h)}}if(e===t){Te=null;break}if(n=e.sibling,n!==null){n.return=e.return,Te=n;break}Te=e.return}}function zI(t){for(;Te!==null;){var e=Te;if(e===t){Te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Te=n;break}Te=e.return}}function WI(t){for(;Te!==null;){var e=Te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lw(4,e)}catch(c){sn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){sn(e,s,c)}}var i=e.return;try{f_(e)}catch(c){sn(e,i,c)}break;case 5:var o=e.return;try{f_(e)}catch(c){sn(e,o,c)}}}catch(c){sn(e,e.return,c)}if(e===t){Te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Te=a;break}Te=e.return}}var nF=Math.ceil,D0=ea.ReactCurrentDispatcher,CS=ea.ReactCurrentOwner,Hs=ea.ReactCurrentBatchConfig,lt=0,jn=null,yn=null,Yn=0,fs=0,md=Bc(0),An=0,jp=null,zl=0,Mw=0,xS=0,Yf=null,Jr=null,SS=0,Zd=1/0,Ao=null,j0=!1,m_=null,gc=null,Fm=!1,rc=null,U0=0,Jf=0,y_=null,Gy=-1,Ky=0;function xr(){return lt&6?un():Gy!==-1?Gy:Gy=un()}function mc(t){return t.mode&1?lt&2&&Yn!==0?Yn&-Yn:MB.transition!==null?(Ky===0&&(Ky=l3()),Ky):(t=At,t!==0||(t=window.event,t=t===void 0?16:m3(t.type)),t):1}function Ci(t,e,n,r){if(50<Jf)throw Jf=0,y_=null,Error(ae(185));Hg(t,n,r),(!(lt&2)||t!==jn)&&(t===jn&&(!(lt&2)&&(Mw|=n),An===4&&Fa(t,Yn)),ns(t,r),n===1&&lt===0&&!(e.mode&1)&&(Zd=un()+500,Dw&&Fc()))}function ns(t,e){var n=t.callbackNode;MM(t,e);var r=b0(t,t===jn?Yn:0);if(r===0)n!==null&&Z2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Z2(n),e===1)t.tag===0?LB(qI.bind(null,t)):D3(qI.bind(null,t)),$B(function(){!(lt&6)&&Fc()}),n=null;else{switch(u3(r)){case 1:n=Qx;break;case 4:n=a3;break;case 16:n=v0;break;case 536870912:n=c3;break;default:n=v0}n=R$(n,A$.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function A$(t,e){if(Gy=-1,Ky=0,lt&6)throw Error(ae(327));var n=t.callbackNode;if(Sd()&&t.callbackNode!==n)return null;var r=b0(t,t===jn?Yn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=L0(t,r);else{e=r;var s=lt;lt|=2;var i=T$();(jn!==t||Yn!==e)&&(Ao=null,Zd=un()+500,Ol(t,e));do try{iF();break}catch(a){I$(t,a)}while(!0);uS(),D0.current=i,lt=s,yn!==null?e=0:(jn=null,Yn=0,e=An)}if(e!==0){if(e===2&&(s=qE(t),s!==0&&(r=s,e=w_(t,s))),e===1)throw n=jp,Ol(t,0),Fa(t,r),ns(t,un()),n;if(e===6)Fa(t,r);else{if(s=t.current.alternate,!(r&30)&&!rF(s)&&(e=L0(t,r),e===2&&(i=qE(t),i!==0&&(r=i,e=w_(t,i))),e===1))throw n=jp,Ol(t,0),Fa(t,r),ns(t,un()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:nl(t,Jr,Ao);break;case 3:if(Fa(t,r),(r&130023424)===r&&(e=SS+500-un(),10<e)){if(b0(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){xr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ZE(nl.bind(null,t,Jr,Ao),e);break}nl(t,Jr,Ao);break;case 4:if(Fa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-_i(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=un()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nF(r/1960))-r,10<r){t.timeoutHandle=ZE(nl.bind(null,t,Jr,Ao),r);break}nl(t,Jr,Ao);break;case 5:nl(t,Jr,Ao);break;default:throw Error(ae(329))}}}return ns(t,un()),t.callbackNode===n?A$.bind(null,t):null}function w_(t,e){var n=Yf;return t.current.memoizedState.isDehydrated&&(Ol(t,e).flags|=256),t=L0(t,e),t!==2&&(e=Jr,Jr=n,e!==null&&v_(e)),t}function v_(t){Jr===null?Jr=t:Jr.push.apply(Jr,t)}function rF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ii(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fa(t,e){for(e&=~xS,e&=~Mw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_i(e),r=1<<n;t[n]=-1,e&=~r}}function qI(t){if(lt&6)throw Error(ae(327));Sd();var e=b0(t,0);if(!(e&1))return ns(t,un()),null;var n=L0(t,e);if(t.tag!==0&&n===2){var r=qE(t);r!==0&&(e=r,n=w_(t,r))}if(n===1)throw n=jp,Ol(t,0),Fa(t,e),ns(t,un()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nl(t,Jr,Ao),ns(t,un()),null}function AS(t,e){var n=lt;lt|=1;try{return t(e)}finally{lt=n,lt===0&&(Zd=un()+500,Dw&&Fc())}}function Wl(t){rc!==null&&rc.tag===0&&!(lt&6)&&Sd();var e=lt;lt|=1;var n=Hs.transition,r=At;try{if(Hs.transition=null,At=1,t)return t()}finally{At=r,Hs.transition=n,lt=e,!(lt&6)&&Fc()}}function IS(){fs=md.current,Vt(md)}function Ol(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RB(n)),yn!==null)for(n=yn.return;n!==null;){var r=n;switch(aS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&S0();break;case 3:Jd(),Vt(es),Vt(gr),mS();break;case 5:gS(r);break;case 4:Jd();break;case 13:Vt(Qt);break;case 19:Vt(Qt);break;case 10:dS(r.type._context);break;case 22:case 23:IS()}n=n.return}if(jn=t,yn=t=yc(t.current,null),Yn=fs=e,An=0,jp=null,xS=Mw=zl=0,Jr=Yf=null,hl!==null){for(e=0;e<hl.length;e++)if(n=hl[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}hl=null}return t}function I$(t,e){do{var n=yn;try{if(uS(),qy.current=$0,R0){for(var r=Xt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}R0=!1}if(Fl=0,On=Cn=Xt=null,Gf=!1,Rp=0,CS.current=null,n===null||n.return===null){An=1,jp=e,yn=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Yn,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=kI(o);if(f!==null){f.flags&=-257,OI(f,o,a,i,e),f.mode&1&&PI(i,l,e),e=f,c=l;var p=e.updateQueue;if(p===null){var g=new Set;g.add(c),e.updateQueue=g}else p.add(c);break e}else{if(!(e&1)){PI(i,l,e),TS();break e}c=Error(ae(426))}}else if(Kt&&a.mode&1){var w=kI(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),OI(w,o,a,i,e),cS(Qd(c,a));break e}}i=c=Qd(c,a),An!==4&&(An=2),Yf===null?Yf=[i]:Yf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=u$(i,c,e);xI(i,y);break e;case 1:a=c;var b=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(gc===null||!gc.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=d$(i,a,e);xI(i,_);break e}}i=i.return}while(i!==null)}P$(n)}catch(E){e=E,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(!0)}function T$(){var t=D0.current;return D0.current=$0,t===null?$0:t}function TS(){(An===0||An===3||An===2)&&(An=4),jn===null||!(zl&268435455)&&!(Mw&268435455)||Fa(jn,Yn)}function L0(t,e){var n=lt;lt|=2;var r=T$();(jn!==t||Yn!==e)&&(Ao=null,Ol(t,e));do try{sF();break}catch(s){I$(t,s)}while(!0);if(uS(),lt=n,D0.current=r,yn!==null)throw Error(ae(261));return jn=null,Yn=0,An}function sF(){for(;yn!==null;)N$(yn)}function iF(){for(;yn!==null&&!PM();)N$(yn)}function N$(t){var e=O$(t.alternate,t,fs);t.memoizedProps=t.pendingProps,e===null?P$(t):yn=e,CS.current=null}function P$(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZB(n,e),n!==null){n.flags&=32767,yn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{An=6,yn=null;return}}else if(n=QB(n,e,fs),n!==null){yn=n;return}if(e=e.sibling,e!==null){yn=e;return}yn=e=t}while(e!==null);An===0&&(An=5)}function nl(t,e,n){var r=At,s=Hs.transition;try{Hs.transition=null,At=1,oF(t,e,n,r)}finally{Hs.transition=s,At=r}return null}function oF(t,e,n,r){do Sd();while(rc!==null);if(lt&6)throw Error(ae(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(BM(t,i),t===jn&&(yn=jn=null,Yn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fm||(Fm=!0,R$(v0,function(){return Sd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Hs.transition,Hs.transition=null;var o=At;At=1;var a=lt;lt|=4,CS.current=null,eF(t,n),x$(n,t),AB(JE),E0=!!YE,JE=YE=null,t.current=n,tF(n),kM(),lt=a,At=o,Hs.transition=i}else t.current=n;if(Fm&&(Fm=!1,rc=t,U0=s),i=t.pendingLanes,i===0&&(gc=null),$M(n.stateNode),ns(t,un()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(j0)throw j0=!1,t=m_,m_=null,t;return U0&1&&t.tag!==0&&Sd(),i=t.pendingLanes,i&1?t===y_?Jf++:(Jf=0,y_=t):Jf=0,Fc(),null}function Sd(){if(rc!==null){var t=u3(U0),e=Hs.transition,n=At;try{if(Hs.transition=null,At=16>t?16:t,rc===null)var r=!1;else{if(t=rc,rc=null,U0=0,lt&6)throw Error(ae(331));var s=lt;for(lt|=4,Te=t.current;Te!==null;){var i=Te,o=i.child;if(Te.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(Te=l;Te!==null;){var u=Te;switch(u.tag){case 0:case 11:case 15:Kf(8,u,i)}var d=u.child;if(d!==null)d.return=u,Te=d;else for(;Te!==null;){u=Te;var h=u.sibling,f=u.return;if(E$(u),u===l){Te=null;break}if(h!==null){h.return=f,Te=h;break}Te=f}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Te=o;else e:for(;Te!==null;){if(i=Te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kf(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Te=y;break e}Te=i.return}}var b=t.current;for(Te=b;Te!==null;){o=Te;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Te=v;else e:for(o=b;Te!==null;){if(a=Te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lw(9,a)}}catch(E){sn(a,a.return,E)}if(a===o){Te=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Te=_;break e}Te=a.return}}if(lt=s,Fc(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot(Pw,t)}catch{}r=!0}return r}finally{At=n,Hs.transition=e}}return!1}function HI(t,e,n){e=Qd(n,e),e=u$(t,e,1),t=pc(t,e,1),e=xr(),t!==null&&(Hg(t,1,e),ns(t,e))}function sn(t,e,n){if(t.tag===3)HI(t,t,n);else for(;e!==null;){if(e.tag===3){HI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gc===null||!gc.has(r))){t=Qd(n,t),t=d$(e,t,1),e=pc(e,t,1),t=xr(),e!==null&&(Hg(e,1,t),ns(e,t));break}}e=e.return}}function aF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xr(),t.pingedLanes|=t.suspendedLanes&n,jn===t&&(Yn&n)===n&&(An===4||An===3&&(Yn&130023424)===Yn&&500>un()-SS?Ol(t,0):xS|=n),ns(t,e)}function k$(t,e){e===0&&(t.mode&1?(e=km,km<<=1,!(km&130023424)&&(km=4194304)):e=1);var n=xr();t=Vo(t,e),t!==null&&(Hg(t,e,n),ns(t,n))}function cF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),k$(t,n)}function lF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),k$(t,n)}var O$;O$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||es.current)Zr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zr=!1,JB(t,e,n);Zr=!!(t.flags&131072)}else Zr=!1,Kt&&e.flags&1048576&&j3(e,T0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vy(t,e),t=e.pendingProps;var s=Gd(e,gr.current);xd(e,n),s=wS(null,e,r,t,s,n);var i=vS();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ts(r)?(i=!0,A0(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fS(e),s.updater=Uw,e.stateNode=s,s._reactInternals=e,i_(e,r,t,n),e=c_(null,e,r,!0,i,n)):(e.tag=0,Kt&&i&&oS(e),Er(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vy(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=dF(r),t=ui(r,t),s){case 0:e=a_(null,e,r,t,n);break e;case 1:e=DI(null,e,r,t,n);break e;case 11:e=RI(null,e,r,t,n);break e;case 14:e=$I(null,e,r,ui(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ui(r,s),a_(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ui(r,s),DI(t,e,r,s,n);case 3:e:{if(g$(e),t===null)throw Error(ae(387));r=e.pendingProps,i=e.memoizedState,s=i.element,z3(t,e),k0(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Qd(Error(ae(423)),e),e=jI(t,e,r,n,s);break e}else if(r!==s){s=Qd(Error(ae(424)),e),e=jI(t,e,r,n,s);break e}else for(ys=fc(e.stateNode.containerInfo.firstChild),bs=e,Kt=!0,gi=null,n=B3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kd(),r===s){e=Go(t,e,n);break e}Er(t,e,r,n)}e=e.child}return e;case 5:return W3(e),t===null&&n_(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,QE(r,s)?o=null:i!==null&&QE(r,i)&&(e.flags|=32),p$(t,e),Er(t,e,o,n),e.child;case 6:return t===null&&n_(e),null;case 13:return m$(t,e,n);case 4:return pS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yd(e,null,r,n):Er(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ui(r,s),RI(t,e,r,s,n);case 7:return Er(t,e,e.pendingProps,n),e.child;case 8:return Er(t,e,e.pendingProps.children,n),e.child;case 12:return Er(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Bt(N0,r._currentValue),r._currentValue=o,i!==null)if(Ii(i.value,o)){if(i.children===s.children&&!es.current){e=Go(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Lo(-1,n&-n),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),r_(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),r_(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Er(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,xd(e,n),s=Vs(s),r=r(s),e.flags|=1,Er(t,e,r,n),e.child;case 14:return r=e.type,s=ui(r,e.pendingProps),s=ui(r.type,s),$I(t,e,r,s,n);case 15:return h$(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ui(r,s),Vy(t,e),e.tag=1,ts(r)?(t=!0,A0(e)):t=!1,xd(e,n),l$(e,r,s),i_(e,r,s,n),c_(null,e,r,!0,t,n);case 19:return y$(t,e,n);case 22:return f$(t,e,n)}throw Error(ae(156,e.tag))};function R$(t,e){return o3(t,e)}function uF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(t,e,n,r){return new uF(t,e,n,r)}function NS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dF(t){if(typeof t=="function")return NS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kx)return 11;if(t===Yx)return 14}return 2}function yc(t,e){var n=t.alternate;return n===null?(n=Ws(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yy(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")NS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case od:return Rl(n.children,s,i,e);case Gx:o=8,s|=8;break;case NE:return t=Ws(12,n,e,s|2),t.elementType=NE,t.lanes=i,t;case PE:return t=Ws(13,n,e,s),t.elementType=PE,t.lanes=i,t;case kE:return t=Ws(19,n,e,s),t.elementType=kE,t.lanes=i,t;case WR:return Bw(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case FR:o=10;break e;case zR:o=9;break e;case Kx:o=11;break e;case Yx:o=14;break e;case ka:o=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=Ws(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Rl(t,e,n,r){return t=Ws(7,t,r,e),t.lanes=n,t}function Bw(t,e,n,r){return t=Ws(22,t,r,e),t.elementType=WR,t.lanes=n,t.stateNode={isHidden:!1},t}function Pb(t,e,n){return t=Ws(6,t,null,e),t.lanes=n,t}function kb(t,e,n){return e=Ws(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=db(0),this.expirationTimes=db(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=db(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function PS(t,e,n,r,s,i,o,a,c){return t=new hF(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ws(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fS(i),t}function fF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:id,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $$(t){if(!t)return Nc;t=t._reactInternals;e:{if(uu(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ts(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(ts(n))return $3(t,n,e)}return e}function D$(t,e,n,r,s,i,o,a,c){return t=PS(n,r,!0,t,s,i,o,a,c),t.context=$$(null),n=t.current,r=xr(),s=mc(n),i=Lo(r,s),i.callback=e??null,pc(n,i,s),t.current.lanes=s,Hg(t,s,r),ns(t,r),t}function Fw(t,e,n,r){var s=e.current,i=xr(),o=mc(s);return n=$$(n),e.context===null?e.context=n:e.pendingContext=n,e=Lo(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pc(s,e,o),t!==null&&(Ci(t,s,o,i),Wy(t,s,o)),o}function M0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kS(t,e){VI(t,e),(t=t.alternate)&&VI(t,e)}function pF(){return null}var j$=typeof reportError=="function"?reportError:function(t){console.error(t)};function OS(t){this._internalRoot=t}zw.prototype.render=OS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Fw(t,e,null,null)};zw.prototype.unmount=OS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wl(function(){Fw(null,t,null,null)}),e[Ho]=null}};function zw(t){this._internalRoot=t}zw.prototype.unstable_scheduleHydration=function(t){if(t){var e=f3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ba.length&&e!==0&&e<Ba[n].priority;n++);Ba.splice(n,0,t),n===0&&g3(t)}};function RS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ww(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function GI(){}function gF(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=M0(o);i.call(l)}}var o=D$(e,r,t,0,null,!1,!1,"",GI);return t._reactRootContainer=o,t[Ho]=o.current,Tp(t.nodeType===8?t.parentNode:t),Wl(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=M0(c);a.call(l)}}var c=PS(t,0,!1,null,null,!1,!1,"",GI);return t._reactRootContainer=c,t[Ho]=c.current,Tp(t.nodeType===8?t.parentNode:t),Wl(function(){Fw(e,c,n,r)}),c}function qw(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=M0(o);a.call(c)}}Fw(e,o,t,s)}else o=gF(n,e,t,s,r);return M0(o)}d3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=If(e.pendingLanes);n!==0&&(Zx(e,n|1),ns(e,un()),!(lt&6)&&(Zd=un()+500,Fc()))}break;case 13:Wl(function(){var r=Vo(t,1);if(r!==null){var s=xr();Ci(r,t,1,s)}}),kS(t,1)}};Xx=function(t){if(t.tag===13){var e=Vo(t,134217728);if(e!==null){var n=xr();Ci(e,t,134217728,n)}kS(t,134217728)}};h3=function(t){if(t.tag===13){var e=mc(t),n=Vo(t,e);if(n!==null){var r=xr();Ci(n,t,e,r)}kS(t,e)}};f3=function(){return At};p3=function(t,e){var n=At;try{return At=t,e()}finally{At=n}};FE=function(t,e,n){switch(e){case"input":if($E(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=$w(r);if(!s)throw Error(ae(90));HR(r),$E(r,s)}}}break;case"textarea":GR(t,n);break;case"select":e=n.value,e!=null&&bd(t,!!n.multiple,e,!1)}};e3=AS;t3=Wl;var mF={usingClientEntryPoint:!1,Events:[Gg,ud,$w,ZR,XR,AS]},Jh={findFiberByHostInstance:dl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yF={bundleType:Jh.bundleType,version:Jh.version,rendererPackageName:Jh.rendererPackageName,rendererConfig:Jh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=s3(t),t===null?null:t.stateNode},findFiberByHostInstance:Jh.findFiberByHostInstance||pF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zm.isDisabled&&zm.supportsFiber)try{Pw=zm.inject(yF),Zi=zm}catch{}}Ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mF;Ss.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RS(e))throw Error(ae(200));return fF(t,e,null,n)};Ss.createRoot=function(t,e){if(!RS(t))throw Error(ae(299));var n=!1,r="",s=j$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=PS(t,1,!1,null,null,n,!1,r,s),t[Ho]=e.current,Tp(t.nodeType===8?t.parentNode:t),new OS(e)};Ss.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=s3(e),t=t===null?null:t.stateNode,t};Ss.flushSync=function(t){return Wl(t)};Ss.hydrate=function(t,e,n){if(!Ww(e))throw Error(ae(200));return qw(null,t,e,!0,n)};Ss.hydrateRoot=function(t,e,n){if(!RS(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=j$;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=D$(e,null,t,1,n??null,s,!1,i,o),t[Ho]=e.current,Tp(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new zw(e)};Ss.render=function(t,e,n){if(!Ww(e))throw Error(ae(200));return qw(null,t,e,!1,n)};Ss.unmountComponentAtNode=function(t){if(!Ww(t))throw Error(ae(40));return t._reactRootContainer?(Wl(function(){qw(null,null,t,!1,function(){t._reactRootContainer=null,t[Ho]=null})}),!0):!1};Ss.unstable_batchedUpdates=AS;Ss.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ww(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return qw(t,e,n,!1,r)};Ss.version="18.3.1-next-f1338f8080-20240426";function U$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(U$)}catch(t){console.error(t)}}U$(),UR.exports=Ss;var $S=UR.exports,KI=$S;IE.createRoot=KI.createRoot,IE.hydrateRoot=KI.hydrateRoot;const L$="2.31.4";let Qh={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${L$}`},re=class b_ extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof b_?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof b_&&n.cause.docsPath||n.docsPath,i=(a=Qh.getDocsUrl)==null?void 0:a.call(Qh,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Qh.version?[`Version: ${Qh.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=L$}walk(e){return M$(this,e)}};function M$(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?M$(t.cause,e):e?null:t}let B$=class extends re{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class wF extends re{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let vF=class extends re{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class F$ extends re{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let z$=class extends re{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class YI extends re{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function yh(t,{dir:e,size:n=32}={}){return typeof t=="string"?wc(t,{dir:e,size:n}):bF(t,{dir:e,size:n})}function wc(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new z$({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function bF(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new z$({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}function Ko(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function hn(t){return Ko(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function wh(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const EF=new TextEncoder;function Hw(t,e={}){return typeof t=="number"||typeof t=="bigint"?CF(t,e):typeof t=="boolean"?_F(t,e):Ko(t)?so(t,e):Ad(t,e)}function _F(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Pi(n,{size:e.size}),yh(n,{size:e.size})):n}const ho={zero:48,nine:57,A:65,F:70,a:97,f:102};function JI(t){if(t>=ho.zero&&t<=ho.nine)return t-ho.zero;if(t>=ho.A&&t<=ho.F)return t-(ho.A-10);if(t>=ho.a&&t<=ho.f)return t-(ho.a-10)}function so(t,e={}){let n=t;e.size&&(Pi(n,{size:e.size}),n=yh(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=JI(r.charCodeAt(a++)),l=JI(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new re(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function CF(t,e){const n=ze(t,e);return so(n)}function Ad(t,e={}){const n=EF.encode(t);return typeof e.size=="number"?(Pi(n,{size:e.size}),yh(n,{dir:"right",size:e.size})):n}function Pi(t,{size:e}){if(hn(t)>e)throw new vF({givenSize:hn(t),maxSize:e})}function Yo(t,e={}){const{signed:n}=e;e.size&&Pi(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Jo(t,e={}){return Number(Yo(t,e))}function W$(t,e={}){let n=so(t);return e.size&&(Pi(n,{size:e.size}),n=wh(n,{dir:"right"})),new TextDecoder().decode(n)}const xF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ql(t,e={}){return typeof t=="number"||typeof t=="bigint"?ze(t,e):typeof t=="string"?Vw(t,e):typeof t=="boolean"?q$(t,e):Tr(t,e)}function q$(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Pi(n,{size:e.size}),yh(n,{size:e.size})):n}function Tr(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=xF[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Pi(r,{size:e.size}),yh(r,{dir:"right",size:e.size})):r}function ze(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new B$({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?yh(a,{size:r}):a}const SF=new TextEncoder;function Vw(t,e={}){const n=SF.encode(t);return Tr(n,e)}async function AF(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:ze(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function Pc(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new MF(t.type);return`${t.name}(${Gw(t.inputs,{includeName:e})})`}function Gw(t,{includeName:e=!1}={}){return t?t.map(n=>IF(n,{includeName:e})).join(e?", ":","):""}function IF(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Gw(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class TF extends re{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class QI extends re{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class H$ extends re{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Gw(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Kw extends re{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class NF extends re{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class PF extends re{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${hn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class kF extends re{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class UCe extends re{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class LCe extends re{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class V$ extends re{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class OF extends re{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class G$ extends re{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class B0 extends re{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class RF extends re{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class MCe extends re{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class $F extends re{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Pc(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Pc(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class DF extends re{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class E_ extends re{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Gw(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class K$ extends re{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Pc(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class jF extends re{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class UF extends re{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class LF extends re{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class MF extends re{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function kc(t){return typeof t[0]=="string"?Yw(t):BF(t)}function BF(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Yw(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class Oc extends re{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let Jw=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Wm=BigInt(2**32-1),ZI=BigInt(32);function FF(t,e=!1){return e?{h:Number(t&Wm),l:Number(t>>ZI&Wm)}:{h:Number(t>>ZI&Wm)|0,l:Number(t&Wm)|0}}function zF(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=FF(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const WF=(t,e,n)=>t<<n|e>>>32-n,qF=(t,e,n)=>e<<n|t>>>32-n,HF=(t,e,n)=>e<<n-32|t>>>64-n,VF=(t,e,n)=>t<<n-32|e>>>64-n,Su=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function GF(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function F0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Hl(t,...e){if(!GF(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function FCe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");F0(t.outputLen),F0(t.blockLen)}function z0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Y$(t,e){Hl(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function KF(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Up(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Ob(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function $i(t,e){return t<<32-e|t>>>e}const YF=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function JF(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function QF(t){for(let e=0;e<t.length;e++)t[e]=JF(t[e]);return t}const XI=YF?t=>t:QF,J$=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",ZF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zCe(t){if(Hl(t),J$)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=ZF[t[n]];return e}const fo={_0:48,_9:57,A:65,F:70,a:97,f:102};function eT(t){if(t>=fo._0&&t<=fo._9)return t-fo._0;if(t>=fo.A&&t<=fo.F)return t-(fo.A-10);if(t>=fo.a&&t<=fo.f)return t-(fo.a-10)}function WCe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(J$)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=eT(t.charCodeAt(i)),a=eT(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function XF(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Qw(t){return typeof t=="string"&&(t=XF(t)),Hl(t),t}function qCe(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Hl(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class Q${}function Z$(t){const e=r=>t().update(Qw(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function e9(t){const e=(r,s)=>t(s).update(Qw(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function HCe(t=32){if(Su&&typeof Su.getRandomValues=="function")return Su.getRandomValues(new Uint8Array(t));if(Su&&typeof Su.randomBytes=="function")return Uint8Array.from(Su.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const t9=BigInt(0),Zh=BigInt(1),n9=BigInt(2),r9=BigInt(7),s9=BigInt(256),i9=BigInt(113),X$=[],eD=[],tD=[];for(let t=0,e=Zh,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],X$.push(2*(5*r+n)),eD.push((t+1)*(t+2)/2%64);let s=t9;for(let i=0;i<7;i++)e=(e<<Zh^(e>>r9)*i9)%s9,e&n9&&(s^=Zh<<(Zh<<BigInt(i))-Zh);tD.push(s)}const nD=zF(tD,!0),o9=nD[0],a9=nD[1],tT=(t,e,n)=>n>32?HF(t,e,n):WF(t,e,n),nT=(t,e,n)=>n>32?VF(t,e,n):qF(t,e,n);function rD(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=tT(l,u,1)^n[a],h=nT(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=eD[o],c=tT(s,i,a),l=nT(s,i,a),u=X$[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=o9[r],t[1]^=a9[r]}Up(n)}class Yg extends Q${constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,F0(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=KF(this.state)}clone(){return this._cloneInto()}keccak(){XI(this.state32),rD(this.state32,this.rounds),XI(this.state32),this.posOut=0,this.pos=0}update(e){z0(this),e=Qw(e),Hl(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){z0(this,!1),Hl(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return F0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Y$(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Up(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Yg(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const zc=(t,e,n)=>Z$(()=>new Yg(e,t,n)),c9=zc(6,144,224/8),l9=zc(6,136,256/8),u9=zc(6,104,384/8),d9=zc(6,72,512/8),h9=zc(1,144,224/8),DS=zc(1,136,256/8),f9=zc(1,104,384/8),p9=zc(1,72,512/8),sD=(t,e,n)=>e9((r={})=>new Yg(e,t,r.dkLen===void 0?n:r.dkLen,!0)),g9=sD(31,168,128/8),m9=sD(31,136,256/8),VCe=Object.freeze(Object.defineProperty({__proto__:null,Keccak:Yg,keccakP:rD,keccak_224:h9,keccak_256:DS,keccak_384:f9,keccak_512:p9,sha3_224:c9,sha3_256:l9,sha3_384:u9,sha3_512:d9,shake128:g9,shake256:m9},Symbol.toStringTag,{value:"Module"}));function vh(t,e){const n=e||"hex",r=DS(Ko(t,{strict:!1})?Hw(t):t);return n==="bytes"?r:ql(r)}const Rb=new Jw(8192);function Jg(t,e){if(Rb.has(`${t}.${e}`))return Rb.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=vh(Ad(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Rb.set(`${t}.${e}`,i),i}function sc(t,e){if(!Ti(t,{strict:!1}))throw new Oc({address:t});return Jg(t,e)}const y9=/^0x[a-fA-F0-9]{40}$/,$b=new Jw(8192);function Ti(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if($b.has(r))return $b.get(r);const s=y9.test(t)?t.toLowerCase()===t?!0:n?Jg(t)===t:!0:!1;return $b.set(r,s),s}function W0(t,e,n,{strict:r}={}){return Ko(t,{strict:!1})?__(t,e,n,{strict:r}):aD(t,e,n,{strict:r})}function iD(t,e){if(typeof e=="number"&&e>0&&e>hn(t)-1)throw new F$({offset:e,position:"start",size:hn(t)})}function oD(t,e,n){if(typeof e=="number"&&typeof n=="number"&&hn(t)!==n-e)throw new F$({offset:n,position:"end",size:hn(t)})}function aD(t,e,n,{strict:r}={}){iD(t,e);const s=t.slice(e,n);return r&&oD(s,e,n),s}function __(t,e,n,{strict:r}={}){iD(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&oD(s,e,n),s}const w9=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,cD=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function lD(t,e){if(t.length!==e.length)throw new kF({expectedLength:t.length,givenLength:e.length});const n=v9({params:t,values:e}),r=US(n);return r.length===0?"0x":r}function v9({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(jS({param:t[r],value:e[r]}));return n}function jS({param:t,value:e}){const n=LS(t.type);if(n){const[r,s]=n;return E9(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return A9(e,{param:t});if(t.type==="address")return b9(e);if(t.type==="bool")return C9(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=cD.exec(t.type)??[];return x9(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return _9(e,{param:t});if(t.type==="string")return S9(e);throw new jF(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function US(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=hn(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(ze(e+s,{size:32})),r.push(a),s+=hn(a)):n.push(a)}return kc([...n,...r])}function b9(t){if(!Ti(t))throw new Oc({address:t});return{dynamic:!1,encoded:wc(t.toLowerCase())}}function E9(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new LF(t);if(!r&&t.length!==e)throw new NF({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=jS({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=US(i);if(r){const a=ze(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?kc([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:kc(i.map(({encoded:o})=>o))}}function _9(t,{param:e}){const[,n]=e.type.split("bytes"),r=hn(t);if(!n){let s=t;return r%32!==0&&(s=wc(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:kc([wc(ze(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new PF({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:wc(t,{dir:"right"})}}function C9(t){if(typeof t!="boolean")throw new re(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:wc(q$(t))}}function x9(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new B$({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:ze(t,{size:32,signed:e})}}function S9(t){const e=Vw(t),n=Math.ceil(hn(e)/32),r=[];for(let s=0;s<n;s++)r.push(wc(W0(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:kc([wc(ze(hn(e),{size:32})),...r])}}function A9(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=jS({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?US(r):kc(r.map(({encoded:s})=>s))}}function LS(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Db="/docs/contract/encodeDeployData";function MS(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new TF({docsPath:Db});if(!("inputs"in s))throw new QI({docsPath:Db});if(!s.inputs||s.inputs.length===0)throw new QI({docsPath:Db});const i=lD(s.inputs,n);return Yw([r,i])}function Qn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class du extends re{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Jy extends re{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function I9(t){const e=vh(`0x${t.substring(4)}`).substring(26);return Jg(`0x${e}`)}const T9="modulepreload",N9=function(t){return"/"+t},rT={},ln=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=N9(c),c in rT)return;rT[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":T9,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};async function P9({hash:t,signature:e}){const n=Ko(t)?t:ql(t),{secp256k1:r}=await ln(async()=>{const{secp256k1:o}=await import("./secp256k1-D6tYISsl.js");return{secp256k1:o}},__vite__mapDeps([0,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=sT(f);return new r.Signature(Yo(l),Yo(u)).addRecoveryBit(p)}const o=Ko(e)?e:ql(e);if(hn(o)!==65)throw new Error("invalid signature length");const a=Jo(`0x${o.slice(130)}`),c=sT(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function sT(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function k9({hash:t,signature:e}){return I9(await P9({hash:t,signature:e}))}class iT extends re{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class uD extends re{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class O9 extends re{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const R9={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new O9({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new uD({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new iT({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new iT({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function BS(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(R9);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function $9(t,e="hex"){const n=dD(t),r=BS(new Uint8Array(n.length));return n.encode(r),e==="hex"?Tr(r.bytes):r.bytes}function dD(t){return Array.isArray(t)?D9(t.map(e=>dD(e))):j9(t)}function D9(t){const e=t.reduce((s,i)=>s+i.length,0),n=hD(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function j9(t){const e=typeof t=="string"?so(t):t,n=hD(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function hD(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new re("Length is too large.")}function U9(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=vh(Yw(["0x05",$9([e?ze(e):"0x",s,n?ze(n):"0x"])]));return r==="bytes"?so(i):i}async function fD(t){const{authorization:e,signature:n}=t;return k9({hash:U9(e),signature:n??e})}class C_ extends re{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class L9 extends re{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class M9 extends re{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class pD extends re{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function gD({chain:t,currentChainId:e}){if(!t)throw new M9;if(e!==t.id)throw new L9({chain:t,currentChainId:e})}const B9={gwei:9,wei:18},F9={ether:-9,wei:9},z9={ether:-18,gwei:-9};function bh(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function rs(t,e="wei"){return bh(t,F9[e])}class pl extends re{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(pl,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(pl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class q0 extends re{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${rs(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(q0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class x_ extends re{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${rs(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(x_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class S_ extends re{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(S_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class A_ extends re{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(A_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class I_ extends re{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(I_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class T_ extends re{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(T_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class N_ extends re{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(N_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class P_ extends re{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(P_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class k_ extends re{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(k_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class H0 extends re{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${rs(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${rs(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(H0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Zw extends re{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function FS(t,e="wei"){return bh(t,B9[e])}function Qg(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class W9 extends re{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class q9 extends re{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Qg(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class H9 extends re{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=Qg({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${FS(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${rs(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${rs(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${rs(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class mD extends re{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class yD extends re{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class V9 extends re{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Sr=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n),G9=t=>t,zS=t=>t;class Qf extends re{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${zS(o)}`,e&&`Request body: ${Sr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class WS extends re{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${zS(r)}`,`Request body: ${Sr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class oT extends re{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${zS(n)}`,`Request body: ${Sr(e)}`],name:"TimeoutError"})}}const K9=-1;class is extends re{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof WS?e.code:n??K9}}class Is extends is{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Lp extends is{constructor(e){super(e,{code:Lp.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Lp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Mp extends is{constructor(e){super(e,{code:Mp.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Mp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Bp extends is{constructor(e,{method:n}={}){super(e,{code:Bp.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Bp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Fp extends is{constructor(e){super(e,{code:Fp.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Fp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Vl extends is{constructor(e){super(e,{code:Vl.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Vl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class zp extends is{constructor(e){super(e,{code:zp.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Wp extends is{constructor(e){super(e,{code:Wp.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Wp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class vc extends is{constructor(e){super(e,{code:vc.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(vc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Xd extends is{constructor(e){super(e,{code:Xd.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Xd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class gl extends is{constructor(e,{method:n}={}){super(e,{code:gl.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(gl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class eh extends is{constructor(e){super(e,{code:eh.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(eh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class qp extends is{constructor(e){super(e,{code:qp.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class _n extends Is{constructor(e){super(e,{code:_n.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(_n,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Hp extends Is{constructor(e){super(e,{code:Hp.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Hp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Vp extends Is{constructor(e,{method:n}={}){super(e,{code:Vp.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Vp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Gp extends Is{constructor(e){super(e,{code:Gp.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Gp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Kp extends Is{constructor(e){super(e,{code:Kp.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Kp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class io extends Is{constructor(e){super(e,{code:io.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(io,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class th extends Is{constructor(e){super(e,{code:th.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(th,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Yp extends Is{constructor(e){super(e,{code:Yp.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Jp extends Is{constructor(e){super(e,{code:Jp.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Qp extends Is{constructor(e){super(e,{code:Qp.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Zp extends Is{constructor(e){super(e,{code:Zp.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Xp extends Is{constructor(e){super(e,{code:Xp.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class nh extends Is{constructor(e){super(e,{code:nh.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(nh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Y9 extends is{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function qS(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof re?t.walk(s=>(s==null?void 0:s.code)===pl.code):t;return r instanceof re?new pl({cause:t,message:r.details}):pl.nodeMessage.test(n)?new pl({cause:t,message:t.details}):q0.nodeMessage.test(n)?new q0({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):x_.nodeMessage.test(n)?new x_({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):S_.nodeMessage.test(n)?new S_({cause:t,nonce:e==null?void 0:e.nonce}):A_.nodeMessage.test(n)?new A_({cause:t,nonce:e==null?void 0:e.nonce}):I_.nodeMessage.test(n)?new I_({cause:t,nonce:e==null?void 0:e.nonce}):T_.nodeMessage.test(n)?new T_({cause:t}):N_.nodeMessage.test(n)?new N_({cause:t,gas:e==null?void 0:e.gas}):P_.nodeMessage.test(n)?new P_({cause:t,gas:e==null?void 0:e.gas}):k_.nodeMessage.test(n)?new k_({cause:t}):H0.nodeMessage.test(n)?new H0({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Zw({cause:t})}function wD(t,{docsPath:e,...n}){const r=(()=>{const s=qS(t,n);return s instanceof Zw?t:s})();return new H9(r,{docsPath:e,...n})}function HS(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}const J9={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Xw(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=Q9(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Tr(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=ze(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=ze(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=ze(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=ze(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=ze(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=ze(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=J9[t.type]),typeof t.value<"u"&&(e.value=ze(t.value)),e}function Q9(t){return t.map(e=>({address:e.address,r:e.r?ze(BigInt(e.r)):e.r,s:e.s?ze(BigInt(e.s)):e.s,chainId:ze(e.chainId),nonce:ze(e.nonce),...typeof e.yParity<"u"?{yParity:ze(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:ze(e.v)}:{}}))}function Ot(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const Z9=2n**256n-1n;function Zg(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?Qn(e):void 0;if(o&&!Ti(o.address))throw new Oc({address:o.address});if(i&&!Ti(i))throw new Oc({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new W9;if(r&&r>Z9)throw new q0({maxFeePerGas:r});if(s&&r&&s>r)throw new H0({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function Xg(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Jo(e)}class X9 extends re{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class VS extends re{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class e7 extends re{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${rs(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class vD extends re{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const bD={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function ED(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Jo(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Jo(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?bD[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=t7(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function t7(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function n7(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:ED(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function eg(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var u,d,h;const i=r??"latest",o=s??!1,a=n!==void 0?ze(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||i,o]},{dedupe:!!a}),!c)throw new vD({blockHash:e,blockNumber:n});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:h.format)||n7)(c)}async function _D(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function r7(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await Ot(t,eg,"getBlock")({}),u=await a({block:l,client:t,request:s});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return Yo(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):Ot(t,eg,"getBlock")({}),Ot(t,_D,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new VS;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function aT(t,e){var h,f;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var p,g;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(o<1)throw new X9;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),l=p=>p*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await Ot(t,eg,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:s,type:i});if(p!==null)return p}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new VS;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await r7(t,{block:u,chain:r,request:s}),g=l(u.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??g+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await Ot(t,_D,"getGasPrice")({}))}}class s7 extends re{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=Qg({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${FS(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${rs(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${rs(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${rs(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function i7(t,{docsPath:e,...n}){const r=(()=>{const s=qS(t,n);return s instanceof Zw?t:s})();return new s7(r,{docsPath:e,...n})}class o7 extends re{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class a7 extends re{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function cT(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function c7(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=cT(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=cT(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function lT(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new YI({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new YI({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function l7(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=ze(e)),n!==void 0&&(o.nonce=ze(n)),r!==void 0&&(o.state=lT(r)),s!==void 0){if(o.state)throw new a7;o.stateDiff=lT(s)}return o}function CD(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Ti(n,{strict:!1}))throw new Oc({address:n});if(e[n])throw new o7({address:n});e[n]=l7(r)}return e}async function xD(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?ze(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function SD(t,e){var s,i,o;const{account:n=t.account}=e,r=n?Qn(n):void 0;try{let H=function(T){const{block:L,request:D,rpcStateOverride:$}=T;return t.request({method:"eth_estimateGas",params:$?[D,L??"latest",$]:L?[D,L]:[D]})};const{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:h,data:f,gas:p,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,value:_,stateOverride:E,...x}=await ev(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),A=(typeof d=="bigint"?ze(d):void 0)||h,C=CD(E),P=await(async()=>{if(x.to)return x.to;if(c&&c.length>0)return await fD({authorization:c[0]}).catch(()=>{throw new re("`to` is required. Could not infer from `authorizationList`")})})();Zg(e);const k=(o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,F=(k||Xw)({...HS(x,{format:k}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:f,gas:p,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:P,value:_});let N=BigInt(await H({block:A,request:F,rpcStateOverride:C}));if(c){const T=await xD(t,{address:F.from}),L=await Promise.all(c.map(async D=>{const{address:$}=D,U=await H({block:A,request:{authorizationList:void 0,data:f,from:r==null?void 0:r.address,to:$,value:ze(T)},rpcStateOverride:C}).catch(()=>100000n);return 2n*BigInt(U)}));N+=L.reduce((D,$)=>D+$,0n)}return N}catch(a){throw i7(a,{...e,account:r,chain:t.chain})}}async function AD(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?ze(r):n]},{dedupe:!!r});return Jo(s)}function ID(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>so(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>Tr(i))}function TD(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>so(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>so(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>Tr(o))}function u7(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function d7(t,e,n){return t&e^~t&n}function h7(t,e,n){return t&e^t&n^e&n}class f7 extends Q${constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Ob(this.buffer)}update(e){z0(this),e=Qw(e),Hl(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Ob(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){z0(this),Y$(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Up(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;u7(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Ob(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const la=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),p7=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ua=new Uint32Array(64);class g7 extends f7{constructor(e=32){super(64,e,8,!1),this.A=la[0]|0,this.B=la[1]|0,this.C=la[2]|0,this.D=la[3]|0,this.E=la[4]|0,this.F=la[5]|0,this.G=la[6]|0,this.H=la[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)ua[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=ua[d-15],f=ua[d-2],p=$i(h,7)^$i(h,18)^h>>>3,g=$i(f,17)^$i(f,19)^f>>>10;ua[d]=g+ua[d-7]+p+ua[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=$i(a,6)^$i(a,11)^$i(a,25),f=u+h+d7(a,c,l)+p7[d]+ua[d]|0,g=($i(r,2)^$i(r,13)^$i(r,22))+h7(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Up(ua)}destroy(){this.set(0,0,0,0,0,0,0,0),Up(this.buffer)}}const m7=Z$(()=>new g7),y7=m7;function w7(t,e){return y7(Ko(t,{strict:!1})?Hw(t):t)}function v7(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=w7(e);return s.set([n],0),r==="bytes"?s:Tr(s)}function b7(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const i of e)s.push(v7({commitment:i,to:r,version:n}));return s}const uT=6,ND=32,GS=4096,PD=ND*GS,dT=PD*uT-1-1*GS*uT;class E7 extends re{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class _7 extends re{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function C7(t){const e=typeof t.data=="string"?so(t.data):t.data,n=hn(e);if(!n)throw new _7;if(n>dT)throw new E7({maxSize:dT,size:n});const r=[];let s=!0,i=0;for(;s;){const o=BS(new Uint8Array(PD));let a=0;for(;a<GS;){const c=e.slice(i,i+(ND-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}a++,i+=31}r.push(o)}return r.map(o=>Tr(o.bytes))}function x7(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??C7({data:e}),i=t.commitments??ID({blobs:s,kzg:n,to:r}),o=t.proofs??TD({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function S7(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new q9({transaction:t})}const kD=["blobVersionedHashes","chainId","fees","gas","nonce","type"],hT=new Map;async function ev(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:l=kD,type:u}=e,d=n&&Qn(n),h={...e,...d?{from:d==null?void 0:d.address}:{}};let f;async function p(){return f||(f=await Ot(t,eg,"getBlock")({blockTag:"latest"}),f)}let g;async function w(){return g||(s?s.id:typeof e.chainId<"u"?e.chainId:(g=await Ot(t,Xg,"getChainId")({}),g))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const y=await w();h.nonce=await c.consume({address:d.address,chainId:y,client:t})}else h.nonce=await Ot(t,AD,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const y=ID({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const b=b7({commitments:y,to:"hex"});h.blobVersionedHashes=b}if(l.includes("sidecars")){const b=TD({blobs:r,commitments:y,kzg:o}),v=x7({blobs:r,commitments:y,proofs:b,to:"hex"});h.sidecars=v}}if(l.includes("chainId")&&(h.chainId=await w()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{h.type=S7(h)}catch{let y=hT.get(t.uid);if(typeof y>"u"){const b=await p();y=typeof(b==null?void 0:b.baseFeePerGas)=="bigint",hT.set(t.uid,y)}h.type=y?"eip1559":"legacy"}if(l.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const y=await p(),{maxFeePerGas:b,maxPriorityFeePerGas:v}=await aT(t,{block:y,chain:s,request:h});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<v)throw new e7({maxPriorityFeePerGas:v});h.maxPriorityFeePerGas=v,h.maxFeePerGas=b}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new VS;if(typeof e.gasPrice>"u"){const y=await p(),{gasPrice:b}=await aT(t,{block:y,chain:s,request:h,type:"legacy"});h.gasPrice=b}}return l.includes("gas")&&typeof i>"u"&&(h.gas=await Ot(t,SD,"estimateGas")({...h,account:d&&{address:d.address,type:"json-rpc"}})),Zg(h),delete h.parameters,h}async function OD(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const jb=new Jw(128);async function em(t,e){var b,v,_,E;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,type:p,value:g,...w}=e;if(typeof n>"u")throw new du({docsPath:"/docs/actions/wallet/sendTransaction"});const y=n?Qn(n):null;try{Zg(e);const x=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await fD({authorization:i[0]}).catch(()=>{throw new re("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let S;r!==null&&(S=await Ot(t,Xg,"getChainId")({}),gD({currentChainId:S,chain:r}));const A=(_=(v=(b=t.chain)==null?void 0:b.formatters)==null?void 0:v.transactionRequest)==null?void 0:_.format,P=(A||Xw)({...HS(w,{format:A}),accessList:s,authorizationList:i,blobs:o,chainId:S,data:a,from:y==null?void 0:y.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,to:x,type:p,value:g}),k=jb.get(t.uid),B=k?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:B,params:[P]},{retryCount:0})}catch(F){if(k===!1)throw F;const H=F;if(H.name==="InvalidInputRpcError"||H.name==="InvalidParamsRpcError"||H.name==="MethodNotFoundRpcError"||H.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[P]},{retryCount:0}).then(N=>(jb.set(t.uid,!0),N)).catch(N=>{const T=N;throw T.name==="MethodNotFoundRpcError"||T.name==="MethodNotSupportedRpcError"?(jb.set(t.uid,!1),H):T});throw H}}if((y==null?void 0:y.type)==="local"){const S=await Ot(t,ev,"prepareTransactionRequest")({account:y,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,nonceManager:y.nonceManager,parameters:[...kD,"sidecars"],type:p,value:g,...w,to:x}),A=(E=r==null?void 0:r.serializers)==null?void 0:E.transaction,C=await y.signTransaction(S,{serializer:A});return await Ot(t,OD,"sendRawTransaction")({serializedTransaction:C})}throw(y==null?void 0:y.type)==="smart"?new Jy({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Jy({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(x){throw x instanceof Jy?x:wD(x,{...e,account:y,chain:e.chain||void 0})}}function A7(t,e){const{abi:n,args:r,bytecode:s,...i}=e,o=MS({abi:n,args:r,bytecode:s});return em(t,{...i,...i.authorizationList?{to:null}:{},data:o})}const O_=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],GCe=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],I7=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],T7=[...I7,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}];function N7(t,e={}){typeof e.size<"u"&&Pi(t,{size:e.size});const n=Tr(t,e);return Yo(n,e)}function P7(t,e={}){let n=t;if(typeof e.size<"u"&&(Pi(n,{size:e.size}),n=wh(n)),n.length>1||n[0]>1)throw new wF(n);return!!n[0]}function Mo(t,e={}){typeof e.size<"u"&&Pi(t,{size:e.size});const n=Tr(t,e);return Jo(n,e)}function k7(t,e={}){let n=t;return typeof e.size<"u"&&(Pi(n,{size:e.size}),n=wh(n,{dir:"right"})),new TextDecoder().decode(n)}function tv(t,e){const n=typeof e=="string"?so(e):e,r=BS(n);if(hn(n)===0&&t.length>0)throw new Kw;if(hn(e)&&hn(e)<32)throw new H$({data:typeof e=="string"?e:Tr(e),params:t,size:hn(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,l]=Id(r,a,{staticPosition:0});s+=l,i.push(c)}return i}function Id(t,e,{staticPosition:n}){const r=LS(e.type);if(r){const[s,i]=r;return R7(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return U7(t,e,{staticPosition:n});if(e.type==="address")return O7(t);if(e.type==="bool")return $7(t);if(e.type.startsWith("bytes"))return D7(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return j7(t,e);if(e.type==="string")return L7(t,{staticPosition:n});throw new UF(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const fT=32,R_=32;function O7(t){const e=t.readBytes(32);return[Jg(Tr(aD(e,-20))),32]}function R7(t,e,{length:n,staticPosition:r}){if(!n){const o=Mo(t.readBytes(R_)),a=r+o,c=a+fT;t.setPosition(a);const l=Mo(t.readBytes(fT)),u=tg(e);let d=0;const h=[];for(let f=0;f<l;++f){t.setPosition(c+(u?f*32:d));const[p,g]=Id(t,e,{staticPosition:c});d+=g,h.push(p)}return t.setPosition(r+32),[h,32]}if(tg(e)){const o=Mo(t.readBytes(R_)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=Id(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Id(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function $7(t){return[P7(t.readBytes(32),{size:32}),32]}function D7(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=Mo(t.readBytes(32));t.setPosition(n+o);const a=Mo(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Tr(c),32]}return[Tr(t.readBytes(Number.parseInt(s),32)),32]}function j7(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?N7(s,{signed:n}):Mo(s,{signed:n}),32]}function U7(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(tg(e)){const o=Mo(t.readBytes(R_)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+i);const[u,d]=Id(t,l,{staticPosition:a});i+=d,s[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=Id(t,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=l}return[s,i]}function L7(t,{staticPosition:e}){const n=Mo(t.readBytes(32)),r=e+n;t.setPosition(r);const s=Mo(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=k7(wh(i));return t.setPosition(e+32),[o,32]}function tg(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(tg);const n=LS(t.type);return!!(n&&tg({...t,type:n[1]}))}const M7=t=>vh(Hw(t));function B7(t){return M7(t)}const F7="1.0.8";let Js=class $_ extends Error{constructor(e,n={}){var o;const r=n.cause instanceof $_?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof $_&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${F7}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function ta(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const RD=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$D=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,DD=/^\(.+?\).*?$/,pT=/^tuple(?<array>(\[(\d*)\])*)$/;function D_(t){let e=t.type;if(pT.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=D_(i),s<n-1&&(e+=", ")}const r=ta(pT,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,D_({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Xh(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=D_(s),r!==n-1&&(e+=", ")}return e}function z7(t){var e;return t.type==="function"?`function ${t.name}(${Xh(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Xh(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Xh(t.inputs)})`:t.type==="error"?`error ${t.name}(${Xh(t.inputs)})`:t.type==="constructor"?`constructor(${Xh(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const jD=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function W7(t){return jD.test(t)}function q7(t){return ta(jD,t)}const UD=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function H7(t){return UD.test(t)}function V7(t){return ta(UD,t)}const LD=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function G7(t){return LD.test(t)}function K7(t){return ta(LD,t)}const MD=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function BD(t){return MD.test(t)}function Y7(t){return ta(MD,t)}const FD=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function J7(t){return FD.test(t)}function Q7(t){return ta(FD,t)}const zD=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Z7(t){return zD.test(t)}function X7(t){return ta(zD,t)}const ez=/^receive\(\) external payable$/;function tz(t){return ez.test(t)}const nz=new Set(["indexed"]),j_=new Set(["calldata","memory","storage"]);class rz extends Js{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class sz extends Js{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class iz extends Js{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class oz extends Js{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class az extends Js{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class cz extends Js{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class lz extends Js{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Eh extends Js{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class uz extends Js{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class dz extends Js{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class hz extends Js{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class fz extends Js{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function pz(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const Ub=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function gz(t,e={}){if(G7(t))return mz(t,e);if(H7(t))return yz(t,e);if(W7(t))return wz(t,e);if(J7(t))return vz(t,e);if(Z7(t))return bz(t);if(tz(t))return{type:"receive",stateMutability:"payable"};throw new uz({signature:t})}function mz(t,e={}){const n=K7(t);if(!n)throw new Eh({signature:t,type:"function"});const r=wi(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Gl(r[a],{modifiers:j_,structs:e,type:"function"}));const o=[];if(n.returns){const a=wi(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(Gl(a[l],{modifiers:j_,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function yz(t,e={}){const n=V7(t);if(!n)throw new Eh({signature:t,type:"event"});const r=wi(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Gl(r[o],{modifiers:nz,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function wz(t,e={}){const n=q7(t);if(!n)throw new Eh({signature:t,type:"error"});const r=wi(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Gl(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function vz(t,e={}){const n=Q7(t);if(!n)throw new Eh({signature:t,type:"constructor"});const r=wi(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Gl(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function bz(t){const e=X7(t);if(!e)throw new Eh({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const Ez=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,_z=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Cz=/^u?int$/;function Gl(t,e){var d,h;const n=pz(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(Ub.has(n))return Ub.get(n);const r=DD.test(t),s=ta(r?_z:Ez,t);if(!s)throw new iz({param:t});if(s.name&&Sz(s.name))throw new oz({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const f=wi(s.type),p=[],g=f.length;for(let w=0;w<g;w++)p.push(Gl(f[w],{structs:a}));l={components:p}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(Cz.test(s.type))c=`${s.type}256`;else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!WD(c))throw new sz({type:c});if(s.modifier){if(!((h=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&h.call(d,s.modifier)))throw new az({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(j_.has(s.modifier)&&!Az(c,!!s.array))throw new cz({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return Ub.set(n,u),u}function wi(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?wi(a,[...e,n.trim()]):wi(a,e,`${n}${o}`,r);case"(":return wi(a,e,`${n}${o}`,r+1);case")":return wi(a,e,`${n}${o}`,r-1);default:return wi(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new fz({current:n,depth:r});return e.push(n.trim()),e}function WD(t){return t==="address"||t==="bool"||t==="function"||t==="string"||RD.test(t)||$D.test(t)}const xz=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Sz(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||RD.test(t)||$D.test(t)||xz.test(t)}function Az(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Iz(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!BD(a))continue;const c=Y7(a);if(!c)throw new Eh({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const p=l[h].trim();if(!p)continue;const g=Gl(p,{type:"struct"});u.push(g)}if(!u.length)throw new dz({signature:a});e[c.name]=u}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=qD(c,e)}return r}const Tz=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function qD(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(DD.test(o.type))r.push(o);else{const c=ta(Tz,o.type);if(!(c!=null&&c.type))throw new lz({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new hz({type:u});r.push({...o,type:`tuple${l??""}`,components:qD(e[u]??[],e,new Set([...n,u]))})}else if(WD(u))r.push(o);else throw new rz({type:u})}}return r}function HD(t){const e=Iz(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];BD(i)||n.push(gz(i,e))}return n}function Nz(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new re("Unable to normalize signature.");return s}const Pz=t=>{const e=typeof t=="string"?t:z7(t);return Nz(e)};function VD(t){return B7(Pz(t))}const KS=VD,YS=t=>W0(VD(t),0,4);function JS(t){const{abi:e,args:n=[],name:r}=t,s=Ko(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?YS(a)===r:a.type==="event"?KS(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?U_(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=GD(a.inputs,o.inputs,n);if(l)throw new $F({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function U_(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Ti(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>U_(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>U_(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function GD(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return GD(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Ti(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Ti(n[r],{strict:!1}):!1)return o}}const Lb="/docs/contract/decodeFunctionResult";function QS(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=JS({abi:e,args:n,name:r});if(!a)throw new B0(r,{docsPath:Lb});i=a}if(i.type!=="function")throw new B0(void 0,{docsPath:Lb});if(!i.outputs)throw new RF(i.name,{docsPath:Lb});const o=tv(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const gT="/docs/contract/encodeFunctionData";function kz(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=JS({abi:e,args:n,name:r});if(!i)throw new B0(r,{docsPath:gT});s=i}if(s.type!=="function")throw new B0(void 0,{docsPath:gT});return{abi:[s],functionName:YS(Pc(s))}}function tm(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:kz(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?lD(s.inputs,e??[]):void 0;return Yw([i,o??"0x"])}function ZS({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new C_({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new C_({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const KD={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Oz={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Rz={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function $z(t){const{abi:e,data:n}=t,r=W0(n,0,4);if(r==="0x")throw new Kw;const i=[...e||[],Oz,Rz].find(o=>o.type==="error"&&r===YS(Pc(o)));if(!i)throw new V$(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?tv(i.inputs,W0(n,4)):void 0,errorName:i.name}}function YD({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?Sr(e[i]):e[i]}`).join(", ")})`}class Dz extends re{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:f}){var w;const p=n?Qn(n):void 0;let g=Qg({from:p==null?void 0:p.address,to:d,value:typeof h<"u"&&`${FS(h)} ${((w=s==null?void 0:s.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${rs(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${rs(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${rs(l)} gwei`,nonce:u});f&&(g+=`
${c7(f)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class JD extends re{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=JS({abi:n,args:r,name:o}),l=c?YD({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Pc(c,{includeName:!0}):void 0,d=Qg({address:s&&G9(s),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class L_ extends re{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=$z({abi:e,data:n});const{abiItem:u,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=KD[f]}else{const f=u?Pc(u,{includeName:!0}):void 0,p=u&&h?YD({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){i=u}else s&&(c=s);let l;i instanceof V$&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class jz extends re{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Uz extends re{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class XS extends re{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function Lz(t,e){var r,s,i,o,a,c;if(!(t instanceof re))return!1;const n=t.walk(l=>l instanceof L_);return n instanceof L_?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((i=n.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||n.reason===KD[50]):!1}function Mz(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Ko(e)?e:null}function Bz(t){return`[${t.slice(2)}]`}function Fz(t){const e=new Uint8Array(32).fill(0);return t?Mz(t)||vh(Ad(t)):Tr(e)}function zz(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Ad(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let o=Ad(s[i]);o.byteLength>255&&(o=Ad(Bz(Fz(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const Wz=3;function V0(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof XS?t:t instanceof re?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:h}=a,f=t instanceof Kw?new jz({functionName:i}):[Wz,Vl.code].includes(c)&&(l||u||d||h)?new L_({abi:e,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof WS?u:h??d}):t;return new JD(f,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}const qz="0.1.1";function Hz(){return qz}let QD=class M_ extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof M_){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof M_&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Hz()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return ZD(this,e)}};function ZD(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?ZD(t.cause,e):e?null:t}function Vz(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new Yz({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function No(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new Kz({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Gz(c,r):c}function Gz(t,e){return Vz(t,{dir:"left",size:e})}let Kz=class extends QD{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},Yz=class extends QD{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Jz(t){return{address:t.address,amount:No(t.amount),index:No(t.index),validatorIndex:No(t.validatorIndex)}}function Qz(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:No(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:No(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:No(t.gasLimit)},...typeof t.number=="bigint"&&{number:No(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:No(t.prevRandao)},...typeof t.time=="bigint"&&{time:No(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Jz)}}}const Zz="0x82ad56cb",Xz="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",eW="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function tW(t,{docsPath:e,...n}){const r=(()=>{const s=qS(t,n);return s instanceof Zw?t:s})();return new Dz(r,{docsPath:e,...n})}function eA(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const Mb=new Map;function XD({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{s&&Array.isArray(h)&&h.sort(s);for(let f=0;f<u.length;f++){const{resolve:p}=u[f];p==null||p([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:p}=u[f];p==null||p(h)}})},o=()=>Mb.delete(e),a=()=>c().map(({args:u})=>u),c=()=>Mb.get(e)||[],l=u=>Mb.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:h,reject:f}=eA();return(n==null?void 0:n([...a(),u]))&&i(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(i,r),d)}}}async function e5(t,e){var F,H,N,T;const{account:n=t.account,authorizationList:r,batch:s=!!((F=t.batch)!=null&&F.multicall),blockNumber:i,blockTag:o="latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:h,factoryData:f,gas:p,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:_,value:E,stateOverride:x,...S}=e,A=n?Qn(n):void 0;if(u&&(h||f))throw new re("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&_)throw new re("Cannot provide both `code` & `to` as parameters.");const C=u&&d,P=h&&f&&_&&d,k=C||P,B=C?sW({code:u,data:d}):P?iW({data:d,factory:h,factoryData:f,to:_}):d;try{Zg(e);const D=(typeof i=="bigint"?ze(i):void 0)||o,$=l?Qz(l):void 0,U=CD(x),W=(T=(N=(H=t.chain)==null?void 0:H.formatters)==null?void 0:N.transactionRequest)==null?void 0:T.format,te=(W||Xw)({...HS(S,{format:W}),from:A==null?void 0:A.address,accessList:a,authorizationList:r,blobs:c,data:B,gas:p,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:k?void 0:_,value:E});if(s&&nW({request:te})&&!U&&!$)try{return await rW(t,{...te,blockNumber:i,blockTag:o})}catch(me){if(!(me instanceof pD)&&!(me instanceof C_))throw me}const ee=(()=>{const me=[te,D];return U&&$?[...me,U,$]:U?[...me,U]:$?[...me,{},$]:me})(),ne=await t.request({method:"eth_call",params:ee});return ne==="0x"?{data:void 0}:{data:ne}}catch(L){const D=oW(L),{offchainLookup:$,offchainLookupSignature:U}=await ln(async()=>{const{offchainLookup:W,offchainLookupSignature:Y}=await import("./ccip-BJn6HnWQ.js");return{offchainLookup:W,offchainLookupSignature:Y}},[]);if(t.ccipRead!==!1&&(D==null?void 0:D.slice(0,10))===U&&_)return{data:await $(t,{data:D,to:_})};throw k&&(D==null?void 0:D.slice(0,10))==="0x101bb98d"?new Uz({factory:h}):tW(L,{...e,account:A,chain:t.chain})}}function nW({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(Zz)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function rW(t,e){var g;const{batchSize:n=1024,wait:r=0}=typeof((g=t.batch)==null?void 0:g.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:a,to:c}=e;let l=a;if(!l){if(!t.chain)throw new pD;l=ZS({blockNumber:s,chain:t.chain,contract:"multicall3"})}const d=(typeof s=="bigint"?ze(s):void 0)||i,{schedule:h}=XD({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(w){return w.reduce((b,{data:v})=>b+(v.length-2),0)>n*2},fn:async w=>{const y=w.map(_=>({allowFailure:!0,callData:_.data,target:_.to})),b=tm({abi:O_,args:[y],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{data:b,to:l},d]});return QS({abi:O_,args:[y],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:f,success:p}]=await h({data:o,to:c});if(!p)throw new XS({data:f});return f==="0x"?{data:void 0}:{data:f}}function sW(t){const{code:e,data:n}=t;return MS({abi:HD(["constructor(bytes, bytes)"]),bytecode:Xz,args:[e,n]})}function iW(t){const{data:e,factory:n,factoryData:r,to:s}=t;return MS({abi:HD(["constructor(address, bytes, address, bytes)"]),bytecode:eW,args:[s,e,n,r]})}function oW(t){var n;if(!(t instanceof re))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function tA(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=tm({abi:n,args:s,functionName:i});try{const{data:c}=await Ot(t,e5,"call")({...o,data:a,to:r});return QS({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw V0(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function aW(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=ZS({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:T7,functionName:"reverse",args:[ql(zz(c))],blockNumber:n,blockTag:r},u=Ot(t,tA,"readContract"),[d,h]=s?await u({...l,args:[...l.args,s]}):await u(l);return e.toLowerCase()!==h.toLowerCase()?null:d}catch(l){if(i)throw l;if(Lz(l))return null;throw l}}function cW(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(n[o]=c.request)})),i=>n[i]||t.request}async function lW(t){const e=cW(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const uW=new Map,dW=new Map;function hW(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,uW),r=e(t,dW);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function fW(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=hW(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const pW=t=>`blockNumber.${t}`;async function gW(t,{cacheTime:e=t.cacheTime}={}){const n=await fW(()=>t.request({method:"eth_blockNumber"}),{cacheKey:pW(t.uid),cacheTime:e});return BigInt(n)}function t5(t,e){if(!Ti(t,{strict:!1}))throw new Oc({address:t});if(!Ti(e,{strict:!1}))throw new Oc({address:e});return t.toLowerCase()===e.toLowerCase()}const mT="/docs/contract/decodeEventLog";function mW(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new OF({docsPath:mT});const c=e.find(g=>g.type==="event"&&o===KS(Pc(g)));if(!(c&&"name"in c)||c.type!=="event")throw new G$(o,{docsPath:mT});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(g=>!("name"in g&&g.name)),h=d?[]:{},f=u.map((g,w)=>[g,w]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<f.length;g++){const[w,y]=f[g],b=a[g];if(!b)throw new K$({abiItem:c,param:w});h[d?y:w.name||y]=yW({param:w,value:b})}const p=u.filter(g=>!("indexed"in g&&g.indexed));if(p.length>0){if(n&&n!=="0x")try{const g=tv(p,n);if(g)if(d)for(let w=0;w<u.length;w++)h[w]=h[w]??g.shift();else for(let w=0;w<p.length;w++)h[p[w].name]=g[w]}catch(g){if(i)throw g instanceof H$||g instanceof uD?new E_({abiItem:c,data:n,params:p,size:hn(n)}):g}else if(i)throw new E_({abiItem:c,data:"0x",params:p,size:0})}return{eventName:l,args:Object.values(h).length>0?h:void 0}}function yW({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(tv([t],e)||[])[0]}function wW(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(u=>u.type==="event"&&o.topics[0]===KS(u));if(!c)return null;const l=mW({...o,abi:[c],strict:s});return i&&!i.includes(l.eventName)||!vW({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,u;if(c instanceof G$)return null;if(c instanceof E_||c instanceof K$){if(s)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function vW(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?t5(o,a):i.type==="string"||i.type==="bytes"?vh(Hw(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,e[i])):!1}):!1}function n5(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function bW(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>n5(i));return!("abi"in e)||!e.abi?s:wW({abi:e.abi,logs:s,strict:n})}async function r5(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var u,d,h;const o=r||"latest",a=n!==void 0?ze(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,ze(i)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,ze(i)]},{dedupe:!!a}),!c)throw new mD({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:h.format)||ED)(c)}const s5={"0x0":"reverted","0x1":"success"};function EW(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>n5(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Jo(t.transactionIndex):null,status:t.status?s5[t.status]:null,type:t.type?bD[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function yT(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new yD({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||EW)(n)}async function _W(t,e){var y;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:i,blockTag:o,multicallAddress:a,stateOverride:c}=e,l=e.contracts,u=s??(typeof((y=t.batch)==null?void 0:y.multicall)=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=ZS({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=[[]];let f=0,p=0;for(let b=0;b<l.length;b++){const{abi:v,address:_,args:E,functionName:x}=l[b];try{const S=tm({abi:v,args:E,functionName:x});p+=(S.length-2)/2,u>0&&p>u&&h[f].length>0&&(f++,p=(S.length-2)/2,h[f]=[]),h[f]=[...h[f],{allowFailure:!0,callData:S,target:_}]}catch(S){const A=V0(S,{abi:v,address:_,args:E,docsPath:"/docs/contract/multicall",functionName:x,sender:n});if(!r)throw A;h[f]=[...h[f],{allowFailure:!0,callData:"0x",target:_}]}}const g=await Promise.allSettled(h.map(b=>Ot(t,tA,"readContract")({abi:O_,account:n,address:d,args:[b],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:c}))),w=[];for(let b=0;b<g.length;b++){const v=g[b];if(v.status==="rejected"){if(!r)throw v.reason;for(let E=0;E<h[b].length;E++)w.push({status:"failure",error:v.reason,result:void 0});continue}const _=v.value;for(let E=0;E<_.length;E++){const{returnData:x,success:S}=_[E],{callData:A}=h[b][E],{abi:C,address:P,functionName:k,args:B}=l[w.length];try{if(A==="0x")throw new Kw;if(!S)throw new XS({data:x});const F=QS({abi:C,args:B,data:x,functionName:k});w.push(r?{result:F,status:"success"}:F)}catch(F){const H=V0(F,{abi:C,address:P,args:B,docsPath:"/docs/contract/multicall",functionName:k});if(!r)throw H;w.push({error:H,result:void 0,status:"failure"})}}}if(w.length!==l.length)throw new re("multicall results mismatch");return w}const qm=new Jw(8192);function CW(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(qm.get(n))return qm.get(n);const r=t().finally(()=>qm.delete(n));return qm.set(n,r),r}async function G0(t){return new Promise(e=>setTimeout(e,t))}function K0(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await G0(u),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}function xW(t,e={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(l))throw new gl(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new gl(new Error("method not supported"),{method:l});const u=s?Vw(`${c}.${Sr(n)}`):void 0;return CW(()=>K0(async()=>{try{return await t(n)}catch(h){const f=h;switch(f.code){case Lp.code:throw new Lp(f);case Mp.code:throw new Mp(f);case Bp.code:throw new Bp(f,{method:n.method});case Fp.code:throw new Fp(f);case Vl.code:throw new Vl(f);case zp.code:throw new zp(f);case Wp.code:throw new Wp(f);case vc.code:throw new vc(f);case Xd.code:throw new Xd(f);case gl.code:throw new gl(f,{method:n.method});case eh.code:throw new eh(f);case qp.code:throw new qp(f);case _n.code:throw new _n(f);case Hp.code:throw new Hp(f);case Vp.code:throw new Vp(f);case Gp.code:throw new Gp(f);case Kp.code:throw new Kp(f);case io.code:throw new io(f);case th.code:throw new th(f);case Yp.code:throw new Yp(f);case Jp.code:throw new Jp(f);case Qp.code:throw new Qp(f);case Zp.code:throw new Zp(f);case Xp.code:throw new Xp(f);case nh.code:throw new nh(f);case 5e3:throw new _n(f);default:throw h instanceof re?h:new Y9(f)}}},{delay:({count:h,error:f})=>{var p;if(f&&f instanceof Qf){const g=(p=f==null?void 0:f.headers)==null?void 0:p.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>SW(h)}),{enabled:s,id:u})}}function SW(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===eh.code||t.code===Vl.code:t instanceof Qf&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function AW(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function i5(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(e)},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function IW(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const wT=IW();function TW(t,e={}){return{async request(n){var d;const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const h=await i5(async({signal:p})=>{const g={...a,body:Array.isArray(r)?Sr(r.map(v=>({jsonrpc:"2.0",id:v.id??wT.take(),...v}))):Sr({jsonrpc:"2.0",id:r.id??wT.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?p:null)},w=new Request(t,g),y=await(s==null?void 0:s(w,g))??{...g,url:t};return await fetch(y.url??t,y)},{errorInstance:new oT({body:r,url:t}),timeout:o,signal:!0});i&&await i(h);let f;if((d=h.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))f=await h.json();else{f=await h.text();try{f=JSON.parse(f||"{}")}catch(p){if(h.ok)throw p;f={error:f}}}if(!h.ok)throw new Qf({body:r,details:Sr(f.error)||h.statusText,headers:h.headers,status:h.status,url:t});return f}catch(h){throw h instanceof Qf||h instanceof oT?h:new Qf({body:r,cause:h,url:t})}}}}class NW extends re{constructor({domain:e}){super(`Invalid domain "${Sr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class PW extends re{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class kW extends re{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function OW(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(c,l)=>{const u={...l};for(const d of c){const{name:h,type:f}=d;f==="address"&&(u[h]=u[h].toLowerCase())}return u},o=s.EIP712Domain?e?i(s.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return Sr({domain:o,message:a,primaryType:r,types:s})}function RW(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(o,a)=>{for(const c of o){const{name:l,type:u}=c,d=a[l],h=u.match(cD);if(h&&(typeof d=="number"||typeof d=="bigint")){const[g,w,y]=h;ze(d,{signed:w==="int",size:Number.parseInt(y)/8})}if(u==="address"&&typeof d=="string"&&!Ti(d))throw new Oc({address:d});const f=u.match(w9);if(f){const[g,w]=f;if(w&&hn(d)!==Number.parseInt(w))throw new DF({expectedSize:Number.parseInt(w),givenSize:hn(d)})}const p=s[u];p&&(DW(u),i(p,d))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new NW({domain:e});i(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new PW({primaryType:r,types:s})}function $W({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function DW(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new kW({type:t})}class jW extends re{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function UW(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new jW({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}const Bb=new Map,vT=new Map;let LW=0;function ng(t,e,n){const r=++LW,s=()=>Bb.get(t)||[],i=()=>{const u=s();Bb.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=s();if(!u.some(h=>h.id===r))return;const d=vT.get(t);if(u.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}i()},a=s();if(Bb.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...d)=>{var f,p;const h=s();if(h.length!==0)for(const g of h)(p=(f=g.fns)[u])==null||p.call(f,...d)};const l=n(c);return typeof l=="function"&&vT.set(t,l),o}function nA(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await G0(c);const l=async()=>{s&&(await t({unpoll:i}),await G0(r),l())};l()})(),i}function MW(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=Sr(["watchBlockNumber",t.uid,e,n,o]);return ng(d,{onBlockNumber:r,onError:s},h=>nA(async()=>{var f;try{const p=await Ot(t,gW,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let g=c+1n;g<p;g++)h.onBlockNumber(g,c),c=g}(!c||p>c)&&(h.onBlockNumber(p,c),c=p)}catch(p){(f=h.onError)==null||f.call(h,p)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=Sr(["watchBlockNumber",t.uid,e,n]);return ng(d,{onBlockNumber:r,onError:s},h=>{let f=!0,p=()=>f=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const y=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return y?y.value:t.transport}return t.transport})(),{unsubscribe:w}=await g.subscribe({params:["newHeads"],onData(y){var v;if(!f)return;const b=Yo((v=y.result)==null?void 0:v.number);h.onBlockNumber(b,c),c=b},onError(y){var b;(b=h.onError)==null||b.call(h,y)}});p=w,f||p()}catch(g){s==null||s(g)}})(),()=>p()})})()}async function BW(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function FW(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=Sr(["watchPendingTransactions",t.uid,e,i]);return ng(l,{onTransactions:r,onError:n},u=>{let d;const h=nA(async()=>{var f;try{if(!d)try{d=await Ot(t,lW,"createPendingTransactionFilter")({});return}catch(g){throw h(),g}const p=await Ot(t,bW,"getFilterChanges")({filter:d});if(p.length===0)return;if(e)u.onTransactions(p);else for(const g of p)u.onTransactions([g])}catch(p){(f=u.onError)==null||f.call(u,p)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await Ot(t,BW,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const f=h.result;r([f])},onError(h){n==null||n(h)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}async function zW(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Jg(r))}async function WW(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function qW(t,e={}){const{account:n=t.account,chainId:r}=e,s=n?Qn(n):void 0,i=r?[s==null?void 0:s.address,[ze(r)]]:[s==null?void 0:s.address],o=await t.request({method:"wallet_getCapabilities",params:i}),a={};for(const[c,l]of Object.entries(o)){a[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=d}return typeof r=="number"?a[r]:a}const o5="0x5792579257925792579257925792579257925792579257925792579257925792",a5=ze(0,{size:32});async function HW(t,e){const{account:n=t.account,capabilities:r,chain:s=t.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=e,u=n?Qn(n):null,d=e.calls.map(h=>{const f=h,p=f.abi?tm({abi:f.abi,functionName:f.functionName,args:f.args}):f.data;return{data:f.dataSuffix&&p?kc([p,f.dataSuffix]):p,to:f.to,value:f.value?ze(f.value):void 0}});try{const h=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:ze(s.id),from:u==null?void 0:u.address,id:c,version:l}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const f=h;if(i&&(f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError"||f.name==="UnknownRpcError"||f.details.toLowerCase().includes("does not exist / is not available")||f.details.toLowerCase().includes("missing or invalid. request()")||f.details.toLowerCase().includes("did not match any variant of untagged enum")||f.details.toLowerCase().includes("account upgraded to unsupported contract")||f.details.toLowerCase().includes("eip-7702 not supported")||f.details.toLowerCase().includes("unsupported wc_ method"))){if(r&&Object.values(r).some(b=>!b.optional)){const b="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new th(new re(b,{details:b}))}if(a&&d.length>1){const y="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new nh(new re(y,{details:y}))}const p=[];for(const y of d){const b=em(t,{account:u,chain:s,data:y.data,to:y.to,value:y.value?Yo(y.value):void 0});p.push(b),o>0&&await new Promise(v=>setTimeout(v,o))}const g=await Promise.allSettled(p);if(g.every(y=>y.status==="rejected"))throw g[0].reason;const w=g.map(y=>y.status==="fulfilled"?y.value:a5);return{id:kc([...w,ze(s.id,{size:32}),o5])}}throw wD(h,{...e,account:u,chain:e.chain})}}async function c5(t,e){async function n(u){if(u.endsWith(o5.slice(2))){const h=wh(__(u,-64,-32)),f=__(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(f.map(w=>a5.slice(2)!==w?t.request({method:"eth_getTransactionReceipt",params:[`0x${w}`]},{dedupe:!0}):void 0)),g=p.some(w=>w===null)?100:p.every(w=>(w==null?void 0:w.status)==="0x1")?200:p.every(w=>(w==null?void 0:w.status)==="0x0")?500:600;return{atomic:!1,chainId:Jo(h),receipts:p.filter(Boolean),status:g,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(e.id),[c,l]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:s?Jo(s):void 0,receipts:(i==null?void 0:i.map(u=>({...u,blockNumber:Yo(u.blockNumber),gasUsed:Yo(u.gasUsed),status:s5[u.status]})))??[],statusCode:l,status:c,version:o}}async function VW(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function GW(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:h})=>h>=200,timeout:i=6e4}=e,o=Sr(["waitForCallsStatus",t.uid,n]),{promise:a,resolve:c,reject:l}=eA();let u;const d=ng(o,{resolve:c,reject:l},h=>{const f=nA(async()=>{const p=g=>{clearTimeout(u),f(),g(),d()};try{const g=await c5(t,{id:n});if(!s(g))return;p(()=>h.resolve(g))}catch(g){p(()=>h.reject(g))}},{interval:r,emitOnBegin:!0});return f});return u=i?setTimeout(()=>{d(),clearTimeout(u),l(new KW({id:n}))},i):void 0,await a}class KW extends re{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function YW(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=Sr(["waitForTransactionReceipt",t.uid,n]);let l,u,d,h=!1,f,p;const{promise:g,resolve:w,reject:y}=eA(),b=a?setTimeout(()=>{p(),f(),y(new V9({hash:n}))},a):void 0;return f=ng(c,{onReplaced:r,resolve:w,reject:y},v=>{p=Ot(t,MW,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(_){const E=S=>{clearTimeout(b),p(),S(),f()};let x=_;if(!h)try{if(d){if(e>1&&(!d.blockNumber||x-d.blockNumber+1n<e))return;E(()=>v.resolve(d));return}if(l||(h=!0,await K0(async()=>{l=await Ot(t,r5,"getTransaction")({hash:n}),l.blockNumber&&(x=l.blockNumber)},{delay:o,retryCount:i}),h=!1),d=await Ot(t,yT,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||x-d.blockNumber+1n<e))return;E(()=>v.resolve(d))}catch(S){if(S instanceof mD||S instanceof yD){if(!l){h=!1;return}try{u=l,h=!0;const A=await K0(()=>Ot(t,eg,"getBlock")({blockNumber:x,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:k})=>k instanceof vD});h=!1;const C=A.transactions.find(({from:k,nonce:B})=>k===u.from&&B===u.nonce);if(!C||(d=await Ot(t,yT,"getTransactionReceipt")({hash:C.hash}),e>1&&(!d.blockNumber||x-d.blockNumber+1n<e)))return;let P="replaced";C.to===u.to&&C.value===u.value&&C.input===u.input?P="repriced":C.from===C.to&&C.value===0n&&(P="cancelled"),E(()=>{var k;(k=v.onReplaced)==null||k.call(v,{reason:P,replacedTransaction:u,transaction:C,transactionReceipt:d}),v.resolve(d)})}catch(A){E(()=>v.reject(A))}}else E(()=>v.reject(S))}}})}),g}async function JW(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>sc(n))}async function QW(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function l5(t,e){var c;const{account:n=t.account,chainId:r,nonce:s}=e;if(!n)throw new du({docsPath:"/docs/eip7702/prepareAuthorization"});const i=Qn(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Qn(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await Ot(t,Xg,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await Ot(t,AD,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&t5(o.address,i.address))&&(a.nonce+=1)),a}async function ZW(t,e){const{account:n=t.account}=e;if(!n)throw new du({docsPath:"/docs/eip7702/signAuthorization"});const r=Qn(n);if(!r.signAuthorization)throw new Jy({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await l5(t,e);return r.signAuthorization(s)}async function XW(t,e){var l,u,d,h;const{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new du({docsPath:"/docs/actions/wallet/signTransaction"});const i=Qn(n);Zg({account:i,...e});const o=await Ot(t,Xg,"getChainId")({});r!==null&&gD({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=t.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||Xw;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:(h=(d=t.chain)==null?void 0:d.serializers)==null?void 0:h.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(s),chainId:ze(o),from:i.address}]},{retryCount:0})}async function u5(t,{account:e=t.account,message:n}){if(!e)throw new du({docsPath:"/docs/actions/wallet/signMessage"});const r=Qn(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Vw(n):n.raw instanceof Uint8Array?ql(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function eq(t,e){const{account:n=t.account,domain:r,message:s,primaryType:i}=e;if(!n)throw new du({docsPath:"/docs/actions/wallet/signTypedData"});const o=Qn(n),a={EIP712Domain:$W({domain:r}),...e.types};if(RW({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=OW({domain:r,message:s,primaryType:i,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function tq(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:ze(e)}]},{retryCount:0})}async function nq(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function d5(t,e){const{abi:n,account:r=t.account,address:s,args:i,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new du({docsPath:"/docs/contract/writeContract"});const l=r?Qn(r):null,u=tm({abi:n,args:i,functionName:a});try{return await Ot(t,em,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:s,account:l,...c})}catch(d){throw V0(d,{abi:n,address:s,args:i,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}function Es(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const Qy="2.17.3",rq=()=>`@wagmi/core@${Qy}`;var h5=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Y0,f5;let na=class B_ extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return rq()}constructor(e,n={}){var i;super(),Y0.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof B_?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof B_&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return h5(this,Y0,"m",f5).call(this,this,e)}};Y0=new WeakSet,f5=function t(e,n){return n!=null&&n(e)?e:e.cause?h5(this,Y0,"m",t).call(this,e.cause,n):e};class rg extends na{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class sq extends na{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class iq extends na{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class oq extends na{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class aq extends na{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class cq extends na{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Zy(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new sq;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await n.connect(i),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(s){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}const F_=256;let Hm=F_,Vm;function p5(t=11){if(!Vm||Hm+t>F_*2){Vm="",Hm=0;for(let e=0;e<F_;e++)Vm+=(256+Math.random()*256|0).toString(16).substring(1)}return Vm.substring(Hm,Hm+++t)}function g5(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,a=(n==null?void 0:n.blockTime)??12e3,c=Math.min(Math.max(Math.floor(a/2),500),4e3),l=t.pollingInterval??c,u=t.cacheTime??l,d=t.account?Qn(t.account):void 0,{config:h,request:f,value:p}=t.transport({chain:n,pollingInterval:l}),g={...h,...p},w={account:d,batch:e,cacheTime:u,ccipRead:r,chain:n,key:s,name:i,pollingInterval:l,request:f,transport:g,type:o,uid:p5()};function y(b){return v=>{const _=v(b);for(const x in w)delete _[x];const E={...b,..._};return Object.assign(E,{extend:y(E)})}}return Object.assign(w,{extend:y(w)})}function rA({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=p5();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:xW(r,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}function lq(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>rA({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}function bT(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=uq,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let h=t,f=()=>{};const p=rA({key:n,name:r,async request({method:g,params:w}){let y;const b=async(v=0)=>{const _=h[v]({...d,chain:c,retryCount:0,timeout:u});try{const E=await _.request({method:g,params:w});return f({method:g,params:w,response:E,transport:_,status:"success"}),E}catch(E){if(f({error:E,method:g,params:w,transport:_,status:"error"}),i(E)||v===h.length-1||(y??(y=h.slice(v+1).some(x=>{const{include:S,exclude:A}=x({chain:c}).config.methods||{};return S?S.includes(g):A?!A.includes(g):!0})),!y))throw E;return b(v+1)}};return b()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>f=g,transports:h.map(g=>g({chain:c,retryCount:0}))});if(s){const g=typeof s=="object"?s:{};dq({chain:c,interval:g.interval??l,onTransports:w=>h=w,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:h,weights:g.weights})}return p}}function uq(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Xd.code||t.code===_n.code||pl.nodeMessage.test(t.message)||t.code===5e3))}function dq({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const h=await Promise.all(o.map(async g=>{const w=g({chain:t,retryCount:0,timeout:i}),y=Date.now();let b,v;try{await(r?r({transport:w}):w.request({method:"net_listening"})),v=1}catch{v=0}finally{b=Date.now()}return{latency:b-y,success:v}}));u.push(h),u.length>s&&u.shift();const f=Math.max(...u.map(g=>Math.max(...g.map(({latency:w})=>w)))),p=o.map((g,w)=>{const y=u.map(x=>x[w].latency),v=1-y.reduce((x,S)=>x+S,0)/y.length/f,_=u.map(x=>x[w].success),E=_.reduce((x,S)=>x+S,0)/_.length;return E===0?[0,w]:[l*v+c*E,w]}).sort((g,w)=>w[0]-g[0]);n(p.map(([,g])=>o[g])),await G0(e),d()};d()}class hq extends re{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Gm(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:h,timeout:f})=>{const{batchSize:p=1e3,wait:g=0}=typeof n=="object"?n:{},w=e.retryCount??h,y=f??e.timeout??1e4,b=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!b)throw new hq;const v=TW(b,{fetchOptions:r,onRequest:a,onResponse:c,timeout:y});return rA({key:s,methods:i,name:o,async request({method:_,params:E}){const x={method:_,params:E},{schedule:S}=XD({id:b,wait:g,shouldSplitBatch(k){return k.length>p},fn:k=>v.request({body:k}),sort:(k,B)=>k.id-B.id}),A=async k=>n?S(k):[await v.request({body:k})],[{error:C,result:P}]=await A(x);if(u)return{error:C,result:P};if(C)throw new WS({body:x,error:C,url:b});return P},retryCount:w,retryDelay:l,timeout:y,type:"http"},{fetchOptions:r,url:b})}}function fq(t){return{addChain:e=>AF(t,e),deployContract:e=>A7(t,e),getAddresses:()=>zW(t),getCallsStatus:e=>c5(t,e),getCapabilities:e=>qW(t,e),getChainId:()=>Xg(t),getPermissions:()=>WW(t),prepareAuthorization:e=>l5(t,e),prepareTransactionRequest:e=>ev(t,e),requestAddresses:()=>JW(t),requestPermissions:e=>QW(t,e),sendCalls:e=>HW(t,e),sendRawTransaction:e=>OD(t,e),sendTransaction:e=>em(t,e),showCallsStatus:e=>VW(t,e),signAuthorization:e=>ZW(t,e),signMessage:e=>u5(t,e),signTransaction:e=>XW(t,e),signTypedData:e=>eq(t,e),switchChain:e=>tq(t,e),waitForCallsStatus:e=>GW(t,e),watchAsset:e=>nq(t,e),writeContract:e=>d5(t,e)}}async function nm(t,e={}){let n;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new cq({connector:l});const[u,d]=await Promise.all([l.getAccounts().catch(h=>{if(e.account===null)return[];throw h}),l.getChainId()]);n={accounts:u,chainId:d,connector:l}}else n=t.state.connections.get(t.state.current);if(!n)throw new iq;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new aq({connectionChainId:n.chainId,connectorChainId:s});const i=n.connector;if(i.getClient)return i.getClient({chainId:r});const o=Qn(e.account??n.accounts[0]);if(o&&(o.address=sc(o.address)),e.account&&!n.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new oq({address:o.address,connector:i});const a=t.chains.find(l=>l.id===r),c=await n.connector.getProvider({chainId:r});return g5({account:o,chain:a,name:"Connector Client",transport:l=>lq(c)({...l,retryCount:0})})}async function m5(t,e={}){var s,i;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(s=t.state.connections.get(o))==null?void 0:s.connector;if(!a)return;await((i=t.storage)==null?void 0:i.setItem("recentConnectorId",a.id))}}async function pq(t,e){const{chainId:n,connector:r,...s}=e;let i;e.account?i=e.account:i=(await nm(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return Es(o,SD,"estimateGas")({...s,account:i})}function y5(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(z9[t])}function Td(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function gq(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=e,o=t.getClient({chainId:r});return Es(o,_W,"multicall")({allowFailure:n,contracts:s,...i})}function mq(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return Es(s,tA,"readContract")(r)}async function yq(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=e,o=e.contracts;try{const c={};for(const[h,f]of o.entries()){const p=f.chainId??t.state.chainId;c[p]||(c[p]=[]),(a=c[p])==null||a.push({contract:f,index:h})}const l=()=>Object.entries(c).map(([h,f])=>gq(t,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(h),contracts:f.map(({contract:p})=>p)})),u=(await Promise.all(l())).flat(),d=Object.values(c).flatMap(h=>h.map(({index:f})=>f));return u.reduce((h,f,p)=>(h&&(h[d[p]]=f),h),[])}catch(c){if(c instanceof JD)throw c;const l=()=>o.map(u=>mq(t,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(l())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function wq(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=e;if(o)try{return await ET(t,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(h){if(h.name==="ContractFunctionExecutionError"){const f=await ET(t,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),p=W$(wh(f.symbol,{dir:"right"}));return{...f,symbol:p}}throw h}const c=t.getClient({chainId:i}),u=await Es(c,xD,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=t.chains.find(h=>h.id===i)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:bh(u,y5(a)),symbol:d.nativeCurrency.symbol,value:u}}async function ET(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,l,u]=await yq(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=bh(c??"0",y5(o??l));return{decimals:l,formatted:d,symbol:u,value:c}}function _T(t){return t.state.chainId}function Kl(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Kl(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!Kl(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let Km=[];function Wi(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||Kl(Km,e)?Km:(Km=e,e)}let Fb=[];function CT(t){const e=t.connectors;return Kl(Fb,e)?Fb:(Fb=e,e)}function vq(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return Es(s,aW,"getEnsName")(r)}async function bq(t,e={}){return(await nm(t,e)).extend(fq)}async function Eq(t,e){const{account:n,chainId:r,...s}=e,i=n??Td(t).address,o=t.getClient({chainId:r});return Es(o,ev,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}let zb=!1;async function z_(t,e={}){var l,u;if(zb)return[];zb=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const d of e.connectors){let h;typeof d=="function"?h=t._internal.connectors.setup(d):h=d,n.push(h)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of t.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,h)=>(s[d.id]??10)-(s[h.id]??10)):n;let o=!1;const a=[],c=[];for(const d of i){const h=await d.getProvider().catch(()=>{});if(!h||c.some(g=>g===h)||!await d.isAuthorized())continue;const p=await d.connect({isReconnecting:!0}).catch(()=>null);p&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(g=>{const w=new Map(o?g.connections:new Map).set(d.uid,{accounts:p.accounts,chainId:p.chainId,connector:d});return{...g,current:o?g.current:d.uid,connections:w}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:d}),c.push(h),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),zb=!1,a}async function _q(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await nm(t,{account:n??void 0,chainId:r,connector:s}),await Es(o,em,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function Cq(t,e){const{account:n,connector:r,...s}=e;let i;return typeof n=="object"&&n.type==="local"?i=t.getClient():i=await nm(t,{account:n,connector:r}),Es(i,u5,"signMessage")({...s,...n?{account:n}:{}})}class Ra extends na{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class xq extends na{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function xT(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new xq({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const i=t.chains.find(a=>a.id===r);if(!i)throw new rg;return t.setState(a=>({...a,chainId:r})),i}function w5(t,e){const{onChange:n}=e;return t.subscribe(()=>Td(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return Kl(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function Sq(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function Aq(t,e){const{onChange:n}=e;return t.subscribe(()=>Wi(t),n,{equalityFn:Kl})}function v5(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function Iq(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const i=c=>{s&&s();const l=t.getClient({chainId:c});return s=Es(l,FW,"watchPendingTransactions")(r),s},o=i(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>i(c))),()=>{o==null||o(),a==null||a()}}async function Tq(t,e){const{chainId:n,timeout:r=0,...s}=e,i=t.getClient({chainId:n}),a=await Es(i,YW,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const l=await Es(i,r5,"getTransaction")({hash:a.transactionHash}),d=await Es(i,e5,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),h=d!=null&&d.data?W$(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...a,chainId:i.chain.id}}async function Nq(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await nm(t,{account:n??void 0,chainId:r,connector:s}),await Es(o,d5,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function JCe(t){return t}nv.type="injected";function nv(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...Pq[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:nv.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)))},async connect({chainId:l,isReconnecting:u}={}){var f,p,g,w,y,b;const d=await this.getProvider();if(!d)throw new Ra;let h=[];if(u)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(w=(g=(p=(f=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:f.caveats)==null?void 0:p[0])==null?void 0:g.value)==null?void 0:w.map(_=>sc(_)),h.length>0&&(h=await this.getAccounts())}catch(v){const _=v;if(_.code===_n.code)throw new _n(_);if(_.code===vc.code)throw _}try{!(h!=null&&h.length)&&!u&&(h=(await d.request({method:"eth_requestAccounts"})).map(E=>sc(E))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let v=await this.getChainId();if(l&&v!==l){const _=await this.switchChain({chainId:l}).catch(E=>{if(E.code===_n.code)throw E;return{id:v}});v=(_==null?void 0:_.id)??v}return e&&await((y=c.storage)==null?void 0:y.removeItem(`${this.id}.disconnected`)),t.target||await((b=c.storage)==null?void 0:b.setItem("injected.connected",!0)),{accounts:h,chainId:v}}catch(v){const _=v;throw _.code===_n.code?new _n(_):_.code===vc.code?new vc(_):_}},async disconnect(){var u,d;const l=await this.getProvider();if(!l)throw new Ra;i&&(l.removeListener("chainChanged",i),i=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await i5(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new Ra;return(await l.request({method:"eth_accounts"})).map(d=>sc(d))},async getChainId(){const l=await this.getProvider();if(!l)throw new Ra;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=Xy(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),g=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(y=>window.addEventListener("ethereum#initialized",()=>y(p()),{once:!0}))]:[],new Promise(y=>setTimeout(()=>y(p()),g))]))return!0}throw new Ra}return!!(await K0(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var p,g,w,y;const d=await this.getProvider();if(!d)throw new Ra;const h=c.chains.find(b=>b.id===u);if(!h)throw new io(new rg);const f=new Promise(b=>{const v=_=>{"chainId"in _&&_.chainId===u&&(c.emitter.off("change",v),b())};c.emitter.on("change",v)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:ze(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),f]),h}catch(b){const v=b;if(v.code===4902||((g=(p=v==null?void 0:v.data)==null?void 0:p.originalError)==null?void 0:g.code)===4902)try{const{default:_,...E}=h.blockExplorers??{};let x;l!=null&&l.blockExplorerUrls?x=l.blockExplorerUrls:_&&(x=[_.url,...Object.values(E).map(C=>C.url)]);let S;(w=l==null?void 0:l.rpcUrls)!=null&&w.length?S=l.rpcUrls:S=[((y=h.rpcUrls.default)==null?void 0:y.http[0])??""];const A={blockExplorerUrls:x,chainId:ze(u),chainName:(l==null?void 0:l.chainName)??h.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??h.nativeCurrency,rpcUrls:S};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[A]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new _n(new Error("User rejected switch after adding network."))}),f]),h}catch(_){throw new _n(_)}throw v.code===_n.code?new _n(v):new io(v)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(d=>sc(d))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const d=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:d});const h=await this.getProvider();h&&(o&&(h.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const Pq={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Xy(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Xy(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:Xy(t,"isPhantom")}}};function Xy(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function kq(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Oq(){const t=new Set;let e=[];const n=()=>kq(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const Rq=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=h=>{const f=o(h);if(!u(d,f)){const p=d;a(d=f,p)}},c!=null&&c.fireImmediately&&a(d,d)}return s(l)},t(e,n,r)},$q=Rq;function Dq(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const W_=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return W_(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return W_(r)(n)}}}},jq=(t,e)=>(n,r,s)=>{let i={storage:Dq(()=>localStorage),partialize:g=>g,version:0,merge:(g,w)=>({...w,...g}),...e},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...g)},r,s);const u=()=>{const g=i.partialize({...r()});return l.setItem(i.name,{state:g,version:i.version})},d=s.setState;s.setState=(g,w)=>{d(g,w),u()};const h=t((...g)=>{n(...g),u()},r,s);s.getInitialState=()=>h;let f;const p=()=>{var g,w;if(!l)return;o=!1,a.forEach(b=>{var v;return b((v=r())!=null?v:h)});const y=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(g=r())!=null?g:h))||void 0;return W_(l.getItem.bind(l))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var v;const[_,E]=b;if(f=i.merge(E,(v=r())!=null?v:h),n(f,!0),_)return u()}).then(()=>{y==null||y(f,void 0),f=r(),o=!0,c.forEach(b=>b(f))}).catch(b=>{y==null||y(void 0,b)})};return s.persist={setOptions:g=>{i={...i,...g},g.storage&&(l=g.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},i.skipHydration||p(),f||h},Uq=jq,ST=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,s,a);return a},Wb=t=>t?ST(t):ST;var b5={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new s(u,d||c,h),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,h,f,p){var g=n?n+l:l;if(!this._events[g])return!1;var w=this._events[g],y=arguments.length,b,v;if(w.fn){switch(w.once&&this.removeListener(l,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,d),!0;case 4:return w.fn.call(w.context,u,d,h),!0;case 5:return w.fn.call(w.context,u,d,h,f),!0;case 6:return w.fn.call(w.context,u,d,h,f,p),!0}for(v=1,b=new Array(y-1);v<y;v++)b[v-1]=arguments[v];w.fn.apply(w.context,b)}else{var _=w.length,E;for(v=0;v<_;v++)switch(w[v].once&&this.removeListener(l,w[v].fn,void 0,!0),y){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,u);break;case 3:w[v].fn.call(w[v].context,u,d);break;case 4:w[v].fn.call(w[v].context,u,d,h);break;default:if(!b)for(E=1,b=new Array(y-1);E<y;E++)b[E-1]=arguments[E];w[v].fn.apply(w[v].context,b)}}return!0},a.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,h){var f=n?n+l:l;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var g=0,w=[],y=p.length;g<y;g++)(p[g].fn!==u||h&&!p[g].once||d&&p[g].context!==d)&&w.push(p[g]);w.length?this._events[f]=w.length===1?w[0]:w:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(b5);var Lq=b5.exports;const Mq=cu(Lq);class Bq{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Mq})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function Fq(t){return new Bq(t)}function zq(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function AT(t,e){return t.slice(0,e).join(".")||"."}function IT(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function Wq(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const l=IT(s,this);l===0?s[s.length]=this:(s.splice(l),i.splice(l)),i[i.length]=a;const u=IT(s,c);if(u!==0)return r?e.call(this,a,c,AT(i,u)):`[ref=${AT(i,u)}]`}else s[0]=c,i[0]=a;return n?t.call(this,a,c):c}}function qq(t,e,n,r){return JSON.stringify(t,Wq((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),n??void 0)}function Hq(t){const{deserialize:e=zq,key:n="wagmi",serialize:r=qq,storage:s=E5}=t;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),l=await i(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const E5={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Vq(){const t=typeof window<"u"&&window.localStorage?window.localStorage:E5;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const q_=256;let Ym=q_,Jm;function Gq(t=11){if(!Jm||Ym+t>q_*2){Jm="",Ym=0;for(let e=0;e<q_;e++)Jm+=(256+Math.random()*256|0).toString(16).substring(1)}return Jm.substring(Ym,Ym+++t)}function Kq(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=Hq({storage:Vq()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?Oq():void 0,a=Wb(()=>i.chains),c=Wb(()=>{const E=[],x=new Set;for(const S of i.connectors??[]){const A=l(S);if(E.push(A),!s&&A.rdns){const C=typeof A.rdns=="string"?[A.rdns]:A.rdns;for(const P of C)x.add(P)}}if(!s&&o){const S=o.getProviders();for(const A of S)x.has(A.info.rdns)||E.push(l(u(A)))}return E});function l(E){var A;const x=Fq(Gq()),S={...E({emitter:x,chains:a.getState(),storage:n,transports:i.transports}),emitter:x,uid:x.uid};return x.on("connect",v),(A=S.setup)==null||A.call(S),S}function u(E){const{info:x}=E,S=E.provider;return nv({target:{...x,id:x.rdns,provider:S}})}const d=new Map;function h(E={}){const x=E.chainId??w.getState().chainId,S=a.getState().find(C=>C.id===x);if(E.chainId&&!S)throw new rg;{const C=d.get(w.getState().chainId);if(C&&!S)return C;if(!S)throw new rg}{const C=d.get(x);if(C)return C}let A;if(i.client)A=i.client({chain:S});else{const C=S.id,P=a.getState().map(F=>F.id),k={},B=Object.entries(i);for(const[F,H]of B)if(!(F==="chains"||F==="client"||F==="connectors"||F==="transports"))if(typeof H=="object")if(C in H)k[F]=H[C];else{if(P.some(T=>T in H))continue;k[F]=H}else k[F]=H;A=g5({...k,chain:S,batch:k.batch??{multicall:!0},transport:F=>i.transports[C]({...F,connectors:c})})}return d.set(x,A),A}function f(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const g="0.0.0-canary-";Qy.startsWith(g)?p=Number.parseInt(Qy.replace(g,"")):p=Number.parseInt(Qy.split(".")[0]??"0");const w=Wb($q(n?Uq(f,{migrate(E,x){if(x===p)return E;const S=f(),A=y(E,S.chainId);return{...S,chainId:A}},name:"store",partialize(E){return{connections:{__type:"Map",value:Array.from(E.connections.entries()).map(([x,S])=>{const{id:A,name:C,type:P,uid:k}=S.connector;return[x,{...S,connector:{id:A,name:C,type:P,uid:k}}]})},chainId:E.chainId,current:E.current}},merge(E,x){typeof E=="object"&&E&&"status"in E&&delete E.status;const S=y(E,x.chainId);return{...x,...E,chainId:S}},skipHydration:s,storage:n,version:p}):f));w.setState(f());function y(E,x){return E&&typeof E=="object"&&"chainId"in E&&typeof E.chainId=="number"&&a.getState().some(S=>S.id===E.chainId)?E.chainId:x}r&&w.subscribe(({connections:E,current:x})=>{var S;return x?(S=E.get(x))==null?void 0:S.chainId:void 0},E=>{if(a.getState().some(S=>S.id===E))return w.setState(S=>({...S,chainId:E??S.chainId}))}),o==null||o.subscribe(E=>{const x=new Set,S=new Set;for(const C of c.getState())if(x.add(C.id),C.rdns){const P=typeof C.rdns=="string"?[C.rdns]:C.rdns;for(const k of P)S.add(k)}const A=[];for(const C of E){if(S.has(C.info.rdns))continue;const P=l(u(C));x.has(P.id)||A.push(P)}n&&!w.persist.hasHydrated()||c.setState(C=>[...C,...A],!0)});function b(E){w.setState(x=>{const S=x.connections.get(E.uid);return S?{...x,connections:new Map(x.connections).set(E.uid,{accounts:E.accounts??S.accounts,chainId:E.chainId??S.chainId,connector:S.connector})}:x})}function v(E){w.getState().status==="connecting"||w.getState().status==="reconnecting"||w.setState(x=>{const S=c.getState().find(A=>A.uid===E.uid);return S?(S.emitter.listenerCount("connect")&&S.emitter.off("connect",b),S.emitter.listenerCount("change")||S.emitter.on("change",b),S.emitter.listenerCount("disconnect")||S.emitter.on("disconnect",_),{...x,connections:new Map(x.connections).set(E.uid,{accounts:E.accounts,chainId:E.chainId,connector:S}),current:E.uid,status:"connected"}):x})}function _(E){w.setState(x=>{const S=x.connections.get(E.uid);if(S){const C=S.connector;C.emitter.listenerCount("change")&&S.connector.emitter.off("change",b),C.emitter.listenerCount("disconnect")&&S.connector.emitter.off("disconnect",_),C.emitter.listenerCount("connect")||S.connector.emitter.on("connect",v)}if(x.connections.delete(E.uid),x.connections.size===0)return{...x,connections:new Map,current:null,status:"disconnected"};const A=x.connections.values().next().value;return{...x,connections:new Map(x.connections),current:A.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:h,get state(){return w.getState()},setState(E){let x;typeof E=="function"?x=E(w.getState()):x=E;const S=f();typeof x!="object"&&(x=S),Object.keys(S).some(C=>!(C in x))&&(x=S),w.setState(x,!0)},subscribe(E,x,S){return w.subscribe(E,x,S?{...S,fireImmediately:S.emitImmediately}:void 0)},_internal:{mipd:o,store:w,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(E){const x=typeof E=="function"?E(a.getState()):E;if(x.length!==0)return a.setState(x,!0)},subscribe(E){return a.subscribe(E)}},connectors:{providerDetailToConnector:u,setup:l,setState(E){return c.setState(typeof E=="function"?E(c.getState()):E,!0)},subscribe(E){return c.subscribe(E)}},events:{change:b,connect:v,disconnect:_}}}}function Yq(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var c;const i=new Set;for(const l of s??[])if(l.rdns){const u=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const d of u)i.add(d)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(i.has(l.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(l),d=t._internal.connectors.setup(u);o.push(d)}return[...s,...o]})),r?z_(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function Jq(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:i}=Yq(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=R.useRef(!0);return R.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),e}const _5=R.createContext(void 0);function Qq(t){const{children:e,config:n}=t,r={value:n};return R.createElement(Jq,t,R.createElement(_5.Provider,r,e))}const Zq="2.15.6",Xq=()=>`wagmi@${Zq}`;let eH=class extends na{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Xq()}};class tH extends eH{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Wc(t={}){const e=t.config??R.useContext(_5);if(!e)throw new tH;return e}var C5={exports:{}},x5={},S5={exports:{}},A5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh=R;function nH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rH=typeof Object.is=="function"?Object.is:nH,sH=rh.useState,iH=rh.useEffect,oH=rh.useLayoutEffect,aH=rh.useDebugValue;function cH(t,e){var n=e(),r=sH({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return oH(function(){s.value=n,s.getSnapshot=e,qb(s)&&i({inst:s})},[t,n,e]),iH(function(){return qb(s)&&i({inst:s}),t(function(){qb(s)&&i({inst:s})})},[t]),aH(n),n}function qb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rH(t,n)}catch{return!0}}function lH(t,e){return e()}var uH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lH:cH;A5.useSyncExternalStore=rh.useSyncExternalStore!==void 0?rh.useSyncExternalStore:uH;S5.exports=A5;var dH=S5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv=R,hH=dH;function fH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pH=typeof Object.is=="function"?Object.is:fH,gH=hH.useSyncExternalStore,mH=rv.useRef,yH=rv.useEffect,wH=rv.useMemo,vH=rv.useDebugValue;x5.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=mH(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=wH(function(){function c(f){if(!l){if(l=!0,u=f,f=r(f),s!==void 0&&o.hasValue){var p=o.value;if(s(p,f))return d=p}return d=f}if(p=d,pH(u,f))return p;var g=r(f);return s!==void 0&&s(p,g)?(u=f,p):(u=f,d=g)}var l=!1,u,d,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,s]);var a=gH(t,i[0],i[1]);return yH(function(){o.hasValue=!0,o.value=a},[a]),vH(a),a};C5.exports=x5;var bH=C5.exports;const Hb=t=>typeof t=="object"&&!Array.isArray(t);function EH(t,e,n=e,r=Kl){const s=R.useRef([]),i=bH.useSyncExternalStoreWithSelector(t,e,n,o=>o,(o,a)=>{if(Hb(o)&&Hb(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return R.useMemo(()=>{if(Hb(i)){const o={...i};let a={};for(const[c,l]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),l)}};return Object.defineProperties(o,a),o}return i},[i])}function sv(t={}){const e=Wc(t);return EH(n=>w5(e,{onChange:n}),()=>Td(e))}var _h=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yl=typeof window>"u"||"Deno"in globalThis;function _r(){}function _H(t,e){return typeof t=="function"?t(e):t}function H_(t){return typeof t=="number"&&t>=0&&t!==1/0}function I5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function bc(t,e){return typeof t=="function"?t(e):t}function mi(t,e){return typeof t=="function"?t(e):t}function TT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==sA(o,e.options))return!1}else if(!sg(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function NT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Jl(e.options.mutationKey)!==Jl(i))return!1}else if(!sg(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function sA(t,e){return((e==null?void 0:e.queryKeyHashFn)||Jl)(t)}function Jl(t){return JSON.stringify(t,(e,n)=>V_(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function sg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>sg(t[n],e[n])):!1}function T5(t,e){if(t===e)return t;const n=PT(t)&&PT(e);if(n||V_(t)&&V_(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=T5(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function J0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function PT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function V_(t){if(!kT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!kT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function kT(t){return Object.prototype.toString.call(t)==="[object Object]"}function CH(t){return new Promise(e=>{setTimeout(e,t)})}function G_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?T5(t,e):e}function xH(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function SH(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var iA=Symbol();function N5(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===iA?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function P5(t,e){return typeof t=="function"?t(...e):!!t}var Cl,Va,$d,gR,AH=(gR=class extends _h{constructor(){super();$e(this,Cl);$e(this,Va);$e(this,$d);Ee(this,$d,e=>{if(!Yl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){M(this,Va)||this.setEventListener(M(this,$d))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,Va))==null||e.call(this),Ee(this,Va,void 0))}setEventListener(e){var n;Ee(this,$d,e),(n=M(this,Va))==null||n.call(this),Ee(this,Va,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){M(this,Cl)!==e&&(Ee(this,Cl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof M(this,Cl)=="boolean"?M(this,Cl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Cl=new WeakMap,Va=new WeakMap,$d=new WeakMap,gR),oA=new AH,Dd,Ga,jd,mR,IH=(mR=class extends _h{constructor(){super();$e(this,Dd,!0);$e(this,Ga);$e(this,jd);Ee(this,jd,e=>{if(!Yl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){M(this,Ga)||this.setEventListener(M(this,jd))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,Ga))==null||e.call(this),Ee(this,Ga,void 0))}setEventListener(e){var n;Ee(this,jd,e),(n=M(this,Ga))==null||n.call(this),Ee(this,Ga,e(this.setOnline.bind(this)))}setOnline(e){M(this,Dd)!==e&&(Ee(this,Dd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return M(this,Dd)}},Dd=new WeakMap,Ga=new WeakMap,jd=new WeakMap,mR),Q0=new IH;function K_(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function TH(t){return Math.min(1e3*2**t,3e4)}function k5(t){return(t??"online")==="online"?Q0.isOnline():!0}var O5=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Vb(t){return t instanceof O5}function R5(t){let e=!1,n=0,r=!1,s;const i=K_(),o=g=>{var w;r||(h(new O5(g)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>oA.isFocused()&&(t.networkMode==="always"||Q0.isOnline())&&t.canRun(),u=()=>k5(t.networkMode)&&t.canRun(),d=g=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,g),s==null||s(),i.reject(g))},f=()=>new Promise(g=>{var w;s=y=>{(r||l())&&g(y)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(r)return;let g;const w=n===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(d).catch(y=>{var x;if(r)return;const b=t.retry??(Yl?0:3),v=t.retryDelay??TH,_=typeof v=="function"?v(n,y):v,E=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(e||!E){h(y);return}n++,(x=t.onFail)==null||x.call(t,n,y),CH(_).then(()=>l()?void 0:f()).then(()=>{e?h(y):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?p():f().then(p),i)}}var NH=t=>setTimeout(t,0);function PH(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=NH;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Sn=PH(),xl,yR,$5=(yR=class{constructor(){$e(this,xl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),H_(this.gcTime)&&Ee(this,xl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yl?1/0:5*60*1e3))}clearGcTimeout(){M(this,xl)&&(clearTimeout(M(this,xl)),Ee(this,xl,void 0))}},xl=new WeakMap,yR),Ud,Sl,Ls,Al,fr,Bg,Il,di,_o,wR,kH=(wR=class extends $5{constructor(e){super();$e(this,di);$e(this,Ud);$e(this,Sl);$e(this,Ls);$e(this,Al);$e(this,fr);$e(this,Bg);$e(this,Il);Ee(this,Il,!1),Ee(this,Bg,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ee(this,Al,e.client),Ee(this,Ls,M(this,Al).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ee(this,Ud,OH(this.options)),this.state=e.state??M(this,Ud),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=M(this,fr))==null?void 0:e.promise}setOptions(e){this.options={...M(this,Bg),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,Ls).remove(this)}setData(e,n){const r=G_(this.state.data,e,this.options);return Qe(this,di,_o).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Qe(this,di,_o).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=M(this,fr))==null?void 0:r.promise;return(s=M(this,fr))==null||s.cancel(e),n?n.then(_r).catch(_r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,Ud))}isActive(){return this.observers.some(e=>mi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===iA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>bc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!I5(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=M(this,fr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=M(this,fr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),M(this,Ls).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(M(this,fr)&&(M(this,Il)?M(this,fr).cancel({revert:!0}):M(this,fr).cancelRetry()),this.scheduleGc()),M(this,Ls).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qe(this,di,_o).call(this,{type:"invalidate"})}fetch(e,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(M(this,fr))return M(this,fr).continueRetry(),M(this,fr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ee(this,Il,!0),r.signal)})},i=()=>{const h=N5(this.options,n),p=(()=>{const g={client:M(this,Al),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return Ee(this,Il,!1),this.options.persister?this.options.persister(h,p,this):h(p)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:M(this,Al),state:this.state,fetchFn:i};return s(h),h})();(l=this.options.behavior)==null||l.onFetch(a,this),Ee(this,Sl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Qe(this,di,_o).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const c=h=>{var f,p,g,w;Vb(h)&&h.silent||Qe(this,di,_o).call(this,{type:"error",error:h}),Vb(h)||((p=(f=M(this,Ls).config).onError)==null||p.call(f,h,this),(w=(g=M(this,Ls).config).onSettled)==null||w.call(g,this.state.data,h,this)),this.scheduleGc()};return Ee(this,fr,R5({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,g,w;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(p=(f=M(this,Ls).config).onSuccess)==null||p.call(f,h,this),(w=(g=M(this,Ls).config).onSettled)==null||w.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,f)=>{Qe(this,di,_o).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Qe(this,di,_o).call(this,{type:"pause"})},onContinue:()=>{Qe(this,di,_o).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),M(this,fr).start()}},Ud=new WeakMap,Sl=new WeakMap,Ls=new WeakMap,Al=new WeakMap,fr=new WeakMap,Bg=new WeakMap,Il=new WeakMap,di=new WeakSet,_o=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...D5(r.data,this.options),fetchMeta:e.meta??null};case"success":return Ee(this,Sl,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Vb(s)&&s.revert&&M(this,Sl)?{...M(this,Sl),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Sn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),M(this,Ls).notify({query:this,type:"updated",action:e})})},wR);function D5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:k5(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function OH(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var qi,vR,RH=(vR=class extends _h{constructor(e={}){super();$e(this,qi);this.config=e,Ee(this,qi,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??sA(s,n);let o=this.get(i);return o||(o=new kH({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){M(this,qi).has(e.queryHash)||(M(this,qi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=M(this,qi).get(e.queryHash);n&&(e.destroy(),n===e&&M(this,qi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Sn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return M(this,qi).get(e)}getAll(){return[...M(this,qi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>TT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>TT(e,r)):n}notify(e){Sn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Sn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Sn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},qi=new WeakMap,vR),Hi,vr,Tl,Vi,Ia,bR,$H=(bR=class extends $5{constructor(e){super();$e(this,Vi);$e(this,Hi);$e(this,vr);$e(this,Tl);this.mutationId=e.mutationId,Ee(this,vr,e.mutationCache),Ee(this,Hi,[]),this.state=e.state||j5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){M(this,Hi).includes(e)||(M(this,Hi).push(e),this.clearGcTimeout(),M(this,vr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ee(this,Hi,M(this,Hi).filter(n=>n!==e)),this.scheduleGc(),M(this,vr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){M(this,Hi).length||(this.state.status==="pending"?this.scheduleGc():M(this,vr).remove(this))}continue(){var e;return((e=M(this,Tl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,l,u,d,h,f,p,g,w,y,b,v,_,E,x,S,A;const n=()=>{Qe(this,Vi,Ia).call(this,{type:"continue"})};Ee(this,Tl,R5({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,P)=>{Qe(this,Vi,Ia).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{Qe(this,Vi,Ia).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,vr).canRun(this)}));const r=this.state.status==="pending",s=!M(this,Tl).canStart();try{if(r)n();else{Qe(this,Vi,Ia).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=M(this,vr).config).onMutate)==null?void 0:o.call(i,e,this));const P=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));P!==this.state.context&&Qe(this,Vi,Ia).call(this,{type:"pending",context:P,variables:e,isPaused:s})}const C=await M(this,Tl).start();return await((u=(l=M(this,vr).config).onSuccess)==null?void 0:u.call(l,C,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,C,e,this.state.context)),await((p=(f=M(this,vr).config).onSettled)==null?void 0:p.call(f,C,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,C,null,e,this.state.context)),Qe(this,Vi,Ia).call(this,{type:"success",data:C}),C}catch(C){try{throw await((b=(y=M(this,vr).config).onError)==null?void 0:b.call(y,C,e,this.state.context,this)),await((_=(v=this.options).onError)==null?void 0:_.call(v,C,e,this.state.context)),await((x=(E=M(this,vr).config).onSettled)==null?void 0:x.call(E,void 0,C,this.state.variables,this.state.context,this)),await((A=(S=this.options).onSettled)==null?void 0:A.call(S,void 0,C,e,this.state.context)),C}finally{Qe(this,Vi,Ia).call(this,{type:"error",error:C})}}finally{M(this,vr).runNext(this)}}},Hi=new WeakMap,vr=new WeakMap,Tl=new WeakMap,Vi=new WeakSet,Ia=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Sn.batch(()=>{M(this,Hi).forEach(r=>{r.onMutationUpdate(e)}),M(this,vr).notify({mutation:this,type:"updated",action:e})})},bR);function j5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ko,hi,Fg,ER,DH=(ER=class extends _h{constructor(e={}){super();$e(this,ko);$e(this,hi);$e(this,Fg);this.config=e,Ee(this,ko,new Set),Ee(this,hi,new Map),Ee(this,Fg,0)}build(e,n,r){const s=new $H({mutationCache:this,mutationId:++Sm(this,Fg)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){M(this,ko).add(e);const n=Qm(e);if(typeof n=="string"){const r=M(this,hi).get(n);r?r.push(e):M(this,hi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(M(this,ko).delete(e)){const n=Qm(e);if(typeof n=="string"){const r=M(this,hi).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&M(this,hi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Qm(e);if(typeof n=="string"){const r=M(this,hi).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Qm(e);if(typeof n=="string"){const s=(r=M(this,hi).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Sn.batch(()=>{M(this,ko).forEach(e=>{this.notify({type:"removed",mutation:e})}),M(this,ko).clear(),M(this,hi).clear()})}getAll(){return Array.from(M(this,ko))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>NT(n,r))}findAll(e={}){return this.getAll().filter(n=>NT(e,n))}notify(e){Sn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Sn.batch(()=>Promise.all(e.map(n=>n.continue().catch(_r))))}},ko=new WeakMap,hi=new WeakMap,Fg=new WeakMap,ER);function Qm(t){var e;return(e=t.options.scope)==null?void 0:e.id}function OT(t){return{onFetch:(e,n)=>{var u,d,h,f,p;const r=e.options,s=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let g=!1;const w=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=N5(e.options,e.fetchOptions),b=async(v,_,E)=>{if(g)return Promise.reject();if(_==null&&v.pages.length)return Promise.resolve(v);const S=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:_,direction:E?"backward":"forward",meta:e.options.meta};return w(k),k})(),A=await y(S),{maxPages:C}=e.options,P=E?SH:xH;return{pages:P(v.pages,A,C),pageParams:P(v.pageParams,_,C)}};if(s&&i.length){const v=s==="backward",_=v?jH:RT,E={pages:i,pageParams:o},x=_(r,E);a=await b(E,x,v)}else{const v=t??i.length;do{const _=c===0?o[0]??r.initialPageParam:RT(r,a);if(c>0&&_==null)break;a=await b(a,_),c++}while(c<v)}return a};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function RT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function jH(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var rn,Ka,Ya,Ld,Md,Ja,Bd,Fd,_R,UH=(_R=class{constructor(t={}){$e(this,rn);$e(this,Ka);$e(this,Ya);$e(this,Ld);$e(this,Md);$e(this,Ja);$e(this,Bd);$e(this,Fd);Ee(this,rn,t.queryCache||new RH),Ee(this,Ka,t.mutationCache||new DH),Ee(this,Ya,t.defaultOptions||{}),Ee(this,Ld,new Map),Ee(this,Md,new Map),Ee(this,Ja,0)}mount(){Sm(this,Ja)._++,M(this,Ja)===1&&(Ee(this,Bd,oA.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,rn).onFocus())})),Ee(this,Fd,Q0.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,rn).onOnline())})))}unmount(){var t,e;Sm(this,Ja)._--,M(this,Ja)===0&&((t=M(this,Bd))==null||t.call(this),Ee(this,Bd,void 0),(e=M(this,Fd))==null||e.call(this),Ee(this,Fd,void 0))}isFetching(t){return M(this,rn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return M(this,Ka).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,rn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=M(this,rn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(bc(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return M(this,rn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=M(this,rn).get(r.queryHash),i=s==null?void 0:s.state.data,o=_H(e,i);if(o!==void 0)return M(this,rn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Sn.batch(()=>M(this,rn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,rn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=M(this,rn);Sn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=M(this,rn);return Sn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Sn.batch(()=>M(this,rn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(_r).catch(_r)}invalidateQueries(t,e={}){return Sn.batch(()=>(M(this,rn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Sn.batch(()=>M(this,rn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(_r)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(_r)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=M(this,rn).build(this,e);return n.isStaleByTime(bc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_r).catch(_r)}fetchInfiniteQuery(t){return t.behavior=OT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_r).catch(_r)}ensureInfiniteQueryData(t){return t.behavior=OT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Q0.isOnline()?M(this,Ka).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,rn)}getMutationCache(){return M(this,Ka)}getDefaultOptions(){return M(this,Ya)}setDefaultOptions(t){Ee(this,Ya,t)}setQueryDefaults(t,e){M(this,Ld).set(Jl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...M(this,Ld).values()],n={};return e.forEach(r=>{sg(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){M(this,Md).set(Jl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...M(this,Md).values()],n={};return e.forEach(r=>{sg(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...M(this,Ya).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=sA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===iA&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...M(this,Ya).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){M(this,rn).clear(),M(this,Ka).clear()}},rn=new WeakMap,Ka=new WeakMap,Ya=new WeakMap,Ld=new WeakMap,Md=new WeakMap,Ja=new WeakMap,Bd=new WeakMap,Fd=new WeakMap,_R),qr,st,zg,br,Nl,zd,Qa,Za,Wg,Wd,qd,Pl,kl,Xa,Hd,Et,Nf,Y_,J_,Q_,Z_,X_,eC,tC,U5,CR,LH=(CR=class extends _h{constructor(e,n){super();$e(this,Et);$e(this,qr);$e(this,st);$e(this,zg);$e(this,br);$e(this,Nl);$e(this,zd);$e(this,Qa);$e(this,Za);$e(this,Wg);$e(this,Wd);$e(this,qd);$e(this,Pl);$e(this,kl);$e(this,Xa);$e(this,Hd,new Set);this.options=n,Ee(this,qr,e),Ee(this,Za,null),Ee(this,Qa,K_()),this.options.experimental_prefetchInRender||M(this,Qa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,st).addObserver(this),$T(M(this,st),this.options)?Qe(this,Et,Nf).call(this):this.updateResult(),Qe(this,Et,Z_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nC(M(this,st),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nC(M(this,st),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Qe(this,Et,X_).call(this),Qe(this,Et,eC).call(this),M(this,st).removeObserver(this)}setOptions(e){const n=this.options,r=M(this,st);if(this.options=M(this,qr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mi(this.options.enabled,M(this,st))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Qe(this,Et,tC).call(this),M(this,st).setOptions(this.options),n._defaulted&&!J0(this.options,n)&&M(this,qr).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,st),observer:this});const s=this.hasListeners();s&&DT(M(this,st),r,this.options,n)&&Qe(this,Et,Nf).call(this),this.updateResult(),s&&(M(this,st)!==r||mi(this.options.enabled,M(this,st))!==mi(n.enabled,M(this,st))||bc(this.options.staleTime,M(this,st))!==bc(n.staleTime,M(this,st)))&&Qe(this,Et,Y_).call(this);const i=Qe(this,Et,J_).call(this);s&&(M(this,st)!==r||mi(this.options.enabled,M(this,st))!==mi(n.enabled,M(this,st))||i!==M(this,Xa))&&Qe(this,Et,Q_).call(this,i)}getOptimisticResult(e){const n=M(this,qr).getQueryCache().build(M(this,qr),e),r=this.createResult(n,e);return BH(this,r)&&(Ee(this,br,r),Ee(this,zd,this.options),Ee(this,Nl,M(this,st).state)),r}getCurrentResult(){return M(this,br)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){M(this,Hd).add(e)}getCurrentQuery(){return M(this,st)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=M(this,qr).defaultQueryOptions(e),r=M(this,qr).getQueryCache().build(M(this,qr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Qe(this,Et,Nf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,br)))}createResult(e,n){var C;const r=M(this,st),s=this.options,i=M(this,br),o=M(this,Nl),a=M(this,zd),l=e!==r?e.state:M(this,zg),{state:u}=e;let d={...u},h=!1,f;if(n._optimisticResults){const P=this.hasListeners(),k=!P&&$T(e,n),B=P&&DT(e,r,n,s);(k||B)&&(d={...d,...D5(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:w}=d;f=d.data;let y=!1;if(n.placeholderData!==void 0&&f===void 0&&w==="pending"){let P;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(P=i.data,y=!0):P=typeof n.placeholderData=="function"?n.placeholderData((C=M(this,qd))==null?void 0:C.state.data,M(this,qd)):n.placeholderData,P!==void 0&&(w="success",f=G_(i==null?void 0:i.data,P,n),h=!0)}if(n.select&&f!==void 0&&!y)if(i&&f===(o==null?void 0:o.data)&&n.select===M(this,Wg))f=M(this,Wd);else try{Ee(this,Wg,n.select),f=n.select(f),f=G_(i==null?void 0:i.data,f,n),Ee(this,Wd,f),Ee(this,Za,null)}catch(P){Ee(this,Za,P)}M(this,Za)&&(p=M(this,Za),f=M(this,Wd),g=Date.now(),w="error");const b=d.fetchStatus==="fetching",v=w==="pending",_=w==="error",E=v&&b,x=f!==void 0,A={status:w,fetchStatus:d.fetchStatus,isPending:v,isSuccess:w==="success",isError:_,isInitialLoading:E,isLoading:E,data:f,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!v,isLoadingError:_&&!x,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&x,isStale:aA(e,n),refetch:this.refetch,promise:M(this,Qa)};if(this.options.experimental_prefetchInRender){const P=F=>{A.status==="error"?F.reject(A.error):A.data!==void 0&&F.resolve(A.data)},k=()=>{const F=Ee(this,Qa,A.promise=K_());P(F)},B=M(this,Qa);switch(B.status){case"pending":e.queryHash===r.queryHash&&P(B);break;case"fulfilled":(A.status==="error"||A.data!==B.value)&&k();break;case"rejected":(A.status!=="error"||A.error!==B.reason)&&k();break}}return A}updateResult(){const e=M(this,br),n=this.createResult(M(this,st),this.options);if(Ee(this,Nl,M(this,st).state),Ee(this,zd,this.options),M(this,Nl).data!==void 0&&Ee(this,qd,M(this,st)),J0(n,e))return;Ee(this,br,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!M(this,Hd).size)return!0;const o=new Set(i??M(this,Hd));return this.options.throwOnError&&o.add("error"),Object.keys(M(this,br)).some(a=>{const c=a;return M(this,br)[c]!==e[c]&&o.has(c)})};Qe(this,Et,U5).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Qe(this,Et,Z_).call(this)}},qr=new WeakMap,st=new WeakMap,zg=new WeakMap,br=new WeakMap,Nl=new WeakMap,zd=new WeakMap,Qa=new WeakMap,Za=new WeakMap,Wg=new WeakMap,Wd=new WeakMap,qd=new WeakMap,Pl=new WeakMap,kl=new WeakMap,Xa=new WeakMap,Hd=new WeakMap,Et=new WeakSet,Nf=function(e){Qe(this,Et,tC).call(this);let n=M(this,st).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(_r)),n},Y_=function(){Qe(this,Et,X_).call(this);const e=bc(this.options.staleTime,M(this,st));if(Yl||M(this,br).isStale||!H_(e))return;const r=I5(M(this,br).dataUpdatedAt,e)+1;Ee(this,Pl,setTimeout(()=>{M(this,br).isStale||this.updateResult()},r))},J_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,st)):this.options.refetchInterval)??!1},Q_=function(e){Qe(this,Et,eC).call(this),Ee(this,Xa,e),!(Yl||mi(this.options.enabled,M(this,st))===!1||!H_(M(this,Xa))||M(this,Xa)===0)&&Ee(this,kl,setInterval(()=>{(this.options.refetchIntervalInBackground||oA.isFocused())&&Qe(this,Et,Nf).call(this)},M(this,Xa)))},Z_=function(){Qe(this,Et,Y_).call(this),Qe(this,Et,Q_).call(this,Qe(this,Et,J_).call(this))},X_=function(){M(this,Pl)&&(clearTimeout(M(this,Pl)),Ee(this,Pl,void 0))},eC=function(){M(this,kl)&&(clearInterval(M(this,kl)),Ee(this,kl,void 0))},tC=function(){const e=M(this,qr).getQueryCache().build(M(this,qr),this.options);if(e===M(this,st))return;const n=M(this,st);Ee(this,st,e),Ee(this,zg,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},U5=function(e){Sn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(M(this,br))}),M(this,qr).getQueryCache().notify({query:M(this,st),type:"observerResultsUpdated"})})},CR);function MH(t,e){return mi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function $T(t,e){return MH(t,e)||t.state.data!==void 0&&nC(t,e,e.refetchOnMount)}function nC(t,e,n){if(mi(e.enabled,t)!==!1&&bc(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&aA(t,e)}return!1}function DT(t,e,n,r){return(t!==e||mi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&aA(t,n)}function aA(t,e){return mi(e.enabled,t)!==!1&&t.isStaleByTime(bc(e.staleTime,t))}function BH(t,e){return!J0(t.getCurrentResult(),e)}var ec,tc,Hr,Oo,Wo,e0,rC,xR,FH=(xR=class extends _h{constructor(n,r){super();$e(this,Wo);$e(this,ec);$e(this,tc);$e(this,Hr);$e(this,Oo);Ee(this,ec,n),this.setOptions(r),this.bindMethods(),Qe(this,Wo,e0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=M(this,ec).defaultMutationOptions(n),J0(this.options,r)||M(this,ec).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,Hr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Jl(r.mutationKey)!==Jl(this.options.mutationKey)?this.reset():((s=M(this,Hr))==null?void 0:s.state.status)==="pending"&&M(this,Hr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=M(this,Hr))==null||n.removeObserver(this)}onMutationUpdate(n){Qe(this,Wo,e0).call(this),Qe(this,Wo,rC).call(this,n)}getCurrentResult(){return M(this,tc)}reset(){var n;(n=M(this,Hr))==null||n.removeObserver(this),Ee(this,Hr,void 0),Qe(this,Wo,e0).call(this),Qe(this,Wo,rC).call(this)}mutate(n,r){var s;return Ee(this,Oo,r),(s=M(this,Hr))==null||s.removeObserver(this),Ee(this,Hr,M(this,ec).getMutationCache().build(M(this,ec),this.options)),M(this,Hr).addObserver(this),M(this,Hr).execute(n)}},ec=new WeakMap,tc=new WeakMap,Hr=new WeakMap,Oo=new WeakMap,Wo=new WeakSet,e0=function(){var r;const n=((r=M(this,Hr))==null?void 0:r.state)??j5();Ee(this,tc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},rC=function(n){Sn.batch(()=>{var r,s,i,o,a,c,l,u;if(M(this,Oo)&&this.hasListeners()){const d=M(this,tc).variables,h=M(this,tc).context;(n==null?void 0:n.type)==="success"?((s=(r=M(this,Oo)).onSuccess)==null||s.call(r,n.data,d,h),(o=(i=M(this,Oo)).onSettled)==null||o.call(i,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((c=(a=M(this,Oo)).onError)==null||c.call(a,n.error,d,h),(u=(l=M(this,Oo)).onSettled)==null||u.call(l,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(M(this,tc))})})},xR);function zH(t){return JSON.stringify(t,(e,n)=>WH(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function WH(t){if(!jT(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!jT(n)||!n.hasOwnProperty("isPrototypeOf"))}function jT(t){return Object.prototype.toString.call(t)==="[object Object]"}function L5(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:i,maxPages:o,meta:a,networkMode:c,queryFn:l,queryHash:u,queryKey:d,queryKeyHashFn:h,retry:f,retryDelay:p,structuralSharing:g,getPreviousPageParam:w,getNextPageParam:y,initialPageParam:b,_optimisticResults:v,enabled:_,notifyOnChangeProps:E,placeholderData:x,refetchInterval:S,refetchIntervalInBackground:A,refetchOnMount:C,refetchOnReconnect:P,refetchOnWindowFocus:k,retryOnMount:B,select:F,staleTime:H,suspense:N,throwOnError:T,config:L,connector:D,query:$,...U}=t;return U}function qH(t){return{mutationFn(e){return Zy(t,e)},mutationKey:["connect"]}}function HH(t){return{mutationFn(e){return m5(t,e)},mutationKey:["disconnect"]}}function VH(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("address is required");return vq(t,{...i,address:r})},queryKey:GH(e)}}function GH(t={}){return["ensName",L5(t)]}function KH(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=e,{connectorUid:s,scopeKey:i,...o}=n[1];return bq(t,{...o,connector:r})},queryKey:YH(e)}}function YH(t={}){const{connector:e,...n}=t;return["walletClient",{...L5(n),connectorUid:e==null?void 0:e.uid}]}var M5=R.createContext(void 0),cA=t=>{const e=R.useContext(M5);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},JH=({client:t,children:e})=>(R.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(M5.Provider,{value:t,children:e})),B5=R.createContext(!1),QH=()=>R.useContext(B5);B5.Provider;function ZH(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var XH=R.createContext(ZH()),eV=()=>R.useContext(XH),tV=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},nV=t=>{R.useEffect(()=>{t.clearReset()},[t])},rV=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||P5(n,[t.error,r])),sV=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},iV=(t,e)=>t.isLoading&&t.isFetching&&!e,oV=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,UT=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function aV(t,e,n){var d,h,f,p,g;const r=QH(),s=eV(),i=cA(),o=i.defaultQueryOptions(t);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",sV(o),tV(o,s),nV(s);const a=!i.getQueryCache().get(o.queryHash),[c]=R.useState(()=>new e(i,o)),l=c.getOptimisticResult(o),u=!r&&t.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(w=>{const y=u?c.subscribe(Sn.batchCalls(w)):_r;return c.updateResult(),y},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),R.useEffect(()=>{c.setOptions(o)},[o,c]),oV(o,l))throw UT(o,c,s);if(rV({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((p=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,l),o.experimental_prefetchInRender&&!Yl&&iV(l,r)){const w=a?UT(o,c,s):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;w==null||w.catch(_r).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function cV(t,e){return aV(t,LH)}function F5(t,e){const n=cA(),[r]=R.useState(()=>new FH(n,t));R.useEffect(()=>{r.setOptions(t)},[r,t]);const s=R.useSyncExternalStore(R.useCallback(o=>r.subscribe(Sn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=R.useCallback((o,a)=>{r.mutate(o,a).catch(_r)},[r]);if(s.error&&P5(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function z5(t){const e=cV({...t,queryKeyHashFn:zH});return e.queryKey=t.queryKey,e}function W5(t={}){const e=Wc(t);return R.useSyncExternalStore(n=>Sq(e,{onChange:n}),()=>_T(e),()=>_T(e))}function lV(t={}){const e=Wc(t);return R.useSyncExternalStore(n=>v5(e,{onChange:n}),()=>CT(e),()=>CT(e))}function q5(t={}){const{mutation:e}=t,n=Wc(t),r=qH(n),{mutate:s,mutateAsync:i,...o}=F5({...e,...r});return R.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:lV({config:n})}}function uV(t={}){const e=Wc(t);return R.useSyncExternalStore(n=>Aq(e,{onChange:n}),()=>Wi(e),()=>Wi(e))}function H5(t={}){const{mutation:e}=t,n=Wc(t),r=HH(n),{mutate:s,mutateAsync:i,...o}=F5({...e,...r});return{...o,connectors:uV({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:i}}function V5(t={}){const{address:e,query:n={}}=t,r=Wc(t),s=W5({config:r}),i=VH(r,{...t,chainId:t.chainId??s}),o=!!(e&&(n.enabled??!0));return z5({...n,...i,enabled:o})}function G5(t={}){const{query:e={},...n}=t,r=Wc(n),s=cA(),{address:i,connector:o,status:a}=sv({config:r}),c=W5({config:r}),l=t.connector??o,{queryKey:u,...d}=KH(r,{...t,chainId:t.chainId??c,connector:t.connector??o}),h=!!((a==="connected"||a==="reconnecting"&&(l!=null&&l.getProvider))&&(e.enabled??!0)),f=R.useRef(i);return R.useEffect(()=>{const p=f.current;!i&&p?(s.removeQueries({queryKey:u}),f.current=void 0):i!==p&&(s.invalidateQueries({queryKey:u}),f.current=i)},[i,s]),z5({...e,...d,queryKey:u,enabled:h,staleTime:Number.POSITIVE_INFINITY})}const dV="_verified_lvyh0_1",lA={verified:dV},hV=()=>m.jsx("svg",{viewBox:"0 0 24 24","aria-label":"Verified account",role:"img",className:lA.verified,children:m.jsx("g",{children:m.jsx("path",{d:"M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.26 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z"})})}),fV=()=>m.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:lA.verified,children:m.jsxs("g",{children:[m.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-a",x1:"4.411",x2:"18.083",y1:"2.495",y2:"21.508",children:[m.jsx("stop",{offset:"0",stopColor:"#f4e72a"}),m.jsx("stop",{offset:".539",stopColor:"#cd8105"}),m.jsx("stop",{offset:".68",stopColor:"#cb7b00"}),m.jsx("stop",{offset:"1",stopColor:"#f4ec26"}),m.jsx("stop",{offset:"1",stopColor:"#f4e72a"})]}),m.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-b",x1:"5.355",x2:"16.361",y1:"3.395",y2:"19.133",children:[m.jsx("stop",{offset:"0",stopColor:"#f9e87f"}),m.jsx("stop",{offset:".406",stopColor:"#e2b719"}),m.jsx("stop",{offset:".989",stopColor:"#e2b719"})]}),m.jsxs("g",{clipRule:"evenodd",fillRule:"evenodd",children:[m.jsx("path",{d:"M13.324 3.848L11 1.6 8.676 3.848l-3.201-.453-.559 3.184L2.06 8.095 3.48 11l-1.42 2.904 2.856 1.516.559 3.184 3.201-.452L11 20.4l2.324-2.248 3.201.452.559-3.184 2.856-1.516L18.52 11l1.42-2.905-2.856-1.516-.559-3.184zm-7.09 7.575l3.428 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-a)"}),m.jsx("path",{d:"M13.101 4.533L11 2.5 8.899 4.533l-2.895-.41-.505 2.88-2.583 1.37L4.2 11l-1.284 2.627 2.583 1.37.505 2.88 2.895-.41L11 19.5l2.101-2.033 2.895.41.505-2.88 2.583-1.37L17.8 11l1.284-2.627-2.583-1.37-.505-2.88zm-6.868 6.89l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-b)"}),m.jsx("path",{d:"M6.233 11.423l3.429 3.428 5.65-6.17.038-.033-.005 1.398-5.683 6.206-3.429-3.429-.003-1.405.005.003z",fill:"#d18800"})]})]})}),pV=()=>m.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:lA.verified,children:m.jsx("g",{children:m.jsx("path",{clipRule:"evenodd",d:"M12.05 2.056c-.568-.608-1.532-.608-2.1 0l-1.393 1.49c-.284.303-.685.47-1.1.455L5.42 3.932c-.832-.028-1.514.654-1.486 1.486l.069 2.039c.014.415-.152.816-.456 1.1l-1.49 1.392c-.608.568-.608 1.533 0 2.101l1.49 1.393c.304.284.47.684.456 1.1l-.07 2.038c-.027.832.655 1.514 1.487 1.486l2.038-.069c.415-.014.816.152 1.1.455l1.392 1.49c.569.609 1.533.609 2.102 0l1.393-1.49c.283-.303.684-.47 1.099-.455l2.038.069c.832.028 1.515-.654 1.486-1.486L18 14.542c-.015-.415.152-.815.455-1.099l1.49-1.393c.608-.568.608-1.533 0-2.101l-1.49-1.393c-.303-.283-.47-.684-.455-1.1l.068-2.038c.029-.832-.654-1.514-1.486-1.486l-2.038.07c-.415.013-.816-.153-1.1-.456zm-5.817 9.367l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fillRule:"evenodd"})})});function K5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=K5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ec(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=K5(t))&&(r&&(r+=" "),r+=e);return r}const gV="_root_98iqw_1",mV="_article_98iqw_21",LT={root:gV,article:mV},uA=({className:t,children:e})=>m.jsx("div",{className:Ec("react-tweet-theme",LT.root,t),children:m.jsx("article",{className:LT.article,children:e})}),Y5=t=>m.jsx("img",{...t}),yV="_header_nqq4j_1",wV="_avatar_nqq4j_11",vV="_avatarOverflow_nqq4j_16",bV="_avatarSquare_nqq4j_23",EV="_avatarShadow_nqq4j_26",_V="_author_nqq4j_37",CV="_authorLink_nqq4j_44",xV="_authorVerified_nqq4j_53",SV="_authorLinkText_nqq4j_56",AV="_authorMeta_nqq4j_63",IV="_authorFollow_nqq4j_66",TV="_username_nqq4j_69",NV="_follow_nqq4j_74",PV="_separator_nqq4j_82",kV="_brand_nqq4j_86",OV="_twitterIcon_nqq4j_90",Bn={header:yV,avatar:wV,avatarOverflow:vV,avatarSquare:bV,avatarShadow:EV,author:_V,authorLink:CV,authorVerified:xV,authorLinkText:SV,authorMeta:AV,authorFollow:IV,username:TV,follow:NV,separator:PV,brand:kV,twitterIcon:OV},RV="_verifiedOld_lcna5_1",$V="_verifiedBlue_lcna5_4",DV="_verifiedGovernment_lcna5_7",Gb={verifiedOld:RV,verifiedBlue:$V,verifiedGovernment:DV},J5=({user:t,className:e})=>{const n=t.verified||t.is_blue_verified||t.verified_type;let r=m.jsx(hV,{}),s=Gb.verifiedBlue;if(n)switch(t.is_blue_verified||(s=Gb.verifiedOld),t.verified_type){case"Government":r=m.jsx(pV,{}),s=Gb.verifiedGovernment;break;case"Business":r=m.jsx(fV,{}),s=null;break}return n?m.jsx("div",{className:Ec(e,s),children:r}):null},jV=({tweet:t,components:e})=>{var n;const r=(n=e==null?void 0:e.AvatarImg)!=null?n:Y5,{user:s}=t;return m.jsxs("div",{className:Bn.header,children:[m.jsxs("a",{href:t.url,className:Bn.avatar,target:"_blank",rel:"noopener noreferrer",children:[m.jsx("div",{className:Ec(Bn.avatarOverflow,s.profile_image_shape==="Square"&&Bn.avatarSquare),children:m.jsx(r,{src:s.profile_image_url_https,alt:s.name,width:48,height:48})}),m.jsx("div",{className:Bn.avatarOverflow,children:m.jsx("div",{className:Bn.avatarShadow})})]}),m.jsxs("div",{className:Bn.author,children:[m.jsxs("a",{href:t.url,className:Bn.authorLink,target:"_blank",rel:"noopener noreferrer",children:[m.jsx("div",{className:Bn.authorLinkText,children:m.jsx("span",{title:s.name,children:s.name})}),m.jsx(J5,{user:s,className:Bn.authorVerified})]}),m.jsxs("div",{className:Bn.authorMeta,children:[m.jsx("a",{href:t.url,className:Bn.username,target:"_blank",rel:"noopener noreferrer",children:m.jsxs("span",{title:`@${s.screen_name}`,children:["@",s.screen_name]})}),m.jsxs("div",{className:Bn.authorFollow,children:[m.jsx("span",{className:Bn.separator,children:"·"}),m.jsx("a",{href:s.follow_url,className:Bn.follow,target:"_blank",rel:"noopener noreferrer",children:"Follow"})]})]})]}),m.jsx("a",{href:t.url,className:Bn.brand,target:"_blank",rel:"noopener noreferrer","aria-label":"View on Twitter",children:m.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:Bn.twitterIcon,children:m.jsx("g",{children:m.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})})]})},UV="_root_1ec15_1",LV={root:UV},MV=({tweet:t})=>m.jsxs("a",{href:t.in_reply_to_url,className:LV.root,target:"_blank",rel:"noopener noreferrer",children:["Replying to @",t.in_reply_to_screen_name]}),BV="_root_eihfa_1",FV={root:BV},zV=({href:t,children:e})=>m.jsx("a",{href:t,className:FV.root,target:"_blank",rel:"noopener noreferrer nofollow",children:e}),WV="_root_1xq52_1",qV={root:WV},HV=({tweet:t})=>m.jsx("p",{className:qV.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>{switch(e.type){case"hashtag":case"mention":case"url":case"symbol":return m.jsx(zV,{href:e.href,children:e.text},n);case"media":return;default:return m.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n)}})}),MT=t=>`https://x.com/${t.user.screen_name}/status/${t.id_str}`,Q5=t=>`https://x.com/${typeof t=="string"?t:t.user.screen_name}`,VV=t=>`https://x.com/intent/like?tweet_id=${t.id_str}`,GV=t=>`https://x.com/intent/tweet?in_reply_to=${t.id_str}`,KV=t=>`https://x.com/intent/follow?screen_name=${t.user.screen_name}`,YV=t=>`https://x.com/hashtag/${t.text}`,JV=t=>`https://x.com/search?q=%24${t.text}`,QV=t=>`https://x.com/${t.in_reply_to_screen_name}/status/${t.in_reply_to_status_id_str}`,Z5=(t,e)=>{const n=new URL(t.media_url_https),r=n.pathname.split(".").pop();return r?(n.pathname=n.pathname.replace(`.${r}`,""),n.searchParams.set("format",r),n.searchParams.set("name",e),n.toString()):t.media_url_https},ZV=t=>{const{variants:e}=t.video_info;return e.filter(r=>r.content_type==="video/mp4").sort((r,s)=>{var i,o;return((i=s.bitrate)!=null?i:0)-((o=r.bitrate)!=null?o:0)})},XV=t=>{const e=ZV(t);return e.length>1?e[1]:e[0]},sC=t=>t>999999?`${(t/1e6).toFixed(1)}M`:t>999?`${(t/1e3).toFixed(1)}K`:t.toString();function BT(t){const e=Array.from(t.text),n=[{indices:t.display_text_range,type:"text"}];return ef(n,"hashtag",t.entities.hashtags),ef(n,"mention",t.entities.user_mentions),ef(n,"url",t.entities.urls),ef(n,"symbol",t.entities.symbols),t.entities.media&&ef(n,"media",t.entities.media),eG(t,n),n.map(r=>{const s=e.slice(r.indices[0],r.indices[1]).join("");switch(r.type){case"hashtag":return Object.assign(r,{href:YV(r),text:s});case"mention":return Object.assign(r,{href:Q5(r.screen_name),text:s});case"url":case"media":return Object.assign(r,{href:r.expanded_url,text:r.display_url});case"symbol":return Object.assign(r,{href:JV(r),text:s});default:return Object.assign(r,{text:s})}})}function ef(t,e,n){for(const r of n)for(const[s,i]of t.entries()){if(i.indices[0]>r.indices[0]||i.indices[1]<r.indices[1])continue;const o=[{...r,type:e}];i.indices[0]<r.indices[0]&&o.unshift({indices:[i.indices[0],r.indices[0]],type:"text"}),i.indices[1]>r.indices[1]&&o.push({indices:[r.indices[1],i.indices[1]],type:"text"}),t.splice(s,1,...o);break}}function eG(t,e){t.entities.media&&t.entities.media[0].indices[0]<t.display_text_range[1]&&(t.display_text_range[1]=t.entities.media[0].indices[0]);const n=e.at(-1);n&&n.indices[1]>t.display_text_range[1]&&(n.indices[1]=t.display_text_range[1])}const tG=t=>({...t,url:MT(t),user:{...t.user,url:Q5(t),follow_url:KV(t)},like_url:VV(t),reply_url:GV(t),in_reply_to_url:t.in_reply_to_screen_name?QV(t):void 0,entities:BT(t),quoted_tweet:t.quoted_tweet?{...t.quoted_tweet,url:MT(t.quoted_tweet),entities:BT(t.quoted_tweet)}:void 0}),nG="_root_g9tkv_1",rG="_rounded_g9tkv_6",sG="_mediaWrapper_g9tkv_10",iG="_grid2Columns_g9tkv_17",oG="_grid3_g9tkv_20",aG="_grid2x2_g9tkv_23",cG="_mediaContainer_g9tkv_26",lG="_mediaLink_g9tkv_34",uG="_skeleton_g9tkv_38",dG="_image_g9tkv_43",us={root:nG,rounded:rG,mediaWrapper:sG,grid2Columns:iG,grid3:oG,grid2x2:aG,mediaContainer:cG,mediaLink:lG,skeleton:uG,image:dG},hG="_anchor_fp31d_1",fG="_videoButton_fp31d_17",pG="_videoButtonIcon_fp31d_35",gG="_watchOnTwitter_fp31d_44",mG="_viewReplies_fp31d_60",Au={anchor:hG,videoButton:fG,videoButtonIcon:pG,watchOnTwitter:gG,viewReplies:mG},yG=({tweet:t,media:e})=>{const[n,r]=R.useState(!0),[s,i]=R.useState(!1),[o,a]=R.useState(!1),c=XV(e);let l=0;return m.jsxs(m.Fragment,{children:[m.jsx("video",{className:us.image,poster:Z5(e,"small"),controls:!n,playsInline:!0,preload:"none",tabIndex:n?-1:0,onPlay:()=>{l&&window.clearTimeout(l),s||i(!0),o&&a(!1)},onPause:()=>{l&&window.clearTimeout(l),l=window.setTimeout(()=>{s&&i(!1),l=0},100)},onEnded:()=>{a(!0)},children:m.jsx("source",{src:c.url,type:c.content_type})}),n&&m.jsx("button",{type:"button",className:Au.videoButton,"aria-label":"View video on X",onClick:u=>{const d=u.currentTarget.previousSibling;u.preventDefault(),r(!1),d.load(),d.play().then(()=>{i(!0),d.focus()}).catch(h=>{console.error("Error playing video:",h),r(!0),i(!1)})},children:m.jsx("svg",{viewBox:"0 0 24 24",className:Au.videoButtonIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M21 12L4 2v20l17-10z"})})})}),!s&&!o&&m.jsx("div",{className:Au.watchOnTwitter,children:m.jsx("a",{href:t.url,className:Au.anchor,target:"_blank",rel:"noopener noreferrer",children:n?"Watch on X":"Continue watching on X"})}),o&&m.jsx("a",{href:t.url,className:Ec(Au.anchor,Au.viewReplies),target:"_blank",rel:"noopener noreferrer",children:"View replies"})]})},wG=t=>m.jsx("img",{...t}),FT=(t,e)=>{let n=56.25;return e===1&&(n=100/t.original_info.width*t.original_info.height),e===2&&(n=n*2),{width:t.type==="photo"?void 0:"unset",paddingBottom:`${n}%`}},X5=({tweet:t,components:e,quoted:n})=>{var r,s,i;const o=(i=(r=t.mediaDetails)==null?void 0:r.length)!=null?i:0;var a;const c=(a=e==null?void 0:e.MediaImg)!=null?a:wG;return m.jsx("div",{className:Ec(us.root,!n&&us.rounded),children:m.jsx("div",{className:Ec(us.mediaWrapper,o>1&&us.grid2Columns,o===3&&us.grid3,o>4&&us.grid2x2),children:(s=t.mediaDetails)==null?void 0:s.map(l=>m.jsx(R.Fragment,{children:l.type==="photo"?m.jsxs("a",{href:t.url,className:Ec(us.mediaContainer,us.mediaLink),target:"_blank",rel:"noopener noreferrer",children:[m.jsx("div",{className:us.skeleton,style:FT(l,o)}),m.jsx(c,{src:Z5(l,"small"),alt:l.ext_alt_text||"Image",className:us.image,draggable:!0})]},l.media_url_https):m.jsxs("div",{className:us.mediaContainer,children:[m.jsx("div",{className:us.skeleton,style:FT(l,o)}),m.jsx(yG,{tweet:t,media:l})]},l.media_url_https)},l.media_url_https))})})},vG={hour:"numeric",minute:"2-digit",hour12:!0,weekday:"short",month:"short",day:"numeric",year:"numeric"},bG=new Intl.DateTimeFormat("en-US",vG),EG=t=>{const e={};for(const n of t)e[n.type]=n.value;return e},_G=t=>{const e=EG(bG.formatToParts(t)),n=`${e.hour}:${e.minute} ${e.dayPeriod}`,r=`${e.month} ${e.day}, ${e.year}`;return`${n} · ${r}`},CG="_root_i24yn_1",xG={root:CG},SG=({tweet:t})=>{const e=new Date(t.created_at),n=_G(e);return m.jsx("a",{className:xG.root,href:t.url,target:"_blank",rel:"noopener noreferrer","aria-label":n,children:m.jsx("time",{dateTime:e.toISOString(),children:n})})},AG="_info_19qcj_1",IG="_infoLink_19qcj_10",TG="_infoIcon_19qcj_30",Kb={info:AG,infoLink:IG,infoIcon:TG},NG=({tweet:t})=>m.jsxs("div",{className:Kb.info,children:[m.jsx(SG,{tweet:t}),m.jsx("a",{className:Kb.infoLink,href:"https://help.x.com/en/x-for-websites-ads-info-and-privacy",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter for Websites, Ads Information and Privacy",children:m.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:Kb.infoIcon,children:m.jsx("g",{children:m.jsx("path",{d:"M13.5 8.5c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5S11.17 7 12 7s1.5.67 1.5 1.5zM13 17v-5h-2v5h2zm-1 5.25c5.66 0 10.25-4.59 10.25-10.25S17.66 1.75 12 1.75 1.75 6.34 1.75 12 6.34 22.25 12 22.25zM20.25 12c0 4.56-3.69 8.25-8.25 8.25S3.75 16.56 3.75 12 7.44 3.75 12 3.75s8.25 3.69 8.25 8.25z"})})})})]}),PG="_actions_n2anf_1",kG="_like_n2anf_13",OG="_reply_n2anf_14",RG="_copy_n2anf_15",$G="_likeIconWrapper_n2anf_27",DG="_likeCount_n2anf_30",jG="_replyIconWrapper_n2anf_35",UG="_copyIconWrapper_n2anf_36",LG="_likeIcon_n2anf_27",MG="_replyIcon_n2anf_35",BG="_copyIcon_n2anf_36",FG="_replyText_n2anf_56",zG="_copyText_n2anf_57",Vr={actions:PG,like:kG,reply:OG,copy:RG,likeIconWrapper:$G,likeCount:DG,replyIconWrapper:jG,copyIconWrapper:UG,likeIcon:LG,replyIcon:MG,copyIcon:BG,replyText:FG,copyText:zG},WG=({tweet:t})=>{const[e,n]=R.useState(!1),r=()=>{navigator.clipboard.writeText(t.url),n(!0)};return R.useEffect(()=>{if(e){const s=setTimeout(()=>{n(!1)},6e3);return()=>clearTimeout(s)}},[e]),m.jsxs("button",{type:"button",className:Vr.copy,"aria-label":"Copy link",onClick:r,children:[m.jsx("div",{className:Vr.copyIconWrapper,children:e?m.jsx("svg",{viewBox:"0 0 24 24",className:Vr.copyIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M9.64 18.952l-5.55-4.861 1.317-1.504 3.951 3.459 8.459-10.948L19.4 6.32 9.64 18.952z"})})}):m.jsx("svg",{viewBox:"0 0 24 24",className:Vr.copyIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M18.36 5.64c-1.95-1.96-5.11-1.96-7.07 0L9.88 7.05 8.46 5.64l1.42-1.42c2.73-2.73 7.16-2.73 9.9 0 2.73 2.74 2.73 7.17 0 9.9l-1.42 1.42-1.41-1.42 1.41-1.41c1.96-1.96 1.96-5.12 0-7.07zm-2.12 3.53l-7.07 7.07-1.41-1.41 7.07-7.07 1.41 1.41zm-12.02.71l1.42-1.42 1.41 1.42-1.41 1.41c-1.96 1.96-1.96 5.12 0 7.07 1.95 1.96 5.11 1.96 7.07 0l1.41-1.41 1.42 1.41-1.42 1.42c-2.73 2.73-7.16 2.73-9.9 0-2.73-2.74-2.73-7.17 0-9.9z"})})})}),m.jsx("span",{className:Vr.copyText,children:e?"Copied!":"Copy link"})]})},qG=({tweet:t})=>{const e=sC(t.favorite_count);return m.jsxs("div",{className:Vr.actions,children:[m.jsxs("a",{className:Vr.like,href:t.like_url,target:"_blank",rel:"noopener noreferrer","aria-label":`Like. This Tweet has ${e} likes`,children:[m.jsx("div",{className:Vr.likeIconWrapper,children:m.jsx("svg",{viewBox:"0 0 24 24",className:Vr.likeIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M20.884 13.19c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z"})})})}),m.jsx("span",{className:Vr.likeCount,children:e})]}),m.jsxs("a",{className:Vr.reply,href:t.reply_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Reply to this Tweet on Twitter",children:[m.jsx("div",{className:Vr.replyIconWrapper,children:m.jsx("svg",{viewBox:"0 0 24 24",className:Vr.replyIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 8.129 3.64 8.129 8.13 0 2.96-1.607 5.68-4.196 7.11l-8.054 4.46v-3.69h-.067c-4.49.1-8.183-3.51-8.183-8.01z"})})})}),m.jsx("span",{className:Vr.replyText,children:"Reply"})]}),m.jsx(WG,{tweet:t})]})},HG="_replies_1cutb_1",VG="_link_1cutb_4",GG="_text_1cutb_23",Yb={replies:HG,link:VG,text:GG},KG=({tweet:t})=>m.jsx("div",{className:Yb.replies,children:m.jsx("a",{className:Yb.link,href:t.url,target:"_blank",rel:"noopener noreferrer",children:m.jsx("span",{className:Yb.text,children:t.conversation_count===0?"Read more on X":t.conversation_count===1?`Read ${sC(t.conversation_count)} reply`:`Read ${sC(t.conversation_count)} replies`})})}),YG="_root_q5799_1",JG="_article_q5799_16",zT={root:YG,article:JG},QG=({tweet:t,children:e})=>m.jsx("div",{className:zT.root,onClick:n=>{n.preventDefault(),window.open(t.url,"_blank")},children:m.jsx("article",{className:zT.article,children:e})}),ZG="_header_r31i5_1",XG="_avatar_r31i5_11",eK="_avatarSquare_r31i5_17",tK="_author_r31i5_21",nK="_authorText_r31i5_26",rK="_username_r31i5_33",Gc={header:ZG,avatar:XG,avatarSquare:eK,author:tK,authorText:nK,username:rK},sK=({tweet:t})=>{const{user:e}=t;return m.jsxs("div",{className:Gc.header,children:[m.jsx("a",{href:t.url,className:Gc.avatar,target:"_blank",rel:"noopener noreferrer",children:m.jsx("div",{className:Ec(Gc.avatarOverflow,e.profile_image_shape==="Square"&&Gc.avatarSquare),children:m.jsx(Y5,{src:e.profile_image_url_https,alt:e.name,width:20,height:20})})}),m.jsxs("div",{className:Gc.author,children:[m.jsx("div",{className:Gc.authorText,children:m.jsx("span",{title:e.name,children:e.name})}),m.jsx(J5,{user:e}),m.jsx("div",{className:Gc.username,children:m.jsxs("span",{title:`@${e.screen_name}`,children:["@",e.screen_name]})})]})]})},iK="_root_175ot_1",oK={root:iK},aK=({tweet:t})=>m.jsx("p",{className:oK.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>m.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n))}),cK=({tweet:t})=>{var e;return m.jsxs(QG,{tweet:t,children:[m.jsx(sK,{tweet:t}),m.jsx(aK,{tweet:t}),(e=t.mediaDetails)!=null&&e.length?m.jsx(X5,{quoted:!0,tweet:t}):null]})},lK=({tweet:t,components:e})=>{var n;const r=R.useMemo(()=>tG(t),[t]);return m.jsxs(uA,{children:[m.jsx(jV,{tweet:r,components:e}),r.in_reply_to_status_id_str&&m.jsx(MV,{tweet:r}),m.jsx(HV,{tweet:r}),(n=r.mediaDetails)!=null&&n.length?m.jsx(X5,{tweet:r,components:e}):null,r.quoted_tweet&&m.jsx(cK,{tweet:r.quoted_tweet}),m.jsx(NG,{tweet:r}),m.jsx(qG,{tweet:r}),m.jsx(KG,{tweet:r})]})},uK="_root_16yxa_1",dK={root:uK},hK=t=>m.jsx(uA,{children:m.jsxs("div",{className:dK.root,children:[m.jsx("h3",{children:"Tweet not found"}),m.jsx("p",{children:"The embedded tweet could not be found…"})]})}),fK="_skeleton_oi7hr_1",pK={skeleton:fK},Zm=({style:t})=>m.jsx("span",{className:pK.skeleton,style:t}),gK="_root_17qqv_1",mK={root:gK},yK=()=>m.jsxs(uA,{className:mK.root,children:[m.jsx(Zm,{style:{height:"3rem",marginBottom:"0.75rem"}}),m.jsx(Zm,{style:{height:"6rem",margin:"0.5rem 0"}}),m.jsx("div",{style:{borderTop:"var(--tweet-border)",margin:"0.5rem 0"}}),m.jsx(Zm,{style:{height:"2rem"}}),m.jsx(Zm,{style:{height:"2rem",borderRadius:"9999px",marginTop:"0.5rem"}})]});var e8={exports:{}},t8={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh=R;function wK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vK=typeof Object.is=="function"?Object.is:wK,bK=sh.useState,EK=sh.useEffect,_K=sh.useLayoutEffect,CK=sh.useDebugValue;function xK(t,e){var n=e(),r=bK({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return _K(function(){s.value=n,s.getSnapshot=e,Jb(s)&&i({inst:s})},[t,n,e]),EK(function(){return Jb(s)&&i({inst:s}),t(function(){Jb(s)&&i({inst:s})})},[t]),CK(n),n}function Jb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vK(t,n)}catch{return!0}}function SK(t,e){return e()}var AK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?SK:xK;t8.useSyncExternalStore=sh.useSyncExternalStore!==void 0?sh.useSyncExternalStore:AK;e8.exports=t8;var IK=e8.exports;const n8=0,r8=1,s8=2,WT=3;var qT=Object.prototype.hasOwnProperty;function iC(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&iC(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(qT.call(t,n)&&++r&&!qT.call(e,n)||!(n in e)||!iC(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const Ro=new WeakMap,ic=()=>{},Cr=ic(),oC=Object,ct=t=>t===Cr,Ji=t=>typeof t=="function",Rc=(t,e)=>({...t,...e}),i8=t=>Ji(t.then),Qb={},Xm={},dA="undefined",rm=typeof window!=dA,aC=typeof document!=dA,TK=rm&&"Deno"in window,NK=()=>rm&&typeof window.requestAnimationFrame!=dA,o8=(t,e)=>{const n=Ro.get(t);return[()=>!ct(e)&&t.get(e)||Qb,r=>{if(!ct(e)){const s=t.get(e);e in Xm||(Xm[e]=s),n[5](e,Rc(s,r),s||Qb)}},n[6],()=>!ct(e)&&e in Xm?Xm[e]:!ct(e)&&t.get(e)||Qb]};let cC=!0;const PK=()=>cC,[lC,uC]=rm&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[ic,ic],kK=()=>{const t=aC&&document.visibilityState;return ct(t)||t!=="hidden"},OK=t=>(aC&&document.addEventListener("visibilitychange",t),lC("focus",t),()=>{aC&&document.removeEventListener("visibilitychange",t),uC("focus",t)}),RK=t=>{const e=()=>{cC=!0,t()},n=()=>{cC=!1};return lC("online",e),lC("offline",n),()=>{uC("online",e),uC("offline",n)}},$K={isOnline:PK,isVisible:kK},DK={initFocus:OK,initReconnect:RK},HT=!vs.useId,ig=!rm||TK,jK=t=>NK()?window.requestAnimationFrame(t):setTimeout(t,1),Zb=ig?R.useEffect:R.useLayoutEffect,Xb=typeof navigator<"u"&&navigator.connection,VT=!ig&&Xb&&(["slow-2g","2g"].includes(Xb.effectiveType)||Xb.saveData),ey=new WeakMap,e1=(t,e)=>oC.prototype.toString.call(t)===`[object ${e}]`;let UK=0;const dC=t=>{const e=typeof t,n=e1(t,"Date"),r=e1(t,"RegExp"),s=e1(t,"Object");let i,o;if(oC(t)===t&&!n&&!r){if(i=ey.get(t),i)return i;if(i=++UK+"~",ey.set(t,i),Array.isArray(t)){for(i="@",o=0;o<t.length;o++)i+=dC(t[o])+",";ey.set(t,i)}if(s){i="#";const a=oC.keys(t).sort();for(;!ct(o=a.pop());)ct(t[o])||(i+=o+":"+dC(t[o])+",");ey.set(t,i)}}else i=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},hA=t=>{if(Ji(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?dC(t):"",[t,e]};let LK=0;const hC=()=>++LK;async function a8(...t){const[e,n,r,s]=t,i=Rc({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let o=i.populateCache;const a=i.rollbackOnError;let c=i.optimisticData;const l=h=>typeof a=="function"?a(h):a!==!1,u=i.throwOnError;if(Ji(n)){const h=n,f=[],p=e.keys();for(const g of p)!/^\$(inf|sub)\$/.test(g)&&h(e.get(g)._k)&&f.push(g);return Promise.all(f.map(d))}return d(n);async function d(h){const[f]=hA(h);if(!f)return;const[p,g]=o8(e,f),[w,y,b,v]=Ro.get(e),_=()=>{const F=w[f];return(Ji(i.revalidate)?i.revalidate(p().data,h):i.revalidate!==!1)&&(delete b[f],delete v[f],F&&F[0])?F[0](s8).then(()=>p().data):p().data};if(t.length<3)return _();let E=r,x;const S=hC();y[f]=[S,0];const A=!ct(c),C=p(),P=C.data,k=C._c,B=ct(k)?P:k;if(A&&(c=Ji(c)?c(B,P):c,g({data:c,_c:B})),Ji(E))try{E=E(B)}catch(F){x=F}if(E&&i8(E))if(E=await E.catch(F=>{x=F}),S!==y[f][0]){if(x)throw x;return E}else x&&A&&l(x)&&(o=!0,g({data:B,_c:Cr}));if(o&&!x)if(Ji(o)){const F=o(E,B);g({data:F,error:Cr,_c:Cr})}else g({data:E,error:Cr,_c:Cr});if(y[f][1]=hC(),Promise.resolve(_()).then(()=>{g({_c:Cr})}),x){if(u)throw x;return}return E}}const GT=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},MK=(t,e)=>{if(!Ro.has(t)){const n=Rc(DK,e),r=Object.create(null),s=a8.bind(Cr,t);let i=ic;const o=Object.create(null),a=(u,d)=>{const h=o[u]||[];return o[u]=h,h.push(d),()=>h.splice(h.indexOf(d),1)},c=(u,d,h)=>{t.set(u,d);const f=o[u];if(f)for(const p of f)p(d,h)},l=()=>{if(!Ro.has(t)&&(Ro.set(t,[r,Object.create(null),Object.create(null),Object.create(null),s,c,a]),!ig)){const u=n.initFocus(setTimeout.bind(Cr,GT.bind(Cr,r,n8))),d=n.initReconnect(setTimeout.bind(Cr,GT.bind(Cr,r,r8)));i=()=>{u&&u(),d&&d(),Ro.delete(t)}}};return l(),[t,s,l,i]}return[t,Ro.get(t)[4]]},BK=(t,e,n,r,s)=>{const i=n.errorRetryCount,o=s.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!ct(i)&&o>i||setTimeout(r,a,s)},FK=iC,[c8,zK]=MK(new Map),WK=Rc({onLoadingSlow:ic,onSuccess:ic,onError:ic,onErrorRetry:BK,onDiscarded:ic,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:VT?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:VT?5e3:3e3,compare:FK,isPaused:()=>!1,cache:c8,mutate:zK,fallback:{}},$K),qK=(t,e)=>{const n=Rc(t,e);if(e){const{use:r,fallback:s}=t,{use:i,fallback:o}=e;r&&i&&(n.use=r.concat(i)),s&&o&&(n.fallback=Rc(s,o))}return n},HK=R.createContext({}),VK="$inf$",l8=rm&&window.__SWR_DEVTOOLS_USE__,GK=l8?window.__SWR_DEVTOOLS_USE__:[],KK=()=>{l8&&(window.__SWR_DEVTOOLS_REACT__=vs)},YK=t=>Ji(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],JK=()=>Rc(WK,R.useContext(HK)),QK=t=>(e,n,r)=>t(e,n&&((...i)=>{const[o]=hA(e),[,,,a]=Ro.get(c8);if(o.startsWith(VK))return n(...i);const c=a[o];return ct(c)?n(...i):(delete a[o],c)}),r),ZK=GK.concat(QK),XK=t=>function(...n){const r=JK(),[s,i,o]=YK(n),a=qK(r,o);let c=t;const{use:l}=a,u=(l||[]).concat(ZK);for(let d=u.length;d--;)c=u[d](c);return c(s,i||a.fetcher||null,a)},eY=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}};KK();const t1=vs.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),n1={dedupe:!0},tY=(t,e,n)=>{const{cache:r,compare:s,suspense:i,fallbackData:o,revalidateOnMount:a,revalidateIfStale:c,refreshInterval:l,refreshWhenHidden:u,refreshWhenOffline:d,keepPreviousData:h}=n,[f,p,g,w]=Ro.get(r),[y,b]=hA(t),v=R.useRef(!1),_=R.useRef(!1),E=R.useRef(y),x=R.useRef(e),S=R.useRef(n),A=()=>S.current,C=()=>A().isVisible()&&A().isOnline(),[P,k,B,F]=o8(r,y),H=R.useRef({}).current,N=ct(o)?ct(n.fallback)?Cr:n.fallback[y]:o,T=(Ne,be)=>{for(const Oe in H){const He=Oe;if(He==="data"){if(!s(Ne[He],be[He])&&(!ct(Ne[He])||!s(ne,be[He])))return!1}else if(be[He]!==Ne[He])return!1}return!0},L=R.useMemo(()=>{const Ne=!y||!e?!1:ct(a)?A().isPaused()||i?!1:c!==!1:a,be=yt=>{const cn=Rc(yt);return delete cn._k,Ne?{isValidating:!0,isLoading:!0,...cn}:cn},Oe=P(),He=F(),Nt=be(Oe),wn=Oe===He?Nt:be(He);let Dt=Nt;return[()=>{const yt=be(P());return T(yt,Dt)?(Dt.data=yt.data,Dt.isLoading=yt.isLoading,Dt.isValidating=yt.isValidating,Dt.error=yt.error,Dt):(Dt=yt,yt)},()=>wn]},[r,y]),D=IK.useSyncExternalStore(R.useCallback(Ne=>B(y,(be,Oe)=>{T(Oe,be)||Ne()}),[r,y]),L[0],L[1]),$=!v.current,U=f[y]&&f[y].length>0,W=D.data,Y=ct(W)?N&&i8(N)?t1(N):N:W,te=D.error,ee=R.useRef(Y),ne=h?ct(W)?ct(ee.current)?Y:ee.current:W:Y,me=U&&!ct(te)?!1:$&&!ct(a)?a:A().isPaused()?!1:i?ct(Y)?!1:c:ct(Y)||c,G=!!(y&&e&&$&&me),Q=ct(D.isValidating)?G:D.isValidating,se=ct(D.isLoading)?G:D.isLoading,X=R.useCallback(async Ne=>{const be=x.current;if(!y||!be||_.current||A().isPaused())return!1;let Oe,He,Nt=!0;const wn=Ne||{},Dt=!g[y]||!wn.dedupe,yt=()=>HT?!_.current&&y===E.current&&v.current:y===E.current,cn={isValidating:!1,isLoading:!1},Ps=()=>{k(cn)},ra=()=>{const Mn=g[y];Mn&&Mn[1]===He&&delete g[y]},sa={isValidating:!0};ct(P().data)&&(sa.isLoading=!0);try{if(Dt&&(k(sa),n.loadingTimeout&&ct(P().data)&&setTimeout(()=>{Nt&&yt()&&A().onLoadingSlow(y,n)},n.loadingTimeout),g[y]=[be(b),hC()]),[Oe,He]=g[y],Oe=await Oe,Dt&&setTimeout(ra,n.dedupingInterval),!g[y]||g[y][1]!==He)return Dt&&yt()&&A().onDiscarded(y),!1;cn.error=Cr;const Mn=p[y];if(!ct(Mn)&&(He<=Mn[0]||He<=Mn[1]||Mn[1]===0))return Ps(),Dt&&yt()&&A().onDiscarded(y),!1;const Or=P().data;cn.data=s(Or,Oe)?Or:Oe,Dt&&yt()&&A().onSuccess(Oe,y,n)}catch(Mn){ra();const Or=A(),{shouldRetryOnError:ia}=Or;Or.isPaused()||(cn.error=Mn,Dt&&yt()&&(Or.onError(Mn,y,Or),(ia===!0||Ji(ia)&&ia(Mn))&&(!A().revalidateOnFocus||!A().revalidateOnReconnect||C())&&Or.onErrorRetry(Mn,y,Or,Mh=>{const oa=f[y];oa&&oa[0]&&oa[0](WT,Mh)},{retryCount:(wn.retryCount||0)+1,dedupe:!0})))}return Nt=!1,Ps(),!0},[y,r]),le=R.useCallback((...Ne)=>a8(r,E.current,...Ne),[]);if(Zb(()=>{x.current=e,S.current=n,ct(W)||(ee.current=W)}),Zb(()=>{if(!y)return;const Ne=X.bind(Cr,n1);let be=0;A().revalidateOnFocus&&(be=Date.now()+A().focusThrottleInterval);const He=eY(y,f,(Nt,wn={})=>{if(Nt==n8){const Dt=Date.now();A().revalidateOnFocus&&Dt>be&&C()&&(be=Dt+A().focusThrottleInterval,Ne())}else if(Nt==r8)A().revalidateOnReconnect&&C()&&Ne();else{if(Nt==s8)return X();if(Nt==WT)return X(wn)}});return _.current=!1,E.current=y,v.current=!0,k({_k:b}),me&&(ct(Y)||ig?Ne():jK(Ne)),()=>{_.current=!0,He()}},[y]),Zb(()=>{let Ne;function be(){const He=Ji(l)?l(P().data):l;He&&Ne!==-1&&(Ne=setTimeout(Oe,He))}function Oe(){!P().error&&(u||A().isVisible())&&(d||A().isOnline())?X(n1).then(be):be()}return be(),()=>{Ne&&(clearTimeout(Ne),Ne=-1)}},[l,u,d,y]),R.useDebugValue(ne),i&&ct(Y)&&y){if(!HT&&ig)throw new Error("Fallback data is required when using Suspense in SSR.");x.current=e,S.current=n,_.current=!1;const Ne=w[y];if(!ct(Ne)){const be=le(Ne);t1(be)}if(ct(te)){const be=X(n1);ct(ne)||(be.status="fulfilled",be.value=!0),t1(be)}else throw te}return{mutate:le,get data(){return H.data=!0,ne},get error(){return H.error=!0,te},get isValidating(){return H.isValidating=!0,Q},get isLoading(){return H.isLoading=!0,se}}},KT=XK(tY);class nY extends Error{constructor({message:e,status:n,data:r}){super(e),this.name="TwitterApiError",this.status=n,this.data=r}}const rY=KT.default||KT,sY="https://react-tweet.vercel.app";async function iY([t,e]){const n=await fetch(t,e),r=await n.json();if(n.ok)return r.data||null;throw new nY({message:`Failed to fetch tweet at "${t}" with "${n.status}".`,data:r,status:n.status})}const oY=(t,e,n)=>{const{isLoading:r,data:s,error:i}=rY(()=>e||t?[e||t&&`${sY}/api/tweet/${t}`,n]:null,iY,{revalidateIfStale:!1,revalidateOnFocus:!1,shouldRetryOnError:!1});return{isLoading:!!(r||s===void 0&&!i),data:s,error:i}},aY=({id:t,apiUrl:e,fallback:n=m.jsx(yK,{}),components:r,fetchOptions:s,onError:i})=>{const{data:o,error:a,isLoading:c}=oY(t,e,s);if(c)return n;if(a||!o){const l=(r==null?void 0:r.TweetNotFound)||hK;return m.jsx(l,{error:i?i(a):a})}return m.jsx(lK,{tweet:o,components:r})};var iv={exports:{}},u8={},d8={exports:{}},cY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lY=cY,uY=lY;function h8(){}function f8(){}f8.resetWarningCache=h8;var dY=function(){function t(r,s,i,o,a,c){if(c!==uY){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:f8,resetWarningCache:h8};return n.PropTypes=n,n};d8.exports=dY();var p8=d8.exports;function g8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=g8(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function YT(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=g8(t))&&(r&&(r+=" "),r+=e);return r}const hY=Object.freeze(Object.defineProperty({__proto__:null,clsx:YT,default:YT},Symbol.toStringTag,{value:"Module"})),fY=Tw(hY);var an={},lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.dontSetMe=wY;lo.findInArray=pY;lo.int=yY;lo.isFunction=gY;lo.isNum=mY;function pY(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function gY(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function mY(t){return typeof t=="number"&&!isNaN(t)}function yY(t){return parseInt(t,10)}function wY(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var hu={};Object.defineProperty(hu,"__esModule",{value:!0});hu.browserPrefixToKey=y8;hu.browserPrefixToStyle=vY;hu.default=void 0;hu.getPrefix=m8;const r1=["Moz","Webkit","O","ms"];function m8(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<r1.length;r++)if(y8(e,r1[r])in n)return r1[r];return""}function y8(t,e){return e?"".concat(e).concat(bY(t)):t}function vY(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function bY(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}hu.default=m8();Object.defineProperty(an,"__esModule",{value:!0});an.addClassName=b8;an.addEvent=CY;an.addUserSelectStyles=$Y;an.createCSSTransform=PY;an.createSVGTransform=kY;an.getTouch=OY;an.getTouchIdentifier=RY;an.getTranslation=fA;an.innerHeight=IY;an.innerWidth=TY;an.matchesSelector=v8;an.matchesSelectorAndParentsTo=_Y;an.offsetXYFromParent=NY;an.outerHeight=SY;an.outerWidth=AY;an.removeClassName=E8;an.removeEvent=xY;an.removeUserSelectStyles=DY;var _s=lo,JT=EY(hu);function w8(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(w8=function(r){return r?n:e})(t)}function EY(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=w8(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}let ty="";function v8(t,e){return ty||(ty=(0,_s.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,_s.isFunction)(t[n])})),(0,_s.isFunction)(t[ty])?t[ty](e):!1}function _Y(t,e,n){let r=t;do{if(v8(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function CY(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,s):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function xY(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,s):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function SY(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,_s.int)(n.borderTopWidth),e+=(0,_s.int)(n.borderBottomWidth),e}function AY(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,_s.int)(n.borderLeftWidth),e+=(0,_s.int)(n.borderRightWidth),e}function IY(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,_s.int)(n.paddingTop),e-=(0,_s.int)(n.paddingBottom),e}function TY(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,_s.int)(n.paddingLeft),e-=(0,_s.int)(n.paddingRight),e}function NY(t,e,n){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),i=(t.clientX+e.scrollLeft-s.left)/n,o=(t.clientY+e.scrollTop-s.top)/n;return{x:i,y:o}}function PY(t,e){const n=fA(t,e,"px");return{[(0,JT.browserPrefixToKey)("transform",JT.default)]:n}}function kY(t,e){return fA(t,e,"")}function fA(t,e,n){let{x:r,y:s}=t,i="translate(".concat(r).concat(n,",").concat(s).concat(n,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);i="translate(".concat(o,", ").concat(a,")")+i}return i}function OY(t,e){return t.targetTouches&&(0,_s.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,_s.findInArray)(t.changedTouches,n=>e===n.identifier)}function RY(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function $Y(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&b8(t.body,"react-draggable-transparent-selection")}function DY(t){if(t)try{if(t.body&&E8(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function b8(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function E8(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.canDragX=LY;uo.canDragY=MY;uo.createCoreData=FY;uo.createDraggableData=zY;uo.getBoundPosition=jY;uo.getControlPosition=BY;uo.snapToGrid=UY;var ds=lo,yd=an;function jY(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:WY(r);const s=pA(t);if(typeof r=="string"){const{ownerDocument:i}=s,o=i.defaultView;let a;if(r==="parent"?a=s.parentNode:a=i.querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=a,l=o.getComputedStyle(s),u=o.getComputedStyle(c);r={left:-s.offsetLeft+(0,ds.int)(u.paddingLeft)+(0,ds.int)(l.marginLeft),top:-s.offsetTop+(0,ds.int)(u.paddingTop)+(0,ds.int)(l.marginTop),right:(0,yd.innerWidth)(c)-(0,yd.outerWidth)(s)-s.offsetLeft+(0,ds.int)(u.paddingRight)-(0,ds.int)(l.marginRight),bottom:(0,yd.innerHeight)(c)-(0,yd.outerHeight)(s)-s.offsetTop+(0,ds.int)(u.paddingBottom)-(0,ds.int)(l.marginBottom)}}return(0,ds.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,ds.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,ds.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,ds.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function UY(t,e,n){const r=Math.round(e/t[0])*t[0],s=Math.round(n/t[1])*t[1];return[r,s]}function LY(t){return t.props.axis==="both"||t.props.axis==="x"}function MY(t){return t.props.axis==="both"||t.props.axis==="y"}function BY(t,e,n){const r=typeof e=="number"?(0,yd.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const s=pA(n),i=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,yd.offsetXYFromParent)(r||t,i,n.props.scale)}function FY(t,e,n){const r=!(0,ds.isNum)(t.lastX),s=pA(t);return r?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function zY(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function WY(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function pA(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var ov={},av={};Object.defineProperty(av,"__esModule",{value:!0});av.default=qY;function qY(){}Object.defineProperty(ov,"__esModule",{value:!0});ov.default=void 0;var s1=VY(R),Rr=gA(p8),HY=gA($S),ir=an,da=uo,i1=lo,tf=gA(av);function gA(t){return t&&t.__esModule?t:{default:t}}function _8(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(_8=function(r){return r?n:e})(t)}function VY(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=_8(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function wr(t,e,n){return e=GY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GY(t){var e=KY(t,"string");return typeof e=="symbol"?e:String(e)}function KY(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const ii={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ha=ii.mouse,cv=class extends s1.Component{constructor(){super(...arguments),wr(this,"dragging",!1),wr(this,"lastX",NaN),wr(this,"lastY",NaN),wr(this,"touchIdentifier",null),wr(this,"mounted",!1),wr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,ir.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,ir.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const s=(0,ir.getTouchIdentifier)(e);this.touchIdentifier=s;const i=(0,da.getControlPosition)(e,s,this);if(i==null)return;const{x:o,y:a}=i,c=(0,da.createCoreData)(this,o,a);(0,tf.default)("DraggableCore: handleDragStart: %j",c),(0,tf.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,ir.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,ir.addEvent)(r,ha.move,this.handleDrag),(0,ir.addEvent)(r,ha.stop,this.handleDragStop))}),wr(this,"handleDrag",e=>{const n=(0,da.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,c=s-this.lastY;if([a,c]=(0,da.snapToGrid)(this.props.grid,a,c),!a&&!c)return;r=this.lastX+a,s=this.lastY+c}const i=(0,da.createCoreData)(this,r,s);if((0,tf.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(e,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=s}),wr(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,da.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,l=s-this.lastY||0;[c,l]=(0,da.snapToGrid)(this.props.grid,c,l),r=this.lastX+c,s=this.lastY+l}const i=(0,da.createCoreData)(this,r,s);if(this.props.onStop(e,i)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,ir.removeUserSelectStyles)(a.ownerDocument),(0,tf.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,tf.default)("DraggableCore: Removing handlers"),(0,ir.removeEvent)(a.ownerDocument,ha.move,this.handleDrag),(0,ir.removeEvent)(a.ownerDocument,ha.stop,this.handleDragStop))}),wr(this,"onMouseDown",e=>(ha=ii.mouse,this.handleDragStart(e))),wr(this,"onMouseUp",e=>(ha=ii.mouse,this.handleDragStop(e))),wr(this,"onTouchStart",e=>(ha=ii.touch,this.handleDragStart(e))),wr(this,"onTouchEnd",e=>(ha=ii.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,ir.addEvent)(e,ii.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,ir.removeEvent)(n,ii.mouse.move,this.handleDrag),(0,ir.removeEvent)(n,ii.touch.move,this.handleDrag),(0,ir.removeEvent)(n,ii.mouse.stop,this.handleDragStop),(0,ir.removeEvent)(n,ii.touch.stop,this.handleDragStop),(0,ir.removeEvent)(e,ii.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,ir.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:HY.default.findDOMNode(this)}render(){return s1.cloneElement(s1.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};ov.default=cv;wr(cv,"displayName","DraggableCore");wr(cv,"propTypes",{allowAnyClick:Rr.default.bool,children:Rr.default.node.isRequired,disabled:Rr.default.bool,enableUserSelectHack:Rr.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Rr.default.arrayOf(Rr.default.number),handle:Rr.default.string,cancel:Rr.default.string,nodeRef:Rr.default.object,onStart:Rr.default.func,onDrag:Rr.default.func,onStop:Rr.default.func,onMouseDown:Rr.default.func,scale:Rr.default.number,className:i1.dontSetMe,style:i1.dontSetMe,transform:i1.dontSetMe});wr(cv,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=h(R),n=u(p8),r=u($S),s=u(fY),i=an,o=uo,a=lo,c=u(ov),l=u(av);function u(b){return b&&b.__esModule?b:{default:b}}function d(b){if(typeof WeakMap!="function")return null;var v=new WeakMap,_=new WeakMap;return(d=function(E){return E?_:v})(b)}function h(b,v){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var _=d(v);if(_&&_.has(b))return _.get(b);var E={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in b)if(S!=="default"&&Object.prototype.hasOwnProperty.call(b,S)){var A=x?Object.getOwnPropertyDescriptor(b,S):null;A&&(A.get||A.set)?Object.defineProperty(E,S,A):E[S]=b[S]}return E.default=b,_&&_.set(b,E),E}function f(){return f=Object.assign?Object.assign.bind():function(b){for(var v=1;v<arguments.length;v++){var _=arguments[v];for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(b[E]=_[E])}return b},f.apply(this,arguments)}function p(b,v,_){return v=g(v),v in b?Object.defineProperty(b,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):b[v]=_,b}function g(b){var v=w(b,"string");return typeof v=="symbol"?v:String(v)}function w(b,v){if(typeof b!="object"||b===null)return b;var _=b[Symbol.toPrimitive];if(_!==void 0){var E=_.call(b,v);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(b)}class y extends e.Component{static getDerivedStateFromProps(v,_){let{position:E}=v,{prevPropsPosition:x}=_;return E&&(!x||E.x!==x.x||E.y!==x.y)?((0,l.default)("Draggable: getDerivedStateFromProps %j",{position:E,prevPropsPosition:x}),{x:E.x,y:E.y,prevPropsPosition:{...E}}):null}constructor(v){super(v),p(this,"onDragStart",(_,E)=>{if((0,l.default)("Draggable: onDragStart: %j",E),this.props.onStart(_,(0,o.createDraggableData)(this,E))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(_,E)=>{if(!this.state.dragging)return!1;(0,l.default)("Draggable: onDrag: %j",E);const x=(0,o.createDraggableData)(this,E),S={x:x.x,y:x.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:P}=S;S.x+=this.state.slackX,S.y+=this.state.slackY;const[k,B]=(0,o.getBoundPosition)(this,S.x,S.y);S.x=k,S.y=B,S.slackX=this.state.slackX+(C-S.x),S.slackY=this.state.slackY+(P-S.y),x.x=S.x,x.y=S.y,x.deltaX=S.x-this.state.x,x.deltaY=S.y-this.state.y}if(this.props.onDrag(_,x)===!1)return!1;this.setState(S)}),p(this,"onDragStop",(_,E)=>{if(!this.state.dragging||this.props.onStop(_,(0,o.createDraggableData)(this,E))===!1)return!1;(0,l.default)("Draggable: onDragStop: %j",E);const S={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:P}=this.props.position;S.x=C,S.y=P}this.setState(S)}),this.state={dragging:!1,dragged:!1,x:v.position?v.position.x:v.defaultPosition.x,y:v.position?v.position.y:v.defaultPosition.y,prevPropsPosition:{...v.position},slackX:0,slackY:0,isElementSVG:!1},v.position&&!(v.onDrag||v.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var v,_;return(v=(_=this.props)===null||_===void 0||(_=_.nodeRef)===null||_===void 0?void 0:_.current)!==null&&v!==void 0?v:r.default.findDOMNode(this)}render(){const{axis:v,bounds:_,children:E,defaultPosition:x,defaultClassName:S,defaultClassNameDragging:A,defaultClassNameDragged:C,position:P,positionOffset:k,scale:B,...F}=this.props;let H={},N=null;const L=!!!P||this.state.dragging,D=P||x,$={x:(0,o.canDragX)(this)&&L?this.state.x:D.x,y:(0,o.canDragY)(this)&&L?this.state.y:D.y};this.state.isElementSVG?N=(0,i.createSVGTransform)($,k):H=(0,i.createCSSTransform)($,k);const U=(0,s.default)(E.props.className||"",S,{[A]:this.state.dragging,[C]:this.state.dragged});return e.createElement(c.default,f({},F,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(E),{className:U,style:{...E.props.style,...H},transform:N}))}}t.default=y,p(y,"displayName","Draggable"),p(y,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),p(y,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(u8);const{default:C8,DraggableCore:YY}=u8;iv.exports=C8;iv.exports.default=C8;iv.exports.DraggableCore=YY;var JY=iv.exports;const sm=cu(JY);function Zt(){return Zt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zt.apply(null,arguments)}function x8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var S8={exports:{}},Tt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ln=typeof Symbol=="function"&&Symbol.for,mA=Ln?Symbol.for("react.element"):60103,yA=Ln?Symbol.for("react.portal"):60106,lv=Ln?Symbol.for("react.fragment"):60107,uv=Ln?Symbol.for("react.strict_mode"):60108,dv=Ln?Symbol.for("react.profiler"):60114,hv=Ln?Symbol.for("react.provider"):60109,fv=Ln?Symbol.for("react.context"):60110,wA=Ln?Symbol.for("react.async_mode"):60111,pv=Ln?Symbol.for("react.concurrent_mode"):60111,gv=Ln?Symbol.for("react.forward_ref"):60112,mv=Ln?Symbol.for("react.suspense"):60113,QY=Ln?Symbol.for("react.suspense_list"):60120,yv=Ln?Symbol.for("react.memo"):60115,wv=Ln?Symbol.for("react.lazy"):60116,ZY=Ln?Symbol.for("react.block"):60121,XY=Ln?Symbol.for("react.fundamental"):60117,eJ=Ln?Symbol.for("react.responder"):60118,tJ=Ln?Symbol.for("react.scope"):60119;function Ts(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mA:switch(t=t.type,t){case wA:case pv:case lv:case dv:case uv:case mv:return t;default:switch(t=t&&t.$$typeof,t){case fv:case gv:case wv:case yv:case hv:return t;default:return e}}case yA:return e}}}function A8(t){return Ts(t)===pv}Tt.AsyncMode=wA;Tt.ConcurrentMode=pv;Tt.ContextConsumer=fv;Tt.ContextProvider=hv;Tt.Element=mA;Tt.ForwardRef=gv;Tt.Fragment=lv;Tt.Lazy=wv;Tt.Memo=yv;Tt.Portal=yA;Tt.Profiler=dv;Tt.StrictMode=uv;Tt.Suspense=mv;Tt.isAsyncMode=function(t){return A8(t)||Ts(t)===wA};Tt.isConcurrentMode=A8;Tt.isContextConsumer=function(t){return Ts(t)===fv};Tt.isContextProvider=function(t){return Ts(t)===hv};Tt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mA};Tt.isForwardRef=function(t){return Ts(t)===gv};Tt.isFragment=function(t){return Ts(t)===lv};Tt.isLazy=function(t){return Ts(t)===wv};Tt.isMemo=function(t){return Ts(t)===yv};Tt.isPortal=function(t){return Ts(t)===yA};Tt.isProfiler=function(t){return Ts(t)===dv};Tt.isStrictMode=function(t){return Ts(t)===uv};Tt.isSuspense=function(t){return Ts(t)===mv};Tt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===lv||t===pv||t===dv||t===uv||t===mv||t===QY||typeof t=="object"&&t!==null&&(t.$$typeof===wv||t.$$typeof===yv||t.$$typeof===hv||t.$$typeof===fv||t.$$typeof===gv||t.$$typeof===XY||t.$$typeof===eJ||t.$$typeof===tJ||t.$$typeof===ZY)};Tt.typeOf=Ts;S8.exports=Tt;var nJ=S8.exports,vA=nJ,rJ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sJ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},iJ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},I8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bA={};bA[vA.ForwardRef]=iJ;bA[vA.Memo]=I8;function QT(t){return vA.isMemo(t)?I8:bA[t.$$typeof]||rJ}var oJ=Object.defineProperty,aJ=Object.getOwnPropertyNames,ZT=Object.getOwnPropertySymbols,cJ=Object.getOwnPropertyDescriptor,lJ=Object.getPrototypeOf,XT=Object.prototype;function T8(t,e,n){if(typeof e!="string"){if(XT){var r=lJ(e);r&&r!==XT&&T8(t,r,n)}var s=aJ(e);ZT&&(s=s.concat(ZT(e)));for(var i=QT(t),o=QT(e),a=0;a<s.length;++a){var c=s[a];if(!sJ[c]&&!(n&&n[c])&&!(o&&o[c])&&!(i&&i[c])){var l=cJ(e,c);try{oJ(t,c,l)}catch{}}}}return t}var uJ=T8;const dJ=cu(uJ);var N8={};Object.defineProperty(N8,"__esModule",{value:!0});N8.default=hJ;function hJ(t){return t.displayName||t.name||(typeof t=="string"&&t.length>0?t:"Unknown")}function ny(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z0(){return Z0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z0.apply(this,arguments)}function fJ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function fa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pJ(t){var e=function(n){fJ(r,n);function r(){for(var i,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return i=n.call.apply(n,[this].concat(a))||this,ny(fa(fa(i)),"cachedTheme",void 0),ny(fa(fa(i)),"lastOuterTheme",void 0),ny(fa(fa(i)),"lastTheme",void 0),ny(fa(fa(i)),"renderProvider",function(l){var u=i.props.children;return vs.createElement(t.Provider,{value:i.getTheme(l)},u)}),i}var s=r.prototype;return s.getTheme=function(o){if(this.props.theme!==this.lastTheme||o!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=o,this.lastTheme=this.props.theme,typeof this.lastTheme=="function"){var a=this.props.theme;this.cachedTheme=a(o)}else{var c=this.props.theme;this.cachedTheme=o?Z0({},o,c):c}return this.cachedTheme},s.render=function(){var o=this.props.children;return o?vs.createElement(t.Consumer,null,this.renderProvider):null},r}(vs.Component);return e}function gJ(t){return function(n){var r=vs.forwardRef(function(s,i){return vs.createElement(t.Consumer,null,function(o){return vs.createElement(n,Z0({theme:o,ref:i},s))})});return dJ(r,n),r}}function mJ(t){var e=function(){var r=vs.useContext(t);return r};return e}function yJ(t){return{context:t,withTheme:gJ(t),useTheme:mJ(t),ThemeProvider:pJ(t)}}var P8=R.createContext();yJ(P8);var eN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch=(typeof window>"u"?"undefined":eN(window))==="object"&&(typeof document>"u"?"undefined":eN(document))==="object"&&document.nodeType===9;function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function wJ(t,e){if(og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vJ(t){var e=wJ(t,"string");return og(e)=="symbol"?e:e+""}function bJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vJ(r.key),r)}}function EA(t,e,n){return e&&bJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fC(t,e){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},fC(t,e)}function k8(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,fC(t,e)}function tN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var EJ={}.constructor;function pC(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(pC);if(t.constructor!==EJ)return t;var e={};for(var n in t)e[n]=pC(t[n]);return e}function vv(t,e,n){t===void 0&&(t="unnamed");var r=n.jss,s=pC(e),i=r.plugins.onCreateRule(t,s,n);return i||(t[0],null)}var nN=function(e,n){for(var r="",s=0;s<e.length&&e[s]!=="!important";s++)r&&(r+=n),r+=e[s];return r},$l=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)n&&(n+=", "),n+=nN(e[r]," ");else n=nN(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function xh(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function nf(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function ag(t,e,n){n===void 0&&(n={});var r="";if(!e)return r;var s=n,i=s.indent,o=i===void 0?0:i,a=e.fallbacks;n.format===!1&&(o=-1/0);var c=xh(n),l=c.linebreak,u=c.space;if(t&&o++,a)if(Array.isArray(a))for(var d=0;d<a.length;d++){var h=a[d];for(var f in h){var p=h[f];p!=null&&(r&&(r+=l),r+=nf(f+":"+u+$l(p)+";",o))}}else for(var g in a){var w=a[g];w!=null&&(r&&(r+=l),r+=nf(g+":"+u+$l(w)+";",o))}for(var y in e){var b=e[y];b!=null&&y!=="fallbacks"&&(r&&(r+=l),r+=nf(y+":"+u+$l(b)+";",o))}return!r&&!n.allowEmpty||!t?r:(o--,r&&(r=""+l+r+l),nf(""+t+u+"{"+r,o)+nf("}",o))}var _J=/([[\].#*$><+~=|^:(),"'`\s])/g,rN=typeof CSS<"u"&&CSS.escape,_A=function(t){return rN?rN(t):t.replace(_J,"\\$1")},O8=function(){function t(n,r,s){this.type="style",this.isProcessed=!1;var i=s.sheet,o=s.Renderer;this.key=n,this.options=s,this.style=r,i?this.renderer=i.renderer:o&&(this.renderer=new o)}var e=t.prototype;return e.prop=function(r,s,i){if(s===void 0)return this.style[r];var o=i?i.force:!1;if(!o&&this.style[r]===s)return this;var a=s;(!i||i.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(s,r,this));var c=a==null||a===!1,l=r in this.style;if(c&&!l&&!o)return this;var u=c&&l;if(u?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var d=this.options.sheet;return d&&d.attached,this},t}(),gC=function(t){k8(e,t);function e(r,s,i){var o;o=t.call(this,r,s,i)||this;var a=i.selector,c=i.scoped,l=i.sheet,u=i.generateId;return a?o.selectorText=a:c!==!1&&(o.id=u(tN(tN(o)),l),o.selectorText="."+_A(o.id)),o}var n=e.prototype;return n.applyTo=function(s){var i=this.renderer;if(i){var o=this.toJSON();for(var a in o)i.setProperty(s,a,o[a])}return this},n.toJSON=function(){var s={};for(var i in this.style){var o=this.style[i];typeof o!="object"?s[i]=o:Array.isArray(o)&&(s[i]=$l(o))}return s},n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?Zt({},s,{allowEmpty:!0}):s;return ag(this.selectorText,this.style,a)},EA(e,[{key:"selector",set:function(s){if(s!==this.selectorText){this.selectorText=s;var i=this.renderer,o=this.renderable;if(!(!o||!i)){var a=i.setSelector(o,s);a||i.replaceRule(o,this)}}},get:function(){return this.selectorText}}]),e}(O8),CJ={onCreateRule:function(e,n,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new gC(e,n,r)}},o1={indent:1,children:!0},xJ=/@([\w-]+)/,SJ=function(){function t(n,r,s){this.type="conditional",this.isProcessed=!1,this.key=n;var i=n.match(xJ);this.at=i?i[1]:"unknown",this.query=s.name||"@"+this.at,this.options=s,this.rules=new bv(Zt({},s,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o?(this.options.jss.plugins.onProcessRule(o),o):null},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.toString=function(r){r===void 0&&(r=o1);var s=xh(r),i=s.linebreak;if(r.indent==null&&(r.indent=o1.indent),r.children==null&&(r.children=o1.children),r.children===!1)return this.query+" {}";var o=this.rules.toString(r);return o?this.query+" {"+i+o+i+"}":""},t}(),AJ=/@container|@media|@supports\s+/,IJ={onCreateRule:function(e,n,r){return AJ.test(e)?new SJ(e,n,r):null}},a1={indent:1,children:!0},TJ=/@keyframes\s+([\w-]+)/,mC=function(){function t(n,r,s){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=n.match(TJ);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=s;var o=s.scoped,a=s.sheet,c=s.generateId;this.id=o===!1?this.name:_A(c(this,a)),this.rules=new bv(Zt({},s,{parent:this}));for(var l in r)this.rules.add(l,r[l],Zt({},s,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(r){r===void 0&&(r=a1);var s=xh(r),i=s.linebreak;if(r.indent==null&&(r.indent=a1.indent),r.children==null&&(r.children=a1.children),r.children===!1)return this.at+" "+this.id+" {}";var o=this.rules.toString(r);return o&&(o=""+i+o+i),this.at+" "+this.id+" {"+o+"}"},t}(),NJ=/@keyframes\s+/,PJ=/\$([\w-]+)/g,yC=function(e,n){return typeof e=="string"?e.replace(PJ,function(r,s){return s in n?n[s]:r}):e},sN=function(e,n,r){var s=e[n],i=yC(s,r);i!==s&&(e[n]=i)},kJ={onCreateRule:function(e,n,r){return typeof e=="string"&&NJ.test(e)?new mC(e,n,r):null},onProcessStyle:function(e,n,r){return n.type!=="style"||!r||("animation-name"in e&&sN(e,"animation-name",r.keyframes),"animation"in e&&sN(e,"animation",r.keyframes)),e},onChangeValue:function(e,n,r){var s=r.options.sheet;if(!s)return e;switch(n){case"animation":return yC(e,s.keyframes);case"animation-name":return yC(e,s.keyframes);default:return e}}},OJ=function(t){k8(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?Zt({},s,{allowEmpty:!0}):s;return ag(this.key,this.style,a)},e}(O8),RJ={onCreateRule:function(e,n,r){return r.parent&&r.parent.type==="keyframes"?new OJ(e,n,r):null}},$J=function(){function t(n,r,s){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){var s=xh(r),i=s.linebreak;if(Array.isArray(this.style)){for(var o="",a=0;a<this.style.length;a++)o+=ag(this.at,this.style[a]),this.style[a+1]&&(o+=i);return o}return ag(this.at,this.style,r)},t}(),DJ=/@font-face/,jJ={onCreateRule:function(e,n,r){return DJ.test(e)?new $J(e,n,r):null}},UJ=function(){function t(n,r,s){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){return ag(this.key,this.style,r)},t}(),LJ={onCreateRule:function(e,n,r){return e==="@viewport"||e==="@-ms-viewport"?new UJ(e,n,r):null}},MJ=function(){function t(n,r,s){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=s}var e=t.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var s="",i=0;i<this.value.length;i++)s+=this.key+" "+this.value[i]+";",this.value[i+1]&&(s+=`
`);return s}return this.key+" "+this.value+";"},t}(),BJ={"@charset":!0,"@import":!0,"@namespace":!0},FJ={onCreateRule:function(e,n,r){return e in BJ?new MJ(e,n,r):null}},iN=[CJ,IJ,kJ,RJ,jJ,LJ,FJ],zJ={process:!0},oN={force:!0,process:!0},bv=function(){function t(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var e=t.prototype;return e.add=function(r,s,i){var o=this.options,a=o.parent,c=o.sheet,l=o.jss,u=o.Renderer,d=o.generateId,h=o.scoped,f=Zt({classes:this.classes,parent:a,sheet:c,jss:l,Renderer:u,generateId:d,scoped:h,name:r,keyframes:this.keyframes,selector:void 0},i),p=r;r in this.raw&&(p=r+"-d"+this.counter++),this.raw[p]=s,p in this.classes&&(f.selector="."+_A(this.classes[p]));var g=vv(p,s,f);if(!g)return null;this.register(g);var w=f.index===void 0?this.index.length:f.index;return this.index.splice(w,0,g),g},e.replace=function(r,s,i){var o=this.get(r),a=this.index.indexOf(o);o&&this.remove(o);var c=i;return a!==-1&&(c=Zt({},i,{index:a})),this.add(r,s,c)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof gC?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof mC&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof gC?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof mC&&delete this.keyframes[r.name]},e.update=function(){var r,s,i;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2]):(s=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),s,i);else for(var o=0;o<this.index.length;o++)this.updateOne(this.index[o],s,i)},e.updateOne=function(r,s,i){i===void 0&&(i=zJ);var o=this.options,a=o.jss.plugins,c=o.sheet;if(r.rules instanceof t){r.rules.update(s,i);return}var l=r.style;if(a.onUpdate(s,r,c,i),i.process&&l&&l!==r.style){a.onProcessStyle(r.style,r,c);for(var u in r.style){var d=r.style[u],h=l[u];d!==h&&r.prop(u,d,oN)}for(var f in l){var p=r.style[f],g=l[f];p==null&&p!==g&&r.prop(f,null,oN)}}},e.toString=function(r){for(var s="",i=this.options.sheet,o=i?i.options.link:!1,a=xh(r),c=a.linebreak,l=0;l<this.index.length;l++){var u=this.index[l],d=u.toString(r);!d&&!o||(s&&(s+=c),s+=d)}return s},t}(),R8=function(){function t(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Zt({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new bv(this.options);for(var s in n)this.rules.add(s,n[s]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,s,i){var o=this.queue;this.attached&&!o&&(this.queue=[]);var a=this.rules.add(r,s,i);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(o?o.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},e.replaceRule=function(r,s,i){var o=this.rules.get(r);if(!o)return this.addRule(r,s,i);var a=this.rules.replace(r,s,i);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?o.renderable&&this.renderer.replaceRule(o.renderable,a):this.renderer.deleteRule(o)),a):(this.deployed=!1,a)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,s){var i=[];for(var o in r){var a=this.addRule(o,r[o],s);a&&i.push(a)}return i},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var s=typeof r=="object"?r:this.rules.get(r);return!s||this.attached&&!s.renderable?!1:(this.rules.remove(s),this.attached&&s.renderable&&this.renderer?this.renderer.deleteRule(s.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,s,i){return this.rules.updateOne(r,s,i),this},e.toString=function(r){return this.rules.toString(r)},t}(),WJ=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(r,s,i){for(var o=0;o<this.registry.onCreateRule.length;o++){var a=this.registry.onCreateRule[o](r,s,i);if(a)return a}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var s=r.options.sheet,i=0;i<this.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](r,s);r.style&&this.onProcessStyle(r.style,r,s),r.isProcessed=!0}},e.onProcessStyle=function(r,s,i){for(var o=0;o<this.registry.onProcessStyle.length;o++)s.style=this.registry.onProcessStyle[o](s.style,s,i)},e.onProcessSheet=function(r){for(var s=0;s<this.registry.onProcessSheet.length;s++)this.registry.onProcessSheet[s](r)},e.onUpdate=function(r,s,i,o){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,s,i,o)},e.onChangeValue=function(r,s,i){for(var o=r,a=0;a<this.registry.onChangeValue.length;a++)o=this.registry.onChangeValue[a](o,s,i);return o},e.use=function(r,s){s===void 0&&(s={queue:"external"});var i=this.plugins[s.queue];i.indexOf(r)===-1&&(i.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(o,a){for(var c in a)c in o&&o[c].push(a[c]);return o},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),qJ=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(r){var s=this.registry,i=r.options.index;if(s.indexOf(r)===-1){if(s.length===0||i>=this.index){s.push(r);return}for(var o=0;o<s.length;o++)if(s[o].options.index>i){s.splice(o,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var s=this.registry.indexOf(r);this.registry.splice(s,1)},e.toString=function(r){for(var s=r===void 0?{}:r,i=s.attached,o=x8(s,["attached"]),a=xh(o),c=a.linebreak,l="",u=0;u<this.registry.length;u++){var d=this.registry[u];i!=null&&d.attached!==i||(l&&(l+=c),l+=d.toString(o))}return l},EA(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),Zf=new qJ,wC=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),vC="2f1acc6c3a606b082e5eef5e54414ffb";wC[vC]==null&&(wC[vC]=0);var aN=wC[vC]++,cN=function(e){e===void 0&&(e={});var n=0,r=function(i,o){n+=1;var a="",c="";return o&&(o.options.classNamePrefix&&(c=o.options.classNamePrefix),o.options.jss.id!=null&&(a=String(o.options.jss.id))),e.minify?""+(c||"c")+aN+a+n:c+i.key+"-"+aN+(a?"-"+a:"")+"-"+n};return r},$8=function(e){var n;return function(){return n||(n=e()),n}},HJ=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},VJ=function(e,n,r){try{var s=r;if(Array.isArray(r)&&(s=$l(r)),e.attributeStyleMap)e.attributeStyleMap.set(n,s);else{var i=s?s.indexOf("!important"):-1,o=i>-1?s.substr(0,i-1):s;e.style.setProperty(n,o,i>-1?"important":"")}}catch{return!1}return!0},GJ=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},KJ=function(e,n){return e.selectorText=n,e.selectorText===n},D8=$8(function(){return document.querySelector("head")});function YJ(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function JJ(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function QJ(t){for(var e=D8(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===t)return r}return null}function ZJ(t){var e=Zf.registry;if(e.length>0){var n=YJ(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=JJ(e,t),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&typeof r=="string"){var s=QJ(r);if(s)return{parent:s.parentNode,node:s.nextSibling}}return!1}function XJ(t,e){var n=e.insertionPoint,r=ZJ(e);if(r!==!1&&r.parent){r.parent.insertBefore(t,r.node);return}if(n&&typeof n.nodeType=="number"){var s=n,i=s.parentNode;i&&i.insertBefore(t,s.nextSibling);return}D8().appendChild(t)}var eQ=$8(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),lN=function(e,n,r){try{"insertRule"in e?e.insertRule(n,r):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[r]},uN=function(e,n){var r=e.cssRules.length;return n===void 0||n>r?r:n},tQ=function(){var e=document.createElement("style");return e.textContent=`
`,e},nQ=function(){function t(n){this.getPropertyValue=HJ,this.setProperty=VJ,this.removeProperty=GJ,this.setSelector=KJ,this.hasInsertedRules=!1,this.cssRules=[],n&&Zf.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},s=r.media,i=r.meta,o=r.element;this.element=o||tQ(),this.element.setAttribute("data-jss",""),s&&this.element.setAttribute("media",s),i&&this.element.setAttribute("data-meta",i);var a=eQ();a&&this.element.setAttribute("nonce",a)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){XJ(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,s){for(var i=0;i<r.index.length;i++)this.insertRule(r.index[i],i,s)},e.insertRule=function(r,s,i){if(i===void 0&&(i=this.element.sheet),r.rules){var o=r,a=i;if(r.type==="conditional"||r.type==="keyframes"){var c=uN(i,s);if(a=lN(i,o.toString({children:!1}),c),a===!1)return!1;this.refCssRule(r,c,a)}return this.insertRules(o.rules,a),a}var l=r.toString();if(!l)return!1;var u=uN(i,s),d=lN(i,l,u);return d===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,u,d),d)},e.refCssRule=function(r,s,i){r.renderable=i,r.options.parent instanceof R8&&this.cssRules.splice(s,0,i)},e.deleteRule=function(r){var s=this.element.sheet,i=this.indexOf(r);return i===-1?!1:(s.deleteRule(i),this.cssRules.splice(i,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,s){var i=this.indexOf(r);return i===-1?!1:(this.element.sheet.deleteRule(i),this.cssRules.splice(i,1),this.insertRule(s,i))},e.getRules=function(){return this.element.sheet.cssRules},t}(),rQ=0,sQ=function(){function t(n){this.id=rQ++,this.version="10.10.0",this.plugins=new WJ,this.options={id:{minify:!1},createGenerateId:cN,Renderer:Ch?nQ:null,plugins:[]},this.generateId=cN({minify:!1});for(var r=0;r<iN.length;r++)this.plugins.use(iN[r],{queue:"internal"});this.setup(n)}var e=t.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=Zt({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,s){s===void 0&&(s={});var i=s,o=i.index;typeof o!="number"&&(o=Zf.index===0?0:Zf.index+1);var a=new R8(r,Zt({},s,{jss:this,generateId:s.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:o}));return this.plugins.onProcessSheet(a),a},e.removeStyleSheet=function(r){return r.detach(),Zf.remove(r),this},e.createRule=function(r,s,i){if(s===void 0&&(s={}),i===void 0&&(i={}),typeof r=="object")return this.createRule(void 0,r,s);var o=Zt({},i,{name:r,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var a=vv(r,s,o);return a&&this.plugins.onProcessRule(a),a},e.use=function(){for(var r=this,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return i.forEach(function(a){r.plugins.use(a)}),this},t}(),j8=function(e){return new sQ(e)},dN=function(){function t(){this.length=0,this.sheets=new WeakMap}var e=t.prototype;return e.get=function(r){var s=this.sheets.get(r);return s&&s.sheet},e.add=function(r,s){this.sheets.has(r)||(this.length++,this.sheets.set(r,{sheet:s,refs:0}))},e.manage=function(r){var s=this.sheets.get(r);if(s)return s.refs===0&&s.sheet.attach(),s.refs++,s.sheet},e.unmanage=function(r){var s=this.sheets.get(r);s&&s.refs>0&&(s.refs--,s.refs===0&&s.sheet.detach())},EA(t,[{key:"size",get:function(){return this.length}}]),t}(),CA=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function U8(t){var e=null;for(var n in t){var r=t[n],s=typeof r;if(s==="function")e||(e={}),e[n]=r;else if(s==="object"&&r!==null&&!Array.isArray(r)){var i=U8(r);i&&(e||(e={}),e[n]=i)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */j8();var L8=Date.now(),c1="fnValues"+L8,l1="fnStyle"+ ++L8,iQ=function(){return{onCreateRule:function(n,r,s){if(typeof r!="function")return null;var i=vv(n,{},s);return i[l1]=r,i},onProcessStyle:function(n,r){if(c1 in r||l1 in r)return n;var s={};for(var i in n){var o=n[i];typeof o=="function"&&(delete n[i],s[i]=o)}return r[c1]=s,n},onUpdate:function(n,r,s,i){var o=r,a=o[l1];a&&(o.style=a(n)||{});var c=o[c1];if(c)for(var l in c)o.prop(l,c[l](n),i)}}};function oQ(t){var e,n=t.Symbol;return typeof n=="function"?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var Xu;typeof self<"u"?Xu=self:typeof window<"u"?Xu=window:typeof global<"u"?Xu=global:typeof module<"u"?Xu=module:Xu=Function("return this")();var hN=oQ(Xu),fN=function(e){return e&&e[hN]&&e===e[hN]()},aQ=function(e){return{onCreateRule:function(r,s,i){if(!fN(s))return null;var o=s,a=vv(r,{},i);return o.subscribe(function(c){for(var l in c)a.prop(l,c[l],e)}),a},onProcessRule:function(r){if(!(r&&r.type!=="style")){var s=r,i=s.style,o=function(u){var d=i[u];if(!fN(d))return"continue";delete i[u],d.subscribe({next:function(f){s.prop(u,f,e)}})};for(var a in i)var c=o(a)}}}},cQ=/;\n/,lQ=function(e){for(var n={},r=e.split(cQ),s=0;s<r.length;s++){var i=(r[s]||"").trim();if(i){var o=i.indexOf(":");if(o!==-1){var a=i.substr(0,o).trim(),c=i.substr(o+1).trim();n[a]=c}}}return n},uQ=function(e){typeof e.style=="string"&&(e.style=lQ(e.style))};function dQ(){return{onProcessRule:uQ}}var _c="@global",bC="@global ",hQ=function(){function t(n,r,s){this.type="global",this.at=_c,this.isProcessed=!1,this.key=n,this.options=s,this.rules=new bv(Zt({},s,{parent:this}));for(var i in r)this.rules.add(i,r[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},t}(),fQ=function(){function t(n,r,s){this.type="global",this.at=_c,this.isProcessed=!1,this.key=n,this.options=s;var i=n.substr(bC.length);this.rule=s.jss.createRule(i,r,Zt({},s,{parent:this}))}var e=t.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},t}(),pQ=/\s*,\s*/g;function M8(t,e){for(var n=t.split(pQ),r="",s=0;s<n.length;s++)r+=e+" "+n[s].trim(),n[s+1]&&(r+=", ");return r}function gQ(t,e){var n=t.options,r=t.style,s=r?r[_c]:null;if(s){for(var i in s)e.addRule(i,s[i],Zt({},n,{selector:M8(i,t.selector)}));delete r[_c]}}function mQ(t,e){var n=t.options,r=t.style;for(var s in r)if(!(s[0]!=="@"||s.substr(0,_c.length)!==_c)){var i=M8(s.substr(_c.length),t.selector);e.addRule(i,r[s],Zt({},n,{selector:i})),delete r[s]}}function yQ(){function t(n,r,s){if(!n)return null;if(n===_c)return new hQ(n,r,s);if(n[0]==="@"&&n.substr(0,bC.length)===bC)return new fQ(n,r,s);var i=s.parent;return i&&(i.type==="global"||i.options.parent&&i.options.parent.type==="global")&&(s.scoped=!1),!s.selector&&s.scoped===!1&&(s.selector=n),null}function e(n,r){n.type!=="style"||!r||(gQ(n,r),mQ(n,r))}return{onCreateRule:t,onProcessRule:e}}var t0=function(e){return e&&typeof e=="object"&&!Array.isArray(e)},u1="extendCurrValue"+Date.now();function wQ(t,e,n,r){var s=typeof t.extend;if(s==="string"){if(!n)return;var i=n.getRule(t.extend);if(!i||i===e)return;var o=i.options.parent;if(o){var a=o.rules.raw[t.extend];ml(a,e,n,r)}return}if(Array.isArray(t.extend)){for(var c=0;c<t.extend.length;c++){var l=t.extend[c],u=typeof l=="string"?Zt({},t,{extend:l}):t.extend[c];ml(u,e,n,r)}return}for(var d in t.extend){if(d==="extend"){ml(t.extend.extend,e,n,r);continue}if(t0(t.extend[d])){d in r||(r[d]={}),ml(t.extend[d],e,n,r[d]);continue}r[d]=t.extend[d]}}function vQ(t,e,n,r){for(var s in t)if(s!=="extend"){if(t0(r[s])&&t0(t[s])){ml(t[s],e,n,r[s]);continue}if(t0(t[s])){r[s]=ml(t[s],e,n);continue}r[s]=t[s]}}function ml(t,e,n,r){return r===void 0&&(r={}),wQ(t,e,n,r),vQ(t,e,n,r),r}function bQ(){function t(n,r,s){return"extend"in n?ml(n,r,s):n}function e(n,r,s){if(r!=="extend")return n;if(n==null||n===!1){for(var i in s[u1])s.prop(i,null);return s[u1]=null,null}if(typeof n=="object"){for(var o in n)s.prop(o,n[o]);s[u1]=n}return null}return{onProcessStyle:t,onChangeValue:e}}var pN=/\s*,\s*/g,EQ=/&/g,_Q=/\$([\w-]+)/g;function CQ(){function t(s,i){return function(o,a){var c=s.getRule(a)||i&&i.getRule(a);return c?c.selector:a}}function e(s,i){for(var o=i.split(pN),a=s.split(pN),c="",l=0;l<o.length;l++)for(var u=o[l],d=0;d<a.length;d++){var h=a[d];c&&(c+=", "),c+=h.indexOf("&")!==-1?h.replace(EQ,u):u+" "+h}return c}function n(s,i,o){if(o)return Zt({},o,{index:o.index+1});var a=s.options.nestingLevel;a=a===void 0?1:a+1;var c=Zt({},s.options,{nestingLevel:a,index:i.indexOf(s)+1});return delete c.name,c}function r(s,i,o){if(i.type!=="style")return s;var a=i,c=a.options.parent,l,u;for(var d in s){var h=d.indexOf("&")!==-1,f=d[0]==="@";if(!(!h&&!f)){if(l=n(a,c,l),h){var p=e(d,a.selector);u||(u=t(c,o)),p=p.replace(_Q,u);var g=a.key+"-"+d;"replaceRule"in c?c.replaceRule(g,s[d],Zt({},l,{selector:p})):c.addRule(g,s[d],Zt({},l,{selector:p}))}else f&&c.addRule(d,{},l).addRule(a.key,s[d],{selector:a.selector});delete s[d]}}return s}return{onProcessStyle:r}}function EC(t,e){if(!e)return!0;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var r=EC(t,e[n]);if(!r)return!1}return!0}if(e.indexOf(" ")>-1)return EC(t,e.split(" "));var s=t.options.parent;if(e[0]==="$"){var i=s.getRule(e.substr(1));return!i||i===t?!1:(s.classes[t.key]+=" "+s.classes[i.key],!0)}return s.classes[t.key]+=" "+e,!0}function xQ(){function t(e,n){return"composes"in e&&(EC(n,e.composes),delete e.composes),e}return{onProcessStyle:t}}var SQ=/[A-Z]/g,AQ=/^ms-/,d1={};function IQ(t){return"-"+t.toLowerCase()}function B8(t){if(d1.hasOwnProperty(t))return d1[t];var e=t.replace(SQ,IQ);return d1[t]=AQ.test(e)?"-"+e:e}function X0(t){var e={};for(var n in t){var r=n.indexOf("--")===0?n:B8(n);e[r]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(X0):e.fallbacks=X0(t.fallbacks)),e}function TQ(){function t(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=X0(n[r]);return n}return X0(n)}function e(n,r,s){if(r.indexOf("--")===0)return n;var i=B8(r);return r===i?n:(s.prop(i,n),null)}return{onProcessStyle:t,onChangeValue:e}}var J=CA&&CSS?CSS.px:"px",ry=CA&&CSS?CSS.ms:"ms",Iu=CA&&CSS?CSS.percent:"%",NQ={"animation-delay":ry,"animation-duration":ry,"background-position":J,"background-position-x":J,"background-position-y":J,"background-size":J,border:J,"border-bottom":J,"border-bottom-left-radius":J,"border-bottom-right-radius":J,"border-bottom-width":J,"border-left":J,"border-left-width":J,"border-radius":J,"border-right":J,"border-right-width":J,"border-top":J,"border-top-left-radius":J,"border-top-right-radius":J,"border-top-width":J,"border-width":J,"border-block":J,"border-block-end":J,"border-block-end-width":J,"border-block-start":J,"border-block-start-width":J,"border-block-width":J,"border-inline":J,"border-inline-end":J,"border-inline-end-width":J,"border-inline-start":J,"border-inline-start-width":J,"border-inline-width":J,"border-start-start-radius":J,"border-start-end-radius":J,"border-end-start-radius":J,"border-end-end-radius":J,margin:J,"margin-bottom":J,"margin-left":J,"margin-right":J,"margin-top":J,"margin-block":J,"margin-block-end":J,"margin-block-start":J,"margin-inline":J,"margin-inline-end":J,"margin-inline-start":J,padding:J,"padding-bottom":J,"padding-left":J,"padding-right":J,"padding-top":J,"padding-block":J,"padding-block-end":J,"padding-block-start":J,"padding-inline":J,"padding-inline-end":J,"padding-inline-start":J,"mask-position-x":J,"mask-position-y":J,"mask-size":J,height:J,width:J,"min-height":J,"max-height":J,"min-width":J,"max-width":J,bottom:J,left:J,top:J,right:J,inset:J,"inset-block":J,"inset-block-end":J,"inset-block-start":J,"inset-inline":J,"inset-inline-end":J,"inset-inline-start":J,"box-shadow":J,"text-shadow":J,"column-gap":J,"column-rule":J,"column-rule-width":J,"column-width":J,"font-size":J,"font-size-delta":J,"letter-spacing":J,"text-decoration-thickness":J,"text-indent":J,"text-stroke":J,"text-stroke-width":J,"word-spacing":J,motion:J,"motion-offset":J,outline:J,"outline-offset":J,"outline-width":J,perspective:J,"perspective-origin-x":Iu,"perspective-origin-y":Iu,"transform-origin":Iu,"transform-origin-x":Iu,"transform-origin-y":Iu,"transform-origin-z":Iu,"transition-delay":ry,"transition-duration":ry,"vertical-align":J,"flex-basis":J,"shape-margin":J,size:J,gap:J,grid:J,"grid-gap":J,"row-gap":J,"grid-row-gap":J,"grid-column-gap":J,"grid-template-rows":J,"grid-template-columns":J,"grid-auto-rows":J,"grid-auto-columns":J,"box-shadow-x":J,"box-shadow-y":J,"box-shadow-blur":J,"box-shadow-spread":J,"font-line-height":J,"text-shadow-x":J,"text-shadow-y":J,"text-shadow-blur":J};function F8(t){var e=/(-[a-z])/g,n=function(o){return o[1].toUpperCase()},r={};for(var s in t)r[s]=t[s],r[s.replace(e,n)]=t[s];return r}var PQ=F8(NQ);function Xf(t,e,n){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=Xf(t,e[r],n);else if(typeof e=="object")if(t==="fallbacks")for(var s in e)e[s]=Xf(s,e[s],n);else for(var i in e)e[i]=Xf(t+"-"+i,e[i],n);else if(typeof e=="number"&&isNaN(e)===!1){var o=n[t]||PQ[t];return o&&!(e===0&&o===J)?typeof o=="function"?o(e).toString():""+e+o:e.toString()}return e}function kQ(t){t===void 0&&(t={});var e=F8(t);function n(s,i){if(i.type!=="style")return s;for(var o in s)s[o]=Xf(o,s[o],e);return s}function r(s,i){return Xf(i,s,e)}return{onProcessStyle:n,onChangeValue:r}}var OQ={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},RQ={position:!0,size:!0},sy={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},h1={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function $Q(t,e,n){return t.map(function(r){return W8(r,e,n,!1,!0)})}function z8(t,e,n,r){return n[e]==null?t:t.length===0?[]:Array.isArray(t[0])?z8(t[0],e,n,r):typeof t[0]=="object"?$Q(t,e,r):[t]}function W8(t,e,n,r,s){if(!(sy[e]||h1[e]))return[];var i=[];if(h1[e]&&(t=DQ(t,n,h1[e],r)),Object.keys(t).length)for(var o in sy[e]){if(t[o]){Array.isArray(t[o])?i.push(RQ[o]===null?t[o]:t[o].join(" ")):i.push(t[o]);continue}sy[e][o]!=null&&i.push(sy[e][o])}return!i.length||s?i:[i]}function DQ(t,e,n,r){for(var s in n){var i=n[s];if(typeof t[s]<"u"&&(r||!e.prop(i))){var o,a=cg((o={},o[i]=t[s],o),e)[i];r?e.style.fallbacks[i]=a:e.style[i]=a}delete t[s]}return t}function cg(t,e,n){for(var r in t){var s=t[r];if(Array.isArray(s)){if(!Array.isArray(s[0])){if(r==="fallbacks"){for(var i=0;i<t.fallbacks.length;i++)t.fallbacks[i]=cg(t.fallbacks[i],e,!0);continue}t[r]=z8(s,r,OQ,e),t[r].length||delete t[r]}}else if(typeof s=="object"){if(r==="fallbacks"){t.fallbacks=cg(t.fallbacks,e,!0);continue}t[r]=W8(s,r,e,n),t[r].length||delete t[r]}else t[r]===""&&delete t[r]}return t}function jQ(){function t(e,n){if(!e||n.type!=="style")return e;if(Array.isArray(e)){for(var r=0;r<e.length;r++)e[r]=cg(e[r],n);return e}return cg(e,n)}return{onProcessStyle:t}}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function UQ(t){if(Array.isArray(t))return _C(t)}function LQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MQ(t,e){if(t){if(typeof t=="string")return _C(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_C(t,e):void 0}}function BQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FQ(t){return UQ(t)||LQ(t)||MQ(t)||BQ()}var Pf="",CC="",q8="",H8="",zQ=Ch&&"ontouchstart"in document.documentElement;if(Ch){var f1={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},WQ=document.createElement("p"),p1=WQ.style,qQ="Transform";for(var g1 in f1)if(g1+qQ in p1){Pf=g1,CC=f1[g1];break}Pf==="Webkit"&&"msHyphens"in p1&&(Pf="ms",CC=f1.ms,H8="edge"),Pf==="Webkit"&&"-apple-trailing-word"in p1&&(q8="apple")}var Ye={js:Pf,css:CC,vendor:q8,browser:H8,isTouch:zQ};function HQ(t){return t[1]==="-"||Ye.js==="ms"?t:"@"+Ye.css+"keyframes"+t.substr(10)}var VQ={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:Ye.js==="ms"?"-webkit-"+e:Ye.css+e}},GQ={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:Ye.js==="Webkit"?Ye.css+"print-"+e:e}},KQ=/[-\s]+(.)?/g;function YQ(t,e){return e?e.toUpperCase():""}function xA(t){return t.replace(KQ,YQ)}function $c(t){return xA("-"+t)}var JQ={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(Ye.js==="Webkit"){var r="mask-image";if(xA(r)in n)return e;if(Ye.js+$c(r)in n)return Ye.css+e}return e}},QQ={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:Ye.vendor==="apple"&&!Ye.isTouch?Ye.css+e:e}},ZQ={noPrefill:["transform"],supportedProperty:function(e,n,r){return e!=="transform"?!1:r.transform?e:Ye.css+e}},XQ={noPrefill:["transition"],supportedProperty:function(e,n,r){return e!=="transition"?!1:r.transition?e:Ye.css+e}},eZ={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:Ye.js==="Webkit"||Ye.js==="ms"&&Ye.browser!=="edge"?Ye.css+e:e}},tZ={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:Ye.js==="Moz"||Ye.js==="ms"||Ye.vendor==="apple"?Ye.css+e:e}},nZ={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(Ye.js==="Webkit"){var r="WebkitColumn"+$c(e);return r in n?Ye.css+"column-"+e:!1}if(Ye.js==="Moz"){var s="page"+$c(e);return s in n?"page-"+e:!1}return!1}},rZ={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(Ye.js==="Moz")return e;var r=e.replace("-inline","");return Ye.js+$c(r)in n?Ye.css+r:!1}},sZ={supportedProperty:function(e,n){return xA(e)in n?e:!1}},iZ={supportedProperty:function(e,n){var r=$c(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:Ye.js+r in n?Ye.css+e:Ye.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+e:!1}},oZ={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:Ye.js==="ms"?""+Ye.css+e:e}},aZ={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:Ye.js==="ms"?Ye.css+"scroll-chaining":e}},cZ={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},lZ={supportedProperty:function(e,n){var r=cZ[e];return r&&Ye.js+$c(r)in n?Ye.css+r:!1}},V8={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},uZ=Object.keys(V8),dZ=function(e){return Ye.css+e},hZ={supportedProperty:function(e,n,r){var s=r.multiple;if(uZ.indexOf(e)>-1){var i=V8[e];if(!Array.isArray(i))return Ye.js+$c(i)in n?Ye.css+i:!1;if(!s)return!1;for(var o=0;o<i.length;o++)if(!(Ye.js+$c(i[0])in n))return!1;return i.map(dZ)}return!1}},G8=[VQ,GQ,JQ,QQ,ZQ,XQ,eZ,tZ,nZ,rZ,sZ,iZ,oZ,aZ,lZ,hZ],gN=G8.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),fZ=G8.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,FQ(e.noPrefill)),t},[]),kf,ol={};if(Ch){kf=document.createElement("p");var m1=window.getComputedStyle(document.documentElement,"");for(var y1 in m1)isNaN(y1)||(ol[m1[y1]]=m1[y1]);fZ.forEach(function(t){return delete ol[t]})}function xC(t,e){if(e===void 0&&(e={}),!kf)return t;if(ol[t]!=null)return ol[t];(t==="transition"||t==="transform")&&(e[t]=t in kf.style);for(var n=0;n<gN.length&&(ol[t]=gN[n](t,kf.style,e),!ol[t]);n++);try{kf.style[t]=""}catch{return!1}return ol[t]}var Tu={},pZ={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},gZ=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Ta;function mZ(t,e,n){if(e==="var")return"var";if(e==="all")return"all";if(n==="all")return", all";var r=e?xC(e):", "+xC(n);return r||e||n}Ch&&(Ta=document.createElement("p"));function mN(t,e){var n=e;if(!Ta||t==="content")return e;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=t+n;if(Tu[r]!=null)return Tu[r];try{Ta.style[t]=n}catch{return Tu[r]=!1,!1}if(pZ[t])n=n.replace(gZ,mZ);else if(Ta.style[t]===""&&(n=Ye.css+n,n==="-ms-flex"&&(Ta.style[t]="-ms-flexbox"),Ta.style[t]=n,Ta.style[t]===""))return Tu[r]=!1,!1;return Ta.style[t]="",Tu[r]=n,Tu[r]}function yZ(){function t(s){if(s.type==="keyframes"){var i=s;i.at=HQ(i.at)}}function e(s){for(var i in s){var o=s[i];if(i==="fallbacks"&&Array.isArray(o)){s[i]=o.map(e);continue}var a=!1,c=xC(i);c&&c!==i&&(a=!0);var l=!1,u=mN(c,$l(o));u&&u!==o&&(l=!0),(a||l)&&(a&&delete s[i],s[c||i]=u||o)}return s}function n(s,i){return i.type!=="style"?s:e(s)}function r(s,i){return mN(i,$l(s))||s}return{onProcessRule:t,onProcessStyle:n,onChangeValue:r}}function wZ(){var t=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var s={},i=Object.keys(n).sort(t),o=0;o<i.length;o++)s[i[o]]=n[i[o]];return s}}}var vZ=function(e){return e===void 0&&(e={}),{plugins:[iQ(),aQ(e.observable),dQ(),yQ(),bQ(),CQ(),xQ(),TQ(),kQ(e.defaultUnit),jQ(),yZ(),wZ()]}},bZ=Number.MIN_SAFE_INTEGER||-1e9,EZ=function(){return bZ++},_Z=R.createContext({classNamePrefix:"",disableStylesGeneration:!1,isSSR:!Ch}),yN=new Map,SA=function(e,n){var r=e.managers;if(r)return r[n]||(r[n]=new dN),r[n];var s=yN.get(n);return s||(s=new dN,yN.set(n,s)),s},wN=function(e){var n=e.sheet,r=e.context,s=e.index,i=e.theme;if(n){var o=SA(r,s);o.manage(i),r.registry&&r.registry.add(n)}},CZ=function(e){if(e.sheet){var n=SA(e.context,e.index);n.unmanage(e.theme)}},xZ=j8(vZ()),K8=new WeakMap,Y8=function(e){return K8.get(e)},SZ=function(e,n){K8.set(e,n)},AZ=function(e){var n=e.styles;return typeof n!="function"?n:n(e.theme)};function IZ(t,e){var n;t.context.id&&t.context.id.minify!=null&&(n=t.context.id.minify);var r=t.context.classNamePrefix||"";t.name&&!n&&(r+=t.name.replace(/\s/g,"-")+"-");var s="";return t.name&&(s=t.name+", "),s+=typeof t.styles=="function"?"Themed":"Unthemed",Zt({},t.sheetOptions,{index:t.index,meta:s,classNamePrefix:r,link:e,generateId:t.sheetOptions&&t.sheetOptions.generateId?t.sheetOptions.generateId:t.context.generateId})}var TZ=function(e){if(!e.context.disableStylesGeneration){var n=SA(e.context,e.index),r=n.get(e.theme);if(r)return r;var s=e.context.jss||xZ,i=AZ(e),o=U8(i),a=s.createStyleSheet(i,IZ(e,o!==null));return SZ(a,{dynamicStyles:o,styles:i}),n.add(e.theme,a),a}},NZ=function(e,n){for(var r in n)e.deleteRule(n[r])},PZ=function(e,n,r){for(var s in r)n.updateOne(r[s],e)},kZ=function(e,n){var r=Y8(e);if(r){var s={};for(var i in r.dynamicStyles)for(var o=e.rules.index.length,a=e.addRule(i,r.dynamicStyles[i]),c=o;c<e.rules.index.length;c++){var l=e.rules.index[c];e.updateOne(l,n),s[a===l?i:l.key]=l}return s}},OZ=function(e,n){if(!n)return e.classes;var r=Y8(e);if(!r)return e.classes;var s={};for(var i in r.styles)s[i]=e.classes[i],i in n&&(s[i]+=" "+e.classes[n[i].key]);return s};function vN(t){return t?R.useEffect:vs.useInsertionEffect||R.useLayoutEffect}var w1={},ki=function(e,n){n===void 0&&(n={});var r=n,s=r.index,i=s===void 0?EZ():s,o=r.theming,a=r.name,c=x8(r,["index","theming","name"]),l=o&&o.context||P8,u=function(f){return typeof e=="function"&&(f||R.useContext(l))||w1},d={};return function(f){var p=R.useRef(!0),g=R.useContext(_Z),w=u(f&&f.theme),y=R.useMemo(function(){var E=TZ({context:g,styles:e,name:a,theme:w,index:i,sheetOptions:c});return E&&g.isSSR&&wN({index:i,context:g,sheet:E,theme:w}),[E,E?kZ(E,f):null]},[g,w]),b=y[0],v=y[1];vN(g.isSSR)(function(){b&&v&&!p.current&&PZ(f,b,v)},[f]),vN(g.isSSR)(function(){return b&&wN({index:i,context:g,sheet:b,theme:w}),function(){b&&(CZ({index:i,context:g,sheet:b,theme:w}),v&&NZ(b,v))}},[b]);var _=R.useMemo(function(){return b&&v?OZ(b,v):d},[b,v]);return R.useDebugValue(_),R.useDebugValue(w===w1?"No theme":w),R.useEffect(function(){p.current=!1}),_}};const RZ=ki({icon:{position:"absolute",width:"80px",textAlign:"center",cursor:"pointer",zIndex:3e3,userSelect:"none",pointerEvents:"auto"},iconImage:{width:"48px",height:"48px",display:"block",margin:"0 auto"},iconLabel:{display:"block",background:"#c0c0c0",color:"#000",fontSize:"12px",padding:"2px 4px",marginTop:"2px",border:"1px outset #fff"}});function v1({image:t,label:e,action:n,url:r,popupId:s,folderId:i,isInFolder:o=!1,position:a,onDrag:c,onClick:l}){const u=RZ(),d=R.useRef(null),h=p=>{p.stopPropagation(),p.preventDefault(),l(n,s,r,i)},f=m.jsxs("div",{ref:d,className:u.icon,onClick:h,style:{position:o?"relative":"absolute",zIndex:3e3,left:!o&&a?a.x:void 0,top:!o&&a?a.y:void 0},children:[m.jsx("img",{src:t,alt:e,className:u.iconImage}),m.jsx("span",{className:u.iconLabel,children:e})]});return o?f:m.jsx(sm,{nodeRef:d,position:a,onDrag:c,bounds:"parent",children:f})}const $Z=ki({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"15px",height:"calc(100% - 30px)",overflow:"auto"}});function js({id:t,isOpen:e,onClose:n,onMinimize:r,children:s,title:i,initialPosition:o,initialSize:a,zIndex:c}){const l=$Z({isOpen:e}),u=R.useRef(null),d=()=>{r&&r(t)};return m.jsx(sm,{nodeRef:u,handle:`.${l.header}`,defaultPosition:o,children:m.jsxs("div",{ref:u,className:l.popup,style:{width:a==null?void 0:a.width,height:a==null?void 0:a.height,zIndex:c||100},children:[m.jsxs("div",{className:l.header,children:[m.jsx("span",{children:i||t.replace("-popup","")}),m.jsxs("div",{className:l.titleBarButtons,children:[m.jsx("button",{className:l.titleBarButton,onClick:d,title:"Minimize",children:"_"}),m.jsx("button",{className:l.titleBarButton,onClick:n,title:"Close",children:"✕"})]})]}),m.jsx("div",{className:l.content,children:s})]})})}const b1=[{id:"evm-folder",image:"/assets/evmfolder.png",label:"EVM NFTs",action:"folder",folderId:"evm-folder",row:0,col:3},{id:"sol-folder",image:"/assets/solfolder.png",label:"SOL NFTs",action:"folder",folderId:"sol-folder",row:1,col:3},{id:"wallet",image:"/assets/wallet.png",label:"Wallet",action:"wallet",row:0,col:0},{id:"mint",image:"/assets/mint.gif",label:"Mint",action:"mint",row:0,col:1},{id:"gallery",image:"/assets/lawbstarz.gif",label:"NFT Gallery",action:"nft-gallery",row:0,col:2},{id:"meme-generator",image:"/assets/meme.gif",label:"Meme Generator",action:"meme-generator",row:0,col:4},{id:"chess",image:"/assets/chess.svg",label:"Chess",action:"chess",row:0,col:5},{id:"purity",image:"/assets/purityfinance.png",label:"Purity",action:"popup",popupId:"purity-popup",row:1,col:0},{id:"lawbshop",image:"/assets/lawbshop.png",label:"Lawb.Shop",action:"url",url:"https://store.fun/lawbshop",row:1,col:1},{id:"lawbstarz",image:"/assets/lawbstarz.gif",label:"Lawbstarz",action:"popup",popupId:"lawbstarz-popup",row:-1,col:-1},{id:"lawbsters",image:"/assets/lawbsters.gif",label:"Lawbsters",action:"popup",popupId:"lawbsters-popup",row:-1,col:-1},{id:"halloween",image:"/assets/lawbsterhalloween.gif",label:"Halloween",action:"popup",popupId:"halloween-popup",row:-1,col:-1},{id:"pixelawbs",image:"/assets/pixelawb.png",label:"Pixelawbs",action:"popup",popupId:"pixelawbs-popup",row:-1,col:-1},{id:"lawbstation",image:"/assets/lawbstation.GIF",label:"Lawbstation",action:"popup",popupId:"lawbstation-popup",row:-1,col:-1},{id:"nexus",image:"/assets/nexus.gif",label:"Nexus",action:"popup",popupId:"nexus-popup",row:-1,col:-1},{id:"chat",image:"/assets/miladychan.png",label:"Chat",action:"popup",popupId:"chat-popup",row:3,col:0},{id:"lawb",image:"/assets/lawbticker.gif",label:"$LAWB",action:"popup",popupId:"lawb-popup",row:3,col:2}],DZ=80,jZ=80,UZ=10,LZ=10,MZ=10,BZ=10,FZ=({onIconClick:t})=>{const e=b1.filter(l=>l.row>=0&&l.col>=0),n=()=>{const l={};let u=0,d=0;return e.forEach(h=>{l[h.id]={x:MZ+d*(DZ+UZ),y:BZ+u*(jZ+LZ)},u++,u>=4&&(u=0,d++)}),l},[r,s]=R.useState(n()),[i,o]=R.useState({}),a=(l,u)=>{s(d=>({...d,[l]:{x:u.x,y:u.y}}))},c=(l,u,d,h)=>{if(l==="folder"&&h){o(f=>({...f,[h]:!0}));return}t(l,u,d)};return m.jsx("div",{style:{position:"relative",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",overflow:"hidden"},children:m.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 60px)",padding:"10px",zIndex:10,overflow:"visible"},children:[e.map(l=>m.jsx(v1,{image:l.image,label:l.label,action:l.action,url:l.url,popupId:l.popupId,folderId:l.folderId,position:r[l.id],onDrag:(u,d)=>a(l.id,d),onClick:c},l.id)),i["evm-folder"]&&m.jsx(js,{id:"evm-folder",isOpen:!0,onClose:()=>o(l=>({...l,"evm-folder":!1})),onMinimize:()=>o(l=>({...l,"evm-folder":!1})),zIndex:3001,children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:b1.filter(l=>["lawbsters","lawbstarz","halloween","pixelawbs"].includes(l.id)).map(l=>m.jsx(v1,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})}),i["sol-folder"]&&m.jsx(js,{id:"sol-folder",isOpen:!0,onClose:()=>o(l=>({...l,"sol-folder":!1})),onMinimize:()=>o(l=>({...l,"sol-folder":!1})),zIndex:3001,children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:b1.filter(l=>["lawbstation","nexus"].includes(l.id)).map(l=>m.jsx(v1,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})})]})})},zZ=ki({taskbar:{position:"fixed",left:0,bottom:0,width:"100vw",height:40,background:"#c0c0c0",borderTop:"2px outset #fff",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:200},leftSection:{display:"flex",alignItems:"center"},rightSection:{display:"flex",alignItems:"center",marginRight:"5px",height:"100%"},statusSection:{display:"flex",alignItems:"center",padding:"0 8px",marginRight:"4px",border:"2px inset #fff",height:"calc(100% - 8px)"},menuBtn:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"},menu:{position:"absolute",bottom:"45px",left:"5px",background:"#c0c0c0",border:"2px outset #fff",padding:"5px",display:({isOpen:t})=>t?"block":"none",zIndex:9999,maxHeight:"300px",overflowY:"auto"},menuLink:{display:"block",padding:"4px 12px",color:"#000",textDecoration:"none",background:"#c0c0c0",border:"2px outset #fff",marginBottom:"1px",cursor:"pointer",fontSize:"12px","&:hover":{background:"#d0d0d0",border:"2px inset #fff"},"&:active":{border:"2px inset #c0c0c0"}},minimizedWindow:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:"12px"},clock:{padding:"5px 10px",background:"#c0c0c0",border:"2px inset #fff",fontSize:"12px",fontFamily:"monospace",height:"calc(100% - 8px)",display:"flex",alignItems:"center"},windows:{display:"flex",alignItems:"center"},windowButton:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"}}),WZ=({minimizedWindows:t,onRestoreWindow:e,walletButton:n,connectionStatus:r})=>{const[s,i]=R.useState(!1),[o,a]=R.useState(new Date),c=zZ({isOpen:s});R.useEffect(()=>{const h=window.setInterval(()=>{a(new Date)},1e3);return()=>window.clearInterval(h)},[]);const l=h=>h.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),u=()=>{i(!s)},d=()=>{i(!1)};return m.jsxs("div",{className:c.taskbar,children:[m.jsxs("div",{className:c.leftSection,children:[m.jsx("button",{className:c.menuBtn,onClick:u,children:"Menu"}),m.jsx("div",{className:c.windows,children:t.map(h=>m.jsx("button",{className:c.windowButton,onClick:()=>e(h),children:h.replace("-popup","").replace("-"," ").toUpperCase()},h))})]}),m.jsxs("div",{className:c.rightSection,children:[m.jsxs("div",{className:c.statusSection,children:[m.jsx("div",{style:{display:"flex",alignItems:"center",gap:4,fontSize:12},children:m.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:r.connected?"limegreen":"red",marginRight:4,border:"1px solid #222"}})}),n]}),m.jsx("div",{className:c.clock,children:l(o)})]}),s&&m.jsxs("div",{className:c.menu,children:[m.jsx("a",{href:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"GeckoTerminal"}),m.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbStation Twitter"}),m.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbNexus Twitter"}),m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"NFTX - Lawbsters"}),m.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"UwU LAWB"}),m.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Telegram"}),m.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Discord"}),m.jsx("a",{href:"https://store.fun/lawbshop",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Lawb.Shop"})]})]})};async function J8(t){const e="https://api.scatter.art/v1",n="pixelawbs";try{console.log(`Getting eligible invite lists for collection: ${n}`);const r=await fetch(`${e}/collection/${n}/eligible-invite-lists?minterAddress=${t}`);if(console.log("Response status:",r.status),r.ok){const s=await r.json();return console.log("Lists found:",s),s}else return console.log("Failed to get lists:",r.status,r.statusText),[]}catch(r){return console.log("Error getting lists:",r),[]}}async function AA(t,e=1,n=50,r){let i=`https://api.scatter.art/v1/collection/${t}/nfts?page=${e}&pageSize=${n}&sortBy=recent&sortOrder=desc`;r&&(i+=`&ownerAddress=${r}`);try{const o=await fetch(i);if(o.ok)return await o.json();throw new Error(`Failed to get NFTs: ${o.statusText}`)}catch(o){throw console.error("Error getting collection NFTs:",o),o}}async function Q8(t,e){const i=await fetch("https://api.scatter.art/v1/mint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionAddress:"0x2d278e95b2fC67D4b27a276807e24E479D9707F6",chainId:1,minterAddress:t,lists:e})}),o=await i.json();if(!i.ok)throw console.error("Scatter API Error:",JSON.stringify(o,null,2)),new Error(o.message||"Minting failed");return{success:!0,mintTransaction:o.mintTransaction,erc20s:o.erc20s}}async function IA(t,e=50,n){const r="030a5ee582f64b8ab3a598ab2b97d85f";let s=`https://api.opensea.io/api/v2/collection/${t}/nfts?limit=${e}`;n&&console.warn("Owner filtering is not supported for OpenSea collections in this view.");try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get OpenSea NFTs: ${i.statusText}`);const a=(await i.json()).nfts.map(c=>{var l,u,d;return{id:c.identifier,address:c.contract,token_id:parseInt(c.identifier,10),attributes:JSON.stringify(c.traits||[]),name:c.name||`#${c.identifier}`,image_url:c.image_url,owner_of:((u=(l=c.owners)==null?void 0:l[0])==null?void 0:u.address)||"",block_minted:0,contract_type:"ERC721",description:c.description||"",image:c.image_url,image_url_shrunk:c.image_url,animation_url:c.animation_url,metadata:"",chain_id:1,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:t,num_items:1,created_at:c.updated_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString(),owners:((d=c.owners)==null?void 0:d.map(h=>({owner_of:h.address,quantity:h.quantity})))||[]}});return{page:1,pageSize:e,totalCount:a.length,totalPages:1,data:a}}catch(i){throw console.error("Error getting OpenSea NFTs:",i),i}}async function Z8(t,e,n){const r="030a5ee582f64b8ab3a598ab2b97d85f",s=`https://api.opensea.io/api/v2/chain/${t}/contract/${e}/nfts/${n}`;try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get single OpenSea NFT: ${i.statusText}`);return(await i.json()).nft}catch(i){throw console.error("Error getting single OpenSea NFT:",i),i}}async function X8(t,e=50){var s;const n="030a5ee582f64b8ab3a598ab2b97d85f",r=`https://api.opensea.io/api/v2/collection/${t}/nfts?chain=solana&limit=${e}&include_orders=true`;try{const i=await fetch(r,{headers:{"X-API-KEY":n}});if(!i.ok)throw new Error(`Failed to get OpenSea Solana NFTs: ${i.statusText}`);const o=await i.json();console.log("Solana collection response:",o),console.log("Sample NFT from response:",o.nfts[0]),console.log("Sample NFT owners:",(s=o.nfts[0])==null?void 0:s.owners),console.log("Sample NFT full structure:",JSON.stringify(o.nfts[0],null,2));const a=o.nfts.map(c=>{var l,u,d;return{id:c.identifier,address:c.contract,token_id:parseInt(c.identifier,10),attributes:JSON.stringify(c.traits||[]),name:c.name||`#${c.identifier}`,image_url:c.image_url,owner_of:((u=(l=c.owners)==null?void 0:l[0])==null?void 0:u.address)||"",block_minted:0,contract_type:"SOL",description:c.description||"",image:c.image_url,image_url_shrunk:c.image_url,animation_url:c.animation_url,metadata:"",chain_id:1399811149,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:t,num_items:1,created_at:c.updated_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString(),owners:((d=c.owners)==null?void 0:d.map(h=>({owner_of:h.address,quantity:h.quantity})))||[]}});return{page:1,pageSize:e,totalCount:a.length,totalPages:1,data:a}}catch(i){throw console.error("Error getting OpenSea Solana NFTs:",i),i}}async function qZ(t,e=50){var s;const n="030a5ee582f64b8ab3a598ab2b97d85f",r=[`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}`,`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}&include_orders=false`,`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}&include_orders=false&include_metadata=true`];for(const i of r){console.log("Trying OpenSea endpoint:",i);try{const o=await fetch(i,{headers:{"X-API-KEY":n}});if(console.log("Response status:",o.status),!o.ok){const c=await o.text();console.error("API Error response:",c);continue}const a=await o.json();if(console.log("Raw API response:",a),console.log("Number of NFTs returned:",((s=a.nfts)==null?void 0:s.length)||0),a.nfts&&a.nfts.length>0){const c=a.nfts.map(l=>({id:l.identifier,address:l.contract,token_id:parseInt(l.identifier,10),attributes:JSON.stringify(l.traits||[]),name:l.name||`#${l.identifier}`,image_url:l.image_url,owner_of:t,block_minted:0,contract_type:"SOL",description:l.description||"",image:l.image_url,image_url_shrunk:l.image_url,animation_url:l.animation_url,metadata:"",chain_id:1399811149,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:"",num_items:1,created_at:l.updated_at||new Date().toISOString(),updated_at:l.updated_at||new Date().toISOString(),owners:[{owner_of:t,quantity:1}]}));return console.log("Transformed NFTs:",c.length),{page:1,pageSize:e,totalCount:c.length,totalPages:1,data:c}}}catch(o){console.error("Error with endpoint:",i,o);continue}}return console.log("All OpenSea endpoints failed, returning empty result"),{page:1,pageSize:e,totalCount:0,totalPages:1,data:[]}}const HZ=ki({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:5e3},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"}}),VZ=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=HZ({isOpen:t}),i=R.useRef(null),[o,a]=R.useState([]),[c,l]=R.useState(!1),[u,d]=R.useState(!1),[h,f]=R.useState({}),[p,g]=R.useState(null),{data:w}=G5();R.useEffect(()=>{t&&r&&y()},[t,r]);const y=async()=>{l(!0),g(null);try{const x=await J8(r);a(x);const S={};x.forEach(A=>{S[A.id]=0}),f(S)}catch(x){g(x.message)}finally{l(!1)}},b=(x,S)=>{f(A=>({...A,[x]:Math.max(0,S)}))},v=async()=>{const x=Object.entries(h).filter(([,S])=>S>0).map(([S,A])=>({id:S,quantity:A}));if(x.length===0){g("Please select at least one item to mint");return}if(!w){g("Wallet not connected");return}d(!0),g(null);try{console.log("Starting mint process for address:",r);const S=await Q8(r,x);if(console.log("Mint API result:",S),S.success&&S.mintTransaction){console.log("Got mint transaction:",S.mintTransaction),alert("Please confirm the transaction in your wallet.");try{console.log("Sending transaction to wallet...");const A=await w.sendTransaction({to:S.mintTransaction.to,value:BigInt(S.mintTransaction.value),data:S.mintTransaction.data});console.log("Transaction sent successfully:",A),alert(`NFT Minted Successfully: Transaction Hash - ${A}`),e()}catch(A){console.error("Transaction sending failed:",A),g("Transaction failed: "+A.message)}}else throw new Error(S.message||"Could not retrieve minting transaction.")}catch(S){console.error("Minting failed:",S),g("Minting failed: "+S.message)}finally{d(!1)}},_=(x,S)=>`${parseFloat(x)} ${S}`,E=()=>{n&&n()};return t?m.jsx(sm,{nodeRef:i,handle:`.${s.header}`,children:m.jsxs("div",{ref:i,className:s.popup,children:[m.jsxs("div",{className:s.header,children:[m.jsx("span",{children:"Mint Pixelawbster"}),m.jsxs("div",{className:s.titleBarButtons,children:[m.jsx("button",{className:s.titleBarButton,onClick:E,title:"Minimize",children:"_"}),m.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:"✕"})]})]}),m.jsxs("div",{className:s.content,children:[p&&m.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:p}),c?m.jsx("div",{children:"Loading eligible invite lists..."}):o.length===0?m.jsx("div",{children:"No eligible invite lists found for your wallet."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("h3",{children:"Available Lists:"}),o.map(x=>m.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#ffffff"},children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:x.name}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",_(x.token_price,x.currency_symbol)]}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",x.wallet_limit===4294967295?"Unlimited":x.wallet_limit," per wallet"]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx("label",{style:{fontSize:"12px"},children:"Quantity:"}),m.jsx("input",{type:"number",min:"0",max:x.wallet_limit===4294967295?999:x.wallet_limit,value:h[x.id]||0,onChange:S=>b(x.id,parseInt(S.target.value)||0),style:{width:"60px",padding:"2px 5px",border:"1px solid #808080"}})]})]},x.id))]}),m.jsx("button",{onClick:()=>void v(),disabled:u,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"10px 20px",cursor:u?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:u?"Minting...":"Mint Selected NFTs"})]})]})]})}):null},GZ=ki({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"400px",height:"auto",top:"20vh",left:"30vw",zIndex:102,display:"flex",flexDirection:"column"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",background:"white",color:"black"},detailImage:{width:"100%",height:"auto",marginBottom:"10px"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}}}),KZ=t=>{try{const e=JSON.parse(t);return Array.isArray(e)&&e.every(n=>"trait_type"in n&&"value"in n)?e:[]}catch{return[]}},YZ=({nft:t,onClose:e})=>{const n=GZ(),r=R.useRef(null),s=KZ(t.attributes);return m.jsx(sm,{nodeRef:r,handle:`.${n.header}`,children:m.jsxs("div",{className:n.popup,ref:r,children:[m.jsxs("div",{className:n.header,children:[m.jsxs("span",{children:[t.name," - Details"]}),m.jsx("button",{className:n.titleBarButton,onClick:e,children:"X"})]}),m.jsxs("div",{className:n.content,children:[m.jsx("img",{src:t.image_url,alt:t.name,className:n.detailImage}),m.jsx("h3",{children:"Traits"}),m.jsx("ul",{className:n.detailTraits,children:s.length>0?s.map((i,o)=>m.jsxs("li",{children:[m.jsxs("strong",{children:[i.trait_type,":"]})," ",i.value]},o)):m.jsx("li",{children:"No traits found."})})]})]})})},JZ=Symbol(),bN=Object.getPrototypeOf,SC=new WeakMap,QZ=t=>t&&(SC.has(t)?SC.get(t):bN(t)===Object.prototype||bN(t)===Array.prototype),ZZ=t=>QZ(t)&&t[JZ]||null,EN=(t,e=!0)=>{SC.set(t,e)},ew={},E1=t=>typeof t=="object"&&t!==null,$a=new WeakMap,Of=new WeakSet,XZ=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>E1(l)&&!Of.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},s=new WeakMap,i=(l,u,d=r)=>{const h=s.get(l);if((h==null?void 0:h[0])===u)return h[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return EN(f,!0),s.set(l,[u,f]),Reflect.ownKeys(l).forEach(p=>{if(Object.getOwnPropertyDescriptor(f,p))return;const g=Reflect.get(l,p),{enumerable:w}=Reflect.getOwnPropertyDescriptor(l,p),y={value:g,enumerable:w,configurable:!0};if(Of.has(g))EN(g,!1);else if(g instanceof Promise)delete y.value,y.get=()=>d(g);else if($a.has(g)){const[b,v]=$a.get(g);y.value=i(b,v(),d)}Object.defineProperty(f,p,y)}),Object.preventExtensions(f)},o=new WeakMap,a=[1,1],c=l=>{if(!E1(l))throw new Error("object required");const u=o.get(l);if(u)return u;let d=a[0];const h=new Set,f=(C,P=++a[0])=>{d!==P&&(d=P,h.forEach(k=>k(C,P)))};let p=a[1];const g=(C=++a[1])=>(p!==C&&!h.size&&(p=C,y.forEach(([P])=>{const k=P[1](C);k>d&&(d=k)})),d),w=C=>(P,k)=>{const B=[...P];B[1]=[C,...B[1]],f(B,k)},y=new Map,b=(C,P)=>{if((ew?"production":void 0)!=="production"&&y.has(C))throw new Error("prop listener already exists");if(h.size){const k=P[3](w(C));y.set(C,[P,k])}else y.set(C,[P])},v=C=>{var P;const k=y.get(C);k&&(y.delete(C),(P=k[1])==null||P.call(k))},_=C=>(h.add(C),h.size===1&&y.forEach(([k,B],F)=>{if((ew?"production":void 0)!=="production"&&B)throw new Error("remove already exists");const H=k[3](w(F));y.set(F,[k,H])}),()=>{h.delete(C),h.size===0&&y.forEach(([k,B],F)=>{B&&(B(),y.set(F,[k]))})}),E=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),S=e(E,{deleteProperty(C,P){const k=Reflect.get(C,P);v(P);const B=Reflect.deleteProperty(C,P);return B&&f(["delete",[P],k]),B},set(C,P,k,B){const F=Reflect.has(C,P),H=Reflect.get(C,P,B);if(F&&(t(H,k)||o.has(k)&&t(H,o.get(k))))return!0;v(P),E1(k)&&(k=ZZ(k)||k);let N=k;if(k instanceof Promise)k.then(T=>{k.status="fulfilled",k.value=T,f(["resolve",[P],T])}).catch(T=>{k.status="rejected",k.reason=T,f(["reject",[P],T])});else{!$a.has(k)&&n(k)&&(N=c(k));const T=!Of.has(N)&&$a.get(N);T&&b(P,T)}return Reflect.set(C,P,N,B),f(["set",[P],k,H]),!0}});o.set(l,S);const A=[E,g,i,_];return $a.set(S,A),Reflect.ownKeys(l).forEach(C=>{const P=Object.getOwnPropertyDescriptor(l,C);"value"in P&&(S[C]=l[C],delete P.value,delete P.writable),Object.defineProperty(E,C,P)}),S})=>[c,$a,Of,t,e,n,r,s,i,o,a],[eX]=XZ();function Ft(t={}){return eX(t)}function Zn(t,e,n){const r=$a.get(t);(ew?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[3];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function lg(t,e){const n=$a.get(t);(ew?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,s,i]=n;return i(r,s(),e)}function Ql(t){return Of.add(t),t}function Xn(t,e,n,r){let s=t[e];return Zn(t,()=>{const i=t[e];Object.is(s,i)||n(s=i)})}function tX(t){const e=Ft({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const s=this.data.find(i=>i[0]===n);return s?s[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(s=>s[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(s=>s[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var _N={};const Z={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof _N<"u"?_N.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},ug={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var s;if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return((s=Z.CHAIN_NAME_MAP)==null?void 0:s[r])||void 0}};var nX=20,rX=1,Zl=1e6,CN=1e6,sX=-7,iX=21,oX=!1,im="[big.js] ",fu=im+"Invalid ",Ev=fu+"decimal places",aX=fu+"rounding mode",e6=im+"Division by zero",It={},eo=void 0,cX=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function t6(){function t(e){var n=this;if(!(n instanceof t))return e===eo?t6():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(fu+"value");e=e===0&&1/e<0?"-0":String(e)}lX(n,e)}n.constructor=t}return t.prototype=It,t.DP=nX,t.RM=rX,t.NE=sX,t.PE=iX,t.strict=oX,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function lX(t,e){var n,r,s;if(!cX.test(e))throw Error(fu+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function pu(t,e,n,r){var s=t.c;if(n===eo&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(aX);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==eo))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==eo||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function gu(t,e,n){var r=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}It.abs=function(){var t=new this.constructor(this);return t.s=1,t};It.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,i=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=s.length)?a:c,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};It.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,i=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>Zl)throw Error(Ev);if(!s[0])throw Error(e6);if(!r[0])return t.s=i,t.c=[t.e=0],t;var a,c,l,u,d,h=s.slice(),f=a=s.length,p=r.length,g=r.slice(0,a),w=g.length,y=t,b=y.c=[],v=0,_=o+(y.e=e.e-t.e)+1;for(y.s=i,i=_<0?0:_,h.unshift(0);w++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(w=g.length))u=a>w?1:-1;else for(d=-1,u=0;++d<a;)if(s[d]!=g[d]){u=s[d]>g[d]?1:-1;break}if(u<0){for(c=w==a?s:h;w;){if(g[--w]<c[w]){for(d=w;d&&!g[--d];)g[d]=9;--g[d],g[w]+=10}g[w]-=c[w]}for(;!g[0];)g.shift()}else break}b[v++]=u?l:++l,g[0]&&u?g[w]=r[f]||0:g=[r[f]]}while((f++<p||g[0]!==eo)&&i--);return!b[0]&&v!=1&&(b.shift(),y.e--,_--),v>_&&pu(y,_,n.RM,g[0]!==eo),y};It.eq=function(t){return this.cmp(t)===0};It.gt=function(t){return this.cmp(t)>0};It.gte=function(t){return this.cmp(t)>-1};It.lt=function(t){return this.cmp(t)<0};It.lte=function(t){return this.cmp(t)<1};It.minus=It.sub=function(t){var e,n,r,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),u=i.e,d=t.c,h=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(i):t.s=1,t;if(a=u-h){for((s=a<0)?(a=-a,r=l):(h=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){s=l[c]<d[c];break}if(s&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t};It.mod=function(t){var e,n=this,r=n.constructor,s=n.s,i=(t=new r(t)).s;if(!t.c[0])throw Error(e6);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=i,e?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=i,this.minus(n.times(t)))};It.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};It.plus=It.add=function(t){var e,n,r,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};It.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-CN||t>CN)throw Error(fu+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};It.prec=function(t,e){if(t!==~~t||t<1||t>Zl)throw Error(fu+"precision");return pu(new this.constructor(this),t,e)};It.round=function(t,e){if(t===eo)t=0;else if(t!==~~t||t<-Zl||t>Zl)throw Error(Ev);return pu(new this.constructor(this),t+this.e+1,e)};It.sqrt=function(){var t,e,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(im+"No square root");i=Math.sqrt(+gu(r,!0,!0)),i===0||i===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return pu(t,(s.DP-=4)+t.e+1,s.RM)};It.times=It.mul=function(t){var e,n=this,r=n.constructor,s=n.c,i=(t=new r(t)).c,o=s.length,a=i.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=s,s=i,i=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+i[c]*s[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};It.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==eo){if(t!==~~t||t<0||t>Zl)throw Error(Ev);for(n=pu(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return gu(n,!0,!!r)};It.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==eo){if(t!==~~t||t<0||t>Zl)throw Error(Ev);for(n=pu(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return gu(n,!1,!!r)};It[Symbol.for("nodejs.util.inspect.custom")]=It.toJSON=It.toString=function(){var t=this,e=t.constructor;return gu(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};It.toNumber=function(){var t=+gu(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(im+"Imprecise conversion");return t};It.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==eo){if(t!==~~t||t<1||t>Zl)throw Error(fu+"precision");for(n=pu(new r(n),t,e);n.c.length<t;)n.c.push(0)}return gu(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};It.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(im+"valueOf disallowed");return gu(t,t.e<=e.NE||t.e>=e.PE,!0)};var rf=t6();const uX={bigNumber(t){return t?new rf(t):new rf(0)},multiply(t,e){if(t===void 0||e===void 0)return new rf(0);const n=new rf(t),r=new rf(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},dX=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],hX=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],fX=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],pX={getERC20Abi:t=>Z.USDT_CONTRACT_ADDRESSES.includes(t)?fX:dX,getSwapAbi:()=>hX},ps={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},We={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids"};function _1(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Be={setItem(t,e){Rf()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Rf())return localStorage.getItem(t)||void 0},removeItem(t){Rf()&&localStorage.removeItem(t)},clear(){Rf()&&localStorage.clear()}};function Rf(){return typeof window<"u"&&typeof localStorage<"u"}function Uo(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var xN={};const C1=(typeof process<"u"&&typeof xN<"u"?xN.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",n6=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]},{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]}],gX="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",xt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:C1,SECURE_SITE_DASHBOARD:`${C1}/dashboard`,SECURE_SITE_FAVICON:`${C1}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld","coinbase"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},fe={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=fe.getActiveNamespace(),e=fe.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{Be.setItem(We.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Be.getItem(We.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Be.removeItem(We.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Be.setItem(We.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Be.setItem(We.ACTIVE_CAIP_NETWORK_ID,t),fe.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Be.getItem(We.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Be.removeItem(We.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=_1(t);Be.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=fe.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Be.setItem(We.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Be.getItem(We.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=_1(t);Be.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Be.getItem(We.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=_1(t);return Be.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{Be.setItem(We.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Be.getItem(We.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Be.removeItem(We.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Be.getItem(We.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=Be.getItem(We.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{Be.setItem(We.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Be.getItem(We.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Be.getItem(We.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Be.setItem(We.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=fe.getConnectedNamespaces();e.includes(t)||(e.push(t),fe.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=fe.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),fe.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Be.getItem(We.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Be.setItem(We.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Be.removeItem(We.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Be.getItem(We.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=fe.getBalanceCache();Be.setItem(We.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=fe.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;fe.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=fe.getBalanceCache();e[t.caipAddress]=t,Be.setItem(We.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Be.getItem(We.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=fe.getBalanceCache();Be.setItem(We.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=fe.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),fe.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=fe.getNativeBalanceCache();e[t.caipAddress]=t,Be.setItem(We.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Be.getItem(We.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=fe.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;fe.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=fe.getEnsCache();e[t.address]=t,Be.setItem(We.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=fe.getEnsCache();Be.setItem(We.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Be.getItem(We.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=fe.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;fe.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=fe.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Be.setItem(We.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=fe.getIdentityCache();Be.setItem(We.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Be.removeItem(We.PORTFOLIO_CACHE),Be.removeItem(We.NATIVE_BALANCE_CACHE),Be.removeItem(We.ENS_CACHE),Be.removeItem(We.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Be.setItem(We.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Be.getItem(We.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=fe.getConnections(),r=n[e]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of t){const a=s.get(o.connectorId),c=o.connectorId===Z.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else s.set(o.connectorId,{...o})}const i={...n,[e]:Array.from(s.values())};Be.setItem(We.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=Be.getItem(We.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=fe.getConnections(),s=r[n]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),Be.setItem(We.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=Be.getItem(We.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=fe.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),Be.setItem(We.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=fe.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(s=>s.toLowerCase()!==t.toLowerCase()),Be.setItem(We.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(fe.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1}},Pe={isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return Pe.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=xt.TEN_SEC_MS:!0},isAllowedRetry(t,e=xt.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(Pe.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(n){const s=new URL(n),i=new URL(r);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+xt.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(Pe.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(t,e){if(!Pe.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?fe.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r;if(typeof window>"u")return!1;const t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(n=window.matchMedia("(display-mode: standalone)"))==null?void 0:n.matches:!1,e=(r=window==null?void 0:window.navigator)==null?void 0:r.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,Pe.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return Z.W3M_API_URL},getBlockchainApiUrl(){return Z.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Z.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?xt.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in Z.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,r+i),c=t.substring(r+i,o),l=t.substring(s),u=c+n;return a+u+l}};async function sf(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class om{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await sf(i,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await sf(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await sf(i,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await sf(i,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await sf(i,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const mX={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?xt.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Pe.isTelegram()){if(Pe.isIos())return t.filter(e=>e!=="google");if(Pe.isMac())return t.filter(e=>e!=="x");if(Pe.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},je=Ft({features:xt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:xt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),oe={state:je,subscribeKey(t,e){return Xn(je,t,e)},setOptions(t){Object.assign(je,t)},setRemoteFeatures(t){var n;if(!t)return;const e={...je.remoteFeatures,...t};je.remoteFeatures=e,(n=je.remoteFeatures)!=null&&n.socials&&(je.remoteFeatures.socials=mX.filterSocialsByPlatform(je.remoteFeatures.socials))},setFeatures(t){if(!t)return;je.features||(je.features=xt.DEFAULT_FEATURES);const e={...je.features,...t};je.features=e},setProjectId(t){je.projectId=t},setCustomRpcUrls(t){je.customRpcUrls=t},setAllWallets(t){je.allWallets=t},setIncludeWalletIds(t){je.includeWalletIds=t},setExcludeWalletIds(t){je.excludeWalletIds=t},setFeaturedWalletIds(t){je.featuredWalletIds=t},setTokens(t){je.tokens=t},setTermsConditionsUrl(t){je.termsConditionsUrl=t},setPrivacyPolicyUrl(t){je.privacyPolicyUrl=t},setCustomWallets(t){je.customWallets=t},setIsSiweEnabled(t){je.isSiweEnabled=t},setIsUniversalProvider(t){je.isUniversalProvider=t},setSdkVersion(t){je.sdkVersion=t},setMetadata(t){je.metadata=t},setDisableAppend(t){je.disableAppend=t},setEIP6963Enabled(t){je.enableEIP6963=t},setDebug(t){je.debug=t},setEnableWalletConnect(t){je.enableWalletConnect=t},setEnableWalletGuide(t){je.enableWalletGuide=t},setEnableAuthLogger(t){je.enableAuthLogger=t},setEnableWallets(t){je.enableWallets=t},setPreferUniversalLinks(t){je.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){je.hasMultipleAddresses=t},setSIWX(t){je.siwx=t},setConnectMethodsOrder(t){je.features={...je.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){je.features={...je.features,walletFeaturesOrder:t}},setSocialsOrder(t){je.remoteFeatures={...je.remoteFeatures,socials:t}},setCollapseWallets(t){je.features={...je.features,collapseWallets:t}},setEnableEmbedded(t){je.enableEmbedded=t},setAllowUnsupportedChain(t){je.allowUnsupportedChain=t},setManualWCControl(t){je.manualWCControl=t},setEnableNetworkSwitch(t){je.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(je.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){je.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return je.universalProviderConfigOverride},getSnapshot(){return lg(je)}},yX=Object.freeze({enabled:!0,events:[]}),wX=new om({baseUrl:Pe.getAnalyticsUrl(),clientId:null}),vX=5,bX=60*1e3,pa=Ft({...yX}),EX={state:pa,subscribeKey(t,e){return Xn(pa,t,e)},async sendError(t,e){if(!pa.enabled)return;const n=Date.now();if(pa.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<bX}).length>=vX)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};pa.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=oe.state;await wX.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Pe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){pa.enabled=!0},disable(){pa.enabled=!1},clearEvents(){pa.events=[]}};class ih extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,ih.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,ih):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function SN(t,e){const n=t instanceof ih?t:new ih(t instanceof Error?t.message:String(t),e,t);throw EX.sendError(n,n.category),n}function Ns(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return SN(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return SN(a,e)}},n[r]=i}else n[r]=s}),n}const Gi={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},_X={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===Gi.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${Gi.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===Gi.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${Gi.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===Z.CHAIN.SOLANA&&t===Gi.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${Gi.COINBASE.url}/dapp?cb_url=${r}`)}},as=Ft({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),CX={state:as,subscribeNetworkImages(t){return Zn(as.networkImages,()=>t(as.networkImages))},subscribeKey(t,e){return Xn(as,t,e)},subscribe(t){return Zn(as,()=>t(as))},setWalletImage(t,e){as.walletImages[t]=e},setNetworkImage(t,e){as.networkImages[t]=e},setChainImage(t,e){as.chainImages[t]=e},setConnectorImage(t,e){as.connectorImages={...as.connectorImages,[t]:e}},setTokenImage(t,e){as.tokenImages[t]=e},setCurrencyImage(t,e){as.currencyImages[t]=e}},yi=Ns(CX),xX={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},x1=Ft({networkImagePromises:{}}),r6={async fetchWalletImage(t){if(t)return await Re._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(x1.networkImagePromises[t]||(x1.networkImagePromises[t]=Re._fetchNetworkImage(t)),await x1.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return yi.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return yi.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return yi.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return yi.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return yi.state.connectorImages[t.imageId]},getChainImage(t){return yi.state.networkImages[xX[t]]}},ga=Ft({message:"",variant:"info",open:!1}),SX={state:ga,subscribeKey(t,e){return Xn(ga,t,e)},open(t,e){const{debug:n}=oe.state,{shortMessage:r,longMessage:s}=t;n&&(ga.message=r,ga.variant=e,ga.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){ga.open=!1,ga.message="",ga.variant="info"}},gn=Ns(SX),AX=Pe.getAnalyticsUrl(),IX=new om({baseUrl:AX,clientId:null}),TX=["MODAL_CREATED"],po=Ft({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),St={state:po,subscribe(t){return Zn(po,()=>t(po))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=oe.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=he.state.address;if(TX.includes(t.data.event)||typeof window>"u")return;await IX.post({path:"/e",params:St.getSdkProperties(),body:{eventId:Pe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),po.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Z.HTTP_STATUS_CODES.FORBIDDEN&&!po.reportedErrors.FORBIDDEN&&(gn.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Rf()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),po.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;po.timestamp=Date.now(),po.data=t,(e=oe.state.features)!=null&&e.analytics&&St._sendAnalyticsEvent(po)}},NX=Pe.getApiUrl(),$r=new om({baseUrl:NX,clientId:null}),PX=40,AN=4,kX=20,Ve=Ft({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Re={state:Ve,subscribeKey(t,e){return Xn(Ve,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=oe.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return oe.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${$r.baseUrl}/getWalletImage/${t}`,n=await $r.getBlob({path:e,params:Re._getSdkProperties()});yi.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${$r.baseUrl}/public/getAssetImage/${t}`,n=await $r.getBlob({path:e,params:Re._getSdkProperties()});yi.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${$r.baseUrl}/public/getAssetImage/${t}`,n=await $r.getBlob({path:e,params:Re._getSdkProperties()});yi.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${$r.baseUrl}/public/getCurrencyImage/${t}`,n=await $r.getBlob({path:e,params:Re._getSdkProperties()});yi.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${$r.baseUrl}/public/getTokenImage/${t}`,n=await $r.getBlob({path:e,params:Re._getSdkProperties()});yi.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return Pe.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===Gi.COINBASE.id?!0:O.state.activeChain==="solana"&&(n.id===Gi.SOLFLARE.id||n.id===Gi.PHANTOM.id)):t},async fetchProjectConfig(){return(await $r.get({path:"/appkit/v1/config",params:Re._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await $r.get({path:"/projects/v1/origins",params:Re._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===Z.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=Z.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=O.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!r6.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Re._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=ge.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Re._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Re._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Re._fetchTokenImage(e)))},async fetchWallets(t){var i;const e=t.exclude??[];Re._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(Gi).map(o=>o.id));const r=await $r.get({path:"/getWallets",params:{...Re._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(i=t.include)==null?void 0:i.join(","),exclude:e.join(",")}});return{data:Re._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=oe.state;if(t!=null&&t.length){const e={...Re._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??AN,include:t},{data:n}=await Re.fetchWallets(e),r=[...n].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>Re._fetchWalletImage(i))),Ve.featured=r,Ve.allFeatured=r}},async fetchRecommendedWallets(){try{Ve.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=oe.state,r=[...e??[],...n??[]].filter(Boolean),s=O.getRequestedCaipNetworkIds().join(","),i={page:1,entries:AN,include:t,exclude:r,chains:s},{data:o,count:a}=await Re.fetchWallets(i),c=fe.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>Re._fetchWalletImage(d))),Ve.recommended=o,Ve.allRecommended=o,Ve.count=a??0}catch{}finally{Ve.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=oe.state,s=O.getRequestedCaipNetworkIds().join(","),i=[...Ve.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:PX,include:e,exclude:i,chains:s},{data:a,count:c}=await Re.fetchWallets(o),l=a.slice(0,kX).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>Re._fetchWalletImage(u))),Ve.wallets=Pe.uniqueBy([...Ve.wallets,...Re._filterOutExtensions(a)],"id").filter(u=>{var d;return(d=u.chains)==null?void 0:d.some(h=>s.includes(h))}),Ve.count=c>Ve.count?c:Ve.count,Ve.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await Re.fetchWallets(e);n&&n.forEach(r=>{Ve.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=oe.state,s=O.getRequestedCaipNetworkIds().join(",");Ve.search=[];const i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:o}=await Re.fetchWallets(i);St.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Re._fetchWalletImage(c)),Pe.wait(300)]),Ve.search=Re._filterOutExtensions(o)},initPromise(t,e){const n=Ve.promises[t];return n||(Ve.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&Re.initPromise("connectorImages",Re.fetchConnectorImages),e&&Re.initPromise("featuredWallets",Re.fetchFeaturedWallets),n&&Re.initPromise("recommendedWallets",Re.fetchRecommendedWallets),r&&Re.initPromise("networkImages",Re.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=oe.state.features)!=null&&t.analytics&&Re.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await $r.get({path:"/getAnalyticsConfig",params:Re._getSdkProperties()});oe.setFeatures({analytics:t})}catch{oe.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){Ve.featured=Ve.allFeatured,Ve.recommended=Ve.allRecommended;return}const e=O.getRequestedCaipNetworkIds().join(",");Ve.featured=Ve.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ve.recommended=Ve.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ve.filteredWallets=Ve.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){Ve.filteredWallets=[]},setFilterByNamespace(t){if(!t){Ve.featured=Ve.allFeatured,Ve.recommended=Ve.allRecommended;return}const e=O.getRequestedCaipNetworkIds().join(",");Ve.featured=Ve.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ve.recommended=Ve.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ve.filteredWallets=Ve.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},Pt=Ft({view:"Connect",history:["Connect"],transactionStack:[]}),OX={state:Pt,subscribeKey(t,e){return Xn(Pt,t,e)},pushTransactionStack(t){Pt.transactionStack.push(t)},popTransactionStack(t){const e=Pt.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:s}=e;switch(t){case"success":n==null||n();break;case"error":r==null||r(),Le.goBack();break;case"cancel":s==null||s(),Le.goBack();break}},push(t,e){t!==Pt.view&&(Pt.view=t,Pt.history.push(t),Pt.data=e)},reset(t,e){Pt.view=t,Pt.history=[t],Pt.data=e},replace(t,e){Pt.history.at(-1)===t||(Pt.view=t,Pt.history[Pt.history.length-1]=t,Pt.data=e)},goBack(){var r;const t=O.state.activeCaipAddress,e=Le.state.view==="ConnectingFarcaster",n=!t&&e;if(Pt.history.length>1){Pt.history.pop();const[s]=Pt.history.slice(-1);s&&(t&&s==="Connect"?Pt.view="Account":Pt.view=s)}else bt.close();(r=Pt.data)!=null&&r.wallet&&(Pt.data.wallet=void 0),setTimeout(()=>{var s,i,o;if(n){he.setFarcasterUrl(void 0,O.state.activeChain);const a=ge.getAuthConnector();(s=a==null?void 0:a.provider)==null||s.reload();const c=lg(oe.state);(o=(i=a==null?void 0:a.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(Pt.history.length>1){Pt.history=Pt.history.slice(0,t+1);const[e]=Pt.history.slice(-1);e&&(Pt.view=e)}},goBackOrCloseModal(){Le.state.history.length>1?Le.goBack():bt.close()}},Le=Ns(OX),go=Ft({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),AC={state:go,subscribe(t){return Zn(go,()=>t(go))},setThemeMode(t){go.themeMode=t;try{const e=ge.getAuthConnector();if(e){const n=AC.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Uo(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){go.themeVariables={...go.themeVariables,...t};try{const e=ge.getAuthConnector();if(e){const n=AC.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Uo(go.themeVariables,go.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return lg(go)}},Gr=Ns(AC),s6={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},ut=Ft({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...s6},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),RX={state:ut,subscribe(t){return Zn(ut,()=>{t(ut)})},subscribeKey(t,e){return Xn(ut,t,e)},initialize(t){t.forEach(e=>{const n=fe.getConnectedConnectorId(e);n&&ge.setConnectorId(n,e)})},setActiveConnector(t){t&&(ut.activeConnector=Ql(t))},setConnectors(t){t.filter(s=>!ut.allConnectors.some(i=>i.id===s.id&&ge.getConnectorName(i.name)===ge.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&ut.allConnectors.push(Ql(s))});const n=ge.getEnabledNamespaces(),r=ge.getEnabledConnectors(n);ut.connectors=ge.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(ut.filterByNamespaceMap).forEach(e=>{ut.filterByNamespaceMap[e]=!1}),t.forEach(e=>{ut.filterByNamespaceMap[e]=!0}),ge.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){ut.filterByNamespaceMap[t]=e,ge.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=ge.getEnabledNamespaces(),e=ge.getEnabledConnectors(t),n=ge.areAllNamespacesEnabled();ut.connectors=ge.mergeMultiChainConnectors(e),n?Re.clearFilterByNamespaces():Re.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(ut.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return ut.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(ut.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=ge.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],i=(s==null?void 0:s.id)===Z.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=ge.getConnectorName(r);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===Z.CONNECTOR_ID.AUTH){const s=t,i=lg(oe.state),o=Gr.getSnapshot().themeMode,a=Gr.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Uo(a,o)}),ge.setConnectors([t])}else ge.setConnectors([t])},getAuthConnector(t){var r;const e=t||O.state.activeChain,n=ut.connectors.find(s=>s.id===Z.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return ut.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return ut.allConnectors.find(e=>e.id===t)},getConnector(t,e){return ut.allConnectors.filter(r=>r.chain===O.state.activeChain).find(r=>{var s;return r.explorerId===t||((s=r.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="ID_AUTH")return;const e=t,n=lg(oe.state),r=Gr.getSnapshot().themeMode,s=Gr.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:Uo(s,r)})},getConnectorsByNamespace(t){const e=ut.allConnectors.filter(n=>n.chain===t);return ge.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=ge.getConnector(t.id,t.rdns),n=O.state.activeChain;_X.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,n),e?Le.push("ConnectingExternal",{connector:e}):Le.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?ge.getConnectorsByNamespace(t):ge.mergeMultiChainConnectors(ut.allConnectors)},setFilterByNamespace(t){ut.filterByNamespace=t,ut.connectors=ge.getConnectors(t),Re.setFilterByNamespace(t)},setConnectorId(t,e){t&&(ut.activeConnectorIds={...ut.activeConnectorIds,[e]:t},fe.setConnectedConnectorId(e,t))},removeConnectorId(t){ut.activeConnectorIds={...ut.activeConnectorIds,[t]:void 0},fe.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return ut.activeConnectorIds[t]},isConnected(t){return t?!!ut.activeConnectorIds[t]:Object.values(ut.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){ut.activeConnectorIds={...s6}}},ge=Ns(RX),dg={getConnectionStatus(t,e){const n=ge.state.activeConnectorIds[e],r=Se.state.connections.get(e)??[];return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},validateAccountSwitch({namespace:t,connection:e,address:n}){if(t===Z.CHAIN.BITCOIN){if(!n)throw new Error("Address parameter is required for switching bip122 connection");const{type:s}=e.accounts.find(i=>i.address.toLowerCase()===n.toLowerCase())??{};if(typeof s=="string"&&s!=="payment")throw new Error(`Switching to non-payment accounts is not allowed for ${t}`)}},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},filterConnectionsByAccountType(t,e){return t.map(n=>{const r=n.accounts.filter(s=>typeof s.type=="string"?s.type.toLowerCase()===e.toLowerCase():!0);return{...n,accounts:r}})},getConnectionsData(t){const e=Se.state.connections.get(t)??[],n=e.filter(a=>!a.recent),r=ge.state.activeConnectorIds[t],i=e.filter(a=>a.recent).filter(a=>ge.getConnectorById(a.connectorId)),o=dg.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],i);return{connections:n,recentConnections:o}}};var oh={};const $X="https://secure.walletconnect.org/sdk",DX=(typeof process<"u"&&typeof oh<"u"?oh.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||$X,jX=(typeof process<"u"&&typeof oh<"u"?oh.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",UX=(typeof process<"u"&&typeof oh<"u"?oh.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Ie={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Un={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},LX=1e3,$o={checkNamespaceConnectorId(t,e){return ge.getConnectorId(t)===e},isSocialProvider(t){return xt.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&ge.setActiveConnector(e),s==null||s(Pe.isMobile()&&t),r){const l=bt.subscribeKey("open",u=>{u||(Le.state.view!==r&&Le.replace(r),l(),a(new Error("Modal closed")))})}const c=O.subscribeKey("activeCaipAddress",l=>{l&&(i==null||i(),n&&bt.close(),c(),o(ps.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,n)=>{const r=O.subscribeKey("activeCaipAddress",s=>{s&&(bt.close(),r(),e(ps.parseCaipAddress(s)))});Se.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,closeModalOnConnect:e=!0,onOpenFarcaster:n,onConnect:r}){let s=he.state.socialWindow,i=he.state.socialProvider,o=!1,a=null;const c=O.subscribeKey("activeCaipAddress",l=>{l&&(e&&bt.close(),c())});return new Promise((l,u)=>{async function d(f){var p;if((p=f.data)!=null&&p.resultUri)if(f.origin===Z.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",d,!1);try{const g=ge.getAuthConnector();if(g&&!o){s&&(s.close(),he.setSocialWindow(void 0,O.state.activeChain),s=he.state.socialWindow),o=!0;const w=f.data.resultUri;if(i&&St.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:i}}),await g.provider.connectSocial(w),i){fe.setConnectedSocialProvider(i),await Se.connectExternal({id:g.id,type:g.type,socialUri:w},g.chain);const y=O.state.activeCaipAddress;if(!y){u(new Error("Failed to connect"));return}l(ps.parseCaipAddress(y)),St.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:i}})}}}catch{i&&St.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}}),u(new Error("Failed to connect"))}}else i&&St.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}})}async function h(){if(t&&(he.setSocialProvider(t,O.state.activeChain),i=he.state.socialProvider,St.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:i}})),i==="farcaster"){n==null||n();const f=bt.subscribeKey("open",g=>{!g&&t==="farcaster"&&(u(new Error("Popup closed")),r==null||r(),f())}),p=ge.getAuthConnector();if(p&&!he.state.farcasterUrl)try{const{url:g}=await p.provider.getFarcasterUri();he.setFarcasterUrl(g,O.state.activeChain)}catch{u(new Error("Failed to connect to farcaster"))}}else{const f=ge.getAuthConnector();a=Pe.returnOpenHref(`${Z.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(f&&i){const{uri:p}=await f.provider.getSocialRedirectUri({provider:i});if(a&&p){he.setSocialWindow(a,O.state.activeChain),s=he.state.socialWindow,a.location.href=p;const g=setInterval(()=>{s!=null&&s.closed&&!o&&(u(new Error("Popup closed")),clearInterval(g))},1e3);window.addEventListener("message",d,!1)}else a==null||a.close(),u(new Error("Failed to initiate social connection"))}}catch{u(new Error("Failed to initiate social connection")),a==null||a.close()}}}h()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n==null||n(),e){const a=bt.subscribeKey("open",c=>{c||(Le.state.view!==e&&Le.replace(e),a(),i(new Error("Modal closed")))})}const o=O.subscribeKey("activeCaipAddress",a=>{a&&(r==null||r(),t&&bt.close(),o(),s(ps.parseCaipAddress(a)))})})},async updateEmail(){const t=fe.getConnectedConnectorId(O.state.activeChain),e=ge.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==Z.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return Le.push("UpdateEmailWallet",{email:n,redirectView:void 0}),new Promise((r,s)=>{const i=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(bt.close(),clearInterval(i),o(),r({email:a}))},LX),o=bt.subscribeKey("open",a=>{a||(Le.state.view!=="Connect"&&Le.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){var n;return O.checkIfSmartAccountEnabled()&&((n=he.state.preferredAccountTypes)==null?void 0:n[t])===Un.ACCOUNT_TYPES.EOA}},rl=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),vn=Ft({...rl}),MX={state:vn,subscribeKey(t,e){return Xn(vn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Pe.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){vn.message=rl.message,vn.variant=rl.variant,vn.svg=rl.svg,vn.open=rl.open,vn.autoClose=rl.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=rl.autoClose}){vn.open?(vn.open=!1,setTimeout(()=>{vn.message=t,vn.variant=n,vn.svg=e,vn.open=!0,vn.autoClose=r},150)):(vn.message=t,vn.variant=n,vn.svg=e,vn.open=!0,vn.autoClose=r)}},vi=MX,jt=Ft({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),BX={state:jt,subscribe(t){return Zn(jt,()=>t(jt))},setLastNetworkInView(t){jt.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");jt.loading=!0;try{const s=await Ue.fetchTransactions({account:t,cursor:jt.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=O.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),i=$f.filterSpamTransactions(s.data),o=$f.filterByConnectedChain(i),a=[...jt.transactions,...o];jt.loading=!1,e==="coinbase"?jt.coinbaseTransactions=$f.groupTransactionsByYearAndMonth(jt.coinbaseTransactions,s.data):(jt.transactions=a,jt.transactionsByYear=$f.groupTransactionsByYearAndMonth(jt.transactionsByYear,o)),jt.empty=a.length===0,jt.next=s.next?s.next:void 0}catch{const i=O.state.activeChain;St.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:oe.state.projectId,cursor:jt.next,isSmartAccount:((r=he.state.preferredAccountTypes)==null?void 0:r[i])===Un.ACCOUNT_TYPES.SMART_ACCOUNT}}),vi.showError("Failed to fetch transactions"),jt.loading=!1,jt.empty=!0,jt.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},c=(o[i]??[]).filter(l=>l.id!==r.id);n[s]={...o,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=O.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){jt.next=void 0},resetTransactions(){jt.transactions=[],jt.transactionsByYear={},jt.lastNetworkInView=void 0,jt.loading=!1,jt.empty=!1,jt.next=void 0}},$f=Ns(BX,"API_ERROR"),ot=Ft({connections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Kc;const FX={state:ot,subscribe(t){return Zn(ot,()=>t(ot))},subscribeKey(t,e){return Xn(ot,t,e)},_getClient(){return ot._client},setClient(t){ot._client=Ql(t)},initialize(t){const e=fe.getConnections();for(const n of t){const r=n.namespace;if(r){const s=ot.connections.get(r)??[],i=e[r]??[],o=[...s,...i];ot.connections.set(r,o)}}},async connectWalletConnect(){var t,e,n,r;if(Pe.isTelegram()||Pe.isSafari()&&Pe.isIos()){if(Kc){await Kc,Kc=void 0;return}if(!Pe.isPairingExpired(ot==null?void 0:ot.wcPairingExpiry)){const s=ot.wcUri;ot.wcUri=s;return}Kc=(e=(t=Se._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),Se.state.status="connecting",await Kc,Kc=void 0,ot.wcPairingExpiry=void 0,Se.state.status="connected"}else await((r=(n=Se._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var s,i;const r=await((i=(s=Se._getClient())==null?void 0:s.connectExternal)==null?void 0:i.call(s,t));return n&&O.setActiveNamespace(e),r},async reconnectExternal(t){var n,r;await((r=(n=Se._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||O.state.activeChain;e&&ge.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;bt.setLoading(!0,O.state.activeChain);const n=ge.getAuthConnector();n&&(he.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),fe.setPreferredAccountTypes(he.state.preferredAccountTypes??{[e]:t}),await Se.reconnectExternal(n),bt.setLoading(!1,O.state.activeChain),St.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=O.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=Se._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=Se._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=Se._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=Se._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=Se._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=Se._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=Se._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=Se._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=Se._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=Se._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=Se._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=Se._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){ot.wcUri=void 0,ot.wcPairingExpiry=void 0,ot.wcLinking=void 0,ot.recentWallet=void 0,ot.status="disconnected",$f.resetTransactions(),fe.deleteWalletConnectDeepLink()},resetUri(){ot.wcUri=void 0,ot.wcPairingExpiry=void 0,Kc=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=Se.state;t&&fe.setWalletConnectDeepLink(t),e&&fe.setAppKitRecent(e),St.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=Le.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){ot.wcBasic=t},setUri(t){ot.wcUri=t,ot.wcPairingExpiry=Pe.getPairingExpiry()},setWcLinking(t){ot.wcLinking=t},setWcError(t){ot.wcError=t,ot.buffering=!1},setRecentWallet(t){ot.recentWallet=t},setBuffering(t){ot.buffering=t},setStatus(t){ot.status=t},setIsSwitchingConnection(t){ot.isSwitchingConnection=t},async disconnect({id:t,namespace:e}={}){var n;try{await((n=Se._getClient())==null?void 0:n.disconnect({id:t,chainNamespace:e}))}catch(r){throw new ih("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(t,e){ot.connections=new Map(ot.connections.set(e,t))},async handleAuthAccountSwitch({address:t,connection:e,namespace:n}){var o;const r=(o=e.accounts.find(a=>a.type==="smartAccount"))==null?void 0:o.address,i=(r==null?void 0:r.toLowerCase())===t.toLowerCase()&&$o.canSwitchToSmartAccount(n)?"smartAccount":"eoa";await Se.setPreferredAccountType(i,n)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=ge.getConnectorById(t.connectorId),s=t.connectorId===Z.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);const i=await Se.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e);return s&&n&&await Se.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),i==null?void 0:i.address},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){var l,u;const s=ge.getConnectorById(t.connectorId),i=(u=(l=t.auth)==null?void 0:l.name)==null?void 0:u.toLowerCase(),o=t.connectorId===Z.CONNECTOR_ID.AUTH,a=t.connectorId===Z.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(i&&$o.isSocialProvider(i)){const{address:d}=await $o.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){bt.open({view:"ConnectingFarcaster"})},onConnect(){Le.replace("ProfileWallets")}});c=d}else{const{address:d}=await $o.connectEmail({closeModalOnConnect:r,onOpen(){bt.open({view:"EmailLogin"})},onConnect(){Le.replace("ProfileWallets")}});c=d}else if(a){const{address:d}=await $o.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(h){bt.open({view:h?"AllWallets":"ConnectingWalletConnect"})},onConnect(){Le.replace("ProfileWallets")}});c=d}else{const d=await Se.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);d&&(c=d.address)}return o&&n&&await Se.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:s}){dg.validateAccountSwitch({namespace:n,connection:t,address:e});let i;const o=he.getCaipAddress(n);if(o){const{address:c}=ps.parseCaipAddress(o);i=c}const a=dg.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const c=await Se.handleActiveConnection({connection:t,namespace:n,address:e});if(i&&c){const l=c.toLowerCase()!==i.toLowerCase();s==null||s({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await Se.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&(s==null||s({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},Se=Ns(FX),Nu=Ft({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),to={state:Nu,subscribe(t){return Zn(Nu,()=>t(Nu))},subscribeOpen(t){return Xn(Nu,"open",t)},set(t){Object.assign(Nu,{...Nu,...t})}};function zX(t){const e=Array.from(O.state.chains.keys());let n=[];return t?(n.push([t,O.state.chains.get(t)]),$o.checkNamespaceConnectorId(t,Z.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&$o.checkNamespaceConnectorId(r,Z.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,O.state.chains.get(r)])}):$o.checkNamespaceConnectorId(t,Z.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&$o.checkNamespaceConnectorId(r,Z.CONNECTOR_ID.AUTH)&&n.push([r,O.state.chains.get(r)])})):n=Array.from(O.state.chains.entries()),n}function i6(){var r,s;const t=((r=O.state.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=O.state.activeCaipNetwork)==null?void 0:s.id)||1,n=xt.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}const WX={async getTokenList(){var r;const t=O.state.activeCaipNetwork,e=await Ue.fetchSwapTokens({chainId:t==null?void 0:t.caipNetworkId});return((r=e==null?void 0:e.tokens)==null?void 0:r.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=O.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const n=(e=await(Se==null?void 0:Se.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await Ue.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await Ue.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&n&&r){const i=Se.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await TA.getMyTokensWithBalance(t);return he.setTokenBalance(e,O.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:i6(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},Ct=Ft({tokenBalances:[],loading:!1}),qX={state:Ct,subscribe(t){return Zn(Ct,()=>t(Ct))},subscribeKey(t,e){return Xn(Ct,t,e)},setToken(t){t&&(Ct.token=Ql(t))},setTokenAmount(t){Ct.sendTokenAmount=t},setReceiverAddress(t){Ct.receiverAddress=t},setReceiverProfileImageUrl(t){Ct.receiverProfileImageUrl=t},setReceiverProfileName(t){Ct.receiverProfileName=t},setNetworkBalanceInUsd(t){Ct.networkBalanceInUSD=t},setLoading(t){Ct.loading=t},async sendToken(){var t;try{switch(mt.setLoading(!0),(t=O.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await mt.sendEvmToken();return;case"solana":await mt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{mt.setLoading(!1)}},async sendEvmToken(){var n,r,s,i;const t=O.state.activeChain,e=(n=he.state.preferredAccountTypes)==null?void 0:n[t];if(!mt.state.sendTokenAmount||!mt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!mt.state.token)throw new Error("A token is required");(r=mt.state.token)!=null&&r.address?(St.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Un.ACCOUNT_TYPES.SMART_ACCOUNT,token:mt.state.token.address,amount:mt.state.sendTokenAmount,network:((s=O.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await mt.sendERC20Token({receiverAddress:mt.state.receiverAddress,tokenAddress:mt.state.token.address,sendTokenAmount:mt.state.sendTokenAmount,decimals:mt.state.token.quantity.decimals})):(St.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Un.ACCOUNT_TYPES.SMART_ACCOUNT,token:mt.state.token.symbol||"",amount:mt.state.sendTokenAmount,network:((i=O.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),await mt.sendNativeToken({receiverAddress:mt.state.receiverAddress,sendTokenAmount:mt.state.sendTokenAmount,decimals:mt.state.token.quantity.decimals}))},async fetchTokenBalance(t){var i,o;Ct.loading=!0;const e=(i=O.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=O.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=O.state.activeCaipAddress,s=r?Pe.getPlainAddress(r):void 0;if(Ct.lastRetry&&!Pe.isAllowedRetry(Ct.lastRetry,30*xt.ONE_SEC_MS))return Ct.loading=!1,[];try{if(s&&e&&n){const a=await TA.getMyTokensWithBalance();return Ct.tokenBalances=a,Ct.lastRetry=void 0,a}}catch(a){Ct.lastRetry=Date.now(),t==null||t(a),vi.showError("Token Balance Unavailable")}finally{Ct.loading=!1}return[]},fetchNetworkBalance(){if(Ct.tokenBalances.length===0)return;const t=WX.mapBalancesToSwapTokens(Ct.tokenBalances);if(!t)return;const e=t.find(n=>n.address===i6());e&&(Ct.networkBalanceInUSD=e?uX.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var i,o,a,c;Le.pushTransactionStack({});const e=t.receiverAddress,n=he.state.address,r=Se.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await Se.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),St.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((i=he.state.preferredAccountTypes)==null?void 0:i.eip155)===Un.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=mt.state.token)==null?void 0:o.symbol)||"",amount:t.sendTokenAmount,network:((a=O.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),(c=Se._getClient())==null||c.updateBalance("eip155"),mt.resetSend()},async sendERC20Token(t){Le.pushTransactionStack({onSuccess(){Le.replace("Account")}});const e=Se.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(he.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=Pe.getPlainAddress(t.tokenAddress);await Se.writeContract({fromAddress:he.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:pX.getERC20Abi(n),chainNamespace:"eip155"}),mt.resetSend()}},async sendSolanaToken(){var t;if(!mt.state.sendTokenAmount||!mt.state.receiverAddress)throw new Error("An amount and receiver address are required");Le.pushTransactionStack({onSuccess(){Le.replace("Account")}}),await Se.sendTransaction({chainNamespace:"solana",to:mt.state.receiverAddress,value:mt.state.sendTokenAmount}),(t=Se._getClient())==null||t.updateBalance("solana"),mt.resetSend()},resetSend(){Ct.token=void 0,Ct.sendTokenAmount=void 0,Ct.receiverAddress=void 0,Ct.receiverProfileImageUrl=void 0,Ct.receiverProfileName=void 0,Ct.loading=!1,Ct.tokenBalances=[]}},mt=Ns(qX),S1={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},iy={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},we=Ft({chains:tX(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),HX={state:we,subscribe(t){return Zn(we,()=>{t(we)})},subscribeKey(t,e){return Xn(we,t,e)},subscribeChainProp(t,e,n){let r;return Zn(we.chains,()=>{var i;const s=n||we.activeChain;if(s){const o=(i=we.chains.get(s))==null?void 0:i[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:s}=fe.getActiveNetworkProps(),i=e==null?void 0:e.find(u=>u.id.toString()===(r==null?void 0:r.toString())),a=t.find(u=>(u==null?void 0:u.namespace)===s)||(t==null?void 0:t[0]),c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=oe.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(u=>u.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(we.noAdapters=!0),we.noAdapters||(we.activeChain=a==null?void 0:a.namespace,we.activeCaipNetwork=i,O.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),we.activeChain&&to.set({activeChain:a==null?void 0:a.namespace})),l.forEach(u=>{const d=e==null?void 0:e.filter(h=>h.chainNamespace===u);O.state.chains.set(u,{namespace:u,networkState:Ft({...iy,caipNetwork:d==null?void 0:d[0]}),accountState:Ft(S1),caipNetworks:d??[],...n}),O.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){var e,n;if(we.activeChain===t){const r=Array.from(we.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&O.setActiveCaipNetwork(s)}}we.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){we.chains.set(t.namespace,{namespace:t.namespace,networkState:{...iy,caipNetwork:r[0]},accountState:S1,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),O.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=we.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),we.chains.set(t.chainNamespace,{...e,caipNetworks:r}),O.setRequestedCaipNetworks(r,t.chainNamespace),ge.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,s,i;const n=we.chains.get(t);if(n){const o=((r=we.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((s=n.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=n==null?void 0:n.caipNetworks)!=null&&i[0])&&O.setActiveCaipNetwork(n.caipNetworks[0]),we.chains.set(t,{...n,caipNetworks:a}),O.setRequestedCaipNetworks(a||[],t),a.length===0&&ge.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=we.chains.get(t);n&&(n.networkState={...n.networkState||iy,...e},we.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=we.chains.get(t);if(r){const s={...r.accountState||S1,...e};we.chains.set(t,{...r,accountState:s}),(we.chains.size===1||we.activeChain===t)&&(e.caipAddress&&(we.activeCaipAddress=e.caipAddress),he.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=we.chains.get(t);if(n){const r={...n.networkState||iy,...e};we.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){O.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&ge.removeConnectorId(n)},setActiveNamespace(t){var r,s;we.activeChain=t;const e=t?we.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(we.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,we.activeCaipNetwork=n,O.setChainNetworkData(t,{caipNetwork:n}),fe.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),to.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,i;if(!t)return;we.activeChain!==t.chainNamespace&&O.setIsSwitchingNamespace(!0);const e=we.chains.get(t.chainNamespace);we.activeChain=t.chainNamespace,we.activeCaipNetwork=t,O.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?we.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:we.activeCaipAddress=void 0,O.setAccountProp("caipAddress",we.activeCaipAddress,t.chainNamespace),e&&he.replaceState(e.accountState),mt.resetSend(),to.set({activeChain:we.activeChain,selectedNetworkId:(i=we.activeCaipNetwork)==null?void 0:i.caipNetworkId}),fe.setActiveCaipNetworkId(t.caipNetworkId),!O.checkIfSupportedNetwork(t.chainNamespace)&&oe.state.enableNetworkSwitch&&!oe.state.allowUnsupportedChain&&!Se.state.wcBasic&&O.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=we.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==O.state.activeChain,n=(s=O.getNetworkData(t))==null?void 0:s.caipNetwork,r=O.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await O.switchActiveNetwork(r)},async switchActiveNetwork(t){var s;const e=O.state.chains.get(O.state.activeChain),n=!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(i=>{var o;return i.id===((o=we.activeCaipNetwork)==null?void 0:o.id)})),r=O.getNetworkControllerClient(t.chainNamespace);if(r){try{await r.switchCaipNetwork(t),n&&bt.close()}catch{Le.goBack()}St.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||we.activeChain,n=we.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||we.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=we.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var s;let n=we.activeChain;if(e&&(n=e),!n)return;const r=(s=we.chains.get(n))==null?void 0:s.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=we.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=we.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return Pe.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return we.chains.forEach(e=>{const n=O.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){O.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=O.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));ge.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return we.chains.forEach(e=>{const n=O.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return we.activeCaipNetwork},getActiveCaipAddress(){return we.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=we.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=O.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());O.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||we.activeCaipNetwork,r=O.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(s=>s.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!we.activeChain)return!0;const e=O.getRequestedCaipNetworks(we.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){O.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=ug.caipNetworkIdToNumber((r=we.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=we.activeChain;if(!e||!t)return!1;const n=O.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},showUnsupportedChainUI(){bt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=we.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&xt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){O.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");we.activeCaipAddress=void 0,O.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),ge.removeConnectorId(e)},setIsSwitchingNamespace(t){we.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(we.chains.forEach(s=>{Z.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=we.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=O.state.chains.get(t))==null?void 0:e.accountState:he.state},getNetworkData(t){var n;const e=t||we.activeChain;if(e)return(n=O.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const n=O.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(a=>a.id===e);return r||((i=n==null?void 0:n.networkState)==null?void 0:i.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=ge.state.filterByNamespace;return(t?[we.chains.get(t)]:Array.from(we.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?O.getRequestedCaipNetworks(t):O.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){we.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return we.lastConnectedSIWECaipNetwork}},O=Ns(HX),VX={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},o6=Pe.getBlockchainApiUrl(),Dr=Ft({clientId:null,api:new om({baseUrl:o6,clientId:null}),supportedChains:{http:[],ws:[]}}),Ue={state:Dr,async get(t){const{st:e,sv:n}=Ue.getSdkProperties(),r=oe.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return Dr.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=oe.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Dr.supportedChains.http.length||await Ue.getSupportedNetworks()}catch{return!1}return Dr.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Ue.get({path:"v1/supported-chains"});return Dr.supportedChains=t,t}catch{return Dr.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Ue.isNetworkSupported(e))return{avatar:"",name:""};const r=fe.getIdentityFromCacheForAddress(t);if(r)return r;const s=await Ue.get({path:`/v1/identity/${t}`,params:{sender:O.state.activeCaipAddress?Pe.getPlainAddress(O.state.activeCaipAddress):void 0}});return fe.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:s,chainId:i}){var a;return await Ue.isNetworkSupported((a=O.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?Ue.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:i},signal:r,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var o;return await Ue.isNetworkSupported((o=O.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Ue.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Ue.isNetworkSupported((n=O.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ue.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await Ue.isNetworkSupported((n=O.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Dr.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:oe.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Ue.isNetworkSupported((r=O.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Ue.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=Ue.getSdkProperties();if(!await Ue.isNetworkSupported((s=O.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return Ue.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var o;if(!await Ue.isNetworkSupported((o=O.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Dr.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:xt.CONVERT_SLIPPAGE_TOLERANCE},projectId:oe.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:s}=Ue.getSdkProperties();if(!await Ue.isNetworkSupported((o=O.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Ue.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var l;const{st:r,sv:s}=Ue.getSdkProperties();if(!await Ue.isNetworkSupported((l=O.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return vi.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=fe.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Ue.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return fe.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await Ue.isNetworkSupported((n=O.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ue.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Ue.isNetworkSupported((n=O.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ue.get({path:`/v1/profile/reverse/${t}`,params:{sender:he.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Ue.isNetworkSupported((n=O.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ue.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var i;return await Ue.isNetworkSupported((i=O.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?Dr.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var a;return await Ue.isNetworkSupported((a=O.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await Dr.api.post({path:"/v1/generators/onrampurl",params:{projectId:oe.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await Ue.isNetworkSupported((e=O.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Ue.get({path:"/v1/onramp/options"})}catch{return VX}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await Ue.isNetworkSupported((s=O.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await Dr.api.post({path:"/v1/onramp/quote",params:{projectId:oe.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Ue.isNetworkSupported((n=O.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ue.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await Ue.isNetworkSupported((s=O.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Dr.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:oe.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){Dr.clientId=t,Dr.api=new om({baseUrl:o6,clientId:t})}},A1={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return bh(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},TA={async getMyTokensWithBalance(t){const e=he.state.address,n=O.state.activeCaipNetwork,r=ge.getConnectorId("eip155")===Z.CONNECTOR_ID.AUTH;if(!e||!n)return[];const s=`${n.caipNetworkId}:${e}`,i=fe.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace==="eip155"&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await Ue.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){var n,r;try{const s=A1.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await Se.getCapabilities(t);if(!((r=(n=i==null?void 0:i[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await Se.walletGetAssets({account:t,chainFilter:[s]});if(!A1.isWalletGetAssetsResponse(o))return null;const c=(o[s]||[]).map(l=>A1.createBalance(l,e.caipNetworkId));return fe.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},ks=Ft({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),GX={state:ks,replaceState(t){t&&Object.assign(ks,Ql(t))},subscribe(t){return O.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return O.subscribeChainProp("accountState",s=>{if(s){const i=s[t];r!==i&&(r=i,e(i))}},n)},setStatus(t,e){O.setAccountProp("status",t,e)},getCaipAddress(t){return O.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?Pe.getPlainAddress(t):void 0;e===O.state.activeChain&&(O.state.activeCaipAddress=t),O.setAccountProp("caipAddress",t,e),O.setAccountProp("address",n,e)},setBalance(t,e,n){O.setAccountProp("balance",t,n),O.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){O.setAccountProp("profileName",t,e)},setProfileImage(t,e){O.setAccountProp("profileImage",t,e)},setUser(t,e){O.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){O.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){O.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){O.setAccountProp("currentTab",t,O.state.activeChain)},setTokenBalance(t,e){t&&O.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){O.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){O.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=O.getAccountProp("addressLabels",n)||new Map;r.set(t,e),O.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=O.getAccountProp("addressLabels",e)||new Map;n.delete(t),O.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){O.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){O.setAccountProp("preferredAccountTypes",{...ks.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){ks.preferredAccountTypes=t},setSocialProvider(t,e){t&&O.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){O.setAccountProp("socialWindow",t?Ql(t):void 0,e)},setFarcasterUrl(t,e){O.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var i,o;ks.balanceLoading=!0;const e=(i=O.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=O.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=O.state.activeCaipAddress,s=r?Pe.getPlainAddress(r):void 0;if(ks.lastRetry&&!Pe.isAllowedRetry(ks.lastRetry,30*xt.ONE_SEC_MS))return ks.balanceLoading=!1,[];try{if(s&&e&&n){const a=await TA.getMyTokensWithBalance();return he.setTokenBalance(a,n),ks.lastRetry=void 0,ks.balanceLoading=!1,a}}catch(a){ks.lastRetry=Date.now(),t==null||t(a),vi.showError("Token Balance Unavailable")}finally{ks.balanceLoading=!1}return[]},resetAccount(t){O.resetAccount(t)}},he=Ns(GX),KX={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=O.state.activeCaipNetwork,r=Le.state.data;if(t.id===(n==null?void 0:n.id))return;const i=he.getCaipAddress(O.state.activeChain),o=t.chainNamespace!==O.state.activeChain,a=he.getCaipAddress(t.chainNamespace),l=ge.getConnectorId(O.state.activeChain)===Z.CONNECTOR_ID.AUTH,u=Z.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?Le.push("SwitchNetwork",{...r,network:t}):i&&o&&!a?Le.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):Le.push("SwitchNetwork",{...r,network:t})}},jr=Ft({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),YX={state:jr,subscribe(t){return Zn(jr,()=>t(jr))},subscribeKey(t,e){return Xn(jr,t,e)},async open(t){var o,a;const e=he.state.status==="connected",n=t==null?void 0:t.namespace,r=O.state.activeChain,s=n&&n!==r,i=(o=O.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress;if(Se.state.wcBasic?Re.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Re.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),ge.setFilterByNamespace(t==null?void 0:t.namespace),bt.setLoading(!0,n),n&&s){const c=((a=O.getNetworkData(n))==null?void 0:a.caipNetwork)||O.getRequestedCaipNetworks(n)[0];c&&KX.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0})}else{const c=O.state.noAdapters;oe.state.manualWCControl||c&&!i?Pe.isMobile()?Le.reset("AllWallets"):Le.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?Le.reset(t.view,t.data):i?Le.reset("Account"):Le.reset("Connect")}jr.open=!0,to.set({open:!0}),St.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=oe.state.enableEmbedded,e=!!O.state.activeCaipAddress;jr.open&&St.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),jr.open=!1,Le.reset("Connect"),bt.clearLoading(),t?e?Le.replace("Account"):Le.push("Connect"):to.set({open:!1}),Se.resetUri()},setLoading(t,e){e&&jr.loadingNamespaceMap.set(e,t),jr.loading=t,to.set({loading:t})},clearLoading(){jr.loadingNamespaceMap.clear(),jr.loading=!1},shake(){jr.shake||(jr.shake=!0,setTimeout(()=>{jr.shake=!1},500))}},bt=Ns(YX),ep={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},IC={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},JX={providers:n6,selectedProvider:null,error:null,purchaseCurrency:ep,paymentCurrency:IC,purchaseCurrencies:[ep],paymentCurrencies:[],quotesLoading:!1},at=Ft(JX),QX={state:at,subscribe(t){return Zn(at,()=>t(at))},subscribeKey(t,e){return Xn(at,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=O.state.activeChain===Z.CHAIN.SOLANA?"SOL":"USDC",n=he.state.address??"",r=new URL(t.url);r.searchParams.append("publicKey",gX),r.searchParams.append("destinationCurrencyCode",e),r.searchParams.append("walletAddress",n),r.searchParams.append("externalCustomerId",oe.state.projectId),at.selectedProvider={...t,url:r.toString()}}else at.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=n6.filter(r=>e.includes(r.name));at.providers=n}else at.providers=[]},setPurchaseCurrency(t){at.purchaseCurrency=t},setPaymentCurrency(t){at.paymentCurrency=t},setPurchaseAmount(t){TC.state.purchaseAmount=t},setPaymentAmount(t){TC.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Ue.getOnrampOptions();at.purchaseCurrencies=t.purchaseCurrencies,at.paymentCurrencies=t.paymentCurrencies,at.paymentCurrency=t.paymentCurrencies[0]||IC,at.purchaseCurrency=t.purchaseCurrencies[0]||ep,await Re.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Re.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;at.quotesLoading=!0;try{const n=await Ue.getOnrampQuote({purchaseCurrency:at.purchaseCurrency,paymentCurrency:at.paymentCurrency,amount:((t=at.paymentAmount)==null?void 0:t.toString())||"0",network:(e=at.purchaseCurrency)==null?void 0:e.symbol});return at.quotesLoading=!1,at.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return at.error=n.message,at.quotesLoading=!1,null}finally{at.quotesLoading=!1}},resetState(){at.selectedProvider=null,at.error=null,at.purchaseCurrency=ep,at.paymentCurrency=IC,at.purchaseCurrencies=[ep],at.paymentCurrencies=[],at.paymentAmount=void 0,at.purchaseAmount=void 0,at.quotesLoading=!1}},TC=Ns(QX),IN=2147483648,ZX={convertEVMChainIdToCoinType(t){if(t>=IN)throw new Error("Invalid chainId");return(IN|t)>>>0}},Os=Ft({suggestions:[],loading:!1}),XX={state:Os,subscribe(t){return Zn(Os,()=>t(Os))},subscribeKey(t,e){return Xn(Os,t,e)},async resolveName(t){var e,n;try{return await Ue.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Ue.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Os.loading=!0,Os.suggestions=[];const e=await Ue.getEnsNameSuggestions(t);return Os.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],Os.suggestions}catch(e){const n=tp.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{Os.loading=!1}},async getNamesForAddress(t){try{if(!O.state.activeCaipNetwork)return[];const n=fe.getEnsFromCacheForAddress(t);if(n)return n;const r=await Ue.reverseLookupEnsName({address:t});return fe.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=tp.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=O.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=he.state.address,r=ge.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");Os.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Le.pushTransactionStack({onCancel(){Le.replace("RegisterAccountName")}});const i=await Se.signMessage(s);Os.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=ZX.convertEVMChainIdToCoinType(Number(o));await Ue.registerEnsName({coinType:a,address:n,signature:i,message:s}),he.setProfileName(t,e.chainNamespace),Le.replace("RegisterAccountNameSuccess")}catch(s){const i=tp.parseEnsApiError(s,`Error registering name ${t}`);throw Le.replace("RegisterAccountName"),new Error(i)}finally{Os.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},tp=Ns(XX);var NA={exports:{}},Nd=typeof Reflect=="object"?Reflect:null,TN=Nd&&typeof Nd.apply=="function"?Nd.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},n0;Nd&&typeof Nd.ownKeys=="function"?n0=Nd.ownKeys:Object.getOwnPropertySymbols?n0=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:n0=function(e){return Object.getOwnPropertyNames(e)};function eee(t){console&&console.warn&&console.warn(t)}var a6=Number.isNaN||function(e){return e!==e};function Rt(){Rt.init.call(this)}NA.exports=Rt;NA.exports.once=see;Rt.EventEmitter=Rt;Rt.prototype._events=void 0;Rt.prototype._eventsCount=0;Rt.prototype._maxListeners=void 0;var NN=10;function _v(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Rt,"defaultMaxListeners",{enumerable:!0,get:function(){return NN},set:function(t){if(typeof t!="number"||t<0||a6(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");NN=t}});Rt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Rt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||a6(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function c6(t){return t._maxListeners===void 0?Rt.defaultMaxListeners:t._maxListeners}Rt.prototype.getMaxListeners=function(){return c6(this)};Rt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")TN(c,this,n);else for(var l=c.length,u=f6(c,l),r=0;r<l;++r)TN(u[r],this,n);return!0};function l6(t,e,n,r){var s,i,o;if(_v(n),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]),o===void 0)o=i[e]=n,++t._eventsCount;else if(typeof o=="function"?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=c6(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,eee(a)}return t}Rt.prototype.addListener=function(e,n){return l6(this,e,n,!1)};Rt.prototype.on=Rt.prototype.addListener;Rt.prototype.prependListener=function(e,n){return l6(this,e,n,!0)};function tee(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u6(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=tee.bind(r);return s.listener=n,r.wrapFn=s,s}Rt.prototype.once=function(e,n){return _v(n),this.on(e,u6(this,e,n)),this};Rt.prototype.prependOnceListener=function(e,n){return _v(n),this.prependListener(e,u6(this,e,n)),this};Rt.prototype.removeListener=function(e,n){var r,s,i,o,a;if(_v(n),s=this._events,s===void 0)return this;if(r=s[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():nee(r,i),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};Rt.prototype.off=Rt.prototype.removeListener;Rt.prototype.removeAllListeners=function(e){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(e,n[s]);return this};function d6(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?ree(s):f6(s,s.length)}Rt.prototype.listeners=function(e){return d6(this,e,!0)};Rt.prototype.rawListeners=function(e){return d6(this,e,!1)};Rt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):h6.call(t,e)};Rt.prototype.listenerCount=h6;function h6(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Rt.prototype.eventNames=function(){return this._eventsCount>0?n0(this._events):[]};function f6(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function nee(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function ree(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function see(t,e){return new Promise(function(n,r){function s(o){t.removeListener(e,i),r(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}p6(t,e,i,{once:!0}),e!=="error"&&iee(t,s,{once:!0})})}function iee(t,e,n){typeof t.on=="function"&&p6(t,"error",e,n)}function p6(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){r.once&&t.removeEventListener(e,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Qs=NA.exports;const PA=cu(Qs);var ue={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var NC=function(t,e){return NC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},NC(t,e)};function oee(t,e){NC(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var PC=function(){return PC=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},PC.apply(this,arguments)};function aee(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function cee(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function lee(t,e){return function(n,r){e(n,r,t)}}function uee(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function dee(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function hee(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function fee(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function pee(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function kC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g6(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function gee(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g6(arguments[e]));return t}function mee(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function hg(t){return this instanceof hg?(this.v=t,this):new hg(t)}function yee(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof hg?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function wee(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:hg(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function vee(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof kC=="function"?kC(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function bee(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Eee(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function _ee(t){return t&&t.__esModule?t:{default:t}}function Cee(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function xee(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const See=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return PC},__asyncDelegator:wee,__asyncGenerator:yee,__asyncValues:vee,__await:hg,__awaiter:dee,__classPrivateFieldGet:Cee,__classPrivateFieldSet:xee,__createBinding:fee,__decorate:cee,__exportStar:pee,__extends:oee,__generator:hee,__importDefault:_ee,__importStar:Eee,__makeTemplateObject:bee,__metadata:uee,__param:lee,__read:g6,__rest:aee,__spread:gee,__spreadArrays:mee,__values:kC},Symbol.toStringTag,{value:"Module"})),Cv=Tw(See);var I1={},of={},PN;function Aee(){if(PN)return of;PN=1,Object.defineProperty(of,"__esModule",{value:!0}),of.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return of.delay=t,of}var Yc={},T1={},Jc={},kN;function Iee(){return kN||(kN=1,Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.ONE_THOUSAND=Jc.ONE_HUNDRED=void 0,Jc.ONE_HUNDRED=100,Jc.ONE_THOUSAND=1e3),Jc}var N1={},ON;function Tee(){return ON||(ON=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(N1)),N1}var RN;function m6(){return RN||(RN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Cv;e.__exportStar(Iee(),t),e.__exportStar(Tee(),t)}(T1)),T1}var $N;function Nee(){if($N)return Yc;$N=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.fromMiliseconds=Yc.toMiliseconds=void 0;const t=m6();function e(r){return r*t.ONE_THOUSAND}Yc.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Yc.fromMiliseconds=n,Yc}var DN;function Pee(){return DN||(DN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Cv;e.__exportStar(Aee(),t),e.__exportStar(Nee(),t)}(I1)),I1}var Pu={},jN;function kee(){if(jN)return Pu;jN=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Pu.Watch=t,Pu.default=t,Pu}var P1={},af={},UN;function Oee(){if(UN)return af;UN=1,Object.defineProperty(af,"__esModule",{value:!0}),af.IWatch=void 0;class t{}return af.IWatch=t,af}var LN;function Ree(){return LN||(LN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Cv.__exportStar(Oee(),t)}(P1)),P1}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Cv;e.__exportStar(Pee(),t),e.__exportStar(kee(),t),e.__exportStar(Ree(),t),e.__exportStar(m6(),t)})(ue);class mu{}let $ee=class extends mu{constructor(e){super()}};const MN=ue.FIVE_SECONDS,yu={pulse:"heartbeat_pulse"};let Dee=class y6 extends $ee{constructor(e){super(e),this.events=new Qs.EventEmitter,this.interval=MN,this.interval=(e==null?void 0:e.interval)||MN}static async init(e){const n=new y6(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ue.toMiliseconds(this.interval))}pulse(){this.events.emit(yu.pulse)}};const jee=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Uee=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Lee=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Mee(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Bee(t);return}return e}function Bee(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function oy(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Lee.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(jee.test(t)||Uee.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Mee)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function Fee(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Pn(t,...e){try{return Fee(t(...e))}catch(n){return Promise.reject(n)}}function zee(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Wee(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function r0(t){if(zee(t))return String(t);if(Wee(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return r0(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const OC="base64:";function qee(t){return typeof t=="string"?t:OC+Gee(t)}function Hee(t){return typeof t!="string"||!t.startsWith(OC)?t:Vee(t.slice(OC.length))}function Vee(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function Gee(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function zr(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function Kee(...t){return zr(t.join(":"))}function ay(t){return t=zr(t),t?t+":":""}function Yee(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function Jee(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const Qee="memory",Zee=()=>{const t=new Map;return{name:Qee,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Xee(t={}){const e={mounts:{"":t.driver||Zee()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),s=(l,u)=>{if(e.watching){u=zr(u);for(const d of e.watchListeners)d(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await BN(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=p=>{let g=h.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},h.set(p.base,g)),g};for(const p of l){const g=typeof p=="string",w=zr(g?p:p.key),y=g?void 0:p.value,b=g||!p.options?u:{...u,...p.options},v=n(w);f(v).items.push({key:w,value:y,relativeKey:v.relativeKey,options:b})}return Promise.all([...h.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=zr(l);const{relativeKey:d,driver:h}=n(l);return Pn(h.hasItem,d,u)},getItem(l,u={}){l=zr(l);const{relativeKey:d,driver:h}=n(l);return Pn(h.getItem,d,u).then(f=>oy(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?Pn(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:Kee(d.base,f.key),value:oy(f.value)}))):Promise.all(d.items.map(h=>Pn(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:oy(f)})))))},getItemRaw(l,u={}){l=zr(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?Pn(h.getItemRaw,d,u):Pn(h.getItem,d,u).then(f=>Hee(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=zr(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await Pn(f.setItem,h,r0(u),d),f.watch||s("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return Pn(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:r0(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>Pn(d.driver.setItem,h.relativeKey,r0(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=zr(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await Pn(f.setItemRaw,h,u,d);else if(f.setItem)await Pn(f.setItem,h,qee(u),d);else return;f.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=zr(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await Pn(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await Pn(h.removeItem,d+"$",u),h.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=zr(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await Pn(h.getMeta,d,u)),!u.nativeOnly){const p=await Pn(h.getItem,d+"$",u).then(g=>oy(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var w;l=ay(l);const d=r(l,!0);let h=[];const f=[];let p=!0;for(const y of d){(w=y.driver.flags)!=null&&w.maxDepth||(p=!1);const b=await Pn(y.driver.getKeys,y.relativeBase,u);for(const v of b){const _=y.mountpoint+zr(v);h.some(E=>_.startsWith(E))||f.push(_)}h=[y.mountpoint,...h.filter(v=>!v.startsWith(y.mountpoint))]}const g=u.maxDepth!==void 0&&!p;return f.filter(y=>(!g||Yee(y,u.maxDepth))&&Jee(y,l))},async clear(l,u={}){l=ay(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return Pn(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>FN(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=ay(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(BN(u,s,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,h;l=ay(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(d=e.unwatch)[l])==null||h.call(d),delete e.unwatch[l]),u&&await FN(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=zr(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=zr(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function BN(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function FN(t){typeof t.dispose=="function"&&await Pn(t.dispose)}function wu(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function w6(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=wu(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(e,s).objectStore(e)))}let k1;function am(){return k1||(k1=w6("keyval-store","keyval")),k1}function zN(t,e=am()){return e("readonly",n=>wu(n.get(t)))}function ete(t,e,n=am()){return n("readwrite",r=>(r.put(e,t),wu(r.transaction)))}function tte(t,e=am()){return e("readwrite",n=>(n.delete(t),wu(n.transaction)))}function nte(t=am()){return t("readwrite",e=>(e.clear(),wu(e.transaction)))}function rte(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},wu(t.transaction)}function ste(t=am()){return t("readonly",e=>{if(e.getAllKeys)return wu(e.getAllKeys());const n=[];return rte(e,r=>n.push(r.key)).then(()=>n)})}const ite=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),ote=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Xl(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return ote(t)}catch{return t}}function Qo(t){return typeof t=="string"?t:ite(t)||""}const ate="idb-keyval";var cte=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=w6(t.dbName,t.storeName)),{name:ate,options:t,async hasItem(s){return!(typeof await zN(n(s),r)>"u")},async getItem(s){return await zN(n(s),r)??null},setItem(s,i){return ete(n(s),i,r)},removeItem(s){return tte(n(s),r)},getKeys(){return ste(r)},clear(){return nte(r)}}};const lte="WALLET_CONNECT_V2_INDEXED_DB",ute="keyvaluestorage";let dte=class{constructor(){this.indexedDb=Xee({driver:cte({dbName:lte,storeName:ute})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Qo(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var O1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s0={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof O1<"u"&&O1.localStorage?s0.exports=O1.localStorage:typeof window<"u"&&window.localStorage?s0.exports=window.localStorage:s0.exports=new e})();function hte(t){var e;return[t[0],Xl((e=t[1])!=null?e:"")]}let fte=class{constructor(){this.localStorage=s0.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(hte)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Xl(n)}async setItem(e,n){this.localStorage.setItem(e,Qo(n))}async removeItem(e){this.localStorage.removeItem(e)}};const pte="wc_storage_version",WN=1,gte=async(t,e,n)=>{const r=pte,s=await e.getItem(r);if(s&&s>=WN){n(e);return}const i=await t.getKeys();if(!i.length){n(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,WN),n(e),mte(t,o)},mte=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let yte=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new fte;this.storage=e;try{const n=new dte;gte(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function wte(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var vte=bte;function bte(t,e,n){var r=n&&n.stringify||wte,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var o=new Array(i);o[0]=r(t);for(var a=1;a<i;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-s,d=-1,h=t&&t.length||0,f=0;f<h;){if(t.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Number(e[u]),d=f+2,f++;break;case 105:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Math.floor(Number(e[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<f&&(l+=t.slice(d,f));var p=typeof e[u];if(p==="string"){l+="'"+e[u]+"'",d=f+2,f++;break}if(p==="function"){l+=e[u].name||"<anonymous>",d=f+2,f++;break}l+=r(e[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=t.slice(d,f)),l+=String(e[u]),d=f+2,f++;break;case 37:d<f&&(l+=t.slice(d,f)),l+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?t:(d<h&&(l+=t.slice(d)),l)}const qN=vte;var ed=no;const fg=Pte().console||{},Ete={mapHttpRequest:cy,mapHttpResponse:cy,wrapRequestSerializer:R1,wrapResponseSerializer:R1,wrapErrorSerializer:R1,req:cy,res:cy,err:Ate};function _te(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function no(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||fg;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},s=_te(t.browser.serialize,r);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=pg),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:s,asObject:t.browser.asObject,levels:o,timestamp:Ite(t)};c.levels=no.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=pg,c.serializers=r,c._serialize=s,c._stdErrSerialize=i,c.child=f,e&&(c._logEvent=RC());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,ku(l,c,"error","log"),ku(l,c,"fatal","error"),ku(l,c,"warn","error"),ku(l,c,"info","log"),ku(l,c,"debug","log"),ku(l,c,"trace","log")}function f(p,g){if(!p)throw new Error("missing bindings for child Pino");g=g||{},s&&p.serializers&&(g.serializers=p.serializers);const w=g.serializers;if(s&&w){var y=Object.assign({},r,w),b=t.browser.serialize===!0?Object.keys(y):s;delete p.serializers,xv([p],b,y,this._stdErrSerialize)}function v(_){this._childLevel=(_._childLevel|0)+1,this.error=Ou(_,p,"error"),this.fatal=Ou(_,p,"fatal"),this.warn=Ou(_,p,"warn"),this.info=Ou(_,p,"info"),this.debug=Ou(_,p,"debug"),this.trace=Ou(_,p,"trace"),y&&(this.serializers=y,this._serialize=b),e&&(this._logEvent=RC([].concat(_._logEvent.bindings,p)))}return v.prototype=this,new v(this)}return c}no.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};no.stdSerializers=Ete;no.stdTimeFunctions=Object.assign({},{nullTime:v6,epochTime:b6,unixTime:Tte,isoTime:Nte});function ku(t,e,n,r){const s=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?pg:s[n]?s[n]:fg[n]||fg[r]||pg,Cte(t,e,n)}function Cte(t,e,n){!t.transmit&&e[n]===pg||(e[n]=function(r){return function(){const i=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===fg?fg:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&xv(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,xte(this,n,o,i)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=no.levels.values[l],d=no.levels.values[n];if(d<u)return;Ste(this,{ts:i,methodLevel:n,methodValue:d,transmitValue:no.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function xte(t,e,n,r){t._serialize&&xv(n,t._serialize,t.serializers,t._stdErrSerialize);const s=n.slice();let i=s[0];const o={};r&&(o.time=r),o.level=no.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),i!==null&&typeof i=="object"){for(;a--&&typeof s[0]=="object";)Object.assign(o,s.shift());i=s.length?qN(s.shift(),s):void 0}else typeof i=="string"&&(i=qN(s.shift(),s));return i!==void 0&&(o.msg=i),o}function xv(t,e,n,r){for(const s in t)if(r&&t[s]instanceof Error)t[s]=no.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in n&&(t[s][i]=n[i](t[s][i]))}function Ou(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var s=1;s<r.length;s++)r[s]=arguments[s-1];return t[n].apply(this,r)}}function Ste(t,e,n){const r=e.send,s=e.ts,i=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;xv(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=o,r(i,t._logEvent,a),t._logEvent=RC(c)}function RC(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Ate(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function Ite(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?v6:b6}function cy(){return{}}function R1(t){return t}function pg(){}function v6(){return!1}function b6(){return Date.now()}function Tte(){return Math.round(Date.now()/1e3)}function Nte(){return new Date(Date.now()).toISOString()}function Pte(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const cm=cu(ed),kte={level:"info"},lm="custom_context",kA=1e3*1024;let Ote=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},HN=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new Ote(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},E6=class{constructor(e,n=kA){this.level=e??"error",this.levelValue=ed.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new HN(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===ed.levels.values.error?console.error(e):n===ed.levels.values.warn?console.warn(e):n===ed.levels.values.debug?console.debug(e):n===ed.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Qo({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new HN(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Qo({extraMetadata:e})),new Blob(n,{type:"application/json"})}},Rte=class{constructor(e,n=kA){this.baseChunkLogger=new E6(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},$te=class{constructor(e,n=kA){this.baseChunkLogger=new E6(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Dte=Object.defineProperty,jte=Object.defineProperties,Ute=Object.getOwnPropertyDescriptors,VN=Object.getOwnPropertySymbols,Lte=Object.prototype.hasOwnProperty,Mte=Object.prototype.propertyIsEnumerable,GN=(t,e,n)=>e in t?Dte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tw=(t,e)=>{for(var n in e||(e={}))Lte.call(e,n)&&GN(t,n,e[n]);if(VN)for(var n of VN(e))Mte.call(e,n)&&GN(t,n,e[n]);return t},nw=(t,e)=>jte(t,Ute(e));function Sh(t){return nw(tw({},t),{level:(t==null?void 0:t.level)||kte.level})}function Bte(t,e=lm){return t[e]||""}function Fte(t,e,n=lm){return t[n]=e,t}function os(t,e=lm){let n="";return typeof t.bindings>"u"?n=Bte(t,e):n=t.bindings().context||"",n}function zte(t,e,n=lm){const r=os(t,n);return r.trim()?`${r}/${e}`:e}function yr(t,e,n=lm){const r=zte(t,e,n),s=t.child({context:r});return Fte(s,r,n)}function Wte(t){var e,n;const r=new Rte((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:cm(nw(tw({},t.opts),{level:"trace",browser:nw(tw({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function qte(t){var e;const n=new $te((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:cm(nw(tw({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function OA(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Wte(t):qte(t)}var Hte=Object.defineProperty,Vte=(t,e,n)=>e in t?Hte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,KN=(t,e,n)=>Vte(t,typeof e!="symbol"?e+"":e,n);let Gte=class extends mu{constructor(e){super(),this.opts=e,KN(this,"protocol","wc"),KN(this,"version",2)}};var Kte=Object.defineProperty,Yte=(t,e,n)=>e in t?Kte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jte=(t,e,n)=>Yte(t,e+"",n);let Qte=class extends mu{constructor(e,n){super(),this.core=e,this.logger=n,Jte(this,"records",new Map)}},Zte=class{constructor(e,n){this.logger=e,this.core=n}},Xte=class extends mu{constructor(e,n){super(),this.relayer=e,this.logger=n}},ene=class extends mu{constructor(e){super()}},tne=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},nne=class extends mu{constructor(e,n){super(),this.relayer=e,this.logger=n}},rne=class extends mu{constructor(e,n){super(),this.core=e,this.logger=n}},sne=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},ine=class{constructor(e,n){this.projectId=e,this.logger=n}},one=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var ane=Object.defineProperty,cne=(t,e,n)=>e in t?ane(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YN=(t,e,n)=>cne(t,typeof e!="symbol"?e+"":e,n);let lne=class{constructor(e){this.opts=e,YN(this,"protocol","wc"),YN(this,"version",2)}},une=class{constructor(e){this.client=e}};function dne(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function _6(t,...e){if(!dne(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function JN(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hne(t,e){_6(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Ru=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function fne(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function C6(t){return typeof t=="string"&&(t=fne(t)),_6(t),t}let pne=class{clone(){return this._cloneInto()}};function gne(t){const e=r=>t().update(C6(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function x6(t=32){if(Ru&&typeof Ru.getRandomValues=="function")return Ru.getRandomValues(new Uint8Array(t));if(Ru&&typeof Ru.randomBytes=="function")return Ru.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function mne(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let yne=class extends pne{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=$1(this.buffer)}update(e){JN(this);const{view:n,buffer:r,blockLen:s}=this;e=C6(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=$1(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){JN(this),hne(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;mne(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=$1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const ly=BigInt(2**32-1),$C=BigInt(32);function S6(t,e=!1){return e?{h:Number(t&ly),l:Number(t>>$C&ly)}:{h:Number(t>>$C&ly)|0,l:Number(t&ly)|0}}function wne(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=S6(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const vne=(t,e)=>BigInt(t>>>0)<<$C|BigInt(e>>>0),bne=(t,e,n)=>t>>>n,Ene=(t,e,n)=>t<<32-n|e>>>n,_ne=(t,e,n)=>t>>>n|e<<32-n,Cne=(t,e,n)=>t<<32-n|e>>>n,xne=(t,e,n)=>t<<64-n|e>>>n-32,Sne=(t,e,n)=>t>>>n-32|e<<64-n,Ane=(t,e)=>e,Ine=(t,e)=>t,Tne=(t,e,n)=>t<<n|e>>>32-n,Nne=(t,e,n)=>e<<n|t>>>32-n,Pne=(t,e,n)=>e<<n-32|t>>>64-n,kne=(t,e,n)=>t<<n-32|e>>>64-n;function One(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const Rne=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),$ne=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Dne=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),jne=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Une=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Lne=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Ze={fromBig:S6,split:wne,toBig:vne,shrSH:bne,shrSL:Ene,rotrSH:_ne,rotrSL:Cne,rotrBH:xne,rotrBL:Sne,rotr32H:Ane,rotr32L:Ine,rotlSH:Tne,rotlSL:Nne,rotlBH:Pne,rotlBL:kne,add:One,add3L:Rne,add3H:$ne,add4L:Dne,add4H:jne,add5H:Lne,add5L:Une},[Mne,Bne]=Ze.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ma=new Uint32Array(80),ya=new Uint32Array(80);let Fne=class extends yne{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:w}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,w]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=w|0}process(e,n){for(let v=0;v<16;v++,n+=4)ma[v]=e.getUint32(n),ya[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const _=ma[v-15]|0,E=ya[v-15]|0,x=Ze.rotrSH(_,E,1)^Ze.rotrSH(_,E,8)^Ze.shrSH(_,E,7),S=Ze.rotrSL(_,E,1)^Ze.rotrSL(_,E,8)^Ze.shrSL(_,E,7),A=ma[v-2]|0,C=ya[v-2]|0,P=Ze.rotrSH(A,C,19)^Ze.rotrBH(A,C,61)^Ze.shrSH(A,C,6),k=Ze.rotrSL(A,C,19)^Ze.rotrBL(A,C,61)^Ze.shrSL(A,C,6),B=Ze.add4L(S,k,ya[v-7],ya[v-16]),F=Ze.add4H(B,x,P,ma[v-7],ma[v-16]);ma[v]=F|0,ya[v]=B|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:w,Hh:y,Hl:b}=this;for(let v=0;v<80;v++){const _=Ze.rotrSH(d,h,14)^Ze.rotrSH(d,h,18)^Ze.rotrBH(d,h,41),E=Ze.rotrSL(d,h,14)^Ze.rotrSL(d,h,18)^Ze.rotrBL(d,h,41),x=d&f^~d&g,S=h&p^~h&w,A=Ze.add5L(b,E,S,Bne[v],ya[v]),C=Ze.add5H(A,y,_,x,Mne[v],ma[v]),P=A|0,k=Ze.rotrSH(r,s,28)^Ze.rotrBH(r,s,34)^Ze.rotrBH(r,s,39),B=Ze.rotrSL(r,s,28)^Ze.rotrBL(r,s,34)^Ze.rotrBL(r,s,39),F=r&i^r&a^i&a,H=s&o^s&c^o&c;y=g|0,b=w|0,g=f|0,w=p|0,f=d|0,p=h|0,{h:d,l:h}=Ze.add(l|0,u|0,C|0,P|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const N=Ze.add3L(P,B,H);r=Ze.add3H(N,C,k,F),s=N|0}({h:r,l:s}=Ze.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Ze.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Ze.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Ze.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=Ze.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=Ze.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:w}=Ze.add(this.Gh|0,this.Gl|0,g|0,w|0),{h:y,l:b}=Ze.add(this.Hh|0,this.Hl|0,y|0,b|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,w,y,b)}roundClean(){ma.fill(0),ya.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const zne=gne(()=>new Fne);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RA=BigInt(0),A6=BigInt(1),Wne=BigInt(2);function $A(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function DA(t){if(!$A(t))throw new Error("Uint8Array expected")}function D1(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const qne=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jA(t){DA(t);let e="";for(let n=0;n<t.length;n++)e+=qne[t[n]];return e}function I6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?RA:BigInt("0x"+t)}const mo={_0:48,_9:57,A:65,F:70,a:97,f:102};function QN(t){if(t>=mo._0&&t<=mo._9)return t-mo._0;if(t>=mo.A&&t<=mo.F)return t-(mo.A-10);if(t>=mo.a&&t<=mo.f)return t-(mo.a-10)}function T6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=QN(t.charCodeAt(i)),a=QN(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Hne(t){return I6(jA(t))}function i0(t){return DA(t),I6(jA(Uint8Array.from(t).reverse()))}function N6(t,e){return T6(t.toString(16).padStart(e*2,"0"))}function DC(t,e){return N6(t,e).reverse()}function yo(t,e,n){let r;if(typeof e=="string")try{r=T6(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if($A(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function ZN(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];DA(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const j1=t=>typeof t=="bigint"&&RA<=t;function Vne(t,e,n){return j1(t)&&j1(e)&&j1(n)&&e<=t&&t<n}function cf(t,e,n,r){if(!Vne(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Gne(t){let e;for(e=0;t>RA;t>>=A6,e+=1);return e}const Kne=t=>(Wne<<BigInt(t-1))-A6,Yne={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||$A(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function UA(t,e,n={}){const r=(s,i,o)=>{const a=Yne[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function XN(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Dn=BigInt(0),dn=BigInt(1),al=BigInt(2),Jne=BigInt(3),jC=BigInt(4),eP=BigInt(5),tP=BigInt(8);function xn(t,e){const n=t%e;return n>=Dn?n:e+n}function Qne(t,e,n){if(e<Dn)throw new Error("invalid exponent, negatives unsupported");if(n<=Dn)throw new Error("invalid modulus");if(n===dn)return Dn;let r=dn;for(;e>Dn;)e&dn&&(r=r*t%n),t=t*t%n,e>>=dn;return r}function Di(t,e,n){let r=t;for(;e-- >Dn;)r*=r,r%=n;return r}function nP(t,e){if(t===Dn)throw new Error("invert: expected non-zero number");if(e<=Dn)throw new Error("invert: expected positive modulus, got "+e);let n=xn(t,e),r=e,s=Dn,i=dn;for(;n!==Dn;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==dn)throw new Error("invert: does not exist");return xn(s,e)}function Zne(t){const e=(t-dn)/al;let n,r,s;for(n=t-dn,r=0;n%al===Dn;n/=al,r++);for(s=al;s<t&&Qne(s,e,t)!==t-dn;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+dn)/jC;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+dn)/al;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(d);h<c&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const f=o.pow(l,dn<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function Xne(t){if(t%jC===Jne){const e=(t+dn)/jC;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%tP===eP){const e=(t-eP)/tP;return function(n,r){const s=n.mul(r,al),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,al),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return Zne(t)}const ere=(t,e)=>(xn(t,e)&dn)===dn,tre=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nre(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=tre.reduce((r,s)=>(r[s]="function",r),e);return UA(t,n)}function rre(t,e,n){if(n<Dn)throw new Error("invalid exponent, negatives unsupported");if(n===Dn)return t.ONE;if(n===dn)return e;let r=t.ONE,s=e;for(;n>Dn;)n&dn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=dn;return r}function sre(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function P6(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function k6(t,e,n=!1,r={}){if(t<=Dn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=P6(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:Kne(s),ZERO:Dn,ONE:dn,create:c=>xn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Dn<=c&&c<t},is0:c=>c===Dn,isOdd:c=>(c&dn)===dn,neg:c=>xn(-c,t),eql:(c,l)=>c===l,sqr:c=>xn(c*c,t),add:(c,l)=>xn(c+l,t),sub:(c,l)=>xn(c-l,t),mul:(c,l)=>xn(c*l,t),pow:(c,l)=>rre(a,c,l),div:(c,l)=>xn(c*nP(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>nP(c,t),sqrt:r.sqrt||(c=>(o||(o=Xne(t)),o(a,c))),invertBatch:c=>sre(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?DC(c,i):N6(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?i0(c):Hne(c)}});return Object.freeze(a)}const rP=BigInt(0),uy=BigInt(1);function U1(t,e){const n=e.negate();return t?n:e}function O6(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function L1(t,e){O6(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function ire(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function ore(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const M1=new WeakMap,R6=new WeakMap;function B1(t){return R6.get(t)||1}function are(t,e){return{constTimeNegate:U1,hasPrecomputes(n){return B1(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>rP;)r&uy&&(s=s.add(i)),i=i.double(),r>>=uy;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=L1(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=L1(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<i;h++){const f=h*o;let p=Number(s&l);s>>=d,p>o&&(p-=u,s+=uy);const g=f,w=f+Math.abs(p)-1,y=h%2!==0,b=p<0;p===0?c=c.add(U1(y,r[g])):a=a.add(U1(b,r[w]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=L1(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(s===rP)break;let f=Number(s&c);if(s>>=u,f>a&&(f-=l,s+=uy),f===0)continue;let p=r[h+Math.abs(f)-1];f<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(n,r,s){let i=M1.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&M1.set(r,s(i))),i},wNAFCached(n,r,s){const i=B1(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=B1(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){O6(r,e),R6.set(n,r),M1.delete(n)}}}function cre(t,e,n,r){if(ire(n,t),ore(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=Gne(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let f=0;f<r.length;f++){const p=r[f],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[f])}let h=s;for(let f=c.length-1,p=s;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function lre(t){return nre(t.Fp),UA(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...P6(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const ti=BigInt(0),Ur=BigInt(1),dy=BigInt(2),ure=BigInt(8),dre={zip215:!0};function hre(t){const e=lre(t);return UA(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function fre(t){const e=hre(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=dy<<BigInt(a*8)-Ur,u=n.create,d=k6(e.n,e.nBitLength),h=e.uvRatio||((N,T)=>{try{return{isValid:!0,value:n.sqrt(N*n.inv(T))}}catch{return{isValid:!1,value:ti}}}),f=e.adjustScalarBytes||(N=>N),p=e.domain||((N,T,L)=>{if(D1("phflag",L),T.length||L)throw new Error("Contexts/pre-hash are not supported");return N});function g(N,T){cf("coordinate "+N,T,ti,l)}function w(N){if(!(N instanceof v))throw new Error("ExtendedPoint expected")}const y=XN((N,T)=>{const{ex:L,ey:D,ez:$}=N,U=N.is0();T==null&&(T=U?ure:n.inv($));const W=u(L*T),Y=u(D*T),te=u($*T);if(U)return{x:ti,y:Ur};if(te!==Ur)throw new Error("invZ was invalid");return{x:W,y:Y}}),b=XN(N=>{const{a:T,d:L}=e;if(N.is0())throw new Error("bad point: ZERO");const{ex:D,ey:$,ez:U,et:W}=N,Y=u(D*D),te=u($*$),ee=u(U*U),ne=u(ee*ee),me=u(Y*T),G=u(ee*u(me+te)),Q=u(ne+u(L*u(Y*te)));if(G!==Q)throw new Error("bad point: equation left != right (1)");const se=u(D*$),X=u(U*W);if(se!==X)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(T,L,D,$){this.ex=T,this.ey=L,this.ez=D,this.et=$,g("x",T),g("y",L),g("z",D),g("t",$),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(T){if(T instanceof v)throw new Error("extended point not allowed");const{x:L,y:D}=T||{};return g("x",L),g("y",D),new v(L,D,Ur,u(L*D))}static normalizeZ(T){const L=n.invertBatch(T.map(D=>D.ez));return T.map((D,$)=>D.toAffine(L[$])).map(v.fromAffine)}static msm(T,L){return cre(v,d,T,L)}_setWindowSize(T){x.setWindowSize(this,T)}assertValidity(){b(this)}equals(T){w(T);const{ex:L,ey:D,ez:$}=this,{ex:U,ey:W,ez:Y}=T,te=u(L*Y),ee=u(U*$),ne=u(D*Y),me=u(W*$);return te===ee&&ne===me}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:T}=e,{ex:L,ey:D,ez:$}=this,U=u(L*L),W=u(D*D),Y=u(dy*u($*$)),te=u(T*U),ee=L+D,ne=u(u(ee*ee)-U-W),me=te+W,G=me-Y,Q=te-W,se=u(ne*G),X=u(me*Q),le=u(ne*Q),Me=u(G*me);return new v(se,X,Me,le)}add(T){w(T);const{a:L,d:D}=e,{ex:$,ey:U,ez:W,et:Y}=this,{ex:te,ey:ee,ez:ne,et:me}=T;if(L===BigInt(-1)){const Dt=u((U-$)*(ee+te)),yt=u((U+$)*(ee-te)),cn=u(yt-Dt);if(cn===ti)return this.double();const Ps=u(W*dy*me),ra=u(Y*dy*ne),sa=ra+Ps,Mn=yt+Dt,Or=ra-Ps,ia=u(sa*cn),Mh=u(Mn*Or),oa=u(sa*Or),_m=u(cn*Mn);return new v(ia,Mh,_m,oa)}const G=u($*te),Q=u(U*ee),se=u(Y*D*me),X=u(W*ne),le=u(($+U)*(te+ee)-G-Q),Me=X-se,Ne=X+se,be=u(Q-L*G),Oe=u(le*Me),He=u(Ne*be),Nt=u(le*be),wn=u(Me*Ne);return new v(Oe,He,wn,Nt)}subtract(T){return this.add(T.negate())}wNAF(T){return x.wNAFCached(this,T,v.normalizeZ)}multiply(T){const L=T;cf("scalar",L,Ur,r);const{p:D,f:$}=this.wNAF(L);return v.normalizeZ([D,$])[0]}multiplyUnsafe(T,L=v.ZERO){const D=T;return cf("scalar",D,ti,r),D===ti?E:this.is0()||D===Ur?this:x.wNAFCachedUnsafe(this,D,v.normalizeZ,L)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return x.unsafeLadder(this,r).is0()}toAffine(T){return y(this,T)}clearCofactor(){const{h:T}=e;return T===Ur?this:this.multiplyUnsafe(T)}static fromHex(T,L=!1){const{d:D,a:$}=e,U=n.BYTES;T=yo("pointHex",T,U),D1("zip215",L);const W=T.slice(),Y=T[U-1];W[U-1]=Y&-129;const te=i0(W),ee=L?l:n.ORDER;cf("pointHex.y",te,ti,ee);const ne=u(te*te),me=u(ne-Ur),G=u(D*ne-$);let{isValid:Q,value:se}=h(me,G);if(!Q)throw new Error("Point.fromHex: invalid y coordinate");const X=(se&Ur)===Ur,le=(Y&128)!==0;if(!L&&se===ti&&le)throw new Error("Point.fromHex: x=0 and x_0=1");return le!==X&&(se=u(-se)),v.fromAffine({x:se,y:te})}static fromPrivateKey(T){return C(T).point}toRawBytes(){const{x:T,y:L}=this.toAffine(),D=DC(L,n.BYTES);return D[D.length-1]|=T&Ur?128:0,D}toHex(){return jA(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,Ur,u(e.Gx*e.Gy)),v.ZERO=new v(ti,Ur,Ur,ti);const{BASE:_,ZERO:E}=v,x=are(v,a*8);function S(N){return xn(N,r)}function A(N){return S(i0(N))}function C(N){const T=n.BYTES;N=yo("private key",N,T);const L=yo("hashed private key",i(N),2*T),D=f(L.slice(0,T)),$=L.slice(T,2*T),U=A(D),W=_.multiply(U),Y=W.toRawBytes();return{head:D,prefix:$,scalar:U,point:W,pointBytes:Y}}function P(N){return C(N).pointBytes}function k(N=new Uint8Array,...T){const L=ZN(...T);return A(i(p(L,yo("context",N),!!s)))}function B(N,T,L={}){N=yo("message",N),s&&(N=s(N));const{prefix:D,scalar:$,pointBytes:U}=C(T),W=k(L.context,D,N),Y=_.multiply(W).toRawBytes(),te=k(L.context,Y,U,N),ee=S(W+te*$);cf("signature.s",ee,ti,r);const ne=ZN(Y,DC(ee,n.BYTES));return yo("result",ne,n.BYTES*2)}const F=dre;function H(N,T,L,D=F){const{context:$,zip215:U}=D,W=n.BYTES;N=yo("signature",N,2*W),T=yo("message",T),L=yo("publicKey",L,W),U!==void 0&&D1("zip215",U),s&&(T=s(T));const Y=i0(N.slice(W,2*W));let te,ee,ne;try{te=v.fromHex(L,U),ee=v.fromHex(N.slice(0,W),U),ne=_.multiplyUnsafe(Y)}catch{return!1}if(!U&&te.isSmallOrder())return!1;const me=k($,ee.toRawBytes(),te.toRawBytes(),T);return ee.add(te.multiplyUnsafe(me)).subtract(ne).clearCofactor().equals(v.ZERO)}return _._setWindowSize(8),{CURVE:e,getPublicKey:P,sign:B,verify:H,ExtendedPoint:v,utils:{getExtendedPublicKey:C,randomPrivateKey:()=>o(n.BYTES),precompute(N=8,T=v.BASE){return T._setWindowSize(N),T.multiply(BigInt(3)),T}}}}BigInt(0),BigInt(1);const LA=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),sP=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const pre=BigInt(1),iP=BigInt(2);BigInt(3);const gre=BigInt(5),mre=BigInt(8);function yre(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=LA,o=t*t%i*t%i,a=Di(o,iP,i)*o%i,c=Di(a,pre,i)*t%i,l=Di(c,gre,i)*c%i,u=Di(l,e,i)*l%i,d=Di(u,n,i)*u%i,h=Di(d,r,i)*d%i,f=Di(h,s,i)*h%i,p=Di(f,s,i)*h%i,g=Di(p,e,i)*l%i;return{pow_p_5_8:Di(g,iP,i)*t%i,b2:o}}function wre(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function vre(t,e){const n=LA,r=xn(e*e*e,n),s=xn(r*r*e,n),i=yre(t*s).pow_p_5_8;let o=xn(t*r*i,n);const a=xn(e*o*o,n),c=o,l=xn(o*sP,n),u=a===t,d=a===xn(-t,n),h=a===xn(-t*sP,n);return u&&(o=c),(d||h)&&(o=l),ere(o,n)&&(o=xn(-o,n)),{isValid:u||d,value:o}}const bre=k6(LA,void 0,!0),Ere={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:bre,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:mre,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:zne,randomBytes:x6,adjustScalarBytes:wre,uvRatio:vre},$6=fre(Ere),_re="EdDSA",Cre="JWT",rw=".",Sv="base64url",D6="utf8",j6="utf8",xre=":",Sre="did",Are="key",oP="base58btc",Ire="z",Tre="K36",Nre=32;function MA(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function U6(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?MA(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function L6(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=U6(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return MA(n)}function Pre(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,y=0,b=p.length;y!==b&&p[y]===0;)y++,g++;for(var v=(b-y)*u+1>>>0,_=new Uint8Array(v);y!==b;){for(var E=p[y],x=0,S=v-1;(E!==0||x<w)&&S!==-1;S--,x++)E+=256*_[S]>>>0,_[S]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");w=x,y++}for(var A=v-w;A!==v&&_[A]===0;)A++;for(var C=c.repeat(g);A<v;++A)C+=t.charAt(_[A]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,y=0;p[g]===c;)w++,g++;for(var b=(p.length-g)*l+1>>>0,v=new Uint8Array(b);p[g];){var _=n[p.charCodeAt(g)];if(_===255)return;for(var E=0,x=b-1;(_!==0||E<y)&&x!==-1;x--,E++)_+=a*v[x]>>>0,v[x]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");y=E,g++}if(p[g]!==" "){for(var S=b-y;S!==b&&v[S]===0;)S++;for(var A=new Uint8Array(w+(b-S)),C=w;S!==b;)A[C++]=v[S++];return A}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var kre=Pre,Ore=kre;const M6=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Rre=t=>new TextEncoder().encode(t),$re=t=>new TextDecoder().decode(t);let Dre=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},jre=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return B6(this,e)}},Ure=class{constructor(e){this.decoders=e}or(e){return B6(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const B6=(t,e)=>new Ure({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Lre=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Dre(e,n,r),this.decoder=new jre(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Av=({name:t,prefix:e,encode:n,decode:r})=>new Lre(t,e,n,r),um=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Ore(n,e);return Av({prefix:t,name:e,encode:r,decode:i=>M6(s(i))})},Mre=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Bre=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},er=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Av({prefix:e,name:t,encode(s){return Bre(s,r,n)},decode(s){return Mre(s,r,n,t)}}),Fre=Av({prefix:"\0",name:"identity",encode:t=>$re(t),decode:t=>Rre(t)});var zre=Object.freeze({__proto__:null,identity:Fre});const Wre=er({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var qre=Object.freeze({__proto__:null,base2:Wre});const Hre=er({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Vre=Object.freeze({__proto__:null,base8:Hre});const Gre=um({prefix:"9",name:"base10",alphabet:"0123456789"});var Kre=Object.freeze({__proto__:null,base10:Gre});const Yre=er({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Jre=er({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Qre=Object.freeze({__proto__:null,base16:Yre,base16upper:Jre});const Zre=er({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Xre=er({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ese=er({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tse=er({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),nse=er({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rse=er({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),sse=er({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ise=er({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ose=er({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ase=Object.freeze({__proto__:null,base32:Zre,base32upper:Xre,base32pad:ese,base32padupper:tse,base32hex:nse,base32hexupper:rse,base32hexpad:sse,base32hexpadupper:ise,base32z:ose});const cse=um({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),lse=um({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var use=Object.freeze({__proto__:null,base36:cse,base36upper:lse});const dse=um({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hse=um({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var fse=Object.freeze({__proto__:null,base58btc:dse,base58flickr:hse});const pse=er({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),gse=er({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),mse=er({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),yse=er({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var wse=Object.freeze({__proto__:null,base64:pse,base64pad:gse,base64url:mse,base64urlpad:yse});const F6=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),vse=F6.reduce((t,e,n)=>(t[n]=e,t),[]),bse=F6.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Ese(t){return t.reduce((e,n)=>(e+=vse[n],e),"")}function _se(t){const e=[];for(const n of t){const r=bse[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Cse=Av({prefix:"🚀",name:"base256emoji",encode:Ese,decode:_se});var xse=Object.freeze({__proto__:null,base256emoji:Cse}),Sse=z6,aP=128,Ase=-128,Ise=Math.pow(2,31);function z6(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Ise;)e[n++]=t&255|aP,t/=128;for(;t&Ase;)e[n++]=t&255|aP,t>>>=7;return e[n]=t|0,z6.bytes=n-r+1,e}var Tse=UC,Nse=128,cP=127;function UC(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw UC.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&cP)<<s:(o&cP)*Math.pow(2,s),s+=7}while(o>=Nse);return UC.bytes=i-r,n}var Pse=Math.pow(2,7),kse=Math.pow(2,14),Ose=Math.pow(2,21),Rse=Math.pow(2,28),$se=Math.pow(2,35),Dse=Math.pow(2,42),jse=Math.pow(2,49),Use=Math.pow(2,56),Lse=Math.pow(2,63),Mse=function(t){return t<Pse?1:t<kse?2:t<Ose?3:t<Rse?4:t<$se?5:t<Dse?6:t<jse?7:t<Use?8:t<Lse?9:10},Bse={encode:Sse,decode:Tse,encodingLength:Mse},W6=Bse;const lP=(t,e,n=0)=>(W6.encode(t,e,n),e),uP=t=>W6.encodingLength(t),LC=(t,e)=>{const n=e.byteLength,r=uP(t),s=r+uP(n),i=new Uint8Array(s+n);return lP(t,i,0),lP(n,i,r),i.set(e,s),new Fse(t,n,e,i)};let Fse=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const q6=({name:t,code:e,encode:n})=>new zse(t,e,n);let zse=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?LC(this.code,n):n.then(r=>LC(this.code,r))}else throw Error("Unknown type, must be binary type")}};const H6=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Wse=q6({name:"sha2-256",code:18,encode:H6("SHA-256")}),qse=q6({name:"sha2-512",code:19,encode:H6("SHA-512")});var Hse=Object.freeze({__proto__:null,sha256:Wse,sha512:qse});const V6=0,Vse="identity",G6=M6,Gse=t=>LC(V6,G6(t)),Kse={code:V6,name:Vse,encode:G6,digest:Gse};var Yse=Object.freeze({__proto__:null,identity:Kse});new TextEncoder,new TextDecoder;const dP={...zre,...qre,...Vre,...Kre,...Qre,...ase,...use,...fse,...wse,...xse};({...Hse,...Yse});function K6(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const hP=K6("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),F1=K6("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=U6(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Y6={utf8:hP,"utf-8":hP,hex:dP.base16,latin1:F1,ascii:F1,binary:F1,...dP};function Iv(t,e="utf8"){const n=Y6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Ah(t,e="utf8"){const n=Y6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?MA(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function fP(t){return Xl(Iv(Ah(t,Sv),D6))}function sw(t){return Iv(Ah(Qo(t),D6),Sv)}function J6(t){const e=Ah(Tre,oP),n=Ire+Iv(L6([e,t]),oP);return[Sre,Are,n].join(xre)}function Jse(t){return Iv(t,Sv)}function Qse(t){return Ah(t,Sv)}function Zse(t){return Ah([sw(t.header),sw(t.payload)].join(rw),j6)}function Xse(t){return[sw(t.header),sw(t.payload),Jse(t.signature)].join(rw)}function MC(t){const e=t.split(rw),n=fP(e[0]),r=fP(e[1]),s=Qse(e[2]),i=Ah(e.slice(0,2).join(rw),j6);return{header:n,payload:r,signature:s,data:i}}function pP(t=x6(Nre)){const e=$6.getPublicKey(t);return{secretKey:L6([t,e]),publicKey:e}}async function eie(t,e,n,r,s=ue.fromMiliseconds(Date.now())){const i={alg:_re,typ:Cre},o=J6(r.publicKey),a=s+n,c={iss:o,sub:t,aud:e,iat:s,exp:a},l=Zse({header:i,payload:c}),u=$6.sign(l,r.secretKey.slice(0,32));return Xse({header:i,payload:c,signature:u})}var gP=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},tie=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),nie=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),rie=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),sie=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),iie=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),oie=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,aie=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,mP=3,cie=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",oie]],yP=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function lie(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new iie:typeof navigator<"u"?die(navigator.userAgent):fie()}function uie(t){return t!==""&&cie.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var i=s.exec(t);return!!i&&[r,i]},!1)}function die(t){var e=uie(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new sie;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<mP&&(s=gP(gP([],s,!0),pie(mP-s.length),!0)):s=[];var i=s.join("."),o=hie(t),a=aie.exec(t);return a&&a[1]?new rie(n,i,o,a[1]):new tie(n,i,o)}function hie(t){for(var e=0,n=yP.length;e<n;e++){var r=yP[e],s=r[0],i=r[1],o=i.exec(t);if(o)return s}return null}function fie(){var t=typeof process<"u"&&process.version;return t?new nie(process.version.slice(1)):null}function pie(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.getLocalStorage=Mt.getLocalStorageOrThrow=Mt.getCrypto=Mt.getCryptoOrThrow=Q6=Mt.getLocation=Mt.getLocationOrThrow=BA=Mt.getNavigator=Mt.getNavigatorOrThrow=eu=Mt.getDocument=Mt.getDocumentOrThrow=Mt.getFromWindowOrThrow=Mt.getFromWindow=void 0;function vu(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Mt.getFromWindow=vu;function Ih(t){const e=vu(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Mt.getFromWindowOrThrow=Ih;function gie(){return Ih("document")}Mt.getDocumentOrThrow=gie;function mie(){return vu("document")}var eu=Mt.getDocument=mie;function yie(){return Ih("navigator")}Mt.getNavigatorOrThrow=yie;function wie(){return vu("navigator")}var BA=Mt.getNavigator=wie;function vie(){return Ih("location")}Mt.getLocationOrThrow=vie;function bie(){return vu("location")}var Q6=Mt.getLocation=bie;function Eie(){return Ih("crypto")}Mt.getCryptoOrThrow=Eie;function _ie(){return vu("crypto")}Mt.getCrypto=_ie;function Cie(){return Ih("localStorage")}Mt.getLocalStorageOrThrow=Cie;function xie(){return vu("localStorage")}Mt.getLocalStorage=xie;var FA={};Object.defineProperty(FA,"__esModule",{value:!0});var Z6=FA.getWindowMetadata=void 0;const wP=Mt;function Sie(){let t,e;try{t=wP.getDocumentOrThrow(),e=wP.getLocationOrThrow()}catch{return null}function n(){const d=t.getElementsByTagName("link"),h=[];for(let f=0;f<d.length;f++){const p=d[f],g=p.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const w=p.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let y=e.protocol+"//"+e.host;if(w.indexOf("/")===0)y+=w;else{const b=e.pathname.split("/");b.pop();const v=b.join("/");y+=v+"/"+w}h.push(y)}else if(w.indexOf("//")===0){const y=e.protocol+w;h.push(y)}else h.push(w)}}return h}function r(...d){const h=t.getElementsByTagName("meta");for(let f=0;f<h.length;f++){const p=h[f],g=["itemprop","property","name"].map(w=>p.getAttribute(w)).filter(w=>w?d.includes(w):!1);if(g.length&&g){const w=p.getAttribute("content");if(w)return w}}return""}function s(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function i(){return r("description","og:description","twitter:description","keywords")}const o=s(),a=i(),c=e.origin,l=n();return{description:a,url:c,icons:l,name:o}}Z6=FA.getWindowMetadata=Sie;function gg(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function BC(t){return gg(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const X6="2.31.0";let lf={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${X6}`};class tu extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof tu?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof tu&&n.cause.docsPath||n.docsPath,i=(a=lf.getDocsUrl)==null?void 0:a.call(lf,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...lf.version?[`Version: ${lf.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=X6}walk(e){return e4(this,e)}}function e4(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?e4(t.cause,e):e?null:t}class t4 extends tu{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Th(t,{dir:e,size:n=32}={}){return typeof t=="string"?Aie(t,{dir:e,size:n}):Iie(t,{dir:e,size:n})}function Aie(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new t4({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Iie(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new t4({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class Tie extends tu{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class Nie extends tu{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Nh(t,{size:e}){if(BC(t)>e)throw new Nie({givenSize:BC(t),maxSize:e})}function FC(t,e={}){const{signed:n}=e;e.size&&Nh(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Pie(t,e={}){return Number(FC(t,e))}const kie=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zC(t,e={}){return typeof t=="number"||typeof t=="bigint"?r4(t,e):typeof t=="string"?$ie(t,e):typeof t=="boolean"?Oie(t,e):n4(t,e)}function Oie(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Nh(n,{size:e.size}),Th(n,{size:e.size})):n}function n4(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=kie[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Nh(r,{size:e.size}),Th(r,{dir:"right",size:e.size})):r}function r4(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new Tie({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Th(a,{size:r}):a}const Rie=new TextEncoder;function $ie(t,e={}){const n=Rie.encode(t);return n4(n,e)}const Die=new TextEncoder;function jie(t,e={}){return typeof t=="number"||typeof t=="bigint"?Lie(t,e):typeof t=="boolean"?Uie(t,e):gg(t)?s4(t,e):i4(t,e)}function Uie(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Nh(n,{size:e.size}),Th(n,{size:e.size})):n}const wo={zero:48,nine:57,A:65,F:70,a:97,f:102};function vP(t){if(t>=wo.zero&&t<=wo.nine)return t-wo.zero;if(t>=wo.A&&t<=wo.F)return t-(wo.A-10);if(t>=wo.a&&t<=wo.f)return t-(wo.a-10)}function s4(t,e={}){let n=t;e.size&&(Nh(n,{size:e.size}),n=Th(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=vP(r.charCodeAt(a++)),l=vP(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new tu(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function Lie(t,e){const n=r4(t,e);return s4(n)}function i4(t,e={}){const n=Die.encode(t);return typeof e.size=="number"?(Nh(n,{size:e.size}),Th(n,{dir:"right",size:e.size})):n}function o4(t,e){const n=e||"hex",r=DS(gg(t,{strict:!1})?jie(t):t);return n==="bytes"?r:zC(r)}class Mie extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const z1=new Mie(8192);function Bie(t,e){if(z1.has(`${t}.${e}`))return z1.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=o4(i4(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return z1.set(`${t}.${e}`,i),i}function Fie(t){const e=o4(`0x${t.substring(4)}`).substring(26);return Bie(`0x${e}`)}async function zie({hash:t,signature:e}){const n=gg(t)?t:zC(t),{secp256k1:r}=await ln(async()=>{const{secp256k1:o}=await import("./secp256k1-lKf5jATH.js");return{secp256k1:o}},__vite__mapDeps([2,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=bP(f);return new r.Signature(FC(l),FC(u)).addRecoveryBit(p)}const o=gg(e)?e:zC(e);if(BC(o)!==65)throw new Error("invalid signature length");const a=Pie(`0x${o.slice(130)}`),c=bP(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function bP(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Wie({hash:t,signature:e}){return Fie(await zie({hash:t,signature:e}))}function qie(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const p=(f-h)*i+1>>>0,g=new Uint8Array(p);for(;h!==f;){let b=l[h],v=0;for(let _=p-1;(b!==0||v<d)&&_!==-1;_--,v++)b+=256*g[_]>>>0,g[_]=b%n>>>0,b=b/n>>>0;if(b!==0)throw new Error("Non-zero carry");d=v,h++}let w=p-d;for(;w!==p&&g[w]===0;)w++;let y=r.repeat(u);for(;w<p;++w)y+=t.charAt(g[w]);return y}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===r;)d++,u++;const f=(l.length-u)*s+1>>>0,p=new Uint8Array(f);for(;u<l.length;){const b=l.charCodeAt(u);if(b>255)return;let v=e[b];if(v===255)return;let _=0;for(let E=f-1;(v!==0||_<h)&&E!==-1;E--,_++)v+=n*p[E]>>>0,p[E]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");h=_,u++}let g=f-h;for(;g!==f&&p[g]===0;)g++;const w=new Uint8Array(d+(f-g));let y=d;for(;g!==f;)w[y++]=p[g++];return w}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var Hie="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Ph=qie(Hie);function Vie(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.charCodeAt(r++);if(s&4294967168)if(!(s&4294965248))n+=2;else{if(s>=55296&&s<=56319&&r<e){const i=t.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}s&4294901760?n+=4:n+=3}else{n++;continue}}return n}function Gie(t,e,n){const r=t.length;let s=n,i=0;for(;i<r;){let o=t.charCodeAt(i++);if(o&4294967168)if(!(o&4294965248))e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128):(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128)}else{e[s++]=o;continue}e[s++]=o&63|128}}const Kie=new TextEncoder,Yie=50;function Jie(t,e,n){Kie.encodeInto(t,e.subarray(n))}function Qie(t,e,n){t.length>Yie?Jie(t,e,n):Gie(t,e,n)}const Zie=4096;function a4(t,e,n){let r=e;const s=r+n,i=[];let o="";for(;r<s;){const a=t[r++];if(!(a&128))i.push(a);else if((a&224)===192){const c=t[r++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;i.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d)}else i.push(a);i.length>=Zie&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const Xie=new TextDecoder,eoe=200;function toe(t,e,n){const r=t.subarray(e,e+n);return Xie.decode(r)}function noe(t,e,n){return n>eoe?toe(t,e,n):a4(t,e,n)}class hy{constructor(e,n){this.type=e,this.data=n}}class gs extends Error{constructor(e){super(e);const n=Object.create(gs.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:gs.name})}}const uf=4294967295;function roe(t,e,n){const r=n/4294967296,s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function c4(t,e,n){const r=Math.floor(n/4294967296),s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function l4(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function soe(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const ioe=-1,ooe=4294967296-1,aoe=17179869184-1;function coe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=aoe)if(e===0&&t<=ooe){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),c4(r,4,t),n}}function loe(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function uoe(t){if(t instanceof Date){const e=loe(t);return coe(e)}else return null}function doe(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=l4(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new gs(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function hoe(t){const e=doe(t);return new Date(e.sec*1e3+e.nsec/1e6)}const foe={type:ioe,encode:uoe,decode:hoe};class iw{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(foe)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const s=-1-e;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=-1-r;return new hy(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=r;return new hy(o,i)}}}return e instanceof hy?e:null}decode(e,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(e,n,r):new hy(n,e)}}iw.defaultCodec=new iw;function poe(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function WC(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):poe(t)?new Uint8Array(t):Uint8Array.from(t)}const goe=100,moe=2048;let yoe=class u4{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??iw.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??goe,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??moe,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new u4({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=Vie(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),Qie(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=WC(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of e)this.doEncode(s,n+1)}countWithoutUndefined(e,n){let r=0;for(const s of n)e[s]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),roe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),c4(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function woe(t,e){return new yoe(e).encodeSharedRef(t)}function W1(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const voe=16,boe=16;class Eoe{constructor(e=voe,n=boe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return i.str}return null}store(e,n){const r=this.caches[e.length-1],s={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(e,n,r){const s=this.find(e,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=a4(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,i),i}}const qC="array",np="map_key",d4="map_value",_oe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new gs("The type of key must be string or number but "+typeof t)};class Coe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=qC,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=np,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===qC){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===np||e.type===d4){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const df=-1,zA=new DataView(new ArrayBuffer(0)),xoe=new Uint8Array(zA.buffer);try{zA.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const EP=new RangeError("Insufficient data"),Soe=new Eoe;let Aoe=class h4{constructor(e){this.totalPos=0,this.pos=0,this.view=zA,this.bytes=xoe,this.headByte=df,this.stack=new Coe,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??iw.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??uf,this.maxBinLength=(e==null?void 0:e.maxBinLength)??uf,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??uf,this.maxMapLength=(e==null?void 0:e.maxMapLength)??uf,this.maxExtLength=(e==null?void 0:e.maxExtLength)??uf,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:Soe,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??_oe}clone(){return new h4({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=df,this.stack.reset()}setBuffer(e){const n=WC(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===df&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=WC(e),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${W1(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of e){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=e-160;n=this.decodeString(s,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new gs(`Unrecognized type byte: ${W1(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===qC)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===np){if(n==="__proto__")throw new gs("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=d4;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=np;continue e}}return n}}readHeadByte(){return this.headByte===df&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=df}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new gs(`Unrecognized array type byte: ${W1(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new gs(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new gs(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var i;if(e>this.maxStrLength)throw new gs(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw EP;const r=this.pos+n;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,r,e):s=noe(this.bytes,r,e),this.pos+=n+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===np:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new gs(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw EP;const r=this.pos+n,s=this.bytes.subarray(r,r+e);return this.pos+=n+e,s}decodeExtension(e,n){if(e>this.maxExtLength)throw new gs(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(e,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=soe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=l4(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function Ioe(t,e){return new Aoe(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Toe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function f4(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function ow(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function WA(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function HC(t){if(!Array.isArray(t))throw new Error("array expected")}function aw(t,e){if(!f4(!0,e))throw new Error(`${t}: array of strings expected`)}function Noe(t,e){if(!f4(!1,e))throw new Error(`${t}: array of numbers expected`)}function Poe(...t){const e=i=>i,n=(i,o)=>a=>i(o(a)),r=t.map(i=>i.encode).reduceRight(n,e),s=t.map(i=>i.decode).reduce(n,e);return{encode:r,decode:s}}function koe(t){const e=typeof t=="string"?t.split(""):t,n=e.length;aw("alphabet",e);const r=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(HC(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(HC(s),s.map(i=>{ow("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function Ooe(t=""){return ow("join",t),{encode:e=>(aw("join.decode",e),e.join(t)),decode:e=>(ow("join.decode",e),e.split(t))}}function Roe(t,e="="){return WA(t),ow("padding",e),{encode(n){for(aw("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){aw("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const p4=(t,e)=>e===0?t:p4(e,t%e),cw=(t,e)=>t+(e-p4(t,e)),q1=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function _P(t,e,n,r){if(HC(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(cw(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${cw(e,n)}`);let s=0,i=0;const o=q1[e],a=q1[n]-1,c=[];for(const l of t){if(WA(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(s=s<<e|l,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)c.push((s>>i-n&a)>>>0);const u=q1[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function $oe(t,e=!1){if(WA(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(cw(8,t)>32||cw(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!Toe(n))throw new Error("radix2.encode input should be Uint8Array");return _P(Array.from(n),8,t,!e)},decode:n=>(Noe("radix2.decode",n),Uint8Array.from(_P(n,t,8,e)))}}const Doe=Poe($oe(5),koe("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Roe(5),Ooe(""));function qA(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function g4(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?qA(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function rp(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=g4(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return qA(n)}function joe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,y=0,b=p.length;y!==b&&p[y]===0;)y++,g++;for(var v=(b-y)*u+1>>>0,_=new Uint8Array(v);y!==b;){for(var E=p[y],x=0,S=v-1;(E!==0||x<w)&&S!==-1;S--,x++)E+=256*_[S]>>>0,_[S]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");w=x,y++}for(var A=v-w;A!==v&&_[A]===0;)A++;for(var C=c.repeat(g);A<v;++A)C+=t.charAt(_[A]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,y=0;p[g]===c;)w++,g++;for(var b=(p.length-g)*l+1>>>0,v=new Uint8Array(b);p[g];){var _=n[p.charCodeAt(g)];if(_===255)return;for(var E=0,x=b-1;(_!==0||E<y)&&x!==-1;x--,E++)_+=a*v[x]>>>0,v[x]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");y=E,g++}if(p[g]!==" "){for(var S=b-y;S!==b&&v[S]===0;)S++;for(var A=new Uint8Array(w+(b-S)),C=w;S!==b;)A[C++]=v[S++];return A}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Uoe=joe,Loe=Uoe;const Moe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Boe=t=>new TextEncoder().encode(t),Foe=t=>new TextDecoder().decode(t);class zoe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Woe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return m4(this,e)}}class qoe{constructor(e){this.decoders=e}or(e){return m4(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const m4=(t,e)=>new qoe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Hoe{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new zoe(e,n,r),this.decoder=new Woe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Tv=({name:t,prefix:e,encode:n,decode:r})=>new Hoe(t,e,n,r),dm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Loe(n,e);return Tv({prefix:t,name:e,encode:r,decode:i=>Moe(s(i))})},Voe=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Goe=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},tr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Tv({prefix:e,name:t,encode(s){return Goe(s,r,n)},decode(s){return Voe(s,r,n,t)}}),Koe=Tv({prefix:"\0",name:"identity",encode:t=>Foe(t),decode:t=>Boe(t)}),Yoe=Object.freeze(Object.defineProperty({__proto__:null,identity:Koe},Symbol.toStringTag,{value:"Module"})),Joe=tr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Qoe=Object.freeze(Object.defineProperty({__proto__:null,base2:Joe},Symbol.toStringTag,{value:"Module"})),Zoe=tr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Xoe=Object.freeze(Object.defineProperty({__proto__:null,base8:Zoe},Symbol.toStringTag,{value:"Module"})),eae=dm({prefix:"9",name:"base10",alphabet:"0123456789"}),tae=Object.freeze(Object.defineProperty({__proto__:null,base10:eae},Symbol.toStringTag,{value:"Module"})),nae=tr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),rae=tr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),sae=Object.freeze(Object.defineProperty({__proto__:null,base16:nae,base16upper:rae},Symbol.toStringTag,{value:"Module"})),iae=tr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),oae=tr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),aae=tr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),cae=tr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),lae=tr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uae=tr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dae=tr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hae=tr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fae=tr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),pae=Object.freeze(Object.defineProperty({__proto__:null,base32:iae,base32hex:lae,base32hexpad:dae,base32hexpadupper:hae,base32hexupper:uae,base32pad:aae,base32padupper:cae,base32upper:oae,base32z:fae},Symbol.toStringTag,{value:"Module"})),gae=dm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),mae=dm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),yae=Object.freeze(Object.defineProperty({__proto__:null,base36:gae,base36upper:mae},Symbol.toStringTag,{value:"Module"})),wae=dm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vae=dm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),bae=Object.freeze(Object.defineProperty({__proto__:null,base58btc:wae,base58flickr:vae},Symbol.toStringTag,{value:"Module"})),Eae=tr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),_ae=tr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Cae=tr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xae=tr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Sae=Object.freeze(Object.defineProperty({__proto__:null,base64:Eae,base64pad:_ae,base64url:Cae,base64urlpad:xae},Symbol.toStringTag,{value:"Module"})),y4=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Aae=y4.reduce((t,e,n)=>(t[n]=e,t),[]),Iae=y4.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Tae(t){return t.reduce((e,n)=>(e+=Aae[n],e),"")}function Nae(t){const e=[];for(const n of t){const r=Iae[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Pae=Tv({prefix:"🚀",name:"base256emoji",encode:Tae,decode:Nae}),kae=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Pae},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const CP={...Yoe,...Qoe,...Xoe,...tae,...sae,...pae,...yae,...bae,...Sae,...kae};function w4(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const xP=w4("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),H1=w4("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=g4(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),v4={utf8:xP,"utf-8":xP,hex:CP.base16,latin1:H1,ascii:H1,binary:H1,...CP};function qs(t,e="utf8"){const n=v4[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?qA(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function ss(t,e="utf8"){const n=v4[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Oae={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},Rae="Input must be an string, Buffer or Uint8Array";function $ae(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(Rae);return e}function Dae(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function fy(t){return(4294967296+t).toString(16).substring(1)}function jae(t,e,n){let r=`
`+t+" = ";for(let s=0;s<e.length;s+=2){if(n===32)r+=fy(e[s]).toUpperCase(),r+=" ",r+=fy(e[s+1]).toUpperCase();else if(n===64)r+=fy(e[s+1]).toUpperCase(),r+=fy(e[s]).toUpperCase();else throw new Error("Invalid size "+n);s%6===4?r+=`
`+new Array(t.length+4).join(" "):s<e.length-2&&(r+=" ")}console.log(r)}function Uae(t,e,n){let r=new Date().getTime();const s=new Uint8Array(e);for(let o=0;o<e;o++)s[o]=o%256;const i=new Date().getTime();console.log("Generated random input in "+(i-r)+"ms"),r=i;for(let o=0;o<n;o++){const a=t(s),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var b4={normalizeInput:$ae,toHex:Dae,debugPrint:jae,testSpeed:Uae};const o0=b4;function py(t,e,n){const r=t[e]+t[n];let s=t[e+1]+t[n+1];r>=4294967296&&s++,t[e]=r,t[e+1]=s}function SP(t,e,n,r){let s=t[e]+n;n<0&&(s+=4294967296);let i=t[e+1]+r;s>=4294967296&&i++,t[e]=s,t[e+1]=i}function E4(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function wa(t,e,n,r,s,i){const o=Df[s],a=Df[s+1],c=Df[i],l=Df[i+1];py(Ge,t,e),SP(Ge,t,o,a);let u=Ge[r]^Ge[t],d=Ge[r+1]^Ge[t+1];Ge[r]=d,Ge[r+1]=u,py(Ge,n,r),u=Ge[e]^Ge[n],d=Ge[e+1]^Ge[n+1],Ge[e]=u>>>24^d<<8,Ge[e+1]=d>>>24^u<<8,py(Ge,t,e),SP(Ge,t,c,l),u=Ge[r]^Ge[t],d=Ge[r+1]^Ge[t+1],Ge[r]=u>>>16^d<<16,Ge[r+1]=d>>>16^u<<16,py(Ge,n,r),u=Ge[e]^Ge[n],d=Ge[e+1]^Ge[n+1],Ge[e]=d>>>31^u<<1,Ge[e+1]=u>>>31^d<<1}const _4=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Lae=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],or=new Uint8Array(Lae.map(function(t){return t*2})),Ge=new Uint32Array(32),Df=new Uint32Array(32);function C4(t,e){let n=0;for(n=0;n<16;n++)Ge[n]=t.h[n],Ge[n+16]=_4[n];for(Ge[24]=Ge[24]^t.t,Ge[25]=Ge[25]^t.t/4294967296,e&&(Ge[28]=~Ge[28],Ge[29]=~Ge[29]),n=0;n<32;n++)Df[n]=E4(t.b,4*n);for(n=0;n<12;n++)wa(0,8,16,24,or[n*16+0],or[n*16+1]),wa(2,10,18,26,or[n*16+2],or[n*16+3]),wa(4,12,20,28,or[n*16+4],or[n*16+5]),wa(6,14,22,30,or[n*16+6],or[n*16+7]),wa(0,10,20,30,or[n*16+8],or[n*16+9]),wa(2,12,22,24,or[n*16+10],or[n*16+11]),wa(4,14,16,26,or[n*16+12],or[n*16+13]),wa(6,8,18,28,or[n*16+14],or[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^Ge[n]^Ge[n+16]}const va=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function x4(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};va.fill(0),va[0]=t,e&&(va[1]=e.length),va[2]=1,va[3]=1,n&&va.set(n,32),r&&va.set(r,48);for(let i=0;i<16;i++)s.h[i]=_4[i]^E4(va,i*4);return e&&(HA(s,e),s.c=128),s}function HA(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,C4(t,!1),t.c=0),t.b[t.c++]=e[n]}function S4(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;C4(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function A4(t,e,n,r,s){n=n||64,t=o0.normalizeInput(t),r&&(r=o0.normalizeInput(r)),s&&(s=o0.normalizeInput(s));const i=x4(n,e,r,s);return HA(i,t),S4(i)}function Mae(t,e,n,r,s){const i=A4(t,e,n,r,s);return o0.toHex(i)}var Bae={blake2b:A4,blake2bHex:Mae,blake2bInit:x4,blake2bUpdate:HA,blake2bFinal:S4};const I4=b4;function Fae(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function ba(t,e,n,r,s,i){ft[t]=ft[t]+ft[e]+s,ft[r]=gy(ft[r]^ft[t],16),ft[n]=ft[n]+ft[r],ft[e]=gy(ft[e]^ft[n],12),ft[t]=ft[t]+ft[e]+i,ft[r]=gy(ft[r]^ft[t],8),ft[n]=ft[n]+ft[r],ft[e]=gy(ft[e]^ft[n],7)}function gy(t,e){return t>>>e^t<<32-e}const T4=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ar=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),ft=new Uint32Array(16),Fn=new Uint32Array(16);function N4(t,e){let n=0;for(n=0;n<8;n++)ft[n]=t.h[n],ft[n+8]=T4[n];for(ft[12]^=t.t,ft[13]^=t.t/4294967296,e&&(ft[14]=~ft[14]),n=0;n<16;n++)Fn[n]=Fae(t.b,4*n);for(n=0;n<10;n++)ba(0,4,8,12,Fn[ar[n*16+0]],Fn[ar[n*16+1]]),ba(1,5,9,13,Fn[ar[n*16+2]],Fn[ar[n*16+3]]),ba(2,6,10,14,Fn[ar[n*16+4]],Fn[ar[n*16+5]]),ba(3,7,11,15,Fn[ar[n*16+6]],Fn[ar[n*16+7]]),ba(0,5,10,15,Fn[ar[n*16+8]],Fn[ar[n*16+9]]),ba(1,6,11,12,Fn[ar[n*16+10]],Fn[ar[n*16+11]]),ba(2,7,8,13,Fn[ar[n*16+12]],Fn[ar[n*16+13]]),ba(3,4,9,14,Fn[ar[n*16+14]],Fn[ar[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=ft[n]^ft[n+8]}function P4(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(T4),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(VA(r,e),r.c=64),r}function VA(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,N4(t,!1),t.c=0),t.b[t.c++]=e[n]}function k4(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;N4(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function O4(t,e,n){n=n||32,t=I4.normalizeInput(t);const r=P4(n,e);return VA(r,t),k4(r)}function zae(t,e,n){const r=O4(t,e,n);return I4.toHex(r)}var Wae={blake2s:O4,blake2sHex:zae,blake2sInit:P4,blake2sUpdate:VA,blake2sFinal:k4};const hf=Bae,ff=Wae;var qae={blake2b:hf.blake2b,blake2bHex:hf.blake2bHex,blake2bInit:hf.blake2bInit,blake2bUpdate:hf.blake2bUpdate,blake2bFinal:hf.blake2bFinal,blake2s:ff.blake2s,blake2sHex:ff.blake2sHex,blake2sInit:ff.blake2sInit,blake2sUpdate:ff.blake2sUpdate,blake2sFinal:ff.blake2sFinal},Hae={};const Vae=":";function Pd(t){const[e,n]=t.split(Vae);return{namespace:e,reference:n}}function R4(t,e){return t.includes(":")?[t]:e.chains||[]}var Gae=Object.defineProperty,Kae=Object.defineProperties,Yae=Object.getOwnPropertyDescriptors,AP=Object.getOwnPropertySymbols,Jae=Object.prototype.hasOwnProperty,Qae=Object.prototype.propertyIsEnumerable,IP=(t,e,n)=>e in t?Gae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,TP=(t,e)=>{for(var n in e||(e={}))Jae.call(e,n)&&IP(t,n,e[n]);if(AP)for(var n of AP(e))Qae.call(e,n)&&IP(t,n,e[n]);return t},Zae=(t,e)=>Kae(t,Yae(e));const Xae="ReactNative",ws={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},ece="js";function lw(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function qc(){return!eu()&&!!BA()&&navigator.product===Xae}function tce(){return qc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function nce(){return qc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function kh(){return!lw()&&!!BA()&&!!eu()}function hm(){return qc()?ws.reactNative:lw()?ws.node:kh()?ws.browser:ws.unknown}function NP(){var t;try{return qc()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function rce(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function sce(t){var e,n;const r=$4();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),Zae(TP(TP({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function $4(){return Z6()||{name:"",description:"",url:"",icons:[""]}}function ice(){if(hm()===ws.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=lie();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function oce(){var t;const e=hm();return e===ws.browser?[e,((t=Q6())==null?void 0:t.host)||"unknown"].join(":"):e}function D4(t,e,n){const r=ice(),s=oce();return[[t,e].join("-"),[ece,n].join("-"),r,s].join("/")}function ace({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=D4(t,e,r),d={auth:s,ua:u,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=rce(l[1]||"",d);return l[0]+"?"+h}function yl(t,e){return t.filter(n=>e.includes(n)).length===t.length}function VC(t){return Object.fromEntries(t.entries())}function GC(t){return new Map(Object.entries(t))}function sl(t=ue.FIVE_MINUTES,e){const n=ue.toMiliseconds(t||ue.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function oc(t,e,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),e);try{const o=await t;r(o)}catch(o){s(o)}clearTimeout(i)})}function j4(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function cce(t){return j4("topic",t)}function lce(t){return j4("id",t)}function U4(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function En(t,e){return ue.fromMiliseconds(Date.now()+ue.toMiliseconds(t))}function Da(t){return Date.now()>=ue.toMiliseconds(t)}function vt(t,e){return`${t}${e?`:${e}`:""}`}function ro(t=[],e=[]){return[...new Set([...t,...e])]}async function uce({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=dce(i,t,e),a=hm();if(a===ws.browser){if(!((r=eu())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}hce(o)}else a===ws.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function dce(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${mce(r,!0)}`}else s=`${s}/wc?${r}`;return s}function hce(t){let e="_self";gce()?e="_top":(pce()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function fce(t,e){let n="";try{if(kh()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function PP(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function kP(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function GA(){return typeof process<"u"&&Hae.IS_VITEST==="true"}function pce(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function gce(){try{return window.self!==window.top}catch{return!1}}function mce(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function L4(t){return Buffer.from(t,"base64").toString("utf-8")}function yce(t){return new Promise(e=>setTimeout(e,t))}const my=BigInt(2**32-1),OP=BigInt(32);function M4(t,e=!1){return e?{h:Number(t&my),l:Number(t>>OP&my)}:{h:Number(t>>OP&my)|0,l:Number(t&my)|0}}function B4(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=M4(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const RP=(t,e,n)=>t>>>n,$P=(t,e,n)=>t<<32-n|e>>>n,ja=(t,e,n)=>t>>>n|e<<32-n,Ua=(t,e,n)=>t<<32-n|e>>>n,jf=(t,e,n)=>t<<64-n|e>>>n-32,Uf=(t,e,n)=>t>>>n-32|e<<64-n,wce=(t,e)=>e,vce=(t,e)=>t,bce=(t,e,n)=>t<<n|e>>>32-n,Ece=(t,e,n)=>e<<n|t>>>32-n,_ce=(t,e,n)=>e<<n-32|t>>>64-n,Cce=(t,e,n)=>t<<n-32|e>>>64-n;function li(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const KA=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),YA=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,xce=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Sce=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Ace=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Ice=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,$u=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function JA(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Zo(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ks(t,...e){if(!JA(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function QA(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Zo(t.outputLen),Zo(t.blockLen)}function Dc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ZA(t,e){Ks(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function mg(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ys(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function V1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ji(t,e){return t<<32-e|t>>>e}const F4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function z4(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Co=F4?t=>t:t=>z4(t);function Tce(t){for(let e=0;e<t.length;e++)t[e]=z4(t[e]);return t}const La=F4?t=>t:Tce,W4=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Nce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function yg(t){if(Ks(t),W4)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Nce[t[n]];return e}const vo={_0:48,_9:57,A:65,F:70,a:97,f:102};function DP(t){if(t>=vo._0&&t<=vo._9)return t-vo._0;if(t>=vo.A&&t<=vo.F)return t-(vo.A-10);if(t>=vo.a&&t<=vo.f)return t-(vo.a-10)}function XA(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(W4)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=DP(t.charCodeAt(i)),a=DP(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Pce(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function xi(t){return typeof t=="string"&&(t=Pce(t)),Ks(t),t}function wl(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Ks(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let Nv=class{};function fm(t){const e=r=>t().update(xi(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function kce(t){const e=(r,s)=>t(s).update(xi(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Oh(t=32){if($u&&typeof $u.getRandomValues=="function")return $u.getRandomValues(new Uint8Array(t));if($u&&typeof $u.randomBytes=="function")return Uint8Array.from($u.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Oce=BigInt(0),pf=BigInt(1),Rce=BigInt(2),$ce=BigInt(7),Dce=BigInt(256),jce=BigInt(113),q4=[],H4=[],V4=[];for(let t=0,e=pf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],q4.push(2*(5*r+n)),H4.push((t+1)*(t+2)/2%64);let s=Oce;for(let i=0;i<7;i++)e=(e<<pf^(e>>$ce)*jce)%Dce,e&Rce&&(s^=pf<<(pf<<BigInt(i))-pf);V4.push(s)}const G4=B4(V4,!0),Uce=G4[0],Lce=G4[1],jP=(t,e,n)=>n>32?_ce(t,e,n):bce(t,e,n),UP=(t,e,n)=>n>32?Cce(t,e,n):Ece(t,e,n);function Mce(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=jP(l,u,1)^n[a],h=UP(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=H4[o],c=jP(s,i,a),l=UP(s,i,a),u=q4[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Uce[r],t[1]^=Lce[r]}Ys(n)}let Bce=class K4 extends Nv{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Zo(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=mg(this.state)}clone(){return this._cloneInto()}keccak(){La(this.state32),Mce(this.state32,this.rounds),La(this.state32),this.posOut=0,this.pos=0}update(e){Dc(this),e=xi(e),Ks(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Dc(this,!1),Ks(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Zo(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ZA(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ys(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new K4(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Fce=(t,e,n)=>fm(()=>new Bce(e,t,n)),zce=Fce(1,136,256/8);function Wce(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function qce(t,e,n){return t&e^~t&n}function Hce(t,e,n){return t&e^t&n^e&n}let Y4=class extends Nv{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=V1(this.buffer)}update(e){Dc(this),e=xi(e),Ks(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=V1(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Dc(this),ZA(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Ys(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Wce(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=V1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Ea=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cr=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),lr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Vce=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_a=new Uint32Array(64);let Gce=class extends Y4{constructor(e=32){super(64,e,8,!1),this.A=Ea[0]|0,this.B=Ea[1]|0,this.C=Ea[2]|0,this.D=Ea[3]|0,this.E=Ea[4]|0,this.F=Ea[5]|0,this.G=Ea[6]|0,this.H=Ea[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)_a[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=_a[d-15],f=_a[d-2],p=ji(h,7)^ji(h,18)^h>>>3,g=ji(f,17)^ji(f,19)^f>>>10;_a[d]=g+_a[d-7]+p+_a[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=ji(a,6)^ji(a,11)^ji(a,25),f=u+h+qce(a,c,l)+Vce[d]+_a[d]|0,p=(ji(r,2)^ji(r,13)^ji(r,22))+Hce(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Ys(_a)}destroy(){this.set(0,0,0,0,0,0,0,0),Ys(this.buffer)}};const J4=B4(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Kce=J4[0],Yce=J4[1],Ca=new Uint32Array(80),xa=new Uint32Array(80);let e2=class extends Y4{constructor(e=64){super(128,e,16,!1),this.Ah=lr[0]|0,this.Al=lr[1]|0,this.Bh=lr[2]|0,this.Bl=lr[3]|0,this.Ch=lr[4]|0,this.Cl=lr[5]|0,this.Dh=lr[6]|0,this.Dl=lr[7]|0,this.Eh=lr[8]|0,this.El=lr[9]|0,this.Fh=lr[10]|0,this.Fl=lr[11]|0,this.Gh=lr[12]|0,this.Gl=lr[13]|0,this.Hh=lr[14]|0,this.Hl=lr[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:w}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,w]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=w|0}process(e,n){for(let v=0;v<16;v++,n+=4)Ca[v]=e.getUint32(n),xa[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const _=Ca[v-15]|0,E=xa[v-15]|0,x=ja(_,E,1)^ja(_,E,8)^RP(_,E,7),S=Ua(_,E,1)^Ua(_,E,8)^$P(_,E,7),A=Ca[v-2]|0,C=xa[v-2]|0,P=ja(A,C,19)^jf(A,C,61)^RP(A,C,6),k=Ua(A,C,19)^Uf(A,C,61)^$P(A,C,6),B=xce(S,k,xa[v-7],xa[v-16]),F=Sce(B,x,P,Ca[v-7],Ca[v-16]);Ca[v]=F|0,xa[v]=B|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:w,Hh:y,Hl:b}=this;for(let v=0;v<80;v++){const _=ja(d,h,14)^ja(d,h,18)^jf(d,h,41),E=Ua(d,h,14)^Ua(d,h,18)^Uf(d,h,41),x=d&f^~d&g,S=h&p^~h&w,A=Ace(b,E,S,Yce[v],xa[v]),C=Ice(A,y,_,x,Kce[v],Ca[v]),P=A|0,k=ja(r,s,28)^jf(r,s,34)^jf(r,s,39),B=Ua(r,s,28)^Uf(r,s,34)^Uf(r,s,39),F=r&i^r&a^i&a,H=s&o^s&c^o&c;y=g|0,b=w|0,g=f|0,w=p|0,f=d|0,p=h|0,{h:d,l:h}=li(l|0,u|0,C|0,P|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const N=KA(P,B,H);r=YA(N,C,k,F),s=N|0}({h:r,l:s}=li(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=li(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=li(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=li(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=li(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=li(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:w}=li(this.Gh|0,this.Gl|0,g|0,w|0),{h:y,l:b}=li(this.Hh|0,this.Hl|0,y|0,b|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,w,y,b)}roundClean(){Ys(Ca,xa)}destroy(){Ys(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Jce=class extends e2{constructor(){super(48),this.Ah=cr[0]|0,this.Al=cr[1]|0,this.Bh=cr[2]|0,this.Bl=cr[3]|0,this.Ch=cr[4]|0,this.Cl=cr[5]|0,this.Dh=cr[6]|0,this.Dl=cr[7]|0,this.Eh=cr[8]|0,this.El=cr[9]|0,this.Fh=cr[10]|0,this.Fl=cr[11]|0,this.Gh=cr[12]|0,this.Gl=cr[13]|0,this.Hh=cr[14]|0,this.Hl=cr[15]|0}};const ur=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let Qce=class extends e2{constructor(){super(32),this.Ah=ur[0]|0,this.Al=ur[1]|0,this.Bh=ur[2]|0,this.Bl=ur[3]|0,this.Ch=ur[4]|0,this.Cl=ur[5]|0,this.Dh=ur[6]|0,this.Dl=ur[7]|0,this.Eh=ur[8]|0,this.El=ur[9]|0,this.Fh=ur[10]|0,this.Fl=ur[11]|0,this.Gh=ur[12]|0,this.Gl=ur[13]|0,this.Hh=ur[14]|0,this.Hl=ur[15]|0}};const Pv=fm(()=>new Gce),Zce=fm(()=>new e2),Xce=fm(()=>new Jce),ele=fm(()=>new Qce),tle=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),bn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ve=new Uint32Array(32);function Sa(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=ve[2*t],l=ve[2*t+1],u=ve[2*e],d=ve[2*e+1],h=ve[2*n],f=ve[2*n+1],p=ve[2*r],g=ve[2*r+1],w=KA(c,u,o);l=YA(w,l,d,a),c=w|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:wce(g,p),Dl:vce(g)},{h:f,l:h}=li(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:ja(d,u,24),Bl:Ua(d,u,24)},ve[2*t]=c,ve[2*t+1]=l,ve[2*e]=u,ve[2*e+1]=d,ve[2*n]=h,ve[2*n+1]=f,ve[2*r]=p,ve[2*r+1]=g}function Aa(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=ve[2*t],l=ve[2*t+1],u=ve[2*e],d=ve[2*e+1],h=ve[2*n],f=ve[2*n+1],p=ve[2*r],g=ve[2*r+1],w=KA(c,u,o);l=YA(w,l,d,a),c=w|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:ja(g,p,16),Dl:Ua(g,p,16)},{h:f,l:h}=li(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:jf(d,u,63),Bl:Uf(d,u,63)},ve[2*t]=c,ve[2*t+1]=l,ve[2*e]=u,ve[2*e+1]=d,ve[2*n]=h,ve[2*n+1]=f,ve[2*r]=p,ve[2*r+1]=g}function nle(t,e={},n,r,s){if(Zo(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class rle extends Nv{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Zo(e),Zo(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=mg(this.buffer)}update(e){Dc(this),e=xi(e),Ks(e);const{blockLen:n,buffer:r,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===n&&(La(s),this.compress(s,0,!1),La(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const d=new Uint32Array(a,u,Math.floor((i-c)/4));La(d);for(let h=0;c+n<i;h+=s.length,c+=n)this.length+=n,this.compress(d,h,!1);La(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Dc(this),ZA(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,Ys(this.buffer.subarray(n)),La(r),this.compress(r,0,!0),La(r);const s=mg(e);this.get().forEach((i,o)=>s[o]=Co(i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=i,e.finished=s,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class sle extends rle{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=bn[0]|0,this.v0h=bn[1]|0,this.v1l=bn[2]|0,this.v1h=bn[3]|0,this.v2l=bn[4]|0,this.v2h=bn[5]|0,this.v3l=bn[6]|0,this.v3h=bn[7]|0,this.v4l=bn[8]|0,this.v4h=bn[9]|0,this.v5l=bn[10]|0,this.v5h=bn[11]|0,this.v6l=bn[12]|0,this.v6h=bn[13]|0,this.v7l=bn[14]|0,this.v7h=bn[15]|0,nle(n,e,64,16,16);let{key:r,personalization:s,salt:i}=e,o=0;if(r!==void 0&&(r=xi(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=xi(i);const a=mg(i);this.v4l^=Co(a[0]),this.v4h^=Co(a[1]),this.v5l^=Co(a[2]),this.v5h^=Co(a[3])}if(s!==void 0){s=xi(s);const a=mg(s);this.v6l^=Co(a[0]),this.v6h^=Co(a[1]),this.v7l^=Co(a[2]),this.v7h^=Co(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:p,v7l:g,v7h:w}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,w]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,w){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=p|0,this.v7l=g|0,this.v7h=w|0}compress(e,n,r){this.get().forEach((c,l)=>ve[l]=c),ve.set(bn,16);let{h:s,l:i}=M4(BigInt(this.length));ve[24]=bn[8]^i,ve[25]=bn[9]^s,r&&(ve[28]=~ve[28],ve[29]=~ve[29]);let o=0;const a=tle;for(let c=0;c<12;c++)Sa(0,4,8,12,e,n+2*a[o++]),Aa(0,4,8,12,e,n+2*a[o++]),Sa(1,5,9,13,e,n+2*a[o++]),Aa(1,5,9,13,e,n+2*a[o++]),Sa(2,6,10,14,e,n+2*a[o++]),Aa(2,6,10,14,e,n+2*a[o++]),Sa(3,7,11,15,e,n+2*a[o++]),Aa(3,7,11,15,e,n+2*a[o++]),Sa(0,5,10,15,e,n+2*a[o++]),Aa(0,5,10,15,e,n+2*a[o++]),Sa(1,6,11,12,e,n+2*a[o++]),Aa(1,6,11,12,e,n+2*a[o++]),Sa(2,7,8,13,e,n+2*a[o++]),Aa(2,7,8,13,e,n+2*a[o++]),Sa(3,4,9,14,e,n+2*a[o++]),Aa(3,4,9,14,e,n+2*a[o++]);this.v0l^=ve[0]^ve[16],this.v0h^=ve[1]^ve[17],this.v1l^=ve[2]^ve[18],this.v1h^=ve[3]^ve[19],this.v2l^=ve[4]^ve[20],this.v2h^=ve[5]^ve[21],this.v3l^=ve[6]^ve[22],this.v3h^=ve[7]^ve[23],this.v4l^=ve[8]^ve[24],this.v4h^=ve[9]^ve[25],this.v5l^=ve[10]^ve[26],this.v5h^=ve[11]^ve[27],this.v6l^=ve[12]^ve[28],this.v6h^=ve[13]^ve[29],this.v7l^=ve[14]^ve[30],this.v7h^=ve[15]^ve[31],Ys(ve)}destroy(){this.destroyed=!0,Ys(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ile=kce(t=>new sle(t)),ole="https://rpc.walletconnect.org/v1";function Q4(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(zce(n)).toString("hex")}async function ale(t,e,n,r,s,i){switch(n.t){case"eip191":return await cle(t,e,n.s);case"eip1271":return await lle(t,e,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function cle(t,e,n){return(await Wie({hash:Q4(e),signature:n})).toLowerCase()===t.toLowerCase()}async function lle(t,e,n,r,s,i){const o=Pd(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:Q4(e)).substring(2),h=a+d+c+u+l,f=await fetch(`${i||ole}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:ule(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function ule(){return Date.now()+Math.floor(Math.random()*1e3)}function dle(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return Ph.encode(i)}function hle(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const s=ile(r,{dkLen:32});return Ph.encode(s)}function LP(t){const e=new Uint8Array(Pv(fle(t)));return Ph.encode(e)}function fle(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function MP(t){const e=Buffer.from(t,"base64"),n=Ioe(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=woe(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=ele(i);return Doe.encode(o).replace(/=+$/,"")}function G1(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function ple(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(G1(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(G1(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(G1(r.length)),s.push(r);const i=Buffer.concat(s),o=Pv(i);return Buffer.from(o).toString("hex").toUpperCase()}var gle=Object.defineProperty,mle=Object.defineProperties,yle=Object.getOwnPropertyDescriptors,BP=Object.getOwnPropertySymbols,wle=Object.prototype.hasOwnProperty,vle=Object.prototype.propertyIsEnumerable,FP=(t,e,n)=>e in t?gle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ble=(t,e)=>{for(var n in e||(e={}))wle.call(e,n)&&FP(t,n,e[n]);if(BP)for(var n of BP(e))vle.call(e,n)&&FP(t,n,e[n]);return t},Ele=(t,e)=>mle(t,yle(e));const _le="did:pkh:",t2=t=>t==null?void 0:t.split(":"),Cle=t=>{const e=t&&t2(t);if(e)return t.includes(_le)?e[3]:e[1]},KC=t=>{const e=t&&t2(t);if(e)return e[2]+":"+e[3]},uw=t=>{const e=t&&t2(t);if(e)return e.pop()};async function zP(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,i=Z4(s,s.iss),o=uw(s.iss);return await ale(o,i,r,KC(s.iss),n)}const Z4=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=uw(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Cle(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=a0(t.resources);if(p){const g=wg(p);s=Ole(s,g)}return[n,r,"",s,"",i,o,a,c,l,u,d,h,f].filter(g=>g!=null).join(`
`)};function xle(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Sle(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function nu(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function Ale(t,e,n,r={}){return n==null||n.sort((s,i)=>s.localeCompare(i)),{att:{[t]:Ile(e,n,r)}}}function Ile(t,e,n={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function X4(t){return nu(t),`urn:recap:${xle(t).replace(/=/g,"")}`}function wg(t){const e=Sle(t.replace("urn:recap:",""));return nu(e),e}function Tle(t,e,n){const r=Ale(t,e,n);return X4(r)}function Nle(t){return t&&t.includes("urn:recap:")}function Ple(t,e){const n=wg(t),r=wg(e),s=kle(n,r);return X4(s)}function kle(t,e){nu(t),nu(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=Ele(ble({},r.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),r}function Ole(t="",e){nu(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${t?t+" ":""}${o}`}function WP(t){var e;const n=wg(t);nu(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function qP(t){const e=wg(t);nu(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function a0(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return Nle(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function ej(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function YC(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function K1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Yr(t,...e){if(!ej(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function HP(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Rle(t,e){Yr(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Cc(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ah(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function $le(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Dle=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function jle(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function JC(t){if(typeof t=="string")t=jle(t);else if(ej(t))t=QC(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Ule(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Lle(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Mle=(t,e)=>{function n(r,...s){if(Yr(r),!Dle)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Yr(l):Yr(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&Yr(s[1]);const o=e(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Yr(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Yr(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Yr(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function VP(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Fle(e))throw new Error("invalid output, must be aligned");return e}function GP(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function Ble(t,e,n){YC(n);const r=new Uint8Array(16),s=$le(r);return GP(s,0,BigInt(e),n),GP(s,8,BigInt(t),n),r}function Fle(t){return t.byteOffset%4===0}function QC(t){return Uint8Array.from(t)}const tj=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),zle=tj("expand 16-byte k"),Wle=tj("expand 32-byte k"),qle=Cc(zle),Hle=Cc(Wle);function dt(t,e){return t<<e|t>>>32-e}function ZC(t){return t.byteOffset%4===0}const yy=64,Vle=16,nj=2**32-1,KP=new Uint32Array;function Gle(t,e,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(yy),u=Cc(l),d=ZC(s)&&ZC(i),h=d?Cc(s):KP,f=d?Cc(i):KP;for(let p=0;p<c;o++){if(t(e,n,r,u,o,a),o>=nj)throw new Error("arx: counter overflow");const g=Math.min(yy,c-p);if(d&&g===yy){const w=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let y=0,b;y<Vle;y++)b=w+y,f[b]=h[b]^u[y];p+=yy;continue}for(let w=0,y;w<g;w++)y=p+w,i[y]=s[y]^l[w];p+=g}}function Kle(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=Ule({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return K1(s),K1(o),YC(i),YC(n),(a,c,l,u,d=0)=>{Yr(a),Yr(c),Yr(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),Yr(u),K1(d),d<0||d>=nj)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,g,w;if(p===32)f.push(g=QC(a)),w=Hle;else if(p===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),w=qle,f.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);ZC(c)||f.push(c=QC(c));const y=Cc(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(w,y,Cc(c.subarray(0,16)),y),c=c.subarray(16)}const b=16-s;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const _=new Uint8Array(12);_.set(c,i?0:12-c.length),c=_,f.push(c)}const v=Cc(c);return Gle(t,w,y,v,l,u,d,o),ah(...f),u}}const zn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Yle{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=JC(e),Yr(e,32);const n=zn(e,0),r=zn(e,2),s=zn(e,4),i=zn(e,6),o=zn(e,8),a=zn(e,10),c=zn(e,12),l=zn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=zn(e,16+2*u)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],g=o[8],w=o[9],y=zn(e,n+0),b=zn(e,n+2),v=zn(e,n+4),_=zn(e,n+6),E=zn(e,n+8),x=zn(e,n+10),S=zn(e,n+12),A=zn(e,n+14);let C=i[0]+(y&8191),P=i[1]+((y>>>13|b<<3)&8191),k=i[2]+((b>>>10|v<<6)&8191),B=i[3]+((v>>>7|_<<9)&8191),F=i[4]+((_>>>4|E<<12)&8191),H=i[5]+(E>>>1&8191),N=i[6]+((E>>>14|x<<2)&8191),T=i[7]+((x>>>11|S<<5)&8191),L=i[8]+((S>>>8|A<<8)&8191),D=i[9]+(A>>>5|s),$=0,U=$+C*a+P*(5*w)+k*(5*g)+B*(5*p)+F*(5*f);$=U>>>13,U&=8191,U+=H*(5*h)+N*(5*d)+T*(5*u)+L*(5*l)+D*(5*c),$+=U>>>13,U&=8191;let W=$+C*c+P*a+k*(5*w)+B*(5*g)+F*(5*p);$=W>>>13,W&=8191,W+=H*(5*f)+N*(5*h)+T*(5*d)+L*(5*u)+D*(5*l),$+=W>>>13,W&=8191;let Y=$+C*l+P*c+k*a+B*(5*w)+F*(5*g);$=Y>>>13,Y&=8191,Y+=H*(5*p)+N*(5*f)+T*(5*h)+L*(5*d)+D*(5*u),$+=Y>>>13,Y&=8191;let te=$+C*u+P*l+k*c+B*a+F*(5*w);$=te>>>13,te&=8191,te+=H*(5*g)+N*(5*p)+T*(5*f)+L*(5*h)+D*(5*d),$+=te>>>13,te&=8191;let ee=$+C*d+P*u+k*l+B*c+F*a;$=ee>>>13,ee&=8191,ee+=H*(5*w)+N*(5*g)+T*(5*p)+L*(5*f)+D*(5*h),$+=ee>>>13,ee&=8191;let ne=$+C*h+P*d+k*u+B*l+F*c;$=ne>>>13,ne&=8191,ne+=H*a+N*(5*w)+T*(5*g)+L*(5*p)+D*(5*f),$+=ne>>>13,ne&=8191;let me=$+C*f+P*h+k*d+B*u+F*l;$=me>>>13,me&=8191,me+=H*c+N*a+T*(5*w)+L*(5*g)+D*(5*p),$+=me>>>13,me&=8191;let G=$+C*p+P*f+k*h+B*d+F*u;$=G>>>13,G&=8191,G+=H*l+N*c+T*a+L*(5*w)+D*(5*g),$+=G>>>13,G&=8191;let Q=$+C*g+P*p+k*f+B*h+F*d;$=Q>>>13,Q&=8191,Q+=H*u+N*l+T*c+L*a+D*(5*w),$+=Q>>>13,Q&=8191;let se=$+C*w+P*g+k*p+B*f+F*h;$=se>>>13,se&=8191,se+=H*d+N*u+T*l+L*c+D*a,$+=se>>>13,se&=8191,$=($<<2)+$|0,$=$+U|0,U=$&8191,$=$>>>13,W+=$,i[0]=U,i[1]=W,i[2]=Y,i[3]=te,i[4]=ee,i[5]=ne,i[6]=me,i[7]=G,i[8]=Q,i[9]=se}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;ah(r)}update(e){HP(this),e=JC(e),Yr(e);const{buffer:n,blockLen:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){ah(this.h,this.r,this.buffer,this.pad)}digestInto(e){HP(this),Rle(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function Jle(t){const e=(r,s)=>t(s).update(JC(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Qle=Jle(t=>new Yle(t));function Zle(t,e,n,r,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],g=e[5],w=e[6],y=e[7],b=s,v=n[0],_=n[1],E=n[2],x=o,S=a,A=c,C=l,P=u,k=d,B=h,F=f,H=p,N=g,T=w,L=y,D=b,$=v,U=_,W=E;for(let te=0;te<i;te+=2)x=x+P|0,D=dt(D^x,16),H=H+D|0,P=dt(P^H,12),x=x+P|0,D=dt(D^x,8),H=H+D|0,P=dt(P^H,7),S=S+k|0,$=dt($^S,16),N=N+$|0,k=dt(k^N,12),S=S+k|0,$=dt($^S,8),N=N+$|0,k=dt(k^N,7),A=A+B|0,U=dt(U^A,16),T=T+U|0,B=dt(B^T,12),A=A+B|0,U=dt(U^A,8),T=T+U|0,B=dt(B^T,7),C=C+F|0,W=dt(W^C,16),L=L+W|0,F=dt(F^L,12),C=C+F|0,W=dt(W^C,8),L=L+W|0,F=dt(F^L,7),x=x+k|0,W=dt(W^x,16),T=T+W|0,k=dt(k^T,12),x=x+k|0,W=dt(W^x,8),T=T+W|0,k=dt(k^T,7),S=S+B|0,D=dt(D^S,16),L=L+D|0,B=dt(B^L,12),S=S+B|0,D=dt(D^S,8),L=L+D|0,B=dt(B^L,7),A=A+F|0,$=dt($^A,16),H=H+$|0,F=dt(F^H,12),A=A+F|0,$=dt($^A,8),H=H+$|0,F=dt(F^H,7),C=C+P|0,U=dt(U^C,16),N=N+U|0,P=dt(P^N,12),C=C+P|0,U=dt(U^C,8),N=N+U|0,P=dt(P^N,7);let Y=0;r[Y++]=o+x|0,r[Y++]=a+S|0,r[Y++]=c+A|0,r[Y++]=l+C|0,r[Y++]=u+P|0,r[Y++]=d+k|0,r[Y++]=h+B|0,r[Y++]=f+F|0,r[Y++]=p+H|0,r[Y++]=g+N|0,r[Y++]=w+T|0,r[Y++]=y+L|0,r[Y++]=b+D|0,r[Y++]=v+$|0,r[Y++]=_+U|0,r[Y++]=E+W|0}const Xle=Kle(Zle,{counterRight:!1,counterLength:4,allowShortKeys:!1}),eue=new Uint8Array(16),YP=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(eue.subarray(n))},tue=new Uint8Array(32);function JP(t,e,n,r,s){const i=t(e,n,tue),o=Qle.create(i);s&&YP(o,s),YP(o,r);const a=Ble(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return ah(i,a),c}const nue=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=VP(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const c=JP(t,e,n,a,r);return i.set(c,o),ah(c),i},decrypt(s,i){i=VP(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=JP(t,e,n,o,r);if(!Lle(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),ah(c),i}}),rj=Mle({blockSize:64,nonceLength:12,tagLength:16},nue(Xle));let sj=class extends Nv{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,QA(e);const r=xi(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Ys(i)}update(e){return Dc(this),this.iHash.update(e),this}digestInto(e){Dc(this),Ks(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const kv=(t,e,n)=>new sj(t,e).update(n).digest();kv.create=(t,e)=>new sj(t,e);function rue(t,e,n){return QA(t),n===void 0&&(n=new Uint8Array(t.outputLen)),kv(t,xi(n),xi(e))}const Y1=Uint8Array.from([0]),QP=Uint8Array.of();function sue(t,e,n,r=32){QA(t),Zo(r);const s=t.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=QP);const o=new Uint8Array(i*s),a=kv.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)Y1[0]=u+1,c.update(u===0?QP:l).update(n).update(Y1).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),Ys(l,Y1),o.slice(0,r)}const iue=(t,e,n,r,s)=>sue(t,rue(t,e,n),r,s),Ov=Pv,n2=BigInt(0),XC=BigInt(1);function dw(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function wy(t){const e=t.toString(16);return e.length&1?"0"+e:e}function ij(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?n2:BigInt("0x"+t)}function Rv(t){return ij(yg(t))}function hw(t){return Ks(t),ij(yg(Uint8Array.from(t).reverse()))}function r2(t,e){return XA(t.toString(16).padStart(e*2,"0"))}function s2(t,e){return r2(t,e).reverse()}function Kr(t,e,n){let r;if(typeof e=="string")try{r=XA(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(JA(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const J1=t=>typeof t=="bigint"&&n2<=t;function oue(t,e,n){return J1(t)&&J1(e)&&J1(n)&&e<=t&&t<n}function ex(t,e,n,r){if(!oue(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function aue(t){let e;for(e=0;t>n2;t>>=XC,e+=1);return e}const $v=t=>(XC<<BigInt(t))-XC;function cue(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let i=r(t),o=r(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...h)=>n(o,i,...h),u=(h=r(0))=>{o=l(s(0),h),i=l(),h.length!==0&&(o=l(s(1),h),i=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){i=l();const p=i.slice();f.push(p),h+=i.length}return wl(...f)};return(h,f)=>{c(),u(h);let p;for(;!(p=f(d()));)u();return c(),p}}function Dv(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function ZP(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Xr=BigInt(0),Ar=BigInt(1),vl=BigInt(2),lue=BigInt(3),oj=BigInt(4),aj=BigInt(5),cj=BigInt(8);function Bs(t,e){const n=t%e;return n>=Xr?n:e+n}function oi(t,e,n){let r=t;for(;e-- >Xr;)r*=r,r%=n;return r}function XP(t,e){if(t===Xr)throw new Error("invert: expected non-zero number");if(e<=Xr)throw new Error("invert: expected positive modulus, got "+e);let n=Bs(t,e),r=e,s=Xr,i=Ar;for(;n!==Xr;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==Ar)throw new Error("invert: does not exist");return Bs(s,e)}function lj(t,e){const n=(t.ORDER+Ar)/oj,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function uue(t,e){const n=(t.ORDER-aj)/cj,r=t.mul(e,vl),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,vl),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function due(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Ar,n=0;for(;e%vl===Xr;)e/=vl,n++;let r=vl;const s=Rh(t);for(;ek(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return lj;let i=s.pow(r,e);const o=(e+Ar)/vl;return function(a,c){if(a.is0(c))return c;if(ek(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),d=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(f++,p=a.sqr(p),f===l)throw new Error("Cannot find square root");const g=Ar<<BigInt(l-f-1),w=a.pow(u,g);l=f,u=a.sqr(w),d=a.mul(d,u),h=a.mul(h,w)}return h}}function hue(t){return t%oj===lue?lj:t%cj===aj?uue:due(t)}const fue=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pue(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=fue.reduce((r,s)=>(r[s]="function",r),e);return Dv(t,n),t}function gue(t,e,n){if(n<Xr)throw new Error("invalid exponent, negatives unsupported");if(n===Xr)return t.ONE;if(n===Ar)return e;let r=t.ONE,s=e;for(;n>Xr;)n&Ar&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Ar;return r}function uj(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function ek(t,e){const n=(t.ORDER-Ar)/vl,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function mue(t,e){e!==void 0&&Zo(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Rh(t,e,n=!1,r={}){if(t<=Xr)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(s=u.BITS),u.sqrt&&(i=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:a}=mue(t,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:$v(o),ZERO:Xr,ONE:Ar,create:u=>Bs(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Xr<=u&&u<t},is0:u=>u===Xr,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&Ar)===Ar,neg:u=>Bs(-u,t),eql:(u,d)=>u===d,sqr:u=>Bs(u*u,t),add:(u,d)=>Bs(u+d,t),sub:(u,d)=>Bs(u-d,t),mul:(u,d)=>Bs(u*d,t),pow:(u,d)=>gue(l,u,d),div:(u,d)=>Bs(u*XP(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>XP(u,t),sqrt:i||(u=>(c||(c=hue(t)),c(l,u))),toBytes:u=>n?s2(u,a):r2(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?hw(u):Rv(u)},invertBatch:u=>uj(l,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(l)}function dj(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function hj(t){const e=dj(t);return e+Math.ceil(e/2)}function yue(t,e,n=!1){const r=t.length,s=dj(e),i=hj(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?hw(t):Rv(t),a=Bs(o,e-Ar)+Ar;return n?s2(a,s):r2(a,s)}const ch=BigInt(0),bl=BigInt(1);function sp(t,e){const n=e.negate();return t?n:e}function wue(t,e,n){const r=i=>i.pz,s=uj(t.Fp,n.map(r));return n.map((i,o)=>i.toAffine(s[o])).map(t.fromAffine)}function fj(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Q1(t,e){fj(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=$v(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function tk(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=bl);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function vue(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function bue(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Z1=new WeakMap,pj=new WeakMap;function X1(t){return pj.get(t)||1}function nk(t){if(t!==ch)throw new Error("invalid wNAF")}function Eue(t,e){return{constTimeNegate:sp,hasPrecomputes(n){return X1(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>ch;)r&bl&&(s=s.add(i)),i=i.double(),r>>=bl;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Q1(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=Q1(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=tk(s,c,a);s=l,d?o=o.add(sp(f,r[p])):i=i.add(sp(h,r[u]))}return nk(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=Q1(n,e);for(let a=0;a<o.windows&&s!==ch;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=tk(s,a,o);if(s=c,!u){const h=r[l];i=i.add(d?h.negate():h)}}return nk(s),i},getPrecomputes(n,r,s){let i=Z1.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),Z1.set(r,i))),i},wNAFCached(n,r,s){const i=X1(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=X1(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){fj(r,e),pj.set(n,r),Z1.delete(n)}}}function _ue(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>ch||r>ch;)n&bl&&(i=i.add(s)),r&bl&&(o=o.add(s)),s=s.double(),n>>=bl,r>>=bl;return{p1:i,p2:o}}function Cue(t,e,n,r){vue(n,t),bue(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=aue(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=$v(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let g=0;g<i;g++){const w=r[g],y=Number(w>>BigInt(f)&l);u[y]=u[y].add(n[g])}let p=o;for(let g=u.length-1,w=o;g>0;g--)w=w.add(u[g]),p=p.add(w);if(h=h.add(p),f!==0)for(let g=0;g<c;g++)h=h.double()}return h}function rk(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return pue(e),e}else return Rh(t)}function xue(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>ch))throw new Error(`CURVE.${o} must be positive bigint`)}const r=rk(e.p,n.Fp),s=rk(e.n,n.Fn),i=["Gx","Gy","a","b"];for(const o of i)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const gf=BigInt(0),Du=BigInt(1),vy=BigInt(2);function Sue(t){return Dv(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function Aue(t){const e=Sue(t),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||Oh,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),f=a?vy**BigInt(254):vy**BigInt(447),p=a?BigInt(8)*vy**BigInt(251)-Du:BigInt(4)*vy**BigInt(445)-Du,g=f+p+Du,w=C=>Bs(C,n),y=b(d);function b(C){return s2(w(C),u)}function v(C){const P=Kr("u coordinate",C,u);return a&&(P[31]&=127),w(hw(P))}function _(C){return hw(s(Kr("scalar",C,u)))}function E(C,P){const k=A(v(P),_(C));if(k===gf)throw new Error("invalid private or public key received");return b(k)}function x(C){return E(C,y)}function S(C,P,k){const B=w(C*(P-k));return P=w(P-B),k=w(k+B),{x_2:P,x_3:k}}function A(C,P){ex("u",C,gf,n),ex("scalar",P,f,g);const k=P,B=C;let F=Du,H=gf,N=C,T=Du,L=gf;for(let $=BigInt(l-1);$>=gf;$--){const U=k>>$&Du;L^=U,{x_2:F,x_3:N}=S(L,F,N),{x_2:H,x_3:T}=S(L,H,T),L=U;const W=F+H,Y=w(W*W),te=F-H,ee=w(te*te),ne=Y-ee,me=N+T,G=N-T,Q=w(G*W),se=w(me*te),X=Q+se,le=Q-se;N=w(X*X),T=w(B*w(le*le)),F=w(Y*ee),H=w(ne*(Y+w(h*ne)))}({x_2:F,x_3:N}=S(L,F,N)),{x_2:H,x_3:T}=S(L,H,T);const D=i(H);return w(F*D)}return{scalarMult:E,scalarMultBase:x,getSharedSecret:(C,P)=>E(C,P),getPublicKey:C=>x(C),utils:{randomPrivateKey:()=>c(u)},GuBytes:y.slice()}}BigInt(0);const Iue=BigInt(1),sk=BigInt(2),Tue=BigInt(3),Nue=BigInt(5);BigInt(8);const gj={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Pue(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=gj.p,o=t*t%i*t%i,a=oi(o,sk,i)*o%i,c=oi(a,Iue,i)*t%i,l=oi(c,Nue,i)*c%i,u=oi(l,e,i)*l%i,d=oi(u,n,i)*u%i,h=oi(d,r,i)*d%i,f=oi(h,s,i)*h%i,p=oi(f,s,i)*h%i,g=oi(p,e,i)*l%i;return{pow_p_5_8:oi(g,sk,i)*t%i,b2:o}}function kue(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const tx=(()=>{const t=gj.p;return Aue({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=Pue(e);return Bs(oi(n,Tue,t)*r,t)},adjustScalarBytes:kue})})();function ik(t){t.lowS!==void 0&&dw("lowS",t.lowS),t.prehash!==void 0&&dw("prehash",t.prehash)}class Oue extends Error{constructor(e=""){super(e)}}const Po={Err:Oue,_tlv:{encode:(t,e)=>{const{Err:n}=Po;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=wy(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?wy(s.length/2|128):"";return wy(t)+i+s+e},decode(t,e){const{Err:n}=Po;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Po;if(t<ip)throw new e("integer: negative integers are not allowed");let n=wy(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Po;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Rv(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Po,s=Kr("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Po,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},ip=BigInt(0),op=BigInt(1),Rue=BigInt(2),by=BigInt(3),$ue=BigInt(4);function Due(t,e,n){function r(s){const i=t.sqr(s),o=t.mul(i,s);return t.add(t.add(o,t.mul(s,e)),n)}return r}function mj(t,e,n){const{BYTES:r}=t;function s(i){let o;if(typeof i=="bigint")o=i;else{let a=Kr("private key",i);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function jue(t,e={}){const{Fp:n,Fn:r}=xue("weierstrass",t,e),{h:s,n:i}=t;Dv(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(A,C,P){const{x:k,y:B}=C.toAffine(),F=n.toBytes(k);if(dw("isCompressed",P),P){a();const H=!n.isOdd(B);return wl(yj(H),F)}else return wl(Uint8Array.of(4),F,n.toBytes(B))}function l(A){Ks(A);const C=n.BYTES,P=C+1,k=2*C+1,B=A.length,F=A[0],H=A.subarray(1);if(B===P&&(F===2||F===3)){const N=n.fromBytes(H);if(!n.isValid(N))throw new Error("bad point: is not on curve, wrong x");const T=h(N);let L;try{L=n.sqrt(T)}catch($){const U=$ instanceof Error?": "+$.message:"";throw new Error("bad point: is not on curve, sqrt error"+U)}a();const D=n.isOdd(L);return(F&1)===1!==D&&(L=n.neg(L)),{x:N,y:L}}else if(B===k&&F===4){const N=n.fromBytes(H.subarray(C*0,C*1)),T=n.fromBytes(H.subarray(C*1,C*2));if(!f(N,T))throw new Error("bad point: is not on curve");return{x:N,y:T}}else throw new Error(`bad point: got length ${B}, expected compressed=${P} or uncompressed=${k}`)}const u=e.toBytes||c,d=e.fromBytes||l,h=Due(n,t.a,t.b);function f(A,C){const P=n.sqr(C),k=h(A);return n.eql(P,k)}if(!f(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(t.a,by),$ue),g=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(p,g)))throw new Error("bad curve params: a or b");function w(A,C,P=!1){if(!n.isValid(C)||P&&n.is0(C))throw new Error(`bad point coordinate ${A}`);return C}function y(A){if(!(A instanceof E))throw new Error("ProjectivePoint expected")}const b=ZP((A,C)=>{const{px:P,py:k,pz:B}=A;if(n.eql(B,n.ONE))return{x:P,y:k};const F=A.is0();C==null&&(C=F?n.ONE:n.inv(B));const H=n.mul(P,C),N=n.mul(k,C),T=n.mul(B,C);if(F)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:H,y:N}}),v=ZP(A=>{if(A.is0()){if(e.allowInfinityPoint&&!n.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:C,y:P}=A.toAffine();if(!n.isValid(C)||!n.isValid(P))throw new Error("bad point: x or y not field elements");if(!f(C,P))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function _(A,C,P,k,B){return P=new E(n.mul(P.px,A),P.py,P.pz),C=sp(k,C),P=sp(B,P),C.add(P)}class E{constructor(C,P,k){this.px=w("x",C),this.py=w("y",P,!0),this.pz=w("z",k),Object.freeze(this)}static fromAffine(C){const{x:P,y:k}=C||{};if(!C||!n.isValid(P)||!n.isValid(k))throw new Error("invalid affine point");if(C instanceof E)throw new Error("projective point not allowed");return n.is0(P)&&n.is0(k)?E.ZERO:new E(P,k,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){return wue(E,"pz",C)}static fromBytes(C){return Ks(C),E.fromHex(C)}static fromHex(C){const P=E.fromAffine(d(Kr("pointHex",C)));return P.assertValidity(),P}static fromPrivateKey(C){const P=mj(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return E.BASE.multiply(P(C))}static msm(C,P){return Cue(E,r,C,P)}precompute(C=8,P=!0){return S.setWindowSize(this,C),P||this.multiply(by),this}_setWindowSize(C){this.precompute(C)}assertValidity(){v(this)}hasEvenY(){const{y:C}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(C)}equals(C){y(C);const{px:P,py:k,pz:B}=this,{px:F,py:H,pz:N}=C,T=n.eql(n.mul(P,N),n.mul(F,B)),L=n.eql(n.mul(k,N),n.mul(H,B));return T&&L}negate(){return new E(this.px,n.neg(this.py),this.pz)}double(){const{a:C,b:P}=t,k=n.mul(P,by),{px:B,py:F,pz:H}=this;let N=n.ZERO,T=n.ZERO,L=n.ZERO,D=n.mul(B,B),$=n.mul(F,F),U=n.mul(H,H),W=n.mul(B,F);return W=n.add(W,W),L=n.mul(B,H),L=n.add(L,L),N=n.mul(C,L),T=n.mul(k,U),T=n.add(N,T),N=n.sub($,T),T=n.add($,T),T=n.mul(N,T),N=n.mul(W,N),L=n.mul(k,L),U=n.mul(C,U),W=n.sub(D,U),W=n.mul(C,W),W=n.add(W,L),L=n.add(D,D),D=n.add(L,D),D=n.add(D,U),D=n.mul(D,W),T=n.add(T,D),U=n.mul(F,H),U=n.add(U,U),D=n.mul(U,W),N=n.sub(N,D),L=n.mul(U,$),L=n.add(L,L),L=n.add(L,L),new E(N,T,L)}add(C){y(C);const{px:P,py:k,pz:B}=this,{px:F,py:H,pz:N}=C;let T=n.ZERO,L=n.ZERO,D=n.ZERO;const $=t.a,U=n.mul(t.b,by);let W=n.mul(P,F),Y=n.mul(k,H),te=n.mul(B,N),ee=n.add(P,k),ne=n.add(F,H);ee=n.mul(ee,ne),ne=n.add(W,Y),ee=n.sub(ee,ne),ne=n.add(P,B);let me=n.add(F,N);return ne=n.mul(ne,me),me=n.add(W,te),ne=n.sub(ne,me),me=n.add(k,B),T=n.add(H,N),me=n.mul(me,T),T=n.add(Y,te),me=n.sub(me,T),D=n.mul($,ne),T=n.mul(U,te),D=n.add(T,D),T=n.sub(Y,D),D=n.add(Y,D),L=n.mul(T,D),Y=n.add(W,W),Y=n.add(Y,W),te=n.mul($,te),ne=n.mul(U,ne),Y=n.add(Y,te),te=n.sub(W,te),te=n.mul($,te),ne=n.add(ne,te),W=n.mul(Y,ne),L=n.add(L,W),W=n.mul(me,ne),T=n.mul(ee,T),T=n.sub(T,W),W=n.mul(ee,Y),D=n.mul(me,D),D=n.add(D,W),new E(T,L,D)}subtract(C){return this.add(C.negate())}is0(){return this.equals(E.ZERO)}multiply(C){const{endo:P}=e;if(!r.isValidNot0(C))throw new Error("invalid scalar: out of range");let k,B;const F=H=>S.wNAFCached(this,H,E.normalizeZ);if(P){const{k1neg:H,k1:N,k2neg:T,k2:L}=P.splitScalar(C),{p:D,f:$}=F(N),{p:U,f:W}=F(L);B=$.add(W),k=_(P.beta,D,U,H,T)}else{const{p:H,f:N}=F(C);k=H,B=N}return E.normalizeZ([k,B])[0]}multiplyUnsafe(C){const{endo:P}=e,k=this;if(!r.isValid(C))throw new Error("invalid scalar: out of range");if(C===ip||k.is0())return E.ZERO;if(C===op)return k;if(S.hasPrecomputes(this))return this.multiply(C);if(P){const{k1neg:B,k1:F,k2neg:H,k2:N}=P.splitScalar(C),{p1:T,p2:L}=_ue(E,k,F,N);return _(P.beta,T,L,B,H)}else return S.wNAFCachedUnsafe(k,C)}multiplyAndAddUnsafe(C,P,k){const B=this.multiplyUnsafe(P).add(C.multiplyUnsafe(k));return B.is0()?void 0:B}toAffine(C){return b(this,C)}isTorsionFree(){const{isTorsionFree:C}=e;return s===op?!0:C?C(E,this):S.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:C}=e;return s===op?this:C?C(E,this):this.multiplyUnsafe(s)}toBytes(C=!0){return dw("isCompressed",C),this.assertValidity(),u(E,this,C)}toRawBytes(C=!0){return this.toBytes(C)}toHex(C=!0){return yg(this.toBytes(C))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}E.BASE=new E(t.Gx,t.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO),E.Fp=n,E.Fn=r;const x=r.BITS,S=Eue(E,e.endo?Math.ceil(x/2):x);return E}function yj(t){return Uint8Array.of(t?2:3)}function Uue(t,e,n={}){Dv(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||Oh,s=e.hmac||((k,...B)=>kv(e.hash,k,wl(...B))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(k){const B=a>>op;return k>B}function u(k){return l(k)?o.neg(k):k}function d(k,B){if(!o.isValidNot0(B))throw new Error(`invalid signature ${k}: out of range 1..CURVE.n`)}class h{constructor(B,F,H){d("r",B),d("s",F),this.r=B,this.s=F,H!=null&&(this.recovery=H),Object.freeze(this)}static fromCompact(B){const F=o.BYTES,H=Kr("compactSignature",B,F*2);return new h(o.fromBytes(H.subarray(0,F)),o.fromBytes(H.subarray(F,F*2)))}static fromDER(B){const{r:F,s:H}=Po.toSig(Kr("DER",B));return new h(F,H)}assertValidity(){}addRecoveryBit(B){return new h(this.r,this.s,B)}recoverPublicKey(B){const F=i.ORDER,{r:H,s:N,recovery:T}=this;if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");if(a*Rue<F&&T>1)throw new Error("recovery id is ambiguous for h>1 curve");const L=T===2||T===3?H+a:H;if(!i.isValid(L))throw new Error("recovery id 2 or 3 invalid");const D=i.toBytes(L),$=t.fromHex(wl(yj((T&1)===0),D)),U=o.inv(L),W=v(Kr("msgHash",B)),Y=o.create(-W*U),te=o.create(N*U),ee=t.BASE.multiplyUnsafe(Y).add($.multiplyUnsafe(te));if(ee.is0())throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes(B){if(B==="compact")return wl(o.toBytes(this.r),o.toBytes(this.s));if(B==="der")return XA(Po.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return yg(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return yg(this.toBytes("compact"))}}const f=mj(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(k){try{return f(k),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const k=a;return yue(r(hj(k)),k)},precompute(k=8,B=t.BASE){return B.precompute(k,!1)}};function g(k,B=!0){return t.fromPrivateKey(k).toBytes(B)}function w(k){if(typeof k=="bigint")return!1;if(k instanceof t)return!0;const B=Kr("key",k).length,F=i.BYTES,H=F+1,N=2*F+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===H))return B===H||B===N}function y(k,B,F=!0){if(w(k)===!0)throw new Error("first arg must be private key");if(w(B)===!1)throw new Error("second arg must be public key");return t.fromHex(B).multiply(f(k)).toBytes(F)}const b=e.bits2int||function(k){if(k.length>8192)throw new Error("input is too large");const B=Rv(k),F=k.length*8-c;return F>0?B>>BigInt(F):B},v=e.bits2int_modN||function(k){return o.create(b(k))},_=$v(c);function E(k){return ex("num < 2^"+c,k,ip,_),o.toBytes(k)}function x(k,B,F=S){if(["recovered","canonical"].some(ee=>ee in F))throw new Error("sign() legacy options not supported");const{hash:H}=e;let{lowS:N,prehash:T,extraEntropy:L}=F;N==null&&(N=!0),k=Kr("msgHash",k),ik(F),T&&(k=Kr("prehashed msgHash",H(k)));const D=v(k),$=f(B),U=[E($),E(D)];if(L!=null&&L!==!1){const ee=L===!0?r(i.BYTES):L;U.push(Kr("extraEntropy",ee))}const W=wl(...U),Y=D;function te(ee){const ne=b(ee);if(!o.isValidNot0(ne))return;const me=o.inv(ne),G=t.BASE.multiply(ne).toAffine(),Q=o.create(G.x);if(Q===ip)return;const se=o.create(me*o.create(Y+Q*$));if(se===ip)return;let X=(G.x===Q?0:2)|Number(G.y&op),le=se;return N&&l(se)&&(le=u(se),X^=1),new h(Q,le,X)}return{seed:W,k2sig:te}}const S={lowS:e.lowS,prehash:!1},A={lowS:e.lowS,prehash:!1};function C(k,B,F=S){const{seed:H,k2sig:N}=x(k,B,F);return cue(e.hash.outputLen,o.BYTES,s)(H,N)}t.BASE.precompute(8);function P(k,B,F,H=A){const N=k;B=Kr("msgHash",B),F=Kr("publicKey",F),ik(H);const{lowS:T,prehash:L,format:D}=H;if("strict"in H)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&!["compact","der","js"].includes(D))throw new Error('format must be "compact", "der" or "js"');const $=typeof N=="string"||JA(N),U=!$&&!D&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!$&&!U)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,Y;try{if(U)if(D===void 0||D==="js")W=new h(N.r,N.s);else throw new Error("invalid format");if($){try{D!=="compact"&&(W=h.fromDER(N))}catch(X){if(!(X instanceof Po.Err))throw X}!W&&D!=="der"&&(W=h.fromCompact(N))}Y=t.fromHex(F)}catch{return!1}if(!W||T&&W.hasHighS())return!1;L&&(B=e.hash(B));const{r:te,s:ee}=W,ne=v(B),me=o.inv(ee),G=o.create(ne*me),Q=o.create(te*me),se=t.BASE.multiplyUnsafe(G).add(Y.multiplyUnsafe(Q));return se.is0()?!1:o.create(se.x)===te}return Object.freeze({getPublicKey:g,getSharedSecret:y,sign:C,verify:P,utils:p,Point:t,Signature:h})}function Lue(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Rh(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function Mue(t){const{CURVE:e,curveOpts:n}=Lue(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function Bue(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Fue(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=Mue(t),s=jue(e,n),i=Uue(s,r,n);return Bue(t,i)}function nx(t,e){const n=r=>Fue({...t,hash:r});return{...n(e),create:n}}const wj={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},vj={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},bj={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},zue=Rh(wj.p),Wue=Rh(vj.p),que=Rh(bj.p),Hue=nx({...wj,Fp:zue,lowS:!1},Pv);nx({...vj,Fp:Wue,lowS:!1},Xce),nx({...bj,Fp:que,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Zce);const Vue=Hue,Ej="base10",Ir="base16",bi="base64pad",za="base64url",pm="utf8",_j=0,Bo=1,gm=2,Gue=0,ok=1,ap=12,i2=32;function Kue(){const t=tx.utils.randomPrivateKey(),e=tx.getPublicKey(t);return{privateKey:ss(t,Ir),publicKey:ss(e,Ir)}}function rx(){const t=Oh(i2);return ss(t,Ir)}function Yue(t,e){const n=tx.getSharedSecret(qs(t,Ir),qs(e,Ir)),r=iue(Ov,n,void 0,void 0,i2);return ss(r,Ir)}function c0(t){const e=Ov(qs(t,Ir));return ss(e,Ir)}function Ki(t){const e=Ov(qs(t,pm));return ss(e,Ir)}function Cj(t){return qs(`${t}`,Ej)}function ru(t){return Number(ss(t,Ej))}function xj(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Sj(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function Jue(t){const e=Cj(typeof t.type<"u"?t.type:_j);if(ru(e)===Bo&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?qs(t.senderPublicKey,Ir):void 0,r=typeof t.iv<"u"?qs(t.iv,Ir):Oh(ap),s=qs(t.symKey,Ir),i=rj(s,r).encrypt(qs(t.message,pm)),o=Aj({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===za?xj(o):o}function Que(t){const e=qs(t.symKey,Ir),{sealed:n,iv:r}=vg({encoded:t.encoded,encoding:t.encoding}),s=rj(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return ss(s,pm)}function Zue(t,e){const n=Cj(gm),r=Oh(ap),s=qs(t,pm),i=Aj({type:n,sealed:s,iv:r});return e===za?xj(i):i}function Xue(t,e){const{sealed:n}=vg({encoded:t,encoding:e});return ss(n,pm)}function Aj(t){if(ru(t.type)===gm)return ss(rp([t.type,t.sealed]),bi);if(ru(t.type)===Bo){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ss(rp([t.type,t.senderPublicKey,t.iv,t.sealed]),bi)}return ss(rp([t.type,t.iv,t.sealed]),bi)}function vg(t){const e=(t.encoding||bi)===za?Sj(t.encoded):t.encoded,n=qs(e,bi),r=n.slice(Gue,ok),s=ok;if(ru(r)===Bo){const c=s+i2,l=c+ap,u=n.slice(s,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(ru(r)===gm){const c=n.slice(s),l=Oh(ap);return{type:r,sealed:c,iv:l}}const i=s+ap,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function ede(t,e){const n=vg({encoded:t,encoding:e==null?void 0:e.encoding});return Ij({type:ru(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?ss(n.senderPublicKey,Ir):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Ij(t){const e=(t==null?void 0:t.type)||_j;if(e===Bo){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function ak(t){return t.type===Bo&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function ck(t){return t.type===gm}function tde(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return rp([new Uint8Array([4]),e,n])}function nde(t,e){const[n,r,s]=t.split("."),i=Buffer.from(Sj(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=Ov(c),u=tde(e);if(!Vue.verify(rp([o,a]),l,u))throw new Error("Invalid signature");return MC(t).payload}const rde="irn";function fw(t){return(t==null?void 0:t.relay)||{protocol:rde}}function Lf(t){const e=Oae[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function sde(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=t[s];n[i]=o}}),n}function lk(t){if(!t.includes("wc:")){const l=L4(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(i),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:ide(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:sde(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function ide(t){return t.startsWith("//")?t.substring(2):t}function ode(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const i=s,o=n+e+i;t[i]&&(r[o]=t[i])}),r}function uk(t){const e=new URLSearchParams,n=ode(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Ey(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var ade=Object.defineProperty,cde=Object.defineProperties,lde=Object.getOwnPropertyDescriptors,dk=Object.getOwnPropertySymbols,ude=Object.prototype.hasOwnProperty,dde=Object.prototype.propertyIsEnumerable,hk=(t,e,n)=>e in t?ade(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hde=(t,e)=>{for(var n in e||(e={}))ude.call(e,n)&&hk(t,n,e[n]);if(dk)for(var n of dk(e))dde.call(e,n)&&hk(t,n,e[n]);return t},fde=(t,e)=>cde(t,lde(e));function $h(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function pde(t){const e=[];return Object.values(t).forEach(n=>{e.push(...$h(n.accounts))}),e}function gde(t,e){const n=[];return Object.values(t).forEach(r=>{$h(r.accounts).includes(e)&&n.push(...r.methods)}),n}function mde(t,e){const n=[];return Object.values(t).forEach(r=>{$h(r.accounts).includes(e)&&n.push(...r.events)}),n}function jv(t){return t.includes(":")}function wd(t){return jv(t)?t.split(":")[0]:t}function fk(t){var e,n,r;const s={};if(!xc(t))return s;for(const[i,o]of Object.entries(t)){const a=jv(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=wd(i);s[u]=fde(hde({},s[u]),{chains:ro(a,(e=s[u])==null?void 0:e.chains),methods:ro(c,(n=s[u])==null?void 0:n.methods),events:ro(l,(r=s[u])==null?void 0:r.events)})}return s}function yde(t){const e={};return t==null||t.forEach(n=>{var r;const[s,i]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${i}`)}),e}function pk(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=yde(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=ro(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}function wde(t,e){var n,r,s,i,o,a;const c=fk(t),l=fk(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:ro((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:ro((s=c[h])==null?void 0:s.methods,(i=l[h])==null?void 0:i.methods),events:ro((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const vde={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},bde={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function de(t,e){const{message:n,code:r}=bde[t];return{message:e?`${n} ${e}`:n,code:r}}function Gt(t,e){const{message:n,code:r}=vde[t];return{message:e?`${n} ${e}`:n,code:r}}function Fo(t,e){return!!Array.isArray(t)}function xc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Kn(t){return typeof t>"u"}function mn(t,e){return e&&Kn(t)?!0:typeof t=="string"&&!!t.trim().length}function o2(t,e){return e&&Kn(t)?!0:typeof t=="number"&&!isNaN(t)}function Ede(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let i=!0;return yl(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=$h(a),d=n[o];(!yl(R4(o,d),u)||!yl(d.methods,c)||!yl(d.events,l))&&(i=!1)}),i):!1}function pw(t){return mn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function _de(t){if(mn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&pw(n)}}return!1}function Cde(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(mn(t,!1)){if(e(t))return!0;const n=L4(t);return e(n)}}catch{}return!1}function xde(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Sde(t){return t==null?void 0:t.topic}function Ade(t,e){let n=null;return mn(t==null?void 0:t.publicKey,!1)||(n=de("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function gk(t){let e=!0;return Fo(t)?t.length&&(e=t.every(n=>mn(n,!1))):e=!1,e}function Ide(t,e,n){let r=null;return Fo(e)&&e.length?e.forEach(s=>{r||pw(s)||(r=Gt("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):pw(t)||(r=Gt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Tde(t,e,n){let r=null;return Object.entries(t).forEach(([s,i])=>{if(r)return;const o=Ide(s,R4(s,i),`${e} ${n}`);o&&(r=o)}),r}function Nde(t,e){let n=null;return Fo(t)?t.forEach(r=>{n||_de(r)||(n=Gt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Gt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Pde(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=Nde(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function kde(t,e){let n=null;return gk(t==null?void 0:t.methods)?gk(t==null?void 0:t.events)||(n=Gt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Gt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function Tj(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=kde(r,`${e}, namespace`);s&&(n=s)}),n}function Ode(t,e,n){let r=null;if(t&&xc(t)){const s=Tj(t,e);s&&(r=s);const i=Tde(t,e,n);i&&(r=i)}else r=de("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function eE(t,e){let n=null;if(t&&xc(t)){const r=Tj(t,e);r&&(n=r);const s=Pde(t,e);s&&(n=s)}else n=de("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function Nj(t){return mn(t.protocol,!0)}function Rde(t,e){let n=!1;return t?t&&Fo(t)&&t.length&&t.forEach(r=>{n=Nj(r)}):n=!0,n}function $de(t){return typeof t=="number"}function Wr(t){return typeof t<"u"&&typeof t!==null}function Dde(t){return!(!t||typeof t!="object"||!t.code||!o2(t.code,!1)||!t.message||!mn(t.message,!1))}function jde(t){return!(Kn(t)||!mn(t.method,!1))}function Ude(t){return!(Kn(t)||Kn(t.result)&&Kn(t.error)||!o2(t.id,!1)||!mn(t.jsonrpc,!1))}function Lde(t){return!(Kn(t)||!mn(t.name,!1))}function mk(t,e){return!(!pw(e)||!pde(t).includes(e))}function Mde(t,e,n){return mn(n,!1)?gde(t,e).includes(n):!1}function Bde(t,e,n){return mn(n,!1)?mde(t,e).includes(n):!1}function yk(t,e,n){let r=null;const s=Fde(t),i=zde(e),o=Object.keys(s),a=Object.keys(i),c=wk(Object.keys(t)),l=wk(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=de("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),yl(o,a)||(r=de("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=$h(e[d].accounts);h.includes(d)||(r=de("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(yl(s[d].methods,i[d].methods)?yl(s[d].events,i[d].events)||(r=de("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=de("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function Fde(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function wk(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function zde(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=$h(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(i=>i.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Wde(t,e){return o2(t,!1)&&t<=e.max&&t>=e.min}function vk(){const t=hm();return new Promise(e=>{switch(t){case ws.browser:e(qde());break;case ws.reactNative:e(Hde());break;case ws.node:e(Vde());break;default:e(!0)}})}function qde(){return kh()&&(navigator==null?void 0:navigator.onLine)}async function Hde(){if(qc()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Vde(){return!0}function Gde(t){switch(hm()){case ws.browser:Kde(t);break;case ws.reactNative:Yde(t);break}}function Kde(t){!qc()&&kh()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Yde(t){qc()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function Jde(){var t;return kh()&&eu()?((t=eu())==null?void 0:t.visibilityState)==="visible":!0}const tE={};class mf{static get(e){return tE[e]}static set(e,n){tE[e]=n}static delete(e){delete tE[e]}}function Qde(t){const e=Ph.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function Zde({publicKey:t,signature:e,payload:n}){var r;const s=sx(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=the(n.address),a=n.era==="00"?new Uint8Array([0]):sx(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${ehe(n.tip)}`),d=rhe(u),h=new Uint8Array([0,...t,o,...e,...a,...l,...d,...s]),f=nhe(h.length+1);return new Uint8Array([...f,i,...h])}function Xde(t){const e=sx(t),n=qae.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function sx(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function ehe(t){return t.startsWith("0x")?t.slice(2):t}function the(t){const e=Ph.decode(t)[0];return e===42?0:e===60?2:1}function nhe(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function rhe(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function she(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=Qde(t.transaction.address),r=Zde({publicKey:n,signature:e,payload:t.transaction}),s=Buffer.from(r).toString("hex");return Xde(s)}const ihe="PARSE_ERROR",ohe="INVALID_REQUEST",ahe="METHOD_NOT_FOUND",che="INVALID_PARAMS",Pj="INTERNAL_ERROR",a2="SERVER_ERROR",lhe=[-32700,-32600,-32601,-32602,-32603],cp={[ihe]:{code:-32700,message:"Parse error"},[ohe]:{code:-32600,message:"Invalid Request"},[ahe]:{code:-32601,message:"Method not found"},[che]:{code:-32602,message:"Invalid params"},[Pj]:{code:-32603,message:"Internal error"},[a2]:{code:-32e3,message:"Server error"}},kj=a2;function uhe(t){return lhe.includes(t)}function bk(t){return Object.keys(cp).includes(t)?cp[t]:cp[kj]}function dhe(t){const e=Object.values(cp).find(n=>n.code===t);return e||cp[kj]}function Oj(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var Rj={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ix=function(t,e){return ix=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},ix(t,e)};function hhe(t,e){ix(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ox=function(){return ox=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ox.apply(this,arguments)};function fhe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function phe(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function ghe(t,e){return function(n,r){e(n,r,t)}}function mhe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function yhe(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function whe(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function vhe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function bhe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ax(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $j(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function Ehe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($j(arguments[e]));return t}function _he(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function bg(t){return this instanceof bg?(this.v=t,this):new bg(t)}function Che(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof bg?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function xhe(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:bg(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function She(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ax=="function"?ax(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function Ahe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Ihe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function The(t){return t&&t.__esModule?t:{default:t}}function Nhe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Phe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const khe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ox},__asyncDelegator:xhe,__asyncGenerator:Che,__asyncValues:She,__await:bg,__awaiter:yhe,__classPrivateFieldGet:Nhe,__classPrivateFieldSet:Phe,__createBinding:vhe,__decorate:phe,__exportStar:bhe,__extends:hhe,__generator:whe,__importDefault:The,__importStar:Ihe,__makeTemplateObject:Ahe,__metadata:mhe,__param:ghe,__read:$j,__rest:fhe,__spread:Ehe,__spreadArrays:_he,__values:ax},Symbol.toStringTag,{value:"Module"})),Ohe=Tw(khe);var bo={},Ek;function Rhe(){if(Ek)return bo;Ek=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.isBrowserCryptoAvailable=bo.getSubtleCrypto=bo.getBrowerCrypto=void 0;function t(){return(on==null?void 0:on.crypto)||(on==null?void 0:on.msCrypto)||{}}bo.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}bo.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return bo.isBrowserCryptoAvailable=n,bo}var Eo={},_k;function $he(){if(_k)return Eo;_k=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.isBrowser=Eo.isNode=Eo.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Eo.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Eo.isNode=e;function n(){return!t()&&!e()}return Eo.isBrowser=n,Eo}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Ohe;e.__exportStar(Rhe(),t),e.__exportStar($he(),t)})(Rj);function Fi(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function El(t=6){return BigInt(Fi(t))}function ac(t,e,n){return{id:n||Fi(),jsonrpc:"2.0",method:t,params:e}}function Uv(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Lv(t,e,n){return{id:t,jsonrpc:"2.0",error:Dhe(e)}}function Dhe(t,e){return typeof t>"u"?bk(Pj):(typeof t=="string"&&(t=Object.assign(Object.assign({},bk(a2)),{message:t})),uhe(t.code)&&(t=dhe(t.code)),t)}let jhe=class{},Uhe=class extends jhe{constructor(){super()}},Lhe=class extends Uhe{constructor(e){super()}};const Mhe="^https?:",Bhe="^wss?:";function Fhe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Dj(t,e){const n=Fhe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function Ck(t){return Dj(t,Mhe)}function xk(t){return Dj(t,Bhe)}function zhe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function jj(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function c2(t){return jj(t)&&"method"in t}function Mv(t){return jj(t)&&(zi(t)||Ms(t))}function zi(t){return"result"in t}function Ms(t){return"error"in t}let Zs=class extends Lhe{constructor(e){super(e),this.events=new Qs.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(ac(e.method,e.params||[],e.id||El().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{Ms(i)?s(i.error):r(i.result)});try{await this.connection.send(e,n)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Mv(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Whe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),qhe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Sk=t=>t.split("?")[0],Ak=10,Hhe=Whe();let Vhe=class{constructor(e){if(this.url=e,this.events=new Qs.EventEmitter,this.registering=!1,!xk(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Qo(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!xk(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=Rj.isReactNative()?void 0:{rejectUnauthorized:!zhe(e)},i=new Hhe(e,[],s);qhe()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Xl(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=Lv(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return Oj(e,Sk(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Ak&&this.events.setMaxListeners(Ak)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${Sk(this.url)}`));return this.events.emit("register_error",n),n}};var Ghe={};const Uj="wc",Lj=2,cx="core",oo=`${Uj}@2:${cx}:`,Khe={logger:"error"},Yhe={database:":memory:"},Jhe="crypto",Ik="client_ed25519_seed",Qhe=ue.ONE_DAY,Zhe="keychain",Xhe="0.3",efe="messages",tfe="0.3",Tk=ue.SIX_HOURS,nfe="publisher",Mj="irn",rfe="error",Bj="wss://relay.walletconnect.org",sfe="relayer",Rn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},ife="_subscription",Rs={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},ofe=.1,lx="2.21.3",qt={link_mode:"link_mode",relay:"relay"},l0={inbound:"inbound",outbound:"outbound"},afe="0.3",cfe="WALLETCONNECT_CLIENT_ID",Nk="WALLETCONNECT_LINK_MODE_APPS",hs={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},lfe="subscription",ufe="0.3",dfe="pairing",hfe="0.3",yf={wc_pairingDelete:{req:{ttl:ue.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ue.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ue.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ue.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ue.ONE_DAY,prompt:!1,tag:0},res:{ttl:ue.ONE_DAY,prompt:!1,tag:0}}},cl={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ni={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},ffe="history",pfe="0.3",gfe="expirer",Us={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},mfe="0.3",yfe="verify-api",wfe="https://verify.walletconnect.com",Fj="https://verify.walletconnect.org",lp=Fj,vfe=`${lp}/v3`,bfe=[wfe,Fj],Efe="echo",_fe="https://echo.walletconnect.com",Mi={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},xo={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},ri={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Qc={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Zc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},wf={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Cfe=.1,xfe="event-client",Sfe=86400,Afe="https://pulse.walletconnect.org/batch";function Ife(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,y=0,b=p.length;y!==b&&p[y]===0;)y++,g++;for(var v=(b-y)*u+1>>>0,_=new Uint8Array(v);y!==b;){for(var E=p[y],x=0,S=v-1;(E!==0||x<w)&&S!==-1;S--,x++)E+=256*_[S]>>>0,_[S]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");w=x,y++}for(var A=v-w;A!==v&&_[A]===0;)A++;for(var C=c.repeat(g);A<v;++A)C+=t.charAt(_[A]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,y=0;p[g]===c;)w++,g++;for(var b=(p.length-g)*l+1>>>0,v=new Uint8Array(b);p[g];){var _=n[p.charCodeAt(g)];if(_===255)return;for(var E=0,x=b-1;(_!==0||E<y)&&x!==-1;x--,E++)_+=a*v[x]>>>0,v[x]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");y=E,g++}if(p[g]!==" "){for(var S=b-y;S!==b&&v[S]===0;)S++;for(var A=new Uint8Array(w+(b-S)),C=w;S!==b;)A[C++]=v[S++];return A}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Tfe=Ife,Nfe=Tfe;const zj=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Pfe=t=>new TextEncoder().encode(t),kfe=t=>new TextDecoder().decode(t);class Ofe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Rfe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Wj(this,e)}}class $fe{constructor(e){this.decoders=e}or(e){return Wj(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Wj=(t,e)=>new $fe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Dfe{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Ofe(e,n,r),this.decoder=new Rfe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Bv=({name:t,prefix:e,encode:n,decode:r})=>new Dfe(t,e,n,r),mm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Nfe(n,e);return Bv({prefix:t,name:e,encode:r,decode:i=>zj(s(i))})},jfe=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Ufe=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},nr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Bv({prefix:e,name:t,encode(s){return Ufe(s,r,n)},decode(s){return jfe(s,r,n,t)}}),Lfe=Bv({prefix:"\0",name:"identity",encode:t=>kfe(t),decode:t=>Pfe(t)});var Mfe=Object.freeze({__proto__:null,identity:Lfe});const Bfe=nr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Ffe=Object.freeze({__proto__:null,base2:Bfe});const zfe=nr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Wfe=Object.freeze({__proto__:null,base8:zfe});const qfe=mm({prefix:"9",name:"base10",alphabet:"0123456789"});var Hfe=Object.freeze({__proto__:null,base10:qfe});const Vfe=nr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Gfe=nr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Kfe=Object.freeze({__proto__:null,base16:Vfe,base16upper:Gfe});const Yfe=nr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Jfe=nr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Qfe=nr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Zfe=nr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Xfe=nr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),epe=nr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tpe=nr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),npe=nr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rpe=nr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var spe=Object.freeze({__proto__:null,base32:Yfe,base32upper:Jfe,base32pad:Qfe,base32padupper:Zfe,base32hex:Xfe,base32hexupper:epe,base32hexpad:tpe,base32hexpadupper:npe,base32z:rpe});const ipe=mm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ope=mm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ape=Object.freeze({__proto__:null,base36:ipe,base36upper:ope});const cpe=mm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lpe=mm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var upe=Object.freeze({__proto__:null,base58btc:cpe,base58flickr:lpe});const dpe=nr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),hpe=nr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),fpe=nr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ppe=nr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var gpe=Object.freeze({__proto__:null,base64:dpe,base64pad:hpe,base64url:fpe,base64urlpad:ppe});const qj=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),mpe=qj.reduce((t,e,n)=>(t[n]=e,t),[]),ype=qj.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function wpe(t){return t.reduce((e,n)=>(e+=mpe[n],e),"")}function vpe(t){const e=[];for(const n of t){const r=ype[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const bpe=Bv({prefix:"🚀",name:"base256emoji",encode:wpe,decode:vpe});var Epe=Object.freeze({__proto__:null,base256emoji:bpe}),_pe=Hj,Pk=128,Cpe=-128,xpe=Math.pow(2,31);function Hj(t,e,n){e=e||[],n=n||0;for(var r=n;t>=xpe;)e[n++]=t&255|Pk,t/=128;for(;t&Cpe;)e[n++]=t&255|Pk,t>>>=7;return e[n]=t|0,Hj.bytes=n-r+1,e}var Spe=ux,Ape=128,kk=127;function ux(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw ux.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&kk)<<s:(o&kk)*Math.pow(2,s),s+=7}while(o>=Ape);return ux.bytes=i-r,n}var Ipe=Math.pow(2,7),Tpe=Math.pow(2,14),Npe=Math.pow(2,21),Ppe=Math.pow(2,28),kpe=Math.pow(2,35),Ope=Math.pow(2,42),Rpe=Math.pow(2,49),$pe=Math.pow(2,56),Dpe=Math.pow(2,63),jpe=function(t){return t<Ipe?1:t<Tpe?2:t<Npe?3:t<Ppe?4:t<kpe?5:t<Ope?6:t<Rpe?7:t<$pe?8:t<Dpe?9:10},Upe={encode:_pe,decode:Spe,encodingLength:jpe},Vj=Upe;const Ok=(t,e,n=0)=>(Vj.encode(t,e,n),e),Rk=t=>Vj.encodingLength(t),dx=(t,e)=>{const n=e.byteLength,r=Rk(t),s=r+Rk(n),i=new Uint8Array(s+n);return Ok(t,i,0),Ok(n,i,r),i.set(e,s),new Lpe(t,n,e,i)};class Lpe{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const Gj=({name:t,code:e,encode:n})=>new Mpe(t,e,n);class Mpe{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?dx(this.code,n):n.then(r=>dx(this.code,r))}else throw Error("Unknown type, must be binary type")}}const Kj=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Bpe=Gj({name:"sha2-256",code:18,encode:Kj("SHA-256")}),Fpe=Gj({name:"sha2-512",code:19,encode:Kj("SHA-512")});var zpe=Object.freeze({__proto__:null,sha256:Bpe,sha512:Fpe});const Yj=0,Wpe="identity",Jj=zj,qpe=t=>dx(Yj,Jj(t)),Hpe={code:Yj,name:Wpe,encode:Jj,digest:qpe};var Vpe=Object.freeze({__proto__:null,identity:Hpe});new TextEncoder,new TextDecoder;const $k={...Mfe,...Ffe,...Wfe,...Hfe,...Kfe,...spe,...ape,...upe,...gpe,...Epe};({...zpe,...Vpe});function Qj(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Gpe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Qj(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Zj(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Dk=Zj("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),nE=Zj("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Gpe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Kpe={utf8:Dk,"utf-8":Dk,hex:$k.base16,latin1:nE,ascii:nE,binary:nE,...$k};function Ype(t,e="utf8"){const n=Kpe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Qj(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var Jpe=Object.defineProperty,Qpe=(t,e,n)=>e in t?Jpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ui=(t,e,n)=>Qpe(t,typeof e!="symbol"?e+"":e,n);class Zpe{constructor(e,n){this.core=e,this.logger=n,Ui(this,"keychain",new Map),Ui(this,"name",Zhe),Ui(this,"version",Xhe),Ui(this,"initialized",!1),Ui(this,"storagePrefix",oo),Ui(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Ui(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Ui(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),Ui(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=de("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),Ui(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=yr(n,this.name)}get context(){return os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,VC(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?GC(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Xpe=Object.defineProperty,ege=(t,e,n)=>e in t?Xpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wn=(t,e,n)=>ege(t,typeof e!="symbol"?e+"":e,n);class tge{constructor(e,n,r){this.core=e,this.logger=n,Wn(this,"name",Jhe),Wn(this,"keychain"),Wn(this,"randomSessionIdentifier",rx()),Wn(this,"initialized",!1),Wn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Wn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Wn(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=pP(s);return J6(i.publicKey)}),Wn(this,"generateKeyPair",()=>{this.isInitialized();const s=Kue();return this.setPrivateKey(s.publicKey,s.privateKey)}),Wn(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=pP(i),a=this.randomSessionIdentifier;return await eie(a,s,Qhe,o)}),Wn(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=Yue(a,i);return this.setSymKey(c,o)}),Wn(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||c0(s);return await this.keychain.set(o,s),o}),Wn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Wn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Wn(this,"encode",async(s,i,o)=>{this.isInitialized();const a=Ij(o),c=Qo(i);if(ck(a))return Zue(c,o==null?void 0:o.encoding);if(ak(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;s=await this.generateSharedKey(h,f)}const l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return Jue({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),Wn(this,"decode",async(s,i,o)=>{this.isInitialized();const a=ede(i,o);if(ck(a)){const c=Xue(i,o==null?void 0:o.encoding);return Xl(c)}if(ak(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=Que({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return Xl(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Wn(this,"getPayloadType",(s,i=bi)=>{const o=vg({encoded:s,encoding:i});return ru(o.type)}),Wn(this,"getPayloadSenderPublicKey",(s,i=bi)=>{const o=vg({encoded:s,encoding:i});return o.senderPublicKey?ss(o.senderPublicKey,Ir):void 0}),this.core=e,this.logger=yr(n,this.name),this.keychain=r||new Zpe(this.core,this.logger)}get context(){return os(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Ik)}catch{e=rx(),await this.keychain.set(Ik,e)}return Ype(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var nge=Object.defineProperty,rge=Object.defineProperties,sge=Object.getOwnPropertyDescriptors,jk=Object.getOwnPropertySymbols,ige=Object.prototype.hasOwnProperty,oge=Object.prototype.propertyIsEnumerable,hx=(t,e,n)=>e in t?nge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,age=(t,e)=>{for(var n in e||(e={}))ige.call(e,n)&&hx(t,n,e[n]);if(jk)for(var n of jk(e))oge.call(e,n)&&hx(t,n,e[n]);return t},cge=(t,e)=>rge(t,sge(e)),cs=(t,e,n)=>hx(t,typeof e!="symbol"?e+"":e,n);class lge extends Zte{constructor(e,n){super(e,n),this.logger=e,this.core=n,cs(this,"messages",new Map),cs(this,"messagesWithoutClientAck",new Map),cs(this,"name",efe),cs(this,"version",tfe),cs(this,"initialized",!1),cs(this,"storagePrefix",oo),cs(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),cs(this,"set",async(r,s,i)=>{this.isInitialized();const o=Ki(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===l0.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,cge(age({},c),{[o]:s}))}return await this.persist(),o}),cs(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),cs(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),cs(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=Ki(s);return typeof i[o]<"u"}),cs(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=Ki(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),cs(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=yr(e,this.name),this.core=n}get context(){return os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,VC(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,VC(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?GC(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?GC(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var uge=Object.defineProperty,dge=Object.defineProperties,hge=Object.getOwnPropertyDescriptors,Uk=Object.getOwnPropertySymbols,fge=Object.prototype.hasOwnProperty,pge=Object.prototype.propertyIsEnumerable,fx=(t,e,n)=>e in t?uge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_y=(t,e)=>{for(var n in e||(e={}))fge.call(e,n)&&fx(t,n,e[n]);if(Uk)for(var n of Uk(e))pge.call(e,n)&&fx(t,n,e[n]);return t},rE=(t,e)=>dge(t,hge(e)),si=(t,e,n)=>fx(t,typeof e!="symbol"?e+"":e,n);class gge extends Xte{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,si(this,"events",new Qs.EventEmitter),si(this,"name",nfe),si(this,"queue",new Map),si(this,"publishTimeout",ue.toMiliseconds(ue.ONE_MINUTE)),si(this,"initialPublishTimeout",ue.toMiliseconds(ue.ONE_SECOND*15)),si(this,"needsTransportRestart",!1),si(this,"publish",async(r,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const a=(i==null?void 0:i.ttl)||Tk,c=fw(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,d=(i==null?void 0:i.id)||El().toString(),h={topic:r,message:s,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},f=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const p=new Promise(async g=>{const w=({id:b})=>{h.opts.id===b&&(this.removeRequestFromQueue(b),this.relayer.events.removeListener(Rn.publish,w),g(h))};this.relayer.events.on(Rn.publish,w);const y=oc(new Promise((b,v)=>{this.rpcPublish({topic:r,message:s,ttl:a,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(b).catch(_=>{this.logger.warn(_,_==null?void 0:_.message),v(_)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await y,this.events.removeListener(Rn.publish,w)}catch(b){this.queue.set(d,rE(_y({},h),{attempt:1})),this.logger.warn(b,b==null?void 0:b.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:s,opts:i}}),await oc(p,this.publishTimeout,f)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=i==null?void 0:i.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(d)}}),si(this,"on",(r,s)=>{this.events.on(r,s)}),si(this,"once",(r,s)=>{this.events.once(r,s)}),si(this,"off",(r,s)=>{this.events.off(r,s)}),si(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=yr(n,this.name),this.registerEventListeners()}get context(){return os(this.logger)}async rpcPublish(e){var n,r,s,i;const{topic:o,message:a,ttl:c=Tk,prompt:l,tag:u,id:d,attestation:h,tvf:f}=e,p={method:Lf(fw().protocol).publish,params:_y({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},f),id:d};Kn((n=p.params)==null?void 0:n.prompt)&&((r=p.params)==null||delete r.prompt),Kn((s=p.params)==null?void 0:s.tag)&&((i=p.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const g=await this.relayer.request(p);return this.relayer.events.emit(Rn.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,rE(_y({},e),{attempt:r}));const{topic:s,message:i,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(rE(_y({},e),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(yu.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Rn.connection_stalled);return}this.checkQueue()}),this.relayer.on(Rn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var mge=Object.defineProperty,yge=(t,e,n)=>e in t?mge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ju=(t,e,n)=>yge(t,typeof e!="symbol"?e+"":e,n);class wge{constructor(){ju(this,"map",new Map),ju(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),ju(this,"get",e=>this.map.get(e)||[]),ju(this,"exists",(e,n)=>this.get(e).includes(n)),ju(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),ju(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var vge=Object.defineProperty,bge=Object.defineProperties,Ege=Object.getOwnPropertyDescriptors,Lk=Object.getOwnPropertySymbols,_ge=Object.prototype.hasOwnProperty,Cge=Object.prototype.propertyIsEnumerable,px=(t,e,n)=>e in t?vge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vf=(t,e)=>{for(var n in e||(e={}))_ge.call(e,n)&&px(t,n,e[n]);if(Lk)for(var n of Lk(e))Cge.call(e,n)&&px(t,n,e[n]);return t},sE=(t,e)=>bge(t,Ege(e)),$t=(t,e,n)=>px(t,typeof e!="symbol"?e+"":e,n);class xge extends nne{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,$t(this,"subscriptions",new Map),$t(this,"topicMap",new wge),$t(this,"events",new Qs.EventEmitter),$t(this,"name",lfe),$t(this,"version",ufe),$t(this,"pending",new Map),$t(this,"cached",[]),$t(this,"initialized",!1),$t(this,"storagePrefix",oo),$t(this,"subscribeTimeout",ue.toMiliseconds(ue.ONE_MINUTE)),$t(this,"initialSubscribeTimeout",ue.toMiliseconds(ue.ONE_SECOND*15)),$t(this,"clientId"),$t(this,"batchSubscribeTopicsLimit",500),$t(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),$t(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const i=fw(s),o={topic:r,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,i,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),a}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),$t(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),$t(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),$t(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),$t(this,"on",(r,s)=>{this.events.on(r,s)}),$t(this,"once",(r,s)=>{this.events.once(r,s)}),$t(this,"off",(r,s)=>{this.events.off(r,s)}),$t(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),$t(this,"start",async()=>{await this.onConnect()}),$t(this,"stop",async()=>{await this.onDisconnect()}),$t(this,"restart",async()=>{await this.restore(),await this.onRestart()}),$t(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),$t(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(yu.pulse,async()=>{await this.checkPending()}),this.events.on(hs.created,async r=>{const s=hs.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(hs.deleted,async r=>{const s=hs.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=yr(n,this.name),this.clientId=""}get context(){return os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=fw(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const i=Gt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||(r==null?void 0:r.transportType)===qt.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const i={method:Lf(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===qt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(u=>this.logger.warn(u))},ue.toMiliseconds(ue.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(hs.created,d),u(h.id))};this.events.on(hs.created,d);try{const h=await oc(new Promise((f,p)=>{this.relayer.request(i).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),p(g)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(hs.created,d),u(h)}catch{}}),l=await oc(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Rn.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Lf(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await oc(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Rn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Lf(n.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await oc(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Rn.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:Lf(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,sE(vf({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,vf({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,vf({},n)),this.topicMap.set(n.topic,e),this.events.emit(hs.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=de("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(hs.deleted,sE(vf({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(hs.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(hs.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=de("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>sE(vf({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await yce(ue.toMiliseconds(ue.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Ki(e+await this.getClientId())}}var Sge=Object.defineProperty,Mk=Object.getOwnPropertySymbols,Age=Object.prototype.hasOwnProperty,Ige=Object.prototype.propertyIsEnumerable,gx=(t,e,n)=>e in t?Sge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bk=(t,e)=>{for(var n in e||(e={}))Age.call(e,n)&&gx(t,n,e[n]);if(Mk)for(var n of Mk(e))Ige.call(e,n)&&gx(t,n,e[n]);return t},ht=(t,e,n)=>gx(t,typeof e!="symbol"?e+"":e,n);class Tge extends ene{constructor(e){super(e),ht(this,"protocol","wc"),ht(this,"version",2),ht(this,"core"),ht(this,"logger"),ht(this,"events",new Qs.EventEmitter),ht(this,"provider"),ht(this,"messages"),ht(this,"subscriber"),ht(this,"publisher"),ht(this,"name",sfe),ht(this,"transportExplicitlyClosed",!1),ht(this,"initialized",!1),ht(this,"connectionAttemptInProgress",!1),ht(this,"relayUrl"),ht(this,"projectId"),ht(this,"packageName"),ht(this,"bundleId"),ht(this,"hasExperiencedNetworkDisruption",!1),ht(this,"pingTimeout"),ht(this,"heartBeatTimeout",ue.toMiliseconds(ue.THIRTY_SECONDS+ue.FIVE_SECONDS)),ht(this,"reconnectTimeout"),ht(this,"connectPromise"),ht(this,"reconnectInProgress",!1),ht(this,"requestsInFlight",[]),ht(this,"connectTimeout",ue.toMiliseconds(ue.ONE_SECOND*15)),ht(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||El().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),ht(this,"resetPingTimeout",()=>{lw()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),ht(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),ht(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Rn.connect)}),ht(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),ht(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Rn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),ht(this,"registerProviderListeners",()=>{this.provider.on(Rs.payload,this.onPayloadHandler),this.provider.on(Rs.connect,this.onConnectHandler),this.provider.on(Rs.disconnect,this.onDisconnectHandler),this.provider.on(Rs.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?yr(e.logger,this.name):cm(Sh({level:e.logger||rfe})),this.messages=new lge(this.logger,e.core),this.subscriber=new xge(this,this.logger),this.publisher=new gge(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||Bj,this.projectId=e.projectId,tce()?this.packageName=NP():nce()&&(this.bundleId=NP()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return os(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:qt.relay},l0.outbound)}async subscribe(e,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(hs.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(hs.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,Bk({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await oc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await vk())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=En(ue.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(Rn.message,e),await this.recordMessageEvent(e,l0.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(Rs.disconnect,i),await oc(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(Rs.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Rs.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Rs.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,ue.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,i;if(lw())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Zs(new Vhe(ace({sdkVersion:lx,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),c2(e)){if(!e.method.endsWith(ife))return;const n=e.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:qt.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Bk({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Mv(e)&&this.events.emit(Rn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,l0.inbound),this.events.emit(Rn.message,e))}async acknowledgePayload(e){const n=Uv(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Rs.payload,this.onPayloadHandler),this.provider.off(Rs.connect,this.onConnectHandler),this.provider.off(Rs.disconnect,this.onDisconnectHandler),this.provider.off(Rs.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await vk();Gde(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(yu.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Jde())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Rn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ue.toMiliseconds(ofe)))))}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function Nge(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function Fk(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function zk(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Pge="[object RegExp]",kge="[object String]",Oge="[object Number]",Rge="[object Boolean]",Wk="[object Arguments]",$ge="[object Symbol]",Dge="[object Date]",jge="[object Map]",Uge="[object Set]",Lge="[object Array]",Mge="[object Function]",Bge="[object ArrayBuffer]",iE="[object Object]",Fge="[object Error]",zge="[object DataView]",Wge="[object Uint8Array]",qge="[object Uint8ClampedArray]",Hge="[object Uint16Array]",Vge="[object Uint32Array]",Gge="[object BigUint64Array]",Kge="[object Int8Array]",Yge="[object Int16Array]",Jge="[object Int32Array]",Qge="[object BigInt64Array]",Zge="[object Float32Array]",Xge="[object Float64Array]";function eme(){}function qk(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function tme(t,e,n){return Mf(t,e,void 0,void 0,void 0,void 0,n)}function Mf(t,e,n,r,s,i,o){const a=o(t,e,n,r,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return up(t,e,i,o)}return up(t,e,i,o)}function up(t,e,n,r){if(Object.is(t,e))return!0;let s=zk(t),i=zk(e);if(s===Wk&&(s=iE),i===Wk&&(i=iE),s!==i)return!1;switch(s){case kge:return t.toString()===e.toString();case Oge:{const c=t.valueOf(),l=e.valueOf();return Nge(c,l)}case Rge:case Dge:case $ge:return Object.is(t.valueOf(),e.valueOf());case Pge:return t.source===e.source&&t.flags===e.flags;case Mge:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(s){case jge:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!Mf(l,e.get(c),c,t,e,n,r))return!1;return!0}case Uge:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>Mf(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case Lge:case Wge:case qge:case Hge:case Vge:case Gge:case Kge:case Yge:case Jge:case Qge:case Zge:case Xge:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Mf(t[c],e[c],c,t,e,n,r))return!1;return!0}case Bge:return t.byteLength!==e.byteLength?!1:up(new Uint8Array(t),new Uint8Array(e),n,r);case zge:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:up(new Uint8Array(t),new Uint8Array(e),n,r);case Fge:return t.name===e.name&&t.message===e.message;case iE:{if(!(up(t.constructor,e.constructor,n,r)||qk(t)&&qk(e)))return!1;const c=[...Object.keys(t),...Fk(t)],l=[...Object.keys(e),...Fk(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!Mf(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function nme(t,e){return tme(t,e,eme)}var rme=Object.defineProperty,Hk=Object.getOwnPropertySymbols,sme=Object.prototype.hasOwnProperty,ime=Object.prototype.propertyIsEnumerable,mx=(t,e,n)=>e in t?rme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vk=(t,e)=>{for(var n in e||(e={}))sme.call(e,n)&&mx(t,n,e[n]);if(Hk)for(var n of Hk(e))ime.call(e,n)&&mx(t,n,e[n]);return t},Lr=(t,e,n)=>mx(t,typeof e!="symbol"?e+"":e,n);class bu extends tne{constructor(e,n,r,s=oo,i=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,Lr(this,"map",new Map),Lr(this,"version",afe),Lr(this,"cached",[]),Lr(this,"initialized",!1),Lr(this,"getKey"),Lr(this,"storagePrefix",oo),Lr(this,"recentlyDeleted",[]),Lr(this,"recentlyDeletedLimit",200),Lr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Kn(o)?this.map.set(this.getKey(o),o):xde(o)?this.map.set(o.id,o):Sde(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Lr(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Lr(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Lr(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>nme(a[c],o[c]))):this.values)),Lr(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=Vk(Vk({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Lr(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=yr(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=de("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=de("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=de("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ome=Object.defineProperty,ame=(t,e,n)=>e in t?ome(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nt=(t,e,n)=>ame(t,typeof e!="symbol"?e+"":e,n);class cme{constructor(e,n){this.core=e,this.logger=n,nt(this,"name",dfe),nt(this,"version",hfe),nt(this,"events",new PA),nt(this,"pairings"),nt(this,"initialized",!1),nt(this,"storagePrefix",oo),nt(this,"ignoredPayloadTypes",[Bo]),nt(this,"registeredMethods",[]),nt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),nt(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),nt(this,"create",async r=>{this.isInitialized();const s=rx(),i=await this.core.crypto.setSymKey(s),o=En(ue.FIVE_MINUTES),a={protocol:Mj},c={topic:i,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=uk({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(cl.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r==null?void 0:r.transportType}),{topic:i,uri:l}}),nt(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Mi.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=lk(r.uri);s.props.properties.topic=i,s.addTrace(Mi.pairing_uri_validation_success),s.addTrace(Mi.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(Mi.existing_pairing),u.active)throw s.setError(xo.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(Mi.pairing_not_expired)}const d=c||En(ue.FIVE_MINUTES),h={topic:i,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(i,d),await this.pairings.set(i,h),s.addTrace(Mi.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(cl.create,h),s.addTrace(Mi.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(Mi.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(xo.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(f){throw s.setError(xo.subscribe_pairing_topic_failure),f}return s.addTrace(Mi.subscribe_pairing_topic_success),h}),nt(this,"activate",async({topic:r})=>{this.isInitialized();const s=En(ue.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),nt(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=sl();this.events.once(vt("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),nt(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),nt(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),nt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),nt(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Gt("USER_DISCONNECTED")),await this.deletePairing(s))}),nt(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return uk({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),nt(this,"sendRequest",async(r,s,i)=>{const o=ac(s,i),a=await this.core.crypto.encode(r,o),c=yf[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),nt(this,"sendResult",async(r,s,i)=>{const o=Uv(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=yf[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),nt(this,"sendError",async(r,s,i)=>{const o=Lv(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=yf[c]?yf[c].res:yf.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),nt(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Gt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),nt(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>Da(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),nt(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),nt(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),nt(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(cl.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),nt(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{zi(s)?this.events.emit(vt("pairing_ping",i),{}):Ms(s)&&this.events.emit(vt("pairing_ping",i),{error:s.error})},500)}),nt(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(cl.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),nt(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=Gt("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),nt(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Gt("WC_METHOD_UNSUPPORTED",r))}),nt(this,"isValidPair",(r,s)=>{var i;if(!Wr(r)){const{message:a}=de("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(xo.malformed_pairing_uri),new Error(a)}if(!Cde(r.uri)){const{message:a}=de("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(xo.malformed_pairing_uri),new Error(a)}const o=lk(r==null?void 0:r.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=de("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(xo.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=de("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(xo.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&ue.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(xo.pairing_expired);const{message:a}=de("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),nt(this,"isValidPing",async r=>{if(!Wr(r)){const{message:i}=de("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),nt(this,"isValidDisconnect",async r=>{if(!Wr(r)){const{message:i}=de("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),nt(this,"isValidPairingTopic",async r=>{if(!mn(r,!1)){const{message:s}=de("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=de("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(Da(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=de("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=yr(n,this.name),this.pairings=new bu(this.core,this.logger,this.name,this.storagePrefix)}get context(){return os(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Rn.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==qt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);c2(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):Mv(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(Us.expired,async e=>{const{topic:n}=U4(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(cl.expire,{topic:n}))})}}var lme=Object.defineProperty,ume=(t,e,n)=>e in t?lme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qn=(t,e,n)=>ume(t,typeof e!="symbol"?e+"":e,n);class dme extends Qte{constructor(e,n){super(e,n),this.core=e,this.logger=n,qn(this,"records",new Map),qn(this,"events",new Qs.EventEmitter),qn(this,"name",ffe),qn(this,"version",pfe),qn(this,"cached",[]),qn(this,"initialized",!1),qn(this,"storagePrefix",oo),qn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),qn(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:En(ue.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(ni.created,o)}),qn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=Ms(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(ni.updated,s))}),qn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),qn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(ni.deleted,i)}}),this.persist()}),qn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),qn(this,"on",(r,s)=>{this.events.on(r,s)}),qn(this,"once",(r,s)=>{this.events.once(r,s)}),qn(this,"off",(r,s)=>{this.events.off(r,s)}),qn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=yr(n,this.name)}get context(){return os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:ac(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=de("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ni.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=de("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ni.created,e=>{const n=ni.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(ni.updated,e=>{const n=ni.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(ni.deleted,e=>{const n=ni.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(yu.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{ue.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(ni.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var hme=Object.defineProperty,fme=(t,e,n)=>e in t?hme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dr=(t,e,n)=>fme(t,typeof e!="symbol"?e+"":e,n);class pme extends rne{constructor(e,n){super(e,n),this.core=e,this.logger=n,dr(this,"expirations",new Map),dr(this,"events",new Qs.EventEmitter),dr(this,"name",gfe),dr(this,"version",mfe),dr(this,"cached",[]),dr(this,"initialized",!1),dr(this,"storagePrefix",oo),dr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),dr(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),dr(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(Us.created,{target:i,expiration:o})}),dr(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),dr(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Us.deleted,{target:s,expiration:i})}}),dr(this,"on",(r,s)=>{this.events.on(r,s)}),dr(this,"once",(r,s)=>{this.events.once(r,s)}),dr(this,"off",(r,s)=>{this.events.off(r,s)}),dr(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=yr(n,this.name)}get context(){return os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return cce(e);if(typeof e=="number")return lce(e);const{message:n}=de("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Us.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=de("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=de("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;ue.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Us.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(yu.pulse,()=>this.checkExpirations()),this.events.on(Us.created,e=>{const n=Us.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Us.expired,e=>{const n=Us.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Us.deleted,e=>{const n=Us.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var gme=Object.defineProperty,mme=(t,e,n)=>e in t?gme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pn=(t,e,n)=>mme(t,typeof e!="symbol"?e+"":e,n);class yme extends sne{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,pn(this,"name",yfe),pn(this,"abortController"),pn(this,"isDevEnv"),pn(this,"verifyUrlV3",vfe),pn(this,"storagePrefix",oo),pn(this,"version",Lj),pn(this,"publicKey"),pn(this,"fetchPromise"),pn(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ue.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),pn(this,"register",async s=>{if(!kh()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=eu(),u=this.startAbortTimer(ue.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",w),l.body.removeChild(g),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const w=y=>{if(y.data&&typeof y.data=="string")try{const b=JSON.parse(y.data);if(b.type==="verify_attestation"){if(MC(b.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",w),h(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};l.body.appendChild(g),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),pn(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(MC(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),pn(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(ue.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),pn(this,"getVerifyUrl",s=>{let i=s||lp;return bfe.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${lp}`),i=lp),i}),pn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(ue.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),pn(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),pn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),pn(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),pn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),pn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),pn(this,"validateAttestation",(s,i)=>{const o=nde(s,i.publicKey),a={hasExpired:ue.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=yr(n,this.name),this.abortController=new AbortController,this.isDevEnv=GA(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return os(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ue.toMiliseconds(e))}}var wme=Object.defineProperty,vme=(t,e,n)=>e in t?wme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gk=(t,e,n)=>vme(t,typeof e!="symbol"?e+"":e,n);class bme extends ine{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,Gk(this,"context",Efe),Gk(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${_fe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=yr(n,this.context)}}var Eme=Object.defineProperty,Kk=Object.getOwnPropertySymbols,_me=Object.prototype.hasOwnProperty,Cme=Object.prototype.propertyIsEnumerable,yx=(t,e,n)=>e in t?Eme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bf=(t,e)=>{for(var n in e||(e={}))_me.call(e,n)&&yx(t,n,e[n]);if(Kk)for(var n of Kk(e))Cme.call(e,n)&&yx(t,n,e[n]);return t},Tn=(t,e,n)=>yx(t,typeof e!="symbol"?e+"":e,n);class xme extends one{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Tn(this,"context",xfe),Tn(this,"storagePrefix",oo),Tn(this,"storageVersion",Cfe),Tn(this,"events",new Map),Tn(this,"shouldPersist",!1),Tn(this,"init",async()=>{if(!GA())try{const s={eventId:kP(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:D4(this.core.relayer.protocol,this.core.relayer.version,lx)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),Tn(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=kP(),u=this.core.projectId||"",d=Date.now(),h=bf({eventId:l,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),Tn(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return bf(bf({},a),this.setMethods(a.eventId))}),Tn(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),Tn(this,"setEventListeners",()=>{this.core.heartbeat.on(yu.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{ue.fromMiliseconds(Date.now())-ue.fromMiliseconds(s.timestamp)>Sfe&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),Tn(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),Tn(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),Tn(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),Tn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Tn(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,bf(bf({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),Tn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),Tn(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Afe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${lx}${i}`,{method:"POST",body:JSON.stringify(s)})}),Tn(this,"getAppDomain",()=>$4().url),this.logger=yr(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Sme=Object.defineProperty,Yk=Object.getOwnPropertySymbols,Ame=Object.prototype.hasOwnProperty,Ime=Object.prototype.propertyIsEnumerable,wx=(t,e,n)=>e in t?Sme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jk=(t,e)=>{for(var n in e||(e={}))Ame.call(e,n)&&wx(t,n,e[n]);if(Yk)for(var n of Yk(e))Ime.call(e,n)&&wx(t,n,e[n]);return t},Ut=(t,e,n)=>wx(t,typeof e!="symbol"?e+"":e,n);let Tme=class Xj extends Gte{constructor(e){var n;super(e),Ut(this,"protocol",Uj),Ut(this,"version",Lj),Ut(this,"name",cx),Ut(this,"relayUrl"),Ut(this,"projectId"),Ut(this,"customStoragePrefix"),Ut(this,"events",new Qs.EventEmitter),Ut(this,"logger"),Ut(this,"heartbeat"),Ut(this,"relayer"),Ut(this,"crypto"),Ut(this,"storage"),Ut(this,"history"),Ut(this,"expirer"),Ut(this,"pairing"),Ut(this,"verify"),Ut(this,"echoClient"),Ut(this,"linkModeSupportedApps"),Ut(this,"eventClient"),Ut(this,"initialized",!1),Ut(this,"logChunkController"),Ut(this,"on",(a,c)=>this.events.on(a,c)),Ut(this,"once",(a,c)=>this.events.once(a,c)),Ut(this,"off",(a,c)=>this.events.off(a,c)),Ut(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Ut(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:qt.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Bj,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=Sh({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Khe.logger,name:cx}),{logger:i,chunkLoggerController:o}=OA({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=yr(i,this.name),this.heartbeat=new Dee,this.crypto=new tge(this,this.logger,e==null?void 0:e.keychain),this.history=new dme(this,this.logger),this.expirer=new pme(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new yte(Jk(Jk({},Yhe),e==null?void 0:e.storageOptions)),this.relayer=new Tge({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new cme(this,this.logger),this.verify=new yme(this,this.logger,this.storage),this.echoClient=new bme(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new xme(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new Xj(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(cfe,r),n}get context(){return os(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Nk,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Nk)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Ghe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const Nme=Tme,eU="wc",tU=2,nU="client",l2=`${eU}@${tU}:${nU}:`,oE={name:nU,logger:"error"},Qk="WALLETCONNECT_DEEPLINK_CHOICE",Pme="proposal",Zk="Proposal expired",kme="session",Uu=ue.SEVEN_DAYS,Ome="engine",Nn={wc_sessionPropose:{req:{ttl:ue.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ue.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ue.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ue.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ue.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ue.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ue.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ue.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ue.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ue.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ue.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ue.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ue.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1119}}},aE={min:ue.FIVE_MINUTES,max:ue.SEVEN_DAYS},Li={idle:"IDLE",active:"ACTIVE"},Rme={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},$me="request",Dme=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],jme="wc",Ume="auth",Lme="authKeys",Mme="pairingTopics",Bme="requests",Fv=`${jme}@${1.5}:${Ume}:`,u0=`${Fv}:PUB_KEY`;var Fme=Object.defineProperty,zme=Object.defineProperties,Wme=Object.getOwnPropertyDescriptors,Xk=Object.getOwnPropertySymbols,qme=Object.prototype.hasOwnProperty,Hme=Object.prototype.propertyIsEnumerable,vx=(t,e,n)=>e in t?Fme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zt=(t,e)=>{for(var n in e||(e={}))qme.call(e,n)&&vx(t,n,e[n]);if(Xk)for(var n of Xk(e))Hme.call(e,n)&&vx(t,n,e[n]);return t},Mr=(t,e)=>zme(t,Wme(e)),ie=(t,e,n)=>vx(t,typeof e!="symbol"?e+"":e,n);class Vme extends une{constructor(e){super(e),ie(this,"name",Ome),ie(this,"events",new PA),ie(this,"initialized",!1),ie(this,"requestQueue",{state:Li.idle,queue:[]}),ie(this,"sessionRequestQueue",{state:Li.idle,queue:[]}),ie(this,"requestQueueDelay",ue.ONE_SECOND),ie(this,"expectedPairingMethodMap",new Map),ie(this,"recentlyDeletedMap",new Map),ie(this,"recentlyDeletedLimit",200),ie(this,"relayMessageCache",[]),ie(this,"pendingSessions",new Map),ie(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Nn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ue.toMiliseconds(this.requestQueueDelay)))}),ie(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Mr(zt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=wde(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,d,h=!1;try{if(u){const x=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=x.active}}catch(x){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),x}if(!u||!h){const{topic:x,uri:S}=await this.client.core.pairing.create();u=x,d=S}if(!u){const{message:x}=de("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(x)}const f=await this.client.core.crypto.generateKeyPair(),p=Nn.wc_sessionPropose.req.ttl||ue.FIVE_MINUTES,g=En(p),w=Mr(zt(zt({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:Mj}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Fi()}),y=vt("session_connect",w.id),{reject:b,resolve:v,done:_}=sl(p,Zk),E=({id:x})=>{x===w.id&&(this.client.events.off("proposal_expire",E),this.pendingSessions.delete(w.id),this.events.emit(y,{error:{message:Zk,code:0}}))};return this.client.events.on("proposal_expire",E),this.events.once(y,({error:x,session:S})=>{this.client.events.off("proposal_expire",E),x?b(x):S&&v(S)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:w,throwOnFailedPublish:!0,clientRpcId:w.id}),await this.setProposal(w.id,w),{uri:d,approval:_}}),ie(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ie(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[ri.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(C){throw o.setError(Qc.no_internet_connection),C}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(C){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(Qc.proposal_not_found),C}try{await this.isValidApprove(n)}catch(C){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Qc.session_approve_namespace_validation_failure),C}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:w,optionalNamespaces:y}=f;let b=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});b||(b=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:ri.session_approve_started,properties:{topic:p,trace:[ri.session_approve_started,ri.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),_=g.publicKey,E=await this.client.core.crypto.generateSharedKey(v,_),x=zt(zt(zt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:v,metadata:this.client.metadata},expiry:En(Uu)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),S=qt.relay;b.addTrace(ri.subscribing_session_topic);try{await this.client.core.relayer.subscribe(E,{transportType:S})}catch(C){throw b.setError(Qc.subscribe_session_topic_failure),C}b.addTrace(ri.subscribe_session_topic_success);const A=Mr(zt({},x),{topic:E,requiredNamespaces:w,optionalNamespaces:y,pairingTopic:p,acknowledged:!1,self:x.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:v,transportType:qt.relay});await this.client.session.set(E,A),b.addTrace(ri.store_session);try{b.addTrace(ri.publishing_session_settle),await this.sendRequest({topic:E,method:"wc_sessionSettle",params:x,throwOnFailedPublish:!0}).catch(C=>{throw b==null||b.setError(Qc.session_settle_publish_failure),C}),b.addTrace(ri.session_settle_publish_success),b.addTrace(ri.publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:v},throwOnFailedPublish:!0}).catch(C=>{throw b==null||b.setError(Qc.session_approve_publish_failure),C}),b.addTrace(ri.session_approve_publish_success)}catch(C){throw this.client.logger.error(C),this.client.session.delete(E,Gt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(E),C}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(E,En(Uu)),{topic:E,acknowledged:()=>Promise.resolve(this.client.session.get(E))}}),ie(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:Nn.wc_sessionPropose.reject}),await this.deleteProposal(r)}),ie(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=sl(),c=Fi(),l=El().toString(),u=this.client.session.get(r).namespaces;return this.events.once(vt("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:i}}),ie(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=Fi(),{done:i,resolve:o,reject:a}=sl();return this.events.once(vt("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,En(Uu)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),ie(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:r,request:s,topic:i,expiry:o=Nn.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);(a==null?void 0:a.transportType)===qt.relay&&await this.confirmOnlineStateOrThrow();const c=Fi(),l=El().toString(),{done:u,resolve:d,reject:h}=sl(o,"Request expired. Please try again.");this.events.once(vt("session_request",c),({error:w,result:y})=>{w?h(w):d(y)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:{request:Mr(zt({},s),{expiryTimestamp:En(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(w=>h(w)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const g={request:Mr(zt({},s),{expiryTimestamp:En(o)}),chainId:r};return await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),w()}),new Promise(async w=>{var y;if(!((y=a.sessionConfig)!=null&&y.disableDeepLink)){const b=await fce(this.client.core.storage,Qk);await uce({id:c,topic:i,wcDeepLink:b})}w()}),u()]).then(w=>w[2])}),ie(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===qt.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);zi(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):Ms(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),ie(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=Fi(),i=El().toString(),{done:o,resolve:a,reject:c}=sl();this.events.once(vt("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ie(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=El().toString(),a=Fi();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ie(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Gt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=de("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),ie(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>Ede(r,n)))),ie(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ie(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?qt.link_mode:qt.relay;o===qt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:g=[],expiry:w}=n,y=[...n.resources||[]],{topic:b,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:v}});const _=await this.client.core.crypto.generateKeyPair(),E=c0(_);if(await Promise.all([this.client.auth.authKeys.set(u0,{responseTopic:E,publicKey:_}),this.client.auth.pairingTopics.set(E,{topic:E,pairingTopic:b})]),await this.client.core.relayer.subscribe(E,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),g.length>0){const{namespace:$}=Pd(a[0]);let U=Tle($,"request",g);a0(y)&&(U=Ple(U,y.pop())),y.push(U)}const x=w&&w>Nn.wc_sessionAuthenticate.req.ttl?w:Nn.wc_sessionAuthenticate.req.ttl,S={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:y},requester:{publicKey:_,metadata:this.client.metadata},expiryTimestamp:En(x)},A={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},C={requiredNamespaces:{},optionalNamespaces:A,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:_,metadata:this.client.metadata},expiryTimestamp:En(Nn.wc_sessionPropose.req.ttl),id:Fi()},{done:P,resolve:k,reject:B}=sl(x,"Request expired"),F=Fi(),H=vt("session_connect",C.id),N=vt("session_request",F),T=async({error:$,session:U})=>{this.events.off(N,L),$?B($):U&&k({session:U})},L=async $=>{var U,W,Y;if(await this.deletePendingAuthRequest(F,{message:"fulfilled",code:0}),$.error){const se=Gt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return $.error.code===se.code?void 0:(this.events.off(H,T),B($.error.message))}await this.deleteProposal(C.id),this.events.off(H,T);const{cacaos:te,responder:ee}=$.result,ne=[],me=[];for(const se of te){await zP({cacao:se,projectId:this.client.core.projectId})||(this.client.logger.error(se,"Signature verification failed"),B(Gt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:X}=se,le=a0(X.resources),Me=[KC(X.iss)],Ne=uw(X.iss);if(le){const be=WP(le),Oe=qP(le);ne.push(...be),Me.push(...Oe)}for(const be of Me)me.push(`${be}:${Ne}`)}const G=await this.client.core.crypto.generateSharedKey(_,ee.publicKey);let Q;ne.length>0&&(Q={topic:G,acknowledged:!0,self:{publicKey:_,metadata:this.client.metadata},peer:ee,controller:ee.publicKey,expiry:En(Uu),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:pk([...new Set(ne)],[...new Set(me)]),transportType:o},await this.client.core.relayer.subscribe(G,{transportType:o}),await this.client.session.set(G,Q),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:ee.metadata}),Q=this.client.session.get(G)),(U=this.client.metadata.redirect)!=null&&U.linkMode&&(W=ee.metadata.redirect)!=null&&W.linkMode&&(Y=ee.metadata.redirect)!=null&&Y.universal&&r&&(this.client.core.addLinkModeSupportedApp(ee.metadata.redirect.universal),this.client.session.update(G,{transportType:qt.link_mode})),k({auths:te,session:Q})};this.events.once(H,T),this.events.once(N,L);let D;try{if(i){const $=ac("wc_sessionAuthenticate",S,F);this.client.core.history.set(b,$);const U=await this.client.core.crypto.encode("",$,{type:gm,encoding:za});D=Ey(r,b,U)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:S,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:F}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:C,expiry:Nn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:C.id})])}catch($){throw this.events.off(H,T),this.events.off(N,L),$}return await this.setProposal(C.id,C),await this.setAuthRequest(F,{request:Mr(zt({},S),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:D??v,response:P}}),ie(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Zc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw i.setError(wf.no_internet_connection),w}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(wf.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||qt.relay;a===qt.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=c0(c),d={type:Bo,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const w of s){if(!await zP({cacao:w,projectId:this.client.core.projectId})){i.setError(wf.invalid_cacao);const E=Gt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:E,encodeOpts:d}),new Error(E.message)}i.addTrace(Zc.cacaos_verified);const{p:y}=w,b=a0(y.resources),v=[KC(y.iss)],_=uw(y.iss);if(b){const E=WP(b),x=qP(b);h.push(...E),v.push(...x)}for(const E of v)f.push(`${E}:${_}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(Zc.create_authenticated_session_topic);let g;if((h==null?void 0:h.length)>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:En(Uu),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:pk([...new Set(h)],[...new Set(f)]),transportType:a},i.addTrace(Zc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(w){throw i.setError(wf.subscribe_authenticated_session_topic_failure),w}i.addTrace(Zc.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),i.addTrace(Zc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(Zc.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw i.setError(wf.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:g}}),ie(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===qt.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=c0(o),l={type:Bo,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:Nn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),ie(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return Z4(r,s)}),ie(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ie(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ie(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Gt("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Qk).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,Gt("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Li.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),ie(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(Qc.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Gt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ie(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=Li.idle,this.client.events.emit("session_request_expire",{id:n}))}),ie(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),ie(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ie(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,En(Nn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ie(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=qt.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),ie(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||En(Nn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),ie(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,h=ac(s,i,c);let f;const p=!!u;try{const y=p?za:bi;f=await this.client.core.crypto.encode(r,h,{encoding:y})}catch(y){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),y}let g;if(Dme.includes(s)){const y=Ki(JSON.stringify(h)),b=Ki(f);g=await this.client.core.verify.register({id:b,decryptedId:y})}const w=Nn[s].req;if(w.attestation=g,o&&(w.ttl=o),a&&(w.id=a),this.client.core.history.set(r,h),p){const y=Ey(u,r,f);await global.Linking.openURL(y,this.client.name)}else{const y=Nn[s].req;o&&(y.ttl=o),a&&(y.id=a),y.tvf=Mr(zt({},d),{correlationId:h.id}),l?(y.internal=Mr(zt({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,f,y)):this.client.core.relayer.publish(r,f,y).catch(b=>this.client.logger.error(b))}return h.id}),ie(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=Uv(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?za:bi;u=await this.client.core.crypto.encode(s,l,Mr(zt({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let h,f;try{h=await this.client.core.history.get(s,r);const p=h.request;try{f=this.getTVFParams(r,p.params,i)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g==null?void 0:g.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(d){const p=Ey(c,s,u);await global.Linking.openURL(p,this.client.name)}else{const p=h.request.method,g=Nn[p].res;g.tvf=Mr(zt({},f),{correlationId:r}),o?(g.internal=Mr(zt({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(l)}),ie(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=Lv(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?za:bi;u=await this.client.core.crypto.encode(s,l,Mr(zt({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),f}let h;try{h=await this.client.core.history.get(s,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),f}if(d){const f=Ey(c,s,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=a||Nn[f].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),ie(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;Da(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Da(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),ie(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ie(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ie(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Li.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Li.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Li.idle}),ie(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ie(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ie(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=de("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),ie(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ie(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(xo.proposal_listener_not_found)),this.isValidConnect(zt({},s.params));const u=a.expiryTimestamp||En(Nn.wc_sessionPropose.req.ttl),d=zt({id:c,pairingTopic:r,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:i,hash:Ki(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(Mi.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:Nn.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),ie(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(zi(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(Ms(r)){await this.deleteProposal(i);const o=vt("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),ie(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(w=>w.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(f.proposalId),g=Mr(zt(zt(zt({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:qt.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(vt("session_connect",f.proposalId),{session:g}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ie(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;zi(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(vt("session_approve",s),{})):Ms(r)&&(await this.client.session.delete(n,Gt("USER_DISCONNECTED")),this.events.emit(vt("session_approve",s),{error:r.error}))}),ie(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=mf.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:Gt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(zt({topic:n},s));try{mf.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(c){throw mf.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ie(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ie(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=vt("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);zi(r)?this.events.emit(vt("session_update",s),{}):Ms(r)&&this.events.emit(vt("session_update",s),{error:r.error})}),ie(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,En(Uu)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),ie(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=vt("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);zi(r)?this.events.emit(vt("session_extend",s),{}):Ms(r)&&this.events.emit(vt("session_extend",s),{error:r.error})}),ie(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),ie(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=vt("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);zi(r)?this.events.emit(vt("session_ping",s),{}):Ms(r)&&this.events.emit(vt("session_ping",s),{error:r.error})},500)}),ie(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(Rn.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Gt("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),ie(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(zt({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:Ki(JSON.stringify(ac("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),g={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(g),u===qt.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=f.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),ie(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=vt("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);zi(r)?this.events.emit(vt("session_request",s),{result:r.result}):Ms(r)&&this.events.emit(vt("session_request",s),{error:r.error})}),ie(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=mf.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(zt({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),mf.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ie(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),zi(r)?this.events.emit(vt("session_request",s),{result:r.result}):Ms(r)&&this.events.emit(vt("session_request",s),{error:r.error})}),ie(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=i.params,h=await this.getVerifyContext({attestationId:o,hash:Ki(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:f,pairingTopic:s,transportType:c}),c===qt.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(i.params.requester.metadata,c),f={type:Bo,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:f,rpcOpts:Nn.wc_sessionAuthenticate.autoReject,appLink:h})}}),ie(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ie(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Li.idle,this.processSessionRequestQueue()},ue.toMiliseconds(this.requestQueueDelay))}),ie(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=vt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(vt("session_request",i.request.id),{error:r})})}),ie(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Li.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Li.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ie(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),ie(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:ac("wc_sessionPropose",Mr(zt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),ie(this,"isValidConnect",async n=>{if(!Wr(n)){const{message:l}=de("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(Kn(r)||await this.isValidPairingTopic(r),!Rde(c)){const{message:l}=de("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!Kn(s)&&xc(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(!Kn(i)&&xc(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),Kn(o)||this.validateSessionProps(o,"sessionProperties"),!Kn(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),ie(this,"validateNamespaces",(n,r)=>{const s=Ode(n,"connect()",r);if(s)throw new Error(s.message)}),ie(this,"isValidApprove",async n=>{if(!Wr(n))throw new Error(de("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=eE(s,"approve()");if(l)throw new Error(l.message);const u=yk(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!mn(i,!0)){const{message:d}=de("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(Kn(o)||this.validateSessionProps(o,"sessionProperties"),!Kn(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(h=>d.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),ie(this,"isValidReject",async n=>{if(!Wr(n)){const{message:i}=de("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Dde(s)){const{message:i}=de("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),ie(this,"isValidSessionSettleRequest",n=>{if(!Wr(n)){const{message:l}=de("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!Nj(r)){const{message:l}=de("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Ade(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=eE(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Da(o)){const{message:l}=de("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),ie(this,"isValidUpdate",async n=>{if(!Wr(n)){const{message:c}=de("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=eE(s,"update()");if(o)throw new Error(o.message);const a=yk(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),ie(this,"isValidExtend",async n=>{if(!Wr(n)){const{message:s}=de("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ie(this,"isValidRequest",async n=>{if(!Wr(n)){const{message:c}=de("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!mk(a,i)){const{message:c}=de("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!jde(s)){const{message:c}=de("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!Mde(a,i,s.method)){const{message:c}=de("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!Wde(o,aE)){const{message:c}=de("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${aE.min} and ${aE.max}`);throw new Error(c)}}),ie(this,"isValidRespond",async n=>{var r;if(!Wr(n)){const{message:o}=de("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Ude(i)){const{message:o}=de("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),ie(this,"isValidPing",async n=>{if(!Wr(n)){const{message:s}=de("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ie(this,"isValidEmit",async n=>{if(!Wr(n)){const{message:a}=de("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!mk(o,i)){const{message:a}=de("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!Lde(s)){const{message:a}=de("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!Bde(o,i,s.name)){const{message:a}=de("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),ie(this,"isValidDisconnect",async n=>{if(!Wr(n)){const{message:s}=de("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ie(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!mn(s,!1))throw new Error("uri is required parameter");if(!mn(i,!1))throw new Error("domain is required parameter");if(!mn(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Pd(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Pd(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ie(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||lp,validation:"UNKNOWN",origin:o.url||""}};try{if(a===qt.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ie(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=de("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),ie(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ie(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),ie(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=de("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),ie(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,d,h;return!n||r!==qt.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ie(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),ie(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=PP(n,"topic")||"",s=decodeURIComponent(PP(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:qt.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),ie(this,"registerLinkModeListeners",async()=>{var n;if(GA()||qc()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),ie(this,"getTVFParams",(n,r,s)=>{var i,o,a;if(!((i=r.request)!=null&&i.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),ie(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),ie(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=Rme[i];if(i==="sui_signTransaction")return[hle(r.transactionBytes)];if(i==="near_signTransaction")return[LP(r)];if(i==="near_signTransactions")return r.map(c=>LP(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[she({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return Fo(r)?r.map(c=>MP(c)):[MP(r)];if(i==="cosmos_signDirect")return[ple(r)];if(typeof r=="string")return[r];const a=r[o.key];if(Fo(a))return i==="solana_signAllTransactions"?a.map(c=>dle(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Rn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(u0)?this.client.auth.authKeys.get(u0):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===qt.link_mode?za:bi});c2(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:Ki(r)})):Mv(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Us.expired,async e=>{const{topic:n,id:r}=U4(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,de("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,de("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(cl.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(cl.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!mn(e,!1)){const{message:n}=de("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=de("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Da(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=de("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!mn(e,!1)){const{message:n}=de("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=de("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Da(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=de("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=de("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(mn(e,!1)){const{message:n}=de("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=de("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!$de(e)){const{message:n}=de("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=de("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Da(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=de("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class Gme extends bu{constructor(e,n){super(e,n,Pme,l2),this.core=e,this.logger=n}}let Kme=class extends bu{constructor(e,n){super(e,n,kme,l2),this.core=e,this.logger=n}};class Yme extends bu{constructor(e,n){super(e,n,$me,l2,r=>r.id),this.core=e,this.logger=n}}class Jme extends bu{constructor(e,n){super(e,n,Lme,Fv,()=>u0),this.core=e,this.logger=n}}class Qme extends bu{constructor(e,n){super(e,n,Mme,Fv),this.core=e,this.logger=n}}class Zme extends bu{constructor(e,n){super(e,n,Bme,Fv,r=>r.id),this.core=e,this.logger=n}}var Xme=Object.defineProperty,eye=(t,e,n)=>e in t?Xme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cE=(t,e,n)=>eye(t,typeof e!="symbol"?e+"":e,n);class tye{constructor(e,n){this.core=e,this.logger=n,cE(this,"authKeys"),cE(this,"pairingTopics"),cE(this,"requests"),this.authKeys=new Jme(this.core,this.logger),this.pairingTopics=new Qme(this.core,this.logger),this.requests=new Zme(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var nye=Object.defineProperty,rye=(t,e,n)=>e in t?nye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rt=(t,e,n)=>rye(t,typeof e!="symbol"?e+"":e,n);let sye=class rU extends lne{constructor(e){super(e),rt(this,"protocol",eU),rt(this,"version",tU),rt(this,"name",oE.name),rt(this,"metadata"),rt(this,"core"),rt(this,"logger"),rt(this,"events",new Qs.EventEmitter),rt(this,"engine"),rt(this,"session"),rt(this,"proposal"),rt(this,"pendingRequest"),rt(this,"auth"),rt(this,"signConfig"),rt(this,"on",(r,s)=>this.events.on(r,s)),rt(this,"once",(r,s)=>this.events.once(r,s)),rt(this,"off",(r,s)=>this.events.off(r,s)),rt(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),rt(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),rt(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),rt(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||oE.name,this.metadata=sce(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:cm(Sh({level:(e==null?void 0:e.logger)||oE.logger}));this.core=(e==null?void 0:e.core)||new Nme(e),this.logger=yr(n,this.name),this.session=new Kme(this.core,this.logger),this.proposal=new Gme(this.core,this.logger),this.pendingRequest=new Yme(this.core,this.logger),this.engine=new Vme(this),this.auth=new tye(this.core,this.logger)}static async init(e){const n=new rU(e);return await n.initialize(),n}get context(){return os(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},ue.toMiliseconds(ue.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var bx={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof on<"u"&&on,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof on<"u"&&on||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(N){return N&&DataView.prototype.isPrototypeOf(N)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(N){return N&&u.indexOf(Object.prototype.toString.call(N))>-1};function h(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(N)||N==="")throw new TypeError('Invalid character in header field name: "'+N+'"');return N.toLowerCase()}function f(N){return typeof N!="string"&&(N=String(N)),N}function p(N){var T={next:function(){var L=N.shift();return{done:L===void 0,value:L}}};return c.iterable&&(T[Symbol.iterator]=function(){return T}),T}function g(N){this.map={},N instanceof g?N.forEach(function(T,L){this.append(L,T)},this):Array.isArray(N)?N.forEach(function(T){if(T.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+T.length);this.append(T[0],T[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(T){this.append(T,N[T])},this)}g.prototype.append=function(N,T){N=h(N),T=f(T);var L=this.map[N];this.map[N]=L?L+", "+T:T},g.prototype.delete=function(N){delete this.map[h(N)]},g.prototype.get=function(N){return N=h(N),this.has(N)?this.map[N]:null},g.prototype.has=function(N){return this.map.hasOwnProperty(h(N))},g.prototype.set=function(N,T){this.map[h(N)]=f(T)},g.prototype.forEach=function(N,T){for(var L in this.map)this.map.hasOwnProperty(L)&&N.call(T,this.map[L],L,this)},g.prototype.keys=function(){var N=[];return this.forEach(function(T,L){N.push(L)}),p(N)},g.prototype.values=function(){var N=[];return this.forEach(function(T){N.push(T)}),p(N)},g.prototype.entries=function(){var N=[];return this.forEach(function(T,L){N.push([L,T])}),p(N)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function w(N){if(!N._noBody){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}}function y(N){return new Promise(function(T,L){N.onload=function(){T(N.result)},N.onerror=function(){L(N.error)}})}function b(N){var T=new FileReader,L=y(T);return T.readAsArrayBuffer(N),L}function v(N){var T=new FileReader,L=y(T),D=/charset=([A-Za-z0-9_-]+)/.exec(N.type),$=D?D[1]:"utf-8";return T.readAsText(N,$),L}function _(N){for(var T=new Uint8Array(N),L=new Array(T.length),D=0;D<T.length;D++)L[D]=String.fromCharCode(T[D]);return L.join("")}function E(N){if(N.slice)return N.slice(0);var T=new Uint8Array(N.byteLength);return T.set(new Uint8Array(N)),T.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(N){this.bodyUsed=this.bodyUsed,this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:c.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:c.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():c.arrayBuffer&&c.blob&&l(N)?(this._bodyArrayBuffer=E(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||d(N))?this._bodyArrayBuffer=E(N):this._bodyText=N=Object.prototype.toString.call(N):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var N=w(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var N=w(this);return N||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var N=w(this);if(N)return N;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function A(N){var T=N.toUpperCase();return S.indexOf(T)>-1?T:N}function C(N,T){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');T=T||{};var L=T.body;if(N instanceof C){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,T.headers||(this.headers=new g(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!L&&N._bodyInit!=null&&(L=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=T.credentials||this.credentials||"same-origin",(T.headers||!this.headers)&&(this.headers=new g(T.headers)),this.method=A(T.method||this.method||"GET"),this.mode=T.mode||this.mode||null,this.signal=T.signal||this.signal||function(){if("AbortController"in a){var U=new AbortController;return U.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(L),(this.method==="GET"||this.method==="HEAD")&&(T.cache==="no-store"||T.cache==="no-cache")){var D=/([?&])_=[^&]*/;if(D.test(this.url))this.url=this.url.replace(D,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function P(N){var T=new FormData;return N.trim().split("&").forEach(function(L){if(L){var D=L.split("="),$=D.shift().replace(/\+/g," "),U=D.join("=").replace(/\+/g," ");T.append(decodeURIComponent($),decodeURIComponent(U))}}),T}function k(N){var T=new g,L=N.replace(/\r?\n[\t ]+/g," ");return L.split("\r").map(function(D){return D.indexOf(`
`)===0?D.substr(1,D.length):D}).forEach(function(D){var $=D.split(":"),U=$.shift().trim();if(U){var W=$.join(":").trim();try{T.append(U,W)}catch(Y){console.warn("Response "+Y.message)}}}),T}x.call(C.prototype);function B(N,T){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(T||(T={}),this.type="default",this.status=T.status===void 0?200:T.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=T.statusText===void 0?"":""+T.statusText,this.headers=new g(T.headers),this.url=T.url||"",this._initBody(N)}x.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},B.error=function(){var N=new B(null,{status:200,statusText:""});return N.ok=!1,N.status=0,N.type="error",N};var F=[301,302,303,307,308];B.redirect=function(N,T){if(F.indexOf(T)===-1)throw new RangeError("Invalid status code");return new B(null,{status:T,headers:{location:N}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(T,L){this.message=T,this.name=L;var D=Error(T);this.stack=D.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function H(N,T){return new Promise(function(L,D){var $=new C(N,T);if($.signal&&$.signal.aborted)return D(new o.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function W(){U.abort()}U.onload=function(){var ee={statusText:U.statusText,headers:k(U.getAllResponseHeaders()||"")};$.url.indexOf("file://")===0&&(U.status<200||U.status>599)?ee.status=200:ee.status=U.status,ee.url="responseURL"in U?U.responseURL:ee.headers.get("X-Request-URL");var ne="response"in U?U.response:U.responseText;setTimeout(function(){L(new B(ne,ee))},0)},U.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},U.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request timed out"))},0)},U.onabort=function(){setTimeout(function(){D(new o.DOMException("Aborted","AbortError"))},0)};function Y(ee){try{return ee===""&&a.location.href?a.location.href:ee}catch{return ee}}if(U.open($.method,Y($.url),!0),$.credentials==="include"?U.withCredentials=!0:$.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&(c.blob?U.responseType="blob":c.arrayBuffer&&(U.responseType="arraybuffer")),T&&typeof T.headers=="object"&&!(T.headers instanceof g||a.Headers&&T.headers instanceof a.Headers)){var te=[];Object.getOwnPropertyNames(T.headers).forEach(function(ee){te.push(h(ee)),U.setRequestHeader(ee,f(T.headers[ee]))}),$.headers.forEach(function(ee,ne){te.indexOf(ne)===-1&&U.setRequestHeader(ne,ee)})}else $.headers.forEach(function(ee,ne){U.setRequestHeader(ne,ee)});$.signal&&($.signal.addEventListener("abort",W),U.onreadystatechange=function(){U.readyState===4&&$.signal.removeEventListener("abort",W)}),U.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return H.polyfill=!0,a.fetch||(a.fetch=H,a.Headers=g,a.Request=C,a.Response=B),o.Headers=g,o.Request=C,o.Response=B,o.fetch=H,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(bx,bx.exports);var iye=bx.exports;const eO=cu(iye);var oye=Object.defineProperty,aye=Object.defineProperties,cye=Object.getOwnPropertyDescriptors,tO=Object.getOwnPropertySymbols,lye=Object.prototype.hasOwnProperty,uye=Object.prototype.propertyIsEnumerable,nO=(t,e,n)=>e in t?oye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rO=(t,e)=>{for(var n in e||(e={}))lye.call(e,n)&&nO(t,n,e[n]);if(tO)for(var n of tO(e))uye.call(e,n)&&nO(t,n,e[n]);return t},sO=(t,e)=>aye(t,cye(e));const dye={Accept:"application/json","Content-Type":"application/json"},hye="POST",iO={headers:dye,method:hye},oO=10;let Oi=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Qs.EventEmitter,this.isAvailable=!1,this.registering=!1,!Ck(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Qo(e),r=await(await eO(this.url,sO(rO({},iO),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!Ck(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Qo({id:1,jsonrpc:"2.0",method:"test",params:[]});await eO(e,sO(rO({},iO),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Xl(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=Lv(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return Oj(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>oO&&this.events.setMaxListeners(oO)}};const aO="error",fye="wss://relay.walletconnect.org",pye="wc",gye="universal_provider",Cy=`${pye}@2:${gye}:`,sU="https://rpc.walletconnect.org/v1/",td="generic",mye=`${sU}bundler`,Xs={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function u2(t){return t==null||typeof t!="object"&&typeof t!="function"}function iU(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function oU(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const yye="[object RegExp]",aU="[object String]",cU="[object Number]",lU="[object Boolean]",uU="[object Arguments]",wye="[object Symbol]",vye="[object Date]",bye="[object Map]",Eye="[object Set]",_ye="[object Array]",Cye="[object ArrayBuffer]",xye="[object Object]",Sye="[object DataView]",Aye="[object Uint8Array]",Iye="[object Uint8ClampedArray]",Tye="[object Uint16Array]",Nye="[object Uint32Array]",Pye="[object Int8Array]",kye="[object Int16Array]",Oye="[object Int32Array]",Rye="[object Float32Array]",$ye="[object Float64Array]";function d2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Dye(t,e){return vd(t,void 0,t,new Map,e)}function vd(t,e,n,r=new Map,s=void 0){const i=s==null?void 0:s(t,e,n,r);if(i!=null)return i;if(u2(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=vd(t[a],a,n,r,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,vd(c,a,n,r,s));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(vd(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(d2(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=vd(t[a],a,n,r,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),ll(o,t,n,r,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),ll(o,t,n,r,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),ll(o,t,n,r,s),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,ll(o,t,n,r,s),o}if(typeof t=="object"&&jye(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),ll(o,t,n,r,s),o}return t}function ll(t,e,n=t,r,s){const i=[...Object.keys(e),...iU(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=vd(e[a],a,n,r,s))}}function jye(t){switch(oU(t)){case uU:case _ye:case Cye:case Sye:case lU:case vye:case Rye:case $ye:case Pye:case kye:case Oye:case bye:case cU:case xye:case yye:case Eye:case aU:case wye:case Aye:case Iye:case Tye:case Nye:return!0;default:return!1}}function Uye(t,e){return Dye(t,(n,r,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case cU:case aU:case lU:{const o=new t.constructor(t==null?void 0:t.valueOf());return ll(o,t),o}case uU:{const o={};return ll(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function cO(t){return Uye(t)}function lO(t){return t!==null&&typeof t=="object"&&oU(t)==="[object Arguments]"}function uO(t){return typeof t=="object"&&t!==null}function Lye(){}function Mye(t){return d2(t)}function Bye(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Fye(t){if(u2(t))return t;if(Array.isArray(t)||d2(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function zye(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const o=n[i];s=Ex(s,o,r,new Map)}return s}function Ex(t,e,n,r){if(u2(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return Fye(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...iU(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(lO(a)&&(a={...a}),lO(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=cO(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||uO(c)&&uO(a)?t[o]=Ex(c,a,n,r):c==null&&Bye(a)?t[o]=Ex({},a,n,r):c==null&&Mye(a)?t[o]=cO(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function Wye(t,...e){return zye(t,...e,Lye)}var qye=Object.defineProperty,Hye=Object.defineProperties,Vye=Object.getOwnPropertyDescriptors,dO=Object.getOwnPropertySymbols,Gye=Object.prototype.hasOwnProperty,Kye=Object.prototype.propertyIsEnumerable,hO=(t,e,n)=>e in t?qye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xy=(t,e)=>{for(var n in e||(e={}))Gye.call(e,n)&&hO(t,n,e[n]);if(dO)for(var n of dO(e))Kye.call(e,n)&&hO(t,n,e[n]);return t},Yye=(t,e)=>Hye(t,Vye(e));function xs(t,e,n){var r;const s=Pd(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${sU}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function Eu(t){return t.includes(":")?t.split(":")[1]:t}function dU(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Jye(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=e.namespaces[s].accounts;r.push(...i)}),r}function Sy(t={},e={}){const n=fO(t),r=fO(e);return Wye(n,r)}function fO(t){var e,n,r,s,i;const o={};if(!xc(t))return o;for(const[a,c]of Object.entries(t)){const l=jv(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=wd(a);o[f]=Yye(xy(xy({},o[f]),c),{chains:ro(l,(e=o[f])==null?void 0:e.chains),methods:ro(u,(n=o[f])==null?void 0:n.methods),events:ro(d,(r=o[f])==null?void 0:r.events)}),(xc(h)||xc(((s=o[f])==null?void 0:s.rpcMap)||{}))&&(o[f].rpcMap=xy(xy({},h),(i=o[f])==null?void 0:i.rpcMap))}return o}function pO(t){return t.includes(":")?t.split(":")[2]:t}function gO(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=jv(n)?[n]:r.chains?r.chains:dU(r.accounts);e[n]={chains:a,methods:s,events:i,accounts:o}}return e}function lE(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const hU={},gt=t=>hU[t],uE=(t,e)=>{hU[t]=e};var Qye=Object.defineProperty,Zye=(t,e,n)=>e in t?Qye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lu=(t,e,n)=>Zye(t,typeof e!="symbol"?e+"":e,n);class Xye{constructor(e){Lu(this,"name","polkadot"),Lu(this,"client"),Lu(this,"httpProviders"),Lu(this,"events"),Lu(this,"namespace"),Lu(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Eu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||xs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new Oi(r,gt("disableProviderPing")))}}var e0e=Object.defineProperty,t0e=Object.defineProperties,n0e=Object.getOwnPropertyDescriptors,mO=Object.getOwnPropertySymbols,r0e=Object.prototype.hasOwnProperty,s0e=Object.prototype.propertyIsEnumerable,_x=(t,e,n)=>e in t?e0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yO=(t,e)=>{for(var n in e||(e={}))r0e.call(e,n)&&_x(t,n,e[n]);if(mO)for(var n of mO(e))s0e.call(e,n)&&_x(t,n,e[n]);return t},wO=(t,e)=>t0e(t,n0e(e)),Mu=(t,e,n)=>_x(t,typeof e!="symbol"?e+"":e,n);class i0e{constructor(e){Mu(this,"name","eip155"),Mu(this,"client"),Mu(this,"chainId"),Mu(this,"namespace"),Mu(this,"httpProviders"),Mu(this,"events"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||xs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new Oi(r,gt("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(Eu(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s,i,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[],l=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((o=u==null?void 0:u.sessionProperties)==null?void 0:o.capabilities)||{};if(d!=null&&d[l])return d==null?void 0:d[l];const h=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:wO(yO({},u.sessionProperties||{}),{capabilities:wO(yO({},d||{}),{[l]:h})})})}catch(f){console.warn("Failed to update session with capabilities",f)}return h}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const a=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ac("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,n){return`${mye}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var o0e=Object.defineProperty,a0e=(t,e,n)=>e in t?o0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bu=(t,e,n)=>a0e(t,typeof e!="symbol"?e+"":e,n);class c0e{constructor(e){Bu(this,"name","solana"),Bu(this,"client"),Bu(this,"httpProviders"),Bu(this,"events"),Bu(this,"namespace"),Bu(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Eu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||xs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new Oi(r,gt("disableProviderPing")))}}var l0e=Object.defineProperty,u0e=(t,e,n)=>e in t?l0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fu=(t,e,n)=>u0e(t,typeof e!="symbol"?e+"":e,n);class d0e{constructor(e){Fu(this,"name","cosmos"),Fu(this,"client"),Fu(this,"httpProviders"),Fu(this,"events"),Fu(this,"namespace"),Fu(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Eu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||xs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new Oi(r,gt("disableProviderPing")))}}var h0e=Object.defineProperty,f0e=(t,e,n)=>e in t?h0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zu=(t,e,n)=>f0e(t,typeof e!="symbol"?e+"":e,n);class p0e{constructor(e){zu(this,"name","algorand"),zu(this,"client"),zu(this,"httpProviders"),zu(this,"events"),zu(this,"namespace"),zu(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||xs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||xs(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Zs(new Oi(r,gt("disableProviderPing")))}}var g0e=Object.defineProperty,m0e=(t,e,n)=>e in t?g0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wu=(t,e,n)=>m0e(t,typeof e!="symbol"?e+"":e,n);class y0e{constructor(e){Wu(this,"name","cip34"),Wu(this,"client"),Wu(this,"httpProviders"),Wu(this,"events"),Wu(this,"namespace"),Wu(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=Eu(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new Oi(r,gt("disableProviderPing")))}}var w0e=Object.defineProperty,v0e=(t,e,n)=>e in t?w0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qu=(t,e,n)=>v0e(t,typeof e!="symbol"?e+"":e,n);class b0e{constructor(e){qu(this,"name","elrond"),qu(this,"client"),qu(this,"httpProviders"),qu(this,"events"),qu(this,"namespace"),qu(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Eu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||xs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new Oi(r,gt("disableProviderPing")))}}var E0e=Object.defineProperty,_0e=(t,e,n)=>e in t?E0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hu=(t,e,n)=>_0e(t,typeof e!="symbol"?e+"":e,n);class C0e{constructor(e){Hu(this,"name","multiversx"),Hu(this,"client"),Hu(this,"httpProviders"),Hu(this,"events"),Hu(this,"namespace"),Hu(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Eu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||xs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new Oi(r,gt("disableProviderPing")))}}var x0e=Object.defineProperty,S0e=(t,e,n)=>e in t?x0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vu=(t,e,n)=>S0e(t,typeof e!="symbol"?e+"":e,n);class A0e{constructor(e){Vu(this,"name","near"),Vu(this,"client"),Vu(this,"httpProviders"),Vu(this,"events"),Vu(this,"namespace"),Vu(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||xs(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||xs(e,this.namespace);return typeof r>"u"?void 0:new Zs(new Oi(r,gt("disableProviderPing")))}}var I0e=Object.defineProperty,T0e=(t,e,n)=>e in t?I0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gu=(t,e,n)=>T0e(t,typeof e!="symbol"?e+"":e,n);class N0e{constructor(e){Gu(this,"name","tezos"),Gu(this,"client"),Gu(this,"httpProviders"),Gu(this,"events"),Gu(this,"namespace"),Gu(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||xs(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||xs(e,this.namespace);return typeof r>"u"?void 0:new Zs(new Oi(r))}}var P0e=Object.defineProperty,k0e=(t,e,n)=>e in t?P0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ku=(t,e,n)=>k0e(t,typeof e!="symbol"?e+"":e,n);class O0e{constructor(e){Ku(this,"name",td),Ku(this,"client"),Ku(this,"httpProviders"),Ku(this,"events"),Ku(this,"namespace"),Ku(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const i=Pd(s);r[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||xs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new Oi(r,gt("disableProviderPing")))}}var R0e=Object.defineProperty,$0e=Object.defineProperties,D0e=Object.getOwnPropertyDescriptors,vO=Object.getOwnPropertySymbols,j0e=Object.prototype.hasOwnProperty,U0e=Object.prototype.propertyIsEnumerable,Cx=(t,e,n)=>e in t?R0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ay=(t,e)=>{for(var n in e||(e={}))j0e.call(e,n)&&Cx(t,n,e[n]);if(vO)for(var n of vO(e))U0e.call(e,n)&&Cx(t,n,e[n]);return t},dE=(t,e)=>$0e(t,D0e(e)),$s=(t,e,n)=>Cx(t,typeof e!="symbol"?e+"":e,n);let L0e=class fU{constructor(e){$s(this,"client"),$s(this,"namespaces"),$s(this,"optionalNamespaces"),$s(this,"sessionProperties"),$s(this,"scopedProperties"),$s(this,"events",new PA),$s(this,"rpcProviders",{}),$s(this,"session"),$s(this,"providerOpts"),$s(this,"logger"),$s(this,"uri"),$s(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:cm(Sh({level:(e==null?void 0:e.logger)||aO})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new fU(e);return await n.initialize(),n}async request(e,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:Ay({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const i=new Date().getTime();this.request(e,r,s).then(o=>n(null,Uv(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Gt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=gO(this.session.namespaces);this.namespaces=Sy(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=gO(s.namespaces);return this.namespaces=Sy(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),i=this.getProvider(r);i.name===td?i.setDefaultChain(`${r}:${s}`,n):i.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(Fo(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await sye.init({core:this.providerOpts.core,logger:this.providerOpts.logger||aO,relayUrl:this.providerOpts.relayUrl||fye,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>wd(n)))];uE("client",this.client),uE("events",this.events),uE("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=Jye(n,this.session),s=dU(r),i=Sy(this.namespaces,this.optionalNamespaces),o=dE(Ay({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new i0e({namespace:o});break;case"algorand":this.rpcProviders[n]=new p0e({namespace:o});break;case"solana":this.rpcProviders[n]=new c0e({namespace:o});break;case"cosmos":this.rpcProviders[n]=new d0e({namespace:o});break;case"polkadot":this.rpcProviders[n]=new Xye({namespace:o});break;case"cip34":this.rpcProviders[n]=new y0e({namespace:o});break;case"elrond":this.rpcProviders[n]=new b0e({namespace:o});break;case"multiversx":this.rpcProviders[n]=new C0e({namespace:o});break;case"near":this.rpcProviders[n]=new A0e({namespace:o});break;case"tezos":this.rpcProviders[n]=new N0e({namespace:o});break;default:this.rpcProviders[td]?this.rpcProviders[td].updateNamespace(o):this.rpcProviders[td]=new O0e({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&Fo(o)&&this.events.emit("accountsChanged",o.map(pO))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=wd(o),l=lE(o)!==lE(a)?`${c}:${lE(a)}`:o;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(e);this.session=dE(Ay({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",dE(Ay({},Gt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Xs.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[td]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=Sy(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>wd(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=wd(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const i=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(pO);if(!Fo(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Cy}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Cy}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Cy}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Cy)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const dp={getSIWX(){return oe.state.siwx},async initializeIfEnabled(){var i;const t=oe.state.siwx,e=O.getActiveCaipAddress();if(!(t&&e))return;const[n,r,s]=e.split(":");if(O.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,s)).length)return;await bt.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),St.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((i=Se._getClient())==null?void 0:i.disconnect().catch(console.error)),Le.reset("Connect"),vi.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=oe.state.siwx,e=Pe.getPlainAddress(O.getActiveCaipAddress()),n=O.getActiveCaipNetwork(),r=Se._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=s.toString();ge.getConnectorId(n.chainNamespace)===Z.CONNECTOR_ID.AUTH&&Le.pushTransactionStack({});const a=await r.signMessage(i);await t.addSession({data:s,message:i,signature:a}),O.setLastConnectedSIWECaipNetwork(n),bt.close(),St.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!bt.state.open||Le.state.view==="ApproveTransaction")&&await bt.open({view:"SIWXSignMessage"}),i.isSmartAccount?vi.showError("This application might not support Smart Accounts"):vi.showError("Signature declined"),St.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();if((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e)){const r=O.getLastConnectedSIWECaipNetwork();r?O.switchActiveNetwork(r):await Se.disconnect()}else bt.close();Le.reset("Connect"),St.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const t=this.getSIWX(),e=O.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const s=await(t==null?void 0:t.getSessions(r.caipNetworkId,Pe.getPlainAddress(O.getActiveCaipAddress())||""));s&&n.push(...s)})),n},async getSessions(){const t=oe.state.siwx,e=Pe.getPlainAddress(O.getActiveCaipAddress()),n=O.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=Le.state.view==="ApproveTransaction",r=Le.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=dp.getSIWX(),s=new Set(e.map(u=>u.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const i=await r.createMessage({chainId:((a=O.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...e.filter(u=>u!==i.chainId)]});if(vi.showLoading("Authenticating...",{autoClose:!1}),he.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(d=>{const h=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||i.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:h,signature:d.s.s,cacao:d}});try{await r.setSessions(u),St.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:dp.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),St.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:dp.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{vi.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=O.state.activeChain;return{network:((e=O.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=he.state.preferredAccountTypes)==null?void 0:n[t])===Un.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Ht={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},cc={ConnectorExplorerIds:{[Z.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Z.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Z.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Z.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Z.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Ht.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Ht.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Ht.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Ht.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Ht.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Ht.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Ht.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Ht.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Ht.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Ht.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Ht.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Z.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Z.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Z.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Z.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Z.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Z.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Z.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Z.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Z.CONNECTOR_ID.COINBASE]:"Coinbase",[Z.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Z.CONNECTOR_ID.LEDGER]:"Ledger",[Z.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[Z.CONNECTOR_ID.INJECTED]:"INJECTED",[Z.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[Z.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[Z.CONNECTOR_ID.AUTH]:"AUTH"}},Eg={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${Ht.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){const t=O.state.activeChain;return Z.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>ge.getConnectorId(e)===Z.CONNECTOR_ID.AUTH&&e===t)}},M0e=new AbortController,Yt={EmbeddedWalletAbortController:M0e,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${B0e()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"},SERVER_ERROR_APP_CONFIGURATION:{shortMessage:"Server Error",longMessage:t=>`Failed to get App Configuration ${t||""}`},RATE_LIMITED_APP_CONFIGURATION:{shortMessage:"Rate Limited",longMessage:"Rate limited when trying to get the App Configuration"}}};function B0e(){return typeof window<"u"}const F0e={createLogger(t,e="error"){const n=Sh({level:e}),{logger:r}=OA({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},r}},z0e="rpc.walletconnect.org";function bO(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const hE=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Qi={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===z0e}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:Z.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${Z.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,i,o;const r=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return hE.includes(e)?bO(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var h,f,p,g,w;const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(h=t.rpcUrls.default.http)==null?void 0:h[0],a=this.getDefaultRpcUrl(t,i,n),c=((g=(p=(f=t==null?void 0:t.rpcUrls)==null?void 0:f.chainDefault)==null?void 0:p.http)==null?void 0:g[0])||o,l=((w=r==null?void 0:r[i])==null?void 0:w.map(y=>y.url))||[],u=[...l,a],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:cc.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>Qi.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,i,o;const r=[];return n==null||n.forEach(a=>{r.push(Gm(a.url,a.config))}),hE.includes(t.caipNetworkId)&&r.push(Gm(bO(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{r.push(Gm(a))}),bT(r)},extendWagmiTransports(t,e,n){if(hE.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return bT([n,Gm(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:Z.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=fe.getActiveCaipNetworkId(),n=O.getAllRequestedCaipNetworks(),r=Array.from(((c=O.state.chains)==null?void 0:c.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?r.includes(s):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},gw={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},Br=Ft({providers:{...gw},providerIds:{...gw}}),kt={state:Br,subscribeKey(t,e){return Xn(Br,t,e)},subscribe(t){return Zn(Br,()=>{t(Br)})},subscribeProviders(t){return Zn(Br.providers,()=>t(Br.providers))},setProvider(t,e){e&&(Br.providers[t]=Ql(e))},getProvider(t){return Br.providers[t]},setProviderId(t,e){e&&(Br.providerIds[t]=e)},getProviderId(t){if(t)return Br.providerIds[t]},reset(){Br.providers={...gw},Br.providerIds={...gw}},resetChain(t){Br.providers[t]=void 0,Br.providerIds[t]=void 0}},EO={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Vn={set(t,e){ms.isClient&&localStorage.setItem(`${Ie.STORAGE_KEY}${t}`,e)},get(t){return ms.isClient?localStorage.getItem(`${Ie.STORAGE_KEY}${t}`):null},delete(t,e){ms.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Ie.STORAGE_KEY}${t}`))}},Iy=30*1e3,ms={checkIfAllowedToTriggerEmail(){const t=Vn.get(Ie.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Iy){const n=Math.ceil((Iy-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=Vn.get(Ie.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Iy)return Math.ceil((Iy-e)/1e3)}return 0},checkIfRequestExists(t){return Un.NOT_SAFE_RPC_METHODS.includes(t.method)||Un.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(EO.transactionHash))||(t==null?void 0:t.match(EO.signedMessage)))?Ie.RPC_RESPONSE_TYPE_TX:Ie.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Un.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var pt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(pt||(pt={}));var xx;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(xx||(xx={}));const _e=pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wa=t=>{switch(typeof t){case"undefined":return _e.undefined;case"string":return _e.string;case"number":return isNaN(t)?_e.nan:_e.number;case"boolean":return _e.boolean;case"function":return _e.function;case"bigint":return _e.bigint;case"symbol":return _e.symbol;case"object":return Array.isArray(t)?_e.array:t===null?_e.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?_e.promise:typeof Map<"u"&&t instanceof Map?_e.map:typeof Set<"u"&&t instanceof Set?_e.set:typeof Date<"u"&&t instanceof Date?_e.date:_e.object;default:return _e.unknown}},ce=pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),W0e=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Si extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Si.create=t=>new Si(t);const _g=(t,e)=>{let n;switch(t.code){case ce.invalid_type:t.received===_e.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ce.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,pt.jsonStringifyReplacer)}`;break;case ce.unrecognized_keys:n=`Unrecognized key(s) in object: ${pt.joinValues(t.keys,", ")}`;break;case ce.invalid_union:n="Invalid input";break;case ce.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${pt.joinValues(t.options)}`;break;case ce.invalid_enum_value:n=`Invalid enum value. Expected ${pt.joinValues(t.options)}, received '${t.received}'`;break;case ce.invalid_arguments:n="Invalid function arguments";break;case ce.invalid_return_type:n="Invalid function return type";break;case ce.invalid_date:n="Invalid date";break;case ce.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:pt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ce.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ce.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ce.custom:n="Invalid input";break;case ce.invalid_intersection_types:n="Intersection results could not be merged";break;case ce.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ce.not_finite:n="Number must be finite";break;default:n=e.defaultError,pt.assertNever(t)}return{message:n}};let pU=_g;function q0e(t){pU=t}function mw(){return pU}const yw=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},H0e=[];function Ae(t,e){const n=yw({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,mw(),_g].filter(r=>!!r)});t.common.issues.push(n)}class mr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return qe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return mr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return qe;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const qe=Object.freeze({status:"aborted"}),gU=t=>({status:"dirty",value:t}),Nr=t=>({status:"valid",value:t}),Sx=t=>t.status==="aborted",Ax=t=>t.status==="dirty",Cg=t=>t.status==="valid",ww=t=>typeof Promise<"u"&&t instanceof Promise;var De;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(De||(De={}));class ao{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _O=(t,e)=>{if(Cg(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Si(t.common.issues);return this._error=n,this._error}}};function Je(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class Xe{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Wa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Wa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new mr,ctx:{common:e.parent.common,data:e.data,parsedType:Wa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ww(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wa(e)},i=this._parseSync({data:e,path:s.path,parent:s});return _O(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wa(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(ww(s)?s:Promise.resolve(s));return _O(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:ce.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Ni({schema:this,typeName:Fe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return zo.create(this,this._def)}nullable(){return ou.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ai.create(this,this._def)}promise(){return uh.create(this,this._def)}or(e){return Ig.create([this,e],this._def)}and(e){return Tg.create(this,e,this._def)}transform(e){return new Ni({...Je(this._def),schema:this,typeName:Fe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Rg({...Je(this._def),innerType:this,defaultValue:n,typeName:Fe.ZodDefault})}brand(){return new yU({typeName:Fe.ZodBranded,type:this,...Je(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new _w({...Je(this._def),innerType:this,catchValue:n,typeName:Fe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ym.create(this,e)}readonly(){return xw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const V0e=/^c[^\s-]{8,}$/i,G0e=/^[a-z][a-z0-9]*$/,K0e=/^[0-9A-HJKMNP-TV-Z]{26}$/,Y0e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,J0e=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Q0e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let fE;const Z0e=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,X0e=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ewe=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function twe(t,e){return!!((e==="v4"||!e)&&Z0e.test(t)||(e==="v6"||!e)&&X0e.test(t))}class Ei extends Xe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_e.string){const i=this._getOrReturnCtx(e);return Ae(i,{code:ce.invalid_type,expected:_e.string,received:i.parsedType}),qe}const r=new mr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Ae(s,{code:ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Ae(s,{code:ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")J0e.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"email",code:ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")fE||(fE=new RegExp(Q0e,"u")),fE.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"emoji",code:ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Y0e.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"uuid",code:ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")V0e.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"cuid",code:ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")G0e.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"cuid2",code:ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")K0e.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"ulid",code:ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ae(s,{validation:"url",code:ce.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"regex",code:ce.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:ce.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:ce.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:ce.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?ewe(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:ce.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?twe(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"ip",code:ce.invalid_string,message:i.message}),r.dirty()):pt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:ce.invalid_string,...De.errToObj(r)})}_addCheck(e){return new Ei({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...De.errToObj(e)})}url(e){return this._addCheck({kind:"url",...De.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...De.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...De.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...De.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...De.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...De.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...De.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...De.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...De.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...De.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...De.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...De.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...De.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...De.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...De.errToObj(n)})}nonempty(e){return this.min(1,De.errToObj(e))}trim(){return new Ei({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ei({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ei({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ei.create=t=>{var e;return new Ei({checks:[],typeName:Fe.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Je(t)})};function nwe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class jc extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_e.number){const i=this._getOrReturnCtx(e);return Ae(i,{code:ce.invalid_type,expected:_e.number,received:i.parsedType}),qe}let r;const s=new mr;for(const i of this._def.checks)i.kind==="int"?pt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ae(r,{code:ce.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:ce.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:ce.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?nwe(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:ce.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ae(r,{code:ce.not_finite,message:i.message}),s.dirty()):pt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,De.toString(n))}gt(e,n){return this.setLimit("min",e,!1,De.toString(n))}lte(e,n){return this.setLimit("max",e,!0,De.toString(n))}lt(e,n){return this.setLimit("max",e,!1,De.toString(n))}setLimit(e,n,r,s){return new jc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:De.toString(s)}]})}_addCheck(e){return new jc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:De.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:De.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:De.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:De.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:De.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:De.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:De.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:De.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:De.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&pt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}jc.create=t=>new jc({checks:[],typeName:Fe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Je(t)});class Uc extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==_e.bigint){const i=this._getOrReturnCtx(e);return Ae(i,{code:ce.invalid_type,expected:_e.bigint,received:i.parsedType}),qe}let r;const s=new mr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:ce.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:ce.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:ce.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):pt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,De.toString(n))}gt(e,n){return this.setLimit("min",e,!1,De.toString(n))}lte(e,n){return this.setLimit("max",e,!0,De.toString(n))}lt(e,n){return this.setLimit("max",e,!1,De.toString(n))}setLimit(e,n,r,s){return new Uc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:De.toString(s)}]})}_addCheck(e){return new Uc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:De.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:De.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:De.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:De.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:De.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Uc.create=t=>{var e;return new Uc({checks:[],typeName:Fe.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Je(t)})};class xg extends Xe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_e.boolean){const r=this._getOrReturnCtx(e);return Ae(r,{code:ce.invalid_type,expected:_e.boolean,received:r.parsedType}),qe}return Nr(e.data)}}xg.create=t=>new xg({typeName:Fe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Je(t)});class su extends Xe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_e.date){const i=this._getOrReturnCtx(e);return Ae(i,{code:ce.invalid_type,expected:_e.date,received:i.parsedType}),qe}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ae(i,{code:ce.invalid_date}),qe}const r=new mr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:ce.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:ce.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):pt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new su({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:De.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:De.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}su.create=t=>new su({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Fe.ZodDate,...Je(t)});class vw extends Xe{_parse(e){if(this._getType(e)!==_e.symbol){const r=this._getOrReturnCtx(e);return Ae(r,{code:ce.invalid_type,expected:_e.symbol,received:r.parsedType}),qe}return Nr(e.data)}}vw.create=t=>new vw({typeName:Fe.ZodSymbol,...Je(t)});class Sg extends Xe{_parse(e){if(this._getType(e)!==_e.undefined){const r=this._getOrReturnCtx(e);return Ae(r,{code:ce.invalid_type,expected:_e.undefined,received:r.parsedType}),qe}return Nr(e.data)}}Sg.create=t=>new Sg({typeName:Fe.ZodUndefined,...Je(t)});class Ag extends Xe{_parse(e){if(this._getType(e)!==_e.null){const r=this._getOrReturnCtx(e);return Ae(r,{code:ce.invalid_type,expected:_e.null,received:r.parsedType}),qe}return Nr(e.data)}}Ag.create=t=>new Ag({typeName:Fe.ZodNull,...Je(t)});class lh extends Xe{constructor(){super(...arguments),this._any=!0}_parse(e){return Nr(e.data)}}lh.create=t=>new lh({typeName:Fe.ZodAny,...Je(t)});class Dl extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Nr(e.data)}}Dl.create=t=>new Dl({typeName:Fe.ZodUnknown,...Je(t)});class Xo extends Xe{_parse(e){const n=this._getOrReturnCtx(e);return Ae(n,{code:ce.invalid_type,expected:_e.never,received:n.parsedType}),qe}}Xo.create=t=>new Xo({typeName:Fe.ZodNever,...Je(t)});class bw extends Xe{_parse(e){if(this._getType(e)!==_e.undefined){const r=this._getOrReturnCtx(e);return Ae(r,{code:ce.invalid_type,expected:_e.void,received:r.parsedType}),qe}return Nr(e.data)}}bw.create=t=>new bw({typeName:Fe.ZodVoid,...Je(t)});class Ai extends Xe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==_e.array)return Ae(n,{code:ce.invalid_type,expected:_e.array,received:n.parsedType}),qe;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Ae(n,{code:o?ce.too_big:ce.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ae(n,{code:ce.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ae(n,{code:ce.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new ao(n,o,n.path,a)))).then(o=>mr.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new ao(n,o,n.path,a)));return mr.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Ai({...this._def,minLength:{value:e,message:De.toString(n)}})}max(e,n){return new Ai({...this._def,maxLength:{value:e,message:De.toString(n)}})}length(e,n){return new Ai({...this._def,exactLength:{value:e,message:De.toString(n)}})}nonempty(e){return this.min(1,e)}}Ai.create=(t,e)=>new Ai({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Fe.ZodArray,...Je(e)});function nd(t){if(t instanceof Jt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=zo.create(nd(r))}return new Jt({...t._def,shape:()=>e})}else return t instanceof Ai?new Ai({...t._def,type:nd(t.element)}):t instanceof zo?zo.create(nd(t.unwrap())):t instanceof ou?ou.create(nd(t.unwrap())):t instanceof co?co.create(t.items.map(e=>nd(e))):t}class Jt extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=pt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==_e.object){const l=this._getOrReturnCtx(e);return Ae(l,{code:ce.invalid_type,expected:_e.object,received:l.parsedType}),qe}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Xo&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new ao(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof Xo){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(Ae(s,{code:ce.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new ao(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>mr.mergeObjectSync(r,l)):mr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return De.errToObj,new Jt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=De.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Jt({...this._def,unknownKeys:"strip"})}passthrough(){return new Jt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Jt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Jt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Fe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Jt({...this._def,catchall:e})}pick(e){const n={};return pt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Jt({...this._def,shape:()=>n})}omit(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Jt({...this._def,shape:()=>n})}deepPartial(){return nd(this)}partial(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Jt({...this._def,shape:()=>n})}required(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof zo;)i=i._def.innerType;n[r]=i}}),new Jt({...this._def,shape:()=>n})}keyof(){return mU(pt.objectKeys(this.shape))}}Jt.create=(t,e)=>new Jt({shape:()=>t,unknownKeys:"strip",catchall:Xo.create(),typeName:Fe.ZodObject,...Je(e)});Jt.strictCreate=(t,e)=>new Jt({shape:()=>t,unknownKeys:"strict",catchall:Xo.create(),typeName:Fe.ZodObject,...Je(e)});Jt.lazycreate=(t,e)=>new Jt({shape:t,unknownKeys:"strip",catchall:Xo.create(),typeName:Fe.ZodObject,...Je(e)});class Ig extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Si(a.ctx.common.issues));return Ae(n,{code:ce.invalid_union,unionErrors:o}),qe}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new Si(c));return Ae(n,{code:ce.invalid_union,unionErrors:a}),qe}}get options(){return this._def.options}}Ig.create=(t,e)=>new Ig({options:t,typeName:Fe.ZodUnion,...Je(e)});const d0=t=>t instanceof Pg?d0(t.schema):t instanceof Ni?d0(t.innerType()):t instanceof kg?[t.value]:t instanceof Lc?t.options:t instanceof Og?Object.keys(t.enum):t instanceof Rg?d0(t._def.innerType):t instanceof Sg?[void 0]:t instanceof Ag?[null]:null;class zv extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==_e.object)return Ae(n,{code:ce.invalid_type,expected:_e.object,received:n.parsedType}),qe;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Ae(n,{code:ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=d0(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new zv({typeName:Fe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Je(r)})}}function Ix(t,e){const n=Wa(t),r=Wa(e);if(t===e)return{valid:!0,data:t};if(n===_e.object&&r===_e.object){const s=pt.objectKeys(e),i=pt.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=Ix(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===_e.array&&r===_e.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=Ix(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===_e.date&&r===_e.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Tg extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Sx(i)||Sx(o))return qe;const a=Ix(i.value,o.value);return a.valid?((Ax(i)||Ax(o))&&n.dirty(),{status:n.value,value:a.data}):(Ae(r,{code:ce.invalid_intersection_types}),qe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Tg.create=(t,e,n)=>new Tg({left:t,right:e,typeName:Fe.ZodIntersection,...Je(n)});class co extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.array)return Ae(r,{code:ce.invalid_type,expected:_e.array,received:r.parsedType}),qe;if(r.data.length<this._def.items.length)return Ae(r,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qe;!this._def.rest&&r.data.length>this._def.items.length&&(Ae(r,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new ao(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>mr.mergeArray(n,o)):mr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new co({...this._def,rest:e})}}co.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new co({items:t,typeName:Fe.ZodTuple,rest:null,...Je(e)})};class Ng extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.object)return Ae(r,{code:ce.invalid_type,expected:_e.object,received:r.parsedType}),qe;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new ao(r,a,r.path,a)),value:o._parse(new ao(r,r.data[a],r.path,a))});return r.common.async?mr.mergeObjectAsync(n,s):mr.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Xe?new Ng({keyType:e,valueType:n,typeName:Fe.ZodRecord,...Je(r)}):new Ng({keyType:Ei.create(),valueType:e,typeName:Fe.ZodRecord,...Je(n)})}}class Ew extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.map)return Ae(r,{code:ce.invalid_type,expected:_e.map,received:r.parsedType}),qe;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new ao(r,a,r.path,[l,"key"])),value:i._parse(new ao(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return qe;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return qe;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}Ew.create=(t,e,n)=>new Ew({valueType:e,keyType:t,typeName:Fe.ZodMap,...Je(n)});class iu extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.set)return Ae(r,{code:ce.invalid_type,expected:_e.set,received:r.parsedType}),qe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ae(r,{code:ce.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ae(r,{code:ce.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return qe;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new ao(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new iu({...this._def,minSize:{value:e,message:De.toString(n)}})}max(e,n){return new iu({...this._def,maxSize:{value:e,message:De.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}iu.create=(t,e)=>new iu({valueType:t,minSize:null,maxSize:null,typeName:Fe.ZodSet,...Je(e)});class kd extends Xe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==_e.function)return Ae(n,{code:ce.invalid_type,expected:_e.function,received:n.parsedType}),qe;function r(a,c){return yw({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,mw(),_g].filter(l=>!!l),issueData:{code:ce.invalid_arguments,argumentsError:c}})}function s(a,c){return yw({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,mw(),_g].filter(l=>!!l),issueData:{code:ce.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof uh){const a=this;return Nr(async function(...c){const l=new Si([]),u=await a._def.args.parseAsync(c,i).catch(f=>{throw l.addIssue(r(c,f)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(f=>{throw l.addIssue(s(d,f)),l})})}else{const a=this;return Nr(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new Si([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new Si([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new kd({...this._def,args:co.create(e).rest(Dl.create())})}returns(e){return new kd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new kd({args:e||co.create([]).rest(Dl.create()),returns:n||Dl.create(),typeName:Fe.ZodFunction,...Je(r)})}}class Pg extends Xe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Pg.create=(t,e)=>new Pg({getter:t,typeName:Fe.ZodLazy,...Je(e)});class kg extends Xe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ae(n,{received:n.data,code:ce.invalid_literal,expected:this._def.value}),qe}return{status:"valid",value:e.data}}get value(){return this._def.value}}kg.create=(t,e)=>new kg({value:t,typeName:Fe.ZodLiteral,...Je(e)});function mU(t,e){return new Lc({values:t,typeName:Fe.ZodEnum,...Je(e)})}class Lc extends Xe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ae(n,{expected:pt.joinValues(r),received:n.parsedType,code:ce.invalid_type}),qe}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Ae(n,{received:n.data,code:ce.invalid_enum_value,options:r}),qe}return Nr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Lc.create(e)}exclude(e){return Lc.create(this.options.filter(n=>!e.includes(n)))}}Lc.create=mU;class Og extends Xe{_parse(e){const n=pt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==_e.string&&r.parsedType!==_e.number){const s=pt.objectValues(n);return Ae(r,{expected:pt.joinValues(s),received:r.parsedType,code:ce.invalid_type}),qe}if(n.indexOf(e.data)===-1){const s=pt.objectValues(n);return Ae(r,{received:r.data,code:ce.invalid_enum_value,options:s}),qe}return Nr(e.data)}get enum(){return this._def.values}}Og.create=(t,e)=>new Og({values:t,typeName:Fe.ZodNativeEnum,...Je(e)});class uh extends Xe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==_e.promise&&n.common.async===!1)return Ae(n,{code:ce.invalid_type,expected:_e.promise,received:n.parsedType}),qe;const r=n.parsedType===_e.promise?n.data:Promise.resolve(n.data);return Nr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}uh.create=(t,e)=>new uh({type:t,typeName:Fe.ZodPromise,...Je(e)});class Ni extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Ae(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?qe:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?qe:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Cg(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Cg(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);pt.assertNever(s)}}Ni.create=(t,e,n)=>new Ni({schema:t,typeName:Fe.ZodEffects,effect:e,...Je(n)});Ni.createWithPreprocess=(t,e,n)=>new Ni({schema:e,effect:{type:"preprocess",transform:t},typeName:Fe.ZodEffects,...Je(n)});class zo extends Xe{_parse(e){return this._getType(e)===_e.undefined?Nr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zo.create=(t,e)=>new zo({innerType:t,typeName:Fe.ZodOptional,...Je(e)});class ou extends Xe{_parse(e){return this._getType(e)===_e.null?Nr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ou.create=(t,e)=>new ou({innerType:t,typeName:Fe.ZodNullable,...Je(e)});class Rg extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===_e.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Rg.create=(t,e)=>new Rg({innerType:t,typeName:Fe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Je(e)});class _w extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ww(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Si(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Si(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}_w.create=(t,e)=>new _w({innerType:t,typeName:Fe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Je(e)});class Cw extends Xe{_parse(e){if(this._getType(e)!==_e.nan){const r=this._getOrReturnCtx(e);return Ae(r,{code:ce.invalid_type,expected:_e.nan,received:r.parsedType}),qe}return{status:"valid",value:e.data}}}Cw.create=t=>new Cw({typeName:Fe.ZodNaN,...Je(t)});const rwe=Symbol("zod_brand");class yU extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ym extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?qe:i.status==="dirty"?(n.dirty(),gU(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?qe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new ym({in:e,out:n,typeName:Fe.ZodPipeline})}}class xw extends Xe{_parse(e){const n=this._def.innerType._parse(e);return Cg(n)&&(n.value=Object.freeze(n.value)),n}}xw.create=(t,e)=>new xw({innerType:t,typeName:Fe.ZodReadonly,...Je(e)});const wU=(t,e={},n)=>t?lh.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):lh.create(),swe={object:Jt.lazycreate};var Fe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Fe||(Fe={}));const iwe=(t,e={message:`Input not instance of ${t.name}`})=>wU(n=>n instanceof t,e),vU=Ei.create,bU=jc.create,owe=Cw.create,awe=Uc.create,EU=xg.create,cwe=su.create,lwe=vw.create,uwe=Sg.create,dwe=Ag.create,hwe=lh.create,fwe=Dl.create,pwe=Xo.create,gwe=bw.create,mwe=Ai.create,ywe=Jt.create,wwe=Jt.strictCreate,vwe=Ig.create,bwe=zv.create,Ewe=Tg.create,_we=co.create,Cwe=Ng.create,xwe=Ew.create,Swe=iu.create,Awe=kd.create,Iwe=Pg.create,Twe=kg.create,Nwe=Lc.create,Pwe=Og.create,kwe=uh.create,CO=Ni.create,Owe=zo.create,Rwe=ou.create,$we=Ni.createWithPreprocess,Dwe=ym.create,jwe=()=>vU().optional(),Uwe=()=>bU().optional(),Lwe=()=>EU().optional(),Mwe={string:t=>Ei.create({...t,coerce:!0}),number:t=>jc.create({...t,coerce:!0}),boolean:t=>xg.create({...t,coerce:!0}),bigint:t=>Uc.create({...t,coerce:!0}),date:t=>su.create({...t,coerce:!0})},Bwe=qe;var I=Object.freeze({__proto__:null,defaultErrorMap:_g,setErrorMap:q0e,getErrorMap:mw,makeIssue:yw,EMPTY_PATH:H0e,addIssueToContext:Ae,ParseStatus:mr,INVALID:qe,DIRTY:gU,OK:Nr,isAborted:Sx,isDirty:Ax,isValid:Cg,isAsync:ww,get util(){return pt},get objectUtil(){return xx},ZodParsedType:_e,getParsedType:Wa,ZodType:Xe,ZodString:Ei,ZodNumber:jc,ZodBigInt:Uc,ZodBoolean:xg,ZodDate:su,ZodSymbol:vw,ZodUndefined:Sg,ZodNull:Ag,ZodAny:lh,ZodUnknown:Dl,ZodNever:Xo,ZodVoid:bw,ZodArray:Ai,ZodObject:Jt,ZodUnion:Ig,ZodDiscriminatedUnion:zv,ZodIntersection:Tg,ZodTuple:co,ZodRecord:Ng,ZodMap:Ew,ZodSet:iu,ZodFunction:kd,ZodLazy:Pg,ZodLiteral:kg,ZodEnum:Lc,ZodNativeEnum:Og,ZodPromise:uh,ZodEffects:Ni,ZodTransformer:Ni,ZodOptional:zo,ZodNullable:ou,ZodDefault:Rg,ZodCatch:_w,ZodNaN:Cw,BRAND:rwe,ZodBranded:yU,ZodPipeline:ym,ZodReadonly:xw,custom:wU,Schema:Xe,ZodSchema:Xe,late:swe,get ZodFirstPartyTypeKind(){return Fe},coerce:Mwe,any:hwe,array:mwe,bigint:awe,boolean:EU,date:cwe,discriminatedUnion:bwe,effect:CO,enum:Nwe,function:Awe,instanceof:iwe,intersection:Ewe,lazy:Iwe,literal:Twe,map:xwe,nan:owe,nativeEnum:Pwe,never:pwe,null:dwe,nullable:Rwe,number:bU,object:ywe,oboolean:Lwe,onumber:Uwe,optional:Owe,ostring:jwe,pipeline:Dwe,preprocess:$we,promise:kwe,record:Cwe,set:Swe,strictObject:wwe,string:vU,symbol:lwe,transformer:CO,tuple:_we,undefined:uwe,union:vwe,unknown:fwe,void:gwe,NEVER:Bwe,ZodIssueCode:ce,quotelessJson:W0e,ZodError:Si});const nn=I.object({message:I.string()});function Ce(t){return I.literal(Ie[t])}I.object({accessList:I.array(I.string()),blockHash:I.string().nullable(),blockNumber:I.string().nullable(),chainId:I.string().or(I.number()),from:I.string(),gas:I.string(),hash:I.string(),input:I.string().nullable(),maxFeePerGas:I.string(),maxPriorityFeePerGas:I.string(),nonce:I.string(),r:I.string(),s:I.string(),to:I.string(),transactionIndex:I.string().nullable(),type:I.string(),v:I.string(),value:I.string()});const Fwe=I.object({chainId:I.string().or(I.number())}),zwe=I.object({email:I.string().email()}),Wwe=I.object({otp:I.string()}),qwe=I.object({uri:I.string(),preferredAccountType:I.optional(I.string()),chainId:I.optional(I.string().or(I.number()))}),Hwe=I.object({chainId:I.optional(I.string().or(I.number())),preferredAccountType:I.optional(I.string()),socialUri:I.optional(I.string())}),Vwe=I.object({provider:I.enum(["google","github","apple","facebook","x","discord"])}),Gwe=I.object({email:I.string().email()}),Kwe=I.object({otp:I.string()}),Ywe=I.object({otp:I.string()}),Jwe=I.object({themeMode:I.optional(I.enum(["light","dark"])),themeVariables:I.optional(I.record(I.string(),I.string().or(I.number()))),w3mThemeVariables:I.optional(I.record(I.string(),I.string()))}),Qwe=I.object({metadata:I.object({name:I.string(),description:I.string(),url:I.string(),icons:I.array(I.string())}).optional(),sdkVersion:I.string().optional(),sdkType:I.string().optional(),projectId:I.string()}),Zwe=I.object({type:I.string()}),Xwe=I.object({action:I.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),eve=I.object({url:I.string()}),tve=I.object({userName:I.string()}),nve=I.object({email:I.string().optional().nullable(),address:I.string(),chainId:I.string().or(I.number()),accounts:I.array(I.object({address:I.string(),type:I.enum([Un.ACCOUNT_TYPES.EOA,Un.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:I.string().optional().nullable(),preferredAccountType:I.optional(I.string())}),rve=I.object({action:I.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),sve=I.object({email:I.string().email().optional().nullable(),address:I.string(),chainId:I.string().or(I.number()),smartAccountDeployed:I.optional(I.boolean()),accounts:I.array(I.object({address:I.string(),type:I.enum([Un.ACCOUNT_TYPES.EOA,Un.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:I.optional(I.string())}),ive=I.object({uri:I.string()}),ove=I.object({isConnected:I.boolean()}),ave=I.object({chainId:I.string().or(I.number())}),cve=I.object({chainId:I.string().or(I.number())}),lve=I.object({newEmail:I.string().email()}),uve=I.object({smartAccountEnabledNetworks:I.array(I.number())});I.object({address:I.string(),isDeployed:I.boolean()});const dve=I.object({version:I.string().optional()}),hve=I.object({type:I.string(),address:I.string()}),fve=I.any(),pve=I.object({method:I.literal("eth_accounts")}),gve=I.object({method:I.literal("eth_blockNumber")}),mve=I.object({method:I.literal("eth_call"),params:I.array(I.any())}),yve=I.object({method:I.literal("eth_chainId")}),wve=I.object({method:I.literal("eth_estimateGas"),params:I.array(I.any())}),vve=I.object({method:I.literal("eth_feeHistory"),params:I.array(I.any())}),bve=I.object({method:I.literal("eth_gasPrice")}),Eve=I.object({method:I.literal("eth_getAccount"),params:I.array(I.any())}),_ve=I.object({method:I.literal("eth_getBalance"),params:I.array(I.any())}),Cve=I.object({method:I.literal("eth_getBlockByHash"),params:I.array(I.any())}),xve=I.object({method:I.literal("eth_getBlockByNumber"),params:I.array(I.any())}),Sve=I.object({method:I.literal("eth_getBlockReceipts"),params:I.array(I.any())}),Ave=I.object({method:I.literal("eth_getBlockTransactionCountByHash"),params:I.array(I.any())}),Ive=I.object({method:I.literal("eth_getBlockTransactionCountByNumber"),params:I.array(I.any())}),Tve=I.object({method:I.literal("eth_getCode"),params:I.array(I.any())}),Nve=I.object({method:I.literal("eth_getFilterChanges"),params:I.array(I.any())}),Pve=I.object({method:I.literal("eth_getFilterLogs"),params:I.array(I.any())}),kve=I.object({method:I.literal("eth_getLogs"),params:I.array(I.any())}),Ove=I.object({method:I.literal("eth_getProof"),params:I.array(I.any())}),Rve=I.object({method:I.literal("eth_getStorageAt"),params:I.array(I.any())}),$ve=I.object({method:I.literal("eth_getTransactionByBlockHashAndIndex"),params:I.array(I.any())}),Dve=I.object({method:I.literal("eth_getTransactionByBlockNumberAndIndex"),params:I.array(I.any())}),jve=I.object({method:I.literal("eth_getTransactionByHash"),params:I.array(I.any())}),Uve=I.object({method:I.literal("eth_getTransactionCount"),params:I.array(I.any())}),Lve=I.object({method:I.literal("eth_getTransactionReceipt"),params:I.array(I.any())}),Mve=I.object({method:I.literal("eth_getUncleCountByBlockHash"),params:I.array(I.any())}),Bve=I.object({method:I.literal("eth_getUncleCountByBlockNumber"),params:I.array(I.any())}),Fve=I.object({method:I.literal("eth_maxPriorityFeePerGas")}),zve=I.object({method:I.literal("eth_newBlockFilter")}),Wve=I.object({method:I.literal("eth_newFilter"),params:I.array(I.any())}),qve=I.object({method:I.literal("eth_newPendingTransactionFilter")}),Hve=I.object({method:I.literal("eth_sendRawTransaction"),params:I.array(I.any())}),Vve=I.object({method:I.literal("eth_syncing"),params:I.array(I.any())}),Gve=I.object({method:I.literal("eth_uninstallFilter"),params:I.array(I.any())}),xO=I.object({method:I.literal("personal_sign"),params:I.array(I.any())}),Kve=I.object({method:I.literal("eth_signTypedData_v4"),params:I.array(I.any())}),Yve=I.object({method:I.literal("eth_sendTransaction"),params:I.array(I.any())}),Jve=I.object({method:I.literal("solana_signMessage"),params:I.object({message:I.string(),pubkey:I.string()})}),Qve=I.object({method:I.literal("solana_signTransaction"),params:I.object({transaction:I.string()})}),Zve=I.object({method:I.literal("solana_signAllTransactions"),params:I.object({transactions:I.array(I.string())})}),Xve=I.object({method:I.literal("solana_signAndSendTransaction"),params:I.object({transaction:I.string(),options:I.object({skipPreflight:I.boolean().optional(),preflightCommitment:I.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:I.number().optional(),minContextSlot:I.number().optional()}).optional()})}),ebe=I.object({method:I.literal("wallet_sendCalls"),params:I.array(I.object({chainId:I.string().or(I.number()).optional(),from:I.string().optional(),version:I.string().optional(),capabilities:I.any().optional(),calls:I.array(I.object({to:I.string().startsWith("0x"),data:I.string().startsWith("0x").optional(),value:I.string().optional()}))}))}),tbe=I.object({method:I.literal("wallet_getCallsStatus"),params:I.array(I.string())}),nbe=I.object({method:I.literal("wallet_getCapabilities")}),rbe=I.object({method:I.literal("wallet_grantPermissions"),params:I.array(I.any())}),sbe=I.object({method:I.literal("wallet_revokePermissions"),params:I.any()}),ibe=I.object({method:I.literal("wallet_getAssets"),params:I.any()}),SO=I.object({token:I.string()}),xe=I.object({id:I.string().optional()}),Ef={appEvent:xe.extend({type:Ce("APP_SWITCH_NETWORK"),payload:Fwe}).or(xe.extend({type:Ce("APP_CONNECT_EMAIL"),payload:zwe})).or(xe.extend({type:Ce("APP_CONNECT_DEVICE")})).or(xe.extend({type:Ce("APP_CONNECT_OTP"),payload:Wwe})).or(xe.extend({type:Ce("APP_CONNECT_SOCIAL"),payload:qwe})).or(xe.extend({type:Ce("APP_GET_FARCASTER_URI")})).or(xe.extend({type:Ce("APP_CONNECT_FARCASTER")})).or(xe.extend({type:Ce("APP_GET_USER"),payload:I.optional(Hwe)})).or(xe.extend({type:Ce("APP_GET_SOCIAL_REDIRECT_URI"),payload:Vwe})).or(xe.extend({type:Ce("APP_SIGN_OUT")})).or(xe.extend({type:Ce("APP_IS_CONNECTED"),payload:I.optional(SO)})).or(xe.extend({type:Ce("APP_GET_CHAIN_ID")})).or(xe.extend({type:Ce("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(xe.extend({type:Ce("APP_INIT_SMART_ACCOUNT")})).or(xe.extend({type:Ce("APP_SET_PREFERRED_ACCOUNT"),payload:Zwe})).or(xe.extend({type:Ce("APP_RPC_REQUEST"),payload:xO.or(ibe).or(pve).or(gve).or(mve).or(yve).or(wve).or(vve).or(bve).or(Eve).or(_ve).or(Cve).or(xve).or(Sve).or(Ave).or(Ive).or(Tve).or(Nve).or(Pve).or(kve).or(Ove).or(Rve).or($ve).or(Dve).or(jve).or(Uve).or(Lve).or(Mve).or(Bve).or(Fve).or(zve).or(Wve).or(qve).or(Hve).or(Vve).or(Gve).or(xO).or(Kve).or(Yve).or(Jve).or(Qve).or(Zve).or(Xve).or(tbe).or(ebe).or(nbe).or(rbe).or(sbe)})).or(xe.extend({type:Ce("APP_UPDATE_EMAIL"),payload:Gwe})).or(xe.extend({type:Ce("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Kwe})).or(xe.extend({type:Ce("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Ywe})).or(xe.extend({type:Ce("APP_SYNC_THEME"),payload:Jwe})).or(xe.extend({type:Ce("APP_SYNC_DAPP_DATA"),payload:Qwe})).or(xe.extend({type:Ce("APP_RELOAD")})),frameEvent:xe.extend({type:Ce("FRAME_SWITCH_NETWORK_ERROR"),payload:nn}).or(xe.extend({type:Ce("FRAME_SWITCH_NETWORK_SUCCESS"),payload:cve})).or(xe.extend({type:Ce("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Xwe})).or(xe.extend({type:Ce("FRAME_CONNECT_EMAIL_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:eve})).or(xe.extend({type:Ce("FRAME_GET_FARCASTER_URI_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:tve})).or(xe.extend({type:Ce("FRAME_CONNECT_FARCASTER_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_CONNECT_OTP_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_CONNECT_OTP_SUCCESS")})).or(xe.extend({type:Ce("FRAME_CONNECT_DEVICE_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_CONNECT_DEVICE_SUCCESS")})).or(xe.extend({type:Ce("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:nve})).or(xe.extend({type:Ce("FRAME_CONNECT_SOCIAL_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_GET_USER_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_GET_USER_SUCCESS"),payload:sve})).or(xe.extend({type:Ce("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:ive})).or(xe.extend({type:Ce("FRAME_SIGN_OUT_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_SIGN_OUT_SUCCESS")})).or(xe.extend({type:Ce("FRAME_IS_CONNECTED_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_IS_CONNECTED_SUCCESS"),payload:ove})).or(xe.extend({type:Ce("FRAME_GET_CHAIN_ID_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_GET_CHAIN_ID_SUCCESS"),payload:ave})).or(xe.extend({type:Ce("FRAME_RPC_REQUEST_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_RPC_REQUEST_SUCCESS"),payload:fve})).or(xe.extend({type:Ce("FRAME_SESSION_UPDATE"),payload:SO})).or(xe.extend({type:Ce("FRAME_UPDATE_EMAIL_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_UPDATE_EMAIL_SUCCESS"),payload:rve})).or(xe.extend({type:Ce("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(xe.extend({type:Ce("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:lve})).or(xe.extend({type:Ce("FRAME_SYNC_THEME_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_SYNC_THEME_SUCCESS")})).or(xe.extend({type:Ce("FRAME_SYNC_DAPP_DATA_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(xe.extend({type:Ce("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:uve})).or(xe.extend({type:Ce("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:hve})).or(xe.extend({type:Ce("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_READY"),payload:dve})).or(xe.extend({type:Ce("FRAME_RELOAD_ERROR"),payload:nn})).or(xe.extend({type:Ce("FRAME_RELOAD_SUCCESS")}))};function pE(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class obe{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=Z.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const i=document.getElementById("w3m-iframe");this.iframe&&!i&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(i,o,a)=>{function c({data:l}){if(!pE(Ie.FRAME_EVENT_KEY,l))return;const u=Ef.frameEvent.parse(l);u.id===i&&(o(u),window.removeEventListener("message",c))}ms.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:i=>{ms.isClient&&window.addEventListener("message",({data:o})=>{if(!pE(Ie.FRAME_EVENT_KEY,o))return;const a=Ef.frameEvent.parse(o);i(a)})},onAppEvent:i=>{ms.isClient&&window.addEventListener("message",({data:o})=>{if(!pE(Ie.APP_EVENT_KEY,o))return;const a=Ef.appEvent.parse(o);i(a)})},postAppEvent:i=>{var o;if(ms.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");Ef.appEvent.parse(i),this.iframe.contentWindow.postMessage(i,"*")}},postFrameEvent:i=>{if(ms.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");Ef.frameEvent.parse(i),parent.postMessage(i,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),n&&(this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),ms.isClient)){const i=document.createElement("iframe");i.id="w3m-iframe",i.src=`${DX}?projectId=${e}&chainId=${r}&version=${UX}&enableLogger=${s}`,i.name="w3m-secure-iframe",i.style.position="fixed",i.style.zIndex="999999",i.style.display="none",i.style.border="none",i.style.animationDelay="0s, 50ms",i.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",i.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=i,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class abe{constructor(e){var i;const n=Sh({level:jX}),{logger:r,chunkLoggerController:s}=OA({opts:n});this.logger=yr(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class cbe{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new abe(e)),this.abortController=i,this.w3mFrame=new obe({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===Ie.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!Vn.get(Ie.EMAIL_LOGIN_USED_KEY)}getEmail(){return Vn.get(Ie.EMAIL)}getUsername(){return Vn.get(Ie.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:Ie.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{ms.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:Ie.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:Ie.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:Ie.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:Ie.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:Ie.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:Ie.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:Ie.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:Ie.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:Ie.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:Ie.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:Ie.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:Ie.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:Ie.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n,r;if(e!=null&&e.socialUri)try{await this.init();const s=await this.appEvent({type:Ie.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId}});return s.userName&&this.setSocialLoginSuccess(s.userName),this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var n;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:Ie.APP_GET_USER,payload:{...e,chainId:r}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{await this.init();const r=await this.appEvent({type:Ie.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:Ie.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:Ie.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:Ie.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const s=setTimeout(()=>{r()},3e3);await this.appEvent({type:Ie.APP_SIGN_OUT}),clearTimeout(s),r()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,s,i;try{if(Un.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:Ie.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,o,e),o}catch(o){throw(s=this.rpcErrorHandler)==null||s.call(this,o,e),(i=this.w3mLogger)==null||i.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ie.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ie.FRAME_IS_CONNECTED_ERROR&&e(),n.type===Ie.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ie.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ie.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ie.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===Ie.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Un.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ie.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===Ie.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{Un.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(c){return c.replace("@w3m-app/","")}const i=[Ie.APP_SYNC_DAPP_DATA,Ie.APP_SYNC_THEME,Ie.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(r=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[Ie.APP_CONNECT_EMAIL,Ie.APP_CONNECT_DEVICE,Ie.APP_CONNECT_OTP,Ie.APP_CONNECT_SOCIAL,Ie.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(n=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{var f,p,g;const u=Math.random().toString(36).substring(7);(g=(f=this.w3mLogger)==null?void 0:(p=f.logger).info)==null||g.call(p,{event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const d=new AbortController;if(o==="RPC_REQUEST"){const w=e;this.openRpcRequests=[...this.openRpcRequests,{...w.payload,abortController:d}]}d.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});function h(w,y){var b,v,_;w.id===u&&((v=y==null?void 0:(b=y.logger).info)==null||v.call(b,{framEvent:w,id:u},"Received frame response"),w.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in w&&c(w.payload),c(void 0)):w.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in w&&l(new Error(((_=w.payload)==null?void 0:_.message)||"An error occurred")),l(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(u,w=>h(w,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){Vn.set(Ie.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){Vn.set(Ie.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&Vn.set(Ie.EMAIL,e),Vn.set(Ie.EMAIL_LOGIN_USED_KEY,"true"),Vn.delete(Ie.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Vn.delete(Ie.EMAIL_LOGIN_USED_KEY),Vn.delete(Ie.EMAIL),Vn.delete(Ie.LAST_USED_CHAIN_KEY),Vn.delete(Ie.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&Vn.set(Ie.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=Vn.get(Ie.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){Vn.set(Ie.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class jl{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i}){return jl.instance||(jl.instance=new cbe({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i})),jl.instance}}var AO={};const lbe={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof AO<"u"?AO.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},Tx={filterOutDuplicatesByRDNS(t){const e=oe.state.enableEIP6963?ge.state.connectors:[],n=fe.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&Pe.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!i.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=ge.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=fe.getRecentWallets(),r=e.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=ge.state,{featuredWalletIds:n}=oe.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=oe.state.features)==null?void 0:c.connectMethodsOrder),r=e||ge.state.connectors;if(n)return n;const{injected:s,announced:i}=h0.getConnectorsByType(r,Re.state.recommended,Re.state.featured),o=s.filter(h0.showConnector),a=i.filter(h0.showConnector);return o.length||a.length?["wallet","email","social"]:lbe.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Re.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Re.state.excludedWallets.some(r=>Eg.isLowerCaseMatch(r.name,t.name));return e||n}},h0={getConnectorsByType(t,e,n){const{customWallets:r}=oe.state,s=fe.getRecentWallets(),i=Tx.filterOutDuplicateWallets(e),o=Tx.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&Re.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&Re.state.excludedWallets.some(i=>Eg.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Pe.isMobile()||Pe.isMobile()&&!e&&!Se.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(O.state.chains.values()).some(n=>ge.getConnectorId(n.namespace)===Z.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=oe.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=h0.getIsConnectedWithWC(),f=[{type:"walletConnect",isEnabled:oe.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(y=>y.isEnabled),p=new Set(f.map(y=>y.type)),g=c.filter(y=>p.has(y)).map(y=>({type:y,isEnabled:!0})),w=f.filter(({type:y})=>!g.some(({type:v})=>v===y));return Array.from(new Set([...g,...w].map(({type:y})=>y)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,n;try{if(t.name==="Browser Wallet"&&!Pe.isMobile())return{accounts:[],chainId:void 0};if(t.id===Z.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[r,s]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(n=t.provider)==null?void 0:n.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:r,chainId:s}}catch(r){return console.warn(`Failed to fetch provider data for ${t.name}`,r),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const f0=globalThis,h2=f0.ShadowRoot&&(f0.ShadyCSS===void 0||f0.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,f2=Symbol(),IO=new WeakMap;let _U=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==f2)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(h2&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=IO.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&IO.set(n,e))}return e}toString(){return this.cssText}};const Ds=t=>new _U(typeof t=="string"?t:t+"",void 0,f2),Od=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new _U(n,t,f2)},ube=(t,e)=>{if(h2)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=f0.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},TO=h2?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Ds(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:dbe,defineProperty:hbe,getOwnPropertyDescriptor:fbe,getOwnPropertyNames:pbe,getOwnPropertySymbols:gbe,getPrototypeOf:mbe}=Object,Sc=globalThis,NO=Sc.trustedTypes,ybe=NO?NO.emptyScript:"",gE=Sc.reactiveElementPolyfillSupport,hp=(t,e)=>t,Nx={toAttribute(t,e){switch(e){case Boolean:t=t?ybe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},CU=(t,e)=>!dbe(t,e),PO={attribute:!0,type:String,converter:Nx,reflect:!1,useDefault:!1,hasChanged:CU};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Sc.litPropertyMetadata??(Sc.litPropertyMetadata=new WeakMap);let rd=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=PO){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&hbe(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:i}=fbe(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const a=s==null?void 0:s.call(this);i==null||i.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??PO}static _$Ei(){if(this.hasOwnProperty(hp("elementProperties")))return;const e=mbe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(hp("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(hp("properties"))){const n=this.properties,r=[...pbe(n),...gbe(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(TO(s))}else e!==void 0&&n.push(TO(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return ube(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var i;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)==null?void 0:i.toAttribute)!==void 0?r.converter:Nx).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,n){var i,o;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const a=r.getPropertyOptions(s),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)==null?void 0:i.fromAttribute)!==void 0?a.converter:Nx;this._$Em=s,this[s]=c.fromAttribute(n,a.type)??((o=this._$Ej)==null?void 0:o.get(s))??null,this._$Em=null}}requestUpdate(e,n,r){var s;if(e!==void 0){const i=this.constructor,o=this[e];if(r??(r=i.getPropertyOptions(e)),!((r.hasChanged??CU)(o,n)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s){const{wrapped:a}=o,c=this[i];a!==!0||this._$AL.has(i)||c===void 0||this.C(i,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};rd.elementStyles=[],rd.shadowRootOptions={mode:"open"},rd[hp("elementProperties")]=new Map,rd[hp("finalized")]=new Map,gE==null||gE({ReactiveElement:rd}),(Sc.reactiveElementVersions??(Sc.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fp=globalThis,Sw=fp.trustedTypes,kO=Sw?Sw.createPolicy("lit-html",{createHTML:t=>t}):void 0,xU="$lit$",qa=`lit$${Math.random().toFixed(9).slice(2)}$`,SU="?"+qa,wbe=`<${SU}>`,au=document,$g=()=>au.createComment(""),Dg=t=>t===null||typeof t!="object"&&typeof t!="function",p2=Array.isArray,vbe=t=>p2(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",mE=`[ 	
\f\r]`,_f=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,OO=/-->/g,RO=/>/g,Xc=RegExp(`>|${mE}(?:([^\\s"'>=/]+)(${mE}*=${mE}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),$O=/'/g,DO=/"/g,AU=/^(?:script|style|textarea|title)$/i,IU=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),Gxe=IU(1),Kxe=IU(2),dh=Symbol.for("lit-noChange"),$n=Symbol.for("lit-nothing"),jO=new WeakMap,_l=au.createTreeWalker(au,129);function TU(t,e){if(!p2(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return kO!==void 0?kO.createHTML(e):e}const bbe=(t,e)=>{const n=t.length-1,r=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=_f;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===_f?u[1]==="!--"?o=OO:u[1]!==void 0?o=RO:u[2]!==void 0?(AU.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=Xc):u[3]!==void 0&&(o=Xc):o===Xc?u[0]===">"?(o=s??_f,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Xc:u[3]==='"'?DO:$O):o===DO||o===$O?o=Xc:o===OO||o===RO?o=_f:(o=Xc,s=void 0);const f=o===Xc&&t[a+1].startsWith("/>")?" ":"";i+=o===_f?c+wbe:d>=0?(r.push(l),c.slice(0,d)+xU+c.slice(d)+qa+f):c+qa+(d===-2?a:f)}return[TU(t,i+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class jg{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[l,u]=bbe(e,n);if(this.el=jg.createElement(l,r),_l.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=_l.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(xU)){const h=u[o++],f=s.getAttribute(d).split(qa),p=/([.?@])?(.*)/.exec(h);c.push({type:1,index:i,name:p[2],strings:f,ctor:p[1]==="."?_be:p[1]==="?"?Cbe:p[1]==="@"?xbe:Wv}),s.removeAttribute(d)}else d.startsWith(qa)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(AU.test(s.tagName)){const d=s.textContent.split(qa),h=d.length-1;if(h>0){s.textContent=Sw?Sw.emptyScript:"";for(let f=0;f<h;f++)s.append(d[f],$g()),_l.nextNode(),c.push({type:2,index:++i});s.append(d[h],$g())}}}else if(s.nodeType===8)if(s.data===SU)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(qa,d+1))!==-1;)c.push({type:7,index:i}),d+=qa.length-1}i++}}static createElement(e,n){const r=au.createElement("template");return r.innerHTML=e,r}}function hh(t,e,n=t,r){var o,a;if(e===dh)return e;let s=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const i=Dg(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=hh(t,s._$AS(t,e.values),s,r)),e}class Ebe{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??au).importNode(n,!0);_l.currentNode=s;let i=_l.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new wm(i,i.nextSibling,this,e):c.type===1?l=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(l=new Sbe(i,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(i=_l.nextNode(),o++)}return _l.currentNode=au,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class wm{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=$n,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=hh(this,e,n),Dg(e)?e===$n||e==null||e===""?(this._$AH!==$n&&this._$AR(),this._$AH=$n):e!==this._$AH&&e!==dh&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):vbe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==$n&&Dg(this._$AH)?this._$AA.nextSibling.data=e:this.T(au.createTextNode(e)),this._$AH=e}$(e){var i;const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=jg.createElement(TU(r.h,r.h[0]),this.options)),r);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(n);else{const o=new Ebe(s,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=jO.get(e.strings);return n===void 0&&jO.set(e.strings,n=new jg(e)),n}k(e){p2(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of e)s===n.length?n.push(r=new wm(this.O($g()),this.O($g()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class Wv{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,i){this.type=1,this._$AH=$n,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=$n}_$AI(e,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)e=hh(this,e,n,0),o=!Dg(e)||e!==this._$AH&&e!==dh,o&&(this._$AH=e);else{const a=e;let c,l;for(e=i[0],c=0;c<i.length-1;c++)l=hh(this,a[r+c],n,c),l===dh&&(l=this._$AH[c]),o||(o=!Dg(l)||l!==this._$AH[c]),l===$n?e=$n:e!==$n&&(e+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===$n?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class _be extends Wv{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===$n?void 0:e}}class Cbe extends Wv{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==$n)}}class xbe extends Wv{constructor(e,n,r,s,i){super(e,n,r,s,i),this.type=5}_$AI(e,n=this){if((e=hh(this,e,n,0)??$n)===dh)return;const r=this._$AH,s=e===$n&&r!==$n||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==$n&&(r===$n||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class Sbe{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){hh(this,e)}}const yE=fp.litHtmlPolyfillSupport;yE==null||yE(jg,wm),(fp.litHtmlVersions??(fp.litHtmlVersions=[])).push("3.3.0");const Abe=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const i=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new wm(e.insertBefore($g(),i),i,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ul=globalThis;let p0=class extends rd{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Abe(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return dh}};var SR;p0._$litElement$=!0,p0.finalized=!0,(SR=Ul.litElementHydrateSupport)==null||SR.call(Ul,{LitElement:p0});const wE=Ul.litElementPolyfillSupport;wE==null||wE({LitElement:p0});(Ul.litElementVersions??(Ul.litElementVersions=[])).push("4.2.0");let pp,Ac,Ic;function Jxe(t,e){pp=document.createElement("style"),Ac=document.createElement("style"),Ic=document.createElement("style"),pp.textContent=Rd(t).core.cssText,Ac.textContent=Rd(t).dark.cssText,Ic.textContent=Rd(t).light.cssText,document.head.appendChild(pp),document.head.appendChild(Ac),document.head.appendChild(Ic),NU(e)}function NU(t){Ac&&Ic&&(t==="light"?(Ac.removeAttribute("media"),Ic.media="enabled"):(Ic.removeAttribute("media"),Ac.media="enabled"))}function Ibe(t){pp&&Ac&&Ic&&(pp.textContent=Rd(t).core.cssText,Ac.textContent=Rd(t).dark.cssText,Ic.textContent=Rd(t).light.cssText)}function Rd(t){return{core:Od`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Ds(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Ds((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Ds((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${Ds((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${Ds((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Od`
      :root {
        --w3m-color-mix: ${Ds((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${Ds(Uo(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Ds(Uo(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Od`
      :root {
        --w3m-color-mix: ${Ds((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${Ds(Uo(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Ds(Uo(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Qxe=Od`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Zxe=Od`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Xxe=Od`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Bf={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},PU=AW({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function vm(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const UO=vm({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),LO=vm({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});vm({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});vm({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});vm({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const Tbe={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},gp={getMethodsByChainNamespace(t){return Tbe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${i}`,u=r[o];switch(u.chains.push(l),l){case UO.caipNetworkId:u.chains.push(UO.deprecatedCaipNetworkId);break;case LO.caipNetworkId:u.chains.push(LO.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await tp.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1}};class g2{constructor({provider:e,namespace:n}){this.id=Z.CONNECTOR_ID.WALLET_CONNECT,this.name=cc.ConnectorNamesMap[Z.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=cc.ConnectorImageIds[Z.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=O.getCaipNetworks.bind(O),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=oe.state.universalProviderConfigOverride,s=gp.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return dp.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Nbe})}}const Nbe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class kU{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>O.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:Z.CONNECTOR_ID.AUTH,type:"AUTH",name:Z.CONNECTOR_NAMES.AUTH,provider:e,imageId:cc.ConnectorImageIds[Z.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){he.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var i;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const o=s,a=(i=he.state.preferredAccountTypes)==null?void 0:i[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof g2);if(!e)throw new Error("WalletConnectConnector not found");return e}}class Pbe extends kU{setUniversalProvider(e){this.addConnector(new g2({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,i,o,a;const n=this.provider,r=((a=(o=(i=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>Pe.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var i,o,a,c,l;if(!(e.caipNetwork&&xt.BALANCE_SUPPORTED_CHAINS.includes((i=e.caipNetwork)==null?void 0:i.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(he.state.balanceLoading&&e.chainId===((c=O.state.activeCaipNetwork)==null?void 0:c.id))return{balance:he.state.balance||"0.00",symbol:he.state.balanceSymbol||""};const s=(await he.fetchTokenBalance()).find(u=>{var d,h;return u.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&u.symbol===((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=O.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===Z.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:Ph.encode(new TextEncoder().encode(r)),pubkey:s}},(a=O.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},(c=O.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===Z.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:ql(n.id)}]}))}catch(u){if(u.code===Bf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===Bf.ERROR_INVALID_CHAIN_ID||u.code===Bf.ERROR_CODE_DEFAULT||((o=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:o.code)===Bf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:ql(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const kbe=["email","socials","swaps","onramp","activity","reownBranding"],Ty={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?xt.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?xt.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?xt.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?xt.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?xt.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?xt.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?xt.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?xt.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?xt.DEFAULT_REMOTE_FEATURES.reownBranding:!!t}},Obe={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=Ty[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,s){const i=Ty[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(i.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return Ty[t].processApi(e)},processFallbackFeature(t,e){return Ty[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await Re.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?xt.DEFAULT_REMOTE_FEATURES:xt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of kbe){const a=this.processFeature(o,n,r,s,e);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),xt.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;gn.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return i}};class Rbe{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,i,o,a;if(n){const c=(i=(s=O.getNetworkData(n))==null?void 0:s.requestedCaipNetworks)==null?void 0:i.find(d=>d.id===r);if(c)return c;const l=(o=O.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=O.getRequestedCaipNetworks(n).filter(d=>d.chainNamespace===n))==null?void 0:a[0])}return O.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>O.getCaipNetworks(n),this.getActiveChainNamespace=()=>O.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{O.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>O.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>O.state.activeChain===n||!n?O.state.activeCaipAddress:O.getAccountProp("caipAddress",n),this.setClientId=n=>{Ue.setClientId(n)},this.getProvider=n=>kt.getProvider(n),this.getProviderType=n=>kt.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=he.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{he.setCaipAddress(n,r),n&&oe.state.enableEmbedded&&this.close()},this.setBalance=(n,r,s)=>{he.setBalance(n,r,s)},this.setProfileName=(n,r)=>{he.setProfileName(n,r)},this.setProfileImage=(n,r)=>{he.setProfileImage(n,r)},this.setUser=(n,r)=>{he.setUser(n,r)},this.resetAccount=n=>{he.resetAccount(n)},this.setCaipNetwork=n=>{O.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{O.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{he.setAllAccounts(n,r),oe.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{he.setStatus(n,r),ge.isConnected()?fe.setConnectionStatus("connected"):fe.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>O.getAccountProp("address",n),this.setConnectors=n=>{const r=[...ge.state.allConnectors,...n];ge.setConnectors(r)},this.setConnections=(n,r)=>{Se.setConnections(n,r)},this.fetchIdentity=n=>Ue.fetchIdentity(n),this.getReownName=n=>tp.getNamesForAddress(n),this.getConnectors=()=>ge.getConnectors(),this.getConnectorImage=n=>r6.getConnectorImage(n),this.getConnections=n=>dg.getConnectionsData(n).connections,this.getRecentConnections=n=>dg.getConnectionsData(n).recentConnections,this.switchConnection=n=>Se.switchConnection(n),this.deleteConnection=n=>fe.deleteAddressFromConnection(n),this.setConnectedWalletInfo=(n,r)=>{const s=kt.getProviderId(r),i=n?{...n,type:s}:void 0;he.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!O.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{he.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{he.removeAddressLabel(n,r)},this.getAddress=n=>O.state.activeChain===n||!n?he.state.address:O.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>O.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{O.resetNetwork(n)},this.addConnector=n=>{ge.addConnector(n)},this.resetWcConnection=()=>{Se.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{he.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{he.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{O.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{he.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{oe.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){var n,r,s;this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await Obe.fetchRemoteFeatures(e),oe.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&TC.setOnrampProviders(this.remoteFeatures.onramp),((n=oe.state.remoteFeatures)!=null&&n.email||Array.isArray((r=oe.state.remoteFeatures)==null?void 0:r.socials)&&((s=oe.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const e=await Re.fetchAllowedOrigins();if(!e||!Pe.isClient()){gn.open(Yt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;gp.isOriginAllowed(n,e,Bf.DEFAULT_ALLOWED_ANCESTORS)||gn.open(Yt.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}catch(e){if(!(e instanceof Error)){gn.open(Yt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(e.message){case"RATE_LIMITED":gn.open(Yt.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;gn.open({shortMessage:Yt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.shortMessage,longMessage:Yt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.longMessage(n.message)},"error");break}default:gn.open(Yt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,St.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Gr.setThemeMode(e.themeMode),e.themeVariables&&Gr.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");O.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&O.setActiveCaipNetwork(n)}initializeConnectionController(e){Se.initialize(e.adapters??[]),Se.setWcBasic(e.basic??!1)}initializeConnectorController(){ge.initialize(this.chainNamespaces)}initializeProjectSettings(e){oe.setProjectId(e.projectId),oe.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var o;oe.setDebug(e.debug!==!1),oe.setEnableWalletConnect(e.enableWalletConnect!==!1),oe.setEnableWalletGuide(e.enableWalletGuide!==!1),oe.setEnableWallets(e.enableWallets!==!1),oe.setEIP6963Enabled(e.enableEIP6963!==!1),oe.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),oe.setEnableAuthLogger(e.enableAuthLogger!==!1),oe.setCustomRpcUrls(e.customRpcUrls),oe.setEnableEmbedded(e.enableEmbedded),oe.setAllWallets(e.allWallets),oe.setIncludeWalletIds(e.includeWalletIds),oe.setExcludeWalletIds(e.excludeWalletIds),oe.setFeaturedWalletIds(e.featuredWalletIds),oe.setTokens(e.tokens),oe.setTermsConditionsUrl(e.termsConditionsUrl),oe.setPrivacyPolicyUrl(e.privacyPolicyUrl),oe.setCustomWallets(e.customWallets),oe.setFeatures(e.features),oe.setAllowUnsupportedChain(e.allowUnsupportedChain),oe.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),oe.setPreferUniversalLinks(e.experimental_preferUniversalLinks),oe.setDefaultAccountTypes(e.defaultAccountTypes);const n=fe.getPreferredAccountTypes()||{},r={...oe.state.defaultAccountTypes,...n};he.setPreferredAccountTypes(r);const s=this.getDefaultMetaData();if(!e.metadata&&s&&(e.metadata=s),oe.setMetadata(e.metadata),oe.setDisableAppend(e.disableAppend),oe.setEnableEmbedded(e.enableEmbedded),oe.setSIWX(e.siwx),!e.projectId){gn.open(Yt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===Z.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");oe.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return Pe.isClient()?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=Qi.getUnsupportedNetwork(`${n}:${e}`);O.setActiveCaipNetwork(r)}}getDefaultNetwork(){return Qi.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return Qi.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return Qi.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return n?Qi.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const n=this.getAdapter(e),r=kt.getProvider(e),s=kt.getProviderId(e),{caipAddress:i}=O.getAccountData(e)||{};this.setLoading(!0,e),i&&(n!=null&&n.disconnect)&&await n.disconnect({provider:r,providerType:s}),fe.removeConnectedNamespace(e),kt.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e),this.setConnectedWalletInfo(void 0,e),ge.removeConnectorId(e),O.resetAccount(e),O.resetNetwork(e),this.setLoading(!1,e)}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var i;const e=O.state.activeChain,n=this.getAdapter(e),r=(i=this.getCaipNetwork(e))==null?void 0:i.id;if(!n)throw new Error("Adapter not found");const s=await n.connectWalletConnect(r);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),fe.setConnectedNamespaces([...O.state.chains.keys()]),this.chainNamespaces.forEach(o=>{ge.setConnectorId(Ht.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:s,chain:i,caipNetwork:o,socialUri:a})=>{var g,w,y,b,v,_;const c=O.state.activeChain,l=i||c,u=this.getAdapter(l);if(i&&i!==c&&!o){const E=this.getCaipNetworks().find(x=>x.chainNamespace===i);E&&this.setCaipNetwork(E)}if(!u)throw new Error("Adapter not found");const d=this.getCaipNetwork(l),h=await u.connect({id:e,info:n,type:r,provider:s,socialUri:a,chainId:(o==null?void 0:o.id)||(d==null?void 0:d.id),rpcUrl:((y=(w=(g=o==null?void 0:o.rpcUrls)==null?void 0:g.default)==null?void 0:w.http)==null?void 0:y[0])||((_=(v=(b=d==null?void 0:d.rpcUrls)==null?void 0:b.default)==null?void 0:v.http)==null?void 0:_[0])});if(!h)return;fe.addConnectedNamespace(l),this.syncProvider({...h,chainNamespace:l});const f=he.state.allAccounts,{accounts:p}=(f==null?void 0:f.length)>0?{accounts:[...f]}:await u.getAccounts({namespace:l,id:e});this.setAllAccounts(p,l),this.setStatus("connected",l),this.syncConnectedWalletInfo(l)},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var a;const i=O.state.activeChain,o=this.getAdapter(i);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),fe.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async({chainNamespace:e}={})=>{const n=zX(e);try{const r=await Promise.allSettled(n.map(async([i])=>this.disconnectNamespace(i)));mt.resetSend(),Se.resetWcConnection(),await dp.clearSessions(),ge.setFilterByNamespace(void 0);const s=r.filter(i=>i.status==="rejected");if(s.length>0)throw new Error(s.map(i=>i.reason.message).join(", "));fe.deleteConnectedSocialProvider(),St.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(r){throw new Error(`Failed to disconnect chains: ${r.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(O.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:he.state.address,provider:kt.getProvider(O.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(xt.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(O.state.activeChain),s=kt.getProvider(n),i=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===Z.CHAIN.EVM){const n=this.getAdapter(O.state.activeChain),r=kt.getProvider(O.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const i=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:s}));return(i==null?void 0:i.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:he.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:O.state.activeChain}),he.state.profileImage||!1},getEnsAddress:async e=>await gp.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(O.state.activeChain),r=this.getCaipNetwork(),s=this.getCaipAddress(),i=kt.getProvider(O.state.activeChain);if(!r||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:i,caipAddress:s}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter(O.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(O.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(O.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(O.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(O.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(O.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!he.state.address||this.updateNativeBalance(he.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Se.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,i,o;if(kt.getProviderId(O.state.activeChain)===Ht.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=kt.getProvider(n),i=kt.getProviderId(n);if(e.chainNamespace===O.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:s,providerType:i}))}else if(this.setCaipNetwork(e),i===Ht.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=ps.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var i;const s=e==null?void 0:e.find(o=>o.namespace===r);return s?(s.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new Pbe({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=fe.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(fe.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:i})=>{const o=this.getCaipNetworks().find(l=>l.id===i||l.caipNetworkId===i),a=O.state.activeChain===e,c=O.getAccountProp("address",e);if(o){const l=a&&s?s:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=he.state.address,i=O.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i})=>{var a,c;const o=O.state.activeChain===e;o&&i?this.syncAccount({address:s,chainId:i,chainNamespace:e}):o&&((a=O.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:s,chainId:(c=O.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(s,i,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===Z.CHAIN.EVM&&Pe.isSafeApp()&&ge.setConnectorId(Z.CONNECTOR_ID.SAFE,e);const n=ge.getConnectorId(e);switch(this.setStatus("connecting",e),n){case Z.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Z.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var a,c,l;const n=this.getAdapter(e),r=ge.getConnectorId(e),s=this.getCaipNetwork(e),o=ge.getConnectors(e).find(u=>u.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const u=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:s.id,rpcUrl:(l=(c=(a=s==null?void 0:s.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));if(u){const d=await(n==null?void 0:n.getAccounts({namespace:e,id:o.id}));d&&d.accounts.length>0?this.setAllAccounts(d.accounts,e):this.setAllAccounts([Pe.createAccount(e,u.address,"eoa")],e),this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){var r,s;const e=Object.keys(((s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)||{}),n=this.chainNamespaces.map(async i=>{var u,d,h,f,p;const o=this.getAdapter(i),a=((f=(h=(d=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:d.namespaces)==null?void 0:h[i])==null?void 0:f.accounts)||[],c=(p=O.state.activeCaipNetwork)==null?void 0:p.id,l=a.find(g=>{const{chainId:w}=ps.parseCaipAddress(g);return w===(c==null?void 0:c.toString())})||a[0];if(l){const g=ps.validateCaipAddress(l),{chainId:w,address:y}=ps.parseCaipAddress(g);if(kt.setProviderId(i,Ht.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&O.state.activeCaipNetwork&&(o==null?void 0:o.namespace)!==Z.CHAIN.EVM){const b=o==null?void 0:o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:O.state.activeCaipNetwork});kt.setProvider(i,b)}else kt.setProvider(i,this.universalProvider);ge.setConnectorId(Z.CONNECTOR_ID.WALLET_CONNECT,i),fe.addConnectedNamespace(i),this.syncWalletConnectAccounts(i),await this.syncAccount({address:y,chainId:w,chainNamespace:i})}else e.includes(i)&&this.setStatus("disconnected",i);this.syncConnectedWalletInfo(i),await O.setApprovedCaipNetworksData(i)});await Promise.all(n)}syncWalletConnectAccounts(e){var r,s,i,o,a;const n=(a=(o=(i=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=ps.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>Pe.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){kt.setProviderId(s,e),kt.setProvider(s,n),ge.setConnectorId(r,s)}async syncAllAccounts(e){const n=ge.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),s=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));s&&s.accounts.length>0&&this.setAllAccounts(s.accounts,e)}async syncAccount(e){var d,h;const n=e.chainNamespace===O.state.activeChain,r=O.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=fe.getActiveNetworkProps(),c=i||a,l=((d=O.state.activeCaipNetwork)==null?void 0:d.name)===Z.UNSUPPORTED_NETWORK_NAME,u=O.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(w=>w.id.toString()===c.toString()),p=this.getCaipNetworks().find(w=>w.chainNamespace===o);if(!u&&!f&&!p){const w=this.getApprovedCaipNetworkIds()||[],y=w.find(v=>{var _;return((_=ps.parseCaipNetworkId(v))==null?void 0:_.chainId)===c.toString()}),b=w.find(v=>{var _;return((_=ps.parseCaipNetworkId(v))==null?void 0:_.chainNamespace)===o});f=this.getCaipNetworks().find(v=>v.caipNetworkId===y),p=this.getCaipNetworks().find(v=>v.caipNetworkId===b||"deprecatedCaipNetworkId"in v&&v.deprecatedCaipNetworkId===b)}const g=f||p;(g==null?void 0:g.chainNamespace)===O.state.activeChain?oe.state.enableNetworkSwitch&&!oe.state.allowUnsupportedChain&&((h=O.state.activeCaipNetwork)==null?void 0:h.name)===Z.UNSUPPORTED_NETWORK_NAME?O.showUnsupportedChainUI():this.setCaipNetwork(g):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),Eg.isLowerCaseMatch(s,he.state.address)||this.syncAccountInfo(s,g==null?void 0:g.id,o),n?await this.syncBalance({address:s,chainId:g==null?void 0:g.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),i=n||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${r}:${i}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=ge.getConnectorId(e),r=kt.getProviderId(e);if(r===Ht.CONNECTOR_TYPE_ANNOUNCED||r===Ht.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(o=>o.id===n);if(i){const{info:o,name:a,imageUrl:c}=i,l=c||this.getConnectorImage(i);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===Ht.CONNECTOR_TYPE_WALLET_CONNECT){const i=kt.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n&&n===Z.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(o=>o.id===Z.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}}async syncBalance(e){!ug.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),i=O.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:e,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,s,i,o,a,c,l,u,d,h;const e=F0e.createLogger((f,...p)=>{f&&this.handleAlertError(f),console.error(...p)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};oe.setManualWCControl(!!((h=this.options)!=null&&h.manualWCControl)),this.universalProvider=this.options.universalProvider??await L0e.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{Se.setUri(e)}),this.universalProvider.on("connect",Se.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),Se.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(s=>s.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(gp.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&Pe.isCaipAddress(r[0])&&this.syncAccount(ps.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&Pe.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){St.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(Yt.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=Yt.ALERT_ERRORS[o];a&&(gn.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&Se.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return bt.open({...e,data:{swap:e.arguments}})}return bt.open(e)}async close(){await this.injectModalUi(),bt.close()}setLoading(e,n){bt.setLoading(e,n)}async disconnect(e){await Se.disconnect({namespace:e})}getSIWX(){return oe.state.siwx}getError(){return""}getChainId(){var e;return(e=O.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){gn.open(Yt.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await O.switchActiveNetwork(n)}getWalletProvider(){return O.state.activeChain?kt.state.providers[O.state.activeChain]:null}getWalletProviderType(){return kt.getProviderId(O.state.activeChain)}subscribeProviders(e){return kt.subscribeProviders(e)}getThemeMode(){return Gr.state.themeMode}getThemeVariables(){return Gr.state.themeVariables}setThemeMode(e){Gr.setThemeMode(e),NU(Gr.state.themeMode)}setTermsConditionsUrl(e){oe.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){oe.setPrivacyPolicyUrl(e)}setThemeVariables(e){Gr.setThemeVariables(e),Ibe(Gr.state.themeVariables)}subscribeTheme(e){return Gr.subscribe(e)}subscribeConnections(e){return Se.subscribe(e)}getWalletInfo(e){return e?O.getAccountProp("connectedWalletInfo",e):he.state.connectedWalletInfo}getAccount(e){var o;const n=ge.getAuthConnector(e),r=O.getAccountData(e),s=O.state.activeChain,i=fe.getConnectedConnectorId(e||s);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:Pe.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&i===Z.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:fe.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(o=r.preferredAccountTypes)==null?void 0:o[e||s],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?O.subscribeChainProp("accountState",r,n):O.subscribe(r),ge.subscribe(r)}subscribeNetwork(e){return O.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e,n){return n?he.subscribeKey("connectedWalletInfo",e,n):he.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){he.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){O.subscribeKey("activeCaipNetwork",e)}getState(){return to.state}subscribeState(e){return to.subscribe(e)}showErrorMessage(e){vi.showError(e)}showSuccessMessage(e){vi.showSuccess(e)}getEvent(){return{...St.state}}subscribeEvents(e){return St.subscribe(e)}replace(e){Le.replace(e)}redirect(e){Le.push(e)}popTransactionStack(e){Le.popTransactionStack(e)}isOpen(){return bt.state.open}isTransactionStackEmpty(){return Le.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){oe.setFeatures(e)}updateRemoteFeatures(e){oe.setRemoteFeatures(e)}updateOptions(e){const r={...oe.state||{},...e};oe.setOptions(r)}setConnectMethodsOrder(e){oe.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){oe.setWalletFeaturesOrder(e)}setCollapseWallets(e){oe.setCollapseWallets(e)}setSocialsOrder(e){oe.setSocialsOrder(e)}getConnectMethodsOrder(){return Tx.getConnectOrderMethod(oe.state.features,ge.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||O.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&O.removeNetwork(e,n)}}let MO=!1;class $be extends Rbe{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{ms.checkIfRequestExists(n)?ms.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(Un.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(Un.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const s=ms.checkIfRequestIsSafe(r),i=he.state.address,o=O.state.activeCaipNetwork;s||(i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=O.state.activeChain;ge.getConnectorId(n)===Z.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(n=>{var l,u;const r=O.state.activeChain,s=r===Z.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,i=oe.state.defaultAccountTypes[r],o=(l=he.state.preferredAccountTypes)==null?void 0:l[r],a=n.preferredAccountType||o||i;Eg.isLowerCaseMatch(n.address,he.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(s,r),this.setUser({...he.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(a,r);const c=(u=n.accounts)==null?void 0:u.map(d=>Pe.createAccount(r,d.address,d.type||o||i));this.setAllAccounts(c||[Pe.createAccount(r,n.address,n.preferredAccountType||a)],r),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...he.state.user||{},username:n},O.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,O.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,O.state.activeChain)})}async syncAuthConnector(e,n){var d,h,f,p;const r=Z.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),s=n===O.state.activeChain;if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername();this.setUser({...((d=he.state)==null?void 0:d.user)||{},username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected(),l=Gr.getSnapshot(),u=oe.getSnapshot();await Promise.all([e.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),e.syncTheme({themeMode:l.themeMode,themeVariables:l.themeVariables,w3mThemeVariables:Uo(l.themeVariables,l.themeMode)})]),await e.getSmartAccountEnabledNetworks(),n&&r&&s&&(c&&((h=this.connectionControllerClient)!=null&&h.connectExternal)?(await((p=this.connectionControllerClient)==null?void 0:p.connectExternal({id:Z.CONNECTOR_ID.AUTH,info:{name:Z.CONNECTOR_ID.AUTH},type:Ht.CONNECTOR_TYPE_AUTH,provider:e,chainId:(f=O.state.activeCaipNetwork)==null?void 0:f.id,chain:n})),this.setStatus("connected",n)):ge.getConnectorId(n)===Z.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),fe.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!Pe.isTelegram())return;const r=fe.getTelegramSocialProvider();if(!r||!Pe.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;he.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=ge.getAuthConnector();r&&o&&(this.setLoading(!0,e),await Se.connectExternal({id:o.id,type:o.type,socialUri:i},o.chain),fe.setConnectedSocialProvider(r),fe.removeTelegramSocialProvider(),St.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var l,u,d,h;if(!Z.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=(l=this.remoteFeatures)==null?void 0:l.email,s=Array.isArray((u=this.remoteFeatures)==null?void 0:u.socials)&&this.remoteFeatures.socials.length>0,i=r||s,a=Eg.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&((d=this.options)!=null&&d.projectId)&&i&&(this.authProvider=jl.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(h=this.getCaipNetwork(a))==null?void 0:h.caipNetworkId,abortController:Yt.EmbeddedWalletAbortController,onTimeout:f=>{f==="iframe_load_failed"?gn.open(Yt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):f==="iframe_request_timeout"?gn.open(Yt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):f==="unverified_domain"&&gn.open(Yt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),to.subscribeOpen(f=>{var p;!f&&this.isTransactionStackEmpty()&&((p=this.authProvider)==null||p.rejectRpcRequests())}));const c=e===O.state.activeChain;this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Re.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var o,a;if(!e)return;const n=O.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===n&&s){const c=this.getAdapter(r),l=kt.getProvider(r),u=kt.getProviderId(r);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:l,providerType:u})),this.setCaipNetwork(e)}else{const l=kt.getProviderId(n)===Ht.CONNECTOR_TYPE_AUTH,u=kt.getProviderId(r),d=u===Ht.CONNECTOR_TYPE_AUTH,h=Z.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((l&&u===void 0||d)&&h)try{if(O.state.activeChain=e.chainNamespace,s){const f=this.getAdapter(r);await(f==null?void 0:f.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else await((a=(o=this.connectionControllerClient)==null?void 0:o.connectExternal)==null?void 0:a.call(o,{id:Z.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:Ht.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const p=this.getAdapter(r);await(p==null?void 0:p.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else u===Ht.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r}))}}async initialize(e){var n;await super.initialize(e),(n=this.chainNamespaces)==null||n.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),to.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const s=`${r}:${n}`,i=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===s);if(r!==Z.CHAIN.EVM||i!=null&&i.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(a,r),this.setProfileImage(c,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=kt.getProviderId(e);if(n===Ht.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=fe.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(Pe.isClient()&&!MO)try{const e={...xt.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),Pe.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!oe.state.disableAppend&&!oe.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}MO=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!Pe.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(ln(()=>import("./embedded-wallet-D4f5JLs2.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12,13,14]))),n.email&&r.push(ln(()=>import("./email-CelLR8fJ.js"),__vite__mapDeps([15,4,14,8,13,7,12,16,9]))),n.socials&&r.push(ln(()=>import("./socials-Bg1_XfB1.js"),__vite__mapDeps([17,4,18,7,19,20,13,21,12,8,14,22,6,23]))),n.swaps&&n.swaps.length>0&&r.push(ln(()=>import("./swaps-DUj21Cy4.js"),__vite__mapDeps([24,4,12,8,25,26,27,6,13,23,9,7]))),e.send&&r.push(ln(()=>import("./send-9O_azCIu.js"),__vite__mapDeps([28,4,12,8,13,7,19,14,27,6,9,29,30]))),e.receive&&r.push(ln(()=>import("./receive-kj5wE6EO.js"),__vite__mapDeps([31,4,32,6,22]))),n.onramp&&n.onramp.length>0&&r.push(ln(()=>import("./onramp-ybACKyhp.js"),__vite__mapDeps([33,4,34,23,13,6,8,35,18,7,19,36,14,12,21,9]))),n.activity&&r.push(ln(()=>import("./transactions-q14wKmUH.js"),__vite__mapDeps([37,4,38,34,23,13,14,6]))),e.pay&&r.push(ln(()=>import("./index-DhHMGMaK.js"),__vite__mapDeps([39,4,12,8,40,6,13,10,35,30,21]))),await Promise.all([...r,ln(()=>import("./index-CG0nkC02.js"),__vite__mapDeps([41,4,6,8,29,13,42,26,10,35,12,11,40,38,34,23,14,25,30,7,9,16,18,19,20,5,21,32,22,36])),ln(()=>import("./w3m-modal-CyECqf-B.js"),__vite__mapDeps([43,4,10,6,13,11,8,26,42]))])}}let Na;function Dbe(t){t&&(Na=t)}function qv(){if(!Na)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function t(n){await(Na==null?void 0:Na.open(n))}async function e(){await(Na==null?void 0:Na.close())}return{open:t,close:e}}const jbe="1.7.10";let Ny;function Ube(t){return Ny||(Ny=new $be({...t,sdkVersion:Pe.generateSdkVersion(t.adapters??[],"react",jbe)}),Dbe(Ny)),Ny}const Lbe=ki({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"720px",height:"600px",minWidth:"480px",minHeight:"360px",top:"calc(50vh - 300px)",left:"calc(50vw - 360px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:100},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},detailContent:{padding:"20px",color:"#000"},detailImage:{width:"100%",height:"auto",marginBottom:"20px",border:"1px solid #ccc"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),BO=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"},{slug:"lawbstation",name:"Lawbstation",api:"opensea-solana",chain:"solana"},{slug:"lawbnexus",name:"Nexus",api:"opensea-solana",chain:"solana"}],Mbe=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=Lbe({isOpen:t}),{open:i}=qv(),o=R.useRef(null),[a,c]=R.useState([]),[l,u]=R.useState(!0),[d,h]=R.useState(null),[f,p]=R.useState("all"),[g,w]=R.useState(1),[y,b]=R.useState(1),[v,_]=R.useState(0),[E,x]=R.useState(null),[S,A]=R.useState(BO[0]),[C,P]=R.useState(!1),[k,B]=R.useState(null),F=R.useCallback(async()=>{var $,U;try{if(($=window.solana)!=null&&$.isPhantom){const W=await window.solana.connect();B(W.publicKey.toString());return}if((U=window.solflare)!=null&&U.isSolflare){const W=await window.solflare.connect();B(W.publicKey.toString());return}i()}catch(W){console.error("Failed to connect Solana wallet:",W),alert("Failed to connect Solana wallet. Please make sure Phantom or Solflare is installed.")}P(!1)},[i]);R.useEffect(()=>{var $,U;($=window.solana)!=null&&$.publicKey?B(window.solana.publicKey.toString()):(U=window.solflare)!=null&&U.publicKey&&B(window.solflare.publicKey.toString())},[]),R.useEffect(()=>{t&&(async()=>{var U;u(!0),h(null);try{let W,Y=f==="owned"&&r||void 0;if(S.api==="opensea-solana"){if(f==="owned"&&!k){P(!0),u(!1);return}Y=k||void 0,W=await X8(S.slug,50),console.log("Fetched Solana NFTs from collection:",W.data.length),f==="owned"&&k&&(console.log("Filtering for owner:",k),console.log("Sample NFT owner data:",(U=W.data[0])==null?void 0:U.owners),console.log("All NFTs owner data:",W.data.map(ee=>({name:ee.name,owners:ee.owners,owner_of:ee.owner_of}))),W.data.some(ee=>ee.owners&&ee.owners.length>0)?(W.data=W.data.filter(ee=>{const ne=ee.owners.some(me=>me.owner_of&&me.owner_of.toLowerCase()===k.toLowerCase());return ne&&console.log("Found owned NFT:",ee.name),ne}),console.log("NFTs after filtering:",W.data.length)):(console.log("No owner data available from OpenSea for Solana collection"),h("Owner data not available for this Solana collection. Showing all NFTs.")))}else S.api==="opensea"?W=await IA(S.slug,50,Y):W=await AA(S.slug,g,50,Y);c(W.data),b(W.totalPages),_(W.totalCount)}catch(W){W instanceof Error?h(W.message):h("An unknown error occurred."),c([])}finally{u(!1)}})()},[t,g,f,r,S,k]),R.useEffect(()=>{C&&F()},[C,F]);const H=$=>new Date($).toLocaleDateString(),N=$=>S.api==="opensea-solana"&&(!$.owners||$.owners.length===0)?"Owner data unavailable":$.owners.length>0?`${$.owners[0].owner_of.substring(0,6)}...`:"N/A",T=()=>{n&&n()},L=async $=>{if(S.api==="opensea"&&S.chain)try{const U=await Z8(S.chain,$.address,$.token_id.toString()),W={...$,attributes:JSON.stringify(U.traits||[])};x(W)}catch(U){console.error("Failed to fetch full NFT details",U),x($)}else x($)},D=$=>{A($),w(1)};return t?m.jsxs(m.Fragment,{children:[m.jsx(sm,{nodeRef:o,handle:`.${s.header}`,children:m.jsxs("div",{ref:o,className:s.popup,children:[m.jsxs("div",{className:s.header,children:[m.jsx("span",{children:"LAWB NFT GALLERY"}),m.jsxs("div",{className:s.titleBarButtons,children:[m.jsx("button",{className:s.titleBarButton,onClick:T,title:"Minimize",children:"_"}),m.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:"✕"})]})]}),m.jsx("div",{className:s.collectionSelector,children:BO.map($=>m.jsx("button",{className:`${s.collectionButton} ${S.slug===$.slug?"active":""}`,onClick:()=>D($),children:$.name},$.slug))}),m.jsxs("div",{className:s.content,children:[m.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[m.jsx("button",{onClick:()=>p("all"),style:{background:f==="all"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:f==="all"?"white":"black"},children:"All NFTs"}),m.jsx("button",{onClick:()=>p("recent"),disabled:!r,style:{background:f==="recent"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r?"pointer":"not-allowed",color:f==="recent"?"white":"black",opacity:r?1:.6},children:"Recently Minted"}),m.jsx("button",{onClick:()=>p("owned"),disabled:!r&&!k,style:{background:f==="owned"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r||k?"pointer":"not-allowed",color:f==="owned"?"white":"black",opacity:r||k?1:.6},children:"My NFTs"}),S.api==="opensea-solana"&&m.jsx("button",{onClick:()=>{F()},style:{background:k?"#4CAF50":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:k?"white":"black",marginLeft:"auto"},children:k?`Solana: ${k.slice(0,4)}...${k.slice(-4)}`:"Connect Solana"})]}),S.api==="opensea-solana"&&!k&&m.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",padding:"10px",marginBottom:"10px",color:"#856404"},children:"Connect your Solana wallet (Phantom or Solflare) to view your NFTs from this collection."}),d&&m.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:d}),l?m.jsx("div",{children:"Loading NFTs..."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"10px",fontSize:"14px"},children:[f==="all"&&`Showing all NFTs (${v} total)`,f==="recent"&&`Recently minted NFTs by ${S.api==="opensea-solana"?(k==null?void 0:k.slice(0,6))+"..."+(k==null?void 0:k.slice(-4)):(r==null?void 0:r.slice(0,6))+"..."+(r==null?void 0:r.slice(-4))}`,f==="owned"&&`NFTs owned by ${S.api==="opensea-solana"?(k==null?void 0:k.slice(0,6))+"..."+(k==null?void 0:k.slice(-4)):(r==null?void 0:r.slice(0,6))+"..."+(r==null?void 0:r.slice(-4))}`]}),a.length===0?m.jsx("div",{children:"No NFTs found."}):m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:a.map($=>m.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},onClick:()=>{L($)},children:[m.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${$.image_url})`,backgroundSize:"cover",backgroundPosition:"center",marginBottom:"10px",border:"1px solid #ccc"}}),m.jsx("div",{style:{fontSize:"12px",marginBottom:"5px",color:"#000"},children:m.jsxs("strong",{children:["#",$.token_id]})}),m.jsxs("div",{style:{fontSize:"11px",marginBottom:"5px",color:"#000"},children:["Owner: ",N($)]}),m.jsxs("div",{style:{fontSize:"11px",color:"#666"},children:["Minted: ",H($.created_at)]})]},$.id))}),f!=="recent"&&y>1&&m.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"20px"},children:[m.jsx("button",{onClick:()=>w($=>Math.max(1,$-1)),disabled:g===1,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:g===1?"not-allowed":"pointer"},children:"Previous"}),m.jsxs("span",{style:{padding:"5px 10px"},children:["Page ",g," of ",y]}),m.jsx("button",{onClick:()=>w($=>Math.min(y,$+1)),disabled:g===y,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:g===y?"not-allowed":"pointer"},children:"Next"})]})]})]})]})}),E&&m.jsx(YZ,{nft:E,onClose:()=>x(null)})]}):null};var Py,Bbe=new Uint8Array(16);function Fbe(){if(!Py&&(Py=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Py))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Py(Bbe)}const zbe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Wbe(t){return typeof t=="string"&&zbe.test(t)}var Hn=[];for(var vE=0;vE<256;++vE)Hn.push((vE+256).toString(16).substr(1));function qbe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Hn[t[e+0]]+Hn[t[e+1]]+Hn[t[e+2]]+Hn[t[e+3]]+"-"+Hn[t[e+4]]+Hn[t[e+5]]+"-"+Hn[t[e+6]]+Hn[t[e+7]]+"-"+Hn[t[e+8]]+Hn[t[e+9]]+"-"+Hn[t[e+10]]+Hn[t[e+11]]+Hn[t[e+12]]+Hn[t[e+13]]+Hn[t[e+14]]+Hn[t[e+15]]).toLowerCase();if(!Wbe(n))throw TypeError("Stringified UUID is invalid");return n}function Hbe(t,e,n){t=t||{};var r=t.random||(t.rng||Fbe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,qbe(r)}const Vbe=ki({container:{display:"flex",flexDirection:"column",gap:4,padding:4,background:"#c0c0c0",border:"2px outset #fff",borderRadius:8,maxWidth:500,width:"100%",fontFamily:"monospace",fontSize:11},header:{textAlign:"center",marginBottom:2},subtitle:{color:"#000",fontSize:"10px",textAlign:"center",marginBottom:2,lineHeight:1.1},content:{display:"flex",flexDirection:"column",gap:2},section:{display:"flex",flexDirection:"column",gap:1},sectionTitle:{fontWeight:"bold",color:"#000",fontSize:11,borderBottom:"1px solid #888",paddingBottom:0},row:{display:"flex",alignItems:"center",gap:3,flexWrap:"wrap"},label:{minWidth:55,color:"#000",fontWeight:"bold",fontSize:10},input:{flex:1,minWidth:70,padding:"2px 3px",border:"2px inset #fff",background:"#fff",fontSize:10,fontFamily:"monospace",color:"#000",textTransform:"uppercase"},button:{padding:"3px 8px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:10,fontWeight:"bold",color:"#000","&:hover":{background:"#d0d0d0"},"&:active":{border:"2px inset #fff"}},effectButton:{padding:"2px 5px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:9,fontWeight:"bold",color:"#000","&:hover":{background:"#d0d0d0"},"&:active":{border:"2px inset #fff"}},memeArea:{display:"flex",justifyContent:"center",position:"relative",marginTop:1},canvas:{border:"2px inset #fff",background:"#333",maxWidth:"100%",height:"auto"},dropdown:{position:"relative"},dropdownContent:{position:"absolute",top:"100%",left:0,background:"#fff",border:"2px outset #fff",borderRadius:4,zIndex:10,minWidth:100,maxHeight:100,overflowY:"auto"},dropdownItem:{padding:"3px 5px",cursor:"pointer",fontSize:9,borderBottom:"1px solid #eee","&:hover":{background:"#f0f0f0"}},actions:{display:"flex",gap:3,justifyContent:"center",marginTop:1}}),Gbe=[{id:"lawbsters",name:"Lawbsters",api:"opensea",slug:"lawbsters",chain:"ethereum"},{id:"lawbstarz",name:"Lawbstarz",api:"opensea",slug:"lawbstarz",chain:"ethereum"},{id:"pixelawbs",name:"Pixelawbsters",api:"scatter",slug:"pixelawbs"},{id:"halloween",name:"Halloween Lawbsters",api:"opensea",slug:"a-lawbster-halloween",chain:"base"},{id:"lawbstation",name:"Lawbstation",api:"opensea-solana",slug:"lawbstation",chain:"solana"},{id:"nexus",name:"Nexus",api:"opensea-solana",slug:"lawbnexus",chain:"solana"}],Kbe=["/images/sticker1.png","/images/sticker2.png","/images/sticker3.png","/images/sticker4.png","/images/sticker5.png"],ls=500;function OU(){const t=Vbe(),e=R.useRef(null),[n,r]=R.useState(null),[s,i]=R.useState(""),[o,a]=R.useState(""),[c,l]=R.useState(36),[u,d]=R.useState(36),[h,f]=R.useState(!1),[p,g]=R.useState(!1),[w,y]=R.useState(!1),[b,v]=R.useState(!1),[_,E]=R.useState(!1),[x,S]=R.useState([]),[A,C]=R.useState(null),P=R.useRef(null),[k,B]=R.useState(null),F=async G=>{const Q=G.getContext("2d");if(!Q)return;Q.clearRect(0,0,G.width,G.height),n?await new Promise(X=>{const le=new window.Image;le.crossOrigin="anonymous",le.onload=()=>{const Me=Math.min(G.width/le.width,G.height/le.height),Ne=(G.width-le.width*Me)/2,be=(G.height-le.height*Me)/2;Q.drawImage(le,Ne,be,le.width*Me,le.height*Me),X()},le.onerror=()=>X(),le.src=n}):(Q.fillStyle="#333",Q.fillRect(0,0,G.width,G.height)),(X=>{X.textAlign="center",X.strokeStyle="black",X.lineWidth=3,X.fillStyle="white";const le=(Me,Ne)=>{const be=Me.toUpperCase().split(" "),Oe=[];let He=be[0];for(let Nt=1;Nt<be.length;Nt++){const wn=be[Nt];X.measureText(He+" "+wn).width<Ne?He+=" "+wn:(Oe.push(He),He=wn)}return Oe.push(He),Oe};s&&(X.font=`${c}px Impact`,le(s,ls-20).forEach((Ne,be)=>{const Oe=c+be*c*1.2;X.strokeText(Ne,ls/2,Oe),X.fillText(Ne,ls/2,Oe)})),o&&(X.font=`${u}px Impact`,le(o,ls-20).reverse().forEach((Ne,be)=>{const Oe=ls-u*1.2*(be+1);X.strokeText(Ne,ls/2,Oe),X.fillText(Ne,ls/2,Oe)}))})(Q),await Promise.all(x.map(X=>new Promise(le=>{const Me=new window.Image;Me.src=X.src,Me.onload=()=>{Q.save(),Q.translate(X.x,X.y),Q.rotate(X.rotation*Math.PI/180),Q.scale(X.scale,X.scale),Q.drawImage(Me,-40,-40,80,80),Q.restore(),le()},Me.onerror=()=>le()})));try{h&&H(G),p&&N(G),w&&T(G)}catch(X){console.warn("Effects could not be applied due to CORS restrictions. Try uploading your own image instead.",X),f(!1),g(!1),y(!1)}},H=G=>{const Q=G.getContext("2d");if(!Q)return;const se=Q.getImageData(0,0,G.width,G.height),X=se.data;for(let le=0;le<X.length;le+=4){const Me=X[le],Ne=X[le+1],be=X[le+2],Oe=(Me+Ne+be)/3,He=1.8;X[le]=Math.min(255,Oe+(Me-Oe)*He),X[le+1]=Math.min(255,Oe+(Ne-Oe)*He*.7),X[le+2]=Math.min(255,Oe+(be-Oe)*He*.4);const Nt=1.3;X[le]=Math.min(255,Math.max(0,X[le]*Nt)),X[le+1]=Math.min(255,Math.max(0,X[le+1]*Nt)),X[le+2]=Math.min(255,Math.max(0,X[le+2]*Nt))}Q.putImageData(se,0,0)},N=G=>{const Q=G.getContext("2d");if(!Q)return;const se=4,le=Q.getImageData(0,0,G.width,G.height).data,Me=new Uint8ClampedArray(le);for(let Ne=0;Ne<G.height;Ne+=se)for(let be=0;be<G.width;be+=se){const Oe=(Ne*G.width+be)*4,He=le[Oe],Nt=le[Oe+1],wn=le[Oe+2],Dt=le[Oe+3];for(let yt=0;yt<se&&Ne+yt<G.height;yt++)for(let cn=0;cn<se&&be+cn<G.width;cn++){const Ps=((Ne+yt)*G.width+(be+cn))*4;Me[Ps]=He,Me[Ps+1]=Nt,Me[Ps+2]=wn,Me[Ps+3]=Dt}}Q.putImageData(new ImageData(Me,G.width,G.height),0,0)},T=G=>{const Q=G.getContext("2d");if(!Q)return;const se=Q.getImageData(0,0,G.width,G.height),X=se.data;for(let le=0;le<X.length;le+=4){const Me=(Math.random()-.5)*50;X[le]=Math.max(0,Math.min(255,X[le]+Me)),X[le+1]=Math.max(0,Math.min(255,X[le+1]+Me)),X[le+2]=Math.max(0,Math.min(255,X[le+2]+Me))}Q.putImageData(se,0,0)};R.useEffect(()=>{e.current&&F(e.current)},[F]);const L=G=>{var se;const Q=(se=G.target.files)==null?void 0:se[0];Q&&r(URL.createObjectURL(Q))},D=()=>{r(null),i(""),a(""),l(36),d(36),f(!1),g(!1),y(!1)},$=async()=>{const G=e.current;if(!G)return;await F(G);const Q=document.createElement("a");Q.download="meme.png",Q.href=G.toDataURL("image/png"),document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)},U=async G=>{E(!0),v(!1);try{console.log("Fetching NFTs for collection:",G);let Q;if(G.api==="opensea"){console.log("Using OpenSea API for:",G.slug);const se=await IA(G.slug,50);Q=se.data,console.log("OpenSea response:",se)}else if(G.api==="opensea-solana"){console.log("Using OpenSea Solana API for:",G.slug);const se=await X8(G.slug,50);Q=se.data,console.log("OpenSea Solana response:",se)}else{console.log("Using Scatter API for:",G.slug);const se=await AA(G.slug,1,50);Q=se.data,console.log("Scatter response:",se)}if(Q&&Q.length>0){const se=Q[Math.floor(Math.random()*Q.length)],X=se.image||se.image_url||se.image_url_shrunk;console.log("Selected NFT:",se),console.log("Image URL:",X),r(X)}else console.log("No NFTs found in collection"),alert("No NFTs found in this collection.")}catch(Q){console.error("Error fetching NFTs:",Q),alert("Failed to fetch NFT images. Check console for details.")}finally{E(!1)}},W=G=>{const Q={id:Hbe(),src:G,x:80,y:80,scale:1,rotation:0};S(se=>se.length>=2||se.some(X=>X.src===G&&!X.id.startsWith("upload-"))?se:[...se,Q]),B(Q.id)},Y=G=>{var se;const Q=(se=G.target.files)==null?void 0:se[0];if(Q){const X=URL.createObjectURL(Q);W(X)}},te=(G,Q,se)=>{S(X=>X.map(le=>{if(le.id!==G)return le;let Me=le.x+Q/1.2,Ne=le.y+se/1.2;const be=40*le.scale,Oe=40*le.scale;return Me=Math.max(be,Math.min(ls-be,Me)),Ne=Math.max(Oe,Math.min(ls-Oe,Ne)),{...le,x:Me,y:Ne}}))},ee=(G,Q,se,X,le)=>{S(Me=>Me.map(Ne=>{if(Ne.id!==G)return Ne;const be=Ne.x,Oe=Ne.y,He=Math.atan2(le-Oe,X-be)*180/Math.PI;return{...Ne,rotation:se+(He-Q)*.5}}))},ne=G=>{S(Q=>Q.filter(se=>se.id!==G))},me=(G,Q)=>{S(se=>se.map(X=>X.id===G?{...X,scale:Math.max(.2,X.scale*(1+(Q-1)*.2))}:X))};return m.jsxs("div",{className:t.container,children:[m.jsxs("div",{className:t.header,children:[m.jsx("h2",{style:{color:"#00ffff",textShadow:"1px 1px 0 #000",marginBottom:8,fontSize:"16px"},children:"Lawb Meme Maker"}),m.jsxs("p",{className:t.subtitle,children:["find memes or upload your own on"," ",m.jsx("a",{href:"https://memedepot.com/d/lawb",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Meme Depot"})]})]}),m.jsxs("div",{className:t.content,children:[m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Collections"}),m.jsxs("div",{className:t.row,children:[m.jsxs("div",{className:t.dropdown,children:[m.jsx("button",{className:t.button,onClick:()=>v(G=>!G),children:"Collections"}),b&&m.jsx("div",{className:t.dropdownContent,children:Gbe.map(G=>m.jsx("div",{className:t.dropdownItem,onClick:()=>{U(G)},children:G.name},G.id))})]}),m.jsxs("label",{className:t.button,style:{marginBottom:0},children:["Upload Image",m.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:L})]}),_&&m.jsx("span",{style:{color:"#00ffff",marginLeft:8,fontSize:"12px"},children:"Loading NFT..."})]})]}),m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Text"}),m.jsxs("div",{className:t.row,children:[m.jsx("span",{className:t.label,children:"Top Text:"}),m.jsx("input",{className:t.input,type:"text",value:s,onChange:G=>i(G.target.value),placeholder:"Enter top text..."}),m.jsx("span",{className:t.label,children:"Size:"}),m.jsx("input",{className:t.input,type:"number",min:10,max:100,value:c,onChange:G=>l(Number(G.target.value)),style:{width:60,textAlign:"center"}})]}),m.jsxs("div",{className:t.row,children:[m.jsx("span",{className:t.label,children:"Bottom Text:"}),m.jsx("input",{className:t.input,type:"text",value:o,onChange:G=>a(G.target.value),placeholder:"Enter bottom text..."}),m.jsx("span",{className:t.label,children:"Size:"}),m.jsx("input",{className:t.input,type:"number",min:10,max:100,value:u,onChange:G=>d(Number(G.target.value)),style:{width:60,textAlign:"center"}})]})]}),m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Effects"}),m.jsxs("div",{className:t.row,children:[m.jsx("button",{className:t.effectButton,style:{background:h?"#00ffff":void 0},onClick:()=>f(G=>!G),children:"Deep Fry"}),m.jsx("button",{className:t.effectButton,style:{background:p?"#00ffff":void 0},onClick:()=>g(G=>!G),children:"Pixelate"}),m.jsx("button",{className:t.effectButton,style:{background:w?"#00ffff":void 0},onClick:()=>y(G=>!G),children:"Grain"})]})]}),m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Stickers"}),m.jsxs("div",{className:t.row,children:[Kbe.map((G,Q)=>m.jsx("img",{src:G,alt:`sticker${Q+1}`,style:{width:32,height:32,cursor:"pointer",border:"1px solid #888",marginRight:4},onClick:()=>W(G)},G)),m.jsxs("label",{className:t.button,style:{marginBottom:0},children:["Upload Sticker",m.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},ref:P,onChange:Y})]})]})]}),m.jsxs("div",{className:t.actions,children:[m.jsx("button",{className:t.button,onClick:$,children:"Save Image"}),m.jsx("button",{className:t.button,onClick:D,children:"Restart"})]})]}),m.jsx("div",{className:t.memeArea,children:m.jsx("canvas",{ref:e,width:ls,height:ls,className:t.canvas})}),m.jsx("div",{style:{position:"absolute",left:0,top:0,width:ls,height:ls,pointerEvents:"none"},children:x.map(G=>k===G.id?m.jsxs("div",{style:{position:"absolute",left:G.x,top:G.y,width:80*G.scale,height:80*G.scale,transform:`rotate(${G.rotation}deg)`,cursor:"move",pointerEvents:"auto",zIndex:10,border:"2px solid #00f",boxShadow:"0 0 8px #00f"},onMouseDown:Q=>{C(G.id),Q.stopPropagation()},onMouseUp:()=>C(null),onMouseMove:Q=>{A===G.id&&Q.buttons===1&&te(G.id,Q.movementX,Q.movementY)},children:[m.jsx("img",{src:G.src,alt:"sticker",style:{width:"100%",height:"100%",userSelect:"none",pointerEvents:"none"},draggable:!1}),m.jsx("div",{style:{position:"absolute",right:-12,top:"40%",width:16,height:16,background:"#fff",borderRadius:"50%",border:"1px solid #888",cursor:"grab",zIndex:11},onMouseDown:Q=>{var He;Q.stopPropagation();const se=(He=Q.currentTarget.parentElement)==null?void 0:He.getBoundingClientRect(),X=se?se.left+se.width/2:0,le=se?se.top+se.height/2:0,Me=Math.atan2(Q.clientY-le,Q.clientX-X)*180/Math.PI,Ne=G.rotation,be=Nt=>{ee(G.id,Me,Ne,Nt.clientX,Nt.clientY)},Oe=()=>{window.removeEventListener("mousemove",be),window.removeEventListener("mouseup",Oe)};window.addEventListener("mousemove",be),window.addEventListener("mouseup",Oe)}}),m.jsx("div",{style:{position:"absolute",bottom:-12,right:-12,width:16,height:16,background:"#fff",borderRadius:"50%",border:"1px solid #888",cursor:"nwse-resize",zIndex:11},onMouseDown:Q=>{Q.stopPropagation();const se=Q.clientX,X=Me=>{const Ne=(Me.clientX-se)/80;me(G.id,1+Ne)},le=()=>{window.removeEventListener("mousemove",X),window.removeEventListener("mouseup",le)};window.addEventListener("mousemove",X),window.addEventListener("mouseup",le)}}),m.jsx("button",{style:{position:"absolute",top:-12,left:-12,width:16,height:16,background:"#f00",color:"#fff",border:"none",borderRadius:"50%",fontSize:10,cursor:"pointer",zIndex:12},onClick:()=>ne(G.id),children:"×"}),m.jsx("button",{style:{position:"absolute",bottom:-12,left:"50%",transform:"translateX(-50%)",width:40,height:18,background:"#0f0",color:"#000",border:"1px solid #888",borderRadius:4,fontSize:8,cursor:"pointer",zIndex:12},onClick:()=>B(null),children:"Place"})]},G.id):null)})]})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ug(){return Ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(this,arguments)}var lc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lc||(lc={}));const FO="popstate";function Ybe(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Px("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:$U(s)}return Qbe(e,n,null,t)}function In(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RU(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jbe(){return Math.random().toString(36).substr(2,8)}function zO(t,e){return{usr:t.state,key:t.key,idx:e}}function Px(t,e,n,r){return n===void 0&&(n=null),Ug({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Dh(e):e,{state:n,key:e&&e.key||r||Jbe()})}function $U(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Dh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Qbe(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=lc.Pop,c=null,l=u();l==null&&(l=0,o.replaceState(Ug({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=lc.Pop;let w=u(),y=w==null?null:w-l;l=w,c&&c({action:a,location:g.location,delta:y})}function h(w,y){a=lc.Push;let b=Px(g.location,w,y);l=u()+1;let v=zO(b,l),_=g.createHref(b);try{o.pushState(v,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(_)}i&&c&&c({action:a,location:g.location,delta:1})}function f(w,y){a=lc.Replace;let b=Px(g.location,w,y);l=u();let v=zO(b,l),_=g.createHref(b);o.replaceState(v,"",_),i&&c&&c({action:a,location:g.location,delta:0})}function p(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof w=="string"?w:$U(w);return b=b.replace(/ $/,"%20"),In(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let g={get action(){return a},get location(){return t(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(FO,d),c=w,()=>{s.removeEventListener(FO,d),c=null}},createHref(w){return e(s,w)},createURL:p,encodeLocation(w){let y=p(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(w){return o.go(w)}};return g}var WO;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(WO||(WO={}));function Zbe(t,e,n){return n===void 0&&(n="/"),Xbe(t,e,n)}function Xbe(t,e,n,r){let s=typeof e=="string"?Dh(e):e,i=UU(s.pathname||"/",n);if(i==null)return null;let o=DU(t);e1e(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=h1e(i);a=l1e(o[c],l)}return a}function DU(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(In(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=Ll([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(In(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),DU(i.children,e,u,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:a1e(l,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of jU(i.path))s(i,o,c)}),e}function jU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=jU(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function e1e(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:c1e(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const t1e=/^:[\w-]+$/,n1e=3,r1e=2,s1e=1,i1e=10,o1e=-2,qO=t=>t==="*";function a1e(t,e){let n=t.split("/"),r=n.length;return n.some(qO)&&(r+=o1e),e&&(r+=r1e),n.filter(s=>!qO(s)).reduce((s,i)=>s+(t1e.test(i)?n1e:i===""?s1e:i1e),r)}function c1e(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function l1e(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=u1e({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),h=c.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Ll([i,d.pathname]),pathnameBase:w1e(Ll([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Ll([i,d.pathnameBase]))}return o}function u1e(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=d1e(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?l[h]=void 0:l[h]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:t}}function d1e(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),RU(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function h1e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return RU(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function UU(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function f1e(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Dh(t):t;return{pathname:n?n.startsWith("/")?n:p1e(n,e):e,search:v1e(r),hash:b1e(s)}}function p1e(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function bE(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g1e(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function m1e(t,e){let n=g1e(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function y1e(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Dh(t):(s=Ug({},t),In(!s.pathname||!s.pathname.includes("?"),bE("?","pathname","search",s)),In(!s.pathname||!s.pathname.includes("#"),bE("#","pathname","hash",s)),In(!s.search||!s.search.includes("#"),bE("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let c=f1e(s,a),l=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const Ll=t=>t.join("/").replace(/\/\/+/g,"/"),w1e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),v1e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,b1e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function E1e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LU=["post","put","patch","delete"];new Set(LU);const _1e=["get",...LU];new Set(_1e);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lg(){return Lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lg.apply(this,arguments)}const m2=R.createContext(null),C1e=R.createContext(null),Hv=R.createContext(null),Vv=R.createContext(null),jh=R.createContext({outlet:null,matches:[],isDataRoute:!1}),MU=R.createContext(null);function Gv(){return R.useContext(Vv)!=null}function BU(){return Gv()||In(!1),R.useContext(Vv).location}function FU(t){R.useContext(Hv).static||R.useLayoutEffect(t)}function x1e(){let{isDataRoute:t}=R.useContext(jh);return t?U1e():S1e()}function S1e(){Gv()||In(!1);let t=R.useContext(m2),{basename:e,future:n,navigator:r}=R.useContext(Hv),{matches:s}=R.useContext(jh),{pathname:i}=BU(),o=JSON.stringify(m1e(s,n.v7_relativeSplatPath)),a=R.useRef(!1);return FU(()=>{a.current=!0}),R.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let d=y1e(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ll([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function A1e(t,e){return I1e(t,e)}function I1e(t,e,n,r){Gv()||In(!1);let{navigator:s}=R.useContext(Hv),{matches:i}=R.useContext(jh),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let l=BU(),u;if(e){var d;let w=typeof e=="string"?Dh(e):e;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||In(!1),u=w}else u=l;let h=u.pathname||"/",f=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let p=Zbe(t,{pathname:f}),g=O1e(p&&p.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Ll([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ll([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&g?R.createElement(Vv.Provider,{value:{location:Lg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:lc.Pop}},g):g}function T1e(){let t=j1e(),e=E1e(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:s},n):null,null)}const N1e=R.createElement(T1e,null);class P1e extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(jh.Provider,{value:this.props.routeContext},R.createElement(MU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k1e(t){let{routeContext:e,match:n,children:r}=t,s=R.useContext(m2);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(jh.Provider,{value:e},r)}function O1e(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||In(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,p=!1,g=null,w=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||N1e,c&&(l<0&&h===0?(L1e("route-fallback"),p=!0,w=null):l===h&&(p=!0,w=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),b=()=>{let v;return f?v=g:p?v=w:d.route.Component?v=R.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=u,R.createElement(k1e,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?R.createElement(P1e,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var zU=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zU||{}),WU=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(WU||{});function R1e(t){let e=R.useContext(m2);return e||In(!1),e}function $1e(t){let e=R.useContext(C1e);return e||In(!1),e}function D1e(t){let e=R.useContext(jh);return e||In(!1),e}function qU(t){let e=D1e(),n=e.matches[e.matches.length-1];return n.route.id||In(!1),n.route.id}function j1e(){var t;let e=R.useContext(MU),n=$1e(),r=qU();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function U1e(){let{router:t}=R1e(zU.UseNavigateStable),e=qU(WU.UseNavigateStable),n=R.useRef(!1);return FU(()=>{n.current=!0}),R.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Lg({fromRouteId:e},i)))},[t,e])}const HO={};function L1e(t,e,n){HO[t]||(HO[t]=!0)}function M1e(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function g0(t){In(!1)}function B1e(t){let{basename:e="/",children:n=null,location:r,navigationType:s=lc.Pop,navigator:i,static:o=!1,future:a}=t;Gv()&&In(!1);let c=e.replace(/^\/*/,"/"),l=R.useMemo(()=>({basename:c,navigator:i,static:o,future:Lg({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Dh(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,g=R.useMemo(()=>{let w=UU(u,c);return w==null?null:{location:{pathname:w,search:d,hash:h,state:f,key:p},navigationType:s}},[c,u,d,h,f,p,s]);return g==null?null:R.createElement(Hv.Provider,{value:l},R.createElement(Vv.Provider,{children:n,value:g}))}function F1e(t){let{children:e,location:n}=t;return A1e(kx(e),n)}new Promise(()=>{});function kx(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,s)=>{if(!R.isValidElement(r))return;let i=[...e,s];if(r.type===R.Fragment){n.push.apply(n,kx(r.props.children,i));return}r.type!==g0&&In(!1),!r.props.index||!r.props.children||In(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kx(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const z1e="6";try{window.__reactRouterVersion=z1e}catch{}const W1e="startTransition",VO=aM[W1e];function q1e(t){let{basename:e,children:n,future:r,window:s}=t,i=R.useRef();i.current==null&&(i.current=Ybe({window:s,v5Compat:!0}));let o=i.current,[a,c]=R.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},u=R.useCallback(d=>{l&&VO?VO(()=>c(d)):c(d)},[c,l]);return R.useLayoutEffect(()=>o.listen(u),[o,u]),R.useEffect(()=>M1e(r),[r]),R.createElement(B1e,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var GO;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(GO||(GO={}));var KO;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KO||(KO={}));const H1e=ki({body:{margin:0,height:"100vh",width:"100vw",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000",cursor:'url("/assets/lawbpointer.png"), auto'}});function V1e(){const t=H1e(),{open:e}=qv(),{address:n,isConnected:r}=sv(),{isPending:s}=q5(),{disconnect:i}=H5(),{data:o}=V5({address:n}),[a,c]=R.useState("pixelawbs-popup"),[l,u]=R.useState(new Set),[d,h]=R.useState(!1),[f,p]=R.useState(!1),[g,w]=R.useState(!1),[y,b]=R.useState(!1),v=x1e(),_=R.useRef(null);R.useEffect(()=>{if(a==="halloween-popup"&&_.current){const T=_.current.querySelector("script[data-tiktok-embed]");T&&T.remove();const L=document.createElement("script");L.src="https://www.tiktok.com/embed.js",L.async=!0,L.setAttribute("data-tiktok-embed","true"),_.current.appendChild(L)}},[a]);const E=(T,L,D)=>{if(T==="url"&&D)window.open(D,"_blank");else if(T==="popup"&&L)c(L),u($=>{const U=new Set($);return U.delete(L),U}),document.body.offsetWidth;else if(T==="wallet")r?i():e();else if(T==="mint"){if(!n){alert("Please connect your wallet first!");return}h(!0)}else T==="nft-gallery"?p(!0):T==="meme-generator"?w(!0):T==="chess"&&(r?(b(!0),setTimeout(()=>{b(!1),v("/chess")},1500)):e().then(()=>{const $=()=>{window.ethereum&&window.ethereum.selectedAddress?(b(!0),setTimeout(()=>{b(!1),v("/chess")},1500)):setTimeout($,200)};$()}))},x=()=>c(null),S=T=>{u(L=>new Set(L).add(T)),c(null)},A=T=>{T==="mint-popup"?h(!0):T==="nft-gallery-popup"?p(!0):T==="meme-generator-popup"?w(!0):c(T),u(L=>{const D=new Set(L);return D.delete(T),D})},C=()=>h(!1),P=()=>p(!1),k=()=>w(!1),B=()=>{h(!1),u(T=>new Set(T).add("mint-popup"))},F=()=>{p(!1),u(T=>new Set(T).add("nft-gallery-popup"))},H=()=>{w(!1),u(T=>new Set(T).add("meme-generator-popup"))},N=m.jsxs("div",{onClick:()=>{r?i():e()},style:{cursor:"pointer",display:"flex",alignItems:"center",color:r?"limegreen":"red",fontWeight:"bold"},children:[m.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"8px",border:"1px solid black"}}),s?"Connecting...":r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]});return m.jsxs("div",{className:t.body,children:[y&&m.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999},children:[m.jsx("img",{src:"/images/blueknight.png",alt:"Booting Chess...",style:{width:120,height:120,marginBottom:32}}),m.jsx("div",{style:{color:"#fff",fontSize:28,fontFamily:"monospace",letterSpacing:2},children:"LOADING LAWB CHESS..."})]}),m.jsx(FZ,{onIconClick:E}),m.jsx(WZ,{minimizedWindows:Array.from(l),onRestoreWindow:A,walletButton:N,connectionStatus:{connected:r,address:n,ens:o||void 0}}),m.jsxs(js,{id:"chat-popup",isOpen:a==="chat-popup",onClose:x,onMinimize:S,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["join the chat, there is no meme we lawb you ",m.jsx("a",{href:"https://boards.miladychan.org/milady/33793",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"/milady/33793"})]}),m.jsx("img",{src:"/assets/miladychanfaq.png",alt:"Milady Chan FAQ",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(js,{id:"purity-popup",isOpen:a==="purity-popup",onClose:x,onMinimize:S,children:[m.jsx("p",{style:{marginBottom:"10px"},children:"purify your wallet and cleanse your soul with Purity Finance."}),m.jsx("p",{style:{marginBottom:"10px"},children:"swap any sol token in your wallet directly for $LAWB"}),m.jsx("a",{href:"https://www.purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",style:{cursor:"pointer"},children:"click to Purify"}),m.jsx("img",{src:"/assets/puritylawb.png",alt:"Purity Lawb",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(js,{id:"lawbstarz-popup",isOpen:a==="lawbstarz-popup",onClose:x,onMinimize:S,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["☆ LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER ☆ 666x PREMIUM PFP COLLECTION ☆ LAWBSTARZ IS A MUSIC NFT ☆ LAWBSTARZ IS AN ",m.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE ☆ LAWBSTARZ IS INSPIRED BY ",m.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"REMILIA CORP"})," ☆ LED BY NETWORK SPIRITUALITY ☆ 666 ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",m.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 ☆"]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsxs("blockquote",{className:"twitter-tweet","data-media-max-width":"560",children:[m.jsxs("p",{lang:"en",dir:"ltr",children:["The following 🧵 has been transcripted from a live news broadcast:",m.jsx("br",{}),m.jsx("br",{}),"Anchor: “Good evening, viewers. Tonight, we embark on an extraordinary journey that defies rational explanation. It all began with February's Cigawrette Packs cargo ship hijacking, little did we know that the.. ",m.jsx("a",{href:"https://t.co/BWgLOk59N4",children:"pic.twitter.com/BWgLOk59N4"})]}),"— wables (@wables411) ",m.jsx("a",{href:"https://twitter.com/wables411/status/1669009492007354369?ref_src=twsrc%5Etfw",children:"June 14, 2023"})]}),m.jsx("script",{async:!0,src:"https://platform.twitter.com/widgets.js"}),m.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(js,{id:"lawbstation-popup",isOpen:a==="lawbstation-popup",onClose:x,onMinimize:S,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",m.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),m.jsx("p",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",children:"Collect Lawbstations on Secondary"})}),m.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),m.jsxs(js,{id:"nexus-popup",isOpen:a==="nexus-popup",onClose:x,onMinimize:S,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",m.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),m.jsxs(js,{id:"lawbsters-popup",isOpen:a==="lawbsters-popup",onClose:x,onMinimize:S,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})," or ",m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"NFTX"})]}),m.jsx("div",{style:{maxWidth:"400px",margin:"0 auto"},children:m.jsx(aY,{id:"1620879129850834944"})}),m.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),m.jsx(js,{id:"pixelawbs-popup",isOpen:a==="pixelawbs-popup",onClose:x,onMinimize:S,children:(()=>{const T=L=>{L.preventDefault(),c(null),h(!0)};return m.jsxs(m.Fragment,{children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",m.jsx("span",{style:{color:"blue",textDecoration:"underline",cursor:"pointer"},onClick:T,children:"COLLECT HERE"})," OR VISIT ",m.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"SCATTER.ART"})]}),m.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",m.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PixeladyMaker"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Ethereum"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/mint.gif",alt:"Mint",style:{maxWidth:"100%"}})]})})()}),m.jsxs(js,{id:"halloween-popup",isOpen:a==="halloween-popup",onClose:x,onMinimize:S,children:[m.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),m.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}}),m.jsx("div",{ref:_,style:{maxWidth:"400px",margin:"0 auto"},children:m.jsx("blockquote",{className:"tiktok-embed",cite:"https://www.tiktok.com/@wables.eth/video/7295660710644682027","data-video-id":"7295660710644682027",style:{maxWidth:"605px",minWidth:"325px"},children:m.jsxs("section",{children:[m.jsx("a",{target:"_blank",rel:"noreferrer",title:"@wables.eth",href:"https://www.tiktok.com/@wables.eth?refer=embed",children:"@wables.eth"})," 420 lawbsters hijacked a spirit halloween superstore 🦞🎃 minting rn on @ourzora via @PC69 ",m.jsx("a",{target:"_blank",rel:"noreferrer",title:"♬ original sound - wables.eth",href:"https://www.tiktok.com/music/original-sound-7295660837769857835?refer=embed",children:"♬ original sound - wables.eth"})]})})})]}),m.jsxs(js,{id:"lawb-popup",isOpen:a==="lawb-popup",onClose:x,onMinimize:S,children:[m.jsx("h1",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"🦞 $LAWB"})}),m.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",m.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"pump.fun"}),"."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),m.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",m.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),m.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",m.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),m.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}}),m.jsx("div",{style:{width:"100%",height:"400px",marginTop:"10px"},children:m.jsx("iframe",{height:"100%",width:"100%",id:"geckoterminal-embed",title:"GeckoTerminal Embed",src:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",frameBorder:"0",allow:"clipboard-write",allowFullScreen:!0})})]}),m.jsx(VZ,{isOpen:d,onClose:C,onMinimize:B,walletAddress:n||""}),m.jsx(Mbe,{isOpen:f,onClose:P,onMinimize:F,walletAddress:n}),m.jsx(js,{id:"meme-generator-popup",isOpen:g,onClose:k,onMinimize:H,children:m.jsx(OU,{})})]})}const G1e=ki({galleryContainer:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#c0c0c0",zIndex:200,display:"flex",flexDirection:"column",fontFamily:"'MS Sans Serif', Arial, sans-serif"},header:{background:"navy",color:"#fff",padding:"8px",display:"flex",alignItems:"center",gap:"10px"},backButton:{background:"#c0c0c0",border:"2px outset #fff",padding:"2px 8px",cursor:"pointer","&:active":{borderStyle:"inset"}},headerTitle:{margin:0,fontSize:"1rem",fontWeight:"bold"},content:{flex:1,overflowY:"auto",padding:"1rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",cursor:"pointer",textAlign:"center","& img":{width:"100%",height:"auto",marginBottom:"8px"}},detailView:{padding:"1rem","& img":{maxWidth:"100%",marginBottom:"1rem"}},loading:{textAlign:"center",padding:"2rem"},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff",flexWrap:"wrap"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),YO=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"},{slug:"lawbstation",name:"Lawbstation",api:"opensea-solana",chain:"solana"},{slug:"lawbnexus",name:"Nexus",api:"opensea-solana",chain:"solana"}],K1e=({onBack:t,walletAddress:e})=>{const n=G1e(),{open:r}=qv(),[s,i]=R.useState([]),[o,a]=R.useState(!0),[c,l]=R.useState(null),[u,d]=R.useState(YO[0]),[h,f]=R.useState(!1),[p,g]=R.useState(null),[w,y]=R.useState("all"),[b,v]=R.useState(null),_=R.useCallback(async()=>{var A,C;try{if((A=window.solana)!=null&&A.isPhantom){const P=await window.solana.connect();g(P.publicKey.toString());return}if((C=window.solflare)!=null&&C.isSolflare){const P=await window.solflare.connect();g(P.publicKey.toString());return}r()}catch(P){console.error("Failed to connect Solana wallet:",P),alert("Failed to connect Solana wallet. Please make sure Phantom or Solflare is installed.")}f(!1)},[r]);R.useEffect(()=>{var A,C;(A=window.solana)!=null&&A.publicKey?g(window.solana.publicKey.toString()):(C=window.solflare)!=null&&C.publicKey&&g(window.solflare.publicKey.toString())},[]),R.useEffect(()=>{(async()=>{a(!0);try{let C,P=e||void 0;if(u.api==="opensea-solana"){if(!p){f(!0),a(!1);return}P=p,C=await qZ(p,100),console.log("Mobile: Fetched Solana NFTs by owner:",C.data.length)}else u.api==="opensea"?C=await IA(u.slug,100,P):C=await AA(u.slug,1,100,P);w==="owned"&&p&&(console.log("Filtering for owner:",p),C.data.some(B=>B.owners&&B.owners.length>0)?C.data=C.data.filter(B=>B.owners.some(H=>H.owner_of&&H.owner_of.toLowerCase()===p.toLowerCase())):(console.log("No owner data available from OpenSea for Solana collection"),v("Owner data not available for this Solana collection. Showing all NFTs."))),i(C.data)}catch(C){console.error(C)}finally{a(!1)}})()},[e,u,p,w]),R.useEffect(()=>{h&&_()},[h,_]);const E=async A=>{if(a(!0),u.api==="opensea"&&u.chain)try{const C=await Z8(u.chain,A.address,A.token_id.toString()),P={...A,attributes:JSON.stringify(C.traits||[])};l(P)}catch(C){console.error("Failed to fetch full NFT details",C),l(A)}else l(A);a(!1)},x=()=>{if(!c)return null;let A=[];try{A=JSON.parse(c.attributes||"[]")}catch(C){console.error("Failed to parse NFT attributes:",C)}return m.jsxs("div",{className:n.detailView,children:[m.jsx("img",{src:c.image,alt:c.name}),m.jsx("h2",{children:c.name}),m.jsx("h4",{children:"Traits:"}),m.jsx("ul",{children:A.map((C,P)=>m.jsxs("li",{children:[m.jsxs("strong",{children:[C.trait_type,":"]})," ",C.value]},P))})]})},S=()=>m.jsxs(m.Fragment,{children:[m.jsx("div",{className:n.collectionSelector,children:YO.map(A=>m.jsx("button",{className:`${n.collectionButton} ${u.slug===A.slug?"active":""}`,onClick:()=>d(A),children:A.name},A.slug))}),m.jsxs("div",{className:n.content,children:[m.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[m.jsx("button",{onClick:()=>y("all"),style:{background:w==="all"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:w==="all"?"white":"black"},children:"All NFTs"}),m.jsx("button",{onClick:()=>y("owned"),disabled:!e&&!p,style:{background:w==="owned"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:e||p?"pointer":"not-allowed",color:w==="owned"?"white":"black",opacity:e||p?1:.6},children:"My NFTs"}),u.api==="opensea-solana"&&m.jsx("button",{onClick:()=>{_()},style:{background:p?"#4CAF50":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:p?"white":"black",marginLeft:"auto"},children:p?`Solana: ${p.slice(0,4)}...${p.slice(-4)}`:"Connect Solana"})]}),b&&m.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:b}),u.api==="opensea-solana"&&!p&&m.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",padding:"10px",marginBottom:"10px",color:"#856404"},children:"Connect your Solana wallet (Phantom or Solflare) to view your NFTs from this collection."}),o?m.jsx("div",{className:n.loading,children:"Loading NFTs..."}):m.jsx("div",{className:n.grid,children:s.map(A=>{let C=A.image||A.image_url||A.image_url_shrunk||"/assets/pixelawb.png";return m.jsxs("div",{className:n.gridItem,onClick:()=>void E(A),children:[m.jsx("img",{src:C,alt:A.name,onError:P=>{P.currentTarget.src!==A.image_url&&A.image_url?P.currentTarget.src=A.image_url:P.currentTarget.src!==A.image_url_shrunk&&A.image_url_shrunk?P.currentTarget.src=A.image_url_shrunk:P.currentTarget.src="/assets/pixelawb.png"}}),m.jsx("span",{children:A.name})]},A.id)})})]})]});return m.jsxs("div",{className:n.galleryContainer,children:[m.jsxs("header",{className:n.header,children:[m.jsx("button",{className:n.backButton,onClick:c?()=>l(null):t,children:"Back"}),m.jsx("h2",{className:n.headerTitle,children:c?c.name:"LAWB NFT GALLERY"})]}),m.jsx("div",{className:n.content,children:o?m.jsx("p",{className:n.loading,children:"Loading..."}):c?x():S()})]})},Y1e=ki({overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",zIndex:4e3,display:"flex",alignItems:"center",justifyContent:"center"},popup:{background:"#c0c0c0",border:"2px outset #fff",borderRadius:12,width:"92vw",maxWidth:420,minHeight:240,maxHeight:"90vh",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"stretch",position:"relative",overflow:"hidden"},titleBar:{background:"navy",color:"#fff",fontWeight:"bold",fontFamily:"'MS Sans Serif', Arial, sans-serif",fontSize:16,padding:"8px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px inset #fff",userSelect:"none"},closeButton:{width:28,height:28,background:"#c0c0c0",border:"2px outset #fff",borderRadius:4,color:"#000",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginLeft:8,boxShadow:"1px 1px 0 #888","&:active":{border:"2px inset #fff",background:"#e0e0e0"}},content:{padding:16,overflowY:"auto",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000",fontSize:15,background:"#fff",flex:1}}),ai=({isOpen:t,onClose:e,title:n,children:r})=>{const s=Y1e();return t?m.jsx("div",{className:s.overlay,children:m.jsxs("div",{className:s.popup,children:[m.jsxs("div",{className:s.titleBar,children:[m.jsx("span",{children:n}),m.jsx("button",{className:s.closeButton,onClick:e,title:"Close",children:"✕"})]}),m.jsx("div",{className:s.content,children:r})]})}):null},J1e=({isOpen:t,onClose:e,walletAddress:n})=>{const[r,s]=R.useState([]),[i,o]=R.useState(!1),[a,c]=R.useState(!1),[l,u]=R.useState({}),[d,h]=R.useState(null),{data:f}=G5();R.useEffect(()=>{t&&n&&p()},[t,n]);const p=async()=>{o(!0),h(null);try{const _=await J8(n);s(_);const E={};_.forEach(x=>{E[x.id]=0}),u(E)}catch(_){h(_.message)}finally{o(!1)}},g=(_,E)=>{u(x=>({...x,[_]:Math.max(0,E)}))},w=async()=>{const _=Object.entries(l).filter(([,E])=>E>0).map(([E,x])=>({id:E,quantity:x}));if(_.length===0){h("Please select at least one item to mint");return}if(!f){h("Wallet not connected");return}c(!0),h(null);try{const E=await Q8(n,_);if(E.success&&E.mintTransaction){alert("Please confirm the transaction in your wallet.");try{const x=await f.sendTransaction({to:E.mintTransaction.to,value:BigInt(E.mintTransaction.value),data:E.mintTransaction.data});alert(`NFT Minted Successfully: Transaction Hash - ${x}`),e()}catch(x){h("Transaction failed: "+x.message)}}else throw new Error(E.message||"Could not retrieve minting transaction.")}catch(E){h("Minting failed: "+E.message)}finally{c(!1)}},y=(_,E)=>`${parseFloat(_)} ${E}`,b={border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#f8f8f8",borderRadius:"8px",textAlign:"left"},v={backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000",borderRadius:"8px"};return m.jsxs(ai,{isOpen:t,onClose:e,title:"Mint Pixelawbs",children:[d&&m.jsx("div",{style:v,children:d}),i?m.jsx("div",{children:"Loading eligible invite lists..."}):r.length===0?m.jsx("div",{children:"No eligible invite lists found for your wallet."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("h3",{style:{color:"#008080",fontSize:"1rem",margin:0},children:"Available Lists:"}),r.map(_=>m.jsxs("div",{style:b,children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:_.name}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",y(_.token_price,_.currency_symbol)]}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",_.wallet_limit===4294967295?"Unlimited":_.wallet_limit," per wallet"]}),m.jsx("input",{type:"number",min:0,max:_.wallet_limit===4294967295?void 0:_.wallet_limit,value:l[_.id]||"",onChange:E=>g(_.id,parseInt(E.target.value)||0),style:{width:"60px",fontSize:"1rem",marginRight:"8px"}}),m.jsx("span",{style:{fontSize:"0.95rem"},children:"Qty"})]},_.id))]}),m.jsx("button",{style:{background:"#00ffff",color:"#000",border:"none",borderRadius:"8px",padding:"12px 32px",fontWeight:"bold",fontSize:"1.1rem",marginTop:"1.5rem",cursor:"pointer",boxShadow:"1px 1px 0 #aaa"},onClick:w,disabled:a,children:a?"Minting...":"Mint"})]})]})},Q1e=ki({mobileContainer:{minHeight:"100vh",minWidth:"100vw",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",position:"relative",overflow:"hidden"},header:{backgroundColor:"#c00",padding:"0.75rem 0",border:"none",textAlign:"center",marginBottom:"1.5rem"},title:{margin:0,fontSize:"1.1rem",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",letterSpacing:"1px",textShadow:"1px 1px 0 #000",textTransform:"uppercase"},iconGrid:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem",marginBottom:"80px"},icon:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",cursor:"pointer",textAlign:"center","& img":{width:"64px",height:"64px"},"& span":{wordBreak:"break-word"}},taskbar:{position:"fixed",left:0,bottom:0,width:"100%",maxWidth:"100vw",height:"56px",background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1rem",zIndex:1e3,borderTop:"2px solid #00ffff"},menuButton:{background:"#00ffff",color:"#000",fontWeight:"bold",border:"none",borderRadius:"4px",padding:"8px 16px",fontSize:"1rem",cursor:"pointer",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",boxShadow:"2px 2px 0 #000"},walletStatus:{display:"flex",alignItems:"center",color:"#fff",fontWeight:"bold",fontSize:"0.9rem",fontFamily:"'MS Sans Serif', Arial, sans-serif"},statusDot:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:t=>t?"limegreen":"red",marginRight:"6px",border:"1px solid #000"},clock:{color:"#00ffff",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",fontSize:"1rem",fontWeight:"bold",textShadow:"1px 1px 0 #000",marginRight:"24px"},pixelawbsPopupOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},pixelawbsPopup:{background:"#fff",borderRadius:"12px",width:"90vw",maxWidth:"420px",height:"75vh",maxHeight:"600px",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1.5rem",position:"relative"},closeButton:{position:"absolute",top:"10px",right:"10px",background:"#00ffff",color:"#000",border:"none",borderRadius:"50%",width:"32px",height:"32px",fontSize:"1.5rem",fontWeight:"bold",cursor:"pointer",boxShadow:"1px 1px 0 #000"},menuOverlay:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",zIndex:3e3,display:"flex",alignItems:"flex-end",justifyContent:"center",pointerEvents:"auto"},menuModal:{width:"100vw",background:"#c0c0c0",borderTopLeftRadius:"16px",borderTopRightRadius:"16px",boxShadow:"0 -4px 24px rgba(0,0,0,0.2)",padding:"15px 0 8px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",zIndex:3100,marginBottom:"70px",maxHeight:"calc(70vh - 56px)",overflowY:"auto",position:"absolute",left:0,bottom:"56px"},menuLink:{display:"block",width:"90%",padding:"6px",color:"#000",textDecoration:"none",background:"#e0e0e0",borderRadius:"8px",fontWeight:"bold",fontSize:"1rem",textAlign:"center",marginBottom:"3px",border:"2px outset #fff",boxShadow:"1px 1px 0 #aaa"}}),Z1e=[{id:"lawbsters",name:"Lawbsters",image:"/assets/lawbsters.gif",description:"420 Lawbsters. ETH."},{id:"lawbstarz",name:"Lawbstarz",image:"/assets/lawbstarz.gif",description:"666 Lawbstarz. ETH."},{id:"halloween",name:"Halloween",image:"/assets/lawbsterhalloween.gif",description:"Halloween Lawbsters. BASE."},{id:"pixelawbs",name:"Pixelawbs",image:"/assets/pixelawb.png",description:"2222 Pixelawbs. ETH."}],X1e=[{id:"lawbstation",name:"Lawbstation",image:"/assets/lawbstation.GIF",description:"Lawbstation. SOL."},{id:"nexus",name:"Nexus",image:"/assets/nexus.gif",description:"Nexus. SOL."}],eEe=()=>{const t=Q1e(),{open:e}=qv(),{address:n,isConnected:r}=sv(),{isPending:s}=q5(),{disconnect:i}=H5(),{data:o}=V5({address:n}),[a,c]=R.useState("main"),[l,u]=R.useState(!1),[d,h]=R.useState(()=>new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),[f,p]=R.useState(!1),[g,w]=R.useState(!1),[y,b]=R.useState(!1),[v,_]=R.useState(!1),[E,x]=R.useState(!1),[S,A]=R.useState(!1),[C,P]=R.useState(!1),[k,B]=R.useState(!1),[F,H]=R.useState(!1),[N,T]=R.useState(!1),[L,D]=R.useState(!1),[$,U]=R.useState(!1),W=[{label:"Mint",icon:"/assets/mint.gif",action:()=>w(!0)},{label:"EVM NFT'S FOLDER",icon:"/assets/evmfolder.png",action:()=>b(!0)},{label:"SOL NFTS FOLDER",icon:"/assets/solfolder.png",action:()=>_(!0)},{label:"$LAWB",icon:"/assets/lawbticker.gif",action:()=>x(!0)},{label:r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Wallet",icon:"/assets/wallet.png",action:()=>{r?i():e()},disabled:s}],Y=ne=>{ne.disabled||ne.action()};if(R.useEffect(()=>{const ne=window.setInterval(()=>{h(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},1e3);return()=>window.clearInterval(ne)},[]),R.useEffect(()=>{u(!0)},[]),a==="gallery")return m.jsx(K1e,{onBack:()=>c("main"),walletAddress:n||void 0});function te({open:ne,onClose:me,title:G,nfts:Q}){const se=X=>{switch(X){case"lawbsters":A(!0);break;case"lawbstarz":P(!0);break;case"pixelawbs":B(!0);break;case"halloween":H(!0);break;case"lawbstation":T(!0);break;case"nexus":D(!0);break}};return m.jsx(ai,{isOpen:ne,onClose:me,title:G,children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,width:"100%"},children:Q.map(X=>m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",background:"#f8f8f8",borderRadius:8,padding:8,cursor:"pointer"},onClick:()=>se(X.id),children:[m.jsx("img",{src:X.image,alt:X.name,style:{width:80,height:80,objectFit:"contain",marginBottom:8}}),m.jsx("span",{style:{fontWeight:"bold",fontSize:14},children:X.name}),m.jsx("span",{style:{fontSize:12,color:"#555",textAlign:"center"},children:X.description})]},X.id))})})}function ee({open:ne,onClose:me}){return ne?m.jsxs(ai,{isOpen:ne,onClose:me,title:"$LAWB",children:[m.jsx("h1",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"🦞 $LAWB"})}),m.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",m.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"pump.fun"}),"."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),m.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",m.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),m.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",m.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),m.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}}),m.jsx("div",{style:{width:"100%",height:"400px",marginTop:"10px"},children:m.jsx("iframe",{height:"100%",width:"100%",id:"geckoterminal-embed",title:"GeckoTerminal Embed",src:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",frameBorder:"0",allow:"clipboard-write",allowFullScreen:!0})})]}):null}return m.jsxs("div",{className:t.mobileContainer,children:[m.jsx("header",{className:t.header,children:m.jsx("h1",{className:t.title,children:"there is no meme we lawb you"})}),m.jsx("div",{className:t.iconGrid,children:W.map(ne=>m.jsxs("div",{className:t.icon,onClick:()=>Y(ne),children:[m.jsx("img",{src:ne.icon,alt:ne.label}),m.jsx("span",{children:ne.label})]},ne.label))}),l&&m.jsxs(ai,{isOpen:l,onClose:()=>u(!1),title:"Pixelawbs",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",m.jsx("span",{style:{color:"#ff0000",textDecoration:"underline",cursor:"pointer"},onClick:()=>{u(!1),w(!0)},children:"COLLECT HERE"})," OR VISIT ",m.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"SCATTER.ART"})]}),m.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",m.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PixeladyMaker"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})})]}),f&&m.jsx("div",{className:t.menuOverlay,onClick:()=>p(!1),children:m.jsxs("div",{className:t.menuModal,onClick:ne=>ne.stopPropagation(),children:[m.jsx("a",{href:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"GeckoTerminal"}),m.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbStation Twitter"}),m.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbNexus Twitter"}),m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"NFTX - Lawbsters"}),m.jsx("a",{href:"https://purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Purity"}),m.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"UwU LAWB"}),m.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Telegram"}),m.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Discord"}),m.jsx("a",{href:"https://store.fun/lawbshop",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Lawb.Shop"}),m.jsx("button",{className:t.menuLink,onClick:()=>{p(!1),U(!0)},style:{border:"none",cursor:"pointer",width:"90%",margin:"0 auto",display:"block"},children:"Meme Generator"})]})}),m.jsx(J1e,{isOpen:g,onClose:()=>w(!1),walletAddress:n||""}),m.jsx(te,{open:y,onClose:()=>b(!1),title:"EVM NFT'S FOLDER",nfts:Z1e}),m.jsx(te,{open:v,onClose:()=>_(!1),title:"SOL NFTS FOLDER",nfts:X1e}),m.jsx(ee,{open:E,onClose:()=>x(!1)}),m.jsxs(ai,{isOpen:S,onClose:()=>A(!1),title:"Lawbsters",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})," or ",m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"NFTX"})]}),m.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),m.jsxs(ai,{isOpen:C,onClose:()=>P(!1),title:"Lawbstarz",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["☆ LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER ☆ 666x PREMIUM PFP COLLECTION ☆ LAWBSTARZ IS A MUSIC NFT ☆ LAWBSTARZ IS AN ",m.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE ☆ LAWBSTARZ IS INSPIRED BY ",m.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"REMILIA CORP"})," ☆ LED BY NETWORK SPIRITUALITY ☆ 666 ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",m.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 ☆"]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(ai,{isOpen:k,onClose:()=>B(!1),title:"Pixelawbs",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",m.jsx("span",{style:{color:"#ff0000",textDecoration:"underline",cursor:"pointer"},onClick:()=>{B(!1),w(!0)},children:"COLLECT HERE"})," OR VISIT ",m.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"SCATTER.ART"})]}),m.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",m.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PixeladyMaker"})]})]}),m.jsxs(ai,{isOpen:F,onClose:()=>H(!1),title:"A Lawbster Halloween",children:[m.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),m.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}})]}),m.jsxs(ai,{isOpen:N,onClose:()=>T(!1),title:"Lawbstation",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",m.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),m.jsx("p",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Collect Lawbstations on Secondary"})}),m.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),m.jsxs(ai,{isOpen:L,onClose:()=>D(!1),title:"Nexus",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",m.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),m.jsx(ai,{isOpen:$,onClose:()=>U(!1),title:"Meme Generator",children:m.jsx(OU,{})}),m.jsxs("div",{className:t.taskbar,children:[m.jsx("button",{className:t.menuButton,onClick:()=>p(!0),children:"Menu"}),m.jsxs("div",{className:t.walletStatus,children:[m.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"6px",border:"1px solid #000",display:"inline-block"}}),r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]}),m.jsx("span",{className:t.clock,children:d})]})]})};function tEe(t){const e=i=>typeof window<"u"?window.matchMedia(i).matches:!1,[n,r]=R.useState(e(t));function s(){r(e(t))}return R.useEffect(()=>{const i=window.matchMedia(t);return s(),i.addEventListener("change",s),()=>{i.removeEventListener("change",s)}},[t]),n}function nEe(t){let e=[],n,r;function s(a){return ug.parseEvmChainId(a)||1}function i(){var a;return n||(n=jl.getInstance({projectId:t.options.projectId,chainId:(a=O.getActiveCaipNetwork())==null?void 0:a.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:c=>{c==="iframe_load_failed"?gn.open(Yt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?gn.open(Yt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&gn.open(Yt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:Yt.EmbeddedWalletAbortController})),n}async function o(a={}){var g,w;const c=i();let l=a.chainId;if(a.isReconnecting){const y=ug.parseEvmChainId(c.getLastUsedChainId()||""),b=(g=t.chains)==null?void 0:g[0].id;if(l=y||b,!l)throw new Error("ChainId not found in provider")}const u=(w=he.state.preferredAccountTypes)==null?void 0:w.eip155,{address:d,chainId:h,accounts:f}=await c.connect({chainId:l,preferredAccountType:u,socialUri:a.socialUri});e=(f==null?void 0:f.map(y=>y.address))||[d];const p=s(h);return{accounts:e,account:d,chainId:p,chain:{id:p,unsuported:!1}}}return a=>({id:Z.CONNECTOR_ID.AUTH,name:Z.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:Z.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,l},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){var c;return this.provider||(this.provider=jl.getInstance({projectId:t.options.projectId,chainId:(c=O.getActiveCaipNetwork())==null?void 0:c.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:Yt.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?gn.open(Yt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?gn.open(Yt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&gn.open(Yt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return s(l)},async isAuthorized(){const l=O.state.activeChain===Z.CHAIN.EVM;if(Z.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(h=>ge.getConnectorId(h)===Z.CONNECTOR_ID.AUTH)&&!l)return!1;const d=await this.getProvider();return Promise.resolve(d.getLoginEmailUsed())},async switchChain({chainId:c}){var l,u;try{const d=a.chains.find(g=>g.id===c);if(!d)throw new io(new Error("chain not found on connector."));const h=await this.getProvider(),f=(l=he.state.preferredAccountTypes)==null?void 0:l.eip155,p=await h.connect({chainId:c,preferredAccountType:f});return e=((u=p==null?void 0:p.accounts)==null?void 0:u.map(g=>g.address))||[p.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),d}catch(d){throw d instanceof Error?new io(d):d}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(sc)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}y2.type="walletConnect";function y2(t,e){const n=t.isNewChainsStale??!0;let r,s,i,o,a,c,l;return u=>({id:"walletConnect",name:"WalletConnect",type:y2.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),c||(c=this.onSessionDelete.bind(this),d.on("session_delete",c)))},async connect({...d}={}){var h,f,p;try{const g=O.getCaipNetworks(),w=await this.getProvider();if(!w)throw new Ra;a||(a=this.onDisplayUri,w.on("display_uri",a));const y=await this.isChainsStale();w.session&&y&&await w.disconnect();const b=oe.state.universalProviderConfigOverride;if(!w.session||y){const C=gp.createNamespaces(g,b);await w.connect({optionalNamespaces:C,..."pairingTopic"in d?{pairingTopic:d.pairingTopic}:{}}),this.setRequestedChainsIds(g.map(P=>Number(P.id)))}const v=await this.getAccounts(),_=await this.getChainId(),E=(p=(f=(h=w.session)==null?void 0:h.namespaces)==null?void 0:f.eip155)==null?void 0:p.chains,x=E==null?void 0:E.some(C=>Number(C.split(":")[1])===_);let S=1;x?S=_:E!=null&&E[0]&&(S=Number(E[0].split(":")[1])),a&&(w.removeListener("display_uri",a),a=void 0),o&&(w.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),w.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),w.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),w.on("disconnect",l)),c||(c=this.onSessionDelete.bind(this),w.on("session_delete",c));const A=b==null?void 0:b.defaultChain;return w.setDefaultChain(A??`eip155:${S}`),{accounts:v,chainId:S}}catch(g){throw/(user rejected|connection request reset)/i.test(g==null?void 0:g.message)?new _n(g):g}},async disconnect(){const d=await this.getProvider();try{await(d==null?void 0:d.disconnect())}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{i&&(d==null||d.removeListener("chainChanged",i),i=void 0),l&&(d==null||d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d==null||d.on("connect",o)),s&&(d==null||d.removeListener("accountsChanged",s),s=void 0),c&&(d==null||d.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var p,g,w;const d=await this.getProvider();if(!((p=d==null?void 0:d.session)!=null&&p.namespaces))return[];const h=(w=(g=d==null?void 0:d.session)==null?void 0:g.namespaces[Z.CHAIN.EVM])==null?void 0:w.accounts;return(h==null?void 0:h.map(y=>y.split(":")[2]))??[]},async getProvider({chainId:d}={}){var p,g;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const h=fe.getActiveNamespace(),f=(p=e.getCaipNetwork())==null?void 0:p.id;if(d&&f!==d&&h){const w=fe.getStoredActiveCaipNetworkId(),y=e.getCaipNetworks(h),b=y==null?void 0:y.find(v=>v.id===w);b&&b.chainNamespace===Z.CHAIN.EVM&&await((g=this.switchChain)==null?void 0:g.call(this,{chainId:Number(b.id)}))}return r},async getChainId(){var g,w,y,b;const d=(g=e.getCaipNetwork(Z.CHAIN.EVM))==null?void 0:g.id;if(d)return d;const f=(b=(y=(w=(await this.getProvider()).session)==null?void 0:w.namespaces[Z.CHAIN.EVM])==null?void 0:y.chains)==null?void 0:b[0],p=O.getCaipNetworks().find(v=>v.id===f);return p==null?void 0:p.id},async isAuthorized(){try{const[d,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){var g,w,y,b;const f=await this.getProvider();if(!f)throw new Ra;const p=O.getCaipNetworks().find(v=>v.id===h);if(!p)throw new io(new rg);try{await f.request({method:"wallet_switchEthereumChain",params:[{chainId:ze(h)}]}),p!=null&&p.caipNetworkId&&f.setDefaultChain(p==null?void 0:p.caipNetworkId),u.emitter.emit("change",{chainId:Number(h)});const v=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...v,h]),{...p,id:p.id}}catch(v){const _=v;if(/(?:user rejected)/iu.test(_.message))throw new _n(_);try{let E;d!=null&&d.blockExplorerUrls?E=d.blockExplorerUrls:E=(g=p.blockExplorers)!=null&&g.default.url?[(w=p.blockExplorers)==null?void 0:w.default.url]:[];const x=((b=(y=p.rpcUrls)==null?void 0:y.chainDefault)==null?void 0:b.http)||[],S={blockExplorerUrls:E,chainId:ze(h),chainName:p.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:p.nativeCurrency,rpcUrls:x};await f.request({method:"wallet_addEthereumChain",params:[S]});const A=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...A,h]),{...p,id:p.id}}catch(E){throw new _n(E)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:d.map(h=>sc(h))})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},onConnect(d){this.setRequestedChainsIds(O.getCaipNetworks().map(h=>Number(h.id)))},async onDisconnect(d){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const h=await this.getProvider();s&&(h.removeListener("accountsChanged",s),s=void 0),i&&(h.removeListener("chainChanged",i),i=void 0),l&&(h.removeListener("disconnect",l),l=void 0),c&&(h.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),h.on("connect",o))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var f,p,g;if(!((f=r==null?void 0:r.session)!=null&&f.namespaces))return[];const d=(g=(p=r==null?void 0:r.session)==null?void 0:p.namespaces[Z.CHAIN.EVM])==null?void 0:g.accounts;return(d==null?void 0:d.map(w=>Number.parseInt(w.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var h;const d=await((h=u.storage)==null?void 0:h.getItem(this.requestedChainsStorageKey))??[];return[...new Set(d)]},async isChainsStale(){if(!n)return!1;const d=u.chains.map(p=>p.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(p=>d.includes(p)))return!1;const f=await this.getRequestedChainsIds();return!d.every(p=>f.includes(Number(p)))},async setRequestedChainsIds(d){var h;await((h=u.storage)==null?void 0:h.setItem(this.requestedChainsStorageKey,d))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const Cf=Ft({pendingTransactions:0}),JO={state:Cf,subscribeKey(t,e){return Xn(Cf,t,e)},increase(t){Cf[t]+=1},decrease(t){Cf[t]-=1},reset(t){Cf[t]=0}};function rEe(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}async function sEe(t){if(Pe.isSafeApp()){const{safe:e}=await ln(async()=>{const{safe:n}=await import("./index-DI76Mip5.js");return{safe:n}},[]);if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function iEe(t){try{const{coinbaseWallet:e}=await ln(async()=>{const{coinbaseWallet:n}=await import("./index-DI76Mip5.js");return{coinbaseWallet:n}},[]);if(e&&!t.some(n=>n.id==="coinbaseWalletSDK"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const oEe={enable:!1,pollingInterval:3e4};class aEe extends kU{constructor(e){const n=Qi.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=Z.CHAIN.EVM,this.adapterType=Z.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...oEe,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===Z.CONNECTOR_ID.AUTH){const i=await n.getProvider();if(!(i!=null&&i.user))return{accounts:[]};const{address:o,accounts:a}=i.user;return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>Pe.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:s}=Td(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(i=>Pe.createAccount("eip155",i||"","eoa"))})}checkChainId(){const{chainId:e}=Td(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===Z.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var a,c;const i=(a=e.transports)==null?void 0:a[s.id],o=Qi.getCaipNetworkId(s);i?n[s.id]=Qi.extendWagmiTransports(s,e.projectId,i):n[s.id]=Qi.getViemTransport(s,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=Kq({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=Iq(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),JO.increase("pendingTransactions")}});const e=JO.subscribeKey("pendingTransactions",n=>{var r;n>=Z.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){w5(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e!=null&&e.chainId&&(e==null?void 0:e.chainId)!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"&&(e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){const n=[];if(e.enableCoinbase!==!1){const s=await iEe(this.wagmiConfig.connectors);s&&n.push(s)}const r=await sEe(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(s=>{const i=this.wagmiConfig._internal.connectors.setup(s);return this.wagmiConfig._internal.connectors.setState(o=>[...o,i]),this.addWagmiConnector(i,e)}))}addWagmiConnectors(e,n){var o,a,c,l;const r=[];e.enableWalletConnect!==!1&&r.push(y2(e,n)),e.enableInjected!==!1&&r.push(nv({shimDisconnect:!0}));const s=((o=n==null?void 0:n.remoteFeatures)==null?void 0:o.email)??!0,i=Array.isArray((a=n==null?void 0:n.remoteFeatures)==null?void 0:a.socials)&&((l=(c=n==null?void 0:n.remoteFeatures)==null?void 0:c.socials)==null?void 0:l.length)>0;(s||i)&&r.push(nEe({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(u=>{const d=this.wagmiConfig._internal.connectors.setup(u);this.wagmiConfig._internal.connectors.setState(h=>[...h,d])})}async signMessage(e){try{return{signature:await Cq(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=Td(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await Eq(this.wagmiConfig,s);const i=await _q(this.wagmiConfig,s);return await Tq(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,s=Number(ug.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await Nq(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await pq(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return UW(e.value,e.decimals)}formatUnits(e){return bh(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(e.id===Z.CONNECTOR_ID.AUTH||e.id===Z.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:cc.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:cc.ConnectorNamesMap[e.id]??e.name,imageId:cc.ConnectorImageIds[e.id],type:cc.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===Z.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){v5(this.wagmiConfig,{onChange:r=>{r.forEach(s=>this.addWagmiConnector(s,e))}}),this.addWagmiConnectors(e,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addThirdPartyConnectors(e)}async syncConnection(e){var l,u;const{id:n,chainId:r}=e,i=Wi(this.wagmiConfig).find(d=>d.connector.id===n),o=this.getWagmiConnector(n),a=await(o==null?void 0:o.getProvider());if(Pe.isSafeApp()&&n===Z.CONNECTOR_ID.SAFE&&!(i!=null&&i.accounts.length)){const d=this.getWagmiConnector("safe");if(d){const h=await Zy(this.wagmiConfig,{connector:d,chainId:Number(r)}),f=await d.getProvider();return{chainId:Number(r),address:h.accounts[0],provider:f,type:(l=i==null?void 0:i.connector.type)==null?void 0:l.toUpperCase(),id:i==null?void 0:i.connector.id}}}return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:a,type:(u=i==null?void 0:i.connector.type)==null?void 0:u.toUpperCase(),id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await Zy(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await xT(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var u,d,h,f,p;const{id:n,provider:r,type:s,info:i,chainId:o,socialUri:a}=e,c=this.getWagmiConnector(n);if(!c)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&i&&c.id===Z.CONNECTOR_ID.EIP6963&&((u=c.setEip6963Wallet)==null||u.call(c,{provider:r,info:i})),c.uid===((h=(d=this.wagmiConfig)==null?void 0:d.state)==null?void 0:h.current)){const g=(p=(f=this.wagmiConfig.state)==null?void 0:f.connections)==null?void 0:p.get(c.uid);if(g)return{address:g==null?void 0:g.accounts[0],chainId:g==null?void 0:g.chainId,provider:r,type:s,id:n}}const l=await Zy(this.wagmiConfig,{connector:c,chainId:o?Number(o):void 0,socialUri:a});return{address:l.accounts[0],chainId:l.chainId,provider:r,type:s,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await z_(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,i=this.balancePromises[s];if(i)return i;const o=fe.getNativeBalanceCacheForCaipAddress(s);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[s]=new Promise(async a=>{var c,l;try{const u=Number(e.chainId),d=await wq(this.wagmiConfig,{address:e.address,chainId:u,token:(l=(c=e.tokens)==null?void 0:c[r.caipNetworkId])==null?void 0:l.address});fe.updateNativeBalanceCache({caipAddress:s,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),a({balance:d.formatted,symbol:d.symbol})}catch(u){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",u),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=Wi(this.wagmiConfig);await Promise.allSettled(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await m5(this.wagmiConfig,{connector:r})})),this.wagmiConfig.state.connections.clear()}async switchNetwork(e){var r,s,i,o,a;const{caipNetwork:n}=e;await xT(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[((i=(s=(r=n.rpcUrls)==null?void 0:r.chainDefault)==null?void 0:s.http)==null?void 0:i[0])??""],blockExplorerUrls:[((o=n.blockExplorers)==null?void 0:o.default.url)??""],iconUrls:[((a=n.assets)==null?void 0:a.imageUrl)??""]}}),await super.switchNetwork(e)}async getCapabilities(e){var a,c;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=Wi(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(c=(a=i.session)==null?void 0:a.sessionProperties)==null?void 0:c.capabilities;if(o){const u=rEe(o)[e];if(u)return u}return await i.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=Wi(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=Wi(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=Wi(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){e.on("connect",()=>{const n=Wi(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(s=>s.connector.id===r.id)){if(O.state.activeChain==="eip155")return;z_(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new g2({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}const HU={id:1992,name:"Sanko Testnet",network:"sanko",nativeCurrency:{decimals:18,name:"tDMT",symbol:"tDMT"},rpcUrls:{public:{http:["https://sanko-arb-sepolia.rpc.caldera.xyz/http"]},default:{http:["https://sanko-arb-sepolia.rpc.caldera.xyz/http"]}},blockExplorers:{default:{name:"SankoScan",url:"https://sanko-scan.caldera.xyz"}}},VU="7c65f27254d6ddd24cf7eedf2685c4fb",cEe={name:"Lawb.xyz",description:"Windows 98-style NFT site",url:"https://lawb.xyz",icons:["/assets/favicon.ico"]},GU=new aEe({networks:[PU,HU],projectId:VU,ssr:!1});Ube({adapters:[GU],networks:[PU,HU],projectId:VU,metadata:cEe,features:{analytics:!1}});const lEe=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ln(async()=>{const{default:r}=await Promise.resolve().then(()=>Uh);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class w2 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class uEe extends w2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class dEe extends w2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hEe extends w2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ox;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ox||(Ox={}));var fEe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class pEe{constructor(e,{headers:n={},customFetch:r,region:s=Ox.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=lEe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return fEe(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:l}).catch(p=>{throw new uEe(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new dEe(u);if(!u.ok)throw new hEe(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(s){return{data:null,error:s}}})}}var Qr={},v2={},Kv={},bm={},Yv={},Jv={},gEe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fh=gEe();const mEe=fh.fetch,KU=fh.fetch.bind(fh),YU=fh.Headers,yEe=fh.Request,wEe=fh.Response,Uh=Object.freeze(Object.defineProperty({__proto__:null,Headers:YU,Request:yEe,Response:wEe,default:KU,fetch:mEe},Symbol.toStringTag,{value:"Module"})),vEe=Tw(Uh);var Qv={};Object.defineProperty(Qv,"__esModule",{value:!0});let bEe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Qv.default=bEe;var JU=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jv,"__esModule",{value:!0});const EEe=JU(vEe),_Ee=JU(Qv);let CEe=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=EEe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let l=null,u=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{l=JSON.parse(g),Array.isArray(l)&&i.status===404&&(u=[],l=null,h=200,f="OK")}catch{i.status===404&&g===""?(h=204,f="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,h=200,f="OK"),l&&this.shouldThrowOnError)throw new _Ee.default(l)}return{error:l,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Jv.default=CEe;var xEe=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yv,"__esModule",{value:!0});const SEe=xEe(Jv);let AEe=class extends SEe.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Yv.default=AEe;var IEe=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bm,"__esModule",{value:!0});const TEe=IEe(Yv);let NEe=class extends TEe.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};bm.default=NEe;var PEe=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kv,"__esModule",{value:!0});const xf=PEe(bm);let kEe=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new xf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new xf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new xf.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new xf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new xf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Kv.default=kEe;var Zv={},Xv={};Object.defineProperty(Xv,"__esModule",{value:!0});Xv.version=void 0;Xv.version="0.0.0-automated";Object.defineProperty(Zv,"__esModule",{value:!0});Zv.DEFAULT_HEADERS=void 0;const OEe=Xv;Zv.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${OEe.version}`};var QU=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(v2,"__esModule",{value:!0});const REe=QU(Kv),$Ee=QU(bm),DEe=Zv;let jEe=class ZU{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},DEe.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new REe.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ZU(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",c=n);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new $Ee.default({method:o,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};v2.default=jEe;var Lh=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.PostgrestError=Qr.PostgrestBuilder=Qr.PostgrestTransformBuilder=Qr.PostgrestFilterBuilder=Qr.PostgrestQueryBuilder=Qr.PostgrestClient=void 0;const XU=Lh(v2);Qr.PostgrestClient=XU.default;const eL=Lh(Kv);Qr.PostgrestQueryBuilder=eL.default;const tL=Lh(bm);Qr.PostgrestFilterBuilder=tL.default;const nL=Lh(Yv);Qr.PostgrestTransformBuilder=nL.default;const rL=Lh(Jv);Qr.PostgrestBuilder=rL.default;const sL=Lh(Qv);Qr.PostgrestError=sL.default;var UEe=Qr.default={PostgrestClient:XU.default,PostgrestQueryBuilder:eL.default,PostgrestFilterBuilder:tL.default,PostgrestTransformBuilder:nL.default,PostgrestBuilder:rL.default,PostgrestError:sL.default};const{PostgrestClient:LEe,PostgrestQueryBuilder:iSe,PostgrestFilterBuilder:oSe,PostgrestTransformBuilder:aSe,PostgrestBuilder:cSe,PostgrestError:lSe}=UEe;function MEe(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const BEe=MEe(),FEe="2.11.13",zEe={"X-Client-Info":`realtime-js/${FEe}`},WEe="1.0.0",iL=1e4,qEe=1e3;var mp;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(mp||(mp={}));var hr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(hr||(hr={}));var pi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(pi||(pi={}));var Rx;(function(t){t.websocket="websocket"})(Rx||(Rx={}));var ul;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ul||(ul={}));class HEe{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class oL{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Lt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Lt||(Lt={}));const QO=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=VEe(o,t,e,s),i),{})},VEe=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?aL(i,o):$x(o)},aL=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return JEe(e,n)}switch(t){case Lt.bool:return GEe(e);case Lt.float4:case Lt.float8:case Lt.int2:case Lt.int4:case Lt.int8:case Lt.numeric:case Lt.oid:return KEe(e);case Lt.json:case Lt.jsonb:return YEe(e);case Lt.timestamp:return QEe(e);case Lt.abstime:case Lt.date:case Lt.daterange:case Lt.int4range:case Lt.int8range:case Lt.money:case Lt.reltime:case Lt.text:case Lt.time:case Lt.timestamptz:case Lt.timetz:case Lt.tsrange:case Lt.tstzrange:return $x(e);default:return $x(e)}},$x=t=>t,GEe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},KEe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},YEe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},JEe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>aL(e,a))}return t},QEe=t=>typeof t=="string"?t.replace(" ","T"):t,cL=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class EE{constructor(e,n,r={},s=iL){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ZO;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ZO||(ZO={}));class yp{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yp.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=yp.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yp.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const d=i[l];if(d){const h=u.map(w=>w.presence_ref),f=d.map(w=>w.presence_ref),p=u.filter(w=>f.indexOf(w.presence_ref)<0),g=d.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(a[l]=p),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,s(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var XO;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(XO||(XO={}));var eR;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(eR||(eR={}));var Io;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Io||(Io={}));class b2{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=hr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new EE(this,pi.join,this.params,this.timeout),this.rejoinTimer=new oL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=hr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=hr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pi.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new yp(this),this.broadcastEndpointURL=cL(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==hr.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Io.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Io.CLOSED));const c={},l={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Io.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,p=[];for(let g=0;g<f;g++){const w=h[g],{filter:{event:y,schema:b,table:v,filter:_}}=w,E=u&&u[g];if(E&&E.event===y&&E.schema===b&&E.table===v&&E.filter===_)p.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=hr.errored,e==null||e(Io.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Io.SUBSCRIBED);return}}).receive("error",u=>{this.state=hr.errored,e==null||e(Io.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Io.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=hr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new EE(this,pi.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new EE(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=pi;if(r&&[a,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var p,g,w;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(g=f.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,g,w,y,b,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const _=f.id,E=(p=f.filter)===null||p===void 0?void 0:p.event;return _&&((g=n.ids)===null||g===void 0?void 0:g.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(b=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:w,commit_timestamp:y,type:b,errors:v}=p;h=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:y,eventType:b,new:{},old:{},errors:v}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===hr.closed}_isJoined(){return this.state===hr.joined}_isJoining(){return this.state===hr.joining}_isLeaving(){return this.state===hr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&b2.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pi.close,{},e)}_onError(e){this._on(pi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=hr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=QO(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=QO(e.columns,e.old_record)),n}}const tR=()=>{},ZEe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XEe{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=zEe,this.params={},this.timeout=iL,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tR,this.ref=0,this.logger=tR,this.conn=null,this.sendBuffer=[],this.serializer=new HEe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ln(async()=>{const{default:c}=await Promise.resolve().then(()=>Uh);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Rx.websocket}`,this.httpEndpoint=cL(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new oL(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){this.conn||(this.transport||(this.transport=BEe),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:WEe}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case mp.connecting:return ul.Connecting;case mp.open:return ul.Open;case mp.closing:return ul.Closing;default:return ul.Closed}}isConnected(){return this.connectionState()===ul.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new b2(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(pi.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(qEe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(pi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([ZEe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class E2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function kn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class e_e extends E2{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Dx extends E2{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var t_e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const lL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ln(async()=>{const{default:r}=await Promise.resolve().then(()=>Uh);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},n_e=()=>t_e(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ln(()=>Promise.resolve().then(()=>Uh),void 0)).Response:Response}),jx=t=>{if(Array.isArray(t))return t.map(n=>jx(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=jx(r)}),e};var _u=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const _E=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),r_e=(t,e,n)=>_u(void 0,void 0,void 0,function*(){const r=yield n_e();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new e_e(_E(s),t.status||500))}).catch(s=>{e(new Dx(_E(s),s))}):e(new Dx(_E(t),t))}),s_e=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Em(t,e,n,r,s,i){return _u(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,s_e(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>r_e(c,a,r))})})}function Aw(t,e,n,r){return _u(this,void 0,void 0,function*(){return Em(t,"GET",e,n,r)})}function Ma(t,e,n,r,s){return _u(this,void 0,void 0,function*(){return Em(t,"POST",e,r,s,n)})}function i_e(t,e,n,r,s){return _u(this,void 0,void 0,function*(){return Em(t,"PUT",e,r,s,n)})}function o_e(t,e,n,r){return _u(this,void 0,void 0,function*(){return Em(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function uL(t,e,n,r,s){return _u(this,void 0,void 0,function*(){return Em(t,"DELETE",e,r,s,n)})}var Fr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const a_e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class c_e{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=lL(s)}uploadOrUpdate(e,n,r,s){return Fr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},nR),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(kn(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Fr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Fr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const l=Object.assign({upsert:nR.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(kn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Fr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ma(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new E2("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Fr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Fr(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Fr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ma(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Fr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ma(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Fr(this,void 0,void 0,function*(){try{const s=yield Ma(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}download(e,n){return Fr(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Aw(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(kn(a))return{data:null,error:a};throw a}})}info(e){return Fr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Aw(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:jx(r),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}exists(e){return Fr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield o_e(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(kn(r)&&r instanceof Dx){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return Fr(this,void 0,void 0,function*(){try{return{data:yield uL(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Fr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},a_e),n),{prefix:e||""});return{data:yield Ma(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const l_e="2.7.1",u_e={"X-Client-Info":`storage-js/${l_e}`};var Yu=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class d_e{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},u_e),n),this.fetch=lL(r)}listBuckets(){return Yu(this,void 0,void 0,function*(){try{return{data:yield Aw(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(kn(e))return{data:null,error:e};throw e}})}getBucket(e){return Yu(this,void 0,void 0,function*(){try{return{data:yield Aw(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Yu(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Yu(this,void 0,void 0,function*(){try{return{data:yield i_e(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Yu(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Yu(this,void 0,void 0,function*(){try{return{data:yield uL(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}}class h_e extends d_e{constructor(e,n={},r){super(e,n,r)}from(e){return new c_e(this.url,this.headers,e,this.fetch)}}const f_e="2.50.1";let Ff="";typeof Deno<"u"?Ff="deno":typeof document<"u"?Ff="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ff="react-native":Ff="node";const p_e={"X-Client-Info":`supabase-js-${Ff}/${f_e}`},g_e={headers:p_e},m_e={schema:"public"},y_e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},w_e={};var v_e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const b_e=t=>{let e;return t?e=t:typeof fetch>"u"?e=KU:e=fetch,(...n)=>e(...n)},E_e=()=>typeof Headers>"u"?YU:Headers,__e=(t,e,n)=>{const r=b_e(n),s=E_e();return(i,o)=>v_e(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:l}))})};var C_e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function x_e(t){return t.endsWith("/")?t:t+"/"}function S_e(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:c,auth:l,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>C_e(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const dL="2.70.0",sd=30*1e3,Ux=3,CE=Ux*sd,A_e="http://localhost:9999",I_e="supabase.auth.token",T_e={"X-Client-Info":`gotrue-js/${dL}`},Lx="X-Supabase-Api-Version",hL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},N_e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,P_e=6e5;class _2 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ke(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class k_e extends _2{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function O_e(t){return Ke(t)&&t.name==="AuthApiError"}class fL extends _2{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Hc extends _2{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Pa extends Hc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function R_e(t){return Ke(t)&&t.name==="AuthSessionMissingError"}class ky extends Hc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Oy extends Hc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ry extends Hc{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $_e(t){return Ke(t)&&t.name==="AuthImplicitGrantRedirectError"}class rR extends Hc{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mx extends Hc{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function xE(t){return Ke(t)&&t.name==="AuthRetryableFetchError"}class sR extends Hc{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class wp extends Hc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Iw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),iR=` 	
\r=`.split(""),D_e=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<iR.length;e+=1)t[iR[e].charCodeAt(0)]=-2;for(let e=0;e<Iw.length;e+=1)t[Iw[e].charCodeAt(0)]=e;return t})();function oR(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Iw[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Iw[r]),e.queuedBits-=6}}function pL(t,e,n){const r=D_e[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function aR(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{L_e(o,r,n)};for(let o=0;o<t.length;o+=1)pL(t.charCodeAt(o),s,i);return e.join("")}function j_e(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function U_e(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}j_e(r,e)}}function L_e(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function M_e(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)pL(t.charCodeAt(s),n,r);return new Uint8Array(e)}function B_e(t){const e=[];return U_e(t,n=>e.push(n)),new Uint8Array(e)}function F_e(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>oR(s,n,r)),oR(null,n,r),e.join("")}function z_e(t){return Math.round(Date.now()/1e3)+t}function W_e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ci=()=>typeof window<"u"&&typeof document<"u",el={tested:!1,writable:!1},vp=()=>{if(!ci())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(el.tested)return el.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),el.tested=!0,el.writable=!0}catch{el.tested=!0,el.writable=!1}return el.writable};function q_e(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const gL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ln(async()=>{const{default:r}=await Promise.resolve().then(()=>Uh);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},H_e=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",mL=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},$y=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Dy=async(t,e)=>{await t.removeItem(e)};class eb{constructor(){this.promise=new eb.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}eb.promiseConstructor=Promise;function SE(t){const e=t.split(".");if(e.length!==3)throw new wp("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!N_e.test(e[r]))throw new wp("JWT not in base64url format");return{header:JSON.parse(aR(e[0])),payload:JSON.parse(aR(e[1])),signature:M_e(e[2]),raw:{header:e[0],payload:e[1]}}}async function V_e(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function G_e(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function K_e(t){return("0"+t.toString(16)).substr(-2)}function Y_e(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,K_e).join("")}async function J_e(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Q_e(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await J_e(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ju(t,e,n=!1){const r=Y_e();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await mL(t,`${e}-code-verifier`,s);const i=await Q_e(r);return[i,r===i?"plain":"s256"]}const Z_e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function X_e(t){const e=t.headers.get(Lx);if(!e||!e.match(Z_e))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function eCe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function tCe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nCe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qu(t){if(!nCe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var rCe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const il=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sCe=[502,503,504];async function cR(t){var e;if(!H_e(t))throw new Mx(il(t),0);if(sCe.includes(t.status))throw new Mx(il(t),t.status);let n;try{n=await t.json()}catch(i){throw new fL(il(i),i)}let r;const s=X_e(t);if(s&&s.getTime()>=hL["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sR(il(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Pa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new sR(il(n),t.status,n.weak_password.reasons);throw new k_e(il(n),t.status||500,r)}const iCe=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function et(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Lx]||(i[Lx]=hL["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await oCe(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function oCe(t,e,n,r,s,i){const o=iCe(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new Mx(il(c),0)}if(a.ok||await cR(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await cR(c)}}function So(t){var e;let n=null;uCe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=z_e(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function lR(t){const e=So(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ha(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function aCe(t){return{data:t,error:null}}function cCe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=rCe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function lCe(t){return t}function uCe(t){return t.access_token&&t.refresh_token&&t.expires_in}const AE=["global","local","others"];var dCe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class hCe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=gL(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=AE[0]){if(AE.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${AE.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ha})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=dCe(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:cCe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ha})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:lCe});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);l[`${w}Page`]=g}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Ke(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Qu(e);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ha})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Qu(e);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ha})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Qu(e);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ha})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Qu(e.userId);try{const{data:n,error:r}=await et(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Qu(e.userId),Qu(e.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}}const fCe={getItem:t=>vp()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{vp()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{vp()&&globalThis.localStorage.removeItem(t)}};function uR(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function pCe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zu={debug:!!(globalThis&&vp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yL extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gCe extends yL{}async function mCe(t,e,n){Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gCe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}pCe();const yCe={url:A_e,storageKey:I_e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T_e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function dR(t,e,n){return await n()}class Mg{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mg.nextInstanceID,Mg.nextInstanceID+=1,this.instanceID>0&&ci()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},yCe),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new hCe({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=gL(s.fetch),this.lock=s.lock||dR,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ci()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=mCe:this.lock=dR,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:vp()?this.storage=fCe:(this.memoryStorage={},this.storage=uR(this.memoryStorage)):(this.memoryStorage={},this.storage=uR(this.memoryStorage)),ci()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dL}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=q_e(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ci()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),$_e(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ke(n)?{error:n}:{error:new fL("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:So}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Ju(this.storage,this.storageKey)),i=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:So})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:So})}else throw new Oy("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:lR})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:lR})}else throw new Oy("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ky}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,c,l,u,d,h,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:w,wallet:y,statement:b,options:v}=e;let _;if(ci())if(typeof y=="object")_=y;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))_=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const E=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const x=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),b?{statement:b}:null));let S;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")S=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)S=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)p=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),g=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const x=await _.signMessage(new TextEncoder().encode(p),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=x}}try{const{data:w,error:y}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:F_e(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:So});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new ky}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(Ke(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await $y(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:So});if(await Dy(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ky}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Ke(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:So}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ky}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Ju(this.storage,this.storageKey));const{error:d}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Oy("You must provide either an email or phone number.")}catch(a){if(Ke(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:So});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(Ke(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ju(this.storage,this.storageKey)),await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:aCe})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Pa;const{error:s}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Ke(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Oy("You must provide either an email or phone number and a type")}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await $y(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<CE:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ha}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pa}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ha})})}catch(n){if(Ke(n))return R_e(n)&&(await this._removeSession(),await Dy(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Pa;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await Ju(this.storage,this.storageKey));const{data:l,error:u}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:Ha});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pa;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=SE(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ke(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Pa;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ci())throw new Ry("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ry(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new rR("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ry("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new rR("No code detected.");const{data:b,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new Ry("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;c&&(h=parseInt(c));const f=h-u;f*1e3<=sd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:g,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(Ke(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await $y(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(O_e(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Dy(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=W_e(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ju(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,l,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return ci()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ke(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await G_e(async s=>(s>0&&await V_e(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:So})),(s,i)=>{const o=200*Math.pow(2,s);return i&&xE(i)&&Date.now()+o-r<sd})}catch(r){if(this._debug(n,"error",r),Ke(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ci()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await $y(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<CE;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${CE}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),xE(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Pa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new eb;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Pa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Ke(i)){const o={session:null,error:i};return xE(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await mL(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Dy(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ci()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),sd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/sd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${sd}ms, refresh threshold is ${Ux} ticks`),s<=Ux&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yL)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ci()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ju(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await et(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await et(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=SE(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+P_e>Date.now()))return r;const{data:s,error:i}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new wp("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new wp("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};r=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=SE(r);if(eCe(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const l=tCe(s.alg),u=await this.fetchJwk(s.kid,n),d=await crypto.subtle.importKey("jwk",u,l,!0,["verify"]);if(!await crypto.subtle.verify(l,d,o,B_e(`${a}.${c}`)))throw new wp("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}}Mg.nextInstanceID=0;const wCe=Mg;class vCe extends wCe{constructor(e){super(e)}}var bCe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class ECe{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=x_e(e),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:m_e,realtime:w_e,auth:Object.assign(Object.assign({},y_e),{storageKey:l}),global:g_e},d=S_e(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=__e(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new LEe(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new pEe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new h_e(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return bCe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},l,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vCe({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new XEe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _Ce=(t,e,n)=>new ECe(t,e,n),CCe=void 0,xCe=void 0,jy=_Ce(CCe,xCe,{realtime:{params:{eventsPerSecond:10}},auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),wL=({fullscreen:t=!1})=>{const[e]=R.useState([]);return m.jsx("div",{className:`chess-multiplayer${t?" fullscreen":""}`,children:m.jsx("div",{className:"chess-board-and-history",children:m.jsxs("div",{className:"move-history-column",children:[m.jsx("h3",{children:"Move History"}),m.jsx("ol",{className:"move-history-list",children:e.map((n,r)=>m.jsx("li",{children:n},r))})]})})})},SCe={AI:"ai"},Uy={R:"/images/redrook.png",N:"/images/redknight.png",B:"/images/redbishop.png",Q:"/images/redqueen.png",K:"/images/redking.png",P:"/images/redpawn.png",r:"/images/bluerook.png",n:"/images/blueknight.png",b:"/images/bluebishop.png",q:"/images/bluequeen.png",k:"/images/blueking.png",p:"/images/bluepawn.png"},hR=[["R","N","B","Q","K","B","N","R"],["P","P","P","P","P","P","P","P"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["p","p","p","p","p","p","p","p"],["r","n","b","q","k","b","n","r"]],ACe=[{key:"K",name:"Red King",img:"/images/redking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"Q",name:"Red Queen",img:"/images/redqueen.png",desc:"The Queen moves any number of squares in any direction."},{key:"R",name:"Red Rook",img:"/images/redrook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"B",name:"Red Bishop",img:"/images/redbishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"N",name:"Red Knight",img:"/images/redknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"P",name:"Red Pawn",img:"/images/redpawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."},{key:"k",name:"Blue King",img:"/images/blueking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"q",name:"Blue Queen",img:"/images/bluequeen.png",desc:"The Queen moves any number of squares in any direction."},{key:"r",name:"Blue Rook",img:"/images/bluerook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"b",name:"Blue Bishop",img:"/images/bluebishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"n",name:"Blue Knight",img:"/images/blueknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"p",name:"Blue Pawn",img:"/images/bluepawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."}],ICe=()=>{const[t,e]=R.useState(!1),n=R.useRef(null),r=R.useRef(!1);R.useEffect(()=>r.current||n.current?void 0:(r.current=!0,console.log("[DEBUG] Initializing LawbBot..."),(()=>{try{const a=document.createElement("script");a.src="/stockfish.js",a.onload=()=>{if(console.log("[DEBUG] LawbBot script loaded, initializing..."),typeof window<"u"&&typeof window.Stockfish=="function"){const c=window.Stockfish;c?c().then(l=>{console.log("[DEBUG] LawbBot initialized successfully"),l instanceof Worker?(n.current=l,e(!0),r.current=!1,l.postMessage("setoption name Threads value 4"),l.postMessage("setoption name Hash value 128"),l.postMessage("setoption name MultiPV value 1")):(console.error("[DEBUG] LawbBot: Stockfish is not a Worker instance"),e(!1),r.current=!1)}).catch(l=>{console.error("[DEBUG] LawbBot initialization failed:",l),e(!1),r.current=!1}):(console.error("[DEBUG] LawbBot: Stockfish is not defined as a function"),e(!1),r.current=!1)}else console.error("[DEBUG] LawbBot not found in window object"),e(!1),r.current=!1},a.onerror=c=>{console.error("[DEBUG] Failed to load LawbBot script:",c),e(!1),r.current=!1},document.head.appendChild(a)}catch(a){console.error("[DEBUG] Failed to create LawbBot script:",a),e(!1),r.current=!1}})(),()=>{if(n.current){try{n.current.terminate()}catch(a){console.warn("[DEBUG] Error terminating LawbBot:",a)}n.current=null}r.current=!1}),[]);const s=R.useCallback((o,a=4e3)=>new Promise(c=>{if(!n.current){console.warn("[DEBUG] Stockfish not ready, using fallback"),c(null);return}console.log("[DEBUG] Starting Stockfish calculation for FEN:",o,"timeLimit:",a);let l=null,u=!1;const d=h=>{var p;const f=h.data;typeof f=="string"&&f.startsWith("bestmove ")&&(l=f.split(" ")[1]||null,console.log("[DEBUG] Stockfish bestmove found:",l),u||(u=!0,(p=n.current)==null||p.removeEventListener("message",d),c(l)))};try{n.current.addEventListener("message",d),n.current.postMessage("uci"),n.current.postMessage("isready"),n.current.postMessage(`position fen ${o}`);const h=a>5e3?a*1.5:a;n.current.postMessage(`go movetime ${h} depth 20`);const f=a>5e3?a*2:a+1e3;window.setTimeout(()=>{var p;if(!u){u=!0;try{(p=n.current)==null||p.removeEventListener("message",d)}catch(g){console.warn("[DEBUG] Error removing message listener:",g)}console.warn("[DEBUG] Stockfish timeout after",f,"ms"),c(l)}},f)}catch(h){console.error("[DEBUG] Stockfish communication error:",h),c(null)}}),[]),i=R.useCallback(async(o,a=4e3)=>{try{const c=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",l="https://chess.lawb.xyz/api/stockfish";console.log(`[DEBUG] Attempting API call to ${l}`);const u=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fen:o,movetime:a})});if(u.ok){const d=await u.json();return console.log(`[DEBUG] API call successful to ${l}:`,d),d.move||null}else return console.warn(`[DEBUG] API failed with status ${u.status} on ${l}`),null}catch(c){return console.warn("[DEBUG] API error:",c),null}},[]);return{stockfishReady:t,getStockfishMove:s,getCloudflareStockfishMove:i}},TCe=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(!1),s=R.useCallback(async o=>{try{r(!0);const a=await fetch(`https://explorer.lichess.ovh/lichess?fen=${encodeURIComponent(o)}`);if(a.ok){const c=await a.json();return e(c),c}}catch(a){console.warn("[DEBUG] Lichess API error:",a)}finally{r(!1)}return null},[]),i=R.useCallback(async(o,a)=>{try{const c=await fetch(`https://explorer.lichess.ovh/lichess?fen=${encodeURIComponent(o)}&play=${a}`);if(c.ok)return await c.json()}catch(c){console.warn("[DEBUG] Lichess move analysis error:",c)}return null},[]);return{openingData:t,isAnalyzing:n,getOpeningData:s,getMoveAnalysis:i}},NCe=({onClose:t,onMinimize:e,fullscreen:n=!1})=>{const{address:r}=sv(),[s,i]=R.useState(SCe.AI),[o,a]=R.useState(()=>JSON.parse(JSON.stringify(hR))),[c,l]=R.useState("blue"),[u,d]=R.useState(null),[h,f]=R.useState("active"),[p,g]=R.useState("hard"),[w,y]=R.useState("Connect wallet to play"),[b,v]=R.useState([]),[_,E]=R.useState([]),[x,S]=R.useState([]),[A,C]=R.useState(null),[P,k]=R.useState(!1),[B,F]=R.useState(!1),[H,N]=R.useState(null),[T,L]=R.useState(null),[D]=R.useState(""),[$]=R.useState(.1),[U,W]=R.useState({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),Y=R.useRef(null),te=R.useRef(!1),ee=R.useRef(o),ne=R.useRef(null),me=R.useRef(null),G=R.useRef(!1),Q=R.useRef(!1),[se,X]=R.useState(!1),[le,Me]=R.useState(!1),[Ne,be]=R.useState(!1),[Oe,He]=R.useState(()=>typeof window<"u"&&window.localStorage?window.localStorage.getItem("lawb_chess_dark_mode")==="true":!1),Nt=()=>{He(j=>(typeof window<"u"&&window.localStorage&&window.localStorage.setItem("lawb_chess_dark_mode",String(!j)),!j))},{stockfishReady:wn}=ICe(),{getOpeningData:Dt}=TCe(),[yt,cn]=R.useState("loading"),[Ps,ra]=R.useState(!1),[sa,Mn]=R.useState([]),[Or,ia]=R.useState(!1),[Mh,oa]=R.useState("/images/chessboard1.png"),_m=()=>{const j=["/images/chessboard1.png","/images/chessboard2.png","/images/chessboard3.png","/images/chessboard4.png","/images/chessboard5.png","/images/chessboard6.png"],z=Math.floor(Math.random()*j.length),q=j[z];return console.log("[DEBUG] Random chessboard selected:",q,"(index:",z,")"),q};R.useEffect(()=>{if(wn)cn("ready");else{const j=window.setTimeout(()=>{wn||(cn("failed"),console.warn("[DEBUG] Stockfish failed to load within timeout"))},1e4);return()=>window.clearTimeout(j)}},[wn]),R.useEffect(()=>{ee.current=o},[o]),R.useEffect(()=>{r?y("Select game mode"):(y("Connect wallet to play"),k(!1))},[r]),R.useEffect(()=>(!Y.current&&typeof Worker<"u"&&(Y.current=new Worker("/aiWorker.js"),Y.current.onmessage=j=>{console.log("[DEBUG] AI worker response received:",j.data);const{move:z,nodes:q}=j.data;z&&te.current&&h==="active"?(console.log("[DEBUG] AI worker move is valid, executing:",z),console.log("[DEBUG] AI searched",q,"nodes"),te.current=!1,me.current&&(window.clearTimeout(me.current),me.current=null),ne.current&&ne.current(z.from,z.to,!0)):console.log("[DEBUG] AI worker response ignored - not AI turn or game not active")},Y.current.onerror=j=>{console.error("[DEBUG] AI worker error:",j),y("AI worker error - using fallback mode"),te.current=!1}),()=>{Y.current&&(Y.current.terminate(),Y.current=null),me.current&&(window.clearTimeout(me.current),me.current=null)}),[]),R.useEffect(()=>{C2()},[]);const C2=async()=>{try{const j=new Promise((K,V)=>window.setTimeout(()=>V(new Error("Database timeout")),1e4)),z=jy.from("leaderboard").select("*").order("points",{ascending:!1}),q=await Promise.race([z,j]);if(q.error)throw q.error;q.data&&E(q.data),console.log("Leaderboard data loaded:",q.data)}catch(j){y("Failed to load leaderboard"),console.error("Leaderboard error:",j)}},Bh=async j=>{if(console.log("[DEBUG] updateScore called with:",j),!r){console.log("[DEBUG] No wallet address, returning");return}try{const z=r.toLowerCase(),{data:q}=await jy.from("leaderboard").select("*").eq("username",z).maybeSingle();console.log("[DEBUG] Existing record:",q);const K=q!=null&&q.wins?Number(q.wins):0,V=q!=null&&q.losses?Number(q.losses):0,pe=q!=null&&q.draws?Number(q.draws):0,ye=q!=null&&q.total_games?Number(q.total_games):0,ke=q!=null&&q.points?Number(q.points):0;console.log("[DEBUG] Score calculation:",{currentWins:K,currentLosses:V,currentDraws:pe,currentTotalGames:ye,currentPoints:ke,gameResult:j});const it=K+(j==="win"?1:0),wt=V+(j==="loss"?1:0),fn=pe+(j==="draw"?1:0),_t=ye+1;let Fh=0;if(j==="win")switch(p){case"easy":Fh=10;break;default:Fh=1}else j==="draw"&&(Fh=1);const sb=ke+Fh;if(console.log("[DEBUG] New values:",{newWins:it,newLosses:wt,newDraws:fn,newTotalGames:_t,newPoints:sb,pointsToAdd:Fh}),q){const{error:zh}=await jy.from("leaderboard").update({wins:it,losses:wt,draws:fn,total_games:_t,points:sb,updated_at:new Date().toISOString()}).eq("username",z);if(zh){console.error("[DEBUG] Error updating leaderboard:",zh);return}}else{const{error:zh}=await jy.from("leaderboard").insert({username:z,chain_type:"ethereum",wins:it,losses:wt,draws:fn,total_games:_t,points:sb,updated_at:new Date().toISOString()});if(zh){console.error("[DEBUG] Error inserting leaderboard record:",zh);return}}console.log("[DEBUG] Leaderboard updated successfully"),await C2()}catch(z){console.error("[DEBUG] Error in updateScore:",z)}},tn=j=>j&&j===j.toUpperCase()?"red":"blue",x2=(j,z)=>j>=0&&j<8&&z>=0&&z<8,S2=(j,z)=>`${String.fromCharCode(97+z)}${8-j}`,aa=(j,z)=>{const q=z==="blue"?"k":"K";let K=null;for(let ye=0;ye<8;ye++){for(let ke=0;ke<8;ke++)if(j[ye][ke]===q){K={row:ye,col:ke};break}if(K)break}if(!K)return console.log(`King not found for ${z}`),!1;const V=z==="blue"?"red":"blue",pe=vL(K.row,K.col,V,j);return console.log(`${z} king at ${K.row},${K.col} under attack: ${pe}`),pe},vL=(j,z,q,K)=>{for(let V=0;V<8;V++)for(let pe=0;pe<8;pe++){const ye=K[V][pe];if(ye&&tn(ye)===q&&Vc(ye,V,pe,j,z,!1,q,K,!0))return!0}return!1},bL=(j,z,q,K,V,pe=o)=>{const ye=pe.map(it=>[...it]),ke=ye[j][z];return ye[q][K]=ke,ye[j][z]=null,aa(ye,V)},EL=(j,z,q,K,V,pe)=>{const ye=j==="blue"?-1:1,ke=j==="blue"?6:1;if(!x2(K,V)||j==="blue"&&K>=z||j==="red"&&K<=z)return!1;const it=Math.abs(K-z),wt=Math.abs(V-q);if((it===1&&wt===0||it===2&&wt===0&&z===ke||it===1&&wt===1)&&it<=2&&wt<=1&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&console.log("[DEBUG] Pawn move check:",{color:j,from:`${z},${q}`,to:`${K},${V}`}),q===V&&K===z+ye)return pe[K][V]===null;if(q===V&&z===ke&&K===z+2*ye)return pe[z+ye][q]===null&&pe[K][V]===null;if(Math.abs(q-V)===1&&K===z+ye){const _t=pe[K][V];return _t!==null&&tn(_t)!==j}if(Math.abs(q-V)===1&&K===z+ye){const _t=pe[z][V];if(_t&&tn(_t)!==j&&_t.toLowerCase()==="p"&&U.lastPawnDoubleMove&&U.lastPawnDoubleMove.row===z&&U.lastPawnDoubleMove.col===V)return console.log("[DEBUG] Pawn en passant move"),!0}return!1},A2=(j,z,q,K,V)=>j!==q&&z!==K?!1:T2(j,z,q,K,V),_L=(j,z,q,K)=>{const V=Math.abs(j-q),pe=Math.abs(z-K);return V===2&&pe===1||V===1&&pe===2},I2=(j,z,q,K,V)=>Math.abs(j-q)!==Math.abs(z-K)?!1:T2(j,z,q,K,V),CL=(j,z,q,K,V)=>A2(j,z,q,K,V)||I2(j,z,q,K,V),xL=(j,z,q,K,V)=>{const pe=Math.abs(z-K),ye=Math.abs(q-V);if(pe<=1&&ye<=1)return!0;if(pe===0&&ye===2){if(j==="blue"&&!U.blueKingMoved){if(V===6&&!U.blueRooksMove.right||V===2&&!U.blueRooksMove.left)return!0}else if(j==="red"&&!U.redKingMoved&&(V===6&&!U.redRooksMove.right||V===2&&!U.redRooksMove.left))return!0}return!1},T2=(j,z,q,K,V)=>{const pe=j===q?0:(q-j)/Math.abs(q-j),ye=z===K?0:(K-z)/Math.abs(K-z);let ke=j+pe,it=z+ye;for(;ke!==q||it!==K;){if(V[ke][it]!==null)return!1;ke+=pe,it+=ye}return!0},Vc=(j,z,q,K,V,pe=!0,ye=tn(j),ke=o,it=!1)=>{if(!x2(K,V))return it||console.log("[ILLEGAL MOVE] Out of board:",{piece:j,startRow:z,startCol:q,endRow:K,endCol:V}),!1;const wt=ke[K][V];if(wt&&tn(wt)===ye)return it||console.log("[ILLEGAL MOVE] Capturing own piece:",{piece:j,startRow:z,startCol:q,endRow:K,endCol:V}),!1;const fn=j.toLowerCase();let _t=!1;switch(fn){case"p":_t=EL(ye,z,q,K,V,ke);break;case"r":_t=A2(z,q,K,V,ke);break;case"n":_t=_L(z,q,K,V);break;case"b":_t=I2(z,q,K,V,ke);break;case"q":_t=CL(z,q,K,V,ke);break;case"k":_t=xL(ye,z,q,K,V);break}return _t?_t&&pe&&bL(z,q,K,V,ye,ke)?(it||console.log("[ILLEGAL MOVE] Move exposes king to check:",{piece:j,startRow:z,startCol:q,endRow:K,endCol:V}),!1):_t:(it||console.log("[ILLEGAL MOVE] Piece cannot move that way:",{piece:j,startRow:z,startCol:q,endRow:K,endCol:V,playerColor:ye,pieceType:fn,targetPiece:ke[K][V],targetPieceColor:ke[K][V]?tn(ke[K][V]):null}),!1)},Cm=(j,z=o,q=c)=>{const K=[],V=z[j.row][j.col];if(!V||tn(V)!==q)return K;const pe=V.toLowerCase();if(pe==="p"){const ye=q==="blue"?-1:1,ke=q==="blue"?6:1,it=j.row+ye;if(it>=0&&it<8&&Vc(V,j.row,j.col,it,j.col,!0,q,z,!0)&&K.push({row:it,col:j.col}),j.row===ke){const wt=j.row+2*ye;wt>=0&&wt<8&&Vc(V,j.row,j.col,wt,j.col,!0,q,z,!0)&&K.push({row:wt,col:j.col})}for(const wt of[-1,1]){const fn=j.col+wt,_t=j.row+ye;fn>=0&&fn<8&&_t>=0&&_t<8&&Vc(V,j.row,j.col,_t,fn,!0,q,z,!0)&&K.push({row:_t,col:fn})}}else if(pe==="n"){const ye=[[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]];for(const[ke,it]of ye){const wt=j.row+ke,fn=j.col+it;wt>=0&&wt<8&&fn>=0&&fn<8&&Vc(V,j.row,j.col,wt,fn,!0,q,z,!0)&&K.push({row:wt,col:fn})}}else for(let ye=0;ye<8;ye++)for(let ke=0;ke<8;ke++)Vc(V,j.row,j.col,ye,ke,!0,q,z,!0)&&K.push({row:ye,col:ke});return K},SL=(j,z=o)=>{if(!aa(z,j))return!1;for(let q=0;q<8;q++)for(let K=0;K<8;K++){const V=z[q][K];if(V&&tn(V)===j&&Cm({row:q,col:K},z,j).length>0)return!1}return!0},AL=(j,z=o)=>{if(aa(z,j))return!1;for(let q=0;q<8;q++)for(let K=0;K<8;K++){const V=z[q][K];if(V&&tn(V)===j&&Cm({row:q,col:K},z,j).length>0)return!1}return!0},IL=(j,z)=>{if(h!=="active"||te.current)return;const q=o[j][z],K=q?tn(q):null;if(u&&x.some(V=>V.row===j&&V.col===z)){xm(u,{row:j,col:z});return}if(q&&K===c){const V=Cm({row:j,col:z});d({row:j,col:z}),S(V);return}d(null),S([])},xm=(j,z,q=!1)=>{const K=o[j.row][j.col];if(console.log("[MOVE ATTEMPT]",{from:j,to:z,piece:K,isAIMove:q,board:JSON.parse(JSON.stringify(o)),moveHistory:b}),!!K){if(K.toLowerCase()==="p"&&(tn(K)==="blue"&&z.row===0||tn(K)==="red"&&z.row===7)){N({from:j,to:z}),F(!0);return}R2(j,z,"q",q)}};ne.current=xm;const N2=R.useCallback((j,z,q=!1)=>{ia(!0);const K=o.map(ye=>[...ye]),V=K[j.row][j.col];if(!V)return;K[z.row][z.col]=V,K[j.row][j.col]=null,jL(K,j,z,V);const pe=UL(j,z);if(v(ye=>{const ke=[...ye,pe];return console.log("[MOVE HISTORY UPDATED]",ke),ke}),C({from:j,to:z}),d(null),S([]),b.length<10&&!q){const ye=fR(K,c==="blue"?"red":"blue");Dt(ye).then(ke=>{ke&&ke.moves&&ke.moves.length>0&&(Mn(ke.moves.slice(0,3)),ra(!0),setTimeout(()=>ra(!1),5e3))})}LL(j,z,V),l(ye=>{const ke=ye==="blue"?"red":"blue";return console.log("[DEBUG] Player switched to:",ke),P2(K,ke),ke}),P2(K,c==="blue"?"red":"blue"),a(K),te.current=!1,G.current=!1,Q.current=!1,ia(!1)},[o,c,b,Dt]);R.useEffect(()=>{if(!te.current&&s==="ai"&&c==="red"&&!G.current&&!Or)if(te.current=!0,p==="easy")setTimeout(()=>{const j=TL(o);j?xm(j.from,j.to,!0):te.current=!1},600);else{y("AI is calculating...");const j=fR(o,c);if(Q.current)return;Q.current=!0,fetch("https://chess.lawb.xyz/api/stockfish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fen:j,difficulty:p,movetime:3e3})}).then(q=>{if(q.ok)return q.json();throw new Error("API call failed")}).then(q=>{const K=q.bestmove||q.move;if(K&&K!=="(none)"&&K.length===4){const V=K.charCodeAt(0)-97,pe=parseInt(K[1]),ye=K.charCodeAt(2)-97,ke=parseInt(K[3]),it=8-pe,wt=8-ke;if(V>=0&&V<8&&it>=0&&it<8&&ye>=0&&ye<8&&wt>=0&&wt<8){const fn={from:{row:it,col:V},to:{row:wt,col:ye}},_t=o[it][V];_t&&tn(_t)==="red"&&Vc(_t,it,V,wt,ye,!0,"red",o)?xm(fn.from,fn.to,!0):(te.current=!1,Q.current=!1)}else te.current=!1,Q.current=!1}else te.current=!1,Q.current=!1}).catch(()=>{y("AI error. Please try again."),te.current=!1,Q.current=!1})}},[c,s,p,o,U,wn]);const P2=(j,z)=>{console.log("Checking game end for player:",z);const q=j.some(V=>V.some(pe=>pe==="k")),K=j.some(V=>V.some(pe=>pe==="K"));if(!q)return console.log("[GAME END] KING CAPTURED - Red wins!"),f("checkmate"),y("King captured! Red wins!"),Bh("loss"),be(!0),setTimeout(()=>be(!1),3e3),"checkmate";if(!K)return console.log("[GAME END] KING CAPTURED - Blue wins!"),f("checkmate"),y("King captured! You win!"),Bh("win"),be(!0),setTimeout(()=>be(!1),3e3),"checkmate";if(console.log("Is king in check:",aa(j,z)),SL(z,j)){console.log("[GAME END] CHECKMATE",{winner:z==="blue"?"red":"blue",board:JSON.parse(JSON.stringify(j)),moveHistory:b}),f("checkmate");const V=z==="blue"?"red":"blue";return V==="blue"?(y("Checkmate! You win!"),Cu("checkmate"),j2(!0),BL(),Bh("win"),be(!0),setTimeout(()=>be(!1),3e3)):(y(`Checkmate! ${V==="red"?"AI":"Opponent"} wins!`),Cu("checkmate"),U2(!0),Bh("loss"),be(!0),setTimeout(()=>be(!1),3e3)),"checkmate"}return AL(z,j)?(console.log("[GAME END] STALEMATE",{board:JSON.parse(JSON.stringify(j)),moveHistory:b}),f("stalemate"),y("Stalemate! Game is a draw."),Bh("draw"),be(!0),setTimeout(()=>be(!1),3e3),"stalemate"):(aa(j,z)?(console.log("CHECK detected!"),Cu("check"),y(`${z==="blue"?"Blue":"Red"} is in check!`)):y("Your turn"),null)},TL=j=>{const z=[];for(let V=0;V<8;V++)for(let pe=0;pe<8;pe++){const ye=j[V][pe];ye&&tn(ye)==="red"&&z.push({row:V,col:pe})}for(let V=z.length-1;V>0;V--){const pe=Math.floor(Math.random()*(V+1));[z[V],z[pe]]=[z[pe],z[V]]}const q=[],K=[];for(const V of z){const pe=Cm(V,j,"red");for(const ye of pe){const ke=j[ye.row][ye.col];if(ke&&tn(ke)==="blue"){const wt={p:100,n:320,b:330,r:500,q:900,k:2e4}[ke.toLowerCase()]||0;q.push({from:V,to:ye,value:wt})}else K.push({from:V,to:ye})}}if(q.length>0&&Math.random()<.3){q.sort((V,pe)=>V.value-pe.value);for(const V of q){const pe=j.map(ke=>[...ke]),ye=pe[V.from.row][V.from.col];if(pe[V.to.row][V.to.col]=ye,pe[V.from.row][V.from.col]=null,!aa(pe,"red"))return{from:V.from,to:V.to}}}for(const V of K){const pe=j.map(ke=>[...ke]),ye=pe[V.from.row][V.from.col];if(pe[V.to.row][V.to.col]=ye,pe[V.from.row][V.from.col]=null,!aa(pe,"red"))return V}q.sort((V,pe)=>V.value-pe.value);for(const V of q){const pe=j.map(ke=>[...ke]),ye=pe[V.from.row][V.from.col];if(pe[V.to.row][V.to.col]=ye,pe[V.from.row][V.from.col]=null,!aa(pe,"red"))return{from:V.from,to:V.to}}return null},NL=()=>{a(JSON.parse(JSON.stringify(hR))),l("blue"),d(null),f("active"),v([]),S([]),C(null),k(!1),y("Select game mode"),W({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),oa(_m()),te.current&&(te.current=!1)},PL=()=>{if(WL(),console.log("[DEBUG] startGame called, difficulty:",p,"gameMode:",s),s==="online"){k(!1),X(!1);return}k(!0),X(!1),y("Game started! Your turn");const j=_m();oa(j),console.log("[DEBUG] Game started with chessboard:",j)},k2=j=>`${j.slice(0,6)}...${j.slice(-4)}`,kL=(j,z)=>{const q=o[j][z],K=(u==null?void 0:u.row)===j&&(u==null?void 0:u.col)===z,V=x.some(ye=>ye.row===j&&ye.col===z),pe=A&&(A.from.row===j&&A.from.col===z||A.to.row===j&&A.to.col===z);return m.jsxs("div",{className:`square ${K?"selected":""} ${V?"legal-move":""} ${pe?"last-move":""}`,onClick:()=>IL(j,z),children:[q&&m.jsx("div",{className:"piece",style:{backgroundImage:Uy[q]?`url(${Uy[q]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),V&&m.jsx("div",{className:"legal-move-indicator"})]},`${j}-${z}`)},OL=()=>{if(!B||!H)return null;const j=c==="blue"?["q","r","b","n"]:["Q","R","B","N"];return m.jsx("div",{className:"promotion-dialog",children:m.jsxs("div",{className:"promotion-content",children:[m.jsx("h3",{children:"Choose promotion piece:"}),m.jsx("div",{className:"promotion-pieces",children:j.map(z=>m.jsx("div",{className:"promotion-piece",onClick:()=>{R2(H.from,H.to,z),F(!1),N(null)},style:{backgroundImage:Uy[z]?`url(${Uy[z]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},z))})]})})},[RL,$L]=R.useState(null),O2=(j=!1,z="Click a piece to learn more about it.")=>m.jsxs("div",{className:`piece-gallery${j?" piece-gallery-sm":""}`,children:[m.jsx("h3",{children:"Lawbstation Chess Pieces"}),m.jsx("div",{className:"piece-gallery-grid",children:ACe.map(q=>m.jsxs("div",{className:"piece-gallery-item",onClick:()=>$L(q.key),children:[m.jsx("img",{src:q.img,alt:q.name,className:"piece-gallery-img"}),m.jsx("div",{className:"piece-gallery-name",children:q.name}),RL===q.key&&m.jsx("div",{className:"piece-gallery-desc",children:q.desc})]},q.key))}),m.jsx("div",{className:"piece-gallery-tip",children:z})]}),DL=()=>m.jsx("div",{className:"difficulty-selection-row",style:{justifyContent:"center"},children:m.jsx("div",{className:"difficulty-controls-col",children:m.jsxs("div",{className:"difficulty-selection-panel",style:{background:"#fff",borderRadius:12,padding:"32px 24px",boxShadow:"0 4px 32px rgba(0,0,0,0.12)",textAlign:"center"},children:[m.jsx("h2",{style:{fontWeight:700,letterSpacing:1,fontSize:"2rem",color:"#0a2a7a",marginBottom:16},children:"Start a New Game"}),m.jsxs("p",{style:{fontSize:"1.1rem",color:"#333",marginBottom:24},children:["Challenge the LawbBot AI to a chess match.",m.jsx("br",{}),"Good luck, have fun!"]}),m.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:16,marginBottom:24},children:[m.jsx("button",{className:`difficulty-btn${p==="easy"?" selected":""}`,style:{background:p==="easy"?"#44c0ff":"#eee",color:p==="easy"?"#fff":"#333",fontWeight:"bold",fontSize:"1.1em",padding:"12px 32px",borderRadius:8,border:"none",cursor:"pointer",letterSpacing:1,boxShadow:p==="easy"?"0 2px 8px #44c0ff44":"none"},onClick:()=>g("easy"),children:"Easy"}),m.jsx("button",{className:`difficulty-btn${p==="hard"?" selected":""}`,style:{background:p==="hard"?"#0a2a7a":"#eee",color:p==="hard"?"#fff":"#333",fontWeight:"bold",fontSize:"1.1em",padding:"12px 32px",borderRadius:8,border:"none",cursor:"pointer",letterSpacing:1,boxShadow:p==="hard"?"0 2px 8px #0a2a7a44":"none"},onClick:()=>g("hard"),children:"Hard"})]}),m.jsxs("button",{className:"difficulty-btn start-btn",onClick:()=>{PL()},style:{background:"linear-gradient(90deg, #0a2a7a 0%, #44c0ff 100%)",color:"white",fontWeight:"bold",fontSize:"1.3em",padding:"18px 48px",borderRadius:8,boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"none",cursor:"pointer",letterSpacing:1,marginBottom:8},children:[m.jsx("span",{role:"img","aria-label":"chess",children:"♟️"})," Start Game"]})]})})}),jL=(j,z,q,K)=>{if(K.toLowerCase()==="p"&&(tn(K)==="blue"&&q.row===0||tn(K)==="red"&&q.row===7)){const V=tn(K)==="blue"?"q":"Q";j[q.row][q.col]=V}K.toLowerCase()==="k"&&Math.abs(z.col-q.col)===2&&(q.col===6?(j[z.row][7]=null,j[z.row][5]=tn(K)==="blue"?"r":"R"):q.col===2&&(j[z.row][0]=null,j[z.row][3]=tn(K)==="blue"?"r":"R"))},UL=(j,z,q,K)=>{const V=S2(j.row,j.col),pe=S2(z.row,z.col);return`${V}-${pe}`},LL=(j,z,q)=>{const K={...U};q.toLowerCase()==="k"?tn(q)==="blue"?K.blueKingMoved=!0:K.redKingMoved=!0:q.toLowerCase()==="r"&&(tn(q)==="blue"?(j.col===0&&(K.blueRooksMove.left=!0),j.col===7&&(K.blueRooksMove.right=!0)):(j.col===0&&(K.redRooksMove.left=!0),j.col===7&&(K.redRooksMove.right=!0))),q.toLowerCase()==="p"&&Math.abs(j.row-z.row)===2?K.lastPawnDoubleMove={row:z.row,col:z.col}:K.lastPawnDoubleMove=null,W(K)},R2=(j,z,q="q",K=!1)=>{o[j.row][j.col];const pe=o[z.row][z.col]!==null;if(Cu(pe?"capture":"move"),pe){L({row:z.row,col:z.col,show:!0}),setTimeout(()=>{N2(j,z,K),L(null)},500);return}N2(j,z,K)},[$2,ML]=R.useState(!0),[tb,D2]=R.useState(!1),Cu=j=>{if(!$2)return;let z="";switch(j){case"move":z="/images/move.mp3";break;case"capture":z="/images/capture.mp3";break;case"check":z="/images/play.mp3";break;case"checkmate":z="/images/victory.mp3";break;case"victory":z="/images/victory.mp3";break;default:z="/images/move.mp3"}new Audio(z).play().catch(()=>{})},BL=()=>{if(tb){Cu("victory");for(let j=0;j<50;j++)setTimeout(()=>{const z=document.createElement("div");z.style.cssText=`
          position: fixed;
          width: 10px;
          height: 10px;
          background: ${["#ff4444","#44ff44","#4444ff","#ffff44","#ff44ff"][Math.floor(Math.random()*5)]};
          left: ${Math.random()*window.innerWidth}px;
          top: -10px;
          z-index: 9999;
          animation: confetti-fall 3s linear forwards;
        `,document.body.appendChild(z),setTimeout(()=>z.remove(),3e3)},j*100);setTimeout(()=>D2(!1),5e3)}},[FL,j2]=R.useState(!1),[zL,U2]=R.useState(!1),L2=()=>{j2(!1),U2(!1)},nb=()=>{L2(),NL()},rb=()=>{L2(),k(!1)},WL=()=>{new Audio("/images/start.mp3").play().catch(()=>{})},qL=s==="online";return m.jsxs("div",{className:`chess-game${n?" fullscreen":""}${Oe?" chess-dark-mode":""}`,children:[!n&&m.jsxs("div",{className:"chess-header",children:[m.jsx("h2",{children:"Lawb Chess"}),m.jsxs("div",{className:"chess-controls",children:[e&&m.jsx("button",{onClick:e,children:"_"}),m.jsx("button",{onClick:t,children:"×"}),m.jsx("button",{className:"dark-mode-toggle",onClick:Nt,title:Oe?"Switch to light mode":"Switch to dark mode","aria-label":Oe?"Switch to light mode":"Switch to dark mode",style:{marginLeft:12},children:Oe?"☀️":"🌙"})]})]}),m.jsxs("div",{className:"game-stable-layout",children:[m.jsxs("div",{className:"left-sidebar",children:[P&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"move-history-status",children:w}),m.jsxs("div",{className:"move-history",children:[m.jsx("div",{className:"move-history-title",children:"Move History"}),m.jsx("ul",{className:"move-history-list",children:b.slice().reverse().map((j,z)=>m.jsx("li",{children:j},b.length-1-z))})]})]}),!P&&m.jsxs("div",{className:"leaderboard",children:[m.jsx("h3",{children:"Leaderboard"}),m.jsx("div",{className:"leaderboard-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Rank"}),m.jsx("th",{children:"Player"}),m.jsx("th",{children:"W"}),m.jsx("th",{children:"L"}),m.jsx("th",{children:"D"}),m.jsx("th",{children:"Points"})]})}),m.jsx("tbody",{children:Array.isArray(_)&&_.slice(0,10).map((j,z)=>{if(typeof j=="object"&&j!==null&&"username"in j&&"wins"in j&&"losses"in j&&"draws"in j&&"points"in j){const q=j;return m.jsxs("tr",{children:[m.jsx("td",{children:z+1}),m.jsx("td",{children:k2(q.username)}),m.jsx("td",{children:q.wins}),m.jsx("td",{children:q.losses}),m.jsx("td",{children:q.draws}),m.jsx("td",{children:q.points})]},q.username)}return null})})]})})]})]}),m.jsxs("div",{className:"center-area",children:[m.jsx("div",{className:"game-info",children:m.jsxs("div",{className:"game-info-bar",children:[m.jsxs("span",{className:c==="blue"?"current-blue":"current-red",children:["Current: ",c==="blue"?"Blue":"Red"]}),m.jsx("span",{className:"wager-label",children:"Wager:"})," ",m.jsx("span",{children:s==="ai"?"NA":`${$} ETH`}),P&&!se&&m.jsxs("span",{className:"mode-play",children:["Mode: ",p==="easy"?"Easy":"Hard"]}),p==="easy"&&m.jsxs("span",{className:`stockfish-status ${yt}`,children:["LawbBot: ",yt==="loading"?"Loading...":yt==="ready"?"Ready":"Failed"]}),p==="hard"&&m.jsxs("span",{className:`stockfish-status ${yt}`,children:["LawbBot: ",yt==="loading"?"Loading...":yt==="ready"?"Ready":"Failed"]}),Ps&&sa.length>0&&m.jsxs("div",{className:"opening-suggestions",children:[m.jsx("span",{className:"opening-label",children:"Opening:"}),sa.map((j,z)=>m.jsxs("span",{className:"opening-move",children:[j.san," (",Math.round(j.white+j.draws+j.black)," games)"]},z))]})]})}),P?m.jsxs("div",{className:"chess-main-area",children:[m.jsx("div",{className:"chessboard-container",children:m.jsxs("div",{className:"chessboard",style:{backgroundImage:`url(${Mh})`},children:[Array.from({length:8},(j,z)=>m.jsx("div",{className:"board-row",children:Array.from({length:8},(q,K)=>kL(z,K))},z)),T&&T.show&&m.jsx("div",{className:"capture-animation",style:{position:"absolute",top:`${T.row*12.5}%`,left:`${T.col*12.5}%`,width:"12.5%",height:"12.5%",zIndex:10},children:m.jsx("img",{src:"/images/capture.gif",alt:"capture",style:{width:"100%",height:"100%"}})})]})}),m.jsxs("div",{className:"game-controls",children:[m.jsx("button",{onClick:()=>Me(!0),children:"Chess Piece Info"}),m.jsx("button",{onClick:nb,children:"New Game"}),m.jsx("button",{onClick:rb,children:"Back to Menu"})]}),m.jsxs("div",{className:"epic-controls",children:[m.jsxs("div",{className:"epic-toggle",children:[m.jsx("input",{type:"checkbox",id:"sound-toggle",checked:$2,onChange:j=>ML(j.target.checked)}),m.jsx("label",{htmlFor:"sound-toggle",children:"🎵 Sound Effects"})]}),m.jsxs("div",{className:"epic-toggle",children:[m.jsx("input",{type:"checkbox",id:"victory-toggle",checked:tb,onChange:j=>D2(j.target.checked)}),m.jsx("label",{htmlFor:"victory-toggle",children:"🎉 Victory Celebration"})]})]})]}):se?DL():s==="online"?m.jsx(wL,{}):m.jsxs("div",{className:"game-mode-panel",children:[m.jsx("h3",{className:"game-mode-title",children:"Select Game Mode"}),m.jsx("button",{className:`mode-btn ${s==="ai"?"selected":""}`,onClick:()=>i("ai"),children:"VS THE HOUSE"}),m.jsxs("div",{className:"pvp-section",children:[m.jsx("button",{className:`mode-btn ${qL?"selected":""}`,onClick:()=>i("online"),children:"PvP"}),m.jsx("img",{src:"/images/chessboard4.png",alt:"Chessboard",style:{display:"block",margin:"16px auto 0 auto",width:"180px",maxWidth:"90%"}})]}),m.jsx("button",{className:"start-btn continue-btn",onClick:()=>X(!0),children:"Continue"}),m.jsxs("div",{className:"how-to-section",children:[m.jsx("h4",{children:"How to Play"}),m.jsxs("div",{className:"how-to-content",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Chess Basics:"})," Move pieces to capture your opponent's king. Each piece moves differently - pawns forward, knights in L-shapes, bishops diagonally, rooks horizontally/vertically, queens in all directions, kings one square at a time."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Wallet Connection:"})," Connect your wallet to track your progress and compete on the leaderboard. Your wallet address serves as your username."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Points System:"})," Win points by defeating the AI. 1 win = 10pts. 1 draw = 1 point."]})]})]})]})]}),m.jsx("div",{className:"right-sidebar",children:P?m.jsxs("div",{className:"leaderboard",children:[m.jsx("h3",{children:"Leaderboard"}),m.jsx("div",{className:"leaderboard-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Rank"}),m.jsx("th",{children:"Player"}),m.jsx("th",{children:"W"}),m.jsx("th",{children:"L"}),m.jsx("th",{children:"D"}),m.jsx("th",{children:"Points"})]})}),m.jsx("tbody",{children:Array.isArray(_)&&_.slice(0,10).map((j,z)=>{if(typeof j=="object"&&j!==null&&"username"in j&&"wins"in j&&"losses"in j&&"draws"in j&&"points"in j){const q=j;return m.jsxs("tr",{children:[m.jsx("td",{children:z+1}),m.jsx("td",{children:k2(q.username)}),m.jsx("td",{children:q.wins}),m.jsx("td",{children:q.losses}),m.jsx("td",{children:q.draws}),m.jsx("td",{children:q.points})]},q.username)}return null})})]})})]}):m.jsx("div",{className:"piece-gallery-panel",children:O2(!1)})})]}),le&&m.jsx("div",{className:"gallery-modal-overlay",onClick:()=>Me(!1),children:m.jsxs("div",{className:"gallery-modal",onClick:j=>j.stopPropagation(),children:[m.jsx("button",{className:"close-modal-btn",onClick:()=>Me(!1),children:"×"}),O2(!1)]})}),OL(),Ne&&m.jsx("div",{className:"leaderboard-updated-msg",children:"Leaderboard updated!"}),FL&&tb&&m.jsxs("div",{className:"victory-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.0)"},children:[m.jsx("div",{className:"balloons-container"}),m.jsx("img",{src:"/images/victory.gif",alt:"Victory",style:{width:"320px",height:"auto",zIndex:2}}),m.jsxs("div",{style:{position:"absolute",bottom:40,left:0,width:"100vw",display:"flex",justifyContent:"center",gap:24},children:[m.jsx("button",{onClick:nb,children:"New Game"}),m.jsx("button",{onClick:rb,children:"Back to Menu"})]})]}),zL&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"blood-overlay",children:[0,1,2,3,4,5].map(j=>m.jsx("div",{className:"blood-drip",style:{left:`${10+j*14}%`,animationDelay:`${.5+j*.3}s`,background:"linear-gradient(to bottom, #a80000 0%, #d10000 80%, #5a0000 100%)",width:`${14+Math.random()*10}px`,height:`${50+Math.random()*30}px`,opacity:.85+Math.random()*.1}},j))}),m.jsxs("div",{className:"defeat-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.0)",pointerEvents:"none"},children:[m.jsx("img",{src:"/images/loser.gif",alt:"Defeat",style:{width:"320px",height:"auto",zIndex:2}}),m.jsxs("div",{style:{position:"absolute",bottom:40,left:0,width:"100vw",display:"flex",justifyContent:"center",gap:24,pointerEvents:"none"},children:[m.jsx("button",{style:{pointerEvents:"auto",zIndex:3e3},onClick:nb,children:"New Game"}),m.jsx("button",{style:{pointerEvents:"auto",zIndex:3e3},onClick:rb,children:"Back to Menu"})]})]})]})]})};function fR(t,e){let n="";for(let r=0;r<8;r++){let s=0;for(let i=0;i<8;i++){const o=t[r][i];o?(s>0&&(n+=s,s=0),o>="a"&&o<="z"?n+=o.toUpperCase():o>="A"&&o<="Z"?n+=o.toLowerCase():n+=o):s++}s>0&&(n+=s),r<7&&(n+="/")}return n+=" "+(e==="blue"?"w":"b"),n+=" - - 0 1",n}const pR=()=>{const[t,e]=R.useState("singleplayer");return m.jsxs("div",{className:"chess-page",children:[m.jsxs("div",{className:"chess-header",children:[m.jsx("h1",{children:"♔ Chess"}),m.jsxs("div",{className:"mode-toggle",children:[m.jsx("button",{className:`mode-btn ${t==="singleplayer"?"active":""}`,onClick:()=>e("singleplayer"),children:"Single Player"}),m.jsx("button",{className:`mode-btn ${t==="multiplayer"?"active":""}`,onClick:()=>e("multiplayer"),children:"Multiplayer"})]})]}),m.jsx("div",{className:"chess-content",children:t==="singleplayer"?m.jsx(NCe,{onClose:()=>{}}):m.jsx(wL,{})})]})},PCe=new UH,kCe=typeof window<"u"&&window.location.hostname.startsWith("chess."),OCe=()=>tEe("(max-width: 768px)")?m.jsx(eEe,{}):m.jsx(V1e,{});IE.createRoot(document.getElementById("root")).render(m.jsx(vs.StrictMode,{children:m.jsx(Qq,{config:GU.wagmiConfig,children:m.jsx(JH,{client:PCe,children:m.jsx(q1e,{children:m.jsx(F1e,{children:kCe?m.jsx(g0,{path:"/*",element:m.jsx(pR,{})}):m.jsxs(m.Fragment,{children:[m.jsx(g0,{path:"/",element:m.jsx(OCe,{})}),m.jsx(g0,{path:"/chess",element:m.jsx(pR,{})})]})})})})})}));export{Kxe as $,he as A,Ue as B,ge as C,Xn as D,tp as E,Zn as F,Re as G,TC as H,$f as I,yi as J,pX as K,kt as L,bt as M,uX as N,oe as O,ps as P,h0 as Q,Le as R,vi as S,Gr as T,dg as U,Eg as V,Un as W,Xxe as X,Tx as Y,KX as Z,dp as _,p0 as a,vh as a$,$n as a0,cu as a1,on as a2,Jxe as a3,CU as a4,Nx as a5,dh as a6,ln as a7,JCe as a8,sc as a9,t5 as aA,e5 as aB,kc as aC,Qf as aD,Ko as aE,WCe as aF,GF as aG,Hl as aH,zCe as aI,qCe as aJ,F0 as aK,HCe as aL,m7 as aM,Q$ as aN,FCe as aO,Qw as aP,Up as aQ,z0 as aR,Tw as aS,VCe as aT,y7 as aU,YT as aV,Mq as aW,fY as aX,Qs as aY,$W as aZ,RW as a_,io as aa,rg as ab,ze as ac,_n as ad,Ra as ae,i5 as af,nv as ag,W0 as ah,YS as ai,Pc as aj,MCe as ak,tv as al,JS as am,LCe as an,UCe as ao,lD as ap,Yw as aq,B0 as ar,RF as as,LF as at,GCe as au,Oz as av,re as aw,zS as ax,Sr as ay,$z as az,xt as b,ql as b0,Vw as b1,Tr as b2,hn as b3,tm as b4,Z as c,Pe as d,O as e,St as f,Uo as g,Zxe as h,Od as i,ms as j,Se as k,Ht as l,cbe as m,gn as n,lbe as o,fe as p,Yt as q,Qxe as r,mt as s,r6 as t,Ft as u,WX as v,Ns as w,Gxe as x,TA as y,i6 as z};
