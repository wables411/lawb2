const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-yr7bXiCN.js","assets/hmac-D5HZYwED.js","assets/secp256k1-DV9rsZ9w.js","assets/embedded-wallet-B7uZhjsE.js","assets/if-defined-DuVgNSSh.js","assets/index-C6St-7sp.js","assets/index-BHZq1HA1.js","assets/ref-Cme5Z9QE.js","assets/index-CQiJQc09.js","assets/index-SpmRqI_8.js","assets/index-t3kyQQgv.js","assets/index-aOxFyG5a.js","assets/index-BzXnDUJ-.js","assets/index-ClhHlNQp.js","assets/index-SNyEAX6Z.js","assets/email-BaAeOEti.js","assets/index-DzgfDy24.js","assets/socials-BKhedP31.js","assets/index-C-npwJif.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-BXyir3vk.js","assets/index-Bk9Re3gB.js","assets/index-BNKuFpVm.js","assets/index-BFMw5qSU.js","assets/swaps-f1nm0S4_.js","assets/index-BmNAkj7Z.js","assets/index-DVG40EP7.js","assets/index-BWt2ikCQ.js","assets/send-Dq11Dgzl.js","assets/index-6ZmQss7s.js","assets/index-C-G-WO3E.js","assets/receive-9lxNrXgL.js","assets/index-B2LJzDLY.js","assets/onramp-DOosqUCY.js","assets/index-oE0bGAfu.js","assets/index-DXV6I00i.js","assets/index-Dt-NCfQ-.js","assets/transactions-BJ_SCmRq.js","assets/index-CF5hsfGL.js","assets/index-CysshrOV.js","assets/index-CTN6euR6.js","assets/index-CX6qj8IT.js","assets/index-tp_xU_n3.js","assets/w3m-modal-CcyqaTna.js"])))=>i.map(i=>d[i]);
var gI=t=>{throw TypeError(t)};var qb=(t,e,n)=>e.has(t)||gI("Cannot "+n);var M=(t,e,n)=>(qb(t,e,"read from private field"),n?n.call(t):e.get(t)),ze=(t,e,n)=>e.has(t)?gI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ae=(t,e,n,r)=>(qb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),it=(t,e,n)=>(qb(t,e,"access private method"),n);var ny=(t,e,n,r)=>({set _(s){Ae(t,e,s,n)},get _(){return M(t,e,r)}});function ZL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function iv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var s3={exports:{}},ov={},i3={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=Symbol.for("react.element"),XL=Symbol.for("react.portal"),eM=Symbol.for("react.fragment"),tM=Symbol.for("react.strict_mode"),nM=Symbol.for("react.profiler"),rM=Symbol.for("react.provider"),sM=Symbol.for("react.context"),iM=Symbol.for("react.forward_ref"),oM=Symbol.for("react.suspense"),aM=Symbol.for("react.memo"),cM=Symbol.for("react.lazy"),mI=Symbol.iterator;function lM(t){return t===null||typeof t!="object"?null:(t=mI&&t[mI]||t["@@iterator"],typeof t=="function"?t:null)}var o3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a3=Object.assign,c3={};function Uh(t,e,n){this.props=t,this.context=e,this.refs=c3,this.updater=n||o3}Uh.prototype.isReactComponent={};Uh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l3(){}l3.prototype=Uh.prototype;function SS(t,e,n){this.props=t,this.context=e,this.refs=c3,this.updater=n||o3}var AS=SS.prototype=new l3;AS.constructor=SS;a3(AS,Uh.prototype);AS.isPureReactComponent=!0;var yI=Array.isArray,u3=Object.prototype.hasOwnProperty,IS={current:null},d3={key:!0,ref:!0,__self:!0,__source:!0};function h3(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)u3.call(e,r)&&!d3.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:fm,type:t,key:i,ref:o,props:s,_owner:IS.current}}function uM(t,e){return{$$typeof:fm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function TS(t){return typeof t=="object"&&t!==null&&t.$$typeof===fm}function dM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wI=/\/+/g;function Wb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dM(""+t.key):e.toString(36)}function gw(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fm:case XL:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Wb(o,0):r,yI(s)?(n="",t!=null&&(n=t.replace(wI,"$&/")+"/"),gw(s,e,n,"",function(l){return l})):s!=null&&(TS(s)&&(s=uM(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wI,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",yI(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Wb(i,a);o+=gw(i,e,n,c,s)}else if(c=lM(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Wb(i,a++),o+=gw(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ry(t,e,n){if(t==null)return t;var r=[],s=0;return gw(t,r,"","",function(i){return e.call(n,i,s++)}),r}function hM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qr={current:null},mw={transition:null},fM={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:mw,ReactCurrentOwner:IS};function f3(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:ry,forEach:function(t,e,n){ry(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ry(t,function(){e++}),e},toArray:function(t){return ry(t,function(e){return e})||[]},only:function(t){if(!TS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=Uh;lt.Fragment=eM;lt.Profiler=nM;lt.PureComponent=SS;lt.StrictMode=tM;lt.Suspense=oM;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fM;lt.act=f3;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=a3({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=IS.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)u3.call(e,c)&&!d3.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:fm,type:t.type,key:s,ref:i,props:r,_owner:o}};lt.createContext=function(t){return t={$$typeof:sM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rM,_context:t},t.Consumer=t};lt.createElement=h3;lt.createFactory=function(t){var e=h3.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:iM,render:t}};lt.isValidElement=TS;lt.lazy=function(t){return{$$typeof:cM,_payload:{_status:-1,_result:t},_init:hM}};lt.memo=function(t,e){return{$$typeof:aM,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=mw.transition;mw.transition={};try{t()}finally{mw.transition=e}};lt.unstable_act=f3;lt.useCallback=function(t,e){return qr.current.useCallback(t,e)};lt.useContext=function(t){return qr.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return qr.current.useDeferredValue(t)};lt.useEffect=function(t,e){return qr.current.useEffect(t,e)};lt.useId=function(){return qr.current.useId()};lt.useImperativeHandle=function(t,e,n){return qr.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return qr.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return qr.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return qr.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return qr.current.useReducer(t,e,n)};lt.useRef=function(t){return qr.current.useRef(t)};lt.useState=function(t){return qr.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return qr.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return qr.current.useTransition()};lt.version="18.3.1";i3.exports=lt;var P=i3.exports;const js=Nu(P),pM=ZL({__proto__:null,default:js},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gM=P,mM=Symbol.for("react.element"),yM=Symbol.for("react.fragment"),wM=Object.prototype.hasOwnProperty,vM=gM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bM={key:!0,ref:!0,__self:!0,__source:!0};function p3(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wM.call(e,r)&&!bM.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:mM,type:t,key:i,ref:o,props:s,_owner:vM.current}}ov.Fragment=yM;ov.jsx=p3;ov.jsxs=p3;s3.exports=ov;var g=s3.exports,hE={},g3={exports:{}},zs={},m3={exports:{}},y3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,$){var j=D.length;D.push($);e:for(;0<j;){var q=j-1>>>1,J=D[q];if(0<s(J,$))D[q]=$,D[j]=J,j=q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],j=D.pop();if(j!==$){D[0]=j;e:for(var q=0,J=D.length,se=J>>>1;q<se;){var ne=2*(q+1)-1,ie=D[ne],ye=ne+1,Y=D[ye];if(0>s(ie,j))ye<J&&0>s(Y,ie)?(D[q]=Y,D[ye]=j,q=ye):(D[q]=ie,D[ne]=j,q=ne);else if(ye<J&&0>s(Y,j))D[q]=Y,D[ye]=j,q=ye;else break e}}return $}function s(D,$){var j=D.sortIndex-$.sortIndex;return j!==0?j:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var $=n(l);$!==null;){if($.callback===null)r(l);else if($.startTime<=D)r(l),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(l)}}function E(D){if(m=!1,v(D),!p)if(n(c)!==null)p=!0,N(_);else{var $=n(l);$!==null&&L(E,$.startTime-D)}}function _(D,$){p=!1,m&&(m=!1,y(A),A=-1),f=!0;var j=h;try{for(v($),d=n(c);d!==null&&(!(d.expirationTime>$)||D&&!O());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var J=q(d.expirationTime<=$);$=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(c)&&r(c),v($)}else r(c);d=n(c)}if(d!==null)var se=!0;else{var ne=n(l);ne!==null&&L(E,ne.startTime-$),se=!1}return se}finally{d=null,h=j,f=!1}}var x=!1,S=null,A=-1,C=5,k=-1;function O(){return!(t.unstable_now()-k<C)}function B(){if(S!==null){var D=t.unstable_now();k=D;var $=!0;try{$=S(!0,D)}finally{$?F():(x=!1,S=null)}}else x=!1}var F;if(typeof b=="function")F=function(){b(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,I=V.port2;V.port1.onmessage=B,F=function(){I.postMessage(null)}}else F=function(){w(B,0)};function N(D){S=D,x||(x=!0,F())}function L(D,$){A=w(function(){D(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,N(_))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var j=h;h=$;try{return D()}finally{h=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var j=h;h=D;try{return $()}finally{h=j}},t.unstable_scheduleCallback=function(D,$,j){var q=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?q+j:q):j=q,D){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=j+J,D={id:u++,callback:$,priorityLevel:D,startTime:j,expirationTime:J,sortIndex:-1},j>q?(D.sortIndex=j,e(l,D),n(c)===null&&D===n(l)&&(m?(y(A),A=-1):m=!0,L(E,j-q))):(D.sortIndex=J,e(c,D),p||f||(p=!0,N(_))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var $=h;return function(){var j=h;h=$;try{return D.apply(this,arguments)}finally{h=j}}}})(y3);m3.exports=y3;var _M=m3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EM=P,Bs=_M;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w3=new Set,qp={};function Pu(t,e){gh(t,e),gh(t+"Capture",e)}function gh(t,e){for(qp[t]=e,t=0;t<e.length;t++)w3.add(e[t])}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fE=Object.prototype.hasOwnProperty,CM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vI={},bI={};function xM(t){return fE.call(bI,t)?!0:fE.call(vI,t)?!1:CM.test(t)?bI[t]=!0:(vI[t]=!0,!1)}function SM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AM(t,e,n,r){if(e===null||typeof e>"u"||SM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cr[t]=new Wr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cr[e]=new Wr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cr[t]=new Wr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cr[t]=new Wr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cr[t]=new Wr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cr[t]=new Wr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cr[t]=new Wr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cr[t]=new Wr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cr[t]=new Wr(t,5,!1,t.toLowerCase(),null,!1,!1)});var NS=/[\-:]([a-z])/g;function PS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(NS,PS);cr[e]=new Wr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(NS,PS);cr[e]=new Wr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(NS,PS);cr[e]=new Wr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!1,!1)});cr.xlinkHref=new Wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!0,!0)});function kS(t,e,n,r){var s=cr.hasOwnProperty(e)?cr[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AM(e,n,s,r)&&(n=null),r||s===null?xM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xa=EM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sy=Symbol.for("react.element"),Td=Symbol.for("react.portal"),Nd=Symbol.for("react.fragment"),OS=Symbol.for("react.strict_mode"),pE=Symbol.for("react.profiler"),v3=Symbol.for("react.provider"),b3=Symbol.for("react.context"),RS=Symbol.for("react.forward_ref"),gE=Symbol.for("react.suspense"),mE=Symbol.for("react.suspense_list"),$S=Symbol.for("react.memo"),Qa=Symbol.for("react.lazy"),_3=Symbol.for("react.offscreen"),_I=Symbol.iterator;function ff(t){return t===null||typeof t!="object"?null:(t=_I&&t[_I]||t["@@iterator"],typeof t=="function"?t:null)}var pn=Object.assign,Hb;function Kf(t){if(Hb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hb=e&&e[1]||""}return`
`+Hb+t}var Vb=!1;function Gb(t,e){if(!t||Vb)return"";Vb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Vb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kf(t):""}function IM(t){switch(t.tag){case 5:return Kf(t.type);case 16:return Kf("Lazy");case 13:return Kf("Suspense");case 19:return Kf("SuspenseList");case 0:case 2:case 15:return t=Gb(t.type,!1),t;case 11:return t=Gb(t.type.render,!1),t;case 1:return t=Gb(t.type,!0),t;default:return""}}function yE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nd:return"Fragment";case Td:return"Portal";case pE:return"Profiler";case OS:return"StrictMode";case gE:return"Suspense";case mE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b3:return(t.displayName||"Context")+".Consumer";case v3:return(t._context.displayName||"Context")+".Provider";case RS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $S:return e=t.displayName||null,e!==null?e:yE(t.type)||"Memo";case Qa:e=t._payload,t=t._init;try{return yE(t(e))}catch{}}return null}function TM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yE(e);case 8:return e===OS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function E3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NM(t){var e=E3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function iy(t){t._valueTracker||(t._valueTracker=NM(t))}function C3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=E3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wE(t,e){var n=e.checked;return pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function EI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function x3(t,e){e=e.checked,e!=null&&kS(t,"checked",e,!1)}function vE(t,e){x3(t,e);var n=Gc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bE(t,e.type,n):e.hasOwnProperty("defaultValue")&&bE(t,e.type,Gc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function CI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bE(t,e,n){(e!=="number"||Gw(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yf=Array.isArray;function qd(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gc(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _E(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return pn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(de(92));if(Yf(n)){if(1<n.length)throw Error(de(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gc(n)}}function S3(t,e){var n=Gc(e.value),r=Gc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function SI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function A3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function EE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?A3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oy,I3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(oy=oy||document.createElement("div"),oy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PM=["Webkit","ms","Moz","O"];Object.keys(dp).forEach(function(t){PM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dp[e]=dp[t]})});function T3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dp.hasOwnProperty(t)&&dp[t]?(""+e).trim():e+"px"}function N3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=T3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var kM=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function CE(t,e){if(e){if(kM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function xE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SE=null;function DS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var AE=null,Wd=null,Hd=null;function AI(t){if(t=mm(t)){if(typeof AE!="function")throw Error(de(280));var e=t.stateNode;e&&(e=dv(e),AE(t.stateNode,t.type,e))}}function P3(t){Wd?Hd?Hd.push(t):Hd=[t]:Wd=t}function k3(){if(Wd){var t=Wd,e=Hd;if(Hd=Wd=null,AI(t),e)for(t=0;t<e.length;t++)AI(e[t])}}function O3(t,e){return t(e)}function R3(){}var Kb=!1;function $3(t,e,n){if(Kb)return t(e,n);Kb=!0;try{return O3(t,e,n)}finally{Kb=!1,(Wd!==null||Hd!==null)&&(R3(),k3())}}function Hp(t,e){var n=t.stateNode;if(n===null)return null;var r=dv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(de(231,e,typeof n));return n}var IE=!1;if(pa)try{var pf={};Object.defineProperty(pf,"passive",{get:function(){IE=!0}}),window.addEventListener("test",pf,pf),window.removeEventListener("test",pf,pf)}catch{IE=!1}function OM(t,e,n,r,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var hp=!1,Kw=null,Yw=!1,TE=null,RM={onError:function(t){hp=!0,Kw=t}};function $M(t,e,n,r,s,i,o,a,c){hp=!1,Kw=null,OM.apply(RM,arguments)}function DM(t,e,n,r,s,i,o,a,c){if($M.apply(this,arguments),hp){if(hp){var l=Kw;hp=!1,Kw=null}else throw Error(de(198));Yw||(Yw=!0,TE=l)}}function ku(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function D3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function II(t){if(ku(t)!==t)throw Error(de(188))}function jM(t){var e=t.alternate;if(!e){if(e=ku(t),e===null)throw Error(de(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return II(s),t;if(i===r)return II(s),e;i=i.sibling}throw Error(de(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(de(189))}}if(n.alternate!==r)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?t:e}function j3(t){return t=jM(t),t!==null?U3(t):null}function U3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=U3(t);if(e!==null)return e;t=t.sibling}return null}var L3=Bs.unstable_scheduleCallback,TI=Bs.unstable_cancelCallback,UM=Bs.unstable_shouldYield,LM=Bs.unstable_requestPaint,_n=Bs.unstable_now,MM=Bs.unstable_getCurrentPriorityLevel,jS=Bs.unstable_ImmediatePriority,M3=Bs.unstable_UserBlockingPriority,Qw=Bs.unstable_NormalPriority,BM=Bs.unstable_LowPriority,B3=Bs.unstable_IdlePriority,av=null,vo=null;function FM(t){if(vo&&typeof vo.onCommitFiberRoot=="function")try{vo.onCommitFiberRoot(av,t,void 0,(t.current.flags&128)===128)}catch{}}var Bi=Math.clz32?Math.clz32:WM,zM=Math.log,qM=Math.LN2;function WM(t){return t>>>=0,t===0?32:31-(zM(t)/qM|0)|0}var ay=64,cy=4194304;function Qf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jw(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Qf(a):(i&=o,i!==0&&(r=Qf(i)))}else o=n&~s,o!==0?r=Qf(o):i!==0&&(r=Qf(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bi(e),s=1<<n,r|=t[n],e&=~s;return r}function HM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Bi(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=HM(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function NE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function F3(){var t=ay;return ay<<=1,!(ay&4194240)&&(ay=64),t}function Yb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bi(e),t[e]=n}function GM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Bi(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function US(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bi(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var jt=0;function z3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var q3,LS,W3,H3,V3,PE=!1,ly=[],Nc=null,Pc=null,kc=null,Vp=new Map,Gp=new Map,ic=[],KM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NI(t,e){switch(t){case"focusin":case"focusout":Nc=null;break;case"dragenter":case"dragleave":Pc=null;break;case"mouseover":case"mouseout":kc=null;break;case"pointerover":case"pointerout":Vp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gp.delete(e.pointerId)}}function gf(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=mm(e),e!==null&&LS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function YM(t,e,n,r,s){switch(e){case"focusin":return Nc=gf(Nc,t,e,n,r,s),!0;case"dragenter":return Pc=gf(Pc,t,e,n,r,s),!0;case"mouseover":return kc=gf(kc,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vp.set(i,gf(Vp.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Gp.set(i,gf(Gp.get(i)||null,t,e,n,r,s)),!0}return!1}function G3(t){var e=Ol(t.target);if(e!==null){var n=ku(e);if(n!==null){if(e=n.tag,e===13){if(e=D3(n),e!==null){t.blockedOn=e,V3(t.priority,function(){W3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yw(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);SE=r,n.target.dispatchEvent(r),SE=null}else return e=mm(n),e!==null&&LS(e),t.blockedOn=n,!1;e.shift()}return!0}function PI(t,e,n){yw(t)&&n.delete(e)}function QM(){PE=!1,Nc!==null&&yw(Nc)&&(Nc=null),Pc!==null&&yw(Pc)&&(Pc=null),kc!==null&&yw(kc)&&(kc=null),Vp.forEach(PI),Gp.forEach(PI)}function mf(t,e){t.blockedOn===e&&(t.blockedOn=null,PE||(PE=!0,Bs.unstable_scheduleCallback(Bs.unstable_NormalPriority,QM)))}function Kp(t){function e(s){return mf(s,t)}if(0<ly.length){mf(ly[0],t);for(var n=1;n<ly.length;n++){var r=ly[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Nc!==null&&mf(Nc,t),Pc!==null&&mf(Pc,t),kc!==null&&mf(kc,t),Vp.forEach(e),Gp.forEach(e),n=0;n<ic.length;n++)r=ic[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ic.length&&(n=ic[0],n.blockedOn===null);)G3(n),n.blockedOn===null&&ic.shift()}var Vd=xa.ReactCurrentBatchConfig,Zw=!0;function JM(t,e,n,r){var s=jt,i=Vd.transition;Vd.transition=null;try{jt=1,MS(t,e,n,r)}finally{jt=s,Vd.transition=i}}function ZM(t,e,n,r){var s=jt,i=Vd.transition;Vd.transition=null;try{jt=4,MS(t,e,n,r)}finally{jt=s,Vd.transition=i}}function MS(t,e,n,r){if(Zw){var s=kE(t,e,n,r);if(s===null)i1(t,e,r,Xw,n),NI(t,r);else if(YM(s,t,e,n,r))r.stopPropagation();else if(NI(t,r),e&4&&-1<KM.indexOf(t)){for(;s!==null;){var i=mm(s);if(i!==null&&q3(i),i=kE(t,e,n,r),i===null&&i1(t,e,r,Xw,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else i1(t,e,r,null,n)}}var Xw=null;function kE(t,e,n,r){if(Xw=null,t=DS(r),t=Ol(t),t!==null)if(e=ku(t),e===null)t=null;else if(n=e.tag,n===13){if(t=D3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xw=t,null}function K3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MM()){case jS:return 1;case M3:return 4;case Qw:case BM:return 16;case B3:return 536870912;default:return 16}default:return 16}}var _c=null,BS=null,ww=null;function Y3(){if(ww)return ww;var t,e=BS,n=e.length,r,s="value"in _c?_c.value:_c.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ww=s.slice(t,1<r?1-r:void 0)}function vw(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uy(){return!0}function kI(){return!1}function qs(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?uy:kI,this.isPropagationStopped=kI,this}return pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uy)},persist:function(){},isPersistent:uy}),e}var Lh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},FS=qs(Lh),gm=pn({},Lh,{view:0,detail:0}),XM=qs(gm),Qb,Jb,yf,cv=pn({},gm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yf&&(yf&&t.type==="mousemove"?(Qb=t.screenX-yf.screenX,Jb=t.screenY-yf.screenY):Jb=Qb=0,yf=t),Qb)},movementY:function(t){return"movementY"in t?t.movementY:Jb}}),OI=qs(cv),eB=pn({},cv,{dataTransfer:0}),tB=qs(eB),nB=pn({},gm,{relatedTarget:0}),Zb=qs(nB),rB=pn({},Lh,{animationName:0,elapsedTime:0,pseudoElement:0}),sB=qs(rB),iB=pn({},Lh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oB=qs(iB),aB=pn({},Lh,{data:0}),RI=qs(aB),cB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uB[t])?!!e[t]:!1}function zS(){return dB}var hB=pn({},gm,{key:function(t){if(t.key){var e=cB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vw(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zS,charCode:function(t){return t.type==="keypress"?vw(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vw(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fB=qs(hB),pB=pn({},cv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$I=qs(pB),gB=pn({},gm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zS}),mB=qs(gB),yB=pn({},Lh,{propertyName:0,elapsedTime:0,pseudoElement:0}),wB=qs(yB),vB=pn({},cv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bB=qs(vB),_B=[9,13,27,32],qS=pa&&"CompositionEvent"in window,fp=null;pa&&"documentMode"in document&&(fp=document.documentMode);var EB=pa&&"TextEvent"in window&&!fp,Q3=pa&&(!qS||fp&&8<fp&&11>=fp),DI=" ",jI=!1;function J3(t,e){switch(t){case"keyup":return _B.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pd=!1;function CB(t,e){switch(t){case"compositionend":return Z3(e);case"keypress":return e.which!==32?null:(jI=!0,DI);case"textInput":return t=e.data,t===DI&&jI?null:t;default:return null}}function xB(t,e){if(Pd)return t==="compositionend"||!qS&&J3(t,e)?(t=Y3(),ww=BS=_c=null,Pd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Q3&&e.locale!=="ko"?null:e.data;default:return null}}var SB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SB[t.type]:e==="textarea"}function X3(t,e,n,r){P3(r),e=e0(e,"onChange"),0<e.length&&(n=new FS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pp=null,Yp=null;function AB(t){u$(t,0)}function lv(t){var e=Rd(t);if(C3(e))return t}function IB(t,e){if(t==="change")return e}var e$=!1;if(pa){var Xb;if(pa){var e1="oninput"in document;if(!e1){var LI=document.createElement("div");LI.setAttribute("oninput","return;"),e1=typeof LI.oninput=="function"}Xb=e1}else Xb=!1;e$=Xb&&(!document.documentMode||9<document.documentMode)}function MI(){pp&&(pp.detachEvent("onpropertychange",t$),Yp=pp=null)}function t$(t){if(t.propertyName==="value"&&lv(Yp)){var e=[];X3(e,Yp,t,DS(t)),$3(AB,e)}}function TB(t,e,n){t==="focusin"?(MI(),pp=e,Yp=n,pp.attachEvent("onpropertychange",t$)):t==="focusout"&&MI()}function NB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lv(Yp)}function PB(t,e){if(t==="click")return lv(e)}function kB(t,e){if(t==="input"||t==="change")return lv(e)}function OB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hi=typeof Object.is=="function"?Object.is:OB;function Qp(t,e){if(Hi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!fE.call(e,s)||!Hi(t[s],e[s]))return!1}return!0}function BI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function FI(t,e){var n=BI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=BI(n)}}function n$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function r$(){for(var t=window,e=Gw();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gw(t.document)}return e}function WS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function RB(t){var e=r$(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&n$(n.ownerDocument.documentElement,n)){if(r!==null&&WS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=FI(n,i);var o=FI(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $B=pa&&"documentMode"in document&&11>=document.documentMode,kd=null,OE=null,gp=null,RE=!1;function zI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;RE||kd==null||kd!==Gw(r)||(r=kd,"selectionStart"in r&&WS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gp&&Qp(gp,r)||(gp=r,r=e0(OE,"onSelect"),0<r.length&&(e=new FS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=kd)))}function dy(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Od={animationend:dy("Animation","AnimationEnd"),animationiteration:dy("Animation","AnimationIteration"),animationstart:dy("Animation","AnimationStart"),transitionend:dy("Transition","TransitionEnd")},t1={},s$={};pa&&(s$=document.createElement("div").style,"AnimationEvent"in window||(delete Od.animationend.animation,delete Od.animationiteration.animation,delete Od.animationstart.animation),"TransitionEvent"in window||delete Od.transitionend.transition);function uv(t){if(t1[t])return t1[t];if(!Od[t])return t;var e=Od[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in s$)return t1[t]=e[n];return t}var i$=uv("animationend"),o$=uv("animationiteration"),a$=uv("animationstart"),c$=uv("transitionend"),l$=new Map,qI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sl(t,e){l$.set(t,e),Pu(e,[t])}for(var n1=0;n1<qI.length;n1++){var r1=qI[n1],DB=r1.toLowerCase(),jB=r1[0].toUpperCase()+r1.slice(1);sl(DB,"on"+jB)}sl(i$,"onAnimationEnd");sl(o$,"onAnimationIteration");sl(a$,"onAnimationStart");sl("dblclick","onDoubleClick");sl("focusin","onFocus");sl("focusout","onBlur");sl(c$,"onTransitionEnd");gh("onMouseEnter",["mouseout","mouseover"]);gh("onMouseLeave",["mouseout","mouseover"]);gh("onPointerEnter",["pointerout","pointerover"]);gh("onPointerLeave",["pointerout","pointerover"]);Pu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jf));function WI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DM(r,e,void 0,t),t.currentTarget=null}function u$(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;WI(s,a,l),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;WI(s,a,l),i=c}}}if(Yw)throw t=TE,Yw=!1,TE=null,t}function Xt(t,e){var n=e[LE];n===void 0&&(n=e[LE]=new Set);var r=t+"__bubble";n.has(r)||(d$(e,t,2,!1),n.add(r))}function s1(t,e,n){var r=0;e&&(r|=4),d$(n,t,r,e)}var hy="_reactListening"+Math.random().toString(36).slice(2);function Jp(t){if(!t[hy]){t[hy]=!0,w3.forEach(function(n){n!=="selectionchange"&&(UB.has(n)||s1(n,!1,t),s1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hy]||(e[hy]=!0,s1("selectionchange",!1,e))}}function d$(t,e,n,r){switch(K3(e)){case 1:var s=JM;break;case 4:s=ZM;break;default:s=MS}n=s.bind(null,e,n,t),s=void 0,!IE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function i1(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ol(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}$3(function(){var l=i,u=DS(n),d=[];e:{var h=l$.get(t);if(h!==void 0){var f=FS,p=t;switch(t){case"keypress":if(vw(n)===0)break e;case"keydown":case"keyup":f=fB;break;case"focusin":p="focus",f=Zb;break;case"focusout":p="blur",f=Zb;break;case"beforeblur":case"afterblur":f=Zb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=OI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=tB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=mB;break;case i$:case o$:case a$:f=sB;break;case c$:f=wB;break;case"scroll":f=XM;break;case"wheel":f=bB;break;case"copy":case"cut":case"paste":f=oB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=$I}var m=(e&4)!==0,w=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var b=l,v;b!==null;){v=b;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,y!==null&&(E=Hp(b,y),E!=null&&m.push(Zp(b,E,v)))),w)break;b=b.return}0<m.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==SE&&(p=n.relatedTarget||n.fromElement)&&(Ol(p)||p[ga]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=l,p=p?Ol(p):null,p!==null&&(w=ku(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=l),f!==p)){if(m=OI,E="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=$I,E="onPointerLeave",y="onPointerEnter",b="pointer"),w=f==null?h:Rd(f),v=p==null?h:Rd(p),h=new m(E,b+"leave",f,n,u),h.target=w,h.relatedTarget=v,E=null,Ol(u)===l&&(m=new m(y,b+"enter",p,n,u),m.target=v,m.relatedTarget=w,E=m),w=E,f&&p)t:{for(m=f,y=p,b=0,v=m;v;v=Gu(v))b++;for(v=0,E=y;E;E=Gu(E))v++;for(;0<b-v;)m=Gu(m),b--;for(;0<v-b;)y=Gu(y),v--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=Gu(m),y=Gu(y)}m=null}else m=null;f!==null&&HI(d,h,f,m,!1),p!==null&&w!==null&&HI(d,w,p,m,!0)}}e:{if(h=l?Rd(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var _=IB;else if(UI(h))if(e$)_=kB;else{_=NB;var x=TB}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=PB);if(_&&(_=_(t,l))){X3(d,_,n,u);break e}x&&x(t,h,l),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&bE(h,"number",h.value)}switch(x=l?Rd(l):window,t){case"focusin":(UI(x)||x.contentEditable==="true")&&(kd=x,OE=l,gp=null);break;case"focusout":gp=OE=kd=null;break;case"mousedown":RE=!0;break;case"contextmenu":case"mouseup":case"dragend":RE=!1,zI(d,n,u);break;case"selectionchange":if($B)break;case"keydown":case"keyup":zI(d,n,u)}var S;if(qS)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Pd?J3(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Q3&&n.locale!=="ko"&&(Pd||A!=="onCompositionStart"?A==="onCompositionEnd"&&Pd&&(S=Y3()):(_c=u,BS="value"in _c?_c.value:_c.textContent,Pd=!0)),x=e0(l,A),0<x.length&&(A=new RI(A,t,null,n,u),d.push({event:A,listeners:x}),S?A.data=S:(S=Z3(n),S!==null&&(A.data=S)))),(S=EB?CB(t,n):xB(t,n))&&(l=e0(l,"onBeforeInput"),0<l.length&&(u=new RI("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=S))}u$(d,e)})}function Zp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function e0(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Hp(t,n),i!=null&&r.unshift(Zp(t,i,s)),i=Hp(t,e),i!=null&&r.push(Zp(t,i,s))),t=t.return}return r}function Gu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function HI(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,s?(c=Hp(n,i),c!=null&&o.unshift(Zp(n,c,a))):s||(c=Hp(n,i),c!=null&&o.push(Zp(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var LB=/\r\n?/g,MB=/\u0000|\uFFFD/g;function VI(t){return(typeof t=="string"?t:""+t).replace(LB,`
`).replace(MB,"")}function fy(t,e,n){if(e=VI(e),VI(t)!==e&&n)throw Error(de(425))}function t0(){}var $E=null,DE=null;function jE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var UE=typeof setTimeout=="function"?setTimeout:void 0,BB=typeof clearTimeout=="function"?clearTimeout:void 0,GI=typeof Promise=="function"?Promise:void 0,FB=typeof queueMicrotask=="function"?queueMicrotask:typeof GI<"u"?function(t){return GI.resolve(null).then(t).catch(zB)}:UE;function zB(t){setTimeout(function(){throw t})}function o1(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Kp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Kp(e)}function Oc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function KI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mh=Math.random().toString(36).slice(2),mo="__reactFiber$"+Mh,Xp="__reactProps$"+Mh,ga="__reactContainer$"+Mh,LE="__reactEvents$"+Mh,qB="__reactListeners$"+Mh,WB="__reactHandles$"+Mh;function Ol(t){var e=t[mo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ga]||n[mo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=KI(t);t!==null;){if(n=t[mo])return n;t=KI(t)}return e}t=n,n=t.parentNode}return null}function mm(t){return t=t[mo]||t[ga],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function dv(t){return t[Xp]||null}var ME=[],$d=-1;function il(t){return{current:t}}function nn(t){0>$d||(t.current=ME[$d],ME[$d]=null,$d--)}function Yt(t,e){$d++,ME[$d]=t.current,t.current=e}var Kc={},Ir=il(Kc),ys=il(!1),ou=Kc;function mh(t,e){var n=t.type.contextTypes;if(!n)return Kc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ws(t){return t=t.childContextTypes,t!=null}function n0(){nn(ys),nn(Ir)}function YI(t,e,n){if(Ir.current!==Kc)throw Error(de(168));Yt(Ir,e),Yt(ys,n)}function h$(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(de(108,TM(t)||"Unknown",s));return pn({},n,r)}function r0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kc,ou=Ir.current,Yt(Ir,t),Yt(ys,ys.current),!0}function QI(t,e,n){var r=t.stateNode;if(!r)throw Error(de(169));n?(t=h$(t,e,ou),r.__reactInternalMemoizedMergedChildContext=t,nn(ys),nn(Ir),Yt(Ir,t)):nn(ys),Yt(ys,n)}var Zo=null,hv=!1,a1=!1;function f$(t){Zo===null?Zo=[t]:Zo.push(t)}function HB(t){hv=!0,f$(t)}function ol(){if(!a1&&Zo!==null){a1=!0;var t=0,e=jt;try{var n=Zo;for(jt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zo=null,hv=!1}catch(s){throw Zo!==null&&(Zo=Zo.slice(t+1)),L3(jS,ol),s}finally{jt=e,a1=!1}}return null}var Dd=[],jd=0,s0=null,i0=0,si=[],ii=0,au=null,ia=1,oa="";function El(t,e){Dd[jd++]=i0,Dd[jd++]=s0,s0=t,i0=e}function p$(t,e,n){si[ii++]=ia,si[ii++]=oa,si[ii++]=au,au=t;var r=ia;t=oa;var s=32-Bi(r)-1;r&=~(1<<s),n+=1;var i=32-Bi(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ia=1<<32-Bi(e)+s|n<<s|r,oa=i+t}else ia=1<<i|n<<s|r,oa=t}function HS(t){t.return!==null&&(El(t,1),p$(t,1,0))}function VS(t){for(;t===s0;)s0=Dd[--jd],Dd[jd]=null,i0=Dd[--jd],Dd[jd]=null;for(;t===au;)au=si[--ii],si[ii]=null,oa=si[--ii],si[ii]=null,ia=si[--ii],si[ii]=null}var Us=null,$s=null,on=!1,Ri=null;function g$(t,e){var n=oi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function JI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Us=t,$s=Oc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Us=t,$s=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=au!==null?{id:ia,overflow:oa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=oi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Us=t,$s=null,!0):!1;default:return!1}}function BE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function FE(t){if(on){var e=$s;if(e){var n=e;if(!JI(t,e)){if(BE(t))throw Error(de(418));e=Oc(n.nextSibling);var r=Us;e&&JI(t,e)?g$(r,n):(t.flags=t.flags&-4097|2,on=!1,Us=t)}}else{if(BE(t))throw Error(de(418));t.flags=t.flags&-4097|2,on=!1,Us=t}}}function ZI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Us=t}function py(t){if(t!==Us)return!1;if(!on)return ZI(t),on=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jE(t.type,t.memoizedProps)),e&&(e=$s)){if(BE(t))throw m$(),Error(de(418));for(;e;)g$(t,e),e=Oc(e.nextSibling)}if(ZI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$s=Oc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$s=null}}else $s=Us?Oc(t.stateNode.nextSibling):null;return!0}function m$(){for(var t=$s;t;)t=Oc(t.nextSibling)}function yh(){$s=Us=null,on=!1}function GS(t){Ri===null?Ri=[t]:Ri.push(t)}var VB=xa.ReactCurrentBatchConfig;function wf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var r=n.stateNode}if(!r)throw Error(de(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,t))}return t}function gy(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function XI(t){var e=t._init;return e(t._payload)}function y$(t){function e(y,b){if(t){var v=y.deletions;v===null?(y.deletions=[b],y.flags|=16):v.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function s(y,b){return y=jc(y,b),y.index=0,y.sibling=null,y}function i(y,b,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<b?(y.flags|=2,b):v):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,v,E){return b===null||b.tag!==6?(b=p1(v,y.mode,E),b.return=y,b):(b=s(b,v),b.return=y,b)}function c(y,b,v,E){var _=v.type;return _===Nd?u(y,b,v.props.children,E,v.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Qa&&XI(_)===b.type)?(E=s(b,v.props),E.ref=wf(y,b,v),E.return=y,E):(E=Aw(v.type,v.key,v.props,null,y.mode,E),E.ref=wf(y,b,v),E.return=y,E)}function l(y,b,v,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=g1(v,y.mode,E),b.return=y,b):(b=s(b,v.children||[]),b.return=y,b)}function u(y,b,v,E,_){return b===null||b.tag!==7?(b=eu(v,y.mode,E,_),b.return=y,b):(b=s(b,v),b.return=y,b)}function d(y,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=p1(""+b,y.mode,v),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case sy:return v=Aw(b.type,b.key,b.props,null,y.mode,v),v.ref=wf(y,null,b),v.return=y,v;case Td:return b=g1(b,y.mode,v),b.return=y,b;case Qa:var E=b._init;return d(y,E(b._payload),v)}if(Yf(b)||ff(b))return b=eu(b,y.mode,v,null),b.return=y,b;gy(y,b)}return null}function h(y,b,v,E){var _=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:a(y,b,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case sy:return v.key===_?c(y,b,v,E):null;case Td:return v.key===_?l(y,b,v,E):null;case Qa:return _=v._init,h(y,b,_(v._payload),E)}if(Yf(v)||ff(v))return _!==null?null:u(y,b,v,E,null);gy(y,v)}return null}function f(y,b,v,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(v)||null,a(b,y,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case sy:return y=y.get(E.key===null?v:E.key)||null,c(b,y,E,_);case Td:return y=y.get(E.key===null?v:E.key)||null,l(b,y,E,_);case Qa:var x=E._init;return f(y,b,v,x(E._payload),_)}if(Yf(E)||ff(E))return y=y.get(v)||null,u(b,y,E,_,null);gy(b,E)}return null}function p(y,b,v,E){for(var _=null,x=null,S=b,A=b=0,C=null;S!==null&&A<v.length;A++){S.index>A?(C=S,S=null):C=S.sibling;var k=h(y,S,v[A],E);if(k===null){S===null&&(S=C);break}t&&S&&k.alternate===null&&e(y,S),b=i(k,b,A),x===null?_=k:x.sibling=k,x=k,S=C}if(A===v.length)return n(y,S),on&&El(y,A),_;if(S===null){for(;A<v.length;A++)S=d(y,v[A],E),S!==null&&(b=i(S,b,A),x===null?_=S:x.sibling=S,x=S);return on&&El(y,A),_}for(S=r(y,S);A<v.length;A++)C=f(S,y,A,v[A],E),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?A:C.key),b=i(C,b,A),x===null?_=C:x.sibling=C,x=C);return t&&S.forEach(function(O){return e(y,O)}),on&&El(y,A),_}function m(y,b,v,E){var _=ff(v);if(typeof _!="function")throw Error(de(150));if(v=_.call(v),v==null)throw Error(de(151));for(var x=_=null,S=b,A=b=0,C=null,k=v.next();S!==null&&!k.done;A++,k=v.next()){S.index>A?(C=S,S=null):C=S.sibling;var O=h(y,S,k.value,E);if(O===null){S===null&&(S=C);break}t&&S&&O.alternate===null&&e(y,S),b=i(O,b,A),x===null?_=O:x.sibling=O,x=O,S=C}if(k.done)return n(y,S),on&&El(y,A),_;if(S===null){for(;!k.done;A++,k=v.next())k=d(y,k.value,E),k!==null&&(b=i(k,b,A),x===null?_=k:x.sibling=k,x=k);return on&&El(y,A),_}for(S=r(y,S);!k.done;A++,k=v.next())k=f(S,y,A,k.value,E),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?A:k.key),b=i(k,b,A),x===null?_=k:x.sibling=k,x=k);return t&&S.forEach(function(B){return e(y,B)}),on&&El(y,A),_}function w(y,b,v,E){if(typeof v=="object"&&v!==null&&v.type===Nd&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case sy:e:{for(var _=v.key,x=b;x!==null;){if(x.key===_){if(_=v.type,_===Nd){if(x.tag===7){n(y,x.sibling),b=s(x,v.props.children),b.return=y,y=b;break e}}else if(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Qa&&XI(_)===x.type){n(y,x.sibling),b=s(x,v.props),b.ref=wf(y,x,v),b.return=y,y=b;break e}n(y,x);break}else e(y,x);x=x.sibling}v.type===Nd?(b=eu(v.props.children,y.mode,E,v.key),b.return=y,y=b):(E=Aw(v.type,v.key,v.props,null,y.mode,E),E.ref=wf(y,b,v),E.return=y,y=E)}return o(y);case Td:e:{for(x=v.key;b!==null;){if(b.key===x)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){n(y,b.sibling),b=s(b,v.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=g1(v,y.mode,E),b.return=y,y=b}return o(y);case Qa:return x=v._init,w(y,b,x(v._payload),E)}if(Yf(v))return p(y,b,v,E);if(ff(v))return m(y,b,v,E);gy(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(n(y,b.sibling),b=s(b,v),b.return=y,y=b):(n(y,b),b=p1(v,y.mode,E),b.return=y,y=b),o(y)):n(y,b)}return w}var wh=y$(!0),w$=y$(!1),o0=il(null),a0=null,Ud=null,KS=null;function YS(){KS=Ud=a0=null}function QS(t){var e=o0.current;nn(o0),t._currentValue=e}function zE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Gd(t,e){a0=t,KS=Ud=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gs=!0),t.firstContext=null)}function li(t){var e=t._currentValue;if(KS!==t)if(t={context:t,memoizedValue:e,next:null},Ud===null){if(a0===null)throw Error(de(308));Ud=t,a0.dependencies={lanes:0,firstContext:t}}else Ud=Ud.next=t;return e}var Rl=null;function JS(t){Rl===null?Rl=[t]:Rl.push(t)}function v$(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,JS(e)):(n.next=s.next,s.next=n),e.interleaved=n,ma(t,r)}function ma(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ja=!1;function ZS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ca(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,wt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ma(t,n)}return s=r.interleaved,s===null?(e.next=e,JS(r)):(e.next=s.next,s.next=e),r.interleaved=e,ma(t,n)}function bw(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,US(t,n)}}function eT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function c0(t,e,n,r){var s=t.updateQueue;Ja=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,u=l=c=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=pn({},d,h);break e;case 2:Ja=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=f,c=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=d),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);lu|=o,t.lanes=o,t.memoizedState=d}}function tT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(de(191,s));s.call(r)}}}var ym={},bo=il(ym),eg=il(ym),tg=il(ym);function $l(t){if(t===ym)throw Error(de(174));return t}function XS(t,e){switch(Yt(tg,e),Yt(eg,t),Yt(bo,ym),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:EE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=EE(e,t)}nn(bo),Yt(bo,e)}function vh(){nn(bo),nn(eg),nn(tg)}function _$(t){$l(tg.current);var e=$l(bo.current),n=EE(e,t.type);e!==n&&(Yt(eg,t),Yt(bo,n))}function eA(t){eg.current===t&&(nn(bo),nn(eg))}var dn=il(0);function l0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var c1=[];function tA(){for(var t=0;t<c1.length;t++)c1[t]._workInProgressVersionPrimary=null;c1.length=0}var _w=xa.ReactCurrentDispatcher,l1=xa.ReactCurrentBatchConfig,cu=0,fn=null,Dn=null,Hn=null,u0=!1,mp=!1,ng=0,GB=0;function gr(){throw Error(de(321))}function nA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hi(t[n],e[n]))return!1;return!0}function rA(t,e,n,r,s,i){if(cu=i,fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_w.current=t===null||t.memoizedState===null?JB:ZB,t=n(r,s),mp){i=0;do{if(mp=!1,ng=0,25<=i)throw Error(de(301));i+=1,Hn=Dn=null,e.updateQueue=null,_w.current=XB,t=n(r,s)}while(mp)}if(_w.current=d0,e=Dn!==null&&Dn.next!==null,cu=0,Hn=Dn=fn=null,u0=!1,e)throw Error(de(300));return t}function sA(){var t=ng!==0;return ng=0,t}function oo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?fn.memoizedState=Hn=t:Hn=Hn.next=t,Hn}function ui(){if(Dn===null){var t=fn.alternate;t=t!==null?t.memoizedState:null}else t=Dn.next;var e=Hn===null?fn.memoizedState:Hn.next;if(e!==null)Hn=e,Dn=t;else{if(t===null)throw Error(de(310));Dn=t,t={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Hn===null?fn.memoizedState=Hn=t:Hn=Hn.next=t}return Hn}function rg(t,e){return typeof e=="function"?e(t):e}function u1(t){var e=ui(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=Dn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,l=i;do{var u=l.lane;if((cu&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,fn.lanes|=u,lu|=u}l=l.next}while(l!==null&&l!==i);c===null?o=r:c.next=a,Hi(r,e.memoizedState)||(gs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,fn.lanes|=i,lu|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function d1(t){var e=ui(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Hi(i,e.memoizedState)||(gs=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function E$(){}function C$(t,e){var n=fn,r=ui(),s=e(),i=!Hi(r.memoizedState,s);if(i&&(r.memoizedState=s,gs=!0),r=r.queue,iA(A$.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Hn!==null&&Hn.memoizedState.tag&1){if(n.flags|=2048,sg(9,S$.bind(null,n,r,s,e),void 0,null),Yn===null)throw Error(de(349));cu&30||x$(n,e,s)}return s}function x$(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function S$(t,e,n,r){e.value=n,e.getSnapshot=r,I$(e)&&T$(t)}function A$(t,e,n){return n(function(){I$(e)&&T$(t)})}function I$(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hi(t,n)}catch{return!0}}function T$(t){var e=ma(t,1);e!==null&&Fi(e,t,1,-1)}function nT(t){var e=oo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:t},e.queue=t,t=t.dispatch=QB.bind(null,fn,t),[e.memoizedState,t]}function sg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function N$(){return ui().memoizedState}function Ew(t,e,n,r){var s=oo();fn.flags|=t,s.memoizedState=sg(1|e,n,void 0,r===void 0?null:r)}function fv(t,e,n,r){var s=ui();r=r===void 0?null:r;var i=void 0;if(Dn!==null){var o=Dn.memoizedState;if(i=o.destroy,r!==null&&nA(r,o.deps)){s.memoizedState=sg(e,n,i,r);return}}fn.flags|=t,s.memoizedState=sg(1|e,n,i,r)}function rT(t,e){return Ew(8390656,8,t,e)}function iA(t,e){return fv(2048,8,t,e)}function P$(t,e){return fv(4,2,t,e)}function k$(t,e){return fv(4,4,t,e)}function O$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function R$(t,e,n){return n=n!=null?n.concat([t]):null,fv(4,4,O$.bind(null,e,t),n)}function oA(){}function $$(t,e){var n=ui();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nA(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function D$(t,e){var n=ui();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nA(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function j$(t,e,n){return cu&21?(Hi(n,e)||(n=F3(),fn.lanes|=n,lu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gs=!0),t.memoizedState=n)}function KB(t,e){var n=jt;jt=n!==0&&4>n?n:4,t(!0);var r=l1.transition;l1.transition={};try{t(!1),e()}finally{jt=n,l1.transition=r}}function U$(){return ui().memoizedState}function YB(t,e,n){var r=Dc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L$(t))M$(e,n);else if(n=v$(t,e,n,r),n!==null){var s=Ur();Fi(n,t,r,s),B$(n,e,r)}}function QB(t,e,n){var r=Dc(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L$(t))M$(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Hi(a,o)){var c=e.interleaved;c===null?(s.next=s,JS(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=v$(t,e,s,r),n!==null&&(s=Ur(),Fi(n,t,r,s),B$(n,e,r))}}function L$(t){var e=t.alternate;return t===fn||e!==null&&e===fn}function M$(t,e){mp=u0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function B$(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,US(t,n)}}var d0={readContext:li,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},JB={readContext:li,useCallback:function(t,e){return oo().memoizedState=[t,e===void 0?null:e],t},useContext:li,useEffect:rT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ew(4194308,4,O$.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ew(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ew(4,2,t,e)},useMemo:function(t,e){var n=oo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=oo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=YB.bind(null,fn,t),[r.memoizedState,t]},useRef:function(t){var e=oo();return t={current:t},e.memoizedState=t},useState:nT,useDebugValue:oA,useDeferredValue:function(t){return oo().memoizedState=t},useTransition:function(){var t=nT(!1),e=t[0];return t=KB.bind(null,t[1]),oo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fn,s=oo();if(on){if(n===void 0)throw Error(de(407));n=n()}else{if(n=e(),Yn===null)throw Error(de(349));cu&30||x$(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,rT(A$.bind(null,r,i,t),[t]),r.flags|=2048,sg(9,S$.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=oo(),e=Yn.identifierPrefix;if(on){var n=oa,r=ia;n=(r&~(1<<32-Bi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ng++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZB={readContext:li,useCallback:$$,useContext:li,useEffect:iA,useImperativeHandle:R$,useInsertionEffect:P$,useLayoutEffect:k$,useMemo:D$,useReducer:u1,useRef:N$,useState:function(){return u1(rg)},useDebugValue:oA,useDeferredValue:function(t){var e=ui();return j$(e,Dn.memoizedState,t)},useTransition:function(){var t=u1(rg)[0],e=ui().memoizedState;return[t,e]},useMutableSource:E$,useSyncExternalStore:C$,useId:U$,unstable_isNewReconciler:!1},XB={readContext:li,useCallback:$$,useContext:li,useEffect:iA,useImperativeHandle:R$,useInsertionEffect:P$,useLayoutEffect:k$,useMemo:D$,useReducer:d1,useRef:N$,useState:function(){return d1(rg)},useDebugValue:oA,useDeferredValue:function(t){var e=ui();return Dn===null?e.memoizedState=t:j$(e,Dn.memoizedState,t)},useTransition:function(){var t=d1(rg)[0],e=ui().memoizedState;return[t,e]},useMutableSource:E$,useSyncExternalStore:C$,useId:U$,unstable_isNewReconciler:!1};function Ti(t,e){if(t&&t.defaultProps){e=pn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var pv={isMounted:function(t){return(t=t._reactInternals)?ku(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ur(),s=Dc(t),i=ca(r,s);i.payload=e,n!=null&&(i.callback=n),e=Rc(t,i,s),e!==null&&(Fi(e,t,s,r),bw(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ur(),s=Dc(t),i=ca(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Rc(t,i,s),e!==null&&(Fi(e,t,s,r),bw(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ur(),r=Dc(t),s=ca(n,r);s.tag=2,e!=null&&(s.callback=e),e=Rc(t,s,r),e!==null&&(Fi(e,t,r,n),bw(e,t,r))}};function sT(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Qp(n,r)||!Qp(s,i):!0}function F$(t,e,n){var r=!1,s=Kc,i=e.contextType;return typeof i=="object"&&i!==null?i=li(i):(s=ws(e)?ou:Ir.current,r=e.contextTypes,i=(r=r!=null)?mh(t,s):Kc),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function iT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&pv.enqueueReplaceState(e,e.state,null)}function WE(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ZS(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=li(i):(i=ws(e)?ou:Ir.current,s.context=mh(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(qE(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&pv.enqueueReplaceState(s,s.state,null),c0(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function bh(t,e){try{var n="",r=e;do n+=IM(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function h1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function HE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eF=typeof WeakMap=="function"?WeakMap:Map;function z$(t,e,n){n=ca(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){f0||(f0=!0,tC=r),HE(t,e)},n}function q$(t,e,n){n=ca(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){HE(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){HE(t,e),typeof r!="function"&&($c===null?$c=new Set([this]):$c.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function oT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eF;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=pF.bind(null,t,e,n),e.then(t,t))}function aT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cT(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ca(-1,1),e.tag=2,Rc(n,e,1))),n.lanes|=1),t)}var tF=xa.ReactCurrentOwner,gs=!1;function $r(t,e,n,r){e.child=t===null?w$(e,null,n,r):wh(e,t.child,n,r)}function lT(t,e,n,r,s){n=n.render;var i=e.ref;return Gd(e,s),r=rA(t,e,n,r,i,s),n=sA(),t!==null&&!gs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ya(t,e,s)):(on&&n&&HS(e),e.flags|=1,$r(t,e,r,s),e.child)}function uT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!pA(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,W$(t,e,i,r,s)):(t=Aw(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Qp,n(o,r)&&t.ref===e.ref)return ya(t,e,s)}return e.flags|=1,t=jc(i,r),t.ref=e.ref,t.return=e,e.child=t}function W$(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Qp(i,r)&&t.ref===e.ref)if(gs=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(gs=!0);else return e.lanes=t.lanes,ya(t,e,s)}return VE(t,e,n,r,s)}function H$(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(Md,Ps),Ps|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Yt(Md,Ps),Ps|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Yt(Md,Ps),Ps|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Yt(Md,Ps),Ps|=r;return $r(t,e,s,n),e.child}function V$(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function VE(t,e,n,r,s){var i=ws(n)?ou:Ir.current;return i=mh(e,i),Gd(e,s),n=rA(t,e,n,r,i,s),r=sA(),t!==null&&!gs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ya(t,e,s)):(on&&r&&HS(e),e.flags|=1,$r(t,e,n,s),e.child)}function dT(t,e,n,r,s){if(ws(n)){var i=!0;r0(e)}else i=!1;if(Gd(e,s),e.stateNode===null)Cw(t,e),F$(e,n,r),WE(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=li(l):(l=ws(n)?ou:Ir.current,l=mh(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&iT(e,o,r,l),Ja=!1;var h=e.memoizedState;o.state=h,c0(e,r,o,s),c=e.memoizedState,a!==r||h!==c||ys.current||Ja?(typeof u=="function"&&(qE(e,n,u,r),c=e.memoizedState),(a=Ja||sT(e,n,a,r,h,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,b$(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Ti(e.type,a),o.props=l,d=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=li(c):(c=ws(n)?ou:Ir.current,c=mh(e,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==c)&&iT(e,o,r,c),Ja=!1,h=e.memoizedState,o.state=h,c0(e,r,o,s);var p=e.memoizedState;a!==d||h!==p||ys.current||Ja?(typeof f=="function"&&(qE(e,n,f,r),p=e.memoizedState),(l=Ja||sT(e,n,l,r,h,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return GE(t,e,n,r,i,s)}function GE(t,e,n,r,s,i){V$(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&QI(e,n,!1),ya(t,e,i);r=e.stateNode,tF.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wh(e,t.child,null,i),e.child=wh(e,null,a,i)):$r(t,e,a,i),e.memoizedState=r.state,s&&QI(e,n,!0),e.child}function G$(t){var e=t.stateNode;e.pendingContext?YI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&YI(t,e.context,!1),XS(t,e.containerInfo)}function hT(t,e,n,r,s){return yh(),GS(s),e.flags|=256,$r(t,e,n,r),e.child}var KE={dehydrated:null,treeContext:null,retryLane:0};function YE(t){return{baseLanes:t,cachePool:null,transitions:null}}function K$(t,e,n){var r=e.pendingProps,s=dn.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Yt(dn,s&1),t===null)return FE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=yv(o,r,0,null),t=eu(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=YE(n),e.memoizedState=KE,t):aA(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return nF(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=jc(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=jc(a,i):(i=eu(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?YE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=KE,r}return i=t.child,t=i.sibling,r=jc(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function aA(t,e){return e=yv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function my(t,e,n,r){return r!==null&&GS(r),wh(e,t.child,null,n),t=aA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nF(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=h1(Error(de(422))),my(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=yv({mode:"visible",children:r.children},s,0,null),i=eu(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&wh(e,t.child,null,o),e.child.memoizedState=YE(o),e.memoizedState=KE,i);if(!(e.mode&1))return my(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(de(419)),r=h1(i,r,void 0),my(t,e,o,r)}if(a=(o&t.childLanes)!==0,gs||a){if(r=Yn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ma(t,s),Fi(r,t,s,-1))}return fA(),r=h1(Error(de(421))),my(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=gF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,$s=Oc(s.nextSibling),Us=e,on=!0,Ri=null,t!==null&&(si[ii++]=ia,si[ii++]=oa,si[ii++]=au,ia=t.id,oa=t.overflow,au=e),e=aA(e,r.children),e.flags|=4096,e)}function fT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zE(t.return,e,n)}function f1(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Y$(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($r(t,e,r.children,n),r=dn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fT(t,n,e);else if(t.tag===19)fT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Yt(dn,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&l0(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),f1(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&l0(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}f1(e,!0,n,null,i);break;case"together":f1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cw(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ya(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),lu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,n=jc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rF(t,e,n){switch(e.tag){case 3:G$(e),yh();break;case 5:_$(e);break;case 1:ws(e.type)&&r0(e);break;case 4:XS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Yt(o0,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Yt(dn,dn.current&1),e.flags|=128,null):n&e.child.childLanes?K$(t,e,n):(Yt(dn,dn.current&1),t=ya(t,e,n),t!==null?t.sibling:null);Yt(dn,dn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Y$(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Yt(dn,dn.current),r)break;return null;case 22:case 23:return e.lanes=0,H$(t,e,n)}return ya(t,e,n)}var Q$,QE,J$,Z$;Q$=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};QE=function(){};J$=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,$l(bo.current);var i=null;switch(n){case"input":s=wE(t,s),r=wE(t,r),i=[];break;case"select":s=pn({},s,{value:void 0}),r=pn({},r,{value:void 0}),i=[];break;case"textarea":s=_E(t,s),r=_E(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=t0)}CE(n,r);var o;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(qp.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var c=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(qp.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Xt("scroll",t),i||a===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};Z$=function(t,e,n,r){n!==r&&(e.flags|=4)};function vf(t,e){if(!on)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sF(t,e,n){var r=e.pendingProps;switch(VS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(e),null;case 1:return ws(e.type)&&n0(),mr(e),null;case 3:return r=e.stateNode,vh(),nn(ys),nn(Ir),tA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(py(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ri!==null&&(sC(Ri),Ri=null))),QE(t,e),mr(e),null;case 5:eA(e);var s=$l(tg.current);if(n=e.type,t!==null&&e.stateNode!=null)J$(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(de(166));return mr(e),null}if(t=$l(bo.current),py(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[mo]=e,r[Xp]=i,t=(e.mode&1)!==0,n){case"dialog":Xt("cancel",r),Xt("close",r);break;case"iframe":case"object":case"embed":Xt("load",r);break;case"video":case"audio":for(s=0;s<Jf.length;s++)Xt(Jf[s],r);break;case"source":Xt("error",r);break;case"img":case"image":case"link":Xt("error",r),Xt("load",r);break;case"details":Xt("toggle",r);break;case"input":EI(r,i),Xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Xt("invalid",r);break;case"textarea":xI(r,i),Xt("invalid",r)}CE(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&fy(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&fy(r.textContent,a,t),s=["children",""+a]):qp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xt("scroll",r)}switch(n){case"input":iy(r),CI(r,i,!0);break;case"textarea":iy(r),SI(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=t0)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=A3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mo]=e,t[Xp]=r,Q$(t,e,!1,!1),e.stateNode=t;e:{switch(o=xE(n,r),n){case"dialog":Xt("cancel",t),Xt("close",t),s=r;break;case"iframe":case"object":case"embed":Xt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Jf.length;s++)Xt(Jf[s],t);s=r;break;case"source":Xt("error",t),s=r;break;case"img":case"image":case"link":Xt("error",t),Xt("load",t),s=r;break;case"details":Xt("toggle",t),s=r;break;case"input":EI(t,r),s=wE(t,r),Xt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=pn({},r,{value:void 0}),Xt("invalid",t);break;case"textarea":xI(t,r),s=_E(t,r),Xt("invalid",t);break;default:s=r}CE(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?N3(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&I3(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wp(t,c):typeof c=="number"&&Wp(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qp.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Xt("scroll",t):c!=null&&kS(t,i,c,o))}switch(n){case"input":iy(t),CI(t,r,!1);break;case"textarea":iy(t),SI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gc(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?qd(t,!!r.multiple,i,!1):r.defaultValue!=null&&qd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=t0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mr(e),null;case 6:if(t&&e.stateNode!=null)Z$(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(de(166));if(n=$l(tg.current),$l(bo.current),py(e)){if(r=e.stateNode,n=e.memoizedProps,r[mo]=e,(i=r.nodeValue!==n)&&(t=Us,t!==null))switch(t.tag){case 3:fy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fy(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mo]=e,e.stateNode=r}return mr(e),null;case 13:if(nn(dn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(on&&$s!==null&&e.mode&1&&!(e.flags&128))m$(),yh(),e.flags|=98560,i=!1;else if(i=py(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(de(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(de(317));i[mo]=e}else yh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mr(e),i=!1}else Ri!==null&&(sC(Ri),Ri=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dn.current&1?Ln===0&&(Ln=3):fA())),e.updateQueue!==null&&(e.flags|=4),mr(e),null);case 4:return vh(),QE(t,e),t===null&&Jp(e.stateNode.containerInfo),mr(e),null;case 10:return QS(e.type._context),mr(e),null;case 17:return ws(e.type)&&n0(),mr(e),null;case 19:if(nn(dn),i=e.memoizedState,i===null)return mr(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)vf(i,!1);else{if(Ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=l0(t),o!==null){for(e.flags|=128,vf(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Yt(dn,dn.current&1|2),e.child}t=t.sibling}i.tail!==null&&_n()>_h&&(e.flags|=128,r=!0,vf(i,!1),e.lanes=4194304)}else{if(!r)if(t=l0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!on)return mr(e),null}else 2*_n()-i.renderingStartTime>_h&&n!==1073741824&&(e.flags|=128,r=!0,vf(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_n(),e.sibling=null,n=dn.current,Yt(dn,r?n&1|2:n&1),e):(mr(e),null);case 22:case 23:return hA(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ps&1073741824&&(mr(e),e.subtreeFlags&6&&(e.flags|=8192)):mr(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function iF(t,e){switch(VS(e),e.tag){case 1:return ws(e.type)&&n0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vh(),nn(ys),nn(Ir),tA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return eA(e),null;case 13:if(nn(dn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));yh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nn(dn),null;case 4:return vh(),null;case 10:return QS(e.type._context),null;case 22:case 23:return hA(),null;case 24:return null;default:return null}}var yy=!1,Ar=!1,oF=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Ld(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yn(t,e,r)}else n.current=null}function JE(t,e,n){try{n()}catch(r){yn(t,e,r)}}var pT=!1;function aF(t,e){if($E=Zw,t=r$(),WS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++l===s&&(a=o),h===i&&++u===r&&(c=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(DE={focusedElem:t,selectionRange:n},Zw=!1,$e=e;$e!==null;)if(e=$e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$e=t;else for(;$e!==null;){e=$e;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,w=p.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Ti(e.type,m),w);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(E){yn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,$e=t;break}$e=e.return}return p=pT,pT=!1,p}function yp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&JE(e,n,i)}s=s.next}while(s!==r)}}function gv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ZE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function X$(t){var e=t.alternate;e!==null&&(t.alternate=null,X$(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mo],delete e[Xp],delete e[LE],delete e[qB],delete e[WB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eD(t){return t.tag===5||t.tag===3||t.tag===4}function gT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function XE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=t0));else if(r!==4&&(t=t.child,t!==null))for(XE(t,e,n),t=t.sibling;t!==null;)XE(t,e,n),t=t.sibling}function eC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(eC(t,e,n),t=t.sibling;t!==null;)eC(t,e,n),t=t.sibling}var ir=null,ki=!1;function Ia(t,e,n){for(n=n.child;n!==null;)tD(t,e,n),n=n.sibling}function tD(t,e,n){if(vo&&typeof vo.onCommitFiberUnmount=="function")try{vo.onCommitFiberUnmount(av,n)}catch{}switch(n.tag){case 5:Ar||Ld(n,e);case 6:var r=ir,s=ki;ir=null,Ia(t,e,n),ir=r,ki=s,ir!==null&&(ki?(t=ir,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ir.removeChild(n.stateNode));break;case 18:ir!==null&&(ki?(t=ir,n=n.stateNode,t.nodeType===8?o1(t.parentNode,n):t.nodeType===1&&o1(t,n),Kp(t)):o1(ir,n.stateNode));break;case 4:r=ir,s=ki,ir=n.stateNode.containerInfo,ki=!0,Ia(t,e,n),ir=r,ki=s;break;case 0:case 11:case 14:case 15:if(!Ar&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&JE(n,e,o),s=s.next}while(s!==r)}Ia(t,e,n);break;case 1:if(!Ar&&(Ld(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yn(n,e,a)}Ia(t,e,n);break;case 21:Ia(t,e,n);break;case 22:n.mode&1?(Ar=(r=Ar)||n.memoizedState!==null,Ia(t,e,n),Ar=r):Ia(t,e,n);break;default:Ia(t,e,n)}}function mT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oF),e.forEach(function(r){var s=mF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ir=a.stateNode,ki=!1;break e;case 3:ir=a.stateNode.containerInfo,ki=!0;break e;case 4:ir=a.stateNode.containerInfo,ki=!0;break e}a=a.return}if(ir===null)throw Error(de(160));tD(i,o,s),ir=null,ki=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){yn(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nD(e,t),e=e.sibling}function nD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wi(e,t),Xi(t),r&4){try{yp(3,t,t.return),gv(3,t)}catch(m){yn(t,t.return,m)}try{yp(5,t,t.return)}catch(m){yn(t,t.return,m)}}break;case 1:wi(e,t),Xi(t),r&512&&n!==null&&Ld(n,n.return);break;case 5:if(wi(e,t),Xi(t),r&512&&n!==null&&Ld(n,n.return),t.flags&32){var s=t.stateNode;try{Wp(s,"")}catch(m){yn(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&x3(s,i),xE(a,o);var l=xE(a,i);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?N3(s,d):u==="dangerouslySetInnerHTML"?I3(s,d):u==="children"?Wp(s,d):kS(s,u,d,l)}switch(a){case"input":vE(s,i);break;case"textarea":S3(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?qd(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?qd(s,!!i.multiple,i.defaultValue,!0):qd(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xp]=i}catch(m){yn(t,t.return,m)}}break;case 6:if(wi(e,t),Xi(t),r&4){if(t.stateNode===null)throw Error(de(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){yn(t,t.return,m)}}break;case 3:if(wi(e,t),Xi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kp(e.containerInfo)}catch(m){yn(t,t.return,m)}break;case 4:wi(e,t),Xi(t);break;case 13:wi(e,t),Xi(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uA=_n())),r&4&&mT(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ar=(l=Ar)||u,wi(e,t),Ar=l):wi(e,t),Xi(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for($e=t,u=t.child;u!==null;){for(d=$e=u;$e!==null;){switch(h=$e,f=h.child,h.tag){case 0:case 11:case 14:case 15:yp(4,h,h.return);break;case 1:Ld(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){yn(r,n,m)}}break;case 5:Ld(h,h.return);break;case 22:if(h.memoizedState!==null){wT(d);continue}}f!==null?(f.return=h,$e=f):wT(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=T3("display",o))}catch(m){yn(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){yn(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wi(e,t),Xi(t),r&4&&mT(t);break;case 21:break;default:wi(e,t),Xi(t)}}function Xi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eD(n)){var r=n;break e}n=n.return}throw Error(de(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Wp(s,""),r.flags&=-33);var i=gT(t);eC(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gT(t);XE(t,a,o);break;default:throw Error(de(161))}}catch(c){yn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cF(t,e,n){$e=t,rD(t)}function rD(t,e,n){for(var r=(t.mode&1)!==0;$e!==null;){var s=$e,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||yy;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ar;a=yy;var l=Ar;if(yy=o,(Ar=c)&&!l)for($e=s;$e!==null;)o=$e,c=o.child,o.tag===22&&o.memoizedState!==null?vT(s):c!==null?(c.return=o,$e=c):vT(s);for(;i!==null;)$e=i,rD(i),i=i.sibling;$e=s,yy=a,Ar=l}yT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$e=i):yT(t)}}function yT(t){for(;$e!==null;){var e=$e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ar||gv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ar)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ti(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&tT(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Kp(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Ar||e.flags&512&&ZE(e)}catch(h){yn(e,e.return,h)}}if(e===t){$e=null;break}if(n=e.sibling,n!==null){n.return=e.return,$e=n;break}$e=e.return}}function wT(t){for(;$e!==null;){var e=$e;if(e===t){$e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$e=n;break}$e=e.return}}function vT(t){for(;$e!==null;){var e=$e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gv(4,e)}catch(c){yn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){yn(e,s,c)}}var i=e.return;try{ZE(e)}catch(c){yn(e,i,c)}break;case 5:var o=e.return;try{ZE(e)}catch(c){yn(e,o,c)}}}catch(c){yn(e,e.return,c)}if(e===t){$e=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$e=a;break}$e=e.return}}var lF=Math.ceil,h0=xa.ReactCurrentDispatcher,cA=xa.ReactCurrentOwner,ci=xa.ReactCurrentBatchConfig,wt=0,Yn=null,Nn=null,ar=0,Ps=0,Md=il(0),Ln=0,ig=null,lu=0,mv=0,lA=0,wp=null,fs=null,uA=0,_h=1/0,Qo=null,f0=!1,tC=null,$c=null,wy=!1,Ec=null,p0=0,vp=0,nC=null,xw=-1,Sw=0;function Ur(){return wt&6?_n():xw!==-1?xw:xw=_n()}function Dc(t){return t.mode&1?wt&2&&ar!==0?ar&-ar:VB.transition!==null?(Sw===0&&(Sw=F3()),Sw):(t=jt,t!==0||(t=window.event,t=t===void 0?16:K3(t.type)),t):1}function Fi(t,e,n,r){if(50<vp)throw vp=0,nC=null,Error(de(185));pm(t,n,r),(!(wt&2)||t!==Yn)&&(t===Yn&&(!(wt&2)&&(mv|=n),Ln===4&&oc(t,ar)),vs(t,r),n===1&&wt===0&&!(e.mode&1)&&(_h=_n()+500,hv&&ol()))}function vs(t,e){var n=t.callbackNode;VM(t,e);var r=Jw(t,t===Yn?ar:0);if(r===0)n!==null&&TI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&TI(n),e===1)t.tag===0?HB(bT.bind(null,t)):f$(bT.bind(null,t)),FB(function(){!(wt&6)&&ol()}),n=null;else{switch(z3(r)){case 1:n=jS;break;case 4:n=M3;break;case 16:n=Qw;break;case 536870912:n=B3;break;default:n=Qw}n=dD(n,sD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sD(t,e){if(xw=-1,Sw=0,wt&6)throw Error(de(327));var n=t.callbackNode;if(Kd()&&t.callbackNode!==n)return null;var r=Jw(t,t===Yn?ar:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=g0(t,r);else{e=r;var s=wt;wt|=2;var i=oD();(Yn!==t||ar!==e)&&(Qo=null,_h=_n()+500,Xl(t,e));do try{hF();break}catch(a){iD(t,a)}while(!0);YS(),h0.current=i,wt=s,Nn!==null?e=0:(Yn=null,ar=0,e=Ln)}if(e!==0){if(e===2&&(s=NE(t),s!==0&&(r=s,e=rC(t,s))),e===1)throw n=ig,Xl(t,0),oc(t,r),vs(t,_n()),n;if(e===6)oc(t,r);else{if(s=t.current.alternate,!(r&30)&&!uF(s)&&(e=g0(t,r),e===2&&(i=NE(t),i!==0&&(r=i,e=rC(t,i))),e===1))throw n=ig,Xl(t,0),oc(t,r),vs(t,_n()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(de(345));case 2:Cl(t,fs,Qo);break;case 3:if(oc(t,r),(r&130023424)===r&&(e=uA+500-_n(),10<e)){if(Jw(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ur(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=UE(Cl.bind(null,t,fs,Qo),e);break}Cl(t,fs,Qo);break;case 4:if(oc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Bi(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=_n()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lF(r/1960))-r,10<r){t.timeoutHandle=UE(Cl.bind(null,t,fs,Qo),r);break}Cl(t,fs,Qo);break;case 5:Cl(t,fs,Qo);break;default:throw Error(de(329))}}}return vs(t,_n()),t.callbackNode===n?sD.bind(null,t):null}function rC(t,e){var n=wp;return t.current.memoizedState.isDehydrated&&(Xl(t,e).flags|=256),t=g0(t,e),t!==2&&(e=fs,fs=n,e!==null&&sC(e)),t}function sC(t){fs===null?fs=t:fs.push.apply(fs,t)}function uF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Hi(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oc(t,e){for(e&=~lA,e&=~mv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bi(e),r=1<<n;t[n]=-1,e&=~r}}function bT(t){if(wt&6)throw Error(de(327));Kd();var e=Jw(t,0);if(!(e&1))return vs(t,_n()),null;var n=g0(t,e);if(t.tag!==0&&n===2){var r=NE(t);r!==0&&(e=r,n=rC(t,r))}if(n===1)throw n=ig,Xl(t,0),oc(t,e),vs(t,_n()),n;if(n===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cl(t,fs,Qo),vs(t,_n()),null}function dA(t,e){var n=wt;wt|=1;try{return t(e)}finally{wt=n,wt===0&&(_h=_n()+500,hv&&ol())}}function uu(t){Ec!==null&&Ec.tag===0&&!(wt&6)&&Kd();var e=wt;wt|=1;var n=ci.transition,r=jt;try{if(ci.transition=null,jt=1,t)return t()}finally{jt=r,ci.transition=n,wt=e,!(wt&6)&&ol()}}function hA(){Ps=Md.current,nn(Md)}function Xl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BB(n)),Nn!==null)for(n=Nn.return;n!==null;){var r=n;switch(VS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&n0();break;case 3:vh(),nn(ys),nn(Ir),tA();break;case 5:eA(r);break;case 4:vh();break;case 13:nn(dn);break;case 19:nn(dn);break;case 10:QS(r.type._context);break;case 22:case 23:hA()}n=n.return}if(Yn=t,Nn=t=jc(t.current,null),ar=Ps=e,Ln=0,ig=null,lA=mv=lu=0,fs=wp=null,Rl!==null){for(e=0;e<Rl.length;e++)if(n=Rl[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Rl=null}return t}function iD(t,e){do{var n=Nn;try{if(YS(),_w.current=d0,u0){for(var r=fn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}u0=!1}if(cu=0,Hn=Dn=fn=null,mp=!1,ng=0,cA.current=null,n===null||n.return===null){Ln=1,ig=e,Nn=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=ar,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=aT(o);if(f!==null){f.flags&=-257,cT(f,o,a,i,e),f.mode&1&&oT(i,l,e),e=f,c=l;var p=e.updateQueue;if(p===null){var m=new Set;m.add(c),e.updateQueue=m}else p.add(c);break e}else{if(!(e&1)){oT(i,l,e),fA();break e}c=Error(de(426))}}else if(on&&a.mode&1){var w=aT(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),cT(w,o,a,i,e),GS(bh(c,a));break e}}i=c=bh(c,a),Ln!==4&&(Ln=2),wp===null?wp=[i]:wp.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=z$(i,c,e);eT(i,y);break e;case 1:a=c;var b=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($c===null||!$c.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=q$(i,a,e);eT(i,E);break e}}i=i.return}while(i!==null)}cD(n)}catch(_){e=_,Nn===n&&n!==null&&(Nn=n=n.return);continue}break}while(!0)}function oD(){var t=h0.current;return h0.current=d0,t===null?d0:t}function fA(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),Yn===null||!(lu&268435455)&&!(mv&268435455)||oc(Yn,ar)}function g0(t,e){var n=wt;wt|=2;var r=oD();(Yn!==t||ar!==e)&&(Qo=null,Xl(t,e));do try{dF();break}catch(s){iD(t,s)}while(!0);if(YS(),wt=n,h0.current=r,Nn!==null)throw Error(de(261));return Yn=null,ar=0,Ln}function dF(){for(;Nn!==null;)aD(Nn)}function hF(){for(;Nn!==null&&!UM();)aD(Nn)}function aD(t){var e=uD(t.alternate,t,Ps);t.memoizedProps=t.pendingProps,e===null?cD(t):Nn=e,cA.current=null}function cD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iF(n,e),n!==null){n.flags&=32767,Nn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ln=6,Nn=null;return}}else if(n=sF(n,e,Ps),n!==null){Nn=n;return}if(e=e.sibling,e!==null){Nn=e;return}Nn=e=t}while(e!==null);Ln===0&&(Ln=5)}function Cl(t,e,n){var r=jt,s=ci.transition;try{ci.transition=null,jt=1,fF(t,e,n,r)}finally{ci.transition=s,jt=r}return null}function fF(t,e,n,r){do Kd();while(Ec!==null);if(wt&6)throw Error(de(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(GM(t,i),t===Yn&&(Nn=Yn=null,ar=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wy||(wy=!0,dD(Qw,function(){return Kd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ci.transition,ci.transition=null;var o=jt;jt=1;var a=wt;wt|=4,cA.current=null,aF(t,n),nD(n,t),RB(DE),Zw=!!$E,DE=$E=null,t.current=n,cF(n),LM(),wt=a,jt=o,ci.transition=i}else t.current=n;if(wy&&(wy=!1,Ec=t,p0=s),i=t.pendingLanes,i===0&&($c=null),FM(n.stateNode),vs(t,_n()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(f0)throw f0=!1,t=tC,tC=null,t;return p0&1&&t.tag!==0&&Kd(),i=t.pendingLanes,i&1?t===nC?vp++:(vp=0,nC=t):vp=0,ol(),null}function Kd(){if(Ec!==null){var t=z3(p0),e=ci.transition,n=jt;try{if(ci.transition=null,jt=16>t?16:t,Ec===null)var r=!1;else{if(t=Ec,Ec=null,p0=0,wt&6)throw Error(de(331));var s=wt;for(wt|=4,$e=t.current;$e!==null;){var i=$e,o=i.child;if($e.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for($e=l;$e!==null;){var u=$e;switch(u.tag){case 0:case 11:case 15:yp(8,u,i)}var d=u.child;if(d!==null)d.return=u,$e=d;else for(;$e!==null;){u=$e;var h=u.sibling,f=u.return;if(X$(u),u===l){$e=null;break}if(h!==null){h.return=f,$e=h;break}$e=f}}}var p=i.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}$e=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$e=o;else e:for(;$e!==null;){if(i=$e,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yp(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,$e=y;break e}$e=i.return}}var b=t.current;for($e=b;$e!==null;){o=$e;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,$e=v;else e:for(o=b;$e!==null;){if(a=$e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gv(9,a)}}catch(_){yn(a,a.return,_)}if(a===o){$e=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,$e=E;break e}$e=a.return}}if(wt=s,ol(),vo&&typeof vo.onPostCommitFiberRoot=="function")try{vo.onPostCommitFiberRoot(av,t)}catch{}r=!0}return r}finally{jt=n,ci.transition=e}}return!1}function _T(t,e,n){e=bh(n,e),e=z$(t,e,1),t=Rc(t,e,1),e=Ur(),t!==null&&(pm(t,1,e),vs(t,e))}function yn(t,e,n){if(t.tag===3)_T(t,t,n);else for(;e!==null;){if(e.tag===3){_T(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($c===null||!$c.has(r))){t=bh(n,t),t=q$(e,t,1),e=Rc(e,t,1),t=Ur(),e!==null&&(pm(e,1,t),vs(e,t));break}}e=e.return}}function pF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ur(),t.pingedLanes|=t.suspendedLanes&n,Yn===t&&(ar&n)===n&&(Ln===4||Ln===3&&(ar&130023424)===ar&&500>_n()-uA?Xl(t,0):lA|=n),vs(t,e)}function lD(t,e){e===0&&(t.mode&1?(e=cy,cy<<=1,!(cy&130023424)&&(cy=4194304)):e=1);var n=Ur();t=ma(t,e),t!==null&&(pm(t,e,n),vs(t,n))}function gF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lD(t,n)}function mF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(de(314))}r!==null&&r.delete(e),lD(t,n)}var uD;uD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ys.current)gs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gs=!1,rF(t,e,n);gs=!!(t.flags&131072)}else gs=!1,on&&e.flags&1048576&&p$(e,i0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cw(t,e),t=e.pendingProps;var s=mh(e,Ir.current);Gd(e,n),s=rA(null,e,r,t,s,n);var i=sA();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ws(r)?(i=!0,r0(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ZS(e),s.updater=pv,e.stateNode=s,s._reactInternals=e,WE(e,r,t,n),e=GE(null,e,r,!0,i,n)):(e.tag=0,on&&i&&HS(e),$r(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cw(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=wF(r),t=Ti(r,t),s){case 0:e=VE(null,e,r,t,n);break e;case 1:e=dT(null,e,r,t,n);break e;case 11:e=lT(null,e,r,t,n);break e;case 14:e=uT(null,e,r,Ti(r.type,t),n);break e}throw Error(de(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ti(r,s),VE(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ti(r,s),dT(t,e,r,s,n);case 3:e:{if(G$(e),t===null)throw Error(de(387));r=e.pendingProps,i=e.memoizedState,s=i.element,b$(t,e),c0(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=bh(Error(de(423)),e),e=hT(t,e,r,n,s);break e}else if(r!==s){s=bh(Error(de(424)),e),e=hT(t,e,r,n,s);break e}else for($s=Oc(e.stateNode.containerInfo.firstChild),Us=e,on=!0,Ri=null,n=w$(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yh(),r===s){e=ya(t,e,n);break e}$r(t,e,r,n)}e=e.child}return e;case 5:return _$(e),t===null&&FE(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,jE(r,s)?o=null:i!==null&&jE(r,i)&&(e.flags|=32),V$(t,e),$r(t,e,o,n),e.child;case 6:return t===null&&FE(e),null;case 13:return K$(t,e,n);case 4:return XS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wh(e,null,r,n):$r(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ti(r,s),lT(t,e,r,s,n);case 7:return $r(t,e,e.pendingProps,n),e.child;case 8:return $r(t,e,e.pendingProps.children,n),e.child;case 12:return $r(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Yt(o0,r._currentValue),r._currentValue=o,i!==null)if(Hi(i.value,o)){if(i.children===s.children&&!ys.current){e=ya(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ca(-1,n&-n),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),zE(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(de(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zE(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$r(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Gd(e,n),s=li(s),r=r(s),e.flags|=1,$r(t,e,r,n),e.child;case 14:return r=e.type,s=Ti(r,e.pendingProps),s=Ti(r.type,s),uT(t,e,r,s,n);case 15:return W$(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ti(r,s),Cw(t,e),e.tag=1,ws(r)?(t=!0,r0(e)):t=!1,Gd(e,n),F$(e,r,s),WE(e,r,s,n),GE(null,e,r,!0,t,n);case 19:return Y$(t,e,n);case 22:return H$(t,e,n)}throw Error(de(156,e.tag))};function dD(t,e){return L3(t,e)}function yF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(t,e,n,r){return new yF(t,e,n,r)}function pA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wF(t){if(typeof t=="function")return pA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===RS)return 11;if(t===$S)return 14}return 2}function jc(t,e){var n=t.alternate;return n===null?(n=oi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Aw(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")pA(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Nd:return eu(n.children,s,i,e);case OS:o=8,s|=8;break;case pE:return t=oi(12,n,e,s|2),t.elementType=pE,t.lanes=i,t;case gE:return t=oi(13,n,e,s),t.elementType=gE,t.lanes=i,t;case mE:return t=oi(19,n,e,s),t.elementType=mE,t.lanes=i,t;case _3:return yv(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v3:o=10;break e;case b3:o=9;break e;case RS:o=11;break e;case $S:o=14;break e;case Qa:o=16,r=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=oi(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function eu(t,e,n,r){return t=oi(7,t,r,e),t.lanes=n,t}function yv(t,e,n,r){return t=oi(22,t,r,e),t.elementType=_3,t.lanes=n,t.stateNode={isHidden:!1},t}function p1(t,e,n){return t=oi(6,t,null,e),t.lanes=n,t}function g1(t,e,n){return e=oi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yb(0),this.expirationTimes=Yb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yb(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gA(t,e,n,r,s,i,o,a,c){return t=new vF(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=oi(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZS(i),t}function bF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Td,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hD(t){if(!t)return Kc;t=t._reactInternals;e:{if(ku(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ws(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var n=t.type;if(ws(n))return h$(t,n,e)}return e}function fD(t,e,n,r,s,i,o,a,c){return t=gA(n,r,!0,t,s,i,o,a,c),t.context=hD(null),n=t.current,r=Ur(),s=Dc(n),i=ca(r,s),i.callback=e??null,Rc(n,i,s),t.current.lanes=s,pm(t,s,r),vs(t,r),t}function wv(t,e,n,r){var s=e.current,i=Ur(),o=Dc(s);return n=hD(n),e.context===null?e.context=n:e.pendingContext=n,e=ca(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rc(s,e,o),t!==null&&(Fi(t,s,o,i),bw(t,s,o)),o}function m0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ET(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mA(t,e){ET(t,e),(t=t.alternate)&&ET(t,e)}function _F(){return null}var pD=typeof reportError=="function"?reportError:function(t){console.error(t)};function yA(t){this._internalRoot=t}vv.prototype.render=yA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));wv(t,e,null,null)};vv.prototype.unmount=yA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;uu(function(){wv(null,t,null,null)}),e[ga]=null}};function vv(t){this._internalRoot=t}vv.prototype.unstable_scheduleHydration=function(t){if(t){var e=H3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ic.length&&e!==0&&e<ic[n].priority;n++);ic.splice(n,0,t),n===0&&G3(t)}};function wA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function CT(){}function EF(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=m0(o);i.call(l)}}var o=fD(e,r,t,0,null,!1,!1,"",CT);return t._reactRootContainer=o,t[ga]=o.current,Jp(t.nodeType===8?t.parentNode:t),uu(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=m0(c);a.call(l)}}var c=gA(t,0,!1,null,null,!1,!1,"",CT);return t._reactRootContainer=c,t[ga]=c.current,Jp(t.nodeType===8?t.parentNode:t),uu(function(){wv(e,c,n,r)}),c}function _v(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=m0(o);a.call(c)}}wv(e,o,t,s)}else o=EF(n,e,t,s,r);return m0(o)}q3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qf(e.pendingLanes);n!==0&&(US(e,n|1),vs(e,_n()),!(wt&6)&&(_h=_n()+500,ol()))}break;case 13:uu(function(){var r=ma(t,1);if(r!==null){var s=Ur();Fi(r,t,1,s)}}),mA(t,1)}};LS=function(t){if(t.tag===13){var e=ma(t,134217728);if(e!==null){var n=Ur();Fi(e,t,134217728,n)}mA(t,134217728)}};W3=function(t){if(t.tag===13){var e=Dc(t),n=ma(t,e);if(n!==null){var r=Ur();Fi(n,t,e,r)}mA(t,e)}};H3=function(){return jt};V3=function(t,e){var n=jt;try{return jt=t,e()}finally{jt=n}};AE=function(t,e,n){switch(e){case"input":if(vE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=dv(r);if(!s)throw Error(de(90));C3(r),vE(r,s)}}}break;case"textarea":S3(t,n);break;case"select":e=n.value,e!=null&&qd(t,!!n.multiple,e,!1)}};O3=dA;R3=uu;var CF={usingClientEntryPoint:!1,Events:[mm,Rd,dv,P3,k3,dA]},bf={findFiberByHostInstance:Ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xF={bundleType:bf.bundleType,version:bf.version,rendererPackageName:bf.rendererPackageName,rendererConfig:bf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=j3(t),t===null?null:t.stateNode},findFiberByHostInstance:bf.findFiberByHostInstance||_F,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vy.isDisabled&&vy.supportsFiber)try{av=vy.inject(xF),vo=vy}catch{}}zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CF;zs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wA(e))throw Error(de(200));return bF(t,e,null,n)};zs.createRoot=function(t,e){if(!wA(t))throw Error(de(299));var n=!1,r="",s=pD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=gA(t,1,!1,null,null,n,!1,r,s),t[ga]=e.current,Jp(t.nodeType===8?t.parentNode:t),new yA(e)};zs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=j3(e),t=t===null?null:t.stateNode,t};zs.flushSync=function(t){return uu(t)};zs.hydrate=function(t,e,n){if(!bv(e))throw Error(de(200));return _v(null,t,e,!0,n)};zs.hydrateRoot=function(t,e,n){if(!wA(t))throw Error(de(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=pD;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fD(e,null,t,1,n??null,s,!1,i,o),t[ga]=e.current,Jp(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new vv(e)};zs.render=function(t,e,n){if(!bv(e))throw Error(de(200));return _v(null,t,e,!1,n)};zs.unmountComponentAtNode=function(t){if(!bv(t))throw Error(de(40));return t._reactRootContainer?(uu(function(){_v(null,null,t,!1,function(){t._reactRootContainer=null,t[ga]=null})}),!0):!1};zs.unstable_batchedUpdates=dA;zs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bv(n))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return _v(t,e,n,!1,r)};zs.version="18.3.1-next-f1338f8080-20240426";function gD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gD)}catch(t){console.error(t)}}gD(),g3.exports=zs;var vA=g3.exports,xT=vA;hE.createRoot=xT.createRoot,hE.hydrateRoot=xT.hydrateRoot;const mD="2.31.4";let _f={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${mD}`},ce=class iC extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof iC?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof iC&&n.cause.docsPath||n.docsPath,i=(a=_f.getDocsUrl)==null?void 0:a.call(_f,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],..._f.version?[`Version: ${_f.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=mD}walk(e){return yD(this,e)}};function yD(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?yD(t.cause,e):e?null:t}let wD=class extends ce{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class SF extends ce{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let AF=class extends ce{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class vD extends ce{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let bD=class extends ce{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class ST extends ce{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Bh(t,{dir:e,size:n=32}={}){return typeof t=="string"?Uc(t,{dir:e,size:n}):IF(t,{dir:e,size:n})}function Uc(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new bD({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function IF(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new bD({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}function wa(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Cn(t){return wa(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Fh(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const TF=new TextEncoder;function Ev(t,e={}){return typeof t=="number"||typeof t=="bigint"?PF(t,e):typeof t=="boolean"?NF(t,e):wa(t)?So(t,e):Yd(t,e)}function NF(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ki(n,{size:e.size}),Bh(n,{size:e.size})):n}const jo={zero:48,nine:57,A:65,F:70,a:97,f:102};function AT(t){if(t>=jo.zero&&t<=jo.nine)return t-jo.zero;if(t>=jo.A&&t<=jo.F)return t-(jo.A-10);if(t>=jo.a&&t<=jo.f)return t-(jo.a-10)}function So(t,e={}){let n=t;e.size&&(Ki(n,{size:e.size}),n=Bh(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=AT(r.charCodeAt(a++)),l=AT(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new ce(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function PF(t,e){const n=Ye(t,e);return So(n)}function Yd(t,e={}){const n=TF.encode(t);return typeof e.size=="number"?(Ki(n,{size:e.size}),Bh(n,{dir:"right",size:e.size})):n}function Ki(t,{size:e}){if(Cn(t)>e)throw new AF({givenSize:Cn(t),maxSize:e})}function va(t,e={}){const{signed:n}=e;e.size&&Ki(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function ba(t,e={}){return Number(va(t,e))}function _D(t,e={}){let n=So(t);return e.size&&(Ki(n,{size:e.size}),n=Fh(n,{dir:"right"})),new TextDecoder().decode(n)}const kF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function du(t,e={}){return typeof t=="number"||typeof t=="bigint"?Ye(t,e):typeof t=="string"?Cv(t,e):typeof t=="boolean"?ED(t,e):Fr(t,e)}function ED(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ki(n,{size:e.size}),Bh(n,{size:e.size})):n}function Fr(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=kF[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Ki(r,{size:e.size}),Bh(r,{dir:"right",size:e.size})):r}function Ye(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new wD({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Bh(a,{size:r}):a}const OF=new TextEncoder;function Cv(t,e={}){const n=OF.encode(t);return Fr(n,e)}async function RF(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Ye(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function Yc(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new VF(t.type);return`${t.name}(${xv(t.inputs,{includeName:e})})`}function xv(t,{includeName:e=!1}={}){return t?t.map(n=>$F(n,{includeName:e})).join(e?", ":","):""}function $F(t,{includeName:e}){return t.type.startsWith("tuple")?`(${xv(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class DF extends ce{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class IT extends ce{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class CD extends ce{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${xv(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Sv extends ce{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class jF extends ce{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class UF extends ce{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Cn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class LF extends ce{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class KCe extends ce{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class YCe extends ce{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class xD extends ce{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class MF extends ce{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class SD extends ce{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class y0 extends ce{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class BF extends ce{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class QCe extends ce{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class FF extends ce{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Yc(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Yc(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class zF extends ce{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class oC extends ce{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${xv(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class AD extends ce{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Yc(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class qF extends ce{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class WF extends ce{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class HF extends ce{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class VF extends ce{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function Qc(t){return typeof t[0]=="string"?Av(t):GF(t)}function GF(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Av(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class Jc extends ce{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let Iv=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const by=BigInt(2**32-1),TT=BigInt(32);function KF(t,e=!1){return e?{h:Number(t&by),l:Number(t>>TT&by)}:{h:Number(t>>TT&by)|0,l:Number(t&by)|0}}function YF(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=KF(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const QF=(t,e,n)=>t<<n|e>>>32-n,JF=(t,e,n)=>e<<n|t>>>32-n,ZF=(t,e,n)=>e<<n-32|t>>>64-n,XF=(t,e,n)=>t<<n-32|e>>>64-n,Ku=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function e9(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function w0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function hu(t,...e){if(!e9(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ZCe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");w0(t.outputLen),w0(t.blockLen)}function v0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ID(t,e){hu(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function t9(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function og(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function m1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function eo(t,e){return t<<32-e|t>>>e}const n9=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function r9(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function s9(t){for(let e=0;e<t.length;e++)t[e]=r9(t[e]);return t}const NT=n9?t=>t:s9,TD=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",i9=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function XCe(t){if(hu(t),TD)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=i9[t[n]];return e}const Uo={_0:48,_9:57,A:65,F:70,a:97,f:102};function PT(t){if(t>=Uo._0&&t<=Uo._9)return t-Uo._0;if(t>=Uo.A&&t<=Uo.F)return t-(Uo.A-10);if(t>=Uo.a&&t<=Uo.f)return t-(Uo.a-10)}function exe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(TD)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=PT(t.charCodeAt(i)),a=PT(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function o9(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Tv(t){return typeof t=="string"&&(t=o9(t)),hu(t),t}function txe(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];hu(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class ND{}function PD(t){const e=r=>t().update(Tv(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function a9(t){const e=(r,s)=>t(s).update(Tv(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function nxe(t=32){if(Ku&&typeof Ku.getRandomValues=="function")return Ku.getRandomValues(new Uint8Array(t));if(Ku&&typeof Ku.randomBytes=="function")return Uint8Array.from(Ku.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const c9=BigInt(0),Ef=BigInt(1),l9=BigInt(2),u9=BigInt(7),d9=BigInt(256),h9=BigInt(113),kD=[],OD=[],RD=[];for(let t=0,e=Ef,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],kD.push(2*(5*r+n)),OD.push((t+1)*(t+2)/2%64);let s=c9;for(let i=0;i<7;i++)e=(e<<Ef^(e>>u9)*h9)%d9,e&l9&&(s^=Ef<<(Ef<<BigInt(i))-Ef);RD.push(s)}const $D=YF(RD,!0),f9=$D[0],p9=$D[1],kT=(t,e,n)=>n>32?ZF(t,e,n):QF(t,e,n),OT=(t,e,n)=>n>32?XF(t,e,n):JF(t,e,n);function DD(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=kT(l,u,1)^n[a],h=OT(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=OD[o],c=kT(s,i,a),l=OT(s,i,a),u=kD[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=f9[r],t[1]^=p9[r]}og(n)}class wm extends ND{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,w0(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=t9(this.state)}clone(){return this._cloneInto()}keccak(){NT(this.state32),DD(this.state32,this.rounds),NT(this.state32),this.posOut=0,this.pos=0}update(e){v0(this),e=Tv(e),hu(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){v0(this,!1),hu(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return w0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ID(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,og(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new wm(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const al=(t,e,n)=>PD(()=>new wm(e,t,n)),g9=al(6,144,224/8),m9=al(6,136,256/8),y9=al(6,104,384/8),w9=al(6,72,512/8),v9=al(1,144,224/8),bA=al(1,136,256/8),b9=al(1,104,384/8),_9=al(1,72,512/8),jD=(t,e,n)=>a9((r={})=>new wm(e,t,r.dkLen===void 0?n:r.dkLen,!0)),E9=jD(31,168,128/8),C9=jD(31,136,256/8),rxe=Object.freeze(Object.defineProperty({__proto__:null,Keccak:wm,keccakP:DD,keccak_224:v9,keccak_256:bA,keccak_384:b9,keccak_512:_9,sha3_224:g9,sha3_256:m9,sha3_384:y9,sha3_512:w9,shake128:E9,shake256:C9},Symbol.toStringTag,{value:"Module"}));function zh(t,e){const n=e||"hex",r=bA(wa(t,{strict:!1})?Ev(t):t);return n==="bytes"?r:du(r)}const y1=new Iv(8192);function vm(t,e){if(y1.has(`${t}.${e}`))return y1.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=zh(Yd(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return y1.set(`${t}.${e}`,i),i}function Cc(t,e){if(!Vi(t,{strict:!1}))throw new Jc({address:t});return vm(t,e)}const x9=/^0x[a-fA-F0-9]{40}$/,w1=new Iv(8192);function Vi(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(w1.has(r))return w1.get(r);const s=x9.test(t)?t.toLowerCase()===t?!0:n?vm(t)===t:!0:!1;return w1.set(r,s),s}function b0(t,e,n,{strict:r}={}){return wa(t,{strict:!1})?aC(t,e,n,{strict:r}):MD(t,e,n,{strict:r})}function UD(t,e){if(typeof e=="number"&&e>0&&e>Cn(t)-1)throw new vD({offset:e,position:"start",size:Cn(t)})}function LD(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Cn(t)!==n-e)throw new vD({offset:n,position:"end",size:Cn(t)})}function MD(t,e,n,{strict:r}={}){UD(t,e);const s=t.slice(e,n);return r&&LD(s,e,n),s}function aC(t,e,n,{strict:r}={}){UD(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&LD(s,e,n),s}const S9=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,BD=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function FD(t,e){if(t.length!==e.length)throw new LF({expectedLength:t.length,givenLength:e.length});const n=A9({params:t,values:e}),r=EA(n);return r.length===0?"0x":r}function A9({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(_A({param:t[r],value:e[r]}));return n}function _A({param:t,value:e}){const n=CA(t.type);if(n){const[r,s]=n;return T9(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return R9(e,{param:t});if(t.type==="address")return I9(e);if(t.type==="bool")return P9(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=BD.exec(t.type)??[];return k9(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return N9(e,{param:t});if(t.type==="string")return O9(e);throw new qF(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function EA(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=Cn(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(Ye(e+s,{size:32})),r.push(a),s+=Cn(a)):n.push(a)}return Qc([...n,...r])}function I9(t){if(!Vi(t))throw new Jc({address:t});return{dynamic:!1,encoded:Uc(t.toLowerCase())}}function T9(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new HF(t);if(!r&&t.length!==e)throw new jF({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=_A({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=EA(i);if(r){const a=Ye(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Qc([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Qc(i.map(({encoded:o})=>o))}}function N9(t,{param:e}){const[,n]=e.type.split("bytes"),r=Cn(t);if(!n){let s=t;return r%32!==0&&(s=Uc(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Qc([Uc(Ye(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new UF({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Uc(t,{dir:"right"})}}function P9(t){if(typeof t!="boolean")throw new ce(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Uc(ED(t))}}function k9(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new wD({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ye(t,{size:32,signed:e})}}function O9(t){const e=Cv(t),n=Math.ceil(Cn(e)/32),r=[];for(let s=0;s<n;s++)r.push(Uc(b0(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Qc([Uc(Ye(Cn(e),{size:32})),...r])}}function R9(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=_A({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?EA(r):Qc(r.map(({encoded:s})=>s))}}function CA(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const v1="/docs/contract/encodeDeployData";function xA(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new DF({docsPath:v1});if(!("inputs"in s))throw new IT({docsPath:v1});if(!s.inputs||s.inputs.length===0)throw new IT({docsPath:v1});const i=FD(s.inputs,n);return Av([r,i])}function lr(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class Ou extends ce{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Iw extends ce{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function $9(t){const e=zh(`0x${t.substring(4)}`).substring(26);return vm(`0x${e}`)}const D9="modulepreload",j9=function(t){return"/"+t},RT={},bn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=j9(c),c in RT)return;RT[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":D9,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};async function U9({hash:t,signature:e}){const n=wa(t)?t:du(t),{secp256k1:r}=await bn(async()=>{const{secp256k1:o}=await import("./secp256k1-yr7bXiCN.js");return{secp256k1:o}},__vite__mapDeps([0,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=$T(f);return new r.Signature(va(l),va(u)).addRecoveryBit(p)}const o=wa(e)?e:du(e);if(Cn(o)!==65)throw new Error("invalid signature length");const a=ba(`0x${o.slice(130)}`),c=$T(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function $T(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function L9({hash:t,signature:e}){return $9(await U9({hash:t,signature:e}))}class DT extends ce{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class zD extends ce{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class M9 extends ce{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const B9={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new M9({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new zD({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new DT({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new DT({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function SA(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(B9);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function F9(t,e="hex"){const n=qD(t),r=SA(new Uint8Array(n.length));return n.encode(r),e==="hex"?Fr(r.bytes):r.bytes}function qD(t){return Array.isArray(t)?z9(t.map(e=>qD(e))):q9(t)}function z9(t){const e=t.reduce((s,i)=>s+i.length,0),n=WD(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function q9(t){const e=typeof t=="string"?So(t):t,n=WD(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function WD(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ce("Length is too large.")}function W9(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=zh(Av(["0x05",F9([e?Ye(e):"0x",s,n?Ye(n):"0x"])]));return r==="bytes"?So(i):i}async function HD(t){const{authorization:e,signature:n}=t;return L9({hash:W9(e),signature:n??e})}class cC extends ce{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class H9 extends ce{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class V9 extends ce{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class VD extends ce{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function GD({chain:t,currentChainId:e}){if(!t)throw new V9;if(e!==t.id)throw new H9({chain:t,currentChainId:e})}const G9={gwei:9,wei:18},K9={ether:-9,wei:9},Y9={ether:-18,gwei:-9};function qh(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function bs(t,e="wei"){return qh(t,K9[e])}class Dl extends ce{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Dl,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Dl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class _0 extends ce{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${bs(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(_0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class lC extends ce{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${bs(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(lC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class uC extends ce{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(uC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class dC extends ce{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(dC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class hC extends ce{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(hC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class fC extends ce{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(fC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class pC extends ce{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(pC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class gC extends ce{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(gC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class mC extends ce{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(mC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class E0 extends ce{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${bs(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${bs(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(E0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Nv extends ce{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function AA(t,e="wei"){return qh(t,G9[e])}function bm(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Q9 extends ce{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class J9 extends ce{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",bm(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Z9 extends ce{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=bm({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${AA(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${bs(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${bs(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${bs(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class KD extends ce{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class YD extends ce{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class X9 extends ce{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Lr=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n),e7=t=>t,IA=t=>t;class bp extends ce{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${IA(o)}`,e&&`Request body: ${Lr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class TA extends ce{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${IA(r)}`,`Request body: ${Lr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class jT extends ce{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${IA(n)}`,`Request body: ${Lr(e)}`],name:"TimeoutError"})}}const t7=-1;class Es extends ce{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof TA?e.code:n??t7}}class Ws extends Es{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class ag extends Es{constructor(e){super(e,{code:ag.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(ag,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class cg extends Es{constructor(e){super(e,{code:cg.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(cg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class lg extends Es{constructor(e,{method:n}={}){super(e,{code:lg.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(lg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class ug extends Es{constructor(e){super(e,{code:ug.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ug,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class fu extends Es{constructor(e){super(e,{code:fu.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(fu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class dg extends Es{constructor(e){super(e,{code:dg.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(dg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class hg extends Es{constructor(e){super(e,{code:hg.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(hg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Lc extends Es{constructor(e){super(e,{code:Lc.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Lc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Eh extends Es{constructor(e){super(e,{code:Eh.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Eh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class jl extends Es{constructor(e,{method:n}={}){super(e,{code:jl.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(jl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Ch extends Es{constructor(e){super(e,{code:Ch.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Ch,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class fg extends Es{constructor(e){super(e,{code:fg.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(fg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class $n extends Ws{constructor(e){super(e,{code:$n.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty($n,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class pg extends Ws{constructor(e){super(e,{code:pg.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(pg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class gg extends Ws{constructor(e,{method:n}={}){super(e,{code:gg.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(gg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class mg extends Ws{constructor(e){super(e,{code:mg.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(mg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class yg extends Ws{constructor(e){super(e,{code:yg.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(yg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Ao extends Ws{constructor(e){super(e,{code:Ao.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Ao,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class xh extends Ws{constructor(e){super(e,{code:xh.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(xh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class wg extends Ws{constructor(e){super(e,{code:wg.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(wg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class vg extends Ws{constructor(e){super(e,{code:vg.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(vg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class bg extends Ws{constructor(e){super(e,{code:bg.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(bg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class _g extends Ws{constructor(e){super(e,{code:_g.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(_g,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Eg extends Ws{constructor(e){super(e,{code:Eg.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Eg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Sh extends Ws{constructor(e){super(e,{code:Sh.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Sh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class n7 extends Es{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function NA(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof ce?t.walk(s=>(s==null?void 0:s.code)===Dl.code):t;return r instanceof ce?new Dl({cause:t,message:r.details}):Dl.nodeMessage.test(n)?new Dl({cause:t,message:t.details}):_0.nodeMessage.test(n)?new _0({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):lC.nodeMessage.test(n)?new lC({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):uC.nodeMessage.test(n)?new uC({cause:t,nonce:e==null?void 0:e.nonce}):dC.nodeMessage.test(n)?new dC({cause:t,nonce:e==null?void 0:e.nonce}):hC.nodeMessage.test(n)?new hC({cause:t,nonce:e==null?void 0:e.nonce}):fC.nodeMessage.test(n)?new fC({cause:t}):pC.nodeMessage.test(n)?new pC({cause:t,gas:e==null?void 0:e.gas}):gC.nodeMessage.test(n)?new gC({cause:t,gas:e==null?void 0:e.gas}):mC.nodeMessage.test(n)?new mC({cause:t}):E0.nodeMessage.test(n)?new E0({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Nv({cause:t})}function QD(t,{docsPath:e,...n}){const r=(()=>{const s=NA(t,n);return s instanceof Nv?t:s})();return new Z9(r,{docsPath:e,...n})}function PA(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}const r7={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Pv(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=s7(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Fr(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Ye(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Ye(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Ye(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Ye(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Ye(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Ye(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=r7[t.type]),typeof t.value<"u"&&(e.value=Ye(t.value)),e}function s7(t){return t.map(e=>({address:e.address,r:e.r?Ye(BigInt(e.r)):e.r,s:e.s?Ye(BigInt(e.s)):e.s,chainId:Ye(e.chainId),nonce:Ye(e.nonce),...typeof e.yParity<"u"?{yParity:Ye(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Ye(e.v)}:{}}))}function Ft(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const i7=2n**256n-1n;function _m(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?lr(e):void 0;if(o&&!Vi(o.address))throw new Jc({address:o.address});if(i&&!Vi(i))throw new Jc({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Q9;if(r&&r>i7)throw new _0({maxFeePerGas:r});if(s&&r&&s>r)throw new E0({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function Em(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return ba(e)}class o7 extends ce{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class kA extends ce{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class a7 extends ce{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${bs(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class JD extends ce{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const ZD={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function XD(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?ba(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?ba(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?ZD[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=c7(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function c7(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function l7(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:XD(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Cg(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var u,d,h;const i=r??"latest",o=s??!1,a=n!==void 0?Ye(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||i,o]},{dedupe:!!a}),!c)throw new JD({blockHash:e,blockNumber:n});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:h.format)||l7)(c)}async function e5(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function u7(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await Ft(t,Cg,"getBlock")({}),u=await a({block:l,client:t,request:s});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return va(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):Ft(t,Cg,"getBlock")({}),Ft(t,e5,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new kA;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function UT(t,e){var h,f;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var p,m;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(o<1)throw new o7;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),l=p=>p*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await Ft(t,Cg,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:s,type:i});if(p!==null)return p}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new kA;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await u7(t,{block:u,chain:r,request:s}),m=l(u.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??m+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await Ft(t,e5,"getGasPrice")({}))}}class d7 extends ce{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=bm({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${AA(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${bs(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${bs(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${bs(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function h7(t,{docsPath:e,...n}){const r=(()=>{const s=NA(t,n);return s instanceof Nv?t:s})();return new d7(r,{docsPath:e,...n})}class f7 extends ce{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class p7 extends ce{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function LT(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function g7(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=LT(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=LT(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function MT(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new ST({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new ST({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function m7(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=Ye(e)),n!==void 0&&(o.nonce=Ye(n)),r!==void 0&&(o.state=MT(r)),s!==void 0){if(o.state)throw new p7;o.stateDiff=MT(s)}return o}function t5(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Vi(n,{strict:!1}))throw new Jc({address:n});if(e[n])throw new f7({address:n});e[n]=m7(r)}return e}async function n5(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?Ye(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function r5(t,e){var s,i,o;const{account:n=t.account}=e,r=n?lr(n):void 0;try{let V=function(N){const{block:L,request:D,rpcStateOverride:$}=N;return t.request({method:"eth_estimateGas",params:$?[D,L??"latest",$]:L?[D,L]:[D]})};const{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:h,data:f,gas:p,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,value:E,stateOverride:_,...x}=await kv(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),A=(typeof d=="bigint"?Ye(d):void 0)||h,C=t5(_),k=await(async()=>{if(x.to)return x.to;if(c&&c.length>0)return await HD({authorization:c[0]}).catch(()=>{throw new ce("`to` is required. Could not infer from `authorizationList`")})})();_m(e);const O=(o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,F=(O||Pv)({...PA(x,{format:O}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:f,gas:p,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:k,value:E});let I=BigInt(await V({block:A,request:F,rpcStateOverride:C}));if(c){const N=await n5(t,{address:F.from}),L=await Promise.all(c.map(async D=>{const{address:$}=D,j=await V({block:A,request:{authorizationList:void 0,data:f,from:r==null?void 0:r.address,to:$,value:Ye(N)},rpcStateOverride:C}).catch(()=>100000n);return 2n*BigInt(j)}));I+=L.reduce((D,$)=>D+$,0n)}return I}catch(a){throw h7(a,{...e,account:r,chain:t.chain})}}async function s5(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Ye(r):n]},{dedupe:!!r});return ba(s)}function i5(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>So(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>Fr(i))}function o5(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>So(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>So(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>Fr(o))}function y7(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function w7(t,e,n){return t&e^~t&n}function v7(t,e,n){return t&e^t&n^e&n}class b7 extends ND{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=m1(this.buffer)}update(e){v0(this),e=Tv(e),hu(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=m1(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){v0(this),ID(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,og(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;y7(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=m1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Ta=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_7=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Na=new Uint32Array(64);class E7 extends b7{constructor(e=32){super(64,e,8,!1),this.A=Ta[0]|0,this.B=Ta[1]|0,this.C=Ta[2]|0,this.D=Ta[3]|0,this.E=Ta[4]|0,this.F=Ta[5]|0,this.G=Ta[6]|0,this.H=Ta[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Na[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Na[d-15],f=Na[d-2],p=eo(h,7)^eo(h,18)^h>>>3,m=eo(f,17)^eo(f,19)^f>>>10;Na[d]=m+Na[d-7]+p+Na[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=eo(a,6)^eo(a,11)^eo(a,25),f=u+h+w7(a,c,l)+_7[d]+Na[d]|0,m=(eo(r,2)^eo(r,13)^eo(r,22))+v7(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+m|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){og(Na)}destroy(){this.set(0,0,0,0,0,0,0,0),og(this.buffer)}}const C7=PD(()=>new E7),x7=C7;function S7(t,e){return x7(wa(t,{strict:!1})?Ev(t):t)}function A7(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=S7(e);return s.set([n],0),r==="bytes"?s:Fr(s)}function I7(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const i of e)s.push(A7({commitment:i,to:r,version:n}));return s}const BT=6,a5=32,OA=4096,c5=a5*OA,FT=c5*BT-1-1*OA*BT;class T7 extends ce{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class N7 extends ce{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function P7(t){const e=typeof t.data=="string"?So(t.data):t.data,n=Cn(e);if(!n)throw new N7;if(n>FT)throw new T7({maxSize:FT,size:n});const r=[];let s=!0,i=0;for(;s;){const o=SA(new Uint8Array(c5));let a=0;for(;a<OA;){const c=e.slice(i,i+(a5-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}a++,i+=31}r.push(o)}return r.map(o=>Fr(o.bytes))}function k7(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??P7({data:e}),i=t.commitments??i5({blobs:s,kzg:n,to:r}),o=t.proofs??o5({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function O7(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new J9({transaction:t})}const l5=["blobVersionedHashes","chainId","fees","gas","nonce","type"],zT=new Map;async function kv(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:l=l5,type:u}=e,d=n&&lr(n),h={...e,...d?{from:d==null?void 0:d.address}:{}};let f;async function p(){return f||(f=await Ft(t,Cg,"getBlock")({blockTag:"latest"}),f)}let m;async function w(){return m||(s?s.id:typeof e.chainId<"u"?e.chainId:(m=await Ft(t,Em,"getChainId")({}),m))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const y=await w();h.nonce=await c.consume({address:d.address,chainId:y,client:t})}else h.nonce=await Ft(t,s5,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const y=i5({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const b=I7({commitments:y,to:"hex"});h.blobVersionedHashes=b}if(l.includes("sidecars")){const b=o5({blobs:r,commitments:y,kzg:o}),v=k7({blobs:r,commitments:y,proofs:b,to:"hex"});h.sidecars=v}}if(l.includes("chainId")&&(h.chainId=await w()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{h.type=O7(h)}catch{let y=zT.get(t.uid);if(typeof y>"u"){const b=await p();y=typeof(b==null?void 0:b.baseFeePerGas)=="bigint",zT.set(t.uid,y)}h.type=y?"eip1559":"legacy"}if(l.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const y=await p(),{maxFeePerGas:b,maxPriorityFeePerGas:v}=await UT(t,{block:y,chain:s,request:h});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<v)throw new a7({maxPriorityFeePerGas:v});h.maxPriorityFeePerGas=v,h.maxFeePerGas=b}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new kA;if(typeof e.gasPrice>"u"){const y=await p(),{gasPrice:b}=await UT(t,{block:y,chain:s,request:h,type:"legacy"});h.gasPrice=b}}return l.includes("gas")&&typeof i>"u"&&(h.gas=await Ft(t,r5,"estimateGas")({...h,account:d&&{address:d.address,type:"json-rpc"}})),_m(h),delete h.parameters,h}async function u5(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const b1=new Iv(128);async function Cm(t,e){var b,v,E,_;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,type:p,value:m,...w}=e;if(typeof n>"u")throw new Ou({docsPath:"/docs/actions/wallet/sendTransaction"});const y=n?lr(n):null;try{_m(e);const x=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await HD({authorization:i[0]}).catch(()=>{throw new ce("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let S;r!==null&&(S=await Ft(t,Em,"getChainId")({}),GD({currentChainId:S,chain:r}));const A=(E=(v=(b=t.chain)==null?void 0:b.formatters)==null?void 0:v.transactionRequest)==null?void 0:E.format,k=(A||Pv)({...PA(w,{format:A}),accessList:s,authorizationList:i,blobs:o,chainId:S,data:a,from:y==null?void 0:y.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,to:x,type:p,value:m}),O=b1.get(t.uid),B=O?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:B,params:[k]},{retryCount:0})}catch(F){if(O===!1)throw F;const V=F;if(V.name==="InvalidInputRpcError"||V.name==="InvalidParamsRpcError"||V.name==="MethodNotFoundRpcError"||V.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then(I=>(b1.set(t.uid,!0),I)).catch(I=>{const N=I;throw N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError"?(b1.set(t.uid,!1),V):N});throw V}}if((y==null?void 0:y.type)==="local"){const S=await Ft(t,kv,"prepareTransactionRequest")({account:y,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,nonceManager:y.nonceManager,parameters:[...l5,"sidecars"],type:p,value:m,...w,to:x}),A=(_=r==null?void 0:r.serializers)==null?void 0:_.transaction,C=await y.signTransaction(S,{serializer:A});return await Ft(t,u5,"sendRawTransaction")({serializedTransaction:C})}throw(y==null?void 0:y.type)==="smart"?new Iw({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Iw({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(x){throw x instanceof Iw?x:QD(x,{...e,account:y,chain:e.chain||void 0})}}function R7(t,e){const{abi:n,args:r,bytecode:s,...i}=e,o=xA({abi:n,args:r,bytecode:s});return Cm(t,{...i,...i.authorizationList?{to:null}:{},data:o})}const yC=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],sxe=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],$7=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],D7=[...$7,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}];function j7(t,e={}){typeof e.size<"u"&&Ki(t,{size:e.size});const n=Fr(t,e);return va(n,e)}function U7(t,e={}){let n=t;if(typeof e.size<"u"&&(Ki(n,{size:e.size}),n=Fh(n)),n.length>1||n[0]>1)throw new SF(n);return!!n[0]}function la(t,e={}){typeof e.size<"u"&&Ki(t,{size:e.size});const n=Fr(t,e);return ba(n,e)}function L7(t,e={}){let n=t;return typeof e.size<"u"&&(Ki(n,{size:e.size}),n=Fh(n,{dir:"right"})),new TextDecoder().decode(n)}function Ov(t,e){const n=typeof e=="string"?So(e):e,r=SA(n);if(Cn(n)===0&&t.length>0)throw new Sv;if(Cn(e)&&Cn(e)<32)throw new CD({data:typeof e=="string"?e:Fr(e),params:t,size:Cn(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,l]=Qd(r,a,{staticPosition:0});s+=l,i.push(c)}return i}function Qd(t,e,{staticPosition:n}){const r=CA(e.type);if(r){const[s,i]=r;return B7(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return W7(t,e,{staticPosition:n});if(e.type==="address")return M7(t);if(e.type==="bool")return F7(t);if(e.type.startsWith("bytes"))return z7(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return q7(t,e);if(e.type==="string")return H7(t,{staticPosition:n});throw new WF(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const qT=32,wC=32;function M7(t){const e=t.readBytes(32);return[vm(Fr(MD(e,-20))),32]}function B7(t,e,{length:n,staticPosition:r}){if(!n){const o=la(t.readBytes(wC)),a=r+o,c=a+qT;t.setPosition(a);const l=la(t.readBytes(qT)),u=xg(e);let d=0;const h=[];for(let f=0;f<l;++f){t.setPosition(c+(u?f*32:d));const[p,m]=Qd(t,e,{staticPosition:c});d+=m,h.push(p)}return t.setPosition(r+32),[h,32]}if(xg(e)){const o=la(t.readBytes(wC)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=Qd(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Qd(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function F7(t){return[U7(t.readBytes(32),{size:32}),32]}function z7(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=la(t.readBytes(32));t.setPosition(n+o);const a=la(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Fr(c),32]}return[Fr(t.readBytes(Number.parseInt(s),32)),32]}function q7(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?j7(s,{signed:n}):la(s,{signed:n}),32]}function W7(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(xg(e)){const o=la(t.readBytes(wC)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+i);const[u,d]=Qd(t,l,{staticPosition:a});i+=d,s[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=Qd(t,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=l}return[s,i]}function H7(t,{staticPosition:e}){const n=la(t.readBytes(32)),r=e+n;t.setPosition(r);const s=la(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=L7(Fh(i));return t.setPosition(e+32),[o,32]}function xg(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(xg);const n=CA(t.type);return!!(n&&xg({...t,type:n[1]}))}const V7=t=>zh(Ev(t));function G7(t){return V7(t)}const K7="1.0.8";let fi=class vC extends Error{constructor(e,n={}){var o;const r=n.cause instanceof vC?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof vC&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${K7}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Sa(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const d5=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,h5=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,f5=/^\(.+?\).*?$/,WT=/^tuple(?<array>(\[(\d*)\])*)$/;function bC(t){let e=t.type;if(WT.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=bC(i),s<n-1&&(e+=", ")}const r=Sa(WT,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,bC({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Cf(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=bC(s),r!==n-1&&(e+=", ")}return e}function Y7(t){var e;return t.type==="function"?`function ${t.name}(${Cf(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Cf(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Cf(t.inputs)})`:t.type==="error"?`error ${t.name}(${Cf(t.inputs)})`:t.type==="constructor"?`constructor(${Cf(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const p5=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Q7(t){return p5.test(t)}function J7(t){return Sa(p5,t)}const g5=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Z7(t){return g5.test(t)}function X7(t){return Sa(g5,t)}const m5=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ez(t){return m5.test(t)}function tz(t){return Sa(m5,t)}const y5=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function w5(t){return y5.test(t)}function nz(t){return Sa(y5,t)}const v5=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function rz(t){return v5.test(t)}function sz(t){return Sa(v5,t)}const b5=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function iz(t){return b5.test(t)}function oz(t){return Sa(b5,t)}const az=/^receive\(\) external payable$/;function cz(t){return az.test(t)}const lz=new Set(["indexed"]),_C=new Set(["calldata","memory","storage"]);class uz extends fi{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class dz extends fi{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class hz extends fi{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class fz extends fi{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class pz extends fi{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class gz extends fi{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class mz extends fi{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Wh extends fi{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class yz extends fi{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class wz extends fi{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class vz extends fi{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class bz extends fi{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function _z(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const _1=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Ez(t,e={}){if(ez(t))return Cz(t,e);if(Z7(t))return xz(t,e);if(Q7(t))return Sz(t,e);if(rz(t))return Az(t,e);if(iz(t))return Iz(t);if(cz(t))return{type:"receive",stateMutability:"payable"};throw new yz({signature:t})}function Cz(t,e={}){const n=tz(t);if(!n)throw new Wh({signature:t,type:"function"});const r=ji(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(pu(r[a],{modifiers:_C,structs:e,type:"function"}));const o=[];if(n.returns){const a=ji(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(pu(a[l],{modifiers:_C,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function xz(t,e={}){const n=X7(t);if(!n)throw new Wh({signature:t,type:"event"});const r=ji(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(pu(r[o],{modifiers:lz,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Sz(t,e={}){const n=J7(t);if(!n)throw new Wh({signature:t,type:"error"});const r=ji(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(pu(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Az(t,e={}){const n=sz(t);if(!n)throw new Wh({signature:t,type:"constructor"});const r=ji(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(pu(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Iz(t){const e=oz(t);if(!e)throw new Wh({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const Tz=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Nz=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Pz=/^u?int$/;function pu(t,e){var d,h;const n=_z(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(_1.has(n))return _1.get(n);const r=f5.test(t),s=Sa(r?Nz:Tz,t);if(!s)throw new hz({param:t});if(s.name&&Oz(s.name))throw new fz({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const f=ji(s.type),p=[],m=f.length;for(let w=0;w<m;w++)p.push(pu(f[w],{structs:a}));l={components:p}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(Pz.test(s.type))c=`${s.type}256`;else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!_5(c))throw new dz({type:c});if(s.modifier){if(!((h=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&h.call(d,s.modifier)))throw new pz({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(_C.has(s.modifier)&&!Rz(c,!!s.array))throw new gz({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return _1.set(n,u),u}function ji(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?ji(a,[...e,n.trim()]):ji(a,e,`${n}${o}`,r);case"(":return ji(a,e,`${n}${o}`,r+1);case")":return ji(a,e,`${n}${o}`,r-1);default:return ji(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new bz({current:n,depth:r});return e.push(n.trim()),e}function _5(t){return t==="address"||t==="bool"||t==="function"||t==="string"||d5.test(t)||h5.test(t)}const kz=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Oz(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||d5.test(t)||h5.test(t)||kz.test(t)}function Rz(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function $z(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!w5(a))continue;const c=nz(a);if(!c)throw new Wh({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const p=l[h].trim();if(!p)continue;const m=pu(p,{type:"struct"});u.push(m)}if(!u.length)throw new wz({signature:a});e[c.name]=u}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=E5(c,e)}return r}const Dz=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function E5(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(f5.test(o.type))r.push(o);else{const c=Sa(Dz,o.type);if(!(c!=null&&c.type))throw new mz({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new vz({type:u});r.push({...o,type:`tuple${l??""}`,components:E5(e[u]??[],e,new Set([...n,u]))})}else if(_5(u))r.push(o);else throw new uz({type:u})}}return r}function C5(t){const e=$z(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];w5(i)||n.push(Ez(i,e))}return n}function jz(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new ce("Unable to normalize signature.");return s}const Uz=t=>{const e=typeof t=="string"?t:Y7(t);return jz(e)};function x5(t){return G7(Uz(t))}const RA=x5,$A=t=>b0(x5(t),0,4);function DA(t){const{abi:e,args:n=[],name:r}=t,s=wa(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?$A(a)===r:a.type==="event"?RA(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?EC(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=S5(a.inputs,o.inputs,n);if(l)throw new FF({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function EC(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Vi(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>EC(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>EC(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function S5(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return S5(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Vi(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Vi(n[r],{strict:!1}):!1)return o}}const E1="/docs/contract/decodeFunctionResult";function jA(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=DA({abi:e,args:n,name:r});if(!a)throw new y0(r,{docsPath:E1});i=a}if(i.type!=="function")throw new y0(void 0,{docsPath:E1});if(!i.outputs)throw new BF(i.name,{docsPath:E1});const o=Ov(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const HT="/docs/contract/encodeFunctionData";function Lz(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=DA({abi:e,args:n,name:r});if(!i)throw new y0(r,{docsPath:HT});s=i}if(s.type!=="function")throw new y0(void 0,{docsPath:HT});return{abi:[s],functionName:$A(Yc(s))}}function xm(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:Lz(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?FD(s.inputs,e??[]):void 0;return Av([i,o??"0x"])}function UA({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new cC({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new cC({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const A5={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Mz={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Bz={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Fz(t){const{abi:e,data:n}=t,r=b0(n,0,4);if(r==="0x")throw new Sv;const i=[...e||[],Mz,Bz].find(o=>o.type==="error"&&r===$A(Yc(o)));if(!i)throw new xD(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Ov(i.inputs,b0(n,4)):void 0,errorName:i.name}}function I5({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?Lr(e[i]):e[i]}`).join(", ")})`}class zz extends ce{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:f}){var w;const p=n?lr(n):void 0;let m=bm({from:p==null?void 0:p.address,to:d,value:typeof h<"u"&&`${AA(h)} ${((w=s==null?void 0:s.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${bs(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${bs(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${bs(l)} gwei`,nonce:u});f&&(m+=`
${g7(f)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class T5 extends ce{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=DA({abi:n,args:r,name:o}),l=c?I5({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Yc(c,{includeName:!0}):void 0,d=bm({address:s&&e7(s),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class CC extends ce{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=Fz({abi:e,data:n});const{abiItem:u,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=A5[f]}else{const f=u?Yc(u,{includeName:!0}):void 0,p=u&&h?I5({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){i=u}else s&&(c=s);let l;i instanceof xD&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class qz extends ce{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Wz extends ce{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class LA extends ce{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function Hz(t,e){var r,s,i,o,a,c;if(!(t instanceof ce))return!1;const n=t.walk(l=>l instanceof CC);return n instanceof CC?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((i=n.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||n.reason===A5[50]):!1}function Vz(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return wa(e)?e:null}function Gz(t){return`[${t.slice(2)}]`}function Kz(t){const e=new Uint8Array(32).fill(0);return t?Vz(t)||zh(Yd(t)):Fr(e)}function Yz(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Yd(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let o=Yd(s[i]);o.byteLength>255&&(o=Yd(Gz(Kz(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const Qz=3;function C0(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof LA?t:t instanceof ce?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:h}=a,f=t instanceof Sv?new qz({functionName:i}):[Qz,fu.code].includes(c)&&(l||u||d||h)?new CC({abi:e,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof TA?u:h??d}):t;return new T5(f,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}const Jz="0.1.1";function Zz(){return Jz}let N5=class xC extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof xC){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof xC&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Zz()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return P5(this,e)}};function P5(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?P5(t.cause,e):e?null:t}function Xz(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new nq({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function Xo(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new tq({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?eq(c,r):c}function eq(t,e){return Xz(t,{dir:"left",size:e})}let tq=class extends N5{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},nq=class extends N5{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function rq(t){return{address:t.address,amount:Xo(t.amount),index:Xo(t.index),validatorIndex:Xo(t.validatorIndex)}}function sq(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Xo(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Xo(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Xo(t.gasLimit)},...typeof t.number=="bigint"&&{number:Xo(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Xo(t.prevRandao)},...typeof t.time=="bigint"&&{time:Xo(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(rq)}}}const iq="0x82ad56cb",oq="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",aq="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function cq(t,{docsPath:e,...n}){const r=(()=>{const s=NA(t,n);return s instanceof Nv?t:s})();return new zz(r,{docsPath:e,...n})}function MA(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const C1=new Map;function k5({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{s&&Array.isArray(h)&&h.sort(s);for(let f=0;f<u.length;f++){const{resolve:p}=u[f];p==null||p([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:p}=u[f];p==null||p(h)}})},o=()=>C1.delete(e),a=()=>c().map(({args:u})=>u),c=()=>C1.get(e)||[],l=u=>C1.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:h,reject:f}=MA();return(n==null?void 0:n([...a(),u]))&&i(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(i,r),d)}}}async function O5(t,e){var F,V,I,N;const{account:n=t.account,authorizationList:r,batch:s=!!((F=t.batch)!=null&&F.multicall),blockNumber:i,blockTag:o="latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:h,factoryData:f,gas:p,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:E,value:_,stateOverride:x,...S}=e,A=n?lr(n):void 0;if(u&&(h||f))throw new ce("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&E)throw new ce("Cannot provide both `code` & `to` as parameters.");const C=u&&d,k=h&&f&&E&&d,O=C||k,B=C?dq({code:u,data:d}):k?hq({data:d,factory:h,factoryData:f,to:E}):d;try{_m(e);const D=(typeof i=="bigint"?Ye(i):void 0)||o,$=l?sq(l):void 0,j=t5(x),q=(N=(I=(V=t.chain)==null?void 0:V.formatters)==null?void 0:I.transactionRequest)==null?void 0:N.format,se=(q||Pv)({...PA(S,{format:q}),from:A==null?void 0:A.address,accessList:a,authorizationList:r,blobs:c,data:B,gas:p,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:O?void 0:E,value:_});if(s&&lq({request:se})&&!j&&!$)try{return await uq(t,{...se,blockNumber:i,blockTag:o})}catch(ye){if(!(ye instanceof VD)&&!(ye instanceof cC))throw ye}const ne=(()=>{const ye=[se,D];return j&&$?[...ye,j,$]:j?[...ye,j]:$?[...ye,{},$]:ye})(),ie=await t.request({method:"eth_call",params:ne});return ie==="0x"?{data:void 0}:{data:ie}}catch(L){const D=fq(L),{offchainLookup:$,offchainLookupSignature:j}=await bn(async()=>{const{offchainLookup:q,offchainLookupSignature:J}=await import("./ccip-C9vuRTS0.js");return{offchainLookup:q,offchainLookupSignature:J}},[]);if(t.ccipRead!==!1&&(D==null?void 0:D.slice(0,10))===j&&E)return{data:await $(t,{data:D,to:E})};throw O&&(D==null?void 0:D.slice(0,10))==="0x101bb98d"?new Wz({factory:h}):cq(L,{...e,account:A,chain:t.chain})}}function lq({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(iq)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function uq(t,e){var m;const{batchSize:n=1024,wait:r=0}=typeof((m=t.batch)==null?void 0:m.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:a,to:c}=e;let l=a;if(!l){if(!t.chain)throw new VD;l=UA({blockNumber:s,chain:t.chain,contract:"multicall3"})}const d=(typeof s=="bigint"?Ye(s):void 0)||i,{schedule:h}=k5({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(w){return w.reduce((b,{data:v})=>b+(v.length-2),0)>n*2},fn:async w=>{const y=w.map(E=>({allowFailure:!0,callData:E.data,target:E.to})),b=xm({abi:yC,args:[y],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{data:b,to:l},d]});return jA({abi:yC,args:[y],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:f,success:p}]=await h({data:o,to:c});if(!p)throw new LA({data:f});return f==="0x"?{data:void 0}:{data:f}}function dq(t){const{code:e,data:n}=t;return xA({abi:C5(["constructor(bytes, bytes)"]),bytecode:oq,args:[e,n]})}function hq(t){const{data:e,factory:n,factoryData:r,to:s}=t;return xA({abi:C5(["constructor(address, bytes, address, bytes)"]),bytecode:aq,args:[s,e,n,r]})}function fq(t){var n;if(!(t instanceof ce))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function BA(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=xm({abi:n,args:s,functionName:i});try{const{data:c}=await Ft(t,O5,"call")({...o,data:a,to:r});return jA({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw C0(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function pq(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=UA({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:D7,functionName:"reverse",args:[du(Yz(c))],blockNumber:n,blockTag:r},u=Ft(t,BA,"readContract"),[d,h]=s?await u({...l,args:[...l.args,s]}):await u(l);return e.toLowerCase()!==h.toLowerCase()?null:d}catch(l){if(i)throw l;if(Hz(l))return null;throw l}}function gq(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(n[o]=c.request)})),i=>n[i]||t.request}async function mq(t){const e=gq(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const yq=new Map,wq=new Map;function vq(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,yq),r=e(t,wq);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function bq(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=vq(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const _q=t=>`blockNumber.${t}`;async function Eq(t,{cacheTime:e=t.cacheTime}={}){const n=await bq(()=>t.request({method:"eth_blockNumber"}),{cacheKey:_q(t.uid),cacheTime:e});return BigInt(n)}function R5(t,e){if(!Vi(t,{strict:!1}))throw new Jc({address:t});if(!Vi(e,{strict:!1}))throw new Jc({address:e});return t.toLowerCase()===e.toLowerCase()}const VT="/docs/contract/decodeEventLog";function Cq(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new MF({docsPath:VT});const c=e.find(m=>m.type==="event"&&o===RA(Yc(m)));if(!(c&&"name"in c)||c.type!=="event")throw new SD(o,{docsPath:VT});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(m=>!("name"in m&&m.name)),h=d?[]:{},f=u.map((m,w)=>[m,w]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<f.length;m++){const[w,y]=f[m],b=a[m];if(!b)throw new AD({abiItem:c,param:w});h[d?y:w.name||y]=xq({param:w,value:b})}const p=u.filter(m=>!("indexed"in m&&m.indexed));if(p.length>0){if(n&&n!=="0x")try{const m=Ov(p,n);if(m)if(d)for(let w=0;w<u.length;w++)h[w]=h[w]??m.shift();else for(let w=0;w<p.length;w++)h[p[w].name]=m[w]}catch(m){if(i)throw m instanceof CD||m instanceof zD?new oC({abiItem:c,data:n,params:p,size:Cn(n)}):m}else if(i)throw new oC({abiItem:c,data:"0x",params:p,size:0})}return{eventName:l,args:Object.values(h).length>0?h:void 0}}function xq({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Ov([t],e)||[])[0]}function Sq(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(u=>u.type==="event"&&o.topics[0]===RA(u));if(!c)return null;const l=Cq({...o,abi:[c],strict:s});return i&&!i.includes(l.eventName)||!Aq({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,u;if(c instanceof SD)return null;if(c instanceof oC||c instanceof AD){if(s)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function Aq(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?R5(o,a):i.type==="string"||i.type==="bytes"?zh(Ev(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,e[i])):!1}):!1}function $5(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function Iq(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>$5(i));return!("abi"in e)||!e.abi?s:Sq({abi:e.abi,logs:s,strict:n})}async function D5(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var u,d,h;const o=r||"latest",a=n!==void 0?Ye(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Ye(i)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,Ye(i)]},{dedupe:!!a}),!c)throw new KD({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:h.format)||XD)(c)}const j5={"0x0":"reverted","0x1":"success"};function Tq(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>$5(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?ba(t.transactionIndex):null,status:t.status?j5[t.status]:null,type:t.type?ZD[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function GT(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new YD({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||Tq)(n)}async function Nq(t,e){var y;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:i,blockTag:o,multicallAddress:a,stateOverride:c}=e,l=e.contracts,u=s??(typeof((y=t.batch)==null?void 0:y.multicall)=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=UA({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=[[]];let f=0,p=0;for(let b=0;b<l.length;b++){const{abi:v,address:E,args:_,functionName:x}=l[b];try{const S=xm({abi:v,args:_,functionName:x});p+=(S.length-2)/2,u>0&&p>u&&h[f].length>0&&(f++,p=(S.length-2)/2,h[f]=[]),h[f]=[...h[f],{allowFailure:!0,callData:S,target:E}]}catch(S){const A=C0(S,{abi:v,address:E,args:_,docsPath:"/docs/contract/multicall",functionName:x,sender:n});if(!r)throw A;h[f]=[...h[f],{allowFailure:!0,callData:"0x",target:E}]}}const m=await Promise.allSettled(h.map(b=>Ft(t,BA,"readContract")({abi:yC,account:n,address:d,args:[b],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:c}))),w=[];for(let b=0;b<m.length;b++){const v=m[b];if(v.status==="rejected"){if(!r)throw v.reason;for(let _=0;_<h[b].length;_++)w.push({status:"failure",error:v.reason,result:void 0});continue}const E=v.value;for(let _=0;_<E.length;_++){const{returnData:x,success:S}=E[_],{callData:A}=h[b][_],{abi:C,address:k,functionName:O,args:B}=l[w.length];try{if(A==="0x")throw new Sv;if(!S)throw new LA({data:x});const F=jA({abi:C,args:B,data:x,functionName:O});w.push(r?{result:F,status:"success"}:F)}catch(F){const V=C0(F,{abi:C,address:k,args:B,docsPath:"/docs/contract/multicall",functionName:O});if(!r)throw V;w.push({error:V,result:void 0,status:"failure"})}}}if(w.length!==l.length)throw new ce("multicall results mismatch");return w}const _y=new Iv(8192);function Pq(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(_y.get(n))return _y.get(n);const r=t().finally(()=>_y.delete(n));return _y.set(n,r),r}async function x0(t){return new Promise(e=>setTimeout(e,t))}function S0(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await x0(u),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}function kq(t,e={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(l))throw new jl(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new jl(new Error("method not supported"),{method:l});const u=s?Cv(`${c}.${Lr(n)}`):void 0;return Pq(()=>S0(async()=>{try{return await t(n)}catch(h){const f=h;switch(f.code){case ag.code:throw new ag(f);case cg.code:throw new cg(f);case lg.code:throw new lg(f,{method:n.method});case ug.code:throw new ug(f);case fu.code:throw new fu(f);case dg.code:throw new dg(f);case hg.code:throw new hg(f);case Lc.code:throw new Lc(f);case Eh.code:throw new Eh(f);case jl.code:throw new jl(f,{method:n.method});case Ch.code:throw new Ch(f);case fg.code:throw new fg(f);case $n.code:throw new $n(f);case pg.code:throw new pg(f);case gg.code:throw new gg(f);case mg.code:throw new mg(f);case yg.code:throw new yg(f);case Ao.code:throw new Ao(f);case xh.code:throw new xh(f);case wg.code:throw new wg(f);case vg.code:throw new vg(f);case bg.code:throw new bg(f);case _g.code:throw new _g(f);case Eg.code:throw new Eg(f);case Sh.code:throw new Sh(f);case 5e3:throw new $n(f);default:throw h instanceof ce?h:new n7(f)}}},{delay:({count:h,error:f})=>{var p;if(f&&f instanceof bp){const m=(p=f==null?void 0:f.headers)==null?void 0:p.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>Oq(h)}),{enabled:s,id:u})}}function Oq(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Ch.code||t.code===fu.code:t instanceof bp&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Rq(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function U5(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(e)},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function $q(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const KT=$q();function Dq(t,e={}){return{async request(n){var d;const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const h=await U5(async({signal:p})=>{const m={...a,body:Array.isArray(r)?Lr(r.map(v=>({jsonrpc:"2.0",id:v.id??KT.take(),...v}))):Lr({jsonrpc:"2.0",id:r.id??KT.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?p:null)},w=new Request(t,m),y=await(s==null?void 0:s(w,m))??{...m,url:t};return await fetch(y.url??t,y)},{errorInstance:new jT({body:r,url:t}),timeout:o,signal:!0});i&&await i(h);let f;if((d=h.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))f=await h.json();else{f=await h.text();try{f=JSON.parse(f||"{}")}catch(p){if(h.ok)throw p;f={error:f}}}if(!h.ok)throw new bp({body:r,details:Lr(f.error)||h.statusText,headers:h.headers,status:h.status,url:t});return f}catch(h){throw h instanceof bp||h instanceof jT?h:new bp({body:r,cause:h,url:t})}}}}class jq extends ce{constructor({domain:e}){super(`Invalid domain "${Lr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Uq extends ce{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Lq extends ce{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Mq(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(c,l)=>{const u={...l};for(const d of c){const{name:h,type:f}=d;f==="address"&&(u[h]=u[h].toLowerCase())}return u},o=s.EIP712Domain?e?i(s.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return Lr({domain:o,message:a,primaryType:r,types:s})}function Bq(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(o,a)=>{for(const c of o){const{name:l,type:u}=c,d=a[l],h=u.match(BD);if(h&&(typeof d=="number"||typeof d=="bigint")){const[m,w,y]=h;Ye(d,{signed:w==="int",size:Number.parseInt(y)/8})}if(u==="address"&&typeof d=="string"&&!Vi(d))throw new Jc({address:d});const f=u.match(S9);if(f){const[m,w]=f;if(w&&Cn(d)!==Number.parseInt(w))throw new zF({expectedSize:Number.parseInt(w),givenSize:Cn(d)})}const p=s[u];p&&(zq(u),i(p,d))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new jq({domain:e});i(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new Uq({primaryType:r,types:s})}function Fq({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function zq(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Lq({type:t})}class qq extends ce{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Wq(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new qq({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}const x1=new Map,YT=new Map;let Hq=0;function Sg(t,e,n){const r=++Hq,s=()=>x1.get(t)||[],i=()=>{const u=s();x1.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=s();if(!u.some(h=>h.id===r))return;const d=YT.get(t);if(u.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}i()},a=s();if(x1.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...d)=>{var f,p;const h=s();if(h.length!==0)for(const m of h)(p=(f=m.fns)[u])==null||p.call(f,...d)};const l=n(c);return typeof l=="function"&&YT.set(t,l),o}function FA(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await x0(c);const l=async()=>{s&&(await t({unpoll:i}),await x0(r),l())};l()})(),i}function Vq(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=Lr(["watchBlockNumber",t.uid,e,n,o]);return Sg(d,{onBlockNumber:r,onError:s},h=>FA(async()=>{var f;try{const p=await Ft(t,Eq,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let m=c+1n;m<p;m++)h.onBlockNumber(m,c),c=m}(!c||p>c)&&(h.onBlockNumber(p,c),c=p)}catch(p){(f=h.onError)==null||f.call(h,p)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=Lr(["watchBlockNumber",t.uid,e,n]);return Sg(d,{onBlockNumber:r,onError:s},h=>{let f=!0,p=()=>f=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const y=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return y?y.value:t.transport}return t.transport})(),{unsubscribe:w}=await m.subscribe({params:["newHeads"],onData(y){var v;if(!f)return;const b=va((v=y.result)==null?void 0:v.number);h.onBlockNumber(b,c),c=b},onError(y){var b;(b=h.onError)==null||b.call(h,y)}});p=w,f||p()}catch(m){s==null||s(m)}})(),()=>p()})})()}async function Gq(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Kq(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=Lr(["watchPendingTransactions",t.uid,e,i]);return Sg(l,{onTransactions:r,onError:n},u=>{let d;const h=FA(async()=>{var f;try{if(!d)try{d=await Ft(t,mq,"createPendingTransactionFilter")({});return}catch(m){throw h(),m}const p=await Ft(t,Iq,"getFilterChanges")({filter:d});if(p.length===0)return;if(e)u.onTransactions(p);else for(const m of p)u.onTransactions([m])}catch(p){(f=u.onError)==null||f.call(u,p)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await Ft(t,Gq,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const f=h.result;r([f])},onError(h){n==null||n(h)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}async function Yq(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>vm(r))}async function Qq(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Jq(t,e={}){const{account:n=t.account,chainId:r}=e,s=n?lr(n):void 0,i=r?[s==null?void 0:s.address,[Ye(r)]]:[s==null?void 0:s.address],o=await t.request({method:"wallet_getCapabilities",params:i}),a={};for(const[c,l]of Object.entries(o)){a[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=d}return typeof r=="number"?a[r]:a}const L5="0x5792579257925792579257925792579257925792579257925792579257925792",M5=Ye(0,{size:32});async function Zq(t,e){const{account:n=t.account,capabilities:r,chain:s=t.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=e,u=n?lr(n):null,d=e.calls.map(h=>{const f=h,p=f.abi?xm({abi:f.abi,functionName:f.functionName,args:f.args}):f.data;return{data:f.dataSuffix&&p?Qc([p,f.dataSuffix]):p,to:f.to,value:f.value?Ye(f.value):void 0}});try{const h=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:Ye(s.id),from:u==null?void 0:u.address,id:c,version:l}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const f=h;if(i&&(f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError"||f.name==="UnknownRpcError"||f.details.toLowerCase().includes("does not exist / is not available")||f.details.toLowerCase().includes("missing or invalid. request()")||f.details.toLowerCase().includes("did not match any variant of untagged enum")||f.details.toLowerCase().includes("account upgraded to unsupported contract")||f.details.toLowerCase().includes("eip-7702 not supported")||f.details.toLowerCase().includes("unsupported wc_ method"))){if(r&&Object.values(r).some(b=>!b.optional)){const b="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new xh(new ce(b,{details:b}))}if(a&&d.length>1){const y="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Sh(new ce(y,{details:y}))}const p=[];for(const y of d){const b=Cm(t,{account:u,chain:s,data:y.data,to:y.to,value:y.value?va(y.value):void 0});p.push(b),o>0&&await new Promise(v=>setTimeout(v,o))}const m=await Promise.allSettled(p);if(m.every(y=>y.status==="rejected"))throw m[0].reason;const w=m.map(y=>y.status==="fulfilled"?y.value:M5);return{id:Qc([...w,Ye(s.id,{size:32}),L5])}}throw QD(h,{...e,account:u,chain:e.chain})}}async function B5(t,e){async function n(u){if(u.endsWith(L5.slice(2))){const h=Fh(aC(u,-64,-32)),f=aC(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(f.map(w=>M5.slice(2)!==w?t.request({method:"eth_getTransactionReceipt",params:[`0x${w}`]},{dedupe:!0}):void 0)),m=p.some(w=>w===null)?100:p.every(w=>(w==null?void 0:w.status)==="0x1")?200:p.every(w=>(w==null?void 0:w.status)==="0x0")?500:600;return{atomic:!1,chainId:ba(h),receipts:p.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(e.id),[c,l]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:s?ba(s):void 0,receipts:(i==null?void 0:i.map(u=>({...u,blockNumber:va(u.blockNumber),gasUsed:va(u.gasUsed),status:j5[u.status]})))??[],statusCode:l,status:c,version:o}}async function Xq(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function eW(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:h})=>h>=200,timeout:i=6e4}=e,o=Lr(["waitForCallsStatus",t.uid,n]),{promise:a,resolve:c,reject:l}=MA();let u;const d=Sg(o,{resolve:c,reject:l},h=>{const f=FA(async()=>{const p=m=>{clearTimeout(u),f(),m(),d()};try{const m=await B5(t,{id:n});if(!s(m))return;p(()=>h.resolve(m))}catch(m){p(()=>h.reject(m))}},{interval:r,emitOnBegin:!0});return f});return u=i?setTimeout(()=>{d(),clearTimeout(u),l(new tW({id:n}))},i):void 0,await a}class tW extends ce{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function nW(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=Lr(["waitForTransactionReceipt",t.uid,n]);let l,u,d,h=!1,f,p;const{promise:m,resolve:w,reject:y}=MA(),b=a?setTimeout(()=>{p(),f(),y(new X9({hash:n}))},a):void 0;return f=Sg(c,{onReplaced:r,resolve:w,reject:y},v=>{p=Ft(t,Vq,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(E){const _=S=>{clearTimeout(b),p(),S(),f()};let x=E;if(!h)try{if(d){if(e>1&&(!d.blockNumber||x-d.blockNumber+1n<e))return;_(()=>v.resolve(d));return}if(l||(h=!0,await S0(async()=>{l=await Ft(t,D5,"getTransaction")({hash:n}),l.blockNumber&&(x=l.blockNumber)},{delay:o,retryCount:i}),h=!1),d=await Ft(t,GT,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||x-d.blockNumber+1n<e))return;_(()=>v.resolve(d))}catch(S){if(S instanceof KD||S instanceof YD){if(!l){h=!1;return}try{u=l,h=!0;const A=await S0(()=>Ft(t,Cg,"getBlock")({blockNumber:x,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:O})=>O instanceof JD});h=!1;const C=A.transactions.find(({from:O,nonce:B})=>O===u.from&&B===u.nonce);if(!C||(d=await Ft(t,GT,"getTransactionReceipt")({hash:C.hash}),e>1&&(!d.blockNumber||x-d.blockNumber+1n<e)))return;let k="replaced";C.to===u.to&&C.value===u.value&&C.input===u.input?k="repriced":C.from===C.to&&C.value===0n&&(k="cancelled"),_(()=>{var O;(O=v.onReplaced)==null||O.call(v,{reason:k,replacedTransaction:u,transaction:C,transactionReceipt:d}),v.resolve(d)})}catch(A){_(()=>v.reject(A))}}else _(()=>v.reject(S))}}})}),m}async function rW(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Cc(n))}async function sW(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function F5(t,e){var c;const{account:n=t.account,chainId:r,nonce:s}=e;if(!n)throw new Ou({docsPath:"/docs/eip7702/prepareAuthorization"});const i=lr(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:lr(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await Ft(t,Em,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await Ft(t,s5,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&R5(o.address,i.address))&&(a.nonce+=1)),a}async function iW(t,e){const{account:n=t.account}=e;if(!n)throw new Ou({docsPath:"/docs/eip7702/signAuthorization"});const r=lr(n);if(!r.signAuthorization)throw new Iw({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await F5(t,e);return r.signAuthorization(s)}async function oW(t,e){var l,u,d,h;const{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new Ou({docsPath:"/docs/actions/wallet/signTransaction"});const i=lr(n);_m({account:i,...e});const o=await Ft(t,Em,"getChainId")({});r!==null&&GD({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=t.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||Pv;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:(h=(d=t.chain)==null?void 0:d.serializers)==null?void 0:h.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(s),chainId:Ye(o),from:i.address}]},{retryCount:0})}async function z5(t,{account:e=t.account,message:n}){if(!e)throw new Ou({docsPath:"/docs/actions/wallet/signMessage"});const r=lr(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Cv(n):n.raw instanceof Uint8Array?du(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function aW(t,e){const{account:n=t.account,domain:r,message:s,primaryType:i}=e;if(!n)throw new Ou({docsPath:"/docs/actions/wallet/signTypedData"});const o=lr(n),a={EIP712Domain:Fq({domain:r}),...e.types};if(Bq({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=Mq({domain:r,message:s,primaryType:i,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function cW(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Ye(e)}]},{retryCount:0})}async function lW(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function q5(t,e){const{abi:n,account:r=t.account,address:s,args:i,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new Ou({docsPath:"/docs/contract/writeContract"});const l=r?lr(r):null,u=xm({abi:n,args:i,functionName:a});try{return await Ft(t,Cm,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:s,account:l,...c})}catch(d){throw C0(d,{abi:n,address:s,args:i,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}function Ls(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const Tw="2.17.3",uW=()=>`@wagmi/core@${Tw}`;var W5=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},A0,H5;let Aa=class SC extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return uW()}constructor(e,n={}){var i;super(),A0.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof SC?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof SC&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return W5(this,A0,"m",H5).call(this,this,e)}};A0=new WeakSet,H5=function t(e,n){return n!=null&&n(e)?e:e.cause?W5(this,A0,"m",t).call(this,e.cause,n):e};class Ag extends Aa{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class dW extends Aa{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class hW extends Aa{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class fW extends Aa{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class pW extends Aa{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class gW extends Aa{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Nw(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new dW;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await n.connect(i),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(s){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}const AC=256;let Ey=AC,Cy;function V5(t=11){if(!Cy||Ey+t>AC*2){Cy="",Ey=0;for(let e=0;e<AC;e++)Cy+=(256+Math.random()*256|0).toString(16).substring(1)}return Cy.substring(Ey,Ey+++t)}function G5(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,a=(n==null?void 0:n.blockTime)??12e3,c=Math.min(Math.max(Math.floor(a/2),500),4e3),l=t.pollingInterval??c,u=t.cacheTime??l,d=t.account?lr(t.account):void 0,{config:h,request:f,value:p}=t.transport({chain:n,pollingInterval:l}),m={...h,...p},w={account:d,batch:e,cacheTime:u,ccipRead:r,chain:n,key:s,name:i,pollingInterval:l,request:f,transport:m,type:o,uid:V5()};function y(b){return v=>{const E=v(b);for(const x in w)delete E[x];const _={...b,...E};return Object.assign(_,{extend:y(_)})}}return Object.assign(w,{extend:y(w)})}function zA({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=V5();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:kq(r,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}function mW(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>zA({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}function QT(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=yW,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let h=t,f=()=>{};const p=zA({key:n,name:r,async request({method:m,params:w}){let y;const b=async(v=0)=>{const E=h[v]({...d,chain:c,retryCount:0,timeout:u});try{const _=await E.request({method:m,params:w});return f({method:m,params:w,response:_,transport:E,status:"success"}),_}catch(_){if(f({error:_,method:m,params:w,transport:E,status:"error"}),i(_)||v===h.length-1||(y??(y=h.slice(v+1).some(x=>{const{include:S,exclude:A}=x({chain:c}).config.methods||{};return S?S.includes(m):A?!A.includes(m):!0})),!y))throw _;return b(v+1)}};return b()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:m=>f=m,transports:h.map(m=>m({chain:c,retryCount:0}))});if(s){const m=typeof s=="object"?s:{};wW({chain:c,interval:m.interval??l,onTransports:w=>h=w,ping:m.ping,sampleCount:m.sampleCount,timeout:m.timeout,transports:h,weights:m.weights})}return p}}function yW(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Eh.code||t.code===$n.code||Dl.nodeMessage.test(t.message)||t.code===5e3))}function wW({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const h=await Promise.all(o.map(async m=>{const w=m({chain:t,retryCount:0,timeout:i}),y=Date.now();let b,v;try{await(r?r({transport:w}):w.request({method:"net_listening"})),v=1}catch{v=0}finally{b=Date.now()}return{latency:b-y,success:v}}));u.push(h),u.length>s&&u.shift();const f=Math.max(...u.map(m=>Math.max(...m.map(({latency:w})=>w)))),p=o.map((m,w)=>{const y=u.map(x=>x[w].latency),v=1-y.reduce((x,S)=>x+S,0)/y.length/f,E=u.map(x=>x[w].success),_=E.reduce((x,S)=>x+S,0)/E.length;return _===0?[0,w]:[l*v+c*_,w]}).sort((m,w)=>w[0]-m[0]);n(p.map(([,m])=>o[m])),await x0(e),d()};d()}class vW extends ce{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function xy(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:h,timeout:f})=>{const{batchSize:p=1e3,wait:m=0}=typeof n=="object"?n:{},w=e.retryCount??h,y=f??e.timeout??1e4,b=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!b)throw new vW;const v=Dq(b,{fetchOptions:r,onRequest:a,onResponse:c,timeout:y});return zA({key:s,methods:i,name:o,async request({method:E,params:_}){const x={method:E,params:_},{schedule:S}=k5({id:b,wait:m,shouldSplitBatch(O){return O.length>p},fn:O=>v.request({body:O}),sort:(O,B)=>O.id-B.id}),A=async O=>n?S(O):[await v.request({body:O})],[{error:C,result:k}]=await A(x);if(u)return{error:C,result:k};if(C)throw new TA({body:x,error:C,url:b});return k},retryCount:w,retryDelay:l,timeout:y,type:"http"},{fetchOptions:r,url:b})}}function bW(t){return{addChain:e=>RF(t,e),deployContract:e=>R7(t,e),getAddresses:()=>Yq(t),getCallsStatus:e=>B5(t,e),getCapabilities:e=>Jq(t,e),getChainId:()=>Em(t),getPermissions:()=>Qq(t),prepareAuthorization:e=>F5(t,e),prepareTransactionRequest:e=>kv(t,e),requestAddresses:()=>rW(t),requestPermissions:e=>sW(t,e),sendCalls:e=>Zq(t,e),sendRawTransaction:e=>u5(t,e),sendTransaction:e=>Cm(t,e),showCallsStatus:e=>Xq(t,e),signAuthorization:e=>iW(t,e),signMessage:e=>z5(t,e),signTransaction:e=>oW(t,e),signTypedData:e=>aW(t,e),switchChain:e=>cW(t,e),waitForCallsStatus:e=>eW(t,e),watchAsset:e=>lW(t,e),writeContract:e=>q5(t,e)}}async function Sm(t,e={}){let n;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new gW({connector:l});const[u,d]=await Promise.all([l.getAccounts().catch(h=>{if(e.account===null)return[];throw h}),l.getChainId()]);n={accounts:u,chainId:d,connector:l}}else n=t.state.connections.get(t.state.current);if(!n)throw new hW;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new pW({connectionChainId:n.chainId,connectorChainId:s});const i=n.connector;if(i.getClient)return i.getClient({chainId:r});const o=lr(e.account??n.accounts[0]);if(o&&(o.address=Cc(o.address)),e.account&&!n.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new fW({address:o.address,connector:i});const a=t.chains.find(l=>l.id===r),c=await n.connector.getProvider({chainId:r});return G5({account:o,chain:a,name:"Connector Client",transport:l=>mW(c)({...l,retryCount:0})})}async function K5(t,e={}){var s,i;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(s=t.state.connections.get(o))==null?void 0:s.connector;if(!a)return;await((i=t.storage)==null?void 0:i.setItem("recentConnectorId",a.id))}}async function _W(t,e){const{chainId:n,connector:r,...s}=e;let i;e.account?i=e.account:i=(await Sm(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return Ls(o,r5,"estimateGas")({...s,account:i})}function Y5(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(Y9[t])}function Jd(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function EW(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=e,o=t.getClient({chainId:r});return Ls(o,Nq,"multicall")({allowFailure:n,contracts:s,...i})}function CW(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return Ls(s,BA,"readContract")(r)}async function xW(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=e,o=e.contracts;try{const c={};for(const[h,f]of o.entries()){const p=f.chainId??t.state.chainId;c[p]||(c[p]=[]),(a=c[p])==null||a.push({contract:f,index:h})}const l=()=>Object.entries(c).map(([h,f])=>EW(t,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(h),contracts:f.map(({contract:p})=>p)})),u=(await Promise.all(l())).flat(),d=Object.values(c).flatMap(h=>h.map(({index:f})=>f));return u.reduce((h,f,p)=>(h&&(h[d[p]]=f),h),[])}catch(c){if(c instanceof T5)throw c;const l=()=>o.map(u=>CW(t,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(l())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function SW(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=e;if(o)try{return await JT(t,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(h){if(h.name==="ContractFunctionExecutionError"){const f=await JT(t,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),p=_D(Fh(f.symbol,{dir:"right"}));return{...f,symbol:p}}throw h}const c=t.getClient({chainId:i}),u=await Ls(c,n5,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=t.chains.find(h=>h.id===i)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:qh(u,Y5(a)),symbol:d.nativeCurrency.symbol,value:u}}async function JT(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,l,u]=await xW(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=qh(c??"0",Y5(o??l));return{decimals:l,formatted:d,symbol:u,value:c}}function ZT(t){return t.state.chainId}function gu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!gu(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!gu(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let Sy=[];function lo(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||gu(Sy,e)?Sy:(Sy=e,e)}let S1=[];function XT(t){const e=t.connectors;return gu(S1,e)?S1:(S1=e,e)}function AW(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return Ls(s,pq,"getEnsName")(r)}async function IW(t,e={}){return(await Sm(t,e)).extend(bW)}async function TW(t,e){const{account:n,chainId:r,...s}=e,i=n??Jd(t).address,o=t.getClient({chainId:r});return Ls(o,kv,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}let A1=!1;async function IC(t,e={}){var l,u;if(A1)return[];A1=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const d of e.connectors){let h;typeof d=="function"?h=t._internal.connectors.setup(d):h=d,n.push(h)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of t.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,h)=>(s[d.id]??10)-(s[h.id]??10)):n;let o=!1;const a=[],c=[];for(const d of i){const h=await d.getProvider().catch(()=>{});if(!h||c.some(m=>m===h)||!await d.isAuthorized())continue;const p=await d.connect({isReconnecting:!0}).catch(()=>null);p&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(m=>{const w=new Map(o?m.connections:new Map).set(d.uid,{accounts:p.accounts,chainId:p.chainId,connector:d});return{...m,current:o?m.current:d.uid,connections:w}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:d}),c.push(h),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),A1=!1,a}async function NW(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await Sm(t,{account:n??void 0,chainId:r,connector:s}),await Ls(o,Cm,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function PW(t,e){const{account:n,connector:r,...s}=e;let i;return typeof n=="object"&&n.type==="local"?i=t.getClient():i=await Sm(t,{account:n,connector:r}),Ls(i,z5,"signMessage")({...s,...n?{account:n}:{}})}class Za extends Aa{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class kW extends Aa{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function eN(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new kW({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const i=t.chains.find(a=>a.id===r);if(!i)throw new Ag;return t.setState(a=>({...a,chainId:r})),i}function Q5(t,e){const{onChange:n}=e;return t.subscribe(()=>Jd(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return gu(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function OW(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function RW(t,e){const{onChange:n}=e;return t.subscribe(()=>lo(t),n,{equalityFn:gu})}function J5(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function $W(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const i=c=>{s&&s();const l=t.getClient({chainId:c});return s=Ls(l,Kq,"watchPendingTransactions")(r),s},o=i(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>i(c))),()=>{o==null||o(),a==null||a()}}async function Z5(t,e){const{chainId:n,timeout:r=0,...s}=e,i=t.getClient({chainId:n}),a=await Ls(i,nW,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const l=await Ls(i,D5,"getTransaction")({hash:a.transactionHash}),d=await Ls(i,O5,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),h=d!=null&&d.data?_D(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...a,chainId:i.chain.id}}async function X5(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await Sm(t,{account:n??void 0,chainId:r,connector:s}),await Ls(o,q5,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function axe(t){return t}Rv.type="injected";function Rv(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...DW[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Rv.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)))},async connect({chainId:l,isReconnecting:u}={}){var f,p,m,w,y,b;const d=await this.getProvider();if(!d)throw new Za;let h=[];if(u)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(w=(m=(p=(f=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:f.caveats)==null?void 0:p[0])==null?void 0:m.value)==null?void 0:w.map(E=>Cc(E)),h.length>0&&(h=await this.getAccounts())}catch(v){const E=v;if(E.code===$n.code)throw new $n(E);if(E.code===Lc.code)throw E}try{!(h!=null&&h.length)&&!u&&(h=(await d.request({method:"eth_requestAccounts"})).map(_=>Cc(_))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let v=await this.getChainId();if(l&&v!==l){const E=await this.switchChain({chainId:l}).catch(_=>{if(_.code===$n.code)throw _;return{id:v}});v=(E==null?void 0:E.id)??v}return e&&await((y=c.storage)==null?void 0:y.removeItem(`${this.id}.disconnected`)),t.target||await((b=c.storage)==null?void 0:b.setItem("injected.connected",!0)),{accounts:h,chainId:v}}catch(v){const E=v;throw E.code===$n.code?new $n(E):E.code===Lc.code?new Lc(E):E}},async disconnect(){var u,d;const l=await this.getProvider();if(!l)throw new Za;i&&(l.removeListener("chainChanged",i),i=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await U5(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new Za;return(await l.request({method:"eth_accounts"})).map(d=>Cc(d))},async getChainId(){const l=await this.getProvider();if(!l)throw new Za;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=Pw(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),m=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(y=>window.addEventListener("ethereum#initialized",()=>y(p()),{once:!0}))]:[],new Promise(y=>setTimeout(()=>y(p()),m))]))return!0}throw new Za}return!!(await S0(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var p,m,w,y;const d=await this.getProvider();if(!d)throw new Za;const h=c.chains.find(b=>b.id===u);if(!h)throw new Ao(new Ag);const f=new Promise(b=>{const v=E=>{"chainId"in E&&E.chainId===u&&(c.emitter.off("change",v),b())};c.emitter.on("change",v)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:Ye(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),f]),h}catch(b){const v=b;if(v.code===4902||((m=(p=v==null?void 0:v.data)==null?void 0:p.originalError)==null?void 0:m.code)===4902)try{const{default:E,..._}=h.blockExplorers??{};let x;l!=null&&l.blockExplorerUrls?x=l.blockExplorerUrls:E&&(x=[E.url,...Object.values(_).map(C=>C.url)]);let S;(w=l==null?void 0:l.rpcUrls)!=null&&w.length?S=l.rpcUrls:S=[((y=h.rpcUrls.default)==null?void 0:y.http[0])??""];const A={blockExplorerUrls:x,chainId:Ye(u),chainName:(l==null?void 0:l.chainName)??h.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??h.nativeCurrency,rpcUrls:S};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[A]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new $n(new Error("User rejected switch after adding network."))}),f]),h}catch(E){throw new $n(E)}throw v.code===$n.code?new $n(v):new Ao(v)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(d=>Cc(d))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const d=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:d});const h=await this.getProvider();h&&(o&&(h.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const DW={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Pw(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Pw(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:Pw(t,"isPhantom")}}};function Pw(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function jW(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function UW(){const t=new Set;let e=[];const n=()=>jW(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const LW=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=h=>{const f=o(h);if(!u(d,f)){const p=d;a(d=f,p)}},c!=null&&c.fireImmediately&&a(d,d)}return s(l)},t(e,n,r)},MW=LW;function BW(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const TC=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return TC(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return TC(r)(n)}}}},FW=(t,e)=>(n,r,s)=>{let i={storage:BW(()=>localStorage),partialize:m=>m,version:0,merge:(m,w)=>({...w,...m}),...e},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...m)},r,s);const u=()=>{const m=i.partialize({...r()});return l.setItem(i.name,{state:m,version:i.version})},d=s.setState;s.setState=(m,w)=>{d(m,w),u()};const h=t((...m)=>{n(...m),u()},r,s);s.getInitialState=()=>h;let f;const p=()=>{var m,w;if(!l)return;o=!1,a.forEach(b=>{var v;return b((v=r())!=null?v:h)});const y=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(m=r())!=null?m:h))||void 0;return TC(l.getItem.bind(l))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var v;const[E,_]=b;if(f=i.merge(_,(v=r())!=null?v:h),n(f,!0),E)return u()}).then(()=>{y==null||y(f,void 0),f=r(),o=!0,c.forEach(b=>b(f))}).catch(b=>{y==null||y(void 0,b)})};return s.persist={setOptions:m=>{i={...i,...m},m.storage&&(l=m.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},i.skipHydration||p(),f||h},zW=FW,tN=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,s,a);return a},I1=t=>t?tN(t):tN;var e8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new s(u,d||c,h),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,h,f,p){var m=n?n+l:l;if(!this._events[m])return!1;var w=this._events[m],y=arguments.length,b,v;if(w.fn){switch(w.once&&this.removeListener(l,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,d),!0;case 4:return w.fn.call(w.context,u,d,h),!0;case 5:return w.fn.call(w.context,u,d,h,f),!0;case 6:return w.fn.call(w.context,u,d,h,f,p),!0}for(v=1,b=new Array(y-1);v<y;v++)b[v-1]=arguments[v];w.fn.apply(w.context,b)}else{var E=w.length,_;for(v=0;v<E;v++)switch(w[v].once&&this.removeListener(l,w[v].fn,void 0,!0),y){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,u);break;case 3:w[v].fn.call(w[v].context,u,d);break;case 4:w[v].fn.call(w[v].context,u,d,h);break;default:if(!b)for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];w[v].fn.apply(w[v].context,b)}}return!0},a.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,h){var f=n?n+l:l;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var m=0,w=[],y=p.length;m<y;m++)(p[m].fn!==u||h&&!p[m].once||d&&p[m].context!==d)&&w.push(p[m]);w.length?this._events[f]=w.length===1?w[0]:w:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(e8);var qW=e8.exports;const WW=Nu(qW);class HW{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new WW})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function VW(t){return new HW(t)}function GW(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function nN(t,e){return t.slice(0,e).join(".")||"."}function rN(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function KW(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const l=rN(s,this);l===0?s[s.length]=this:(s.splice(l),i.splice(l)),i[i.length]=a;const u=rN(s,c);if(u!==0)return r?e.call(this,a,c,nN(i,u)):`[ref=${nN(i,u)}]`}else s[0]=c,i[0]=a;return n?t.call(this,a,c):c}}function YW(t,e,n,r){return JSON.stringify(t,KW((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),n??void 0)}function QW(t){const{deserialize:e=GW,key:n="wagmi",serialize:r=YW,storage:s=t8}=t;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),l=await i(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const t8={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function JW(){const t=typeof window<"u"&&window.localStorage?window.localStorage:t8;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const NC=256;let Ay=NC,Iy;function ZW(t=11){if(!Iy||Ay+t>NC*2){Iy="",Ay=0;for(let e=0;e<NC;e++)Iy+=(256+Math.random()*256|0).toString(16).substring(1)}return Iy.substring(Ay,Ay+++t)}function XW(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=QW({storage:JW()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?UW():void 0,a=I1(()=>i.chains),c=I1(()=>{const _=[],x=new Set;for(const S of i.connectors??[]){const A=l(S);if(_.push(A),!s&&A.rdns){const C=typeof A.rdns=="string"?[A.rdns]:A.rdns;for(const k of C)x.add(k)}}if(!s&&o){const S=o.getProviders();for(const A of S)x.has(A.info.rdns)||_.push(l(u(A)))}return _});function l(_){var A;const x=VW(ZW()),S={..._({emitter:x,chains:a.getState(),storage:n,transports:i.transports}),emitter:x,uid:x.uid};return x.on("connect",v),(A=S.setup)==null||A.call(S),S}function u(_){const{info:x}=_,S=_.provider;return Rv({target:{...x,id:x.rdns,provider:S}})}const d=new Map;function h(_={}){const x=_.chainId??w.getState().chainId,S=a.getState().find(C=>C.id===x);if(_.chainId&&!S)throw new Ag;{const C=d.get(w.getState().chainId);if(C&&!S)return C;if(!S)throw new Ag}{const C=d.get(x);if(C)return C}let A;if(i.client)A=i.client({chain:S});else{const C=S.id,k=a.getState().map(F=>F.id),O={},B=Object.entries(i);for(const[F,V]of B)if(!(F==="chains"||F==="client"||F==="connectors"||F==="transports"))if(typeof V=="object")if(C in V)O[F]=V[C];else{if(k.some(N=>N in V))continue;O[F]=V}else O[F]=V;A=G5({...O,chain:S,batch:O.batch??{multicall:!0},transport:F=>i.transports[C]({...F,connectors:c})})}return d.set(x,A),A}function f(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const m="0.0.0-canary-";Tw.startsWith(m)?p=Number.parseInt(Tw.replace(m,"")):p=Number.parseInt(Tw.split(".")[0]??"0");const w=I1(MW(n?zW(f,{migrate(_,x){if(x===p)return _;const S=f(),A=y(_,S.chainId);return{...S,chainId:A}},name:"store",partialize(_){return{connections:{__type:"Map",value:Array.from(_.connections.entries()).map(([x,S])=>{const{id:A,name:C,type:k,uid:O}=S.connector;return[x,{...S,connector:{id:A,name:C,type:k,uid:O}}]})},chainId:_.chainId,current:_.current}},merge(_,x){typeof _=="object"&&_&&"status"in _&&delete _.status;const S=y(_,x.chainId);return{...x,..._,chainId:S}},skipHydration:s,storage:n,version:p}):f));w.setState(f());function y(_,x){return _&&typeof _=="object"&&"chainId"in _&&typeof _.chainId=="number"&&a.getState().some(S=>S.id===_.chainId)?_.chainId:x}r&&w.subscribe(({connections:_,current:x})=>{var S;return x?(S=_.get(x))==null?void 0:S.chainId:void 0},_=>{if(a.getState().some(S=>S.id===_))return w.setState(S=>({...S,chainId:_??S.chainId}))}),o==null||o.subscribe(_=>{const x=new Set,S=new Set;for(const C of c.getState())if(x.add(C.id),C.rdns){const k=typeof C.rdns=="string"?[C.rdns]:C.rdns;for(const O of k)S.add(O)}const A=[];for(const C of _){if(S.has(C.info.rdns))continue;const k=l(u(C));x.has(k.id)||A.push(k)}n&&!w.persist.hasHydrated()||c.setState(C=>[...C,...A],!0)});function b(_){w.setState(x=>{const S=x.connections.get(_.uid);return S?{...x,connections:new Map(x.connections).set(_.uid,{accounts:_.accounts??S.accounts,chainId:_.chainId??S.chainId,connector:S.connector})}:x})}function v(_){w.getState().status==="connecting"||w.getState().status==="reconnecting"||w.setState(x=>{const S=c.getState().find(A=>A.uid===_.uid);return S?(S.emitter.listenerCount("connect")&&S.emitter.off("connect",b),S.emitter.listenerCount("change")||S.emitter.on("change",b),S.emitter.listenerCount("disconnect")||S.emitter.on("disconnect",E),{...x,connections:new Map(x.connections).set(_.uid,{accounts:_.accounts,chainId:_.chainId,connector:S}),current:_.uid,status:"connected"}):x})}function E(_){w.setState(x=>{const S=x.connections.get(_.uid);if(S){const C=S.connector;C.emitter.listenerCount("change")&&S.connector.emitter.off("change",b),C.emitter.listenerCount("disconnect")&&S.connector.emitter.off("disconnect",E),C.emitter.listenerCount("connect")||S.connector.emitter.on("connect",v)}if(x.connections.delete(_.uid),x.connections.size===0)return{...x,connections:new Map,current:null,status:"disconnected"};const A=x.connections.values().next().value;return{...x,connections:new Map(x.connections),current:A.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:h,get state(){return w.getState()},setState(_){let x;typeof _=="function"?x=_(w.getState()):x=_;const S=f();typeof x!="object"&&(x=S),Object.keys(S).some(C=>!(C in x))&&(x=S),w.setState(x,!0)},subscribe(_,x,S){return w.subscribe(_,x,S?{...S,fireImmediately:S.emitImmediately}:void 0)},_internal:{mipd:o,store:w,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(_){const x=typeof _=="function"?_(a.getState()):_;if(x.length!==0)return a.setState(x,!0)},subscribe(_){return a.subscribe(_)}},connectors:{providerDetailToConnector:u,setup:l,setState(_){return c.setState(typeof _=="function"?_(c.getState()):_,!0)},subscribe(_){return c.subscribe(_)}},events:{change:b,connect:v,disconnect:E}}}}function eH(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var c;const i=new Set;for(const l of s??[])if(l.rdns){const u=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const d of u)i.add(d)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(i.has(l.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(l),d=t._internal.connectors.setup(u);o.push(d)}return[...s,...o]})),r?IC(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function tH(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:i}=eH(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=P.useRef(!0);return P.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),e}const n8=P.createContext(void 0);function nH(t){const{children:e,config:n}=t,r={value:n};return P.createElement(tH,t,P.createElement(n8.Provider,r,e))}const rH="2.15.6",sH=()=>`wagmi@${rH}`;let iH=class extends Aa{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return sH()}};class oH extends iH{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Po(t={}){const e=t.config??P.useContext(n8);if(!e)throw new oH;return e}var r8={exports:{}},s8={},i8={exports:{}},o8={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=P;function aH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cH=typeof Object.is=="function"?Object.is:aH,lH=Ah.useState,uH=Ah.useEffect,dH=Ah.useLayoutEffect,hH=Ah.useDebugValue;function fH(t,e){var n=e(),r=lH({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return dH(function(){s.value=n,s.getSnapshot=e,T1(s)&&i({inst:s})},[t,n,e]),uH(function(){return T1(s)&&i({inst:s}),t(function(){T1(s)&&i({inst:s})})},[t]),hH(n),n}function T1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cH(t,n)}catch{return!0}}function pH(t,e){return e()}var gH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pH:fH;o8.useSyncExternalStore=Ah.useSyncExternalStore!==void 0?Ah.useSyncExternalStore:gH;i8.exports=o8;var mH=i8.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v=P,yH=mH;function wH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vH=typeof Object.is=="function"?Object.is:wH,bH=yH.useSyncExternalStore,_H=$v.useRef,EH=$v.useEffect,CH=$v.useMemo,xH=$v.useDebugValue;s8.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=_H(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=CH(function(){function c(f){if(!l){if(l=!0,u=f,f=r(f),s!==void 0&&o.hasValue){var p=o.value;if(s(p,f))return d=p}return d=f}if(p=d,vH(u,f))return p;var m=r(f);return s!==void 0&&s(p,m)?(u=f,p):(u=f,d=m)}var l=!1,u,d,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,s]);var a=bH(t,i[0],i[1]);return EH(function(){o.hasValue=!0,o.value=a},[a]),xH(a),a};r8.exports=s8;var SH=r8.exports;const N1=t=>typeof t=="object"&&!Array.isArray(t);function AH(t,e,n=e,r=gu){const s=P.useRef([]),i=SH.useSyncExternalStoreWithSelector(t,e,n,o=>o,(o,a)=>{if(N1(o)&&N1(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return P.useMemo(()=>{if(N1(i)){const o={...i};let a={};for(const[c,l]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),l)}};return Object.defineProperties(o,a),o}return i},[i])}function Am(t={}){const e=Po(t);return AH(n=>Q5(e,{onChange:n}),()=>Jd(e))}var Hh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mu=typeof window>"u"||"Deno"in globalThis;function Dr(){}function IH(t,e){return typeof t=="function"?t(e):t}function PC(t){return typeof t=="number"&&t>=0&&t!==1/0}function a8(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Mc(t,e){return typeof t=="function"?t(e):t}function $i(t,e){return typeof t=="function"?t(e):t}function sN(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==qA(o,e.options))return!1}else if(!Ig(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function iN(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(yu(e.options.mutationKey)!==yu(i))return!1}else if(!Ig(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function qA(t,e){return((e==null?void 0:e.queryKeyHashFn)||yu)(t)}function yu(t){return JSON.stringify(t,(e,n)=>kC(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ig(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ig(t[n],e[n])):!1}function c8(t,e){if(t===e)return t;const n=oN(t)&&oN(e);if(n||kC(t)&&kC(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=c8(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function I0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function oN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kC(t){if(!aN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!aN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function aN(t){return Object.prototype.toString.call(t)==="[object Object]"}function TH(t){return new Promise(e=>{setTimeout(e,t)})}function OC(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?c8(t,e):e}function NH(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function PH(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var WA=Symbol();function l8(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===WA?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function u8(t,e){return typeof t=="function"?t(...e):!!t}var Wl,dc,rh,GR,kH=(GR=class extends Hh{constructor(){super();ze(this,Wl);ze(this,dc);ze(this,rh);Ae(this,rh,e=>{if(!mu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){M(this,dc)||this.setEventListener(M(this,rh))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,dc))==null||e.call(this),Ae(this,dc,void 0))}setEventListener(e){var n;Ae(this,rh,e),(n=M(this,dc))==null||n.call(this),Ae(this,dc,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){M(this,Wl)!==e&&(Ae(this,Wl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof M(this,Wl)=="boolean"?M(this,Wl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Wl=new WeakMap,dc=new WeakMap,rh=new WeakMap,GR),HA=new kH,sh,hc,ih,KR,OH=(KR=class extends Hh{constructor(){super();ze(this,sh,!0);ze(this,hc);ze(this,ih);Ae(this,ih,e=>{if(!mu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){M(this,hc)||this.setEventListener(M(this,ih))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,hc))==null||e.call(this),Ae(this,hc,void 0))}setEventListener(e){var n;Ae(this,ih,e),(n=M(this,hc))==null||n.call(this),Ae(this,hc,e(this.setOnline.bind(this)))}setOnline(e){M(this,sh)!==e&&(Ae(this,sh,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return M(this,sh)}},sh=new WeakMap,hc=new WeakMap,ih=new WeakMap,KR),T0=new OH;function RC(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function RH(t){return Math.min(1e3*2**t,3e4)}function d8(t){return(t??"online")==="online"?T0.isOnline():!0}var h8=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function P1(t){return t instanceof h8}function f8(t){let e=!1,n=0,r=!1,s;const i=RC(),o=m=>{var w;r||(h(new h8(m)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>HA.isFocused()&&(t.networkMode==="always"||T0.isOnline())&&t.canRun(),u=()=>d8(t.networkMode)&&t.canRun(),d=m=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,m),s==null||s(),i.resolve(m))},h=m=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,m),s==null||s(),i.reject(m))},f=()=>new Promise(m=>{var w;s=y=>{(r||l())&&m(y)},(w=t.onPause)==null||w.call(t)}).then(()=>{var m;s=void 0,r||(m=t.onContinue)==null||m.call(t)}),p=()=>{if(r)return;let m;const w=n===0?t.initialPromise:void 0;try{m=w??t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(d).catch(y=>{var x;if(r)return;const b=t.retry??(mu?0:3),v=t.retryDelay??RH,E=typeof v=="function"?v(n,y):v,_=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(e||!_){h(y);return}n++,(x=t.onFail)==null||x.call(t,n,y),TH(E).then(()=>l()?void 0:f()).then(()=>{e?h(y):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?p():f().then(p),i)}}var $H=t=>setTimeout(t,0);function DH(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=$H;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Un=DH(),Hl,YR,p8=(YR=class{constructor(){ze(this,Hl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),PC(this.gcTime)&&Ae(this,Hl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(mu?1/0:5*60*1e3))}clearGcTimeout(){M(this,Hl)&&(clearTimeout(M(this,Hl)),Ae(this,Hl,void 0))}},Hl=new WeakMap,YR),oh,Vl,ti,Gl,Sr,lm,Kl,Ni,Vo,QR,jH=(QR=class extends p8{constructor(e){super();ze(this,Ni);ze(this,oh);ze(this,Vl);ze(this,ti);ze(this,Gl);ze(this,Sr);ze(this,lm);ze(this,Kl);Ae(this,Kl,!1),Ae(this,lm,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ae(this,Gl,e.client),Ae(this,ti,M(this,Gl).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ae(this,oh,UH(this.options)),this.state=e.state??M(this,oh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=M(this,Sr))==null?void 0:e.promise}setOptions(e){this.options={...M(this,lm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,ti).remove(this)}setData(e,n){const r=OC(this.state.data,e,this.options);return it(this,Ni,Vo).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){it(this,Ni,Vo).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=M(this,Sr))==null?void 0:r.promise;return(s=M(this,Sr))==null||s.cancel(e),n?n.then(Dr).catch(Dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,oh))}isActive(){return this.observers.some(e=>$i(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===WA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Mc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!a8(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=M(this,Sr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=M(this,Sr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),M(this,ti).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(M(this,Sr)&&(M(this,Kl)?M(this,Sr).cancel({revert:!0}):M(this,Sr).cancelRetry()),this.scheduleGc()),M(this,ti).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||it(this,Ni,Vo).call(this,{type:"invalidate"})}fetch(e,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(M(this,Sr))return M(this,Sr).continueRetry(),M(this,Sr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ae(this,Kl,!0),r.signal)})},i=()=>{const h=l8(this.options,n),p=(()=>{const m={client:M(this,Gl),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return Ae(this,Kl,!1),this.options.persister?this.options.persister(h,p,this):h(p)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:M(this,Gl),state:this.state,fetchFn:i};return s(h),h})();(l=this.options.behavior)==null||l.onFetch(a,this),Ae(this,Vl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&it(this,Ni,Vo).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const c=h=>{var f,p,m,w;P1(h)&&h.silent||it(this,Ni,Vo).call(this,{type:"error",error:h}),P1(h)||((p=(f=M(this,ti).config).onError)==null||p.call(f,h,this),(w=(m=M(this,ti).config).onSettled)==null||w.call(m,this.state.data,h,this)),this.scheduleGc()};return Ae(this,Sr,f8({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,m,w;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(p=(f=M(this,ti).config).onSuccess)==null||p.call(f,h,this),(w=(m=M(this,ti).config).onSettled)==null||w.call(m,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,f)=>{it(this,Ni,Vo).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{it(this,Ni,Vo).call(this,{type:"pause"})},onContinue:()=>{it(this,Ni,Vo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),M(this,Sr).start()}},oh=new WeakMap,Vl=new WeakMap,ti=new WeakMap,Gl=new WeakMap,Sr=new WeakMap,lm=new WeakMap,Kl=new WeakMap,Ni=new WeakSet,Vo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...g8(r.data,this.options),fetchMeta:e.meta??null};case"success":return Ae(this,Vl,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return P1(s)&&s.revert&&M(this,Vl)?{...M(this,Vl),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),M(this,ti).notify({query:this,type:"updated",action:e})})},QR);function g8(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d8(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function UH(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var uo,JR,LH=(JR=class extends Hh{constructor(e={}){super();ze(this,uo);this.config=e,Ae(this,uo,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??qA(s,n);let o=this.get(i);return o||(o=new jH({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){M(this,uo).has(e.queryHash)||(M(this,uo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=M(this,uo).get(e.queryHash);n&&(e.destroy(),n===e&&M(this,uo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return M(this,uo).get(e)}getAll(){return[...M(this,uo).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>sN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>sN(e,r)):n}notify(e){Un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Un.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Un.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},uo=new WeakMap,JR),ho,Or,Yl,fo,Va,ZR,MH=(ZR=class extends p8{constructor(e){super();ze(this,fo);ze(this,ho);ze(this,Or);ze(this,Yl);this.mutationId=e.mutationId,Ae(this,Or,e.mutationCache),Ae(this,ho,[]),this.state=e.state||m8(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){M(this,ho).includes(e)||(M(this,ho).push(e),this.clearGcTimeout(),M(this,Or).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ae(this,ho,M(this,ho).filter(n=>n!==e)),this.scheduleGc(),M(this,Or).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){M(this,ho).length||(this.state.status==="pending"?this.scheduleGc():M(this,Or).remove(this))}continue(){var e;return((e=M(this,Yl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,l,u,d,h,f,p,m,w,y,b,v,E,_,x,S,A;const n=()=>{it(this,fo,Va).call(this,{type:"continue"})};Ae(this,Yl,f8({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,k)=>{it(this,fo,Va).call(this,{type:"failed",failureCount:C,error:k})},onPause:()=>{it(this,fo,Va).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,Or).canRun(this)}));const r=this.state.status==="pending",s=!M(this,Yl).canStart();try{if(r)n();else{it(this,fo,Va).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=M(this,Or).config).onMutate)==null?void 0:o.call(i,e,this));const k=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));k!==this.state.context&&it(this,fo,Va).call(this,{type:"pending",context:k,variables:e,isPaused:s})}const C=await M(this,Yl).start();return await((u=(l=M(this,Or).config).onSuccess)==null?void 0:u.call(l,C,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,C,e,this.state.context)),await((p=(f=M(this,Or).config).onSettled)==null?void 0:p.call(f,C,null,this.state.variables,this.state.context,this)),await((w=(m=this.options).onSettled)==null?void 0:w.call(m,C,null,e,this.state.context)),it(this,fo,Va).call(this,{type:"success",data:C}),C}catch(C){try{throw await((b=(y=M(this,Or).config).onError)==null?void 0:b.call(y,C,e,this.state.context,this)),await((E=(v=this.options).onError)==null?void 0:E.call(v,C,e,this.state.context)),await((x=(_=M(this,Or).config).onSettled)==null?void 0:x.call(_,void 0,C,this.state.variables,this.state.context,this)),await((A=(S=this.options).onSettled)==null?void 0:A.call(S,void 0,C,e,this.state.context)),C}finally{it(this,fo,Va).call(this,{type:"error",error:C})}}finally{M(this,Or).runNext(this)}}},ho=new WeakMap,Or=new WeakMap,Yl=new WeakMap,fo=new WeakSet,Va=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Un.batch(()=>{M(this,ho).forEach(r=>{r.onMutationUpdate(e)}),M(this,Or).notify({mutation:this,type:"updated",action:e})})},ZR);function m8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ta,Pi,um,XR,BH=(XR=class extends Hh{constructor(e={}){super();ze(this,ta);ze(this,Pi);ze(this,um);this.config=e,Ae(this,ta,new Set),Ae(this,Pi,new Map),Ae(this,um,0)}build(e,n,r){const s=new MH({mutationCache:this,mutationId:++ny(this,um)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){M(this,ta).add(e);const n=Ty(e);if(typeof n=="string"){const r=M(this,Pi).get(n);r?r.push(e):M(this,Pi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(M(this,ta).delete(e)){const n=Ty(e);if(typeof n=="string"){const r=M(this,Pi).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&M(this,Pi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ty(e);if(typeof n=="string"){const r=M(this,Pi).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Ty(e);if(typeof n=="string"){const s=(r=M(this,Pi).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Un.batch(()=>{M(this,ta).forEach(e=>{this.notify({type:"removed",mutation:e})}),M(this,ta).clear(),M(this,Pi).clear()})}getAll(){return Array.from(M(this,ta))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>iN(n,r))}findAll(e={}){return this.getAll().filter(n=>iN(e,n))}notify(e){Un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Un.batch(()=>Promise.all(e.map(n=>n.continue().catch(Dr))))}},ta=new WeakMap,Pi=new WeakMap,um=new WeakMap,XR);function Ty(t){var e;return(e=t.options.scope)==null?void 0:e.id}function cN(t){return{onFetch:(e,n)=>{var u,d,h,f,p;const r=e.options,s=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let m=!1;const w=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=l8(e.options,e.fetchOptions),b=async(v,E,_)=>{if(m)return Promise.reject();if(E==null&&v.pages.length)return Promise.resolve(v);const S=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:E,direction:_?"backward":"forward",meta:e.options.meta};return w(O),O})(),A=await y(S),{maxPages:C}=e.options,k=_?PH:NH;return{pages:k(v.pages,A,C),pageParams:k(v.pageParams,E,C)}};if(s&&i.length){const v=s==="backward",E=v?FH:lN,_={pages:i,pageParams:o},x=E(r,_);a=await b(_,x,v)}else{const v=t??i.length;do{const E=c===0?o[0]??r.initialPageParam:lN(r,a);if(c>0&&E==null)break;a=await b(a,E),c++}while(c<v)}return a};e.options.persister?e.fetchFn=()=>{var m,w;return(w=(m=e.options).persister)==null?void 0:w.call(m,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function lN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function FH(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var mn,fc,pc,ah,ch,gc,lh,uh,e3,zH=(e3=class{constructor(t={}){ze(this,mn);ze(this,fc);ze(this,pc);ze(this,ah);ze(this,ch);ze(this,gc);ze(this,lh);ze(this,uh);Ae(this,mn,t.queryCache||new LH),Ae(this,fc,t.mutationCache||new BH),Ae(this,pc,t.defaultOptions||{}),Ae(this,ah,new Map),Ae(this,ch,new Map),Ae(this,gc,0)}mount(){ny(this,gc)._++,M(this,gc)===1&&(Ae(this,lh,HA.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,mn).onFocus())})),Ae(this,uh,T0.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,mn).onOnline())})))}unmount(){var t,e;ny(this,gc)._--,M(this,gc)===0&&((t=M(this,lh))==null||t.call(this),Ae(this,lh,void 0),(e=M(this,uh))==null||e.call(this),Ae(this,uh,void 0))}isFetching(t){return M(this,mn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return M(this,fc).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,mn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=M(this,mn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Mc(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return M(this,mn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=M(this,mn).get(r.queryHash),i=s==null?void 0:s.state.data,o=IH(e,i);if(o!==void 0)return M(this,mn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Un.batch(()=>M(this,mn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,mn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=M(this,mn);Un.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=M(this,mn);return Un.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Un.batch(()=>M(this,mn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Dr).catch(Dr)}invalidateQueries(t,e={}){return Un.batch(()=>(M(this,mn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Un.batch(()=>M(this,mn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Dr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Dr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=M(this,mn).build(this,e);return n.isStaleByTime(Mc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Dr).catch(Dr)}fetchInfiniteQuery(t){return t.behavior=cN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Dr).catch(Dr)}ensureInfiniteQueryData(t){return t.behavior=cN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return T0.isOnline()?M(this,fc).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,mn)}getMutationCache(){return M(this,fc)}getDefaultOptions(){return M(this,pc)}setDefaultOptions(t){Ae(this,pc,t)}setQueryDefaults(t,e){M(this,ah).set(yu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...M(this,ah).values()],n={};return e.forEach(r=>{Ig(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){M(this,ch).set(yu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...M(this,ch).values()],n={};return e.forEach(r=>{Ig(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...M(this,pc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=qA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===WA&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...M(this,pc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){M(this,mn).clear(),M(this,fc).clear()}},mn=new WeakMap,fc=new WeakMap,pc=new WeakMap,ah=new WeakMap,ch=new WeakMap,gc=new WeakMap,lh=new WeakMap,uh=new WeakMap,e3),as,ft,dm,Rr,Ql,dh,mc,yc,hm,hh,fh,Jl,Zl,wc,ph,kt,Zf,$C,DC,jC,UC,LC,MC,BC,y8,t3,qH=(t3=class extends Hh{constructor(e,n){super();ze(this,kt);ze(this,as);ze(this,ft);ze(this,dm);ze(this,Rr);ze(this,Ql);ze(this,dh);ze(this,mc);ze(this,yc);ze(this,hm);ze(this,hh);ze(this,fh);ze(this,Jl);ze(this,Zl);ze(this,wc);ze(this,ph,new Set);this.options=n,Ae(this,as,e),Ae(this,yc,null),Ae(this,mc,RC()),this.options.experimental_prefetchInRender||M(this,mc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,ft).addObserver(this),uN(M(this,ft),this.options)?it(this,kt,Zf).call(this):this.updateResult(),it(this,kt,UC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return FC(M(this,ft),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return FC(M(this,ft),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,it(this,kt,LC).call(this),it(this,kt,MC).call(this),M(this,ft).removeObserver(this)}setOptions(e){const n=this.options,r=M(this,ft);if(this.options=M(this,as).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $i(this.options.enabled,M(this,ft))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");it(this,kt,BC).call(this),M(this,ft).setOptions(this.options),n._defaulted&&!I0(this.options,n)&&M(this,as).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,ft),observer:this});const s=this.hasListeners();s&&dN(M(this,ft),r,this.options,n)&&it(this,kt,Zf).call(this),this.updateResult(),s&&(M(this,ft)!==r||$i(this.options.enabled,M(this,ft))!==$i(n.enabled,M(this,ft))||Mc(this.options.staleTime,M(this,ft))!==Mc(n.staleTime,M(this,ft)))&&it(this,kt,$C).call(this);const i=it(this,kt,DC).call(this);s&&(M(this,ft)!==r||$i(this.options.enabled,M(this,ft))!==$i(n.enabled,M(this,ft))||i!==M(this,wc))&&it(this,kt,jC).call(this,i)}getOptimisticResult(e){const n=M(this,as).getQueryCache().build(M(this,as),e),r=this.createResult(n,e);return HH(this,r)&&(Ae(this,Rr,r),Ae(this,dh,this.options),Ae(this,Ql,M(this,ft).state)),r}getCurrentResult(){return M(this,Rr)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){M(this,ph).add(e)}getCurrentQuery(){return M(this,ft)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=M(this,as).defaultQueryOptions(e),r=M(this,as).getQueryCache().build(M(this,as),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return it(this,kt,Zf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,Rr)))}createResult(e,n){var C;const r=M(this,ft),s=this.options,i=M(this,Rr),o=M(this,Ql),a=M(this,dh),l=e!==r?e.state:M(this,dm),{state:u}=e;let d={...u},h=!1,f;if(n._optimisticResults){const k=this.hasListeners(),O=!k&&uN(e,n),B=k&&dN(e,r,n,s);(O||B)&&(d={...d,...g8(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:w}=d;f=d.data;let y=!1;if(n.placeholderData!==void 0&&f===void 0&&w==="pending"){let k;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(k=i.data,y=!0):k=typeof n.placeholderData=="function"?n.placeholderData((C=M(this,fh))==null?void 0:C.state.data,M(this,fh)):n.placeholderData,k!==void 0&&(w="success",f=OC(i==null?void 0:i.data,k,n),h=!0)}if(n.select&&f!==void 0&&!y)if(i&&f===(o==null?void 0:o.data)&&n.select===M(this,hm))f=M(this,hh);else try{Ae(this,hm,n.select),f=n.select(f),f=OC(i==null?void 0:i.data,f,n),Ae(this,hh,f),Ae(this,yc,null)}catch(k){Ae(this,yc,k)}M(this,yc)&&(p=M(this,yc),f=M(this,hh),m=Date.now(),w="error");const b=d.fetchStatus==="fetching",v=w==="pending",E=w==="error",_=v&&b,x=f!==void 0,A={status:w,fetchStatus:d.fetchStatus,isPending:v,isSuccess:w==="success",isError:E,isInitialLoading:_,isLoading:_,data:f,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!v,isLoadingError:E&&!x,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:E&&x,isStale:VA(e,n),refetch:this.refetch,promise:M(this,mc)};if(this.options.experimental_prefetchInRender){const k=F=>{A.status==="error"?F.reject(A.error):A.data!==void 0&&F.resolve(A.data)},O=()=>{const F=Ae(this,mc,A.promise=RC());k(F)},B=M(this,mc);switch(B.status){case"pending":e.queryHash===r.queryHash&&k(B);break;case"fulfilled":(A.status==="error"||A.data!==B.value)&&O();break;case"rejected":(A.status!=="error"||A.error!==B.reason)&&O();break}}return A}updateResult(){const e=M(this,Rr),n=this.createResult(M(this,ft),this.options);if(Ae(this,Ql,M(this,ft).state),Ae(this,dh,this.options),M(this,Ql).data!==void 0&&Ae(this,fh,M(this,ft)),I0(n,e))return;Ae(this,Rr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!M(this,ph).size)return!0;const o=new Set(i??M(this,ph));return this.options.throwOnError&&o.add("error"),Object.keys(M(this,Rr)).some(a=>{const c=a;return M(this,Rr)[c]!==e[c]&&o.has(c)})};it(this,kt,y8).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&it(this,kt,UC).call(this)}},as=new WeakMap,ft=new WeakMap,dm=new WeakMap,Rr=new WeakMap,Ql=new WeakMap,dh=new WeakMap,mc=new WeakMap,yc=new WeakMap,hm=new WeakMap,hh=new WeakMap,fh=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,wc=new WeakMap,ph=new WeakMap,kt=new WeakSet,Zf=function(e){it(this,kt,BC).call(this);let n=M(this,ft).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Dr)),n},$C=function(){it(this,kt,LC).call(this);const e=Mc(this.options.staleTime,M(this,ft));if(mu||M(this,Rr).isStale||!PC(e))return;const r=a8(M(this,Rr).dataUpdatedAt,e)+1;Ae(this,Jl,setTimeout(()=>{M(this,Rr).isStale||this.updateResult()},r))},DC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,ft)):this.options.refetchInterval)??!1},jC=function(e){it(this,kt,MC).call(this),Ae(this,wc,e),!(mu||$i(this.options.enabled,M(this,ft))===!1||!PC(M(this,wc))||M(this,wc)===0)&&Ae(this,Zl,setInterval(()=>{(this.options.refetchIntervalInBackground||HA.isFocused())&&it(this,kt,Zf).call(this)},M(this,wc)))},UC=function(){it(this,kt,$C).call(this),it(this,kt,jC).call(this,it(this,kt,DC).call(this))},LC=function(){M(this,Jl)&&(clearTimeout(M(this,Jl)),Ae(this,Jl,void 0))},MC=function(){M(this,Zl)&&(clearInterval(M(this,Zl)),Ae(this,Zl,void 0))},BC=function(){const e=M(this,as).getQueryCache().build(M(this,as),this.options);if(e===M(this,ft))return;const n=M(this,ft);Ae(this,ft,e),Ae(this,dm,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},y8=function(e){Un.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(M(this,Rr))}),M(this,as).getQueryCache().notify({query:M(this,ft),type:"observerResultsUpdated"})})},t3);function WH(t,e){return $i(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function uN(t,e){return WH(t,e)||t.state.data!==void 0&&FC(t,e,e.refetchOnMount)}function FC(t,e,n){if($i(e.enabled,t)!==!1&&Mc(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&VA(t,e)}return!1}function dN(t,e,n,r){return(t!==e||$i(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&VA(t,n)}function VA(t,e){return $i(e.enabled,t)!==!1&&t.isStaleByTime(Mc(e.staleTime,t))}function HH(t,e){return!I0(t.getCurrentResult(),e)}var vc,bc,cs,na,fa,kw,zC,n3,VH=(n3=class extends Hh{constructor(n,r){super();ze(this,fa);ze(this,vc);ze(this,bc);ze(this,cs);ze(this,na);Ae(this,vc,n),this.setOptions(r),this.bindMethods(),it(this,fa,kw).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=M(this,vc).defaultMutationOptions(n),I0(this.options,r)||M(this,vc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,cs),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&yu(r.mutationKey)!==yu(this.options.mutationKey)?this.reset():((s=M(this,cs))==null?void 0:s.state.status)==="pending"&&M(this,cs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=M(this,cs))==null||n.removeObserver(this)}onMutationUpdate(n){it(this,fa,kw).call(this),it(this,fa,zC).call(this,n)}getCurrentResult(){return M(this,bc)}reset(){var n;(n=M(this,cs))==null||n.removeObserver(this),Ae(this,cs,void 0),it(this,fa,kw).call(this),it(this,fa,zC).call(this)}mutate(n,r){var s;return Ae(this,na,r),(s=M(this,cs))==null||s.removeObserver(this),Ae(this,cs,M(this,vc).getMutationCache().build(M(this,vc),this.options)),M(this,cs).addObserver(this),M(this,cs).execute(n)}},vc=new WeakMap,bc=new WeakMap,cs=new WeakMap,na=new WeakMap,fa=new WeakSet,kw=function(){var r;const n=((r=M(this,cs))==null?void 0:r.state)??m8();Ae(this,bc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},zC=function(n){Un.batch(()=>{var r,s,i,o,a,c,l,u;if(M(this,na)&&this.hasListeners()){const d=M(this,bc).variables,h=M(this,bc).context;(n==null?void 0:n.type)==="success"?((s=(r=M(this,na)).onSuccess)==null||s.call(r,n.data,d,h),(o=(i=M(this,na)).onSettled)==null||o.call(i,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((c=(a=M(this,na)).onError)==null||c.call(a,n.error,d,h),(u=(l=M(this,na)).onSettled)==null||u.call(l,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(M(this,bc))})})},n3);function GH(t){return JSON.stringify(t,(e,n)=>KH(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function KH(t){if(!hN(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!hN(n)||!n.hasOwnProperty("isPrototypeOf"))}function hN(t){return Object.prototype.toString.call(t)==="[object Object]"}function GA(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:i,maxPages:o,meta:a,networkMode:c,queryFn:l,queryHash:u,queryKey:d,queryKeyHashFn:h,retry:f,retryDelay:p,structuralSharing:m,getPreviousPageParam:w,getNextPageParam:y,initialPageParam:b,_optimisticResults:v,enabled:E,notifyOnChangeProps:_,placeholderData:x,refetchInterval:S,refetchIntervalInBackground:A,refetchOnMount:C,refetchOnReconnect:k,refetchOnWindowFocus:O,retryOnMount:B,select:F,staleTime:V,suspense:I,throwOnError:N,config:L,connector:D,query:$,...j}=t;return j}function YH(t){return{mutationFn(e){return Nw(t,e)},mutationKey:["connect"]}}function QH(t){return{mutationFn(e){return K5(t,e)},mutationKey:["disconnect"]}}function JH(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("address is required");return AW(t,{...i,address:r})},queryKey:ZH(e)}}function ZH(t={}){return["ensName",GA(t)]}function XH(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=e,{connectorUid:s,scopeKey:i,...o}=n[1];return IW(t,{...o,connector:r})},queryKey:eV(e)}}function eV(t={}){const{connector:e,...n}=t;return["walletClient",{...GA(n),connectorUid:e==null?void 0:e.uid}]}function tV(t,e={}){return{async queryFn({queryKey:n}){const{hash:r,...s}=n[1];if(!r)throw new Error("hash is required");return Z5(t,{...s,onReplaced:e.onReplaced,hash:r})},queryKey:nV(e)}}function nV(t={}){const{onReplaced:e,...n}=t;return["waitForTransactionReceipt",GA(n)]}function rV(t){return{mutationFn(e){return X5(t,e)},mutationKey:["writeContract"]}}var w8=P.createContext(void 0),KA=t=>{const e=P.useContext(w8);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},sV=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(w8.Provider,{value:t,children:e})),v8=P.createContext(!1),iV=()=>P.useContext(v8);v8.Provider;function oV(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var aV=P.createContext(oV()),cV=()=>P.useContext(aV),lV=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},uV=t=>{P.useEffect(()=>{t.clearReset()},[t])},dV=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||u8(n,[t.error,r])),hV=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},fV=(t,e)=>t.isLoading&&t.isFetching&&!e,pV=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,fN=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function gV(t,e,n){var d,h,f,p,m;const r=iV(),s=cV(),i=KA(),o=i.defaultQueryOptions(t);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",hV(o),lV(o,s),uV(s);const a=!i.getQueryCache().get(o.queryHash),[c]=P.useState(()=>new e(i,o)),l=c.getOptimisticResult(o),u=!r&&t.subscribed!==!1;if(P.useSyncExternalStore(P.useCallback(w=>{const y=u?c.subscribe(Un.batchCalls(w)):Dr;return c.updateResult(),y},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),P.useEffect(()=>{c.setOptions(o)},[o,c]),pV(o,l))throw fN(o,c,s);if(dV({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((p=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,l),o.experimental_prefetchInRender&&!mu&&fV(l,r)){const w=a?fN(o,c,s):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;w==null||w.catch(Dr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function mV(t,e){return gV(t,qH)}function YA(t,e){const n=KA(),[r]=P.useState(()=>new VH(n,t));P.useEffect(()=>{r.setOptions(t)},[r,t]);const s=P.useSyncExternalStore(P.useCallback(o=>r.subscribe(Un.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=P.useCallback((o,a)=>{r.mutate(o,a).catch(Dr)},[r]);if(s.error&&u8(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function QA(t){const e=mV({...t,queryKeyHashFn:GH});return e.queryKey=t.queryKey,e}function JA(t={}){const e=Po(t);return P.useSyncExternalStore(n=>OW(e,{onChange:n}),()=>ZT(e),()=>ZT(e))}function yV(t={}){const e=Po(t);return P.useSyncExternalStore(n=>J5(e,{onChange:n}),()=>XT(e),()=>XT(e))}function b8(t={}){const{mutation:e}=t,n=Po(t),r=YH(n),{mutate:s,mutateAsync:i,...o}=YA({...e,...r});return P.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:yV({config:n})}}function wV(t={}){const e=Po(t);return P.useSyncExternalStore(n=>RW(e,{onChange:n}),()=>lo(e),()=>lo(e))}function _8(t={}){const{mutation:e}=t,n=Po(t),r=QH(n),{mutate:s,mutateAsync:i,...o}=YA({...e,...r});return{...o,connectors:wV({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:i}}function E8(t={}){const{address:e,query:n={}}=t,r=Po(t),s=JA({config:r}),i=JH(r,{...t,chainId:t.chainId??s}),o=!!(e&&(n.enabled??!0));return QA({...n,...i,enabled:o})}function C8(t={}){const{query:e={},...n}=t,r=Po(n),s=KA(),{address:i,connector:o,status:a}=Am({config:r}),c=JA({config:r}),l=t.connector??o,{queryKey:u,...d}=XH(r,{...t,chainId:t.chainId??c,connector:t.connector??o}),h=!!((a==="connected"||a==="reconnecting"&&(l!=null&&l.getProvider))&&(e.enabled??!0)),f=P.useRef(i);return P.useEffect(()=>{const p=f.current;!i&&p?(s.removeQueries({queryKey:u}),f.current=void 0):i!==p&&(s.invalidateQueries({queryKey:u}),f.current=i)},[i,s]),QA({...e,...d,queryKey:u,enabled:h,staleTime:Number.POSITIVE_INFINITY})}function vV(t={}){const{hash:e,query:n={}}=t,r=Po(t),s=JA({config:r}),i=tV(r,{...t,chainId:t.chainId??s}),o=!!(e&&(n.enabled??!0));return QA({...n,...i,enabled:o})}function bV(t={}){const{mutation:e}=t,n=Po(t),r=rV(n),{mutate:s,mutateAsync:i,...o}=YA({...e,...r});return{...o,writeContract:s,writeContractAsync:i}}const _V="_verified_lvyh0_1",ZA={verified:_V},EV=()=>g.jsx("svg",{viewBox:"0 0 24 24","aria-label":"Verified account",role:"img",className:ZA.verified,children:g.jsx("g",{children:g.jsx("path",{d:"M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.26 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z"})})}),CV=()=>g.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:ZA.verified,children:g.jsxs("g",{children:[g.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-a",x1:"4.411",x2:"18.083",y1:"2.495",y2:"21.508",children:[g.jsx("stop",{offset:"0",stopColor:"#f4e72a"}),g.jsx("stop",{offset:".539",stopColor:"#cd8105"}),g.jsx("stop",{offset:".68",stopColor:"#cb7b00"}),g.jsx("stop",{offset:"1",stopColor:"#f4ec26"}),g.jsx("stop",{offset:"1",stopColor:"#f4e72a"})]}),g.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-b",x1:"5.355",x2:"16.361",y1:"3.395",y2:"19.133",children:[g.jsx("stop",{offset:"0",stopColor:"#f9e87f"}),g.jsx("stop",{offset:".406",stopColor:"#e2b719"}),g.jsx("stop",{offset:".989",stopColor:"#e2b719"})]}),g.jsxs("g",{clipRule:"evenodd",fillRule:"evenodd",children:[g.jsx("path",{d:"M13.324 3.848L11 1.6 8.676 3.848l-3.201-.453-.559 3.184L2.06 8.095 3.48 11l-1.42 2.904 2.856 1.516.559 3.184 3.201-.452L11 20.4l2.324-2.248 3.201.452.559-3.184 2.856-1.516L18.52 11l1.42-2.905-2.856-1.516-.559-3.184zm-7.09 7.575l3.428 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-a)"}),g.jsx("path",{d:"M13.101 4.533L11 2.5 8.899 4.533l-2.895-.41-.505 2.88-2.583 1.37L4.2 11l-1.284 2.627 2.583 1.37.505 2.88 2.895-.41L11 19.5l2.101-2.033 2.895.41.505-2.88 2.583-1.37L17.8 11l1.284-2.627-2.583-1.37-.505-2.88zm-6.868 6.89l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-b)"}),g.jsx("path",{d:"M6.233 11.423l3.429 3.428 5.65-6.17.038-.033-.005 1.398-5.683 6.206-3.429-3.429-.003-1.405.005.003z",fill:"#d18800"})]})]})}),xV=()=>g.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:ZA.verified,children:g.jsx("g",{children:g.jsx("path",{clipRule:"evenodd",d:"M12.05 2.056c-.568-.608-1.532-.608-2.1 0l-1.393 1.49c-.284.303-.685.47-1.1.455L5.42 3.932c-.832-.028-1.514.654-1.486 1.486l.069 2.039c.014.415-.152.816-.456 1.1l-1.49 1.392c-.608.568-.608 1.533 0 2.101l1.49 1.393c.304.284.47.684.456 1.1l-.07 2.038c-.027.832.655 1.514 1.487 1.486l2.038-.069c.415-.014.816.152 1.1.455l1.392 1.49c.569.609 1.533.609 2.102 0l1.393-1.49c.283-.303.684-.47 1.099-.455l2.038.069c.832.028 1.515-.654 1.486-1.486L18 14.542c-.015-.415.152-.815.455-1.099l1.49-1.393c.608-.568.608-1.533 0-2.101l-1.49-1.393c-.303-.283-.47-.684-.455-1.1l.068-2.038c.029-.832-.654-1.514-1.486-1.486l-2.038.07c-.415.013-.816-.153-1.1-.456zm-5.817 9.367l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fillRule:"evenodd"})})});function x8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=x8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Bc(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=x8(t))&&(r&&(r+=" "),r+=e);return r}const SV="_root_98iqw_1",AV="_article_98iqw_21",pN={root:SV,article:AV},XA=({className:t,children:e})=>g.jsx("div",{className:Bc("react-tweet-theme",pN.root,t),children:g.jsx("article",{className:pN.article,children:e})}),S8=t=>g.jsx("img",{...t}),IV="_header_nqq4j_1",TV="_avatar_nqq4j_11",NV="_avatarOverflow_nqq4j_16",PV="_avatarSquare_nqq4j_23",kV="_avatarShadow_nqq4j_26",OV="_author_nqq4j_37",RV="_authorLink_nqq4j_44",$V="_authorVerified_nqq4j_53",DV="_authorLinkText_nqq4j_56",jV="_authorMeta_nqq4j_63",UV="_authorFollow_nqq4j_66",LV="_username_nqq4j_69",MV="_follow_nqq4j_74",BV="_separator_nqq4j_82",FV="_brand_nqq4j_86",zV="_twitterIcon_nqq4j_90",Zn={header:IV,avatar:TV,avatarOverflow:NV,avatarSquare:PV,avatarShadow:kV,author:OV,authorLink:RV,authorVerified:$V,authorLinkText:DV,authorMeta:jV,authorFollow:UV,username:LV,follow:MV,separator:BV,brand:FV,twitterIcon:zV},qV="_verifiedOld_lcna5_1",WV="_verifiedBlue_lcna5_4",HV="_verifiedGovernment_lcna5_7",k1={verifiedOld:qV,verifiedBlue:WV,verifiedGovernment:HV},A8=({user:t,className:e})=>{const n=t.verified||t.is_blue_verified||t.verified_type;let r=g.jsx(EV,{}),s=k1.verifiedBlue;if(n)switch(t.is_blue_verified||(s=k1.verifiedOld),t.verified_type){case"Government":r=g.jsx(xV,{}),s=k1.verifiedGovernment;break;case"Business":r=g.jsx(CV,{}),s=null;break}return n?g.jsx("div",{className:Bc(e,s),children:r}):null},VV=({tweet:t,components:e})=>{var n;const r=(n=e==null?void 0:e.AvatarImg)!=null?n:S8,{user:s}=t;return g.jsxs("div",{className:Zn.header,children:[g.jsxs("a",{href:t.url,className:Zn.avatar,target:"_blank",rel:"noopener noreferrer",children:[g.jsx("div",{className:Bc(Zn.avatarOverflow,s.profile_image_shape==="Square"&&Zn.avatarSquare),children:g.jsx(r,{src:s.profile_image_url_https,alt:s.name,width:48,height:48})}),g.jsx("div",{className:Zn.avatarOverflow,children:g.jsx("div",{className:Zn.avatarShadow})})]}),g.jsxs("div",{className:Zn.author,children:[g.jsxs("a",{href:t.url,className:Zn.authorLink,target:"_blank",rel:"noopener noreferrer",children:[g.jsx("div",{className:Zn.authorLinkText,children:g.jsx("span",{title:s.name,children:s.name})}),g.jsx(A8,{user:s,className:Zn.authorVerified})]}),g.jsxs("div",{className:Zn.authorMeta,children:[g.jsx("a",{href:t.url,className:Zn.username,target:"_blank",rel:"noopener noreferrer",children:g.jsxs("span",{title:`@${s.screen_name}`,children:["@",s.screen_name]})}),g.jsxs("div",{className:Zn.authorFollow,children:[g.jsx("span",{className:Zn.separator,children:""}),g.jsx("a",{href:s.follow_url,className:Zn.follow,target:"_blank",rel:"noopener noreferrer",children:"Follow"})]})]})]}),g.jsx("a",{href:t.url,className:Zn.brand,target:"_blank",rel:"noopener noreferrer","aria-label":"View on Twitter",children:g.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:Zn.twitterIcon,children:g.jsx("g",{children:g.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})})]})},GV="_root_1ec15_1",KV={root:GV},YV=({tweet:t})=>g.jsxs("a",{href:t.in_reply_to_url,className:KV.root,target:"_blank",rel:"noopener noreferrer",children:["Replying to @",t.in_reply_to_screen_name]}),QV="_root_eihfa_1",JV={root:QV},ZV=({href:t,children:e})=>g.jsx("a",{href:t,className:JV.root,target:"_blank",rel:"noopener noreferrer nofollow",children:e}),XV="_root_1xq52_1",eG={root:XV},tG=({tweet:t})=>g.jsx("p",{className:eG.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>{switch(e.type){case"hashtag":case"mention":case"url":case"symbol":return g.jsx(ZV,{href:e.href,children:e.text},n);case"media":return;default:return g.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n)}})}),gN=t=>`https://x.com/${t.user.screen_name}/status/${t.id_str}`,I8=t=>`https://x.com/${typeof t=="string"?t:t.user.screen_name}`,nG=t=>`https://x.com/intent/like?tweet_id=${t.id_str}`,rG=t=>`https://x.com/intent/tweet?in_reply_to=${t.id_str}`,sG=t=>`https://x.com/intent/follow?screen_name=${t.user.screen_name}`,iG=t=>`https://x.com/hashtag/${t.text}`,oG=t=>`https://x.com/search?q=%24${t.text}`,aG=t=>`https://x.com/${t.in_reply_to_screen_name}/status/${t.in_reply_to_status_id_str}`,T8=(t,e)=>{const n=new URL(t.media_url_https),r=n.pathname.split(".").pop();return r?(n.pathname=n.pathname.replace(`.${r}`,""),n.searchParams.set("format",r),n.searchParams.set("name",e),n.toString()):t.media_url_https},cG=t=>{const{variants:e}=t.video_info;return e.filter(r=>r.content_type==="video/mp4").sort((r,s)=>{var i,o;return((i=s.bitrate)!=null?i:0)-((o=r.bitrate)!=null?o:0)})},lG=t=>{const e=cG(t);return e.length>1?e[1]:e[0]},qC=t=>t>999999?`${(t/1e6).toFixed(1)}M`:t>999?`${(t/1e3).toFixed(1)}K`:t.toString();function mN(t){const e=Array.from(t.text),n=[{indices:t.display_text_range,type:"text"}];return xf(n,"hashtag",t.entities.hashtags),xf(n,"mention",t.entities.user_mentions),xf(n,"url",t.entities.urls),xf(n,"symbol",t.entities.symbols),t.entities.media&&xf(n,"media",t.entities.media),uG(t,n),n.map(r=>{const s=e.slice(r.indices[0],r.indices[1]).join("");switch(r.type){case"hashtag":return Object.assign(r,{href:iG(r),text:s});case"mention":return Object.assign(r,{href:I8(r.screen_name),text:s});case"url":case"media":return Object.assign(r,{href:r.expanded_url,text:r.display_url});case"symbol":return Object.assign(r,{href:oG(r),text:s});default:return Object.assign(r,{text:s})}})}function xf(t,e,n){for(const r of n)for(const[s,i]of t.entries()){if(i.indices[0]>r.indices[0]||i.indices[1]<r.indices[1])continue;const o=[{...r,type:e}];i.indices[0]<r.indices[0]&&o.unshift({indices:[i.indices[0],r.indices[0]],type:"text"}),i.indices[1]>r.indices[1]&&o.push({indices:[r.indices[1],i.indices[1]],type:"text"}),t.splice(s,1,...o);break}}function uG(t,e){t.entities.media&&t.entities.media[0].indices[0]<t.display_text_range[1]&&(t.display_text_range[1]=t.entities.media[0].indices[0]);const n=e.at(-1);n&&n.indices[1]>t.display_text_range[1]&&(n.indices[1]=t.display_text_range[1])}const dG=t=>({...t,url:gN(t),user:{...t.user,url:I8(t),follow_url:sG(t)},like_url:nG(t),reply_url:rG(t),in_reply_to_url:t.in_reply_to_screen_name?aG(t):void 0,entities:mN(t),quoted_tweet:t.quoted_tweet?{...t.quoted_tweet,url:gN(t.quoted_tweet),entities:mN(t.quoted_tweet)}:void 0}),hG="_root_g9tkv_1",fG="_rounded_g9tkv_6",pG="_mediaWrapper_g9tkv_10",gG="_grid2Columns_g9tkv_17",mG="_grid3_g9tkv_20",yG="_grid2x2_g9tkv_23",wG="_mediaContainer_g9tkv_26",vG="_mediaLink_g9tkv_34",bG="_skeleton_g9tkv_38",_G="_image_g9tkv_43",Is={root:hG,rounded:fG,mediaWrapper:pG,grid2Columns:gG,grid3:mG,grid2x2:yG,mediaContainer:wG,mediaLink:vG,skeleton:bG,image:_G},EG="_anchor_fp31d_1",CG="_videoButton_fp31d_17",xG="_videoButtonIcon_fp31d_35",SG="_watchOnTwitter_fp31d_44",AG="_viewReplies_fp31d_60",Yu={anchor:EG,videoButton:CG,videoButtonIcon:xG,watchOnTwitter:SG,viewReplies:AG},IG=({tweet:t,media:e})=>{const[n,r]=P.useState(!0),[s,i]=P.useState(!1),[o,a]=P.useState(!1),c=lG(e);let l=0;return g.jsxs(g.Fragment,{children:[g.jsx("video",{className:Is.image,poster:T8(e,"small"),controls:!n,playsInline:!0,preload:"none",tabIndex:n?-1:0,onPlay:()=>{l&&window.clearTimeout(l),s||i(!0),o&&a(!1)},onPause:()=>{l&&window.clearTimeout(l),l=window.setTimeout(()=>{s&&i(!1),l=0},100)},onEnded:()=>{a(!0)},children:g.jsx("source",{src:c.url,type:c.content_type})}),n&&g.jsx("button",{type:"button",className:Yu.videoButton,"aria-label":"View video on X",onClick:u=>{const d=u.currentTarget.previousSibling;u.preventDefault(),r(!1),d.load(),d.play().then(()=>{i(!0),d.focus()}).catch(h=>{console.error("Error playing video:",h),r(!0),i(!1)})},children:g.jsx("svg",{viewBox:"0 0 24 24",className:Yu.videoButtonIcon,"aria-hidden":"true",children:g.jsx("g",{children:g.jsx("path",{d:"M21 12L4 2v20l17-10z"})})})}),!s&&!o&&g.jsx("div",{className:Yu.watchOnTwitter,children:g.jsx("a",{href:t.url,className:Yu.anchor,target:"_blank",rel:"noopener noreferrer",children:n?"Watch on X":"Continue watching on X"})}),o&&g.jsx("a",{href:t.url,className:Bc(Yu.anchor,Yu.viewReplies),target:"_blank",rel:"noopener noreferrer",children:"View replies"})]})},TG=t=>g.jsx("img",{...t}),yN=(t,e)=>{let n=56.25;return e===1&&(n=100/t.original_info.width*t.original_info.height),e===2&&(n=n*2),{width:t.type==="photo"?void 0:"unset",paddingBottom:`${n}%`}},N8=({tweet:t,components:e,quoted:n})=>{var r,s,i;const o=(i=(r=t.mediaDetails)==null?void 0:r.length)!=null?i:0;var a;const c=(a=e==null?void 0:e.MediaImg)!=null?a:TG;return g.jsx("div",{className:Bc(Is.root,!n&&Is.rounded),children:g.jsx("div",{className:Bc(Is.mediaWrapper,o>1&&Is.grid2Columns,o===3&&Is.grid3,o>4&&Is.grid2x2),children:(s=t.mediaDetails)==null?void 0:s.map(l=>g.jsx(P.Fragment,{children:l.type==="photo"?g.jsxs("a",{href:t.url,className:Bc(Is.mediaContainer,Is.mediaLink),target:"_blank",rel:"noopener noreferrer",children:[g.jsx("div",{className:Is.skeleton,style:yN(l,o)}),g.jsx(c,{src:T8(l,"small"),alt:l.ext_alt_text||"Image",className:Is.image,draggable:!0})]},l.media_url_https):g.jsxs("div",{className:Is.mediaContainer,children:[g.jsx("div",{className:Is.skeleton,style:yN(l,o)}),g.jsx(IG,{tweet:t,media:l})]},l.media_url_https)},l.media_url_https))})})},NG={hour:"numeric",minute:"2-digit",hour12:!0,weekday:"short",month:"short",day:"numeric",year:"numeric"},PG=new Intl.DateTimeFormat("en-US",NG),kG=t=>{const e={};for(const n of t)e[n.type]=n.value;return e},OG=t=>{const e=kG(PG.formatToParts(t)),n=`${e.hour}:${e.minute} ${e.dayPeriod}`,r=`${e.month} ${e.day}, ${e.year}`;return`${n}  ${r}`},RG="_root_i24yn_1",$G={root:RG},DG=({tweet:t})=>{const e=new Date(t.created_at),n=OG(e);return g.jsx("a",{className:$G.root,href:t.url,target:"_blank",rel:"noopener noreferrer","aria-label":n,children:g.jsx("time",{dateTime:e.toISOString(),children:n})})},jG="_info_19qcj_1",UG="_infoLink_19qcj_10",LG="_infoIcon_19qcj_30",O1={info:jG,infoLink:UG,infoIcon:LG},MG=({tweet:t})=>g.jsxs("div",{className:O1.info,children:[g.jsx(DG,{tweet:t}),g.jsx("a",{className:O1.infoLink,href:"https://help.x.com/en/x-for-websites-ads-info-and-privacy",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter for Websites, Ads Information and Privacy",children:g.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:O1.infoIcon,children:g.jsx("g",{children:g.jsx("path",{d:"M13.5 8.5c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5S11.17 7 12 7s1.5.67 1.5 1.5zM13 17v-5h-2v5h2zm-1 5.25c5.66 0 10.25-4.59 10.25-10.25S17.66 1.75 12 1.75 1.75 6.34 1.75 12 6.34 22.25 12 22.25zM20.25 12c0 4.56-3.69 8.25-8.25 8.25S3.75 16.56 3.75 12 7.44 3.75 12 3.75s8.25 3.69 8.25 8.25z"})})})})]}),BG="_actions_n2anf_1",FG="_like_n2anf_13",zG="_reply_n2anf_14",qG="_copy_n2anf_15",WG="_likeIconWrapper_n2anf_27",HG="_likeCount_n2anf_30",VG="_replyIconWrapper_n2anf_35",GG="_copyIconWrapper_n2anf_36",KG="_likeIcon_n2anf_27",YG="_replyIcon_n2anf_35",QG="_copyIcon_n2anf_36",JG="_replyText_n2anf_56",ZG="_copyText_n2anf_57",ls={actions:BG,like:FG,reply:zG,copy:qG,likeIconWrapper:WG,likeCount:HG,replyIconWrapper:VG,copyIconWrapper:GG,likeIcon:KG,replyIcon:YG,copyIcon:QG,replyText:JG,copyText:ZG},XG=({tweet:t})=>{const[e,n]=P.useState(!1),r=()=>{navigator.clipboard.writeText(t.url),n(!0)};return P.useEffect(()=>{if(e){const s=setTimeout(()=>{n(!1)},6e3);return()=>clearTimeout(s)}},[e]),g.jsxs("button",{type:"button",className:ls.copy,"aria-label":"Copy link",onClick:r,children:[g.jsx("div",{className:ls.copyIconWrapper,children:e?g.jsx("svg",{viewBox:"0 0 24 24",className:ls.copyIcon,"aria-hidden":"true",children:g.jsx("g",{children:g.jsx("path",{d:"M9.64 18.952l-5.55-4.861 1.317-1.504 3.951 3.459 8.459-10.948L19.4 6.32 9.64 18.952z"})})}):g.jsx("svg",{viewBox:"0 0 24 24",className:ls.copyIcon,"aria-hidden":"true",children:g.jsx("g",{children:g.jsx("path",{d:"M18.36 5.64c-1.95-1.96-5.11-1.96-7.07 0L9.88 7.05 8.46 5.64l1.42-1.42c2.73-2.73 7.16-2.73 9.9 0 2.73 2.74 2.73 7.17 0 9.9l-1.42 1.42-1.41-1.42 1.41-1.41c1.96-1.96 1.96-5.12 0-7.07zm-2.12 3.53l-7.07 7.07-1.41-1.41 7.07-7.07 1.41 1.41zm-12.02.71l1.42-1.42 1.41 1.42-1.41 1.41c-1.96 1.96-1.96 5.12 0 7.07 1.95 1.96 5.11 1.96 7.07 0l1.41-1.41 1.42 1.41-1.42 1.42c-2.73 2.73-7.16 2.73-9.9 0-2.73-2.74-2.73-7.17 0-9.9z"})})})}),g.jsx("span",{className:ls.copyText,children:e?"Copied!":"Copy link"})]})},eK=({tweet:t})=>{const e=qC(t.favorite_count);return g.jsxs("div",{className:ls.actions,children:[g.jsxs("a",{className:ls.like,href:t.like_url,target:"_blank",rel:"noopener noreferrer","aria-label":`Like. This Tweet has ${e} likes`,children:[g.jsx("div",{className:ls.likeIconWrapper,children:g.jsx("svg",{viewBox:"0 0 24 24",className:ls.likeIcon,"aria-hidden":"true",children:g.jsx("g",{children:g.jsx("path",{d:"M20.884 13.19c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z"})})})}),g.jsx("span",{className:ls.likeCount,children:e})]}),g.jsxs("a",{className:ls.reply,href:t.reply_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Reply to this Tweet on Twitter",children:[g.jsx("div",{className:ls.replyIconWrapper,children:g.jsx("svg",{viewBox:"0 0 24 24",className:ls.replyIcon,"aria-hidden":"true",children:g.jsx("g",{children:g.jsx("path",{d:"M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 8.129 3.64 8.129 8.13 0 2.96-1.607 5.68-4.196 7.11l-8.054 4.46v-3.69h-.067c-4.49.1-8.183-3.51-8.183-8.01z"})})})}),g.jsx("span",{className:ls.replyText,children:"Reply"})]}),g.jsx(XG,{tweet:t})]})},tK="_replies_1cutb_1",nK="_link_1cutb_4",rK="_text_1cutb_23",R1={replies:tK,link:nK,text:rK},sK=({tweet:t})=>g.jsx("div",{className:R1.replies,children:g.jsx("a",{className:R1.link,href:t.url,target:"_blank",rel:"noopener noreferrer",children:g.jsx("span",{className:R1.text,children:t.conversation_count===0?"Read more on X":t.conversation_count===1?`Read ${qC(t.conversation_count)} reply`:`Read ${qC(t.conversation_count)} replies`})})}),iK="_root_q5799_1",oK="_article_q5799_16",wN={root:iK,article:oK},aK=({tweet:t,children:e})=>g.jsx("div",{className:wN.root,onClick:n=>{n.preventDefault(),window.open(t.url,"_blank")},children:g.jsx("article",{className:wN.article,children:e})}),cK="_header_r31i5_1",lK="_avatar_r31i5_11",uK="_avatarSquare_r31i5_17",dK="_author_r31i5_21",hK="_authorText_r31i5_26",fK="_username_r31i5_33",pl={header:cK,avatar:lK,avatarSquare:uK,author:dK,authorText:hK,username:fK},pK=({tweet:t})=>{const{user:e}=t;return g.jsxs("div",{className:pl.header,children:[g.jsx("a",{href:t.url,className:pl.avatar,target:"_blank",rel:"noopener noreferrer",children:g.jsx("div",{className:Bc(pl.avatarOverflow,e.profile_image_shape==="Square"&&pl.avatarSquare),children:g.jsx(S8,{src:e.profile_image_url_https,alt:e.name,width:20,height:20})})}),g.jsxs("div",{className:pl.author,children:[g.jsx("div",{className:pl.authorText,children:g.jsx("span",{title:e.name,children:e.name})}),g.jsx(A8,{user:e}),g.jsx("div",{className:pl.username,children:g.jsxs("span",{title:`@${e.screen_name}`,children:["@",e.screen_name]})})]})]})},gK="_root_175ot_1",mK={root:gK},yK=({tweet:t})=>g.jsx("p",{className:mK.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>g.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n))}),wK=({tweet:t})=>{var e;return g.jsxs(aK,{tweet:t,children:[g.jsx(pK,{tweet:t}),g.jsx(yK,{tweet:t}),(e=t.mediaDetails)!=null&&e.length?g.jsx(N8,{quoted:!0,tweet:t}):null]})},vK=({tweet:t,components:e})=>{var n;const r=P.useMemo(()=>dG(t),[t]);return g.jsxs(XA,{children:[g.jsx(VV,{tweet:r,components:e}),r.in_reply_to_status_id_str&&g.jsx(YV,{tweet:r}),g.jsx(tG,{tweet:r}),(n=r.mediaDetails)!=null&&n.length?g.jsx(N8,{tweet:r,components:e}):null,r.quoted_tweet&&g.jsx(wK,{tweet:r.quoted_tweet}),g.jsx(MG,{tweet:r}),g.jsx(eK,{tweet:r}),g.jsx(sK,{tweet:r})]})},bK="_root_16yxa_1",_K={root:bK},EK=t=>g.jsx(XA,{children:g.jsxs("div",{className:_K.root,children:[g.jsx("h3",{children:"Tweet not found"}),g.jsx("p",{children:"The embedded tweet could not be found"})]})}),CK="_skeleton_oi7hr_1",xK={skeleton:CK},Ny=({style:t})=>g.jsx("span",{className:xK.skeleton,style:t}),SK="_root_17qqv_1",AK={root:SK},IK=()=>g.jsxs(XA,{className:AK.root,children:[g.jsx(Ny,{style:{height:"3rem",marginBottom:"0.75rem"}}),g.jsx(Ny,{style:{height:"6rem",margin:"0.5rem 0"}}),g.jsx("div",{style:{borderTop:"var(--tweet-border)",margin:"0.5rem 0"}}),g.jsx(Ny,{style:{height:"2rem"}}),g.jsx(Ny,{style:{height:"2rem",borderRadius:"9999px",marginTop:"0.5rem"}})]});var P8={exports:{}},k8={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih=P;function TK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var NK=typeof Object.is=="function"?Object.is:TK,PK=Ih.useState,kK=Ih.useEffect,OK=Ih.useLayoutEffect,RK=Ih.useDebugValue;function $K(t,e){var n=e(),r=PK({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return OK(function(){s.value=n,s.getSnapshot=e,$1(s)&&i({inst:s})},[t,n,e]),kK(function(){return $1(s)&&i({inst:s}),t(function(){$1(s)&&i({inst:s})})},[t]),RK(n),n}function $1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!NK(t,n)}catch{return!0}}function DK(t,e){return e()}var jK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DK:$K;k8.useSyncExternalStore=Ih.useSyncExternalStore!==void 0?Ih.useSyncExternalStore:jK;P8.exports=k8;var UK=P8.exports;const O8=0,R8=1,$8=2,vN=3;var bN=Object.prototype.hasOwnProperty;function WC(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&WC(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(bN.call(t,n)&&++r&&!bN.call(e,n)||!(n in e)||!WC(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const ra=new WeakMap,xc=()=>{},jr=xc(),HC=Object,yt=t=>t===jr,yo=t=>typeof t=="function",Zc=(t,e)=>({...t,...e}),D8=t=>yo(t.then),D1={},Py={},e2="undefined",Im=typeof window!=e2,VC=typeof document!=e2,LK=Im&&"Deno"in window,MK=()=>Im&&typeof window.requestAnimationFrame!=e2,j8=(t,e)=>{const n=ra.get(t);return[()=>!yt(e)&&t.get(e)||D1,r=>{if(!yt(e)){const s=t.get(e);e in Py||(Py[e]=s),n[5](e,Zc(s,r),s||D1)}},n[6],()=>!yt(e)&&e in Py?Py[e]:!yt(e)&&t.get(e)||D1]};let GC=!0;const BK=()=>GC,[KC,YC]=Im&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[xc,xc],FK=()=>{const t=VC&&document.visibilityState;return yt(t)||t!=="hidden"},zK=t=>(VC&&document.addEventListener("visibilitychange",t),KC("focus",t),()=>{VC&&document.removeEventListener("visibilitychange",t),YC("focus",t)}),qK=t=>{const e=()=>{GC=!0,t()},n=()=>{GC=!1};return KC("online",e),KC("offline",n),()=>{YC("online",e),YC("offline",n)}},WK={isOnline:BK,isVisible:FK},HK={initFocus:zK,initReconnect:qK},_N=!js.useId,Tg=!Im||LK,VK=t=>MK()?window.requestAnimationFrame(t):setTimeout(t,1),j1=Tg?P.useEffect:P.useLayoutEffect,U1=typeof navigator<"u"&&navigator.connection,EN=!Tg&&U1&&(["slow-2g","2g"].includes(U1.effectiveType)||U1.saveData),ky=new WeakMap,L1=(t,e)=>HC.prototype.toString.call(t)===`[object ${e}]`;let GK=0;const QC=t=>{const e=typeof t,n=L1(t,"Date"),r=L1(t,"RegExp"),s=L1(t,"Object");let i,o;if(HC(t)===t&&!n&&!r){if(i=ky.get(t),i)return i;if(i=++GK+"~",ky.set(t,i),Array.isArray(t)){for(i="@",o=0;o<t.length;o++)i+=QC(t[o])+",";ky.set(t,i)}if(s){i="#";const a=HC.keys(t).sort();for(;!yt(o=a.pop());)yt(t[o])||(i+=o+":"+QC(t[o])+",");ky.set(t,i)}}else i=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},t2=t=>{if(yo(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?QC(t):"",[t,e]};let KK=0;const JC=()=>++KK;async function U8(...t){const[e,n,r,s]=t,i=Zc({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let o=i.populateCache;const a=i.rollbackOnError;let c=i.optimisticData;const l=h=>typeof a=="function"?a(h):a!==!1,u=i.throwOnError;if(yo(n)){const h=n,f=[],p=e.keys();for(const m of p)!/^\$(inf|sub)\$/.test(m)&&h(e.get(m)._k)&&f.push(m);return Promise.all(f.map(d))}return d(n);async function d(h){const[f]=t2(h);if(!f)return;const[p,m]=j8(e,f),[w,y,b,v]=ra.get(e),E=()=>{const F=w[f];return(yo(i.revalidate)?i.revalidate(p().data,h):i.revalidate!==!1)&&(delete b[f],delete v[f],F&&F[0])?F[0]($8).then(()=>p().data):p().data};if(t.length<3)return E();let _=r,x;const S=JC();y[f]=[S,0];const A=!yt(c),C=p(),k=C.data,O=C._c,B=yt(O)?k:O;if(A&&(c=yo(c)?c(B,k):c,m({data:c,_c:B})),yo(_))try{_=_(B)}catch(F){x=F}if(_&&D8(_))if(_=await _.catch(F=>{x=F}),S!==y[f][0]){if(x)throw x;return _}else x&&A&&l(x)&&(o=!0,m({data:B,_c:jr}));if(o&&!x)if(yo(o)){const F=o(_,B);m({data:F,error:jr,_c:jr})}else m({data:_,error:jr,_c:jr});if(y[f][1]=JC(),Promise.resolve(E()).then(()=>{m({_c:jr})}),x){if(u)throw x;return}return _}}const CN=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},YK=(t,e)=>{if(!ra.has(t)){const n=Zc(HK,e),r=Object.create(null),s=U8.bind(jr,t);let i=xc;const o=Object.create(null),a=(u,d)=>{const h=o[u]||[];return o[u]=h,h.push(d),()=>h.splice(h.indexOf(d),1)},c=(u,d,h)=>{t.set(u,d);const f=o[u];if(f)for(const p of f)p(d,h)},l=()=>{if(!ra.has(t)&&(ra.set(t,[r,Object.create(null),Object.create(null),Object.create(null),s,c,a]),!Tg)){const u=n.initFocus(setTimeout.bind(jr,CN.bind(jr,r,O8))),d=n.initReconnect(setTimeout.bind(jr,CN.bind(jr,r,R8)));i=()=>{u&&u(),d&&d(),ra.delete(t)}}};return l(),[t,s,l,i]}return[t,ra.get(t)[4]]},QK=(t,e,n,r,s)=>{const i=n.errorRetryCount,o=s.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!yt(i)&&o>i||setTimeout(r,a,s)},JK=WC,[L8,ZK]=YK(new Map),XK=Zc({onLoadingSlow:xc,onSuccess:xc,onError:xc,onErrorRetry:QK,onDiscarded:xc,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:EN?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:EN?5e3:3e3,compare:JK,isPaused:()=>!1,cache:L8,mutate:ZK,fallback:{}},WK),eY=(t,e)=>{const n=Zc(t,e);if(e){const{use:r,fallback:s}=t,{use:i,fallback:o}=e;r&&i&&(n.use=r.concat(i)),s&&o&&(n.fallback=Zc(s,o))}return n},tY=P.createContext({}),nY="$inf$",M8=Im&&window.__SWR_DEVTOOLS_USE__,rY=M8?window.__SWR_DEVTOOLS_USE__:[],sY=()=>{M8&&(window.__SWR_DEVTOOLS_REACT__=js)},iY=t=>yo(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],oY=()=>Zc(XK,P.useContext(tY)),aY=t=>(e,n,r)=>t(e,n&&((...i)=>{const[o]=t2(e),[,,,a]=ra.get(L8);if(o.startsWith(nY))return n(...i);const c=a[o];return yt(c)?n(...i):(delete a[o],c)}),r),cY=rY.concat(aY),lY=t=>function(...n){const r=oY(),[s,i,o]=iY(n),a=eY(r,o);let c=t;const{use:l}=a,u=(l||[]).concat(cY);for(let d=u.length;d--;)c=u[d](c);return c(s,i||a.fetcher||null,a)},uY=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}};sY();const M1=js.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),B1={dedupe:!0},dY=(t,e,n)=>{const{cache:r,compare:s,suspense:i,fallbackData:o,revalidateOnMount:a,revalidateIfStale:c,refreshInterval:l,refreshWhenHidden:u,refreshWhenOffline:d,keepPreviousData:h}=n,[f,p,m,w]=ra.get(r),[y,b]=t2(t),v=P.useRef(!1),E=P.useRef(!1),_=P.useRef(y),x=P.useRef(e),S=P.useRef(n),A=()=>S.current,C=()=>A().isVisible()&&A().isOnline(),[k,O,B,F]=j8(r,y),V=P.useRef({}).current,I=yt(o)?yt(n.fallback)?jr:n.fallback[y]:o,N=(Te,Ce)=>{for(const Le in V){const Qe=Le;if(Qe==="data"){if(!s(Te[Qe],Ce[Qe])&&(!yt(Te[Qe])||!s(ie,Ce[Qe])))return!1}else if(Ce[Qe]!==Te[Qe])return!1}return!0},L=P.useMemo(()=>{const Te=!y||!e?!1:yt(a)?A().isPaused()||i?!1:c!==!1:a,Ce=vt=>{const rn=Zc(vt);return delete rn._k,Te?{isValidating:!0,isLoading:!0,...rn}:rn},Le=k(),Qe=F(),Tt=Ce(Le),an=Le===Qe?Tt:Ce(Qe);let Ot=Tt;return[()=>{const vt=Ce(k());return N(vt,Ot)?(Ot.data=vt.data,Ot.isLoading=vt.isLoading,Ot.isValidating=vt.isValidating,Ot.error=vt.error,Ot):(Ot=vt,vt)},()=>an]},[r,y]),D=UK.useSyncExternalStore(P.useCallback(Te=>B(y,(Ce,Le)=>{N(Le,Ce)||Te()}),[r,y]),L[0],L[1]),$=!v.current,j=f[y]&&f[y].length>0,q=D.data,J=yt(q)?I&&D8(I)?M1(I):I:q,se=D.error,ne=P.useRef(J),ie=h?yt(q)?yt(ne.current)?J:ne.current:q:J,ye=j&&!yt(se)?!1:$&&!yt(a)?a:A().isPaused()?!1:i?yt(J)?!1:c:yt(J)||c,Y=!!(y&&e&&$&&ye),Z=yt(D.isValidating)?Y:D.isValidating,oe=yt(D.isLoading)?Y:D.isLoading,ee=P.useCallback(async Te=>{const Ce=x.current;if(!y||!Ce||E.current||A().isPaused())return!1;let Le,Qe,Tt=!0;const an=Te||{},Ot=!m[y]||!an.dedupe,vt=()=>_N?!E.current&&y===_.current&&v.current:y===_.current,rn={isValidating:!1,isLoading:!1},Hr=()=>{O(rn)},Ji=()=>{const Pn=m[y];Pn&&Pn[1]===Qe&&delete m[y]},Vr={isValidating:!0};yt(k().data)&&(Vr.isLoading=!0);try{if(Ot&&(O(Vr),n.loadingTimeout&&yt(k().data)&&setTimeout(()=>{Tt&&vt()&&A().onLoadingSlow(y,n)},n.loadingTimeout),m[y]=[Ce(b),JC()]),[Le,Qe]=m[y],Le=await Le,Ot&&setTimeout(Ji,n.dedupingInterval),!m[y]||m[y][1]!==Qe)return Ot&&vt()&&A().onDiscarded(y),!1;rn.error=jr;const Pn=p[y];if(!yt(Pn)&&(Qe<=Pn[0]||Qe<=Pn[1]||Pn[1]===0))return Hr(),Ot&&vt()&&A().onDiscarded(y),!1;const xn=k().data;rn.data=s(xn,Le)?xn:Le,Ot&&vt()&&A().onSuccess(Le,y,n)}catch(Pn){Ji();const xn=A(),{shouldRetryOnError:Gr}=xn;xn.isPaused()||(rn.error=Pn,Ot&&vt()&&(xn.onError(Pn,y,xn),(Gr===!0||yo(Gr)&&Gr(Pn))&&(!A().revalidateOnFocus||!A().revalidateOnReconnect||C())&&xn.onErrorRetry(Pn,y,xn,ul=>{const Pr=f[y];Pr&&Pr[0]&&Pr[0](vN,ul)},{retryCount:(an.retryCount||0)+1,dedupe:!0})))}return Tt=!1,Hr(),!0},[y,r]),he=P.useCallback((...Te)=>U8(r,_.current,...Te),[]);if(j1(()=>{x.current=e,S.current=n,yt(q)||(ne.current=q)}),j1(()=>{if(!y)return;const Te=ee.bind(jr,B1);let Ce=0;A().revalidateOnFocus&&(Ce=Date.now()+A().focusThrottleInterval);const Qe=uY(y,f,(Tt,an={})=>{if(Tt==O8){const Ot=Date.now();A().revalidateOnFocus&&Ot>Ce&&C()&&(Ce=Ot+A().focusThrottleInterval,Te())}else if(Tt==R8)A().revalidateOnReconnect&&C()&&Te();else{if(Tt==$8)return ee();if(Tt==vN)return ee(an)}});return E.current=!1,_.current=y,v.current=!0,O({_k:b}),ye&&(yt(J)||Tg?Te():VK(Te)),()=>{E.current=!0,Qe()}},[y]),j1(()=>{let Te;function Ce(){const Qe=yo(l)?l(k().data):l;Qe&&Te!==-1&&(Te=setTimeout(Le,Qe))}function Le(){!k().error&&(u||A().isVisible())&&(d||A().isOnline())?ee(B1).then(Ce):Ce()}return Ce(),()=>{Te&&(clearTimeout(Te),Te=-1)}},[l,u,d,y]),P.useDebugValue(ie),i&&yt(J)&&y){if(!_N&&Tg)throw new Error("Fallback data is required when using Suspense in SSR.");x.current=e,S.current=n,E.current=!1;const Te=w[y];if(!yt(Te)){const Ce=he(Te);M1(Ce)}if(yt(se)){const Ce=ee(B1);yt(ie)||(Ce.status="fulfilled",Ce.value=!0),M1(Ce)}else throw se}return{mutate:he,get data(){return V.data=!0,ie},get error(){return V.error=!0,se},get isValidating(){return V.isValidating=!0,Z},get isLoading(){return V.isLoading=!0,oe}}},xN=lY(dY);class hY extends Error{constructor({message:e,status:n,data:r}){super(e),this.name="TwitterApiError",this.status=n,this.data=r}}const fY=xN.default||xN,pY="https://react-tweet.vercel.app";async function gY([t,e]){const n=await fetch(t,e),r=await n.json();if(n.ok)return r.data||null;throw new hY({message:`Failed to fetch tweet at "${t}" with "${n.status}".`,data:r,status:n.status})}const mY=(t,e,n)=>{const{isLoading:r,data:s,error:i}=fY(()=>e||t?[e||t&&`${pY}/api/tweet/${t}`,n]:null,gY,{revalidateIfStale:!1,revalidateOnFocus:!1,shouldRetryOnError:!1});return{isLoading:!!(r||s===void 0&&!i),data:s,error:i}},yY=({id:t,apiUrl:e,fallback:n=g.jsx(IK,{}),components:r,fetchOptions:s,onError:i})=>{const{data:o,error:a,isLoading:c}=mY(t,e,s);if(c)return n;if(a||!o){const l=(r==null?void 0:r.TweetNotFound)||EK;return g.jsx(l,{error:i?i(a):a})}return g.jsx(vK,{tweet:o,components:r})};var Dv={exports:{}},B8={},F8={exports:{}},wY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vY=wY,bY=vY;function z8(){}function q8(){}q8.resetWarningCache=z8;var _Y=function(){function t(r,s,i,o,a,c){if(c!==bY){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:q8,resetWarningCache:z8};return n.PropTypes=n,n};F8.exports=_Y();var W8=F8.exports;function H8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=H8(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function SN(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=H8(t))&&(r&&(r+=" "),r+=e);return r}const EY=Object.freeze(Object.defineProperty({__proto__:null,clsx:SN,default:SN},Symbol.toStringTag,{value:"Module"})),CY=iv(EY);var vn={},ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.dontSetMe=TY;ko.findInArray=xY;ko.int=IY;ko.isFunction=SY;ko.isNum=AY;function xY(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function SY(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function AY(t){return typeof t=="number"&&!isNaN(t)}function IY(t){return parseInt(t,10)}function TY(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.browserPrefixToKey=G8;Ru.browserPrefixToStyle=NY;Ru.default=void 0;Ru.getPrefix=V8;const F1=["Moz","Webkit","O","ms"];function V8(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<F1.length;r++)if(G8(e,F1[r])in n)return F1[r];return""}function G8(t,e){return e?"".concat(e).concat(PY(t)):t}function NY(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function PY(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}Ru.default=V8();Object.defineProperty(vn,"__esModule",{value:!0});vn.addClassName=Q8;vn.addEvent=RY;vn.addUserSelectStyles=WY;vn.createCSSTransform=BY;vn.createSVGTransform=FY;vn.getTouch=zY;vn.getTouchIdentifier=qY;vn.getTranslation=n2;vn.innerHeight=UY;vn.innerWidth=LY;vn.matchesSelector=Y8;vn.matchesSelectorAndParentsTo=OY;vn.offsetXYFromParent=MY;vn.outerHeight=DY;vn.outerWidth=jY;vn.removeClassName=J8;vn.removeEvent=$Y;vn.removeUserSelectStyles=HY;var Ms=ko,AN=kY(Ru);function K8(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(K8=function(r){return r?n:e})(t)}function kY(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=K8(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}let Oy="";function Y8(t,e){return Oy||(Oy=(0,Ms.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Ms.isFunction)(t[n])})),(0,Ms.isFunction)(t[Oy])?t[Oy](e):!1}function OY(t,e,n){let r=t;do{if(Y8(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function RY(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,s):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function $Y(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,s):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function DY(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Ms.int)(n.borderTopWidth),e+=(0,Ms.int)(n.borderBottomWidth),e}function jY(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Ms.int)(n.borderLeftWidth),e+=(0,Ms.int)(n.borderRightWidth),e}function UY(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Ms.int)(n.paddingTop),e-=(0,Ms.int)(n.paddingBottom),e}function LY(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Ms.int)(n.paddingLeft),e-=(0,Ms.int)(n.paddingRight),e}function MY(t,e,n){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),i=(t.clientX+e.scrollLeft-s.left)/n,o=(t.clientY+e.scrollTop-s.top)/n;return{x:i,y:o}}function BY(t,e){const n=n2(t,e,"px");return{[(0,AN.browserPrefixToKey)("transform",AN.default)]:n}}function FY(t,e){return n2(t,e,"")}function n2(t,e,n){let{x:r,y:s}=t,i="translate(".concat(r).concat(n,",").concat(s).concat(n,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);i="translate(".concat(o,", ").concat(a,")")+i}return i}function zY(t,e){return t.targetTouches&&(0,Ms.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Ms.findInArray)(t.changedTouches,n=>e===n.identifier)}function qY(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function WY(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&Q8(t.body,"react-draggable-transparent-selection")}function HY(t){if(t)try{if(t.body&&J8(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function Q8(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function J8(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.canDragX=KY;Oo.canDragY=YY;Oo.createCoreData=JY;Oo.createDraggableData=ZY;Oo.getBoundPosition=VY;Oo.getControlPosition=QY;Oo.snapToGrid=GY;var Ts=ko,Bd=vn;function VY(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:XY(r);const s=r2(t);if(typeof r=="string"){const{ownerDocument:i}=s,o=i.defaultView;let a;if(r==="parent"?a=s.parentNode:a=i.querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=a,l=o.getComputedStyle(s),u=o.getComputedStyle(c);r={left:-s.offsetLeft+(0,Ts.int)(u.paddingLeft)+(0,Ts.int)(l.marginLeft),top:-s.offsetTop+(0,Ts.int)(u.paddingTop)+(0,Ts.int)(l.marginTop),right:(0,Bd.innerWidth)(c)-(0,Bd.outerWidth)(s)-s.offsetLeft+(0,Ts.int)(u.paddingRight)-(0,Ts.int)(l.marginRight),bottom:(0,Bd.innerHeight)(c)-(0,Bd.outerHeight)(s)-s.offsetTop+(0,Ts.int)(u.paddingBottom)-(0,Ts.int)(l.marginBottom)}}return(0,Ts.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Ts.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ts.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Ts.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function GY(t,e,n){const r=Math.round(e/t[0])*t[0],s=Math.round(n/t[1])*t[1];return[r,s]}function KY(t){return t.props.axis==="both"||t.props.axis==="x"}function YY(t){return t.props.axis==="both"||t.props.axis==="y"}function QY(t,e,n){const r=typeof e=="number"?(0,Bd.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const s=r2(n),i=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,Bd.offsetXYFromParent)(r||t,i,n.props.scale)}function JY(t,e,n){const r=!(0,Ts.isNum)(t.lastX),s=r2(t);return r?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function ZY(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function XY(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function r2(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var jv={},Uv={};Object.defineProperty(Uv,"__esModule",{value:!0});Uv.default=eQ;function eQ(){}Object.defineProperty(jv,"__esModule",{value:!0});jv.default=void 0;var z1=nQ(P),Yr=s2(W8),tQ=s2(vA),yr=vn,Pa=Oo,q1=ko,Sf=s2(Uv);function s2(t){return t&&t.__esModule?t:{default:t}}function Z8(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(Z8=function(r){return r?n:e})(t)}function nQ(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=Z8(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function kr(t,e,n){return e=rQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rQ(t){var e=sQ(t,"string");return typeof e=="symbol"?e:String(e)}function sQ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Ci={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ka=Ci.mouse,Lv=class extends z1.Component{constructor(){super(...arguments),kr(this,"dragging",!1),kr(this,"lastX",NaN),kr(this,"lastY",NaN),kr(this,"touchIdentifier",null),kr(this,"mounted",!1),kr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,yr.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,yr.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const s=(0,yr.getTouchIdentifier)(e);this.touchIdentifier=s;const i=(0,Pa.getControlPosition)(e,s,this);if(i==null)return;const{x:o,y:a}=i,c=(0,Pa.createCoreData)(this,o,a);(0,Sf.default)("DraggableCore: handleDragStart: %j",c),(0,Sf.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,yr.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,yr.addEvent)(r,ka.move,this.handleDrag),(0,yr.addEvent)(r,ka.stop,this.handleDragStop))}),kr(this,"handleDrag",e=>{const n=(0,Pa.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,c=s-this.lastY;if([a,c]=(0,Pa.snapToGrid)(this.props.grid,a,c),!a&&!c)return;r=this.lastX+a,s=this.lastY+c}const i=(0,Pa.createCoreData)(this,r,s);if((0,Sf.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(e,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=s}),kr(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Pa.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,l=s-this.lastY||0;[c,l]=(0,Pa.snapToGrid)(this.props.grid,c,l),r=this.lastX+c,s=this.lastY+l}const i=(0,Pa.createCoreData)(this,r,s);if(this.props.onStop(e,i)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,yr.removeUserSelectStyles)(a.ownerDocument),(0,Sf.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Sf.default)("DraggableCore: Removing handlers"),(0,yr.removeEvent)(a.ownerDocument,ka.move,this.handleDrag),(0,yr.removeEvent)(a.ownerDocument,ka.stop,this.handleDragStop))}),kr(this,"onMouseDown",e=>(ka=Ci.mouse,this.handleDragStart(e))),kr(this,"onMouseUp",e=>(ka=Ci.mouse,this.handleDragStop(e))),kr(this,"onTouchStart",e=>(ka=Ci.touch,this.handleDragStart(e))),kr(this,"onTouchEnd",e=>(ka=Ci.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,yr.addEvent)(e,Ci.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,yr.removeEvent)(n,Ci.mouse.move,this.handleDrag),(0,yr.removeEvent)(n,Ci.touch.move,this.handleDrag),(0,yr.removeEvent)(n,Ci.mouse.stop,this.handleDragStop),(0,yr.removeEvent)(n,Ci.touch.stop,this.handleDragStop),(0,yr.removeEvent)(e,Ci.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,yr.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:tQ.default.findDOMNode(this)}render(){return z1.cloneElement(z1.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};jv.default=Lv;kr(Lv,"displayName","DraggableCore");kr(Lv,"propTypes",{allowAnyClick:Yr.default.bool,children:Yr.default.node.isRequired,disabled:Yr.default.bool,enableUserSelectHack:Yr.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Yr.default.arrayOf(Yr.default.number),handle:Yr.default.string,cancel:Yr.default.string,nodeRef:Yr.default.object,onStart:Yr.default.func,onDrag:Yr.default.func,onStop:Yr.default.func,onMouseDown:Yr.default.func,scale:Yr.default.number,className:q1.dontSetMe,style:q1.dontSetMe,transform:q1.dontSetMe});kr(Lv,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=h(P),n=u(W8),r=u(vA),s=u(CY),i=vn,o=Oo,a=ko,c=u(jv),l=u(Uv);function u(b){return b&&b.__esModule?b:{default:b}}function d(b){if(typeof WeakMap!="function")return null;var v=new WeakMap,E=new WeakMap;return(d=function(_){return _?E:v})(b)}function h(b,v){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var E=d(v);if(E&&E.has(b))return E.get(b);var _={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in b)if(S!=="default"&&Object.prototype.hasOwnProperty.call(b,S)){var A=x?Object.getOwnPropertyDescriptor(b,S):null;A&&(A.get||A.set)?Object.defineProperty(_,S,A):_[S]=b[S]}return _.default=b,E&&E.set(b,_),_}function f(){return f=Object.assign?Object.assign.bind():function(b){for(var v=1;v<arguments.length;v++){var E=arguments[v];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(b[_]=E[_])}return b},f.apply(this,arguments)}function p(b,v,E){return v=m(v),v in b?Object.defineProperty(b,v,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[v]=E,b}function m(b){var v=w(b,"string");return typeof v=="symbol"?v:String(v)}function w(b,v){if(typeof b!="object"||b===null)return b;var E=b[Symbol.toPrimitive];if(E!==void 0){var _=E.call(b,v);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(b)}class y extends e.Component{static getDerivedStateFromProps(v,E){let{position:_}=v,{prevPropsPosition:x}=E;return _&&(!x||_.x!==x.x||_.y!==x.y)?((0,l.default)("Draggable: getDerivedStateFromProps %j",{position:_,prevPropsPosition:x}),{x:_.x,y:_.y,prevPropsPosition:{..._}}):null}constructor(v){super(v),p(this,"onDragStart",(E,_)=>{if((0,l.default)("Draggable: onDragStart: %j",_),this.props.onStart(E,(0,o.createDraggableData)(this,_))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(E,_)=>{if(!this.state.dragging)return!1;(0,l.default)("Draggable: onDrag: %j",_);const x=(0,o.createDraggableData)(this,_),S={x:x.x,y:x.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:k}=S;S.x+=this.state.slackX,S.y+=this.state.slackY;const[O,B]=(0,o.getBoundPosition)(this,S.x,S.y);S.x=O,S.y=B,S.slackX=this.state.slackX+(C-S.x),S.slackY=this.state.slackY+(k-S.y),x.x=S.x,x.y=S.y,x.deltaX=S.x-this.state.x,x.deltaY=S.y-this.state.y}if(this.props.onDrag(E,x)===!1)return!1;this.setState(S)}),p(this,"onDragStop",(E,_)=>{if(!this.state.dragging||this.props.onStop(E,(0,o.createDraggableData)(this,_))===!1)return!1;(0,l.default)("Draggable: onDragStop: %j",_);const S={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:k}=this.props.position;S.x=C,S.y=k}this.setState(S)}),this.state={dragging:!1,dragged:!1,x:v.position?v.position.x:v.defaultPosition.x,y:v.position?v.position.y:v.defaultPosition.y,prevPropsPosition:{...v.position},slackX:0,slackY:0,isElementSVG:!1},v.position&&!(v.onDrag||v.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var v,E;return(v=(E=this.props)===null||E===void 0||(E=E.nodeRef)===null||E===void 0?void 0:E.current)!==null&&v!==void 0?v:r.default.findDOMNode(this)}render(){const{axis:v,bounds:E,children:_,defaultPosition:x,defaultClassName:S,defaultClassNameDragging:A,defaultClassNameDragged:C,position:k,positionOffset:O,scale:B,...F}=this.props;let V={},I=null;const L=!!!k||this.state.dragging,D=k||x,$={x:(0,o.canDragX)(this)&&L?this.state.x:D.x,y:(0,o.canDragY)(this)&&L?this.state.y:D.y};this.state.isElementSVG?I=(0,i.createSVGTransform)($,O):V=(0,i.createCSSTransform)($,O);const j=(0,s.default)(_.props.className||"",S,{[A]:this.state.dragging,[C]:this.state.dragged});return e.createElement(c.default,f({},F,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(_),{className:j,style:{..._.props.style,...V},transform:I}))}}t.default=y,p(y,"displayName","Draggable"),p(y,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),p(y,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(B8);const{default:X8,DraggableCore:iQ}=B8;Dv.exports=X8;Dv.exports.default=X8;Dv.exports.DraggableCore=iQ;var oQ=Dv.exports;const Tm=Nu(oQ);function hn(){return hn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hn.apply(null,arguments)}function ej(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tj={exports:{}},Lt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jn=typeof Symbol=="function"&&Symbol.for,i2=Jn?Symbol.for("react.element"):60103,o2=Jn?Symbol.for("react.portal"):60106,Mv=Jn?Symbol.for("react.fragment"):60107,Bv=Jn?Symbol.for("react.strict_mode"):60108,Fv=Jn?Symbol.for("react.profiler"):60114,zv=Jn?Symbol.for("react.provider"):60109,qv=Jn?Symbol.for("react.context"):60110,a2=Jn?Symbol.for("react.async_mode"):60111,Wv=Jn?Symbol.for("react.concurrent_mode"):60111,Hv=Jn?Symbol.for("react.forward_ref"):60112,Vv=Jn?Symbol.for("react.suspense"):60113,aQ=Jn?Symbol.for("react.suspense_list"):60120,Gv=Jn?Symbol.for("react.memo"):60115,Kv=Jn?Symbol.for("react.lazy"):60116,cQ=Jn?Symbol.for("react.block"):60121,lQ=Jn?Symbol.for("react.fundamental"):60117,uQ=Jn?Symbol.for("react.responder"):60118,dQ=Jn?Symbol.for("react.scope"):60119;function Hs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case i2:switch(t=t.type,t){case a2:case Wv:case Mv:case Fv:case Bv:case Vv:return t;default:switch(t=t&&t.$$typeof,t){case qv:case Hv:case Kv:case Gv:case zv:return t;default:return e}}case o2:return e}}}function nj(t){return Hs(t)===Wv}Lt.AsyncMode=a2;Lt.ConcurrentMode=Wv;Lt.ContextConsumer=qv;Lt.ContextProvider=zv;Lt.Element=i2;Lt.ForwardRef=Hv;Lt.Fragment=Mv;Lt.Lazy=Kv;Lt.Memo=Gv;Lt.Portal=o2;Lt.Profiler=Fv;Lt.StrictMode=Bv;Lt.Suspense=Vv;Lt.isAsyncMode=function(t){return nj(t)||Hs(t)===a2};Lt.isConcurrentMode=nj;Lt.isContextConsumer=function(t){return Hs(t)===qv};Lt.isContextProvider=function(t){return Hs(t)===zv};Lt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===i2};Lt.isForwardRef=function(t){return Hs(t)===Hv};Lt.isFragment=function(t){return Hs(t)===Mv};Lt.isLazy=function(t){return Hs(t)===Kv};Lt.isMemo=function(t){return Hs(t)===Gv};Lt.isPortal=function(t){return Hs(t)===o2};Lt.isProfiler=function(t){return Hs(t)===Fv};Lt.isStrictMode=function(t){return Hs(t)===Bv};Lt.isSuspense=function(t){return Hs(t)===Vv};Lt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mv||t===Wv||t===Fv||t===Bv||t===Vv||t===aQ||typeof t=="object"&&t!==null&&(t.$$typeof===Kv||t.$$typeof===Gv||t.$$typeof===zv||t.$$typeof===qv||t.$$typeof===Hv||t.$$typeof===lQ||t.$$typeof===uQ||t.$$typeof===dQ||t.$$typeof===cQ)};Lt.typeOf=Hs;tj.exports=Lt;var hQ=tj.exports,c2=hQ,fQ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pQ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},gQ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l2={};l2[c2.ForwardRef]=gQ;l2[c2.Memo]=rj;function IN(t){return c2.isMemo(t)?rj:l2[t.$$typeof]||fQ}var mQ=Object.defineProperty,yQ=Object.getOwnPropertyNames,TN=Object.getOwnPropertySymbols,wQ=Object.getOwnPropertyDescriptor,vQ=Object.getPrototypeOf,NN=Object.prototype;function sj(t,e,n){if(typeof e!="string"){if(NN){var r=vQ(e);r&&r!==NN&&sj(t,r,n)}var s=yQ(e);TN&&(s=s.concat(TN(e)));for(var i=IN(t),o=IN(e),a=0;a<s.length;++a){var c=s[a];if(!pQ[c]&&!(n&&n[c])&&!(o&&o[c])&&!(i&&i[c])){var l=wQ(e,c);try{mQ(t,c,l)}catch{}}}}return t}var bQ=sj;const _Q=Nu(bQ);var ij={};Object.defineProperty(ij,"__esModule",{value:!0});ij.default=EQ;function EQ(t){return t.displayName||t.name||(typeof t=="string"&&t.length>0?t:"Unknown")}function Ry(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N0(){return N0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(this,arguments)}function CQ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Oa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xQ(t){var e=function(n){CQ(r,n);function r(){for(var i,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return i=n.call.apply(n,[this].concat(a))||this,Ry(Oa(Oa(i)),"cachedTheme",void 0),Ry(Oa(Oa(i)),"lastOuterTheme",void 0),Ry(Oa(Oa(i)),"lastTheme",void 0),Ry(Oa(Oa(i)),"renderProvider",function(l){var u=i.props.children;return js.createElement(t.Provider,{value:i.getTheme(l)},u)}),i}var s=r.prototype;return s.getTheme=function(o){if(this.props.theme!==this.lastTheme||o!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=o,this.lastTheme=this.props.theme,typeof this.lastTheme=="function"){var a=this.props.theme;this.cachedTheme=a(o)}else{var c=this.props.theme;this.cachedTheme=o?N0({},o,c):c}return this.cachedTheme},s.render=function(){var o=this.props.children;return o?js.createElement(t.Consumer,null,this.renderProvider):null},r}(js.Component);return e}function SQ(t){return function(n){var r=js.forwardRef(function(s,i){return js.createElement(t.Consumer,null,function(o){return js.createElement(n,N0({theme:o,ref:i},s))})});return _Q(r,n),r}}function AQ(t){var e=function(){var r=js.useContext(t);return r};return e}function IQ(t){return{context:t,withTheme:SQ(t),useTheme:AQ(t),ThemeProvider:xQ(t)}}var oj=P.createContext();IQ(oj);var PN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh=(typeof window>"u"?"undefined":PN(window))==="object"&&(typeof document>"u"?"undefined":PN(document))==="object"&&document.nodeType===9;function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function TQ(t,e){if(Ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NQ(t){var e=TQ(t,"string");return Ng(e)=="symbol"?e:e+""}function PQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NQ(r.key),r)}}function u2(t,e,n){return e&&PQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZC(t,e){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ZC(t,e)}function aj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ZC(t,e)}function kN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var kQ={}.constructor;function XC(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(XC);if(t.constructor!==kQ)return t;var e={};for(var n in t)e[n]=XC(t[n]);return e}function Yv(t,e,n){t===void 0&&(t="unnamed");var r=n.jss,s=XC(e),i=r.plugins.onCreateRule(t,s,n);return i||(t[0],null)}var ON=function(e,n){for(var r="",s=0;s<e.length&&e[s]!=="!important";s++)r&&(r+=n),r+=e[s];return r},tu=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)n&&(n+=", "),n+=ON(e[r]," ");else n=ON(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function Gh(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function Af(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function Pg(t,e,n){n===void 0&&(n={});var r="";if(!e)return r;var s=n,i=s.indent,o=i===void 0?0:i,a=e.fallbacks;n.format===!1&&(o=-1/0);var c=Gh(n),l=c.linebreak,u=c.space;if(t&&o++,a)if(Array.isArray(a))for(var d=0;d<a.length;d++){var h=a[d];for(var f in h){var p=h[f];p!=null&&(r&&(r+=l),r+=Af(f+":"+u+tu(p)+";",o))}}else for(var m in a){var w=a[m];w!=null&&(r&&(r+=l),r+=Af(m+":"+u+tu(w)+";",o))}for(var y in e){var b=e[y];b!=null&&y!=="fallbacks"&&(r&&(r+=l),r+=Af(y+":"+u+tu(b)+";",o))}return!r&&!n.allowEmpty||!t?r:(o--,r&&(r=""+l+r+l),Af(""+t+u+"{"+r,o)+Af("}",o))}var OQ=/([[\].#*$><+~=|^:(),"'`\s])/g,RN=typeof CSS<"u"&&CSS.escape,d2=function(t){return RN?RN(t):t.replace(OQ,"\\$1")},cj=function(){function t(n,r,s){this.type="style",this.isProcessed=!1;var i=s.sheet,o=s.Renderer;this.key=n,this.options=s,this.style=r,i?this.renderer=i.renderer:o&&(this.renderer=new o)}var e=t.prototype;return e.prop=function(r,s,i){if(s===void 0)return this.style[r];var o=i?i.force:!1;if(!o&&this.style[r]===s)return this;var a=s;(!i||i.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(s,r,this));var c=a==null||a===!1,l=r in this.style;if(c&&!l&&!o)return this;var u=c&&l;if(u?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var d=this.options.sheet;return d&&d.attached,this},t}(),ex=function(t){aj(e,t);function e(r,s,i){var o;o=t.call(this,r,s,i)||this;var a=i.selector,c=i.scoped,l=i.sheet,u=i.generateId;return a?o.selectorText=a:c!==!1&&(o.id=u(kN(kN(o)),l),o.selectorText="."+d2(o.id)),o}var n=e.prototype;return n.applyTo=function(s){var i=this.renderer;if(i){var o=this.toJSON();for(var a in o)i.setProperty(s,a,o[a])}return this},n.toJSON=function(){var s={};for(var i in this.style){var o=this.style[i];typeof o!="object"?s[i]=o:Array.isArray(o)&&(s[i]=tu(o))}return s},n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?hn({},s,{allowEmpty:!0}):s;return Pg(this.selectorText,this.style,a)},u2(e,[{key:"selector",set:function(s){if(s!==this.selectorText){this.selectorText=s;var i=this.renderer,o=this.renderable;if(!(!o||!i)){var a=i.setSelector(o,s);a||i.replaceRule(o,this)}}},get:function(){return this.selectorText}}]),e}(cj),RQ={onCreateRule:function(e,n,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new ex(e,n,r)}},W1={indent:1,children:!0},$Q=/@([\w-]+)/,DQ=function(){function t(n,r,s){this.type="conditional",this.isProcessed=!1,this.key=n;var i=n.match($Q);this.at=i?i[1]:"unknown",this.query=s.name||"@"+this.at,this.options=s,this.rules=new Qv(hn({},s,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o?(this.options.jss.plugins.onProcessRule(o),o):null},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.toString=function(r){r===void 0&&(r=W1);var s=Gh(r),i=s.linebreak;if(r.indent==null&&(r.indent=W1.indent),r.children==null&&(r.children=W1.children),r.children===!1)return this.query+" {}";var o=this.rules.toString(r);return o?this.query+" {"+i+o+i+"}":""},t}(),jQ=/@container|@media|@supports\s+/,UQ={onCreateRule:function(e,n,r){return jQ.test(e)?new DQ(e,n,r):null}},H1={indent:1,children:!0},LQ=/@keyframes\s+([\w-]+)/,tx=function(){function t(n,r,s){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=n.match(LQ);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=s;var o=s.scoped,a=s.sheet,c=s.generateId;this.id=o===!1?this.name:d2(c(this,a)),this.rules=new Qv(hn({},s,{parent:this}));for(var l in r)this.rules.add(l,r[l],hn({},s,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(r){r===void 0&&(r=H1);var s=Gh(r),i=s.linebreak;if(r.indent==null&&(r.indent=H1.indent),r.children==null&&(r.children=H1.children),r.children===!1)return this.at+" "+this.id+" {}";var o=this.rules.toString(r);return o&&(o=""+i+o+i),this.at+" "+this.id+" {"+o+"}"},t}(),MQ=/@keyframes\s+/,BQ=/\$([\w-]+)/g,nx=function(e,n){return typeof e=="string"?e.replace(BQ,function(r,s){return s in n?n[s]:r}):e},$N=function(e,n,r){var s=e[n],i=nx(s,r);i!==s&&(e[n]=i)},FQ={onCreateRule:function(e,n,r){return typeof e=="string"&&MQ.test(e)?new tx(e,n,r):null},onProcessStyle:function(e,n,r){return n.type!=="style"||!r||("animation-name"in e&&$N(e,"animation-name",r.keyframes),"animation"in e&&$N(e,"animation",r.keyframes)),e},onChangeValue:function(e,n,r){var s=r.options.sheet;if(!s)return e;switch(n){case"animation":return nx(e,s.keyframes);case"animation-name":return nx(e,s.keyframes);default:return e}}},zQ=function(t){aj(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?hn({},s,{allowEmpty:!0}):s;return Pg(this.key,this.style,a)},e}(cj),qQ={onCreateRule:function(e,n,r){return r.parent&&r.parent.type==="keyframes"?new zQ(e,n,r):null}},WQ=function(){function t(n,r,s){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){var s=Gh(r),i=s.linebreak;if(Array.isArray(this.style)){for(var o="",a=0;a<this.style.length;a++)o+=Pg(this.at,this.style[a]),this.style[a+1]&&(o+=i);return o}return Pg(this.at,this.style,r)},t}(),HQ=/@font-face/,VQ={onCreateRule:function(e,n,r){return HQ.test(e)?new WQ(e,n,r):null}},GQ=function(){function t(n,r,s){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){return Pg(this.key,this.style,r)},t}(),KQ={onCreateRule:function(e,n,r){return e==="@viewport"||e==="@-ms-viewport"?new GQ(e,n,r):null}},YQ=function(){function t(n,r,s){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=s}var e=t.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var s="",i=0;i<this.value.length;i++)s+=this.key+" "+this.value[i]+";",this.value[i+1]&&(s+=`
`);return s}return this.key+" "+this.value+";"},t}(),QQ={"@charset":!0,"@import":!0,"@namespace":!0},JQ={onCreateRule:function(e,n,r){return e in QQ?new YQ(e,n,r):null}},DN=[RQ,UQ,FQ,qQ,VQ,KQ,JQ],ZQ={process:!0},jN={force:!0,process:!0},Qv=function(){function t(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var e=t.prototype;return e.add=function(r,s,i){var o=this.options,a=o.parent,c=o.sheet,l=o.jss,u=o.Renderer,d=o.generateId,h=o.scoped,f=hn({classes:this.classes,parent:a,sheet:c,jss:l,Renderer:u,generateId:d,scoped:h,name:r,keyframes:this.keyframes,selector:void 0},i),p=r;r in this.raw&&(p=r+"-d"+this.counter++),this.raw[p]=s,p in this.classes&&(f.selector="."+d2(this.classes[p]));var m=Yv(p,s,f);if(!m)return null;this.register(m);var w=f.index===void 0?this.index.length:f.index;return this.index.splice(w,0,m),m},e.replace=function(r,s,i){var o=this.get(r),a=this.index.indexOf(o);o&&this.remove(o);var c=i;return a!==-1&&(c=hn({},i,{index:a})),this.add(r,s,c)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof ex?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof tx&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof ex?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof tx&&delete this.keyframes[r.name]},e.update=function(){var r,s,i;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2]):(s=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),s,i);else for(var o=0;o<this.index.length;o++)this.updateOne(this.index[o],s,i)},e.updateOne=function(r,s,i){i===void 0&&(i=ZQ);var o=this.options,a=o.jss.plugins,c=o.sheet;if(r.rules instanceof t){r.rules.update(s,i);return}var l=r.style;if(a.onUpdate(s,r,c,i),i.process&&l&&l!==r.style){a.onProcessStyle(r.style,r,c);for(var u in r.style){var d=r.style[u],h=l[u];d!==h&&r.prop(u,d,jN)}for(var f in l){var p=r.style[f],m=l[f];p==null&&p!==m&&r.prop(f,null,jN)}}},e.toString=function(r){for(var s="",i=this.options.sheet,o=i?i.options.link:!1,a=Gh(r),c=a.linebreak,l=0;l<this.index.length;l++){var u=this.index[l],d=u.toString(r);!d&&!o||(s&&(s+=c),s+=d)}return s},t}(),lj=function(){function t(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=hn({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new Qv(this.options);for(var s in n)this.rules.add(s,n[s]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,s,i){var o=this.queue;this.attached&&!o&&(this.queue=[]);var a=this.rules.add(r,s,i);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(o?o.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},e.replaceRule=function(r,s,i){var o=this.rules.get(r);if(!o)return this.addRule(r,s,i);var a=this.rules.replace(r,s,i);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?o.renderable&&this.renderer.replaceRule(o.renderable,a):this.renderer.deleteRule(o)),a):(this.deployed=!1,a)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,s){var i=[];for(var o in r){var a=this.addRule(o,r[o],s);a&&i.push(a)}return i},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var s=typeof r=="object"?r:this.rules.get(r);return!s||this.attached&&!s.renderable?!1:(this.rules.remove(s),this.attached&&s.renderable&&this.renderer?this.renderer.deleteRule(s.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,s,i){return this.rules.updateOne(r,s,i),this},e.toString=function(r){return this.rules.toString(r)},t}(),XQ=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(r,s,i){for(var o=0;o<this.registry.onCreateRule.length;o++){var a=this.registry.onCreateRule[o](r,s,i);if(a)return a}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var s=r.options.sheet,i=0;i<this.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](r,s);r.style&&this.onProcessStyle(r.style,r,s),r.isProcessed=!0}},e.onProcessStyle=function(r,s,i){for(var o=0;o<this.registry.onProcessStyle.length;o++)s.style=this.registry.onProcessStyle[o](s.style,s,i)},e.onProcessSheet=function(r){for(var s=0;s<this.registry.onProcessSheet.length;s++)this.registry.onProcessSheet[s](r)},e.onUpdate=function(r,s,i,o){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,s,i,o)},e.onChangeValue=function(r,s,i){for(var o=r,a=0;a<this.registry.onChangeValue.length;a++)o=this.registry.onChangeValue[a](o,s,i);return o},e.use=function(r,s){s===void 0&&(s={queue:"external"});var i=this.plugins[s.queue];i.indexOf(r)===-1&&(i.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(o,a){for(var c in a)c in o&&o[c].push(a[c]);return o},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),eJ=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(r){var s=this.registry,i=r.options.index;if(s.indexOf(r)===-1){if(s.length===0||i>=this.index){s.push(r);return}for(var o=0;o<s.length;o++)if(s[o].options.index>i){s.splice(o,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var s=this.registry.indexOf(r);this.registry.splice(s,1)},e.toString=function(r){for(var s=r===void 0?{}:r,i=s.attached,o=ej(s,["attached"]),a=Gh(o),c=a.linebreak,l="",u=0;u<this.registry.length;u++){var d=this.registry[u];i!=null&&d.attached!==i||(l&&(l+=c),l+=d.toString(o))}return l},u2(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),_p=new eJ,rx=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),sx="2f1acc6c3a606b082e5eef5e54414ffb";rx[sx]==null&&(rx[sx]=0);var UN=rx[sx]++,LN=function(e){e===void 0&&(e={});var n=0,r=function(i,o){n+=1;var a="",c="";return o&&(o.options.classNamePrefix&&(c=o.options.classNamePrefix),o.options.jss.id!=null&&(a=String(o.options.jss.id))),e.minify?""+(c||"c")+UN+a+n:c+i.key+"-"+UN+(a?"-"+a:"")+"-"+n};return r},uj=function(e){var n;return function(){return n||(n=e()),n}},tJ=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},nJ=function(e,n,r){try{var s=r;if(Array.isArray(r)&&(s=tu(r)),e.attributeStyleMap)e.attributeStyleMap.set(n,s);else{var i=s?s.indexOf("!important"):-1,o=i>-1?s.substr(0,i-1):s;e.style.setProperty(n,o,i>-1?"important":"")}}catch{return!1}return!0},rJ=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},sJ=function(e,n){return e.selectorText=n,e.selectorText===n},dj=uj(function(){return document.querySelector("head")});function iJ(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function oJ(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function aJ(t){for(var e=dj(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===t)return r}return null}function cJ(t){var e=_p.registry;if(e.length>0){var n=iJ(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=oJ(e,t),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&typeof r=="string"){var s=aJ(r);if(s)return{parent:s.parentNode,node:s.nextSibling}}return!1}function lJ(t,e){var n=e.insertionPoint,r=cJ(e);if(r!==!1&&r.parent){r.parent.insertBefore(t,r.node);return}if(n&&typeof n.nodeType=="number"){var s=n,i=s.parentNode;i&&i.insertBefore(t,s.nextSibling);return}dj().appendChild(t)}var uJ=uj(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),MN=function(e,n,r){try{"insertRule"in e?e.insertRule(n,r):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[r]},BN=function(e,n){var r=e.cssRules.length;return n===void 0||n>r?r:n},dJ=function(){var e=document.createElement("style");return e.textContent=`
`,e},hJ=function(){function t(n){this.getPropertyValue=tJ,this.setProperty=nJ,this.removeProperty=rJ,this.setSelector=sJ,this.hasInsertedRules=!1,this.cssRules=[],n&&_p.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},s=r.media,i=r.meta,o=r.element;this.element=o||dJ(),this.element.setAttribute("data-jss",""),s&&this.element.setAttribute("media",s),i&&this.element.setAttribute("data-meta",i);var a=uJ();a&&this.element.setAttribute("nonce",a)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){lJ(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,s){for(var i=0;i<r.index.length;i++)this.insertRule(r.index[i],i,s)},e.insertRule=function(r,s,i){if(i===void 0&&(i=this.element.sheet),r.rules){var o=r,a=i;if(r.type==="conditional"||r.type==="keyframes"){var c=BN(i,s);if(a=MN(i,o.toString({children:!1}),c),a===!1)return!1;this.refCssRule(r,c,a)}return this.insertRules(o.rules,a),a}var l=r.toString();if(!l)return!1;var u=BN(i,s),d=MN(i,l,u);return d===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,u,d),d)},e.refCssRule=function(r,s,i){r.renderable=i,r.options.parent instanceof lj&&this.cssRules.splice(s,0,i)},e.deleteRule=function(r){var s=this.element.sheet,i=this.indexOf(r);return i===-1?!1:(s.deleteRule(i),this.cssRules.splice(i,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,s){var i=this.indexOf(r);return i===-1?!1:(this.element.sheet.deleteRule(i),this.cssRules.splice(i,1),this.insertRule(s,i))},e.getRules=function(){return this.element.sheet.cssRules},t}(),fJ=0,pJ=function(){function t(n){this.id=fJ++,this.version="10.10.0",this.plugins=new XQ,this.options={id:{minify:!1},createGenerateId:LN,Renderer:Vh?hJ:null,plugins:[]},this.generateId=LN({minify:!1});for(var r=0;r<DN.length;r++)this.plugins.use(DN[r],{queue:"internal"});this.setup(n)}var e=t.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=hn({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,s){s===void 0&&(s={});var i=s,o=i.index;typeof o!="number"&&(o=_p.index===0?0:_p.index+1);var a=new lj(r,hn({},s,{jss:this,generateId:s.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:o}));return this.plugins.onProcessSheet(a),a},e.removeStyleSheet=function(r){return r.detach(),_p.remove(r),this},e.createRule=function(r,s,i){if(s===void 0&&(s={}),i===void 0&&(i={}),typeof r=="object")return this.createRule(void 0,r,s);var o=hn({},i,{name:r,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var a=Yv(r,s,o);return a&&this.plugins.onProcessRule(a),a},e.use=function(){for(var r=this,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return i.forEach(function(a){r.plugins.use(a)}),this},t}(),hj=function(e){return new pJ(e)},FN=function(){function t(){this.length=0,this.sheets=new WeakMap}var e=t.prototype;return e.get=function(r){var s=this.sheets.get(r);return s&&s.sheet},e.add=function(r,s){this.sheets.has(r)||(this.length++,this.sheets.set(r,{sheet:s,refs:0}))},e.manage=function(r){var s=this.sheets.get(r);if(s)return s.refs===0&&s.sheet.attach(),s.refs++,s.sheet},e.unmanage=function(r){var s=this.sheets.get(r);s&&s.refs>0&&(s.refs--,s.refs===0&&s.sheet.detach())},u2(t,[{key:"size",get:function(){return this.length}}]),t}(),h2=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function fj(t){var e=null;for(var n in t){var r=t[n],s=typeof r;if(s==="function")e||(e={}),e[n]=r;else if(s==="object"&&r!==null&&!Array.isArray(r)){var i=fj(r);i&&(e||(e={}),e[n]=i)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */hj();var pj=Date.now(),V1="fnValues"+pj,G1="fnStyle"+ ++pj,gJ=function(){return{onCreateRule:function(n,r,s){if(typeof r!="function")return null;var i=Yv(n,{},s);return i[G1]=r,i},onProcessStyle:function(n,r){if(V1 in r||G1 in r)return n;var s={};for(var i in n){var o=n[i];typeof o=="function"&&(delete n[i],s[i]=o)}return r[V1]=s,n},onUpdate:function(n,r,s,i){var o=r,a=o[G1];a&&(o.style=a(n)||{});var c=o[V1];if(c)for(var l in c)o.prop(l,c[l](n),i)}}};function mJ(t){var e,n=t.Symbol;return typeof n=="function"?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var Ed;typeof self<"u"?Ed=self:typeof window<"u"?Ed=window:typeof global<"u"?Ed=global:typeof module<"u"?Ed=module:Ed=Function("return this")();var zN=mJ(Ed),qN=function(e){return e&&e[zN]&&e===e[zN]()},yJ=function(e){return{onCreateRule:function(r,s,i){if(!qN(s))return null;var o=s,a=Yv(r,{},i);return o.subscribe(function(c){for(var l in c)a.prop(l,c[l],e)}),a},onProcessRule:function(r){if(!(r&&r.type!=="style")){var s=r,i=s.style,o=function(u){var d=i[u];if(!qN(d))return"continue";delete i[u],d.subscribe({next:function(f){s.prop(u,f,e)}})};for(var a in i)var c=o(a)}}}},wJ=/;\n/,vJ=function(e){for(var n={},r=e.split(wJ),s=0;s<r.length;s++){var i=(r[s]||"").trim();if(i){var o=i.indexOf(":");if(o!==-1){var a=i.substr(0,o).trim(),c=i.substr(o+1).trim();n[a]=c}}}return n},bJ=function(e){typeof e.style=="string"&&(e.style=vJ(e.style))};function _J(){return{onProcessRule:bJ}}var Fc="@global",ix="@global ",EJ=function(){function t(n,r,s){this.type="global",this.at=Fc,this.isProcessed=!1,this.key=n,this.options=s,this.rules=new Qv(hn({},s,{parent:this}));for(var i in r)this.rules.add(i,r[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},t}(),CJ=function(){function t(n,r,s){this.type="global",this.at=Fc,this.isProcessed=!1,this.key=n,this.options=s;var i=n.substr(ix.length);this.rule=s.jss.createRule(i,r,hn({},s,{parent:this}))}var e=t.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},t}(),xJ=/\s*,\s*/g;function gj(t,e){for(var n=t.split(xJ),r="",s=0;s<n.length;s++)r+=e+" "+n[s].trim(),n[s+1]&&(r+=", ");return r}function SJ(t,e){var n=t.options,r=t.style,s=r?r[Fc]:null;if(s){for(var i in s)e.addRule(i,s[i],hn({},n,{selector:gj(i,t.selector)}));delete r[Fc]}}function AJ(t,e){var n=t.options,r=t.style;for(var s in r)if(!(s[0]!=="@"||s.substr(0,Fc.length)!==Fc)){var i=gj(s.substr(Fc.length),t.selector);e.addRule(i,r[s],hn({},n,{selector:i})),delete r[s]}}function IJ(){function t(n,r,s){if(!n)return null;if(n===Fc)return new EJ(n,r,s);if(n[0]==="@"&&n.substr(0,ix.length)===ix)return new CJ(n,r,s);var i=s.parent;return i&&(i.type==="global"||i.options.parent&&i.options.parent.type==="global")&&(s.scoped=!1),!s.selector&&s.scoped===!1&&(s.selector=n),null}function e(n,r){n.type!=="style"||!r||(SJ(n,r),AJ(n,r))}return{onCreateRule:t,onProcessRule:e}}var Ow=function(e){return e&&typeof e=="object"&&!Array.isArray(e)},K1="extendCurrValue"+Date.now();function TJ(t,e,n,r){var s=typeof t.extend;if(s==="string"){if(!n)return;var i=n.getRule(t.extend);if(!i||i===e)return;var o=i.options.parent;if(o){var a=o.rules.raw[t.extend];Ul(a,e,n,r)}return}if(Array.isArray(t.extend)){for(var c=0;c<t.extend.length;c++){var l=t.extend[c],u=typeof l=="string"?hn({},t,{extend:l}):t.extend[c];Ul(u,e,n,r)}return}for(var d in t.extend){if(d==="extend"){Ul(t.extend.extend,e,n,r);continue}if(Ow(t.extend[d])){d in r||(r[d]={}),Ul(t.extend[d],e,n,r[d]);continue}r[d]=t.extend[d]}}function NJ(t,e,n,r){for(var s in t)if(s!=="extend"){if(Ow(r[s])&&Ow(t[s])){Ul(t[s],e,n,r[s]);continue}if(Ow(t[s])){r[s]=Ul(t[s],e,n);continue}r[s]=t[s]}}function Ul(t,e,n,r){return r===void 0&&(r={}),TJ(t,e,n,r),NJ(t,e,n,r),r}function PJ(){function t(n,r,s){return"extend"in n?Ul(n,r,s):n}function e(n,r,s){if(r!=="extend")return n;if(n==null||n===!1){for(var i in s[K1])s.prop(i,null);return s[K1]=null,null}if(typeof n=="object"){for(var o in n)s.prop(o,n[o]);s[K1]=n}return null}return{onProcessStyle:t,onChangeValue:e}}var WN=/\s*,\s*/g,kJ=/&/g,OJ=/\$([\w-]+)/g;function RJ(){function t(s,i){return function(o,a){var c=s.getRule(a)||i&&i.getRule(a);return c?c.selector:a}}function e(s,i){for(var o=i.split(WN),a=s.split(WN),c="",l=0;l<o.length;l++)for(var u=o[l],d=0;d<a.length;d++){var h=a[d];c&&(c+=", "),c+=h.indexOf("&")!==-1?h.replace(kJ,u):u+" "+h}return c}function n(s,i,o){if(o)return hn({},o,{index:o.index+1});var a=s.options.nestingLevel;a=a===void 0?1:a+1;var c=hn({},s.options,{nestingLevel:a,index:i.indexOf(s)+1});return delete c.name,c}function r(s,i,o){if(i.type!=="style")return s;var a=i,c=a.options.parent,l,u;for(var d in s){var h=d.indexOf("&")!==-1,f=d[0]==="@";if(!(!h&&!f)){if(l=n(a,c,l),h){var p=e(d,a.selector);u||(u=t(c,o)),p=p.replace(OJ,u);var m=a.key+"-"+d;"replaceRule"in c?c.replaceRule(m,s[d],hn({},l,{selector:p})):c.addRule(m,s[d],hn({},l,{selector:p}))}else f&&c.addRule(d,{},l).addRule(a.key,s[d],{selector:a.selector});delete s[d]}}return s}return{onProcessStyle:r}}function ox(t,e){if(!e)return!0;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var r=ox(t,e[n]);if(!r)return!1}return!0}if(e.indexOf(" ")>-1)return ox(t,e.split(" "));var s=t.options.parent;if(e[0]==="$"){var i=s.getRule(e.substr(1));return!i||i===t?!1:(s.classes[t.key]+=" "+s.classes[i.key],!0)}return s.classes[t.key]+=" "+e,!0}function $J(){function t(e,n){return"composes"in e&&(ox(n,e.composes),delete e.composes),e}return{onProcessStyle:t}}var DJ=/[A-Z]/g,jJ=/^ms-/,Y1={};function UJ(t){return"-"+t.toLowerCase()}function mj(t){if(Y1.hasOwnProperty(t))return Y1[t];var e=t.replace(DJ,UJ);return Y1[t]=jJ.test(e)?"-"+e:e}function P0(t){var e={};for(var n in t){var r=n.indexOf("--")===0?n:mj(n);e[r]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(P0):e.fallbacks=P0(t.fallbacks)),e}function LJ(){function t(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=P0(n[r]);return n}return P0(n)}function e(n,r,s){if(r.indexOf("--")===0)return n;var i=mj(r);return r===i?n:(s.prop(i,n),null)}return{onProcessStyle:t,onChangeValue:e}}var X=h2&&CSS?CSS.px:"px",$y=h2&&CSS?CSS.ms:"ms",Qu=h2&&CSS?CSS.percent:"%",MJ={"animation-delay":$y,"animation-duration":$y,"background-position":X,"background-position-x":X,"background-position-y":X,"background-size":X,border:X,"border-bottom":X,"border-bottom-left-radius":X,"border-bottom-right-radius":X,"border-bottom-width":X,"border-left":X,"border-left-width":X,"border-radius":X,"border-right":X,"border-right-width":X,"border-top":X,"border-top-left-radius":X,"border-top-right-radius":X,"border-top-width":X,"border-width":X,"border-block":X,"border-block-end":X,"border-block-end-width":X,"border-block-start":X,"border-block-start-width":X,"border-block-width":X,"border-inline":X,"border-inline-end":X,"border-inline-end-width":X,"border-inline-start":X,"border-inline-start-width":X,"border-inline-width":X,"border-start-start-radius":X,"border-start-end-radius":X,"border-end-start-radius":X,"border-end-end-radius":X,margin:X,"margin-bottom":X,"margin-left":X,"margin-right":X,"margin-top":X,"margin-block":X,"margin-block-end":X,"margin-block-start":X,"margin-inline":X,"margin-inline-end":X,"margin-inline-start":X,padding:X,"padding-bottom":X,"padding-left":X,"padding-right":X,"padding-top":X,"padding-block":X,"padding-block-end":X,"padding-block-start":X,"padding-inline":X,"padding-inline-end":X,"padding-inline-start":X,"mask-position-x":X,"mask-position-y":X,"mask-size":X,height:X,width:X,"min-height":X,"max-height":X,"min-width":X,"max-width":X,bottom:X,left:X,top:X,right:X,inset:X,"inset-block":X,"inset-block-end":X,"inset-block-start":X,"inset-inline":X,"inset-inline-end":X,"inset-inline-start":X,"box-shadow":X,"text-shadow":X,"column-gap":X,"column-rule":X,"column-rule-width":X,"column-width":X,"font-size":X,"font-size-delta":X,"letter-spacing":X,"text-decoration-thickness":X,"text-indent":X,"text-stroke":X,"text-stroke-width":X,"word-spacing":X,motion:X,"motion-offset":X,outline:X,"outline-offset":X,"outline-width":X,perspective:X,"perspective-origin-x":Qu,"perspective-origin-y":Qu,"transform-origin":Qu,"transform-origin-x":Qu,"transform-origin-y":Qu,"transform-origin-z":Qu,"transition-delay":$y,"transition-duration":$y,"vertical-align":X,"flex-basis":X,"shape-margin":X,size:X,gap:X,grid:X,"grid-gap":X,"row-gap":X,"grid-row-gap":X,"grid-column-gap":X,"grid-template-rows":X,"grid-template-columns":X,"grid-auto-rows":X,"grid-auto-columns":X,"box-shadow-x":X,"box-shadow-y":X,"box-shadow-blur":X,"box-shadow-spread":X,"font-line-height":X,"text-shadow-x":X,"text-shadow-y":X,"text-shadow-blur":X};function yj(t){var e=/(-[a-z])/g,n=function(o){return o[1].toUpperCase()},r={};for(var s in t)r[s]=t[s],r[s.replace(e,n)]=t[s];return r}var BJ=yj(MJ);function Ep(t,e,n){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=Ep(t,e[r],n);else if(typeof e=="object")if(t==="fallbacks")for(var s in e)e[s]=Ep(s,e[s],n);else for(var i in e)e[i]=Ep(t+"-"+i,e[i],n);else if(typeof e=="number"&&isNaN(e)===!1){var o=n[t]||BJ[t];return o&&!(e===0&&o===X)?typeof o=="function"?o(e).toString():""+e+o:e.toString()}return e}function FJ(t){t===void 0&&(t={});var e=yj(t);function n(s,i){if(i.type!=="style")return s;for(var o in s)s[o]=Ep(o,s[o],e);return s}function r(s,i){return Ep(i,s,e)}return{onProcessStyle:n,onChangeValue:r}}var zJ={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},qJ={position:!0,size:!0},Dy={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},Q1={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function WJ(t,e,n){return t.map(function(r){return vj(r,e,n,!1,!0)})}function wj(t,e,n,r){return n[e]==null?t:t.length===0?[]:Array.isArray(t[0])?wj(t[0],e,n,r):typeof t[0]=="object"?WJ(t,e,r):[t]}function vj(t,e,n,r,s){if(!(Dy[e]||Q1[e]))return[];var i=[];if(Q1[e]&&(t=HJ(t,n,Q1[e],r)),Object.keys(t).length)for(var o in Dy[e]){if(t[o]){Array.isArray(t[o])?i.push(qJ[o]===null?t[o]:t[o].join(" ")):i.push(t[o]);continue}Dy[e][o]!=null&&i.push(Dy[e][o])}return!i.length||s?i:[i]}function HJ(t,e,n,r){for(var s in n){var i=n[s];if(typeof t[s]<"u"&&(r||!e.prop(i))){var o,a=kg((o={},o[i]=t[s],o),e)[i];r?e.style.fallbacks[i]=a:e.style[i]=a}delete t[s]}return t}function kg(t,e,n){for(var r in t){var s=t[r];if(Array.isArray(s)){if(!Array.isArray(s[0])){if(r==="fallbacks"){for(var i=0;i<t.fallbacks.length;i++)t.fallbacks[i]=kg(t.fallbacks[i],e,!0);continue}t[r]=wj(s,r,zJ,e),t[r].length||delete t[r]}}else if(typeof s=="object"){if(r==="fallbacks"){t.fallbacks=kg(t.fallbacks,e,!0);continue}t[r]=vj(s,r,e,n),t[r].length||delete t[r]}else t[r]===""&&delete t[r]}return t}function VJ(){function t(e,n){if(!e||n.type!=="style")return e;if(Array.isArray(e)){for(var r=0;r<e.length;r++)e[r]=kg(e[r],n);return e}return kg(e,n)}return{onProcessStyle:t}}function ax(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function GJ(t){if(Array.isArray(t))return ax(t)}function KJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YJ(t,e){if(t){if(typeof t=="string")return ax(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ax(t,e):void 0}}function QJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JJ(t){return GJ(t)||KJ(t)||YJ(t)||QJ()}var Xf="",cx="",bj="",_j="",ZJ=Vh&&"ontouchstart"in document.documentElement;if(Vh){var J1={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},XJ=document.createElement("p"),Z1=XJ.style,eZ="Transform";for(var X1 in J1)if(X1+eZ in Z1){Xf=X1,cx=J1[X1];break}Xf==="Webkit"&&"msHyphens"in Z1&&(Xf="ms",cx=J1.ms,_j="edge"),Xf==="Webkit"&&"-apple-trailing-word"in Z1&&(bj="apple")}var nt={js:Xf,css:cx,vendor:bj,browser:_j,isTouch:ZJ};function tZ(t){return t[1]==="-"||nt.js==="ms"?t:"@"+nt.css+"keyframes"+t.substr(10)}var nZ={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:nt.js==="ms"?"-webkit-"+e:nt.css+e}},rZ={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:nt.js==="Webkit"?nt.css+"print-"+e:e}},sZ=/[-\s]+(.)?/g;function iZ(t,e){return e?e.toUpperCase():""}function f2(t){return t.replace(sZ,iZ)}function Xc(t){return f2("-"+t)}var oZ={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(nt.js==="Webkit"){var r="mask-image";if(f2(r)in n)return e;if(nt.js+Xc(r)in n)return nt.css+e}return e}},aZ={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:nt.vendor==="apple"&&!nt.isTouch?nt.css+e:e}},cZ={noPrefill:["transform"],supportedProperty:function(e,n,r){return e!=="transform"?!1:r.transform?e:nt.css+e}},lZ={noPrefill:["transition"],supportedProperty:function(e,n,r){return e!=="transition"?!1:r.transition?e:nt.css+e}},uZ={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:nt.js==="Webkit"||nt.js==="ms"&&nt.browser!=="edge"?nt.css+e:e}},dZ={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:nt.js==="Moz"||nt.js==="ms"||nt.vendor==="apple"?nt.css+e:e}},hZ={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(nt.js==="Webkit"){var r="WebkitColumn"+Xc(e);return r in n?nt.css+"column-"+e:!1}if(nt.js==="Moz"){var s="page"+Xc(e);return s in n?"page-"+e:!1}return!1}},fZ={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(nt.js==="Moz")return e;var r=e.replace("-inline","");return nt.js+Xc(r)in n?nt.css+r:!1}},pZ={supportedProperty:function(e,n){return f2(e)in n?e:!1}},gZ={supportedProperty:function(e,n){var r=Xc(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:nt.js+r in n?nt.css+e:nt.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+e:!1}},mZ={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:nt.js==="ms"?""+nt.css+e:e}},yZ={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:nt.js==="ms"?nt.css+"scroll-chaining":e}},wZ={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},vZ={supportedProperty:function(e,n){var r=wZ[e];return r&&nt.js+Xc(r)in n?nt.css+r:!1}},Ej={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},bZ=Object.keys(Ej),_Z=function(e){return nt.css+e},EZ={supportedProperty:function(e,n,r){var s=r.multiple;if(bZ.indexOf(e)>-1){var i=Ej[e];if(!Array.isArray(i))return nt.js+Xc(i)in n?nt.css+i:!1;if(!s)return!1;for(var o=0;o<i.length;o++)if(!(nt.js+Xc(i[0])in n))return!1;return i.map(_Z)}return!1}},Cj=[nZ,rZ,oZ,aZ,cZ,lZ,uZ,dZ,hZ,fZ,pZ,gZ,mZ,yZ,vZ,EZ],HN=Cj.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),CZ=Cj.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,JJ(e.noPrefill)),t},[]),ep,Il={};if(Vh){ep=document.createElement("p");var e_=window.getComputedStyle(document.documentElement,"");for(var t_ in e_)isNaN(t_)||(Il[e_[t_]]=e_[t_]);CZ.forEach(function(t){return delete Il[t]})}function lx(t,e){if(e===void 0&&(e={}),!ep)return t;if(Il[t]!=null)return Il[t];(t==="transition"||t==="transform")&&(e[t]=t in ep.style);for(var n=0;n<HN.length&&(Il[t]=HN[n](t,ep.style,e),!Il[t]);n++);try{ep.style[t]=""}catch{return!1}return Il[t]}var Ju={},xZ={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},SZ=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Ga;function AZ(t,e,n){if(e==="var")return"var";if(e==="all")return"all";if(n==="all")return", all";var r=e?lx(e):", "+lx(n);return r||e||n}Vh&&(Ga=document.createElement("p"));function VN(t,e){var n=e;if(!Ga||t==="content")return e;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=t+n;if(Ju[r]!=null)return Ju[r];try{Ga.style[t]=n}catch{return Ju[r]=!1,!1}if(xZ[t])n=n.replace(SZ,AZ);else if(Ga.style[t]===""&&(n=nt.css+n,n==="-ms-flex"&&(Ga.style[t]="-ms-flexbox"),Ga.style[t]=n,Ga.style[t]===""))return Ju[r]=!1,!1;return Ga.style[t]="",Ju[r]=n,Ju[r]}function IZ(){function t(s){if(s.type==="keyframes"){var i=s;i.at=tZ(i.at)}}function e(s){for(var i in s){var o=s[i];if(i==="fallbacks"&&Array.isArray(o)){s[i]=o.map(e);continue}var a=!1,c=lx(i);c&&c!==i&&(a=!0);var l=!1,u=VN(c,tu(o));u&&u!==o&&(l=!0),(a||l)&&(a&&delete s[i],s[c||i]=u||o)}return s}function n(s,i){return i.type!=="style"?s:e(s)}function r(s,i){return VN(i,tu(s))||s}return{onProcessRule:t,onProcessStyle:n,onChangeValue:r}}function TZ(){var t=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var s={},i=Object.keys(n).sort(t),o=0;o<i.length;o++)s[i[o]]=n[i[o]];return s}}}var NZ=function(e){return e===void 0&&(e={}),{plugins:[gJ(),yJ(e.observable),_J(),IJ(),PJ(),RJ(),$J(),LJ(),FJ(e.defaultUnit),VJ(),IZ(),TZ()]}},PZ=Number.MIN_SAFE_INTEGER||-1e9,kZ=function(){return PZ++},OZ=P.createContext({classNamePrefix:"",disableStylesGeneration:!1,isSSR:!Vh}),GN=new Map,p2=function(e,n){var r=e.managers;if(r)return r[n]||(r[n]=new FN),r[n];var s=GN.get(n);return s||(s=new FN,GN.set(n,s)),s},KN=function(e){var n=e.sheet,r=e.context,s=e.index,i=e.theme;if(n){var o=p2(r,s);o.manage(i),r.registry&&r.registry.add(n)}},RZ=function(e){if(e.sheet){var n=p2(e.context,e.index);n.unmanage(e.theme)}},$Z=hj(NZ()),xj=new WeakMap,Sj=function(e){return xj.get(e)},DZ=function(e,n){xj.set(e,n)},jZ=function(e){var n=e.styles;return typeof n!="function"?n:n(e.theme)};function UZ(t,e){var n;t.context.id&&t.context.id.minify!=null&&(n=t.context.id.minify);var r=t.context.classNamePrefix||"";t.name&&!n&&(r+=t.name.replace(/\s/g,"-")+"-");var s="";return t.name&&(s=t.name+", "),s+=typeof t.styles=="function"?"Themed":"Unthemed",hn({},t.sheetOptions,{index:t.index,meta:s,classNamePrefix:r,link:e,generateId:t.sheetOptions&&t.sheetOptions.generateId?t.sheetOptions.generateId:t.context.generateId})}var LZ=function(e){if(!e.context.disableStylesGeneration){var n=p2(e.context,e.index),r=n.get(e.theme);if(r)return r;var s=e.context.jss||$Z,i=jZ(e),o=fj(i),a=s.createStyleSheet(i,UZ(e,o!==null));return DZ(a,{dynamicStyles:o,styles:i}),n.add(e.theme,a),a}},MZ=function(e,n){for(var r in n)e.deleteRule(n[r])},BZ=function(e,n,r){for(var s in r)n.updateOne(r[s],e)},FZ=function(e,n){var r=Sj(e);if(r){var s={};for(var i in r.dynamicStyles)for(var o=e.rules.index.length,a=e.addRule(i,r.dynamicStyles[i]),c=o;c<e.rules.index.length;c++){var l=e.rules.index[c];e.updateOne(l,n),s[a===l?i:l.key]=l}return s}},zZ=function(e,n){if(!n)return e.classes;var r=Sj(e);if(!r)return e.classes;var s={};for(var i in r.styles)s[i]=e.classes[i],i in n&&(s[i]+=" "+e.classes[n[i].key]);return s};function YN(t){return t?P.useEffect:js.useInsertionEffect||P.useLayoutEffect}var n_={},Yi=function(e,n){n===void 0&&(n={});var r=n,s=r.index,i=s===void 0?kZ():s,o=r.theming,a=r.name,c=ej(r,["index","theming","name"]),l=o&&o.context||oj,u=function(f){return typeof e=="function"&&(f||P.useContext(l))||n_},d={};return function(f){var p=P.useRef(!0),m=P.useContext(OZ),w=u(f&&f.theme),y=P.useMemo(function(){var _=LZ({context:m,styles:e,name:a,theme:w,index:i,sheetOptions:c});return _&&m.isSSR&&KN({index:i,context:m,sheet:_,theme:w}),[_,_?FZ(_,f):null]},[m,w]),b=y[0],v=y[1];YN(m.isSSR)(function(){b&&v&&!p.current&&BZ(f,b,v)},[f]),YN(m.isSSR)(function(){return b&&KN({index:i,context:m,sheet:b,theme:w}),function(){b&&(RZ({index:i,context:m,sheet:b,theme:w}),v&&MZ(b,v))}},[b]);var E=P.useMemo(function(){return b&&v?zZ(b,v):d},[b,v]);return P.useDebugValue(E),P.useDebugValue(w===n_?"No theme":w),P.useEffect(function(){p.current=!1}),E}};const qZ=Yi({icon:{position:"absolute",width:"80px",textAlign:"center",cursor:"pointer",zIndex:3e3,userSelect:"none",pointerEvents:"auto"},iconImage:{width:"48px",height:"48px",display:"block",margin:"0 auto"},iconLabel:{display:"block",background:"#c0c0c0",color:"#000",fontSize:"12px",padding:"2px 4px",marginTop:"2px",border:"1px outset #fff"}});function r_({image:t,label:e,action:n,url:r,popupId:s,folderId:i,isInFolder:o=!1,position:a,onDrag:c,onClick:l}){const u=qZ(),d=P.useRef(null),h=p=>{p.stopPropagation(),p.preventDefault(),l(n,s,r,i)},f=g.jsxs("div",{ref:d,className:u.icon,onClick:h,style:{position:o?"relative":"absolute",zIndex:3e3,left:!o&&a?a.x:void 0,top:!o&&a?a.y:void 0},children:[g.jsx("img",{src:t,alt:e,className:u.iconImage}),g.jsx("span",{className:u.iconLabel,children:e})]});return o?f:g.jsx(Tm,{nodeRef:d,position:a,onDrag:c,bounds:"parent",children:f})}const WZ=Yi({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"15px",height:"calc(100% - 30px)",overflow:"auto"}});function Xs({id:t,isOpen:e,onClose:n,onMinimize:r,children:s,title:i,initialPosition:o,initialSize:a,zIndex:c}){const l=WZ({isOpen:e}),u=P.useRef(null),d=()=>{r&&r(t)};return g.jsx(Tm,{nodeRef:u,handle:`.${l.header}`,defaultPosition:o,children:g.jsxs("div",{ref:u,className:l.popup,style:{width:a==null?void 0:a.width,height:a==null?void 0:a.height,zIndex:c||100},children:[g.jsxs("div",{className:l.header,children:[g.jsx("span",{children:i||t.replace("-popup","")}),g.jsxs("div",{className:l.titleBarButtons,children:[g.jsx("button",{className:l.titleBarButton,onClick:d,title:"Minimize",children:"_"}),g.jsx("button",{className:l.titleBarButton,onClick:n,title:"Close",children:""})]})]}),g.jsx("div",{className:l.content,children:s})]})})}const s_=[{id:"evm-folder",image:"/assets/evmfolder.png",label:"EVM NFTs",action:"folder",folderId:"evm-folder",row:0,col:3},{id:"sol-folder",image:"/assets/solfolder.png",label:"SOL NFTs",action:"folder",folderId:"sol-folder",row:1,col:3},{id:"wallet",image:"/assets/wallet.png",label:"Wallet",action:"wallet",row:0,col:0},{id:"mint",image:"/assets/mint.gif",label:"Mint",action:"mint",row:0,col:1},{id:"gallery",image:"/assets/lawbstarz.gif",label:"NFT Gallery",action:"nft-gallery",row:0,col:2},{id:"meme-generator",image:"/assets/meme.gif",label:"Meme Generator",action:"meme-generator",row:0,col:4},{id:"chess",image:"/assets/chess.svg",label:"Chess",action:"chess",row:0,col:5},{id:"purity",image:"/assets/purityfinance.png",label:"Purity",action:"popup",popupId:"purity-popup",row:1,col:0},{id:"lawbshop",image:"/assets/lawbshop.png",label:"Lawb.Shop",action:"url",url:"https://store.fun/lawbshop",row:1,col:1},{id:"lawbstarz",image:"/assets/lawbstarz.gif",label:"Lawbstarz",action:"popup",popupId:"lawbstarz-popup",row:-1,col:-1},{id:"lawbsters",image:"/assets/lawbsters.gif",label:"Lawbsters",action:"popup",popupId:"lawbsters-popup",row:-1,col:-1},{id:"halloween",image:"/assets/lawbsterhalloween.gif",label:"Halloween",action:"popup",popupId:"halloween-popup",row:-1,col:-1},{id:"pixelawbs",image:"/assets/pixelawb.png",label:"Pixelawbs",action:"popup",popupId:"pixelawbs-popup",row:-1,col:-1},{id:"lawbstation",image:"/assets/lawbstation.GIF",label:"Lawbstation",action:"popup",popupId:"lawbstation-popup",row:-1,col:-1},{id:"nexus",image:"/assets/nexus.gif",label:"Nexus",action:"popup",popupId:"nexus-popup",row:-1,col:-1},{id:"chat",image:"/assets/miladychan.png",label:"Chat",action:"popup",popupId:"chat-popup",row:3,col:0},{id:"lawb",image:"/assets/lawbticker.gif",label:"$LAWB",action:"popup",popupId:"lawb-popup",row:3,col:2}],HZ=80,VZ=80,GZ=10,KZ=10,YZ=10,QZ=10,JZ=({onIconClick:t})=>{const e=s_.filter(l=>l.row>=0&&l.col>=0),n=()=>{const l={};let u=0,d=0;return e.forEach(h=>{l[h.id]={x:YZ+d*(HZ+GZ),y:QZ+u*(VZ+KZ)},u++,u>=4&&(u=0,d++)}),l},[r,s]=P.useState(n()),[i,o]=P.useState({}),a=(l,u)=>{s(d=>({...d,[l]:{x:u.x,y:u.y}}))},c=(l,u,d,h)=>{if(l==="folder"&&h){o(f=>({...f,[h]:!0}));return}t(l,u,d)};return g.jsx("div",{style:{position:"relative",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",overflow:"hidden"},children:g.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 60px)",padding:"10px",zIndex:10,overflow:"visible"},children:[e.map(l=>g.jsx(r_,{image:l.image,label:l.label,action:l.action,url:l.url,popupId:l.popupId,folderId:l.folderId,position:r[l.id],onDrag:(u,d)=>a(l.id,d),onClick:c},l.id)),i["evm-folder"]&&g.jsx(Xs,{id:"evm-folder",isOpen:!0,onClose:()=>o(l=>({...l,"evm-folder":!1})),onMinimize:()=>o(l=>({...l,"evm-folder":!1})),zIndex:3001,children:g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:s_.filter(l=>["lawbsters","lawbstarz","halloween","pixelawbs"].includes(l.id)).map(l=>g.jsx(r_,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})}),i["sol-folder"]&&g.jsx(Xs,{id:"sol-folder",isOpen:!0,onClose:()=>o(l=>({...l,"sol-folder":!1})),onMinimize:()=>o(l=>({...l,"sol-folder":!1})),zIndex:3001,children:g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:s_.filter(l=>["lawbstation","nexus"].includes(l.id)).map(l=>g.jsx(r_,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})})]})})},ZZ=Yi({taskbar:{position:"fixed",left:0,bottom:0,width:"100vw",height:40,background:"#c0c0c0",borderTop:"2px outset #fff",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:200},leftSection:{display:"flex",alignItems:"center"},rightSection:{display:"flex",alignItems:"center",marginRight:"5px",height:"100%"},statusSection:{display:"flex",alignItems:"center",padding:"0 8px",marginRight:"4px",border:"2px inset #fff",height:"calc(100% - 8px)"},menuBtn:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"},menu:{position:"absolute",bottom:"45px",left:"5px",background:"#c0c0c0",border:"2px outset #fff",padding:"5px",display:({isOpen:t})=>t?"block":"none",zIndex:9999,maxHeight:"300px",overflowY:"auto"},menuLink:{display:"block",padding:"4px 12px",color:"#000",textDecoration:"none",background:"#c0c0c0",border:"2px outset #fff",marginBottom:"1px",cursor:"pointer",fontSize:"12px","&:hover":{background:"#d0d0d0",border:"2px inset #fff"},"&:active":{border:"2px inset #c0c0c0"}},minimizedWindow:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:"12px"},clock:{padding:"5px 10px",background:"#c0c0c0",border:"2px inset #fff",fontSize:"12px",fontFamily:"monospace",height:"calc(100% - 8px)",display:"flex",alignItems:"center"},windows:{display:"flex",alignItems:"center"},windowButton:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"}}),XZ=({minimizedWindows:t,onRestoreWindow:e,walletButton:n,connectionStatus:r})=>{const[s,i]=P.useState(!1),[o,a]=P.useState(new Date),c=ZZ({isOpen:s});P.useEffect(()=>{const h=window.setInterval(()=>{a(new Date)},1e3);return()=>window.clearInterval(h)},[]);const l=h=>h.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),u=()=>{i(!s)},d=()=>{i(!1)};return g.jsxs("div",{className:c.taskbar,children:[g.jsxs("div",{className:c.leftSection,children:[g.jsx("button",{className:c.menuBtn,onClick:u,children:"Menu"}),g.jsx("div",{className:c.windows,children:t.map(h=>g.jsx("button",{className:c.windowButton,onClick:()=>e(h),children:h.replace("-popup","").replace("-"," ").toUpperCase()},h))})]}),g.jsxs("div",{className:c.rightSection,children:[g.jsxs("div",{className:c.statusSection,children:[g.jsx("div",{style:{display:"flex",alignItems:"center",gap:4,fontSize:12},children:g.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:r.connected?"limegreen":"red",marginRight:4,border:"1px solid #222"}})}),n]}),g.jsx("div",{className:c.clock,children:l(o)})]}),s&&g.jsxs("div",{className:c.menu,children:[g.jsx("a",{href:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"GeckoTerminal"}),g.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbStation Twitter"}),g.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbNexus Twitter"}),g.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"NFTX - Lawbsters"}),g.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"UwU LAWB"}),g.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Telegram"}),g.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Discord"}),g.jsx("a",{href:"https://store.fun/lawbshop",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Lawb.Shop"})]})]})};async function Aj(t){const e="https://api.scatter.art/v1",n="pixelawbs";try{console.log(`Getting eligible invite lists for collection: ${n}`);const r=await fetch(`${e}/collection/${n}/eligible-invite-lists?minterAddress=${t}`);if(console.log("Response status:",r.status),r.ok){const s=await r.json();return console.log("Lists found:",s),s}else return console.log("Failed to get lists:",r.status,r.statusText),[]}catch(r){return console.log("Error getting lists:",r),[]}}async function g2(t,e=1,n=50,r){let i=`https://api.scatter.art/v1/collection/${t}/nfts?page=${e}&pageSize=${n}&sortBy=recent&sortOrder=desc`;r&&(i+=`&ownerAddress=${r}`);try{const o=await fetch(i);if(o.ok)return await o.json();throw new Error(`Failed to get NFTs: ${o.statusText}`)}catch(o){throw console.error("Error getting collection NFTs:",o),o}}async function Ij(t,e){const i=await fetch("https://api.scatter.art/v1/mint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionAddress:"0x2d278e95b2fC67D4b27a276807e24E479D9707F6",chainId:1,minterAddress:t,lists:e})}),o=await i.json();if(!i.ok)throw console.error("Scatter API Error:",JSON.stringify(o,null,2)),new Error(o.message||"Minting failed");return{success:!0,mintTransaction:o.mintTransaction,erc20s:o.erc20s}}async function m2(t,e=50,n){const r="030a5ee582f64b8ab3a598ab2b97d85f";let s=`https://api.opensea.io/api/v2/collection/${t}/nfts?limit=${e}`;n&&console.warn("Owner filtering is not supported for OpenSea collections in this view.");try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get OpenSea NFTs: ${i.statusText}`);const a=(await i.json()).nfts.map(c=>{var l,u,d;return{id:c.identifier,address:c.contract,token_id:parseInt(c.identifier,10),attributes:JSON.stringify(c.traits||[]),name:c.name||`#${c.identifier}`,image_url:c.image_url,owner_of:((u=(l=c.owners)==null?void 0:l[0])==null?void 0:u.address)||"",block_minted:0,contract_type:"ERC721",description:c.description||"",image:c.image_url,image_url_shrunk:c.image_url,animation_url:c.animation_url,metadata:"",chain_id:1,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:t,num_items:1,created_at:c.updated_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString(),owners:((d=c.owners)==null?void 0:d.map(h=>({owner_of:h.address,quantity:h.quantity})))||[]}});return{page:1,pageSize:e,totalCount:a.length,totalPages:1,data:a}}catch(i){throw console.error("Error getting OpenSea NFTs:",i),i}}async function Tj(t,e,n){const r="030a5ee582f64b8ab3a598ab2b97d85f",s=`https://api.opensea.io/api/v2/chain/${t}/contract/${e}/nfts/${n}`;try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get single OpenSea NFT: ${i.statusText}`);return(await i.json()).nft}catch(i){throw console.error("Error getting single OpenSea NFT:",i),i}}async function Nj(t,e=50){var s;const n="030a5ee582f64b8ab3a598ab2b97d85f",r=`https://api.opensea.io/api/v2/collection/${t}/nfts?chain=solana&limit=${e}&include_orders=true`;try{const i=await fetch(r,{headers:{"X-API-KEY":n}});if(!i.ok)throw new Error(`Failed to get OpenSea Solana NFTs: ${i.statusText}`);const o=await i.json();console.log("Solana collection response:",o),console.log("Sample NFT from response:",o.nfts[0]),console.log("Sample NFT owners:",(s=o.nfts[0])==null?void 0:s.owners),console.log("Sample NFT full structure:",JSON.stringify(o.nfts[0],null,2));const a=o.nfts.map(c=>{var l,u,d;return{id:c.identifier,address:c.contract,token_id:parseInt(c.identifier,10),attributes:JSON.stringify(c.traits||[]),name:c.name||`#${c.identifier}`,image_url:c.image_url,owner_of:((u=(l=c.owners)==null?void 0:l[0])==null?void 0:u.address)||"",block_minted:0,contract_type:"SOL",description:c.description||"",image:c.image_url,image_url_shrunk:c.image_url,animation_url:c.animation_url,metadata:"",chain_id:1399811149,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:t,num_items:1,created_at:c.updated_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString(),owners:((d=c.owners)==null?void 0:d.map(h=>({owner_of:h.address,quantity:h.quantity})))||[]}});return{page:1,pageSize:e,totalCount:a.length,totalPages:1,data:a}}catch(i){throw console.error("Error getting OpenSea Solana NFTs:",i),i}}async function eX(t,e=50){var s;const n="030a5ee582f64b8ab3a598ab2b97d85f",r=[`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}`,`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}&include_orders=false`,`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}&include_orders=false&include_metadata=true`];for(const i of r){console.log("Trying OpenSea endpoint:",i);try{const o=await fetch(i,{headers:{"X-API-KEY":n}});if(console.log("Response status:",o.status),!o.ok){const c=await o.text();console.error("API Error response:",c);continue}const a=await o.json();if(console.log("Raw API response:",a),console.log("Number of NFTs returned:",((s=a.nfts)==null?void 0:s.length)||0),a.nfts&&a.nfts.length>0){const c=a.nfts.map(l=>({id:l.identifier,address:l.contract,token_id:parseInt(l.identifier,10),attributes:JSON.stringify(l.traits||[]),name:l.name||`#${l.identifier}`,image_url:l.image_url,owner_of:t,block_minted:0,contract_type:"SOL",description:l.description||"",image:l.image_url,image_url_shrunk:l.image_url,animation_url:l.animation_url,metadata:"",chain_id:1399811149,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:"",num_items:1,created_at:l.updated_at||new Date().toISOString(),updated_at:l.updated_at||new Date().toISOString(),owners:[{owner_of:t,quantity:1}]}));return console.log("Transformed NFTs:",c.length),{page:1,pageSize:e,totalCount:c.length,totalPages:1,data:c}}}catch(o){console.error("Error with endpoint:",i,o);continue}}return console.log("All OpenSea endpoints failed, returning empty result"),{page:1,pageSize:e,totalCount:0,totalPages:1,data:[]}}const tX=Yi({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:5e3},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"}}),nX=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=tX({isOpen:t}),i=P.useRef(null),[o,a]=P.useState([]),[c,l]=P.useState(!1),[u,d]=P.useState(!1),[h,f]=P.useState({}),[p,m]=P.useState(null),{data:w}=C8();P.useEffect(()=>{t&&r&&y()},[t,r]);const y=async()=>{l(!0),m(null);try{const x=await Aj(r);a(x);const S={};x.forEach(A=>{S[A.id]=0}),f(S)}catch(x){m(x.message)}finally{l(!1)}},b=(x,S)=>{f(A=>({...A,[x]:Math.max(0,S)}))},v=async()=>{const x=Object.entries(h).filter(([,S])=>S>0).map(([S,A])=>({id:S,quantity:A}));if(x.length===0){m("Please select at least one item to mint");return}if(!w){m("Wallet not connected");return}d(!0),m(null);try{console.log("Starting mint process for address:",r);const S=await Ij(r,x);if(console.log("Mint API result:",S),S.success&&S.mintTransaction){console.log("Got mint transaction:",S.mintTransaction),alert("Please confirm the transaction in your wallet.");try{console.log("Sending transaction to wallet...");const A=await w.sendTransaction({to:S.mintTransaction.to,value:BigInt(S.mintTransaction.value),data:S.mintTransaction.data});console.log("Transaction sent successfully:",A),alert(`NFT Minted Successfully: Transaction Hash - ${A}`),e()}catch(A){console.error("Transaction sending failed:",A),m("Transaction failed: "+A.message)}}else throw new Error(S.message||"Could not retrieve minting transaction.")}catch(S){console.error("Minting failed:",S),m("Minting failed: "+S.message)}finally{d(!1)}},E=(x,S)=>`${parseFloat(x)} ${S}`,_=()=>{n&&n()};return t?g.jsx(Tm,{nodeRef:i,handle:`.${s.header}`,children:g.jsxs("div",{ref:i,className:s.popup,children:[g.jsxs("div",{className:s.header,children:[g.jsx("span",{children:"Mint Pixelawbster"}),g.jsxs("div",{className:s.titleBarButtons,children:[g.jsx("button",{className:s.titleBarButton,onClick:_,title:"Minimize",children:"_"}),g.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:""})]})]}),g.jsxs("div",{className:s.content,children:[p&&g.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:p}),c?g.jsx("div",{children:"Loading eligible invite lists..."}):o.length===0?g.jsx("div",{children:"No eligible invite lists found for your wallet."}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{marginBottom:"20px"},children:[g.jsx("h3",{children:"Available Lists:"}),o.map(x=>g.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#ffffff"},children:[g.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:x.name}),g.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",E(x.token_price,x.currency_symbol)]}),g.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",x.wallet_limit===4294967295?"Unlimited":x.wallet_limit," per wallet"]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx("label",{style:{fontSize:"12px"},children:"Quantity:"}),g.jsx("input",{type:"number",min:"0",max:x.wallet_limit===4294967295?999:x.wallet_limit,value:h[x.id]||0,onChange:S=>b(x.id,parseInt(S.target.value)||0),style:{width:"60px",padding:"2px 5px",border:"1px solid #808080"}})]})]},x.id))]}),g.jsx("button",{onClick:()=>void v(),disabled:u,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"10px 20px",cursor:u?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:u?"Minting...":"Mint Selected NFTs"})]})]})]})}):null},rX=Yi({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"400px",height:"auto",top:"20vh",left:"30vw",zIndex:102,display:"flex",flexDirection:"column"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",background:"white",color:"black"},detailImage:{width:"100%",height:"auto",marginBottom:"10px"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}}}),sX=t=>{try{const e=JSON.parse(t);return Array.isArray(e)&&e.every(n=>"trait_type"in n&&"value"in n)?e:[]}catch{return[]}},iX=({nft:t,onClose:e})=>{const n=rX(),r=P.useRef(null),s=sX(t.attributes);return g.jsx(Tm,{nodeRef:r,handle:`.${n.header}`,children:g.jsxs("div",{className:n.popup,ref:r,children:[g.jsxs("div",{className:n.header,children:[g.jsxs("span",{children:[t.name," - Details"]}),g.jsx("button",{className:n.titleBarButton,onClick:e,children:"X"})]}),g.jsxs("div",{className:n.content,children:[g.jsx("img",{src:t.image_url,alt:t.name,className:n.detailImage}),g.jsx("h3",{children:"Traits"}),g.jsx("ul",{className:n.detailTraits,children:s.length>0?s.map((i,o)=>g.jsxs("li",{children:[g.jsxs("strong",{children:[i.trait_type,":"]})," ",i.value]},o)):g.jsx("li",{children:"No traits found."})})]})]})})},oX=Symbol(),QN=Object.getPrototypeOf,ux=new WeakMap,aX=t=>t&&(ux.has(t)?ux.get(t):QN(t)===Object.prototype||QN(t)===Array.prototype),cX=t=>aX(t)&&t[oX]||null,JN=(t,e=!0)=>{ux.set(t,e)},k0={},i_=t=>typeof t=="object"&&t!==null,Xa=new WeakMap,tp=new WeakSet,lX=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>i_(l)&&!tp.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},s=new WeakMap,i=(l,u,d=r)=>{const h=s.get(l);if((h==null?void 0:h[0])===u)return h[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return JN(f,!0),s.set(l,[u,f]),Reflect.ownKeys(l).forEach(p=>{if(Object.getOwnPropertyDescriptor(f,p))return;const m=Reflect.get(l,p),{enumerable:w}=Reflect.getOwnPropertyDescriptor(l,p),y={value:m,enumerable:w,configurable:!0};if(tp.has(m))JN(m,!1);else if(m instanceof Promise)delete y.value,y.get=()=>d(m);else if(Xa.has(m)){const[b,v]=Xa.get(m);y.value=i(b,v(),d)}Object.defineProperty(f,p,y)}),Object.preventExtensions(f)},o=new WeakMap,a=[1,1],c=l=>{if(!i_(l))throw new Error("object required");const u=o.get(l);if(u)return u;let d=a[0];const h=new Set,f=(C,k=++a[0])=>{d!==k&&(d=k,h.forEach(O=>O(C,k)))};let p=a[1];const m=(C=++a[1])=>(p!==C&&!h.size&&(p=C,y.forEach(([k])=>{const O=k[1](C);O>d&&(d=O)})),d),w=C=>(k,O)=>{const B=[...k];B[1]=[C,...B[1]],f(B,O)},y=new Map,b=(C,k)=>{if((k0?"production":void 0)!=="production"&&y.has(C))throw new Error("prop listener already exists");if(h.size){const O=k[3](w(C));y.set(C,[k,O])}else y.set(C,[k])},v=C=>{var k;const O=y.get(C);O&&(y.delete(C),(k=O[1])==null||k.call(O))},E=C=>(h.add(C),h.size===1&&y.forEach(([O,B],F)=>{if((k0?"production":void 0)!=="production"&&B)throw new Error("remove already exists");const V=O[3](w(F));y.set(F,[O,V])}),()=>{h.delete(C),h.size===0&&y.forEach(([O,B],F)=>{B&&(B(),y.set(F,[O]))})}),_=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),S=e(_,{deleteProperty(C,k){const O=Reflect.get(C,k);v(k);const B=Reflect.deleteProperty(C,k);return B&&f(["delete",[k],O]),B},set(C,k,O,B){const F=Reflect.has(C,k),V=Reflect.get(C,k,B);if(F&&(t(V,O)||o.has(O)&&t(V,o.get(O))))return!0;v(k),i_(O)&&(O=cX(O)||O);let I=O;if(O instanceof Promise)O.then(N=>{O.status="fulfilled",O.value=N,f(["resolve",[k],N])}).catch(N=>{O.status="rejected",O.reason=N,f(["reject",[k],N])});else{!Xa.has(O)&&n(O)&&(I=c(O));const N=!tp.has(I)&&Xa.get(I);N&&b(k,N)}return Reflect.set(C,k,I,B),f(["set",[k],O,V]),!0}});o.set(l,S);const A=[_,m,i,E];return Xa.set(S,A),Reflect.ownKeys(l).forEach(C=>{const k=Object.getOwnPropertyDescriptor(l,C);"value"in k&&(S[C]=l[C],delete k.value,delete k.writable),Object.defineProperty(_,C,k)}),S})=>[c,Xa,tp,t,e,n,r,s,i,o,a],[uX]=lX();function Qt(t={}){return uX(t)}function ur(t,e,n){const r=Xa.get(t);(k0?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[3];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Og(t,e){const n=Xa.get(t);(k0?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,s,i]=n;return i(r,s(),e)}function wu(t){return tp.add(t),t}function dr(t,e,n,r){let s=t[e];return ur(t,()=>{const i=t[e];Object.is(s,i)||n(s=i)})}function dX(t){const e=Qt({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const s=this.data.find(i=>i[0]===n);return s?s[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(s=>s[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(s=>s[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var ZN={};const te={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof ZN<"u"?ZN.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},Rg={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var s;if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return((s=te.CHAIN_NAME_MAP)==null?void 0:s[r])||void 0}};var hX=20,fX=1,vu=1e6,XN=1e6,pX=-7,gX=21,mX=!1,Nm="[big.js] ",$u=Nm+"Invalid ",Jv=$u+"decimal places",yX=$u+"rounding mode",Pj=Nm+"Division by zero",Ut={},_o=void 0,wX=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function kj(){function t(e){var n=this;if(!(n instanceof t))return e===_o?kj():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError($u+"value");e=e===0&&1/e<0?"-0":String(e)}vX(n,e)}n.constructor=t}return t.prototype=Ut,t.DP=hX,t.RM=fX,t.NE=pX,t.PE=gX,t.strict=mX,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function vX(t,e){var n,r,s;if(!wX.test(e))throw Error($u+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function Du(t,e,n,r){var s=t.c;if(n===_o&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(yX);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==_o))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==_o||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function ju(t,e,n){var r=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}Ut.abs=function(){var t=new this.constructor(this);return t.s=1,t};Ut.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,i=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=s.length)?a:c,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};Ut.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,i=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>vu)throw Error(Jv);if(!s[0])throw Error(Pj);if(!r[0])return t.s=i,t.c=[t.e=0],t;var a,c,l,u,d,h=s.slice(),f=a=s.length,p=r.length,m=r.slice(0,a),w=m.length,y=t,b=y.c=[],v=0,E=o+(y.e=e.e-t.e)+1;for(y.s=i,i=E<0?0:E,h.unshift(0);w++<a;)m.push(0);do{for(l=0;l<10;l++){if(a!=(w=m.length))u=a>w?1:-1;else for(d=-1,u=0;++d<a;)if(s[d]!=m[d]){u=s[d]>m[d]?1:-1;break}if(u<0){for(c=w==a?s:h;w;){if(m[--w]<c[w]){for(d=w;d&&!m[--d];)m[d]=9;--m[d],m[w]+=10}m[w]-=c[w]}for(;!m[0];)m.shift()}else break}b[v++]=u?l:++l,m[0]&&u?m[w]=r[f]||0:m=[r[f]]}while((f++<p||m[0]!==_o)&&i--);return!b[0]&&v!=1&&(b.shift(),y.e--,E--),v>E&&Du(y,E,n.RM,m[0]!==_o),y};Ut.eq=function(t){return this.cmp(t)===0};Ut.gt=function(t){return this.cmp(t)>0};Ut.gte=function(t){return this.cmp(t)>-1};Ut.lt=function(t){return this.cmp(t)<0};Ut.lte=function(t){return this.cmp(t)<1};Ut.minus=Ut.sub=function(t){var e,n,r,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),u=i.e,d=t.c,h=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(i):t.s=1,t;if(a=u-h){for((s=a<0)?(a=-a,r=l):(h=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){s=l[c]<d[c];break}if(s&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t};Ut.mod=function(t){var e,n=this,r=n.constructor,s=n.s,i=(t=new r(t)).s;if(!t.c[0])throw Error(Pj);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=i,e?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=i,this.minus(n.times(t)))};Ut.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Ut.plus=Ut.add=function(t){var e,n,r,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Ut.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-XN||t>XN)throw Error($u+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};Ut.prec=function(t,e){if(t!==~~t||t<1||t>vu)throw Error($u+"precision");return Du(new this.constructor(this),t,e)};Ut.round=function(t,e){if(t===_o)t=0;else if(t!==~~t||t<-vu||t>vu)throw Error(Jv);return Du(new this.constructor(this),t+this.e+1,e)};Ut.sqrt=function(){var t,e,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(Nm+"No square root");i=Math.sqrt(+ju(r,!0,!0)),i===0||i===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Du(t,(s.DP-=4)+t.e+1,s.RM)};Ut.times=Ut.mul=function(t){var e,n=this,r=n.constructor,s=n.c,i=(t=new r(t)).c,o=s.length,a=i.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=s,s=i,i=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+i[c]*s[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Ut.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==_o){if(t!==~~t||t<0||t>vu)throw Error(Jv);for(n=Du(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return ju(n,!0,!!r)};Ut.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==_o){if(t!==~~t||t<0||t>vu)throw Error(Jv);for(n=Du(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return ju(n,!1,!!r)};Ut[Symbol.for("nodejs.util.inspect.custom")]=Ut.toJSON=Ut.toString=function(){var t=this,e=t.constructor;return ju(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Ut.toNumber=function(){var t=+ju(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Nm+"Imprecise conversion");return t};Ut.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==_o){if(t!==~~t||t<1||t>vu)throw Error($u+"precision");for(n=Du(new r(n),t,e);n.c.length<t;)n.c.push(0)}return ju(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};Ut.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Nm+"valueOf disallowed");return ju(t,t.e<=e.NE||t.e>=e.PE,!0)};var If=kj();const bX={bigNumber(t){return t?new If(t):new If(0)},multiply(t,e){if(t===void 0||e===void 0)return new If(0);const n=new If(t),r=new If(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},_X=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],EX=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],CX=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],xX={getERC20Abi:t=>te.USDT_CONTRACT_ADDRESSES.includes(t)?CX:_X,getSwapAbi:()=>EX},ks={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Je={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids"};function o_(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Ge={setItem(t,e){np()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(np())return localStorage.getItem(t)||void 0},removeItem(t){np()&&localStorage.removeItem(t)},clear(){np()&&localStorage.clear()}};function np(){return typeof window<"u"&&typeof localStorage<"u"}function aa(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var eP={};const a_=(typeof process<"u"&&typeof eP<"u"?eP.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",Oj=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]},{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]}],SX="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",$t={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:a_,SECURE_SITE_DASHBOARD:`${a_}/dashboard`,SECURE_SITE_FAVICON:`${a_}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld","coinbase"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},be={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=be.getActiveNamespace(),e=be.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{Ge.setItem(Je.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Ge.getItem(Je.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Ge.removeItem(Je.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Ge.setItem(Je.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Ge.setItem(Je.ACTIVE_CAIP_NETWORK_ID,t),be.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Ge.getItem(Je.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Ge.removeItem(Je.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=o_(t);Ge.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=be.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Ge.setItem(Je.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Ge.getItem(Je.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=o_(t);Ge.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Ge.getItem(Je.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=o_(t);return Ge.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{Ge.setItem(Je.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Ge.getItem(Je.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Ge.removeItem(Je.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Ge.getItem(Je.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=Ge.getItem(Je.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{Ge.setItem(Je.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Ge.getItem(Je.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Ge.getItem(Je.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Ge.setItem(Je.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=be.getConnectedNamespaces();e.includes(t)||(e.push(t),be.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=be.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),be.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Ge.getItem(Je.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Ge.setItem(Je.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Ge.removeItem(Je.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Ge.getItem(Je.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=be.getBalanceCache();Ge.setItem(Je.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=be.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=be.getBalanceCache();e[t.caipAddress]=t,Ge.setItem(Je.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Ge.getItem(Je.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=be.getBalanceCache();Ge.setItem(Je.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=be.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=be.getNativeBalanceCache();e[t.caipAddress]=t,Ge.setItem(Je.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Ge.getItem(Je.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=be.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;be.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=be.getEnsCache();e[t.address]=t,Ge.setItem(Je.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=be.getEnsCache();Ge.setItem(Je.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Ge.getItem(Je.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=be.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;be.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=be.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Ge.setItem(Je.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=be.getIdentityCache();Ge.setItem(Je.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Ge.removeItem(Je.PORTFOLIO_CACHE),Ge.removeItem(Je.NATIVE_BALANCE_CACHE),Ge.removeItem(Je.ENS_CACHE),Ge.removeItem(Je.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Ge.setItem(Je.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Ge.getItem(Je.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=be.getConnections(),r=n[e]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of t){const a=s.get(o.connectorId),c=o.connectorId===te.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else s.set(o.connectorId,{...o})}const i={...n,[e]:Array.from(s.values())};Ge.setItem(Je.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=Ge.getItem(Je.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=be.getConnections(),s=r[n]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),Ge.setItem(Je.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=Ge.getItem(Je.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=be.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),Ge.setItem(Je.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=be.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(s=>s.toLowerCase()!==t.toLowerCase()),Ge.setItem(Je.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(be.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1}},De={isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return De.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=$t.TEN_SEC_MS:!0},isAllowedRetry(t,e=$t.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(De.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(n){const s=new URL(n),i=new URL(r);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+$t.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(De.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(t,e){if(!De.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?be.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r;if(typeof window>"u")return!1;const t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(n=window.matchMedia("(display-mode: standalone)"))==null?void 0:n.matches:!1,e=(r=window==null?void 0:window.navigator)==null?void 0:r.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,De.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return te.W3M_API_URL},getBlockchainApiUrl(){return te.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return te.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?$t.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in te.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,r+i),c=t.substring(r+i,o),l=t.substring(s),u=c+n;return a+u+l}};async function Tf(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Pm{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await Tf(i,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await Tf(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Tf(i,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Tf(i,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Tf(i,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const AX={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?$t.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(De.isTelegram()){if(De.isIos())return t.filter(e=>e!=="google");if(De.isMac())return t.filter(e=>e!=="x");if(De.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},We=Qt({features:$t.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:$t.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),ue={state:We,subscribeKey(t,e){return dr(We,t,e)},setOptions(t){Object.assign(We,t)},setRemoteFeatures(t){var n;if(!t)return;const e={...We.remoteFeatures,...t};We.remoteFeatures=e,(n=We.remoteFeatures)!=null&&n.socials&&(We.remoteFeatures.socials=AX.filterSocialsByPlatform(We.remoteFeatures.socials))},setFeatures(t){if(!t)return;We.features||(We.features=$t.DEFAULT_FEATURES);const e={...We.features,...t};We.features=e},setProjectId(t){We.projectId=t},setCustomRpcUrls(t){We.customRpcUrls=t},setAllWallets(t){We.allWallets=t},setIncludeWalletIds(t){We.includeWalletIds=t},setExcludeWalletIds(t){We.excludeWalletIds=t},setFeaturedWalletIds(t){We.featuredWalletIds=t},setTokens(t){We.tokens=t},setTermsConditionsUrl(t){We.termsConditionsUrl=t},setPrivacyPolicyUrl(t){We.privacyPolicyUrl=t},setCustomWallets(t){We.customWallets=t},setIsSiweEnabled(t){We.isSiweEnabled=t},setIsUniversalProvider(t){We.isUniversalProvider=t},setSdkVersion(t){We.sdkVersion=t},setMetadata(t){We.metadata=t},setDisableAppend(t){We.disableAppend=t},setEIP6963Enabled(t){We.enableEIP6963=t},setDebug(t){We.debug=t},setEnableWalletConnect(t){We.enableWalletConnect=t},setEnableWalletGuide(t){We.enableWalletGuide=t},setEnableAuthLogger(t){We.enableAuthLogger=t},setEnableWallets(t){We.enableWallets=t},setPreferUniversalLinks(t){We.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){We.hasMultipleAddresses=t},setSIWX(t){We.siwx=t},setConnectMethodsOrder(t){We.features={...We.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){We.features={...We.features,walletFeaturesOrder:t}},setSocialsOrder(t){We.remoteFeatures={...We.remoteFeatures,socials:t}},setCollapseWallets(t){We.features={...We.features,collapseWallets:t}},setEnableEmbedded(t){We.enableEmbedded=t},setAllowUnsupportedChain(t){We.allowUnsupportedChain=t},setManualWCControl(t){We.manualWCControl=t},setEnableNetworkSwitch(t){We.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(We.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){We.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return We.universalProviderConfigOverride},getSnapshot(){return Og(We)}},IX=Object.freeze({enabled:!0,events:[]}),TX=new Pm({baseUrl:De.getAnalyticsUrl(),clientId:null}),NX=5,PX=60*1e3,Ra=Qt({...IX}),kX={state:Ra,subscribeKey(t,e){return dr(Ra,t,e)},async sendError(t,e){if(!Ra.enabled)return;const n=Date.now();if(Ra.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<PX}).length>=NX)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};Ra.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=ue.state;await TX.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:De.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){Ra.enabled=!0},disable(){Ra.enabled=!1},clearEvents(){Ra.events=[]}};class Th extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,Th.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,Th):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function tP(t,e){const n=t instanceof Th?t:new Th(t instanceof Error?t.message:String(t),e,t);throw kX.sendError(n,n.category),n}function Vs(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return tP(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return tP(a,e)}},n[r]=i}else n[r]=s}),n}const po={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},OX={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===po.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${po.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===po.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${po.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===te.CHAIN.SOLANA&&t===po.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${po.COINBASE.url}/dapp?cb_url=${r}`)}},xs=Qt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),RX={state:xs,subscribeNetworkImages(t){return ur(xs.networkImages,()=>t(xs.networkImages))},subscribeKey(t,e){return dr(xs,t,e)},subscribe(t){return ur(xs,()=>t(xs))},setWalletImage(t,e){xs.walletImages[t]=e},setNetworkImage(t,e){xs.networkImages[t]=e},setChainImage(t,e){xs.chainImages[t]=e},setConnectorImage(t,e){xs.connectorImages={...xs.connectorImages,[t]:e}},setTokenImage(t,e){xs.tokenImages[t]=e},setCurrencyImage(t,e){xs.currencyImages[t]=e}},Di=Vs(RX),$X={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},c_=Qt({networkImagePromises:{}}),Rj={async fetchWalletImage(t){if(t)return await Be._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(c_.networkImagePromises[t]||(c_.networkImagePromises[t]=Be._fetchNetworkImage(t)),await c_.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Di.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Di.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return Di.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Di.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return Di.state.connectorImages[t.imageId]},getChainImage(t){return Di.state.networkImages[$X[t]]}},$a=Qt({message:"",variant:"info",open:!1}),DX={state:$a,subscribeKey(t,e){return dr($a,t,e)},open(t,e){const{debug:n}=ue.state,{shortMessage:r,longMessage:s}=t;n&&($a.message=r,$a.variant=e,$a.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){$a.open=!1,$a.message="",$a.variant="info"}},In=Vs(DX),jX=De.getAnalyticsUrl(),UX=new Pm({baseUrl:jX,clientId:null}),LX=["MODAL_CREATED"],Lo=Qt({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Dt={state:Lo,subscribe(t){return ur(Lo,()=>t(Lo))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=ue.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=we.state.address;if(LX.includes(t.data.event)||typeof window>"u")return;await UX.post({path:"/e",params:Dt.getSdkProperties(),body:{eventId:De.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),Lo.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===te.HTTP_STATUS_CODES.FORBIDDEN&&!Lo.reportedErrors.FORBIDDEN&&(In.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${np()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Lo.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;Lo.timestamp=Date.now(),Lo.data=t,(e=ue.state.features)!=null&&e.analytics&&Dt._sendAnalyticsEvent(Lo)}},MX=De.getApiUrl(),Qr=new Pm({baseUrl:MX,clientId:null}),BX=40,nP=4,FX=20,Xe=Qt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Be={state:Xe,subscribeKey(t,e){return dr(Xe,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=ue.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return ue.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Qr.baseUrl}/getWalletImage/${t}`,n=await Qr.getBlob({path:e,params:Be._getSdkProperties()});Di.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Qr.baseUrl}/public/getAssetImage/${t}`,n=await Qr.getBlob({path:e,params:Be._getSdkProperties()});Di.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Qr.baseUrl}/public/getAssetImage/${t}`,n=await Qr.getBlob({path:e,params:Be._getSdkProperties()});Di.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Qr.baseUrl}/public/getCurrencyImage/${t}`,n=await Qr.getBlob({path:e,params:Be._getSdkProperties()});Di.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Qr.baseUrl}/public/getTokenImage/${t}`,n=await Qr.getBlob({path:e,params:Be._getSdkProperties()});Di.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return De.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===po.COINBASE.id?!0:R.state.activeChain==="solana"&&(n.id===po.SOLFLARE.id||n.id===po.PHANTOM.id)):t},async fetchProjectConfig(){return(await Qr.get({path:"/appkit/v1/config",params:Be._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await Qr.get({path:"/projects/v1/origins",params:Be._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===te.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=te.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=R.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!Rj.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Be._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=_e.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Be._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Be._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Be._fetchTokenImage(e)))},async fetchWallets(t){var i;const e=t.exclude??[];Be._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(po).map(o=>o.id));const r=await Qr.get({path:"/getWallets",params:{...Be._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(i=t.include)==null?void 0:i.join(","),exclude:e.join(",")}});return{data:Be._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=ue.state;if(t!=null&&t.length){const e={...Be._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??nP,include:t},{data:n}=await Be.fetchWallets(e),r=[...n].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>Be._fetchWalletImage(i))),Xe.featured=r,Xe.allFeatured=r}},async fetchRecommendedWallets(){try{Xe.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=ue.state,r=[...e??[],...n??[]].filter(Boolean),s=R.getRequestedCaipNetworkIds().join(","),i={page:1,entries:nP,include:t,exclude:r,chains:s},{data:o,count:a}=await Be.fetchWallets(i),c=be.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>Be._fetchWalletImage(d))),Xe.recommended=o,Xe.allRecommended=o,Xe.count=a??0}catch{}finally{Xe.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=ue.state,s=R.getRequestedCaipNetworkIds().join(","),i=[...Xe.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:BX,include:e,exclude:i,chains:s},{data:a,count:c}=await Be.fetchWallets(o),l=a.slice(0,FX).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>Be._fetchWalletImage(u))),Xe.wallets=De.uniqueBy([...Xe.wallets,...Be._filterOutExtensions(a)],"id").filter(u=>{var d;return(d=u.chains)==null?void 0:d.some(h=>s.includes(h))}),Xe.count=c>Xe.count?c:Xe.count,Xe.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await Be.fetchWallets(e);n&&n.forEach(r=>{Xe.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=ue.state,s=R.getRequestedCaipNetworkIds().join(",");Xe.search=[];const i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:o}=await Be.fetchWallets(i);Dt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Be._fetchWalletImage(c)),De.wait(300)]),Xe.search=Be._filterOutExtensions(o)},initPromise(t,e){const n=Xe.promises[t];return n||(Xe.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&Be.initPromise("connectorImages",Be.fetchConnectorImages),e&&Be.initPromise("featuredWallets",Be.fetchFeaturedWallets),n&&Be.initPromise("recommendedWallets",Be.fetchRecommendedWallets),r&&Be.initPromise("networkImages",Be.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=ue.state.features)!=null&&t.analytics&&Be.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Qr.get({path:"/getAnalyticsConfig",params:Be._getSdkProperties()});ue.setFeatures({analytics:t})}catch{ue.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){Xe.featured=Xe.allFeatured,Xe.recommended=Xe.allRecommended;return}const e=R.getRequestedCaipNetworkIds().join(",");Xe.featured=Xe.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Xe.recommended=Xe.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Xe.filteredWallets=Xe.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){Xe.filteredWallets=[]},setFilterByNamespace(t){if(!t){Xe.featured=Xe.allFeatured,Xe.recommended=Xe.allRecommended;return}const e=R.getRequestedCaipNetworkIds().join(",");Xe.featured=Xe.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Xe.recommended=Xe.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Xe.filteredWallets=Xe.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},Mt=Qt({view:"Connect",history:["Connect"],transactionStack:[]}),zX={state:Mt,subscribeKey(t,e){return dr(Mt,t,e)},pushTransactionStack(t){Mt.transactionStack.push(t)},popTransactionStack(t){const e=Mt.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:s}=e;switch(t){case"success":n==null||n();break;case"error":r==null||r(),Ve.goBack();break;case"cancel":s==null||s(),Ve.goBack();break}},push(t,e){t!==Mt.view&&(Mt.view=t,Mt.history.push(t),Mt.data=e)},reset(t,e){Mt.view=t,Mt.history=[t],Mt.data=e},replace(t,e){Mt.history.at(-1)===t||(Mt.view=t,Mt.history[Mt.history.length-1]=t,Mt.data=e)},goBack(){var r;const t=R.state.activeCaipAddress,e=Ve.state.view==="ConnectingFarcaster",n=!t&&e;if(Mt.history.length>1){Mt.history.pop();const[s]=Mt.history.slice(-1);s&&(t&&s==="Connect"?Mt.view="Account":Mt.view=s)}else Pt.close();(r=Mt.data)!=null&&r.wallet&&(Mt.data.wallet=void 0),setTimeout(()=>{var s,i,o;if(n){we.setFarcasterUrl(void 0,R.state.activeChain);const a=_e.getAuthConnector();(s=a==null?void 0:a.provider)==null||s.reload();const c=Og(ue.state);(o=(i=a==null?void 0:a.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(Mt.history.length>1){Mt.history=Mt.history.slice(0,t+1);const[e]=Mt.history.slice(-1);e&&(Mt.view=e)}},goBackOrCloseModal(){Ve.state.history.length>1?Ve.goBack():Pt.close()}},Ve=Vs(zX),Mo=Qt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),dx={state:Mo,subscribe(t){return ur(Mo,()=>t(Mo))},setThemeMode(t){Mo.themeMode=t;try{const e=_e.getAuthConnector();if(e){const n=dx.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:aa(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Mo.themeVariables={...Mo.themeVariables,...t};try{const e=_e.getAuthConnector();if(e){const n=dx.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:aa(Mo.themeVariables,Mo.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Og(Mo)}},us=Vs(dx),$j={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},_t=Qt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...$j},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),qX={state:_t,subscribe(t){return ur(_t,()=>{t(_t)})},subscribeKey(t,e){return dr(_t,t,e)},initialize(t){t.forEach(e=>{const n=be.getConnectedConnectorId(e);n&&_e.setConnectorId(n,e)})},setActiveConnector(t){t&&(_t.activeConnector=wu(t))},setConnectors(t){t.filter(s=>!_t.allConnectors.some(i=>i.id===s.id&&_e.getConnectorName(i.name)===_e.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&_t.allConnectors.push(wu(s))});const n=_e.getEnabledNamespaces(),r=_e.getEnabledConnectors(n);_t.connectors=_e.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(_t.filterByNamespaceMap).forEach(e=>{_t.filterByNamespaceMap[e]=!1}),t.forEach(e=>{_t.filterByNamespaceMap[e]=!0}),_e.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){_t.filterByNamespaceMap[t]=e,_e.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=_e.getEnabledNamespaces(),e=_e.getEnabledConnectors(t),n=_e.areAllNamespacesEnabled();_t.connectors=_e.mergeMultiChainConnectors(e),n?Be.clearFilterByNamespaces():Be.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(_t.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return _t.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(_t.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=_e.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],i=(s==null?void 0:s.id)===te.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=_e.getConnectorName(r);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===te.CONNECTOR_ID.AUTH){const s=t,i=Og(ue.state),o=us.getSnapshot().themeMode,a=us.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:aa(a,o)}),_e.setConnectors([t])}else _e.setConnectors([t])},getAuthConnector(t){var r;const e=t||R.state.activeChain,n=_t.connectors.find(s=>s.id===te.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return _t.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return _t.allConnectors.find(e=>e.id===t)},getConnector(t,e){return _t.allConnectors.filter(r=>r.chain===R.state.activeChain).find(r=>{var s;return r.explorerId===t||((s=r.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="ID_AUTH")return;const e=t,n=Og(ue.state),r=us.getSnapshot().themeMode,s=us.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:aa(s,r)})},getConnectorsByNamespace(t){const e=_t.allConnectors.filter(n=>n.chain===t);return _e.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=_e.getConnector(t.id,t.rdns),n=R.state.activeChain;OX.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,n),e?Ve.push("ConnectingExternal",{connector:e}):Ve.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?_e.getConnectorsByNamespace(t):_e.mergeMultiChainConnectors(_t.allConnectors)},setFilterByNamespace(t){_t.filterByNamespace=t,_t.connectors=_e.getConnectors(t),Be.setFilterByNamespace(t)},setConnectorId(t,e){t&&(_t.activeConnectorIds={..._t.activeConnectorIds,[e]:t},be.setConnectedConnectorId(e,t))},removeConnectorId(t){_t.activeConnectorIds={..._t.activeConnectorIds,[t]:void 0},be.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return _t.activeConnectorIds[t]},isConnected(t){return t?!!_t.activeConnectorIds[t]:Object.values(_t.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){_t.activeConnectorIds={...$j}}},_e=Vs(qX),$g={getConnectionStatus(t,e){const n=_e.state.activeConnectorIds[e],r=ke.state.connections.get(e)??[];return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},validateAccountSwitch({namespace:t,connection:e,address:n}){if(t===te.CHAIN.BITCOIN){if(!n)throw new Error("Address parameter is required for switching bip122 connection");const{type:s}=e.accounts.find(i=>i.address.toLowerCase()===n.toLowerCase())??{};if(typeof s=="string"&&s!=="payment")throw new Error(`Switching to non-payment accounts is not allowed for ${t}`)}},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},filterConnectionsByAccountType(t,e){return t.map(n=>{const r=n.accounts.filter(s=>typeof s.type=="string"?s.type.toLowerCase()===e.toLowerCase():!0);return{...n,accounts:r}})},getConnectionsData(t){const e=ke.state.connections.get(t)??[],n=e.filter(a=>!a.recent),r=_e.state.activeConnectorIds[t],i=e.filter(a=>a.recent).filter(a=>_e.getConnectorById(a.connectorId)),o=$g.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],i);return{connections:n,recentConnections:o}}};var Nh={};const WX="https://secure.walletconnect.org/sdk",HX=(typeof process<"u"&&typeof Nh<"u"?Nh.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||WX,VX=(typeof process<"u"&&typeof Nh<"u"?Nh.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",GX=(typeof process<"u"&&typeof Nh<"u"?Nh.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Re={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Qn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},KX=1e3,sa={checkNamespaceConnectorId(t,e){return _e.getConnectorId(t)===e},isSocialProvider(t){return $t.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&_e.setActiveConnector(e),s==null||s(De.isMobile()&&t),r){const l=Pt.subscribeKey("open",u=>{u||(Ve.state.view!==r&&Ve.replace(r),l(),a(new Error("Modal closed")))})}const c=R.subscribeKey("activeCaipAddress",l=>{l&&(i==null||i(),n&&Pt.close(),c(),o(ks.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,n)=>{const r=R.subscribeKey("activeCaipAddress",s=>{s&&(Pt.close(),r(),e(ks.parseCaipAddress(s)))});ke.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,closeModalOnConnect:e=!0,onOpenFarcaster:n,onConnect:r}){let s=we.state.socialWindow,i=we.state.socialProvider,o=!1,a=null;const c=R.subscribeKey("activeCaipAddress",l=>{l&&(e&&Pt.close(),c())});return new Promise((l,u)=>{async function d(f){var p;if((p=f.data)!=null&&p.resultUri)if(f.origin===te.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",d,!1);try{const m=_e.getAuthConnector();if(m&&!o){s&&(s.close(),we.setSocialWindow(void 0,R.state.activeChain),s=we.state.socialWindow),o=!0;const w=f.data.resultUri;if(i&&Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:i}}),await m.provider.connectSocial(w),i){be.setConnectedSocialProvider(i),await ke.connectExternal({id:m.id,type:m.type,socialUri:w},m.chain);const y=R.state.activeCaipAddress;if(!y){u(new Error("Failed to connect"));return}l(ks.parseCaipAddress(y)),Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:i}})}}}catch{i&&Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}}),u(new Error("Failed to connect"))}}else i&&Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}})}async function h(){if(t&&(we.setSocialProvider(t,R.state.activeChain),i=we.state.socialProvider,Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:i}})),i==="farcaster"){n==null||n();const f=Pt.subscribeKey("open",m=>{!m&&t==="farcaster"&&(u(new Error("Popup closed")),r==null||r(),f())}),p=_e.getAuthConnector();if(p&&!we.state.farcasterUrl)try{const{url:m}=await p.provider.getFarcasterUri();we.setFarcasterUrl(m,R.state.activeChain)}catch{u(new Error("Failed to connect to farcaster"))}}else{const f=_e.getAuthConnector();a=De.returnOpenHref(`${te.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(f&&i){const{uri:p}=await f.provider.getSocialRedirectUri({provider:i});if(a&&p){we.setSocialWindow(a,R.state.activeChain),s=we.state.socialWindow,a.location.href=p;const m=setInterval(()=>{s!=null&&s.closed&&!o&&(u(new Error("Popup closed")),clearInterval(m))},1e3);window.addEventListener("message",d,!1)}else a==null||a.close(),u(new Error("Failed to initiate social connection"))}}catch{u(new Error("Failed to initiate social connection")),a==null||a.close()}}}h()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n==null||n(),e){const a=Pt.subscribeKey("open",c=>{c||(Ve.state.view!==e&&Ve.replace(e),a(),i(new Error("Modal closed")))})}const o=R.subscribeKey("activeCaipAddress",a=>{a&&(r==null||r(),t&&Pt.close(),o(),s(ks.parseCaipAddress(a)))})})},async updateEmail(){const t=be.getConnectedConnectorId(R.state.activeChain),e=_e.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==te.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return Ve.push("UpdateEmailWallet",{email:n,redirectView:void 0}),new Promise((r,s)=>{const i=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(Pt.close(),clearInterval(i),o(),r({email:a}))},KX),o=Pt.subscribeKey("open",a=>{a||(Ve.state.view!=="Connect"&&Ve.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){var n;return R.checkIfSmartAccountEnabled()&&((n=we.state.preferredAccountTypes)==null?void 0:n[t])===Qn.ACCOUNT_TYPES.EOA}},xl=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),kn=Qt({...xl}),YX={state:kn,subscribeKey(t,e){return dr(kn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=De.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){kn.message=xl.message,kn.variant=xl.variant,kn.svg=xl.svg,kn.open=xl.open,kn.autoClose=xl.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=xl.autoClose}){kn.open?(kn.open=!1,setTimeout(()=>{kn.message=t,kn.variant=n,kn.svg=e,kn.open=!0,kn.autoClose=r},150)):(kn.message=t,kn.variant=n,kn.svg=e,kn.open=!0,kn.autoClose=r)}},Ui=YX,Ht=Qt({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),QX={state:Ht,subscribe(t){return ur(Ht,()=>t(Ht))},setLastNetworkInView(t){Ht.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Ht.loading=!0;try{const s=await He.fetchTransactions({account:t,cursor:Ht.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=R.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),i=rp.filterSpamTransactions(s.data),o=rp.filterByConnectedChain(i),a=[...Ht.transactions,...o];Ht.loading=!1,e==="coinbase"?Ht.coinbaseTransactions=rp.groupTransactionsByYearAndMonth(Ht.coinbaseTransactions,s.data):(Ht.transactions=a,Ht.transactionsByYear=rp.groupTransactionsByYearAndMonth(Ht.transactionsByYear,o)),Ht.empty=a.length===0,Ht.next=s.next?s.next:void 0}catch{const i=R.state.activeChain;Dt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:ue.state.projectId,cursor:Ht.next,isSmartAccount:((r=we.state.preferredAccountTypes)==null?void 0:r[i])===Qn.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ui.showError("Failed to fetch transactions"),Ht.loading=!1,Ht.empty=!0,Ht.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},c=(o[i]??[]).filter(l=>l.id!==r.id);n[s]={...o,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=R.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){Ht.next=void 0},resetTransactions(){Ht.transactions=[],Ht.transactionsByYear={},Ht.lastNetworkInView=void 0,Ht.loading=!1,Ht.empty=!1,Ht.next=void 0}},rp=Vs(QX,"API_ERROR"),gt=Qt({connections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let gl;const JX={state:gt,subscribe(t){return ur(gt,()=>t(gt))},subscribeKey(t,e){return dr(gt,t,e)},_getClient(){return gt._client},setClient(t){gt._client=wu(t)},initialize(t){const e=be.getConnections();for(const n of t){const r=n.namespace;if(r){const s=gt.connections.get(r)??[],i=e[r]??[],o=[...s,...i];gt.connections.set(r,o)}}},async connectWalletConnect(){var t,e,n,r;if(De.isTelegram()||De.isSafari()&&De.isIos()){if(gl){await gl,gl=void 0;return}if(!De.isPairingExpired(gt==null?void 0:gt.wcPairingExpiry)){const s=gt.wcUri;gt.wcUri=s;return}gl=(e=(t=ke._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),ke.state.status="connecting",await gl,gl=void 0,gt.wcPairingExpiry=void 0,ke.state.status="connected"}else await((r=(n=ke._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var s,i;const r=await((i=(s=ke._getClient())==null?void 0:s.connectExternal)==null?void 0:i.call(s,t));return n&&R.setActiveNamespace(e),r},async reconnectExternal(t){var n,r;await((r=(n=ke._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||R.state.activeChain;e&&_e.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;Pt.setLoading(!0,R.state.activeChain);const n=_e.getAuthConnector();n&&(we.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),be.setPreferredAccountTypes(we.state.preferredAccountTypes??{[e]:t}),await ke.reconnectExternal(n),Pt.setLoading(!1,R.state.activeChain),Dt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=R.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=ke._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=ke._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=ke._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=ke._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=ke._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=ke._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=ke._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=ke._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=ke._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=ke._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=ke._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=ke._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){gt.wcUri=void 0,gt.wcPairingExpiry=void 0,gt.wcLinking=void 0,gt.recentWallet=void 0,gt.status="disconnected",rp.resetTransactions(),be.deleteWalletConnectDeepLink()},resetUri(){gt.wcUri=void 0,gt.wcPairingExpiry=void 0,gl=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=ke.state;t&&be.setWalletConnectDeepLink(t),e&&be.setAppKitRecent(e),Dt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=Ve.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){gt.wcBasic=t},setUri(t){gt.wcUri=t,gt.wcPairingExpiry=De.getPairingExpiry()},setWcLinking(t){gt.wcLinking=t},setWcError(t){gt.wcError=t,gt.buffering=!1},setRecentWallet(t){gt.recentWallet=t},setBuffering(t){gt.buffering=t},setStatus(t){gt.status=t},setIsSwitchingConnection(t){gt.isSwitchingConnection=t},async disconnect({id:t,namespace:e}={}){var n;try{await((n=ke._getClient())==null?void 0:n.disconnect({id:t,chainNamespace:e}))}catch(r){throw new Th("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(t,e){gt.connections=new Map(gt.connections.set(e,t))},async handleAuthAccountSwitch({address:t,connection:e,namespace:n}){var o;const r=(o=e.accounts.find(a=>a.type==="smartAccount"))==null?void 0:o.address,i=(r==null?void 0:r.toLowerCase())===t.toLowerCase()&&sa.canSwitchToSmartAccount(n)?"smartAccount":"eoa";await ke.setPreferredAccountType(i,n)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=_e.getConnectorById(t.connectorId),s=t.connectorId===te.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);const i=await ke.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e);return s&&n&&await ke.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),i==null?void 0:i.address},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){var l,u;const s=_e.getConnectorById(t.connectorId),i=(u=(l=t.auth)==null?void 0:l.name)==null?void 0:u.toLowerCase(),o=t.connectorId===te.CONNECTOR_ID.AUTH,a=t.connectorId===te.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(i&&sa.isSocialProvider(i)){const{address:d}=await sa.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){Pt.open({view:"ConnectingFarcaster"})},onConnect(){Ve.replace("ProfileWallets")}});c=d}else{const{address:d}=await sa.connectEmail({closeModalOnConnect:r,onOpen(){Pt.open({view:"EmailLogin"})},onConnect(){Ve.replace("ProfileWallets")}});c=d}else if(a){const{address:d}=await sa.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(h){Pt.open({view:h?"AllWallets":"ConnectingWalletConnect"})},onConnect(){Ve.replace("ProfileWallets")}});c=d}else{const d=await ke.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);d&&(c=d.address)}return o&&n&&await ke.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:s}){$g.validateAccountSwitch({namespace:n,connection:t,address:e});let i;const o=we.getCaipAddress(n);if(o){const{address:c}=ks.parseCaipAddress(o);i=c}const a=$g.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const c=await ke.handleActiveConnection({connection:t,namespace:n,address:e});if(i&&c){const l=c.toLowerCase()!==i.toLowerCase();s==null||s({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await ke.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&(s==null||s({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},ke=Vs(JX),Zu=Qt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Eo={state:Zu,subscribe(t){return ur(Zu,()=>t(Zu))},subscribeOpen(t){return dr(Zu,"open",t)},set(t){Object.assign(Zu,{...Zu,...t})}};function ZX(t){const e=Array.from(R.state.chains.keys());let n=[];return t?(n.push([t,R.state.chains.get(t)]),sa.checkNamespaceConnectorId(t,te.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&sa.checkNamespaceConnectorId(r,te.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,R.state.chains.get(r)])}):sa.checkNamespaceConnectorId(t,te.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&sa.checkNamespaceConnectorId(r,te.CONNECTOR_ID.AUTH)&&n.push([r,R.state.chains.get(r)])})):n=Array.from(R.state.chains.entries()),n}function Dj(){var r,s;const t=((r=R.state.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=R.state.activeCaipNetwork)==null?void 0:s.id)||1,n=$t.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}const XX={async getTokenList(){var r;const t=R.state.activeCaipNetwork,e=await He.fetchSwapTokens({chainId:t==null?void 0:t.caipNetworkId});return((r=e==null?void 0:e.tokens)==null?void 0:r.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=R.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const n=(e=await(ke==null?void 0:ke.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await He.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await He.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&n&&r){const i=ke.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await y2.getMyTokensWithBalance(t);return we.setTokenBalance(e,R.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:Dj(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},Rt=Qt({tokenBalances:[],loading:!1}),eee={state:Rt,subscribe(t){return ur(Rt,()=>t(Rt))},subscribeKey(t,e){return dr(Rt,t,e)},setToken(t){t&&(Rt.token=wu(t))},setTokenAmount(t){Rt.sendTokenAmount=t},setReceiverAddress(t){Rt.receiverAddress=t},setReceiverProfileImageUrl(t){Rt.receiverProfileImageUrl=t},setReceiverProfileName(t){Rt.receiverProfileName=t},setNetworkBalanceInUsd(t){Rt.networkBalanceInUSD=t},setLoading(t){Rt.loading=t},async sendToken(){var t;try{switch(It.setLoading(!0),(t=R.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await It.sendEvmToken();return;case"solana":await It.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{It.setLoading(!1)}},async sendEvmToken(){var n,r,s,i;const t=R.state.activeChain,e=(n=we.state.preferredAccountTypes)==null?void 0:n[t];if(!It.state.sendTokenAmount||!It.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!It.state.token)throw new Error("A token is required");(r=It.state.token)!=null&&r.address?(Dt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Qn.ACCOUNT_TYPES.SMART_ACCOUNT,token:It.state.token.address,amount:It.state.sendTokenAmount,network:((s=R.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await It.sendERC20Token({receiverAddress:It.state.receiverAddress,tokenAddress:It.state.token.address,sendTokenAmount:It.state.sendTokenAmount,decimals:It.state.token.quantity.decimals})):(Dt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Qn.ACCOUNT_TYPES.SMART_ACCOUNT,token:It.state.token.symbol||"",amount:It.state.sendTokenAmount,network:((i=R.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),await It.sendNativeToken({receiverAddress:It.state.receiverAddress,sendTokenAmount:It.state.sendTokenAmount,decimals:It.state.token.quantity.decimals}))},async fetchTokenBalance(t){var i,o;Rt.loading=!0;const e=(i=R.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=R.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=R.state.activeCaipAddress,s=r?De.getPlainAddress(r):void 0;if(Rt.lastRetry&&!De.isAllowedRetry(Rt.lastRetry,30*$t.ONE_SEC_MS))return Rt.loading=!1,[];try{if(s&&e&&n){const a=await y2.getMyTokensWithBalance();return Rt.tokenBalances=a,Rt.lastRetry=void 0,a}}catch(a){Rt.lastRetry=Date.now(),t==null||t(a),Ui.showError("Token Balance Unavailable")}finally{Rt.loading=!1}return[]},fetchNetworkBalance(){if(Rt.tokenBalances.length===0)return;const t=XX.mapBalancesToSwapTokens(Rt.tokenBalances);if(!t)return;const e=t.find(n=>n.address===Dj());e&&(Rt.networkBalanceInUSD=e?bX.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var i,o,a,c;Ve.pushTransactionStack({});const e=t.receiverAddress,n=we.state.address,r=ke.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await ke.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),Dt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((i=we.state.preferredAccountTypes)==null?void 0:i.eip155)===Qn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=It.state.token)==null?void 0:o.symbol)||"",amount:t.sendTokenAmount,network:((a=R.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),(c=ke._getClient())==null||c.updateBalance("eip155"),It.resetSend()},async sendERC20Token(t){Ve.pushTransactionStack({onSuccess(){Ve.replace("Account")}});const e=ke.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(we.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=De.getPlainAddress(t.tokenAddress);await ke.writeContract({fromAddress:we.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:xX.getERC20Abi(n),chainNamespace:"eip155"}),It.resetSend()}},async sendSolanaToken(){var t;if(!It.state.sendTokenAmount||!It.state.receiverAddress)throw new Error("An amount and receiver address are required");Ve.pushTransactionStack({onSuccess(){Ve.replace("Account")}}),await ke.sendTransaction({chainNamespace:"solana",to:It.state.receiverAddress,value:It.state.sendTokenAmount}),(t=ke._getClient())==null||t.updateBalance("solana"),It.resetSend()},resetSend(){Rt.token=void 0,Rt.sendTokenAmount=void 0,Rt.receiverAddress=void 0,Rt.receiverProfileImageUrl=void 0,Rt.receiverProfileName=void 0,Rt.loading=!1,Rt.tokenBalances=[]}},It=Vs(eee),l_={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},jy={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},xe=Qt({chains:dX(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),tee={state:xe,subscribe(t){return ur(xe,()=>{t(xe)})},subscribeKey(t,e){return dr(xe,t,e)},subscribeChainProp(t,e,n){let r;return ur(xe.chains,()=>{var i;const s=n||xe.activeChain;if(s){const o=(i=xe.chains.get(s))==null?void 0:i[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:s}=be.getActiveNetworkProps(),i=e==null?void 0:e.find(u=>u.id.toString()===(r==null?void 0:r.toString())),a=t.find(u=>(u==null?void 0:u.namespace)===s)||(t==null?void 0:t[0]),c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=ue.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(u=>u.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(xe.noAdapters=!0),xe.noAdapters||(xe.activeChain=a==null?void 0:a.namespace,xe.activeCaipNetwork=i,R.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),xe.activeChain&&Eo.set({activeChain:a==null?void 0:a.namespace})),l.forEach(u=>{const d=e==null?void 0:e.filter(h=>h.chainNamespace===u);R.state.chains.set(u,{namespace:u,networkState:Qt({...jy,caipNetwork:d==null?void 0:d[0]}),accountState:Qt(l_),caipNetworks:d??[],...n}),R.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){var e,n;if(xe.activeChain===t){const r=Array.from(xe.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&R.setActiveCaipNetwork(s)}}xe.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){xe.chains.set(t.namespace,{namespace:t.namespace,networkState:{...jy,caipNetwork:r[0]},accountState:l_,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),R.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=xe.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),xe.chains.set(t.chainNamespace,{...e,caipNetworks:r}),R.setRequestedCaipNetworks(r,t.chainNamespace),_e.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,s,i;const n=xe.chains.get(t);if(n){const o=((r=xe.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((s=n.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=n==null?void 0:n.caipNetworks)!=null&&i[0])&&R.setActiveCaipNetwork(n.caipNetworks[0]),xe.chains.set(t,{...n,caipNetworks:a}),R.setRequestedCaipNetworks(a||[],t),a.length===0&&_e.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=xe.chains.get(t);n&&(n.networkState={...n.networkState||jy,...e},xe.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=xe.chains.get(t);if(r){const s={...r.accountState||l_,...e};xe.chains.set(t,{...r,accountState:s}),(xe.chains.size===1||xe.activeChain===t)&&(e.caipAddress&&(xe.activeCaipAddress=e.caipAddress),we.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=xe.chains.get(t);if(n){const r={...n.networkState||jy,...e};xe.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){R.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&_e.removeConnectorId(n)},setActiveNamespace(t){var r,s;xe.activeChain=t;const e=t?xe.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(xe.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,xe.activeCaipNetwork=n,R.setChainNetworkData(t,{caipNetwork:n}),be.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),Eo.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,i;if(!t)return;xe.activeChain!==t.chainNamespace&&R.setIsSwitchingNamespace(!0);const e=xe.chains.get(t.chainNamespace);xe.activeChain=t.chainNamespace,xe.activeCaipNetwork=t,R.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?xe.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:xe.activeCaipAddress=void 0,R.setAccountProp("caipAddress",xe.activeCaipAddress,t.chainNamespace),e&&we.replaceState(e.accountState),It.resetSend(),Eo.set({activeChain:xe.activeChain,selectedNetworkId:(i=xe.activeCaipNetwork)==null?void 0:i.caipNetworkId}),be.setActiveCaipNetworkId(t.caipNetworkId),!R.checkIfSupportedNetwork(t.chainNamespace)&&ue.state.enableNetworkSwitch&&!ue.state.allowUnsupportedChain&&!ke.state.wcBasic&&R.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=xe.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==R.state.activeChain,n=(s=R.getNetworkData(t))==null?void 0:s.caipNetwork,r=R.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await R.switchActiveNetwork(r)},async switchActiveNetwork(t){var s;const e=R.state.chains.get(R.state.activeChain),n=!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(i=>{var o;return i.id===((o=xe.activeCaipNetwork)==null?void 0:o.id)})),r=R.getNetworkControllerClient(t.chainNamespace);if(r){try{await r.switchCaipNetwork(t),n&&Pt.close()}catch{Ve.goBack()}Dt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||xe.activeChain,n=xe.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||xe.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=xe.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var s;let n=xe.activeChain;if(e&&(n=e),!n)return;const r=(s=xe.chains.get(n))==null?void 0:s.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=xe.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=xe.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return De.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return xe.chains.forEach(e=>{const n=R.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){R.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=R.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));_e.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return xe.chains.forEach(e=>{const n=R.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return xe.activeCaipNetwork},getActiveCaipAddress(){return xe.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=xe.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=R.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());R.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||xe.activeCaipNetwork,r=R.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(s=>s.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!xe.activeChain)return!0;const e=R.getRequestedCaipNetworks(xe.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){R.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=Rg.caipNetworkIdToNumber((r=xe.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=xe.activeChain;if(!e||!t)return!1;const n=R.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},showUnsupportedChainUI(){Pt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=xe.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&$t.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){R.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");xe.activeCaipAddress=void 0,R.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),_e.removeConnectorId(e)},setIsSwitchingNamespace(t){xe.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(xe.chains.forEach(s=>{te.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=xe.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=R.state.chains.get(t))==null?void 0:e.accountState:we.state},getNetworkData(t){var n;const e=t||xe.activeChain;if(e)return(n=R.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const n=R.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(a=>a.id===e);return r||((i=n==null?void 0:n.networkState)==null?void 0:i.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=_e.state.filterByNamespace;return(t?[xe.chains.get(t)]:Array.from(xe.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?R.getRequestedCaipNetworks(t):R.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){xe.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return xe.lastConnectedSIWECaipNetwork}},R=Vs(tee),nee={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},jj=De.getBlockchainApiUrl(),Jr=Qt({clientId:null,api:new Pm({baseUrl:jj,clientId:null}),supportedChains:{http:[],ws:[]}}),He={state:Jr,async get(t){const{st:e,sv:n}=He.getSdkProperties(),r=ue.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return Jr.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=ue.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Jr.supportedChains.http.length||await He.getSupportedNetworks()}catch{return!1}return Jr.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await He.get({path:"v1/supported-chains"});return Jr.supportedChains=t,t}catch{return Jr.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await He.isNetworkSupported(e))return{avatar:"",name:""};const r=be.getIdentityFromCacheForAddress(t);if(r)return r;const s=await He.get({path:`/v1/identity/${t}`,params:{sender:R.state.activeCaipAddress?De.getPlainAddress(R.state.activeCaipAddress):void 0}});return be.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:s,chainId:i}){var a;return await He.isNetworkSupported((a=R.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?He.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:i},signal:r,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var o;return await He.isNetworkSupported((o=R.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?He.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await He.isNetworkSupported((n=R.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?He.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await He.isNetworkSupported((n=R.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Jr.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:ue.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await He.isNetworkSupported((r=R.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?He.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=He.getSdkProperties();if(!await He.isNetworkSupported((s=R.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return He.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var o;if(!await He.isNetworkSupported((o=R.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Jr.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:$t.CONVERT_SLIPPAGE_TOLERANCE},projectId:ue.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:s}=He.getSdkProperties();if(!await He.isNetworkSupported((o=R.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return He.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var l;const{st:r,sv:s}=He.getSdkProperties();if(!await He.isNetworkSupported((l=R.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return Ui.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=be.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await He.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return be.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await He.isNetworkSupported((n=R.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?He.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await He.isNetworkSupported((n=R.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?He.get({path:`/v1/profile/reverse/${t}`,params:{sender:we.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await He.isNetworkSupported((n=R.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?He.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var i;return await He.isNetworkSupported((i=R.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?Jr.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var a;return await He.isNetworkSupported((a=R.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await Jr.api.post({path:"/v1/generators/onrampurl",params:{projectId:ue.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await He.isNetworkSupported((e=R.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await He.get({path:"/v1/onramp/options"})}catch{return nee}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await He.isNetworkSupported((s=R.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await Jr.api.post({path:"/v1/onramp/quote",params:{projectId:ue.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await He.isNetworkSupported((n=R.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?He.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await He.isNetworkSupported((s=R.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Jr.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:ue.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){Jr.clientId=t,Jr.api=new Pm({baseUrl:jj,clientId:t})}},u_={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return qh(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},y2={async getMyTokensWithBalance(t){const e=we.state.address,n=R.state.activeCaipNetwork,r=_e.getConnectorId("eip155")===te.CONNECTOR_ID.AUTH;if(!e||!n)return[];const s=`${n.caipNetworkId}:${e}`,i=be.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace==="eip155"&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await He.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){var n,r;try{const s=u_.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await ke.getCapabilities(t);if(!((r=(n=i==null?void 0:i[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await ke.walletGetAssets({account:t,chainFilter:[s]});if(!u_.isWalletGetAssetsResponse(o))return null;const c=(o[s]||[]).map(l=>u_.createBalance(l,e.caipNetworkId));return be.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},Ks=Qt({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),ree={state:Ks,replaceState(t){t&&Object.assign(Ks,wu(t))},subscribe(t){return R.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return R.subscribeChainProp("accountState",s=>{if(s){const i=s[t];r!==i&&(r=i,e(i))}},n)},setStatus(t,e){R.setAccountProp("status",t,e)},getCaipAddress(t){return R.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?De.getPlainAddress(t):void 0;e===R.state.activeChain&&(R.state.activeCaipAddress=t),R.setAccountProp("caipAddress",t,e),R.setAccountProp("address",n,e)},setBalance(t,e,n){R.setAccountProp("balance",t,n),R.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){R.setAccountProp("profileName",t,e)},setProfileImage(t,e){R.setAccountProp("profileImage",t,e)},setUser(t,e){R.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){R.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){R.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){R.setAccountProp("currentTab",t,R.state.activeChain)},setTokenBalance(t,e){t&&R.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){R.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){R.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=R.getAccountProp("addressLabels",n)||new Map;r.set(t,e),R.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=R.getAccountProp("addressLabels",e)||new Map;n.delete(t),R.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){R.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){R.setAccountProp("preferredAccountTypes",{...Ks.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){Ks.preferredAccountTypes=t},setSocialProvider(t,e){t&&R.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){R.setAccountProp("socialWindow",t?wu(t):void 0,e)},setFarcasterUrl(t,e){R.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var i,o;Ks.balanceLoading=!0;const e=(i=R.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=R.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=R.state.activeCaipAddress,s=r?De.getPlainAddress(r):void 0;if(Ks.lastRetry&&!De.isAllowedRetry(Ks.lastRetry,30*$t.ONE_SEC_MS))return Ks.balanceLoading=!1,[];try{if(s&&e&&n){const a=await y2.getMyTokensWithBalance();return we.setTokenBalance(a,n),Ks.lastRetry=void 0,Ks.balanceLoading=!1,a}}catch(a){Ks.lastRetry=Date.now(),t==null||t(a),Ui.showError("Token Balance Unavailable")}finally{Ks.balanceLoading=!1}return[]},resetAccount(t){R.resetAccount(t)}},we=Vs(ree),see={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=R.state.activeCaipNetwork,r=Ve.state.data;if(t.id===(n==null?void 0:n.id))return;const i=we.getCaipAddress(R.state.activeChain),o=t.chainNamespace!==R.state.activeChain,a=we.getCaipAddress(t.chainNamespace),l=_e.getConnectorId(R.state.activeChain)===te.CONNECTOR_ID.AUTH,u=te.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?Ve.push("SwitchNetwork",{...r,network:t}):i&&o&&!a?Ve.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):Ve.push("SwitchNetwork",{...r,network:t})}},Zr=Qt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),iee={state:Zr,subscribe(t){return ur(Zr,()=>t(Zr))},subscribeKey(t,e){return dr(Zr,t,e)},async open(t){var o,a;const e=we.state.status==="connected",n=t==null?void 0:t.namespace,r=R.state.activeChain,s=n&&n!==r,i=(o=R.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress;if(ke.state.wcBasic?Be.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Be.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),_e.setFilterByNamespace(t==null?void 0:t.namespace),Pt.setLoading(!0,n),n&&s){const c=((a=R.getNetworkData(n))==null?void 0:a.caipNetwork)||R.getRequestedCaipNetworks(n)[0];c&&see.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0})}else{const c=R.state.noAdapters;ue.state.manualWCControl||c&&!i?De.isMobile()?Ve.reset("AllWallets"):Ve.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?Ve.reset(t.view,t.data):i?Ve.reset("Account"):Ve.reset("Connect")}Zr.open=!0,Eo.set({open:!0}),Dt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=ue.state.enableEmbedded,e=!!R.state.activeCaipAddress;Zr.open&&Dt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Zr.open=!1,Ve.reset("Connect"),Pt.clearLoading(),t?e?Ve.replace("Account"):Ve.push("Connect"):Eo.set({open:!1}),ke.resetUri()},setLoading(t,e){e&&Zr.loadingNamespaceMap.set(e,t),Zr.loading=t,Eo.set({loading:t})},clearLoading(){Zr.loadingNamespaceMap.clear(),Zr.loading=!1},shake(){Zr.shake||(Zr.shake=!0,setTimeout(()=>{Zr.shake=!1},500))}},Pt=Vs(iee),Cp={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},hx={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},oee={providers:Oj,selectedProvider:null,error:null,purchaseCurrency:Cp,paymentCurrency:hx,purchaseCurrencies:[Cp],paymentCurrencies:[],quotesLoading:!1},mt=Qt(oee),aee={state:mt,subscribe(t){return ur(mt,()=>t(mt))},subscribeKey(t,e){return dr(mt,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=R.state.activeChain===te.CHAIN.SOLANA?"SOL":"USDC",n=we.state.address??"",r=new URL(t.url);r.searchParams.append("publicKey",SX),r.searchParams.append("destinationCurrencyCode",e),r.searchParams.append("walletAddress",n),r.searchParams.append("externalCustomerId",ue.state.projectId),mt.selectedProvider={...t,url:r.toString()}}else mt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=Oj.filter(r=>e.includes(r.name));mt.providers=n}else mt.providers=[]},setPurchaseCurrency(t){mt.purchaseCurrency=t},setPaymentCurrency(t){mt.paymentCurrency=t},setPurchaseAmount(t){fx.state.purchaseAmount=t},setPaymentAmount(t){fx.state.paymentAmount=t},async getAvailableCurrencies(){const t=await He.getOnrampOptions();mt.purchaseCurrencies=t.purchaseCurrencies,mt.paymentCurrencies=t.paymentCurrencies,mt.paymentCurrency=t.paymentCurrencies[0]||hx,mt.purchaseCurrency=t.purchaseCurrencies[0]||Cp,await Be.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Be.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;mt.quotesLoading=!0;try{const n=await He.getOnrampQuote({purchaseCurrency:mt.purchaseCurrency,paymentCurrency:mt.paymentCurrency,amount:((t=mt.paymentAmount)==null?void 0:t.toString())||"0",network:(e=mt.purchaseCurrency)==null?void 0:e.symbol});return mt.quotesLoading=!1,mt.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return mt.error=n.message,mt.quotesLoading=!1,null}finally{mt.quotesLoading=!1}},resetState(){mt.selectedProvider=null,mt.error=null,mt.purchaseCurrency=Cp,mt.paymentCurrency=hx,mt.purchaseCurrencies=[Cp],mt.paymentCurrencies=[],mt.paymentAmount=void 0,mt.purchaseAmount=void 0,mt.quotesLoading=!1}},fx=Vs(aee),rP=2147483648,cee={convertEVMChainIdToCoinType(t){if(t>=rP)throw new Error("Invalid chainId");return(rP|t)>>>0}},Ys=Qt({suggestions:[],loading:!1}),lee={state:Ys,subscribe(t){return ur(Ys,()=>t(Ys))},subscribeKey(t,e){return dr(Ys,t,e)},async resolveName(t){var e,n;try{return await He.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await He.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Ys.loading=!0,Ys.suggestions=[];const e=await He.getEnsNameSuggestions(t);return Ys.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],Ys.suggestions}catch(e){const n=xp.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{Ys.loading=!1}},async getNamesForAddress(t){try{if(!R.state.activeCaipNetwork)return[];const n=be.getEnsFromCacheForAddress(t);if(n)return n;const r=await He.reverseLookupEnsName({address:t});return be.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=xp.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=R.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=we.state.address,r=_e.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");Ys.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Ve.pushTransactionStack({onCancel(){Ve.replace("RegisterAccountName")}});const i=await ke.signMessage(s);Ys.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=cee.convertEVMChainIdToCoinType(Number(o));await He.registerEnsName({coinType:a,address:n,signature:i,message:s}),we.setProfileName(t,e.chainNamespace),Ve.replace("RegisterAccountNameSuccess")}catch(s){const i=xp.parseEnsApiError(s,`Error registering name ${t}`);throw Ve.replace("RegisterAccountName"),new Error(i)}finally{Ys.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},xp=Vs(lee);var w2={exports:{}},Zd=typeof Reflect=="object"?Reflect:null,sP=Zd&&typeof Zd.apply=="function"?Zd.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Rw;Zd&&typeof Zd.ownKeys=="function"?Rw=Zd.ownKeys:Object.getOwnPropertySymbols?Rw=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Rw=function(e){return Object.getOwnPropertyNames(e)};function uee(t){console&&console.warn&&console.warn(t)}var Uj=Number.isNaN||function(e){return e!==e};function zt(){zt.init.call(this)}w2.exports=zt;w2.exports.once=pee;zt.EventEmitter=zt;zt.prototype._events=void 0;zt.prototype._eventsCount=0;zt.prototype._maxListeners=void 0;var iP=10;function Zv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(zt,"defaultMaxListeners",{enumerable:!0,get:function(){return iP},set:function(t){if(typeof t!="number"||t<0||Uj(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");iP=t}});zt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};zt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Uj(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Lj(t){return t._maxListeners===void 0?zt.defaultMaxListeners:t._maxListeners}zt.prototype.getMaxListeners=function(){return Lj(this)};zt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")sP(c,this,n);else for(var l=c.length,u=qj(c,l),r=0;r<l;++r)sP(u[r],this,n);return!0};function Mj(t,e,n,r){var s,i,o;if(Zv(n),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]),o===void 0)o=i[e]=n,++t._eventsCount;else if(typeof o=="function"?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=Lj(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,uee(a)}return t}zt.prototype.addListener=function(e,n){return Mj(this,e,n,!1)};zt.prototype.on=zt.prototype.addListener;zt.prototype.prependListener=function(e,n){return Mj(this,e,n,!0)};function dee(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Bj(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=dee.bind(r);return s.listener=n,r.wrapFn=s,s}zt.prototype.once=function(e,n){return Zv(n),this.on(e,Bj(this,e,n)),this};zt.prototype.prependOnceListener=function(e,n){return Zv(n),this.prependListener(e,Bj(this,e,n)),this};zt.prototype.removeListener=function(e,n){var r,s,i,o,a;if(Zv(n),s=this._events,s===void 0)return this;if(r=s[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():hee(r,i),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};zt.prototype.off=zt.prototype.removeListener;zt.prototype.removeAllListeners=function(e){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(e,n[s]);return this};function Fj(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?fee(s):qj(s,s.length)}zt.prototype.listeners=function(e){return Fj(this,e,!0)};zt.prototype.rawListeners=function(e){return Fj(this,e,!1)};zt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):zj.call(t,e)};zt.prototype.listenerCount=zj;function zj(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}zt.prototype.eventNames=function(){return this._eventsCount>0?Rw(this._events):[]};function qj(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function hee(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function fee(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function pee(t,e){return new Promise(function(n,r){function s(o){t.removeListener(e,i),r(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}Wj(t,e,i,{once:!0}),e!=="error"&&gee(t,s,{once:!0})})}function gee(t,e,n){typeof t.on=="function"&&Wj(t,"error",e,n)}function Wj(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){r.once&&t.removeEventListener(e,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var pi=w2.exports;const v2=Nu(pi);var pe={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var px=function(t,e){return px=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},px(t,e)};function mee(t,e){px(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var gx=function(){return gx=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gx.apply(this,arguments)};function yee(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function wee(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function vee(t,e){return function(n,r){e(n,r,t)}}function bee(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function _ee(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Eee(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Cee(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function xee(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function mx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hj(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function See(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Hj(arguments[e]));return t}function Aee(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function Dg(t){return this instanceof Dg?(this.v=t,this):new Dg(t)}function Iee(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,m){i.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof Dg?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Tee(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Dg(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function Nee(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof mx=="function"?mx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function Pee(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function kee(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Oee(t){return t&&t.__esModule?t:{default:t}}function Ree(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function $ee(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Dee=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return gx},__asyncDelegator:Tee,__asyncGenerator:Iee,__asyncValues:Nee,__await:Dg,__awaiter:_ee,__classPrivateFieldGet:Ree,__classPrivateFieldSet:$ee,__createBinding:Cee,__decorate:wee,__exportStar:xee,__extends:mee,__generator:Eee,__importDefault:Oee,__importStar:kee,__makeTemplateObject:Pee,__metadata:bee,__param:vee,__read:Hj,__rest:yee,__spread:See,__spreadArrays:Aee,__values:mx},Symbol.toStringTag,{value:"Module"})),Xv=iv(Dee);var d_={},Nf={},oP;function jee(){if(oP)return Nf;oP=1,Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Nf.delay=t,Nf}var ml={},h_={},yl={},aP;function Uee(){return aP||(aP=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.ONE_THOUSAND=yl.ONE_HUNDRED=void 0,yl.ONE_HUNDRED=100,yl.ONE_THOUSAND=1e3),yl}var f_={},cP;function Lee(){return cP||(cP=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(f_)),f_}var lP;function Vj(){return lP||(lP=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Xv;e.__exportStar(Uee(),t),e.__exportStar(Lee(),t)}(h_)),h_}var uP;function Mee(){if(uP)return ml;uP=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.fromMiliseconds=ml.toMiliseconds=void 0;const t=Vj();function e(r){return r*t.ONE_THOUSAND}ml.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return ml.fromMiliseconds=n,ml}var dP;function Bee(){return dP||(dP=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Xv;e.__exportStar(jee(),t),e.__exportStar(Mee(),t)}(d_)),d_}var Xu={},hP;function Fee(){if(hP)return Xu;hP=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Xu.Watch=t,Xu.default=t,Xu}var p_={},Pf={},fP;function zee(){if(fP)return Pf;fP=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.IWatch=void 0;class t{}return Pf.IWatch=t,Pf}var pP;function qee(){return pP||(pP=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Xv.__exportStar(zee(),t)}(p_)),p_}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Xv;e.__exportStar(Bee(),t),e.__exportStar(Fee(),t),e.__exportStar(qee(),t),e.__exportStar(Vj(),t)})(pe);class Uu{}let Wee=class extends Uu{constructor(e){super()}};const gP=pe.FIVE_SECONDS,Lu={pulse:"heartbeat_pulse"};let Hee=class Gj extends Wee{constructor(e){super(e),this.events=new pi.EventEmitter,this.interval=gP,this.interval=(e==null?void 0:e.interval)||gP}static async init(e){const n=new Gj(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),pe.toMiliseconds(this.interval))}pulse(){this.events.emit(Lu.pulse)}};const Vee=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Gee=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Kee=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Yee(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Qee(t);return}return e}function Qee(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Uy(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Kee.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Vee.test(t)||Gee.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Yee)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function Jee(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function qn(t,...e){try{return Jee(t(...e))}catch(n){return Promise.reject(n)}}function Zee(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Xee(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function $w(t){if(Zee(t))return String(t);if(Xee(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return $w(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const yx="base64:";function ete(t){return typeof t=="string"?t:yx+rte(t)}function tte(t){return typeof t!="string"||!t.startsWith(yx)?t:nte(t.slice(yx.length))}function nte(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function rte(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function is(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function ste(...t){return is(t.join(":"))}function Ly(t){return t=is(t),t?t+":":""}function ite(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function ote(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const ate="memory",cte=()=>{const t=new Map;return{name:ate,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function lte(t={}){const e={mounts:{"":t.driver||cte()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),s=(l,u)=>{if(e.watching){u=is(u);for(const d of e.watchListeners)d(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await mP(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=p=>{let m=h.get(p.base);return m||(m={driver:p.driver,base:p.base,items:[]},h.set(p.base,m)),m};for(const p of l){const m=typeof p=="string",w=is(m?p:p.key),y=m?void 0:p.value,b=m||!p.options?u:{...u,...p.options},v=n(w);f(v).items.push({key:w,value:y,relativeKey:v.relativeKey,options:b})}return Promise.all([...h.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=is(l);const{relativeKey:d,driver:h}=n(l);return qn(h.hasItem,d,u)},getItem(l,u={}){l=is(l);const{relativeKey:d,driver:h}=n(l);return qn(h.getItem,d,u).then(f=>Uy(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?qn(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:ste(d.base,f.key),value:Uy(f.value)}))):Promise.all(d.items.map(h=>qn(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:Uy(f)})))))},getItemRaw(l,u={}){l=is(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?qn(h.getItemRaw,d,u):qn(h.getItem,d,u).then(f=>tte(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=is(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await qn(f.setItem,h,$w(u),d),f.watch||s("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return qn(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:$w(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>qn(d.driver.setItem,h.relativeKey,$w(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=is(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await qn(f.setItemRaw,h,u,d);else if(f.setItem)await qn(f.setItem,h,ete(u),d);else return;f.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=is(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await qn(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await qn(h.removeItem,d+"$",u),h.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=is(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await qn(h.getMeta,d,u)),!u.nativeOnly){const p=await qn(h.getItem,d+"$",u).then(m=>Uy(m));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var w;l=Ly(l);const d=r(l,!0);let h=[];const f=[];let p=!0;for(const y of d){(w=y.driver.flags)!=null&&w.maxDepth||(p=!1);const b=await qn(y.driver.getKeys,y.relativeBase,u);for(const v of b){const E=y.mountpoint+is(v);h.some(_=>E.startsWith(_))||f.push(E)}h=[y.mountpoint,...h.filter(v=>!v.startsWith(y.mountpoint))]}const m=u.maxDepth!==void 0&&!p;return f.filter(y=>(!m||ite(y,u.maxDepth))&&ote(y,l))},async clear(l,u={}){l=Ly(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return qn(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>yP(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=Ly(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(mP(u,s,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,h;l=Ly(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(d=e.unwatch)[l])==null||h.call(d),delete e.unwatch[l]),u&&await yP(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=is(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=is(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function mP(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function yP(t){typeof t.dispose=="function"&&await qn(t.dispose)}function Mu(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Kj(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=Mu(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(e,s).objectStore(e)))}let g_;function km(){return g_||(g_=Kj("keyval-store","keyval")),g_}function wP(t,e=km()){return e("readonly",n=>Mu(n.get(t)))}function ute(t,e,n=km()){return n("readwrite",r=>(r.put(e,t),Mu(r.transaction)))}function dte(t,e=km()){return e("readwrite",n=>(n.delete(t),Mu(n.transaction)))}function hte(t=km()){return t("readwrite",e=>(e.clear(),Mu(e.transaction)))}function fte(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Mu(t.transaction)}function pte(t=km()){return t("readonly",e=>{if(e.getAllKeys)return Mu(e.getAllKeys());const n=[];return fte(e,r=>n.push(r.key)).then(()=>n)})}const gte=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),mte=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function bu(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return mte(t)}catch{return t}}function _a(t){return typeof t=="string"?t:gte(t)||""}const yte="idb-keyval";var wte=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=Kj(t.dbName,t.storeName)),{name:yte,options:t,async hasItem(s){return!(typeof await wP(n(s),r)>"u")},async getItem(s){return await wP(n(s),r)??null},setItem(s,i){return ute(n(s),i,r)},removeItem(s){return dte(n(s),r)},getKeys(){return pte(r)},clear(){return hte(r)}}};const vte="WALLET_CONNECT_V2_INDEXED_DB",bte="keyvaluestorage";let _te=class{constructor(){this.indexedDb=lte({driver:wte({dbName:vte,storeName:bte})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,_a(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var m_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dw={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof m_<"u"&&m_.localStorage?Dw.exports=m_.localStorage:typeof window<"u"&&window.localStorage?Dw.exports=window.localStorage:Dw.exports=new e})();function Ete(t){var e;return[t[0],bu((e=t[1])!=null?e:"")]}let Cte=class{constructor(){this.localStorage=Dw.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Ete)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return bu(n)}async setItem(e,n){this.localStorage.setItem(e,_a(n))}async removeItem(e){this.localStorage.removeItem(e)}};const xte="wc_storage_version",vP=1,Ste=async(t,e,n)=>{const r=xte,s=await e.getItem(r);if(s&&s>=vP){n(e);return}const i=await t.getKeys();if(!i.length){n(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,vP),n(e),Ate(t,o)},Ate=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let Ite=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new Cte;this.storage=e;try{const n=new _te;Ste(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function Tte(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var Nte=Pte;function Pte(t,e,n){var r=n&&n.stringify||Tte,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var o=new Array(i);o[0]=r(t);for(var a=1;a<i;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-s,d=-1,h=t&&t.length||0,f=0;f<h;){if(t.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Number(e[u]),d=f+2,f++;break;case 105:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Math.floor(Number(e[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<f&&(l+=t.slice(d,f));var p=typeof e[u];if(p==="string"){l+="'"+e[u]+"'",d=f+2,f++;break}if(p==="function"){l+=e[u].name||"<anonymous>",d=f+2,f++;break}l+=r(e[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=t.slice(d,f)),l+=String(e[u]),d=f+2,f++;break;case 37:d<f&&(l+=t.slice(d,f)),l+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?t:(d<h&&(l+=t.slice(d)),l)}const bP=Nte;var Cd=Co;const jg=Bte().console||{},kte={mapHttpRequest:My,mapHttpResponse:My,wrapRequestSerializer:y_,wrapResponseSerializer:y_,wrapErrorSerializer:y_,req:My,res:My,err:jte};function Ote(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Co(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||jg;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},s=Ote(t.browser.serialize,r);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=Ug),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:s,asObject:t.browser.asObject,levels:o,timestamp:Ute(t)};c.levels=Co.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Ug,c.serializers=r,c._serialize=s,c._stdErrSerialize=i,c.child=f,e&&(c._logEvent=wx());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,ed(l,c,"error","log"),ed(l,c,"fatal","error"),ed(l,c,"warn","error"),ed(l,c,"info","log"),ed(l,c,"debug","log"),ed(l,c,"trace","log")}function f(p,m){if(!p)throw new Error("missing bindings for child Pino");m=m||{},s&&p.serializers&&(m.serializers=p.serializers);const w=m.serializers;if(s&&w){var y=Object.assign({},r,w),b=t.browser.serialize===!0?Object.keys(y):s;delete p.serializers,eb([p],b,y,this._stdErrSerialize)}function v(E){this._childLevel=(E._childLevel|0)+1,this.error=td(E,p,"error"),this.fatal=td(E,p,"fatal"),this.warn=td(E,p,"warn"),this.info=td(E,p,"info"),this.debug=td(E,p,"debug"),this.trace=td(E,p,"trace"),y&&(this.serializers=y,this._serialize=b),e&&(this._logEvent=wx([].concat(E._logEvent.bindings,p)))}return v.prototype=this,new v(this)}return c}Co.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Co.stdSerializers=kte;Co.stdTimeFunctions=Object.assign({},{nullTime:Yj,epochTime:Qj,unixTime:Lte,isoTime:Mte});function ed(t,e,n,r){const s=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?Ug:s[n]?s[n]:jg[n]||jg[r]||Ug,Rte(t,e,n)}function Rte(t,e,n){!t.transmit&&e[n]===Ug||(e[n]=function(r){return function(){const i=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===jg?jg:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&eb(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,$te(this,n,o,i)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=Co.levels.values[l],d=Co.levels.values[n];if(d<u)return;Dte(this,{ts:i,methodLevel:n,methodValue:d,transmitValue:Co.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function $te(t,e,n,r){t._serialize&&eb(n,t._serialize,t.serializers,t._stdErrSerialize);const s=n.slice();let i=s[0];const o={};r&&(o.time=r),o.level=Co.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),i!==null&&typeof i=="object"){for(;a--&&typeof s[0]=="object";)Object.assign(o,s.shift());i=s.length?bP(s.shift(),s):void 0}else typeof i=="string"&&(i=bP(s.shift(),s));return i!==void 0&&(o.msg=i),o}function eb(t,e,n,r){for(const s in t)if(r&&t[s]instanceof Error)t[s]=Co.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in n&&(t[s][i]=n[i](t[s][i]))}function td(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var s=1;s<r.length;s++)r[s]=arguments[s-1];return t[n].apply(this,r)}}function Dte(t,e,n){const r=e.send,s=e.ts,i=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;eb(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=o,r(i,t._logEvent,a),t._logEvent=wx(c)}function wx(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function jte(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function Ute(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?Yj:Qj}function My(){return{}}function y_(t){return t}function Ug(){}function Yj(){return!1}function Qj(){return Date.now()}function Lte(){return Math.round(Date.now()/1e3)}function Mte(){return new Date(Date.now()).toISOString()}function Bte(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const Om=Nu(Cd),Fte={level:"info"},Rm="custom_context",b2=1e3*1024;let zte=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},_P=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new zte(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},Jj=class{constructor(e,n=b2){this.level=e??"error",this.levelValue=Cd.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new _P(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Cd.levels.values.error?console.error(e):n===Cd.levels.values.warn?console.warn(e):n===Cd.levels.values.debug?console.debug(e):n===Cd.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(_a({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new _P(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(_a({extraMetadata:e})),new Blob(n,{type:"application/json"})}},qte=class{constructor(e,n=b2){this.baseChunkLogger=new Jj(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},Wte=class{constructor(e,n=b2){this.baseChunkLogger=new Jj(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Hte=Object.defineProperty,Vte=Object.defineProperties,Gte=Object.getOwnPropertyDescriptors,EP=Object.getOwnPropertySymbols,Kte=Object.prototype.hasOwnProperty,Yte=Object.prototype.propertyIsEnumerable,CP=(t,e,n)=>e in t?Hte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O0=(t,e)=>{for(var n in e||(e={}))Kte.call(e,n)&&CP(t,n,e[n]);if(EP)for(var n of EP(e))Yte.call(e,n)&&CP(t,n,e[n]);return t},R0=(t,e)=>Vte(t,Gte(e));function Kh(t){return R0(O0({},t),{level:(t==null?void 0:t.level)||Fte.level})}function Qte(t,e=Rm){return t[e]||""}function Jte(t,e,n=Rm){return t[n]=e,t}function Cs(t,e=Rm){let n="";return typeof t.bindings>"u"?n=Qte(t,e):n=t.bindings().context||"",n}function Zte(t,e,n=Rm){const r=Cs(t,n);return r.trim()?`${r}/${e}`:e}function Nr(t,e,n=Rm){const r=Zte(t,e,n),s=t.child({context:r});return Jte(s,r,n)}function Xte(t){var e,n;const r=new qte((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Om(R0(O0({},t.opts),{level:"trace",browser:R0(O0({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function ene(t){var e;const n=new Wte((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Om(R0(O0({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function _2(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Xte(t):ene(t)}var tne=Object.defineProperty,nne=(t,e,n)=>e in t?tne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xP=(t,e,n)=>nne(t,typeof e!="symbol"?e+"":e,n);let rne=class extends Uu{constructor(e){super(),this.opts=e,xP(this,"protocol","wc"),xP(this,"version",2)}};var sne=Object.defineProperty,ine=(t,e,n)=>e in t?sne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,one=(t,e,n)=>ine(t,e+"",n);let ane=class extends Uu{constructor(e,n){super(),this.core=e,this.logger=n,one(this,"records",new Map)}},cne=class{constructor(e,n){this.logger=e,this.core=n}},lne=class extends Uu{constructor(e,n){super(),this.relayer=e,this.logger=n}},une=class extends Uu{constructor(e){super()}},dne=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},hne=class extends Uu{constructor(e,n){super(),this.relayer=e,this.logger=n}},fne=class extends Uu{constructor(e,n){super(),this.core=e,this.logger=n}},pne=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},gne=class{constructor(e,n){this.projectId=e,this.logger=n}},mne=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var yne=Object.defineProperty,wne=(t,e,n)=>e in t?yne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,SP=(t,e,n)=>wne(t,typeof e!="symbol"?e+"":e,n);let vne=class{constructor(e){this.opts=e,SP(this,"protocol","wc"),SP(this,"version",2)}},bne=class{constructor(e){this.client=e}};function _ne(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Zj(t,...e){if(!_ne(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function AP(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ene(t,e){Zj(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const nd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const w_=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Cne(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Xj(t){return typeof t=="string"&&(t=Cne(t)),Zj(t),t}let xne=class{clone(){return this._cloneInto()}};function Sne(t){const e=r=>t().update(Xj(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function e6(t=32){if(nd&&typeof nd.getRandomValues=="function")return nd.getRandomValues(new Uint8Array(t));if(nd&&typeof nd.randomBytes=="function")return nd.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function Ane(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let Ine=class extends xne{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=w_(this.buffer)}update(e){AP(this);const{view:n,buffer:r,blockLen:s}=this;e=Xj(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=w_(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){AP(this),Ene(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Ane(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=w_(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const By=BigInt(2**32-1),vx=BigInt(32);function t6(t,e=!1){return e?{h:Number(t&By),l:Number(t>>vx&By)}:{h:Number(t>>vx&By)|0,l:Number(t&By)|0}}function Tne(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=t6(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const Nne=(t,e)=>BigInt(t>>>0)<<vx|BigInt(e>>>0),Pne=(t,e,n)=>t>>>n,kne=(t,e,n)=>t<<32-n|e>>>n,One=(t,e,n)=>t>>>n|e<<32-n,Rne=(t,e,n)=>t<<32-n|e>>>n,$ne=(t,e,n)=>t<<64-n|e>>>n-32,Dne=(t,e,n)=>t>>>n-32|e<<64-n,jne=(t,e)=>e,Une=(t,e)=>t,Lne=(t,e,n)=>t<<n|e>>>32-n,Mne=(t,e,n)=>e<<n|t>>>32-n,Bne=(t,e,n)=>e<<n-32|t>>>64-n,Fne=(t,e,n)=>t<<n-32|e>>>64-n;function zne(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const qne=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Wne=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Hne=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Vne=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Gne=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Kne=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,ot={fromBig:t6,split:Tne,toBig:Nne,shrSH:Pne,shrSL:kne,rotrSH:One,rotrSL:Rne,rotrBH:$ne,rotrBL:Dne,rotr32H:jne,rotr32L:Une,rotlSH:Lne,rotlSL:Mne,rotlBH:Bne,rotlBL:Fne,add:zne,add3L:qne,add3H:Wne,add4L:Hne,add4H:Vne,add5H:Kne,add5L:Gne},[Yne,Qne]=ot.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Da=new Uint32Array(80),ja=new Uint32Array(80);let Jne=class extends Ine{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:w}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,m,w]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,m,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=w|0}process(e,n){for(let v=0;v<16;v++,n+=4)Da[v]=e.getUint32(n),ja[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const E=Da[v-15]|0,_=ja[v-15]|0,x=ot.rotrSH(E,_,1)^ot.rotrSH(E,_,8)^ot.shrSH(E,_,7),S=ot.rotrSL(E,_,1)^ot.rotrSL(E,_,8)^ot.shrSL(E,_,7),A=Da[v-2]|0,C=ja[v-2]|0,k=ot.rotrSH(A,C,19)^ot.rotrBH(A,C,61)^ot.shrSH(A,C,6),O=ot.rotrSL(A,C,19)^ot.rotrBL(A,C,61)^ot.shrSL(A,C,6),B=ot.add4L(S,O,ja[v-7],ja[v-16]),F=ot.add4H(B,x,k,Da[v-7],Da[v-16]);Da[v]=F|0,ja[v]=B|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:w,Hh:y,Hl:b}=this;for(let v=0;v<80;v++){const E=ot.rotrSH(d,h,14)^ot.rotrSH(d,h,18)^ot.rotrBH(d,h,41),_=ot.rotrSL(d,h,14)^ot.rotrSL(d,h,18)^ot.rotrBL(d,h,41),x=d&f^~d&m,S=h&p^~h&w,A=ot.add5L(b,_,S,Qne[v],ja[v]),C=ot.add5H(A,y,E,x,Yne[v],Da[v]),k=A|0,O=ot.rotrSH(r,s,28)^ot.rotrBH(r,s,34)^ot.rotrBH(r,s,39),B=ot.rotrSL(r,s,28)^ot.rotrBL(r,s,34)^ot.rotrBL(r,s,39),F=r&i^r&a^i&a,V=s&o^s&c^o&c;y=m|0,b=w|0,m=f|0,w=p|0,f=d|0,p=h|0,{h:d,l:h}=ot.add(l|0,u|0,C|0,k|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const I=ot.add3L(k,B,V);r=ot.add3H(I,C,O,F),s=I|0}({h:r,l:s}=ot.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=ot.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=ot.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=ot.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=ot.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=ot.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:w}=ot.add(this.Gh|0,this.Gl|0,m|0,w|0),{h:y,l:b}=ot.add(this.Hh|0,this.Hl|0,y|0,b|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,m,w,y,b)}roundClean(){Da.fill(0),ja.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Zne=Sne(()=>new Jne);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const E2=BigInt(0),n6=BigInt(1),Xne=BigInt(2);function C2(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function x2(t){if(!C2(t))throw new Error("Uint8Array expected")}function v_(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const ere=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function S2(t){x2(t);let e="";for(let n=0;n<t.length;n++)e+=ere[t[n]];return e}function r6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?E2:BigInt("0x"+t)}const Bo={_0:48,_9:57,A:65,F:70,a:97,f:102};function IP(t){if(t>=Bo._0&&t<=Bo._9)return t-Bo._0;if(t>=Bo.A&&t<=Bo.F)return t-(Bo.A-10);if(t>=Bo.a&&t<=Bo.f)return t-(Bo.a-10)}function s6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=IP(t.charCodeAt(i)),a=IP(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function tre(t){return r6(S2(t))}function jw(t){return x2(t),r6(S2(Uint8Array.from(t).reverse()))}function i6(t,e){return s6(t.toString(16).padStart(e*2,"0"))}function bx(t,e){return i6(t,e).reverse()}function Fo(t,e,n){let r;if(typeof e=="string")try{r=s6(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(C2(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function TP(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];x2(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const b_=t=>typeof t=="bigint"&&E2<=t;function nre(t,e,n){return b_(t)&&b_(e)&&b_(n)&&e<=t&&t<n}function kf(t,e,n,r){if(!nre(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function rre(t){let e;for(e=0;t>E2;t>>=n6,e+=1);return e}const sre=t=>(Xne<<BigInt(t-1))-n6,ire={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||C2(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function A2(t,e,n={}){const r=(s,i,o)=>{const a=ire[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function NP(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Kn=BigInt(0),En=BigInt(1),Tl=BigInt(2),ore=BigInt(3),_x=BigInt(4),PP=BigInt(5),kP=BigInt(8);function jn(t,e){const n=t%e;return n>=Kn?n:e+n}function are(t,e,n){if(e<Kn)throw new Error("invalid exponent, negatives unsupported");if(n<=Kn)throw new Error("invalid modulus");if(n===En)return Kn;let r=En;for(;e>Kn;)e&En&&(r=r*t%n),t=t*t%n,e>>=En;return r}function to(t,e,n){let r=t;for(;e-- >Kn;)r*=r,r%=n;return r}function OP(t,e){if(t===Kn)throw new Error("invert: expected non-zero number");if(e<=Kn)throw new Error("invert: expected positive modulus, got "+e);let n=jn(t,e),r=e,s=Kn,i=En;for(;n!==Kn;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==En)throw new Error("invert: does not exist");return jn(s,e)}function cre(t){const e=(t-En)/Tl;let n,r,s;for(n=t-En,r=0;n%Tl===Kn;n/=Tl,r++);for(s=Tl;s<t&&are(s,e,t)!==t-En;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+En)/_x;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+En)/Tl;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(d);h<c&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const f=o.pow(l,En<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function lre(t){if(t%_x===ore){const e=(t+En)/_x;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%kP===PP){const e=(t-PP)/kP;return function(n,r){const s=n.mul(r,Tl),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,Tl),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return cre(t)}const ure=(t,e)=>(jn(t,e)&En)===En,dre=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function hre(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=dre.reduce((r,s)=>(r[s]="function",r),e);return A2(t,n)}function fre(t,e,n){if(n<Kn)throw new Error("invalid exponent, negatives unsupported");if(n===Kn)return t.ONE;if(n===En)return e;let r=t.ONE,s=e;for(;n>Kn;)n&En&&(r=t.mul(r,s)),s=t.sqr(s),n>>=En;return r}function pre(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function o6(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function a6(t,e,n=!1,r={}){if(t<=Kn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=o6(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:sre(s),ZERO:Kn,ONE:En,create:c=>jn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Kn<=c&&c<t},is0:c=>c===Kn,isOdd:c=>(c&En)===En,neg:c=>jn(-c,t),eql:(c,l)=>c===l,sqr:c=>jn(c*c,t),add:(c,l)=>jn(c+l,t),sub:(c,l)=>jn(c-l,t),mul:(c,l)=>jn(c*l,t),pow:(c,l)=>fre(a,c,l),div:(c,l)=>jn(c*OP(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>OP(c,t),sqrt:r.sqrt||(c=>(o||(o=lre(t)),o(a,c))),invertBatch:c=>pre(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?bx(c,i):i6(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?jw(c):tre(c)}});return Object.freeze(a)}const RP=BigInt(0),Fy=BigInt(1);function __(t,e){const n=e.negate();return t?n:e}function c6(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function E_(t,e){c6(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function gre(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function mre(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const C_=new WeakMap,l6=new WeakMap;function x_(t){return l6.get(t)||1}function yre(t,e){return{constTimeNegate:__,hasPrecomputes(n){return x_(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>RP;)r&Fy&&(s=s.add(i)),i=i.double(),r>>=Fy;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=E_(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=E_(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<i;h++){const f=h*o;let p=Number(s&l);s>>=d,p>o&&(p-=u,s+=Fy);const m=f,w=f+Math.abs(p)-1,y=h%2!==0,b=p<0;p===0?c=c.add(__(y,r[m])):a=a.add(__(b,r[w]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=E_(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(s===RP)break;let f=Number(s&c);if(s>>=u,f>a&&(f-=l,s+=Fy),f===0)continue;let p=r[h+Math.abs(f)-1];f<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(n,r,s){let i=C_.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&C_.set(r,s(i))),i},wNAFCached(n,r,s){const i=x_(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=x_(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){c6(r,e),l6.set(n,r),C_.delete(n)}}}function wre(t,e,n,r){if(gre(n,t),mre(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=rre(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let f=0;f<r.length;f++){const p=r[f],m=Number(p>>BigInt(d)&BigInt(a));c[m]=c[m].add(n[f])}let h=s;for(let f=c.length-1,p=s;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function vre(t){return hre(t.Fp),A2(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...o6(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const vi=BigInt(0),Xr=BigInt(1),zy=BigInt(2),bre=BigInt(8),_re={zip215:!0};function Ere(t){const e=vre(t);return A2(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Cre(t){const e=Ere(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=zy<<BigInt(a*8)-Xr,u=n.create,d=a6(e.n,e.nBitLength),h=e.uvRatio||((I,N)=>{try{return{isValid:!0,value:n.sqrt(I*n.inv(N))}}catch{return{isValid:!1,value:vi}}}),f=e.adjustScalarBytes||(I=>I),p=e.domain||((I,N,L)=>{if(v_("phflag",L),N.length||L)throw new Error("Contexts/pre-hash are not supported");return I});function m(I,N){kf("coordinate "+I,N,vi,l)}function w(I){if(!(I instanceof v))throw new Error("ExtendedPoint expected")}const y=NP((I,N)=>{const{ex:L,ey:D,ez:$}=I,j=I.is0();N==null&&(N=j?bre:n.inv($));const q=u(L*N),J=u(D*N),se=u($*N);if(j)return{x:vi,y:Xr};if(se!==Xr)throw new Error("invZ was invalid");return{x:q,y:J}}),b=NP(I=>{const{a:N,d:L}=e;if(I.is0())throw new Error("bad point: ZERO");const{ex:D,ey:$,ez:j,et:q}=I,J=u(D*D),se=u($*$),ne=u(j*j),ie=u(ne*ne),ye=u(J*N),Y=u(ne*u(ye+se)),Z=u(ie+u(L*u(J*se)));if(Y!==Z)throw new Error("bad point: equation left != right (1)");const oe=u(D*$),ee=u(j*q);if(oe!==ee)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(N,L,D,$){this.ex=N,this.ey=L,this.ez=D,this.et=$,m("x",N),m("y",L),m("z",D),m("t",$),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(N){if(N instanceof v)throw new Error("extended point not allowed");const{x:L,y:D}=N||{};return m("x",L),m("y",D),new v(L,D,Xr,u(L*D))}static normalizeZ(N){const L=n.invertBatch(N.map(D=>D.ez));return N.map((D,$)=>D.toAffine(L[$])).map(v.fromAffine)}static msm(N,L){return wre(v,d,N,L)}_setWindowSize(N){x.setWindowSize(this,N)}assertValidity(){b(this)}equals(N){w(N);const{ex:L,ey:D,ez:$}=this,{ex:j,ey:q,ez:J}=N,se=u(L*J),ne=u(j*$),ie=u(D*J),ye=u(q*$);return se===ne&&ie===ye}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:N}=e,{ex:L,ey:D,ez:$}=this,j=u(L*L),q=u(D*D),J=u(zy*u($*$)),se=u(N*j),ne=L+D,ie=u(u(ne*ne)-j-q),ye=se+q,Y=ye-J,Z=se-q,oe=u(ie*Y),ee=u(ye*Z),he=u(ie*Z),Me=u(Y*ye);return new v(oe,ee,Me,he)}add(N){w(N);const{a:L,d:D}=e,{ex:$,ey:j,ez:q,et:J}=this,{ex:se,ey:ne,ez:ie,et:ye}=N;if(L===BigInt(-1)){const Ot=u((j-$)*(ne+se)),vt=u((j+$)*(ne-se)),rn=u(vt-Ot);if(rn===vi)return this.double();const Hr=u(q*zy*ye),Ji=u(J*zy*ie),Vr=Ji+Hr,Pn=vt+Ot,xn=Ji-Hr,Gr=u(Vr*rn),ul=u(Pn*xn),Pr=u(Vr*xn),Kr=u(rn*Pn);return new v(Gr,ul,Kr,Pr)}const Y=u($*se),Z=u(j*ne),oe=u(J*D*ye),ee=u(q*ie),he=u(($+j)*(se+ne)-Y-Z),Me=ee-oe,Te=ee+oe,Ce=u(Z-L*Y),Le=u(he*Me),Qe=u(Te*Ce),Tt=u(he*Ce),an=u(Me*Te);return new v(Le,Qe,an,Tt)}subtract(N){return this.add(N.negate())}wNAF(N){return x.wNAFCached(this,N,v.normalizeZ)}multiply(N){const L=N;kf("scalar",L,Xr,r);const{p:D,f:$}=this.wNAF(L);return v.normalizeZ([D,$])[0]}multiplyUnsafe(N,L=v.ZERO){const D=N;return kf("scalar",D,vi,r),D===vi?_:this.is0()||D===Xr?this:x.wNAFCachedUnsafe(this,D,v.normalizeZ,L)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return x.unsafeLadder(this,r).is0()}toAffine(N){return y(this,N)}clearCofactor(){const{h:N}=e;return N===Xr?this:this.multiplyUnsafe(N)}static fromHex(N,L=!1){const{d:D,a:$}=e,j=n.BYTES;N=Fo("pointHex",N,j),v_("zip215",L);const q=N.slice(),J=N[j-1];q[j-1]=J&-129;const se=jw(q),ne=L?l:n.ORDER;kf("pointHex.y",se,vi,ne);const ie=u(se*se),ye=u(ie-Xr),Y=u(D*ie-$);let{isValid:Z,value:oe}=h(ye,Y);if(!Z)throw new Error("Point.fromHex: invalid y coordinate");const ee=(oe&Xr)===Xr,he=(J&128)!==0;if(!L&&oe===vi&&he)throw new Error("Point.fromHex: x=0 and x_0=1");return he!==ee&&(oe=u(-oe)),v.fromAffine({x:oe,y:se})}static fromPrivateKey(N){return C(N).point}toRawBytes(){const{x:N,y:L}=this.toAffine(),D=bx(L,n.BYTES);return D[D.length-1]|=N&Xr?128:0,D}toHex(){return S2(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,Xr,u(e.Gx*e.Gy)),v.ZERO=new v(vi,Xr,Xr,vi);const{BASE:E,ZERO:_}=v,x=yre(v,a*8);function S(I){return jn(I,r)}function A(I){return S(jw(I))}function C(I){const N=n.BYTES;I=Fo("private key",I,N);const L=Fo("hashed private key",i(I),2*N),D=f(L.slice(0,N)),$=L.slice(N,2*N),j=A(D),q=E.multiply(j),J=q.toRawBytes();return{head:D,prefix:$,scalar:j,point:q,pointBytes:J}}function k(I){return C(I).pointBytes}function O(I=new Uint8Array,...N){const L=TP(...N);return A(i(p(L,Fo("context",I),!!s)))}function B(I,N,L={}){I=Fo("message",I),s&&(I=s(I));const{prefix:D,scalar:$,pointBytes:j}=C(N),q=O(L.context,D,I),J=E.multiply(q).toRawBytes(),se=O(L.context,J,j,I),ne=S(q+se*$);kf("signature.s",ne,vi,r);const ie=TP(J,bx(ne,n.BYTES));return Fo("result",ie,n.BYTES*2)}const F=_re;function V(I,N,L,D=F){const{context:$,zip215:j}=D,q=n.BYTES;I=Fo("signature",I,2*q),N=Fo("message",N),L=Fo("publicKey",L,q),j!==void 0&&v_("zip215",j),s&&(N=s(N));const J=jw(I.slice(q,2*q));let se,ne,ie;try{se=v.fromHex(L,j),ne=v.fromHex(I.slice(0,q),j),ie=E.multiplyUnsafe(J)}catch{return!1}if(!j&&se.isSmallOrder())return!1;const ye=O($,ne.toRawBytes(),se.toRawBytes(),N);return ne.add(se.multiplyUnsafe(ye)).subtract(ie).clearCofactor().equals(v.ZERO)}return E._setWindowSize(8),{CURVE:e,getPublicKey:k,sign:B,verify:V,ExtendedPoint:v,utils:{getExtendedPublicKey:C,randomPrivateKey:()=>o(n.BYTES),precompute(I=8,N=v.BASE){return N._setWindowSize(I),N.multiply(BigInt(3)),N}}}}BigInt(0),BigInt(1);const I2=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),$P=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const xre=BigInt(1),DP=BigInt(2);BigInt(3);const Sre=BigInt(5),Are=BigInt(8);function Ire(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=I2,o=t*t%i*t%i,a=to(o,DP,i)*o%i,c=to(a,xre,i)*t%i,l=to(c,Sre,i)*c%i,u=to(l,e,i)*l%i,d=to(u,n,i)*u%i,h=to(d,r,i)*d%i,f=to(h,s,i)*h%i,p=to(f,s,i)*h%i,m=to(p,e,i)*l%i;return{pow_p_5_8:to(m,DP,i)*t%i,b2:o}}function Tre(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Nre(t,e){const n=I2,r=jn(e*e*e,n),s=jn(r*r*e,n),i=Ire(t*s).pow_p_5_8;let o=jn(t*r*i,n);const a=jn(e*o*o,n),c=o,l=jn(o*$P,n),u=a===t,d=a===jn(-t,n),h=a===jn(-t*$P,n);return u&&(o=c),(d||h)&&(o=l),ure(o,n)&&(o=jn(-o,n)),{isValid:u||d,value:o}}const Pre=a6(I2,void 0,!0),kre={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Pre,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Are,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Zne,randomBytes:e6,adjustScalarBytes:Tre,uvRatio:Nre},u6=Cre(kre),Ore="EdDSA",Rre="JWT",$0=".",tb="base64url",d6="utf8",h6="utf8",$re=":",Dre="did",jre="key",jP="base58btc",Ure="z",Lre="K36",Mre=32;function T2(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function f6(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?T2(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function p6(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=f6(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return T2(n)}function Bre(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,w=0,y=0,b=p.length;y!==b&&p[y]===0;)y++,m++;for(var v=(b-y)*u+1>>>0,E=new Uint8Array(v);y!==b;){for(var _=p[y],x=0,S=v-1;(_!==0||x<w)&&S!==-1;S--,x++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");w=x,y++}for(var A=v-w;A!==v&&E[A]===0;)A++;for(var C=c.repeat(m);A<v;++A)C+=t.charAt(E[A]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var w=0,y=0;p[m]===c;)w++,m++;for(var b=(p.length-m)*l+1>>>0,v=new Uint8Array(b);p[m];){var E=n[p.charCodeAt(m)];if(E===255)return;for(var _=0,x=b-1;(E!==0||_<y)&&x!==-1;x--,_++)E+=a*v[x]>>>0,v[x]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");y=_,m++}if(p[m]!==" "){for(var S=b-y;S!==b&&v[S]===0;)S++;for(var A=new Uint8Array(w+(b-S)),C=w;S!==b;)A[C++]=v[S++];return A}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Fre=Bre,zre=Fre;const g6=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},qre=t=>new TextEncoder().encode(t),Wre=t=>new TextDecoder().decode(t);let Hre=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Vre=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return m6(this,e)}},Gre=class{constructor(e){this.decoders=e}or(e){return m6(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const m6=(t,e)=>new Gre({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Kre=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Hre(e,n,r),this.decoder=new Vre(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const nb=({name:t,prefix:e,encode:n,decode:r})=>new Kre(t,e,n,r),$m=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=zre(n,e);return nb({prefix:t,name:e,encode:r,decode:i=>g6(s(i))})},Yre=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Qre=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},hr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>nb({prefix:e,name:t,encode(s){return Qre(s,r,n)},decode(s){return Yre(s,r,n,t)}}),Jre=nb({prefix:"\0",name:"identity",encode:t=>Wre(t),decode:t=>qre(t)});var Zre=Object.freeze({__proto__:null,identity:Jre});const Xre=hr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var ese=Object.freeze({__proto__:null,base2:Xre});const tse=hr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var nse=Object.freeze({__proto__:null,base8:tse});const rse=$m({prefix:"9",name:"base10",alphabet:"0123456789"});var sse=Object.freeze({__proto__:null,base10:rse});const ise=hr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ose=hr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var ase=Object.freeze({__proto__:null,base16:ise,base16upper:ose});const cse=hr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),lse=hr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),use=hr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),dse=hr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),hse=hr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),fse=hr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),pse=hr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),gse=hr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),mse=hr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var yse=Object.freeze({__proto__:null,base32:cse,base32upper:lse,base32pad:use,base32padupper:dse,base32hex:hse,base32hexupper:fse,base32hexpad:pse,base32hexpadupper:gse,base32z:mse});const wse=$m({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),vse=$m({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var bse=Object.freeze({__proto__:null,base36:wse,base36upper:vse});const _se=$m({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ese=$m({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Cse=Object.freeze({__proto__:null,base58btc:_se,base58flickr:Ese});const xse=hr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Sse=hr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ase=hr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ise=hr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Tse=Object.freeze({__proto__:null,base64:xse,base64pad:Sse,base64url:Ase,base64urlpad:Ise});const y6=Array.from(""),Nse=y6.reduce((t,e,n)=>(t[n]=e,t),[]),Pse=y6.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function kse(t){return t.reduce((e,n)=>(e+=Nse[n],e),"")}function Ose(t){const e=[];for(const n of t){const r=Pse[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Rse=nb({prefix:"",name:"base256emoji",encode:kse,decode:Ose});var $se=Object.freeze({__proto__:null,base256emoji:Rse}),Dse=w6,UP=128,jse=-128,Use=Math.pow(2,31);function w6(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Use;)e[n++]=t&255|UP,t/=128;for(;t&jse;)e[n++]=t&255|UP,t>>>=7;return e[n]=t|0,w6.bytes=n-r+1,e}var Lse=Ex,Mse=128,LP=127;function Ex(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw Ex.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&LP)<<s:(o&LP)*Math.pow(2,s),s+=7}while(o>=Mse);return Ex.bytes=i-r,n}var Bse=Math.pow(2,7),Fse=Math.pow(2,14),zse=Math.pow(2,21),qse=Math.pow(2,28),Wse=Math.pow(2,35),Hse=Math.pow(2,42),Vse=Math.pow(2,49),Gse=Math.pow(2,56),Kse=Math.pow(2,63),Yse=function(t){return t<Bse?1:t<Fse?2:t<zse?3:t<qse?4:t<Wse?5:t<Hse?6:t<Vse?7:t<Gse?8:t<Kse?9:10},Qse={encode:Dse,decode:Lse,encodingLength:Yse},v6=Qse;const MP=(t,e,n=0)=>(v6.encode(t,e,n),e),BP=t=>v6.encodingLength(t),Cx=(t,e)=>{const n=e.byteLength,r=BP(t),s=r+BP(n),i=new Uint8Array(s+n);return MP(t,i,0),MP(n,i,r),i.set(e,s),new Jse(t,n,e,i)};let Jse=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const b6=({name:t,code:e,encode:n})=>new Zse(t,e,n);let Zse=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Cx(this.code,n):n.then(r=>Cx(this.code,r))}else throw Error("Unknown type, must be binary type")}};const _6=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Xse=b6({name:"sha2-256",code:18,encode:_6("SHA-256")}),eie=b6({name:"sha2-512",code:19,encode:_6("SHA-512")});var tie=Object.freeze({__proto__:null,sha256:Xse,sha512:eie});const E6=0,nie="identity",C6=g6,rie=t=>Cx(E6,C6(t)),sie={code:E6,name:nie,encode:C6,digest:rie};var iie=Object.freeze({__proto__:null,identity:sie});new TextEncoder,new TextDecoder;const FP={...Zre,...ese,...nse,...sse,...ase,...yse,...bse,...Cse,...Tse,...$se};({...tie,...iie});function x6(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const zP=x6("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),S_=x6("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=f6(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),S6={utf8:zP,"utf-8":zP,hex:FP.base16,latin1:S_,ascii:S_,binary:S_,...FP};function rb(t,e="utf8"){const n=S6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Yh(t,e="utf8"){const n=S6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?T2(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function qP(t){return bu(rb(Yh(t,tb),d6))}function D0(t){return rb(Yh(_a(t),d6),tb)}function A6(t){const e=Yh(Lre,jP),n=Ure+rb(p6([e,t]),jP);return[Dre,jre,n].join($re)}function oie(t){return rb(t,tb)}function aie(t){return Yh(t,tb)}function cie(t){return Yh([D0(t.header),D0(t.payload)].join($0),h6)}function lie(t){return[D0(t.header),D0(t.payload),oie(t.signature)].join($0)}function xx(t){const e=t.split($0),n=qP(e[0]),r=qP(e[1]),s=aie(e[2]),i=Yh(e.slice(0,2).join($0),h6);return{header:n,payload:r,signature:s,data:i}}function WP(t=e6(Mre)){const e=u6.getPublicKey(t);return{secretKey:p6([t,e]),publicKey:e}}async function uie(t,e,n,r,s=pe.fromMiliseconds(Date.now())){const i={alg:Ore,typ:Rre},o=A6(r.publicKey),a=s+n,c={iss:o,sub:t,aud:e,iat:s,exp:a},l=cie({header:i,payload:c}),u=u6.sign(l,r.secretKey.slice(0,32));return lie({header:i,payload:c,signature:u})}var HP=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},die=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),hie=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),fie=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),pie=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),gie=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),mie=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,yie=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,VP=3,wie=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",mie]],GP=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function vie(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new gie:typeof navigator<"u"?_ie(navigator.userAgent):Cie()}function bie(t){return t!==""&&wie.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var i=s.exec(t);return!!i&&[r,i]},!1)}function _ie(t){var e=bie(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new pie;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<VP&&(s=HP(HP([],s,!0),xie(VP-s.length),!0)):s=[];var i=s.join("."),o=Eie(t),a=yie.exec(t);return a&&a[1]?new fie(n,i,o,a[1]):new die(n,i,o)}function Eie(t){for(var e=0,n=GP.length;e<n;e++){var r=GP[e],s=r[0],i=r[1],o=i.exec(t);if(o)return s}return null}function Cie(){var t=typeof process<"u"&&process.version;return t?new hie(process.version.slice(1)):null}function xie(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.getLocalStorage=Kt.getLocalStorageOrThrow=Kt.getCrypto=Kt.getCryptoOrThrow=I6=Kt.getLocation=Kt.getLocationOrThrow=N2=Kt.getNavigator=Kt.getNavigatorOrThrow=_u=Kt.getDocument=Kt.getDocumentOrThrow=Kt.getFromWindowOrThrow=Kt.getFromWindow=void 0;function Bu(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Kt.getFromWindow=Bu;function Qh(t){const e=Bu(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Kt.getFromWindowOrThrow=Qh;function Sie(){return Qh("document")}Kt.getDocumentOrThrow=Sie;function Aie(){return Bu("document")}var _u=Kt.getDocument=Aie;function Iie(){return Qh("navigator")}Kt.getNavigatorOrThrow=Iie;function Tie(){return Bu("navigator")}var N2=Kt.getNavigator=Tie;function Nie(){return Qh("location")}Kt.getLocationOrThrow=Nie;function Pie(){return Bu("location")}var I6=Kt.getLocation=Pie;function kie(){return Qh("crypto")}Kt.getCryptoOrThrow=kie;function Oie(){return Bu("crypto")}Kt.getCrypto=Oie;function Rie(){return Qh("localStorage")}Kt.getLocalStorageOrThrow=Rie;function $ie(){return Bu("localStorage")}Kt.getLocalStorage=$ie;var P2={};Object.defineProperty(P2,"__esModule",{value:!0});var T6=P2.getWindowMetadata=void 0;const KP=Kt;function Die(){let t,e;try{t=KP.getDocumentOrThrow(),e=KP.getLocationOrThrow()}catch{return null}function n(){const d=t.getElementsByTagName("link"),h=[];for(let f=0;f<d.length;f++){const p=d[f],m=p.getAttribute("rel");if(m&&m.toLowerCase().indexOf("icon")>-1){const w=p.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let y=e.protocol+"//"+e.host;if(w.indexOf("/")===0)y+=w;else{const b=e.pathname.split("/");b.pop();const v=b.join("/");y+=v+"/"+w}h.push(y)}else if(w.indexOf("//")===0){const y=e.protocol+w;h.push(y)}else h.push(w)}}return h}function r(...d){const h=t.getElementsByTagName("meta");for(let f=0;f<h.length;f++){const p=h[f],m=["itemprop","property","name"].map(w=>p.getAttribute(w)).filter(w=>w?d.includes(w):!1);if(m.length&&m){const w=p.getAttribute("content");if(w)return w}}return""}function s(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function i(){return r("description","og:description","twitter:description","keywords")}const o=s(),a=i(),c=e.origin,l=n();return{description:a,url:c,icons:l,name:o}}T6=P2.getWindowMetadata=Die;function Lg(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Sx(t){return Lg(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const N6="2.31.0";let Of={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${N6}`};class Eu extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof Eu?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Eu&&n.cause.docsPath||n.docsPath,i=(a=Of.getDocsUrl)==null?void 0:a.call(Of,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Of.version?[`Version: ${Of.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=N6}walk(e){return P6(this,e)}}function P6(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?P6(t.cause,e):e?null:t}class k6 extends Eu{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Jh(t,{dir:e,size:n=32}={}){return typeof t=="string"?jie(t,{dir:e,size:n}):Uie(t,{dir:e,size:n})}function jie(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new k6({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Uie(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new k6({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class Lie extends Eu{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class Mie extends Eu{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Zh(t,{size:e}){if(Sx(t)>e)throw new Mie({givenSize:Sx(t),maxSize:e})}function Ax(t,e={}){const{signed:n}=e;e.size&&Zh(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Bie(t,e={}){return Number(Ax(t,e))}const Fie=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ix(t,e={}){return typeof t=="number"||typeof t=="bigint"?R6(t,e):typeof t=="string"?Wie(t,e):typeof t=="boolean"?zie(t,e):O6(t,e)}function zie(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Zh(n,{size:e.size}),Jh(n,{size:e.size})):n}function O6(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=Fie[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Zh(r,{size:e.size}),Jh(r,{dir:"right",size:e.size})):r}function R6(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new Lie({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Jh(a,{size:r}):a}const qie=new TextEncoder;function Wie(t,e={}){const n=qie.encode(t);return O6(n,e)}const Hie=new TextEncoder;function Vie(t,e={}){return typeof t=="number"||typeof t=="bigint"?Kie(t,e):typeof t=="boolean"?Gie(t,e):Lg(t)?$6(t,e):D6(t,e)}function Gie(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Zh(n,{size:e.size}),Jh(n,{size:e.size})):n}const zo={zero:48,nine:57,A:65,F:70,a:97,f:102};function YP(t){if(t>=zo.zero&&t<=zo.nine)return t-zo.zero;if(t>=zo.A&&t<=zo.F)return t-(zo.A-10);if(t>=zo.a&&t<=zo.f)return t-(zo.a-10)}function $6(t,e={}){let n=t;e.size&&(Zh(n,{size:e.size}),n=Jh(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=YP(r.charCodeAt(a++)),l=YP(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new Eu(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function Kie(t,e){const n=R6(t,e);return $6(n)}function D6(t,e={}){const n=Hie.encode(t);return typeof e.size=="number"?(Zh(n,{size:e.size}),Jh(n,{dir:"right",size:e.size})):n}function j6(t,e){const n=e||"hex",r=bA(Lg(t,{strict:!1})?Vie(t):t);return n==="bytes"?r:Ix(r)}class Yie extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const A_=new Yie(8192);function Qie(t,e){if(A_.has(`${t}.${e}`))return A_.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=j6(D6(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return A_.set(`${t}.${e}`,i),i}function Jie(t){const e=j6(`0x${t.substring(4)}`).substring(26);return Qie(`0x${e}`)}async function Zie({hash:t,signature:e}){const n=Lg(t)?t:Ix(t),{secp256k1:r}=await bn(async()=>{const{secp256k1:o}=await import("./secp256k1-DV9rsZ9w.js");return{secp256k1:o}},__vite__mapDeps([2,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=QP(f);return new r.Signature(Ax(l),Ax(u)).addRecoveryBit(p)}const o=Lg(e)?e:Ix(e);if(Sx(o)!==65)throw new Error("invalid signature length");const a=Bie(`0x${o.slice(130)}`),c=QP(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function QP(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Xie({hash:t,signature:e}){return Jie(await Zie({hash:t,signature:e}))}function eoe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const p=(f-h)*i+1>>>0,m=new Uint8Array(p);for(;h!==f;){let b=l[h],v=0;for(let E=p-1;(b!==0||v<d)&&E!==-1;E--,v++)b+=256*m[E]>>>0,m[E]=b%n>>>0,b=b/n>>>0;if(b!==0)throw new Error("Non-zero carry");d=v,h++}let w=p-d;for(;w!==p&&m[w]===0;)w++;let y=r.repeat(u);for(;w<p;++w)y+=t.charAt(m[w]);return y}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===r;)d++,u++;const f=(l.length-u)*s+1>>>0,p=new Uint8Array(f);for(;u<l.length;){const b=l.charCodeAt(u);if(b>255)return;let v=e[b];if(v===255)return;let E=0;for(let _=f-1;(v!==0||E<h)&&_!==-1;_--,E++)v+=n*p[_]>>>0,p[_]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");h=E,u++}let m=f-h;for(;m!==f&&p[m]===0;)m++;const w=new Uint8Array(d+(f-m));let y=d;for(;m!==f;)w[y++]=p[m++];return w}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var toe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Xh=eoe(toe);function noe(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.charCodeAt(r++);if(s&4294967168)if(!(s&4294965248))n+=2;else{if(s>=55296&&s<=56319&&r<e){const i=t.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}s&4294901760?n+=4:n+=3}else{n++;continue}}return n}function roe(t,e,n){const r=t.length;let s=n,i=0;for(;i<r;){let o=t.charCodeAt(i++);if(o&4294967168)if(!(o&4294965248))e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128):(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128)}else{e[s++]=o;continue}e[s++]=o&63|128}}const soe=new TextEncoder,ioe=50;function ooe(t,e,n){soe.encodeInto(t,e.subarray(n))}function aoe(t,e,n){t.length>ioe?ooe(t,e,n):roe(t,e,n)}const coe=4096;function U6(t,e,n){let r=e;const s=r+n,i=[];let o="";for(;r<s;){const a=t[r++];if(!(a&128))i.push(a);else if((a&224)===192){const c=t[r++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;i.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d)}else i.push(a);i.length>=coe&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const loe=new TextDecoder,uoe=200;function doe(t,e,n){const r=t.subarray(e,e+n);return loe.decode(r)}function hoe(t,e,n){return n>uoe?doe(t,e,n):U6(t,e,n)}class qy{constructor(e,n){this.type=e,this.data=n}}class Os extends Error{constructor(e){super(e);const n=Object.create(Os.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Os.name})}}const Rf=4294967295;function foe(t,e,n){const r=n/4294967296,s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function L6(t,e,n){const r=Math.floor(n/4294967296),s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function M6(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function poe(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const goe=-1,moe=4294967296-1,yoe=17179869184-1;function woe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=yoe)if(e===0&&t<=moe){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),L6(r,4,t),n}}function voe(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function boe(t){if(t instanceof Date){const e=voe(t);return woe(e)}else return null}function _oe(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=M6(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Os(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function Eoe(t){const e=_oe(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Coe={type:goe,encode:boe,decode:Eoe};class j0{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Coe)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const s=-1-e;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=-1-r;return new qy(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=r;return new qy(o,i)}}}return e instanceof qy?e:null}decode(e,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(e,n,r):new qy(n,e)}}j0.defaultCodec=new j0;function xoe(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function Tx(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):xoe(t)?new Uint8Array(t):Uint8Array.from(t)}const Soe=100,Aoe=2048;let Ioe=class B6{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??j0.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??Soe,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??Aoe,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new B6({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=noe(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),aoe(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=Tx(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of e)this.doEncode(s,n+1)}countWithoutUndefined(e,n){let r=0;for(const s of n)e[s]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),foe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),L6(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function Toe(t,e){return new Ioe(e).encodeSharedRef(t)}function I_(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const Noe=16,Poe=16;class koe{constructor(e=Noe,n=Poe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return i.str}return null}store(e,n){const r=this.caches[e.length-1],s={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(e,n,r){const s=this.find(e,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=U6(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,i),i}}const Nx="array",Sp="map_key",F6="map_value",Ooe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Os("The type of key must be string or number but "+typeof t)};class Roe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=Nx,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=Sp,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===Nx){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===Sp||e.type===F6){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const $f=-1,k2=new DataView(new ArrayBuffer(0)),$oe=new Uint8Array(k2.buffer);try{k2.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const JP=new RangeError("Insufficient data"),Doe=new koe;let joe=class z6{constructor(e){this.totalPos=0,this.pos=0,this.view=k2,this.bytes=$oe,this.headByte=$f,this.stack=new Roe,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??j0.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??Rf,this.maxBinLength=(e==null?void 0:e.maxBinLength)??Rf,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??Rf,this.maxMapLength=(e==null?void 0:e.maxMapLength)??Rf,this.maxExtLength=(e==null?void 0:e.maxExtLength)??Rf,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:Doe,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??Ooe}clone(){return new z6({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=$f,this.stack.reset()}setBuffer(e){const n=Tx(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===$f&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=Tx(e),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${I_(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of e){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=e-160;n=this.decodeString(s,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new Os(`Unrecognized type byte: ${I_(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===Nx)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===Sp){if(n==="__proto__")throw new Os("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=F6;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=Sp;continue e}}return n}}readHeadByte(){return this.headByte===$f&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=$f}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Os(`Unrecognized array type byte: ${I_(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Os(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Os(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var i;if(e>this.maxStrLength)throw new Os(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw JP;const r=this.pos+n;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,r,e):s=hoe(this.bytes,r,e),this.pos+=n+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Sp:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Os(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw JP;const r=this.pos+n,s=this.bytes.subarray(r,r+e);return this.pos+=n+e,s}decodeExtension(e,n){if(e>this.maxExtLength)throw new Os(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(e,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=poe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=M6(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function Uoe(t,e){return new joe(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Loe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function q6(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function U0(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function O2(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function Px(t){if(!Array.isArray(t))throw new Error("array expected")}function L0(t,e){if(!q6(!0,e))throw new Error(`${t}: array of strings expected`)}function Moe(t,e){if(!q6(!1,e))throw new Error(`${t}: array of numbers expected`)}function Boe(...t){const e=i=>i,n=(i,o)=>a=>i(o(a)),r=t.map(i=>i.encode).reduceRight(n,e),s=t.map(i=>i.decode).reduce(n,e);return{encode:r,decode:s}}function Foe(t){const e=typeof t=="string"?t.split(""):t,n=e.length;L0("alphabet",e);const r=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(Px(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(Px(s),s.map(i=>{U0("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function zoe(t=""){return U0("join",t),{encode:e=>(L0("join.decode",e),e.join(t)),decode:e=>(U0("join.decode",e),e.split(t))}}function qoe(t,e="="){return O2(t),U0("padding",e),{encode(n){for(L0("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){L0("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const W6=(t,e)=>e===0?t:W6(e,t%e),M0=(t,e)=>t+(e-W6(t,e)),T_=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function ZP(t,e,n,r){if(Px(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(M0(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${M0(e,n)}`);let s=0,i=0;const o=T_[e],a=T_[n]-1,c=[];for(const l of t){if(O2(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(s=s<<e|l,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)c.push((s>>i-n&a)>>>0);const u=T_[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function Woe(t,e=!1){if(O2(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(M0(8,t)>32||M0(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!Loe(n))throw new Error("radix2.encode input should be Uint8Array");return ZP(Array.from(n),8,t,!e)},decode:n=>(Moe("radix2.decode",n),Uint8Array.from(ZP(n,t,8,e)))}}const Hoe=Boe(Woe(5),Foe("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),qoe(5),zoe(""));function R2(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function H6(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?R2(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Ap(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=H6(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return R2(n)}function Voe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,w=0,y=0,b=p.length;y!==b&&p[y]===0;)y++,m++;for(var v=(b-y)*u+1>>>0,E=new Uint8Array(v);y!==b;){for(var _=p[y],x=0,S=v-1;(_!==0||x<w)&&S!==-1;S--,x++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");w=x,y++}for(var A=v-w;A!==v&&E[A]===0;)A++;for(var C=c.repeat(m);A<v;++A)C+=t.charAt(E[A]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var w=0,y=0;p[m]===c;)w++,m++;for(var b=(p.length-m)*l+1>>>0,v=new Uint8Array(b);p[m];){var E=n[p.charCodeAt(m)];if(E===255)return;for(var _=0,x=b-1;(E!==0||_<y)&&x!==-1;x--,_++)E+=a*v[x]>>>0,v[x]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");y=_,m++}if(p[m]!==" "){for(var S=b-y;S!==b&&v[S]===0;)S++;for(var A=new Uint8Array(w+(b-S)),C=w;S!==b;)A[C++]=v[S++];return A}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Goe=Voe,Koe=Goe;const Yoe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Qoe=t=>new TextEncoder().encode(t),Joe=t=>new TextDecoder().decode(t);class Zoe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Xoe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return V6(this,e)}}class eae{constructor(e){this.decoders=e}or(e){return V6(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const V6=(t,e)=>new eae({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class tae{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Zoe(e,n,r),this.decoder=new Xoe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const sb=({name:t,prefix:e,encode:n,decode:r})=>new tae(t,e,n,r),Dm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Koe(n,e);return sb({prefix:t,name:e,encode:r,decode:i=>Yoe(s(i))})},nae=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},rae=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},fr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>sb({prefix:e,name:t,encode(s){return rae(s,r,n)},decode(s){return nae(s,r,n,t)}}),sae=sb({prefix:"\0",name:"identity",encode:t=>Joe(t),decode:t=>Qoe(t)}),iae=Object.freeze(Object.defineProperty({__proto__:null,identity:sae},Symbol.toStringTag,{value:"Module"})),oae=fr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),aae=Object.freeze(Object.defineProperty({__proto__:null,base2:oae},Symbol.toStringTag,{value:"Module"})),cae=fr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),lae=Object.freeze(Object.defineProperty({__proto__:null,base8:cae},Symbol.toStringTag,{value:"Module"})),uae=Dm({prefix:"9",name:"base10",alphabet:"0123456789"}),dae=Object.freeze(Object.defineProperty({__proto__:null,base10:uae},Symbol.toStringTag,{value:"Module"})),hae=fr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),fae=fr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),pae=Object.freeze(Object.defineProperty({__proto__:null,base16:hae,base16upper:fae},Symbol.toStringTag,{value:"Module"})),gae=fr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),mae=fr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),yae=fr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wae=fr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vae=fr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),bae=fr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),_ae=fr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Eae=fr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Cae=fr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),xae=Object.freeze(Object.defineProperty({__proto__:null,base32:gae,base32hex:vae,base32hexpad:_ae,base32hexpadupper:Eae,base32hexupper:bae,base32pad:yae,base32padupper:wae,base32upper:mae,base32z:Cae},Symbol.toStringTag,{value:"Module"})),Sae=Dm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Aae=Dm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Iae=Object.freeze(Object.defineProperty({__proto__:null,base36:Sae,base36upper:Aae},Symbol.toStringTag,{value:"Module"})),Tae=Dm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Nae=Dm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Pae=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Tae,base58flickr:Nae},Symbol.toStringTag,{value:"Module"})),kae=fr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Oae=fr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Rae=fr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),$ae=fr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Dae=Object.freeze(Object.defineProperty({__proto__:null,base64:kae,base64pad:Oae,base64url:Rae,base64urlpad:$ae},Symbol.toStringTag,{value:"Module"})),G6=Array.from(""),jae=G6.reduce((t,e,n)=>(t[n]=e,t),[]),Uae=G6.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Lae(t){return t.reduce((e,n)=>(e+=jae[n],e),"")}function Mae(t){const e=[];for(const n of t){const r=Uae[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Bae=sb({prefix:"",name:"base256emoji",encode:Lae,decode:Mae}),Fae=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Bae},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const XP={...iae,...aae,...lae,...dae,...pae,...xae,...Iae,...Pae,...Dae,...Fae};function K6(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const ek=K6("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),N_=K6("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=H6(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Y6={utf8:ek,"utf-8":ek,hex:XP.base16,latin1:N_,ascii:N_,binary:N_,...XP};function ai(t,e="utf8"){const n=Y6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?R2(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function _s(t,e="utf8"){const n=Y6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const zae={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},qae="Input must be an string, Buffer or Uint8Array";function Wae(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(qae);return e}function Hae(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function Wy(t){return(4294967296+t).toString(16).substring(1)}function Vae(t,e,n){let r=`
`+t+" = ";for(let s=0;s<e.length;s+=2){if(n===32)r+=Wy(e[s]).toUpperCase(),r+=" ",r+=Wy(e[s+1]).toUpperCase();else if(n===64)r+=Wy(e[s+1]).toUpperCase(),r+=Wy(e[s]).toUpperCase();else throw new Error("Invalid size "+n);s%6===4?r+=`
`+new Array(t.length+4).join(" "):s<e.length-2&&(r+=" ")}console.log(r)}function Gae(t,e,n){let r=new Date().getTime();const s=new Uint8Array(e);for(let o=0;o<e;o++)s[o]=o%256;const i=new Date().getTime();console.log("Generated random input in "+(i-r)+"ms"),r=i;for(let o=0;o<n;o++){const a=t(s),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var Q6={normalizeInput:Wae,toHex:Hae,debugPrint:Vae,testSpeed:Gae};const Uw=Q6;function Hy(t,e,n){const r=t[e]+t[n];let s=t[e+1]+t[n+1];r>=4294967296&&s++,t[e]=r,t[e+1]=s}function tk(t,e,n,r){let s=t[e]+n;n<0&&(s+=4294967296);let i=t[e+1]+r;s>=4294967296&&i++,t[e]=s,t[e+1]=i}function J6(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Ua(t,e,n,r,s,i){const o=sp[s],a=sp[s+1],c=sp[i],l=sp[i+1];Hy(et,t,e),tk(et,t,o,a);let u=et[r]^et[t],d=et[r+1]^et[t+1];et[r]=d,et[r+1]=u,Hy(et,n,r),u=et[e]^et[n],d=et[e+1]^et[n+1],et[e]=u>>>24^d<<8,et[e+1]=d>>>24^u<<8,Hy(et,t,e),tk(et,t,c,l),u=et[r]^et[t],d=et[r+1]^et[t+1],et[r]=u>>>16^d<<16,et[r+1]=d>>>16^u<<16,Hy(et,n,r),u=et[e]^et[n],d=et[e+1]^et[n+1],et[e]=d>>>31^u<<1,et[e+1]=u>>>31^d<<1}const Z6=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Kae=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],wr=new Uint8Array(Kae.map(function(t){return t*2})),et=new Uint32Array(32),sp=new Uint32Array(32);function X6(t,e){let n=0;for(n=0;n<16;n++)et[n]=t.h[n],et[n+16]=Z6[n];for(et[24]=et[24]^t.t,et[25]=et[25]^t.t/4294967296,e&&(et[28]=~et[28],et[29]=~et[29]),n=0;n<32;n++)sp[n]=J6(t.b,4*n);for(n=0;n<12;n++)Ua(0,8,16,24,wr[n*16+0],wr[n*16+1]),Ua(2,10,18,26,wr[n*16+2],wr[n*16+3]),Ua(4,12,20,28,wr[n*16+4],wr[n*16+5]),Ua(6,14,22,30,wr[n*16+6],wr[n*16+7]),Ua(0,10,20,30,wr[n*16+8],wr[n*16+9]),Ua(2,12,22,24,wr[n*16+10],wr[n*16+11]),Ua(4,14,16,26,wr[n*16+12],wr[n*16+13]),Ua(6,8,18,28,wr[n*16+14],wr[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^et[n]^et[n+16]}const La=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function e4(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};La.fill(0),La[0]=t,e&&(La[1]=e.length),La[2]=1,La[3]=1,n&&La.set(n,32),r&&La.set(r,48);for(let i=0;i<16;i++)s.h[i]=Z6[i]^J6(La,i*4);return e&&($2(s,e),s.c=128),s}function $2(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,X6(t,!1),t.c=0),t.b[t.c++]=e[n]}function t4(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;X6(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function n4(t,e,n,r,s){n=n||64,t=Uw.normalizeInput(t),r&&(r=Uw.normalizeInput(r)),s&&(s=Uw.normalizeInput(s));const i=e4(n,e,r,s);return $2(i,t),t4(i)}function Yae(t,e,n,r,s){const i=n4(t,e,n,r,s);return Uw.toHex(i)}var Qae={blake2b:n4,blake2bHex:Yae,blake2bInit:e4,blake2bUpdate:$2,blake2bFinal:t4};const r4=Q6;function Jae(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Ma(t,e,n,r,s,i){xt[t]=xt[t]+xt[e]+s,xt[r]=Vy(xt[r]^xt[t],16),xt[n]=xt[n]+xt[r],xt[e]=Vy(xt[e]^xt[n],12),xt[t]=xt[t]+xt[e]+i,xt[r]=Vy(xt[r]^xt[t],8),xt[n]=xt[n]+xt[r],xt[e]=Vy(xt[e]^xt[n],7)}function Vy(t,e){return t>>>e^t<<32-e}const s4=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vr=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),xt=new Uint32Array(16),Xn=new Uint32Array(16);function i4(t,e){let n=0;for(n=0;n<8;n++)xt[n]=t.h[n],xt[n+8]=s4[n];for(xt[12]^=t.t,xt[13]^=t.t/4294967296,e&&(xt[14]=~xt[14]),n=0;n<16;n++)Xn[n]=Jae(t.b,4*n);for(n=0;n<10;n++)Ma(0,4,8,12,Xn[vr[n*16+0]],Xn[vr[n*16+1]]),Ma(1,5,9,13,Xn[vr[n*16+2]],Xn[vr[n*16+3]]),Ma(2,6,10,14,Xn[vr[n*16+4]],Xn[vr[n*16+5]]),Ma(3,7,11,15,Xn[vr[n*16+6]],Xn[vr[n*16+7]]),Ma(0,5,10,15,Xn[vr[n*16+8]],Xn[vr[n*16+9]]),Ma(1,6,11,12,Xn[vr[n*16+10]],Xn[vr[n*16+11]]),Ma(2,7,8,13,Xn[vr[n*16+12]],Xn[vr[n*16+13]]),Ma(3,4,9,14,Xn[vr[n*16+14]],Xn[vr[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=xt[n]^xt[n+8]}function o4(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(s4),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(D2(r,e),r.c=64),r}function D2(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,i4(t,!1),t.c=0),t.b[t.c++]=e[n]}function a4(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;i4(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function c4(t,e,n){n=n||32,t=r4.normalizeInput(t);const r=o4(n,e);return D2(r,t),a4(r)}function Zae(t,e,n){const r=c4(t,e,n);return r4.toHex(r)}var Xae={blake2s:c4,blake2sHex:Zae,blake2sInit:o4,blake2sUpdate:D2,blake2sFinal:a4};const Df=Qae,jf=Xae;var ece={blake2b:Df.blake2b,blake2bHex:Df.blake2bHex,blake2bInit:Df.blake2bInit,blake2bUpdate:Df.blake2bUpdate,blake2bFinal:Df.blake2bFinal,blake2s:jf.blake2s,blake2sHex:jf.blake2sHex,blake2sInit:jf.blake2sInit,blake2sUpdate:jf.blake2sUpdate,blake2sFinal:jf.blake2sFinal},tce={};const nce=":";function Xd(t){const[e,n]=t.split(nce);return{namespace:e,reference:n}}function l4(t,e){return t.includes(":")?[t]:e.chains||[]}var rce=Object.defineProperty,sce=Object.defineProperties,ice=Object.getOwnPropertyDescriptors,nk=Object.getOwnPropertySymbols,oce=Object.prototype.hasOwnProperty,ace=Object.prototype.propertyIsEnumerable,rk=(t,e,n)=>e in t?rce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sk=(t,e)=>{for(var n in e||(e={}))oce.call(e,n)&&rk(t,n,e[n]);if(nk)for(var n of nk(e))ace.call(e,n)&&rk(t,n,e[n]);return t},cce=(t,e)=>sce(t,ice(e));const lce="ReactNative",Ds={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},uce="js";function B0(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function cl(){return!_u()&&!!N2()&&navigator.product===lce}function dce(){return cl()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function hce(){return cl()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function ef(){return!B0()&&!!N2()&&!!_u()}function jm(){return cl()?Ds.reactNative:B0()?Ds.node:ef()?Ds.browser:Ds.unknown}function ik(){var t;try{return cl()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function fce(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function pce(t){var e,n;const r=u4();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),cce(sk(sk({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function u4(){return T6()||{name:"",description:"",url:"",icons:[""]}}function gce(){if(jm()===Ds.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=vie();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function mce(){var t;const e=jm();return e===Ds.browser?[e,((t=I6())==null?void 0:t.host)||"unknown"].join(":"):e}function d4(t,e,n){const r=gce(),s=mce();return[[t,e].join("-"),[uce,n].join("-"),r,s].join("/")}function yce({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=d4(t,e,r),d={auth:s,ua:u,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=fce(l[1]||"",d);return l[0]+"?"+h}function Ll(t,e){return t.filter(n=>e.includes(n)).length===t.length}function kx(t){return Object.fromEntries(t.entries())}function Ox(t){return new Map(Object.entries(t))}function Sl(t=pe.FIVE_MINUTES,e){const n=pe.toMiliseconds(t||pe.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function Sc(t,e,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),e);try{const o=await t;r(o)}catch(o){s(o)}clearTimeout(i)})}function h4(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function wce(t){return h4("topic",t)}function vce(t){return h4("id",t)}function f4(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Rn(t,e){return pe.fromMiliseconds(Date.now()+pe.toMiliseconds(t))}function ec(t){return Date.now()>=pe.toMiliseconds(t)}function Nt(t,e){return`${t}${e?`:${e}`:""}`}function xo(t=[],e=[]){return[...new Set([...t,...e])]}async function bce({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=_ce(i,t,e),a=jm();if(a===Ds.browser){if(!((r=_u())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Ece(o)}else a===Ds.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function _ce(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${Ace(r,!0)}`}else s=`${s}/wc?${r}`;return s}function Ece(t){let e="_self";Sce()?e="_top":(xce()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Cce(t,e){let n="";try{if(ef()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function ok(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function ak(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function j2(){return typeof process<"u"&&tce.IS_VITEST==="true"}function xce(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Sce(){try{return window.self!==window.top}catch{return!1}}function Ace(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function p4(t){return Buffer.from(t,"base64").toString("utf-8")}function Ice(t){return new Promise(e=>setTimeout(e,t))}const Gy=BigInt(2**32-1),ck=BigInt(32);function g4(t,e=!1){return e?{h:Number(t&Gy),l:Number(t>>ck&Gy)}:{h:Number(t>>ck&Gy)|0,l:Number(t&Gy)|0}}function m4(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=g4(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const lk=(t,e,n)=>t>>>n,uk=(t,e,n)=>t<<32-n|e>>>n,tc=(t,e,n)=>t>>>n|e<<32-n,nc=(t,e,n)=>t<<32-n|e>>>n,ip=(t,e,n)=>t<<64-n|e>>>n-32,op=(t,e,n)=>t>>>n-32|e<<64-n,Tce=(t,e)=>e,Nce=(t,e)=>t,Pce=(t,e,n)=>t<<n|e>>>32-n,kce=(t,e,n)=>e<<n|t>>>32-n,Oce=(t,e,n)=>e<<n-32|t>>>64-n,Rce=(t,e,n)=>t<<n-32|e>>>64-n;function Ii(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const U2=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),L2=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,$ce=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Dce=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,jce=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Uce=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,rd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function M2(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ea(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function di(t,...e){if(!M2(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function B2(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ea(t.outputLen),Ea(t.blockLen)}function el(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function F2(t,e){di(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Mg(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function hi(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function P_(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function no(t,e){return t<<32-e|t>>>e}const y4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function w4(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Go=y4?t=>t:t=>w4(t);function Lce(t){for(let e=0;e<t.length;e++)t[e]=w4(t[e]);return t}const rc=y4?t=>t:Lce,v4=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Mce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Bg(t){if(di(t),v4)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Mce[t[n]];return e}const qo={_0:48,_9:57,A:65,F:70,a:97,f:102};function dk(t){if(t>=qo._0&&t<=qo._9)return t-qo._0;if(t>=qo.A&&t<=qo.F)return t-(qo.A-10);if(t>=qo.a&&t<=qo.f)return t-(qo.a-10)}function z2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(v4)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=dk(t.charCodeAt(i)),a=dk(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Bce(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function zi(t){return typeof t=="string"&&(t=Bce(t)),di(t),t}function Ml(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];di(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let ib=class{};function Um(t){const e=r=>t().update(zi(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Fce(t){const e=(r,s)=>t(s).update(zi(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function tf(t=32){if(rd&&typeof rd.getRandomValues=="function")return rd.getRandomValues(new Uint8Array(t));if(rd&&typeof rd.randomBytes=="function")return Uint8Array.from(rd.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const zce=BigInt(0),Uf=BigInt(1),qce=BigInt(2),Wce=BigInt(7),Hce=BigInt(256),Vce=BigInt(113),b4=[],_4=[],E4=[];for(let t=0,e=Uf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],b4.push(2*(5*r+n)),_4.push((t+1)*(t+2)/2%64);let s=zce;for(let i=0;i<7;i++)e=(e<<Uf^(e>>Wce)*Vce)%Hce,e&qce&&(s^=Uf<<(Uf<<BigInt(i))-Uf);E4.push(s)}const C4=m4(E4,!0),Gce=C4[0],Kce=C4[1],hk=(t,e,n)=>n>32?Oce(t,e,n):Pce(t,e,n),fk=(t,e,n)=>n>32?Rce(t,e,n):kce(t,e,n);function Yce(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=hk(l,u,1)^n[a],h=fk(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=_4[o],c=hk(s,i,a),l=fk(s,i,a),u=b4[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Gce[r],t[1]^=Kce[r]}hi(n)}let Qce=class x4 extends ib{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Ea(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Mg(this.state)}clone(){return this._cloneInto()}keccak(){rc(this.state32),Yce(this.state32,this.rounds),rc(this.state32),this.posOut=0,this.pos=0}update(e){el(this),e=zi(e),di(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){el(this,!1),di(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ea(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(F2(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,hi(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new x4(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Jce=(t,e,n)=>Um(()=>new Qce(e,t,n)),Zce=Jce(1,136,256/8);function Xce(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function ele(t,e,n){return t&e^~t&n}function tle(t,e,n){return t&e^t&n^e&n}let S4=class extends ib{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=P_(this.buffer)}update(e){el(this),e=zi(e),di(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=P_(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){el(this),F2(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,hi(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Xce(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=P_(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Ba=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),br=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),_r=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),nle=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Fa=new Uint32Array(64);let rle=class extends S4{constructor(e=32){super(64,e,8,!1),this.A=Ba[0]|0,this.B=Ba[1]|0,this.C=Ba[2]|0,this.D=Ba[3]|0,this.E=Ba[4]|0,this.F=Ba[5]|0,this.G=Ba[6]|0,this.H=Ba[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Fa[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Fa[d-15],f=Fa[d-2],p=no(h,7)^no(h,18)^h>>>3,m=no(f,17)^no(f,19)^f>>>10;Fa[d]=m+Fa[d-7]+p+Fa[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=no(a,6)^no(a,11)^no(a,25),f=u+h+ele(a,c,l)+nle[d]+Fa[d]|0,p=(no(r,2)^no(r,13)^no(r,22))+tle(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){hi(Fa)}destroy(){this.set(0,0,0,0,0,0,0,0),hi(this.buffer)}};const A4=m4(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),sle=A4[0],ile=A4[1],za=new Uint32Array(80),qa=new Uint32Array(80);let q2=class extends S4{constructor(e=64){super(128,e,16,!1),this.Ah=_r[0]|0,this.Al=_r[1]|0,this.Bh=_r[2]|0,this.Bl=_r[3]|0,this.Ch=_r[4]|0,this.Cl=_r[5]|0,this.Dh=_r[6]|0,this.Dl=_r[7]|0,this.Eh=_r[8]|0,this.El=_r[9]|0,this.Fh=_r[10]|0,this.Fl=_r[11]|0,this.Gh=_r[12]|0,this.Gl=_r[13]|0,this.Hh=_r[14]|0,this.Hl=_r[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:w}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,m,w]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,m,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=w|0}process(e,n){for(let v=0;v<16;v++,n+=4)za[v]=e.getUint32(n),qa[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const E=za[v-15]|0,_=qa[v-15]|0,x=tc(E,_,1)^tc(E,_,8)^lk(E,_,7),S=nc(E,_,1)^nc(E,_,8)^uk(E,_,7),A=za[v-2]|0,C=qa[v-2]|0,k=tc(A,C,19)^ip(A,C,61)^lk(A,C,6),O=nc(A,C,19)^op(A,C,61)^uk(A,C,6),B=$ce(S,O,qa[v-7],qa[v-16]),F=Dce(B,x,k,za[v-7],za[v-16]);za[v]=F|0,qa[v]=B|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:w,Hh:y,Hl:b}=this;for(let v=0;v<80;v++){const E=tc(d,h,14)^tc(d,h,18)^ip(d,h,41),_=nc(d,h,14)^nc(d,h,18)^op(d,h,41),x=d&f^~d&m,S=h&p^~h&w,A=jce(b,_,S,ile[v],qa[v]),C=Uce(A,y,E,x,sle[v],za[v]),k=A|0,O=tc(r,s,28)^ip(r,s,34)^ip(r,s,39),B=nc(r,s,28)^op(r,s,34)^op(r,s,39),F=r&i^r&a^i&a,V=s&o^s&c^o&c;y=m|0,b=w|0,m=f|0,w=p|0,f=d|0,p=h|0,{h:d,l:h}=Ii(l|0,u|0,C|0,k|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const I=U2(k,B,V);r=L2(I,C,O,F),s=I|0}({h:r,l:s}=Ii(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Ii(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Ii(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Ii(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=Ii(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=Ii(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:w}=Ii(this.Gh|0,this.Gl|0,m|0,w|0),{h:y,l:b}=Ii(this.Hh|0,this.Hl|0,y|0,b|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,m,w,y,b)}roundClean(){hi(za,qa)}destroy(){hi(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},ole=class extends q2{constructor(){super(48),this.Ah=br[0]|0,this.Al=br[1]|0,this.Bh=br[2]|0,this.Bl=br[3]|0,this.Ch=br[4]|0,this.Cl=br[5]|0,this.Dh=br[6]|0,this.Dl=br[7]|0,this.Eh=br[8]|0,this.El=br[9]|0,this.Fh=br[10]|0,this.Fl=br[11]|0,this.Gh=br[12]|0,this.Gl=br[13]|0,this.Hh=br[14]|0,this.Hl=br[15]|0}};const Er=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let ale=class extends q2{constructor(){super(32),this.Ah=Er[0]|0,this.Al=Er[1]|0,this.Bh=Er[2]|0,this.Bl=Er[3]|0,this.Ch=Er[4]|0,this.Cl=Er[5]|0,this.Dh=Er[6]|0,this.Dl=Er[7]|0,this.Eh=Er[8]|0,this.El=Er[9]|0,this.Fh=Er[10]|0,this.Fl=Er[11]|0,this.Gh=Er[12]|0,this.Gl=Er[13]|0,this.Hh=Er[14]|0,this.Hl=Er[15]|0}};const ob=Um(()=>new rle),cle=Um(()=>new q2),lle=Um(()=>new ole),ule=Um(()=>new ale),dle=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),On=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Se=new Uint32Array(32);function Wa(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=Se[2*t],l=Se[2*t+1],u=Se[2*e],d=Se[2*e+1],h=Se[2*n],f=Se[2*n+1],p=Se[2*r],m=Se[2*r+1],w=U2(c,u,o);l=L2(w,l,d,a),c=w|0,{Dh:m,Dl:p}={Dh:m^l,Dl:p^c},{Dh:m,Dl:p}={Dh:Tce(m,p),Dl:Nce(m)},{h:f,l:h}=Ii(f,h,m,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:tc(d,u,24),Bl:nc(d,u,24)},Se[2*t]=c,Se[2*t+1]=l,Se[2*e]=u,Se[2*e+1]=d,Se[2*n]=h,Se[2*n+1]=f,Se[2*r]=p,Se[2*r+1]=m}function Ha(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=Se[2*t],l=Se[2*t+1],u=Se[2*e],d=Se[2*e+1],h=Se[2*n],f=Se[2*n+1],p=Se[2*r],m=Se[2*r+1],w=U2(c,u,o);l=L2(w,l,d,a),c=w|0,{Dh:m,Dl:p}={Dh:m^l,Dl:p^c},{Dh:m,Dl:p}={Dh:tc(m,p,16),Dl:nc(m,p,16)},{h:f,l:h}=Ii(f,h,m,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:ip(d,u,63),Bl:op(d,u,63)},Se[2*t]=c,Se[2*t+1]=l,Se[2*e]=u,Se[2*e+1]=d,Se[2*n]=h,Se[2*n+1]=f,Se[2*r]=p,Se[2*r+1]=m}function hle(t,e={},n,r,s){if(Ea(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class fle extends ib{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Ea(e),Ea(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=Mg(this.buffer)}update(e){el(this),e=zi(e),di(e);const{blockLen:n,buffer:r,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===n&&(rc(s),this.compress(s,0,!1),rc(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const d=new Uint32Array(a,u,Math.floor((i-c)/4));rc(d);for(let h=0;c+n<i;h+=s.length,c+=n)this.length+=n,this.compress(d,h,!1);rc(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){el(this),F2(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,hi(this.buffer.subarray(n)),rc(r),this.compress(r,0,!0),rc(r);const s=Mg(e);this.get().forEach((i,o)=>s[o]=Go(i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=i,e.finished=s,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class ple extends fle{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=On[0]|0,this.v0h=On[1]|0,this.v1l=On[2]|0,this.v1h=On[3]|0,this.v2l=On[4]|0,this.v2h=On[5]|0,this.v3l=On[6]|0,this.v3h=On[7]|0,this.v4l=On[8]|0,this.v4h=On[9]|0,this.v5l=On[10]|0,this.v5h=On[11]|0,this.v6l=On[12]|0,this.v6h=On[13]|0,this.v7l=On[14]|0,this.v7h=On[15]|0,hle(n,e,64,16,16);let{key:r,personalization:s,salt:i}=e,o=0;if(r!==void 0&&(r=zi(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=zi(i);const a=Mg(i);this.v4l^=Go(a[0]),this.v4h^=Go(a[1]),this.v5l^=Go(a[2]),this.v5h^=Go(a[3])}if(s!==void 0){s=zi(s);const a=Mg(s);this.v6l^=Go(a[0]),this.v6h^=Go(a[1]),this.v7l^=Go(a[2]),this.v7h^=Go(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:p,v7l:m,v7h:w}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,m,w]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,m,w){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=p|0,this.v7l=m|0,this.v7h=w|0}compress(e,n,r){this.get().forEach((c,l)=>Se[l]=c),Se.set(On,16);let{h:s,l:i}=g4(BigInt(this.length));Se[24]=On[8]^i,Se[25]=On[9]^s,r&&(Se[28]=~Se[28],Se[29]=~Se[29]);let o=0;const a=dle;for(let c=0;c<12;c++)Wa(0,4,8,12,e,n+2*a[o++]),Ha(0,4,8,12,e,n+2*a[o++]),Wa(1,5,9,13,e,n+2*a[o++]),Ha(1,5,9,13,e,n+2*a[o++]),Wa(2,6,10,14,e,n+2*a[o++]),Ha(2,6,10,14,e,n+2*a[o++]),Wa(3,7,11,15,e,n+2*a[o++]),Ha(3,7,11,15,e,n+2*a[o++]),Wa(0,5,10,15,e,n+2*a[o++]),Ha(0,5,10,15,e,n+2*a[o++]),Wa(1,6,11,12,e,n+2*a[o++]),Ha(1,6,11,12,e,n+2*a[o++]),Wa(2,7,8,13,e,n+2*a[o++]),Ha(2,7,8,13,e,n+2*a[o++]),Wa(3,4,9,14,e,n+2*a[o++]),Ha(3,4,9,14,e,n+2*a[o++]);this.v0l^=Se[0]^Se[16],this.v0h^=Se[1]^Se[17],this.v1l^=Se[2]^Se[18],this.v1h^=Se[3]^Se[19],this.v2l^=Se[4]^Se[20],this.v2h^=Se[5]^Se[21],this.v3l^=Se[6]^Se[22],this.v3h^=Se[7]^Se[23],this.v4l^=Se[8]^Se[24],this.v4h^=Se[9]^Se[25],this.v5l^=Se[10]^Se[26],this.v5h^=Se[11]^Se[27],this.v6l^=Se[12]^Se[28],this.v6h^=Se[13]^Se[29],this.v7l^=Se[14]^Se[30],this.v7h^=Se[15]^Se[31],hi(Se)}destroy(){this.destroyed=!0,hi(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const gle=Fce(t=>new ple(t)),mle="https://rpc.walletconnect.org/v1";function I4(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Zce(n)).toString("hex")}async function yle(t,e,n,r,s,i){switch(n.t){case"eip191":return await wle(t,e,n.s);case"eip1271":return await vle(t,e,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function wle(t,e,n){return(await Xie({hash:I4(e),signature:n})).toLowerCase()===t.toLowerCase()}async function vle(t,e,n,r,s,i){const o=Xd(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:I4(e)).substring(2),h=a+d+c+u+l,f=await fetch(`${i||mle}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:ble(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function ble(){return Date.now()+Math.floor(Math.random()*1e3)}function _le(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return Xh.encode(i)}function Ele(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const s=gle(r,{dkLen:32});return Xh.encode(s)}function pk(t){const e=new Uint8Array(ob(Cle(t)));return Xh.encode(e)}function Cle(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function gk(t){const e=Buffer.from(t,"base64"),n=Uoe(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=Toe(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=ule(i);return Hoe.encode(o).replace(/=+$/,"")}function k_(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function xle(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(k_(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(k_(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(k_(r.length)),s.push(r);const i=Buffer.concat(s),o=ob(i);return Buffer.from(o).toString("hex").toUpperCase()}var Sle=Object.defineProperty,Ale=Object.defineProperties,Ile=Object.getOwnPropertyDescriptors,mk=Object.getOwnPropertySymbols,Tle=Object.prototype.hasOwnProperty,Nle=Object.prototype.propertyIsEnumerable,yk=(t,e,n)=>e in t?Sle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ple=(t,e)=>{for(var n in e||(e={}))Tle.call(e,n)&&yk(t,n,e[n]);if(mk)for(var n of mk(e))Nle.call(e,n)&&yk(t,n,e[n]);return t},kle=(t,e)=>Ale(t,Ile(e));const Ole="did:pkh:",W2=t=>t==null?void 0:t.split(":"),Rle=t=>{const e=t&&W2(t);if(e)return t.includes(Ole)?e[3]:e[1]},Rx=t=>{const e=t&&W2(t);if(e)return e[2]+":"+e[3]},F0=t=>{const e=t&&W2(t);if(e)return e.pop()};async function wk(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,i=T4(s,s.iss),o=F0(s.iss);return await yle(o,i,r,Rx(s.iss),n)}const T4=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=F0(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Rle(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,p=Lw(t.resources);if(p){const m=Fg(p);s=zle(s,m)}return[n,r,"",s,"",i,o,a,c,l,u,d,h,f].filter(m=>m!=null).join(`
`)};function $le(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Dle(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Cu(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function jle(t,e,n,r={}){return n==null||n.sort((s,i)=>s.localeCompare(i)),{att:{[t]:Ule(e,n,r)}}}function Ule(t,e,n={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function N4(t){return Cu(t),`urn:recap:${$le(t).replace(/=/g,"")}`}function Fg(t){const e=Dle(t.replace("urn:recap:",""));return Cu(e),e}function Lle(t,e,n){const r=jle(t,e,n);return N4(r)}function Mle(t){return t&&t.includes("urn:recap:")}function Ble(t,e){const n=Fg(t),r=Fg(e),s=Fle(n,r);return N4(s)}function Fle(t,e){Cu(t),Cu(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=kle(Ple({},r.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),r}function zle(t="",e){Cu(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${t?t+" ":""}${o}`}function vk(t){var e;const n=Fg(t);Cu(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function bk(t){const e=Fg(t);Cu(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function Lw(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return Mle(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function P4(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $x(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function O_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function hs(t,...e){if(!P4(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function _k(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function qle(t,e){hs(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function zc(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ph(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Wle(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Hle=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Vle(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Dx(t){if(typeof t=="string")t=Vle(t);else if(P4(t))t=jx(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Gle(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Kle(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Yle=(t,e)=>{function n(r,...s){if(hs(r),!Hle)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?hs(l):hs(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&hs(s[1]);const o=e(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");hs(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,hs(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(hs(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function Ek(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Jle(e))throw new Error("invalid output, must be aligned");return e}function Ck(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function Qle(t,e,n){$x(n);const r=new Uint8Array(16),s=Wle(r);return Ck(s,0,BigInt(e),n),Ck(s,8,BigInt(t),n),r}function Jle(t){return t.byteOffset%4===0}function jx(t){return Uint8Array.from(t)}const k4=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Zle=k4("expand 16-byte k"),Xle=k4("expand 32-byte k"),eue=zc(Zle),tue=zc(Xle);function Et(t,e){return t<<e|t>>>32-e}function Ux(t){return t.byteOffset%4===0}const Ky=64,nue=16,O4=2**32-1,xk=new Uint32Array;function rue(t,e,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(Ky),u=zc(l),d=Ux(s)&&Ux(i),h=d?zc(s):xk,f=d?zc(i):xk;for(let p=0;p<c;o++){if(t(e,n,r,u,o,a),o>=O4)throw new Error("arx: counter overflow");const m=Math.min(Ky,c-p);if(d&&m===Ky){const w=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let y=0,b;y<nue;y++)b=w+y,f[b]=h[b]^u[y];p+=Ky;continue}for(let w=0,y;w<m;w++)y=p+w,i[y]=s[y]^l[w];p+=m}}function sue(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=Gle({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return O_(s),O_(o),$x(i),$x(n),(a,c,l,u,d=0)=>{hs(a),hs(c),hs(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),hs(u),O_(d),d<0||d>=O4)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,m,w;if(p===32)f.push(m=jx(a)),w=tue;else if(p===16&&n)m=new Uint8Array(32),m.set(a),m.set(a,16),w=eue,f.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);Ux(c)||f.push(c=jx(c));const y=zc(m);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(w,y,zc(c.subarray(0,16)),y),c=c.subarray(16)}const b=16-s;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const E=new Uint8Array(12);E.set(c,i?0:12-c.length),c=E,f.push(c)}const v=zc(c);return rue(t,w,y,v,l,u,d,o),Ph(...f),u}}const er=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class iue{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Dx(e),hs(e,32);const n=er(e,0),r=er(e,2),s=er(e,4),i=er(e,6),o=er(e,8),a=er(e,10),c=er(e,12),l=er(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=er(e,16+2*u)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],m=o[8],w=o[9],y=er(e,n+0),b=er(e,n+2),v=er(e,n+4),E=er(e,n+6),_=er(e,n+8),x=er(e,n+10),S=er(e,n+12),A=er(e,n+14);let C=i[0]+(y&8191),k=i[1]+((y>>>13|b<<3)&8191),O=i[2]+((b>>>10|v<<6)&8191),B=i[3]+((v>>>7|E<<9)&8191),F=i[4]+((E>>>4|_<<12)&8191),V=i[5]+(_>>>1&8191),I=i[6]+((_>>>14|x<<2)&8191),N=i[7]+((x>>>11|S<<5)&8191),L=i[8]+((S>>>8|A<<8)&8191),D=i[9]+(A>>>5|s),$=0,j=$+C*a+k*(5*w)+O*(5*m)+B*(5*p)+F*(5*f);$=j>>>13,j&=8191,j+=V*(5*h)+I*(5*d)+N*(5*u)+L*(5*l)+D*(5*c),$+=j>>>13,j&=8191;let q=$+C*c+k*a+O*(5*w)+B*(5*m)+F*(5*p);$=q>>>13,q&=8191,q+=V*(5*f)+I*(5*h)+N*(5*d)+L*(5*u)+D*(5*l),$+=q>>>13,q&=8191;let J=$+C*l+k*c+O*a+B*(5*w)+F*(5*m);$=J>>>13,J&=8191,J+=V*(5*p)+I*(5*f)+N*(5*h)+L*(5*d)+D*(5*u),$+=J>>>13,J&=8191;let se=$+C*u+k*l+O*c+B*a+F*(5*w);$=se>>>13,se&=8191,se+=V*(5*m)+I*(5*p)+N*(5*f)+L*(5*h)+D*(5*d),$+=se>>>13,se&=8191;let ne=$+C*d+k*u+O*l+B*c+F*a;$=ne>>>13,ne&=8191,ne+=V*(5*w)+I*(5*m)+N*(5*p)+L*(5*f)+D*(5*h),$+=ne>>>13,ne&=8191;let ie=$+C*h+k*d+O*u+B*l+F*c;$=ie>>>13,ie&=8191,ie+=V*a+I*(5*w)+N*(5*m)+L*(5*p)+D*(5*f),$+=ie>>>13,ie&=8191;let ye=$+C*f+k*h+O*d+B*u+F*l;$=ye>>>13,ye&=8191,ye+=V*c+I*a+N*(5*w)+L*(5*m)+D*(5*p),$+=ye>>>13,ye&=8191;let Y=$+C*p+k*f+O*h+B*d+F*u;$=Y>>>13,Y&=8191,Y+=V*l+I*c+N*a+L*(5*w)+D*(5*m),$+=Y>>>13,Y&=8191;let Z=$+C*m+k*p+O*f+B*h+F*d;$=Z>>>13,Z&=8191,Z+=V*u+I*l+N*c+L*a+D*(5*w),$+=Z>>>13,Z&=8191;let oe=$+C*w+k*m+O*p+B*f+F*h;$=oe>>>13,oe&=8191,oe+=V*d+I*u+N*l+L*c+D*a,$+=oe>>>13,oe&=8191,$=($<<2)+$|0,$=$+j|0,j=$&8191,$=$>>>13,q+=$,i[0]=j,i[1]=q,i[2]=J,i[3]=se,i[4]=ne,i[5]=ie,i[6]=ye,i[7]=Y,i[8]=Z,i[9]=oe}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Ph(r)}update(e){_k(this),e=Dx(e),hs(e);const{buffer:n,blockLen:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Ph(this.h,this.r,this.buffer,this.pad)}digestInto(e){_k(this),qle(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function oue(t){const e=(r,s)=>t(s).update(Dx(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const aue=oue(t=>new iue(t));function cue(t,e,n,r,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],m=e[5],w=e[6],y=e[7],b=s,v=n[0],E=n[1],_=n[2],x=o,S=a,A=c,C=l,k=u,O=d,B=h,F=f,V=p,I=m,N=w,L=y,D=b,$=v,j=E,q=_;for(let se=0;se<i;se+=2)x=x+k|0,D=Et(D^x,16),V=V+D|0,k=Et(k^V,12),x=x+k|0,D=Et(D^x,8),V=V+D|0,k=Et(k^V,7),S=S+O|0,$=Et($^S,16),I=I+$|0,O=Et(O^I,12),S=S+O|0,$=Et($^S,8),I=I+$|0,O=Et(O^I,7),A=A+B|0,j=Et(j^A,16),N=N+j|0,B=Et(B^N,12),A=A+B|0,j=Et(j^A,8),N=N+j|0,B=Et(B^N,7),C=C+F|0,q=Et(q^C,16),L=L+q|0,F=Et(F^L,12),C=C+F|0,q=Et(q^C,8),L=L+q|0,F=Et(F^L,7),x=x+O|0,q=Et(q^x,16),N=N+q|0,O=Et(O^N,12),x=x+O|0,q=Et(q^x,8),N=N+q|0,O=Et(O^N,7),S=S+B|0,D=Et(D^S,16),L=L+D|0,B=Et(B^L,12),S=S+B|0,D=Et(D^S,8),L=L+D|0,B=Et(B^L,7),A=A+F|0,$=Et($^A,16),V=V+$|0,F=Et(F^V,12),A=A+F|0,$=Et($^A,8),V=V+$|0,F=Et(F^V,7),C=C+k|0,j=Et(j^C,16),I=I+j|0,k=Et(k^I,12),C=C+k|0,j=Et(j^C,8),I=I+j|0,k=Et(k^I,7);let J=0;r[J++]=o+x|0,r[J++]=a+S|0,r[J++]=c+A|0,r[J++]=l+C|0,r[J++]=u+k|0,r[J++]=d+O|0,r[J++]=h+B|0,r[J++]=f+F|0,r[J++]=p+V|0,r[J++]=m+I|0,r[J++]=w+N|0,r[J++]=y+L|0,r[J++]=b+D|0,r[J++]=v+$|0,r[J++]=E+j|0,r[J++]=_+q|0}const lue=sue(cue,{counterRight:!1,counterLength:4,allowShortKeys:!1}),uue=new Uint8Array(16),Sk=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(uue.subarray(n))},due=new Uint8Array(32);function Ak(t,e,n,r,s){const i=t(e,n,due),o=aue.create(i);s&&Sk(o,s),Sk(o,r);const a=Qle(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return Ph(i,a),c}const hue=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=Ek(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const c=Ak(t,e,n,a,r);return i.set(c,o),Ph(c),i},decrypt(s,i){i=Ek(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=Ak(t,e,n,o,r);if(!Kle(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),Ph(c),i}}),R4=Yle({blockSize:64,nonceLength:12,tagLength:16},hue(lue));let $4=class extends ib{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,B2(e);const r=zi(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),hi(i)}update(e){return el(this),this.iHash.update(e),this}digestInto(e){el(this),di(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ab=(t,e,n)=>new $4(t,e).update(n).digest();ab.create=(t,e)=>new $4(t,e);function fue(t,e,n){return B2(t),n===void 0&&(n=new Uint8Array(t.outputLen)),ab(t,zi(n),zi(e))}const R_=Uint8Array.from([0]),Ik=Uint8Array.of();function pue(t,e,n,r=32){B2(t),Ea(r);const s=t.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=Ik);const o=new Uint8Array(i*s),a=ab.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)R_[0]=u+1,c.update(u===0?Ik:l).update(n).update(R_).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),hi(l,R_),o.slice(0,r)}const gue=(t,e,n,r,s)=>pue(t,fue(t,e,n),r,s),cb=ob,H2=BigInt(0),Lx=BigInt(1);function z0(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Yy(t){const e=t.toString(16);return e.length&1?"0"+e:e}function D4(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?H2:BigInt("0x"+t)}function lb(t){return D4(Bg(t))}function q0(t){return di(t),D4(Bg(Uint8Array.from(t).reverse()))}function V2(t,e){return z2(t.toString(16).padStart(e*2,"0"))}function G2(t,e){return V2(t,e).reverse()}function ds(t,e,n){let r;if(typeof e=="string")try{r=z2(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(M2(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const $_=t=>typeof t=="bigint"&&H2<=t;function mue(t,e,n){return $_(t)&&$_(e)&&$_(n)&&e<=t&&t<n}function Mx(t,e,n,r){if(!mue(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function yue(t){let e;for(e=0;t>H2;t>>=Lx,e+=1);return e}const ub=t=>(Lx<<BigInt(t))-Lx;function wue(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let i=r(t),o=r(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...h)=>n(o,i,...h),u=(h=r(0))=>{o=l(s(0),h),i=l(),h.length!==0&&(o=l(s(1),h),i=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){i=l();const p=i.slice();f.push(p),h+=i.length}return Ml(...f)};return(h,f)=>{c(),u(h);let p;for(;!(p=f(d()));)u();return c(),p}}function db(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function Tk(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const ms=BigInt(0),Mr=BigInt(1),Bl=BigInt(2),vue=BigInt(3),j4=BigInt(4),U4=BigInt(5),L4=BigInt(8);function ri(t,e){const n=t%e;return n>=ms?n:e+n}function xi(t,e,n){let r=t;for(;e-- >ms;)r*=r,r%=n;return r}function Nk(t,e){if(t===ms)throw new Error("invert: expected non-zero number");if(e<=ms)throw new Error("invert: expected positive modulus, got "+e);let n=ri(t,e),r=e,s=ms,i=Mr;for(;n!==ms;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==Mr)throw new Error("invert: does not exist");return ri(s,e)}function M4(t,e){const n=(t.ORDER+Mr)/j4,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function bue(t,e){const n=(t.ORDER-U4)/L4,r=t.mul(e,Bl),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,Bl),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function _ue(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Mr,n=0;for(;e%Bl===ms;)e/=Bl,n++;let r=Bl;const s=nf(t);for(;Pk(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return M4;let i=s.pow(r,e);const o=(e+Mr)/Bl;return function(a,c){if(a.is0(c))return c;if(Pk(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),d=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(f++,p=a.sqr(p),f===l)throw new Error("Cannot find square root");const m=Mr<<BigInt(l-f-1),w=a.pow(u,m);l=f,u=a.sqr(w),d=a.mul(d,u),h=a.mul(h,w)}return h}}function Eue(t){return t%j4===vue?M4:t%L4===U4?bue:_ue(t)}const Cue=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function xue(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Cue.reduce((r,s)=>(r[s]="function",r),e);return db(t,n),t}function Sue(t,e,n){if(n<ms)throw new Error("invalid exponent, negatives unsupported");if(n===ms)return t.ONE;if(n===Mr)return e;let r=t.ONE,s=e;for(;n>ms;)n&Mr&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Mr;return r}function B4(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function Pk(t,e){const n=(t.ORDER-Mr)/Bl,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Aue(t,e){e!==void 0&&Ea(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function nf(t,e,n=!1,r={}){if(t<=ms)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(s=u.BITS),u.sqrt&&(i=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:a}=Aue(t,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:ub(o),ZERO:ms,ONE:Mr,create:u=>ri(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return ms<=u&&u<t},is0:u=>u===ms,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&Mr)===Mr,neg:u=>ri(-u,t),eql:(u,d)=>u===d,sqr:u=>ri(u*u,t),add:(u,d)=>ri(u+d,t),sub:(u,d)=>ri(u-d,t),mul:(u,d)=>ri(u*d,t),pow:(u,d)=>Sue(l,u,d),div:(u,d)=>ri(u*Nk(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>Nk(u,t),sqrt:i||(u=>(c||(c=Eue(t)),c(l,u))),toBytes:u=>n?G2(u,a):V2(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?q0(u):lb(u)},invertBatch:u=>B4(l,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(l)}function F4(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function z4(t){const e=F4(t);return e+Math.ceil(e/2)}function Iue(t,e,n=!1){const r=t.length,s=F4(e),i=z4(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?q0(t):lb(t),a=ri(o,e-Mr)+Mr;return n?G2(a,s):V2(a,s)}const kh=BigInt(0),Fl=BigInt(1);function Ip(t,e){const n=e.negate();return t?n:e}function Tue(t,e,n){const r=i=>i.pz,s=B4(t.Fp,n.map(r));return n.map((i,o)=>i.toAffine(s[o])).map(t.fromAffine)}function q4(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function D_(t,e){q4(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=ub(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function kk(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=Fl);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function Nue(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Pue(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const j_=new WeakMap,W4=new WeakMap;function U_(t){return W4.get(t)||1}function Ok(t){if(t!==kh)throw new Error("invalid wNAF")}function kue(t,e){return{constTimeNegate:Ip,hasPrecomputes(n){return U_(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>kh;)r&Fl&&(s=s.add(i)),i=i.double(),r>>=Fl;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=D_(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=D_(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=kk(s,c,a);s=l,d?o=o.add(Ip(f,r[p])):i=i.add(Ip(h,r[u]))}return Ok(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=D_(n,e);for(let a=0;a<o.windows&&s!==kh;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=kk(s,a,o);if(s=c,!u){const h=r[l];i=i.add(d?h.negate():h)}}return Ok(s),i},getPrecomputes(n,r,s){let i=j_.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),j_.set(r,i))),i},wNAFCached(n,r,s){const i=U_(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=U_(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){q4(r,e),W4.set(n,r),j_.delete(n)}}}function Oue(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>kh||r>kh;)n&Fl&&(i=i.add(s)),r&Fl&&(o=o.add(s)),s=s.double(),n>>=Fl,r>>=Fl;return{p1:i,p2:o}}function Rue(t,e,n,r){Nue(n,t),Pue(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=yue(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=ub(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<i;m++){const w=r[m],y=Number(w>>BigInt(f)&l);u[y]=u[y].add(n[m])}let p=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),p=p.add(w);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function Rk(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return xue(e),e}else return nf(t)}function $ue(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>kh))throw new Error(`CURVE.${o} must be positive bigint`)}const r=Rk(e.p,n.Fp),s=Rk(e.n,n.Fn),i=["Gx","Gy","a","b"];for(const o of i)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Lf=BigInt(0),sd=BigInt(1),Qy=BigInt(2);function Due(t){return db(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function jue(t){const e=Due(t),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||tf,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),f=a?Qy**BigInt(254):Qy**BigInt(447),p=a?BigInt(8)*Qy**BigInt(251)-sd:BigInt(4)*Qy**BigInt(445)-sd,m=f+p+sd,w=C=>ri(C,n),y=b(d);function b(C){return G2(w(C),u)}function v(C){const k=ds("u coordinate",C,u);return a&&(k[31]&=127),w(q0(k))}function E(C){return q0(s(ds("scalar",C,u)))}function _(C,k){const O=A(v(k),E(C));if(O===Lf)throw new Error("invalid private or public key received");return b(O)}function x(C){return _(C,y)}function S(C,k,O){const B=w(C*(k-O));return k=w(k-B),O=w(O+B),{x_2:k,x_3:O}}function A(C,k){Mx("u",C,Lf,n),Mx("scalar",k,f,m);const O=k,B=C;let F=sd,V=Lf,I=C,N=sd,L=Lf;for(let $=BigInt(l-1);$>=Lf;$--){const j=O>>$&sd;L^=j,{x_2:F,x_3:I}=S(L,F,I),{x_2:V,x_3:N}=S(L,V,N),L=j;const q=F+V,J=w(q*q),se=F-V,ne=w(se*se),ie=J-ne,ye=I+N,Y=I-N,Z=w(Y*q),oe=w(ye*se),ee=Z+oe,he=Z-oe;I=w(ee*ee),N=w(B*w(he*he)),F=w(J*ne),V=w(ie*(J+w(h*ie)))}({x_2:F,x_3:I}=S(L,F,I)),{x_2:V,x_3:N}=S(L,V,N);const D=i(V);return w(F*D)}return{scalarMult:_,scalarMultBase:x,getSharedSecret:(C,k)=>_(C,k),getPublicKey:C=>x(C),utils:{randomPrivateKey:()=>c(u)},GuBytes:y.slice()}}BigInt(0);const Uue=BigInt(1),$k=BigInt(2),Lue=BigInt(3),Mue=BigInt(5);BigInt(8);const H4={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Bue(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=H4.p,o=t*t%i*t%i,a=xi(o,$k,i)*o%i,c=xi(a,Uue,i)*t%i,l=xi(c,Mue,i)*c%i,u=xi(l,e,i)*l%i,d=xi(u,n,i)*u%i,h=xi(d,r,i)*d%i,f=xi(h,s,i)*h%i,p=xi(f,s,i)*h%i,m=xi(p,e,i)*l%i;return{pow_p_5_8:xi(m,$k,i)*t%i,b2:o}}function Fue(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Bx=(()=>{const t=H4.p;return jue({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=Bue(e);return ri(xi(n,Lue,t)*r,t)},adjustScalarBytes:Fue})})();function Dk(t){t.lowS!==void 0&&z0("lowS",t.lowS),t.prehash!==void 0&&z0("prehash",t.prehash)}class zue extends Error{constructor(e=""){super(e)}}const ea={Err:zue,_tlv:{encode:(t,e)=>{const{Err:n}=ea;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Yy(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Yy(s.length/2|128):"";return Yy(t)+i+s+e},decode(t,e){const{Err:n}=ea;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=ea;if(t<Tp)throw new e("integer: negative integers are not allowed");let n=Yy(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ea;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return lb(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ea,s=ds("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=ea,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},Tp=BigInt(0),Np=BigInt(1),que=BigInt(2),Jy=BigInt(3),Wue=BigInt(4);function Hue(t,e,n){function r(s){const i=t.sqr(s),o=t.mul(i,s);return t.add(t.add(o,t.mul(s,e)),n)}return r}function V4(t,e,n){const{BYTES:r}=t;function s(i){let o;if(typeof i=="bigint")o=i;else{let a=ds("private key",i);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function Vue(t,e={}){const{Fp:n,Fn:r}=$ue("weierstrass",t,e),{h:s,n:i}=t;db(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(A,C,k){const{x:O,y:B}=C.toAffine(),F=n.toBytes(O);if(z0("isCompressed",k),k){a();const V=!n.isOdd(B);return Ml(G4(V),F)}else return Ml(Uint8Array.of(4),F,n.toBytes(B))}function l(A){di(A);const C=n.BYTES,k=C+1,O=2*C+1,B=A.length,F=A[0],V=A.subarray(1);if(B===k&&(F===2||F===3)){const I=n.fromBytes(V);if(!n.isValid(I))throw new Error("bad point: is not on curve, wrong x");const N=h(I);let L;try{L=n.sqrt(N)}catch($){const j=$ instanceof Error?": "+$.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}a();const D=n.isOdd(L);return(F&1)===1!==D&&(L=n.neg(L)),{x:I,y:L}}else if(B===O&&F===4){const I=n.fromBytes(V.subarray(C*0,C*1)),N=n.fromBytes(V.subarray(C*1,C*2));if(!f(I,N))throw new Error("bad point: is not on curve");return{x:I,y:N}}else throw new Error(`bad point: got length ${B}, expected compressed=${k} or uncompressed=${O}`)}const u=e.toBytes||c,d=e.fromBytes||l,h=Hue(n,t.a,t.b);function f(A,C){const k=n.sqr(C),O=h(A);return n.eql(k,O)}if(!f(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(t.a,Jy),Wue),m=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(p,m)))throw new Error("bad curve params: a or b");function w(A,C,k=!1){if(!n.isValid(C)||k&&n.is0(C))throw new Error(`bad point coordinate ${A}`);return C}function y(A){if(!(A instanceof _))throw new Error("ProjectivePoint expected")}const b=Tk((A,C)=>{const{px:k,py:O,pz:B}=A;if(n.eql(B,n.ONE))return{x:k,y:O};const F=A.is0();C==null&&(C=F?n.ONE:n.inv(B));const V=n.mul(k,C),I=n.mul(O,C),N=n.mul(B,C);if(F)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:V,y:I}}),v=Tk(A=>{if(A.is0()){if(e.allowInfinityPoint&&!n.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:C,y:k}=A.toAffine();if(!n.isValid(C)||!n.isValid(k))throw new Error("bad point: x or y not field elements");if(!f(C,k))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function E(A,C,k,O,B){return k=new _(n.mul(k.px,A),k.py,k.pz),C=Ip(O,C),k=Ip(B,k),C.add(k)}class _{constructor(C,k,O){this.px=w("x",C),this.py=w("y",k,!0),this.pz=w("z",O),Object.freeze(this)}static fromAffine(C){const{x:k,y:O}=C||{};if(!C||!n.isValid(k)||!n.isValid(O))throw new Error("invalid affine point");if(C instanceof _)throw new Error("projective point not allowed");return n.is0(k)&&n.is0(O)?_.ZERO:new _(k,O,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){return Tue(_,"pz",C)}static fromBytes(C){return di(C),_.fromHex(C)}static fromHex(C){const k=_.fromAffine(d(ds("pointHex",C)));return k.assertValidity(),k}static fromPrivateKey(C){const k=V4(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return _.BASE.multiply(k(C))}static msm(C,k){return Rue(_,r,C,k)}precompute(C=8,k=!0){return S.setWindowSize(this,C),k||this.multiply(Jy),this}_setWindowSize(C){this.precompute(C)}assertValidity(){v(this)}hasEvenY(){const{y:C}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(C)}equals(C){y(C);const{px:k,py:O,pz:B}=this,{px:F,py:V,pz:I}=C,N=n.eql(n.mul(k,I),n.mul(F,B)),L=n.eql(n.mul(O,I),n.mul(V,B));return N&&L}negate(){return new _(this.px,n.neg(this.py),this.pz)}double(){const{a:C,b:k}=t,O=n.mul(k,Jy),{px:B,py:F,pz:V}=this;let I=n.ZERO,N=n.ZERO,L=n.ZERO,D=n.mul(B,B),$=n.mul(F,F),j=n.mul(V,V),q=n.mul(B,F);return q=n.add(q,q),L=n.mul(B,V),L=n.add(L,L),I=n.mul(C,L),N=n.mul(O,j),N=n.add(I,N),I=n.sub($,N),N=n.add($,N),N=n.mul(I,N),I=n.mul(q,I),L=n.mul(O,L),j=n.mul(C,j),q=n.sub(D,j),q=n.mul(C,q),q=n.add(q,L),L=n.add(D,D),D=n.add(L,D),D=n.add(D,j),D=n.mul(D,q),N=n.add(N,D),j=n.mul(F,V),j=n.add(j,j),D=n.mul(j,q),I=n.sub(I,D),L=n.mul(j,$),L=n.add(L,L),L=n.add(L,L),new _(I,N,L)}add(C){y(C);const{px:k,py:O,pz:B}=this,{px:F,py:V,pz:I}=C;let N=n.ZERO,L=n.ZERO,D=n.ZERO;const $=t.a,j=n.mul(t.b,Jy);let q=n.mul(k,F),J=n.mul(O,V),se=n.mul(B,I),ne=n.add(k,O),ie=n.add(F,V);ne=n.mul(ne,ie),ie=n.add(q,J),ne=n.sub(ne,ie),ie=n.add(k,B);let ye=n.add(F,I);return ie=n.mul(ie,ye),ye=n.add(q,se),ie=n.sub(ie,ye),ye=n.add(O,B),N=n.add(V,I),ye=n.mul(ye,N),N=n.add(J,se),ye=n.sub(ye,N),D=n.mul($,ie),N=n.mul(j,se),D=n.add(N,D),N=n.sub(J,D),D=n.add(J,D),L=n.mul(N,D),J=n.add(q,q),J=n.add(J,q),se=n.mul($,se),ie=n.mul(j,ie),J=n.add(J,se),se=n.sub(q,se),se=n.mul($,se),ie=n.add(ie,se),q=n.mul(J,ie),L=n.add(L,q),q=n.mul(ye,ie),N=n.mul(ne,N),N=n.sub(N,q),q=n.mul(ne,J),D=n.mul(ye,D),D=n.add(D,q),new _(N,L,D)}subtract(C){return this.add(C.negate())}is0(){return this.equals(_.ZERO)}multiply(C){const{endo:k}=e;if(!r.isValidNot0(C))throw new Error("invalid scalar: out of range");let O,B;const F=V=>S.wNAFCached(this,V,_.normalizeZ);if(k){const{k1neg:V,k1:I,k2neg:N,k2:L}=k.splitScalar(C),{p:D,f:$}=F(I),{p:j,f:q}=F(L);B=$.add(q),O=E(k.beta,D,j,V,N)}else{const{p:V,f:I}=F(C);O=V,B=I}return _.normalizeZ([O,B])[0]}multiplyUnsafe(C){const{endo:k}=e,O=this;if(!r.isValid(C))throw new Error("invalid scalar: out of range");if(C===Tp||O.is0())return _.ZERO;if(C===Np)return O;if(S.hasPrecomputes(this))return this.multiply(C);if(k){const{k1neg:B,k1:F,k2neg:V,k2:I}=k.splitScalar(C),{p1:N,p2:L}=Oue(_,O,F,I);return E(k.beta,N,L,B,V)}else return S.wNAFCachedUnsafe(O,C)}multiplyAndAddUnsafe(C,k,O){const B=this.multiplyUnsafe(k).add(C.multiplyUnsafe(O));return B.is0()?void 0:B}toAffine(C){return b(this,C)}isTorsionFree(){const{isTorsionFree:C}=e;return s===Np?!0:C?C(_,this):S.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:C}=e;return s===Np?this:C?C(_,this):this.multiplyUnsafe(s)}toBytes(C=!0){return z0("isCompressed",C),this.assertValidity(),u(_,this,C)}toRawBytes(C=!0){return this.toBytes(C)}toHex(C=!0){return Bg(this.toBytes(C))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}_.BASE=new _(t.Gx,t.Gy,n.ONE),_.ZERO=new _(n.ZERO,n.ONE,n.ZERO),_.Fp=n,_.Fn=r;const x=r.BITS,S=kue(_,e.endo?Math.ceil(x/2):x);return _}function G4(t){return Uint8Array.of(t?2:3)}function Gue(t,e,n={}){db(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||tf,s=e.hmac||((O,...B)=>ab(e.hash,O,Ml(...B))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(O){const B=a>>Np;return O>B}function u(O){return l(O)?o.neg(O):O}function d(O,B){if(!o.isValidNot0(B))throw new Error(`invalid signature ${O}: out of range 1..CURVE.n`)}class h{constructor(B,F,V){d("r",B),d("s",F),this.r=B,this.s=F,V!=null&&(this.recovery=V),Object.freeze(this)}static fromCompact(B){const F=o.BYTES,V=ds("compactSignature",B,F*2);return new h(o.fromBytes(V.subarray(0,F)),o.fromBytes(V.subarray(F,F*2)))}static fromDER(B){const{r:F,s:V}=ea.toSig(ds("DER",B));return new h(F,V)}assertValidity(){}addRecoveryBit(B){return new h(this.r,this.s,B)}recoverPublicKey(B){const F=i.ORDER,{r:V,s:I,recovery:N}=this;if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");if(a*que<F&&N>1)throw new Error("recovery id is ambiguous for h>1 curve");const L=N===2||N===3?V+a:V;if(!i.isValid(L))throw new Error("recovery id 2 or 3 invalid");const D=i.toBytes(L),$=t.fromHex(Ml(G4((N&1)===0),D)),j=o.inv(L),q=v(ds("msgHash",B)),J=o.create(-q*j),se=o.create(I*j),ne=t.BASE.multiplyUnsafe(J).add($.multiplyUnsafe(se));if(ne.is0())throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes(B){if(B==="compact")return Ml(o.toBytes(this.r),o.toBytes(this.s));if(B==="der")return z2(ea.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Bg(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Bg(this.toBytes("compact"))}}const f=V4(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(O){try{return f(O),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const O=a;return Iue(r(z4(O)),O)},precompute(O=8,B=t.BASE){return B.precompute(O,!1)}};function m(O,B=!0){return t.fromPrivateKey(O).toBytes(B)}function w(O){if(typeof O=="bigint")return!1;if(O instanceof t)return!0;const B=ds("key",O).length,F=i.BYTES,V=F+1,I=2*F+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===V))return B===V||B===I}function y(O,B,F=!0){if(w(O)===!0)throw new Error("first arg must be private key");if(w(B)===!1)throw new Error("second arg must be public key");return t.fromHex(B).multiply(f(O)).toBytes(F)}const b=e.bits2int||function(O){if(O.length>8192)throw new Error("input is too large");const B=lb(O),F=O.length*8-c;return F>0?B>>BigInt(F):B},v=e.bits2int_modN||function(O){return o.create(b(O))},E=ub(c);function _(O){return Mx("num < 2^"+c,O,Tp,E),o.toBytes(O)}function x(O,B,F=S){if(["recovered","canonical"].some(ne=>ne in F))throw new Error("sign() legacy options not supported");const{hash:V}=e;let{lowS:I,prehash:N,extraEntropy:L}=F;I==null&&(I=!0),O=ds("msgHash",O),Dk(F),N&&(O=ds("prehashed msgHash",V(O)));const D=v(O),$=f(B),j=[_($),_(D)];if(L!=null&&L!==!1){const ne=L===!0?r(i.BYTES):L;j.push(ds("extraEntropy",ne))}const q=Ml(...j),J=D;function se(ne){const ie=b(ne);if(!o.isValidNot0(ie))return;const ye=o.inv(ie),Y=t.BASE.multiply(ie).toAffine(),Z=o.create(Y.x);if(Z===Tp)return;const oe=o.create(ye*o.create(J+Z*$));if(oe===Tp)return;let ee=(Y.x===Z?0:2)|Number(Y.y&Np),he=oe;return I&&l(oe)&&(he=u(oe),ee^=1),new h(Z,he,ee)}return{seed:q,k2sig:se}}const S={lowS:e.lowS,prehash:!1},A={lowS:e.lowS,prehash:!1};function C(O,B,F=S){const{seed:V,k2sig:I}=x(O,B,F);return wue(e.hash.outputLen,o.BYTES,s)(V,I)}t.BASE.precompute(8);function k(O,B,F,V=A){const I=O;B=ds("msgHash",B),F=ds("publicKey",F),Dk(V);const{lowS:N,prehash:L,format:D}=V;if("strict"in V)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&!["compact","der","js"].includes(D))throw new Error('format must be "compact", "der" or "js"');const $=typeof I=="string"||M2(I),j=!$&&!D&&typeof I=="object"&&I!==null&&typeof I.r=="bigint"&&typeof I.s=="bigint";if(!$&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,J;try{if(j)if(D===void 0||D==="js")q=new h(I.r,I.s);else throw new Error("invalid format");if($){try{D!=="compact"&&(q=h.fromDER(I))}catch(ee){if(!(ee instanceof ea.Err))throw ee}!q&&D!=="der"&&(q=h.fromCompact(I))}J=t.fromHex(F)}catch{return!1}if(!q||N&&q.hasHighS())return!1;L&&(B=e.hash(B));const{r:se,s:ne}=q,ie=v(B),ye=o.inv(ne),Y=o.create(ie*ye),Z=o.create(se*ye),oe=t.BASE.multiplyUnsafe(Y).add(J.multiplyUnsafe(Z));return oe.is0()?!1:o.create(oe.x)===se}return Object.freeze({getPublicKey:m,getSharedSecret:y,sign:C,verify:k,utils:p,Point:t,Signature:h})}function Kue(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=nf(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function Yue(t){const{CURVE:e,curveOpts:n}=Kue(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function Que(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Jue(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=Yue(t),s=Vue(e,n),i=Gue(s,r,n);return Que(t,i)}function Fx(t,e){const n=r=>Jue({...t,hash:r});return{...n(e),create:n}}const K4={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Y4={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Q4={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Zue=nf(K4.p),Xue=nf(Y4.p),ede=nf(Q4.p),tde=Fx({...K4,Fp:Zue,lowS:!1},ob);Fx({...Y4,Fp:Xue,lowS:!1},lle),Fx({...Q4,Fp:ede,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},cle);const nde=tde,J4="base10",Br="base16",Li="base64pad",ac="base64url",Lm="utf8",Z4=0,ua=1,Mm=2,rde=0,jk=1,Pp=12,K2=32;function sde(){const t=Bx.utils.randomPrivateKey(),e=Bx.getPublicKey(t);return{privateKey:_s(t,Br),publicKey:_s(e,Br)}}function zx(){const t=tf(K2);return _s(t,Br)}function ide(t,e){const n=Bx.getSharedSecret(ai(t,Br),ai(e,Br)),r=gue(cb,n,void 0,void 0,K2);return _s(r,Br)}function Mw(t){const e=cb(ai(t,Br));return _s(e,Br)}function go(t){const e=cb(ai(t,Lm));return _s(e,Br)}function X4(t){return ai(`${t}`,J4)}function xu(t){return Number(_s(t,J4))}function eU(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function tU(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function ode(t){const e=X4(typeof t.type<"u"?t.type:Z4);if(xu(e)===ua&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?ai(t.senderPublicKey,Br):void 0,r=typeof t.iv<"u"?ai(t.iv,Br):tf(Pp),s=ai(t.symKey,Br),i=R4(s,r).encrypt(ai(t.message,Lm)),o=nU({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===ac?eU(o):o}function ade(t){const e=ai(t.symKey,Br),{sealed:n,iv:r}=zg({encoded:t.encoded,encoding:t.encoding}),s=R4(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return _s(s,Lm)}function cde(t,e){const n=X4(Mm),r=tf(Pp),s=ai(t,Lm),i=nU({type:n,sealed:s,iv:r});return e===ac?eU(i):i}function lde(t,e){const{sealed:n}=zg({encoded:t,encoding:e});return _s(n,Lm)}function nU(t){if(xu(t.type)===Mm)return _s(Ap([t.type,t.sealed]),Li);if(xu(t.type)===ua){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return _s(Ap([t.type,t.senderPublicKey,t.iv,t.sealed]),Li)}return _s(Ap([t.type,t.iv,t.sealed]),Li)}function zg(t){const e=(t.encoding||Li)===ac?tU(t.encoded):t.encoded,n=ai(e,Li),r=n.slice(rde,jk),s=jk;if(xu(r)===ua){const c=s+K2,l=c+Pp,u=n.slice(s,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(xu(r)===Mm){const c=n.slice(s),l=tf(Pp);return{type:r,sealed:c,iv:l}}const i=s+Pp,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function ude(t,e){const n=zg({encoded:t,encoding:e==null?void 0:e.encoding});return rU({type:xu(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?_s(n.senderPublicKey,Br):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function rU(t){const e=(t==null?void 0:t.type)||Z4;if(e===ua){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function Uk(t){return t.type===ua&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function Lk(t){return t.type===Mm}function dde(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Ap([new Uint8Array([4]),e,n])}function hde(t,e){const[n,r,s]=t.split("."),i=Buffer.from(tU(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=cb(c),u=dde(e);if(!nde.verify(Ap([o,a]),l,u))throw new Error("Invalid signature");return xx(t).payload}const fde="irn";function W0(t){return(t==null?void 0:t.relay)||{protocol:fde}}function ap(t){const e=zae[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function pde(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=t[s];n[i]=o}}),n}function Mk(t){if(!t.includes("wc:")){const l=p4(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(i),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:gde(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:pde(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function gde(t){return t.startsWith("//")?t.substring(2):t}function mde(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const i=s,o=n+e+i;t[i]&&(r[o]=t[i])}),r}function Bk(t){const e=new URLSearchParams,n=mde(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Zy(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var yde=Object.defineProperty,wde=Object.defineProperties,vde=Object.getOwnPropertyDescriptors,Fk=Object.getOwnPropertySymbols,bde=Object.prototype.hasOwnProperty,_de=Object.prototype.propertyIsEnumerable,zk=(t,e,n)=>e in t?yde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ede=(t,e)=>{for(var n in e||(e={}))bde.call(e,n)&&zk(t,n,e[n]);if(Fk)for(var n of Fk(e))_de.call(e,n)&&zk(t,n,e[n]);return t},Cde=(t,e)=>wde(t,vde(e));function rf(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function xde(t){const e=[];return Object.values(t).forEach(n=>{e.push(...rf(n.accounts))}),e}function Sde(t,e){const n=[];return Object.values(t).forEach(r=>{rf(r.accounts).includes(e)&&n.push(...r.methods)}),n}function Ade(t,e){const n=[];return Object.values(t).forEach(r=>{rf(r.accounts).includes(e)&&n.push(...r.events)}),n}function hb(t){return t.includes(":")}function Fd(t){return hb(t)?t.split(":")[0]:t}function qk(t){var e,n,r;const s={};if(!qc(t))return s;for(const[i,o]of Object.entries(t)){const a=hb(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=Fd(i);s[u]=Cde(Ede({},s[u]),{chains:xo(a,(e=s[u])==null?void 0:e.chains),methods:xo(c,(n=s[u])==null?void 0:n.methods),events:xo(l,(r=s[u])==null?void 0:r.events)})}return s}function Ide(t){const e={};return t==null||t.forEach(n=>{var r;const[s,i]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${i}`)}),e}function Wk(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=Ide(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=xo(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}function Tde(t,e){var n,r,s,i,o,a;const c=qk(t),l=qk(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:xo((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:xo((s=c[h])==null?void 0:s.methods,(i=l[h])==null?void 0:i.methods),events:xo((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const Nde={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Pde={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function me(t,e){const{message:n,code:r}=Pde[t];return{message:e?`${n} ${e}`:n,code:r}}function sn(t,e){const{message:n,code:r}=Nde[t];return{message:e?`${n} ${e}`:n,code:r}}function da(t,e){return!!Array.isArray(t)}function qc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function or(t){return typeof t>"u"}function Tn(t,e){return e&&or(t)?!0:typeof t=="string"&&!!t.trim().length}function Y2(t,e){return e&&or(t)?!0:typeof t=="number"&&!isNaN(t)}function kde(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let i=!0;return Ll(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=rf(a),d=n[o];(!Ll(l4(o,d),u)||!Ll(d.methods,c)||!Ll(d.events,l))&&(i=!1)}),i):!1}function H0(t){return Tn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Ode(t){if(Tn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&H0(n)}}return!1}function Rde(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Tn(t,!1)){if(e(t))return!0;const n=p4(t);return e(n)}}catch{}return!1}function $de(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Dde(t){return t==null?void 0:t.topic}function jde(t,e){let n=null;return Tn(t==null?void 0:t.publicKey,!1)||(n=me("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function Hk(t){let e=!0;return da(t)?t.length&&(e=t.every(n=>Tn(n,!1))):e=!1,e}function Ude(t,e,n){let r=null;return da(e)&&e.length?e.forEach(s=>{r||H0(s)||(r=sn("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):H0(t)||(r=sn("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Lde(t,e,n){let r=null;return Object.entries(t).forEach(([s,i])=>{if(r)return;const o=Ude(s,l4(s,i),`${e} ${n}`);o&&(r=o)}),r}function Mde(t,e){let n=null;return da(t)?t.forEach(r=>{n||Ode(r)||(n=sn("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=sn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Bde(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=Mde(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function Fde(t,e){let n=null;return Hk(t==null?void 0:t.methods)?Hk(t==null?void 0:t.events)||(n=sn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=sn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function sU(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=Fde(r,`${e}, namespace`);s&&(n=s)}),n}function zde(t,e,n){let r=null;if(t&&qc(t)){const s=sU(t,e);s&&(r=s);const i=Lde(t,e,n);i&&(r=i)}else r=me("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function L_(t,e){let n=null;if(t&&qc(t)){const r=sU(t,e);r&&(n=r);const s=Bde(t,e);s&&(n=s)}else n=me("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function iU(t){return Tn(t.protocol,!0)}function qde(t,e){let n=!1;return t?t&&da(t)&&t.length&&t.forEach(r=>{n=iU(r)}):n=!0,n}function Wde(t){return typeof t=="number"}function os(t){return typeof t<"u"&&typeof t!==null}function Hde(t){return!(!t||typeof t!="object"||!t.code||!Y2(t.code,!1)||!t.message||!Tn(t.message,!1))}function Vde(t){return!(or(t)||!Tn(t.method,!1))}function Gde(t){return!(or(t)||or(t.result)&&or(t.error)||!Y2(t.id,!1)||!Tn(t.jsonrpc,!1))}function Kde(t){return!(or(t)||!Tn(t.name,!1))}function Vk(t,e){return!(!H0(e)||!xde(t).includes(e))}function Yde(t,e,n){return Tn(n,!1)?Sde(t,e).includes(n):!1}function Qde(t,e,n){return Tn(n,!1)?Ade(t,e).includes(n):!1}function Gk(t,e,n){let r=null;const s=Jde(t),i=Zde(e),o=Object.keys(s),a=Object.keys(i),c=Kk(Object.keys(t)),l=Kk(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Ll(o,a)||(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=rf(e[d].accounts);h.includes(d)||(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(Ll(s[d].methods,i[d].methods)?Ll(s[d].events,i[d].events)||(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function Jde(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function Kk(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Zde(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=rf(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(i=>i.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Xde(t,e){return Y2(t,!1)&&t<=e.max&&t>=e.min}function Yk(){const t=jm();return new Promise(e=>{switch(t){case Ds.browser:e(ehe());break;case Ds.reactNative:e(the());break;case Ds.node:e(nhe());break;default:e(!0)}})}function ehe(){return ef()&&(navigator==null?void 0:navigator.onLine)}async function the(){if(cl()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function nhe(){return!0}function rhe(t){switch(jm()){case Ds.browser:she(t);break;case Ds.reactNative:ihe(t);break}}function she(t){!cl()&&ef()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function ihe(t){cl()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function ohe(){var t;return ef()&&_u()?((t=_u())==null?void 0:t.visibilityState)==="visible":!0}const M_={};class Mf{static get(e){return M_[e]}static set(e,n){M_[e]=n}static delete(e){delete M_[e]}}function ahe(t){const e=Xh.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function che({publicKey:t,signature:e,payload:n}){var r;const s=qx(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=dhe(n.address),a=n.era==="00"?new Uint8Array([0]):qx(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${uhe(n.tip)}`),d=fhe(u),h=new Uint8Array([0,...t,o,...e,...a,...l,...d,...s]),f=hhe(h.length+1);return new Uint8Array([...f,i,...h])}function lhe(t){const e=qx(t),n=ece.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function qx(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function uhe(t){return t.startsWith("0x")?t.slice(2):t}function dhe(t){const e=Xh.decode(t)[0];return e===42?0:e===60?2:1}function hhe(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function fhe(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function phe(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=ahe(t.transaction.address),r=che({publicKey:n,signature:e,payload:t.transaction}),s=Buffer.from(r).toString("hex");return lhe(s)}const ghe="PARSE_ERROR",mhe="INVALID_REQUEST",yhe="METHOD_NOT_FOUND",whe="INVALID_PARAMS",oU="INTERNAL_ERROR",Q2="SERVER_ERROR",vhe=[-32700,-32600,-32601,-32602,-32603],kp={[ghe]:{code:-32700,message:"Parse error"},[mhe]:{code:-32600,message:"Invalid Request"},[yhe]:{code:-32601,message:"Method not found"},[whe]:{code:-32602,message:"Invalid params"},[oU]:{code:-32603,message:"Internal error"},[Q2]:{code:-32e3,message:"Server error"}},aU=Q2;function bhe(t){return vhe.includes(t)}function Qk(t){return Object.keys(kp).includes(t)?kp[t]:kp[aU]}function _he(t){const e=Object.values(kp).find(n=>n.code===t);return e||kp[aU]}function cU(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var lU={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wx=function(t,e){return Wx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Wx(t,e)};function Ehe(t,e){Wx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Hx=function(){return Hx=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hx.apply(this,arguments)};function Che(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function xhe(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function She(t,e){return function(n,r){e(n,r,t)}}function Ahe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ihe(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function The(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Nhe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Phe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Vx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function uU(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function khe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(uU(arguments[e]));return t}function Ohe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function qg(t){return this instanceof qg?(this.v=t,this):new qg(t)}function Rhe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,m){i.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof qg?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function $he(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:qg(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function Dhe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Vx=="function"?Vx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function jhe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Uhe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Lhe(t){return t&&t.__esModule?t:{default:t}}function Mhe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Bhe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Fhe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Hx},__asyncDelegator:$he,__asyncGenerator:Rhe,__asyncValues:Dhe,__await:qg,__awaiter:Ihe,__classPrivateFieldGet:Mhe,__classPrivateFieldSet:Bhe,__createBinding:Nhe,__decorate:xhe,__exportStar:Phe,__extends:Ehe,__generator:The,__importDefault:Lhe,__importStar:Uhe,__makeTemplateObject:jhe,__metadata:Ahe,__param:She,__read:uU,__rest:Che,__spread:khe,__spreadArrays:Ohe,__values:Vx},Symbol.toStringTag,{value:"Module"})),zhe=iv(Fhe);var Wo={},Jk;function qhe(){if(Jk)return Wo;Jk=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.isBrowserCryptoAvailable=Wo.getSubtleCrypto=Wo.getBrowerCrypto=void 0;function t(){return(wn==null?void 0:wn.crypto)||(wn==null?void 0:wn.msCrypto)||{}}Wo.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}Wo.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Wo.isBrowserCryptoAvailable=n,Wo}var Ho={},Zk;function Whe(){if(Zk)return Ho;Zk=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.isBrowser=Ho.isNode=Ho.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Ho.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Ho.isNode=e;function n(){return!t()&&!e()}return Ho.isBrowser=n,Ho}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=zhe;e.__exportStar(qhe(),t),e.__exportStar(Whe(),t)})(lU);function ao(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function zl(t=6){return BigInt(ao(t))}function Ac(t,e,n){return{id:n||ao(),jsonrpc:"2.0",method:t,params:e}}function fb(t,e){return{id:t,jsonrpc:"2.0",result:e}}function pb(t,e,n){return{id:t,jsonrpc:"2.0",error:Hhe(e)}}function Hhe(t,e){return typeof t>"u"?Qk(oU):(typeof t=="string"&&(t=Object.assign(Object.assign({},Qk(Q2)),{message:t})),bhe(t.code)&&(t=_he(t.code)),t)}let Vhe=class{},Ghe=class extends Vhe{constructor(){super()}},Khe=class extends Ghe{constructor(e){super()}};const Yhe="^https?:",Qhe="^wss?:";function Jhe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function dU(t,e){const n=Jhe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function Xk(t){return dU(t,Yhe)}function eO(t){return dU(t,Qhe)}function Zhe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function hU(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function J2(t){return hU(t)&&"method"in t}function gb(t){return hU(t)&&(co(t)||ni(t))}function co(t){return"result"in t}function ni(t){return"error"in t}let gi=class extends Khe{constructor(e){super(e),this.events=new pi.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Ac(e.method,e.params||[],e.id||zl().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{ni(i)?s(i.error):r(i.result)});try{await this.connection.send(e,n)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),gb(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Xhe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),efe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",tO=t=>t.split("?")[0],nO=10,tfe=Xhe();let nfe=class{constructor(e){if(this.url=e,this.events=new pi.EventEmitter,this.registering=!1,!eO(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(_a(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!eO(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=lU.isReactNative()?void 0:{rejectUnauthorized:!Zhe(e)},i=new tfe(e,[],s);efe()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?bu(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=pb(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return cU(e,tO(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>nO&&this.events.setMaxListeners(nO)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${tO(this.url)}`));return this.events.emit("register_error",n),n}};var rfe={};const fU="wc",pU=2,Gx="core",Io=`${fU}@2:${Gx}:`,sfe={logger:"error"},ife={database:":memory:"},ofe="crypto",rO="client_ed25519_seed",afe=pe.ONE_DAY,cfe="keychain",lfe="0.3",ufe="messages",dfe="0.3",sO=pe.SIX_HOURS,hfe="publisher",gU="irn",ffe="error",mU="wss://relay.walletconnect.org",pfe="relayer",Vn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},gfe="_subscription",Qs={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},mfe=.1,Kx="2.21.3",en={link_mode:"link_mode",relay:"relay"},Bw={inbound:"inbound",outbound:"outbound"},yfe="0.3",wfe="WALLETCONNECT_CLIENT_ID",iO="WALLETCONNECT_LINK_MODE_APPS",Ns={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},vfe="subscription",bfe="0.3",_fe="pairing",Efe="0.3",Bf={wc_pairingDelete:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:pe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:pe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:pe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:0},res:{ttl:pe.ONE_DAY,prompt:!1,tag:0}}},Nl={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},bi={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Cfe="history",xfe="0.3",Sfe="expirer",ei={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Afe="0.3",Ife="verify-api",Tfe="https://verify.walletconnect.com",yU="https://verify.walletconnect.org",Op=yU,Nfe=`${Op}/v3`,Pfe=[Tfe,yU],kfe="echo",Ofe="https://echo.walletconnect.com",io={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Ko={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},_i={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},wl={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},vl={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Ff={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Rfe=.1,$fe="event-client",Dfe=86400,jfe="https://pulse.walletconnect.org/batch";function Ufe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,w=0,y=0,b=p.length;y!==b&&p[y]===0;)y++,m++;for(var v=(b-y)*u+1>>>0,E=new Uint8Array(v);y!==b;){for(var _=p[y],x=0,S=v-1;(_!==0||x<w)&&S!==-1;S--,x++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");w=x,y++}for(var A=v-w;A!==v&&E[A]===0;)A++;for(var C=c.repeat(m);A<v;++A)C+=t.charAt(E[A]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var w=0,y=0;p[m]===c;)w++,m++;for(var b=(p.length-m)*l+1>>>0,v=new Uint8Array(b);p[m];){var E=n[p.charCodeAt(m)];if(E===255)return;for(var _=0,x=b-1;(E!==0||_<y)&&x!==-1;x--,_++)E+=a*v[x]>>>0,v[x]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");y=_,m++}if(p[m]!==" "){for(var S=b-y;S!==b&&v[S]===0;)S++;for(var A=new Uint8Array(w+(b-S)),C=w;S!==b;)A[C++]=v[S++];return A}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Lfe=Ufe,Mfe=Lfe;const wU=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Bfe=t=>new TextEncoder().encode(t),Ffe=t=>new TextDecoder().decode(t);class zfe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class qfe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return vU(this,e)}}class Wfe{constructor(e){this.decoders=e}or(e){return vU(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const vU=(t,e)=>new Wfe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Hfe{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new zfe(e,n,r),this.decoder=new qfe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const mb=({name:t,prefix:e,encode:n,decode:r})=>new Hfe(t,e,n,r),Bm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Mfe(n,e);return mb({prefix:t,name:e,encode:r,decode:i=>wU(s(i))})},Vfe=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Gfe=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},pr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>mb({prefix:e,name:t,encode(s){return Gfe(s,r,n)},decode(s){return Vfe(s,r,n,t)}}),Kfe=mb({prefix:"\0",name:"identity",encode:t=>Ffe(t),decode:t=>Bfe(t)});var Yfe=Object.freeze({__proto__:null,identity:Kfe});const Qfe=pr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Jfe=Object.freeze({__proto__:null,base2:Qfe});const Zfe=pr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Xfe=Object.freeze({__proto__:null,base8:Zfe});const epe=Bm({prefix:"9",name:"base10",alphabet:"0123456789"});var tpe=Object.freeze({__proto__:null,base10:epe});const npe=pr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),rpe=pr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var spe=Object.freeze({__proto__:null,base16:npe,base16upper:rpe});const ipe=pr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ope=pr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ape=pr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),cpe=pr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),lpe=pr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),upe=pr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dpe=pr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hpe=pr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fpe=pr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ppe=Object.freeze({__proto__:null,base32:ipe,base32upper:ope,base32pad:ape,base32padupper:cpe,base32hex:lpe,base32hexupper:upe,base32hexpad:dpe,base32hexpadupper:hpe,base32z:fpe});const gpe=Bm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),mpe=Bm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ype=Object.freeze({__proto__:null,base36:gpe,base36upper:mpe});const wpe=Bm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vpe=Bm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var bpe=Object.freeze({__proto__:null,base58btc:wpe,base58flickr:vpe});const _pe=pr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Epe=pr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Cpe=pr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xpe=pr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Spe=Object.freeze({__proto__:null,base64:_pe,base64pad:Epe,base64url:Cpe,base64urlpad:xpe});const bU=Array.from(""),Ape=bU.reduce((t,e,n)=>(t[n]=e,t),[]),Ipe=bU.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Tpe(t){return t.reduce((e,n)=>(e+=Ape[n],e),"")}function Npe(t){const e=[];for(const n of t){const r=Ipe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Ppe=mb({prefix:"",name:"base256emoji",encode:Tpe,decode:Npe});var kpe=Object.freeze({__proto__:null,base256emoji:Ppe}),Ope=_U,oO=128,Rpe=-128,$pe=Math.pow(2,31);function _U(t,e,n){e=e||[],n=n||0;for(var r=n;t>=$pe;)e[n++]=t&255|oO,t/=128;for(;t&Rpe;)e[n++]=t&255|oO,t>>>=7;return e[n]=t|0,_U.bytes=n-r+1,e}var Dpe=Yx,jpe=128,aO=127;function Yx(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw Yx.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&aO)<<s:(o&aO)*Math.pow(2,s),s+=7}while(o>=jpe);return Yx.bytes=i-r,n}var Upe=Math.pow(2,7),Lpe=Math.pow(2,14),Mpe=Math.pow(2,21),Bpe=Math.pow(2,28),Fpe=Math.pow(2,35),zpe=Math.pow(2,42),qpe=Math.pow(2,49),Wpe=Math.pow(2,56),Hpe=Math.pow(2,63),Vpe=function(t){return t<Upe?1:t<Lpe?2:t<Mpe?3:t<Bpe?4:t<Fpe?5:t<zpe?6:t<qpe?7:t<Wpe?8:t<Hpe?9:10},Gpe={encode:Ope,decode:Dpe,encodingLength:Vpe},EU=Gpe;const cO=(t,e,n=0)=>(EU.encode(t,e,n),e),lO=t=>EU.encodingLength(t),Qx=(t,e)=>{const n=e.byteLength,r=lO(t),s=r+lO(n),i=new Uint8Array(s+n);return cO(t,i,0),cO(n,i,r),i.set(e,s),new Kpe(t,n,e,i)};class Kpe{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const CU=({name:t,code:e,encode:n})=>new Ype(t,e,n);class Ype{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Qx(this.code,n):n.then(r=>Qx(this.code,r))}else throw Error("Unknown type, must be binary type")}}const xU=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Qpe=CU({name:"sha2-256",code:18,encode:xU("SHA-256")}),Jpe=CU({name:"sha2-512",code:19,encode:xU("SHA-512")});var Zpe=Object.freeze({__proto__:null,sha256:Qpe,sha512:Jpe});const SU=0,Xpe="identity",AU=wU,ege=t=>Qx(SU,AU(t)),tge={code:SU,name:Xpe,encode:AU,digest:ege};var nge=Object.freeze({__proto__:null,identity:tge});new TextEncoder,new TextDecoder;const uO={...Yfe,...Jfe,...Xfe,...tpe,...spe,...ppe,...ype,...bpe,...Spe,...kpe};({...Zpe,...nge});function IU(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function rge(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?IU(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function TU(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const dO=TU("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),B_=TU("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=rge(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),sge={utf8:dO,"utf-8":dO,hex:uO.base16,latin1:B_,ascii:B_,binary:B_,...uO};function ige(t,e="utf8"){const n=sge[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?IU(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var oge=Object.defineProperty,age=(t,e,n)=>e in t?oge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ro=(t,e,n)=>age(t,typeof e!="symbol"?e+"":e,n);class cge{constructor(e,n){this.core=e,this.logger=n,ro(this,"keychain",new Map),ro(this,"name",cfe),ro(this,"version",lfe),ro(this,"initialized",!1),ro(this,"storagePrefix",Io),ro(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),ro(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),ro(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),ro(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=me("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),ro(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Nr(n,this.name)}get context(){return Cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,kx(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Ox(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var lge=Object.defineProperty,uge=(t,e,n)=>e in t?lge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tr=(t,e,n)=>uge(t,typeof e!="symbol"?e+"":e,n);class dge{constructor(e,n,r){this.core=e,this.logger=n,tr(this,"name",ofe),tr(this,"keychain"),tr(this,"randomSessionIdentifier",zx()),tr(this,"initialized",!1),tr(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),tr(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),tr(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=WP(s);return A6(i.publicKey)}),tr(this,"generateKeyPair",()=>{this.isInitialized();const s=sde();return this.setPrivateKey(s.publicKey,s.privateKey)}),tr(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=WP(i),a=this.randomSessionIdentifier;return await uie(a,s,afe,o)}),tr(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=ide(a,i);return this.setSymKey(c,o)}),tr(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||Mw(s);return await this.keychain.set(o,s),o}),tr(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),tr(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),tr(this,"encode",async(s,i,o)=>{this.isInitialized();const a=rU(o),c=_a(i);if(Lk(a))return cde(c,o==null?void 0:o.encoding);if(Uk(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;s=await this.generateSharedKey(h,f)}const l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return ode({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),tr(this,"decode",async(s,i,o)=>{this.isInitialized();const a=ude(i,o);if(Lk(a)){const c=lde(i,o==null?void 0:o.encoding);return bu(c)}if(Uk(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=ade({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return bu(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),tr(this,"getPayloadType",(s,i=Li)=>{const o=zg({encoded:s,encoding:i});return xu(o.type)}),tr(this,"getPayloadSenderPublicKey",(s,i=Li)=>{const o=zg({encoded:s,encoding:i});return o.senderPublicKey?_s(o.senderPublicKey,Br):void 0}),this.core=e,this.logger=Nr(n,this.name),this.keychain=r||new cge(this.core,this.logger)}get context(){return Cs(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(rO)}catch{e=zx(),await this.keychain.set(rO,e)}return ige(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var hge=Object.defineProperty,fge=Object.defineProperties,pge=Object.getOwnPropertyDescriptors,hO=Object.getOwnPropertySymbols,gge=Object.prototype.hasOwnProperty,mge=Object.prototype.propertyIsEnumerable,Jx=(t,e,n)=>e in t?hge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yge=(t,e)=>{for(var n in e||(e={}))gge.call(e,n)&&Jx(t,n,e[n]);if(hO)for(var n of hO(e))mge.call(e,n)&&Jx(t,n,e[n]);return t},wge=(t,e)=>fge(t,pge(e)),Ss=(t,e,n)=>Jx(t,typeof e!="symbol"?e+"":e,n);class vge extends cne{constructor(e,n){super(e,n),this.logger=e,this.core=n,Ss(this,"messages",new Map),Ss(this,"messagesWithoutClientAck",new Map),Ss(this,"name",ufe),Ss(this,"version",dfe),Ss(this,"initialized",!1),Ss(this,"storagePrefix",Io),Ss(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Ss(this,"set",async(r,s,i)=>{this.isInitialized();const o=go(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===Bw.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,wge(yge({},c),{[o]:s}))}return await this.persist(),o}),Ss(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),Ss(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),Ss(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=go(s);return typeof i[o]<"u"}),Ss(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=go(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),Ss(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Nr(e,this.name),this.core=n}get context(){return Cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,kx(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,kx(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Ox(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?Ox(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var bge=Object.defineProperty,_ge=Object.defineProperties,Ege=Object.getOwnPropertyDescriptors,fO=Object.getOwnPropertySymbols,Cge=Object.prototype.hasOwnProperty,xge=Object.prototype.propertyIsEnumerable,Zx=(t,e,n)=>e in t?bge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xy=(t,e)=>{for(var n in e||(e={}))Cge.call(e,n)&&Zx(t,n,e[n]);if(fO)for(var n of fO(e))xge.call(e,n)&&Zx(t,n,e[n]);return t},F_=(t,e)=>_ge(t,Ege(e)),Ei=(t,e,n)=>Zx(t,typeof e!="symbol"?e+"":e,n);class Sge extends lne{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Ei(this,"events",new pi.EventEmitter),Ei(this,"name",hfe),Ei(this,"queue",new Map),Ei(this,"publishTimeout",pe.toMiliseconds(pe.ONE_MINUTE)),Ei(this,"initialPublishTimeout",pe.toMiliseconds(pe.ONE_SECOND*15)),Ei(this,"needsTransportRestart",!1),Ei(this,"publish",async(r,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const a=(i==null?void 0:i.ttl)||sO,c=W0(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,d=(i==null?void 0:i.id)||zl().toString(),h={topic:r,message:s,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},f=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const p=new Promise(async m=>{const w=({id:b})=>{h.opts.id===b&&(this.removeRequestFromQueue(b),this.relayer.events.removeListener(Vn.publish,w),m(h))};this.relayer.events.on(Vn.publish,w);const y=Sc(new Promise((b,v)=>{this.rpcPublish({topic:r,message:s,ttl:a,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(b).catch(E=>{this.logger.warn(E,E==null?void 0:E.message),v(E)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await y,this.events.removeListener(Vn.publish,w)}catch(b){this.queue.set(d,F_(Xy({},h),{attempt:1})),this.logger.warn(b,b==null?void 0:b.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:s,opts:i}}),await Sc(p,this.publishTimeout,f)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=i==null?void 0:i.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(d)}}),Ei(this,"on",(r,s)=>{this.events.on(r,s)}),Ei(this,"once",(r,s)=>{this.events.once(r,s)}),Ei(this,"off",(r,s)=>{this.events.off(r,s)}),Ei(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=Nr(n,this.name),this.registerEventListeners()}get context(){return Cs(this.logger)}async rpcPublish(e){var n,r,s,i;const{topic:o,message:a,ttl:c=sO,prompt:l,tag:u,id:d,attestation:h,tvf:f}=e,p={method:ap(W0().protocol).publish,params:Xy({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},f),id:d};or((n=p.params)==null?void 0:n.prompt)&&((r=p.params)==null||delete r.prompt),or((s=p.params)==null?void 0:s.tag)&&((i=p.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const m=await this.relayer.request(p);return this.relayer.events.emit(Vn.publish,e),this.logger.debug("Successfully Published Payload"),m}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,F_(Xy({},e),{attempt:r}));const{topic:s,message:i,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(F_(Xy({},e),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Lu.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Vn.connection_stalled);return}this.checkQueue()}),this.relayer.on(Vn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Age=Object.defineProperty,Ige=(t,e,n)=>e in t?Age(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,id=(t,e,n)=>Ige(t,typeof e!="symbol"?e+"":e,n);class Tge{constructor(){id(this,"map",new Map),id(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),id(this,"get",e=>this.map.get(e)||[]),id(this,"exists",(e,n)=>this.get(e).includes(n)),id(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),id(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Nge=Object.defineProperty,Pge=Object.defineProperties,kge=Object.getOwnPropertyDescriptors,pO=Object.getOwnPropertySymbols,Oge=Object.prototype.hasOwnProperty,Rge=Object.prototype.propertyIsEnumerable,Xx=(t,e,n)=>e in t?Nge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zf=(t,e)=>{for(var n in e||(e={}))Oge.call(e,n)&&Xx(t,n,e[n]);if(pO)for(var n of pO(e))Rge.call(e,n)&&Xx(t,n,e[n]);return t},z_=(t,e)=>Pge(t,kge(e)),qt=(t,e,n)=>Xx(t,typeof e!="symbol"?e+"":e,n);class $ge extends hne{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,qt(this,"subscriptions",new Map),qt(this,"topicMap",new Tge),qt(this,"events",new pi.EventEmitter),qt(this,"name",vfe),qt(this,"version",bfe),qt(this,"pending",new Map),qt(this,"cached",[]),qt(this,"initialized",!1),qt(this,"storagePrefix",Io),qt(this,"subscribeTimeout",pe.toMiliseconds(pe.ONE_MINUTE)),qt(this,"initialSubscribeTimeout",pe.toMiliseconds(pe.ONE_SECOND*15)),qt(this,"clientId"),qt(this,"batchSubscribeTopicsLimit",500),qt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),qt(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const i=W0(s),o={topic:r,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,i,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),a}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),qt(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),qt(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),qt(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),qt(this,"on",(r,s)=>{this.events.on(r,s)}),qt(this,"once",(r,s)=>{this.events.once(r,s)}),qt(this,"off",(r,s)=>{this.events.off(r,s)}),qt(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),qt(this,"start",async()=>{await this.onConnect()}),qt(this,"stop",async()=>{await this.onDisconnect()}),qt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),qt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),qt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Lu.pulse,async()=>{await this.checkPending()}),this.events.on(Ns.created,async r=>{const s=Ns.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(Ns.deleted,async r=>{const s=Ns.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=Nr(n,this.name),this.clientId=""}get context(){return Cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=W0(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const i=sn("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||(r==null?void 0:r.transportType)===en.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const i={method:ap(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===en.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(u=>this.logger.warn(u))},pe.toMiliseconds(pe.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(Ns.created,d),u(h.id))};this.events.on(Ns.created,d);try{const h=await Sc(new Promise((f,p)=>{this.relayer.request(i).catch(m=>{this.logger.warn(m,m==null?void 0:m.message),p(m)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ns.created,d),u(h)}catch{}}),l=await Sc(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Vn.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:ap(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Sc(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Vn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:ap(n.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await Sc(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Vn.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:ap(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,z_(zf({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,zf({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,zf({},n)),this.topicMap.set(n.topic,e),this.events.emit(Ns.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Ns.deleted,z_(zf({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ns.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Ns.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>z_(zf({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await Ice(pe.toMiliseconds(pe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return go(e+await this.getClientId())}}var Dge=Object.defineProperty,gO=Object.getOwnPropertySymbols,jge=Object.prototype.hasOwnProperty,Uge=Object.prototype.propertyIsEnumerable,eS=(t,e,n)=>e in t?Dge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mO=(t,e)=>{for(var n in e||(e={}))jge.call(e,n)&&eS(t,n,e[n]);if(gO)for(var n of gO(e))Uge.call(e,n)&&eS(t,n,e[n]);return t},Ct=(t,e,n)=>eS(t,typeof e!="symbol"?e+"":e,n);class Lge extends une{constructor(e){super(e),Ct(this,"protocol","wc"),Ct(this,"version",2),Ct(this,"core"),Ct(this,"logger"),Ct(this,"events",new pi.EventEmitter),Ct(this,"provider"),Ct(this,"messages"),Ct(this,"subscriber"),Ct(this,"publisher"),Ct(this,"name",pfe),Ct(this,"transportExplicitlyClosed",!1),Ct(this,"initialized",!1),Ct(this,"connectionAttemptInProgress",!1),Ct(this,"relayUrl"),Ct(this,"projectId"),Ct(this,"packageName"),Ct(this,"bundleId"),Ct(this,"hasExperiencedNetworkDisruption",!1),Ct(this,"pingTimeout"),Ct(this,"heartBeatTimeout",pe.toMiliseconds(pe.THIRTY_SECONDS+pe.FIVE_SECONDS)),Ct(this,"reconnectTimeout"),Ct(this,"connectPromise"),Ct(this,"reconnectInProgress",!1),Ct(this,"requestsInFlight",[]),Ct(this,"connectTimeout",pe.toMiliseconds(pe.ONE_SECOND*15)),Ct(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||zl().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),Ct(this,"resetPingTimeout",()=>{B0()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),Ct(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Ct(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Vn.connect)}),Ct(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Ct(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Vn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Ct(this,"registerProviderListeners",()=>{this.provider.on(Qs.payload,this.onPayloadHandler),this.provider.on(Qs.connect,this.onConnectHandler),this.provider.on(Qs.disconnect,this.onDisconnectHandler),this.provider.on(Qs.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Nr(e.logger,this.name):Om(Kh({level:e.logger||ffe})),this.messages=new vge(this.logger,e.core),this.subscriber=new $ge(this,this.logger),this.publisher=new Sge(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||mU,this.projectId=e.projectId,dce()?this.packageName=ik():hce()&&(this.bundleId=ik()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return Cs(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:en.relay},Bw.outbound)}async subscribe(e,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Ns.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Ns.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,mO({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Sc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Yk())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=Rn(pe.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(Vn.message,e),await this.recordMessageEvent(e,Bw.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(Qs.disconnect,i),await Sc(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(Qs.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Qs.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Qs.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,pe.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,i;if(B0())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new gi(new nfe(yce({sdkVersion:Kx,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),J2(e)){if(!e.method.endsWith(gfe))return;const n=e.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:en.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(mO({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else gb(e)&&this.events.emit(Vn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Bw.inbound),this.events.emit(Vn.message,e))}async acknowledgePayload(e){const n=fb(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Qs.payload,this.onPayloadHandler),this.provider.off(Qs.connect,this.onConnectHandler),this.provider.off(Qs.disconnect,this.onDisconnectHandler),this.provider.off(Qs.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Yk();rhe(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Lu.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&ohe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Vn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},pe.toMiliseconds(mfe)))))}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function Mge(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function yO(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function wO(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Bge="[object RegExp]",Fge="[object String]",zge="[object Number]",qge="[object Boolean]",vO="[object Arguments]",Wge="[object Symbol]",Hge="[object Date]",Vge="[object Map]",Gge="[object Set]",Kge="[object Array]",Yge="[object Function]",Qge="[object ArrayBuffer]",q_="[object Object]",Jge="[object Error]",Zge="[object DataView]",Xge="[object Uint8Array]",eme="[object Uint8ClampedArray]",tme="[object Uint16Array]",nme="[object Uint32Array]",rme="[object BigUint64Array]",sme="[object Int8Array]",ime="[object Int16Array]",ome="[object Int32Array]",ame="[object BigInt64Array]",cme="[object Float32Array]",lme="[object Float64Array]";function ume(){}function bO(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function dme(t,e,n){return cp(t,e,void 0,void 0,void 0,void 0,n)}function cp(t,e,n,r,s,i,o){const a=o(t,e,n,r,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Rp(t,e,i,o)}return Rp(t,e,i,o)}function Rp(t,e,n,r){if(Object.is(t,e))return!0;let s=wO(t),i=wO(e);if(s===vO&&(s=q_),i===vO&&(i=q_),s!==i)return!1;switch(s){case Fge:return t.toString()===e.toString();case zge:{const c=t.valueOf(),l=e.valueOf();return Mge(c,l)}case qge:case Hge:case Wge:return Object.is(t.valueOf(),e.valueOf());case Bge:return t.source===e.source&&t.flags===e.flags;case Yge:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(s){case Vge:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!cp(l,e.get(c),c,t,e,n,r))return!1;return!0}case Gge:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>cp(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case Kge:case Xge:case eme:case tme:case nme:case rme:case sme:case ime:case ome:case ame:case cme:case lme:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!cp(t[c],e[c],c,t,e,n,r))return!1;return!0}case Qge:return t.byteLength!==e.byteLength?!1:Rp(new Uint8Array(t),new Uint8Array(e),n,r);case Zge:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Rp(new Uint8Array(t),new Uint8Array(e),n,r);case Jge:return t.name===e.name&&t.message===e.message;case q_:{if(!(Rp(t.constructor,e.constructor,n,r)||bO(t)&&bO(e)))return!1;const c=[...Object.keys(t),...yO(t)],l=[...Object.keys(e),...yO(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!cp(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function hme(t,e){return dme(t,e,ume)}var fme=Object.defineProperty,_O=Object.getOwnPropertySymbols,pme=Object.prototype.hasOwnProperty,gme=Object.prototype.propertyIsEnumerable,tS=(t,e,n)=>e in t?fme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EO=(t,e)=>{for(var n in e||(e={}))pme.call(e,n)&&tS(t,n,e[n]);if(_O)for(var n of _O(e))gme.call(e,n)&&tS(t,n,e[n]);return t},es=(t,e,n)=>tS(t,typeof e!="symbol"?e+"":e,n);class Fu extends dne{constructor(e,n,r,s=Io,i=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,es(this,"map",new Map),es(this,"version",yfe),es(this,"cached",[]),es(this,"initialized",!1),es(this,"getKey"),es(this,"storagePrefix",Io),es(this,"recentlyDeleted",[]),es(this,"recentlyDeletedLimit",200),es(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!or(o)?this.map.set(this.getKey(o),o):$de(o)?this.map.set(o.id,o):Dde(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),es(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),es(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),es(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>hme(a[c],o[c]))):this.values)),es(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=EO(EO({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),es(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Nr(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=me("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var mme=Object.defineProperty,yme=(t,e,n)=>e in t?mme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dt=(t,e,n)=>yme(t,typeof e!="symbol"?e+"":e,n);class wme{constructor(e,n){this.core=e,this.logger=n,dt(this,"name",_fe),dt(this,"version",Efe),dt(this,"events",new v2),dt(this,"pairings"),dt(this,"initialized",!1),dt(this,"storagePrefix",Io),dt(this,"ignoredPayloadTypes",[ua]),dt(this,"registeredMethods",[]),dt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),dt(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),dt(this,"create",async r=>{this.isInitialized();const s=zx(),i=await this.core.crypto.setSymKey(s),o=Rn(pe.FIVE_MINUTES),a={protocol:gU},c={topic:i,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=Bk({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(Nl.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r==null?void 0:r.transportType}),{topic:i,uri:l}}),dt(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[io.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=Mk(r.uri);s.props.properties.topic=i,s.addTrace(io.pairing_uri_validation_success),s.addTrace(io.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(io.existing_pairing),u.active)throw s.setError(Ko.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(io.pairing_not_expired)}const d=c||Rn(pe.FIVE_MINUTES),h={topic:i,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(i,d),await this.pairings.set(i,h),s.addTrace(io.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(Nl.create,h),s.addTrace(io.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(io.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Ko.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(f){throw s.setError(Ko.subscribe_pairing_topic_failure),f}return s.addTrace(io.subscribe_pairing_topic_success),h}),dt(this,"activate",async({topic:r})=>{this.isInitialized();const s=Rn(pe.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),dt(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Sl();this.events.once(Nt("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),dt(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),dt(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),dt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),dt(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",sn("USER_DISCONNECTED")),await this.deletePairing(s))}),dt(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return Bk({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),dt(this,"sendRequest",async(r,s,i)=>{const o=Ac(s,i),a=await this.core.crypto.encode(r,o),c=Bf[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),dt(this,"sendResult",async(r,s,i)=>{const o=fb(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Bf[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),dt(this,"sendError",async(r,s,i)=>{const o=pb(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Bf[c]?Bf[c].res:Bf.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),dt(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,sn("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),dt(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>ec(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),dt(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),dt(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),dt(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(Nl.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),dt(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{co(s)?this.events.emit(Nt("pairing_ping",i),{}):ni(s)&&this.events.emit(Nt("pairing_ping",i),{error:s.error})},500)}),dt(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Nl.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),dt(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=sn("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),dt(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(sn("WC_METHOD_UNSUPPORTED",r))}),dt(this,"isValidPair",(r,s)=>{var i;if(!os(r)){const{message:a}=me("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(Ko.malformed_pairing_uri),new Error(a)}if(!Rde(r.uri)){const{message:a}=me("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(Ko.malformed_pairing_uri),new Error(a)}const o=Mk(r==null?void 0:r.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=me("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(Ko.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=me("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(Ko.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&pe.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(Ko.pairing_expired);const{message:a}=me("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),dt(this,"isValidPing",async r=>{if(!os(r)){const{message:i}=me("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),dt(this,"isValidDisconnect",async r=>{if(!os(r)){const{message:i}=me("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),dt(this,"isValidPairingTopic",async r=>{if(!Tn(r,!1)){const{message:s}=me("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=me("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(ec(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=me("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=Nr(n,this.name),this.pairings=new Fu(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Cs(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Vn.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==en.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);J2(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):gb(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(ei.expired,async e=>{const{topic:n}=f4(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Nl.expire,{topic:n}))})}}var vme=Object.defineProperty,bme=(t,e,n)=>e in t?vme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nr=(t,e,n)=>bme(t,typeof e!="symbol"?e+"":e,n);class _me extends ane{constructor(e,n){super(e,n),this.core=e,this.logger=n,nr(this,"records",new Map),nr(this,"events",new pi.EventEmitter),nr(this,"name",Cfe),nr(this,"version",xfe),nr(this,"cached",[]),nr(this,"initialized",!1),nr(this,"storagePrefix",Io),nr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),nr(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:Rn(pe.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(bi.created,o)}),nr(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=ni(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(bi.updated,s))}),nr(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),nr(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(bi.deleted,i)}}),this.persist()}),nr(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),nr(this,"on",(r,s)=>{this.events.on(r,s)}),nr(this,"once",(r,s)=>{this.events.once(r,s)}),nr(this,"off",(r,s)=>{this.events.off(r,s)}),nr(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Nr(n,this.name)}get context(){return Cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Ac(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(bi.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(bi.created,e=>{const n=bi.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(bi.updated,e=>{const n=bi.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(bi.deleted,e=>{const n=bi.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Lu.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{pe.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(bi.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Eme=Object.defineProperty,Cme=(t,e,n)=>e in t?Eme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cr=(t,e,n)=>Cme(t,typeof e!="symbol"?e+"":e,n);class xme extends fne{constructor(e,n){super(e,n),this.core=e,this.logger=n,Cr(this,"expirations",new Map),Cr(this,"events",new pi.EventEmitter),Cr(this,"name",Sfe),Cr(this,"version",Afe),Cr(this,"cached",[]),Cr(this,"initialized",!1),Cr(this,"storagePrefix",Io),Cr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Cr(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Cr(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(ei.created,{target:i,expiration:o})}),Cr(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Cr(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(ei.deleted,{target:s,expiration:i})}}),Cr(this,"on",(r,s)=>{this.events.on(r,s)}),Cr(this,"once",(r,s)=>{this.events.once(r,s)}),Cr(this,"off",(r,s)=>{this.events.off(r,s)}),Cr(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Nr(n,this.name)}get context(){return Cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return wce(e);if(typeof e=="number")return vce(e);const{message:n}=me("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ei.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;pe.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(ei.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Lu.pulse,()=>this.checkExpirations()),this.events.on(ei.created,e=>{const n=ei.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(ei.expired,e=>{const n=ei.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(ei.deleted,e=>{const n=ei.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Sme=Object.defineProperty,Ame=(t,e,n)=>e in t?Sme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,An=(t,e,n)=>Ame(t,typeof e!="symbol"?e+"":e,n);class Ime extends pne{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,An(this,"name",Ife),An(this,"abortController"),An(this,"isDevEnv"),An(this,"verifyUrlV3",Nfe),An(this,"storagePrefix",Io),An(this,"version",pU),An(this,"publicKey"),An(this,"fetchPromise"),An(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&pe.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),An(this,"register",async s=>{if(!ef()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=_u(),u=this.startAbortTimer(pe.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",w),l.body.removeChild(m),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const m=l.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",p,{signal:this.abortController.signal});const w=y=>{if(y.data&&typeof y.data=="string")try{const b=JSON.parse(y.data);if(b.type==="verify_attestation"){if(xx(b.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(m),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",w),h(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};l.body.appendChild(m),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),An(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(xx(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),An(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(pe.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),An(this,"getVerifyUrl",s=>{let i=s||Op;return Pfe.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${Op}`),i=Op),i}),An(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(pe.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),An(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),An(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),An(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),An(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),An(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),An(this,"validateAttestation",(s,i)=>{const o=hde(s,i.publicKey),a={hasExpired:pe.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Nr(n,this.name),this.abortController=new AbortController,this.isDevEnv=j2(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Cs(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),pe.toMiliseconds(e))}}var Tme=Object.defineProperty,Nme=(t,e,n)=>e in t?Tme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CO=(t,e,n)=>Nme(t,typeof e!="symbol"?e+"":e,n);class Pme extends gne{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,CO(this,"context",kfe),CO(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${Ofe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=Nr(n,this.context)}}var kme=Object.defineProperty,xO=Object.getOwnPropertySymbols,Ome=Object.prototype.hasOwnProperty,Rme=Object.prototype.propertyIsEnumerable,nS=(t,e,n)=>e in t?kme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qf=(t,e)=>{for(var n in e||(e={}))Ome.call(e,n)&&nS(t,n,e[n]);if(xO)for(var n of xO(e))Rme.call(e,n)&&nS(t,n,e[n]);return t},Fn=(t,e,n)=>nS(t,typeof e!="symbol"?e+"":e,n);class $me extends mne{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Fn(this,"context",$fe),Fn(this,"storagePrefix",Io),Fn(this,"storageVersion",Rfe),Fn(this,"events",new Map),Fn(this,"shouldPersist",!1),Fn(this,"init",async()=>{if(!j2())try{const s={eventId:ak(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:d4(this.core.relayer.protocol,this.core.relayer.version,Kx)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),Fn(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=ak(),u=this.core.projectId||"",d=Date.now(),h=qf({eventId:l,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),Fn(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return qf(qf({},a),this.setMethods(a.eventId))}),Fn(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),Fn(this,"setEventListeners",()=>{this.core.heartbeat.on(Lu.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{pe.fromMiliseconds(Date.now())-pe.fromMiliseconds(s.timestamp)>Dfe&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),Fn(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),Fn(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),Fn(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),Fn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Fn(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,qf(qf({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),Fn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),Fn(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${jfe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Kx}${i}`,{method:"POST",body:JSON.stringify(s)})}),Fn(this,"getAppDomain",()=>u4().url),this.logger=Nr(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Dme=Object.defineProperty,SO=Object.getOwnPropertySymbols,jme=Object.prototype.hasOwnProperty,Ume=Object.prototype.propertyIsEnumerable,rS=(t,e,n)=>e in t?Dme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AO=(t,e)=>{for(var n in e||(e={}))jme.call(e,n)&&rS(t,n,e[n]);if(SO)for(var n of SO(e))Ume.call(e,n)&&rS(t,n,e[n]);return t},Vt=(t,e,n)=>rS(t,typeof e!="symbol"?e+"":e,n);let Lme=class NU extends rne{constructor(e){var n;super(e),Vt(this,"protocol",fU),Vt(this,"version",pU),Vt(this,"name",Gx),Vt(this,"relayUrl"),Vt(this,"projectId"),Vt(this,"customStoragePrefix"),Vt(this,"events",new pi.EventEmitter),Vt(this,"logger"),Vt(this,"heartbeat"),Vt(this,"relayer"),Vt(this,"crypto"),Vt(this,"storage"),Vt(this,"history"),Vt(this,"expirer"),Vt(this,"pairing"),Vt(this,"verify"),Vt(this,"echoClient"),Vt(this,"linkModeSupportedApps"),Vt(this,"eventClient"),Vt(this,"initialized",!1),Vt(this,"logChunkController"),Vt(this,"on",(a,c)=>this.events.on(a,c)),Vt(this,"once",(a,c)=>this.events.once(a,c)),Vt(this,"off",(a,c)=>this.events.off(a,c)),Vt(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Vt(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:en.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||mU,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=Kh({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:sfe.logger,name:Gx}),{logger:i,chunkLoggerController:o}=_2({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Nr(i,this.name),this.heartbeat=new Hee,this.crypto=new dge(this,this.logger,e==null?void 0:e.keychain),this.history=new _me(this,this.logger),this.expirer=new xme(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Ite(AO(AO({},ife),e==null?void 0:e.storageOptions)),this.relayer=new Lge({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new wme(this,this.logger),this.verify=new Ime(this,this.logger,this.storage),this.echoClient=new Pme(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new $me(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new NU(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(wfe,r),n}get context(){return Cs(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(iO,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(iO)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&rfe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const Mme=Lme,PU="wc",kU=2,OU="client",Z2=`${PU}@${kU}:${OU}:`,W_={name:OU,logger:"error"},IO="WALLETCONNECT_DEEPLINK_CHOICE",Bme="proposal",TO="Proposal expired",Fme="session",od=pe.SEVEN_DAYS,zme="engine",zn={wc_sessionPropose:{req:{ttl:pe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:pe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:pe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:pe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:pe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:pe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:pe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:pe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:pe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1119}}},H_={min:pe.FIVE_MINUTES,max:pe.SEVEN_DAYS},so={idle:"IDLE",active:"ACTIVE"},qme={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Wme="request",Hme=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Vme="wc",Gme="auth",Kme="authKeys",Yme="pairingTopics",Qme="requests",yb=`${Vme}@${1.5}:${Gme}:`,Fw=`${yb}:PUB_KEY`;var Jme=Object.defineProperty,Zme=Object.defineProperties,Xme=Object.getOwnPropertyDescriptors,NO=Object.getOwnPropertySymbols,eye=Object.prototype.hasOwnProperty,tye=Object.prototype.propertyIsEnumerable,sS=(t,e,n)=>e in t?Jme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zt=(t,e)=>{for(var n in e||(e={}))eye.call(e,n)&&sS(t,n,e[n]);if(NO)for(var n of NO(e))tye.call(e,n)&&sS(t,n,e[n]);return t},ts=(t,e)=>Zme(t,Xme(e)),le=(t,e,n)=>sS(t,typeof e!="symbol"?e+"":e,n);class nye extends bne{constructor(e){super(e),le(this,"name",zme),le(this,"events",new v2),le(this,"initialized",!1),le(this,"requestQueue",{state:so.idle,queue:[]}),le(this,"sessionRequestQueue",{state:so.idle,queue:[]}),le(this,"requestQueueDelay",pe.ONE_SECOND),le(this,"expectedPairingMethodMap",new Map),le(this,"recentlyDeletedMap",new Map),le(this,"recentlyDeletedLimit",200),le(this,"relayMessageCache",[]),le(this,"pendingSessions",new Map),le(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(zn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},pe.toMiliseconds(this.requestQueueDelay)))}),le(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=ts(Zt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=Tde(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,d,h=!1;try{if(u){const x=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=x.active}}catch(x){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),x}if(!u||!h){const{topic:x,uri:S}=await this.client.core.pairing.create();u=x,d=S}if(!u){const{message:x}=me("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(x)}const f=await this.client.core.crypto.generateKeyPair(),p=zn.wc_sessionPropose.req.ttl||pe.FIVE_MINUTES,m=Rn(p),w=ts(Zt(Zt({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:gU}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:ao()}),y=Nt("session_connect",w.id),{reject:b,resolve:v,done:E}=Sl(p,TO),_=({id:x})=>{x===w.id&&(this.client.events.off("proposal_expire",_),this.pendingSessions.delete(w.id),this.events.emit(y,{error:{message:TO,code:0}}))};return this.client.events.on("proposal_expire",_),this.events.once(y,({error:x,session:S})=>{this.client.events.off("proposal_expire",_),x?b(x):S&&v(S)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:w,throwOnFailedPublish:!0,clientRpcId:w.id}),await this.setProposal(w.id,w),{uri:d,approval:E}}),le(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),le(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[_i.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(C){throw o.setError(wl.no_internet_connection),C}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(C){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(wl.proposal_not_found),C}try{await this.isValidApprove(n)}catch(C){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(wl.session_approve_namespace_validation_failure),C}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:m,requiredNamespaces:w,optionalNamespaces:y}=f;let b=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});b||(b=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:_i.session_approve_started,properties:{topic:p,trace:[_i.session_approve_started,_i.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),E=m.publicKey,_=await this.client.core.crypto.generateSharedKey(v,E),x=Zt(Zt(Zt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:v,metadata:this.client.metadata},expiry:Rn(od)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),S=en.relay;b.addTrace(_i.subscribing_session_topic);try{await this.client.core.relayer.subscribe(_,{transportType:S})}catch(C){throw b.setError(wl.subscribe_session_topic_failure),C}b.addTrace(_i.subscribe_session_topic_success);const A=ts(Zt({},x),{topic:_,requiredNamespaces:w,optionalNamespaces:y,pairingTopic:p,acknowledged:!1,self:x.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:v,transportType:en.relay});await this.client.session.set(_,A),b.addTrace(_i.store_session);try{b.addTrace(_i.publishing_session_settle),await this.sendRequest({topic:_,method:"wc_sessionSettle",params:x,throwOnFailedPublish:!0}).catch(C=>{throw b==null||b.setError(wl.session_settle_publish_failure),C}),b.addTrace(_i.session_settle_publish_success),b.addTrace(_i.publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:v},throwOnFailedPublish:!0}).catch(C=>{throw b==null||b.setError(wl.session_approve_publish_failure),C}),b.addTrace(_i.session_approve_publish_success)}catch(C){throw this.client.logger.error(C),this.client.session.delete(_,sn("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(_),C}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:m.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(_,Rn(od)),{topic:_,acknowledged:()=>Promise.resolve(this.client.session.get(_))}}),le(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:zn.wc_sessionPropose.reject}),await this.deleteProposal(r)}),le(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=Sl(),c=ao(),l=zl().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Nt("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:i}}),le(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=ao(),{done:i,resolve:o,reject:a}=Sl();return this.events.once(Nt("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,Rn(od)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),le(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:r,request:s,topic:i,expiry:o=zn.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);(a==null?void 0:a.transportType)===en.relay&&await this.confirmOnlineStateOrThrow();const c=ao(),l=zl().toString(),{done:u,resolve:d,reject:h}=Sl(o,"Request expired. Please try again.");this.events.once(Nt("session_request",c),({error:w,result:y})=>{w?h(w):d(y)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:{request:ts(Zt({},s),{expiryTimestamp:Rn(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(w=>h(w)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const m={request:ts(Zt({},s),{expiryTimestamp:Rn(o)}),chainId:r};return await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:m,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,m)}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),w()}),new Promise(async w=>{var y;if(!((y=a.sessionConfig)!=null&&y.disableDeepLink)){const b=await Cce(this.client.core.storage,IO);await bce({id:c,topic:i,wcDeepLink:b})}w()}),u()]).then(w=>w[2])}),le(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===en.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);co(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):ni(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),le(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=ao(),i=zl().toString(),{done:o,resolve:a,reject:c}=Sl();this.events.once(Nt("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),le(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=zl().toString(),a=ao();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),le(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:sn("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=me("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),le(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>kde(r,n)))),le(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),le(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?en.link_mode:en.relay;o===en.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:m=[],expiry:w}=n,y=[...n.resources||[]],{topic:b,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:v}});const E=await this.client.core.crypto.generateKeyPair(),_=Mw(E);if(await Promise.all([this.client.auth.authKeys.set(Fw,{responseTopic:_,publicKey:E}),this.client.auth.pairingTopics.set(_,{topic:_,pairingTopic:b})]),await this.client.core.relayer.subscribe(_,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),m.length>0){const{namespace:$}=Xd(a[0]);let j=Lle($,"request",m);Lw(y)&&(j=Ble(j,y.pop())),y.push(j)}const x=w&&w>zn.wc_sessionAuthenticate.req.ttl?w:zn.wc_sessionAuthenticate.req.ttl,S={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:y},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:Rn(x)},A={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},C={requiredNamespaces:{},optionalNamespaces:A,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:Rn(zn.wc_sessionPropose.req.ttl),id:ao()},{done:k,resolve:O,reject:B}=Sl(x,"Request expired"),F=ao(),V=Nt("session_connect",C.id),I=Nt("session_request",F),N=async({error:$,session:j})=>{this.events.off(I,L),$?B($):j&&O({session:j})},L=async $=>{var j,q,J;if(await this.deletePendingAuthRequest(F,{message:"fulfilled",code:0}),$.error){const oe=sn("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return $.error.code===oe.code?void 0:(this.events.off(V,N),B($.error.message))}await this.deleteProposal(C.id),this.events.off(V,N);const{cacaos:se,responder:ne}=$.result,ie=[],ye=[];for(const oe of se){await wk({cacao:oe,projectId:this.client.core.projectId})||(this.client.logger.error(oe,"Signature verification failed"),B(sn("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ee}=oe,he=Lw(ee.resources),Me=[Rx(ee.iss)],Te=F0(ee.iss);if(he){const Ce=vk(he),Le=bk(he);ie.push(...Ce),Me.push(...Le)}for(const Ce of Me)ye.push(`${Ce}:${Te}`)}const Y=await this.client.core.crypto.generateSharedKey(E,ne.publicKey);let Z;ie.length>0&&(Z={topic:Y,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:ne,controller:ne.publicKey,expiry:Rn(od),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:Wk([...new Set(ie)],[...new Set(ye)]),transportType:o},await this.client.core.relayer.subscribe(Y,{transportType:o}),await this.client.session.set(Y,Z),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:ne.metadata}),Z=this.client.session.get(Y)),(j=this.client.metadata.redirect)!=null&&j.linkMode&&(q=ne.metadata.redirect)!=null&&q.linkMode&&(J=ne.metadata.redirect)!=null&&J.universal&&r&&(this.client.core.addLinkModeSupportedApp(ne.metadata.redirect.universal),this.client.session.update(Y,{transportType:en.link_mode})),O({auths:se,session:Z})};this.events.once(V,N),this.events.once(I,L);let D;try{if(i){const $=Ac("wc_sessionAuthenticate",S,F);this.client.core.history.set(b,$);const j=await this.client.core.crypto.encode("",$,{type:Mm,encoding:ac});D=Zy(r,b,j)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:S,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:F}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:C,expiry:zn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:C.id})])}catch($){throw this.events.off(V,N),this.events.off(I,L),$}return await this.setProposal(C.id,C),await this.setAuthRequest(F,{request:ts(Zt({},S),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:D??v,response:k}}),le(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[vl.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw i.setError(Ff.no_internet_connection),w}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(Ff.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||en.relay;a===en.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Mw(c),d={type:ua,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const w of s){if(!await wk({cacao:w,projectId:this.client.core.projectId})){i.setError(Ff.invalid_cacao);const _=sn("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:_,encodeOpts:d}),new Error(_.message)}i.addTrace(vl.cacaos_verified);const{p:y}=w,b=Lw(y.resources),v=[Rx(y.iss)],E=F0(y.iss);if(b){const _=vk(b),x=bk(b);h.push(..._),v.push(...x)}for(const _ of v)f.push(`${_}:${E}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(vl.create_authenticated_session_topic);let m;if((h==null?void 0:h.length)>0){m={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Rn(od),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:Wk([...new Set(h)],[...new Set(f)]),transportType:a},i.addTrace(vl.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(w){throw i.setError(Ff.subscribe_authenticated_session_topic_failure),w}i.addTrace(vl.subscribe_authenticated_session_topic_success),await this.client.session.set(p,m),i.addTrace(vl.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(vl.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw i.setError(Ff.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:m}}),le(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===en.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Mw(o),l={type:ua,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:zn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),le(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return T4(r,s)}),le(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),le(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),le(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,sn("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(IO).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,sn("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=so.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),le(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(wl.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,sn("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),le(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=so.idle,this.client.events.emit("session_request_expire",{id:n}))}),le(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),le(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),le(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Rn(zn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),le(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=en.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),le(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||Rn(zn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),le(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,h=Ac(s,i,c);let f;const p=!!u;try{const y=p?ac:Li;f=await this.client.core.crypto.encode(r,h,{encoding:y})}catch(y){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),y}let m;if(Hme.includes(s)){const y=go(JSON.stringify(h)),b=go(f);m=await this.client.core.verify.register({id:b,decryptedId:y})}const w=zn[s].req;if(w.attestation=m,o&&(w.ttl=o),a&&(w.id=a),this.client.core.history.set(r,h),p){const y=Zy(u,r,f);await global.Linking.openURL(y,this.client.name)}else{const y=zn[s].req;o&&(y.ttl=o),a&&(y.id=a),y.tvf=ts(Zt({},d),{correlationId:h.id}),l?(y.internal=ts(Zt({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,f,y)):this.client.core.relayer.publish(r,f,y).catch(b=>this.client.logger.error(b))}return h.id}),le(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=fb(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?ac:Li;u=await this.client.core.crypto.encode(s,l,ts(Zt({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let h,f;try{h=await this.client.core.history.get(s,r);const p=h.request;try{f=this.getTVFParams(r,p.params,i)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m==null?void 0:m.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(d){const p=Zy(c,s,u);await global.Linking.openURL(p,this.client.name)}else{const p=h.request.method,m=zn[p].res;m.tvf=ts(Zt({},f),{correlationId:r}),o?(m.internal=ts(Zt({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,m)):this.client.core.relayer.publish(s,u,m).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(l)}),le(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=pb(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?ac:Li;u=await this.client.core.crypto.encode(s,l,ts(Zt({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),f}let h;try{h=await this.client.core.history.get(s,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),f}if(d){const f=Zy(c,s,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=a||zn[f].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),le(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;ec(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{ec(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),le(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),le(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),le(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===so.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=so.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=so.idle}),le(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),le(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),le(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=me("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),le(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),le(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(Ko.proposal_listener_not_found)),this.isValidConnect(Zt({},s.params));const u=a.expiryTimestamp||Rn(zn.wc_sessionPropose.req.ttl),d=Zt({id:c,pairingTopic:r,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:i,hash:go(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(io.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:zn.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),le(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(co(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(ni(r)){await this.deleteProposal(i);const o=Nt("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),le(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(w=>w.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(f.proposalId),m=ts(Zt(Zt(Zt({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:en.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(Nt("session_connect",f.proposalId),{session:m}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),le(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;co(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Nt("session_approve",s),{})):ni(r)&&(await this.client.session.delete(n,sn("USER_DISCONNECTED")),this.events.emit(Nt("session_approve",s),{error:r.error}))}),le(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=Mf.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:sn("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Zt({topic:n},s));try{Mf.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(c){throw Mf.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),le(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),le(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=Nt("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);co(r)?this.events.emit(Nt("session_update",s),{}):ni(r)&&this.events.emit(Nt("session_update",s),{error:r.error})}),le(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Rn(od)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),le(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=Nt("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);co(r)?this.events.emit(Nt("session_extend",s),{}):ni(r)&&this.events.emit(Nt("session_extend",s),{error:r.error})}),le(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),le(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=Nt("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);co(r)?this.events.emit(Nt("session_ping",s),{}):ni(r)&&this.events.emit(Nt("session_ping",s),{error:r.error})},500)}),le(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(Vn.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:sn("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),le(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(Zt({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:go(JSON.stringify(Ac("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),m={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(m),u===en.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=f.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),le(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=Nt("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);co(r)?this.events.emit(Nt("session_request",s),{result:r.result}):ni(r)&&this.events.emit(Nt("session_request",s),{error:r.error})}),le(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=Mf.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Zt({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),Mf.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),le(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),co(r)?this.events.emit(Nt("session_request",s),{result:r.result}):ni(r)&&this.events.emit(Nt("session_request",s),{error:r.error})}),le(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=i.params,h=await this.getVerifyContext({attestationId:o,hash:go(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:f,pairingTopic:s,transportType:c}),c===en.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(i.params.requester.metadata,c),f={type:ua,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:f,rpcOpts:zn.wc_sessionAuthenticate.autoReject,appLink:h})}}),le(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),le(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=so.idle,this.processSessionRequestQueue()},pe.toMiliseconds(this.requestQueueDelay))}),le(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=Nt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Nt("session_request",i.request.id),{error:r})})}),le(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===so.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=so.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),le(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),le(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Ac("wc_sessionPropose",ts(Zt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),le(this,"isValidConnect",async n=>{if(!os(n)){const{message:l}=me("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(or(r)||await this.isValidPairingTopic(r),!qde(c)){const{message:l}=me("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!or(s)&&qc(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(!or(i)&&qc(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),or(o)||this.validateSessionProps(o,"sessionProperties"),!or(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),le(this,"validateNamespaces",(n,r)=>{const s=zde(n,"connect()",r);if(s)throw new Error(s.message)}),le(this,"isValidApprove",async n=>{if(!os(n))throw new Error(me("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=L_(s,"approve()");if(l)throw new Error(l.message);const u=Gk(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!Tn(i,!0)){const{message:d}=me("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(or(o)||this.validateSessionProps(o,"sessionProperties"),!or(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(h=>d.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),le(this,"isValidReject",async n=>{if(!os(n)){const{message:i}=me("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Hde(s)){const{message:i}=me("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),le(this,"isValidSessionSettleRequest",n=>{if(!os(n)){const{message:l}=me("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!iU(r)){const{message:l}=me("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=jde(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=L_(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(ec(o)){const{message:l}=me("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),le(this,"isValidUpdate",async n=>{if(!os(n)){const{message:c}=me("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=L_(s,"update()");if(o)throw new Error(o.message);const a=Gk(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),le(this,"isValidExtend",async n=>{if(!os(n)){const{message:s}=me("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),le(this,"isValidRequest",async n=>{if(!os(n)){const{message:c}=me("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!Vk(a,i)){const{message:c}=me("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!Vde(s)){const{message:c}=me("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!Yde(a,i,s.method)){const{message:c}=me("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!Xde(o,H_)){const{message:c}=me("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${H_.min} and ${H_.max}`);throw new Error(c)}}),le(this,"isValidRespond",async n=>{var r;if(!os(n)){const{message:o}=me("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Gde(i)){const{message:o}=me("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),le(this,"isValidPing",async n=>{if(!os(n)){const{message:s}=me("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),le(this,"isValidEmit",async n=>{if(!os(n)){const{message:a}=me("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!Vk(o,i)){const{message:a}=me("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!Kde(s)){const{message:a}=me("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!Qde(o,i,s.name)){const{message:a}=me("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),le(this,"isValidDisconnect",async n=>{if(!os(n)){const{message:s}=me("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),le(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Tn(s,!1))throw new Error("uri is required parameter");if(!Tn(i,!1))throw new Error("domain is required parameter");if(!Tn(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Xd(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Xd(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),le(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||Op,validation:"UNKNOWN",origin:o.url||""}};try{if(a===en.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),le(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=me("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),le(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),le(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),le(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=me("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),le(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,d,h;return!n||r!==en.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),le(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),le(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=ok(n,"topic")||"",s=decodeURIComponent(ok(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:en.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),le(this,"registerLinkModeListeners",async()=>{var n;if(j2()||cl()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),le(this,"getTVFParams",(n,r,s)=>{var i,o,a;if(!((i=r.request)!=null&&i.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),le(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),le(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=qme[i];if(i==="sui_signTransaction")return[Ele(r.transactionBytes)];if(i==="near_signTransaction")return[pk(r)];if(i==="near_signTransactions")return r.map(c=>pk(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[phe({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return da(r)?r.map(c=>gk(c)):[gk(r)];if(i==="cosmos_signDirect")return[xle(r)];if(typeof r=="string")return[r];const a=r[o.key];if(da(a))return i==="solana_signAllTransactions"?a.map(c=>_le(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Vn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(Fw)?this.client.auth.authKeys.get(Fw):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===en.link_mode?ac:Li});J2(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:go(r)})):gb(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(ei.expired,async e=>{const{topic:n,id:r}=f4(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,me("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,me("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Nl.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Nl.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Tn(e,!1)){const{message:n}=me("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=me("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(ec(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=me("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Tn(e,!1)){const{message:n}=me("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=me("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(ec(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=me("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=me("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Tn(e,!1)){const{message:n}=me("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=me("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!Wde(e)){const{message:n}=me("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=me("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(ec(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=me("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class rye extends Fu{constructor(e,n){super(e,n,Bme,Z2),this.core=e,this.logger=n}}let sye=class extends Fu{constructor(e,n){super(e,n,Fme,Z2),this.core=e,this.logger=n}};class iye extends Fu{constructor(e,n){super(e,n,Wme,Z2,r=>r.id),this.core=e,this.logger=n}}class oye extends Fu{constructor(e,n){super(e,n,Kme,yb,()=>Fw),this.core=e,this.logger=n}}class aye extends Fu{constructor(e,n){super(e,n,Yme,yb),this.core=e,this.logger=n}}class cye extends Fu{constructor(e,n){super(e,n,Qme,yb,r=>r.id),this.core=e,this.logger=n}}var lye=Object.defineProperty,uye=(t,e,n)=>e in t?lye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V_=(t,e,n)=>uye(t,typeof e!="symbol"?e+"":e,n);class dye{constructor(e,n){this.core=e,this.logger=n,V_(this,"authKeys"),V_(this,"pairingTopics"),V_(this,"requests"),this.authKeys=new oye(this.core,this.logger),this.pairingTopics=new aye(this.core,this.logger),this.requests=new cye(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var hye=Object.defineProperty,fye=(t,e,n)=>e in t?hye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ht=(t,e,n)=>fye(t,typeof e!="symbol"?e+"":e,n);let pye=class RU extends vne{constructor(e){super(e),ht(this,"protocol",PU),ht(this,"version",kU),ht(this,"name",W_.name),ht(this,"metadata"),ht(this,"core"),ht(this,"logger"),ht(this,"events",new pi.EventEmitter),ht(this,"engine"),ht(this,"session"),ht(this,"proposal"),ht(this,"pendingRequest"),ht(this,"auth"),ht(this,"signConfig"),ht(this,"on",(r,s)=>this.events.on(r,s)),ht(this,"once",(r,s)=>this.events.once(r,s)),ht(this,"off",(r,s)=>this.events.off(r,s)),ht(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),ht(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),ht(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),ht(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),ht(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),ht(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||W_.name,this.metadata=pce(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Om(Kh({level:(e==null?void 0:e.logger)||W_.logger}));this.core=(e==null?void 0:e.core)||new Mme(e),this.logger=Nr(n,this.name),this.session=new sye(this.core,this.logger),this.proposal=new rye(this.core,this.logger),this.pendingRequest=new iye(this.core,this.logger),this.engine=new nye(this),this.auth=new dye(this.core,this.logger)}static async init(e){const n=new RU(e);return await n.initialize(),n}get context(){return Cs(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},pe.toMiliseconds(pe.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var iS={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof wn<"u"&&wn,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof wn<"u"&&wn||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(I){return I&&DataView.prototype.isPrototypeOf(I)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(I){return I&&u.indexOf(Object.prototype.toString.call(I))>-1};function h(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(I)||I==="")throw new TypeError('Invalid character in header field name: "'+I+'"');return I.toLowerCase()}function f(I){return typeof I!="string"&&(I=String(I)),I}function p(I){var N={next:function(){var L=I.shift();return{done:L===void 0,value:L}}};return c.iterable&&(N[Symbol.iterator]=function(){return N}),N}function m(I){this.map={},I instanceof m?I.forEach(function(N,L){this.append(L,N)},this):Array.isArray(I)?I.forEach(function(N){if(N.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+N.length);this.append(N[0],N[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(N){this.append(N,I[N])},this)}m.prototype.append=function(I,N){I=h(I),N=f(N);var L=this.map[I];this.map[I]=L?L+", "+N:N},m.prototype.delete=function(I){delete this.map[h(I)]},m.prototype.get=function(I){return I=h(I),this.has(I)?this.map[I]:null},m.prototype.has=function(I){return this.map.hasOwnProperty(h(I))},m.prototype.set=function(I,N){this.map[h(I)]=f(N)},m.prototype.forEach=function(I,N){for(var L in this.map)this.map.hasOwnProperty(L)&&I.call(N,this.map[L],L,this)},m.prototype.keys=function(){var I=[];return this.forEach(function(N,L){I.push(L)}),p(I)},m.prototype.values=function(){var I=[];return this.forEach(function(N){I.push(N)}),p(I)},m.prototype.entries=function(){var I=[];return this.forEach(function(N,L){I.push([L,N])}),p(I)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function w(I){if(!I._noBody){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}}function y(I){return new Promise(function(N,L){I.onload=function(){N(I.result)},I.onerror=function(){L(I.error)}})}function b(I){var N=new FileReader,L=y(N);return N.readAsArrayBuffer(I),L}function v(I){var N=new FileReader,L=y(N),D=/charset=([A-Za-z0-9_-]+)/.exec(I.type),$=D?D[1]:"utf-8";return N.readAsText(I,$),L}function E(I){for(var N=new Uint8Array(I),L=new Array(N.length),D=0;D<N.length;D++)L[D]=String.fromCharCode(N[D]);return L.join("")}function _(I){if(I.slice)return I.slice(0);var N=new Uint8Array(I.byteLength);return N.set(new Uint8Array(I)),N.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(I){this.bodyUsed=this.bodyUsed,this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:c.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:c.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():c.arrayBuffer&&c.blob&&l(I)?(this._bodyArrayBuffer=_(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||d(I))?this._bodyArrayBuffer=_(I):this._bodyText=I=Object.prototype.toString.call(I):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var I=w(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var I=w(this);return I||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var I=w(this);if(I)return I;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function A(I){var N=I.toUpperCase();return S.indexOf(N)>-1?N:I}function C(I,N){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');N=N||{};var L=N.body;if(I instanceof C){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,N.headers||(this.headers=new m(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!L&&I._bodyInit!=null&&(L=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new m(N.headers)),this.method=A(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal||function(){if("AbortController"in a){var j=new AbortController;return j.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(L),(this.method==="GET"||this.method==="HEAD")&&(N.cache==="no-store"||N.cache==="no-cache")){var D=/([?&])_=[^&]*/;if(D.test(this.url))this.url=this.url.replace(D,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function k(I){var N=new FormData;return I.trim().split("&").forEach(function(L){if(L){var D=L.split("="),$=D.shift().replace(/\+/g," "),j=D.join("=").replace(/\+/g," ");N.append(decodeURIComponent($),decodeURIComponent(j))}}),N}function O(I){var N=new m,L=I.replace(/\r?\n[\t ]+/g," ");return L.split("\r").map(function(D){return D.indexOf(`
`)===0?D.substr(1,D.length):D}).forEach(function(D){var $=D.split(":"),j=$.shift().trim();if(j){var q=$.join(":").trim();try{N.append(j,q)}catch(J){console.warn("Response "+J.message)}}}),N}x.call(C.prototype);function B(I,N){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=N.statusText===void 0?"":""+N.statusText,this.headers=new m(N.headers),this.url=N.url||"",this._initBody(I)}x.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},B.error=function(){var I=new B(null,{status:200,statusText:""});return I.ok=!1,I.status=0,I.type="error",I};var F=[301,302,303,307,308];B.redirect=function(I,N){if(F.indexOf(N)===-1)throw new RangeError("Invalid status code");return new B(null,{status:N,headers:{location:I}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(N,L){this.message=N,this.name=L;var D=Error(N);this.stack=D.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function V(I,N){return new Promise(function(L,D){var $=new C(I,N);if($.signal&&$.signal.aborted)return D(new o.DOMException("Aborted","AbortError"));var j=new XMLHttpRequest;function q(){j.abort()}j.onload=function(){var ne={statusText:j.statusText,headers:O(j.getAllResponseHeaders()||"")};$.url.indexOf("file://")===0&&(j.status<200||j.status>599)?ne.status=200:ne.status=j.status,ne.url="responseURL"in j?j.responseURL:ne.headers.get("X-Request-URL");var ie="response"in j?j.response:j.responseText;setTimeout(function(){L(new B(ie,ne))},0)},j.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},j.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request timed out"))},0)},j.onabort=function(){setTimeout(function(){D(new o.DOMException("Aborted","AbortError"))},0)};function J(ne){try{return ne===""&&a.location.href?a.location.href:ne}catch{return ne}}if(j.open($.method,J($.url),!0),$.credentials==="include"?j.withCredentials=!0:$.credentials==="omit"&&(j.withCredentials=!1),"responseType"in j&&(c.blob?j.responseType="blob":c.arrayBuffer&&(j.responseType="arraybuffer")),N&&typeof N.headers=="object"&&!(N.headers instanceof m||a.Headers&&N.headers instanceof a.Headers)){var se=[];Object.getOwnPropertyNames(N.headers).forEach(function(ne){se.push(h(ne)),j.setRequestHeader(ne,f(N.headers[ne]))}),$.headers.forEach(function(ne,ie){se.indexOf(ie)===-1&&j.setRequestHeader(ie,ne)})}else $.headers.forEach(function(ne,ie){j.setRequestHeader(ie,ne)});$.signal&&($.signal.addEventListener("abort",q),j.onreadystatechange=function(){j.readyState===4&&$.signal.removeEventListener("abort",q)}),j.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return V.polyfill=!0,a.fetch||(a.fetch=V,a.Headers=m,a.Request=C,a.Response=B),o.Headers=m,o.Request=C,o.Response=B,o.fetch=V,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(iS,iS.exports);var gye=iS.exports;const PO=Nu(gye);var mye=Object.defineProperty,yye=Object.defineProperties,wye=Object.getOwnPropertyDescriptors,kO=Object.getOwnPropertySymbols,vye=Object.prototype.hasOwnProperty,bye=Object.prototype.propertyIsEnumerable,OO=(t,e,n)=>e in t?mye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RO=(t,e)=>{for(var n in e||(e={}))vye.call(e,n)&&OO(t,n,e[n]);if(kO)for(var n of kO(e))bye.call(e,n)&&OO(t,n,e[n]);return t},$O=(t,e)=>yye(t,wye(e));const _ye={Accept:"application/json","Content-Type":"application/json"},Eye="POST",DO={headers:_ye,method:Eye},jO=10;let Qi=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new pi.EventEmitter,this.isAvailable=!1,this.registering=!1,!Xk(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=_a(e),r=await(await PO(this.url,$O(RO({},DO),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!Xk(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=_a({id:1,jsonrpc:"2.0",method:"test",params:[]});await PO(e,$O(RO({},DO),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?bu(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=pb(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return cU(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>jO&&this.events.setMaxListeners(jO)}};const UO="error",Cye="wss://relay.walletconnect.org",xye="wc",Sye="universal_provider",ew=`${xye}@2:${Sye}:`,$U="https://rpc.walletconnect.org/v1/",xd="generic",Aye=`${$U}bundler`,mi={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function X2(t){return t==null||typeof t!="object"&&typeof t!="function"}function DU(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function jU(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Iye="[object RegExp]",UU="[object String]",LU="[object Number]",MU="[object Boolean]",BU="[object Arguments]",Tye="[object Symbol]",Nye="[object Date]",Pye="[object Map]",kye="[object Set]",Oye="[object Array]",Rye="[object ArrayBuffer]",$ye="[object Object]",Dye="[object DataView]",jye="[object Uint8Array]",Uye="[object Uint8ClampedArray]",Lye="[object Uint16Array]",Mye="[object Uint32Array]",Bye="[object Int8Array]",Fye="[object Int16Array]",zye="[object Int32Array]",qye="[object Float32Array]",Wye="[object Float64Array]";function eI(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Hye(t,e){return zd(t,void 0,t,new Map,e)}function zd(t,e,n,r=new Map,s=void 0){const i=s==null?void 0:s(t,e,n,r);if(i!=null)return i;if(X2(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=zd(t[a],a,n,r,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,zd(c,a,n,r,s));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(zd(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(eI(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=zd(t[a],a,n,r,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),Pl(o,t,n,r,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),Pl(o,t,n,r,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),Pl(o,t,n,r,s),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Pl(o,t,n,r,s),o}if(typeof t=="object"&&Vye(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),Pl(o,t,n,r,s),o}return t}function Pl(t,e,n=t,r,s){const i=[...Object.keys(e),...DU(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=zd(e[a],a,n,r,s))}}function Vye(t){switch(jU(t)){case BU:case Oye:case Rye:case Dye:case MU:case Nye:case qye:case Wye:case Bye:case Fye:case zye:case Pye:case LU:case $ye:case Iye:case kye:case UU:case Tye:case jye:case Uye:case Lye:case Mye:return!0;default:return!1}}function Gye(t,e){return Hye(t,(n,r,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case LU:case UU:case MU:{const o=new t.constructor(t==null?void 0:t.valueOf());return Pl(o,t),o}case BU:{const o={};return Pl(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function LO(t){return Gye(t)}function MO(t){return t!==null&&typeof t=="object"&&jU(t)==="[object Arguments]"}function BO(t){return typeof t=="object"&&t!==null}function Kye(){}function Yye(t){return eI(t)}function Qye(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Jye(t){if(X2(t))return t;if(Array.isArray(t)||eI(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function Zye(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const o=n[i];s=oS(s,o,r,new Map)}return s}function oS(t,e,n,r){if(X2(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return Jye(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...DU(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(MO(a)&&(a={...a}),MO(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=LO(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||BO(c)&&BO(a)?t[o]=oS(c,a,n,r):c==null&&Qye(a)?t[o]=oS({},a,n,r):c==null&&Yye(a)?t[o]=LO(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function Xye(t,...e){return Zye(t,...e,Kye)}var ewe=Object.defineProperty,twe=Object.defineProperties,nwe=Object.getOwnPropertyDescriptors,FO=Object.getOwnPropertySymbols,rwe=Object.prototype.hasOwnProperty,swe=Object.prototype.propertyIsEnumerable,zO=(t,e,n)=>e in t?ewe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tw=(t,e)=>{for(var n in e||(e={}))rwe.call(e,n)&&zO(t,n,e[n]);if(FO)for(var n of FO(e))swe.call(e,n)&&zO(t,n,e[n]);return t},iwe=(t,e)=>twe(t,nwe(e));function Fs(t,e,n){var r;const s=Xd(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${$U}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function zu(t){return t.includes(":")?t.split(":")[1]:t}function FU(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function owe(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=e.namespaces[s].accounts;r.push(...i)}),r}function nw(t={},e={}){const n=qO(t),r=qO(e);return Xye(n,r)}function qO(t){var e,n,r,s,i;const o={};if(!qc(t))return o;for(const[a,c]of Object.entries(t)){const l=hb(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=Fd(a);o[f]=iwe(tw(tw({},o[f]),c),{chains:xo(l,(e=o[f])==null?void 0:e.chains),methods:xo(u,(n=o[f])==null?void 0:n.methods),events:xo(d,(r=o[f])==null?void 0:r.events)}),(qc(h)||qc(((s=o[f])==null?void 0:s.rpcMap)||{}))&&(o[f].rpcMap=tw(tw({},h),(i=o[f])==null?void 0:i.rpcMap))}return o}function WO(t){return t.includes(":")?t.split(":")[2]:t}function HO(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=hb(n)?[n]:r.chains?r.chains:FU(r.accounts);e[n]={chains:a,methods:s,events:i,accounts:o}}return e}function G_(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const zU={},At=t=>zU[t],K_=(t,e)=>{zU[t]=e};var awe=Object.defineProperty,cwe=(t,e,n)=>e in t?awe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ad=(t,e,n)=>cwe(t,typeof e!="symbol"?e+"":e,n);class lwe{constructor(e){ad(this,"name","polkadot"),ad(this,"client"),ad(this,"httpProviders"),ad(this,"events"),ad(this,"namespace"),ad(this,"chainId"),this.namespace=e.namespace,this.events=At("events"),this.client=At("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=zu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gi(new Qi(r,At("disableProviderPing")))}}var uwe=Object.defineProperty,dwe=Object.defineProperties,hwe=Object.getOwnPropertyDescriptors,VO=Object.getOwnPropertySymbols,fwe=Object.prototype.hasOwnProperty,pwe=Object.prototype.propertyIsEnumerable,aS=(t,e,n)=>e in t?uwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,GO=(t,e)=>{for(var n in e||(e={}))fwe.call(e,n)&&aS(t,n,e[n]);if(VO)for(var n of VO(e))pwe.call(e,n)&&aS(t,n,e[n]);return t},KO=(t,e)=>dwe(t,hwe(e)),cd=(t,e,n)=>aS(t,typeof e!="symbol"?e+"":e,n);class gwe{constructor(e){cd(this,"name","eip155"),cd(this,"client"),cd(this,"chainId"),cd(this,"namespace"),cd(this,"httpProviders"),cd(this,"events"),this.namespace=e.namespace,this.events=At("events"),this.client=At("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(mi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Fs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gi(new Qi(r,At("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(zu(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s,i,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[],l=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((o=u==null?void 0:u.sessionProperties)==null?void 0:o.capabilities)||{};if(d!=null&&d[l])return d==null?void 0:d[l];const h=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:KO(GO({},u.sessionProperties||{}),{capabilities:KO(GO({},d||{}),{[l]:h})})})}catch(f){console.warn("Failed to update session with capabilities",f)}return h}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const a=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ac("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,n){return`${Aye}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var mwe=Object.defineProperty,ywe=(t,e,n)=>e in t?mwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ld=(t,e,n)=>ywe(t,typeof e!="symbol"?e+"":e,n);class wwe{constructor(e){ld(this,"name","solana"),ld(this,"client"),ld(this,"httpProviders"),ld(this,"events"),ld(this,"namespace"),ld(this,"chainId"),this.namespace=e.namespace,this.events=At("events"),this.client=At("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=zu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gi(new Qi(r,At("disableProviderPing")))}}var vwe=Object.defineProperty,bwe=(t,e,n)=>e in t?vwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ud=(t,e,n)=>bwe(t,typeof e!="symbol"?e+"":e,n);class _we{constructor(e){ud(this,"name","cosmos"),ud(this,"client"),ud(this,"httpProviders"),ud(this,"events"),ud(this,"namespace"),ud(this,"chainId"),this.namespace=e.namespace,this.events=At("events"),this.client=At("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=zu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gi(new Qi(r,At("disableProviderPing")))}}var Ewe=Object.defineProperty,Cwe=(t,e,n)=>e in t?Ewe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dd=(t,e,n)=>Cwe(t,typeof e!="symbol"?e+"":e,n);class xwe{constructor(e){dd(this,"name","algorand"),dd(this,"client"),dd(this,"httpProviders"),dd(this,"events"),dd(this,"namespace"),dd(this,"chainId"),this.namespace=e.namespace,this.events=At("events"),this.client=At("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Fs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(mi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new gi(new Qi(r,At("disableProviderPing")))}}var Swe=Object.defineProperty,Awe=(t,e,n)=>e in t?Swe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hd=(t,e,n)=>Awe(t,typeof e!="symbol"?e+"":e,n);class Iwe{constructor(e){hd(this,"name","cip34"),hd(this,"client"),hd(this,"httpProviders"),hd(this,"events"),hd(this,"namespace"),hd(this,"chainId"),this.namespace=e.namespace,this.events=At("events"),this.client=At("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=zu(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gi(new Qi(r,At("disableProviderPing")))}}var Twe=Object.defineProperty,Nwe=(t,e,n)=>e in t?Twe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fd=(t,e,n)=>Nwe(t,typeof e!="symbol"?e+"":e,n);class Pwe{constructor(e){fd(this,"name","elrond"),fd(this,"client"),fd(this,"httpProviders"),fd(this,"events"),fd(this,"namespace"),fd(this,"chainId"),this.namespace=e.namespace,this.events=At("events"),this.client=At("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=zu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gi(new Qi(r,At("disableProviderPing")))}}var kwe=Object.defineProperty,Owe=(t,e,n)=>e in t?kwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pd=(t,e,n)=>Owe(t,typeof e!="symbol"?e+"":e,n);class Rwe{constructor(e){pd(this,"name","multiversx"),pd(this,"client"),pd(this,"httpProviders"),pd(this,"events"),pd(this,"namespace"),pd(this,"chainId"),this.namespace=e.namespace,this.events=At("events"),this.client=At("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=zu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gi(new Qi(r,At("disableProviderPing")))}}var $we=Object.defineProperty,Dwe=(t,e,n)=>e in t?$we(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gd=(t,e,n)=>Dwe(t,typeof e!="symbol"?e+"":e,n);class jwe{constructor(e){gd(this,"name","near"),gd(this,"client"),gd(this,"httpProviders"),gd(this,"events"),gd(this,"namespace"),gd(this,"chainId"),this.namespace=e.namespace,this.events=At("events"),this.client=At("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Fs(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(mi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace);return typeof r>"u"?void 0:new gi(new Qi(r,At("disableProviderPing")))}}var Uwe=Object.defineProperty,Lwe=(t,e,n)=>e in t?Uwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,md=(t,e,n)=>Lwe(t,typeof e!="symbol"?e+"":e,n);class Mwe{constructor(e){md(this,"name","tezos"),md(this,"client"),md(this,"httpProviders"),md(this,"events"),md(this,"namespace"),md(this,"chainId"),this.namespace=e.namespace,this.events=At("events"),this.client=At("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Fs(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(mi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace);return typeof r>"u"?void 0:new gi(new Qi(r))}}var Bwe=Object.defineProperty,Fwe=(t,e,n)=>e in t?Bwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yd=(t,e,n)=>Fwe(t,typeof e!="symbol"?e+"":e,n);class zwe{constructor(e){yd(this,"name",xd),yd(this,"client"),yd(this,"httpProviders"),yd(this,"events"),yd(this,"namespace"),yd(this,"chainId"),this.namespace=e.namespace,this.events=At("events"),this.client=At("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const i=Xd(s);r[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gi(new Qi(r,At("disableProviderPing")))}}var qwe=Object.defineProperty,Wwe=Object.defineProperties,Hwe=Object.getOwnPropertyDescriptors,YO=Object.getOwnPropertySymbols,Vwe=Object.prototype.hasOwnProperty,Gwe=Object.prototype.propertyIsEnumerable,cS=(t,e,n)=>e in t?qwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rw=(t,e)=>{for(var n in e||(e={}))Vwe.call(e,n)&&cS(t,n,e[n]);if(YO)for(var n of YO(e))Gwe.call(e,n)&&cS(t,n,e[n]);return t},Y_=(t,e)=>Wwe(t,Hwe(e)),Js=(t,e,n)=>cS(t,typeof e!="symbol"?e+"":e,n);let Kwe=class qU{constructor(e){Js(this,"client"),Js(this,"namespaces"),Js(this,"optionalNamespaces"),Js(this,"sessionProperties"),Js(this,"scopedProperties"),Js(this,"events",new v2),Js(this,"rpcProviders",{}),Js(this,"session"),Js(this,"providerOpts"),Js(this,"logger"),Js(this,"uri"),Js(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Om(Kh({level:(e==null?void 0:e.logger)||UO})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new qU(e);return await n.initialize(),n}async request(e,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:rw({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const i=new Date().getTime();this.request(e,r,s).then(o=>n(null,fb(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:sn("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=HO(this.session.namespaces);this.namespaces=nw(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=HO(s.namespaces);return this.namespaces=nw(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),i=this.getProvider(r);i.name===xd?i.setDefaultChain(`${r}:${s}`,n):i.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(da(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await pye.init({core:this.providerOpts.core,logger:this.providerOpts.logger||UO,relayUrl:this.providerOpts.relayUrl||Cye,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Fd(n)))];K_("client",this.client),K_("events",this.events),K_("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=owe(n,this.session),s=FU(r),i=nw(this.namespaces,this.optionalNamespaces),o=Y_(rw({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new gwe({namespace:o});break;case"algorand":this.rpcProviders[n]=new xwe({namespace:o});break;case"solana":this.rpcProviders[n]=new wwe({namespace:o});break;case"cosmos":this.rpcProviders[n]=new _we({namespace:o});break;case"polkadot":this.rpcProviders[n]=new lwe({namespace:o});break;case"cip34":this.rpcProviders[n]=new Iwe({namespace:o});break;case"elrond":this.rpcProviders[n]=new Pwe({namespace:o});break;case"multiversx":this.rpcProviders[n]=new Rwe({namespace:o});break;case"near":this.rpcProviders[n]=new jwe({namespace:o});break;case"tezos":this.rpcProviders[n]=new Mwe({namespace:o});break;default:this.rpcProviders[xd]?this.rpcProviders[xd].updateNamespace(o):this.rpcProviders[xd]=new zwe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&da(o)&&this.events.emit("accountsChanged",o.map(WO))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=Fd(o),l=G_(o)!==G_(a)?`${c}:${G_(a)}`:o;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(e);this.session=Y_(rw({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Y_(rw({},sn("USER_DISCONNECTED")),{data:e.topic})))}),this.on(mi.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[xd]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=nw(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>Fd(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=Fd(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const i=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(WO);if(!da(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${ew}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${ew}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${ew}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(ew)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const $p={getSIWX(){return ue.state.siwx},async initializeIfEnabled(){var i;const t=ue.state.siwx,e=R.getActiveCaipAddress();if(!(t&&e))return;const[n,r,s]=e.split(":");if(R.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,s)).length)return;await Pt.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),Dt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((i=ke._getClient())==null?void 0:i.disconnect().catch(console.error)),Ve.reset("Connect"),Ui.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=ue.state.siwx,e=De.getPlainAddress(R.getActiveCaipAddress()),n=R.getActiveCaipNetwork(),r=ke._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=s.toString();_e.getConnectorId(n.chainNamespace)===te.CONNECTOR_ID.AUTH&&Ve.pushTransactionStack({});const a=await r.signMessage(i);await t.addSession({data:s,message:i,signature:a}),R.setLastConnectedSIWECaipNetwork(n),Pt.close(),Dt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!Pt.state.open||Ve.state.view==="ApproveTransaction")&&await Pt.open({view:"SIWXSignMessage"}),i.isSmartAccount?Ui.showError("This application might not support Smart Accounts"):Ui.showError("Signature declined"),Dt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();if((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e)){const r=R.getLastConnectedSIWECaipNetwork();r?R.switchActiveNetwork(r):await ke.disconnect()}else Pt.close();Ve.reset("Connect"),Dt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const t=this.getSIWX(),e=R.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const s=await(t==null?void 0:t.getSessions(r.caipNetworkId,De.getPlainAddress(R.getActiveCaipAddress())||""));s&&n.push(...s)})),n},async getSessions(){const t=ue.state.siwx,e=De.getPlainAddress(R.getActiveCaipAddress()),n=R.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=Ve.state.view==="ApproveTransaction",r=Ve.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=$p.getSIWX(),s=new Set(e.map(u=>u.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const i=await r.createMessage({chainId:((a=R.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...e.filter(u=>u!==i.chainId)]});if(Ui.showLoading("Authenticating...",{autoClose:!1}),we.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(d=>{const h=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||i.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:h,signature:d.s.s,cacao:d}});try{await r.setSessions(u),Dt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:$p.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),Dt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:$p.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{Ui.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=R.state.activeChain;return{network:((e=R.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=we.state.preferredAccountTypes)==null?void 0:n[t])===Qn.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},tn={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Ic={ConnectorExplorerIds:{[te.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[te.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[te.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[te.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[te.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[tn.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[tn.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[tn.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[tn.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[tn.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[tn.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[tn.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[tn.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[tn.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[tn.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[tn.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[te.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[te.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[te.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[te.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[te.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[te.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[te.CONNECTOR_ID.INJECTED]:"Browser Wallet",[te.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[te.CONNECTOR_ID.COINBASE]:"Coinbase",[te.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[te.CONNECTOR_ID.LEDGER]:"Ledger",[te.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[te.CONNECTOR_ID.INJECTED]:"INJECTED",[te.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[te.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[te.CONNECTOR_ID.AUTH]:"AUTH"}},Wg={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${tn.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){const t=R.state.activeChain;return te.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>_e.getConnectorId(e)===te.CONNECTOR_ID.AUTH&&e===t)}},Ywe=new AbortController,ln={EmbeddedWalletAbortController:Ywe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${Qwe()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"},SERVER_ERROR_APP_CONFIGURATION:{shortMessage:"Server Error",longMessage:t=>`Failed to get App Configuration ${t||""}`},RATE_LIMITED_APP_CONFIGURATION:{shortMessage:"Rate Limited",longMessage:"Rate limited when trying to get the App Configuration"}}};function Qwe(){return typeof window<"u"}const Jwe={createLogger(t,e="error"){const n=Kh({level:e}),{logger:r}=_2({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},r}},Zwe="rpc.walletconnect.org";function QO(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const Q_=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],wo={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===Zwe}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:te.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${te.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,i,o;const r=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return Q_.includes(e)?QO(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var h,f,p,m,w;const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(h=t.rpcUrls.default.http)==null?void 0:h[0],a=this.getDefaultRpcUrl(t,i,n),c=((m=(p=(f=t==null?void 0:t.rpcUrls)==null?void 0:f.chainDefault)==null?void 0:p.http)==null?void 0:m[0])||o,l=((w=r==null?void 0:r[i])==null?void 0:w.map(y=>y.url))||[],u=[...l,a],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:Ic.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>wo.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,i,o;const r=[];return n==null||n.forEach(a=>{r.push(xy(a.url,a.config))}),Q_.includes(t.caipNetworkId)&&r.push(xy(QO(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{r.push(xy(a))}),QT(r)},extendWagmiTransports(t,e,n){if(Q_.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return QT([n,xy(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:te.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=be.getActiveCaipNetworkId(),n=R.getAllRequestedCaipNetworks(),r=Array.from(((c=R.state.chains)==null?void 0:c.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?r.includes(s):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},V0={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},ns=Qt({providers:{...V0},providerIds:{...V0}}),Bt={state:ns,subscribeKey(t,e){return dr(ns,t,e)},subscribe(t){return ur(ns,()=>{t(ns)})},subscribeProviders(t){return ur(ns.providers,()=>t(ns.providers))},setProvider(t,e){e&&(ns.providers[t]=wu(e))},getProvider(t){return ns.providers[t]},setProviderId(t,e){e&&(ns.providerIds[t]=e)},getProviderId(t){if(t)return ns.providerIds[t]},reset(){ns.providers={...V0},ns.providerIds={...V0}},resetChain(t){ns.providers[t]=void 0,ns.providerIds[t]=void 0}},JO={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},sr={set(t,e){Rs.isClient&&localStorage.setItem(`${Re.STORAGE_KEY}${t}`,e)},get(t){return Rs.isClient?localStorage.getItem(`${Re.STORAGE_KEY}${t}`):null},delete(t,e){Rs.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Re.STORAGE_KEY}${t}`))}},sw=30*1e3,Rs={checkIfAllowedToTriggerEmail(){const t=sr.get(Re.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<sw){const n=Math.ceil((sw-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=sr.get(Re.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<sw)return Math.ceil((sw-e)/1e3)}return 0},checkIfRequestExists(t){return Qn.NOT_SAFE_RPC_METHODS.includes(t.method)||Qn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(JO.transactionHash))||(t==null?void 0:t.match(JO.signedMessage)))?Re.RPC_RESPONSE_TYPE_TX:Re.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Qn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var St;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(St||(St={}));var lS;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(lS||(lS={}));const Ie=St.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),cc=t=>{switch(typeof t){case"undefined":return Ie.undefined;case"string":return Ie.string;case"number":return isNaN(t)?Ie.nan:Ie.number;case"boolean":return Ie.boolean;case"function":return Ie.function;case"bigint":return Ie.bigint;case"symbol":return Ie.symbol;case"object":return Array.isArray(t)?Ie.array:t===null?Ie.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ie.promise:typeof Map<"u"&&t instanceof Map?Ie.map:typeof Set<"u"&&t instanceof Set?Ie.set:typeof Date<"u"&&t instanceof Date?Ie.date:Ie.object;default:return Ie.unknown}},fe=St.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Xwe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class qi extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,St.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}qi.create=t=>new qi(t);const Hg=(t,e)=>{let n;switch(t.code){case fe.invalid_type:t.received===Ie.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case fe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,St.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:n=`Unrecognized key(s) in object: ${St.joinValues(t.keys,", ")}`;break;case fe.invalid_union:n="Invalid input";break;case fe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${St.joinValues(t.options)}`;break;case fe.invalid_enum_value:n=`Invalid enum value. Expected ${St.joinValues(t.options)}, received '${t.received}'`;break;case fe.invalid_arguments:n="Invalid function arguments";break;case fe.invalid_return_type:n="Invalid function return type";break;case fe.invalid_date:n="Invalid date";break;case fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:St.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case fe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case fe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case fe.custom:n="Invalid input";break;case fe.invalid_intersection_types:n="Intersection results could not be merged";break;case fe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case fe.not_finite:n="Number must be finite";break;default:n=e.defaultError,St.assertNever(t)}return{message:n}};let WU=Hg;function e0e(t){WU=t}function G0(){return WU}const K0=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},t0e=[];function Oe(t,e){const n=K0({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,G0(),Hg].filter(r=>!!r)});t.common.issues.push(n)}class Tr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ze;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return Tr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ze;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Ze=Object.freeze({status:"aborted"}),HU=t=>({status:"dirty",value:t}),zr=t=>({status:"valid",value:t}),uS=t=>t.status==="aborted",dS=t=>t.status==="dirty",Vg=t=>t.status==="valid",Y0=t=>typeof Promise<"u"&&t instanceof Promise;var qe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(qe||(qe={}));class To{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ZO=(t,e)=>{if(Vg(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new qi(t.common.issues);return this._error=n,this._error}}};function rt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class at{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return cc(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:cc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Tr,ctx:{common:e.parent.common,data:e.data,parsedType:cc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Y0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cc(e)},i=this._parseSync({data:e,path:s.path,parent:s});return ZO(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cc(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Y0(s)?s:Promise.resolve(s));return ZO(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:fe.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Gi({schema:this,typeName:Ke.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ha.create(this,this._def)}nullable(){return Iu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Wi.create(this,this._def)}promise(){return Rh.create(this,this._def)}or(e){return Qg.create([this,e],this._def)}and(e){return Jg.create(this,e,this._def)}transform(e){return new Gi({...rt(this._def),schema:this,typeName:Ke.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new nm({...rt(this._def),innerType:this,defaultValue:n,typeName:Ke.ZodDefault})}brand(){return new GU({typeName:Ke.ZodBranded,type:this,...rt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new X0({...rt(this._def),innerType:this,catchValue:n,typeName:Ke.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Fm.create(this,e)}readonly(){return tv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const n0e=/^c[^\s-]{8,}$/i,r0e=/^[a-z][a-z0-9]*$/,s0e=/^[0-9A-HJKMNP-TV-Z]{26}$/,i0e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,o0e=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,a0e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let J_;const c0e=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,l0e=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,u0e=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function d0e(t,e){return!!((e==="v4"||!e)&&c0e.test(t)||(e==="v6"||!e)&&l0e.test(t))}class Mi extends at{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ie.string){const i=this._getOrReturnCtx(e);return Oe(i,{code:fe.invalid_type,expected:Ie.string,received:i.parsedType}),Ze}const r=new Tr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Oe(s,{code:fe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Oe(s,{code:fe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")o0e.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"email",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")J_||(J_=new RegExp(a0e,"u")),J_.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"emoji",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")i0e.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"uuid",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")n0e.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"cuid",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")r0e.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"cuid2",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")s0e.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"ulid",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Oe(s,{validation:"url",code:fe.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"regex",code:fe.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?u0e(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?d0e(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"ip",code:fe.invalid_string,message:i.message}),r.dirty()):St.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:fe.invalid_string,...qe.errToObj(r)})}_addCheck(e){return new Mi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...qe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...qe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...qe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...qe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...qe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...qe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...qe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...qe.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...qe.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...qe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...qe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...qe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...qe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...qe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...qe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...qe.errToObj(n)})}nonempty(e){return this.min(1,qe.errToObj(e))}trim(){return new Mi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Mi.create=t=>{var e;return new Mi({checks:[],typeName:Ke.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...rt(t)})};function h0e(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class tl extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ie.number){const i=this._getOrReturnCtx(e);return Oe(i,{code:fe.invalid_type,expected:Ie.number,received:i.parsedType}),Ze}let r;const s=new Tr;for(const i of this._def.checks)i.kind==="int"?St.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?h0e(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.not_finite,message:i.message}),s.dirty()):St.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,qe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,qe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,qe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,qe.toString(n))}setLimit(e,n,r,s){return new tl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:qe.toString(s)}]})}_addCheck(e){return new tl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:qe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:qe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:qe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:qe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:qe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:qe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&St.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}tl.create=t=>new tl({checks:[],typeName:Ke.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...rt(t)});class nl extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ie.bigint){const i=this._getOrReturnCtx(e);return Oe(i,{code:fe.invalid_type,expected:Ie.bigint,received:i.parsedType}),Ze}let r;const s=new Tr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):St.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,qe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,qe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,qe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,qe.toString(n))}setLimit(e,n,r,s){return new nl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:qe.toString(s)}]})}_addCheck(e){return new nl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:qe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:qe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}nl.create=t=>{var e;return new nl({checks:[],typeName:Ke.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...rt(t)})};class Gg extends at{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ie.boolean){const r=this._getOrReturnCtx(e);return Oe(r,{code:fe.invalid_type,expected:Ie.boolean,received:r.parsedType}),Ze}return zr(e.data)}}Gg.create=t=>new Gg({typeName:Ke.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...rt(t)});class Su extends at{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ie.date){const i=this._getOrReturnCtx(e);return Oe(i,{code:fe.invalid_type,expected:Ie.date,received:i.parsedType}),Ze}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Oe(i,{code:fe.invalid_date}),Ze}const r=new Tr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):St.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Su({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:qe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:qe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Su.create=t=>new Su({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ke.ZodDate,...rt(t)});class Q0 extends at{_parse(e){if(this._getType(e)!==Ie.symbol){const r=this._getOrReturnCtx(e);return Oe(r,{code:fe.invalid_type,expected:Ie.symbol,received:r.parsedType}),Ze}return zr(e.data)}}Q0.create=t=>new Q0({typeName:Ke.ZodSymbol,...rt(t)});class Kg extends at{_parse(e){if(this._getType(e)!==Ie.undefined){const r=this._getOrReturnCtx(e);return Oe(r,{code:fe.invalid_type,expected:Ie.undefined,received:r.parsedType}),Ze}return zr(e.data)}}Kg.create=t=>new Kg({typeName:Ke.ZodUndefined,...rt(t)});class Yg extends at{_parse(e){if(this._getType(e)!==Ie.null){const r=this._getOrReturnCtx(e);return Oe(r,{code:fe.invalid_type,expected:Ie.null,received:r.parsedType}),Ze}return zr(e.data)}}Yg.create=t=>new Yg({typeName:Ke.ZodNull,...rt(t)});class Oh extends at{constructor(){super(...arguments),this._any=!0}_parse(e){return zr(e.data)}}Oh.create=t=>new Oh({typeName:Ke.ZodAny,...rt(t)});class nu extends at{constructor(){super(...arguments),this._unknown=!0}_parse(e){return zr(e.data)}}nu.create=t=>new nu({typeName:Ke.ZodUnknown,...rt(t)});class Ca extends at{_parse(e){const n=this._getOrReturnCtx(e);return Oe(n,{code:fe.invalid_type,expected:Ie.never,received:n.parsedType}),Ze}}Ca.create=t=>new Ca({typeName:Ke.ZodNever,...rt(t)});class J0 extends at{_parse(e){if(this._getType(e)!==Ie.undefined){const r=this._getOrReturnCtx(e);return Oe(r,{code:fe.invalid_type,expected:Ie.void,received:r.parsedType}),Ze}return zr(e.data)}}J0.create=t=>new J0({typeName:Ke.ZodVoid,...rt(t)});class Wi extends at{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Ie.array)return Oe(n,{code:fe.invalid_type,expected:Ie.array,received:n.parsedType}),Ze;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Oe(n,{code:o?fe.too_big:fe.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Oe(n,{code:fe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Oe(n,{code:fe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new To(n,o,n.path,a)))).then(o=>Tr.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new To(n,o,n.path,a)));return Tr.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Wi({...this._def,minLength:{value:e,message:qe.toString(n)}})}max(e,n){return new Wi({...this._def,maxLength:{value:e,message:qe.toString(n)}})}length(e,n){return new Wi({...this._def,exactLength:{value:e,message:qe.toString(n)}})}nonempty(e){return this.min(1,e)}}Wi.create=(t,e)=>new Wi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ke.ZodArray,...rt(e)});function Sd(t){if(t instanceof un){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ha.create(Sd(r))}return new un({...t._def,shape:()=>e})}else return t instanceof Wi?new Wi({...t._def,type:Sd(t.element)}):t instanceof ha?ha.create(Sd(t.unwrap())):t instanceof Iu?Iu.create(Sd(t.unwrap())):t instanceof No?No.create(t.items.map(e=>Sd(e))):t}class un extends at{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=St.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Ie.object){const l=this._getOrReturnCtx(e);return Oe(l,{code:fe.invalid_type,expected:Ie.object,received:l.parsedType}),Ze}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ca&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new To(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof Ca){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(Oe(s,{code:fe.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new To(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>Tr.mergeObjectSync(r,l)):Tr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return qe.errToObj,new un({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=qe.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new un({...this._def,unknownKeys:"strip"})}passthrough(){return new un({...this._def,unknownKeys:"passthrough"})}extend(e){return new un({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new un({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ke.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new un({...this._def,catchall:e})}pick(e){const n={};return St.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new un({...this._def,shape:()=>n})}omit(e){const n={};return St.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new un({...this._def,shape:()=>n})}deepPartial(){return Sd(this)}partial(e){const n={};return St.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new un({...this._def,shape:()=>n})}required(e){const n={};return St.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ha;)i=i._def.innerType;n[r]=i}}),new un({...this._def,shape:()=>n})}keyof(){return VU(St.objectKeys(this.shape))}}un.create=(t,e)=>new un({shape:()=>t,unknownKeys:"strip",catchall:Ca.create(),typeName:Ke.ZodObject,...rt(e)});un.strictCreate=(t,e)=>new un({shape:()=>t,unknownKeys:"strict",catchall:Ca.create(),typeName:Ke.ZodObject,...rt(e)});un.lazycreate=(t,e)=>new un({shape:t,unknownKeys:"strip",catchall:Ca.create(),typeName:Ke.ZodObject,...rt(e)});class Qg extends at{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new qi(a.ctx.common.issues));return Oe(n,{code:fe.invalid_union,unionErrors:o}),Ze}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new qi(c));return Oe(n,{code:fe.invalid_union,unionErrors:a}),Ze}}get options(){return this._def.options}}Qg.create=(t,e)=>new Qg({options:t,typeName:Ke.ZodUnion,...rt(e)});const zw=t=>t instanceof Xg?zw(t.schema):t instanceof Gi?zw(t.innerType()):t instanceof em?[t.value]:t instanceof rl?t.options:t instanceof tm?Object.keys(t.enum):t instanceof nm?zw(t._def.innerType):t instanceof Kg?[void 0]:t instanceof Yg?[null]:null;class wb extends at{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.object)return Oe(n,{code:fe.invalid_type,expected:Ie.object,received:n.parsedType}),Ze;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Oe(n,{code:fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ze)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=zw(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new wb({typeName:Ke.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...rt(r)})}}function hS(t,e){const n=cc(t),r=cc(e);if(t===e)return{valid:!0,data:t};if(n===Ie.object&&r===Ie.object){const s=St.objectKeys(e),i=St.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=hS(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===Ie.array&&r===Ie.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=hS(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Ie.date&&r===Ie.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Jg extends at{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(uS(i)||uS(o))return Ze;const a=hS(i.value,o.value);return a.valid?((dS(i)||dS(o))&&n.dirty(),{status:n.value,value:a.data}):(Oe(r,{code:fe.invalid_intersection_types}),Ze)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Jg.create=(t,e,n)=>new Jg({left:t,right:e,typeName:Ke.ZodIntersection,...rt(n)});class No extends at{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.array)return Oe(r,{code:fe.invalid_type,expected:Ie.array,received:r.parsedType}),Ze;if(r.data.length<this._def.items.length)return Oe(r,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&r.data.length>this._def.items.length&&(Oe(r,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new To(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Tr.mergeArray(n,o)):Tr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new No({...this._def,rest:e})}}No.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new No({items:t,typeName:Ke.ZodTuple,rest:null,...rt(e)})};class Zg extends at{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.object)return Oe(r,{code:fe.invalid_type,expected:Ie.object,received:r.parsedType}),Ze;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new To(r,a,r.path,a)),value:o._parse(new To(r,r.data[a],r.path,a))});return r.common.async?Tr.mergeObjectAsync(n,s):Tr.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof at?new Zg({keyType:e,valueType:n,typeName:Ke.ZodRecord,...rt(r)}):new Zg({keyType:Mi.create(),valueType:e,typeName:Ke.ZodRecord,...rt(n)})}}class Z0 extends at{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.map)return Oe(r,{code:fe.invalid_type,expected:Ie.map,received:r.parsedType}),Ze;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new To(r,a,r.path,[l,"key"])),value:i._parse(new To(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Ze;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Ze;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}Z0.create=(t,e,n)=>new Z0({valueType:e,keyType:t,typeName:Ke.ZodMap,...rt(n)});class Au extends at{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.set)return Oe(r,{code:fe.invalid_type,expected:Ie.set,received:r.parsedType}),Ze;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Oe(r,{code:fe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Oe(r,{code:fe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Ze;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new To(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new Au({...this._def,minSize:{value:e,message:qe.toString(n)}})}max(e,n){return new Au({...this._def,maxSize:{value:e,message:qe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Au.create=(t,e)=>new Au({valueType:t,minSize:null,maxSize:null,typeName:Ke.ZodSet,...rt(e)});class eh extends at{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.function)return Oe(n,{code:fe.invalid_type,expected:Ie.function,received:n.parsedType}),Ze;function r(a,c){return K0({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,G0(),Hg].filter(l=>!!l),issueData:{code:fe.invalid_arguments,argumentsError:c}})}function s(a,c){return K0({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,G0(),Hg].filter(l=>!!l),issueData:{code:fe.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Rh){const a=this;return zr(async function(...c){const l=new qi([]),u=await a._def.args.parseAsync(c,i).catch(f=>{throw l.addIssue(r(c,f)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(f=>{throw l.addIssue(s(d,f)),l})})}else{const a=this;return zr(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new qi([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new qi([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new eh({...this._def,args:No.create(e).rest(nu.create())})}returns(e){return new eh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new eh({args:e||No.create([]).rest(nu.create()),returns:n||nu.create(),typeName:Ke.ZodFunction,...rt(r)})}}class Xg extends at{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Xg.create=(t,e)=>new Xg({getter:t,typeName:Ke.ZodLazy,...rt(e)});class em extends at{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Oe(n,{received:n.data,code:fe.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:e.data}}get value(){return this._def.value}}em.create=(t,e)=>new em({value:t,typeName:Ke.ZodLiteral,...rt(e)});function VU(t,e){return new rl({values:t,typeName:Ke.ZodEnum,...rt(e)})}class rl extends at{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Oe(n,{expected:St.joinValues(r),received:n.parsedType,code:fe.invalid_type}),Ze}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Oe(n,{received:n.data,code:fe.invalid_enum_value,options:r}),Ze}return zr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return rl.create(e)}exclude(e){return rl.create(this.options.filter(n=>!e.includes(n)))}}rl.create=VU;class tm extends at{_parse(e){const n=St.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ie.string&&r.parsedType!==Ie.number){const s=St.objectValues(n);return Oe(r,{expected:St.joinValues(s),received:r.parsedType,code:fe.invalid_type}),Ze}if(n.indexOf(e.data)===-1){const s=St.objectValues(n);return Oe(r,{received:r.data,code:fe.invalid_enum_value,options:s}),Ze}return zr(e.data)}get enum(){return this._def.values}}tm.create=(t,e)=>new tm({values:t,typeName:Ke.ZodNativeEnum,...rt(e)});class Rh extends at{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.promise&&n.common.async===!1)return Oe(n,{code:fe.invalid_type,expected:Ie.promise,received:n.parsedType}),Ze;const r=n.parsedType===Ie.promise?n.data:Promise.resolve(n.data);return zr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Rh.create=(t,e)=>new Rh({type:t,typeName:Ke.ZodPromise,...rt(e)});class Gi extends at{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Oe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ze:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ze:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Vg(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Vg(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);St.assertNever(s)}}Gi.create=(t,e,n)=>new Gi({schema:t,typeName:Ke.ZodEffects,effect:e,...rt(n)});Gi.createWithPreprocess=(t,e,n)=>new Gi({schema:e,effect:{type:"preprocess",transform:t},typeName:Ke.ZodEffects,...rt(n)});class ha extends at{_parse(e){return this._getType(e)===Ie.undefined?zr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ha.create=(t,e)=>new ha({innerType:t,typeName:Ke.ZodOptional,...rt(e)});class Iu extends at{_parse(e){return this._getType(e)===Ie.null?zr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Iu.create=(t,e)=>new Iu({innerType:t,typeName:Ke.ZodNullable,...rt(e)});class nm extends at{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ie.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}nm.create=(t,e)=>new nm({innerType:t,typeName:Ke.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...rt(e)});class X0 extends at{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Y0(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qi(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new qi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}X0.create=(t,e)=>new X0({innerType:t,typeName:Ke.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...rt(e)});class ev extends at{_parse(e){if(this._getType(e)!==Ie.nan){const r=this._getOrReturnCtx(e);return Oe(r,{code:fe.invalid_type,expected:Ie.nan,received:r.parsedType}),Ze}return{status:"valid",value:e.data}}}ev.create=t=>new ev({typeName:Ke.ZodNaN,...rt(t)});const f0e=Symbol("zod_brand");class GU extends at{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Fm extends at{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ze:i.status==="dirty"?(n.dirty(),HU(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ze:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Fm({in:e,out:n,typeName:Ke.ZodPipeline})}}class tv extends at{_parse(e){const n=this._def.innerType._parse(e);return Vg(n)&&(n.value=Object.freeze(n.value)),n}}tv.create=(t,e)=>new tv({innerType:t,typeName:Ke.ZodReadonly,...rt(e)});const KU=(t,e={},n)=>t?Oh.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):Oh.create(),p0e={object:un.lazycreate};var Ke;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ke||(Ke={}));const g0e=(t,e={message:`Input not instance of ${t.name}`})=>KU(n=>n instanceof t,e),YU=Mi.create,QU=tl.create,m0e=ev.create,y0e=nl.create,JU=Gg.create,w0e=Su.create,v0e=Q0.create,b0e=Kg.create,_0e=Yg.create,E0e=Oh.create,C0e=nu.create,x0e=Ca.create,S0e=J0.create,A0e=Wi.create,I0e=un.create,T0e=un.strictCreate,N0e=Qg.create,P0e=wb.create,k0e=Jg.create,O0e=No.create,R0e=Zg.create,$0e=Z0.create,D0e=Au.create,j0e=eh.create,U0e=Xg.create,L0e=em.create,M0e=rl.create,B0e=tm.create,F0e=Rh.create,XO=Gi.create,z0e=ha.create,q0e=Iu.create,W0e=Gi.createWithPreprocess,H0e=Fm.create,V0e=()=>YU().optional(),G0e=()=>QU().optional(),K0e=()=>JU().optional(),Y0e={string:t=>Mi.create({...t,coerce:!0}),number:t=>tl.create({...t,coerce:!0}),boolean:t=>Gg.create({...t,coerce:!0}),bigint:t=>nl.create({...t,coerce:!0}),date:t=>Su.create({...t,coerce:!0})},Q0e=Ze;var T=Object.freeze({__proto__:null,defaultErrorMap:Hg,setErrorMap:e0e,getErrorMap:G0,makeIssue:K0,EMPTY_PATH:t0e,addIssueToContext:Oe,ParseStatus:Tr,INVALID:Ze,DIRTY:HU,OK:zr,isAborted:uS,isDirty:dS,isValid:Vg,isAsync:Y0,get util(){return St},get objectUtil(){return lS},ZodParsedType:Ie,getParsedType:cc,ZodType:at,ZodString:Mi,ZodNumber:tl,ZodBigInt:nl,ZodBoolean:Gg,ZodDate:Su,ZodSymbol:Q0,ZodUndefined:Kg,ZodNull:Yg,ZodAny:Oh,ZodUnknown:nu,ZodNever:Ca,ZodVoid:J0,ZodArray:Wi,ZodObject:un,ZodUnion:Qg,ZodDiscriminatedUnion:wb,ZodIntersection:Jg,ZodTuple:No,ZodRecord:Zg,ZodMap:Z0,ZodSet:Au,ZodFunction:eh,ZodLazy:Xg,ZodLiteral:em,ZodEnum:rl,ZodNativeEnum:tm,ZodPromise:Rh,ZodEffects:Gi,ZodTransformer:Gi,ZodOptional:ha,ZodNullable:Iu,ZodDefault:nm,ZodCatch:X0,ZodNaN:ev,BRAND:f0e,ZodBranded:GU,ZodPipeline:Fm,ZodReadonly:tv,custom:KU,Schema:at,ZodSchema:at,late:p0e,get ZodFirstPartyTypeKind(){return Ke},coerce:Y0e,any:E0e,array:A0e,bigint:y0e,boolean:JU,date:w0e,discriminatedUnion:P0e,effect:XO,enum:M0e,function:j0e,instanceof:g0e,intersection:k0e,lazy:U0e,literal:L0e,map:$0e,nan:m0e,nativeEnum:B0e,never:x0e,null:_0e,nullable:q0e,number:QU,object:I0e,oboolean:K0e,onumber:G0e,optional:z0e,ostring:V0e,pipeline:H0e,preprocess:W0e,promise:F0e,record:R0e,set:D0e,strictObject:T0e,string:YU,symbol:v0e,transformer:XO,tuple:O0e,undefined:b0e,union:N0e,unknown:C0e,void:S0e,NEVER:Q0e,ZodIssueCode:fe,quotelessJson:Xwe,ZodError:qi});const gn=T.object({message:T.string()});function Ne(t){return T.literal(Re[t])}T.object({accessList:T.array(T.string()),blockHash:T.string().nullable(),blockNumber:T.string().nullable(),chainId:T.string().or(T.number()),from:T.string(),gas:T.string(),hash:T.string(),input:T.string().nullable(),maxFeePerGas:T.string(),maxPriorityFeePerGas:T.string(),nonce:T.string(),r:T.string(),s:T.string(),to:T.string(),transactionIndex:T.string().nullable(),type:T.string(),v:T.string(),value:T.string()});const J0e=T.object({chainId:T.string().or(T.number())}),Z0e=T.object({email:T.string().email()}),X0e=T.object({otp:T.string()}),eve=T.object({uri:T.string(),preferredAccountType:T.optional(T.string()),chainId:T.optional(T.string().or(T.number()))}),tve=T.object({chainId:T.optional(T.string().or(T.number())),preferredAccountType:T.optional(T.string()),socialUri:T.optional(T.string())}),nve=T.object({provider:T.enum(["google","github","apple","facebook","x","discord"])}),rve=T.object({email:T.string().email()}),sve=T.object({otp:T.string()}),ive=T.object({otp:T.string()}),ove=T.object({themeMode:T.optional(T.enum(["light","dark"])),themeVariables:T.optional(T.record(T.string(),T.string().or(T.number()))),w3mThemeVariables:T.optional(T.record(T.string(),T.string()))}),ave=T.object({metadata:T.object({name:T.string(),description:T.string(),url:T.string(),icons:T.array(T.string())}).optional(),sdkVersion:T.string().optional(),sdkType:T.string().optional(),projectId:T.string()}),cve=T.object({type:T.string()}),lve=T.object({action:T.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),uve=T.object({url:T.string()}),dve=T.object({userName:T.string()}),hve=T.object({email:T.string().optional().nullable(),address:T.string(),chainId:T.string().or(T.number()),accounts:T.array(T.object({address:T.string(),type:T.enum([Qn.ACCOUNT_TYPES.EOA,Qn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:T.string().optional().nullable(),preferredAccountType:T.optional(T.string())}),fve=T.object({action:T.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),pve=T.object({email:T.string().email().optional().nullable(),address:T.string(),chainId:T.string().or(T.number()),smartAccountDeployed:T.optional(T.boolean()),accounts:T.array(T.object({address:T.string(),type:T.enum([Qn.ACCOUNT_TYPES.EOA,Qn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:T.optional(T.string())}),gve=T.object({uri:T.string()}),mve=T.object({isConnected:T.boolean()}),yve=T.object({chainId:T.string().or(T.number())}),wve=T.object({chainId:T.string().or(T.number())}),vve=T.object({newEmail:T.string().email()}),bve=T.object({smartAccountEnabledNetworks:T.array(T.number())});T.object({address:T.string(),isDeployed:T.boolean()});const _ve=T.object({version:T.string().optional()}),Eve=T.object({type:T.string(),address:T.string()}),Cve=T.any(),xve=T.object({method:T.literal("eth_accounts")}),Sve=T.object({method:T.literal("eth_blockNumber")}),Ave=T.object({method:T.literal("eth_call"),params:T.array(T.any())}),Ive=T.object({method:T.literal("eth_chainId")}),Tve=T.object({method:T.literal("eth_estimateGas"),params:T.array(T.any())}),Nve=T.object({method:T.literal("eth_feeHistory"),params:T.array(T.any())}),Pve=T.object({method:T.literal("eth_gasPrice")}),kve=T.object({method:T.literal("eth_getAccount"),params:T.array(T.any())}),Ove=T.object({method:T.literal("eth_getBalance"),params:T.array(T.any())}),Rve=T.object({method:T.literal("eth_getBlockByHash"),params:T.array(T.any())}),$ve=T.object({method:T.literal("eth_getBlockByNumber"),params:T.array(T.any())}),Dve=T.object({method:T.literal("eth_getBlockReceipts"),params:T.array(T.any())}),jve=T.object({method:T.literal("eth_getBlockTransactionCountByHash"),params:T.array(T.any())}),Uve=T.object({method:T.literal("eth_getBlockTransactionCountByNumber"),params:T.array(T.any())}),Lve=T.object({method:T.literal("eth_getCode"),params:T.array(T.any())}),Mve=T.object({method:T.literal("eth_getFilterChanges"),params:T.array(T.any())}),Bve=T.object({method:T.literal("eth_getFilterLogs"),params:T.array(T.any())}),Fve=T.object({method:T.literal("eth_getLogs"),params:T.array(T.any())}),zve=T.object({method:T.literal("eth_getProof"),params:T.array(T.any())}),qve=T.object({method:T.literal("eth_getStorageAt"),params:T.array(T.any())}),Wve=T.object({method:T.literal("eth_getTransactionByBlockHashAndIndex"),params:T.array(T.any())}),Hve=T.object({method:T.literal("eth_getTransactionByBlockNumberAndIndex"),params:T.array(T.any())}),Vve=T.object({method:T.literal("eth_getTransactionByHash"),params:T.array(T.any())}),Gve=T.object({method:T.literal("eth_getTransactionCount"),params:T.array(T.any())}),Kve=T.object({method:T.literal("eth_getTransactionReceipt"),params:T.array(T.any())}),Yve=T.object({method:T.literal("eth_getUncleCountByBlockHash"),params:T.array(T.any())}),Qve=T.object({method:T.literal("eth_getUncleCountByBlockNumber"),params:T.array(T.any())}),Jve=T.object({method:T.literal("eth_maxPriorityFeePerGas")}),Zve=T.object({method:T.literal("eth_newBlockFilter")}),Xve=T.object({method:T.literal("eth_newFilter"),params:T.array(T.any())}),ebe=T.object({method:T.literal("eth_newPendingTransactionFilter")}),tbe=T.object({method:T.literal("eth_sendRawTransaction"),params:T.array(T.any())}),nbe=T.object({method:T.literal("eth_syncing"),params:T.array(T.any())}),rbe=T.object({method:T.literal("eth_uninstallFilter"),params:T.array(T.any())}),eR=T.object({method:T.literal("personal_sign"),params:T.array(T.any())}),sbe=T.object({method:T.literal("eth_signTypedData_v4"),params:T.array(T.any())}),ibe=T.object({method:T.literal("eth_sendTransaction"),params:T.array(T.any())}),obe=T.object({method:T.literal("solana_signMessage"),params:T.object({message:T.string(),pubkey:T.string()})}),abe=T.object({method:T.literal("solana_signTransaction"),params:T.object({transaction:T.string()})}),cbe=T.object({method:T.literal("solana_signAllTransactions"),params:T.object({transactions:T.array(T.string())})}),lbe=T.object({method:T.literal("solana_signAndSendTransaction"),params:T.object({transaction:T.string(),options:T.object({skipPreflight:T.boolean().optional(),preflightCommitment:T.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:T.number().optional(),minContextSlot:T.number().optional()}).optional()})}),ube=T.object({method:T.literal("wallet_sendCalls"),params:T.array(T.object({chainId:T.string().or(T.number()).optional(),from:T.string().optional(),version:T.string().optional(),capabilities:T.any().optional(),calls:T.array(T.object({to:T.string().startsWith("0x"),data:T.string().startsWith("0x").optional(),value:T.string().optional()}))}))}),dbe=T.object({method:T.literal("wallet_getCallsStatus"),params:T.array(T.string())}),hbe=T.object({method:T.literal("wallet_getCapabilities")}),fbe=T.object({method:T.literal("wallet_grantPermissions"),params:T.array(T.any())}),pbe=T.object({method:T.literal("wallet_revokePermissions"),params:T.any()}),gbe=T.object({method:T.literal("wallet_getAssets"),params:T.any()}),tR=T.object({token:T.string()}),Pe=T.object({id:T.string().optional()}),Wf={appEvent:Pe.extend({type:Ne("APP_SWITCH_NETWORK"),payload:J0e}).or(Pe.extend({type:Ne("APP_CONNECT_EMAIL"),payload:Z0e})).or(Pe.extend({type:Ne("APP_CONNECT_DEVICE")})).or(Pe.extend({type:Ne("APP_CONNECT_OTP"),payload:X0e})).or(Pe.extend({type:Ne("APP_CONNECT_SOCIAL"),payload:eve})).or(Pe.extend({type:Ne("APP_GET_FARCASTER_URI")})).or(Pe.extend({type:Ne("APP_CONNECT_FARCASTER")})).or(Pe.extend({type:Ne("APP_GET_USER"),payload:T.optional(tve)})).or(Pe.extend({type:Ne("APP_GET_SOCIAL_REDIRECT_URI"),payload:nve})).or(Pe.extend({type:Ne("APP_SIGN_OUT")})).or(Pe.extend({type:Ne("APP_IS_CONNECTED"),payload:T.optional(tR)})).or(Pe.extend({type:Ne("APP_GET_CHAIN_ID")})).or(Pe.extend({type:Ne("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Pe.extend({type:Ne("APP_INIT_SMART_ACCOUNT")})).or(Pe.extend({type:Ne("APP_SET_PREFERRED_ACCOUNT"),payload:cve})).or(Pe.extend({type:Ne("APP_RPC_REQUEST"),payload:eR.or(gbe).or(xve).or(Sve).or(Ave).or(Ive).or(Tve).or(Nve).or(Pve).or(kve).or(Ove).or(Rve).or($ve).or(Dve).or(jve).or(Uve).or(Lve).or(Mve).or(Bve).or(Fve).or(zve).or(qve).or(Wve).or(Hve).or(Vve).or(Gve).or(Kve).or(Yve).or(Qve).or(Jve).or(Zve).or(Xve).or(ebe).or(tbe).or(nbe).or(rbe).or(eR).or(sbe).or(ibe).or(obe).or(abe).or(cbe).or(lbe).or(dbe).or(ube).or(hbe).or(fbe).or(pbe)})).or(Pe.extend({type:Ne("APP_UPDATE_EMAIL"),payload:rve})).or(Pe.extend({type:Ne("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:sve})).or(Pe.extend({type:Ne("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:ive})).or(Pe.extend({type:Ne("APP_SYNC_THEME"),payload:ove})).or(Pe.extend({type:Ne("APP_SYNC_DAPP_DATA"),payload:ave})).or(Pe.extend({type:Ne("APP_RELOAD")})),frameEvent:Pe.extend({type:Ne("FRAME_SWITCH_NETWORK_ERROR"),payload:gn}).or(Pe.extend({type:Ne("FRAME_SWITCH_NETWORK_SUCCESS"),payload:wve})).or(Pe.extend({type:Ne("FRAME_CONNECT_EMAIL_SUCCESS"),payload:lve})).or(Pe.extend({type:Ne("FRAME_CONNECT_EMAIL_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:uve})).or(Pe.extend({type:Ne("FRAME_GET_FARCASTER_URI_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:dve})).or(Pe.extend({type:Ne("FRAME_CONNECT_FARCASTER_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_CONNECT_OTP_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_CONNECT_OTP_SUCCESS")})).or(Pe.extend({type:Ne("FRAME_CONNECT_DEVICE_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Pe.extend({type:Ne("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:hve})).or(Pe.extend({type:Ne("FRAME_CONNECT_SOCIAL_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_GET_USER_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_GET_USER_SUCCESS"),payload:pve})).or(Pe.extend({type:Ne("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:gve})).or(Pe.extend({type:Ne("FRAME_SIGN_OUT_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_SIGN_OUT_SUCCESS")})).or(Pe.extend({type:Ne("FRAME_IS_CONNECTED_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_IS_CONNECTED_SUCCESS"),payload:mve})).or(Pe.extend({type:Ne("FRAME_GET_CHAIN_ID_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_GET_CHAIN_ID_SUCCESS"),payload:yve})).or(Pe.extend({type:Ne("FRAME_RPC_REQUEST_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_RPC_REQUEST_SUCCESS"),payload:Cve})).or(Pe.extend({type:Ne("FRAME_SESSION_UPDATE"),payload:tR})).or(Pe.extend({type:Ne("FRAME_UPDATE_EMAIL_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_UPDATE_EMAIL_SUCCESS"),payload:fve})).or(Pe.extend({type:Ne("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Pe.extend({type:Ne("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:vve})).or(Pe.extend({type:Ne("FRAME_SYNC_THEME_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_SYNC_THEME_SUCCESS")})).or(Pe.extend({type:Ne("FRAME_SYNC_DAPP_DATA_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Pe.extend({type:Ne("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:bve})).or(Pe.extend({type:Ne("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Eve})).or(Pe.extend({type:Ne("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_READY"),payload:_ve})).or(Pe.extend({type:Ne("FRAME_RELOAD_ERROR"),payload:gn})).or(Pe.extend({type:Ne("FRAME_RELOAD_SUCCESS")}))};function Z_(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class mbe{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=te.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const i=document.getElementById("w3m-iframe");this.iframe&&!i&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(i,o,a)=>{function c({data:l}){if(!Z_(Re.FRAME_EVENT_KEY,l))return;const u=Wf.frameEvent.parse(l);u.id===i&&(o(u),window.removeEventListener("message",c))}Rs.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:i=>{Rs.isClient&&window.addEventListener("message",({data:o})=>{if(!Z_(Re.FRAME_EVENT_KEY,o))return;const a=Wf.frameEvent.parse(o);i(a)})},onAppEvent:i=>{Rs.isClient&&window.addEventListener("message",({data:o})=>{if(!Z_(Re.APP_EVENT_KEY,o))return;const a=Wf.appEvent.parse(o);i(a)})},postAppEvent:i=>{var o;if(Rs.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");Wf.appEvent.parse(i),this.iframe.contentWindow.postMessage(i,"*")}},postFrameEvent:i=>{if(Rs.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");Wf.frameEvent.parse(i),parent.postMessage(i,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),n&&(this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),Rs.isClient)){const i=document.createElement("iframe");i.id="w3m-iframe",i.src=`${HX}?projectId=${e}&chainId=${r}&version=${GX}&enableLogger=${s}`,i.name="w3m-secure-iframe",i.style.position="fixed",i.style.zIndex="999999",i.style.display="none",i.style.border="none",i.style.animationDelay="0s, 50ms",i.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",i.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=i,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class ybe{constructor(e){var i;const n=Kh({level:VX}),{logger:r,chunkLoggerController:s}=_2({opts:n});this.logger=Nr(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class wbe{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new ybe(e)),this.abortController=i,this.w3mFrame=new mbe({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===Re.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!sr.get(Re.EMAIL_LOGIN_USED_KEY)}getEmail(){return sr.get(Re.EMAIL)}getUsername(){return sr.get(Re.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:Re.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{Rs.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:Re.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:Re.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:Re.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:Re.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:Re.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:Re.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:Re.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:Re.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:Re.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:Re.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:Re.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:Re.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:Re.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n,r;if(e!=null&&e.socialUri)try{await this.init();const s=await this.appEvent({type:Re.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId}});return s.userName&&this.setSocialLoginSuccess(s.userName),this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var n;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:Re.APP_GET_USER,payload:{...e,chainId:r}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{await this.init();const r=await this.appEvent({type:Re.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:Re.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:Re.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:Re.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const s=setTimeout(()=>{r()},3e3);await this.appEvent({type:Re.APP_SIGN_OUT}),clearTimeout(s),r()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,s,i;try{if(Qn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:Re.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,o,e),o}catch(o){throw(s=this.rpcErrorHandler)==null||s.call(this,o,e),(i=this.w3mLogger)==null||i.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Re.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Re.FRAME_IS_CONNECTED_ERROR&&e(),n.type===Re.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Re.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Re.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Re.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===Re.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Qn.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Re.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===Re.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{Qn.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(c){return c.replace("@w3m-app/","")}const i=[Re.APP_SYNC_DAPP_DATA,Re.APP_SYNC_THEME,Re.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(r=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[Re.APP_CONNECT_EMAIL,Re.APP_CONNECT_DEVICE,Re.APP_CONNECT_OTP,Re.APP_CONNECT_SOCIAL,Re.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(n=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{var f,p,m;const u=Math.random().toString(36).substring(7);(m=(f=this.w3mLogger)==null?void 0:(p=f.logger).info)==null||m.call(p,{event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const d=new AbortController;if(o==="RPC_REQUEST"){const w=e;this.openRpcRequests=[...this.openRpcRequests,{...w.payload,abortController:d}]}d.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});function h(w,y){var b,v,E;w.id===u&&((v=y==null?void 0:(b=y.logger).info)==null||v.call(b,{framEvent:w,id:u},"Received frame response"),w.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in w&&c(w.payload),c(void 0)):w.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in w&&l(new Error(((E=w.payload)==null?void 0:E.message)||"An error occurred")),l(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(u,w=>h(w,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){sr.set(Re.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){sr.set(Re.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&sr.set(Re.EMAIL,e),sr.set(Re.EMAIL_LOGIN_USED_KEY,"true"),sr.delete(Re.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){sr.delete(Re.EMAIL_LOGIN_USED_KEY),sr.delete(Re.EMAIL),sr.delete(Re.LAST_USED_CHAIN_KEY),sr.delete(Re.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&sr.set(Re.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=sr.get(Re.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){sr.set(Re.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class ru{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i}){return ru.instance||(ru.instance=new wbe({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i})),ru.instance}}var nR={};const vbe={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof nR<"u"?nR.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},fS={filterOutDuplicatesByRDNS(t){const e=ue.state.enableEIP6963?_e.state.connectors:[],n=be.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&De.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!i.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=_e.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=be.getRecentWallets(),r=e.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=_e.state,{featuredWalletIds:n}=ue.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=ue.state.features)==null?void 0:c.connectMethodsOrder),r=e||_e.state.connectors;if(n)return n;const{injected:s,announced:i}=qw.getConnectorsByType(r,Be.state.recommended,Be.state.featured),o=s.filter(qw.showConnector),a=i.filter(qw.showConnector);return o.length||a.length?["wallet","email","social"]:vbe.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Be.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Be.state.excludedWallets.some(r=>Wg.isLowerCaseMatch(r.name,t.name));return e||n}},qw={getConnectorsByType(t,e,n){const{customWallets:r}=ue.state,s=be.getRecentWallets(),i=fS.filterOutDuplicateWallets(e),o=fS.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&Be.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&Be.state.excludedWallets.some(i=>Wg.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!De.isMobile()||De.isMobile()&&!e&&!ke.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(R.state.chains.values()).some(n=>_e.getConnectorId(n.namespace)===te.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=ue.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=qw.getIsConnectedWithWC(),f=[{type:"walletConnect",isEnabled:ue.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(y=>y.isEnabled),p=new Set(f.map(y=>y.type)),m=c.filter(y=>p.has(y)).map(y=>({type:y,isEnabled:!0})),w=f.filter(({type:y})=>!m.some(({type:v})=>v===y));return Array.from(new Set([...m,...w].map(({type:y})=>y)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,n;try{if(t.name==="Browser Wallet"&&!De.isMobile())return{accounts:[],chainId:void 0};if(t.id===te.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[r,s]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(n=t.provider)==null?void 0:n.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:r,chainId:s}}catch(r){return console.warn(`Failed to fetch provider data for ${t.name}`,r),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ww=globalThis,tI=Ww.ShadowRoot&&(Ww.ShadyCSS===void 0||Ww.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,nI=Symbol(),rR=new WeakMap;let ZU=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==nI)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(tI&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=rR.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&rR.set(n,e))}return e}toString(){return this.cssText}};const Zs=t=>new ZU(typeof t=="string"?t:t+"",void 0,nI),th=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new ZU(n,t,nI)},bbe=(t,e)=>{if(tI)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=Ww.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},sR=tI?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Zs(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:_be,defineProperty:Ebe,getOwnPropertyDescriptor:Cbe,getOwnPropertyNames:xbe,getOwnPropertySymbols:Sbe,getPrototypeOf:Abe}=Object,Wc=globalThis,iR=Wc.trustedTypes,Ibe=iR?iR.emptyScript:"",X_=Wc.reactiveElementPolyfillSupport,Dp=(t,e)=>t,pS={toAttribute(t,e){switch(e){case Boolean:t=t?Ibe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},XU=(t,e)=>!_be(t,e),oR={attribute:!0,type:String,converter:pS,reflect:!1,useDefault:!1,hasChanged:XU};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Wc.litPropertyMetadata??(Wc.litPropertyMetadata=new WeakMap);let Ad=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=oR){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&Ebe(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:i}=Cbe(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const a=s==null?void 0:s.call(this);i==null||i.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??oR}static _$Ei(){if(this.hasOwnProperty(Dp("elementProperties")))return;const e=Abe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Dp("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Dp("properties"))){const n=this.properties,r=[...xbe(n),...Sbe(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(sR(s))}else e!==void 0&&n.push(sR(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return bbe(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var i;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)==null?void 0:i.toAttribute)!==void 0?r.converter:pS).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,n){var i,o;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const a=r.getPropertyOptions(s),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)==null?void 0:i.fromAttribute)!==void 0?a.converter:pS;this._$Em=s,this[s]=c.fromAttribute(n,a.type)??((o=this._$Ej)==null?void 0:o.get(s))??null,this._$Em=null}}requestUpdate(e,n,r){var s;if(e!==void 0){const i=this.constructor,o=this[e];if(r??(r=i.getPropertyOptions(e)),!((r.hasChanged??XU)(o,n)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s){const{wrapped:a}=o,c=this[i];a!==!0||this._$AL.has(i)||c===void 0||this.C(i,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};Ad.elementStyles=[],Ad.shadowRootOptions={mode:"open"},Ad[Dp("elementProperties")]=new Map,Ad[Dp("finalized")]=new Map,X_==null||X_({ReactiveElement:Ad}),(Wc.reactiveElementVersions??(Wc.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const jp=globalThis,nv=jp.trustedTypes,aR=nv?nv.createPolicy("lit-html",{createHTML:t=>t}):void 0,eL="$lit$",lc=`lit$${Math.random().toFixed(9).slice(2)}$`,tL="?"+lc,Tbe=`<${tL}>`,Tu=document,rm=()=>Tu.createComment(""),sm=t=>t===null||typeof t!="object"&&typeof t!="function",rI=Array.isArray,Nbe=t=>rI(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",eE=`[ 	
\f\r]`,Hf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,cR=/-->/g,lR=/>/g,bl=RegExp(`>|${eE}(?:([^\\s"'>=/]+)(${eE}*=${eE}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),uR=/'/g,dR=/"/g,nL=/^(?:script|style|textarea|title)$/i,rL=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),sSe=rL(1),iSe=rL(2),$h=Symbol.for("lit-noChange"),Gn=Symbol.for("lit-nothing"),hR=new WeakMap,ql=Tu.createTreeWalker(Tu,129);function sL(t,e){if(!rI(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return aR!==void 0?aR.createHTML(e):e}const Pbe=(t,e)=>{const n=t.length-1,r=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=Hf;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===Hf?u[1]==="!--"?o=cR:u[1]!==void 0?o=lR:u[2]!==void 0?(nL.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=bl):u[3]!==void 0&&(o=bl):o===bl?u[0]===">"?(o=s??Hf,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?bl:u[3]==='"'?dR:uR):o===dR||o===uR?o=bl:o===cR||o===lR?o=Hf:(o=bl,s=void 0);const f=o===bl&&t[a+1].startsWith("/>")?" ":"";i+=o===Hf?c+Tbe:d>=0?(r.push(l),c.slice(0,d)+eL+c.slice(d)+lc+f):c+lc+(d===-2?a:f)}return[sL(t,i+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class im{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[l,u]=Pbe(e,n);if(this.el=im.createElement(l,r),ql.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=ql.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(eL)){const h=u[o++],f=s.getAttribute(d).split(lc),p=/([.?@])?(.*)/.exec(h);c.push({type:1,index:i,name:p[2],strings:f,ctor:p[1]==="."?Obe:p[1]==="?"?Rbe:p[1]==="@"?$be:vb}),s.removeAttribute(d)}else d.startsWith(lc)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(nL.test(s.tagName)){const d=s.textContent.split(lc),h=d.length-1;if(h>0){s.textContent=nv?nv.emptyScript:"";for(let f=0;f<h;f++)s.append(d[f],rm()),ql.nextNode(),c.push({type:2,index:++i});s.append(d[h],rm())}}}else if(s.nodeType===8)if(s.data===tL)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(lc,d+1))!==-1;)c.push({type:7,index:i}),d+=lc.length-1}i++}}static createElement(e,n){const r=Tu.createElement("template");return r.innerHTML=e,r}}function Dh(t,e,n=t,r){var o,a;if(e===$h)return e;let s=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const i=sm(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=Dh(t,s._$AS(t,e.values),s,r)),e}class kbe{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??Tu).importNode(n,!0);ql.currentNode=s;let i=ql.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new zm(i,i.nextSibling,this,e):c.type===1?l=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(l=new Dbe(i,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(i=ql.nextNode(),o++)}return ql.currentNode=Tu,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class zm{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=Gn,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Dh(this,e,n),sm(e)?e===Gn||e==null||e===""?(this._$AH!==Gn&&this._$AR(),this._$AH=Gn):e!==this._$AH&&e!==$h&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Nbe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Gn&&sm(this._$AH)?this._$AA.nextSibling.data=e:this.T(Tu.createTextNode(e)),this._$AH=e}$(e){var i;const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=im.createElement(sL(r.h,r.h[0]),this.options)),r);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(n);else{const o=new kbe(s,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=hR.get(e.strings);return n===void 0&&hR.set(e.strings,n=new im(e)),n}k(e){rI(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of e)s===n.length?n.push(r=new zm(this.O(rm()),this.O(rm()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class vb{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,i){this.type=1,this._$AH=Gn,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Gn}_$AI(e,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)e=Dh(this,e,n,0),o=!sm(e)||e!==this._$AH&&e!==$h,o&&(this._$AH=e);else{const a=e;let c,l;for(e=i[0],c=0;c<i.length-1;c++)l=Dh(this,a[r+c],n,c),l===$h&&(l=this._$AH[c]),o||(o=!sm(l)||l!==this._$AH[c]),l===Gn?e=Gn:e!==Gn&&(e+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===Gn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Obe extends vb{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Gn?void 0:e}}class Rbe extends vb{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Gn)}}class $be extends vb{constructor(e,n,r,s,i){super(e,n,r,s,i),this.type=5}_$AI(e,n=this){if((e=Dh(this,e,n,0)??Gn)===$h)return;const r=this._$AH,s=e===Gn&&r!==Gn||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==Gn&&(r===Gn||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class Dbe{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Dh(this,e)}}const tE=jp.litHtmlPolyfillSupport;tE==null||tE(im,zm),(jp.litHtmlVersions??(jp.litHtmlVersions=[])).push("3.3.0");const jbe=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const i=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new zm(e.insertBefore(rm(),i),i,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const su=globalThis;let Hw=class extends Ad{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=jbe(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return $h}};var r3;Hw._$litElement$=!0,Hw.finalized=!0,(r3=su.litElementHydrateSupport)==null||r3.call(su,{LitElement:Hw});const nE=su.litElementPolyfillSupport;nE==null||nE({LitElement:Hw});(su.litElementVersions??(su.litElementVersions=[])).push("4.2.0");let Up,Hc,Vc;function aSe(t,e){Up=document.createElement("style"),Hc=document.createElement("style"),Vc=document.createElement("style"),Up.textContent=nh(t).core.cssText,Hc.textContent=nh(t).dark.cssText,Vc.textContent=nh(t).light.cssText,document.head.appendChild(Up),document.head.appendChild(Hc),document.head.appendChild(Vc),iL(e)}function iL(t){Hc&&Vc&&(t==="light"?(Hc.removeAttribute("media"),Vc.media="enabled"):(Vc.removeAttribute("media"),Hc.media="enabled"))}function Ube(t){Up&&Hc&&Vc&&(Up.textContent=nh(t).core.cssText,Hc.textContent=nh(t).dark.cssText,Vc.textContent=nh(t).light.cssText)}function nh(t){return{core:th`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Zs(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Zs((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Zs((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${Zs((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${Zs((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:th`
      :root {
        --w3m-color-mix: ${Zs((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${Zs(aa(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Zs(aa(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:th`
      :root {
        --w3m-color-mix: ${Zs((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${Zs(aa(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Zs(aa(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const cSe=th`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,lSe=th`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,uSe=th`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,lp={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},oL=Rq({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function qm(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const fR=qm({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),pR=qm({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});qm({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});qm({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});qm({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const Lbe={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Lp={getMethodsByChainNamespace(t){return Lbe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${i}`,u=r[o];switch(u.chains.push(l),l){case fR.caipNetworkId:u.chains.push(fR.deprecatedCaipNetworkId);break;case pR.caipNetworkId:u.chains.push(pR.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await xp.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1}};class sI{constructor({provider:e,namespace:n}){this.id=te.CONNECTOR_ID.WALLET_CONNECT,this.name=Ic.ConnectorNamesMap[te.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Ic.ConnectorImageIds[te.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=R.getCaipNetworks.bind(R),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=ue.state.universalProviderConfigOverride,s=Lp.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return $p.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Mbe})}}const Mbe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class aL{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>R.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:te.CONNECTOR_ID.AUTH,type:"AUTH",name:te.CONNECTOR_NAMES.AUTH,provider:e,imageId:Ic.ConnectorImageIds[te.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){we.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var i;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const o=s,a=(i=we.state.preferredAccountTypes)==null?void 0:i[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof sI);if(!e)throw new Error("WalletConnectConnector not found");return e}}class Bbe extends aL{setUniversalProvider(e){this.addConnector(new sI({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,i,o,a;const n=this.provider,r=((a=(o=(i=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>De.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var i,o,a,c,l;if(!(e.caipNetwork&&$t.BALANCE_SUPPORTED_CHAINS.includes((i=e.caipNetwork)==null?void 0:i.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(we.state.balanceLoading&&e.chainId===((c=R.state.activeCaipNetwork)==null?void 0:c.id))return{balance:we.state.balance||"0.00",symbol:we.state.balanceSymbol||""};const s=(await we.fetchTokenBalance()).find(u=>{var d,h;return u.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&u.symbol===((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=R.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===te.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:Xh.encode(new TextEncoder().encode(r)),pubkey:s}},(a=R.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},(c=R.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===te.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:du(n.id)}]}))}catch(u){if(u.code===lp.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===lp.ERROR_INVALID_CHAIN_ID||u.code===lp.ERROR_CODE_DEFAULT||((o=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:o.code)===lp.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:du(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const Fbe=["email","socials","swaps","onramp","activity","reownBranding"],iw={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?$t.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?$t.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?$t.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?$t.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?$t.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?$t.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?$t.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?$t.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?$t.DEFAULT_REMOTE_FEATURES.reownBranding:!!t}},zbe={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=iw[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,s){const i=iw[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(i.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return iw[t].processApi(e)},processFallbackFeature(t,e){return iw[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await Be.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?$t.DEFAULT_REMOTE_FEATURES:$t.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of Fbe){const a=this.processFeature(o,n,r,s,e);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),$t.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;In.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return i}};class qbe{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,i,o,a;if(n){const c=(i=(s=R.getNetworkData(n))==null?void 0:s.requestedCaipNetworks)==null?void 0:i.find(d=>d.id===r);if(c)return c;const l=(o=R.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=R.getRequestedCaipNetworks(n).filter(d=>d.chainNamespace===n))==null?void 0:a[0])}return R.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>R.getCaipNetworks(n),this.getActiveChainNamespace=()=>R.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{R.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>R.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>R.state.activeChain===n||!n?R.state.activeCaipAddress:R.getAccountProp("caipAddress",n),this.setClientId=n=>{He.setClientId(n)},this.getProvider=n=>Bt.getProvider(n),this.getProviderType=n=>Bt.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=we.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{we.setCaipAddress(n,r),n&&ue.state.enableEmbedded&&this.close()},this.setBalance=(n,r,s)=>{we.setBalance(n,r,s)},this.setProfileName=(n,r)=>{we.setProfileName(n,r)},this.setProfileImage=(n,r)=>{we.setProfileImage(n,r)},this.setUser=(n,r)=>{we.setUser(n,r)},this.resetAccount=n=>{we.resetAccount(n)},this.setCaipNetwork=n=>{R.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{R.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{we.setAllAccounts(n,r),ue.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{we.setStatus(n,r),_e.isConnected()?be.setConnectionStatus("connected"):be.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>R.getAccountProp("address",n),this.setConnectors=n=>{const r=[..._e.state.allConnectors,...n];_e.setConnectors(r)},this.setConnections=(n,r)=>{ke.setConnections(n,r)},this.fetchIdentity=n=>He.fetchIdentity(n),this.getReownName=n=>xp.getNamesForAddress(n),this.getConnectors=()=>_e.getConnectors(),this.getConnectorImage=n=>Rj.getConnectorImage(n),this.getConnections=n=>$g.getConnectionsData(n).connections,this.getRecentConnections=n=>$g.getConnectionsData(n).recentConnections,this.switchConnection=n=>ke.switchConnection(n),this.deleteConnection=n=>be.deleteAddressFromConnection(n),this.setConnectedWalletInfo=(n,r)=>{const s=Bt.getProviderId(r),i=n?{...n,type:s}:void 0;we.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!R.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{we.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{we.removeAddressLabel(n,r)},this.getAddress=n=>R.state.activeChain===n||!n?we.state.address:R.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>R.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{R.resetNetwork(n)},this.addConnector=n=>{_e.addConnector(n)},this.resetWcConnection=()=>{ke.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{we.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{we.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{R.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{we.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{ue.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){var n,r,s;this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await zbe.fetchRemoteFeatures(e),ue.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&fx.setOnrampProviders(this.remoteFeatures.onramp),((n=ue.state.remoteFeatures)!=null&&n.email||Array.isArray((r=ue.state.remoteFeatures)==null?void 0:r.socials)&&((s=ue.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const e=await Be.fetchAllowedOrigins();if(!e||!De.isClient()){In.open(ln.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;Lp.isOriginAllowed(n,e,lp.DEFAULT_ALLOWED_ANCESTORS)||In.open(ln.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}catch(e){if(!(e instanceof Error)){In.open(ln.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(e.message){case"RATE_LIMITED":In.open(ln.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;In.open({shortMessage:ln.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.shortMessage,longMessage:ln.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.longMessage(n.message)},"error");break}default:In.open(ln.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,Dt.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&us.setThemeMode(e.themeMode),e.themeVariables&&us.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");R.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&R.setActiveCaipNetwork(n)}initializeConnectionController(e){ke.initialize(e.adapters??[]),ke.setWcBasic(e.basic??!1)}initializeConnectorController(){_e.initialize(this.chainNamespaces)}initializeProjectSettings(e){ue.setProjectId(e.projectId),ue.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var o;ue.setDebug(e.debug!==!1),ue.setEnableWalletConnect(e.enableWalletConnect!==!1),ue.setEnableWalletGuide(e.enableWalletGuide!==!1),ue.setEnableWallets(e.enableWallets!==!1),ue.setEIP6963Enabled(e.enableEIP6963!==!1),ue.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),ue.setEnableAuthLogger(e.enableAuthLogger!==!1),ue.setCustomRpcUrls(e.customRpcUrls),ue.setEnableEmbedded(e.enableEmbedded),ue.setAllWallets(e.allWallets),ue.setIncludeWalletIds(e.includeWalletIds),ue.setExcludeWalletIds(e.excludeWalletIds),ue.setFeaturedWalletIds(e.featuredWalletIds),ue.setTokens(e.tokens),ue.setTermsConditionsUrl(e.termsConditionsUrl),ue.setPrivacyPolicyUrl(e.privacyPolicyUrl),ue.setCustomWallets(e.customWallets),ue.setFeatures(e.features),ue.setAllowUnsupportedChain(e.allowUnsupportedChain),ue.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),ue.setPreferUniversalLinks(e.experimental_preferUniversalLinks),ue.setDefaultAccountTypes(e.defaultAccountTypes);const n=be.getPreferredAccountTypes()||{},r={...ue.state.defaultAccountTypes,...n};we.setPreferredAccountTypes(r);const s=this.getDefaultMetaData();if(!e.metadata&&s&&(e.metadata=s),ue.setMetadata(e.metadata),ue.setDisableAppend(e.disableAppend),ue.setEnableEmbedded(e.enableEmbedded),ue.setSIWX(e.siwx),!e.projectId){In.open(ln.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===te.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");ue.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return De.isClient()?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=wo.getUnsupportedNetwork(`${n}:${e}`);R.setActiveCaipNetwork(r)}}getDefaultNetwork(){return wo.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return wo.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return wo.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return n?wo.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const n=this.getAdapter(e),r=Bt.getProvider(e),s=Bt.getProviderId(e),{caipAddress:i}=R.getAccountData(e)||{};this.setLoading(!0,e),i&&(n!=null&&n.disconnect)&&await n.disconnect({provider:r,providerType:s}),be.removeConnectedNamespace(e),Bt.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e),this.setConnectedWalletInfo(void 0,e),_e.removeConnectorId(e),R.resetAccount(e),R.resetNetwork(e),this.setLoading(!1,e)}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var i;const e=R.state.activeChain,n=this.getAdapter(e),r=(i=this.getCaipNetwork(e))==null?void 0:i.id;if(!n)throw new Error("Adapter not found");const s=await n.connectWalletConnect(r);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),be.setConnectedNamespaces([...R.state.chains.keys()]),this.chainNamespaces.forEach(o=>{_e.setConnectorId(tn.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:s,chain:i,caipNetwork:o,socialUri:a})=>{var m,w,y,b,v,E;const c=R.state.activeChain,l=i||c,u=this.getAdapter(l);if(i&&i!==c&&!o){const _=this.getCaipNetworks().find(x=>x.chainNamespace===i);_&&this.setCaipNetwork(_)}if(!u)throw new Error("Adapter not found");const d=this.getCaipNetwork(l),h=await u.connect({id:e,info:n,type:r,provider:s,socialUri:a,chainId:(o==null?void 0:o.id)||(d==null?void 0:d.id),rpcUrl:((y=(w=(m=o==null?void 0:o.rpcUrls)==null?void 0:m.default)==null?void 0:w.http)==null?void 0:y[0])||((E=(v=(b=d==null?void 0:d.rpcUrls)==null?void 0:b.default)==null?void 0:v.http)==null?void 0:E[0])});if(!h)return;be.addConnectedNamespace(l),this.syncProvider({...h,chainNamespace:l});const f=we.state.allAccounts,{accounts:p}=(f==null?void 0:f.length)>0?{accounts:[...f]}:await u.getAccounts({namespace:l,id:e});this.setAllAccounts(p,l),this.setStatus("connected",l),this.syncConnectedWalletInfo(l)},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var a;const i=R.state.activeChain,o=this.getAdapter(i);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),be.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async({chainNamespace:e}={})=>{const n=ZX(e);try{const r=await Promise.allSettled(n.map(async([i])=>this.disconnectNamespace(i)));It.resetSend(),ke.resetWcConnection(),await $p.clearSessions(),_e.setFilterByNamespace(void 0);const s=r.filter(i=>i.status==="rejected");if(s.length>0)throw new Error(s.map(i=>i.reason.message).join(", "));be.deleteConnectedSocialProvider(),Dt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(r){throw new Error(`Failed to disconnect chains: ${r.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(R.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:we.state.address,provider:Bt.getProvider(R.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if($t.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(R.state.activeChain),s=Bt.getProvider(n),i=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===te.CHAIN.EVM){const n=this.getAdapter(R.state.activeChain),r=Bt.getProvider(R.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const i=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:s}));return(i==null?void 0:i.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:we.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:R.state.activeChain}),we.state.profileImage||!1},getEnsAddress:async e=>await Lp.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(R.state.activeChain),r=this.getCaipNetwork(),s=this.getCaipAddress(),i=Bt.getProvider(R.state.activeChain);if(!r||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:i,caipAddress:s}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter(R.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(R.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(R.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(R.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(R.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(R.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!we.state.address||this.updateNativeBalance(we.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},ke.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,i,o;if(Bt.getProviderId(R.state.activeChain)===tn.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=Bt.getProvider(n),i=Bt.getProviderId(n);if(e.chainNamespace===R.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:s,providerType:i}))}else if(this.setCaipNetwork(e),i===tn.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=ks.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var i;const s=e==null?void 0:e.find(o=>o.namespace===r);return s?(s.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new Bbe({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=be.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(be.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:i})=>{const o=this.getCaipNetworks().find(l=>l.id===i||l.caipNetworkId===i),a=R.state.activeChain===e,c=R.getAccountProp("address",e);if(o){const l=a&&s?s:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=we.state.address,i=R.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i})=>{var a,c;const o=R.state.activeChain===e;o&&i?this.syncAccount({address:s,chainId:i,chainNamespace:e}):o&&((a=R.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:s,chainId:(c=R.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(s,i,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===te.CHAIN.EVM&&De.isSafeApp()&&_e.setConnectorId(te.CONNECTOR_ID.SAFE,e);const n=_e.getConnectorId(e);switch(this.setStatus("connecting",e),n){case te.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case te.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var a,c,l;const n=this.getAdapter(e),r=_e.getConnectorId(e),s=this.getCaipNetwork(e),o=_e.getConnectors(e).find(u=>u.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const u=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:s.id,rpcUrl:(l=(c=(a=s==null?void 0:s.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));if(u){const d=await(n==null?void 0:n.getAccounts({namespace:e,id:o.id}));d&&d.accounts.length>0?this.setAllAccounts(d.accounts,e):this.setAllAccounts([De.createAccount(e,u.address,"eoa")],e),this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){var r,s;const e=Object.keys(((s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)||{}),n=this.chainNamespaces.map(async i=>{var u,d,h,f,p;const o=this.getAdapter(i),a=((f=(h=(d=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:d.namespaces)==null?void 0:h[i])==null?void 0:f.accounts)||[],c=(p=R.state.activeCaipNetwork)==null?void 0:p.id,l=a.find(m=>{const{chainId:w}=ks.parseCaipAddress(m);return w===(c==null?void 0:c.toString())})||a[0];if(l){const m=ks.validateCaipAddress(l),{chainId:w,address:y}=ks.parseCaipAddress(m);if(Bt.setProviderId(i,tn.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&R.state.activeCaipNetwork&&(o==null?void 0:o.namespace)!==te.CHAIN.EVM){const b=o==null?void 0:o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:R.state.activeCaipNetwork});Bt.setProvider(i,b)}else Bt.setProvider(i,this.universalProvider);_e.setConnectorId(te.CONNECTOR_ID.WALLET_CONNECT,i),be.addConnectedNamespace(i),this.syncWalletConnectAccounts(i),await this.syncAccount({address:y,chainId:w,chainNamespace:i})}else e.includes(i)&&this.setStatus("disconnected",i);this.syncConnectedWalletInfo(i),await R.setApprovedCaipNetworksData(i)});await Promise.all(n)}syncWalletConnectAccounts(e){var r,s,i,o,a;const n=(a=(o=(i=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=ks.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>De.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){Bt.setProviderId(s,e),Bt.setProvider(s,n),_e.setConnectorId(r,s)}async syncAllAccounts(e){const n=_e.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),s=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));s&&s.accounts.length>0&&this.setAllAccounts(s.accounts,e)}async syncAccount(e){var d,h;const n=e.chainNamespace===R.state.activeChain,r=R.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=be.getActiveNetworkProps(),c=i||a,l=((d=R.state.activeCaipNetwork)==null?void 0:d.name)===te.UNSUPPORTED_NETWORK_NAME,u=R.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(w=>w.id.toString()===c.toString()),p=this.getCaipNetworks().find(w=>w.chainNamespace===o);if(!u&&!f&&!p){const w=this.getApprovedCaipNetworkIds()||[],y=w.find(v=>{var E;return((E=ks.parseCaipNetworkId(v))==null?void 0:E.chainId)===c.toString()}),b=w.find(v=>{var E;return((E=ks.parseCaipNetworkId(v))==null?void 0:E.chainNamespace)===o});f=this.getCaipNetworks().find(v=>v.caipNetworkId===y),p=this.getCaipNetworks().find(v=>v.caipNetworkId===b||"deprecatedCaipNetworkId"in v&&v.deprecatedCaipNetworkId===b)}const m=f||p;(m==null?void 0:m.chainNamespace)===R.state.activeChain?ue.state.enableNetworkSwitch&&!ue.state.allowUnsupportedChain&&((h=R.state.activeCaipNetwork)==null?void 0:h.name)===te.UNSUPPORTED_NETWORK_NAME?R.showUnsupportedChainUI():this.setCaipNetwork(m):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),Wg.isLowerCaseMatch(s,we.state.address)||this.syncAccountInfo(s,m==null?void 0:m.id,o),n?await this.syncBalance({address:s,chainId:m==null?void 0:m.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),i=n||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${r}:${i}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=_e.getConnectorId(e),r=Bt.getProviderId(e);if(r===tn.CONNECTOR_TYPE_ANNOUNCED||r===tn.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(o=>o.id===n);if(i){const{info:o,name:a,imageUrl:c}=i,l=c||this.getConnectorImage(i);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===tn.CONNECTOR_TYPE_WALLET_CONNECT){const i=Bt.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n&&n===te.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(o=>o.id===te.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}}async syncBalance(e){!Rg.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),i=R.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:e,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,s,i,o,a,c,l,u,d,h;const e=Jwe.createLogger((f,...p)=>{f&&this.handleAlertError(f),console.error(...p)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};ue.setManualWCControl(!!((h=this.options)!=null&&h.manualWCControl)),this.universalProvider=this.options.universalProvider??await Kwe.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{ke.setUri(e)}),this.universalProvider.on("connect",ke.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),ke.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(s=>s.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(Lp.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&De.isCaipAddress(r[0])&&this.syncAccount(ks.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&De.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Dt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(ln.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=ln.ALERT_ERRORS[o];a&&(In.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&ke.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return Pt.open({...e,data:{swap:e.arguments}})}return Pt.open(e)}async close(){await this.injectModalUi(),Pt.close()}setLoading(e,n){Pt.setLoading(e,n)}async disconnect(e){await ke.disconnect({namespace:e})}getSIWX(){return ue.state.siwx}getError(){return""}getChainId(){var e;return(e=R.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){In.open(ln.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await R.switchActiveNetwork(n)}getWalletProvider(){return R.state.activeChain?Bt.state.providers[R.state.activeChain]:null}getWalletProviderType(){return Bt.getProviderId(R.state.activeChain)}subscribeProviders(e){return Bt.subscribeProviders(e)}getThemeMode(){return us.state.themeMode}getThemeVariables(){return us.state.themeVariables}setThemeMode(e){us.setThemeMode(e),iL(us.state.themeMode)}setTermsConditionsUrl(e){ue.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){ue.setPrivacyPolicyUrl(e)}setThemeVariables(e){us.setThemeVariables(e),Ube(us.state.themeVariables)}subscribeTheme(e){return us.subscribe(e)}subscribeConnections(e){return ke.subscribe(e)}getWalletInfo(e){return e?R.getAccountProp("connectedWalletInfo",e):we.state.connectedWalletInfo}getAccount(e){var o;const n=_e.getAuthConnector(e),r=R.getAccountData(e),s=R.state.activeChain,i=be.getConnectedConnectorId(e||s);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:De.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&i===te.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:be.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(o=r.preferredAccountTypes)==null?void 0:o[e||s],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?R.subscribeChainProp("accountState",r,n):R.subscribe(r),_e.subscribe(r)}subscribeNetwork(e){return R.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e,n){return n?we.subscribeKey("connectedWalletInfo",e,n):we.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){we.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){R.subscribeKey("activeCaipNetwork",e)}getState(){return Eo.state}subscribeState(e){return Eo.subscribe(e)}showErrorMessage(e){Ui.showError(e)}showSuccessMessage(e){Ui.showSuccess(e)}getEvent(){return{...Dt.state}}subscribeEvents(e){return Dt.subscribe(e)}replace(e){Ve.replace(e)}redirect(e){Ve.push(e)}popTransactionStack(e){Ve.popTransactionStack(e)}isOpen(){return Pt.state.open}isTransactionStackEmpty(){return Ve.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){ue.setFeatures(e)}updateRemoteFeatures(e){ue.setRemoteFeatures(e)}updateOptions(e){const r={...ue.state||{},...e};ue.setOptions(r)}setConnectMethodsOrder(e){ue.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){ue.setWalletFeaturesOrder(e)}setCollapseWallets(e){ue.setCollapseWallets(e)}setSocialsOrder(e){ue.setSocialsOrder(e)}getConnectMethodsOrder(){return fS.getConnectOrderMethod(ue.state.features,_e.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||R.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&R.removeNetwork(e,n)}}let gR=!1;class Wbe extends qbe{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{Rs.checkIfRequestExists(n)?Rs.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(Qn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(Qn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const s=Rs.checkIfRequestIsSafe(r),i=we.state.address,o=R.state.activeCaipNetwork;s||(i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=R.state.activeChain;_e.getConnectorId(n)===te.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(n=>{var l,u;const r=R.state.activeChain,s=r===te.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,i=ue.state.defaultAccountTypes[r],o=(l=we.state.preferredAccountTypes)==null?void 0:l[r],a=n.preferredAccountType||o||i;Wg.isLowerCaseMatch(n.address,we.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(s,r),this.setUser({...we.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(a,r);const c=(u=n.accounts)==null?void 0:u.map(d=>De.createAccount(r,d.address,d.type||o||i));this.setAllAccounts(c||[De.createAccount(r,n.address,n.preferredAccountType||a)],r),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...we.state.user||{},username:n},R.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,R.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,R.state.activeChain)})}async syncAuthConnector(e,n){var d,h,f,p;const r=te.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),s=n===R.state.activeChain;if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername();this.setUser({...((d=we.state)==null?void 0:d.user)||{},username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected(),l=us.getSnapshot(),u=ue.getSnapshot();await Promise.all([e.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),e.syncTheme({themeMode:l.themeMode,themeVariables:l.themeVariables,w3mThemeVariables:aa(l.themeVariables,l.themeMode)})]),await e.getSmartAccountEnabledNetworks(),n&&r&&s&&(c&&((h=this.connectionControllerClient)!=null&&h.connectExternal)?(await((p=this.connectionControllerClient)==null?void 0:p.connectExternal({id:te.CONNECTOR_ID.AUTH,info:{name:te.CONNECTOR_ID.AUTH},type:tn.CONNECTOR_TYPE_AUTH,provider:e,chainId:(f=R.state.activeCaipNetwork)==null?void 0:f.id,chain:n})),this.setStatus("connected",n)):_e.getConnectorId(n)===te.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),be.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!De.isTelegram())return;const r=be.getTelegramSocialProvider();if(!r||!De.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;we.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=_e.getAuthConnector();r&&o&&(this.setLoading(!0,e),await ke.connectExternal({id:o.id,type:o.type,socialUri:i},o.chain),be.setConnectedSocialProvider(r),be.removeTelegramSocialProvider(),Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var l,u,d,h;if(!te.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=(l=this.remoteFeatures)==null?void 0:l.email,s=Array.isArray((u=this.remoteFeatures)==null?void 0:u.socials)&&this.remoteFeatures.socials.length>0,i=r||s,a=Wg.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&((d=this.options)!=null&&d.projectId)&&i&&(this.authProvider=ru.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(h=this.getCaipNetwork(a))==null?void 0:h.caipNetworkId,abortController:ln.EmbeddedWalletAbortController,onTimeout:f=>{f==="iframe_load_failed"?In.open(ln.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):f==="iframe_request_timeout"?In.open(ln.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):f==="unverified_domain"&&In.open(ln.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),Eo.subscribeOpen(f=>{var p;!f&&this.isTransactionStackEmpty()&&((p=this.authProvider)==null||p.rejectRpcRequests())}));const c=e===R.state.activeChain;this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Be.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var o,a;if(!e)return;const n=R.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===n&&s){const c=this.getAdapter(r),l=Bt.getProvider(r),u=Bt.getProviderId(r);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:l,providerType:u})),this.setCaipNetwork(e)}else{const l=Bt.getProviderId(n)===tn.CONNECTOR_TYPE_AUTH,u=Bt.getProviderId(r),d=u===tn.CONNECTOR_TYPE_AUTH,h=te.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((l&&u===void 0||d)&&h)try{if(R.state.activeChain=e.chainNamespace,s){const f=this.getAdapter(r);await(f==null?void 0:f.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else await((a=(o=this.connectionControllerClient)==null?void 0:o.connectExternal)==null?void 0:a.call(o,{id:te.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:tn.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const p=this.getAdapter(r);await(p==null?void 0:p.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else u===tn.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r}))}}async initialize(e){var n;await super.initialize(e),(n=this.chainNamespaces)==null||n.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),Eo.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const s=`${r}:${n}`,i=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===s);if(r!==te.CHAIN.EVM||i!=null&&i.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(a,r),this.setProfileImage(c,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=Bt.getProviderId(e);if(n===tn.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=be.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(De.isClient()&&!gR)try{const e={...$t.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),De.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!ue.state.disableAppend&&!ue.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}gR=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!De.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(bn(()=>import("./embedded-wallet-B7uZhjsE.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12,13,14]))),n.email&&r.push(bn(()=>import("./email-BaAeOEti.js"),__vite__mapDeps([15,4,14,8,13,7,12,16,9]))),n.socials&&r.push(bn(()=>import("./socials-BKhedP31.js"),__vite__mapDeps([17,4,18,7,19,20,13,21,12,8,14,22,6,23]))),n.swaps&&n.swaps.length>0&&r.push(bn(()=>import("./swaps-f1nm0S4_.js"),__vite__mapDeps([24,4,12,8,25,26,27,6,13,23,9,7]))),e.send&&r.push(bn(()=>import("./send-Dq11Dgzl.js"),__vite__mapDeps([28,4,12,8,13,7,19,14,27,6,9,29,30]))),e.receive&&r.push(bn(()=>import("./receive-9lxNrXgL.js"),__vite__mapDeps([31,4,32,6,22]))),n.onramp&&n.onramp.length>0&&r.push(bn(()=>import("./onramp-DOosqUCY.js"),__vite__mapDeps([33,4,34,23,13,6,8,35,18,7,19,36,14,12,21,9]))),n.activity&&r.push(bn(()=>import("./transactions-BJ_SCmRq.js"),__vite__mapDeps([37,4,38,34,23,13,14,6]))),e.pay&&r.push(bn(()=>import("./index-CysshrOV.js"),__vite__mapDeps([39,4,12,8,40,6,13,10,35,30,21]))),await Promise.all([...r,bn(()=>import("./index-CX6qj8IT.js"),__vite__mapDeps([41,4,6,8,29,13,42,26,10,35,12,11,40,38,34,23,14,25,30,7,9,16,18,19,20,5,21,32,22,36])),bn(()=>import("./w3m-modal-CcyqaTna.js"),__vite__mapDeps([43,4,10,6,13,11,8,26,42]))])}}let Ka;function Hbe(t){t&&(Ka=t)}function bb(){if(!Ka)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function t(n){await(Ka==null?void 0:Ka.open(n))}async function e(){await(Ka==null?void 0:Ka.close())}return{open:t,close:e}}const Vbe="1.7.10";let ow;function Gbe(t){return ow||(ow=new Wbe({...t,sdkVersion:De.generateSdkVersion(t.adapters??[],"react",Vbe)}),Hbe(ow)),ow}const Kbe=Yi({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"720px",height:"600px",minWidth:"480px",minHeight:"360px",top:"calc(50vh - 300px)",left:"calc(50vw - 360px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:100},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},detailContent:{padding:"20px",color:"#000"},detailImage:{width:"100%",height:"auto",marginBottom:"20px",border:"1px solid #ccc"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),mR=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"},{slug:"lawbstation",name:"Lawbstation",api:"opensea-solana",chain:"solana"},{slug:"lawbnexus",name:"Nexus",api:"opensea-solana",chain:"solana"}],Ybe=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=Kbe({isOpen:t}),{open:i}=bb(),o=P.useRef(null),[a,c]=P.useState([]),[l,u]=P.useState(!0),[d,h]=P.useState(null),[f,p]=P.useState("all"),[m,w]=P.useState(1),[y,b]=P.useState(1),[v,E]=P.useState(0),[_,x]=P.useState(null),[S,A]=P.useState(mR[0]),[C,k]=P.useState(!1),[O,B]=P.useState(null),F=P.useCallback(async()=>{var $,j;try{if(($=window.solana)!=null&&$.isPhantom){const q=await window.solana.connect();B(q.publicKey.toString());return}if((j=window.solflare)!=null&&j.isSolflare){const q=await window.solflare.connect();B(q.publicKey.toString());return}i()}catch(q){console.error("Failed to connect Solana wallet:",q),alert("Failed to connect Solana wallet. Please make sure Phantom or Solflare is installed.")}k(!1)},[i]);P.useEffect(()=>{var $,j;($=window.solana)!=null&&$.publicKey?B(window.solana.publicKey.toString()):(j=window.solflare)!=null&&j.publicKey&&B(window.solflare.publicKey.toString())},[]),P.useEffect(()=>{t&&(async()=>{var j;u(!0),h(null);try{let q,J=f==="owned"&&r||void 0;if(S.api==="opensea-solana"){if(f==="owned"&&!O){k(!0),u(!1);return}J=O||void 0,q=await Nj(S.slug,50),console.log("Fetched Solana NFTs from collection:",q.data.length),f==="owned"&&O&&(console.log("Filtering for owner:",O),console.log("Sample NFT owner data:",(j=q.data[0])==null?void 0:j.owners),console.log("All NFTs owner data:",q.data.map(ne=>({name:ne.name,owners:ne.owners,owner_of:ne.owner_of}))),q.data.some(ne=>ne.owners&&ne.owners.length>0)?(q.data=q.data.filter(ne=>{const ie=ne.owners.some(ye=>ye.owner_of&&ye.owner_of.toLowerCase()===O.toLowerCase());return ie&&console.log("Found owned NFT:",ne.name),ie}),console.log("NFTs after filtering:",q.data.length)):(console.log("No owner data available from OpenSea for Solana collection"),h("Owner data not available for this Solana collection. Showing all NFTs.")))}else S.api==="opensea"?q=await m2(S.slug,50,J):q=await g2(S.slug,m,50,J);c(q.data),b(q.totalPages),E(q.totalCount)}catch(q){q instanceof Error?h(q.message):h("An unknown error occurred."),c([])}finally{u(!1)}})()},[t,m,f,r,S,O]),P.useEffect(()=>{C&&F()},[C,F]);const V=$=>new Date($).toLocaleDateString(),I=$=>S.api==="opensea-solana"&&(!$.owners||$.owners.length===0)?"Owner data unavailable":$.owners.length>0?`${$.owners[0].owner_of.substring(0,6)}...`:"N/A",N=()=>{n&&n()},L=async $=>{if(S.api==="opensea"&&S.chain)try{const j=await Tj(S.chain,$.address,$.token_id.toString()),q={...$,attributes:JSON.stringify(j.traits||[])};x(q)}catch(j){console.error("Failed to fetch full NFT details",j),x($)}else x($)},D=$=>{A($),w(1)};return t?g.jsxs(g.Fragment,{children:[g.jsx(Tm,{nodeRef:o,handle:`.${s.header}`,children:g.jsxs("div",{ref:o,className:s.popup,children:[g.jsxs("div",{className:s.header,children:[g.jsx("span",{children:"LAWB NFT GALLERY"}),g.jsxs("div",{className:s.titleBarButtons,children:[g.jsx("button",{className:s.titleBarButton,onClick:N,title:"Minimize",children:"_"}),g.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:""})]})]}),g.jsx("div",{className:s.collectionSelector,children:mR.map($=>g.jsx("button",{className:`${s.collectionButton} ${S.slug===$.slug?"active":""}`,onClick:()=>D($),children:$.name},$.slug))}),g.jsxs("div",{className:s.content,children:[g.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[g.jsx("button",{onClick:()=>p("all"),style:{background:f==="all"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:f==="all"?"white":"black"},children:"All NFTs"}),g.jsx("button",{onClick:()=>p("recent"),disabled:!r,style:{background:f==="recent"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r?"pointer":"not-allowed",color:f==="recent"?"white":"black",opacity:r?1:.6},children:"Recently Minted"}),g.jsx("button",{onClick:()=>p("owned"),disabled:!r&&!O,style:{background:f==="owned"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r||O?"pointer":"not-allowed",color:f==="owned"?"white":"black",opacity:r||O?1:.6},children:"My NFTs"}),S.api==="opensea-solana"&&g.jsx("button",{onClick:()=>{F()},style:{background:O?"#4CAF50":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:O?"white":"black",marginLeft:"auto"},children:O?`Solana: ${O.slice(0,4)}...${O.slice(-4)}`:"Connect Solana"})]}),S.api==="opensea-solana"&&!O&&g.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",padding:"10px",marginBottom:"10px",color:"#856404"},children:"Connect your Solana wallet (Phantom or Solflare) to view your NFTs from this collection."}),d&&g.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:d}),l?g.jsx("div",{children:"Loading NFTs..."}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{marginBottom:"10px",fontSize:"14px"},children:[f==="all"&&`Showing all NFTs (${v} total)`,f==="recent"&&`Recently minted NFTs by ${S.api==="opensea-solana"?(O==null?void 0:O.slice(0,6))+"..."+(O==null?void 0:O.slice(-4)):(r==null?void 0:r.slice(0,6))+"..."+(r==null?void 0:r.slice(-4))}`,f==="owned"&&`NFTs owned by ${S.api==="opensea-solana"?(O==null?void 0:O.slice(0,6))+"..."+(O==null?void 0:O.slice(-4)):(r==null?void 0:r.slice(0,6))+"..."+(r==null?void 0:r.slice(-4))}`]}),a.length===0?g.jsx("div",{children:"No NFTs found."}):g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:a.map($=>g.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},onClick:()=>{L($)},children:[g.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${$.image_url})`,backgroundSize:"cover",backgroundPosition:"center",marginBottom:"10px",border:"1px solid #ccc"}}),g.jsx("div",{style:{fontSize:"12px",marginBottom:"5px",color:"#000"},children:g.jsxs("strong",{children:["#",$.token_id]})}),g.jsxs("div",{style:{fontSize:"11px",marginBottom:"5px",color:"#000"},children:["Owner: ",I($)]}),g.jsxs("div",{style:{fontSize:"11px",color:"#666"},children:["Minted: ",V($.created_at)]})]},$.id))}),f!=="recent"&&y>1&&g.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"20px"},children:[g.jsx("button",{onClick:()=>w($=>Math.max(1,$-1)),disabled:m===1,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:m===1?"not-allowed":"pointer"},children:"Previous"}),g.jsxs("span",{style:{padding:"5px 10px"},children:["Page ",m," of ",y]}),g.jsx("button",{onClick:()=>w($=>Math.min(y,$+1)),disabled:m===y,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:m===y?"not-allowed":"pointer"},children:"Next"})]})]})]})]})}),_&&g.jsx(iX,{nft:_,onClose:()=>x(null)})]}):null};var aw,Qbe=new Uint8Array(16);function Jbe(){if(!aw&&(aw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!aw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return aw(Qbe)}const Zbe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Xbe(t){return typeof t=="string"&&Zbe.test(t)}var rr=[];for(var rE=0;rE<256;++rE)rr.push((rE+256).toString(16).substr(1));function e1e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(rr[t[e+0]]+rr[t[e+1]]+rr[t[e+2]]+rr[t[e+3]]+"-"+rr[t[e+4]]+rr[t[e+5]]+"-"+rr[t[e+6]]+rr[t[e+7]]+"-"+rr[t[e+8]]+rr[t[e+9]]+"-"+rr[t[e+10]]+rr[t[e+11]]+rr[t[e+12]]+rr[t[e+13]]+rr[t[e+14]]+rr[t[e+15]]).toLowerCase();if(!Xbe(n))throw TypeError("Stringified UUID is invalid");return n}function t1e(t,e,n){t=t||{};var r=t.random||(t.rng||Jbe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,e1e(r)}const n1e=Yi({container:{display:"flex",flexDirection:"column",gap:4,padding:4,background:"#c0c0c0",border:"2px outset #fff",borderRadius:8,maxWidth:500,width:"100%",fontFamily:"monospace",fontSize:11},header:{textAlign:"center",marginBottom:2},subtitle:{color:"#000",fontSize:"10px",textAlign:"center",marginBottom:2,lineHeight:1.1},content:{display:"flex",flexDirection:"column",gap:2},section:{display:"flex",flexDirection:"column",gap:1},sectionTitle:{fontWeight:"bold",color:"#000",fontSize:11,borderBottom:"1px solid #888",paddingBottom:0},row:{display:"flex",alignItems:"center",gap:3,flexWrap:"wrap"},label:{minWidth:55,color:"#000",fontWeight:"bold",fontSize:10},input:{flex:1,minWidth:70,padding:"2px 3px",border:"2px inset #fff",background:"#fff",fontSize:10,fontFamily:"monospace",color:"#000",textTransform:"uppercase"},button:{padding:"3px 8px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:10,fontWeight:"bold",color:"#000","&:hover":{background:"#d0d0d0"},"&:active":{border:"2px inset #fff"}},effectButton:{padding:"2px 5px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:9,fontWeight:"bold",color:"#000","&:hover":{background:"#d0d0d0"},"&:active":{border:"2px inset #fff"}},memeArea:{display:"flex",justifyContent:"center",position:"relative",marginTop:1},canvas:{border:"2px inset #fff",background:"#333",maxWidth:"100%",height:"auto"},dropdown:{position:"relative"},dropdownContent:{position:"absolute",top:"100%",left:0,background:"#fff",border:"2px outset #fff",borderRadius:4,zIndex:10,minWidth:100,maxHeight:100,overflowY:"auto"},dropdownItem:{padding:"3px 5px",cursor:"pointer",fontSize:9,borderBottom:"1px solid #eee","&:hover":{background:"#f0f0f0"}},actions:{display:"flex",gap:3,justifyContent:"center",marginTop:1}}),r1e=[{id:"lawbsters",name:"Lawbsters",api:"opensea",slug:"lawbsters",chain:"ethereum"},{id:"lawbstarz",name:"Lawbstarz",api:"opensea",slug:"lawbstarz",chain:"ethereum"},{id:"pixelawbs",name:"Pixelawbsters",api:"scatter",slug:"pixelawbs"},{id:"halloween",name:"Halloween Lawbsters",api:"opensea",slug:"a-lawbster-halloween",chain:"base"},{id:"lawbstation",name:"Lawbstation",api:"opensea-solana",slug:"lawbstation",chain:"solana"},{id:"nexus",name:"Nexus",api:"opensea-solana",slug:"lawbnexus",chain:"solana"}],s1e=["/images/sticker1.png","/images/sticker2.png","/images/sticker3.png","/images/sticker4.png","/images/sticker5.png"],As=500;function cL(){const t=n1e(),e=P.useRef(null),[n,r]=P.useState(null),[s,i]=P.useState(""),[o,a]=P.useState(""),[c,l]=P.useState(36),[u,d]=P.useState(36),[h,f]=P.useState(!1),[p,m]=P.useState(!1),[w,y]=P.useState(!1),[b,v]=P.useState(!1),[E,_]=P.useState(!1),[x,S]=P.useState([]),[A,C]=P.useState(null),k=P.useRef(null),[O,B]=P.useState(null),F=async Y=>{const Z=Y.getContext("2d");if(!Z)return;Z.clearRect(0,0,Y.width,Y.height),n?await new Promise(ee=>{const he=new window.Image;he.crossOrigin="anonymous",he.onload=()=>{const Me=Math.min(Y.width/he.width,Y.height/he.height),Te=(Y.width-he.width*Me)/2,Ce=(Y.height-he.height*Me)/2;Z.drawImage(he,Te,Ce,he.width*Me,he.height*Me),ee()},he.onerror=()=>ee(),he.src=n}):(Z.fillStyle="#333",Z.fillRect(0,0,Y.width,Y.height)),(ee=>{ee.textAlign="center",ee.strokeStyle="black",ee.lineWidth=3,ee.fillStyle="white";const he=(Me,Te)=>{const Ce=Me.toUpperCase().split(" "),Le=[];let Qe=Ce[0];for(let Tt=1;Tt<Ce.length;Tt++){const an=Ce[Tt];ee.measureText(Qe+" "+an).width<Te?Qe+=" "+an:(Le.push(Qe),Qe=an)}return Le.push(Qe),Le};s&&(ee.font=`${c}px Impact`,he(s,As-20).forEach((Te,Ce)=>{const Le=c+Ce*c*1.2;ee.strokeText(Te,As/2,Le),ee.fillText(Te,As/2,Le)})),o&&(ee.font=`${u}px Impact`,he(o,As-20).reverse().forEach((Te,Ce)=>{const Le=As-u*1.2*(Ce+1);ee.strokeText(Te,As/2,Le),ee.fillText(Te,As/2,Le)}))})(Z),await Promise.all(x.map(ee=>new Promise(he=>{const Me=new window.Image;Me.src=ee.src,Me.onload=()=>{Z.save(),Z.translate(ee.x,ee.y),Z.rotate(ee.rotation*Math.PI/180),Z.scale(ee.scale,ee.scale),Z.drawImage(Me,-40,-40,80,80),Z.restore(),he()},Me.onerror=()=>he()})));try{h&&V(Y),p&&I(Y),w&&N(Y)}catch(ee){console.warn("Effects could not be applied due to CORS restrictions. Try uploading your own image instead.",ee),f(!1),m(!1),y(!1)}},V=Y=>{const Z=Y.getContext("2d");if(!Z)return;const oe=Z.getImageData(0,0,Y.width,Y.height),ee=oe.data;for(let he=0;he<ee.length;he+=4){const Me=ee[he],Te=ee[he+1],Ce=ee[he+2],Le=(Me+Te+Ce)/3,Qe=1.8;ee[he]=Math.min(255,Le+(Me-Le)*Qe),ee[he+1]=Math.min(255,Le+(Te-Le)*Qe*.7),ee[he+2]=Math.min(255,Le+(Ce-Le)*Qe*.4);const Tt=1.3;ee[he]=Math.min(255,Math.max(0,ee[he]*Tt)),ee[he+1]=Math.min(255,Math.max(0,ee[he+1]*Tt)),ee[he+2]=Math.min(255,Math.max(0,ee[he+2]*Tt))}Z.putImageData(oe,0,0)},I=Y=>{const Z=Y.getContext("2d");if(!Z)return;const oe=4,he=Z.getImageData(0,0,Y.width,Y.height).data,Me=new Uint8ClampedArray(he);for(let Te=0;Te<Y.height;Te+=oe)for(let Ce=0;Ce<Y.width;Ce+=oe){const Le=(Te*Y.width+Ce)*4,Qe=he[Le],Tt=he[Le+1],an=he[Le+2],Ot=he[Le+3];for(let vt=0;vt<oe&&Te+vt<Y.height;vt++)for(let rn=0;rn<oe&&Ce+rn<Y.width;rn++){const Hr=((Te+vt)*Y.width+(Ce+rn))*4;Me[Hr]=Qe,Me[Hr+1]=Tt,Me[Hr+2]=an,Me[Hr+3]=Ot}}Z.putImageData(new ImageData(Me,Y.width,Y.height),0,0)},N=Y=>{const Z=Y.getContext("2d");if(!Z)return;const oe=Z.getImageData(0,0,Y.width,Y.height),ee=oe.data;for(let he=0;he<ee.length;he+=4){const Me=(Math.random()-.5)*50;ee[he]=Math.max(0,Math.min(255,ee[he]+Me)),ee[he+1]=Math.max(0,Math.min(255,ee[he+1]+Me)),ee[he+2]=Math.max(0,Math.min(255,ee[he+2]+Me))}Z.putImageData(oe,0,0)};P.useEffect(()=>{e.current&&F(e.current)},[F]);const L=Y=>{var oe;const Z=(oe=Y.target.files)==null?void 0:oe[0];Z&&r(URL.createObjectURL(Z))},D=()=>{r(null),i(""),a(""),l(36),d(36),f(!1),m(!1),y(!1)},$=async()=>{const Y=e.current;if(!Y)return;await F(Y);const Z=document.createElement("a");Z.download="meme.png",Z.href=Y.toDataURL("image/png"),document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)},j=async Y=>{_(!0),v(!1);try{console.log("Fetching NFTs for collection:",Y);let Z;if(Y.api==="opensea"){console.log("Using OpenSea API for:",Y.slug);const oe=await m2(Y.slug,50);Z=oe.data,console.log("OpenSea response:",oe)}else if(Y.api==="opensea-solana"){console.log("Using OpenSea Solana API for:",Y.slug);const oe=await Nj(Y.slug,50);Z=oe.data,console.log("OpenSea Solana response:",oe)}else{console.log("Using Scatter API for:",Y.slug);const oe=await g2(Y.slug,1,50);Z=oe.data,console.log("Scatter response:",oe)}if(Z&&Z.length>0){const oe=Z[Math.floor(Math.random()*Z.length)],ee=oe.image||oe.image_url||oe.image_url_shrunk;console.log("Selected NFT:",oe),console.log("Image URL:",ee),r(ee)}else console.log("No NFTs found in collection"),alert("No NFTs found in this collection.")}catch(Z){console.error("Error fetching NFTs:",Z),alert("Failed to fetch NFT images. Check console for details.")}finally{_(!1)}},q=Y=>{const Z={id:t1e(),src:Y,x:80,y:80,scale:1,rotation:0};S(oe=>oe.length>=2||oe.some(ee=>ee.src===Y&&!ee.id.startsWith("upload-"))?oe:[...oe,Z]),B(Z.id)},J=Y=>{var oe;const Z=(oe=Y.target.files)==null?void 0:oe[0];if(Z){const ee=URL.createObjectURL(Z);q(ee)}},se=(Y,Z,oe)=>{S(ee=>ee.map(he=>{if(he.id!==Y)return he;let Me=he.x+Z/1.2,Te=he.y+oe/1.2;const Ce=40*he.scale,Le=40*he.scale;return Me=Math.max(Ce,Math.min(As-Ce,Me)),Te=Math.max(Le,Math.min(As-Le,Te)),{...he,x:Me,y:Te}}))},ne=(Y,Z,oe,ee,he)=>{S(Me=>Me.map(Te=>{if(Te.id!==Y)return Te;const Ce=Te.x,Le=Te.y,Qe=Math.atan2(he-Le,ee-Ce)*180/Math.PI;return{...Te,rotation:oe+(Qe-Z)*.5}}))},ie=Y=>{S(Z=>Z.filter(oe=>oe.id!==Y))},ye=(Y,Z)=>{S(oe=>oe.map(ee=>ee.id===Y?{...ee,scale:Math.max(.2,ee.scale*(1+(Z-1)*.2))}:ee))};return g.jsxs("div",{className:t.container,children:[g.jsxs("div",{className:t.header,children:[g.jsx("h2",{style:{color:"#00ffff",textShadow:"1px 1px 0 #000",marginBottom:8,fontSize:"16px"},children:"Lawb Meme Maker"}),g.jsxs("p",{className:t.subtitle,children:["find memes or upload your own on"," ",g.jsx("a",{href:"https://memedepot.com/d/lawb",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Meme Depot"})]})]}),g.jsxs("div",{className:t.content,children:[g.jsxs("div",{className:t.section,children:[g.jsx("div",{className:t.sectionTitle,children:"Collections"}),g.jsxs("div",{className:t.row,children:[g.jsxs("div",{className:t.dropdown,children:[g.jsx("button",{className:t.button,onClick:()=>v(Y=>!Y),children:"Collections"}),b&&g.jsx("div",{className:t.dropdownContent,children:r1e.map(Y=>g.jsx("div",{className:t.dropdownItem,onClick:()=>{j(Y)},children:Y.name},Y.id))})]}),g.jsxs("label",{className:t.button,style:{marginBottom:0},children:["Upload Image",g.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:L})]}),E&&g.jsx("span",{style:{color:"#00ffff",marginLeft:8,fontSize:"12px"},children:"Loading NFT..."})]})]}),g.jsxs("div",{className:t.section,children:[g.jsx("div",{className:t.sectionTitle,children:"Text"}),g.jsxs("div",{className:t.row,children:[g.jsx("span",{className:t.label,children:"Top Text:"}),g.jsx("input",{className:t.input,type:"text",value:s,onChange:Y=>i(Y.target.value),placeholder:"Enter top text..."}),g.jsx("span",{className:t.label,children:"Size:"}),g.jsx("input",{className:t.input,type:"number",min:10,max:100,value:c,onChange:Y=>l(Number(Y.target.value)),style:{width:60,textAlign:"center"}})]}),g.jsxs("div",{className:t.row,children:[g.jsx("span",{className:t.label,children:"Bottom Text:"}),g.jsx("input",{className:t.input,type:"text",value:o,onChange:Y=>a(Y.target.value),placeholder:"Enter bottom text..."}),g.jsx("span",{className:t.label,children:"Size:"}),g.jsx("input",{className:t.input,type:"number",min:10,max:100,value:u,onChange:Y=>d(Number(Y.target.value)),style:{width:60,textAlign:"center"}})]})]}),g.jsxs("div",{className:t.section,children:[g.jsx("div",{className:t.sectionTitle,children:"Effects"}),g.jsxs("div",{className:t.row,children:[g.jsx("button",{className:t.effectButton,style:{background:h?"#00ffff":void 0},onClick:()=>f(Y=>!Y),children:"Deep Fry"}),g.jsx("button",{className:t.effectButton,style:{background:p?"#00ffff":void 0},onClick:()=>m(Y=>!Y),children:"Pixelate"}),g.jsx("button",{className:t.effectButton,style:{background:w?"#00ffff":void 0},onClick:()=>y(Y=>!Y),children:"Grain"})]})]}),g.jsxs("div",{className:t.section,children:[g.jsx("div",{className:t.sectionTitle,children:"Stickers"}),g.jsxs("div",{className:t.row,children:[s1e.map((Y,Z)=>g.jsx("img",{src:Y,alt:`sticker${Z+1}`,style:{width:32,height:32,cursor:"pointer",border:"1px solid #888",marginRight:4},onClick:()=>q(Y)},Y)),g.jsxs("label",{className:t.button,style:{marginBottom:0},children:["Upload Sticker",g.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},ref:k,onChange:J})]})]})]}),g.jsxs("div",{className:t.actions,children:[g.jsx("button",{className:t.button,onClick:$,children:"Save Image"}),g.jsx("button",{className:t.button,onClick:D,children:"Restart"})]})]}),g.jsx("div",{className:t.memeArea,children:g.jsx("canvas",{ref:e,width:As,height:As,className:t.canvas})}),g.jsx("div",{style:{position:"absolute",left:0,top:0,width:As,height:As,pointerEvents:"none"},children:x.map(Y=>O===Y.id?g.jsxs("div",{style:{position:"absolute",left:Y.x,top:Y.y,width:80*Y.scale,height:80*Y.scale,transform:`rotate(${Y.rotation}deg)`,cursor:"move",pointerEvents:"auto",zIndex:10,border:"2px solid #00f",boxShadow:"0 0 8px #00f"},onMouseDown:Z=>{C(Y.id),Z.stopPropagation()},onMouseUp:()=>C(null),onMouseMove:Z=>{A===Y.id&&Z.buttons===1&&se(Y.id,Z.movementX,Z.movementY)},children:[g.jsx("img",{src:Y.src,alt:"sticker",style:{width:"100%",height:"100%",userSelect:"none",pointerEvents:"none"},draggable:!1}),g.jsx("div",{style:{position:"absolute",right:-12,top:"40%",width:16,height:16,background:"#fff",borderRadius:"50%",border:"1px solid #888",cursor:"grab",zIndex:11},onMouseDown:Z=>{var Qe;Z.stopPropagation();const oe=(Qe=Z.currentTarget.parentElement)==null?void 0:Qe.getBoundingClientRect(),ee=oe?oe.left+oe.width/2:0,he=oe?oe.top+oe.height/2:0,Me=Math.atan2(Z.clientY-he,Z.clientX-ee)*180/Math.PI,Te=Y.rotation,Ce=Tt=>{ne(Y.id,Me,Te,Tt.clientX,Tt.clientY)},Le=()=>{window.removeEventListener("mousemove",Ce),window.removeEventListener("mouseup",Le)};window.addEventListener("mousemove",Ce),window.addEventListener("mouseup",Le)}}),g.jsx("div",{style:{position:"absolute",bottom:-12,right:-12,width:16,height:16,background:"#fff",borderRadius:"50%",border:"1px solid #888",cursor:"nwse-resize",zIndex:11},onMouseDown:Z=>{Z.stopPropagation();const oe=Z.clientX,ee=Me=>{const Te=(Me.clientX-oe)/80;ye(Y.id,1+Te)},he=()=>{window.removeEventListener("mousemove",ee),window.removeEventListener("mouseup",he)};window.addEventListener("mousemove",ee),window.addEventListener("mouseup",he)}}),g.jsx("button",{style:{position:"absolute",top:-12,left:-12,width:16,height:16,background:"#f00",color:"#fff",border:"none",borderRadius:"50%",fontSize:10,cursor:"pointer",zIndex:12},onClick:()=>ie(Y.id),children:""}),g.jsx("button",{style:{position:"absolute",bottom:-12,left:"50%",transform:"translateX(-50%)",width:40,height:18,background:"#0f0",color:"#000",border:"1px solid #888",borderRadius:4,fontSize:8,cursor:"pointer",zIndex:12},onClick:()=>B(null),children:"Place"})]},Y.id):null)})]})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},om.apply(this,arguments)}var Tc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tc||(Tc={}));const yR="popstate";function i1e(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return gS("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:uL(s)}return a1e(e,n,null,t)}function Mn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lL(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o1e(){return Math.random().toString(36).substr(2,8)}function wR(t,e){return{usr:t.state,key:t.key,idx:e}}function gS(t,e,n,r){return n===void 0&&(n=null),om({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sf(e):e,{state:n,key:e&&e.key||r||o1e()})}function uL(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function a1e(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Tc.Pop,c=null,l=u();l==null&&(l=0,o.replaceState(om({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Tc.Pop;let w=u(),y=w==null?null:w-l;l=w,c&&c({action:a,location:m.location,delta:y})}function h(w,y){a=Tc.Push;let b=gS(m.location,w,y);l=u()+1;let v=wR(b,l),E=m.createHref(b);try{o.pushState(v,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(E)}i&&c&&c({action:a,location:m.location,delta:1})}function f(w,y){a=Tc.Replace;let b=gS(m.location,w,y);l=u();let v=wR(b,l),E=m.createHref(b);o.replaceState(v,"",E),i&&c&&c({action:a,location:m.location,delta:0})}function p(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof w=="string"?w:uL(w);return b=b.replace(/ $/,"%20"),Mn(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return a},get location(){return t(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(yR,d),c=w,()=>{s.removeEventListener(yR,d),c=null}},createHref(w){return e(s,w)},createURL:p,encodeLocation(w){let y=p(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(w){return o.go(w)}};return m}var vR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vR||(vR={}));function c1e(t,e,n){return n===void 0&&(n="/"),l1e(t,e,n)}function l1e(t,e,n,r){let s=typeof e=="string"?sf(e):e,i=fL(s.pathname||"/",n);if(i==null)return null;let o=dL(t);u1e(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=E1e(i);a=v1e(o[c],l)}return a}function dL(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Mn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=iu([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(Mn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),dL(i.children,e,u,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:y1e(l,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of hL(i.path))s(i,o,c)}),e}function hL(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=hL(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function u1e(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:w1e(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const d1e=/^:[\w-]+$/,h1e=3,f1e=2,p1e=1,g1e=10,m1e=-2,bR=t=>t==="*";function y1e(t,e){let n=t.split("/"),r=n.length;return n.some(bR)&&(r+=m1e),e&&(r+=f1e),n.filter(s=>!bR(s)).reduce((s,i)=>s+(d1e.test(i)?h1e:i===""?p1e:g1e),r)}function w1e(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function v1e(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=b1e({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),h=c.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:iu([i,d.pathname]),pathnameBase:T1e(iu([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=iu([i,d.pathnameBase]))}return o}function b1e(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_1e(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let m=a[d]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?l[h]=void 0:l[h]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:t}}function _1e(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lL(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function E1e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lL(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fL(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function C1e(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?sf(t):t;return{pathname:n?n.startsWith("/")?n:x1e(n,e):e,search:N1e(r),hash:P1e(s)}}function x1e(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function sE(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S1e(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function A1e(t,e){let n=S1e(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function I1e(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=sf(t):(s=om({},t),Mn(!s.pathname||!s.pathname.includes("?"),sE("?","pathname","search",s)),Mn(!s.pathname||!s.pathname.includes("#"),sE("#","pathname","hash",s)),Mn(!s.search||!s.search.includes("#"),sE("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let c=C1e(s,a),l=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const iu=t=>t.join("/").replace(/\/\/+/g,"/"),T1e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N1e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,P1e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function k1e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pL=["post","put","patch","delete"];new Set(pL);const O1e=["get",...pL];new Set(O1e);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(this,arguments)}const iI=P.createContext(null),R1e=P.createContext(null),_b=P.createContext(null),Eb=P.createContext(null),of=P.createContext({outlet:null,matches:[],isDataRoute:!1}),gL=P.createContext(null);function Cb(){return P.useContext(Eb)!=null}function mL(){return Cb()||Mn(!1),P.useContext(Eb).location}function yL(t){P.useContext(_b).static||P.useLayoutEffect(t)}function $1e(){let{isDataRoute:t}=P.useContext(of);return t?G1e():D1e()}function D1e(){Cb()||Mn(!1);let t=P.useContext(iI),{basename:e,future:n,navigator:r}=P.useContext(_b),{matches:s}=P.useContext(of),{pathname:i}=mL(),o=JSON.stringify(A1e(s,n.v7_relativeSplatPath)),a=P.useRef(!1);return yL(()=>{a.current=!0}),P.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let d=I1e(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:iu([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function j1e(t,e){return U1e(t,e)}function U1e(t,e,n,r){Cb()||Mn(!1);let{navigator:s}=P.useContext(_b),{matches:i}=P.useContext(of),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let l=mL(),u;if(e){var d;let w=typeof e=="string"?sf(e):e;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||Mn(!1),u=w}else u=l;let h=u.pathname||"/",f=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let p=c1e(t,{pathname:f}),m=z1e(p&&p.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:iu([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:iu([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&m?P.createElement(Eb.Provider,{value:{location:am({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Tc.Pop}},m):m}function L1e(){let t=V1e(),e=k1e(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:s},n):null,null)}const M1e=P.createElement(L1e,null);class B1e extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(of.Provider,{value:this.props.routeContext},P.createElement(gL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function F1e(t){let{routeContext:e,match:n,children:r}=t,s=P.useContext(iI);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(of.Provider,{value:e},r)}function z1e(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Mn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,p=!1,m=null,w=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||M1e,c&&(l<0&&h===0?(K1e("route-fallback"),p=!0,w=null):l===h&&(p=!0,w=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),b=()=>{let v;return f?v=m:p?v=w:d.route.Component?v=P.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=u,P.createElement(F1e,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?P.createElement(B1e,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var wL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(wL||{}),vL=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vL||{});function q1e(t){let e=P.useContext(iI);return e||Mn(!1),e}function W1e(t){let e=P.useContext(R1e);return e||Mn(!1),e}function H1e(t){let e=P.useContext(of);return e||Mn(!1),e}function bL(t){let e=H1e(),n=e.matches[e.matches.length-1];return n.route.id||Mn(!1),n.route.id}function V1e(){var t;let e=P.useContext(gL),n=W1e(),r=bL();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function G1e(){let{router:t}=q1e(wL.UseNavigateStable),e=bL(vL.UseNavigateStable),n=P.useRef(!1);return yL(()=>{n.current=!0}),P.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,am({fromRouteId:e},i)))},[t,e])}const _R={};function K1e(t,e,n){_R[t]||(_R[t]=!0)}function Y1e(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Vw(t){Mn(!1)}function Q1e(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Tc.Pop,navigator:i,static:o=!1,future:a}=t;Cb()&&Mn(!1);let c=e.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:c,navigator:i,static:o,future:am({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=sf(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,m=P.useMemo(()=>{let w=fL(u,c);return w==null?null:{location:{pathname:w,search:d,hash:h,state:f,key:p},navigationType:s}},[c,u,d,h,f,p,s]);return m==null?null:P.createElement(_b.Provider,{value:l},P.createElement(Eb.Provider,{children:n,value:m}))}function J1e(t){let{children:e,location:n}=t;return j1e(mS(e),n)}new Promise(()=>{});function mS(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,s)=>{if(!P.isValidElement(r))return;let i=[...e,s];if(r.type===P.Fragment){n.push.apply(n,mS(r.props.children,i));return}r.type!==Vw&&Mn(!1),!r.props.index||!r.props.children||Mn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=mS(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Z1e="6";try{window.__reactRouterVersion=Z1e}catch{}const X1e="startTransition",ER=pM[X1e];function e_e(t){let{basename:e,children:n,future:r,window:s}=t,i=P.useRef();i.current==null&&(i.current=i1e({window:s,v5Compat:!0}));let o=i.current,[a,c]=P.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},u=P.useCallback(d=>{l&&ER?ER(()=>c(d)):c(d)},[c,l]);return P.useLayoutEffect(()=>o.listen(u),[o,u]),P.useEffect(()=>Y1e(r),[r]),P.createElement(Q1e,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var CR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(CR||(CR={}));var xR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xR||(xR={}));const t_e=Yi({body:{margin:0,height:"100vh",width:"100vw",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000",cursor:'url("/assets/lawbpointer.png"), auto'}});function n_e(){const t=t_e(),{open:e}=bb(),{address:n,isConnected:r}=Am(),{isPending:s}=b8(),{disconnect:i}=_8(),{data:o}=E8({address:n}),[a,c]=P.useState("pixelawbs-popup"),[l,u]=P.useState(new Set),[d,h]=P.useState(!1),[f,p]=P.useState(!1),[m,w]=P.useState(!1),[y,b]=P.useState(!1),v=$1e(),E=P.useRef(null);P.useEffect(()=>{if(a==="halloween-popup"&&E.current){const N=E.current.querySelector("script[data-tiktok-embed]");N&&N.remove();const L=document.createElement("script");L.src="https://www.tiktok.com/embed.js",L.async=!0,L.setAttribute("data-tiktok-embed","true"),E.current.appendChild(L)}},[a]);const _=(N,L,D)=>{if(N==="url"&&D)window.open(D,"_blank");else if(N==="popup"&&L)c(L),u($=>{const j=new Set($);return j.delete(L),j}),document.body.offsetWidth;else if(N==="wallet")r?i():e();else if(N==="mint"){if(!n){alert("Please connect your wallet first!");return}h(!0)}else N==="nft-gallery"?p(!0):N==="meme-generator"?w(!0):N==="chess"&&(r?(b(!0),setTimeout(()=>{b(!1),v("/chess")},1500)):e().then(()=>{const $=()=>{window.ethereum&&window.ethereum.selectedAddress?(b(!0),setTimeout(()=>{b(!1),v("/chess")},1500)):setTimeout($,200)};$()}))},x=()=>c(null),S=N=>{u(L=>new Set(L).add(N)),c(null)},A=N=>{N==="mint-popup"?h(!0):N==="nft-gallery-popup"?p(!0):N==="meme-generator-popup"?w(!0):c(N),u(L=>{const D=new Set(L);return D.delete(N),D})},C=()=>h(!1),k=()=>p(!1),O=()=>w(!1),B=()=>{h(!1),u(N=>new Set(N).add("mint-popup"))},F=()=>{p(!1),u(N=>new Set(N).add("nft-gallery-popup"))},V=()=>{w(!1),u(N=>new Set(N).add("meme-generator-popup"))},I=g.jsxs("div",{onClick:()=>{r?i():e()},style:{cursor:"pointer",display:"flex",alignItems:"center",color:r?"limegreen":"red",fontWeight:"bold"},children:[g.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"8px",border:"1px solid black"}}),s?"Connecting...":r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]});return g.jsxs("div",{className:t.body,children:[y&&g.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999},children:[g.jsx("img",{src:"/images/blueknight.png",alt:"Booting Chess...",style:{width:120,height:120,marginBottom:32}}),g.jsx("div",{style:{color:"#fff",fontSize:28,fontFamily:"monospace",letterSpacing:2},children:"LOADING LAWB CHESS..."})]}),g.jsx(JZ,{onIconClick:_}),g.jsx(XZ,{minimizedWindows:Array.from(l),onRestoreWindow:A,walletButton:I,connectionStatus:{connected:r,address:n,ens:o||void 0}}),g.jsxs(Xs,{id:"chat-popup",isOpen:a==="chat-popup",onClose:x,onMinimize:S,children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["join the chat, there is no meme we lawb you ",g.jsx("a",{href:"https://boards.miladychan.org/milady/33793",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"/milady/33793"})]}),g.jsx("img",{src:"/assets/miladychanfaq.png",alt:"Milady Chan FAQ",style:{maxWidth:"100%",marginTop:"10px"}})]}),g.jsxs(Xs,{id:"purity-popup",isOpen:a==="purity-popup",onClose:x,onMinimize:S,children:[g.jsx("p",{style:{marginBottom:"10px"},children:"purify your wallet and cleanse your soul with Purity Finance."}),g.jsx("p",{style:{marginBottom:"10px"},children:"swap any sol token in your wallet directly for $LAWB"}),g.jsx("a",{href:"https://www.purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",style:{cursor:"pointer"},children:"click to Purify"}),g.jsx("img",{src:"/assets/puritylawb.png",alt:"Purity Lawb",style:{maxWidth:"100%",marginTop:"10px"}})]}),g.jsxs(Xs,{id:"lawbstarz-popup",isOpen:a==="lawbstarz-popup",onClose:x,onMinimize:S,children:[g.jsxs("p",{style:{marginBottom:"10px"},children:[" LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER  666x PREMIUM PFP COLLECTION  LAWBSTARZ IS A MUSIC NFT  LAWBSTARZ IS AN ",g.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE  LAWBSTARZ IS INSPIRED BY ",g.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"REMILIA CORP"}),"  LED BY NETWORK SPIRITUALITY  666 ",g.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",g.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 "]}),g.jsx("p",{children:"Chain: Ethereum"}),g.jsxs("p",{children:["Collect on ",g.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),g.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),g.jsxs("blockquote",{className:"twitter-tweet","data-media-max-width":"560",children:[g.jsxs("p",{lang:"en",dir:"ltr",children:["The following  has been transcripted from a live news broadcast:",g.jsx("br",{}),g.jsx("br",{}),"Anchor: Good evening, viewers. Tonight, we embark on an extraordinary journey that defies rational explanation. It all began with February's Cigawrette Packs cargo ship hijacking, little did we know that the.. ",g.jsx("a",{href:"https://t.co/BWgLOk59N4",children:"pic.twitter.com/BWgLOk59N4"})]})," wables (@wables411) ",g.jsx("a",{href:"https://twitter.com/wables411/status/1669009492007354369?ref_src=twsrc%5Etfw",children:"June 14, 2023"})]}),g.jsx("script",{async:!0,src:"https://platform.twitter.com/widgets.js"}),g.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),g.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),g.jsxs(Xs,{id:"lawbstation-popup",isOpen:a==="lawbstation-popup",onClose:x,onMinimize:S,children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",g.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),g.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),g.jsx("p",{style:{marginBottom:"10px"},children:g.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",children:"Collect Lawbstations on Secondary"})}),g.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),g.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),g.jsxs(Xs,{id:"nexus-popup",isOpen:a==="nexus-popup",onClose:x,onMinimize:S,children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",g.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),g.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),g.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),g.jsxs(Xs,{id:"lawbsters-popup",isOpen:a==="lawbsters-popup",onClose:x,onMinimize:S,children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",g.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),g.jsx("p",{children:"Chain: Ethereum"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",g.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})," or ",g.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"NFTX"})]}),g.jsx("div",{style:{maxWidth:"400px",margin:"0 auto"},children:g.jsx(yY,{id:"1620879129850834944"})}),g.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),g.jsx(Xs,{id:"pixelawbs-popup",isOpen:a==="pixelawbs-popup",onClose:x,onMinimize:S,children:(()=>{const N=L=>{L.preventDefault(),c(null),h(!0)};return g.jsxs(g.Fragment,{children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",g.jsx("span",{style:{color:"blue",textDecoration:"underline",cursor:"pointer"},onClick:N,children:"COLLECT HERE"})," OR VISIT ",g.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"SCATTER.ART"})]}),g.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",g.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PixeladyMaker"})]}),g.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Ethereum"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",g.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),g.jsx("img",{src:"/assets/mint.gif",alt:"Mint",style:{maxWidth:"100%"}})]})})()}),g.jsxs(Xs,{id:"halloween-popup",isOpen:a==="halloween-popup",onClose:x,onMinimize:S,children:[g.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),g.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),g.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",g.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),g.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}}),g.jsx("div",{ref:E,style:{maxWidth:"400px",margin:"0 auto"},children:g.jsx("blockquote",{className:"tiktok-embed",cite:"https://www.tiktok.com/@wables.eth/video/7295660710644682027","data-video-id":"7295660710644682027",style:{maxWidth:"605px",minWidth:"325px"},children:g.jsxs("section",{children:[g.jsx("a",{target:"_blank",rel:"noreferrer",title:"@wables.eth",href:"https://www.tiktok.com/@wables.eth?refer=embed",children:"@wables.eth"})," 420 lawbsters hijacked a spirit halloween superstore  minting rn on @ourzora via @PC69 ",g.jsx("a",{target:"_blank",rel:"noreferrer",title:" original sound - wables.eth",href:"https://www.tiktok.com/music/original-sound-7295660837769857835?refer=embed",children:" original sound - wables.eth"})]})})})]}),g.jsxs(Xs,{id:"lawb-popup",isOpen:a==="lawb-popup",onClose:x,onMinimize:S,children:[g.jsx("h1",{style:{marginBottom:"10px"},children:g.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:" $LAWB"})}),g.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",g.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"pump.fun"}),"."]}),g.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),g.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),g.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),g.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),g.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",g.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),g.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",g.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),g.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}}),g.jsx("div",{style:{width:"100%",height:"400px",marginTop:"10px"},children:g.jsx("iframe",{height:"100%",width:"100%",id:"geckoterminal-embed",title:"GeckoTerminal Embed",src:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",frameBorder:"0",allow:"clipboard-write",allowFullScreen:!0})})]}),g.jsx(nX,{isOpen:d,onClose:C,onMinimize:B,walletAddress:n||""}),g.jsx(Ybe,{isOpen:f,onClose:k,onMinimize:F,walletAddress:n}),g.jsx(Xs,{id:"meme-generator-popup",isOpen:m,onClose:O,onMinimize:V,children:g.jsx(cL,{})})]})}const r_e=Yi({galleryContainer:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#c0c0c0",zIndex:200,display:"flex",flexDirection:"column",fontFamily:"'MS Sans Serif', Arial, sans-serif"},header:{background:"navy",color:"#fff",padding:"8px",display:"flex",alignItems:"center",gap:"10px"},backButton:{background:"#c0c0c0",border:"2px outset #fff",padding:"2px 8px",cursor:"pointer","&:active":{borderStyle:"inset"}},headerTitle:{margin:0,fontSize:"1rem",fontWeight:"bold"},content:{flex:1,overflowY:"auto",padding:"1rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",cursor:"pointer",textAlign:"center","& img":{width:"100%",height:"auto",marginBottom:"8px"}},detailView:{padding:"1rem","& img":{maxWidth:"100%",marginBottom:"1rem"}},loading:{textAlign:"center",padding:"2rem"},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff",flexWrap:"wrap"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),SR=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"},{slug:"lawbstation",name:"Lawbstation",api:"opensea-solana",chain:"solana"},{slug:"lawbnexus",name:"Nexus",api:"opensea-solana",chain:"solana"}],s_e=({onBack:t,walletAddress:e})=>{const n=r_e(),{open:r}=bb(),[s,i]=P.useState([]),[o,a]=P.useState(!0),[c,l]=P.useState(null),[u,d]=P.useState(SR[0]),[h,f]=P.useState(!1),[p,m]=P.useState(null),[w,y]=P.useState("all"),[b,v]=P.useState(null),E=P.useCallback(async()=>{var A,C;try{if((A=window.solana)!=null&&A.isPhantom){const k=await window.solana.connect();m(k.publicKey.toString());return}if((C=window.solflare)!=null&&C.isSolflare){const k=await window.solflare.connect();m(k.publicKey.toString());return}r()}catch(k){console.error("Failed to connect Solana wallet:",k),alert("Failed to connect Solana wallet. Please make sure Phantom or Solflare is installed.")}f(!1)},[r]);P.useEffect(()=>{var A,C;(A=window.solana)!=null&&A.publicKey?m(window.solana.publicKey.toString()):(C=window.solflare)!=null&&C.publicKey&&m(window.solflare.publicKey.toString())},[]),P.useEffect(()=>{(async()=>{a(!0);try{let C,k=e||void 0;if(u.api==="opensea-solana"){if(!p){f(!0),a(!1);return}k=p,C=await eX(p,100),console.log("Mobile: Fetched Solana NFTs by owner:",C.data.length)}else u.api==="opensea"?C=await m2(u.slug,100,k):C=await g2(u.slug,1,100,k);w==="owned"&&p&&(console.log("Filtering for owner:",p),C.data.some(B=>B.owners&&B.owners.length>0)?C.data=C.data.filter(B=>B.owners.some(V=>V.owner_of&&V.owner_of.toLowerCase()===p.toLowerCase())):(console.log("No owner data available from OpenSea for Solana collection"),v("Owner data not available for this Solana collection. Showing all NFTs."))),i(C.data)}catch(C){console.error(C)}finally{a(!1)}})()},[e,u,p,w]),P.useEffect(()=>{h&&E()},[h,E]);const _=async A=>{if(a(!0),u.api==="opensea"&&u.chain)try{const C=await Tj(u.chain,A.address,A.token_id.toString()),k={...A,attributes:JSON.stringify(C.traits||[])};l(k)}catch(C){console.error("Failed to fetch full NFT details",C),l(A)}else l(A);a(!1)},x=()=>{if(!c)return null;let A=[];try{A=JSON.parse(c.attributes||"[]")}catch(C){console.error("Failed to parse NFT attributes:",C)}return g.jsxs("div",{className:n.detailView,children:[g.jsx("img",{src:c.image,alt:c.name}),g.jsx("h2",{children:c.name}),g.jsx("h4",{children:"Traits:"}),g.jsx("ul",{children:A.map((C,k)=>g.jsxs("li",{children:[g.jsxs("strong",{children:[C.trait_type,":"]})," ",C.value]},k))})]})},S=()=>g.jsxs(g.Fragment,{children:[g.jsx("div",{className:n.collectionSelector,children:SR.map(A=>g.jsx("button",{className:`${n.collectionButton} ${u.slug===A.slug?"active":""}`,onClick:()=>d(A),children:A.name},A.slug))}),g.jsxs("div",{className:n.content,children:[g.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[g.jsx("button",{onClick:()=>y("all"),style:{background:w==="all"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:w==="all"?"white":"black"},children:"All NFTs"}),g.jsx("button",{onClick:()=>y("owned"),disabled:!e&&!p,style:{background:w==="owned"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:e||p?"pointer":"not-allowed",color:w==="owned"?"white":"black",opacity:e||p?1:.6},children:"My NFTs"}),u.api==="opensea-solana"&&g.jsx("button",{onClick:()=>{E()},style:{background:p?"#4CAF50":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:p?"white":"black",marginLeft:"auto"},children:p?`Solana: ${p.slice(0,4)}...${p.slice(-4)}`:"Connect Solana"})]}),b&&g.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:b}),u.api==="opensea-solana"&&!p&&g.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",padding:"10px",marginBottom:"10px",color:"#856404"},children:"Connect your Solana wallet (Phantom or Solflare) to view your NFTs from this collection."}),o?g.jsx("div",{className:n.loading,children:"Loading NFTs..."}):g.jsx("div",{className:n.grid,children:s.map(A=>{let C=A.image||A.image_url||A.image_url_shrunk||"/assets/pixelawb.png";return g.jsxs("div",{className:n.gridItem,onClick:()=>void _(A),children:[g.jsx("img",{src:C,alt:A.name,onError:k=>{k.currentTarget.src!==A.image_url&&A.image_url?k.currentTarget.src=A.image_url:k.currentTarget.src!==A.image_url_shrunk&&A.image_url_shrunk?k.currentTarget.src=A.image_url_shrunk:k.currentTarget.src="/assets/pixelawb.png"}}),g.jsx("span",{children:A.name})]},A.id)})})]})]});return g.jsxs("div",{className:n.galleryContainer,children:[g.jsxs("header",{className:n.header,children:[g.jsx("button",{className:n.backButton,onClick:c?()=>l(null):t,children:"Back"}),g.jsx("h2",{className:n.headerTitle,children:c?c.name:"LAWB NFT GALLERY"})]}),g.jsx("div",{className:n.content,children:o?g.jsx("p",{className:n.loading,children:"Loading..."}):c?x():S()})]})},i_e=Yi({overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",zIndex:4e3,display:"flex",alignItems:"center",justifyContent:"center"},popup:{background:"#c0c0c0",border:"2px outset #fff",borderRadius:12,width:"92vw",maxWidth:420,minHeight:240,maxHeight:"90vh",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"stretch",position:"relative",overflow:"hidden"},titleBar:{background:"navy",color:"#fff",fontWeight:"bold",fontFamily:"'MS Sans Serif', Arial, sans-serif",fontSize:16,padding:"8px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px inset #fff",userSelect:"none"},closeButton:{width:28,height:28,background:"#c0c0c0",border:"2px outset #fff",borderRadius:4,color:"#000",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginLeft:8,boxShadow:"1px 1px 0 #888","&:active":{border:"2px inset #fff",background:"#e0e0e0"}},content:{padding:16,overflowY:"auto",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000",fontSize:15,background:"#fff",flex:1}}),Si=({isOpen:t,onClose:e,title:n,children:r})=>{const s=i_e();return t?g.jsx("div",{className:s.overlay,children:g.jsxs("div",{className:s.popup,children:[g.jsxs("div",{className:s.titleBar,children:[g.jsx("span",{children:n}),g.jsx("button",{className:s.closeButton,onClick:e,title:"Close",children:""})]}),g.jsx("div",{className:s.content,children:r})]})}):null},o_e=({isOpen:t,onClose:e,walletAddress:n})=>{const[r,s]=P.useState([]),[i,o]=P.useState(!1),[a,c]=P.useState(!1),[l,u]=P.useState({}),[d,h]=P.useState(null),{data:f}=C8();P.useEffect(()=>{t&&n&&p()},[t,n]);const p=async()=>{o(!0),h(null);try{const E=await Aj(n);s(E);const _={};E.forEach(x=>{_[x.id]=0}),u(_)}catch(E){h(E.message)}finally{o(!1)}},m=(E,_)=>{u(x=>({...x,[E]:Math.max(0,_)}))},w=async()=>{const E=Object.entries(l).filter(([,_])=>_>0).map(([_,x])=>({id:_,quantity:x}));if(E.length===0){h("Please select at least one item to mint");return}if(!f){h("Wallet not connected");return}c(!0),h(null);try{const _=await Ij(n,E);if(_.success&&_.mintTransaction){alert("Please confirm the transaction in your wallet.");try{const x=await f.sendTransaction({to:_.mintTransaction.to,value:BigInt(_.mintTransaction.value),data:_.mintTransaction.data});alert(`NFT Minted Successfully: Transaction Hash - ${x}`),e()}catch(x){h("Transaction failed: "+x.message)}}else throw new Error(_.message||"Could not retrieve minting transaction.")}catch(_){h("Minting failed: "+_.message)}finally{c(!1)}},y=(E,_)=>`${parseFloat(E)} ${_}`,b={border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#f8f8f8",borderRadius:"8px",textAlign:"left"},v={backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000",borderRadius:"8px"};return g.jsxs(Si,{isOpen:t,onClose:e,title:"Mint Pixelawbs",children:[d&&g.jsx("div",{style:v,children:d}),i?g.jsx("div",{children:"Loading eligible invite lists..."}):r.length===0?g.jsx("div",{children:"No eligible invite lists found for your wallet."}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{marginBottom:"20px"},children:[g.jsx("h3",{style:{color:"#008080",fontSize:"1rem",margin:0},children:"Available Lists:"}),r.map(E=>g.jsxs("div",{style:b,children:[g.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:E.name}),g.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",y(E.token_price,E.currency_symbol)]}),g.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",E.wallet_limit===4294967295?"Unlimited":E.wallet_limit," per wallet"]}),g.jsx("input",{type:"number",min:0,max:E.wallet_limit===4294967295?void 0:E.wallet_limit,value:l[E.id]||"",onChange:_=>m(E.id,parseInt(_.target.value)||0),style:{width:"60px",fontSize:"1rem",marginRight:"8px"}}),g.jsx("span",{style:{fontSize:"0.95rem"},children:"Qty"})]},E.id))]}),g.jsx("button",{style:{background:"#00ffff",color:"#000",border:"none",borderRadius:"8px",padding:"12px 32px",fontWeight:"bold",fontSize:"1.1rem",marginTop:"1.5rem",cursor:"pointer",boxShadow:"1px 1px 0 #aaa"},onClick:w,disabled:a,children:a?"Minting...":"Mint"})]})]})},a_e=Yi({mobileContainer:{minHeight:"100vh",minWidth:"100vw",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",position:"relative",overflow:"hidden"},header:{backgroundColor:"#c00",padding:"0.75rem 0",border:"none",textAlign:"center",marginBottom:"1.5rem"},title:{margin:0,fontSize:"1.1rem",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",letterSpacing:"1px",textShadow:"1px 1px 0 #000",textTransform:"uppercase"},iconGrid:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem",marginBottom:"80px"},icon:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",cursor:"pointer",textAlign:"center","& img":{width:"64px",height:"64px"},"& span":{wordBreak:"break-word"}},taskbar:{position:"fixed",left:0,bottom:0,width:"100%",maxWidth:"100vw",height:"56px",background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1rem",zIndex:1e3,borderTop:"2px solid #00ffff"},menuButton:{background:"#00ffff",color:"#000",fontWeight:"bold",border:"none",borderRadius:"4px",padding:"8px 16px",fontSize:"1rem",cursor:"pointer",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",boxShadow:"2px 2px 0 #000"},walletStatus:{display:"flex",alignItems:"center",color:"#fff",fontWeight:"bold",fontSize:"0.9rem",fontFamily:"'MS Sans Serif', Arial, sans-serif"},statusDot:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:t=>t?"limegreen":"red",marginRight:"6px",border:"1px solid #000"},clock:{color:"#00ffff",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",fontSize:"1rem",fontWeight:"bold",textShadow:"1px 1px 0 #000",marginRight:"24px"},pixelawbsPopupOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},pixelawbsPopup:{background:"#fff",borderRadius:"12px",width:"90vw",maxWidth:"420px",height:"75vh",maxHeight:"600px",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1.5rem",position:"relative"},closeButton:{position:"absolute",top:"10px",right:"10px",background:"#00ffff",color:"#000",border:"none",borderRadius:"50%",width:"32px",height:"32px",fontSize:"1.5rem",fontWeight:"bold",cursor:"pointer",boxShadow:"1px 1px 0 #000"},menuOverlay:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",zIndex:3e3,display:"flex",alignItems:"flex-end",justifyContent:"center",pointerEvents:"auto"},menuModal:{width:"100vw",background:"#c0c0c0",borderTopLeftRadius:"16px",borderTopRightRadius:"16px",boxShadow:"0 -4px 24px rgba(0,0,0,0.2)",padding:"15px 0 8px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",zIndex:3100,marginBottom:"70px",maxHeight:"calc(70vh - 56px)",overflowY:"auto",position:"absolute",left:0,bottom:"56px"},menuLink:{display:"block",width:"90%",padding:"6px",color:"#000",textDecoration:"none",background:"#e0e0e0",borderRadius:"8px",fontWeight:"bold",fontSize:"1rem",textAlign:"center",marginBottom:"3px",border:"2px outset #fff",boxShadow:"1px 1px 0 #aaa"}}),c_e=[{id:"lawbsters",name:"Lawbsters",image:"/assets/lawbsters.gif",description:"420 Lawbsters. ETH."},{id:"lawbstarz",name:"Lawbstarz",image:"/assets/lawbstarz.gif",description:"666 Lawbstarz. ETH."},{id:"halloween",name:"Halloween",image:"/assets/lawbsterhalloween.gif",description:"Halloween Lawbsters. BASE."},{id:"pixelawbs",name:"Pixelawbs",image:"/assets/pixelawb.png",description:"2222 Pixelawbs. ETH."}],l_e=[{id:"lawbstation",name:"Lawbstation",image:"/assets/lawbstation.GIF",description:"Lawbstation. SOL."},{id:"nexus",name:"Nexus",image:"/assets/nexus.gif",description:"Nexus. SOL."}],u_e=()=>{const t=a_e(),{open:e}=bb(),{address:n,isConnected:r}=Am(),{isPending:s}=b8(),{disconnect:i}=_8(),{data:o}=E8({address:n}),[a,c]=P.useState("main"),[l,u]=P.useState(!1),[d,h]=P.useState(()=>new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),[f,p]=P.useState(!1),[m,w]=P.useState(!1),[y,b]=P.useState(!1),[v,E]=P.useState(!1),[_,x]=P.useState(!1),[S,A]=P.useState(!1),[C,k]=P.useState(!1),[O,B]=P.useState(!1),[F,V]=P.useState(!1),[I,N]=P.useState(!1),[L,D]=P.useState(!1),[$,j]=P.useState(!1),q=[{label:"Mint",icon:"/assets/mint.gif",action:()=>w(!0)},{label:"EVM NFT'S FOLDER",icon:"/assets/evmfolder.png",action:()=>b(!0)},{label:"SOL NFTS FOLDER",icon:"/assets/solfolder.png",action:()=>E(!0)},{label:"$LAWB",icon:"/assets/lawbticker.gif",action:()=>x(!0)},{label:r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Wallet",icon:"/assets/wallet.png",action:()=>{r?i():e()},disabled:s}],J=ie=>{ie.disabled||ie.action()};if(P.useEffect(()=>{const ie=window.setInterval(()=>{h(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},1e3);return()=>window.clearInterval(ie)},[]),P.useEffect(()=>{u(!0)},[]),a==="gallery")return g.jsx(s_e,{onBack:()=>c("main"),walletAddress:n||void 0});function se({open:ie,onClose:ye,title:Y,nfts:Z}){const oe=ee=>{switch(ee){case"lawbsters":A(!0);break;case"lawbstarz":k(!0);break;case"pixelawbs":B(!0);break;case"halloween":V(!0);break;case"lawbstation":N(!0);break;case"nexus":D(!0);break}};return g.jsx(Si,{isOpen:ie,onClose:ye,title:Y,children:g.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,width:"100%"},children:Z.map(ee=>g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",background:"#f8f8f8",borderRadius:8,padding:8,cursor:"pointer"},onClick:()=>oe(ee.id),children:[g.jsx("img",{src:ee.image,alt:ee.name,style:{width:80,height:80,objectFit:"contain",marginBottom:8}}),g.jsx("span",{style:{fontWeight:"bold",fontSize:14},children:ee.name}),g.jsx("span",{style:{fontSize:12,color:"#555",textAlign:"center"},children:ee.description})]},ee.id))})})}function ne({open:ie,onClose:ye}){return ie?g.jsxs(Si,{isOpen:ie,onClose:ye,title:"$LAWB",children:[g.jsx("h1",{style:{marginBottom:"10px"},children:g.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:" $LAWB"})}),g.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",g.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"pump.fun"}),"."]}),g.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),g.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),g.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),g.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),g.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",g.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),g.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",g.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),g.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}}),g.jsx("div",{style:{width:"100%",height:"400px",marginTop:"10px"},children:g.jsx("iframe",{height:"100%",width:"100%",id:"geckoterminal-embed",title:"GeckoTerminal Embed",src:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",frameBorder:"0",allow:"clipboard-write",allowFullScreen:!0})})]}):null}return g.jsxs("div",{className:t.mobileContainer,children:[g.jsx("header",{className:t.header,children:g.jsx("h1",{className:t.title,children:"there is no meme we lawb you"})}),g.jsx("div",{className:t.iconGrid,children:q.map(ie=>g.jsxs("div",{className:t.icon,onClick:()=>J(ie),children:[g.jsx("img",{src:ie.icon,alt:ie.label}),g.jsx("span",{children:ie.label})]},ie.label))}),l&&g.jsxs(Si,{isOpen:l,onClose:()=>u(!1),title:"Pixelawbs",children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",g.jsx("span",{style:{color:"#ff0000",textDecoration:"underline",cursor:"pointer"},onClick:()=>{u(!1),w(!0)},children:"COLLECT HERE"})," OR VISIT ",g.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"SCATTER.ART"})]}),g.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",g.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PixeladyMaker"})]}),g.jsx("p",{style:{marginBottom:"10px"},children:g.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})})]}),f&&g.jsx("div",{className:t.menuOverlay,onClick:()=>p(!1),children:g.jsxs("div",{className:t.menuModal,onClick:ie=>ie.stopPropagation(),children:[g.jsx("a",{href:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"GeckoTerminal"}),g.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbStation Twitter"}),g.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbNexus Twitter"}),g.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"NFTX - Lawbsters"}),g.jsx("a",{href:"https://purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Purity"}),g.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"UwU LAWB"}),g.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Telegram"}),g.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Discord"}),g.jsx("a",{href:"https://store.fun/lawbshop",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Lawb.Shop"}),g.jsx("button",{className:t.menuLink,onClick:()=>{p(!1),j(!0)},style:{border:"none",cursor:"pointer",width:"90%",margin:"0 auto",display:"block"},children:"Meme Generator"})]})}),g.jsx(o_e,{isOpen:m,onClose:()=>w(!1),walletAddress:n||""}),g.jsx(se,{open:y,onClose:()=>b(!1),title:"EVM NFT'S FOLDER",nfts:c_e}),g.jsx(se,{open:v,onClose:()=>E(!1),title:"SOL NFTS FOLDER",nfts:l_e}),g.jsx(ne,{open:_,onClose:()=>x(!1)}),g.jsxs(Si,{isOpen:S,onClose:()=>A(!1),title:"Lawbsters",children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",g.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),g.jsx("p",{children:"Chain: Ethereum"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",g.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})," or ",g.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"NFTX"})]}),g.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),g.jsxs(Si,{isOpen:C,onClose:()=>k(!1),title:"Lawbstarz",children:[g.jsxs("p",{style:{marginBottom:"10px"},children:[" LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER  666x PREMIUM PFP COLLECTION  LAWBSTARZ IS A MUSIC NFT  LAWBSTARZ IS AN ",g.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE  LAWBSTARZ IS INSPIRED BY ",g.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"REMILIA CORP"}),"  LED BY NETWORK SPIRITUALITY  666 ",g.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",g.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 "]}),g.jsx("p",{children:"Chain: Ethereum"}),g.jsxs("p",{children:["Collect on ",g.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),g.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),g.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),g.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),g.jsxs(Si,{isOpen:O,onClose:()=>B(!1),title:"Pixelawbs",children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",g.jsx("span",{style:{color:"#ff0000",textDecoration:"underline",cursor:"pointer"},onClick:()=>{B(!1),w(!0)},children:"COLLECT HERE"})," OR VISIT ",g.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"SCATTER.ART"})]}),g.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",g.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PixeladyMaker"})]})]}),g.jsxs(Si,{isOpen:F,onClose:()=>V(!1),title:"A Lawbster Halloween",children:[g.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),g.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),g.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",g.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),g.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}})]}),g.jsxs(Si,{isOpen:I,onClose:()=>N(!1),title:"Lawbstation",children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",g.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),g.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),g.jsx("p",{style:{marginBottom:"10px"},children:g.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Collect Lawbstations on Secondary"})}),g.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),g.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),g.jsxs(Si,{isOpen:L,onClose:()=>D(!1),title:"Nexus",children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",g.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),g.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),g.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),g.jsx(Si,{isOpen:$,onClose:()=>j(!1),title:"Meme Generator",children:g.jsx(cL,{})}),g.jsxs("div",{className:t.taskbar,children:[g.jsx("button",{className:t.menuButton,onClick:()=>p(!0),children:"Menu"}),g.jsxs("div",{className:t.walletStatus,children:[g.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"6px",border:"1px solid #000",display:"inline-block"}}),r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]}),g.jsx("span",{className:t.clock,children:d})]})]})};function d_e(t){const e=i=>typeof window<"u"?window.matchMedia(i).matches:!1,[n,r]=P.useState(e(t));function s(){r(e(t))}return P.useEffect(()=>{const i=window.matchMedia(t);return s(),i.addEventListener("change",s),()=>{i.removeEventListener("change",s)}},[t]),n}function h_e(t){let e=[],n,r;function s(a){return Rg.parseEvmChainId(a)||1}function i(){var a;return n||(n=ru.getInstance({projectId:t.options.projectId,chainId:(a=R.getActiveCaipNetwork())==null?void 0:a.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:c=>{c==="iframe_load_failed"?In.open(ln.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?In.open(ln.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&In.open(ln.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:ln.EmbeddedWalletAbortController})),n}async function o(a={}){var m,w;const c=i();let l=a.chainId;if(a.isReconnecting){const y=Rg.parseEvmChainId(c.getLastUsedChainId()||""),b=(m=t.chains)==null?void 0:m[0].id;if(l=y||b,!l)throw new Error("ChainId not found in provider")}const u=(w=we.state.preferredAccountTypes)==null?void 0:w.eip155,{address:d,chainId:h,accounts:f}=await c.connect({chainId:l,preferredAccountType:u,socialUri:a.socialUri});e=(f==null?void 0:f.map(y=>y.address))||[d];const p=s(h);return{accounts:e,account:d,chainId:p,chain:{id:p,unsuported:!1}}}return a=>({id:te.CONNECTOR_ID.AUTH,name:te.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:te.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,l},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){var c;return this.provider||(this.provider=ru.getInstance({projectId:t.options.projectId,chainId:(c=R.getActiveCaipNetwork())==null?void 0:c.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:ln.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?In.open(ln.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?In.open(ln.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&In.open(ln.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return s(l)},async isAuthorized(){const l=R.state.activeChain===te.CHAIN.EVM;if(te.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(h=>_e.getConnectorId(h)===te.CONNECTOR_ID.AUTH)&&!l)return!1;const d=await this.getProvider();return Promise.resolve(d.getLoginEmailUsed())},async switchChain({chainId:c}){var l,u;try{const d=a.chains.find(m=>m.id===c);if(!d)throw new Ao(new Error("chain not found on connector."));const h=await this.getProvider(),f=(l=we.state.preferredAccountTypes)==null?void 0:l.eip155,p=await h.connect({chainId:c,preferredAccountType:f});return e=((u=p==null?void 0:p.accounts)==null?void 0:u.map(m=>m.address))||[p.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),d}catch(d){throw d instanceof Error?new Ao(d):d}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(Cc)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}oI.type="walletConnect";function oI(t,e){const n=t.isNewChainsStale??!0;let r,s,i,o,a,c,l;return u=>({id:"walletConnect",name:"WalletConnect",type:oI.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),c||(c=this.onSessionDelete.bind(this),d.on("session_delete",c)))},async connect({...d}={}){var h,f,p;try{const m=R.getCaipNetworks(),w=await this.getProvider();if(!w)throw new Za;a||(a=this.onDisplayUri,w.on("display_uri",a));const y=await this.isChainsStale();w.session&&y&&await w.disconnect();const b=ue.state.universalProviderConfigOverride;if(!w.session||y){const C=Lp.createNamespaces(m,b);await w.connect({optionalNamespaces:C,..."pairingTopic"in d?{pairingTopic:d.pairingTopic}:{}}),this.setRequestedChainsIds(m.map(k=>Number(k.id)))}const v=await this.getAccounts(),E=await this.getChainId(),_=(p=(f=(h=w.session)==null?void 0:h.namespaces)==null?void 0:f.eip155)==null?void 0:p.chains,x=_==null?void 0:_.some(C=>Number(C.split(":")[1])===E);let S=1;x?S=E:_!=null&&_[0]&&(S=Number(_[0].split(":")[1])),a&&(w.removeListener("display_uri",a),a=void 0),o&&(w.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),w.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),w.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),w.on("disconnect",l)),c||(c=this.onSessionDelete.bind(this),w.on("session_delete",c));const A=b==null?void 0:b.defaultChain;return w.setDefaultChain(A??`eip155:${S}`),{accounts:v,chainId:S}}catch(m){throw/(user rejected|connection request reset)/i.test(m==null?void 0:m.message)?new $n(m):m}},async disconnect(){const d=await this.getProvider();try{await(d==null?void 0:d.disconnect())}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{i&&(d==null||d.removeListener("chainChanged",i),i=void 0),l&&(d==null||d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d==null||d.on("connect",o)),s&&(d==null||d.removeListener("accountsChanged",s),s=void 0),c&&(d==null||d.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var p,m,w;const d=await this.getProvider();if(!((p=d==null?void 0:d.session)!=null&&p.namespaces))return[];const h=(w=(m=d==null?void 0:d.session)==null?void 0:m.namespaces[te.CHAIN.EVM])==null?void 0:w.accounts;return(h==null?void 0:h.map(y=>y.split(":")[2]))??[]},async getProvider({chainId:d}={}){var p,m;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const h=be.getActiveNamespace(),f=(p=e.getCaipNetwork())==null?void 0:p.id;if(d&&f!==d&&h){const w=be.getStoredActiveCaipNetworkId(),y=e.getCaipNetworks(h),b=y==null?void 0:y.find(v=>v.id===w);b&&b.chainNamespace===te.CHAIN.EVM&&await((m=this.switchChain)==null?void 0:m.call(this,{chainId:Number(b.id)}))}return r},async getChainId(){var m,w,y,b;const d=(m=e.getCaipNetwork(te.CHAIN.EVM))==null?void 0:m.id;if(d)return d;const f=(b=(y=(w=(await this.getProvider()).session)==null?void 0:w.namespaces[te.CHAIN.EVM])==null?void 0:y.chains)==null?void 0:b[0],p=R.getCaipNetworks().find(v=>v.id===f);return p==null?void 0:p.id},async isAuthorized(){try{const[d,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){var m,w,y,b;const f=await this.getProvider();if(!f)throw new Za;const p=R.getCaipNetworks().find(v=>v.id===h);if(!p)throw new Ao(new Ag);try{await f.request({method:"wallet_switchEthereumChain",params:[{chainId:Ye(h)}]}),p!=null&&p.caipNetworkId&&f.setDefaultChain(p==null?void 0:p.caipNetworkId),u.emitter.emit("change",{chainId:Number(h)});const v=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...v,h]),{...p,id:p.id}}catch(v){const E=v;if(/(?:user rejected)/iu.test(E.message))throw new $n(E);try{let _;d!=null&&d.blockExplorerUrls?_=d.blockExplorerUrls:_=(m=p.blockExplorers)!=null&&m.default.url?[(w=p.blockExplorers)==null?void 0:w.default.url]:[];const x=((b=(y=p.rpcUrls)==null?void 0:y.chainDefault)==null?void 0:b.http)||[],S={blockExplorerUrls:_,chainId:Ye(h),chainName:p.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:p.nativeCurrency,rpcUrls:x};await f.request({method:"wallet_addEthereumChain",params:[S]});const A=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...A,h]),{...p,id:p.id}}catch(_){throw new $n(_)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:d.map(h=>Cc(h))})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},onConnect(d){this.setRequestedChainsIds(R.getCaipNetworks().map(h=>Number(h.id)))},async onDisconnect(d){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const h=await this.getProvider();s&&(h.removeListener("accountsChanged",s),s=void 0),i&&(h.removeListener("chainChanged",i),i=void 0),l&&(h.removeListener("disconnect",l),l=void 0),c&&(h.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),h.on("connect",o))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var f,p,m;if(!((f=r==null?void 0:r.session)!=null&&f.namespaces))return[];const d=(m=(p=r==null?void 0:r.session)==null?void 0:p.namespaces[te.CHAIN.EVM])==null?void 0:m.accounts;return(d==null?void 0:d.map(w=>Number.parseInt(w.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var h;const d=await((h=u.storage)==null?void 0:h.getItem(this.requestedChainsStorageKey))??[];return[...new Set(d)]},async isChainsStale(){if(!n)return!1;const d=u.chains.map(p=>p.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(p=>d.includes(p)))return!1;const f=await this.getRequestedChainsIds();return!d.every(p=>f.includes(Number(p)))},async setRequestedChainsIds(d){var h;await((h=u.storage)==null?void 0:h.setItem(this.requestedChainsStorageKey,d))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const Vf=Qt({pendingTransactions:0}),AR={state:Vf,subscribeKey(t,e){return dr(Vf,t,e)},increase(t){Vf[t]+=1},decrease(t){Vf[t]-=1},reset(t){Vf[t]=0}};function f_e(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}async function p_e(t){if(De.isSafeApp()){const{safe:e}=await bn(async()=>{const{safe:n}=await import("./index-BkCbqM6Q.js");return{safe:n}},[]);if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function g_e(t){try{const{coinbaseWallet:e}=await bn(async()=>{const{coinbaseWallet:n}=await import("./index-BkCbqM6Q.js");return{coinbaseWallet:n}},[]);if(e&&!t.some(n=>n.id==="coinbaseWalletSDK"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const m_e={enable:!1,pollingInterval:3e4};class y_e extends aL{constructor(e){const n=wo.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=te.CHAIN.EVM,this.adapterType=te.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...m_e,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===te.CONNECTOR_ID.AUTH){const i=await n.getProvider();if(!(i!=null&&i.user))return{accounts:[]};const{address:o,accounts:a}=i.user;return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>De.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:s}=Jd(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(i=>De.createAccount("eip155",i||"","eoa"))})}checkChainId(){const{chainId:e}=Jd(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===te.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var a,c;const i=(a=e.transports)==null?void 0:a[s.id],o=wo.getCaipNetworkId(s);i?n[s.id]=wo.extendWagmiTransports(s,e.projectId,i):n[s.id]=wo.getViemTransport(s,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=XW({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=$W(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),AR.increase("pendingTransactions")}});const e=AR.subscribeKey("pendingTransactions",n=>{var r;n>=te.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){Q5(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e!=null&&e.chainId&&(e==null?void 0:e.chainId)!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"&&(e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){const n=[];if(e.enableCoinbase!==!1){const s=await g_e(this.wagmiConfig.connectors);s&&n.push(s)}const r=await p_e(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(s=>{const i=this.wagmiConfig._internal.connectors.setup(s);return this.wagmiConfig._internal.connectors.setState(o=>[...o,i]),this.addWagmiConnector(i,e)}))}addWagmiConnectors(e,n){var o,a,c,l;const r=[];e.enableWalletConnect!==!1&&r.push(oI(e,n)),e.enableInjected!==!1&&r.push(Rv({shimDisconnect:!0}));const s=((o=n==null?void 0:n.remoteFeatures)==null?void 0:o.email)??!0,i=Array.isArray((a=n==null?void 0:n.remoteFeatures)==null?void 0:a.socials)&&((l=(c=n==null?void 0:n.remoteFeatures)==null?void 0:c.socials)==null?void 0:l.length)>0;(s||i)&&r.push(h_e({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(u=>{const d=this.wagmiConfig._internal.connectors.setup(u);this.wagmiConfig._internal.connectors.setState(h=>[...h,d])})}async signMessage(e){try{return{signature:await PW(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=Jd(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await TW(this.wagmiConfig,s);const i=await NW(this.wagmiConfig,s);return await Z5(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,s=Number(Rg.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await X5(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await _W(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return Wq(e.value,e.decimals)}formatUnits(e){return qh(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(e.id===te.CONNECTOR_ID.AUTH||e.id===te.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:Ic.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:Ic.ConnectorNamesMap[e.id]??e.name,imageId:Ic.ConnectorImageIds[e.id],type:Ic.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===te.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){J5(this.wagmiConfig,{onChange:r=>{r.forEach(s=>this.addWagmiConnector(s,e))}}),this.addWagmiConnectors(e,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addThirdPartyConnectors(e)}async syncConnection(e){var l,u;const{id:n,chainId:r}=e,i=lo(this.wagmiConfig).find(d=>d.connector.id===n),o=this.getWagmiConnector(n),a=await(o==null?void 0:o.getProvider());if(De.isSafeApp()&&n===te.CONNECTOR_ID.SAFE&&!(i!=null&&i.accounts.length)){const d=this.getWagmiConnector("safe");if(d){const h=await Nw(this.wagmiConfig,{connector:d,chainId:Number(r)}),f=await d.getProvider();return{chainId:Number(r),address:h.accounts[0],provider:f,type:(l=i==null?void 0:i.connector.type)==null?void 0:l.toUpperCase(),id:i==null?void 0:i.connector.id}}}return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:a,type:(u=i==null?void 0:i.connector.type)==null?void 0:u.toUpperCase(),id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await Nw(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await eN(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var u,d,h,f,p;const{id:n,provider:r,type:s,info:i,chainId:o,socialUri:a}=e,c=this.getWagmiConnector(n);if(!c)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&i&&c.id===te.CONNECTOR_ID.EIP6963&&((u=c.setEip6963Wallet)==null||u.call(c,{provider:r,info:i})),c.uid===((h=(d=this.wagmiConfig)==null?void 0:d.state)==null?void 0:h.current)){const m=(p=(f=this.wagmiConfig.state)==null?void 0:f.connections)==null?void 0:p.get(c.uid);if(m)return{address:m==null?void 0:m.accounts[0],chainId:m==null?void 0:m.chainId,provider:r,type:s,id:n}}const l=await Nw(this.wagmiConfig,{connector:c,chainId:o?Number(o):void 0,socialUri:a});return{address:l.accounts[0],chainId:l.chainId,provider:r,type:s,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await IC(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,i=this.balancePromises[s];if(i)return i;const o=be.getNativeBalanceCacheForCaipAddress(s);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[s]=new Promise(async a=>{var c,l;try{const u=Number(e.chainId),d=await SW(this.wagmiConfig,{address:e.address,chainId:u,token:(l=(c=e.tokens)==null?void 0:c[r.caipNetworkId])==null?void 0:l.address});be.updateNativeBalanceCache({caipAddress:s,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),a({balance:d.formatted,symbol:d.symbol})}catch(u){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",u),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=lo(this.wagmiConfig);await Promise.allSettled(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await K5(this.wagmiConfig,{connector:r})})),this.wagmiConfig.state.connections.clear()}async switchNetwork(e){var r,s,i,o,a;const{caipNetwork:n}=e;await eN(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[((i=(s=(r=n.rpcUrls)==null?void 0:r.chainDefault)==null?void 0:s.http)==null?void 0:i[0])??""],blockExplorerUrls:[((o=n.blockExplorers)==null?void 0:o.default.url)??""],iconUrls:[((a=n.assets)==null?void 0:a.imageUrl)??""]}}),await super.switchNetwork(e)}async getCapabilities(e){var a,c;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=lo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(c=(a=i.session)==null?void 0:a.sessionProperties)==null?void 0:c.capabilities;if(o){const u=f_e(o)[e];if(u)return u}return await i.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=lo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=lo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=lo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){e.on("connect",()=>{const n=lo(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(s=>s.connector.id===r.id)){if(R.state.activeChain==="eip155")return;IC(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new sI({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}const _L={id:1992,name:"Sanko Testnet",network:"sanko",nativeCurrency:{decimals:18,name:"tDMT",symbol:"tDMT"},rpcUrls:{public:{http:["https://sanko-arb-sepolia.rpc.caldera.xyz/http"]},default:{http:["https://sanko-arb-sepolia.rpc.caldera.xyz/http"]}},blockExplorers:{default:{name:"SankoScan",url:"https://sanko-scan.caldera.xyz"}}},EL="7c65f27254d6ddd24cf7eedf2685c4fb",w_e={name:"Lawb.xyz",description:"Windows 98-style NFT site",url:"https://lawb.xyz",icons:["/assets/favicon.ico"]},CL=new y_e({networks:[oL,_L],projectId:EL,ssr:!1});Gbe({adapters:[CL],networks:[oL,_L],projectId:EL,metadata:w_e,features:{analytics:!1}});const v_e=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bn(async()=>{const{default:r}=await Promise.resolve().then(()=>af);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class aI extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class b_e extends aI{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class IR extends aI{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class TR extends aI{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var yS;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(yS||(yS={}));var __e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class E_e{constructor(e,{headers:n={},customFetch:r,region:s=yS.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=v_e(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return __e(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:c}=n;c||(c=this.region);const l=new URL(`${this.url}/${e}`);c&&c!=="any"&&(a["x-region"]=c,l.searchParams.set("forceFunctionRegion",c));let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(l.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(m=>{throw new b_e(m)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new IR(d);if(!d.ok)throw new TR(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof TR||s instanceof IR?s.context:void 0}}})}}var ps={},cI={},xb={},Wm={},Sb={},Ab={},C_e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jh=C_e();const x_e=jh.fetch,xL=jh.fetch.bind(jh),SL=jh.Headers,S_e=jh.Request,A_e=jh.Response,af=Object.freeze(Object.defineProperty({__proto__:null,Headers:SL,Request:S_e,Response:A_e,default:xL,fetch:x_e},Symbol.toStringTag,{value:"Module"})),I_e=iv(af);var Ib={};Object.defineProperty(Ib,"__esModule",{value:!0});let T_e=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ib.default=T_e;var AL=wn&&wn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ab,"__esModule",{value:!0});const N_e=AL(I_e),P_e=AL(Ib);let k_e=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=N_e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let l=null,u=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await i.text();try{l=JSON.parse(m),Array.isArray(l)&&i.status===404&&(u=[],l=null,h=200,f="OK")}catch{i.status===404&&m===""?(h=204,f="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,h=200,f="OK"),l&&this.shouldThrowOnError)throw new P_e.default(l)}return{error:l,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Ab.default=k_e;var O_e=wn&&wn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sb,"__esModule",{value:!0});const R_e=O_e(Ab);let $_e=class extends R_e.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Sb.default=$_e;var D_e=wn&&wn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wm,"__esModule",{value:!0});const j_e=D_e(Sb);let U_e=class extends j_e.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Wm.default=U_e;var L_e=wn&&wn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xb,"__esModule",{value:!0});const Gf=L_e(Wm);let M_e=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Gf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Gf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Gf.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Gf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Gf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};xb.default=M_e;var Tb={},Nb={};Object.defineProperty(Nb,"__esModule",{value:!0});Nb.version=void 0;Nb.version="0.0.0-automated";Object.defineProperty(Tb,"__esModule",{value:!0});Tb.DEFAULT_HEADERS=void 0;const B_e=Nb;Tb.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${B_e.version}`};var IL=wn&&wn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cI,"__esModule",{value:!0});const F_e=IL(xb),z_e=IL(Wm),q_e=Tb;let W_e=class TL{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},q_e.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new F_e.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new TL(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",c=n);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new z_e.default({method:o,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};cI.default=W_e;var cf=wn&&wn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ps,"__esModule",{value:!0});ps.PostgrestError=ps.PostgrestBuilder=ps.PostgrestTransformBuilder=ps.PostgrestFilterBuilder=ps.PostgrestQueryBuilder=ps.PostgrestClient=void 0;const NL=cf(cI);ps.PostgrestClient=NL.default;const PL=cf(xb);ps.PostgrestQueryBuilder=PL.default;const kL=cf(Wm);ps.PostgrestFilterBuilder=kL.default;const OL=cf(Sb);ps.PostgrestTransformBuilder=OL.default;const RL=cf(Ab);ps.PostgrestBuilder=RL.default;const $L=cf(Ib);ps.PostgrestError=$L.default;var H_e=ps.default={PostgrestClient:NL.default,PostgrestQueryBuilder:PL.default,PostgrestFilterBuilder:kL.default,PostgrestTransformBuilder:OL.default,PostgrestBuilder:RL.default,PostgrestError:$L.default};const{PostgrestClient:V_e,PostgrestQueryBuilder:mSe,PostgrestFilterBuilder:ySe,PostgrestTransformBuilder:wSe,PostgrestBuilder:vSe,PostgrestError:bSe}=H_e;function G_e(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const K_e=G_e(),Y_e="2.11.15",Q_e=`realtime-js/${Y_e}`,J_e="1.0.0",DL=1e4,Z_e=1e3;var Mp;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Mp||(Mp={}));var xr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xr||(xr={}));var Oi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Oi||(Oi={}));var wS;(function(t){t.websocket="websocket"})(wS||(wS={}));var kl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(kl||(kl={}));class X_e{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class jL{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Gt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Gt||(Gt={}));const NR=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=eEe(o,t,e,s),i),{})},eEe=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?UL(i,o):vS(o)},UL=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return sEe(e,n)}switch(t){case Gt.bool:return tEe(e);case Gt.float4:case Gt.float8:case Gt.int2:case Gt.int4:case Gt.int8:case Gt.numeric:case Gt.oid:return nEe(e);case Gt.json:case Gt.jsonb:return rEe(e);case Gt.timestamp:return iEe(e);case Gt.abstime:case Gt.date:case Gt.daterange:case Gt.int4range:case Gt.int8range:case Gt.money:case Gt.reltime:case Gt.text:case Gt.time:case Gt.timestamptz:case Gt.timetz:case Gt.tsrange:case Gt.tstzrange:return vS(e);default:return vS(e)}},vS=t=>t,tEe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},nEe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},rEe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},sEe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>UL(e,a))}return t},iEe=t=>typeof t=="string"?t.replace(" ","T"):t,LL=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class iE{constructor(e,n,r={},s=DL){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var PR;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(PR||(PR={}));class Bp{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bp.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Bp.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Bp.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const d=i[l];if(d){const h=u.map(w=>w.presence_ref),f=d.map(w=>w.presence_ref),p=u.filter(w=>f.indexOf(w.presence_ref)<0),m=d.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(a[l]=p),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,s(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kR;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(kR||(kR={}));var OR;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(OR||(OR={}));var Jo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Jo||(Jo={}));class lI{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=xr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new iE(this,Oi.join,this.params,this.timeout),this.rejoinTimer=new jL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=xr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Oi.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Bp(this),this.broadcastEndpointURL=LL(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==xr.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Jo.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Jo.CLOSED));const c={},l={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Jo.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,p=[];for(let m=0;m<f;m++){const w=h[m],{filter:{event:y,schema:b,table:v,filter:E}}=w,_=u&&u[m];if(_&&_.event===y&&_.schema===b&&_.table===v&&_.filter===E)p.push(Object.assign(Object.assign({},w),{id:_.id}));else{this.unsubscribe(),this.state=xr.errored,e==null||e(Jo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Jo.SUBSCRIBED);return}}).receive("error",u=>{this.state=xr.errored,e==null||e(Jo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Jo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Oi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new iE(this,Oi.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new iE(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Oi;if(r&&[a,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var p,m,w;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(m=f.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,m,w,y,b,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const E=f.id,_=(p=f.filter)===null||p===void 0?void 0:p.event;return E&&((m=n.ids)===null||m===void 0?void 0:m.includes(E))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const E=(b=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return E==="*"||E===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:m,table:w,commit_timestamp:y,type:b,errors:v}=p;h=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:y,eventType:b,new:{},old:{},errors:v}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===xr.closed}_isJoined(){return this.state===xr.joined}_isJoining(){return this.state===xr.joining}_isLeaving(){return this.state===xr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&lI.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Oi.close,{},e)}_onError(e){this._on(Oi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=NR(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=NR(e.columns,e.old_record)),n}}const RR=()=>{},oEe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aEe{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DL,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=RR,this.ref=0,this.logger=RR,this.conn=null,this.sendBuffer=[],this.serializer=new X_e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>bn(async()=>{const{default:c}=await Promise.resolve().then(()=>af);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${wS.websocket}`,this.httpEndpoint=LL(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jL(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=K_e),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:J_e}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Mp.connecting:return kl.Connecting;case Mp.open:return kl.Open;case Mp.closing:return kl.Closing;default:return kl.Closed}}isConnected(){return this.connectionState()===kl.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new lI(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Q_e};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Oi.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Z_e,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Oi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([oEe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class uI extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Wn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class cEe extends uI{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class bS extends uI{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var lEe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const ML=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bn(async()=>{const{default:r}=await Promise.resolve().then(()=>af);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},uEe=()=>lEe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bn(()=>Promise.resolve().then(()=>af),void 0)).Response:Response}),_S=t=>{if(Array.isArray(t))return t.map(n=>_S(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=_S(r)}),e};var qu=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const oE=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dEe=(t,e,n)=>qu(void 0,void 0,void 0,function*(){const r=yield uEe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new cEe(oE(s),t.status||500))}).catch(s=>{e(new bS(oE(s),s))}):e(new bS(oE(t),t))}),hEe=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Hm(t,e,n,r,s,i){return qu(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,hEe(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>dEe(c,a,r))})})}function rv(t,e,n,r){return qu(this,void 0,void 0,function*(){return Hm(t,"GET",e,n,r)})}function sc(t,e,n,r,s){return qu(this,void 0,void 0,function*(){return Hm(t,"POST",e,r,s,n)})}function fEe(t,e,n,r,s){return qu(this,void 0,void 0,function*(){return Hm(t,"PUT",e,r,s,n)})}function pEe(t,e,n,r){return qu(this,void 0,void 0,function*(){return Hm(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function BL(t,e,n,r,s){return qu(this,void 0,void 0,function*(){return Hm(t,"DELETE",e,r,s,n)})}var rs=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const gEe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$R={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mEe{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=ML(s)}uploadOrUpdate(e,n,r,s){return rs(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},$R),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Wn(i))return{data:null,error:i};throw i}})}upload(e,n,r){return rs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return rs(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const l=Object.assign({upsert:$R.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Wn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return rs(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield sc(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new uI("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}update(e,n,r){return rs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return rs(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Wn(s))return{data:null,error:s};throw s}})}copy(e,n,r){return rs(this,void 0,void 0,function*(){try{return{data:{path:(yield sc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Wn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return rs(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield sc(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Wn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return rs(this,void 0,void 0,function*(){try{const s=yield sc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Wn(s))return{data:null,error:s};throw s}})}download(e,n){return rs(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield rv(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Wn(a))return{data:null,error:a};throw a}})}info(e){return rs(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield rv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_S(r),error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}exists(e){return rs(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield pEe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Wn(r)&&r instanceof bS){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return rs(this,void 0,void 0,function*(){try{return{data:yield BL(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}list(e,n,r){return rs(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},gEe),n),{prefix:e||""});return{data:yield sc(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Wn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const yEe="2.7.1",wEe={"X-Client-Info":`storage-js/${yEe}`};var wd=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class vEe{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},wEe),n),this.fetch=ML(r)}listBuckets(){return wd(this,void 0,void 0,function*(){try{return{data:yield rv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Wn(e))return{data:null,error:e};throw e}})}getBucket(e){return wd(this,void 0,void 0,function*(){try{return{data:yield rv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return wd(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return wd(this,void 0,void 0,function*(){try{return{data:yield fEe(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return wd(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return wd(this,void 0,void 0,function*(){try{return{data:yield BL(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}}class bEe extends vEe{constructor(e,n={},r){super(e,n,r)}from(e){return new mEe(this.url,this.headers,e,this.fetch)}}const _Ee="2.50.5";let up="";typeof Deno<"u"?up="deno":typeof document<"u"?up="web":typeof navigator<"u"&&navigator.product==="ReactNative"?up="react-native":up="node";const EEe={"X-Client-Info":`supabase-js-${up}/${_Ee}`},CEe={headers:EEe},xEe={schema:"public"},SEe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AEe={};var IEe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const TEe=t=>{let e;return t?e=t:typeof fetch>"u"?e=xL:e=fetch,(...n)=>e(...n)},NEe=()=>typeof Headers>"u"?SL:Headers,PEe=(t,e,n)=>{const r=TEe(n),s=NEe();return(i,o)=>IEe(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:l}))})};var kEe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function OEe(t){return t.endsWith("/")?t:t+"/"}function REe(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:c,auth:l,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>kEe(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const FL="2.70.0",Id=30*1e3,ES=3,aE=ES*Id,$Ee="http://localhost:9999",DEe="supabase.auth.token",jEe={"X-Client-Info":`gotrue-js/${FL}`},CS="X-Supabase-Api-Version",zL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UEe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LEe=6e5;class dI extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function tt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class MEe extends dI{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function BEe(t){return tt(t)&&t.name==="AuthApiError"}class qL extends dI{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ll extends dI{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Ya extends ll{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FEe(t){return tt(t)&&t.name==="AuthSessionMissingError"}class cw extends ll{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lw extends ll{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class uw extends ll{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zEe(t){return tt(t)&&t.name==="AuthImplicitGrantRedirectError"}class DR extends ll{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xS extends ll{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function cE(t){return tt(t)&&t.name==="AuthRetryableFetchError"}class jR extends ll{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Fp extends ll{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UR=` 	
\r=`.split(""),qEe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<UR.length;e+=1)t[UR[e].charCodeAt(0)]=-2;for(let e=0;e<sv.length;e+=1)t[sv[e].charCodeAt(0)]=e;return t})();function LR(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(sv[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(sv[r]),e.queuedBits-=6}}function WL(t,e,n){const r=qEe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function MR(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{VEe(o,r,n)};for(let o=0;o<t.length;o+=1)WL(t.charCodeAt(o),s,i);return e.join("")}function WEe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function HEe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}WEe(r,e)}}function VEe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function GEe(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)WL(t.charCodeAt(s),n,r);return new Uint8Array(e)}function KEe(t){const e=[];return HEe(t,n=>e.push(n)),new Uint8Array(e)}function YEe(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>LR(s,n,r)),LR(null,n,r),e.join("")}function QEe(t){return Math.round(Date.now()/1e3)+t}function JEe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ai=()=>typeof window<"u"&&typeof document<"u",_l={tested:!1,writable:!1},zp=()=>{if(!Ai())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_l.tested)return _l.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_l.tested=!0,_l.writable=!0}catch{_l.tested=!0,_l.writable=!1}return _l.writable};function ZEe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const HL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bn(async()=>{const{default:r}=await Promise.resolve().then(()=>af);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},XEe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",VL=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},dw=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hw=async(t,e)=>{await t.removeItem(e)};class Pb{constructor(){this.promise=new Pb.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Pb.promiseConstructor=Promise;function lE(t){const e=t.split(".");if(e.length!==3)throw new Fp("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!UEe.test(e[r]))throw new Fp("JWT not in base64url format");return{header:JSON.parse(MR(e[0])),payload:JSON.parse(MR(e[1])),signature:GEe(e[2]),raw:{header:e[0],payload:e[1]}}}async function eCe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function tCe(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function nCe(t){return("0"+t.toString(16)).substr(-2)}function rCe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,nCe).join("")}async function sCe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function iCe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await sCe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vd(t,e,n=!1){const r=rCe();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await VL(t,`${e}-code-verifier`,s);const i=await iCe(r);return[i,r===i?"plain":"s256"]}const oCe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aCe(t){const e=t.headers.get(CS);if(!e||!e.match(oCe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function cCe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function lCe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uCe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bd(t){if(!uCe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var dCe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Al=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hCe=[502,503,504];async function BR(t){var e;if(!XEe(t))throw new xS(Al(t),0);if(hCe.includes(t.status))throw new xS(Al(t),t.status);let n;try{n=await t.json()}catch(i){throw new qL(Al(i),i)}let r;const s=aCe(t);if(s&&s.getTime()>=zL["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new jR(Al(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ya}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new jR(Al(n),t.status,n.weak_password.reasons);throw new MEe(Al(n),t.status||500,r)}const fCe=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ct(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[CS]||(i[CS]=zL["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await pCe(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function pCe(t,e,n,r,s,i){const o=fCe(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new xS(Al(c),0)}if(a.ok||await BR(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await BR(c)}}function Yo(t){var e;let n=null;wCe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=QEe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function FR(t){const e=Yo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function uc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function gCe(t){return{data:t,error:null}}function mCe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=dCe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function yCe(t){return t}function wCe(t){return t.access_token&&t.refresh_token&&t.expires_in}const uE=["global","local","others"];var vCe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class bCe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=HL(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=uE[0]){if(uE.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uE.join(", ")}`);try{return await ct(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:uc})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=vCe(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mCe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(tt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ct(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:uc})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:yCe});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);l[`${w}Page`]=m}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(tt(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){bd(e);try{return await ct(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:uc})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){bd(e);try{return await ct(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:uc})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){bd(e);try{return await ct(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:uc})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){bd(e.userId);try{const{data:n,error:r}=await ct(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){bd(e.userId),bd(e.id);try{return{data:await ct(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}}const _Ce={getItem:t=>zp()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{zp()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{zp()&&globalThis.localStorage.removeItem(t)}};function zR(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function ECe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _d={debug:!!(globalThis&&zp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class GL extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class CCe extends GL{}async function xCe(t,e,n){_d.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),_d.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){_d.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{_d.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw _d.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new CCe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_d.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}ECe();const SCe={url:$Ee,storageKey:DEe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jEe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qR(t,e,n){return await n()}class cm{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cm.nextInstanceID,cm.nextInstanceID+=1,this.instanceID>0&&Ai()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},SCe),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new bCe({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=HL(s.fetch),this.lock=s.lock||qR,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ai()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=xCe:this.lock=qR,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:zp()?this.storage=_Ce:(this.memoryStorage={},this.storage=zR(this.memoryStorage)):(this.memoryStorage={},this.storage=zR(this.memoryStorage)),Ai()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${FL}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=ZEe(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ai()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),zEe(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return tt(n)?{error:n}:{error:new qL("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Yo}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(tt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await vd(this.storage,this.storageKey)),i=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:Yo})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Yo})}else throw new lw("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(tt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:FR})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:FR})}else throw new lw("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new cw}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,c,l,u,d,h,f;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:w,wallet:y,statement:b,options:v}=e;let E;if(Ai())if(typeof y=="object")E=y;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))E=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}const _=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const x=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),b?{statement:b}:null));let S;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")S=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)S=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)p=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),m=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const x=await E.signMessage(new TextEncoder().encode(p),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=x}}try{const{data:w,error:y}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:YEe(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Yo});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new cw}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(tt(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await dw(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Yo});if(await hw(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new cw}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(tt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Yo}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new cw}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await vd(this.storage,this.storageKey));const{error:d}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new lw("You must provide either an email or phone number.")}catch(a){if(tt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Yo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(tt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await vd(this.storage,this.storageKey)),await ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:gCe})}catch(i){if(tt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ya;const{error:s}=await ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(tt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await ct(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await ct(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new lw("You must provide either an email or phone number and a type")}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await dw(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<aE:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:uc}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ya}:await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:uc})})}catch(n){if(tt(n))return FEe(n)&&(await this._removeSession(),await hw(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ya;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await vd(this.storage,this.storageKey));const{data:l,error:u}=await ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:uc});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ya;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=lE(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(tt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ya;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ai())throw new uw("No browser detected.");if(e.error||e.error_description||e.error_code)throw new uw(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new DR("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new uw("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new DR("No code detected.");const{data:b,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new uw("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;c&&(h=parseInt(c));const f=h-u;f*1e3<=Id&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:m,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(tt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await dw(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(BEe(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await hw(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=JEe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await vd(this.storage,this.storageKey,!0));try{return await ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(tt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,l,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ct(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Ai()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(tt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await ct(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await tCe(async s=>(s>0&&await eCe(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Yo})),(s,i)=>{const o=200*Math.pow(2,s);return i&&cE(i)&&Date.now()+o-r<Id})}catch(r){if(this._debug(n,"error",r),tt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ai()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await dw(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<aE;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${aE}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),cE(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ya;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Pb;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ya;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),tt(i)){const o={session:null,error:i};return cE(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await VL(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await hw(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ai()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Id);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Id);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Id}ms, refresh threshold is ${ES} ticks`),s<=ES&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof GL)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ai()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await vd(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ct(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await ct(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(tt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(tt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=lE(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+LEe>Date.now()))return r;const{data:s,error:i}=await ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Fp("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new Fp("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};r=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=lE(r);if(cCe(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const l=lCe(s.alg),u=await this.fetchJwk(s.kid,n),d=await crypto.subtle.importKey("jwk",u,l,!0,["verify"]);if(!await crypto.subtle.verify(l,d,o,KEe(`${a}.${c}`)))throw new Fp("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}}cm.nextInstanceID=0;const ACe=cm;class ICe extends ACe{constructor(e){super(e)}}var TCe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class NCe{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=OEe(e),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:xEe,realtime:AEe,auth:Object.assign(Object.assign({},SEe),{storageKey:l}),global:CEe},d=REe(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=PEe(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new V_e(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new E_e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new bEe(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return TCe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},l,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ICe({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new aEe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const PCe=(t,e,n)=>new NCe(t,e,n),kCe=void 0,OCe=void 0,cn=PCe(kCe,OCe,{realtime:{params:{eventsPerSecond:10}},auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),RCe=[{inputs:[{internalType:"bytes6",name:"inviteCode",type:"bytes6"},{internalType:"address",name:"winner",type:"address"}],name:"endGame",outputs:[],stateMutability:"nonpayable",type:"function"}],$Ce="0x3112AF5728520F52FD1C6710dD7bD52285a68e47",ss={LOBBY:"lobby",WAITING:"waiting",ACTIVE:"active",FINISHED:"finished"},dE={R:"/images/redrook.png",N:"/images/redknight.png",B:"/images/redbishop.png",Q:"/images/redqueen.png",K:"/images/redking.png",P:"/images/redpawn.png",r:"/images/bluerook.png",n:"/images/blueknight.png",b:"/images/bluebishop.png",q:"/images/bluequeen.png",k:"/images/blueking.png",p:"/images/bluepawn.png"},fw=[["R","N","B","Q","K","B","N","R"],["P","P","P","P","P","P","P","P"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["p","p","p","p","p","p","p","p"],["r","n","b","q","k","b","n","r"]],DCe=[{key:"K",name:"Red King",img:"/images/redking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"Q",name:"Red Queen",img:"/images/redqueen.png",desc:"The Queen moves any number of squares in any direction."},{key:"R",name:"Red Rook",img:"/images/redrook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"B",name:"Red Bishop",img:"/images/redbishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"N",name:"Red Knight",img:"/images/redknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"P",name:"Red Pawn",img:"/images/redpawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."},{key:"k",name:"Blue King",img:"/images/blueking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"q",name:"Blue Queen",img:"/images/bluequeen.png",desc:"The Queen moves any number of squares in any direction."},{key:"r",name:"Blue Rook",img:"/images/bluerook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"b",name:"Blue Bishop",img:"/images/bluebishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"n",name:"Blue Knight",img:"/images/blueknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"p",name:"Blue Pawn",img:"/images/bluepawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."}],KL=({onClose:t,onMinimize:e,fullscreen:n=!1})=>{const{address:r,isConnected:s}=Am(),[i,o]=P.useState(""),[a,c]=P.useState(""),[l,u]=P.useState(!1),[d,h]=P.useState(!1),[f,p]=P.useState(!1),{writeContract:m,isPending:w,data:y}=bV(),{isLoading:b}=vV({hash:y}),v=async()=>{if(!r||!D||!j){console.error("[CLAIM] Missing required data for claiming winnings");return}try{p(!0),console.log("[CLAIM] Claiming winnings for game:",D,"Player:",j);const{data:H,error:K}=await cn.from("chess_games").select("blue_player, red_player, winner").eq("game_id",D).single();if(K||!H){console.error("[CLAIM] Error fetching game data:",K),alert("Failed to fetch game data. Please try again.");return}const re=H.winner==="blue"?H.blue_player:H.red_player;if(re!==r){console.error("[CLAIM] Player is not the winner"),alert("Only the winner can claim winnings.");return}const ae="0x"+D.slice(0,12);console.log("[CLAIM] Calling contract with:",{inviteCode:ae,winner:re}),m({address:$Ce,abi:RCe,functionName:"endGame",args:[ae,re]})}catch(H){console.error("[CLAIM] Error claiming winnings:",H),alert("Failed to claim winnings. Please try again.")}finally{p(!1)}},[E,_]=P.useState(fw),[x,S]=P.useState("blue"),[A,C]=P.useState(null),[k,O]=P.useState([]),[B,F]=P.useState([]),[V,I]=P.useState("Waiting for opponent..."),[N,L]=P.useState(ss.LOBBY),[D,$]=P.useState(""),[j,q]=P.useState(null),[J,se]=P.useState(null),[ne,ie]=P.useState(0),[ye,Y]=P.useState([]),[Z,oe]=P.useState(!1),[ee,he]=P.useState(""),[Me,Te]=P.useState(0),[Ce,Le]=P.useState(!1),[Qe,Tt]=P.useState(!1),[an,Ot]=P.useState({show:!1,from:{row:0,col:0},to:{row:0,col:0}}),[vt,rn]=P.useState(!1),[Hr,Ji]=P.useState([]),[Vr,Pn]=P.useState(null),xn=P.useRef(null),Gr=P.useRef(null),ul=()=>{Le(!Ce),Ce?(document.documentElement.classList.remove("chess-dark-mode"),document.body.classList.remove("chess-dark-mode")):(document.documentElement.classList.add("chess-dark-mode"),document.body.classList.add("chess-dark-mode"))},Pr=async()=>{try{const{data:H,error:K}=await cn.from("leaderboard").select("*").order("points",{ascending:!1}).limit(20);if(K){console.error("Error loading leaderboard:",K);return}H&&Ji(H)}catch(H){console.error("Error loading leaderboard:",H)}},Kr=async H=>{if(r)try{const K=hl(r),{data:re}=await cn.from("leaderboard").select("*").eq("username",K).single(),ae=new Date().toISOString();if(re){const ge={wins:re.wins+(H==="win"?1:0),losses:re.losses+(H==="loss"?1:0),draws:re.draws+(H==="draw"?1:0),total_games:re.total_games+1,points:re.points+(H==="win"?3:H==="draw"?1:0),updated_at:ae},{error:Fe}=await cn.from("leaderboard").update(ge).eq("username",K);Fe&&console.error("Error updating score:",Fe)}else{const ge={username:K,chain_type:"ethereum",wins:H==="win"?1:0,losses:H==="loss"?1:0,draws:H==="draw"?1:0,total_games:1,points:H==="win"?3:H==="draw"?1:0,updated_at:ae},{error:Fe}=await cn.from("leaderboard").insert([ge]);Fe&&console.error("Error creating new user score:",Fe)}await Pr()}catch(K){console.error("Error updating score:",K)}},Wu=async()=>{try{const{data:H,error:K}=await cn.from("chess_games").select("*").eq("game_state","waiting").eq("is_public",!0).order("created_at",{ascending:!1});if(K){console.error("Error loading open games:",K);return}Y(H||[])}catch(H){console.error("Error loading open games:",H)}},dl=async()=>{if(!(!r||!ee||Me<0)){oe(!0);try{const H=`game_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,K={game_id:H,game_title:ee,bet_amount:Me.toString(),blue_player:r,game_state:"waiting",board:JSON.stringify({positions:fw}),current_player:"blue",chain:"sanko",contract_address:"0x3112AF5728520F52FD1C6710dD7bD52285a68e47"},{data:re,error:ae}=await cn.from("chess_games").insert([K]).select().single();if(ae){console.error("Error creating game:",ae);return}$(H),q("blue"),ie(Me),L(ss.WAITING),I("Waiting for opponent to join..."),Hu(H)}catch(H){console.error("Error creating game:",H)}finally{oe(!1)}}},Jt=async H=>{if(r)try{const{data:K,error:re}=await cn.from("chess_games").update({red_player:r,game_state:"active"}).eq("game_id",H).select().single();if(re){console.error("Error joining game:",re);return}$(H),q("red"),ie(parseFloat(K.bet_amount)),se(K.blue_player),L(ss.ACTIVE),I("Game started!"),Hu(H)}catch(K){console.error("Error joining game:",K)}},Hu=H=>{xn.current&&cn.removeChannel(xn.current);const K=cn.channel(`chess_game_${H}`).on("postgres_changes",{event:"*",schema:"public",table:"chess_games",filter:`game_id=eq.${H}`},re=>{if(console.log("Game update received:",re),re.new){const ae=JSON.parse(re.new.board),ge=Array.isArray(ae.positions)?ae.positions:fw;_(ge),S(re.new.current_player||"blue"),re.new.game_state==="active"?(L(ss.ACTIVE),I("Game in progress")):re.new.game_state==="finished"&&(L(ss.FINISHED),I("Game finished")),re.new.blue_player&&re.new.red_player&&se(j==="blue"?re.new.red_player:re.new.blue_player)}}).subscribe();xn.current=K},hl=H=>`${H.slice(0,6)}...${H.slice(-4)}`,Bn=H=>H&&H===H.toUpperCase()?"red":"blue",Vu=(H,K)=>{const re=K==="red"?"K":"k";let ae=-1,ge=-1;for(let je=0;je<8;je++){for(let st=0;st<8;st++)if(H[je][st]===re){ae=je,ge=st;break}if(ae!==-1)break}return ae===-1?!1:kb(ae,ge,K==="red"?"blue":"red",H)},kb=(H,K,re,ae)=>{for(let ge=0;ge<8;ge++)for(let Fe=0;Fe<8;Fe++){const je=ae[ge][Fe];if(je&&Bn(je)===re&&fl(je,ge,Fe,H,K,!1,re,ae,!0))return!0}return!1},Ob=(H,K,re,ae,ge,Fe=E)=>{const je=Fe[H][K];if(!je)return!1;const st=Fe.map(Sn=>[...Sn]);return st[re][ae]=je,st[H][K]=null,Vu(st,ge)},Vm=(H,K,re,ae,ge,Fe)=>{const je=H==="red"?-1:1,st=H==="red"?6:1;return re===ge&&ae===K+je?Fe[ae][ge]===null:re===ge&&K===st&&ae===K+2*je?Fe[K+je][re]===null&&Fe[ae][ge]===null:Math.abs(re-ge)===1&&ae===K+je?Fe[ae][ge]!==null&&Bn(Fe[ae][ge])!==H:!1},Gm=(H,K,re,ae,ge)=>H===re||K===ae,Km=(H,K,re,ae)=>{const ge=Math.abs(H-re),Fe=Math.abs(K-ae);return ge===2&&Fe===1||ge===1&&Fe===2},Ym=(H,K,re,ae,ge)=>Math.abs(H-re)===Math.abs(K-ae),Rb=(H,K,re,ae,ge)=>Gm(H,K,re,ae)||Ym(H,K,re,ae),Qm=(H,K,re,ae,ge)=>{const Fe=Math.abs(K-ae),je=Math.abs(re-ge);return Fe<=1&&je<=1},Gs=(H,K,re,ae,ge)=>{const Fe=H===re?0:(re-H)/Math.abs(re-H),je=K===ae?0:(ae-K)/Math.abs(ae-K);let st=H+Fe,Sn=K+je;for(;st!==re||Sn!==ae;){if(ge[st][Sn]!==null)return!1;st+=Fe,Sn+=je}return!0},fl=(H,K,re,ae,ge,Fe=!0,je=Bn(H),st=E,Sn=!1)=>{if(!H)return!1;const yi=st[ae][ge];if(yi&&Bn(yi)===je)return!1;let $o=!1;switch(H.toUpperCase()){case"P":$o=Vm(je,K,re,ae,ge,st);break;case"R":$o=Gm(K,re,ae,ge)&&Gs(K,re,ae,ge,st);break;case"N":$o=Km(K,re,ae,ge);break;case"B":$o=Ym(K,re,ae,ge)&&Gs(K,re,ae,ge,st);break;case"Q":$o=Rb(K,re,ae,ge)&&Gs(K,re,ae,ge,st);break;case"K":$o=Qm(je,K,re,ae,ge);break}return!(!$o||Fe&&Ob(K,re,ae,ge,je,st))},lf=(H,K=E,re=x)=>{const ae=K[H.row][H.col];if(!ae||Bn(ae)!==re)return[];const ge=[];for(let Fe=0;Fe<8;Fe++)for(let je=0;je<8;je++)fl(ae,H.row,H.col,Fe,je,!0,re,K)&&ge.push({row:Fe,col:je});return ge},Jm=(H,K=E)=>{if(!Vu(K,H))return!1;for(let re=0;re<8;re++)for(let ae=0;ae<8;ae++){const ge=K[re][ae];if(ge&&Bn(ge)===H&&lf({row:re,col:ae},K,H).length>0)return!1}return!0},Zm=(H,K=E)=>{if(Vu(K,H))return!1;for(let re=0;re<8;re++)for(let ae=0;ae<8;ae++){const ge=K[re][ae];if(ge&&Bn(ge)===H&&lf({row:re,col:ae},K,H).length>0)return!1}return!0},Zi=(H,K)=>{if(N!==ss.ACTIVE||!j)return;const re=E[H][K],ae=re?Bn(re):null;if(x===j){if(re&&ae===j){C({row:H,col:K});const ge=lf({row:H,col:K});O(ge);return}if(A&&k.some(ge=>ge.row===H&&ge.col===K)){Xm(A,{row:H,col:K}),C(null),O([]);return}C(null),O([])}},Xm=async(H,K)=>{if(!j||x!==j)return;const re=E[H.row][H.col];if(re){if(re.toUpperCase()==="P"&&(j==="red"&&K.row===0||j==="blue"&&K.row===7)){Ot({show:!0,from:H,to:K});return}await uf(H,K)}},uf=async(H,K,re="q")=>{if(!j||x!==j)return;const ae=E[H.row][H.col];if(!ae)return;const ge=E.map(yi=>[...yi]);let Fe=ae;ae.toUpperCase()==="P"&&(j==="red"&&K.row===0||j==="blue"&&K.row===7)&&(Fe=j==="red"?re.toUpperCase():re.toLowerCase()),ge[K.row][K.col]=Fe,ge[H.row][H.col]=null;const je=x==="blue"?"red":"blue";let st="active",Sn=null;Jm(je,ge)?(st="finished",Sn=x,I(`${x==="red"?"Red":"Blue"} wins by checkmate!`),Ro(),await Kr(x===j?"win":"loss")):Zm(je,ge)&&(st="finished",I("Game ended in stalemate"),await Kr("draw"));try{const{error:yi}=await cn.from("chess_games").update({board:JSON.stringify({positions:ge}),current_player:je,game_state:st,winner:Sn,last_move:JSON.stringify({from:H,to:K}),updated_at:new Date().toISOString()}).eq("game_id",D);yi&&console.error("Error updating game:",yi)}catch(yi){console.error("Error updating game:",yi)}Pn({from:H,to:K}),Ot({show:!1,from:{row:0,col:0},to:{row:0,col:0}})},Ro=()=>{rn(!0),Gr.current&&clearTimeout(Gr.current),Gr.current=setTimeout(()=>{rn(!1)},5e3)},$b=async(H,K)=>{if(r)try{let re="finished",ae=null,ge="";switch(K){case"blue_win":ae="blue",ge="Blue wins (forced resolution)";break;case"red_win":ae="red",ge="Red wins (forced resolution)";break;case"draw":ge="Game ended in draw (forced resolution)";break;case"refund":re="refunded",ge="Game refunded (forced resolution)";break}const{error:Fe}=await cn.from("chess_games").update({game_state:re,winner:ae,updated_at:new Date().toISOString()}).eq("game_id",H);if(Fe){console.error("Error forcing game resolution:",Fe);return}K!=="refund"&&(K==="blue_win"?await Kr(r==="0xF8A323e916921b0a82Ebcb562a3441e46525822E"?"win":"loss"):K==="red_win"?await Kr(r==="0x9CCa475416BC3448A539E30369792A090859De9d"?"win":"loss"):K==="draw"&&await Kr("draw")),alert(`Game resolved: ${ge}`),Wu()}catch(re){console.error("Error forcing game resolution:",re)}},Db=async H=>{try{const{data:K,error:re}=await cn.from("chess_games").select("*").eq("game_id",H).single();if(re){console.error("Error loading game:",re);return}if(!K){alert("Game not found");return}$(H),q(r===K.blue_player?"blue":"red"),ie(parseFloat(K.bet_amount)),se(r===K.blue_player?K.red_player:K.blue_player),L(ss.ACTIVE),I("Game resumed"),console.log("[DEBUG] Resuming game with board data:",K.board,"Type:",typeof K.board);let ae;try{ae=typeof K.board=="string"?JSON.parse(K.board):K.board,console.log("[DEBUG] Parsed board object:",ae)}catch(je){console.log("[DEBUG] JSON parse failed, using data as-is:",je),ae=K.board}const ge=Array.isArray(ae==null?void 0:ae.positions)?ae.positions:Array.isArray(ae)?ae:fw;console.log("[DEBUG] Final board state:",ge),_(ge),S(K.current_player||"blue");const Fe=K.current_player||"blue";if(console.log("[DEBUG] Checking game state for player:",Fe),K.game_state==="active"&&!l){if(Jm(Fe,ge)){console.log("[DEBUG] Checkmate detected for",Fe);const je=Fe==="blue"?"red":"blue";I(`${je==="red"?"Red":"Blue"} wins by checkmate!`),L(ss.FINISHED),u(!0);try{const{error:st}=await cn.from("chess_games").update({game_state:"finished",winner:je,updated_at:new Date().toISOString()}).eq("game_id",H).eq("game_state","active");if(st){console.error("Error updating game state:",st);const{data:Sn}=await cn.from("chess_games").select("game_state, winner").eq("game_id",H).single();(Sn==null?void 0:Sn.game_state)==="finished"?(console.log("[INFO] Game was already finished by other player"),await Kr(je===j?"win":"loss"),await Pr(),Ro(),je===j?(h(!0),I(`${je==="red"?"Red":"Blue"} wins! Click "Claim Winnings" to receive your payout.`)):I(`${je==="red"?"Red":"Blue"} wins!`)):(console.log("[INFO] Database update failed. Manual resolution required."),confirm("Game resolution failed. Would you like to manually resolve the game?")&&await $b(H,je==="blue"?"blue_win":"red_win"))}else console.log("[DEBUG] Game state updated successfully"),await Kr(je===j?"win":"loss"),await Pr(),Ro(),je===j?(h(!0),I(`${je==="red"?"Red":"Blue"} wins! Click "Claim Winnings" to receive your payout.`)):I(`${je==="red"?"Red":"Blue"} wins!`)}catch(st){console.error("Error in game resolution:",st),u(!1)}return}if(Zm(Fe,ge)){console.log("[DEBUG] Stalemate detected"),I("Game ended in stalemate"),L(ss.FINISHED);try{const{error:je}=await cn.from("chess_games").update({game_state:"finished",game_result:"draw",updated_at:new Date().toISOString()}).eq("game_id",H).eq("game_state","active");if(je){console.error("Error updating game state:",je);const{data:st}=await cn.from("chess_games").select("game_state").eq("game_id",H).single();(st==null?void 0:st.game_state)==="finished"&&(console.log("[INFO] Game was already finished by other player"),await Kr("draw"),await Pr())}else console.log("[DEBUG] Game state updated successfully"),await Kr("draw"),await Pr()}catch(je){console.error("Error in stalemate resolution:",je)}return}}else if(K.game_state==="finished"){console.log("[DEBUG] Game already finished, showing result"),L(ss.FINISHED),K.winner?(K.winner==="blue"?K.blue_player:K.red_player)===r?(h(!0),I(`${K.winner==="red"?"Red":"Blue"} wins! Click "Claim Winnings" to receive your payout.`)):I(`${K.winner==="red"?"Red":"Blue"} wins!`):K.game_result==="draw"&&I("Game ended in draw");return}Hu(H)}catch(K){console.error("Error resuming game:",K)}},df=async()=>{try{const{data:H,error:K}=await cn.from("chess_games").select("*").eq("game_state","active").or(`blue_player.eq.${r},red_player.eq.${r}`);if(K){console.error("Error checking stuck games:",K);return}if(H&&H.length>0){const re=H[0];(re.blue_player===r||re.red_player===r)&&confirm(`You have an active game (${re.game_id}). Would you like to resume it?`)&&Db(re.game_id)}}catch(H){console.error("Error checking stuck games:",H)}},jb=(H,K)=>{const re=E[H][K],ae=(A==null?void 0:A.row)===H&&(A==null?void 0:A.col)===K,ge=k.some(st=>st.row===H&&st.col===K),Fe=Vr&&(Vr.from.row===H&&Vr.from.col===K||Vr.to.row===H&&Vr.to.col===K),je=re&&re.toUpperCase()==="K"&&Vu(E,Bn(re));return g.jsxs("div",{className:`square ${ae?"selected":""} ${ge?"legal-move":""} ${Fe?"last-move":""} ${je?"square-in-check":""}`,onClick:()=>Zi(H,K),children:[re&&g.jsx("div",{className:"piece",style:{backgroundImage:dE[re]?`url(${dE[re]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),ge&&g.jsx("div",{className:"legal-move-indicator"})]},`${H}-${K}`)},Ub=()=>{if(!an.show)return null;const H=j==="red"?["Q","R","B","N"]:["q","r","b","n"];return g.jsx("div",{className:"promotion-dialog",children:g.jsxs("div",{className:"promotion-content",children:[g.jsx("h3",{children:"Choose promotion piece"}),g.jsx("div",{className:"promotion-pieces",children:H.map(K=>g.jsx("div",{className:"promotion-piece",onClick:()=>uf(an.from,an.to,K.toLowerCase()),children:g.jsx("img",{src:dE[K],alt:K})},K))})]})})},Lb=()=>g.jsxs("div",{className:"piece-gallery",children:[g.jsx("h3",{children:"Chess Pieces"}),g.jsx("div",{className:"piece-gallery-grid",children:DCe.map(H=>g.jsxs("div",{className:"piece-gallery-item",children:[g.jsx("img",{src:H.img,alt:H.name,className:"piece-gallery-img"}),g.jsx("div",{className:"piece-gallery-name",children:H.name}),g.jsx("div",{className:"piece-gallery-desc",children:H.desc})]},H.key))})]}),ey=()=>g.jsxs("div",{className:"chess-multiplayer-lobby",children:[g.jsx("h2",{children:"Multiplayer Chess Lobby"}),s?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"status-bar",children:["Connected: ",hl(r)]}),g.jsxs("div",{className:"lobby-content",children:[g.jsxs("div",{className:"open-games",children:[g.jsx("h3",{children:"Open Games"}),g.jsxs("div",{className:"games-list",children:[ye.map(H=>g.jsxs("div",{className:"game-item",children:[g.jsxs("div",{className:"game-info",children:[g.jsx("div",{className:"game-id",children:H.game_title||"Untitled Game"}),g.jsxs("div",{className:"wager",children:["Wager: ",parseFloat(H.bet_amount)," ETH"]}),g.jsxs("div",{className:"title",children:["Created by: ",hl(H.blue_player)]})]}),g.jsx("button",{className:"join-btn",onClick:()=>Jt(H.game_id),children:"Join Game"})]},H.game_id)),ye.length===0&&g.jsx("div",{className:"no-games",children:"No open games available"})]})]}),g.jsxs("div",{className:"actions",children:[g.jsx("button",{className:"create-btn",onClick:()=>oe(!0),disabled:Z,children:"Create New Game"}),g.jsx("button",{className:"resume-btn",onClick:df,style:{marginTop:"10px",background:"rgba(0, 255, 0, 0.1)",border:"2px solid #00ff00",color:"#00ff00",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontFamily:"Courier New, monospace",fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease"},children:"Check for Active Games"})]}),Z&&g.jsxs("div",{className:"create-form",children:[g.jsx("h3",{children:"Create New Game"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Game Title:"}),g.jsx("input",{type:"text",value:ee,onChange:H=>he(H.target.value),placeholder:"Enter game title"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Wager (ETH):"}),g.jsx("input",{type:"number",value:Me,onChange:H=>Te(Number(H.target.value)),placeholder:"0.01",min:"0",step:"0.01"})]}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{className:"create-confirm-btn",onClick:dl,disabled:!ee||Me<0,children:"Create Game"}),g.jsx("button",{className:"cancel-btn",onClick:()=>oe(!1),children:"Cancel"})]})]})]})]}):g.jsx("div",{className:"wallet-notice",children:"Please connect your wallet to play multiplayer chess"})]}),ty=()=>g.jsxs("div",{className:"chess-multiplayer-waiting",children:[g.jsx("h2",{children:"Waiting for Opponent"}),g.jsxs("div",{className:"game-code",children:["Game ID: ",g.jsx("strong",{children:D})]}),g.jsxs("div",{className:"game-info",children:[g.jsxs("p",{children:["Wager: ",ne," ETH"]}),g.jsx("p",{children:"Share this game ID with your opponent"})]})]}),Mb=()=>g.jsxs("div",{className:"chess-game",children:[g.jsxs("div",{className:"chess-header",children:[g.jsx("h2",{children:"Multiplayer Chess"}),g.jsxs("div",{className:"chess-controls",children:[g.jsx("button",{onClick:ul,children:""}),e&&g.jsx("button",{onClick:e,children:"_"}),g.jsx("button",{onClick:t,children:""})]})]}),g.jsxs("div",{className:"game-info",children:[g.jsx("span",{className:"status",children:V}),g.jsxs("span",{className:"current-player",children:["Current: ",x==="red"?"Red":"Blue"]}),g.jsxs("span",{className:"wager-display",children:["Wager: ",ne," ETH"]}),J&&g.jsxs("span",{children:["Opponent: ",hl(J)]})]}),g.jsxs("div",{className:"game-stable-layout",children:[g.jsx("div",{className:"left-sidebar",children:g.jsxs("div",{className:"move-history",children:[g.jsx("h4",{children:"Move History"}),g.jsx("div",{className:"moves",children:B.slice().reverse().map((H,K)=>g.jsx("div",{className:"move",children:H},B.length-1-K))})]})}),g.jsxs("div",{className:"center-area",children:[g.jsx("div",{className:"chessboard-container",children:g.jsx("div",{className:"chessboard",children:Array.from({length:8},(H,K)=>g.jsx("div",{className:"board-row",children:Array.from({length:8},(re,ae)=>jb(K,ae))},K))})}),g.jsxs("div",{className:"game-controls",children:[g.jsxs("button",{onClick:()=>Tt(!Qe),children:[Qe?"Hide":"Show"," Piece Gallery"]}),d&&g.jsx("button",{className:"claim-winnings-btn",onClick:v,disabled:f||w||b,children:f||w||b?"Claiming...":"Claim Winnings"})]})]}),g.jsx("div",{className:"right-sidebar",children:g.jsxs("div",{className:"leaderboard",children:[g.jsx("h3",{children:"Leaderboard"}),g.jsx("div",{className:"leaderboard-table",children:g.jsxs("table",{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"#"}),g.jsx("th",{children:"Player"}),g.jsx("th",{children:"W"}),g.jsx("th",{children:"L"}),g.jsx("th",{children:"D"}),g.jsx("th",{children:"Pts"})]})}),g.jsx("tbody",{children:Hr.map((H,K)=>g.jsxs("tr",{children:[g.jsx("td",{children:K+1}),g.jsx("td",{children:H.username}),g.jsx("td",{children:H.wins}),g.jsx("td",{children:H.losses}),g.jsx("td",{children:H.draws}),g.jsx("td",{children:H.points})]},H.username))})]})})]})})]}),Qe&&g.jsx("div",{className:"piece-gallery-panel",children:Lb()}),Ub(),vt&&g.jsx("div",{className:"victory-celebration",children:g.jsxs("div",{className:"victory-content",children:[g.jsx("h2",{children:" Victory! "}),g.jsx("p",{children:"Congratulations on your win!"})]})})]});switch(P.useEffect(()=>{Pr(),Wu(),df();const H=setInterval(Wu,5e3);return()=>{clearInterval(H),xn.current&&cn.removeChannel(xn.current),Gr.current&&clearTimeout(Gr.current)}},[]),N){case ss.LOBBY:return ey();case ss.WAITING:return ty();case ss.ACTIVE:case ss.FINISHED:return Mb();default:return ey()}},jCe={AI:"ai"},pw={R:"/images/redrook.png",N:"/images/redknight.png",B:"/images/redbishop.png",Q:"/images/redqueen.png",K:"/images/redking.png",P:"/images/redpawn.png",r:"/images/bluerook.png",n:"/images/blueknight.png",b:"/images/bluebishop.png",q:"/images/bluequeen.png",k:"/images/blueking.png",p:"/images/bluepawn.png"},WR=[["R","N","B","Q","K","B","N","R"],["P","P","P","P","P","P","P","P"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["p","p","p","p","p","p","p","p"],["r","n","b","q","k","b","n","r"]],UCe=[{key:"K",name:"Red King",img:"/images/redking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"Q",name:"Red Queen",img:"/images/redqueen.png",desc:"The Queen moves any number of squares in any direction."},{key:"R",name:"Red Rook",img:"/images/redrook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"B",name:"Red Bishop",img:"/images/redbishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"N",name:"Red Knight",img:"/images/redknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"P",name:"Red Pawn",img:"/images/redpawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."},{key:"k",name:"Blue King",img:"/images/blueking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"q",name:"Blue Queen",img:"/images/bluequeen.png",desc:"The Queen moves any number of squares in any direction."},{key:"r",name:"Blue Rook",img:"/images/bluerook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"b",name:"Blue Bishop",img:"/images/bluebishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"n",name:"Blue Knight",img:"/images/blueknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"p",name:"Blue Pawn",img:"/images/bluepawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."}],LCe=()=>{const[t,e]=P.useState(!1),n=P.useRef(null),r=P.useRef(!1);P.useEffect(()=>r.current||n.current?void 0:(r.current=!0,console.log("[DEBUG] Initializing LawbBot..."),(()=>{try{const a=new Worker("/stockfish.worker.js");a.onmessage=c=>{console.log("[DEBUG] Stockfish worker message:",c.data)},a.onerror=c=>{console.error("[DEBUG] Stockfish worker error:",c),e(!1),r.current=!1},console.log("[DEBUG] LawbBot initialized successfully"),n.current=a,e(!0),r.current=!1,a.postMessage("setoption name Threads value 4"),a.postMessage("setoption name Hash value 128"),a.postMessage("setoption name MultiPV value 1")}catch(a){console.error("[DEBUG] Failed to create Stockfish worker:",a),e(!1),r.current=!1}})(),()=>{if(n.current){try{n.current.terminate()}catch(a){console.warn("[DEBUG] Error terminating LawbBot:",a)}n.current=null}r.current=!1}),[]);const s=P.useCallback((o,a=4e3)=>new Promise(c=>{if(!n.current){console.warn("[DEBUG] Stockfish not ready, using fallback"),c(null);return}console.log("[DEBUG] Starting Stockfish calculation for FEN:",o,"timeLimit:",a);let l=null,u=!1;const d=h=>{var p;const f=h.data;typeof f=="string"&&f.startsWith("bestmove ")&&(l=f.split(" ")[1]||null,console.log("[DEBUG] Stockfish bestmove found:",l),u||(u=!0,(p=n.current)==null||p.removeEventListener("message",d),c(l)))};try{n.current.addEventListener("message",d),n.current.postMessage("uci"),n.current.postMessage("isready"),n.current.postMessage(`position fen ${o}`);const h=a>5e3?a*1.5:a;n.current.postMessage(`go movetime ${h} depth 20`);const f=a>5e3?a*2:a+1e3;window.setTimeout(()=>{var p;if(!u){u=!0;try{(p=n.current)==null||p.removeEventListener("message",d)}catch(m){console.warn("[DEBUG] Error removing message listener:",m)}console.warn("[DEBUG] Stockfish timeout after",f,"ms"),c(l)}},f)}catch(h){console.error("[DEBUG] Stockfish communication error:",h),c(null)}}),[]),i=P.useCallback(async(o,a=4e3)=>{try{const c=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",l="https://chess.lawb.xyz/api/stockfish";console.log(`[DEBUG] Attempting API call to ${l}`);const u=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fen:o,movetime:a})});if(u.ok){const d=await u.json();return console.log(`[DEBUG] API call successful to ${l}:`,d),d.move||null}else return console.warn(`[DEBUG] API failed with status ${u.status} on ${l}`),null}catch(c){return console.warn("[DEBUG] API error:",c),null}},[]);return{stockfishReady:t,getStockfishMove:s,getCloudflareStockfishMove:i}},MCe=()=>{const[t,e]=P.useState(null),[n,r]=P.useState(!1),s=P.useCallback(async o=>{try{r(!0);const a=await fetch(`https://explorer.lichess.ovh/lichess?fen=${encodeURIComponent(o)}`);if(a.ok){const c=await a.json();return e(c),c}}catch(a){console.warn("[DEBUG] Lichess API error:",a)}finally{r(!1)}return null},[]),i=P.useCallback(async(o,a)=>{try{const c=await fetch(`https://explorer.lichess.ovh/lichess?fen=${encodeURIComponent(o)}&play=${a}`);if(c.ok)return await c.json()}catch(c){console.warn("[DEBUG] Lichess move analysis error:",c)}return null},[]);return{openingData:t,isAnalyzing:n,getOpeningData:s,getMoveAnalysis:i}},BCe=({onClose:t,onMinimize:e,fullscreen:n=!1})=>{const{address:r}=Am(),[s,i]=P.useState(jCe.AI),[o,a]=P.useState(()=>JSON.parse(JSON.stringify(WR))),[c,l]=P.useState("blue"),[u,d]=P.useState(null),[h,f]=P.useState("active"),[p,m]=P.useState("hard"),[w,y]=P.useState("Connect wallet to play"),[b,v]=P.useState([]),[E,_]=P.useState([]),[x,S]=P.useState([]),[A,C]=P.useState(null),[k,O]=P.useState(!1),[B,F]=P.useState(!1),[V,I]=P.useState(null),[N,L]=P.useState(null),[D]=P.useState(""),[$]=P.useState(.1),[j,q]=P.useState({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),J=P.useRef(null),se=P.useRef(!1),ne=P.useRef(o),ie=P.useRef(null),ye=P.useRef(null),Y=P.useRef(!1),Z=P.useRef(!1),[oe,ee]=P.useState(!1),[he,Me]=P.useState(!1),[Te,Ce]=P.useState(!1),[Le,Qe]=P.useState(()=>typeof window<"u"&&window.localStorage?window.localStorage.getItem("lawb_chess_dark_mode")==="true":!1),Tt=()=>{Qe(U=>(typeof window<"u"&&window.localStorage&&window.localStorage.setItem("lawb_chess_dark_mode",String(!U)),!U))},{stockfishReady:an}=LCe(),{getOpeningData:Ot}=MCe(),[vt,rn]=P.useState("loading"),[Hr,Ji]=P.useState(!1),[Vr,Pn]=P.useState([]),[xn,Gr]=P.useState(!1),[ul,Pr]=P.useState("/images/chessboard1.png"),Kr=()=>{const U=["/images/chessboard1.png","/images/chessboard2.png","/images/chessboard3.png","/images/chessboard4.png","/images/chessboard5.png","/images/chessboard6.png"],z=Math.floor(Math.random()*U.length),W=U[z];return console.log("[DEBUG] Random chessboard selected:",W,"(index:",z,")"),W};P.useEffect(()=>{if(an)rn("ready");else{const U=window.setTimeout(()=>{an||(rn("failed"),console.warn("[DEBUG] Stockfish failed to load within timeout"))},1e4);return()=>window.clearTimeout(U)}},[an]),P.useEffect(()=>{ne.current=o},[o]),P.useEffect(()=>{r?y("Select game mode"):(y("Connect wallet to play"),O(!1))},[r]),P.useEffect(()=>(!J.current&&typeof Worker<"u"&&(J.current=new Worker("/aiWorker.js"),J.current.onmessage=U=>{console.log("[DEBUG] AI worker response received:",U.data);const{move:z,nodes:W}=U.data;z&&se.current&&h==="active"?(console.log("[DEBUG] AI worker move is valid, executing:",z),console.log("[DEBUG] AI searched",W,"nodes"),se.current=!1,ye.current&&(window.clearTimeout(ye.current),ye.current=null),ie.current&&ie.current(z.from,z.to,!0)):console.log("[DEBUG] AI worker response ignored - not AI turn or game not active")},J.current.onerror=U=>{console.error("[DEBUG] AI worker error:",U),y("AI worker error - using fallback mode"),se.current=!1}),()=>{J.current&&(J.current.terminate(),J.current=null),ye.current&&(window.clearTimeout(ye.current),ye.current=null)}),[]),P.useEffect(()=>{Wu()},[]);const Wu=async()=>{try{const U=new Promise((Q,G)=>window.setTimeout(()=>G(new Error("Database timeout")),1e4)),z=cn.from("leaderboard").select("*").order("points",{ascending:!1}),W=await Promise.race([z,U]);if(W.error)throw W.error;W.data&&_(W.data),console.log("Leaderboard data loaded:",W.data)}catch(U){y("Failed to load leaderboard"),console.error("Leaderboard error:",U)}},dl=async U=>{if(console.log("[DEBUG] updateScore called with:",U),!r){console.log("[DEBUG] No wallet address, returning");return}try{const z=r.toLowerCase(),{data:W}=await cn.from("leaderboard").select("*").eq("username",z).maybeSingle();console.log("[DEBUG] Existing record:",W);const Q=W!=null&&W.wins?Number(W.wins):0,G=W!=null&&W.losses?Number(W.losses):0,ve=W!=null&&W.draws?Number(W.draws):0,Ee=W!=null&&W.total_games?Number(W.total_games):0,Ue=W!=null&&W.points?Number(W.points):0;console.log("[DEBUG] Score calculation:",{currentWins:Q,currentLosses:G,currentDraws:ve,currentTotalGames:Ee,currentPoints:Ue,gameResult:U});const ut=Q+(U==="win"?1:0),bt=G+(U==="loss"?1:0),Wt=ve+(U==="draw"?1:0),pt=Ee+1;let Do=0;if(U==="win")switch(p){case"easy":Do=10;break;default:Do=1}else U==="draw"&&(Do=1);const zb=Ue+Do;if(console.log("[DEBUG] New values:",{newWins:ut,newLosses:bt,newDraws:Wt,newTotalGames:pt,newPoints:zb,pointsToAdd:Do}),W){const{error:hf}=await cn.from("leaderboard").update({wins:ut,losses:bt,draws:Wt,total_games:pt,points:zb,updated_at:new Date().toISOString()}).eq("username",z);if(hf){console.error("[DEBUG] Error updating leaderboard:",hf);return}}else{const{error:hf}=await cn.from("leaderboard").insert({username:z,chain_type:"ethereum",wins:ut,losses:bt,draws:Wt,total_games:pt,points:zb,updated_at:new Date().toISOString()});if(hf){console.error("[DEBUG] Error inserting leaderboard record:",hf);return}}console.log("[DEBUG] Leaderboard updated successfully"),await Wu()}catch(z){console.error("[DEBUG] Error in updateScore:",z)}},Jt=U=>U&&U===U.toUpperCase()?"red":"blue",Hu=(U,z)=>U>=0&&U<8&&z>=0&&z<8,hl=(U,z)=>`${String.fromCharCode(97+z)}${8-U}`,Bn=(U,z)=>{const W=z==="blue"?"k":"K";let Q=null;for(let Ee=0;Ee<8;Ee++){for(let Ue=0;Ue<8;Ue++)if(U[Ee][Ue]===W){Q={row:Ee,col:Ue};break}if(Q)break}if(!Q)return console.log(`King not found for ${z}`),!1;const G=z==="blue"?"red":"blue",ve=Vu(Q.row,Q.col,G,U);return console.log(`${z} king at ${Q.row},${Q.col} under attack: ${ve}`),ve},Vu=(U,z,W,Q)=>{for(let G=0;G<8;G++)for(let ve=0;ve<8;ve++){const Ee=Q[G][ve];if(Ee&&Jt(Ee)===W&&Gs(Ee,G,ve,U,z,!1,W,Q,!0))return!0}return!1},kb=(U,z,W,Q,G,ve=o)=>{const Ee=ve.map(ut=>[...ut]),Ue=Ee[U][z];return Ee[W][Q]=Ue,Ee[U][z]=null,Bn(Ee,G)},Ob=(U,z,W,Q,G,ve)=>{const Ee=U==="blue"?-1:1,Ue=U==="blue"?6:1;if(!Hu(Q,G)||U==="blue"&&Q>=z||U==="red"&&Q<=z)return!1;const ut=Math.abs(Q-z),bt=Math.abs(G-W);if((ut===1&&bt===0||ut===2&&bt===0&&z===Ue||ut===1&&bt===1)&&ut<=2&&bt<=1&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&console.log("[DEBUG] Pawn move check:",{color:U,from:`${z},${W}`,to:`${Q},${G}`}),W===G&&Q===z+Ee)return ve[Q][G]===null;if(W===G&&z===Ue&&Q===z+2*Ee)return ve[z+Ee][W]===null&&ve[Q][G]===null;if(Math.abs(W-G)===1&&Q===z+Ee){const pt=ve[Q][G];return pt!==null&&Jt(pt)!==U}if(Math.abs(W-G)===1&&Q===z+Ee){const pt=ve[z][G];if(pt&&Jt(pt)!==U&&pt.toLowerCase()==="p"&&j.lastPawnDoubleMove&&j.lastPawnDoubleMove.row===z&&j.lastPawnDoubleMove.col===G)return console.log("[DEBUG] Pawn en passant move"),!0}return!1},Vm=(U,z,W,Q,G)=>U!==W&&z!==Q?!1:Qm(U,z,W,Q,G),Gm=(U,z,W,Q)=>{const G=Math.abs(U-W),ve=Math.abs(z-Q);return G===2&&ve===1||G===1&&ve===2},Km=(U,z,W,Q,G)=>Math.abs(U-W)!==Math.abs(z-Q)?!1:Qm(U,z,W,Q,G),Ym=(U,z,W,Q,G)=>Vm(U,z,W,Q,G)||Km(U,z,W,Q,G),Rb=(U,z,W,Q,G)=>{const ve=Math.abs(z-Q),Ee=Math.abs(W-G);if(ve<=1&&Ee<=1)return!0;if(ve===0&&Ee===2){if(U==="blue"&&!j.blueKingMoved){if(G===6&&!j.blueRooksMove.right||G===2&&!j.blueRooksMove.left)return!0}else if(U==="red"&&!j.redKingMoved&&(G===6&&!j.redRooksMove.right||G===2&&!j.redRooksMove.left))return!0}return!1},Qm=(U,z,W,Q,G)=>{const ve=U===W?0:(W-U)/Math.abs(W-U),Ee=z===Q?0:(Q-z)/Math.abs(Q-z);let Ue=U+ve,ut=z+Ee;for(;Ue!==W||ut!==Q;){if(G[Ue][ut]!==null)return!1;Ue+=ve,ut+=Ee}return!0},Gs=(U,z,W,Q,G,ve=!0,Ee=Jt(U),Ue=o,ut=!1)=>{if(!Hu(Q,G))return ut||console.log("[ILLEGAL MOVE] Out of board:",{piece:U,startRow:z,startCol:W,endRow:Q,endCol:G}),!1;const bt=Ue[Q][G];if(bt&&Jt(bt)===Ee)return ut||console.log("[ILLEGAL MOVE] Capturing own piece:",{piece:U,startRow:z,startCol:W,endRow:Q,endCol:G}),!1;const Wt=U.toLowerCase();let pt=!1;switch(Wt){case"p":pt=Ob(Ee,z,W,Q,G,Ue);break;case"r":pt=Vm(z,W,Q,G,Ue);break;case"n":pt=Gm(z,W,Q,G);break;case"b":pt=Km(z,W,Q,G,Ue);break;case"q":pt=Ym(z,W,Q,G,Ue);break;case"k":pt=Rb(Ee,z,W,Q,G);break}return pt?pt&&ve&&kb(z,W,Q,G,Ee,Ue)?(ut||console.log("[ILLEGAL MOVE] Move exposes king to check:",{piece:U,startRow:z,startCol:W,endRow:Q,endCol:G}),!1):pt:(ut||console.log("[ILLEGAL MOVE] Piece cannot move that way:",{piece:U,startRow:z,startCol:W,endRow:Q,endCol:G,playerColor:Ee,pieceType:Wt,targetPiece:Ue[Q][G],targetPieceColor:Ue[Q][G]?Jt(Ue[Q][G]):null}),!1)},fl=(U,z=o,W=c)=>{const Q=[],G=z[U.row][U.col];if(!G||Jt(G)!==W)return Q;const ve=G.toLowerCase();if(ve==="p"){const Ee=W==="blue"?-1:1,Ue=W==="blue"?6:1,ut=U.row+Ee;if(ut>=0&&ut<8&&Gs(G,U.row,U.col,ut,U.col,!0,W,z,!0)&&Q.push({row:ut,col:U.col}),U.row===Ue){const bt=U.row+2*Ee;bt>=0&&bt<8&&Gs(G,U.row,U.col,bt,U.col,!0,W,z,!0)&&Q.push({row:bt,col:U.col})}for(const bt of[-1,1]){const Wt=U.col+bt,pt=U.row+Ee;Wt>=0&&Wt<8&&pt>=0&&pt<8&&Gs(G,U.row,U.col,pt,Wt,!0,W,z,!0)&&Q.push({row:pt,col:Wt})}}else if(ve==="n"){const Ee=[[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]];for(const[Ue,ut]of Ee){const bt=U.row+Ue,Wt=U.col+ut;bt>=0&&bt<8&&Wt>=0&&Wt<8&&Gs(G,U.row,U.col,bt,Wt,!0,W,z,!0)&&Q.push({row:bt,col:Wt})}}else for(let Ee=0;Ee<8;Ee++)for(let Ue=0;Ue<8;Ue++)Gs(G,U.row,U.col,Ee,Ue,!0,W,z,!0)&&Q.push({row:Ee,col:Ue});return Q},lf=(U,z=o)=>{if(!Bn(z,U))return!1;for(let W=0;W<8;W++)for(let Q=0;Q<8;Q++){const G=z[W][Q];if(G&&Jt(G)===U&&fl({row:W,col:Q},z,U).length>0)return!1}return!0},Jm=(U,z=o)=>{if(Bn(z,U))return!1;for(let W=0;W<8;W++)for(let Q=0;Q<8;Q++){const G=z[W][Q];if(G&&Jt(G)===U&&fl({row:W,col:Q},z,U).length>0)return!1}return!0},Zm=(U,z)=>{if(h!=="active"||se.current)return;const W=o[U][z],Q=W?Jt(W):null;if(u&&x.some(G=>G.row===U&&G.col===z)){Zi(u,{row:U,col:z});return}if(W&&Q===c){const G=fl({row:U,col:z});d({row:U,col:z}),S(G);return}d(null),S([])},Zi=(U,z,W=!1)=>{const Q=o[U.row][U.col];if(console.log("[MOVE ATTEMPT]",{from:U,to:z,piece:Q,isAIMove:W,board:JSON.parse(JSON.stringify(o)),moveHistory:b}),!!Q){if(Q.toLowerCase()==="p"&&(Jt(Q)==="blue"&&z.row===0||Jt(Q)==="red"&&z.row===7)){I({from:U,to:z}),F(!0);return}ae(U,z,"q",W)}};ie.current=Zi;const Xm=P.useCallback((U,z,W=!1)=>{Gr(!0);const Q=o.map(Ee=>[...Ee]),G=Q[U.row][U.col];if(!G)return;Q[z.row][z.col]=G,Q[U.row][U.col]=null,H(Q,U,z,G);const ve=K(U,z);if(v(Ee=>{const Ue=[...Ee,ve];return console.log("[MOVE HISTORY UPDATED]",Ue),Ue}),C({from:U,to:z}),d(null),S([]),b.length<10&&!W){const Ee=HR(Q,c==="blue"?"red":"blue");Ot(Ee).then(Ue=>{Ue&&Ue.moves&&Ue.moves.length>0&&(Pn(Ue.moves.slice(0,3)),Ji(!0),setTimeout(()=>Ji(!1),5e3))})}re(U,z,G),l(Ee=>{const Ue=Ee==="blue"?"red":"blue";return console.log("[DEBUG] Player switched to:",Ue),uf(Q,Ue),Ue}),uf(Q,c==="blue"?"red":"blue"),a(Q),se.current=!1,Y.current=!1,Z.current=!1,Gr(!1)},[o,c,b,Ot]);P.useEffect(()=>{if(!se.current&&s==="ai"&&c==="red"&&!Y.current&&!xn)if(se.current=!0,p==="easy")setTimeout(()=>{const U=Ro(o);U?Zi(U.from,U.to,!0):se.current=!1},600);else{y("AI is calculating...");const U=HR(o,c);if(Z.current)return;Z.current=!0,fetch("https://chess.lawb.xyz/api/stockfish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fen:U,difficulty:p,movetime:3e3})}).then(W=>{if(W.ok)return W.json();throw new Error("API call failed")}).then(W=>{console.log("[DEBUG] Stockfish API response:",W);const Q=W.bestmove||W.move;if(Q&&Q!=="(none)"&&Q.length===4){const G=Q.charCodeAt(0)-97,ve=parseInt(Q[1]),Ee=Q.charCodeAt(2)-97,Ue=parseInt(Q[3]),ut=8-ve,bt=8-Ue;if(console.log("[DEBUG] Parsed move:",{fromCol:G,fromRowStockfish:ve,toCol:Ee,toRowStockfish:Ue,fromRow:ut,toRow:bt}),G>=0&&G<8&&ut>=0&&ut<8&&Ee>=0&&Ee<8&&bt>=0&&bt<8){const Wt={from:{row:ut,col:G},to:{row:bt,col:Ee}},pt=o[ut][G];if(console.log("[DEBUG] Move validation:",{piece:pt,moveObj:Wt,isValid:pt&&Jt(pt)==="red"&&Gs(pt,ut,G,bt,Ee,!0,"red",o)}),pt&&Jt(pt)==="red"&&Gs(pt,ut,G,bt,Ee,!0,"red",o))console.log("[DEBUG] Executing Stockfish move:",Wt),Zi(Wt.from,Wt.to,!0);else{console.warn("[DEBUG] Invalid Stockfish move, falling back to random");const Do=Ro(o);Do&&Zi(Do.from,Do.to,!0),se.current=!1,Z.current=!1}}else{console.warn("[DEBUG] Invalid move coordinates, falling back to random");const Wt=Ro(o);Wt&&Zi(Wt.from,Wt.to,!0),se.current=!1,Z.current=!1}}else{console.warn("[DEBUG] Invalid move format from API, falling back to random");const G=Ro(o);G&&Zi(G.from,G.to,!0),se.current=!1,Z.current=!1}}).catch(W=>{console.error("[DEBUG] Stockfish API error:",W),y("AI error. Falling back to random moves.");const Q=Ro(o);Q&&Zi(Q.from,Q.to,!0),se.current=!1,Z.current=!1})}},[c,s,p,o,j,an]);const uf=(U,z)=>{console.log("Checking game end for player:",z);const W=U.some(G=>G.some(ve=>ve==="k")),Q=U.some(G=>G.some(ve=>ve==="K"));if(!W)return console.log("[GAME END] KING CAPTURED - Red wins!"),f("checkmate"),y("King captured! Red wins!"),dl("loss"),Ce(!0),setTimeout(()=>Ce(!1),3e3),"checkmate";if(!Q)return console.log("[GAME END] KING CAPTURED - Blue wins!"),f("checkmate"),y("King captured! You win!"),dl("win"),Ce(!0),setTimeout(()=>Ce(!1),3e3),"checkmate";if(console.log("Is king in check:",Bn(U,z)),lf(z,U)){console.log("[GAME END] CHECKMATE",{winner:z==="blue"?"red":"blue",board:JSON.parse(JSON.stringify(U)),moveHistory:b}),f("checkmate");const G=z==="blue"?"red":"blue";return G==="blue"?(y("Checkmate! You win!"),Sn("checkmate"),hI(!0),yi(),dl("win"),Ce(!0),setTimeout(()=>Ce(!1),3e3)):(y(`Checkmate! ${G==="red"?"AI":"Opponent"} wins!`),Sn("checkmate"),fI(!0),dl("loss"),Ce(!0),setTimeout(()=>Ce(!1),3e3)),"checkmate"}return Jm(z,U)?(console.log("[GAME END] STALEMATE",{board:JSON.parse(JSON.stringify(U)),moveHistory:b}),f("stalemate"),y("Stalemate! Game is a draw."),dl("draw"),Ce(!0),setTimeout(()=>Ce(!1),3e3),"stalemate"):(Bn(U,z)?(console.log("CHECK detected!"),Sn("check"),y(`${z==="blue"?"Blue":"Red"} is in check!`)):y("Your turn"),null)},Ro=U=>{const z=[];for(let G=0;G<8;G++)for(let ve=0;ve<8;ve++){const Ee=U[G][ve];Ee&&Jt(Ee)==="red"&&z.push({row:G,col:ve})}for(let G=z.length-1;G>0;G--){const ve=Math.floor(Math.random()*(G+1));[z[G],z[ve]]=[z[ve],z[G]]}const W=[],Q=[];for(const G of z){const ve=fl(G,U,"red");for(const Ee of ve){const Ue=U[Ee.row][Ee.col];if(Ue&&Jt(Ue)==="blue"){const bt={p:100,n:320,b:330,r:500,q:900,k:2e4}[Ue.toLowerCase()]||0;W.push({from:G,to:Ee,value:bt})}else Q.push({from:G,to:Ee})}}if(W.length>0&&Math.random()<.3){W.sort((G,ve)=>G.value-ve.value);for(const G of W){const ve=U.map(Ue=>[...Ue]),Ee=ve[G.from.row][G.from.col];if(ve[G.to.row][G.to.col]=Ee,ve[G.from.row][G.from.col]=null,!Bn(ve,"red"))return{from:G.from,to:G.to}}}for(const G of Q){const ve=U.map(Ue=>[...Ue]),Ee=ve[G.from.row][G.from.col];if(ve[G.to.row][G.to.col]=Ee,ve[G.from.row][G.from.col]=null,!Bn(ve,"red"))return G}W.sort((G,ve)=>G.value-ve.value);for(const G of W){const ve=U.map(Ue=>[...Ue]),Ee=ve[G.from.row][G.from.col];if(ve[G.to.row][G.to.col]=Ee,ve[G.from.row][G.from.col]=null,!Bn(ve,"red"))return{from:G.from,to:G.to}}return null},$b=()=>{a(JSON.parse(JSON.stringify(WR))),l("blue"),d(null),f("active"),v([]),S([]),C(null),O(!1),y("Select game mode"),q({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),Pr(Kr()),se.current&&(se.current=!1)},Db=()=>{if(QL(),console.log("[DEBUG] startGame called, difficulty:",p,"gameMode:",s),s==="online"){O(!1),ee(!1);return}O(!0),ee(!1),y("Game started! Your turn");const U=Kr();Pr(U),console.log("[DEBUG] Game started with chessboard:",U)},df=U=>`${U.slice(0,6)}...${U.slice(-4)}`,jb=(U,z)=>{const W=o[U][z],Q=(u==null?void 0:u.row)===U&&(u==null?void 0:u.col)===z,G=x.some(Ee=>Ee.row===U&&Ee.col===z),ve=A&&(A.from.row===U&&A.from.col===z||A.to.row===U&&A.to.col===z);return g.jsxs("div",{className:`square ${Q?"selected":""} ${G?"legal-move":""} ${ve?"last-move":""}`,onClick:()=>Zm(U,z),children:[W&&g.jsx("div",{className:"piece",style:{backgroundImage:pw[W]?`url(${pw[W]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),G&&g.jsx("div",{className:"legal-move-indicator"})]},`${U}-${z}`)},Ub=()=>{if(!B||!V)return null;const U=c==="blue"?["q","r","b","n"]:["Q","R","B","N"];return g.jsx("div",{className:"promotion-dialog",children:g.jsxs("div",{className:"promotion-content",children:[g.jsx("h3",{children:"Choose promotion piece:"}),g.jsx("div",{className:"promotion-pieces",children:U.map(z=>g.jsx("div",{className:"promotion-piece",onClick:()=>{ae(V.from,V.to,z),F(!1),I(null)},style:{backgroundImage:pw[z]?`url(${pw[z]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},z))})]})})},[Lb,ey]=P.useState(null),ty=(U=!1,z="Click a piece to learn more about it.")=>g.jsxs("div",{className:`piece-gallery${U?" piece-gallery-sm":""}`,children:[g.jsx("h3",{children:"Lawbstation Chess Pieces"}),g.jsx("div",{className:"piece-gallery-grid",children:UCe.map(W=>g.jsxs("div",{className:"piece-gallery-item",onClick:()=>ey(W.key),children:[g.jsx("img",{src:W.img,alt:W.name,className:"piece-gallery-img"}),g.jsx("div",{className:"piece-gallery-name",children:W.name}),Lb===W.key&&g.jsx("div",{className:"piece-gallery-desc",children:W.desc})]},W.key))}),g.jsx("div",{className:"piece-gallery-tip",children:z})]}),Mb=()=>g.jsx("div",{className:"difficulty-selection-row",style:{justifyContent:"center"},children:g.jsx("div",{className:"difficulty-controls-col",children:g.jsxs("div",{className:"difficulty-selection-panel",style:{background:"#fff",borderRadius:12,padding:"32px 24px",boxShadow:"0 4px 32px rgba(0,0,0,0.12)",textAlign:"center"},children:[g.jsx("h2",{style:{fontWeight:700,letterSpacing:1,fontSize:"2rem",color:"#0a2a7a",marginBottom:16},children:"Start a New Game"}),g.jsxs("p",{style:{fontSize:"1.1rem",color:"#333",marginBottom:24},children:["Challenge the LawbBot AI to a chess match.",g.jsx("br",{}),"Good luck, have fun!"]}),g.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:16,marginBottom:24},children:[g.jsx("button",{className:`difficulty-btn${p==="easy"?" selected":""}`,style:{background:p==="easy"?"#44c0ff":"#eee",color:p==="easy"?"#fff":"#333",fontWeight:"bold",fontSize:"1.1em",padding:"12px 32px",borderRadius:8,border:"none",cursor:"pointer",letterSpacing:1,boxShadow:p==="easy"?"0 2px 8px #44c0ff44":"none"},onClick:()=>m("easy"),children:"Easy"}),g.jsx("button",{className:`difficulty-btn${p==="hard"?" selected":""}`,style:{background:p==="hard"?"#0a2a7a":"#eee",color:p==="hard"?"#fff":"#333",fontWeight:"bold",fontSize:"1.1em",padding:"12px 32px",borderRadius:8,border:"none",cursor:"pointer",letterSpacing:1,boxShadow:p==="hard"?"0 2px 8px #0a2a7a44":"none"},onClick:()=>m("hard"),children:"Hard"})]}),g.jsxs("button",{className:"difficulty-btn start-btn",onClick:()=>{Db()},style:{background:"linear-gradient(90deg, #0a2a7a 0%, #44c0ff 100%)",color:"white",fontWeight:"bold",fontSize:"1.3em",padding:"18px 48px",borderRadius:8,boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"none",cursor:"pointer",letterSpacing:1,marginBottom:8},children:[g.jsx("span",{role:"img","aria-label":"chess",children:""})," Start Game"]})]})})}),H=(U,z,W,Q)=>{if(Q.toLowerCase()==="p"&&(Jt(Q)==="blue"&&W.row===0||Jt(Q)==="red"&&W.row===7)){const G=Jt(Q)==="blue"?"q":"Q";U[W.row][W.col]=G}Q.toLowerCase()==="k"&&Math.abs(z.col-W.col)===2&&(W.col===6?(U[z.row][7]=null,U[z.row][5]=Jt(Q)==="blue"?"r":"R"):W.col===2&&(U[z.row][0]=null,U[z.row][3]=Jt(Q)==="blue"?"r":"R"))},K=(U,z,W,Q)=>{const G=hl(U.row,U.col),ve=hl(z.row,z.col);return`${G}-${ve}`},re=(U,z,W)=>{const Q={...j};W.toLowerCase()==="k"?Jt(W)==="blue"?Q.blueKingMoved=!0:Q.redKingMoved=!0:W.toLowerCase()==="r"&&(Jt(W)==="blue"?(U.col===0&&(Q.blueRooksMove.left=!0),U.col===7&&(Q.blueRooksMove.right=!0)):(U.col===0&&(Q.redRooksMove.left=!0),U.col===7&&(Q.redRooksMove.right=!0))),W.toLowerCase()==="p"&&Math.abs(U.row-z.row)===2?Q.lastPawnDoubleMove={row:z.row,col:z.col}:Q.lastPawnDoubleMove=null,q(Q)},ae=(U,z,W="q",Q=!1)=>{o[U.row][U.col];const ve=o[z.row][z.col]!==null;if(Sn(ve?"capture":"move"),ve){L({row:z.row,col:z.col,show:!0}),setTimeout(()=>{Xm(U,z,Q),L(null)},500);return}Xm(U,z,Q)},[ge,Fe]=P.useState(!0),[je,st]=P.useState(!1),Sn=U=>{if(!ge)return;let z="";switch(U){case"move":z="/images/move.mp3";break;case"capture":z="/images/capture.mp3";break;case"check":z="/images/play.mp3";break;case"checkmate":z="/images/victory.mp3";break;case"victory":z="/images/victory.mp3";break;default:z="/images/move.mp3"}new Audio(z).play().catch(()=>{})},yi=()=>{if(je){Sn("victory");for(let U=0;U<50;U++)setTimeout(()=>{const z=document.createElement("div");z.style.cssText=`
          position: fixed;
          width: 10px;
          height: 10px;
          background: ${["#ff4444","#44ff44","#4444ff","#ffff44","#ff44ff"][Math.floor(Math.random()*5)]};
          left: ${Math.random()*window.innerWidth}px;
          top: -10px;
          z-index: 9999;
          animation: confetti-fall 3s linear forwards;
        `,document.body.appendChild(z),setTimeout(()=>z.remove(),3e3)},U*100);setTimeout(()=>st(!1),5e3)}},[$o,hI]=P.useState(!1),[YL,fI]=P.useState(!1),pI=()=>{hI(!1),fI(!1)},Bb=()=>{pI(),$b()},Fb=()=>{pI(),O(!1)},QL=()=>{new Audio("/images/start.mp3").play().catch(()=>{})},JL=s==="online";return g.jsxs("div",{className:`chess-game${n?" fullscreen":""}${Le?" chess-dark-mode":""}`,children:[!n&&g.jsxs("div",{className:"chess-header",children:[g.jsx("h2",{children:"Lawb Chess"}),g.jsxs("div",{className:"chess-controls",children:[e&&g.jsx("button",{onClick:e,children:"_"}),g.jsx("button",{onClick:t,children:""}),g.jsx("button",{className:"dark-mode-toggle",onClick:Tt,title:Le?"Switch to light mode":"Switch to dark mode","aria-label":Le?"Switch to light mode":"Switch to dark mode",style:{marginLeft:12},children:Le?"":""})]})]}),g.jsxs("div",{className:"game-stable-layout",children:[g.jsxs("div",{className:"left-sidebar",children:[k&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"move-history-status",children:w}),g.jsxs("div",{className:"move-history",children:[g.jsx("div",{className:"move-history-title",children:"Move History"}),g.jsx("ul",{className:"move-history-list",children:b.slice().reverse().map((U,z)=>g.jsx("li",{children:U},b.length-1-z))})]})]}),!k&&g.jsxs("div",{className:"leaderboard",children:[g.jsx("h3",{children:"Leaderboard"}),g.jsx("div",{className:"leaderboard-table",children:g.jsxs("table",{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Rank"}),g.jsx("th",{children:"Player"}),g.jsx("th",{children:"W"}),g.jsx("th",{children:"L"}),g.jsx("th",{children:"D"}),g.jsx("th",{children:"Points"})]})}),g.jsx("tbody",{children:Array.isArray(E)&&E.slice(0,10).map((U,z)=>{if(typeof U=="object"&&U!==null&&"username"in U&&"wins"in U&&"losses"in U&&"draws"in U&&"points"in U){const W=U;return g.jsxs("tr",{children:[g.jsx("td",{children:z+1}),g.jsx("td",{children:df(W.username)}),g.jsx("td",{children:W.wins}),g.jsx("td",{children:W.losses}),g.jsx("td",{children:W.draws}),g.jsx("td",{children:W.points})]},W.username)}return null})})]})})]})]}),g.jsxs("div",{className:"center-area",children:[g.jsx("div",{className:"game-info",children:g.jsxs("div",{className:"game-info-bar",children:[g.jsxs("span",{className:c==="blue"?"current-blue":"current-red",children:["Current: ",c==="blue"?"Blue":"Red"]}),g.jsx("span",{className:"wager-label",children:"Wager:"})," ",g.jsx("span",{children:s==="ai"?"NA":`${$} ETH`}),k&&!oe&&g.jsxs("span",{className:"mode-play",children:["Mode: ",p==="easy"?"Easy":"Hard"]}),p==="easy"&&g.jsxs("span",{className:`stockfish-status ${vt}`,children:["LawbBot: ",vt==="loading"?"Loading...":vt==="ready"?"Ready":"Failed"]}),p==="hard"&&g.jsxs("span",{className:`stockfish-status ${vt}`,children:["LawbBot: ",vt==="loading"?"Loading...":vt==="ready"?"Ready":"Failed"]}),Hr&&Vr.length>0&&g.jsxs("div",{className:"opening-suggestions",children:[g.jsx("span",{className:"opening-label",children:"Opening:"}),Vr.map((U,z)=>g.jsxs("span",{className:"opening-move",children:[U.san," (",Math.round(U.white+U.draws+U.black)," games)"]},z))]})]})}),k?g.jsxs("div",{className:"chess-main-area",children:[g.jsx("div",{className:"chessboard-container",children:g.jsxs("div",{className:"chessboard",style:{backgroundImage:`url(${ul})`},children:[Array.from({length:8},(U,z)=>g.jsx("div",{className:"board-row",children:Array.from({length:8},(W,Q)=>jb(z,Q))},z)),N&&N.show&&g.jsx("div",{className:"capture-animation",style:{position:"absolute",top:`${N.row*12.5}%`,left:`${N.col*12.5}%`,width:"12.5%",height:"12.5%",zIndex:10},children:g.jsx("img",{src:"/images/capture.gif",alt:"capture",style:{width:"100%",height:"100%"}})})]})}),g.jsxs("div",{className:"game-controls",children:[g.jsx("button",{onClick:()=>Me(!0),children:"Chess Piece Info"}),g.jsx("button",{onClick:Bb,children:"New Game"}),g.jsx("button",{onClick:Fb,children:"Back to Menu"})]}),g.jsxs("div",{className:"epic-controls",children:[g.jsxs("div",{className:"epic-toggle",children:[g.jsx("input",{type:"checkbox",id:"sound-toggle",checked:ge,onChange:U=>Fe(U.target.checked)}),g.jsx("label",{htmlFor:"sound-toggle",children:" Sound Effects"})]}),g.jsxs("div",{className:"epic-toggle",children:[g.jsx("input",{type:"checkbox",id:"victory-toggle",checked:je,onChange:U=>st(U.target.checked)}),g.jsx("label",{htmlFor:"victory-toggle",children:" Victory Celebration"})]})]})]}):oe?Mb():s==="online"?g.jsx(KL,{onClose:t,onMinimize:e,fullscreen:n}):g.jsxs("div",{className:"game-mode-panel",children:[g.jsx("h3",{className:"game-mode-title",children:"Select Game Mode"}),g.jsx("button",{className:`mode-btn ${s==="ai"?"selected":""}`,onClick:()=>i("ai"),children:"VS THE HOUSE"}),g.jsxs("div",{className:"pvp-section",children:[g.jsx("button",{className:`mode-btn ${JL?"selected":""}`,onClick:()=>i("online"),children:"PvP"}),g.jsx("img",{src:"/images/chessboard4.png",alt:"Chessboard",style:{display:"block",margin:"16px auto 0 auto",width:"180px",maxWidth:"90%"}})]}),g.jsx("button",{className:"start-btn continue-btn",onClick:()=>ee(!0),children:"Continue"}),g.jsxs("div",{className:"how-to-section",children:[g.jsx("h4",{children:"How to Play"}),g.jsxs("div",{className:"how-to-content",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Chess Basics:"})," Move pieces to capture your opponent's king. Each piece moves differently - pawns forward, knights in L-shapes, bishops diagonally, rooks horizontally/vertically, queens in all directions, kings one square at a time."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Wallet Connection:"})," Connect your wallet to track your progress and compete on the leaderboard. Your wallet address serves as your username."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Points System:"})," Win points by defeating the AI. 1 win = 10pts. 1 draw = 1 point."]})]})]})]})]}),g.jsx("div",{className:"right-sidebar",children:k?g.jsxs("div",{className:"leaderboard",children:[g.jsx("h3",{children:"Leaderboard"}),g.jsx("div",{className:"leaderboard-table",children:g.jsxs("table",{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Rank"}),g.jsx("th",{children:"Player"}),g.jsx("th",{children:"W"}),g.jsx("th",{children:"L"}),g.jsx("th",{children:"D"}),g.jsx("th",{children:"Points"})]})}),g.jsx("tbody",{children:Array.isArray(E)&&E.slice(0,10).map((U,z)=>{if(typeof U=="object"&&U!==null&&"username"in U&&"wins"in U&&"losses"in U&&"draws"in U&&"points"in U){const W=U;return g.jsxs("tr",{children:[g.jsx("td",{children:z+1}),g.jsx("td",{children:df(W.username)}),g.jsx("td",{children:W.wins}),g.jsx("td",{children:W.losses}),g.jsx("td",{children:W.draws}),g.jsx("td",{children:W.points})]},W.username)}return null})})]})})]}):g.jsx("div",{className:"piece-gallery-panel",children:ty(!1)})})]}),he&&g.jsx("div",{className:"gallery-modal-overlay",onClick:()=>Me(!1),children:g.jsxs("div",{className:"gallery-modal",onClick:U=>U.stopPropagation(),children:[g.jsx("button",{className:"close-modal-btn",onClick:()=>Me(!1),children:""}),ty(!1)]})}),Ub(),Te&&g.jsx("div",{className:"leaderboard-updated-msg",children:"Leaderboard updated!"}),$o&&je&&g.jsxs("div",{className:"victory-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.0)"},children:[g.jsx("div",{className:"balloons-container"}),g.jsx("img",{src:"/images/victory.gif",alt:"Victory",style:{width:"320px",height:"auto",zIndex:2}}),g.jsxs("div",{style:{position:"absolute",bottom:40,left:0,width:"100vw",display:"flex",justifyContent:"center",gap:24},children:[g.jsx("button",{onClick:Bb,children:"New Game"}),g.jsx("button",{onClick:Fb,children:"Back to Menu"})]})]}),YL&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"blood-overlay",children:[0,1,2,3,4,5].map(U=>g.jsx("div",{className:"blood-drip",style:{left:`${10+U*14}%`,animationDelay:`${.5+U*.3}s`,background:"linear-gradient(to bottom, #a80000 0%, #d10000 80%, #5a0000 100%)",width:`${14+Math.random()*10}px`,height:`${50+Math.random()*30}px`,opacity:.85+Math.random()*.1}},U))}),g.jsxs("div",{className:"defeat-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.0)",pointerEvents:"none"},children:[g.jsx("img",{src:"/images/loser.gif",alt:"Defeat",style:{width:"320px",height:"auto",zIndex:2}}),g.jsxs("div",{style:{position:"absolute",bottom:40,left:0,width:"100vw",display:"flex",justifyContent:"center",gap:24,pointerEvents:"none"},children:[g.jsx("button",{style:{pointerEvents:"auto",zIndex:3e3},onClick:Bb,children:"New Game"}),g.jsx("button",{style:{pointerEvents:"auto",zIndex:3e3},onClick:Fb,children:"Back to Menu"})]})]})]})]})};function HR(t,e){let n="";for(let r=0;r<8;r++){let s=0;for(let i=0;i<8;i++){const o=t[r][i];o?(s>0&&(n+=s,s=0),o>="a"&&o<="z"?n+=o.toUpperCase():o>="A"&&o<="Z"?n+=o.toLowerCase():n+=o):s++}s>0&&(n+=s),r<7&&(n+="/")}return n+=" "+(e==="blue"?"w":"b"),n+=" - - 0 1",n}const VR=()=>{const[t,e]=P.useState("singleplayer");return g.jsxs("div",{className:"chess-page",children:[g.jsxs("div",{className:"chess-header",children:[g.jsx("h1",{children:" Chess"}),g.jsxs("div",{className:"mode-toggle",children:[g.jsx("button",{className:`mode-btn ${t==="singleplayer"?"active":""}`,onClick:()=>e("singleplayer"),children:"Single Player"}),g.jsx("button",{className:`mode-btn ${t==="multiplayer"?"active":""}`,onClick:()=>e("multiplayer"),children:"Multiplayer"})]})]}),g.jsx("div",{className:"chess-content",children:t==="singleplayer"?g.jsx(BCe,{onClose:()=>{}}):g.jsx(KL,{onClose:()=>{},onMinimize:()=>{},fullscreen:!1})})]})},FCe=new zH,zCe=typeof window<"u"&&window.location.hostname.startsWith("chess."),qCe=()=>d_e("(max-width: 768px)")?g.jsx(u_e,{}):g.jsx(n_e,{});hE.createRoot(document.getElementById("root")).render(g.jsx(js.StrictMode,{children:g.jsx(nH,{config:CL.wagmiConfig,children:g.jsx(sV,{client:FCe,children:g.jsx(e_e,{children:g.jsx(J1e,{children:zCe?g.jsx(Vw,{path:"/*",element:g.jsx(VR,{})}):g.jsxs(g.Fragment,{children:[g.jsx(Vw,{path:"/",element:g.jsx(qCe,{})}),g.jsx(Vw,{path:"/chess",element:g.jsx(VR,{})})]})})})})})}));export{iSe as $,we as A,He as B,_e as C,dr as D,xp as E,ur as F,Be as G,fx as H,rp as I,Di as J,xX as K,Bt as L,Pt as M,bX as N,ue as O,ks as P,qw as Q,Ve as R,Ui as S,us as T,$g as U,Wg as V,Qn as W,uSe as X,fS as Y,see as Z,$p as _,Hw as a,zh as a$,Gn as a0,Nu as a1,wn as a2,aSe as a3,XU as a4,pS as a5,$h as a6,bn as a7,axe as a8,Cc as a9,R5 as aA,O5 as aB,Qc as aC,bp as aD,wa as aE,exe as aF,e9 as aG,hu as aH,XCe as aI,txe as aJ,w0 as aK,nxe as aL,C7 as aM,ND as aN,ZCe as aO,Tv as aP,og as aQ,v0 as aR,iv as aS,rxe as aT,x7 as aU,SN as aV,WW as aW,CY as aX,pi as aY,Fq as aZ,Bq as a_,Ao as aa,Ag as ab,Ye as ac,$n as ad,Za as ae,U5 as af,Rv as ag,b0 as ah,$A as ai,Yc as aj,QCe as ak,Ov as al,DA as am,YCe as an,KCe as ao,FD as ap,Av as aq,y0 as ar,BF as as,HF as at,sxe as au,Mz as av,ce as aw,IA as ax,Lr as ay,Fz as az,$t as b,du as b0,Cv as b1,Fr as b2,Cn as b3,xm as b4,te as c,De as d,R as e,Dt as f,aa as g,lSe as h,th as i,Rs as j,ke as k,tn as l,wbe as m,In as n,vbe as o,be as p,ln as q,cSe as r,It as s,Rj as t,Qt as u,XX as v,Vs as w,sSe as x,y2 as y,Dj as z};
