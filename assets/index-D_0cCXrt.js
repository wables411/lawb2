const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-DyCI_X21.js","assets/hmac-C0RDsQpj.js","assets/secp256k1-FEgfGVfN.js","assets/embedded-wallet-CjUshEKw.js","assets/if-defined-BD2wQnks.js","assets/index-C5_r47yY.js","assets/index-BJSiM1Qw.js","assets/ref-C5MasEGG.js","assets/index-BMPq0yYV.js","assets/index-D8jCee1i.js","assets/index-DBGe24ul.js","assets/index-B3lYho41.js","assets/index-Cb79YeWX.js","assets/index-CRwpNoGM.js","assets/index-ChbcP0o9.js","assets/email-H0eIUgJJ.js","assets/index-B8eGSm9C.js","assets/socials-CxusniCh.js","assets/index-BbivS9hn.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-Byj_JsRY.js","assets/index-jXuFHXlc.js","assets/index-BnUmo6jK.js","assets/index-_N-_dzhC.js","assets/swaps-Ds5-hK_M.js","assets/index-C2GLh4Fh.js","assets/index-CC_YCs28.js","assets/index-f-SqxWMv.js","assets/send-C5cJchLU.js","assets/index-C55yFyuv.js","assets/index-DGIlJnaY.js","assets/receive-EMwGfIiz.js","assets/index-D09brV4N.js","assets/onramp-pPGLS70C.js","assets/index-D0TEEN6n.js","assets/index-RbpgVgMV.js","assets/index-8fV7DjJi.js","assets/transactions-CGaHSdEc.js","assets/index-CGPJa0hk.js","assets/index-CeYCX2zm.js","assets/index-rQfhCeK2.js","assets/index-DqJaVeXa.js","assets/index-cJd0QKJ1.js","assets/w3m-modal-Dr10Qpdx.js"])))=>i.map(i=>d[i]);
var KV=Object.defineProperty;var G3=t=>{throw TypeError(t)};var QV=(t,e,n)=>e in t?KV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Y=(t,e,n)=>QV(t,typeof e!="symbol"?e+"":e,n),KA=(t,e,n)=>e.has(t)||G3("Cannot "+n);var E=(t,e,n)=>(KA(t,e,"read from private field"),n?n.call(t):e.get(t)),W=(t,e,n)=>e.has(t)?G3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),R=(t,e,n,r)=>(KA(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ne=(t,e,n)=>(KA(t,e,"access private method"),n);var Il=(t,e,n,r)=>({set _(s){R(t,e,s,n)},get _(){return E(t,e,r)}});function YV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function X_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var KB={exports:{}},eC={},QB={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv=Symbol.for("react.element"),JV=Symbol.for("react.portal"),ZV=Symbol.for("react.fragment"),XV=Symbol.for("react.strict_mode"),eK=Symbol.for("react.profiler"),tK=Symbol.for("react.provider"),nK=Symbol.for("react.context"),rK=Symbol.for("react.forward_ref"),sK=Symbol.for("react.suspense"),iK=Symbol.for("react.memo"),oK=Symbol.for("react.lazy"),q3=Symbol.iterator;function aK(t){return t===null||typeof t!="object"?null:(t=q3&&t[q3]||t["@@iterator"],typeof t=="function"?t:null)}var YB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JB=Object.assign,ZB={};function fy(t,e,n){this.props=t,this.context=e,this.refs=ZB,this.updater=n||YB}fy.prototype.isReactComponent={};fy.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fy.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XB(){}XB.prototype=fy.prototype;function kk(t,e,n){this.props=t,this.context=e,this.refs=ZB,this.updater=n||YB}var Ok=kk.prototype=new XB;Ok.constructor=kk;JB(Ok,fy.prototype);Ok.isPureReactComponent=!0;var V3=Array.isArray,eL=Object.prototype.hasOwnProperty,Rk={current:null},tL={key:!0,ref:!0,__self:!0,__source:!0};function nL(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)eL.call(e,r)&&!tL.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:xv,type:t,key:i,ref:o,props:s,_owner:Rk.current}}function cK(t,e){return{$$typeof:xv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dk(t){return typeof t=="object"&&t!==null&&t.$$typeof===xv}function lK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var K3=/\/+/g;function QA(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lK(""+t.key):e.toString(36)}function kE(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xv:case JV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+QA(o,0):r,V3(s)?(n="",t!=null&&(n=t.replace(K3,"$&/")+"/"),kE(s,e,n,"",function(l){return l})):s!=null&&(Dk(s)&&(s=cK(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(K3,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",V3(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+QA(i,a);o+=kE(i,e,n,c,s)}else if(c=aK(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+QA(i,a++),o+=kE(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function d1(t,e,n){if(t==null)return t;var r=[],s=0;return kE(t,r,"","",function(i){return e.call(n,i,s++)}),r}function uK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Us={current:null},OE={transition:null},dK={ReactCurrentDispatcher:Us,ReactCurrentBatchConfig:OE,ReactCurrentOwner:Rk};function rL(){throw Error("act(...) is not supported in production builds of React.")}Et.Children={map:d1,forEach:function(t,e,n){d1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return d1(t,function(){e++}),e},toArray:function(t){return d1(t,function(e){return e})||[]},only:function(t){if(!Dk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Et.Component=fy;Et.Fragment=ZV;Et.Profiler=eK;Et.PureComponent=kk;Et.StrictMode=XV;Et.Suspense=sK;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dK;Et.act=rL;Et.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=JB({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Rk.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)eL.call(e,c)&&!tL.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:xv,type:t.type,key:s,ref:i,props:r,_owner:o}};Et.createContext=function(t){return t={$$typeof:nK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tK,_context:t},t.Consumer=t};Et.createElement=nL;Et.createFactory=function(t){var e=nL.bind(null,t);return e.type=t,e};Et.createRef=function(){return{current:null}};Et.forwardRef=function(t){return{$$typeof:rK,render:t}};Et.isValidElement=Dk;Et.lazy=function(t){return{$$typeof:oK,_payload:{_status:-1,_result:t},_init:uK}};Et.memo=function(t,e){return{$$typeof:iK,type:t,compare:e===void 0?null:e}};Et.startTransition=function(t){var e=OE.transition;OE.transition={};try{t()}finally{OE.transition=e}};Et.unstable_act=rL;Et.useCallback=function(t,e){return Us.current.useCallback(t,e)};Et.useContext=function(t){return Us.current.useContext(t)};Et.useDebugValue=function(){};Et.useDeferredValue=function(t){return Us.current.useDeferredValue(t)};Et.useEffect=function(t,e){return Us.current.useEffect(t,e)};Et.useId=function(){return Us.current.useId()};Et.useImperativeHandle=function(t,e,n){return Us.current.useImperativeHandle(t,e,n)};Et.useInsertionEffect=function(t,e){return Us.current.useInsertionEffect(t,e)};Et.useLayoutEffect=function(t,e){return Us.current.useLayoutEffect(t,e)};Et.useMemo=function(t,e){return Us.current.useMemo(t,e)};Et.useReducer=function(t,e,n){return Us.current.useReducer(t,e,n)};Et.useRef=function(t){return Us.current.useRef(t)};Et.useState=function(t){return Us.current.useState(t)};Et.useSyncExternalStore=function(t,e,n){return Us.current.useSyncExternalStore(t,e,n)};Et.useTransition=function(){return Us.current.useTransition()};Et.version="18.3.1";QB.exports=Et;var O=QB.exports;const Li=qf(O),hK=YV({__proto__:null,default:Li},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fK=O,pK=Symbol.for("react.element"),gK=Symbol.for("react.fragment"),mK=Object.prototype.hasOwnProperty,yK=fK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wK={key:!0,ref:!0,__self:!0,__source:!0};function sL(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)mK.call(e,r)&&!wK.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:pK,type:t,key:i,ref:o,props:s,_owner:yK.current}}eC.Fragment=gK;eC.jsx=sL;eC.jsxs=sL;KB.exports=eC;var m=KB.exports,UI={},iL={exports:{}},Wi={},oL={exports:{}},aL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,$){var M=U.length;U.push($);e:for(;0<M;){var q=M-1>>>1,ee=U[q];if(0<s(ee,$))U[q]=$,U[M]=ee,M=q;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var $=U[0],M=U.pop();if(M!==$){U[0]=M;e:for(var q=0,ee=U.length,ce=ee>>>1;q<ce;){var se=2*(q+1)-1,ae=U[se],Ee=se+1,J=U[Ee];if(0>s(ae,M))Ee<ee&&0>s(J,ae)?(U[q]=J,U[Ee]=M,q=Ee):(U[q]=ae,U[se]=M,q=se);else if(Ee<ee&&0>s(J,M))U[q]=J,U[Ee]=M,q=Ee;else break e}}return $}function s(U,$){var M=U.sortIndex-$.sortIndex;return M!==0?M:U.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var $=n(l);$!==null;){if($.callback===null)r(l);else if($.startTime<=U)r(l),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(l)}}function _(U){if(g=!1,b(U),!p)if(n(c)!==null)p=!0,T(x);else{var $=n(l);$!==null&&L(_,$.startTime-U)}}function x(U,$){p=!1,g&&(g=!1,w(N),N=-1),f=!0;var M=h;try{for(b($),d=n(c);d!==null&&(!(d.expirationTime>$)||U&&!D());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var ee=q(d.expirationTime<=$);$=t.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(c)&&r(c),b($)}else r(c);d=n(c)}if(d!==null)var ce=!0;else{var se=n(l);se!==null&&L(_,se.startTime-$),ce=!1}return ce}finally{d=null,h=M,f=!1}}var C=!1,S=null,N=-1,A=5,P=-1;function D(){return!(t.unstable_now()-P<A)}function j(){if(S!==null){var U=t.unstable_now();P=U;var $=!0;try{$=S(!0,U)}finally{$?H():(C=!1,S=null)}}else C=!1}var H;if(typeof v=="function")H=function(){v(j)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,I=K.port2;K.port1.onmessage=j,H=function(){I.postMessage(null)}}else H=function(){y(j,0)};function T(U){S=U,C||(C=!0,H())}function L(U,$){N=y(function(){U(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,T(x))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var M=h;h=$;try{return U()}finally{h=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var M=h;h=U;try{return $()}finally{h=M}},t.unstable_scheduleCallback=function(U,$,M){var q=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?q+M:q):M=q,U){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=M+ee,U={id:u++,callback:$,priorityLevel:U,startTime:M,expirationTime:ee,sortIndex:-1},M>q?(U.sortIndex=M,e(l,U),n(c)===null&&U===n(l)&&(g?(w(N),N=-1):g=!0,L(_,M-q))):(U.sortIndex=ee,e(c,U),p||f||(p=!0,T(x))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var $=h;return function(){var M=h;h=$;try{return U.apply(this,arguments)}finally{h=M}}}})(aL);oL.exports=aL;var bK=oL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vK=O,zi=bK;function be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cL=new Set,Nw={};function Vf(t,e){Bm(t,e),Bm(t+"Capture",e)}function Bm(t,e){for(Nw[t]=e,t=0;t<e.length;t++)cL.add(e[t])}var dl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),BI=Object.prototype.hasOwnProperty,EK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q3={},Y3={};function xK(t){return BI.call(Y3,t)?!0:BI.call(Q3,t)?!1:EK.test(t)?Y3[t]=!0:(Q3[t]=!0,!1)}function _K(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CK(t,e,n,r){if(e===null||typeof e>"u"||_K(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bs(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zr[t]=new Bs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zr[e]=new Bs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zr[t]=new Bs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zr[t]=new Bs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zr[t]=new Bs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zr[t]=new Bs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zr[t]=new Bs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zr[t]=new Bs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zr[t]=new Bs(t,5,!1,t.toLowerCase(),null,!1,!1)});var $k=/[\-:]([a-z])/g;function Uk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($k,Uk);zr[e]=new Bs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($k,Uk);zr[e]=new Bs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($k,Uk);zr[e]=new Bs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zr[t]=new Bs(t,1,!1,t.toLowerCase(),null,!1,!1)});zr.xlinkHref=new Bs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zr[t]=new Bs(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bk(t,e,n,r){var s=zr.hasOwnProperty(e)?zr[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CK(e,n,s,r)&&(n=null),r||s===null?xK(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xl=vK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h1=Symbol.for("react.element"),Xp=Symbol.for("react.portal"),eg=Symbol.for("react.fragment"),Lk=Symbol.for("react.strict_mode"),LI=Symbol.for("react.profiler"),lL=Symbol.for("react.provider"),uL=Symbol.for("react.context"),Mk=Symbol.for("react.forward_ref"),MI=Symbol.for("react.suspense"),jI=Symbol.for("react.suspense_list"),jk=Symbol.for("react.memo"),nu=Symbol.for("react.lazy"),dL=Symbol.for("react.offscreen"),J3=Symbol.iterator;function Hy(t){return t===null||typeof t!="object"?null:(t=J3&&t[J3]||t["@@iterator"],typeof t=="function"?t:null)}var $n=Object.assign,YA;function I0(t){if(YA===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);YA=e&&e[1]||""}return`
`+YA+t}var JA=!1;function ZA(t,e){if(!t||JA)return"";JA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{JA=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?I0(t):""}function AK(t){switch(t.tag){case 5:return I0(t.type);case 16:return I0("Lazy");case 13:return I0("Suspense");case 19:return I0("SuspenseList");case 0:case 2:case 15:return t=ZA(t.type,!1),t;case 11:return t=ZA(t.type.render,!1),t;case 1:return t=ZA(t.type,!0),t;default:return""}}function FI(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eg:return"Fragment";case Xp:return"Portal";case LI:return"Profiler";case Lk:return"StrictMode";case MI:return"Suspense";case jI:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uL:return(t.displayName||"Context")+".Consumer";case lL:return(t._context.displayName||"Context")+".Provider";case Mk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jk:return e=t.displayName||null,e!==null?e:FI(t.type)||"Memo";case nu:e=t._payload,t=t._init;try{return FI(t(e))}catch{}}return null}function SK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FI(e);case 8:return e===Lk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IK(t){var e=hL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function f1(t){t._valueTracker||(t._valueTracker=IK(t))}function fL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bx(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zI(t,e){var n=e.checked;return $n({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Z3(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wd(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pL(t,e){e=e.checked,e!=null&&Bk(t,"checked",e,!1)}function HI(t,e){pL(t,e);var n=wd(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?WI(t,e.type,n):e.hasOwnProperty("defaultValue")&&WI(t,e.type,wd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function X3(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function WI(t,e,n){(e!=="number"||bx(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var T0=Array.isArray;function vg(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wd(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function GI(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return $n({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eD(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(be(92));if(T0(n)){if(1<n.length)throw Error(be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wd(n)}}function gL(t,e){var n=wd(e.value),r=wd(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tD(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qI(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var p1,yL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(p1=p1||document.createElement("div"),p1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=p1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pw(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Q0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TK=["Webkit","ms","Moz","O"];Object.keys(Q0).forEach(function(t){TK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Q0[e]=Q0[t]})});function wL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Q0.hasOwnProperty(t)&&Q0[t]?(""+e).trim():e+"px"}function bL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var NK=$n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function VI(t,e){if(e){if(NK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function KI(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var QI=null;function Fk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var YI=null,Eg=null,xg=null;function nD(t){if(t=Av(t)){if(typeof YI!="function")throw Error(be(280));var e=t.stateNode;e&&(e=iC(e),YI(t.stateNode,t.type,e))}}function vL(t){Eg?xg?xg.push(t):xg=[t]:Eg=t}function EL(){if(Eg){var t=Eg,e=xg;if(xg=Eg=null,nD(t),e)for(t=0;t<e.length;t++)nD(e[t])}}function xL(t,e){return t(e)}function _L(){}var XA=!1;function CL(t,e,n){if(XA)return t(e,n);XA=!0;try{return xL(t,e,n)}finally{XA=!1,(Eg!==null||xg!==null)&&(_L(),EL())}}function kw(t,e){var n=t.stateNode;if(n===null)return null;var r=iC(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(be(231,e,typeof n));return n}var JI=!1;if(dl)try{var Wy={};Object.defineProperty(Wy,"passive",{get:function(){JI=!0}}),window.addEventListener("test",Wy,Wy),window.removeEventListener("test",Wy,Wy)}catch{JI=!1}function PK(t,e,n,r,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var Y0=!1,vx=null,Ex=!1,ZI=null,kK={onError:function(t){Y0=!0,vx=t}};function OK(t,e,n,r,s,i,o,a,c){Y0=!1,vx=null,PK.apply(kK,arguments)}function RK(t,e,n,r,s,i,o,a,c){if(OK.apply(this,arguments),Y0){if(Y0){var l=vx;Y0=!1,vx=null}else throw Error(be(198));Ex||(Ex=!0,ZI=l)}}function Kf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function AL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rD(t){if(Kf(t)!==t)throw Error(be(188))}function DK(t){var e=t.alternate;if(!e){if(e=Kf(t),e===null)throw Error(be(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return rD(s),t;if(i===r)return rD(s),e;i=i.sibling}throw Error(be(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(be(189))}}if(n.alternate!==r)throw Error(be(190))}if(n.tag!==3)throw Error(be(188));return n.stateNode.current===n?t:e}function SL(t){return t=DK(t),t!==null?IL(t):null}function IL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IL(t);if(e!==null)return e;t=t.sibling}return null}var TL=zi.unstable_scheduleCallback,sD=zi.unstable_cancelCallback,$K=zi.unstable_shouldYield,UK=zi.unstable_requestPaint,qn=zi.unstable_now,BK=zi.unstable_getCurrentPriorityLevel,zk=zi.unstable_ImmediatePriority,NL=zi.unstable_UserBlockingPriority,xx=zi.unstable_NormalPriority,LK=zi.unstable_LowPriority,PL=zi.unstable_IdlePriority,tC=null,ec=null;function MK(t){if(ec&&typeof ec.onCommitFiberRoot=="function")try{ec.onCommitFiberRoot(tC,t,void 0,(t.current.flags&128)===128)}catch{}}var la=Math.clz32?Math.clz32:zK,jK=Math.log,FK=Math.LN2;function zK(t){return t>>>=0,t===0?32:31-(jK(t)/FK|0)|0}var g1=64,m1=4194304;function N0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _x(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=N0(a):(i&=o,i!==0&&(r=N0(i)))}else o=n&~s,o!==0?r=N0(o):i!==0&&(r=N0(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-la(e),s=1<<n,r|=t[n],e&=~s;return r}function HK(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WK(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-la(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=HK(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function XI(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kL(){var t=g1;return g1<<=1,!(g1&4194240)&&(g1=64),t}function eS(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _v(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-la(e),t[e]=n}function GK(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-la(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Hk(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-la(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Zt=0;function OL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RL,Wk,DL,$L,UL,eT=!1,y1=[],Xu=null,ed=null,td=null,Ow=new Map,Rw=new Map,hu=[],qK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iD(t,e){switch(t){case"focusin":case"focusout":Xu=null;break;case"dragenter":case"dragleave":ed=null;break;case"mouseover":case"mouseout":td=null;break;case"pointerover":case"pointerout":Ow.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rw.delete(e.pointerId)}}function Gy(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Av(e),e!==null&&Wk(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function VK(t,e,n,r,s){switch(e){case"focusin":return Xu=Gy(Xu,t,e,n,r,s),!0;case"dragenter":return ed=Gy(ed,t,e,n,r,s),!0;case"mouseover":return td=Gy(td,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ow.set(i,Gy(Ow.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rw.set(i,Gy(Rw.get(i)||null,t,e,n,r,s)),!0}return!1}function BL(t){var e=mh(t.target);if(e!==null){var n=Kf(e);if(n!==null){if(e=n.tag,e===13){if(e=AL(n),e!==null){t.blockedOn=e,UL(t.priority,function(){DL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function RE(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);QI=r,n.target.dispatchEvent(r),QI=null}else return e=Av(n),e!==null&&Wk(e),t.blockedOn=n,!1;e.shift()}return!0}function oD(t,e,n){RE(t)&&n.delete(e)}function KK(){eT=!1,Xu!==null&&RE(Xu)&&(Xu=null),ed!==null&&RE(ed)&&(ed=null),td!==null&&RE(td)&&(td=null),Ow.forEach(oD),Rw.forEach(oD)}function qy(t,e){t.blockedOn===e&&(t.blockedOn=null,eT||(eT=!0,zi.unstable_scheduleCallback(zi.unstable_NormalPriority,KK)))}function Dw(t){function e(s){return qy(s,t)}if(0<y1.length){qy(y1[0],t);for(var n=1;n<y1.length;n++){var r=y1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xu!==null&&qy(Xu,t),ed!==null&&qy(ed,t),td!==null&&qy(td,t),Ow.forEach(e),Rw.forEach(e),n=0;n<hu.length;n++)r=hu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hu.length&&(n=hu[0],n.blockedOn===null);)BL(n),n.blockedOn===null&&hu.shift()}var _g=xl.ReactCurrentBatchConfig,Cx=!0;function QK(t,e,n,r){var s=Zt,i=_g.transition;_g.transition=null;try{Zt=1,Gk(t,e,n,r)}finally{Zt=s,_g.transition=i}}function YK(t,e,n,r){var s=Zt,i=_g.transition;_g.transition=null;try{Zt=4,Gk(t,e,n,r)}finally{Zt=s,_g.transition=i}}function Gk(t,e,n,r){if(Cx){var s=tT(t,e,n,r);if(s===null)uS(t,e,r,Ax,n),iD(t,r);else if(VK(s,t,e,n,r))r.stopPropagation();else if(iD(t,r),e&4&&-1<qK.indexOf(t)){for(;s!==null;){var i=Av(s);if(i!==null&&RL(i),i=tT(t,e,n,r),i===null&&uS(t,e,r,Ax,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else uS(t,e,r,null,n)}}var Ax=null;function tT(t,e,n,r){if(Ax=null,t=Fk(r),t=mh(t),t!==null)if(e=Kf(t),e===null)t=null;else if(n=e.tag,n===13){if(t=AL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ax=t,null}function LL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BK()){case zk:return 1;case NL:return 4;case xx:case LK:return 16;case PL:return 536870912;default:return 16}default:return 16}}var Gu=null,qk=null,DE=null;function ML(){if(DE)return DE;var t,e=qk,n=e.length,r,s="value"in Gu?Gu.value:Gu.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return DE=s.slice(t,1<r?1-r:void 0)}function $E(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function w1(){return!0}function aD(){return!1}function Gi(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?w1:aD,this.isPropagationStopped=aD,this}return $n(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=w1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=w1)},persist:function(){},isPersistent:w1}),e}var py={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vk=Gi(py),Cv=$n({},py,{view:0,detail:0}),JK=Gi(Cv),tS,nS,Vy,nC=$n({},Cv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vy&&(Vy&&t.type==="mousemove"?(tS=t.screenX-Vy.screenX,nS=t.screenY-Vy.screenY):nS=tS=0,Vy=t),tS)},movementY:function(t){return"movementY"in t?t.movementY:nS}}),cD=Gi(nC),ZK=$n({},nC,{dataTransfer:0}),XK=Gi(ZK),eQ=$n({},Cv,{relatedTarget:0}),rS=Gi(eQ),tQ=$n({},py,{animationName:0,elapsedTime:0,pseudoElement:0}),nQ=Gi(tQ),rQ=$n({},py,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sQ=Gi(rQ),iQ=$n({},py,{data:0}),lD=Gi(iQ),oQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cQ[t])?!!e[t]:!1}function Kk(){return lQ}var uQ=$n({},Cv,{key:function(t){if(t.key){var e=oQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$E(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kk,charCode:function(t){return t.type==="keypress"?$E(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$E(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dQ=Gi(uQ),hQ=$n({},nC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uD=Gi(hQ),fQ=$n({},Cv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kk}),pQ=Gi(fQ),gQ=$n({},py,{propertyName:0,elapsedTime:0,pseudoElement:0}),mQ=Gi(gQ),yQ=$n({},nC,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wQ=Gi(yQ),bQ=[9,13,27,32],Qk=dl&&"CompositionEvent"in window,J0=null;dl&&"documentMode"in document&&(J0=document.documentMode);var vQ=dl&&"TextEvent"in window&&!J0,jL=dl&&(!Qk||J0&&8<J0&&11>=J0),dD=" ",hD=!1;function FL(t,e){switch(t){case"keyup":return bQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zL(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tg=!1;function EQ(t,e){switch(t){case"compositionend":return zL(e);case"keypress":return e.which!==32?null:(hD=!0,dD);case"textInput":return t=e.data,t===dD&&hD?null:t;default:return null}}function xQ(t,e){if(tg)return t==="compositionend"||!Qk&&FL(t,e)?(t=ML(),DE=qk=Gu=null,tg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jL&&e.locale!=="ko"?null:e.data;default:return null}}var _Q={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_Q[t.type]:e==="textarea"}function HL(t,e,n,r){vL(r),e=Sx(e,"onChange"),0<e.length&&(n=new Vk("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Z0=null,$w=null;function CQ(t){eM(t,0)}function rC(t){var e=sg(t);if(fL(e))return t}function AQ(t,e){if(t==="change")return e}var WL=!1;if(dl){var sS;if(dl){var iS="oninput"in document;if(!iS){var pD=document.createElement("div");pD.setAttribute("oninput","return;"),iS=typeof pD.oninput=="function"}sS=iS}else sS=!1;WL=sS&&(!document.documentMode||9<document.documentMode)}function gD(){Z0&&(Z0.detachEvent("onpropertychange",GL),$w=Z0=null)}function GL(t){if(t.propertyName==="value"&&rC($w)){var e=[];HL(e,$w,t,Fk(t)),CL(CQ,e)}}function SQ(t,e,n){t==="focusin"?(gD(),Z0=e,$w=n,Z0.attachEvent("onpropertychange",GL)):t==="focusout"&&gD()}function IQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rC($w)}function TQ(t,e){if(t==="click")return rC(e)}function NQ(t,e){if(t==="input"||t==="change")return rC(e)}function PQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pa=typeof Object.is=="function"?Object.is:PQ;function Uw(t,e){if(pa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!BI.call(e,s)||!pa(t[s],e[s]))return!1}return!0}function mD(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yD(t,e){var n=mD(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mD(n)}}function qL(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qL(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VL(){for(var t=window,e=bx();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bx(t.document)}return e}function Yk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kQ(t){var e=VL(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qL(n.ownerDocument.documentElement,n)){if(r!==null&&Yk(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=yD(n,i);var o=yD(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OQ=dl&&"documentMode"in document&&11>=document.documentMode,ng=null,nT=null,X0=null,rT=!1;function wD(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rT||ng==null||ng!==bx(r)||(r=ng,"selectionStart"in r&&Yk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),X0&&Uw(X0,r)||(X0=r,r=Sx(nT,"onSelect"),0<r.length&&(e=new Vk("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ng)))}function b1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rg={animationend:b1("Animation","AnimationEnd"),animationiteration:b1("Animation","AnimationIteration"),animationstart:b1("Animation","AnimationStart"),transitionend:b1("Transition","TransitionEnd")},oS={},KL={};dl&&(KL=document.createElement("div").style,"AnimationEvent"in window||(delete rg.animationend.animation,delete rg.animationiteration.animation,delete rg.animationstart.animation),"TransitionEvent"in window||delete rg.transitionend.transition);function sC(t){if(oS[t])return oS[t];if(!rg[t])return t;var e=rg[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KL)return oS[t]=e[n];return t}var QL=sC("animationend"),YL=sC("animationiteration"),JL=sC("animationstart"),ZL=sC("transitionend"),XL=new Map,bD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rd(t,e){XL.set(t,e),Vf(e,[t])}for(var aS=0;aS<bD.length;aS++){var cS=bD[aS],RQ=cS.toLowerCase(),DQ=cS[0].toUpperCase()+cS.slice(1);Rd(RQ,"on"+DQ)}Rd(QL,"onAnimationEnd");Rd(YL,"onAnimationIteration");Rd(JL,"onAnimationStart");Rd("dblclick","onDoubleClick");Rd("focusin","onFocus");Rd("focusout","onBlur");Rd(ZL,"onTransitionEnd");Bm("onMouseEnter",["mouseout","mouseover"]);Bm("onMouseLeave",["mouseout","mouseover"]);Bm("onPointerEnter",["pointerout","pointerover"]);Bm("onPointerLeave",["pointerout","pointerover"]);Vf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var P0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$Q=new Set("cancel close invalid load scroll toggle".split(" ").concat(P0));function vD(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RK(r,e,void 0,t),t.currentTarget=null}function eM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;vD(s,a,l),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;vD(s,a,l),i=c}}}if(Ex)throw t=ZI,Ex=!1,ZI=null,t}function En(t,e){var n=e[cT];n===void 0&&(n=e[cT]=new Set);var r=t+"__bubble";n.has(r)||(tM(e,t,2,!1),n.add(r))}function lS(t,e,n){var r=0;e&&(r|=4),tM(n,t,r,e)}var v1="_reactListening"+Math.random().toString(36).slice(2);function Bw(t){if(!t[v1]){t[v1]=!0,cL.forEach(function(n){n!=="selectionchange"&&($Q.has(n)||lS(n,!1,t),lS(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[v1]||(e[v1]=!0,lS("selectionchange",!1,e))}}function tM(t,e,n,r){switch(LL(e)){case 1:var s=QK;break;case 4:s=YK;break;default:s=Gk}n=s.bind(null,e,n,t),s=void 0,!JI||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function uS(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=mh(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}CL(function(){var l=i,u=Fk(n),d=[];e:{var h=XL.get(t);if(h!==void 0){var f=Vk,p=t;switch(t){case"keypress":if($E(n)===0)break e;case"keydown":case"keyup":f=dQ;break;case"focusin":p="focus",f=rS;break;case"focusout":p="blur",f=rS;break;case"beforeblur":case"afterblur":f=rS;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=cD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=XK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=pQ;break;case QL:case YL:case JL:f=nQ;break;case ZL:f=mQ;break;case"scroll":f=JK;break;case"wheel":f=wQ;break;case"copy":case"cut":case"paste":f=sQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=uD}var g=(e&4)!==0,y=!g&&t==="scroll",w=g?h!==null?h+"Capture":null:h;g=[];for(var v=l,b;v!==null;){b=v;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,w!==null&&(_=kw(v,w),_!=null&&g.push(Lw(v,_,b)))),y)break;v=v.return}0<g.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==QI&&(p=n.relatedTarget||n.fromElement)&&(mh(p)||p[hl]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=l,p=p?mh(p):null,p!==null&&(y=Kf(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=l),f!==p)){if(g=cD,_="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=uD,_="onPointerLeave",w="onPointerEnter",v="pointer"),y=f==null?h:sg(f),b=p==null?h:sg(p),h=new g(_,v+"leave",f,n,u),h.target=y,h.relatedTarget=b,_=null,mh(u)===l&&(g=new g(w,v+"enter",p,n,u),g.target=b,g.relatedTarget=y,_=g),y=_,f&&p)t:{for(g=f,w=p,v=0,b=g;b;b=hp(b))v++;for(b=0,_=w;_;_=hp(_))b++;for(;0<v-b;)g=hp(g),v--;for(;0<b-v;)w=hp(w),b--;for(;v--;){if(g===w||w!==null&&g===w.alternate)break t;g=hp(g),w=hp(w)}g=null}else g=null;f!==null&&ED(d,h,f,g,!1),p!==null&&y!==null&&ED(d,y,p,g,!0)}}e:{if(h=l?sg(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var x=AQ;else if(fD(h))if(WL)x=NQ;else{x=IQ;var C=SQ}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=TQ);if(x&&(x=x(t,l))){HL(d,x,n,u);break e}C&&C(t,h,l),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&WI(h,"number",h.value)}switch(C=l?sg(l):window,t){case"focusin":(fD(C)||C.contentEditable==="true")&&(ng=C,nT=l,X0=null);break;case"focusout":X0=nT=ng=null;break;case"mousedown":rT=!0;break;case"contextmenu":case"mouseup":case"dragend":rT=!1,wD(d,n,u);break;case"selectionchange":if(OQ)break;case"keydown":case"keyup":wD(d,n,u)}var S;if(Qk)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else tg?FL(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(jL&&n.locale!=="ko"&&(tg||N!=="onCompositionStart"?N==="onCompositionEnd"&&tg&&(S=ML()):(Gu=u,qk="value"in Gu?Gu.value:Gu.textContent,tg=!0)),C=Sx(l,N),0<C.length&&(N=new lD(N,t,null,n,u),d.push({event:N,listeners:C}),S?N.data=S:(S=zL(n),S!==null&&(N.data=S)))),(S=vQ?EQ(t,n):xQ(t,n))&&(l=Sx(l,"onBeforeInput"),0<l.length&&(u=new lD("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=S))}eM(d,e)})}function Lw(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sx(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=kw(t,n),i!=null&&r.unshift(Lw(t,i,s)),i=kw(t,e),i!=null&&r.push(Lw(t,i,s))),t=t.return}return r}function hp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ED(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,s?(c=kw(n,i),c!=null&&o.unshift(Lw(n,c,a))):s||(c=kw(n,i),c!=null&&o.push(Lw(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var UQ=/\r\n?/g,BQ=/\u0000|\uFFFD/g;function xD(t){return(typeof t=="string"?t:""+t).replace(UQ,`
`).replace(BQ,"")}function E1(t,e,n){if(e=xD(e),xD(t)!==e&&n)throw Error(be(425))}function Ix(){}var sT=null,iT=null;function oT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var aT=typeof setTimeout=="function"?setTimeout:void 0,LQ=typeof clearTimeout=="function"?clearTimeout:void 0,_D=typeof Promise=="function"?Promise:void 0,MQ=typeof queueMicrotask=="function"?queueMicrotask:typeof _D<"u"?function(t){return _D.resolve(null).then(t).catch(jQ)}:aT;function jQ(t){setTimeout(function(){throw t})}function dS(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Dw(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Dw(e)}function nd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function CD(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gy=Math.random().toString(36).slice(2),Ka="__reactFiber$"+gy,Mw="__reactProps$"+gy,hl="__reactContainer$"+gy,cT="__reactEvents$"+gy,FQ="__reactListeners$"+gy,zQ="__reactHandles$"+gy;function mh(t){var e=t[Ka];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hl]||n[Ka]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=CD(t);t!==null;){if(n=t[Ka])return n;t=CD(t)}return e}t=n,n=t.parentNode}return null}function Av(t){return t=t[Ka]||t[hl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(be(33))}function iC(t){return t[Mw]||null}var lT=[],ig=-1;function Dd(t){return{current:t}}function Cn(t){0>ig||(t.current=lT[ig],lT[ig]=null,ig--)}function yn(t,e){ig++,lT[ig]=t.current,t.current=e}var bd={},hs=Dd(bd),ui=Dd(!1),wf=bd;function Lm(t,e){var n=t.type.contextTypes;if(!n)return bd;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function di(t){return t=t.childContextTypes,t!=null}function Tx(){Cn(ui),Cn(hs)}function AD(t,e,n){if(hs.current!==bd)throw Error(be(168));yn(hs,e),yn(ui,n)}function nM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(be(108,SK(t)||"Unknown",s));return $n({},n,r)}function Nx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bd,wf=hs.current,yn(hs,t),yn(ui,ui.current),!0}function SD(t,e,n){var r=t.stateNode;if(!r)throw Error(be(169));n?(t=nM(t,e,wf),r.__reactInternalMemoizedMergedChildContext=t,Cn(ui),Cn(hs),yn(hs,t)):Cn(ui),yn(ui,n)}var Rc=null,oC=!1,hS=!1;function rM(t){Rc===null?Rc=[t]:Rc.push(t)}function HQ(t){oC=!0,rM(t)}function $d(){if(!hS&&Rc!==null){hS=!0;var t=0,e=Zt;try{var n=Rc;for(Zt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rc=null,oC=!1}catch(s){throw Rc!==null&&(Rc=Rc.slice(t+1)),TL(zk,$d),s}finally{Zt=e,hS=!1}}return null}var og=[],ag=0,Px=null,kx=0,po=[],go=0,bf=null,Xc=1,el="";function Xd(t,e){og[ag++]=kx,og[ag++]=Px,Px=t,kx=e}function sM(t,e,n){po[go++]=Xc,po[go++]=el,po[go++]=bf,bf=t;var r=Xc;t=el;var s=32-la(r)-1;r&=~(1<<s),n+=1;var i=32-la(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xc=1<<32-la(e)+s|n<<s|r,el=i+t}else Xc=1<<i|n<<s|r,el=t}function Jk(t){t.return!==null&&(Xd(t,1),sM(t,1,0))}function Zk(t){for(;t===Px;)Px=og[--ag],og[ag]=null,kx=og[--ag],og[ag]=null;for(;t===bf;)bf=po[--go],po[go]=null,el=po[--go],po[go]=null,Xc=po[--go],po[go]=null}var Mi=null,Ui=null,Tn=!1,ea=null;function iM(t,e){var n=mo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ID(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mi=t,Ui=nd(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mi=t,Ui=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bf!==null?{id:Xc,overflow:el}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mi=t,Ui=null,!0):!1;default:return!1}}function uT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dT(t){if(Tn){var e=Ui;if(e){var n=e;if(!ID(t,e)){if(uT(t))throw Error(be(418));e=nd(n.nextSibling);var r=Mi;e&&ID(t,e)?iM(r,n):(t.flags=t.flags&-4097|2,Tn=!1,Mi=t)}}else{if(uT(t))throw Error(be(418));t.flags=t.flags&-4097|2,Tn=!1,Mi=t}}}function TD(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mi=t}function x1(t){if(t!==Mi)return!1;if(!Tn)return TD(t),Tn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oT(t.type,t.memoizedProps)),e&&(e=Ui)){if(uT(t))throw oM(),Error(be(418));for(;e;)iM(t,e),e=nd(e.nextSibling)}if(TD(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ui=nd(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ui=null}}else Ui=Mi?nd(t.stateNode.nextSibling):null;return!0}function oM(){for(var t=Ui;t;)t=nd(t.nextSibling)}function Mm(){Ui=Mi=null,Tn=!1}function Xk(t){ea===null?ea=[t]:ea.push(t)}var WQ=xl.ReactCurrentBatchConfig;function Ky(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(be(309));var r=n.stateNode}if(!r)throw Error(be(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(be(284));if(!n._owner)throw Error(be(290,t))}return t}function _1(t,e){throw t=Object.prototype.toString.call(e),Error(be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ND(t){var e=t._init;return e(t._payload)}function aM(t){function e(w,v){if(t){var b=w.deletions;b===null?(w.deletions=[v],w.flags|=16):b.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=od(w,v),w.index=0,w.sibling=null,w}function i(w,v,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<v?(w.flags|=2,v):b):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,b,_){return v===null||v.tag!==6?(v=bS(b,w.mode,_),v.return=w,v):(v=s(v,b),v.return=w,v)}function c(w,v,b,_){var x=b.type;return x===eg?u(w,v,b.props.children,_,b.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===nu&&ND(x)===v.type)?(_=s(v,b.props),_.ref=Ky(w,v,b),_.return=w,_):(_=zE(b.type,b.key,b.props,null,w.mode,_),_.ref=Ky(w,v,b),_.return=w,_)}function l(w,v,b,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=vS(b,w.mode,_),v.return=w,v):(v=s(v,b.children||[]),v.return=w,v)}function u(w,v,b,_,x){return v===null||v.tag!==7?(v=lf(b,w.mode,_,x),v.return=w,v):(v=s(v,b),v.return=w,v)}function d(w,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=bS(""+v,w.mode,b),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case h1:return b=zE(v.type,v.key,v.props,null,w.mode,b),b.ref=Ky(w,null,v),b.return=w,b;case Xp:return v=vS(v,w.mode,b),v.return=w,v;case nu:var _=v._init;return d(w,_(v._payload),b)}if(T0(v)||Hy(v))return v=lf(v,w.mode,b,null),v.return=w,v;_1(w,v)}return null}function h(w,v,b,_){var x=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return x!==null?null:a(w,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case h1:return b.key===x?c(w,v,b,_):null;case Xp:return b.key===x?l(w,v,b,_):null;case nu:return x=b._init,h(w,v,x(b._payload),_)}if(T0(b)||Hy(b))return x!==null?null:u(w,v,b,_,null);_1(w,b)}return null}function f(w,v,b,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(b)||null,a(v,w,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case h1:return w=w.get(_.key===null?b:_.key)||null,c(v,w,_,x);case Xp:return w=w.get(_.key===null?b:_.key)||null,l(v,w,_,x);case nu:var C=_._init;return f(w,v,b,C(_._payload),x)}if(T0(_)||Hy(_))return w=w.get(b)||null,u(v,w,_,x,null);_1(v,_)}return null}function p(w,v,b,_){for(var x=null,C=null,S=v,N=v=0,A=null;S!==null&&N<b.length;N++){S.index>N?(A=S,S=null):A=S.sibling;var P=h(w,S,b[N],_);if(P===null){S===null&&(S=A);break}t&&S&&P.alternate===null&&e(w,S),v=i(P,v,N),C===null?x=P:C.sibling=P,C=P,S=A}if(N===b.length)return n(w,S),Tn&&Xd(w,N),x;if(S===null){for(;N<b.length;N++)S=d(w,b[N],_),S!==null&&(v=i(S,v,N),C===null?x=S:C.sibling=S,C=S);return Tn&&Xd(w,N),x}for(S=r(w,S);N<b.length;N++)A=f(S,w,N,b[N],_),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?N:A.key),v=i(A,v,N),C===null?x=A:C.sibling=A,C=A);return t&&S.forEach(function(D){return e(w,D)}),Tn&&Xd(w,N),x}function g(w,v,b,_){var x=Hy(b);if(typeof x!="function")throw Error(be(150));if(b=x.call(b),b==null)throw Error(be(151));for(var C=x=null,S=v,N=v=0,A=null,P=b.next();S!==null&&!P.done;N++,P=b.next()){S.index>N?(A=S,S=null):A=S.sibling;var D=h(w,S,P.value,_);if(D===null){S===null&&(S=A);break}t&&S&&D.alternate===null&&e(w,S),v=i(D,v,N),C===null?x=D:C.sibling=D,C=D,S=A}if(P.done)return n(w,S),Tn&&Xd(w,N),x;if(S===null){for(;!P.done;N++,P=b.next())P=d(w,P.value,_),P!==null&&(v=i(P,v,N),C===null?x=P:C.sibling=P,C=P);return Tn&&Xd(w,N),x}for(S=r(w,S);!P.done;N++,P=b.next())P=f(S,w,N,P.value,_),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?N:P.key),v=i(P,v,N),C===null?x=P:C.sibling=P,C=P);return t&&S.forEach(function(j){return e(w,j)}),Tn&&Xd(w,N),x}function y(w,v,b,_){if(typeof b=="object"&&b!==null&&b.type===eg&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case h1:e:{for(var x=b.key,C=v;C!==null;){if(C.key===x){if(x=b.type,x===eg){if(C.tag===7){n(w,C.sibling),v=s(C,b.props.children),v.return=w,w=v;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===nu&&ND(x)===C.type){n(w,C.sibling),v=s(C,b.props),v.ref=Ky(w,C,b),v.return=w,w=v;break e}n(w,C);break}else e(w,C);C=C.sibling}b.type===eg?(v=lf(b.props.children,w.mode,_,b.key),v.return=w,w=v):(_=zE(b.type,b.key,b.props,null,w.mode,_),_.ref=Ky(w,v,b),_.return=w,w=_)}return o(w);case Xp:e:{for(C=b.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(w,v.sibling),v=s(v,b.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=vS(b,w.mode,_),v.return=w,w=v}return o(w);case nu:return C=b._init,y(w,v,C(b._payload),_)}if(T0(b))return p(w,v,b,_);if(Hy(b))return g(w,v,b,_);_1(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,b),v.return=w,w=v):(n(w,v),v=bS(b,w.mode,_),v.return=w,w=v),o(w)):n(w,v)}return y}var jm=aM(!0),cM=aM(!1),Ox=Dd(null),Rx=null,cg=null,eO=null;function tO(){eO=cg=Rx=null}function nO(t){var e=Ox.current;Cn(Ox),t._currentValue=e}function hT(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Cg(t,e){Rx=t,eO=cg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ci=!0),t.firstContext=null)}function bo(t){var e=t._currentValue;if(eO!==t)if(t={context:t,memoizedValue:e,next:null},cg===null){if(Rx===null)throw Error(be(308));cg=t,Rx.dependencies={lanes:0,firstContext:t}}else cg=cg.next=t;return e}var yh=null;function rO(t){yh===null?yh=[t]:yh.push(t)}function lM(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,rO(e)):(n.next=s.next,s.next=n),e.interleaved=n,fl(t,r)}function fl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ru=!1;function sO(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rd(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ot&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,fl(t,n)}return s=r.interleaved,s===null?(e.next=e,rO(r)):(e.next=s.next,s.next=e),r.interleaved=e,fl(t,n)}function UE(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hk(t,n)}}function PD(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dx(t,e,n,r){var s=t.updateQueue;ru=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,u=l=c=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=$n({},d,h);break e;case 2:ru=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=f,c=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=d),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ef|=o,t.lanes=o,t.memoizedState=d}}function kD(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(be(191,s));s.call(r)}}}var Sv={},tc=Dd(Sv),jw=Dd(Sv),Fw=Dd(Sv);function wh(t){if(t===Sv)throw Error(be(174));return t}function iO(t,e){switch(yn(Fw,e),yn(jw,t),yn(tc,Sv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qI(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qI(e,t)}Cn(tc),yn(tc,e)}function Fm(){Cn(tc),Cn(jw),Cn(Fw)}function dM(t){wh(Fw.current);var e=wh(tc.current),n=qI(e,t.type);e!==n&&(yn(jw,t),yn(tc,n))}function oO(t){jw.current===t&&(Cn(tc),Cn(jw))}var kn=Dd(0);function $x(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fS=[];function aO(){for(var t=0;t<fS.length;t++)fS[t]._workInProgressVersionPrimary=null;fS.length=0}var BE=xl.ReactCurrentDispatcher,pS=xl.ReactCurrentBatchConfig,vf=0,Dn=null,ar=null,wr=null,Ux=!1,ew=!1,zw=0,GQ=0;function Yr(){throw Error(be(321))}function cO(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pa(t[n],e[n]))return!1;return!0}function lO(t,e,n,r,s,i){if(vf=i,Dn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,BE.current=t===null||t.memoizedState===null?QQ:YQ,t=n(r,s),ew){i=0;do{if(ew=!1,zw=0,25<=i)throw Error(be(301));i+=1,wr=ar=null,e.updateQueue=null,BE.current=JQ,t=n(r,s)}while(ew)}if(BE.current=Bx,e=ar!==null&&ar.next!==null,vf=0,wr=ar=Dn=null,Ux=!1,e)throw Error(be(300));return t}function uO(){var t=zw!==0;return zw=0,t}function Pa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Dn.memoizedState=wr=t:wr=wr.next=t,wr}function vo(){if(ar===null){var t=Dn.alternate;t=t!==null?t.memoizedState:null}else t=ar.next;var e=wr===null?Dn.memoizedState:wr.next;if(e!==null)wr=e,ar=t;else{if(t===null)throw Error(be(310));ar=t,t={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},wr===null?Dn.memoizedState=wr=t:wr=wr.next=t}return wr}function Hw(t,e){return typeof e=="function"?e(t):e}function gS(t){var e=vo(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=ar,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,l=i;do{var u=l.lane;if((vf&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,Dn.lanes|=u,Ef|=u}l=l.next}while(l!==null&&l!==i);c===null?o=r:c.next=a,pa(r,e.memoizedState)||(ci=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Dn.lanes|=i,Ef|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mS(t){var e=vo(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);pa(i,e.memoizedState)||(ci=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function hM(){}function fM(t,e){var n=Dn,r=vo(),s=e(),i=!pa(r.memoizedState,s);if(i&&(r.memoizedState=s,ci=!0),r=r.queue,dO(mM.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||wr!==null&&wr.memoizedState.tag&1){if(n.flags|=2048,Ww(9,gM.bind(null,n,r,s,e),void 0,null),Cr===null)throw Error(be(349));vf&30||pM(n,e,s)}return s}function pM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Dn.updateQueue,e===null?(e={lastEffect:null,stores:null},Dn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gM(t,e,n,r){e.value=n,e.getSnapshot=r,yM(e)&&wM(t)}function mM(t,e,n){return n(function(){yM(e)&&wM(t)})}function yM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pa(t,n)}catch{return!0}}function wM(t){var e=fl(t,1);e!==null&&ua(e,t,1,-1)}function OD(t){var e=Pa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hw,lastRenderedState:t},e.queue=t,t=t.dispatch=KQ.bind(null,Dn,t),[e.memoizedState,t]}function Ww(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Dn.updateQueue,e===null?(e={lastEffect:null,stores:null},Dn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bM(){return vo().memoizedState}function LE(t,e,n,r){var s=Pa();Dn.flags|=t,s.memoizedState=Ww(1|e,n,void 0,r===void 0?null:r)}function aC(t,e,n,r){var s=vo();r=r===void 0?null:r;var i=void 0;if(ar!==null){var o=ar.memoizedState;if(i=o.destroy,r!==null&&cO(r,o.deps)){s.memoizedState=Ww(e,n,i,r);return}}Dn.flags|=t,s.memoizedState=Ww(1|e,n,i,r)}function RD(t,e){return LE(8390656,8,t,e)}function dO(t,e){return aC(2048,8,t,e)}function vM(t,e){return aC(4,2,t,e)}function EM(t,e){return aC(4,4,t,e)}function xM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _M(t,e,n){return n=n!=null?n.concat([t]):null,aC(4,4,xM.bind(null,e,t),n)}function hO(){}function CM(t,e){var n=vo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cO(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AM(t,e){var n=vo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cO(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SM(t,e,n){return vf&21?(pa(n,e)||(n=kL(),Dn.lanes|=n,Ef|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ci=!0),t.memoizedState=n)}function qQ(t,e){var n=Zt;Zt=n!==0&&4>n?n:4,t(!0);var r=pS.transition;pS.transition={};try{t(!1),e()}finally{Zt=n,pS.transition=r}}function IM(){return vo().memoizedState}function VQ(t,e,n){var r=id(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TM(t))NM(e,n);else if(n=lM(t,e,n,r),n!==null){var s=Ps();ua(n,t,r,s),PM(n,e,r)}}function KQ(t,e,n){var r=id(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TM(t))NM(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,pa(a,o)){var c=e.interleaved;c===null?(s.next=s,rO(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=lM(t,e,s,r),n!==null&&(s=Ps(),ua(n,t,r,s),PM(n,e,r))}}function TM(t){var e=t.alternate;return t===Dn||e!==null&&e===Dn}function NM(t,e){ew=Ux=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function PM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hk(t,n)}}var Bx={readContext:bo,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useInsertionEffect:Yr,useLayoutEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useMutableSource:Yr,useSyncExternalStore:Yr,useId:Yr,unstable_isNewReconciler:!1},QQ={readContext:bo,useCallback:function(t,e){return Pa().memoizedState=[t,e===void 0?null:e],t},useContext:bo,useEffect:RD,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,LE(4194308,4,xM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return LE(4194308,4,t,e)},useInsertionEffect:function(t,e){return LE(4,2,t,e)},useMemo:function(t,e){var n=Pa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pa();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=VQ.bind(null,Dn,t),[r.memoizedState,t]},useRef:function(t){var e=Pa();return t={current:t},e.memoizedState=t},useState:OD,useDebugValue:hO,useDeferredValue:function(t){return Pa().memoizedState=t},useTransition:function(){var t=OD(!1),e=t[0];return t=qQ.bind(null,t[1]),Pa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Dn,s=Pa();if(Tn){if(n===void 0)throw Error(be(407));n=n()}else{if(n=e(),Cr===null)throw Error(be(349));vf&30||pM(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,RD(mM.bind(null,r,i,t),[t]),r.flags|=2048,Ww(9,gM.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Pa(),e=Cr.identifierPrefix;if(Tn){var n=el,r=Xc;n=(r&~(1<<32-la(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zw++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GQ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YQ={readContext:bo,useCallback:CM,useContext:bo,useEffect:dO,useImperativeHandle:_M,useInsertionEffect:vM,useLayoutEffect:EM,useMemo:AM,useReducer:gS,useRef:bM,useState:function(){return gS(Hw)},useDebugValue:hO,useDeferredValue:function(t){var e=vo();return SM(e,ar.memoizedState,t)},useTransition:function(){var t=gS(Hw)[0],e=vo().memoizedState;return[t,e]},useMutableSource:hM,useSyncExternalStore:fM,useId:IM,unstable_isNewReconciler:!1},JQ={readContext:bo,useCallback:CM,useContext:bo,useEffect:dO,useImperativeHandle:_M,useInsertionEffect:vM,useLayoutEffect:EM,useMemo:AM,useReducer:mS,useRef:bM,useState:function(){return mS(Hw)},useDebugValue:hO,useDeferredValue:function(t){var e=vo();return ar===null?e.memoizedState=t:SM(e,ar.memoizedState,t)},useTransition:function(){var t=mS(Hw)[0],e=vo().memoizedState;return[t,e]},useMutableSource:hM,useSyncExternalStore:fM,useId:IM,unstable_isNewReconciler:!1};function zo(t,e){if(t&&t.defaultProps){e=$n({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fT(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$n({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cC={isMounted:function(t){return(t=t._reactInternals)?Kf(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ps(),s=id(t),i=rl(r,s);i.payload=e,n!=null&&(i.callback=n),e=rd(t,i,s),e!==null&&(ua(e,t,s,r),UE(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ps(),s=id(t),i=rl(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=rd(t,i,s),e!==null&&(ua(e,t,s,r),UE(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ps(),r=id(t),s=rl(n,r);s.tag=2,e!=null&&(s.callback=e),e=rd(t,s,r),e!==null&&(ua(e,t,r,n),UE(e,t,r))}};function DD(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Uw(n,r)||!Uw(s,i):!0}function kM(t,e,n){var r=!1,s=bd,i=e.contextType;return typeof i=="object"&&i!==null?i=bo(i):(s=di(e)?wf:hs.current,r=e.contextTypes,i=(r=r!=null)?Lm(t,s):bd),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cC,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function $D(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cC.enqueueReplaceState(e,e.state,null)}function pT(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},sO(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=bo(i):(i=di(e)?wf:hs.current,s.context=Lm(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(fT(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&cC.enqueueReplaceState(s,s.state,null),Dx(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zm(t,e){try{var n="",r=e;do n+=AK(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function yS(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gT(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZQ=typeof WeakMap=="function"?WeakMap:Map;function OM(t,e,n){n=rl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mx||(Mx=!0,AT=r),gT(t,e)},n}function RM(t,e,n){n=rl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){gT(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gT(t,e),typeof r!="function"&&(sd===null?sd=new Set([this]):sd.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function UD(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZQ;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=hY.bind(null,t,e,n),e.then(t,t))}function BD(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function LD(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rl(-1,1),e.tag=2,rd(n,e,1))),n.lanes|=1),t)}var XQ=xl.ReactCurrentOwner,ci=!1;function Es(t,e,n,r){e.child=t===null?cM(e,null,n,r):jm(e,t.child,n,r)}function MD(t,e,n,r,s){n=n.render;var i=e.ref;return Cg(e,s),r=lO(t,e,n,r,i,s),n=uO(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pl(t,e,s)):(Tn&&n&&Jk(e),e.flags|=1,Es(t,e,r,s),e.child)}function jD(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!vO(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,DM(t,e,i,r,s)):(t=zE(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Uw,n(o,r)&&t.ref===e.ref)return pl(t,e,s)}return e.flags|=1,t=od(i,r),t.ref=e.ref,t.return=e,e.child=t}function DM(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Uw(i,r)&&t.ref===e.ref)if(ci=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ci=!0);else return e.lanes=t.lanes,pl(t,e,s)}return mT(t,e,n,r,s)}function $M(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn(ug,Oi),Oi|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yn(ug,Oi),Oi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,yn(ug,Oi),Oi|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,yn(ug,Oi),Oi|=r;return Es(t,e,s,n),e.child}function UM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mT(t,e,n,r,s){var i=di(n)?wf:hs.current;return i=Lm(e,i),Cg(e,s),n=lO(t,e,n,r,i,s),r=uO(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pl(t,e,s)):(Tn&&r&&Jk(e),e.flags|=1,Es(t,e,n,s),e.child)}function FD(t,e,n,r,s){if(di(n)){var i=!0;Nx(e)}else i=!1;if(Cg(e,s),e.stateNode===null)ME(t,e),kM(e,n,r),pT(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=bo(l):(l=di(n)?wf:hs.current,l=Lm(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&$D(e,o,r,l),ru=!1;var h=e.memoizedState;o.state=h,Dx(e,r,o,s),c=e.memoizedState,a!==r||h!==c||ui.current||ru?(typeof u=="function"&&(fT(e,n,u,r),c=e.memoizedState),(a=ru||DD(e,n,a,r,h,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uM(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:zo(e.type,a),o.props=l,d=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=bo(c):(c=di(n)?wf:hs.current,c=Lm(e,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==c)&&$D(e,o,r,c),ru=!1,h=e.memoizedState,o.state=h,Dx(e,r,o,s);var p=e.memoizedState;a!==d||h!==p||ui.current||ru?(typeof f=="function"&&(fT(e,n,f,r),p=e.memoizedState),(l=ru||DD(e,n,l,r,h,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return yT(t,e,n,r,i,s)}function yT(t,e,n,r,s,i){UM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&SD(e,n,!1),pl(t,e,i);r=e.stateNode,XQ.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=jm(e,t.child,null,i),e.child=jm(e,null,a,i)):Es(t,e,a,i),e.memoizedState=r.state,s&&SD(e,n,!0),e.child}function BM(t){var e=t.stateNode;e.pendingContext?AD(t,e.pendingContext,e.pendingContext!==e.context):e.context&&AD(t,e.context,!1),iO(t,e.containerInfo)}function zD(t,e,n,r,s){return Mm(),Xk(s),e.flags|=256,Es(t,e,n,r),e.child}var wT={dehydrated:null,treeContext:null,retryLane:0};function bT(t){return{baseLanes:t,cachePool:null,transitions:null}}function LM(t,e,n){var r=e.pendingProps,s=kn.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),yn(kn,s&1),t===null)return dT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=dC(o,r,0,null),t=lf(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=bT(n),e.memoizedState=wT,t):fO(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return eY(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=od(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=od(a,i):(i=lf(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?bT(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=wT,r}return i=t.child,t=i.sibling,r=od(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fO(t,e){return e=dC({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function C1(t,e,n,r){return r!==null&&Xk(r),jm(e,t.child,null,n),t=fO(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eY(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=yS(Error(be(422))),C1(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=dC({mode:"visible",children:r.children},s,0,null),i=lf(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&jm(e,t.child,null,o),e.child.memoizedState=bT(o),e.memoizedState=wT,i);if(!(e.mode&1))return C1(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(be(419)),r=yS(i,r,void 0),C1(t,e,o,r)}if(a=(o&t.childLanes)!==0,ci||a){if(r=Cr,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fl(t,s),ua(r,t,s,-1))}return bO(),r=yS(Error(be(421))),C1(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=fY.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ui=nd(s.nextSibling),Mi=e,Tn=!0,ea=null,t!==null&&(po[go++]=Xc,po[go++]=el,po[go++]=bf,Xc=t.id,el=t.overflow,bf=e),e=fO(e,r.children),e.flags|=4096,e)}function HD(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hT(t.return,e,n)}function wS(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function MM(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Es(t,e,r.children,n),r=kn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&HD(t,n,e);else if(t.tag===19)HD(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yn(kn,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&$x(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),wS(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&$x(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}wS(e,!0,n,null,i);break;case"together":wS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ME(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ef|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(be(153));if(e.child!==null){for(t=e.child,n=od(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=od(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tY(t,e,n){switch(e.tag){case 3:BM(e),Mm();break;case 5:dM(e);break;case 1:di(e.type)&&Nx(e);break;case 4:iO(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;yn(Ox,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yn(kn,kn.current&1),e.flags|=128,null):n&e.child.childLanes?LM(t,e,n):(yn(kn,kn.current&1),t=pl(t,e,n),t!==null?t.sibling:null);yn(kn,kn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return MM(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),yn(kn,kn.current),r)break;return null;case 22:case 23:return e.lanes=0,$M(t,e,n)}return pl(t,e,n)}var jM,vT,FM,zM;jM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vT=function(){};FM=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,wh(tc.current);var i=null;switch(n){case"input":s=zI(t,s),r=zI(t,r),i=[];break;case"select":s=$n({},s,{value:void 0}),r=$n({},r,{value:void 0}),i=[];break;case"textarea":s=GI(t,s),r=GI(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ix)}VI(n,r);var o;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Nw.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var c=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Nw.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&En("scroll",t),i||a===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};zM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qy(t,e){if(!Tn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nY(t,e,n){var r=e.pendingProps;switch(Zk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(e),null;case 1:return di(e.type)&&Tx(),Jr(e),null;case 3:return r=e.stateNode,Fm(),Cn(ui),Cn(hs),aO(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(x1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ea!==null&&(TT(ea),ea=null))),vT(t,e),Jr(e),null;case 5:oO(e);var s=wh(Fw.current);if(n=e.type,t!==null&&e.stateNode!=null)FM(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(be(166));return Jr(e),null}if(t=wh(tc.current),x1(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ka]=e,r[Mw]=i,t=(e.mode&1)!==0,n){case"dialog":En("cancel",r),En("close",r);break;case"iframe":case"object":case"embed":En("load",r);break;case"video":case"audio":for(s=0;s<P0.length;s++)En(P0[s],r);break;case"source":En("error",r);break;case"img":case"image":case"link":En("error",r),En("load",r);break;case"details":En("toggle",r);break;case"input":Z3(r,i),En("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},En("invalid",r);break;case"textarea":eD(r,i),En("invalid",r)}VI(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&E1(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&E1(r.textContent,a,t),s=["children",""+a]):Nw.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&En("scroll",r)}switch(n){case"input":f1(r),X3(r,i,!0);break;case"textarea":f1(r),tD(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ix)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ka]=e,t[Mw]=r,jM(t,e,!1,!1),e.stateNode=t;e:{switch(o=KI(n,r),n){case"dialog":En("cancel",t),En("close",t),s=r;break;case"iframe":case"object":case"embed":En("load",t),s=r;break;case"video":case"audio":for(s=0;s<P0.length;s++)En(P0[s],t);s=r;break;case"source":En("error",t),s=r;break;case"img":case"image":case"link":En("error",t),En("load",t),s=r;break;case"details":En("toggle",t),s=r;break;case"input":Z3(t,r),s=zI(t,r),En("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=$n({},r,{value:void 0}),En("invalid",t);break;case"textarea":eD(t,r),s=GI(t,r),En("invalid",t);break;default:s=r}VI(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?bL(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yL(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Pw(t,c):typeof c=="number"&&Pw(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nw.hasOwnProperty(i)?c!=null&&i==="onScroll"&&En("scroll",t):c!=null&&Bk(t,i,c,o))}switch(n){case"input":f1(t),X3(t,r,!1);break;case"textarea":f1(t),tD(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wd(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?vg(t,!!r.multiple,i,!1):r.defaultValue!=null&&vg(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ix)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jr(e),null;case 6:if(t&&e.stateNode!=null)zM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(be(166));if(n=wh(Fw.current),wh(tc.current),x1(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ka]=e,(i=r.nodeValue!==n)&&(t=Mi,t!==null))switch(t.tag){case 3:E1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&E1(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ka]=e,e.stateNode=r}return Jr(e),null;case 13:if(Cn(kn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Tn&&Ui!==null&&e.mode&1&&!(e.flags&128))oM(),Mm(),e.flags|=98560,i=!1;else if(i=x1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(be(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(be(317));i[Ka]=e}else Mm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jr(e),i=!1}else ea!==null&&(TT(ea),ea=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kn.current&1?ur===0&&(ur=3):bO())),e.updateQueue!==null&&(e.flags|=4),Jr(e),null);case 4:return Fm(),vT(t,e),t===null&&Bw(e.stateNode.containerInfo),Jr(e),null;case 10:return nO(e.type._context),Jr(e),null;case 17:return di(e.type)&&Tx(),Jr(e),null;case 19:if(Cn(kn),i=e.memoizedState,i===null)return Jr(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Qy(i,!1);else{if(ur!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$x(t),o!==null){for(e.flags|=128,Qy(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yn(kn,kn.current&1|2),e.child}t=t.sibling}i.tail!==null&&qn()>Hm&&(e.flags|=128,r=!0,Qy(i,!1),e.lanes=4194304)}else{if(!r)if(t=$x(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qy(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Tn)return Jr(e),null}else 2*qn()-i.renderingStartTime>Hm&&n!==1073741824&&(e.flags|=128,r=!0,Qy(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=qn(),e.sibling=null,n=kn.current,yn(kn,r?n&1|2:n&1),e):(Jr(e),null);case 22:case 23:return wO(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Oi&1073741824&&(Jr(e),e.subtreeFlags&6&&(e.flags|=8192)):Jr(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function rY(t,e){switch(Zk(e),e.tag){case 1:return di(e.type)&&Tx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fm(),Cn(ui),Cn(hs),aO(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return oO(e),null;case 13:if(Cn(kn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(be(340));Mm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Cn(kn),null;case 4:return Fm(),null;case 10:return nO(e.type._context),null;case 22:case 23:return wO(),null;case 24:return null;default:return null}}var A1=!1,us=!1,sY=typeof WeakSet=="function"?WeakSet:Set,ze=null;function lg(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mn(t,e,r)}else n.current=null}function ET(t,e,n){try{n()}catch(r){Mn(t,e,r)}}var WD=!1;function iY(t,e){if(sT=Cx,t=VL(),Yk(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++l===s&&(a=o),h===i&&++u===r&&(c=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(iT={focusedElem:t,selectionRange:n},Cx=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){e=ze;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:zo(e.type,g),y);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(_){Mn(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}return p=WD,WD=!1,p}function tw(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ET(e,n,i)}s=s.next}while(s!==r)}}function lC(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xT(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HM(t){var e=t.alternate;e!==null&&(t.alternate=null,HM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ka],delete e[Mw],delete e[cT],delete e[FQ],delete e[zQ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WM(t){return t.tag===5||t.tag===3||t.tag===4}function GD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _T(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ix));else if(r!==4&&(t=t.child,t!==null))for(_T(t,e,n),t=t.sibling;t!==null;)_T(t,e,n),t=t.sibling}function CT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(CT(t,e,n),t=t.sibling;t!==null;)CT(t,e,n),t=t.sibling}var Ur=null,Zo=!1;function Tl(t,e,n){for(n=n.child;n!==null;)GM(t,e,n),n=n.sibling}function GM(t,e,n){if(ec&&typeof ec.onCommitFiberUnmount=="function")try{ec.onCommitFiberUnmount(tC,n)}catch{}switch(n.tag){case 5:us||lg(n,e);case 6:var r=Ur,s=Zo;Ur=null,Tl(t,e,n),Ur=r,Zo=s,Ur!==null&&(Zo?(t=Ur,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ur.removeChild(n.stateNode));break;case 18:Ur!==null&&(Zo?(t=Ur,n=n.stateNode,t.nodeType===8?dS(t.parentNode,n):t.nodeType===1&&dS(t,n),Dw(t)):dS(Ur,n.stateNode));break;case 4:r=Ur,s=Zo,Ur=n.stateNode.containerInfo,Zo=!0,Tl(t,e,n),Ur=r,Zo=s;break;case 0:case 11:case 14:case 15:if(!us&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ET(n,e,o),s=s.next}while(s!==r)}Tl(t,e,n);break;case 1:if(!us&&(lg(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Mn(n,e,a)}Tl(t,e,n);break;case 21:Tl(t,e,n);break;case 22:n.mode&1?(us=(r=us)||n.memoizedState!==null,Tl(t,e,n),us=r):Tl(t,e,n);break;default:Tl(t,e,n)}}function qD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sY),e.forEach(function(r){var s=pY.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Po(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ur=a.stateNode,Zo=!1;break e;case 3:Ur=a.stateNode.containerInfo,Zo=!0;break e;case 4:Ur=a.stateNode.containerInfo,Zo=!0;break e}a=a.return}if(Ur===null)throw Error(be(160));GM(i,o,s),Ur=null,Zo=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){Mn(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qM(e,t),e=e.sibling}function qM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Po(e,t),xa(t),r&4){try{tw(3,t,t.return),lC(3,t)}catch(g){Mn(t,t.return,g)}try{tw(5,t,t.return)}catch(g){Mn(t,t.return,g)}}break;case 1:Po(e,t),xa(t),r&512&&n!==null&&lg(n,n.return);break;case 5:if(Po(e,t),xa(t),r&512&&n!==null&&lg(n,n.return),t.flags&32){var s=t.stateNode;try{Pw(s,"")}catch(g){Mn(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&pL(s,i),KI(a,o);var l=KI(a,i);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?bL(s,d):u==="dangerouslySetInnerHTML"?yL(s,d):u==="children"?Pw(s,d):Bk(s,u,d,l)}switch(a){case"input":HI(s,i);break;case"textarea":gL(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?vg(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?vg(s,!!i.multiple,i.defaultValue,!0):vg(s,!!i.multiple,i.multiple?[]:"",!1))}s[Mw]=i}catch(g){Mn(t,t.return,g)}}break;case 6:if(Po(e,t),xa(t),r&4){if(t.stateNode===null)throw Error(be(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Mn(t,t.return,g)}}break;case 3:if(Po(e,t),xa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dw(e.containerInfo)}catch(g){Mn(t,t.return,g)}break;case 4:Po(e,t),xa(t);break;case 13:Po(e,t),xa(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mO=qn())),r&4&&qD(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(us=(l=us)||u,Po(e,t),us=l):Po(e,t),xa(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(ze=t,u=t.child;u!==null;){for(d=ze=u;ze!==null;){switch(h=ze,f=h.child,h.tag){case 0:case 11:case 14:case 15:tw(4,h,h.return);break;case 1:lg(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Mn(r,n,g)}}break;case 5:lg(h,h.return);break;case 22:if(h.memoizedState!==null){KD(d);continue}}f!==null?(f.return=h,ze=f):KD(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=wL("display",o))}catch(g){Mn(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Mn(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Po(e,t),xa(t),r&4&&qD(t);break;case 21:break;default:Po(e,t),xa(t)}}function xa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(WM(n)){var r=n;break e}n=n.return}throw Error(be(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pw(s,""),r.flags&=-33);var i=GD(t);CT(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=GD(t);_T(t,a,o);break;default:throw Error(be(161))}}catch(c){Mn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oY(t,e,n){ze=t,VM(t)}function VM(t,e,n){for(var r=(t.mode&1)!==0;ze!==null;){var s=ze,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||A1;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||us;a=A1;var l=us;if(A1=o,(us=c)&&!l)for(ze=s;ze!==null;)o=ze,c=o.child,o.tag===22&&o.memoizedState!==null?QD(s):c!==null?(c.return=o,ze=c):QD(s);for(;i!==null;)ze=i,VM(i),i=i.sibling;ze=s,A1=a,us=l}VD(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ze=i):VD(t)}}function VD(t){for(;ze!==null;){var e=ze;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:us||lC(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!us)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:zo(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&kD(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kD(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Dw(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}us||e.flags&512&&xT(e)}catch(h){Mn(e,e.return,h)}}if(e===t){ze=null;break}if(n=e.sibling,n!==null){n.return=e.return,ze=n;break}ze=e.return}}function KD(t){for(;ze!==null;){var e=ze;if(e===t){ze=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ze=n;break}ze=e.return}}function QD(t){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lC(4,e)}catch(c){Mn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Mn(e,s,c)}}var i=e.return;try{xT(e)}catch(c){Mn(e,i,c)}break;case 5:var o=e.return;try{xT(e)}catch(c){Mn(e,o,c)}}}catch(c){Mn(e,e.return,c)}if(e===t){ze=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ze=a;break}ze=e.return}}var aY=Math.ceil,Lx=xl.ReactCurrentDispatcher,pO=xl.ReactCurrentOwner,wo=xl.ReactCurrentBatchConfig,Ot=0,Cr=null,tr=null,jr=0,Oi=0,ug=Dd(0),ur=0,Gw=null,Ef=0,uC=0,gO=0,nw=null,ii=null,mO=0,Hm=1/0,Nc=null,Mx=!1,AT=null,sd=null,S1=!1,qu=null,jx=0,rw=0,ST=null,jE=-1,FE=0;function Ps(){return Ot&6?qn():jE!==-1?jE:jE=qn()}function id(t){return t.mode&1?Ot&2&&jr!==0?jr&-jr:WQ.transition!==null?(FE===0&&(FE=kL()),FE):(t=Zt,t!==0||(t=window.event,t=t===void 0?16:LL(t.type)),t):1}function ua(t,e,n,r){if(50<rw)throw rw=0,ST=null,Error(be(185));_v(t,n,r),(!(Ot&2)||t!==Cr)&&(t===Cr&&(!(Ot&2)&&(uC|=n),ur===4&&fu(t,jr)),hi(t,r),n===1&&Ot===0&&!(e.mode&1)&&(Hm=qn()+500,oC&&$d()))}function hi(t,e){var n=t.callbackNode;WK(t,e);var r=_x(t,t===Cr?jr:0);if(r===0)n!==null&&sD(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sD(n),e===1)t.tag===0?HQ(YD.bind(null,t)):rM(YD.bind(null,t)),MQ(function(){!(Ot&6)&&$d()}),n=null;else{switch(OL(r)){case 1:n=zk;break;case 4:n=NL;break;case 16:n=xx;break;case 536870912:n=PL;break;default:n=xx}n=tj(n,KM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function KM(t,e){if(jE=-1,FE=0,Ot&6)throw Error(be(327));var n=t.callbackNode;if(Ag()&&t.callbackNode!==n)return null;var r=_x(t,t===Cr?jr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fx(t,r);else{e=r;var s=Ot;Ot|=2;var i=YM();(Cr!==t||jr!==e)&&(Nc=null,Hm=qn()+500,cf(t,e));do try{uY();break}catch(a){QM(t,a)}while(!0);tO(),Lx.current=i,Ot=s,tr!==null?e=0:(Cr=null,jr=0,e=ur)}if(e!==0){if(e===2&&(s=XI(t),s!==0&&(r=s,e=IT(t,s))),e===1)throw n=Gw,cf(t,0),fu(t,r),hi(t,qn()),n;if(e===6)fu(t,r);else{if(s=t.current.alternate,!(r&30)&&!cY(s)&&(e=Fx(t,r),e===2&&(i=XI(t),i!==0&&(r=i,e=IT(t,i))),e===1))throw n=Gw,cf(t,0),fu(t,r),hi(t,qn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(be(345));case 2:eh(t,ii,Nc);break;case 3:if(fu(t,r),(r&130023424)===r&&(e=mO+500-qn(),10<e)){if(_x(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ps(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=aT(eh.bind(null,t,ii,Nc),e);break}eh(t,ii,Nc);break;case 4:if(fu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-la(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=qn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aY(r/1960))-r,10<r){t.timeoutHandle=aT(eh.bind(null,t,ii,Nc),r);break}eh(t,ii,Nc);break;case 5:eh(t,ii,Nc);break;default:throw Error(be(329))}}}return hi(t,qn()),t.callbackNode===n?KM.bind(null,t):null}function IT(t,e){var n=nw;return t.current.memoizedState.isDehydrated&&(cf(t,e).flags|=256),t=Fx(t,e),t!==2&&(e=ii,ii=n,e!==null&&TT(e)),t}function TT(t){ii===null?ii=t:ii.push.apply(ii,t)}function cY(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!pa(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fu(t,e){for(e&=~gO,e&=~uC,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-la(e),r=1<<n;t[n]=-1,e&=~r}}function YD(t){if(Ot&6)throw Error(be(327));Ag();var e=_x(t,0);if(!(e&1))return hi(t,qn()),null;var n=Fx(t,e);if(t.tag!==0&&n===2){var r=XI(t);r!==0&&(e=r,n=IT(t,r))}if(n===1)throw n=Gw,cf(t,0),fu(t,e),hi(t,qn()),n;if(n===6)throw Error(be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,eh(t,ii,Nc),hi(t,qn()),null}function yO(t,e){var n=Ot;Ot|=1;try{return t(e)}finally{Ot=n,Ot===0&&(Hm=qn()+500,oC&&$d())}}function xf(t){qu!==null&&qu.tag===0&&!(Ot&6)&&Ag();var e=Ot;Ot|=1;var n=wo.transition,r=Zt;try{if(wo.transition=null,Zt=1,t)return t()}finally{Zt=r,wo.transition=n,Ot=e,!(Ot&6)&&$d()}}function wO(){Oi=ug.current,Cn(ug)}function cf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LQ(n)),tr!==null)for(n=tr.return;n!==null;){var r=n;switch(Zk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tx();break;case 3:Fm(),Cn(ui),Cn(hs),aO();break;case 5:oO(r);break;case 4:Fm();break;case 13:Cn(kn);break;case 19:Cn(kn);break;case 10:nO(r.type._context);break;case 22:case 23:wO()}n=n.return}if(Cr=t,tr=t=od(t.current,null),jr=Oi=e,ur=0,Gw=null,gO=uC=Ef=0,ii=nw=null,yh!==null){for(e=0;e<yh.length;e++)if(n=yh[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}yh=null}return t}function QM(t,e){do{var n=tr;try{if(tO(),BE.current=Bx,Ux){for(var r=Dn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ux=!1}if(vf=0,wr=ar=Dn=null,ew=!1,zw=0,pO.current=null,n===null||n.return===null){ur=1,Gw=e,tr=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=jr,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=BD(o);if(f!==null){f.flags&=-257,LD(f,o,a,i,e),f.mode&1&&UD(i,l,e),e=f,c=l;var p=e.updateQueue;if(p===null){var g=new Set;g.add(c),e.updateQueue=g}else p.add(c);break e}else{if(!(e&1)){UD(i,l,e),bO();break e}c=Error(be(426))}}else if(Tn&&a.mode&1){var y=BD(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),LD(y,o,a,i,e),Xk(zm(c,a));break e}}i=c=zm(c,a),ur!==4&&(ur=2),nw===null?nw=[i]:nw.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=OM(i,c,e);PD(i,w);break e;case 1:a=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(sd===null||!sd.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=RM(i,a,e);PD(i,_);break e}}i=i.return}while(i!==null)}ZM(n)}catch(x){e=x,tr===n&&n!==null&&(tr=n=n.return);continue}break}while(!0)}function YM(){var t=Lx.current;return Lx.current=Bx,t===null?Bx:t}function bO(){(ur===0||ur===3||ur===2)&&(ur=4),Cr===null||!(Ef&268435455)&&!(uC&268435455)||fu(Cr,jr)}function Fx(t,e){var n=Ot;Ot|=2;var r=YM();(Cr!==t||jr!==e)&&(Nc=null,cf(t,e));do try{lY();break}catch(s){QM(t,s)}while(!0);if(tO(),Ot=n,Lx.current=r,tr!==null)throw Error(be(261));return Cr=null,jr=0,ur}function lY(){for(;tr!==null;)JM(tr)}function uY(){for(;tr!==null&&!$K();)JM(tr)}function JM(t){var e=ej(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,e===null?ZM(t):tr=e,pO.current=null}function ZM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rY(n,e),n!==null){n.flags&=32767,tr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ur=6,tr=null;return}}else if(n=nY(n,e,Oi),n!==null){tr=n;return}if(e=e.sibling,e!==null){tr=e;return}tr=e=t}while(e!==null);ur===0&&(ur=5)}function eh(t,e,n){var r=Zt,s=wo.transition;try{wo.transition=null,Zt=1,dY(t,e,n,r)}finally{wo.transition=s,Zt=r}return null}function dY(t,e,n,r){do Ag();while(qu!==null);if(Ot&6)throw Error(be(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(be(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(GK(t,i),t===Cr&&(tr=Cr=null,jr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||S1||(S1=!0,tj(xx,function(){return Ag(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wo.transition,wo.transition=null;var o=Zt;Zt=1;var a=Ot;Ot|=4,pO.current=null,iY(t,n),qM(n,t),kQ(iT),Cx=!!sT,iT=sT=null,t.current=n,oY(n),UK(),Ot=a,Zt=o,wo.transition=i}else t.current=n;if(S1&&(S1=!1,qu=t,jx=s),i=t.pendingLanes,i===0&&(sd=null),MK(n.stateNode),hi(t,qn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Mx)throw Mx=!1,t=AT,AT=null,t;return jx&1&&t.tag!==0&&Ag(),i=t.pendingLanes,i&1?t===ST?rw++:(rw=0,ST=t):rw=0,$d(),null}function Ag(){if(qu!==null){var t=OL(jx),e=wo.transition,n=Zt;try{if(wo.transition=null,Zt=16>t?16:t,qu===null)var r=!1;else{if(t=qu,qu=null,jx=0,Ot&6)throw Error(be(331));var s=Ot;for(Ot|=4,ze=t.current;ze!==null;){var i=ze,o=i.child;if(ze.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(ze=l;ze!==null;){var u=ze;switch(u.tag){case 0:case 11:case 15:tw(8,u,i)}var d=u.child;if(d!==null)d.return=u,ze=d;else for(;ze!==null;){u=ze;var h=u.sibling,f=u.return;if(HM(u),u===l){ze=null;break}if(h!==null){h.return=f,ze=h;break}ze=f}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ze=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ze=o;else e:for(;ze!==null;){if(i=ze,i.flags&2048)switch(i.tag){case 0:case 11:case 15:tw(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ze=w;break e}ze=i.return}}var v=t.current;for(ze=v;ze!==null;){o=ze;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ze=b;else e:for(o=v;ze!==null;){if(a=ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lC(9,a)}}catch(x){Mn(a,a.return,x)}if(a===o){ze=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,ze=_;break e}ze=a.return}}if(Ot=s,$d(),ec&&typeof ec.onPostCommitFiberRoot=="function")try{ec.onPostCommitFiberRoot(tC,t)}catch{}r=!0}return r}finally{Zt=n,wo.transition=e}}return!1}function JD(t,e,n){e=zm(n,e),e=OM(t,e,1),t=rd(t,e,1),e=Ps(),t!==null&&(_v(t,1,e),hi(t,e))}function Mn(t,e,n){if(t.tag===3)JD(t,t,n);else for(;e!==null;){if(e.tag===3){JD(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sd===null||!sd.has(r))){t=zm(n,t),t=RM(e,t,1),e=rd(e,t,1),t=Ps(),e!==null&&(_v(e,1,t),hi(e,t));break}}e=e.return}}function hY(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ps(),t.pingedLanes|=t.suspendedLanes&n,Cr===t&&(jr&n)===n&&(ur===4||ur===3&&(jr&130023424)===jr&&500>qn()-mO?cf(t,0):gO|=n),hi(t,e)}function XM(t,e){e===0&&(t.mode&1?(e=m1,m1<<=1,!(m1&130023424)&&(m1=4194304)):e=1);var n=Ps();t=fl(t,e),t!==null&&(_v(t,e,n),hi(t,n))}function fY(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XM(t,n)}function pY(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(be(314))}r!==null&&r.delete(e),XM(t,n)}var ej;ej=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ui.current)ci=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ci=!1,tY(t,e,n);ci=!!(t.flags&131072)}else ci=!1,Tn&&e.flags&1048576&&sM(e,kx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ME(t,e),t=e.pendingProps;var s=Lm(e,hs.current);Cg(e,n),s=lO(null,e,r,t,s,n);var i=uO();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,di(r)?(i=!0,Nx(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sO(e),s.updater=cC,e.stateNode=s,s._reactInternals=e,pT(e,r,t,n),e=yT(null,e,r,!0,i,n)):(e.tag=0,Tn&&i&&Jk(e),Es(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ME(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=mY(r),t=zo(r,t),s){case 0:e=mT(null,e,r,t,n);break e;case 1:e=FD(null,e,r,t,n);break e;case 11:e=MD(null,e,r,t,n);break e;case 14:e=jD(null,e,r,zo(r.type,t),n);break e}throw Error(be(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zo(r,s),mT(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zo(r,s),FD(t,e,r,s,n);case 3:e:{if(BM(e),t===null)throw Error(be(387));r=e.pendingProps,i=e.memoizedState,s=i.element,uM(t,e),Dx(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zm(Error(be(423)),e),e=zD(t,e,r,n,s);break e}else if(r!==s){s=zm(Error(be(424)),e),e=zD(t,e,r,n,s);break e}else for(Ui=nd(e.stateNode.containerInfo.firstChild),Mi=e,Tn=!0,ea=null,n=cM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mm(),r===s){e=pl(t,e,n);break e}Es(t,e,r,n)}e=e.child}return e;case 5:return dM(e),t===null&&dT(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,oT(r,s)?o=null:i!==null&&oT(r,i)&&(e.flags|=32),UM(t,e),Es(t,e,o,n),e.child;case 6:return t===null&&dT(e),null;case 13:return LM(t,e,n);case 4:return iO(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=jm(e,null,r,n):Es(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zo(r,s),MD(t,e,r,s,n);case 7:return Es(t,e,e.pendingProps,n),e.child;case 8:return Es(t,e,e.pendingProps.children,n),e.child;case 12:return Es(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,yn(Ox,r._currentValue),r._currentValue=o,i!==null)if(pa(i.value,o)){if(i.children===s.children&&!ui.current){e=pl(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=rl(-1,n&-n),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),hT(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(be(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),hT(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Es(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Cg(e,n),s=bo(s),r=r(s),e.flags|=1,Es(t,e,r,n),e.child;case 14:return r=e.type,s=zo(r,e.pendingProps),s=zo(r.type,s),jD(t,e,r,s,n);case 15:return DM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zo(r,s),ME(t,e),e.tag=1,di(r)?(t=!0,Nx(e)):t=!1,Cg(e,n),kM(e,r,s),pT(e,r,s,n),yT(null,e,r,!0,t,n);case 19:return MM(t,e,n);case 22:return $M(t,e,n)}throw Error(be(156,e.tag))};function tj(t,e){return TL(t,e)}function gY(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mo(t,e,n,r){return new gY(t,e,n,r)}function vO(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mY(t){if(typeof t=="function")return vO(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mk)return 11;if(t===jk)return 14}return 2}function od(t,e){var n=t.alternate;return n===null?(n=mo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zE(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")vO(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case eg:return lf(n.children,s,i,e);case Lk:o=8,s|=8;break;case LI:return t=mo(12,n,e,s|2),t.elementType=LI,t.lanes=i,t;case MI:return t=mo(13,n,e,s),t.elementType=MI,t.lanes=i,t;case jI:return t=mo(19,n,e,s),t.elementType=jI,t.lanes=i,t;case dL:return dC(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lL:o=10;break e;case uL:o=9;break e;case Mk:o=11;break e;case jk:o=14;break e;case nu:o=16,r=null;break e}throw Error(be(130,t==null?t:typeof t,""))}return e=mo(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function lf(t,e,n,r){return t=mo(7,t,r,e),t.lanes=n,t}function dC(t,e,n,r){return t=mo(22,t,r,e),t.elementType=dL,t.lanes=n,t.stateNode={isHidden:!1},t}function bS(t,e,n){return t=mo(6,t,null,e),t.lanes=n,t}function vS(t,e,n){return e=mo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yY(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eS(0),this.expirationTimes=eS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eS(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function EO(t,e,n,r,s,i,o,a,c){return t=new yY(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mo(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sO(i),t}function wY(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xp,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nj(t){if(!t)return bd;t=t._reactInternals;e:{if(Kf(t)!==t||t.tag!==1)throw Error(be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(di(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(t.tag===1){var n=t.type;if(di(n))return nM(t,n,e)}return e}function rj(t,e,n,r,s,i,o,a,c){return t=EO(n,r,!0,t,s,i,o,a,c),t.context=nj(null),n=t.current,r=Ps(),s=id(n),i=rl(r,s),i.callback=e??null,rd(n,i,s),t.current.lanes=s,_v(t,s,r),hi(t,r),t}function hC(t,e,n,r){var s=e.current,i=Ps(),o=id(s);return n=nj(n),e.context===null?e.context=n:e.pendingContext=n,e=rl(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rd(s,e,o),t!==null&&(ua(t,s,o,i),UE(t,s,o)),o}function zx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ZD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xO(t,e){ZD(t,e),(t=t.alternate)&&ZD(t,e)}function bY(){return null}var sj=typeof reportError=="function"?reportError:function(t){console.error(t)};function _O(t){this._internalRoot=t}fC.prototype.render=_O.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(be(409));hC(t,e,null,null)};fC.prototype.unmount=_O.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xf(function(){hC(null,t,null,null)}),e[hl]=null}};function fC(t){this._internalRoot=t}fC.prototype.unstable_scheduleHydration=function(t){if(t){var e=$L();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hu.length&&e!==0&&e<hu[n].priority;n++);hu.splice(n,0,t),n===0&&BL(t)}};function CO(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function XD(){}function vY(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=zx(o);i.call(l)}}var o=rj(e,r,t,0,null,!1,!1,"",XD);return t._reactRootContainer=o,t[hl]=o.current,Bw(t.nodeType===8?t.parentNode:t),xf(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=zx(c);a.call(l)}}var c=EO(t,0,!1,null,null,!1,!1,"",XD);return t._reactRootContainer=c,t[hl]=c.current,Bw(t.nodeType===8?t.parentNode:t),xf(function(){hC(e,c,n,r)}),c}function gC(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=zx(o);a.call(c)}}hC(e,o,t,s)}else o=vY(n,e,t,s,r);return zx(o)}RL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=N0(e.pendingLanes);n!==0&&(Hk(e,n|1),hi(e,qn()),!(Ot&6)&&(Hm=qn()+500,$d()))}break;case 13:xf(function(){var r=fl(t,1);if(r!==null){var s=Ps();ua(r,t,1,s)}}),xO(t,1)}};Wk=function(t){if(t.tag===13){var e=fl(t,134217728);if(e!==null){var n=Ps();ua(e,t,134217728,n)}xO(t,134217728)}};DL=function(t){if(t.tag===13){var e=id(t),n=fl(t,e);if(n!==null){var r=Ps();ua(n,t,e,r)}xO(t,e)}};$L=function(){return Zt};UL=function(t,e){var n=Zt;try{return Zt=t,e()}finally{Zt=n}};YI=function(t,e,n){switch(e){case"input":if(HI(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=iC(r);if(!s)throw Error(be(90));fL(r),HI(r,s)}}}break;case"textarea":gL(t,n);break;case"select":e=n.value,e!=null&&vg(t,!!n.multiple,e,!1)}};xL=yO;_L=xf;var EY={usingClientEntryPoint:!1,Events:[Av,sg,iC,vL,EL,yO]},Yy={findFiberByHostInstance:mh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xY={bundleType:Yy.bundleType,version:Yy.version,rendererPackageName:Yy.rendererPackageName,rendererConfig:Yy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SL(t),t===null?null:t.stateNode},findFiberByHostInstance:Yy.findFiberByHostInstance||bY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var I1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!I1.isDisabled&&I1.supportsFiber)try{tC=I1.inject(xY),ec=I1}catch{}}Wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EY;Wi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!CO(e))throw Error(be(200));return wY(t,e,null,n)};Wi.createRoot=function(t,e){if(!CO(t))throw Error(be(299));var n=!1,r="",s=sj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=EO(t,1,!1,null,null,n,!1,r,s),t[hl]=e.current,Bw(t.nodeType===8?t.parentNode:t),new _O(e)};Wi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(be(188)):(t=Object.keys(t).join(","),Error(be(268,t)));return t=SL(e),t=t===null?null:t.stateNode,t};Wi.flushSync=function(t){return xf(t)};Wi.hydrate=function(t,e,n){if(!pC(e))throw Error(be(200));return gC(null,t,e,!0,n)};Wi.hydrateRoot=function(t,e,n){if(!CO(t))throw Error(be(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=sj;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=rj(e,null,t,1,n??null,s,!1,i,o),t[hl]=e.current,Bw(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new fC(e)};Wi.render=function(t,e,n){if(!pC(e))throw Error(be(200));return gC(null,t,e,!1,n)};Wi.unmountComponentAtNode=function(t){if(!pC(t))throw Error(be(40));return t._reactRootContainer?(xf(function(){gC(null,null,t,!1,function(){t._reactRootContainer=null,t[hl]=null})}),!0):!1};Wi.unstable_batchedUpdates=yO;Wi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pC(n))throw Error(be(200));if(t==null||t._reactInternals===void 0)throw Error(be(38));return gC(t,e,n,!1,r)};Wi.version="18.3.1-next-f1338f8080-20240426";function ij(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ij)}catch(t){console.error(t)}}ij(),iL.exports=Wi;var AO=iL.exports,e$=AO;UI.createRoot=e$.createRoot,UI.hydrateRoot=e$.hydrateRoot;const oj="2.31.4";let Jy={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${oj}`},fe=class NT extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof NT?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof NT&&n.cause.docsPath||n.docsPath,i=(a=Jy.getDocsUrl)==null?void 0:a.call(Jy,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Jy.version?[`Version: ${Jy.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=oj}walk(e){return aj(this,e)}};function aj(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?aj(t.cause,e):e?null:t}let cj=class extends fe{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class _Y extends fe{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let CY=class extends fe{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class lj extends fe{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let uj=class extends fe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class t$ extends fe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function my(t,{dir:e,size:n=32}={}){return typeof t=="string"?ad(t,{dir:e,size:n}):AY(t,{dir:e,size:n})}function ad(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new uj({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function AY(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new uj({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}function gl(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Qn(t){return gl(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function yy(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const SY=new TextEncoder;function mC(t,e={}){return typeof t=="number"||typeof t=="bigint"?TY(t,e):typeof t=="boolean"?IY(t,e):gl(t)?ac(t,e):Sg(t,e)}function IY(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(wa(n,{size:e.size}),my(n,{size:e.size})):n}const pc={zero:48,nine:57,A:65,F:70,a:97,f:102};function n$(t){if(t>=pc.zero&&t<=pc.nine)return t-pc.zero;if(t>=pc.A&&t<=pc.F)return t-(pc.A-10);if(t>=pc.a&&t<=pc.f)return t-(pc.a-10)}function ac(t,e={}){let n=t;e.size&&(wa(n,{size:e.size}),n=my(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=n$(r.charCodeAt(a++)),l=n$(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new fe(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function TY(t,e){const n=rt(t,e);return ac(n)}function Sg(t,e={}){const n=SY.encode(t);return typeof e.size=="number"?(wa(n,{size:e.size}),my(n,{dir:"right",size:e.size})):n}function wa(t,{size:e}){if(Qn(t)>e)throw new CY({givenSize:Qn(t),maxSize:e})}function ml(t,e={}){const{signed:n}=e;e.size&&wa(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function yl(t,e={}){return Number(ml(t,e))}function dj(t,e={}){let n=ac(t);return e.size&&(wa(n,{size:e.size}),n=yy(n,{dir:"right"})),new TextDecoder().decode(n)}const NY=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _f(t,e={}){return typeof t=="number"||typeof t=="bigint"?rt(t,e):typeof t=="string"?yC(t,e):typeof t=="boolean"?hj(t,e):Ds(t,e)}function hj(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(wa(n,{size:e.size}),my(n,{size:e.size})):n}function Ds(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=NY[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(wa(r,{size:e.size}),my(r,{dir:"right",size:e.size})):r}function rt(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new cj({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?my(a,{size:r}):a}const PY=new TextEncoder;function yC(t,e={}){const n=PY.encode(t);return Ds(n,e)}async function kY(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:rt(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function vd(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new WY(t.type);return`${t.name}(${wC(t.inputs,{includeName:e})})`}function wC(t,{includeName:e=!1}={}){return t?t.map(n=>OY(n,{includeName:e})).join(e?", ":","):""}function OY(t,{includeName:e}){return t.type.startsWith("tuple")?`(${wC(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class RY extends fe{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class r$ extends fe{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class fj extends fe{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${wC(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class bC extends fe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class DY extends fe{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class $Y extends fe{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Qn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class UY extends fe{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class A5e extends fe{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class S5e extends fe{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class pj extends fe{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class BY extends fe{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class gj extends fe{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Hx extends fe{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class LY extends fe{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class I5e extends fe{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class MY extends fe{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${vd(e.abiItem)}\`, and`,`\`${n.type}\` in \`${vd(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class jY extends fe{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class PT extends fe{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${wC(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class mj extends fe{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${vd(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class FY extends fe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class zY extends fe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class HY extends fe{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class WY extends fe{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function Ed(t){return typeof t[0]=="string"?vC(t):GY(t)}function GY(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function vC(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class xd extends fe{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let EC=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const T1=BigInt(2**32-1),s$=BigInt(32);function qY(t,e=!1){return e?{h:Number(t&T1),l:Number(t>>s$&T1)}:{h:Number(t>>s$&T1)|0,l:Number(t&T1)|0}}function VY(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=qY(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const KY=(t,e,n)=>t<<n|e>>>32-n,QY=(t,e,n)=>e<<n|t>>>32-n,YY=(t,e,n)=>e<<n-32|t>>>64-n,JY=(t,e,n)=>t<<n-32|e>>>64-n,fp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ZY(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Wx(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Cf(t,...e){if(!ZY(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function N5e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Wx(t.outputLen),Wx(t.blockLen)}function Gx(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function yj(t,e){Cf(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function XY(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function qw(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ES(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function _a(t,e){return t<<32-e|t>>>e}const eJ=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function tJ(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function nJ(t){for(let e=0;e<t.length;e++)t[e]=tJ(t[e]);return t}const i$=eJ?t=>t:nJ,wj=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",rJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function P5e(t){if(Cf(t),wj)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=rJ[t[n]];return e}const gc={_0:48,_9:57,A:65,F:70,a:97,f:102};function o$(t){if(t>=gc._0&&t<=gc._9)return t-gc._0;if(t>=gc.A&&t<=gc.F)return t-(gc.A-10);if(t>=gc.a&&t<=gc.f)return t-(gc.a-10)}function k5e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(wj)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=o$(t.charCodeAt(i)),a=o$(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function sJ(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function xC(t){return typeof t=="string"&&(t=sJ(t)),Cf(t),t}function O5e(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Cf(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let bj=class{};function vj(t){const e=r=>t().update(xC(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function iJ(t){const e=(r,s)=>t(s).update(xC(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function D5e(t=32){if(fp&&typeof fp.getRandomValues=="function")return fp.getRandomValues(new Uint8Array(t));if(fp&&typeof fp.randomBytes=="function")return Uint8Array.from(fp.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const oJ=BigInt(0),Zy=BigInt(1),aJ=BigInt(2),cJ=BigInt(7),lJ=BigInt(256),uJ=BigInt(113),Ej=[],xj=[],_j=[];for(let t=0,e=Zy,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Ej.push(2*(5*r+n)),xj.push((t+1)*(t+2)/2%64);let s=oJ;for(let i=0;i<7;i++)e=(e<<Zy^(e>>cJ)*uJ)%lJ,e&aJ&&(s^=Zy<<(Zy<<BigInt(i))-Zy);_j.push(s)}const Cj=VY(_j,!0),dJ=Cj[0],hJ=Cj[1],a$=(t,e,n)=>n>32?YY(t,e,n):KY(t,e,n),c$=(t,e,n)=>n>32?JY(t,e,n):QY(t,e,n);function Aj(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=a$(l,u,1)^n[a],h=c$(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=xj[o],c=a$(s,i,a),l=c$(s,i,a),u=Ej[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=dJ[r],t[1]^=hJ[r]}qw(n)}let SO=class Sj extends bj{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Wx(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=XY(this.state)}clone(){return this._cloneInto()}keccak(){i$(this.state32),Aj(this.state32,this.rounds),i$(this.state32),this.posOut=0,this.pos=0}update(e){Gx(this),e=xC(e),Cf(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Gx(this,!1),Cf(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Wx(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(yj(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,qw(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Sj(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Ud=(t,e,n)=>vj(()=>new SO(e,t,n)),fJ=Ud(6,144,224/8),pJ=Ud(6,136,256/8),gJ=Ud(6,104,384/8),mJ=Ud(6,72,512/8),yJ=Ud(1,144,224/8),IO=Ud(1,136,256/8),wJ=Ud(1,104,384/8),bJ=Ud(1,72,512/8),Ij=(t,e,n)=>iJ((r={})=>new SO(e,t,r.dkLen===void 0?n:r.dkLen,!0)),vJ=Ij(31,168,128/8),EJ=Ij(31,136,256/8),$5e=Object.freeze(Object.defineProperty({__proto__:null,Keccak:SO,keccakP:Aj,keccak_224:yJ,keccak_256:IO,keccak_384:wJ,keccak_512:bJ,sha3_224:fJ,sha3_256:pJ,sha3_384:gJ,sha3_512:mJ,shake128:vJ,shake256:EJ},Symbol.toStringTag,{value:"Module"}));function wy(t,e){const n=e||"hex",r=IO(gl(t,{strict:!1})?mC(t):t);return n==="bytes"?r:_f(r)}const xS=new EC(8192);function Iv(t,e){if(xS.has(`${t}.${e}`))return xS.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=wy(Sg(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return xS.set(`${t}.${e}`,i),i}function Vu(t,e){if(!ga(t,{strict:!1}))throw new xd({address:t});return Iv(t,e)}const xJ=/^0x[a-fA-F0-9]{40}$/,_S=new EC(8192);function ga(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(_S.has(r))return _S.get(r);const s=xJ.test(t)?t.toLowerCase()===t?!0:n?Iv(t)===t:!0:!1;return _S.set(r,s),s}function qx(t,e,n,{strict:r}={}){return gl(t,{strict:!1})?kT(t,e,n,{strict:r}):Pj(t,e,n,{strict:r})}function Tj(t,e){if(typeof e=="number"&&e>0&&e>Qn(t)-1)throw new lj({offset:e,position:"start",size:Qn(t)})}function Nj(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Qn(t)!==n-e)throw new lj({offset:n,position:"end",size:Qn(t)})}function Pj(t,e,n,{strict:r}={}){Tj(t,e);const s=t.slice(e,n);return r&&Nj(s,e,n),s}function kT(t,e,n,{strict:r}={}){Tj(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&Nj(s,e,n),s}const _J=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,kj=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Oj(t,e){if(t.length!==e.length)throw new UY({expectedLength:t.length,givenLength:e.length});const n=CJ({params:t,values:e}),r=NO(n);return r.length===0?"0x":r}function CJ({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(TO({param:t[r],value:e[r]}));return n}function TO({param:t,value:e}){const n=PO(t.type);if(n){const[r,s]=n;return SJ(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return kJ(e,{param:t});if(t.type==="address")return AJ(e);if(t.type==="bool")return TJ(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=kj.exec(t.type)??[];return NJ(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return IJ(e,{param:t});if(t.type==="string")return PJ(e);throw new FY(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function NO(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=Qn(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(rt(e+s,{size:32})),r.push(a),s+=Qn(a)):n.push(a)}return Ed([...n,...r])}function AJ(t){if(!ga(t))throw new xd({address:t});return{dynamic:!1,encoded:ad(t.toLowerCase())}}function SJ(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new HY(t);if(!r&&t.length!==e)throw new DY({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=TO({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=NO(i);if(r){const a=rt(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Ed([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Ed(i.map(({encoded:o})=>o))}}function IJ(t,{param:e}){const[,n]=e.type.split("bytes"),r=Qn(t);if(!n){let s=t;return r%32!==0&&(s=ad(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Ed([ad(rt(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new $Y({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:ad(t,{dir:"right"})}}function TJ(t){if(typeof t!="boolean")throw new fe(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ad(hj(t))}}function NJ(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new cj({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:rt(t,{size:32,signed:e})}}function PJ(t){const e=yC(t),n=Math.ceil(Qn(e)/32),r=[];for(let s=0;s<n;s++)r.push(ad(qx(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ed([ad(rt(Qn(e),{size:32})),...r])}}function kJ(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=TO({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?NO(r):Ed(r.map(({encoded:s})=>s))}}function PO(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const CS="/docs/contract/encodeDeployData";function kO(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new RY({docsPath:CS});if(!("inputs"in s))throw new r$({docsPath:CS});if(!s.inputs||s.inputs.length===0)throw new r$({docsPath:CS});const i=Oj(s.inputs,n);return vC([r,i])}function Hr(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class Qf extends fe{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class HE extends fe{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function OJ(t){const e=wy(`0x${t.substring(4)}`).substring(26);return Iv(`0x${e}`)}const RJ="modulepreload",DJ=function(t){return"/"+t},l$={},Wn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=DJ(c),c in l$)return;l$[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":RJ,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};async function $J({hash:t,signature:e}){const n=gl(t)?t:_f(t),{secp256k1:r}=await Wn(async()=>{const{secp256k1:o}=await import("./secp256k1-DyCI_X21.js");return{secp256k1:o}},__vite__mapDeps([0,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=u$(f);return new r.Signature(ml(l),ml(u)).addRecoveryBit(p)}const o=gl(e)?e:_f(e);if(Qn(o)!==65)throw new Error("invalid signature length");const a=yl(`0x${o.slice(130)}`),c=u$(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function u$(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function UJ({hash:t,signature:e}){return OJ(await $J({hash:t,signature:e}))}class d$ extends fe{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class Rj extends fe{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class BJ extends fe{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const LJ={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new BJ({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Rj({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new d$({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new d$({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function OO(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(LJ);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function MJ(t,e="hex"){const n=Dj(t),r=OO(new Uint8Array(n.length));return n.encode(r),e==="hex"?Ds(r.bytes):r.bytes}function Dj(t){return Array.isArray(t)?jJ(t.map(e=>Dj(e))):FJ(t)}function jJ(t){const e=t.reduce((s,i)=>s+i.length,0),n=$j(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function FJ(t){const e=typeof t=="string"?ac(t):t,n=$j(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function $j(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new fe("Length is too large.")}function zJ(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=wy(vC(["0x05",MJ([e?rt(e):"0x",s,n?rt(n):"0x"])]));return r==="bytes"?ac(i):i}async function Uj(t){const{authorization:e,signature:n}=t;return UJ({hash:zJ(e),signature:n??e})}class OT extends fe{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class HJ extends fe{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class WJ extends fe{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Bj extends fe{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function Lj({chain:t,currentChainId:e}){if(!t)throw new WJ;if(e!==t.id)throw new HJ({chain:t,currentChainId:e})}const GJ={gwei:9,wei:18},qJ={ether:-9,wei:9},VJ={ether:-18,gwei:-9};function by(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function fi(t,e="wei"){return by(t,qJ[e])}class bh extends fe{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(bh,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(bh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Vx extends fe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${fi(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Vx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class RT extends fe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${fi(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(RT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class DT extends fe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(DT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class $T extends fe{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty($T,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class UT extends fe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(UT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class BT extends fe{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(BT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class LT extends fe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(LT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class MT extends fe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(MT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class jT extends fe{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(jT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Kx extends fe{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${fi(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${fi(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Kx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class _C extends fe{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function RO(t,e="wei"){return by(t,GJ[e])}function Tv(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class KJ extends fe{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class QJ extends fe{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Tv(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class YJ extends fe{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=Tv({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${RO(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${fi(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${fi(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${fi(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Mj extends fe{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class jj extends fe{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class JJ extends fe{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const ks=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n),ZJ=t=>t,DO=t=>t;class sw extends fe{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${DO(o)}`,e&&`Request body: ${ks(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class $O extends fe{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${DO(r)}`,`Request body: ${ks(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class h$ extends fe{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${DO(n)}`,`Request body: ${ks(e)}`],name:"TimeoutError"})}}const XJ=-1;class yi extends fe{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof $O?e.code:n??XJ}}class qi extends yi{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Vw extends yi{constructor(e){super(e,{code:Vw.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Vw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Kw extends yi{constructor(e){super(e,{code:Kw.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Kw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Qw extends yi{constructor(e,{method:n}={}){super(e,{code:Qw.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Qw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Yw extends yi{constructor(e){super(e,{code:Yw.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Yw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Af extends yi{constructor(e){super(e,{code:Af.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Af,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Jw extends yi{constructor(e){super(e,{code:Jw.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Jw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Zw extends yi{constructor(e){super(e,{code:Zw.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Zw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class cd extends yi{constructor(e){super(e,{code:cd.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(cd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Wm extends yi{constructor(e){super(e,{code:Wm.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Wm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class vh extends yi{constructor(e,{method:n}={}){super(e,{code:vh.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(vh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Gm extends yi{constructor(e){super(e,{code:Gm.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Gm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Xw extends yi{constructor(e){super(e,{code:Xw.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Xw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class or extends qi{constructor(e){super(e,{code:or.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(or,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class eb extends qi{constructor(e){super(e,{code:eb.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(eb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class tb extends qi{constructor(e,{method:n}={}){super(e,{code:tb.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(tb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class nb extends qi{constructor(e){super(e,{code:nb.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(nb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class rb extends qi{constructor(e){super(e,{code:rb.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(rb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class cc extends qi{constructor(e){super(e,{code:cc.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(cc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class qm extends qi{constructor(e){super(e,{code:qm.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(qm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class sb extends qi{constructor(e){super(e,{code:sb.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(sb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class ib extends qi{constructor(e){super(e,{code:ib.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(ib,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class ob extends qi{constructor(e){super(e,{code:ob.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(ob,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class ab extends qi{constructor(e){super(e,{code:ab.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(ab,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class cb extends qi{constructor(e){super(e,{code:cb.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(cb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Vm extends qi{constructor(e){super(e,{code:Vm.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Vm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class eZ extends yi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function UO(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof fe?t.walk(s=>(s==null?void 0:s.code)===bh.code):t;return r instanceof fe?new bh({cause:t,message:r.details}):bh.nodeMessage.test(n)?new bh({cause:t,message:t.details}):Vx.nodeMessage.test(n)?new Vx({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):RT.nodeMessage.test(n)?new RT({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):DT.nodeMessage.test(n)?new DT({cause:t,nonce:e==null?void 0:e.nonce}):$T.nodeMessage.test(n)?new $T({cause:t,nonce:e==null?void 0:e.nonce}):UT.nodeMessage.test(n)?new UT({cause:t,nonce:e==null?void 0:e.nonce}):BT.nodeMessage.test(n)?new BT({cause:t}):LT.nodeMessage.test(n)?new LT({cause:t,gas:e==null?void 0:e.gas}):MT.nodeMessage.test(n)?new MT({cause:t,gas:e==null?void 0:e.gas}):jT.nodeMessage.test(n)?new jT({cause:t}):Kx.nodeMessage.test(n)?new Kx({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new _C({cause:t})}function Fj(t,{docsPath:e,...n}){const r=(()=>{const s=UO(t,n);return s instanceof _C?t:s})();return new YJ(r,{docsPath:e,...n})}function BO(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}const tZ={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function CC(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=nZ(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Ds(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=rt(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=rt(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=rt(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=rt(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=rt(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=rt(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=tZ[t.type]),typeof t.value<"u"&&(e.value=rt(t.value)),e}function nZ(t){return t.map(e=>({address:e.address,r:e.r?rt(BigInt(e.r)):e.r,s:e.s?rt(BigInt(e.s)):e.s,chainId:rt(e.chainId),nonce:rt(e.nonce),...typeof e.yParity<"u"?{yParity:rt(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:rt(e.v)}:{}}))}function cn(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const rZ=2n**256n-1n;function Nv(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?Hr(e):void 0;if(o&&!ga(o.address))throw new xd({address:o.address});if(i&&!ga(i))throw new xd({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new KJ;if(r&&r>rZ)throw new Vx({maxFeePerGas:r});if(s&&r&&s>r)throw new Kx({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function Pv(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return yl(e)}class sZ extends fe{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class LO extends fe{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class iZ extends fe{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${fi(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class zj extends fe{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Hj={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Wj(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?yl(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?yl(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Hj[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=oZ(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function oZ(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function aZ(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:Wj(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function lb(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var u,d,h;const i=r??"latest",o=s??!1,a=n!==void 0?rt(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||i,o]},{dedupe:!!a}),!c)throw new zj({blockHash:e,blockNumber:n});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:h.format)||aZ)(c)}async function Gj(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function cZ(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await cn(t,lb,"getBlock")({}),u=await a({block:l,client:t,request:s});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return ml(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):cn(t,lb,"getBlock")({}),cn(t,Gj,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new LO;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function f$(t,e){var h,f;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var p,g;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(o<1)throw new sZ;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),l=p=>p*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await cn(t,lb,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:s,type:i});if(p!==null)return p}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new LO;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await cZ(t,{block:u,chain:r,request:s}),g=l(u.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??g+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await cn(t,Gj,"getGasPrice")({}))}}class lZ extends fe{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=Tv({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${RO(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${fi(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${fi(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${fi(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function uZ(t,{docsPath:e,...n}){const r=(()=>{const s=UO(t,n);return s instanceof _C?t:s})();return new lZ(r,{docsPath:e,...n})}class dZ extends fe{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class hZ extends fe{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function p$(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function fZ(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=p$(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=p$(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function g$(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new t$({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new t$({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function pZ(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=rt(e)),n!==void 0&&(o.nonce=rt(n)),r!==void 0&&(o.state=g$(r)),s!==void 0){if(o.state)throw new hZ;o.stateDiff=g$(s)}return o}function qj(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!ga(n,{strict:!1}))throw new xd({address:n});if(e[n])throw new dZ({address:n});e[n]=pZ(r)}return e}async function Vj(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?rt(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function Kj(t,e){var s,i,o;const{account:n=t.account}=e,r=n?Hr(n):void 0;try{let K=function(T){const{block:L,request:U,rpcStateOverride:$}=T;return t.request({method:"eth_estimateGas",params:$?[U,L??"latest",$]:L?[U,L]:[U]})};const{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:h,data:f,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,value:_,stateOverride:x,...C}=await AC(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),N=(typeof d=="bigint"?rt(d):void 0)||h,A=qj(x),P=await(async()=>{if(C.to)return C.to;if(c&&c.length>0)return await Uj({authorization:c[0]}).catch(()=>{throw new fe("`to` is required. Could not infer from `authorizationList`")})})();Nv(e);const D=(o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,H=(D||CC)({...BO(C,{format:D}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:f,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,to:P,value:_});let I=BigInt(await K({block:N,request:H,rpcStateOverride:A}));if(c){const T=await Vj(t,{address:H.from}),L=await Promise.all(c.map(async U=>{const{address:$}=U,M=await K({block:N,request:{authorizationList:void 0,data:f,from:r==null?void 0:r.address,to:$,value:rt(T)},rpcStateOverride:A}).catch(()=>100000n);return 2n*BigInt(M)}));I+=L.reduce((U,$)=>U+$,0n)}return I}catch(a){throw uZ(a,{...e,account:r,chain:t.chain})}}async function Qj(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?rt(r):n]},{dedupe:!!r});return yl(s)}function Yj(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>ac(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>Ds(i))}function Jj(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>ac(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>ac(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>Ds(o))}function gZ(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function mZ(t,e,n){return t&e^~t&n}function yZ(t,e,n){return t&e^t&n^e&n}class wZ extends bj{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=ES(this.buffer)}update(e){Gx(this),e=xC(e),Cf(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=ES(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Gx(this),yj(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,qw(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;gZ(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=ES(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Nl=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bZ=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Pl=new Uint32Array(64);let vZ=class extends wZ{constructor(e=32){super(64,e,8,!1),this.A=Nl[0]|0,this.B=Nl[1]|0,this.C=Nl[2]|0,this.D=Nl[3]|0,this.E=Nl[4]|0,this.F=Nl[5]|0,this.G=Nl[6]|0,this.H=Nl[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Pl[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Pl[d-15],f=Pl[d-2],p=_a(h,7)^_a(h,18)^h>>>3,g=_a(f,17)^_a(f,19)^f>>>10;Pl[d]=g+Pl[d-7]+p+Pl[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=_a(a,6)^_a(a,11)^_a(a,25),f=u+h+mZ(a,c,l)+bZ[d]+Pl[d]|0,g=(_a(r,2)^_a(r,13)^_a(r,22))+yZ(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){qw(Pl)}destroy(){this.set(0,0,0,0,0,0,0,0),qw(this.buffer)}};const EZ=vj(()=>new vZ),xZ=EZ;function _Z(t,e){return xZ(gl(t,{strict:!1})?mC(t):t)}function CZ(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=_Z(e);return s.set([n],0),r==="bytes"?s:Ds(s)}function AZ(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const i of e)s.push(CZ({commitment:i,to:r,version:n}));return s}const m$=6,Zj=32,MO=4096,Xj=Zj*MO,y$=Xj*m$-1-1*MO*m$;class SZ extends fe{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class IZ extends fe{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function TZ(t){const e=typeof t.data=="string"?ac(t.data):t.data,n=Qn(e);if(!n)throw new IZ;if(n>y$)throw new SZ({maxSize:y$,size:n});const r=[];let s=!0,i=0;for(;s;){const o=OO(new Uint8Array(Xj));let a=0;for(;a<MO;){const c=e.slice(i,i+(Zj-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}a++,i+=31}r.push(o)}return r.map(o=>Ds(o.bytes))}function NZ(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??TZ({data:e}),i=t.commitments??Yj({blobs:s,kzg:n,to:r}),o=t.proofs??Jj({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function PZ(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new QJ({transaction:t})}const eF=["blobVersionedHashes","chainId","fees","gas","nonce","type"],w$=new Map;async function AC(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:l=eF,type:u}=e,d=n&&Hr(n),h={...e,...d?{from:d==null?void 0:d.address}:{}};let f;async function p(){return f||(f=await cn(t,lb,"getBlock")({blockTag:"latest"}),f)}let g;async function y(){return g||(s?s.id:typeof e.chainId<"u"?e.chainId:(g=await cn(t,Pv,"getChainId")({}),g))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const w=await y();h.nonce=await c.consume({address:d.address,chainId:w,client:t})}else h.nonce=await cn(t,Qj,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const w=Yj({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const v=AZ({commitments:w,to:"hex"});h.blobVersionedHashes=v}if(l.includes("sidecars")){const v=Jj({blobs:r,commitments:w,kzg:o}),b=NZ({blobs:r,commitments:w,proofs:v,to:"hex"});h.sidecars=b}}if(l.includes("chainId")&&(h.chainId=await y()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{h.type=PZ(h)}catch{let w=w$.get(t.uid);if(typeof w>"u"){const v=await p();w=typeof(v==null?void 0:v.baseFeePerGas)=="bigint",w$.set(t.uid,w)}h.type=w?"eip1559":"legacy"}if(l.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const w=await p(),{maxFeePerGas:v,maxPriorityFeePerGas:b}=await f$(t,{block:w,chain:s,request:h});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<b)throw new iZ({maxPriorityFeePerGas:b});h.maxPriorityFeePerGas=b,h.maxFeePerGas=v}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new LO;if(typeof e.gasPrice>"u"){const w=await p(),{gasPrice:v}=await f$(t,{block:w,chain:s,request:h,type:"legacy"});h.gasPrice=v}}return l.includes("gas")&&typeof i>"u"&&(h.gas=await cn(t,Kj,"estimateGas")({...h,account:d&&{address:d.address,type:"json-rpc"}})),Nv(h),delete h.parameters,h}async function tF(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const AS=new EC(128);async function kv(t,e){var v,b,_,x;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,type:p,value:g,...y}=e;if(typeof n>"u")throw new Qf({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?Hr(n):null;try{Nv(e);const C=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await Uj({authorization:i[0]}).catch(()=>{throw new fe("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let S;r!==null&&(S=await cn(t,Pv,"getChainId")({}),Lj({currentChainId:S,chain:r}));const N=(_=(b=(v=t.chain)==null?void 0:v.formatters)==null?void 0:b.transactionRequest)==null?void 0:_.format,P=(N||CC)({...BO(y,{format:N}),accessList:s,authorizationList:i,blobs:o,chainId:S,data:a,from:w==null?void 0:w.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,to:C,type:p,value:g}),D=AS.get(t.uid),j=D?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:j,params:[P]},{retryCount:0})}catch(H){if(D===!1)throw H;const K=H;if(K.name==="InvalidInputRpcError"||K.name==="InvalidParamsRpcError"||K.name==="MethodNotFoundRpcError"||K.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[P]},{retryCount:0}).then(I=>(AS.set(t.uid,!0),I)).catch(I=>{const T=I;throw T.name==="MethodNotFoundRpcError"||T.name==="MethodNotSupportedRpcError"?(AS.set(t.uid,!1),K):T});throw K}}if((w==null?void 0:w.type)==="local"){const S=await cn(t,AC,"prepareTransactionRequest")({account:w,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,nonceManager:w.nonceManager,parameters:[...eF,"sidecars"],type:p,value:g,...y,to:C}),N=(x=r==null?void 0:r.serializers)==null?void 0:x.transaction,A=await w.signTransaction(S,{serializer:N});return await cn(t,tF,"sendRawTransaction")({serializedTransaction:A})}throw(w==null?void 0:w.type)==="smart"?new HE({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new HE({docsPath:"/docs/actions/wallet/sendTransaction",type:w==null?void 0:w.type})}catch(C){throw C instanceof HE?C:Fj(C,{...e,account:w,chain:e.chain||void 0})}}function kZ(t,e){const{abi:n,args:r,bytecode:s,...i}=e,o=kO({abi:n,args:r,bytecode:s});return kv(t,{...i,...i.authorizationList?{to:null}:{},data:o})}const FT=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],B5e=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],OZ=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],RZ=[...OZ,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}];function DZ(t,e={}){typeof e.size<"u"&&wa(t,{size:e.size});const n=Ds(t,e);return ml(n,e)}function $Z(t,e={}){let n=t;if(typeof e.size<"u"&&(wa(n,{size:e.size}),n=yy(n)),n.length>1||n[0]>1)throw new _Y(n);return!!n[0]}function sl(t,e={}){typeof e.size<"u"&&wa(t,{size:e.size});const n=Ds(t,e);return yl(n,e)}function UZ(t,e={}){let n=t;return typeof e.size<"u"&&(wa(n,{size:e.size}),n=yy(n,{dir:"right"})),new TextDecoder().decode(n)}function SC(t,e){const n=typeof e=="string"?ac(e):e,r=OO(n);if(Qn(n)===0&&t.length>0)throw new bC;if(Qn(e)&&Qn(e)<32)throw new fj({data:typeof e=="string"?e:Ds(e),params:t,size:Qn(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,l]=Ig(r,a,{staticPosition:0});s+=l,i.push(c)}return i}function Ig(t,e,{staticPosition:n}){const r=PO(e.type);if(r){const[s,i]=r;return LZ(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return zZ(t,e,{staticPosition:n});if(e.type==="address")return BZ(t);if(e.type==="bool")return MZ(t);if(e.type.startsWith("bytes"))return jZ(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return FZ(t,e);if(e.type==="string")return HZ(t,{staticPosition:n});throw new zY(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const b$=32,zT=32;function BZ(t){const e=t.readBytes(32);return[Iv(Ds(Pj(e,-20))),32]}function LZ(t,e,{length:n,staticPosition:r}){if(!n){const o=sl(t.readBytes(zT)),a=r+o,c=a+b$;t.setPosition(a);const l=sl(t.readBytes(b$)),u=ub(e);let d=0;const h=[];for(let f=0;f<l;++f){t.setPosition(c+(u?f*32:d));const[p,g]=Ig(t,e,{staticPosition:c});d+=g,h.push(p)}return t.setPosition(r+32),[h,32]}if(ub(e)){const o=sl(t.readBytes(zT)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=Ig(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Ig(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function MZ(t){return[$Z(t.readBytes(32),{size:32}),32]}function jZ(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=sl(t.readBytes(32));t.setPosition(n+o);const a=sl(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Ds(c),32]}return[Ds(t.readBytes(Number.parseInt(s),32)),32]}function FZ(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?DZ(s,{signed:n}):sl(s,{signed:n}),32]}function zZ(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(ub(e)){const o=sl(t.readBytes(zT)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+i);const[u,d]=Ig(t,l,{staticPosition:a});i+=d,s[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=Ig(t,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=l}return[s,i]}function HZ(t,{staticPosition:e}){const n=sl(t.readBytes(32)),r=e+n;t.setPosition(r);const s=sl(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=UZ(yy(i));return t.setPosition(e+32),[o,32]}function ub(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(ub);const n=PO(t.type);return!!(n&&ub({...t,type:n[1]}))}const WZ=t=>wy(mC(t));function GZ(t){return WZ(t)}const qZ="1.0.8";let _o=class HT extends Error{constructor(e,n={}){var o;const r=n.cause instanceof HT?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof HT&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${qZ}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function _l(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const nF=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,rF=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,sF=/^\(.+?\).*?$/,v$=/^tuple(?<array>(\[(\d*)\])*)$/;function WT(t){let e=t.type;if(v$.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=WT(i),s<n-1&&(e+=", ")}const r=_l(v$,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,WT({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Xy(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=WT(s),r!==n-1&&(e+=", ")}return e}function VZ(t){var e;return t.type==="function"?`function ${t.name}(${Xy(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Xy(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Xy(t.inputs)})`:t.type==="error"?`error ${t.name}(${Xy(t.inputs)})`:t.type==="constructor"?`constructor(${Xy(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const iF=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function KZ(t){return iF.test(t)}function QZ(t){return _l(iF,t)}const oF=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function YZ(t){return oF.test(t)}function JZ(t){return _l(oF,t)}const aF=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ZZ(t){return aF.test(t)}function XZ(t){return _l(aF,t)}const cF=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function lF(t){return cF.test(t)}function eX(t){return _l(cF,t)}const uF=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function tX(t){return uF.test(t)}function nX(t){return _l(uF,t)}const dF=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function rX(t){return dF.test(t)}function sX(t){return _l(dF,t)}const iX=/^receive\(\) external payable$/;function oX(t){return iX.test(t)}const aX=new Set(["indexed"]),GT=new Set(["calldata","memory","storage"]);class cX extends _o{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class lX extends _o{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class uX extends _o{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class dX extends _o{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class hX extends _o{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class fX extends _o{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class pX extends _o{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class vy extends _o{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class gX extends _o{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class mX extends _o{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class yX extends _o{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class wX extends _o{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function bX(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const SS=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function vX(t,e={}){if(ZZ(t))return EX(t,e);if(YZ(t))return xX(t,e);if(KZ(t))return _X(t,e);if(tX(t))return CX(t,e);if(rX(t))return AX(t);if(oX(t))return{type:"receive",stateMutability:"payable"};throw new gX({signature:t})}function EX(t,e={}){const n=XZ(t);if(!n)throw new vy({signature:t,type:"function"});const r=sa(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Sf(r[a],{modifiers:GT,structs:e,type:"function"}));const o=[];if(n.returns){const a=sa(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(Sf(a[l],{modifiers:GT,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function xX(t,e={}){const n=JZ(t);if(!n)throw new vy({signature:t,type:"event"});const r=sa(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Sf(r[o],{modifiers:aX,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function _X(t,e={}){const n=QZ(t);if(!n)throw new vy({signature:t,type:"error"});const r=sa(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Sf(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function CX(t,e={}){const n=nX(t);if(!n)throw new vy({signature:t,type:"constructor"});const r=sa(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Sf(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function AX(t){const e=sX(t);if(!e)throw new vy({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const SX=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,IX=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,TX=/^u?int$/;function Sf(t,e){var d,h;const n=bX(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(SS.has(n))return SS.get(n);const r=sF.test(t),s=_l(r?IX:SX,t);if(!s)throw new uX({param:t});if(s.name&&PX(s.name))throw new dX({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const f=sa(s.type),p=[],g=f.length;for(let y=0;y<g;y++)p.push(Sf(f[y],{structs:a}));l={components:p}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(TX.test(s.type))c=`${s.type}256`;else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!hF(c))throw new lX({type:c});if(s.modifier){if(!((h=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&h.call(d,s.modifier)))throw new hX({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(GT.has(s.modifier)&&!kX(c,!!s.array))throw new fX({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return SS.set(n,u),u}function sa(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?sa(a,[...e,n.trim()]):sa(a,e,`${n}${o}`,r);case"(":return sa(a,e,`${n}${o}`,r+1);case")":return sa(a,e,`${n}${o}`,r-1);default:return sa(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new wX({current:n,depth:r});return e.push(n.trim()),e}function hF(t){return t==="address"||t==="bool"||t==="function"||t==="string"||nF.test(t)||rF.test(t)}const NX=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function PX(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||nF.test(t)||rF.test(t)||NX.test(t)}function kX(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function OX(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!lF(a))continue;const c=eX(a);if(!c)throw new vy({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const p=l[h].trim();if(!p)continue;const g=Sf(p,{type:"struct"});u.push(g)}if(!u.length)throw new mX({signature:a});e[c.name]=u}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=fF(c,e)}return r}const RX=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function fF(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(sF.test(o.type))r.push(o);else{const c=_l(RX,o.type);if(!(c!=null&&c.type))throw new pX({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new yX({type:u});r.push({...o,type:`tuple${l??""}`,components:fF(e[u]??[],e,new Set([...n,u]))})}else if(hF(u))r.push(o);else throw new cX({type:u})}}return r}function pF(t){const e=OX(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];lF(i)||n.push(vX(i,e))}return n}function DX(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new fe("Unable to normalize signature.");return s}const $X=t=>{const e=typeof t=="string"?t:VZ(t);return DX(e)};function gF(t){return GZ($X(t))}const jO=gF,FO=t=>qx(gF(t),0,4);function zO(t){const{abi:e,args:n=[],name:r}=t,s=gl(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?FO(a)===r:a.type==="event"?jO(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?qT(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=mF(a.inputs,o.inputs,n);if(l)throw new MY({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function qT(t,e){const n=typeof t,r=e.type;switch(r){case"address":return ga(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>qT(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>qT(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function mF(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return mF(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ga(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?ga(n[r],{strict:!1}):!1)return o}}const IS="/docs/contract/decodeFunctionResult";function HO(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=zO({abi:e,args:n,name:r});if(!a)throw new Hx(r,{docsPath:IS});i=a}if(i.type!=="function")throw new Hx(void 0,{docsPath:IS});if(!i.outputs)throw new LY(i.name,{docsPath:IS});const o=SC(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const E$="/docs/contract/encodeFunctionData";function UX(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=zO({abi:e,args:n,name:r});if(!i)throw new Hx(r,{docsPath:E$});s=i}if(s.type!=="function")throw new Hx(void 0,{docsPath:E$});return{abi:[s],functionName:FO(vd(s))}}function Ov(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:UX(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?Oj(s.inputs,e??[]):void 0;return vC([i,o??"0x"])}function WO({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new OT({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new OT({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const yF={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},BX={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},LX={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function MX(t){const{abi:e,data:n}=t,r=qx(n,0,4);if(r==="0x")throw new bC;const i=[...e||[],BX,LX].find(o=>o.type==="error"&&r===FO(vd(o)));if(!i)throw new pj(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?SC(i.inputs,qx(n,4)):void 0,errorName:i.name}}function wF({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?ks(e[i]):e[i]}`).join(", ")})`}class jX extends fe{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:f}){var y;const p=n?Hr(n):void 0;let g=Tv({from:p==null?void 0:p.address,to:d,value:typeof h<"u"&&`${RO(h)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${fi(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${fi(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${fi(l)} gwei`,nonce:u});f&&(g+=`
${fZ(f)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class bF extends fe{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=zO({abi:n,args:r,name:o}),l=c?wF({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?vd(c,{includeName:!0}):void 0,d=Tv({address:s&&ZJ(s),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class VT extends fe{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=MX({abi:e,data:n});const{abiItem:u,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=yF[f]}else{const f=u?vd(u,{includeName:!0}):void 0,p=u&&h?wF({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){i=u}else s&&(c=s);let l;i instanceof pj&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class FX extends fe{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class zX extends fe{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class GO extends fe{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function HX(t,e){var r,s,i,o,a,c;if(!(t instanceof fe))return!1;const n=t.walk(l=>l instanceof VT);return n instanceof VT?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((i=n.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||n.reason===yF[50]):!1}function WX(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return gl(e)?e:null}function GX(t){return`[${t.slice(2)}]`}function qX(t){const e=new Uint8Array(32).fill(0);return t?WX(t)||wy(Sg(t)):Ds(e)}function VX(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Sg(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let o=Sg(s[i]);o.byteLength>255&&(o=Sg(GX(qX(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const KX=3;function Qx(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof GO?t:t instanceof fe?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:h}=a,f=t instanceof bC?new FX({functionName:i}):[KX,Af.code].includes(c)&&(l||u||d||h)?new VT({abi:e,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof $O?u:h??d}):t;return new bF(f,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}const QX="0.1.1";function YX(){return QX}let vF=class KT extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof KT){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof KT&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${YX()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return EF(this,e)}};function EF(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?EF(t.cause,e):e?null:t}function JX(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new eee({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function Dc(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new XX({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?ZX(c,r):c}function ZX(t,e){return JX(t,{dir:"left",size:e})}let XX=class extends vF{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},eee=class extends vF{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function tee(t){return{address:t.address,amount:Dc(t.amount),index:Dc(t.index),validatorIndex:Dc(t.validatorIndex)}}function nee(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Dc(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Dc(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Dc(t.gasLimit)},...typeof t.number=="bigint"&&{number:Dc(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Dc(t.prevRandao)},...typeof t.time=="bigint"&&{time:Dc(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(tee)}}}const ree="0x82ad56cb",see="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",iee="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function oee(t,{docsPath:e,...n}){const r=(()=>{const s=UO(t,n);return s instanceof _C?t:s})();return new jX(r,{docsPath:e,...n})}function qO(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const TS=new Map;function xF({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{s&&Array.isArray(h)&&h.sort(s);for(let f=0;f<u.length;f++){const{resolve:p}=u[f];p==null||p([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:p}=u[f];p==null||p(h)}})},o=()=>TS.delete(e),a=()=>c().map(({args:u})=>u),c=()=>TS.get(e)||[],l=u=>TS.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:h,reject:f}=qO();return(n==null?void 0:n([...a(),u]))&&i(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(i,r),d)}}}async function _F(t,e){var H,K,I,T;const{account:n=t.account,authorizationList:r,batch:s=!!((H=t.batch)!=null&&H.multicall),blockNumber:i,blockTag:o="latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:h,factoryData:f,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,to:_,value:x,stateOverride:C,...S}=e,N=n?Hr(n):void 0;if(u&&(h||f))throw new fe("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&_)throw new fe("Cannot provide both `code` & `to` as parameters.");const A=u&&d,P=h&&f&&_&&d,D=A||P,j=A?lee({code:u,data:d}):P?uee({data:d,factory:h,factoryData:f,to:_}):d;try{Nv(e);const U=(typeof i=="bigint"?rt(i):void 0)||o,$=l?nee(l):void 0,M=qj(C),q=(T=(I=(K=t.chain)==null?void 0:K.formatters)==null?void 0:I.transactionRequest)==null?void 0:T.format,ce=(q||CC)({...BO(S,{format:q}),from:N==null?void 0:N.address,accessList:a,authorizationList:r,blobs:c,data:j,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,to:D?void 0:_,value:x});if(s&&aee({request:ce})&&!M&&!$)try{return await cee(t,{...ce,blockNumber:i,blockTag:o})}catch(Ee){if(!(Ee instanceof Bj)&&!(Ee instanceof OT))throw Ee}const se=(()=>{const Ee=[ce,U];return M&&$?[...Ee,M,$]:M?[...Ee,M]:$?[...Ee,{},$]:Ee})(),ae=await t.request({method:"eth_call",params:se});return ae==="0x"?{data:void 0}:{data:ae}}catch(L){const U=dee(L),{offchainLookup:$,offchainLookupSignature:M}=await Wn(async()=>{const{offchainLookup:q,offchainLookupSignature:ee}=await import("./ccip-EAZ4UlUb.js");return{offchainLookup:q,offchainLookupSignature:ee}},[]);if(t.ccipRead!==!1&&(U==null?void 0:U.slice(0,10))===M&&_)return{data:await $(t,{data:U,to:_})};throw D&&(U==null?void 0:U.slice(0,10))==="0x101bb98d"?new zX({factory:h}):oee(L,{...e,account:N,chain:t.chain})}}function aee({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(ree)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function cee(t,e){var g;const{batchSize:n=1024,wait:r=0}=typeof((g=t.batch)==null?void 0:g.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:a,to:c}=e;let l=a;if(!l){if(!t.chain)throw new Bj;l=WO({blockNumber:s,chain:t.chain,contract:"multicall3"})}const d=(typeof s=="bigint"?rt(s):void 0)||i,{schedule:h}=xF({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(y){return y.reduce((v,{data:b})=>v+(b.length-2),0)>n*2},fn:async y=>{const w=y.map(_=>({allowFailure:!0,callData:_.data,target:_.to})),v=Ov({abi:FT,args:[w],functionName:"aggregate3"}),b=await t.request({method:"eth_call",params:[{data:v,to:l},d]});return HO({abi:FT,args:[w],functionName:"aggregate3",data:b||"0x"})}}),[{returnData:f,success:p}]=await h({data:o,to:c});if(!p)throw new GO({data:f});return f==="0x"?{data:void 0}:{data:f}}function lee(t){const{code:e,data:n}=t;return kO({abi:pF(["constructor(bytes, bytes)"]),bytecode:see,args:[e,n]})}function uee(t){const{data:e,factory:n,factoryData:r,to:s}=t;return kO({abi:pF(["constructor(address, bytes, address, bytes)"]),bytecode:iee,args:[s,e,n,r]})}function dee(t){var n;if(!(t instanceof fe))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function VO(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=Ov({abi:n,args:s,functionName:i});try{const{data:c}=await cn(t,_F,"call")({...o,data:a,to:r});return HO({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw Qx(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function hee(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=WO({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:RZ,functionName:"reverse",args:[_f(VX(c))],blockNumber:n,blockTag:r},u=cn(t,VO,"readContract"),[d,h]=s?await u({...l,args:[...l.args,s]}):await u(l);return e.toLowerCase()!==h.toLowerCase()?null:d}catch(l){if(i)throw l;if(HX(l))return null;throw l}}function fee(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(n[o]=c.request)})),i=>n[i]||t.request}async function pee(t){const e=fee(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const gee=new Map,mee=new Map;function yee(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,gee),r=e(t,mee);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function wee(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=yee(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const bee=t=>`blockNumber.${t}`;async function vee(t,{cacheTime:e=t.cacheTime}={}){const n=await wee(()=>t.request({method:"eth_blockNumber"}),{cacheKey:bee(t.uid),cacheTime:e});return BigInt(n)}function CF(t,e){if(!ga(t,{strict:!1}))throw new xd({address:t});if(!ga(e,{strict:!1}))throw new xd({address:e});return t.toLowerCase()===e.toLowerCase()}const x$="/docs/contract/decodeEventLog";function Eee(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new BY({docsPath:x$});const c=e.find(g=>g.type==="event"&&o===jO(vd(g)));if(!(c&&"name"in c)||c.type!=="event")throw new gj(o,{docsPath:x$});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(g=>!("name"in g&&g.name)),h=d?[]:{},f=u.map((g,y)=>[g,y]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<f.length;g++){const[y,w]=f[g],v=a[g];if(!v)throw new mj({abiItem:c,param:y});h[d?w:y.name||w]=xee({param:y,value:v})}const p=u.filter(g=>!("indexed"in g&&g.indexed));if(p.length>0){if(n&&n!=="0x")try{const g=SC(p,n);if(g)if(d)for(let y=0;y<u.length;y++)h[y]=h[y]??g.shift();else for(let y=0;y<p.length;y++)h[p[y].name]=g[y]}catch(g){if(i)throw g instanceof fj||g instanceof Rj?new PT({abiItem:c,data:n,params:p,size:Qn(n)}):g}else if(i)throw new PT({abiItem:c,data:"0x",params:p,size:0})}return{eventName:l,args:Object.values(h).length>0?h:void 0}}function xee({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(SC([t],e)||[])[0]}function _ee(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(u=>u.type==="event"&&o.topics[0]===jO(u));if(!c)return null;const l=Eee({...o,abi:[c],strict:s});return i&&!i.includes(l.eventName)||!Cee({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,u;if(c instanceof gj)return null;if(c instanceof PT||c instanceof mj){if(s)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function Cee(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?CF(o,a):i.type==="string"||i.type==="bytes"?wy(mC(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,e[i])):!1}):!1}function AF(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function Aee(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>AF(i));return!("abi"in e)||!e.abi?s:_ee({abi:e.abi,logs:s,strict:n})}async function SF(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var u,d,h;const o=r||"latest",a=n!==void 0?rt(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,rt(i)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,rt(i)]},{dedupe:!!a}),!c)throw new Mj({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:h.format)||Wj)(c)}const IF={"0x0":"reverted","0x1":"success"};function See(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>AF(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?yl(t.transactionIndex):null,status:t.status?IF[t.status]:null,type:t.type?Hj[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function _$(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new jj({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||See)(n)}async function Iee(t,e){var w;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:i,blockTag:o,multicallAddress:a,stateOverride:c}=e,l=e.contracts,u=s??(typeof((w=t.batch)==null?void 0:w.multicall)=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=WO({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=[[]];let f=0,p=0;for(let v=0;v<l.length;v++){const{abi:b,address:_,args:x,functionName:C}=l[v];try{const S=Ov({abi:b,args:x,functionName:C});p+=(S.length-2)/2,u>0&&p>u&&h[f].length>0&&(f++,p=(S.length-2)/2,h[f]=[]),h[f]=[...h[f],{allowFailure:!0,callData:S,target:_}]}catch(S){const N=Qx(S,{abi:b,address:_,args:x,docsPath:"/docs/contract/multicall",functionName:C,sender:n});if(!r)throw N;h[f]=[...h[f],{allowFailure:!0,callData:"0x",target:_}]}}const g=await Promise.allSettled(h.map(v=>cn(t,VO,"readContract")({abi:FT,account:n,address:d,args:[v],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:c}))),y=[];for(let v=0;v<g.length;v++){const b=g[v];if(b.status==="rejected"){if(!r)throw b.reason;for(let x=0;x<h[v].length;x++)y.push({status:"failure",error:b.reason,result:void 0});continue}const _=b.value;for(let x=0;x<_.length;x++){const{returnData:C,success:S}=_[x],{callData:N}=h[v][x],{abi:A,address:P,functionName:D,args:j}=l[y.length];try{if(N==="0x")throw new bC;if(!S)throw new GO({data:C});const H=HO({abi:A,args:j,data:C,functionName:D});y.push(r?{result:H,status:"success"}:H)}catch(H){const K=Qx(H,{abi:A,address:P,args:j,docsPath:"/docs/contract/multicall",functionName:D});if(!r)throw K;y.push({error:K,result:void 0,status:"failure"})}}}if(y.length!==l.length)throw new fe("multicall results mismatch");return y}const N1=new EC(8192);function Tee(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(N1.get(n))return N1.get(n);const r=t().finally(()=>N1.delete(n));return N1.set(n,r),r}async function Yx(t){return new Promise(e=>setTimeout(e,t))}function Jx(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await Yx(u),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}function Nee(t,e={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(l))throw new vh(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new vh(new Error("method not supported"),{method:l});const u=s?yC(`${c}.${ks(n)}`):void 0;return Tee(()=>Jx(async()=>{try{return await t(n)}catch(h){const f=h;switch(f.code){case Vw.code:throw new Vw(f);case Kw.code:throw new Kw(f);case Qw.code:throw new Qw(f,{method:n.method});case Yw.code:throw new Yw(f);case Af.code:throw new Af(f);case Jw.code:throw new Jw(f);case Zw.code:throw new Zw(f);case cd.code:throw new cd(f);case Wm.code:throw new Wm(f);case vh.code:throw new vh(f,{method:n.method});case Gm.code:throw new Gm(f);case Xw.code:throw new Xw(f);case or.code:throw new or(f);case eb.code:throw new eb(f);case tb.code:throw new tb(f);case nb.code:throw new nb(f);case rb.code:throw new rb(f);case cc.code:throw new cc(f);case qm.code:throw new qm(f);case sb.code:throw new sb(f);case ib.code:throw new ib(f);case ob.code:throw new ob(f);case ab.code:throw new ab(f);case cb.code:throw new cb(f);case Vm.code:throw new Vm(f);case 5e3:throw new or(f);default:throw h instanceof fe?h:new eZ(f)}}},{delay:({count:h,error:f})=>{var p;if(f&&f instanceof sw){const g=(p=f==null?void 0:f.headers)==null?void 0:p.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>Pee(h)}),{enabled:s,id:u})}}function Pee(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Gm.code||t.code===Af.code:t instanceof sw&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function kee(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function TF(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(e)},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function Oee(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const C$=Oee();function Ree(t,e={}){return{async request(n){var d;const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const h=await TF(async({signal:p})=>{const g={...a,body:Array.isArray(r)?ks(r.map(b=>({jsonrpc:"2.0",id:b.id??C$.take(),...b}))):ks({jsonrpc:"2.0",id:r.id??C$.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?p:null)},y=new Request(t,g),w=await(s==null?void 0:s(y,g))??{...g,url:t};return await fetch(w.url??t,w)},{errorInstance:new h$({body:r,url:t}),timeout:o,signal:!0});i&&await i(h);let f;if((d=h.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))f=await h.json();else{f=await h.text();try{f=JSON.parse(f||"{}")}catch(p){if(h.ok)throw p;f={error:f}}}if(!h.ok)throw new sw({body:r,details:ks(f.error)||h.statusText,headers:h.headers,status:h.status,url:t});return f}catch(h){throw h instanceof sw||h instanceof h$?h:new sw({body:r,cause:h,url:t})}}}}class Dee extends fe{constructor({domain:e}){super(`Invalid domain "${ks(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class $ee extends fe{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Uee extends fe{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Bee(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(c,l)=>{const u={...l};for(const d of c){const{name:h,type:f}=d;f==="address"&&(u[h]=u[h].toLowerCase())}return u},o=s.EIP712Domain?e?i(s.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return ks({domain:o,message:a,primaryType:r,types:s})}function Lee(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(o,a)=>{for(const c of o){const{name:l,type:u}=c,d=a[l],h=u.match(kj);if(h&&(typeof d=="number"||typeof d=="bigint")){const[g,y,w]=h;rt(d,{signed:y==="int",size:Number.parseInt(w)/8})}if(u==="address"&&typeof d=="string"&&!ga(d))throw new xd({address:d});const f=u.match(_J);if(f){const[g,y]=f;if(y&&Qn(d)!==Number.parseInt(y))throw new jY({expectedSize:Number.parseInt(y),givenSize:Qn(d)})}const p=s[u];p&&(jee(u),i(p,d))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new Dee({domain:e});i(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new $ee({primaryType:r,types:s})}function Mee({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function jee(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Uee({type:t})}class Fee extends fe{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function zee(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new Fee({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}const NS=new Map,A$=new Map;let Hee=0;function db(t,e,n){const r=++Hee,s=()=>NS.get(t)||[],i=()=>{const u=s();NS.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=s();if(!u.some(h=>h.id===r))return;const d=A$.get(t);if(u.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}i()},a=s();if(NS.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...d)=>{var f,p;const h=s();if(h.length!==0)for(const g of h)(p=(f=g.fns)[u])==null||p.call(f,...d)};const l=n(c);return typeof l=="function"&&A$.set(t,l),o}function KO(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await Yx(c);const l=async()=>{s&&(await t({unpoll:i}),await Yx(r),l())};l()})(),i}function Wee(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=ks(["watchBlockNumber",t.uid,e,n,o]);return db(d,{onBlockNumber:r,onError:s},h=>KO(async()=>{var f;try{const p=await cn(t,vee,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let g=c+1n;g<p;g++)h.onBlockNumber(g,c),c=g}(!c||p>c)&&(h.onBlockNumber(p,c),c=p)}catch(p){(f=h.onError)==null||f.call(h,p)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=ks(["watchBlockNumber",t.uid,e,n]);return db(d,{onBlockNumber:r,onError:s},h=>{let f=!0,p=()=>f=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),{unsubscribe:y}=await g.subscribe({params:["newHeads"],onData(w){var b;if(!f)return;const v=ml((b=w.result)==null?void 0:b.number);h.onBlockNumber(v,c),c=v},onError(w){var v;(v=h.onError)==null||v.call(h,w)}});p=y,f||p()}catch(g){s==null||s(g)}})(),()=>p()})})()}async function Gee(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function qee(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=ks(["watchPendingTransactions",t.uid,e,i]);return db(l,{onTransactions:r,onError:n},u=>{let d;const h=KO(async()=>{var f;try{if(!d)try{d=await cn(t,pee,"createPendingTransactionFilter")({});return}catch(g){throw h(),g}const p=await cn(t,Aee,"getFilterChanges")({filter:d});if(p.length===0)return;if(e)u.onTransactions(p);else for(const g of p)u.onTransactions([g])}catch(p){(f=u.onError)==null||f.call(u,p)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await cn(t,Gee,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const f=h.result;r([f])},onError(h){n==null||n(h)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}async function Vee(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Iv(r))}async function Kee(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Qee(t,e={}){const{account:n=t.account,chainId:r}=e,s=n?Hr(n):void 0,i=r?[s==null?void 0:s.address,[rt(r)]]:[s==null?void 0:s.address],o=await t.request({method:"wallet_getCapabilities",params:i}),a={};for(const[c,l]of Object.entries(o)){a[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=d}return typeof r=="number"?a[r]:a}const NF="0x5792579257925792579257925792579257925792579257925792579257925792",PF=rt(0,{size:32});async function Yee(t,e){const{account:n=t.account,capabilities:r,chain:s=t.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=e,u=n?Hr(n):null,d=e.calls.map(h=>{const f=h,p=f.abi?Ov({abi:f.abi,functionName:f.functionName,args:f.args}):f.data;return{data:f.dataSuffix&&p?Ed([p,f.dataSuffix]):p,to:f.to,value:f.value?rt(f.value):void 0}});try{const h=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:rt(s.id),from:u==null?void 0:u.address,id:c,version:l}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const f=h;if(i&&(f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError"||f.name==="UnknownRpcError"||f.details.toLowerCase().includes("does not exist / is not available")||f.details.toLowerCase().includes("missing or invalid. request()")||f.details.toLowerCase().includes("did not match any variant of untagged enum")||f.details.toLowerCase().includes("account upgraded to unsupported contract")||f.details.toLowerCase().includes("eip-7702 not supported")||f.details.toLowerCase().includes("unsupported wc_ method"))){if(r&&Object.values(r).some(v=>!v.optional)){const v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new qm(new fe(v,{details:v}))}if(a&&d.length>1){const w="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Vm(new fe(w,{details:w}))}const p=[];for(const w of d){const v=kv(t,{account:u,chain:s,data:w.data,to:w.to,value:w.value?ml(w.value):void 0});p.push(v),o>0&&await new Promise(b=>setTimeout(b,o))}const g=await Promise.allSettled(p);if(g.every(w=>w.status==="rejected"))throw g[0].reason;const y=g.map(w=>w.status==="fulfilled"?w.value:PF);return{id:Ed([...y,rt(s.id,{size:32}),NF])}}throw Fj(h,{...e,account:u,chain:e.chain})}}async function kF(t,e){async function n(u){if(u.endsWith(NF.slice(2))){const h=yy(kT(u,-64,-32)),f=kT(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(f.map(y=>PF.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),g=p.some(y=>y===null)?100:p.every(y=>(y==null?void 0:y.status)==="0x1")?200:p.every(y=>(y==null?void 0:y.status)==="0x0")?500:600;return{atomic:!1,chainId:yl(h),receipts:p.filter(Boolean),status:g,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(e.id),[c,l]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:s?yl(s):void 0,receipts:(i==null?void 0:i.map(u=>({...u,blockNumber:ml(u.blockNumber),gasUsed:ml(u.gasUsed),status:IF[u.status]})))??[],statusCode:l,status:c,version:o}}async function Jee(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function Zee(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:h})=>h>=200,timeout:i=6e4}=e,o=ks(["waitForCallsStatus",t.uid,n]),{promise:a,resolve:c,reject:l}=qO();let u;const d=db(o,{resolve:c,reject:l},h=>{const f=KO(async()=>{const p=g=>{clearTimeout(u),f(),g(),d()};try{const g=await kF(t,{id:n});if(!s(g))return;p(()=>h.resolve(g))}catch(g){p(()=>h.reject(g))}},{interval:r,emitOnBegin:!0});return f});return u=i?setTimeout(()=>{d(),clearTimeout(u),l(new Xee({id:n}))},i):void 0,await a}class Xee extends fe{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function ete(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=ks(["waitForTransactionReceipt",t.uid,n]);let l,u,d,h=!1,f,p;const{promise:g,resolve:y,reject:w}=qO(),v=a?setTimeout(()=>{p(),f(),w(new JJ({hash:n}))},a):void 0;return f=db(c,{onReplaced:r,resolve:y,reject:w},b=>{p=cn(t,Wee,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(_){const x=S=>{clearTimeout(v),p(),S(),f()};let C=_;if(!h)try{if(d){if(e>1&&(!d.blockNumber||C-d.blockNumber+1n<e))return;x(()=>b.resolve(d));return}if(l||(h=!0,await Jx(async()=>{l=await cn(t,SF,"getTransaction")({hash:n}),l.blockNumber&&(C=l.blockNumber)},{delay:o,retryCount:i}),h=!1),d=await cn(t,_$,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||C-d.blockNumber+1n<e))return;x(()=>b.resolve(d))}catch(S){if(S instanceof Mj||S instanceof jj){if(!l){h=!1;return}try{u=l,h=!0;const N=await Jx(()=>cn(t,lb,"getBlock")({blockNumber:C,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:D})=>D instanceof zj});h=!1;const A=N.transactions.find(({from:D,nonce:j})=>D===u.from&&j===u.nonce);if(!A||(d=await cn(t,_$,"getTransactionReceipt")({hash:A.hash}),e>1&&(!d.blockNumber||C-d.blockNumber+1n<e)))return;let P="replaced";A.to===u.to&&A.value===u.value&&A.input===u.input?P="repriced":A.from===A.to&&A.value===0n&&(P="cancelled"),x(()=>{var D;(D=b.onReplaced)==null||D.call(b,{reason:P,replacedTransaction:u,transaction:A,transactionReceipt:d}),b.resolve(d)})}catch(N){x(()=>b.reject(N))}}else x(()=>b.reject(S))}}})}),g}async function tte(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Vu(n))}async function nte(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function OF(t,e){var c;const{account:n=t.account,chainId:r,nonce:s}=e;if(!n)throw new Qf({docsPath:"/docs/eip7702/prepareAuthorization"});const i=Hr(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Hr(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await cn(t,Pv,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await cn(t,Qj,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&CF(o.address,i.address))&&(a.nonce+=1)),a}async function rte(t,e){const{account:n=t.account}=e;if(!n)throw new Qf({docsPath:"/docs/eip7702/signAuthorization"});const r=Hr(n);if(!r.signAuthorization)throw new HE({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await OF(t,e);return r.signAuthorization(s)}async function ste(t,e){var l,u,d,h;const{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new Qf({docsPath:"/docs/actions/wallet/signTransaction"});const i=Hr(n);Nv({account:i,...e});const o=await cn(t,Pv,"getChainId")({});r!==null&&Lj({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=t.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||CC;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:(h=(d=t.chain)==null?void 0:d.serializers)==null?void 0:h.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(s),chainId:rt(o),from:i.address}]},{retryCount:0})}async function RF(t,{account:e=t.account,message:n}){if(!e)throw new Qf({docsPath:"/docs/actions/wallet/signMessage"});const r=Hr(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?yC(n):n.raw instanceof Uint8Array?_f(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function ite(t,e){const{account:n=t.account,domain:r,message:s,primaryType:i}=e;if(!n)throw new Qf({docsPath:"/docs/actions/wallet/signTypedData"});const o=Hr(n),a={EIP712Domain:Mee({domain:r}),...e.types};if(Lee({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=Bee({domain:r,message:s,primaryType:i,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function ote(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:rt(e)}]},{retryCount:0})}async function ate(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function DF(t,e){const{abi:n,account:r=t.account,address:s,args:i,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new Qf({docsPath:"/docs/contract/writeContract"});const l=r?Hr(r):null,u=Ov({abi:n,args:i,functionName:a});try{return await cn(t,kv,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:s,account:l,...c})}catch(d){throw Qx(d,{abi:n,address:s,args:i,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}function ji(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const WE="2.17.3",cte=()=>`@wagmi/core@${WE}`;var $F=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Zx,UF;let Cl=class QT extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return cte()}constructor(e,n={}){var i;super(),Zx.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof QT?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof QT&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return $F(this,Zx,"m",UF).call(this,this,e)}};Zx=new WeakSet,UF=function t(e,n){return n!=null&&n(e)?e:e.cause?$F(this,Zx,"m",t).call(this,e.cause,n):e};class hb extends Cl{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class lte extends Cl{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class ute extends Cl{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class dte extends Cl{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class hte extends Cl{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class fte extends Cl{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function GE(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new lte;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await n.connect(i),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(s){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}const YT=256;let P1=YT,k1;function BF(t=11){if(!k1||P1+t>YT*2){k1="",P1=0;for(let e=0;e<YT;e++)k1+=(256+Math.random()*256|0).toString(16).substring(1)}return k1.substring(P1,P1+++t)}function LF(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,a=(n==null?void 0:n.blockTime)??12e3,c=Math.min(Math.max(Math.floor(a/2),500),4e3),l=t.pollingInterval??c,u=t.cacheTime??l,d=t.account?Hr(t.account):void 0,{config:h,request:f,value:p}=t.transport({chain:n,pollingInterval:l}),g={...h,...p},y={account:d,batch:e,cacheTime:u,ccipRead:r,chain:n,key:s,name:i,pollingInterval:l,request:f,transport:g,type:o,uid:BF()};function w(v){return b=>{const _=b(v);for(const C in y)delete _[C];const x={...v,..._};return Object.assign(x,{extend:w(x)})}}return Object.assign(y,{extend:w(y)})}function QO({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=BF();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:Nee(r,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}function pte(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>QO({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}function S$(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=gte,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let h=t,f=()=>{};const p=QO({key:n,name:r,async request({method:g,params:y}){let w;const v=async(b=0)=>{const _=h[b]({...d,chain:c,retryCount:0,timeout:u});try{const x=await _.request({method:g,params:y});return f({method:g,params:y,response:x,transport:_,status:"success"}),x}catch(x){if(f({error:x,method:g,params:y,transport:_,status:"error"}),i(x)||b===h.length-1||(w??(w=h.slice(b+1).some(C=>{const{include:S,exclude:N}=C({chain:c}).config.methods||{};return S?S.includes(g):N?!N.includes(g):!0})),!w))throw x;return v(b+1)}};return v()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>f=g,transports:h.map(g=>g({chain:c,retryCount:0}))});if(s){const g=typeof s=="object"?s:{};mte({chain:c,interval:g.interval??l,onTransports:y=>h=y,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:h,weights:g.weights})}return p}}function gte(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Wm.code||t.code===or.code||bh.nodeMessage.test(t.message)||t.code===5e3))}function mte({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const h=await Promise.all(o.map(async g=>{const y=g({chain:t,retryCount:0,timeout:i}),w=Date.now();let v,b;try{await(r?r({transport:y}):y.request({method:"net_listening"})),b=1}catch{b=0}finally{v=Date.now()}return{latency:v-w,success:b}}));u.push(h),u.length>s&&u.shift();const f=Math.max(...u.map(g=>Math.max(...g.map(({latency:y})=>y)))),p=o.map((g,y)=>{const w=u.map(C=>C[y].latency),b=1-w.reduce((C,S)=>C+S,0)/w.length/f,_=u.map(C=>C[y].success),x=_.reduce((C,S)=>C+S,0)/_.length;return x===0?[0,y]:[l*b+c*x,y]}).sort((g,y)=>y[0]-g[0]);n(p.map(([,g])=>o[g])),await Yx(e),d()};d()}class yte extends fe{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function O1(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:h,timeout:f})=>{const{batchSize:p=1e3,wait:g=0}=typeof n=="object"?n:{},y=e.retryCount??h,w=f??e.timeout??1e4,v=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!v)throw new yte;const b=Ree(v,{fetchOptions:r,onRequest:a,onResponse:c,timeout:w});return QO({key:s,methods:i,name:o,async request({method:_,params:x}){const C={method:_,params:x},{schedule:S}=xF({id:v,wait:g,shouldSplitBatch(D){return D.length>p},fn:D=>b.request({body:D}),sort:(D,j)=>D.id-j.id}),N=async D=>n?S(D):[await b.request({body:D})],[{error:A,result:P}]=await N(C);if(u)return{error:A,result:P};if(A)throw new $O({body:C,error:A,url:v});return P},retryCount:y,retryDelay:l,timeout:w,type:"http"},{fetchOptions:r,url:v})}}function wte(t){return{addChain:e=>kY(t,e),deployContract:e=>kZ(t,e),getAddresses:()=>Vee(t),getCallsStatus:e=>kF(t,e),getCapabilities:e=>Qee(t,e),getChainId:()=>Pv(t),getPermissions:()=>Kee(t),prepareAuthorization:e=>OF(t,e),prepareTransactionRequest:e=>AC(t,e),requestAddresses:()=>tte(t),requestPermissions:e=>nte(t,e),sendCalls:e=>Yee(t,e),sendRawTransaction:e=>tF(t,e),sendTransaction:e=>kv(t,e),showCallsStatus:e=>Jee(t,e),signAuthorization:e=>rte(t,e),signMessage:e=>RF(t,e),signTransaction:e=>ste(t,e),signTypedData:e=>ite(t,e),switchChain:e=>ote(t,e),waitForCallsStatus:e=>Zee(t,e),watchAsset:e=>ate(t,e),writeContract:e=>DF(t,e)}}async function Rv(t,e={}){let n;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new fte({connector:l});const[u,d]=await Promise.all([l.getAccounts().catch(h=>{if(e.account===null)return[];throw h}),l.getChainId()]);n={accounts:u,chainId:d,connector:l}}else n=t.state.connections.get(t.state.current);if(!n)throw new ute;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new hte({connectionChainId:n.chainId,connectorChainId:s});const i=n.connector;if(i.getClient)return i.getClient({chainId:r});const o=Hr(e.account??n.accounts[0]);if(o&&(o.address=Vu(o.address)),e.account&&!n.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new dte({address:o.address,connector:i});const a=t.chains.find(l=>l.id===r),c=await n.connector.getProvider({chainId:r});return LF({account:o,chain:a,name:"Connector Client",transport:l=>pte(c)({...l,retryCount:0})})}async function MF(t,e={}){var s,i;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(s=t.state.connections.get(o))==null?void 0:s.connector;if(!a)return;await((i=t.storage)==null?void 0:i.setItem("recentConnectorId",a.id))}}async function bte(t,e){const{chainId:n,connector:r,...s}=e;let i;e.account?i=e.account:i=(await Rv(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return ji(o,Kj,"estimateGas")({...s,account:i})}function jF(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(VJ[t])}function Tg(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function vte(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=e,o=t.getClient({chainId:r});return ji(o,Iee,"multicall")({allowFailure:n,contracts:s,...i})}function Ete(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return ji(s,VO,"readContract")(r)}async function xte(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=e,o=e.contracts;try{const c={};for(const[h,f]of o.entries()){const p=f.chainId??t.state.chainId;c[p]||(c[p]=[]),(a=c[p])==null||a.push({contract:f,index:h})}const l=()=>Object.entries(c).map(([h,f])=>vte(t,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(h),contracts:f.map(({contract:p})=>p)})),u=(await Promise.all(l())).flat(),d=Object.values(c).flatMap(h=>h.map(({index:f})=>f));return u.reduce((h,f,p)=>(h&&(h[d[p]]=f),h),[])}catch(c){if(c instanceof bF)throw c;const l=()=>o.map(u=>Ete(t,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(l())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function _te(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=e;if(o)try{return await I$(t,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(h){if(h.name==="ContractFunctionExecutionError"){const f=await I$(t,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),p=dj(yy(f.symbol,{dir:"right"}));return{...f,symbol:p}}throw h}const c=t.getClient({chainId:i}),u=await ji(c,Vj,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=t.chains.find(h=>h.id===i)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:by(u,jF(a)),symbol:d.nativeCurrency.symbol,value:u}}async function I$(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,l,u]=await xte(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=by(c??"0",jF(o??l));return{decimals:l,formatted:d,symbol:u,value:c}}function T$(t){return t.state.chainId}function If(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!If(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!If(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let R1=[];function Da(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||If(R1,e)?R1:(R1=e,e)}let PS=[];function N$(t){const e=t.connectors;return If(PS,e)?PS:(PS=e,e)}function Cte(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return ji(s,hee,"getEnsName")(r)}async function Ate(t,e={}){return(await Rv(t,e)).extend(wte)}async function Ste(t,e){const{account:n,chainId:r,...s}=e,i=n??Tg(t).address,o=t.getClient({chainId:r});return ji(o,AC,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}let kS=!1;async function JT(t,e={}){var l,u;if(kS)return[];kS=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const d of e.connectors){let h;typeof d=="function"?h=t._internal.connectors.setup(d):h=d,n.push(h)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of t.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,h)=>(s[d.id]??10)-(s[h.id]??10)):n;let o=!1;const a=[],c=[];for(const d of i){const h=await d.getProvider().catch(()=>{});if(!h||c.some(g=>g===h)||!await d.isAuthorized())continue;const p=await d.connect({isReconnecting:!0}).catch(()=>null);p&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(g=>{const y=new Map(o?g.connections:new Map).set(d.uid,{accounts:p.accounts,chainId:p.chainId,connector:d});return{...g,current:o?g.current:d.uid,connections:y}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:d}),c.push(h),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),kS=!1,a}async function Ite(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await Rv(t,{account:n??void 0,chainId:r,connector:s}),await ji(o,kv,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function Tte(t,e){const{account:n,connector:r,...s}=e;let i;return typeof n=="object"&&n.type==="local"?i=t.getClient():i=await Rv(t,{account:n,connector:r}),ji(i,RF,"signMessage")({...s,...n?{account:n}:{}})}class su extends Cl{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class Nte extends Cl{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function P$(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new Nte({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const i=t.chains.find(a=>a.id===r);if(!i)throw new hb;return t.setState(a=>({...a,chainId:r})),i}function FF(t,e){const{onChange:n}=e;return t.subscribe(()=>Tg(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return If(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function Pte(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function kte(t,e){const{onChange:n}=e;return t.subscribe(()=>Da(t),n,{equalityFn:If})}function zF(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function Ote(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const i=c=>{s&&s();const l=t.getClient({chainId:c});return s=ji(l,qee,"watchPendingTransactions")(r),s},o=i(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>i(c))),()=>{o==null||o(),a==null||a()}}async function Rte(t,e){const{chainId:n,timeout:r=0,...s}=e,i=t.getClient({chainId:n}),a=await ji(i,ete,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const l=await ji(i,SF,"getTransaction")({hash:a.transactionHash}),d=await ji(i,_F,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),h=d!=null&&d.data?dj(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...a,chainId:i.chain.id}}async function Dte(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await Rv(t,{account:n??void 0,chainId:r,connector:s}),await ji(o,DF,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function j5e(t){return t}IC.type="injected";function IC(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...$te[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:IC.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)))},async connect({chainId:l,isReconnecting:u}={}){var f,p,g,y,w,v;const d=await this.getProvider();if(!d)throw new su;let h=[];if(u)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(y=(g=(p=(f=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:f.caveats)==null?void 0:p[0])==null?void 0:g.value)==null?void 0:y.map(_=>Vu(_)),h.length>0&&(h=await this.getAccounts())}catch(b){const _=b;if(_.code===or.code)throw new or(_);if(_.code===cd.code)throw _}try{!(h!=null&&h.length)&&!u&&(h=(await d.request({method:"eth_requestAccounts"})).map(x=>Vu(x))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let b=await this.getChainId();if(l&&b!==l){const _=await this.switchChain({chainId:l}).catch(x=>{if(x.code===or.code)throw x;return{id:b}});b=(_==null?void 0:_.id)??b}return e&&await((w=c.storage)==null?void 0:w.removeItem(`${this.id}.disconnected`)),t.target||await((v=c.storage)==null?void 0:v.setItem("injected.connected",!0)),{accounts:h,chainId:b}}catch(b){const _=b;throw _.code===or.code?new or(_):_.code===cd.code?new cd(_):_}},async disconnect(){var u,d;const l=await this.getProvider();if(!l)throw new su;i&&(l.removeListener("chainChanged",i),i=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await TF(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new su;return(await l.request({method:"eth_accounts"})).map(d=>Vu(d))},async getChainId(){const l=await this.getProvider();if(!l)throw new su;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=qE(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),g=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(w=>window.addEventListener("ethereum#initialized",()=>w(p()),{once:!0}))]:[],new Promise(w=>setTimeout(()=>w(p()),g))]))return!0}throw new su}return!!(await Jx(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var p,g,y,w;const d=await this.getProvider();if(!d)throw new su;const h=c.chains.find(v=>v.id===u);if(!h)throw new cc(new hb);const f=new Promise(v=>{const b=_=>{"chainId"in _&&_.chainId===u&&(c.emitter.off("change",b),v())};c.emitter.on("change",b)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:rt(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),f]),h}catch(v){const b=v;if(b.code===4902||((g=(p=b==null?void 0:b.data)==null?void 0:p.originalError)==null?void 0:g.code)===4902)try{const{default:_,...x}=h.blockExplorers??{};let C;l!=null&&l.blockExplorerUrls?C=l.blockExplorerUrls:_&&(C=[_.url,...Object.values(x).map(A=>A.url)]);let S;(y=l==null?void 0:l.rpcUrls)!=null&&y.length?S=l.rpcUrls:S=[((w=h.rpcUrls.default)==null?void 0:w.http[0])??""];const N={blockExplorerUrls:C,chainId:rt(u),chainName:(l==null?void 0:l.chainName)??h.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??h.nativeCurrency,rpcUrls:S};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[N]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new or(new Error("User rejected switch after adding network."))}),f]),h}catch(_){throw new or(_)}throw b.code===or.code?new or(b):new cc(b)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(d=>Vu(d))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const d=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:d});const h=await this.getProvider();h&&(o&&(h.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const $te={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:qE(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return qE(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:qE(t,"isPhantom")}}};function qE(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Ute(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Bte(){const t=new Set;let e=[];const n=()=>Ute(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const Lte=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=h=>{const f=o(h);if(!u(d,f)){const p=d;a(d=f,p)}},c!=null&&c.fireImmediately&&a(d,d)}return s(l)},t(e,n,r)},Mte=Lte;function jte(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const ZT=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return ZT(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ZT(r)(n)}}}},Fte=(t,e)=>(n,r,s)=>{let i={storage:jte(()=>localStorage),partialize:g=>g,version:0,merge:(g,y)=>({...y,...g}),...e},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...g)},r,s);const u=()=>{const g=i.partialize({...r()});return l.setItem(i.name,{state:g,version:i.version})},d=s.setState;s.setState=(g,y)=>{d(g,y),u()};const h=t((...g)=>{n(...g),u()},r,s);s.getInitialState=()=>h;let f;const p=()=>{var g,y;if(!l)return;o=!1,a.forEach(v=>{var b;return v((b=r())!=null?b:h)});const w=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(g=r())!=null?g:h))||void 0;return ZT(l.getItem.bind(l))(i.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return[!0,i.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var b;const[_,x]=v;if(f=i.merge(x,(b=r())!=null?b:h),n(f,!0),_)return u()}).then(()=>{w==null||w(f,void 0),f=r(),o=!0,c.forEach(v=>v(f))}).catch(v=>{w==null||w(void 0,v)})};return s.persist={setOptions:g=>{i={...i,...g},g.storage&&(l=g.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},i.skipHydration||p(),f||h},zte=Fte,k$=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,s,a);return a},OS=t=>t?k$(t):k$;var HF={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new s(u,d||c,h),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,h,f,p){var g=n?n+l:l;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,f),!0;case 6:return y.fn.call(y.context,u,d,h,f,p),!0}for(b=1,v=new Array(w-1);b<w;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var _=y.length,x;for(b=0;b<_;b++)switch(y[b].once&&this.removeListener(l,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,d);break;case 4:y[b].fn.call(y[b].context,u,d,h);break;default:if(!v)for(x=1,v=new Array(w-1);x<w;x++)v[x-1]=arguments[x];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,h){var f=n?n+l:l;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var g=0,y=[],w=p.length;g<w;g++)(p[g].fn!==u||h&&!p[g].once||d&&p[g].context!==d)&&y.push(p[g]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(HF);var Hte=HF.exports;const Wte=qf(Hte);class Gte{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Wte})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function qte(t){return new Gte(t)}function Vte(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function O$(t,e){return t.slice(0,e).join(".")||"."}function R$(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function Kte(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const l=R$(s,this);l===0?s[s.length]=this:(s.splice(l),i.splice(l)),i[i.length]=a;const u=R$(s,c);if(u!==0)return r?e.call(this,a,c,O$(i,u)):`[ref=${O$(i,u)}]`}else s[0]=c,i[0]=a;return n?t.call(this,a,c):c}}function Qte(t,e,n,r){return JSON.stringify(t,Kte((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),n??void 0)}function Yte(t){const{deserialize:e=Vte,key:n="wagmi",serialize:r=Qte,storage:s=WF}=t;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),l=await i(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const WF={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Jte(){const t=typeof window<"u"&&window.localStorage?window.localStorage:WF;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const XT=256;let D1=XT,$1;function Zte(t=11){if(!$1||D1+t>XT*2){$1="",D1=0;for(let e=0;e<XT;e++)$1+=(256+Math.random()*256|0).toString(16).substring(1)}return $1.substring(D1,D1+++t)}function Xte(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=Yte({storage:Jte()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?Bte():void 0,a=OS(()=>i.chains),c=OS(()=>{const x=[],C=new Set;for(const S of i.connectors??[]){const N=l(S);if(x.push(N),!s&&N.rdns){const A=typeof N.rdns=="string"?[N.rdns]:N.rdns;for(const P of A)C.add(P)}}if(!s&&o){const S=o.getProviders();for(const N of S)C.has(N.info.rdns)||x.push(l(u(N)))}return x});function l(x){var N;const C=qte(Zte()),S={...x({emitter:C,chains:a.getState(),storage:n,transports:i.transports}),emitter:C,uid:C.uid};return C.on("connect",b),(N=S.setup)==null||N.call(S),S}function u(x){const{info:C}=x,S=x.provider;return IC({target:{...C,id:C.rdns,provider:S}})}const d=new Map;function h(x={}){const C=x.chainId??y.getState().chainId,S=a.getState().find(A=>A.id===C);if(x.chainId&&!S)throw new hb;{const A=d.get(y.getState().chainId);if(A&&!S)return A;if(!S)throw new hb}{const A=d.get(C);if(A)return A}let N;if(i.client)N=i.client({chain:S});else{const A=S.id,P=a.getState().map(H=>H.id),D={},j=Object.entries(i);for(const[H,K]of j)if(!(H==="chains"||H==="client"||H==="connectors"||H==="transports"))if(typeof K=="object")if(A in K)D[H]=K[A];else{if(P.some(T=>T in K))continue;D[H]=K}else D[H]=K;N=LF({...D,chain:S,batch:D.batch??{multicall:!0},transport:H=>i.transports[A]({...H,connectors:c})})}return d.set(C,N),N}function f(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const g="0.0.0-canary-";WE.startsWith(g)?p=Number.parseInt(WE.replace(g,"")):p=Number.parseInt(WE.split(".")[0]??"0");const y=OS(Mte(n?zte(f,{migrate(x,C){if(C===p)return x;const S=f(),N=w(x,S.chainId);return{...S,chainId:N}},name:"store",partialize(x){return{connections:{__type:"Map",value:Array.from(x.connections.entries()).map(([C,S])=>{const{id:N,name:A,type:P,uid:D}=S.connector;return[C,{...S,connector:{id:N,name:A,type:P,uid:D}}]})},chainId:x.chainId,current:x.current}},merge(x,C){typeof x=="object"&&x&&"status"in x&&delete x.status;const S=w(x,C.chainId);return{...C,...x,chainId:S}},skipHydration:s,storage:n,version:p}):f));y.setState(f());function w(x,C){return x&&typeof x=="object"&&"chainId"in x&&typeof x.chainId=="number"&&a.getState().some(S=>S.id===x.chainId)?x.chainId:C}r&&y.subscribe(({connections:x,current:C})=>{var S;return C?(S=x.get(C))==null?void 0:S.chainId:void 0},x=>{if(a.getState().some(S=>S.id===x))return y.setState(S=>({...S,chainId:x??S.chainId}))}),o==null||o.subscribe(x=>{const C=new Set,S=new Set;for(const A of c.getState())if(C.add(A.id),A.rdns){const P=typeof A.rdns=="string"?[A.rdns]:A.rdns;for(const D of P)S.add(D)}const N=[];for(const A of x){if(S.has(A.info.rdns))continue;const P=l(u(A));C.has(P.id)||N.push(P)}n&&!y.persist.hasHydrated()||c.setState(A=>[...A,...N],!0)});function v(x){y.setState(C=>{const S=C.connections.get(x.uid);return S?{...C,connections:new Map(C.connections).set(x.uid,{accounts:x.accounts??S.accounts,chainId:x.chainId??S.chainId,connector:S.connector})}:C})}function b(x){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(C=>{const S=c.getState().find(N=>N.uid===x.uid);return S?(S.emitter.listenerCount("connect")&&S.emitter.off("connect",v),S.emitter.listenerCount("change")||S.emitter.on("change",v),S.emitter.listenerCount("disconnect")||S.emitter.on("disconnect",_),{...C,connections:new Map(C.connections).set(x.uid,{accounts:x.accounts,chainId:x.chainId,connector:S}),current:x.uid,status:"connected"}):C})}function _(x){y.setState(C=>{const S=C.connections.get(x.uid);if(S){const A=S.connector;A.emitter.listenerCount("change")&&S.connector.emitter.off("change",v),A.emitter.listenerCount("disconnect")&&S.connector.emitter.off("disconnect",_),A.emitter.listenerCount("connect")||S.connector.emitter.on("connect",b)}if(C.connections.delete(x.uid),C.connections.size===0)return{...C,connections:new Map,current:null,status:"disconnected"};const N=C.connections.values().next().value;return{...C,connections:new Map(C.connections),current:N.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:h,get state(){return y.getState()},setState(x){let C;typeof x=="function"?C=x(y.getState()):C=x;const S=f();typeof C!="object"&&(C=S),Object.keys(S).some(A=>!(A in C))&&(C=S),y.setState(C,!0)},subscribe(x,C,S){return y.subscribe(x,C,S?{...S,fireImmediately:S.emitImmediately}:void 0)},_internal:{mipd:o,store:y,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(x){const C=typeof x=="function"?x(a.getState()):x;if(C.length!==0)return a.setState(C,!0)},subscribe(x){return a.subscribe(x)}},connectors:{providerDetailToConnector:u,setup:l,setState(x){return c.setState(typeof x=="function"?x(c.getState()):x,!0)},subscribe(x){return c.subscribe(x)}},events:{change:v,connect:b,disconnect:_}}}}function ene(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var c;const i=new Set;for(const l of s??[])if(l.rdns){const u=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const d of u)i.add(d)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(i.has(l.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(l),d=t._internal.connectors.setup(u);o.push(d)}return[...s,...o]})),r?JT(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function tne(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:i}=ene(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=O.useRef(!0);return O.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),e}const GF=O.createContext(void 0);function nne(t){const{children:e,config:n}=t,r={value:n};return O.createElement(tne,t,O.createElement(GF.Provider,r,e))}const rne="2.15.6",sne=()=>`wagmi@${rne}`;let ine=class extends Cl{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return sne()}};class one extends ine{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Bd(t={}){const e=t.config??O.useContext(GF);if(!e)throw new one;return e}var qF={exports:{}},VF={},KF={exports:{}},QF={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km=O;function ane(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cne=typeof Object.is=="function"?Object.is:ane,lne=Km.useState,une=Km.useEffect,dne=Km.useLayoutEffect,hne=Km.useDebugValue;function fne(t,e){var n=e(),r=lne({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return dne(function(){s.value=n,s.getSnapshot=e,RS(s)&&i({inst:s})},[t,n,e]),une(function(){return RS(s)&&i({inst:s}),t(function(){RS(s)&&i({inst:s})})},[t]),hne(n),n}function RS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cne(t,n)}catch{return!0}}function pne(t,e){return e()}var gne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pne:fne;QF.useSyncExternalStore=Km.useSyncExternalStore!==void 0?Km.useSyncExternalStore:gne;KF.exports=QF;var mne=KF.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC=O,yne=mne;function wne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bne=typeof Object.is=="function"?Object.is:wne,vne=yne.useSyncExternalStore,Ene=TC.useRef,xne=TC.useEffect,_ne=TC.useMemo,Cne=TC.useDebugValue;VF.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=Ene(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=_ne(function(){function c(f){if(!l){if(l=!0,u=f,f=r(f),s!==void 0&&o.hasValue){var p=o.value;if(s(p,f))return d=p}return d=f}if(p=d,bne(u,f))return p;var g=r(f);return s!==void 0&&s(p,g)?(u=f,p):(u=f,d=g)}var l=!1,u,d,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,s]);var a=vne(t,i[0],i[1]);return xne(function(){o.hasValue=!0,o.value=a},[a]),Cne(a),a};qF.exports=VF;var Ane=qF.exports;const DS=t=>typeof t=="object"&&!Array.isArray(t);function Sne(t,e,n=e,r=If){const s=O.useRef([]),i=Ane.useSyncExternalStoreWithSelector(t,e,n,o=>o,(o,a)=>{if(DS(o)&&DS(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return O.useMemo(()=>{if(DS(i)){const o={...i};let a={};for(const[c,l]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),l)}};return Object.defineProperties(o,a),o}return i},[i])}function Dv(t={}){const e=Bd(t);return Sne(n=>FF(e,{onChange:n}),()=>Tg(e))}var Ey=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tf=typeof window>"u"||"Deno"in globalThis;function _s(){}function Ine(t,e){return typeof t=="function"?t(e):t}function eN(t){return typeof t=="number"&&t>=0&&t!==1/0}function YF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ld(t,e){return typeof t=="function"?t(e):t}function ta(t,e){return typeof t=="function"?t(e):t}function D$(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==YO(o,e.options))return!1}else if(!fb(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function $$(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Nf(e.options.mutationKey)!==Nf(i))return!1}else if(!fb(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function YO(t,e){return((e==null?void 0:e.queryKeyHashFn)||Nf)(t)}function Nf(t){return JSON.stringify(t,(e,n)=>tN(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function fb(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>fb(t[n],e[n])):!1}function JF(t,e){if(t===e)return t;const n=U$(t)&&U$(e);if(n||tN(t)&&tN(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=JF(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Xx(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function U$(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function tN(t){if(!B$(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!B$(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function B$(t){return Object.prototype.toString.call(t)==="[object Object]"}function Tne(t){return new Promise(e=>{setTimeout(e,t)})}function nN(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?JF(t,e):e}function Nne(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Pne(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var JO=Symbol();function ZF(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===JO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function XF(t,e){return typeof t=="function"?t(...e):!!t}var Oh,wu,Lg,UB,kne=(UB=class extends Ey{constructor(){super();W(this,Oh);W(this,wu);W(this,Lg);R(this,Lg,e=>{if(!Tf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){E(this,wu)||this.setEventListener(E(this,Lg))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,wu))==null||e.call(this),R(this,wu,void 0))}setEventListener(e){var n;R(this,Lg,e),(n=E(this,wu))==null||n.call(this),R(this,wu,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){E(this,Oh)!==e&&(R(this,Oh,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof E(this,Oh)=="boolean"?E(this,Oh):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Oh=new WeakMap,wu=new WeakMap,Lg=new WeakMap,UB),ZO=new kne,Mg,bu,jg,BB,One=(BB=class extends Ey{constructor(){super();W(this,Mg,!0);W(this,bu);W(this,jg);R(this,jg,e=>{if(!Tf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){E(this,bu)||this.setEventListener(E(this,jg))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,bu))==null||e.call(this),R(this,bu,void 0))}setEventListener(e){var n;R(this,jg,e),(n=E(this,bu))==null||n.call(this),R(this,bu,e(this.setOnline.bind(this)))}setOnline(e){E(this,Mg)!==e&&(R(this,Mg,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return E(this,Mg)}},Mg=new WeakMap,bu=new WeakMap,jg=new WeakMap,BB),e_=new One;function rN(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function Rne(t){return Math.min(1e3*2**t,3e4)}function e9(t){return(t??"online")==="online"?e_.isOnline():!0}var t9=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function $S(t){return t instanceof t9}function n9(t){let e=!1,n=0,r=!1,s;const i=rN(),o=g=>{var y;r||(h(new t9(g)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>ZO.isFocused()&&(t.networkMode==="always"||e_.isOnline())&&t.canRun(),u=()=>e9(t.networkMode)&&t.canRun(),d=g=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,g),s==null||s(),i.reject(g))},f=()=>new Promise(g=>{var y;s=w=>{(r||l())&&g(w)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(r)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(d).catch(w=>{var C;if(r)return;const v=t.retry??(Tf?0:3),b=t.retryDelay??Rne,_=typeof b=="function"?b(n,w):b,x=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!x){h(w);return}n++,(C=t.onFail)==null||C.call(t,n,w),Tne(_).then(()=>l()?void 0:f()).then(()=>{e?h(w):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?p():f().then(p),i)}}var Dne=t=>setTimeout(t,0);function $ne(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=Dne;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var lr=$ne(),Rh,LB,r9=(LB=class{constructor(){W(this,Rh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),eN(this.gcTime)&&R(this,Rh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Tf?1/0:5*60*1e3))}clearGcTimeout(){E(this,Rh)&&(clearTimeout(E(this,Rh)),R(this,Rh,void 0))}},Rh=new WeakMap,LB),Fg,Dh,io,$h,os,ov,Uh,Wo,Cc,MB,Une=(MB=class extends r9{constructor(e){super();W(this,Wo);W(this,Fg);W(this,Dh);W(this,io);W(this,$h);W(this,os);W(this,ov);W(this,Uh);R(this,Uh,!1),R(this,ov,e.defaultOptions),this.setOptions(e.options),this.observers=[],R(this,$h,e.client),R(this,io,E(this,$h).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,R(this,Fg,Bne(this.options)),this.state=e.state??E(this,Fg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=E(this,os))==null?void 0:e.promise}setOptions(e){this.options={...E(this,ov),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,io).remove(this)}setData(e,n){const r=nN(this.state.data,e,this.options);return ne(this,Wo,Cc).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ne(this,Wo,Cc).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=E(this,os))==null?void 0:r.promise;return(s=E(this,os))==null||s.cancel(e),n?n.then(_s).catch(_s):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Fg))}isActive(){return this.observers.some(e=>ta(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===JO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ld(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!YF(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=E(this,os))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=E(this,os))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),E(this,io).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(E(this,os)&&(E(this,Uh)?E(this,os).cancel({revert:!0}):E(this,os).cancelRetry()),this.scheduleGc()),E(this,io).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ne(this,Wo,Cc).call(this,{type:"invalidate"})}fetch(e,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(E(this,os))return E(this,os).continueRetry(),E(this,os).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(R(this,Uh,!0),r.signal)})},i=()=>{const h=ZF(this.options,n),p=(()=>{const g={client:E(this,$h),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return R(this,Uh,!1),this.options.persister?this.options.persister(h,p,this):h(p)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:E(this,$h),state:this.state,fetchFn:i};return s(h),h})();(l=this.options.behavior)==null||l.onFetch(a,this),R(this,Dh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&ne(this,Wo,Cc).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const c=h=>{var f,p,g,y;$S(h)&&h.silent||ne(this,Wo,Cc).call(this,{type:"error",error:h}),$S(h)||((p=(f=E(this,io).config).onError)==null||p.call(f,h,this),(y=(g=E(this,io).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return R(this,os,n9({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,g,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){c(w);return}(p=(f=E(this,io).config).onSuccess)==null||p.call(f,h,this),(y=(g=E(this,io).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,f)=>{ne(this,Wo,Cc).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{ne(this,Wo,Cc).call(this,{type:"pause"})},onContinue:()=>{ne(this,Wo,Cc).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),E(this,os).start()}},Fg=new WeakMap,Dh=new WeakMap,io=new WeakMap,$h=new WeakMap,os=new WeakMap,ov=new WeakMap,Uh=new WeakMap,Wo=new WeakSet,Cc=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...s9(r.data,this.options),fetchMeta:e.meta??null};case"success":return R(this,Dh,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return $S(s)&&s.revert&&E(this,Dh)?{...E(this,Dh),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),lr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),E(this,io).notify({query:this,type:"updated",action:e})})},MB);function s9(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:e9(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Bne(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $a,jB,Lne=(jB=class extends Ey{constructor(e={}){super();W(this,$a);this.config=e,R(this,$a,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??YO(s,n);let o=this.get(i);return o||(o=new Une({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){E(this,$a).has(e.queryHash)||(E(this,$a).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=E(this,$a).get(e.queryHash);n&&(e.destroy(),n===e&&E(this,$a).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return E(this,$a).get(e)}getAll(){return[...E(this,$a).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>D$(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>D$(e,r)):n}notify(e){lr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){lr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$a=new WeakMap,jB),Ua,ys,Bh,Ba,Jl,FB,Mne=(FB=class extends r9{constructor(e){super();W(this,Ba);W(this,Ua);W(this,ys);W(this,Bh);this.mutationId=e.mutationId,R(this,ys,e.mutationCache),R(this,Ua,[]),this.state=e.state||i9(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){E(this,Ua).includes(e)||(E(this,Ua).push(e),this.clearGcTimeout(),E(this,ys).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){R(this,Ua,E(this,Ua).filter(n=>n!==e)),this.scheduleGc(),E(this,ys).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){E(this,Ua).length||(this.state.status==="pending"?this.scheduleGc():E(this,ys).remove(this))}continue(){var e;return((e=E(this,Bh))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,l,u,d,h,f,p,g,y,w,v,b,_,x,C,S,N;const n=()=>{ne(this,Ba,Jl).call(this,{type:"continue"})};R(this,Bh,n9({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,P)=>{ne(this,Ba,Jl).call(this,{type:"failed",failureCount:A,error:P})},onPause:()=>{ne(this,Ba,Jl).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,ys).canRun(this)}));const r=this.state.status==="pending",s=!E(this,Bh).canStart();try{if(r)n();else{ne(this,Ba,Jl).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=E(this,ys).config).onMutate)==null?void 0:o.call(i,e,this));const P=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));P!==this.state.context&&ne(this,Ba,Jl).call(this,{type:"pending",context:P,variables:e,isPaused:s})}const A=await E(this,Bh).start();return await((u=(l=E(this,ys).config).onSuccess)==null?void 0:u.call(l,A,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,A,e,this.state.context)),await((p=(f=E(this,ys).config).onSettled)==null?void 0:p.call(f,A,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,A,null,e,this.state.context)),ne(this,Ba,Jl).call(this,{type:"success",data:A}),A}catch(A){try{throw await((v=(w=E(this,ys).config).onError)==null?void 0:v.call(w,A,e,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,A,e,this.state.context)),await((C=(x=E(this,ys).config).onSettled)==null?void 0:C.call(x,void 0,A,this.state.variables,this.state.context,this)),await((N=(S=this.options).onSettled)==null?void 0:N.call(S,void 0,A,e,this.state.context)),A}finally{ne(this,Ba,Jl).call(this,{type:"error",error:A})}}finally{E(this,ys).runNext(this)}}},Ua=new WeakMap,ys=new WeakMap,Bh=new WeakMap,Ba=new WeakSet,Jl=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),lr.batch(()=>{E(this,Ua).forEach(r=>{r.onMutationUpdate(e)}),E(this,ys).notify({mutation:this,type:"updated",action:e})})},FB);function i9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bc,Go,av,zB,jne=(zB=class extends Ey{constructor(e={}){super();W(this,Bc);W(this,Go);W(this,av);this.config=e,R(this,Bc,new Set),R(this,Go,new Map),R(this,av,0)}build(e,n,r){const s=new Mne({mutationCache:this,mutationId:++Il(this,av)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){E(this,Bc).add(e);const n=U1(e);if(typeof n=="string"){const r=E(this,Go).get(n);r?r.push(e):E(this,Go).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(E(this,Bc).delete(e)){const n=U1(e);if(typeof n=="string"){const r=E(this,Go).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&E(this,Go).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=U1(e);if(typeof n=="string"){const r=E(this,Go).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=U1(e);if(typeof n=="string"){const s=(r=E(this,Go).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){lr.batch(()=>{E(this,Bc).forEach(e=>{this.notify({type:"removed",mutation:e})}),E(this,Bc).clear(),E(this,Go).clear()})}getAll(){return Array.from(E(this,Bc))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>$$(n,r))}findAll(e={}){return this.getAll().filter(n=>$$(e,n))}notify(e){lr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return lr.batch(()=>Promise.all(e.map(n=>n.continue().catch(_s))))}},Bc=new WeakMap,Go=new WeakMap,av=new WeakMap,zB);function U1(t){var e;return(e=t.options.scope)==null?void 0:e.id}function L$(t){return{onFetch:(e,n)=>{var u,d,h,f,p;const r=e.options,s=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let g=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=ZF(e.options,e.fetchOptions),v=async(b,_,x)=>{if(g)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:_,direction:x?"backward":"forward",meta:e.options.meta};return y(D),D})(),N=await w(S),{maxPages:A}=e.options,P=x?Pne:Nne;return{pages:P(b.pages,N,A),pageParams:P(b.pageParams,_,A)}};if(s&&i.length){const b=s==="backward",_=b?Fne:M$,x={pages:i,pageParams:o},C=_(r,x);a=await v(x,C,b)}else{const b=t??i.length;do{const _=c===0?o[0]??r.initialPageParam:M$(r,a);if(c>0&&_==null)break;a=await v(a,_),c++}while(c<b)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function M$(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Fne(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Bn,vu,Eu,zg,Hg,xu,Wg,Gg,HB,zne=(HB=class{constructor(t={}){W(this,Bn);W(this,vu);W(this,Eu);W(this,zg);W(this,Hg);W(this,xu);W(this,Wg);W(this,Gg);R(this,Bn,t.queryCache||new Lne),R(this,vu,t.mutationCache||new jne),R(this,Eu,t.defaultOptions||{}),R(this,zg,new Map),R(this,Hg,new Map),R(this,xu,0)}mount(){Il(this,xu)._++,E(this,xu)===1&&(R(this,Wg,ZO.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,Bn).onFocus())})),R(this,Gg,e_.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,Bn).onOnline())})))}unmount(){var t,e;Il(this,xu)._--,E(this,xu)===0&&((t=E(this,Wg))==null||t.call(this),R(this,Wg,void 0),(e=E(this,Gg))==null||e.call(this),R(this,Gg,void 0))}isFetching(t){return E(this,Bn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return E(this,vu).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=E(this,Bn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=E(this,Bn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ld(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return E(this,Bn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=E(this,Bn).get(r.queryHash),i=s==null?void 0:s.state.data,o=Ine(e,i);if(o!==void 0)return E(this,Bn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return lr.batch(()=>E(this,Bn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=E(this,Bn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=E(this,Bn);lr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=E(this,Bn);return lr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=lr.batch(()=>E(this,Bn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(_s).catch(_s)}invalidateQueries(t,e={}){return lr.batch(()=>(E(this,Bn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=lr.batch(()=>E(this,Bn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(_s)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(_s)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=E(this,Bn).build(this,e);return n.isStaleByTime(ld(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_s).catch(_s)}fetchInfiniteQuery(t){return t.behavior=L$(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_s).catch(_s)}ensureInfiniteQueryData(t){return t.behavior=L$(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return e_.isOnline()?E(this,vu).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,Bn)}getMutationCache(){return E(this,vu)}getDefaultOptions(){return E(this,Eu)}setDefaultOptions(t){R(this,Eu,t)}setQueryDefaults(t,e){E(this,zg).set(Nf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...E(this,zg).values()],n={};return e.forEach(r=>{fb(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){E(this,Hg).set(Nf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...E(this,Hg).values()],n={};return e.forEach(r=>{fb(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...E(this,Eu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=YO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===JO&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...E(this,Eu).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){E(this,Bn).clear(),E(this,vu).clear()}},Bn=new WeakMap,vu=new WeakMap,Eu=new WeakMap,zg=new WeakMap,Hg=new WeakMap,xu=new WeakMap,Wg=new WeakMap,Gg=new WeakMap,HB),Ys,Ct,cv,ws,Lh,qg,_u,Cu,lv,Vg,Kg,Mh,jh,Au,Qg,Vt,k0,sN,iN,oN,aN,cN,lN,uN,o9,WB,Hne=(WB=class extends Ey{constructor(e,n){super();W(this,Vt);W(this,Ys);W(this,Ct);W(this,cv);W(this,ws);W(this,Lh);W(this,qg);W(this,_u);W(this,Cu);W(this,lv);W(this,Vg);W(this,Kg);W(this,Mh);W(this,jh);W(this,Au);W(this,Qg,new Set);this.options=n,R(this,Ys,e),R(this,Cu,null),R(this,_u,rN()),this.options.experimental_prefetchInRender||E(this,_u).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,Ct).addObserver(this),j$(E(this,Ct),this.options)?ne(this,Vt,k0).call(this):this.updateResult(),ne(this,Vt,aN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dN(E(this,Ct),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dN(E(this,Ct),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ne(this,Vt,cN).call(this),ne(this,Vt,lN).call(this),E(this,Ct).removeObserver(this)}setOptions(e){const n=this.options,r=E(this,Ct);if(this.options=E(this,Ys).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ta(this.options.enabled,E(this,Ct))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ne(this,Vt,uN).call(this),E(this,Ct).setOptions(this.options),n._defaulted&&!Xx(this.options,n)&&E(this,Ys).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,Ct),observer:this});const s=this.hasListeners();s&&F$(E(this,Ct),r,this.options,n)&&ne(this,Vt,k0).call(this),this.updateResult(),s&&(E(this,Ct)!==r||ta(this.options.enabled,E(this,Ct))!==ta(n.enabled,E(this,Ct))||ld(this.options.staleTime,E(this,Ct))!==ld(n.staleTime,E(this,Ct)))&&ne(this,Vt,sN).call(this);const i=ne(this,Vt,iN).call(this);s&&(E(this,Ct)!==r||ta(this.options.enabled,E(this,Ct))!==ta(n.enabled,E(this,Ct))||i!==E(this,Au))&&ne(this,Vt,oN).call(this,i)}getOptimisticResult(e){const n=E(this,Ys).getQueryCache().build(E(this,Ys),e),r=this.createResult(n,e);return Gne(this,r)&&(R(this,ws,r),R(this,qg,this.options),R(this,Lh,E(this,Ct).state)),r}getCurrentResult(){return E(this,ws)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){E(this,Qg).add(e)}getCurrentQuery(){return E(this,Ct)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=E(this,Ys).defaultQueryOptions(e),r=E(this,Ys).getQueryCache().build(E(this,Ys),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ne(this,Vt,k0).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,ws)))}createResult(e,n){var A;const r=E(this,Ct),s=this.options,i=E(this,ws),o=E(this,Lh),a=E(this,qg),l=e!==r?e.state:E(this,cv),{state:u}=e;let d={...u},h=!1,f;if(n._optimisticResults){const P=this.hasListeners(),D=!P&&j$(e,n),j=P&&F$(e,r,n,s);(D||j)&&(d={...d,...s9(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:y}=d;f=d.data;let w=!1;if(n.placeholderData!==void 0&&f===void 0&&y==="pending"){let P;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(P=i.data,w=!0):P=typeof n.placeholderData=="function"?n.placeholderData((A=E(this,Kg))==null?void 0:A.state.data,E(this,Kg)):n.placeholderData,P!==void 0&&(y="success",f=nN(i==null?void 0:i.data,P,n),h=!0)}if(n.select&&f!==void 0&&!w)if(i&&f===(o==null?void 0:o.data)&&n.select===E(this,lv))f=E(this,Vg);else try{R(this,lv,n.select),f=n.select(f),f=nN(i==null?void 0:i.data,f,n),R(this,Vg,f),R(this,Cu,null)}catch(P){R(this,Cu,P)}E(this,Cu)&&(p=E(this,Cu),f=E(this,Vg),g=Date.now(),y="error");const v=d.fetchStatus==="fetching",b=y==="pending",_=y==="error",x=b&&v,C=f!==void 0,N={status:y,fetchStatus:d.fetchStatus,isPending:b,isSuccess:y==="success",isError:_,isInitialLoading:x,isLoading:x,data:f,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:_&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&C,isStale:XO(e,n),refetch:this.refetch,promise:E(this,_u)};if(this.options.experimental_prefetchInRender){const P=H=>{N.status==="error"?H.reject(N.error):N.data!==void 0&&H.resolve(N.data)},D=()=>{const H=R(this,_u,N.promise=rN());P(H)},j=E(this,_u);switch(j.status){case"pending":e.queryHash===r.queryHash&&P(j);break;case"fulfilled":(N.status==="error"||N.data!==j.value)&&D();break;case"rejected":(N.status!=="error"||N.error!==j.reason)&&D();break}}return N}updateResult(){const e=E(this,ws),n=this.createResult(E(this,Ct),this.options);if(R(this,Lh,E(this,Ct).state),R(this,qg,this.options),E(this,Lh).data!==void 0&&R(this,Kg,E(this,Ct)),Xx(n,e))return;R(this,ws,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!E(this,Qg).size)return!0;const o=new Set(i??E(this,Qg));return this.options.throwOnError&&o.add("error"),Object.keys(E(this,ws)).some(a=>{const c=a;return E(this,ws)[c]!==e[c]&&o.has(c)})};ne(this,Vt,o9).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ne(this,Vt,aN).call(this)}},Ys=new WeakMap,Ct=new WeakMap,cv=new WeakMap,ws=new WeakMap,Lh=new WeakMap,qg=new WeakMap,_u=new WeakMap,Cu=new WeakMap,lv=new WeakMap,Vg=new WeakMap,Kg=new WeakMap,Mh=new WeakMap,jh=new WeakMap,Au=new WeakMap,Qg=new WeakMap,Vt=new WeakSet,k0=function(e){ne(this,Vt,uN).call(this);let n=E(this,Ct).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(_s)),n},sN=function(){ne(this,Vt,cN).call(this);const e=ld(this.options.staleTime,E(this,Ct));if(Tf||E(this,ws).isStale||!eN(e))return;const r=YF(E(this,ws).dataUpdatedAt,e)+1;R(this,Mh,setTimeout(()=>{E(this,ws).isStale||this.updateResult()},r))},iN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,Ct)):this.options.refetchInterval)??!1},oN=function(e){ne(this,Vt,lN).call(this),R(this,Au,e),!(Tf||ta(this.options.enabled,E(this,Ct))===!1||!eN(E(this,Au))||E(this,Au)===0)&&R(this,jh,setInterval(()=>{(this.options.refetchIntervalInBackground||ZO.isFocused())&&ne(this,Vt,k0).call(this)},E(this,Au)))},aN=function(){ne(this,Vt,sN).call(this),ne(this,Vt,oN).call(this,ne(this,Vt,iN).call(this))},cN=function(){E(this,Mh)&&(clearTimeout(E(this,Mh)),R(this,Mh,void 0))},lN=function(){E(this,jh)&&(clearInterval(E(this,jh)),R(this,jh,void 0))},uN=function(){const e=E(this,Ys).getQueryCache().build(E(this,Ys),this.options);if(e===E(this,Ct))return;const n=E(this,Ct);R(this,Ct,e),R(this,cv,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},o9=function(e){lr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(E(this,ws))}),E(this,Ys).getQueryCache().notify({query:E(this,Ct),type:"observerResultsUpdated"})})},WB);function Wne(t,e){return ta(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function j$(t,e){return Wne(t,e)||t.state.data!==void 0&&dN(t,e,e.refetchOnMount)}function dN(t,e,n){if(ta(e.enabled,t)!==!1&&ld(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&XO(t,e)}return!1}function F$(t,e,n,r){return(t!==e||ta(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&XO(t,n)}function XO(t,e){return ta(e.enabled,t)!==!1&&t.isStaleByTime(ld(e.staleTime,t))}function Gne(t,e){return!Xx(t.getCurrentResult(),e)}var Su,Iu,Js,Lc,ul,VE,hN,GB,qne=(GB=class extends Ey{constructor(n,r){super();W(this,ul);W(this,Su);W(this,Iu);W(this,Js);W(this,Lc);R(this,Su,n),this.setOptions(r),this.bindMethods(),ne(this,ul,VE).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=E(this,Su).defaultMutationOptions(n),Xx(this.options,r)||E(this,Su).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,Js),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Nf(r.mutationKey)!==Nf(this.options.mutationKey)?this.reset():((s=E(this,Js))==null?void 0:s.state.status)==="pending"&&E(this,Js).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=E(this,Js))==null||n.removeObserver(this)}onMutationUpdate(n){ne(this,ul,VE).call(this),ne(this,ul,hN).call(this,n)}getCurrentResult(){return E(this,Iu)}reset(){var n;(n=E(this,Js))==null||n.removeObserver(this),R(this,Js,void 0),ne(this,ul,VE).call(this),ne(this,ul,hN).call(this)}mutate(n,r){var s;return R(this,Lc,r),(s=E(this,Js))==null||s.removeObserver(this),R(this,Js,E(this,Su).getMutationCache().build(E(this,Su),this.options)),E(this,Js).addObserver(this),E(this,Js).execute(n)}},Su=new WeakMap,Iu=new WeakMap,Js=new WeakMap,Lc=new WeakMap,ul=new WeakSet,VE=function(){var r;const n=((r=E(this,Js))==null?void 0:r.state)??i9();R(this,Iu,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},hN=function(n){lr.batch(()=>{var r,s,i,o,a,c,l,u;if(E(this,Lc)&&this.hasListeners()){const d=E(this,Iu).variables,h=E(this,Iu).context;(n==null?void 0:n.type)==="success"?((s=(r=E(this,Lc)).onSuccess)==null||s.call(r,n.data,d,h),(o=(i=E(this,Lc)).onSettled)==null||o.call(i,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((c=(a=E(this,Lc)).onError)==null||c.call(a,n.error,d,h),(u=(l=E(this,Lc)).onSettled)==null||u.call(l,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(E(this,Iu))})})},GB);function Vne(t){return JSON.stringify(t,(e,n)=>Kne(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function Kne(t){if(!z$(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!z$(n)||!n.hasOwnProperty("isPrototypeOf"))}function z$(t){return Object.prototype.toString.call(t)==="[object Object]"}function a9(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:i,maxPages:o,meta:a,networkMode:c,queryFn:l,queryHash:u,queryKey:d,queryKeyHashFn:h,retry:f,retryDelay:p,structuralSharing:g,getPreviousPageParam:y,getNextPageParam:w,initialPageParam:v,_optimisticResults:b,enabled:_,notifyOnChangeProps:x,placeholderData:C,refetchInterval:S,refetchIntervalInBackground:N,refetchOnMount:A,refetchOnReconnect:P,refetchOnWindowFocus:D,retryOnMount:j,select:H,staleTime:K,suspense:I,throwOnError:T,config:L,connector:U,query:$,...M}=t;return M}function Qne(t){return{mutationFn(e){return GE(t,e)},mutationKey:["connect"]}}function Yne(t){return{mutationFn(e){return MF(t,e)},mutationKey:["disconnect"]}}function Jne(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("address is required");return Cte(t,{...i,address:r})},queryKey:Zne(e)}}function Zne(t={}){return["ensName",a9(t)]}function Xne(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=e,{connectorUid:s,scopeKey:i,...o}=n[1];return Ate(t,{...o,connector:r})},queryKey:ere(e)}}function ere(t={}){const{connector:e,...n}=t;return["walletClient",{...a9(n),connectorUid:e==null?void 0:e.uid}]}var c9=O.createContext(void 0),eR=t=>{const e=O.useContext(c9);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},tre=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(c9.Provider,{value:t,children:e})),l9=O.createContext(!1),nre=()=>O.useContext(l9);l9.Provider;function rre(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var sre=O.createContext(rre()),ire=()=>O.useContext(sre),ore=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},are=t=>{O.useEffect(()=>{t.clearReset()},[t])},cre=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||XF(n,[t.error,r])),lre=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},ure=(t,e)=>t.isLoading&&t.isFetching&&!e,dre=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,H$=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function hre(t,e,n){var d,h,f,p,g;const r=nre(),s=ire(),i=eR(),o=i.defaultQueryOptions(t);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",lre(o),ore(o,s),are(s);const a=!i.getQueryCache().get(o.queryHash),[c]=O.useState(()=>new e(i,o)),l=c.getOptimisticResult(o),u=!r&&t.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(y=>{const w=u?c.subscribe(lr.batchCalls(y)):_s;return c.updateResult(),w},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),O.useEffect(()=>{c.setOptions(o)},[o,c]),dre(o,l))throw H$(o,c,s);if(cre({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((p=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,l),o.experimental_prefetchInRender&&!Tf&&ure(l,r)){const y=a?H$(o,c,s):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(_s).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function fre(t,e){return hre(t,Hne)}function u9(t,e){const n=eR(),[r]=O.useState(()=>new qne(n,t));O.useEffect(()=>{r.setOptions(t)},[r,t]);const s=O.useSyncExternalStore(O.useCallback(o=>r.subscribe(lr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=O.useCallback((o,a)=>{r.mutate(o,a).catch(_s)},[r]);if(s.error&&XF(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function d9(t){const e=fre({...t,queryKeyHashFn:Vne});return e.queryKey=t.queryKey,e}function h9(t={}){const e=Bd(t);return O.useSyncExternalStore(n=>Pte(e,{onChange:n}),()=>T$(e),()=>T$(e))}function pre(t={}){const e=Bd(t);return O.useSyncExternalStore(n=>zF(e,{onChange:n}),()=>N$(e),()=>N$(e))}function f9(t={}){const{mutation:e}=t,n=Bd(t),r=Qne(n),{mutate:s,mutateAsync:i,...o}=u9({...e,...r});return O.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:pre({config:n})}}function gre(t={}){const e=Bd(t);return O.useSyncExternalStore(n=>kte(e,{onChange:n}),()=>Da(e),()=>Da(e))}function p9(t={}){const{mutation:e}=t,n=Bd(t),r=Yne(n),{mutate:s,mutateAsync:i,...o}=u9({...e,...r});return{...o,connectors:gre({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:i}}function g9(t={}){const{address:e,query:n={}}=t,r=Bd(t),s=h9({config:r}),i=Jne(r,{...t,chainId:t.chainId??s}),o=!!(e&&(n.enabled??!0));return d9({...n,...i,enabled:o})}function m9(t={}){const{query:e={},...n}=t,r=Bd(n),s=eR(),{address:i,connector:o,status:a}=Dv({config:r}),c=h9({config:r}),l=t.connector??o,{queryKey:u,...d}=Xne(r,{...t,chainId:t.chainId??c,connector:t.connector??o}),h=!!((a==="connected"||a==="reconnecting"&&(l!=null&&l.getProvider))&&(e.enabled??!0)),f=O.useRef(i);return O.useEffect(()=>{const p=f.current;!i&&p?(s.removeQueries({queryKey:u}),f.current=void 0):i!==p&&(s.invalidateQueries({queryKey:u}),f.current=i)},[i,s]),d9({...e,...d,queryKey:u,enabled:h,staleTime:Number.POSITIVE_INFINITY})}const mre="_verified_lvyh0_1",tR={verified:mre},yre=()=>m.jsx("svg",{viewBox:"0 0 24 24","aria-label":"Verified account",role:"img",className:tR.verified,children:m.jsx("g",{children:m.jsx("path",{d:"M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.26 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z"})})}),wre=()=>m.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:tR.verified,children:m.jsxs("g",{children:[m.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-a",x1:"4.411",x2:"18.083",y1:"2.495",y2:"21.508",children:[m.jsx("stop",{offset:"0",stopColor:"#f4e72a"}),m.jsx("stop",{offset:".539",stopColor:"#cd8105"}),m.jsx("stop",{offset:".68",stopColor:"#cb7b00"}),m.jsx("stop",{offset:"1",stopColor:"#f4ec26"}),m.jsx("stop",{offset:"1",stopColor:"#f4e72a"})]}),m.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-b",x1:"5.355",x2:"16.361",y1:"3.395",y2:"19.133",children:[m.jsx("stop",{offset:"0",stopColor:"#f9e87f"}),m.jsx("stop",{offset:".406",stopColor:"#e2b719"}),m.jsx("stop",{offset:".989",stopColor:"#e2b719"})]}),m.jsxs("g",{clipRule:"evenodd",fillRule:"evenodd",children:[m.jsx("path",{d:"M13.324 3.848L11 1.6 8.676 3.848l-3.201-.453-.559 3.184L2.06 8.095 3.48 11l-1.42 2.904 2.856 1.516.559 3.184 3.201-.452L11 20.4l2.324-2.248 3.201.452.559-3.184 2.856-1.516L18.52 11l1.42-2.905-2.856-1.516-.559-3.184zm-7.09 7.575l3.428 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-a)"}),m.jsx("path",{d:"M13.101 4.533L11 2.5 8.899 4.533l-2.895-.41-.505 2.88-2.583 1.37L4.2 11l-1.284 2.627 2.583 1.37.505 2.88 2.895-.41L11 19.5l2.101-2.033 2.895.41.505-2.88 2.583-1.37L17.8 11l1.284-2.627-2.583-1.37-.505-2.88zm-6.868 6.89l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-b)"}),m.jsx("path",{d:"M6.233 11.423l3.429 3.428 5.65-6.17.038-.033-.005 1.398-5.683 6.206-3.429-3.429-.003-1.405.005.003z",fill:"#d18800"})]})]})}),bre=()=>m.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:tR.verified,children:m.jsx("g",{children:m.jsx("path",{clipRule:"evenodd",d:"M12.05 2.056c-.568-.608-1.532-.608-2.1 0l-1.393 1.49c-.284.303-.685.47-1.1.455L5.42 3.932c-.832-.028-1.514.654-1.486 1.486l.069 2.039c.014.415-.152.816-.456 1.1l-1.49 1.392c-.608.568-.608 1.533 0 2.101l1.49 1.393c.304.284.47.684.456 1.1l-.07 2.038c-.027.832.655 1.514 1.487 1.486l2.038-.069c.415-.014.816.152 1.1.455l1.392 1.49c.569.609 1.533.609 2.102 0l1.393-1.49c.283-.303.684-.47 1.099-.455l2.038.069c.832.028 1.515-.654 1.486-1.486L18 14.542c-.015-.415.152-.815.455-1.099l1.49-1.393c.608-.568.608-1.533 0-2.101l-1.49-1.393c-.303-.283-.47-.684-.455-1.1l.068-2.038c.029-.832-.654-1.514-1.486-1.486l-2.038.07c-.415.013-.816-.153-1.1-.456zm-5.817 9.367l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fillRule:"evenodd"})})});function y9(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=y9(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ud(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=y9(t))&&(r&&(r+=" "),r+=e);return r}const vre="_root_98iqw_1",Ere="_article_98iqw_21",W$={root:vre,article:Ere},nR=({className:t,children:e})=>m.jsx("div",{className:ud("react-tweet-theme",W$.root,t),children:m.jsx("article",{className:W$.article,children:e})}),w9=t=>m.jsx("img",{...t}),xre="_header_nqq4j_1",_re="_avatar_nqq4j_11",Cre="_avatarOverflow_nqq4j_16",Are="_avatarSquare_nqq4j_23",Sre="_avatarShadow_nqq4j_26",Ire="_author_nqq4j_37",Tre="_authorLink_nqq4j_44",Nre="_authorVerified_nqq4j_53",Pre="_authorLinkText_nqq4j_56",kre="_authorMeta_nqq4j_63",Ore="_authorFollow_nqq4j_66",Rre="_username_nqq4j_69",Dre="_follow_nqq4j_74",$re="_separator_nqq4j_82",Ure="_brand_nqq4j_86",Bre="_twitterIcon_nqq4j_90",Tr={header:xre,avatar:_re,avatarOverflow:Cre,avatarSquare:Are,avatarShadow:Sre,author:Ire,authorLink:Tre,authorVerified:Nre,authorLinkText:Pre,authorMeta:kre,authorFollow:Ore,username:Rre,follow:Dre,separator:$re,brand:Ure,twitterIcon:Bre},Lre="_verifiedOld_lcna5_1",Mre="_verifiedBlue_lcna5_4",jre="_verifiedGovernment_lcna5_7",US={verifiedOld:Lre,verifiedBlue:Mre,verifiedGovernment:jre},b9=({user:t,className:e})=>{const n=t.verified||t.is_blue_verified||t.verified_type;let r=m.jsx(yre,{}),s=US.verifiedBlue;if(n)switch(t.is_blue_verified||(s=US.verifiedOld),t.verified_type){case"Government":r=m.jsx(bre,{}),s=US.verifiedGovernment;break;case"Business":r=m.jsx(wre,{}),s=null;break}return n?m.jsx("div",{className:ud(e,s),children:r}):null},Fre=({tweet:t,components:e})=>{var n;const r=(n=e==null?void 0:e.AvatarImg)!=null?n:w9,{user:s}=t;return m.jsxs("div",{className:Tr.header,children:[m.jsxs("a",{href:t.url,className:Tr.avatar,target:"_blank",rel:"noopener noreferrer",children:[m.jsx("div",{className:ud(Tr.avatarOverflow,s.profile_image_shape==="Square"&&Tr.avatarSquare),children:m.jsx(r,{src:s.profile_image_url_https,alt:s.name,width:48,height:48})}),m.jsx("div",{className:Tr.avatarOverflow,children:m.jsx("div",{className:Tr.avatarShadow})})]}),m.jsxs("div",{className:Tr.author,children:[m.jsxs("a",{href:t.url,className:Tr.authorLink,target:"_blank",rel:"noopener noreferrer",children:[m.jsx("div",{className:Tr.authorLinkText,children:m.jsx("span",{title:s.name,children:s.name})}),m.jsx(b9,{user:s,className:Tr.authorVerified})]}),m.jsxs("div",{className:Tr.authorMeta,children:[m.jsx("a",{href:t.url,className:Tr.username,target:"_blank",rel:"noopener noreferrer",children:m.jsxs("span",{title:`@${s.screen_name}`,children:["@",s.screen_name]})}),m.jsxs("div",{className:Tr.authorFollow,children:[m.jsx("span",{className:Tr.separator,children:""}),m.jsx("a",{href:s.follow_url,className:Tr.follow,target:"_blank",rel:"noopener noreferrer",children:"Follow"})]})]})]}),m.jsx("a",{href:t.url,className:Tr.brand,target:"_blank",rel:"noopener noreferrer","aria-label":"View on Twitter",children:m.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:Tr.twitterIcon,children:m.jsx("g",{children:m.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})})]})},zre="_root_1ec15_1",Hre={root:zre},Wre=({tweet:t})=>m.jsxs("a",{href:t.in_reply_to_url,className:Hre.root,target:"_blank",rel:"noopener noreferrer",children:["Replying to @",t.in_reply_to_screen_name]}),Gre="_root_eihfa_1",qre={root:Gre},Vre=({href:t,children:e})=>m.jsx("a",{href:t,className:qre.root,target:"_blank",rel:"noopener noreferrer nofollow",children:e}),Kre="_root_1xq52_1",Qre={root:Kre},Yre=({tweet:t})=>m.jsx("p",{className:Qre.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>{switch(e.type){case"hashtag":case"mention":case"url":case"symbol":return m.jsx(Vre,{href:e.href,children:e.text},n);case"media":return;default:return m.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n)}})}),G$=t=>`https://x.com/${t.user.screen_name}/status/${t.id_str}`,v9=t=>`https://x.com/${typeof t=="string"?t:t.user.screen_name}`,Jre=t=>`https://x.com/intent/like?tweet_id=${t.id_str}`,Zre=t=>`https://x.com/intent/tweet?in_reply_to=${t.id_str}`,Xre=t=>`https://x.com/intent/follow?screen_name=${t.user.screen_name}`,ese=t=>`https://x.com/hashtag/${t.text}`,tse=t=>`https://x.com/search?q=%24${t.text}`,nse=t=>`https://x.com/${t.in_reply_to_screen_name}/status/${t.in_reply_to_status_id_str}`,E9=(t,e)=>{const n=new URL(t.media_url_https),r=n.pathname.split(".").pop();return r?(n.pathname=n.pathname.replace(`.${r}`,""),n.searchParams.set("format",r),n.searchParams.set("name",e),n.toString()):t.media_url_https},rse=t=>{const{variants:e}=t.video_info;return e.filter(r=>r.content_type==="video/mp4").sort((r,s)=>{var i,o;return((i=s.bitrate)!=null?i:0)-((o=r.bitrate)!=null?o:0)})},sse=t=>{const e=rse(t);return e.length>1?e[1]:e[0]},fN=t=>t>999999?`${(t/1e6).toFixed(1)}M`:t>999?`${(t/1e3).toFixed(1)}K`:t.toString();function q$(t){const e=Array.from(t.text),n=[{indices:t.display_text_range,type:"text"}];return e0(n,"hashtag",t.entities.hashtags),e0(n,"mention",t.entities.user_mentions),e0(n,"url",t.entities.urls),e0(n,"symbol",t.entities.symbols),t.entities.media&&e0(n,"media",t.entities.media),ise(t,n),n.map(r=>{const s=e.slice(r.indices[0],r.indices[1]).join("");switch(r.type){case"hashtag":return Object.assign(r,{href:ese(r),text:s});case"mention":return Object.assign(r,{href:v9(r.screen_name),text:s});case"url":case"media":return Object.assign(r,{href:r.expanded_url,text:r.display_url});case"symbol":return Object.assign(r,{href:tse(r),text:s});default:return Object.assign(r,{text:s})}})}function e0(t,e,n){for(const r of n)for(const[s,i]of t.entries()){if(i.indices[0]>r.indices[0]||i.indices[1]<r.indices[1])continue;const o=[{...r,type:e}];i.indices[0]<r.indices[0]&&o.unshift({indices:[i.indices[0],r.indices[0]],type:"text"}),i.indices[1]>r.indices[1]&&o.push({indices:[r.indices[1],i.indices[1]],type:"text"}),t.splice(s,1,...o);break}}function ise(t,e){t.entities.media&&t.entities.media[0].indices[0]<t.display_text_range[1]&&(t.display_text_range[1]=t.entities.media[0].indices[0]);const n=e.at(-1);n&&n.indices[1]>t.display_text_range[1]&&(n.indices[1]=t.display_text_range[1])}const ose=t=>({...t,url:G$(t),user:{...t.user,url:v9(t),follow_url:Xre(t)},like_url:Jre(t),reply_url:Zre(t),in_reply_to_url:t.in_reply_to_screen_name?nse(t):void 0,entities:q$(t),quoted_tweet:t.quoted_tweet?{...t.quoted_tweet,url:G$(t.quoted_tweet),entities:q$(t.quoted_tweet)}:void 0}),ase="_root_g9tkv_1",cse="_rounded_g9tkv_6",lse="_mediaWrapper_g9tkv_10",use="_grid2Columns_g9tkv_17",dse="_grid3_g9tkv_20",hse="_grid2x2_g9tkv_23",fse="_mediaContainer_g9tkv_26",pse="_mediaLink_g9tkv_34",gse="_skeleton_g9tkv_38",mse="_image_g9tkv_43",_i={root:ase,rounded:cse,mediaWrapper:lse,grid2Columns:use,grid3:dse,grid2x2:hse,mediaContainer:fse,mediaLink:pse,skeleton:gse,image:mse},yse="_anchor_fp31d_1",wse="_videoButton_fp31d_17",bse="_videoButtonIcon_fp31d_35",vse="_watchOnTwitter_fp31d_44",Ese="_viewReplies_fp31d_60",pp={anchor:yse,videoButton:wse,videoButtonIcon:bse,watchOnTwitter:vse,viewReplies:Ese},xse=({tweet:t,media:e})=>{const[n,r]=O.useState(!0),[s,i]=O.useState(!1),[o,a]=O.useState(!1),c=sse(e);let l=0;return m.jsxs(m.Fragment,{children:[m.jsx("video",{className:_i.image,poster:E9(e,"small"),controls:!n,playsInline:!0,preload:"none",tabIndex:n?-1:0,onPlay:()=>{l&&window.clearTimeout(l),s||i(!0),o&&a(!1)},onPause:()=>{l&&window.clearTimeout(l),l=window.setTimeout(()=>{s&&i(!1),l=0},100)},onEnded:()=>{a(!0)},children:m.jsx("source",{src:c.url,type:c.content_type})}),n&&m.jsx("button",{type:"button",className:pp.videoButton,"aria-label":"View video on X",onClick:u=>{const d=u.currentTarget.previousSibling;u.preventDefault(),r(!1),d.load(),d.play().then(()=>{i(!0),d.focus()}).catch(h=>{console.error("Error playing video:",h),r(!0),i(!1)})},children:m.jsx("svg",{viewBox:"0 0 24 24",className:pp.videoButtonIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M21 12L4 2v20l17-10z"})})})}),!s&&!o&&m.jsx("div",{className:pp.watchOnTwitter,children:m.jsx("a",{href:t.url,className:pp.anchor,target:"_blank",rel:"noopener noreferrer",children:n?"Watch on X":"Continue watching on X"})}),o&&m.jsx("a",{href:t.url,className:ud(pp.anchor,pp.viewReplies),target:"_blank",rel:"noopener noreferrer",children:"View replies"})]})},_se=t=>m.jsx("img",{...t}),V$=(t,e)=>{let n=56.25;return e===1&&(n=100/t.original_info.width*t.original_info.height),e===2&&(n=n*2),{width:t.type==="photo"?void 0:"unset",paddingBottom:`${n}%`}},x9=({tweet:t,components:e,quoted:n})=>{var r,s,i;const o=(i=(r=t.mediaDetails)==null?void 0:r.length)!=null?i:0;var a;const c=(a=e==null?void 0:e.MediaImg)!=null?a:_se;return m.jsx("div",{className:ud(_i.root,!n&&_i.rounded),children:m.jsx("div",{className:ud(_i.mediaWrapper,o>1&&_i.grid2Columns,o===3&&_i.grid3,o>4&&_i.grid2x2),children:(s=t.mediaDetails)==null?void 0:s.map(l=>m.jsx(O.Fragment,{children:l.type==="photo"?m.jsxs("a",{href:t.url,className:ud(_i.mediaContainer,_i.mediaLink),target:"_blank",rel:"noopener noreferrer",children:[m.jsx("div",{className:_i.skeleton,style:V$(l,o)}),m.jsx(c,{src:E9(l,"small"),alt:l.ext_alt_text||"Image",className:_i.image,draggable:!0})]},l.media_url_https):m.jsxs("div",{className:_i.mediaContainer,children:[m.jsx("div",{className:_i.skeleton,style:V$(l,o)}),m.jsx(xse,{tweet:t,media:l})]},l.media_url_https)},l.media_url_https))})})},Cse={hour:"numeric",minute:"2-digit",hour12:!0,weekday:"short",month:"short",day:"numeric",year:"numeric"},Ase=new Intl.DateTimeFormat("en-US",Cse),Sse=t=>{const e={};for(const n of t)e[n.type]=n.value;return e},Ise=t=>{const e=Sse(Ase.formatToParts(t)),n=`${e.hour}:${e.minute} ${e.dayPeriod}`,r=`${e.month} ${e.day}, ${e.year}`;return`${n}  ${r}`},Tse="_root_i24yn_1",Nse={root:Tse},Pse=({tweet:t})=>{const e=new Date(t.created_at),n=Ise(e);return m.jsx("a",{className:Nse.root,href:t.url,target:"_blank",rel:"noopener noreferrer","aria-label":n,children:m.jsx("time",{dateTime:e.toISOString(),children:n})})},kse="_info_19qcj_1",Ose="_infoLink_19qcj_10",Rse="_infoIcon_19qcj_30",BS={info:kse,infoLink:Ose,infoIcon:Rse},Dse=({tweet:t})=>m.jsxs("div",{className:BS.info,children:[m.jsx(Pse,{tweet:t}),m.jsx("a",{className:BS.infoLink,href:"https://help.x.com/en/x-for-websites-ads-info-and-privacy",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter for Websites, Ads Information and Privacy",children:m.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:BS.infoIcon,children:m.jsx("g",{children:m.jsx("path",{d:"M13.5 8.5c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5S11.17 7 12 7s1.5.67 1.5 1.5zM13 17v-5h-2v5h2zm-1 5.25c5.66 0 10.25-4.59 10.25-10.25S17.66 1.75 12 1.75 1.75 6.34 1.75 12 6.34 22.25 12 22.25zM20.25 12c0 4.56-3.69 8.25-8.25 8.25S3.75 16.56 3.75 12 7.44 3.75 12 3.75s8.25 3.69 8.25 8.25z"})})})})]}),$se="_actions_n2anf_1",Use="_like_n2anf_13",Bse="_reply_n2anf_14",Lse="_copy_n2anf_15",Mse="_likeIconWrapper_n2anf_27",jse="_likeCount_n2anf_30",Fse="_replyIconWrapper_n2anf_35",zse="_copyIconWrapper_n2anf_36",Hse="_likeIcon_n2anf_27",Wse="_replyIcon_n2anf_35",Gse="_copyIcon_n2anf_36",qse="_replyText_n2anf_56",Vse="_copyText_n2anf_57",ei={actions:$se,like:Use,reply:Bse,copy:Lse,likeIconWrapper:Mse,likeCount:jse,replyIconWrapper:Fse,copyIconWrapper:zse,likeIcon:Hse,replyIcon:Wse,copyIcon:Gse,replyText:qse,copyText:Vse},Kse=({tweet:t})=>{const[e,n]=O.useState(!1),r=()=>{navigator.clipboard.writeText(t.url),n(!0)};return O.useEffect(()=>{if(e){const s=setTimeout(()=>{n(!1)},6e3);return()=>clearTimeout(s)}},[e]),m.jsxs("button",{type:"button",className:ei.copy,"aria-label":"Copy link",onClick:r,children:[m.jsx("div",{className:ei.copyIconWrapper,children:e?m.jsx("svg",{viewBox:"0 0 24 24",className:ei.copyIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M9.64 18.952l-5.55-4.861 1.317-1.504 3.951 3.459 8.459-10.948L19.4 6.32 9.64 18.952z"})})}):m.jsx("svg",{viewBox:"0 0 24 24",className:ei.copyIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M18.36 5.64c-1.95-1.96-5.11-1.96-7.07 0L9.88 7.05 8.46 5.64l1.42-1.42c2.73-2.73 7.16-2.73 9.9 0 2.73 2.74 2.73 7.17 0 9.9l-1.42 1.42-1.41-1.42 1.41-1.41c1.96-1.96 1.96-5.12 0-7.07zm-2.12 3.53l-7.07 7.07-1.41-1.41 7.07-7.07 1.41 1.41zm-12.02.71l1.42-1.42 1.41 1.42-1.41 1.41c-1.96 1.96-1.96 5.12 0 7.07 1.95 1.96 5.11 1.96 7.07 0l1.41-1.41 1.42 1.41-1.42 1.42c-2.73 2.73-7.16 2.73-9.9 0-2.73-2.74-2.73-7.17 0-9.9z"})})})}),m.jsx("span",{className:ei.copyText,children:e?"Copied!":"Copy link"})]})},Qse=({tweet:t})=>{const e=fN(t.favorite_count);return m.jsxs("div",{className:ei.actions,children:[m.jsxs("a",{className:ei.like,href:t.like_url,target:"_blank",rel:"noopener noreferrer","aria-label":`Like. This Tweet has ${e} likes`,children:[m.jsx("div",{className:ei.likeIconWrapper,children:m.jsx("svg",{viewBox:"0 0 24 24",className:ei.likeIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M20.884 13.19c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z"})})})}),m.jsx("span",{className:ei.likeCount,children:e})]}),m.jsxs("a",{className:ei.reply,href:t.reply_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Reply to this Tweet on Twitter",children:[m.jsx("div",{className:ei.replyIconWrapper,children:m.jsx("svg",{viewBox:"0 0 24 24",className:ei.replyIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 8.129 3.64 8.129 8.13 0 2.96-1.607 5.68-4.196 7.11l-8.054 4.46v-3.69h-.067c-4.49.1-8.183-3.51-8.183-8.01z"})})})}),m.jsx("span",{className:ei.replyText,children:"Reply"})]}),m.jsx(Kse,{tweet:t})]})},Yse="_replies_1cutb_1",Jse="_link_1cutb_4",Zse="_text_1cutb_23",LS={replies:Yse,link:Jse,text:Zse},Xse=({tweet:t})=>m.jsx("div",{className:LS.replies,children:m.jsx("a",{className:LS.link,href:t.url,target:"_blank",rel:"noopener noreferrer",children:m.jsx("span",{className:LS.text,children:t.conversation_count===0?"Read more on X":t.conversation_count===1?`Read ${fN(t.conversation_count)} reply`:`Read ${fN(t.conversation_count)} replies`})})}),eie="_root_q5799_1",tie="_article_q5799_16",K$={root:eie,article:tie},nie=({tweet:t,children:e})=>m.jsx("div",{className:K$.root,onClick:n=>{n.preventDefault(),window.open(t.url,"_blank")},children:m.jsx("article",{className:K$.article,children:e})}),rie="_header_r31i5_1",sie="_avatar_r31i5_11",iie="_avatarSquare_r31i5_17",oie="_author_r31i5_21",aie="_authorText_r31i5_26",cie="_username_r31i5_33",Hd={header:rie,avatar:sie,avatarSquare:iie,author:oie,authorText:aie,username:cie},lie=({tweet:t})=>{const{user:e}=t;return m.jsxs("div",{className:Hd.header,children:[m.jsx("a",{href:t.url,className:Hd.avatar,target:"_blank",rel:"noopener noreferrer",children:m.jsx("div",{className:ud(Hd.avatarOverflow,e.profile_image_shape==="Square"&&Hd.avatarSquare),children:m.jsx(w9,{src:e.profile_image_url_https,alt:e.name,width:20,height:20})})}),m.jsxs("div",{className:Hd.author,children:[m.jsx("div",{className:Hd.authorText,children:m.jsx("span",{title:e.name,children:e.name})}),m.jsx(b9,{user:e}),m.jsx("div",{className:Hd.username,children:m.jsxs("span",{title:`@${e.screen_name}`,children:["@",e.screen_name]})})]})]})},uie="_root_175ot_1",die={root:uie},hie=({tweet:t})=>m.jsx("p",{className:die.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>m.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n))}),fie=({tweet:t})=>{var e;return m.jsxs(nie,{tweet:t,children:[m.jsx(lie,{tweet:t}),m.jsx(hie,{tweet:t}),(e=t.mediaDetails)!=null&&e.length?m.jsx(x9,{quoted:!0,tweet:t}):null]})},pie=({tweet:t,components:e})=>{var n;const r=O.useMemo(()=>ose(t),[t]);return m.jsxs(nR,{children:[m.jsx(Fre,{tweet:r,components:e}),r.in_reply_to_status_id_str&&m.jsx(Wre,{tweet:r}),m.jsx(Yre,{tweet:r}),(n=r.mediaDetails)!=null&&n.length?m.jsx(x9,{tweet:r,components:e}):null,r.quoted_tweet&&m.jsx(fie,{tweet:r.quoted_tweet}),m.jsx(Dse,{tweet:r}),m.jsx(Qse,{tweet:r}),m.jsx(Xse,{tweet:r})]})},gie="_root_16yxa_1",mie={root:gie},yie=t=>m.jsx(nR,{children:m.jsxs("div",{className:mie.root,children:[m.jsx("h3",{children:"Tweet not found"}),m.jsx("p",{children:"The embedded tweet could not be found"})]})}),wie="_skeleton_oi7hr_1",bie={skeleton:wie},B1=({style:t})=>m.jsx("span",{className:bie.skeleton,style:t}),vie="_root_17qqv_1",Eie={root:vie},xie=()=>m.jsxs(nR,{className:Eie.root,children:[m.jsx(B1,{style:{height:"3rem",marginBottom:"0.75rem"}}),m.jsx(B1,{style:{height:"6rem",margin:"0.5rem 0"}}),m.jsx("div",{style:{borderTop:"var(--tweet-border)",margin:"0.5rem 0"}}),m.jsx(B1,{style:{height:"2rem"}}),m.jsx(B1,{style:{height:"2rem",borderRadius:"9999px",marginTop:"0.5rem"}})]});var _9={exports:{}},C9={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm=O;function _ie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cie=typeof Object.is=="function"?Object.is:_ie,Aie=Qm.useState,Sie=Qm.useEffect,Iie=Qm.useLayoutEffect,Tie=Qm.useDebugValue;function Nie(t,e){var n=e(),r=Aie({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Iie(function(){s.value=n,s.getSnapshot=e,MS(s)&&i({inst:s})},[t,n,e]),Sie(function(){return MS(s)&&i({inst:s}),t(function(){MS(s)&&i({inst:s})})},[t]),Tie(n),n}function MS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cie(t,n)}catch{return!0}}function Pie(t,e){return e()}var kie=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Pie:Nie;C9.useSyncExternalStore=Qm.useSyncExternalStore!==void 0?Qm.useSyncExternalStore:kie;_9.exports=C9;var Oie=_9.exports;const A9=0,S9=1,I9=2,Q$=3;var Y$=Object.prototype.hasOwnProperty;function pN(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&pN(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(Y$.call(t,n)&&++r&&!Y$.call(e,n)||!(n in e)||!pN(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const Yc=new WeakMap,Ku=()=>{},Cs=Ku(),gN=Object,kt=t=>t===Cs,Qa=t=>typeof t=="function",_d=(t,e)=>({...t,...e}),T9=t=>Qa(t.then),jS={},L1={},rR="undefined",$v=typeof window!=rR,mN=typeof document!=rR,Rie=$v&&"Deno"in window,Die=()=>$v&&typeof window.requestAnimationFrame!=rR,N9=(t,e)=>{const n=Yc.get(t);return[()=>!kt(e)&&t.get(e)||jS,r=>{if(!kt(e)){const s=t.get(e);e in L1||(L1[e]=s),n[5](e,_d(s,r),s||jS)}},n[6],()=>!kt(e)&&e in L1?L1[e]:!kt(e)&&t.get(e)||jS]};let yN=!0;const $ie=()=>yN,[wN,bN]=$v&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ku,Ku],Uie=()=>{const t=mN&&document.visibilityState;return kt(t)||t!=="hidden"},Bie=t=>(mN&&document.addEventListener("visibilitychange",t),wN("focus",t),()=>{mN&&document.removeEventListener("visibilitychange",t),bN("focus",t)}),Lie=t=>{const e=()=>{yN=!0,t()},n=()=>{yN=!1};return wN("online",e),wN("offline",n),()=>{bN("online",e),bN("offline",n)}},Mie={isOnline:$ie,isVisible:Uie},jie={initFocus:Bie,initReconnect:Lie},J$=!Li.useId,pb=!$v||Rie,Fie=t=>Die()?window.requestAnimationFrame(t):setTimeout(t,1),FS=pb?O.useEffect:O.useLayoutEffect,zS=typeof navigator<"u"&&navigator.connection,Z$=!pb&&zS&&(["slow-2g","2g"].includes(zS.effectiveType)||zS.saveData),M1=new WeakMap,HS=(t,e)=>gN.prototype.toString.call(t)===`[object ${e}]`;let zie=0;const vN=t=>{const e=typeof t,n=HS(t,"Date"),r=HS(t,"RegExp"),s=HS(t,"Object");let i,o;if(gN(t)===t&&!n&&!r){if(i=M1.get(t),i)return i;if(i=++zie+"~",M1.set(t,i),Array.isArray(t)){for(i="@",o=0;o<t.length;o++)i+=vN(t[o])+",";M1.set(t,i)}if(s){i="#";const a=gN.keys(t).sort();for(;!kt(o=a.pop());)kt(t[o])||(i+=o+":"+vN(t[o])+",");M1.set(t,i)}}else i=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},sR=t=>{if(Qa(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?vN(t):"",[t,e]};let Hie=0;const EN=()=>++Hie;async function P9(...t){const[e,n,r,s]=t,i=_d({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let o=i.populateCache;const a=i.rollbackOnError;let c=i.optimisticData;const l=h=>typeof a=="function"?a(h):a!==!1,u=i.throwOnError;if(Qa(n)){const h=n,f=[],p=e.keys();for(const g of p)!/^\$(inf|sub)\$/.test(g)&&h(e.get(g)._k)&&f.push(g);return Promise.all(f.map(d))}return d(n);async function d(h){const[f]=sR(h);if(!f)return;const[p,g]=N9(e,f),[y,w,v,b]=Yc.get(e),_=()=>{const H=y[f];return(Qa(i.revalidate)?i.revalidate(p().data,h):i.revalidate!==!1)&&(delete v[f],delete b[f],H&&H[0])?H[0](I9).then(()=>p().data):p().data};if(t.length<3)return _();let x=r,C;const S=EN();w[f]=[S,0];const N=!kt(c),A=p(),P=A.data,D=A._c,j=kt(D)?P:D;if(N&&(c=Qa(c)?c(j,P):c,g({data:c,_c:j})),Qa(x))try{x=x(j)}catch(H){C=H}if(x&&T9(x))if(x=await x.catch(H=>{C=H}),S!==w[f][0]){if(C)throw C;return x}else C&&N&&l(C)&&(o=!0,g({data:j,_c:Cs}));if(o&&!C)if(Qa(o)){const H=o(x,j);g({data:H,error:Cs,_c:Cs})}else g({data:x,error:Cs,_c:Cs});if(w[f][1]=EN(),Promise.resolve(_()).then(()=>{g({_c:Cs})}),C){if(u)throw C;return}return x}}const X$=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},Wie=(t,e)=>{if(!Yc.has(t)){const n=_d(jie,e),r=Object.create(null),s=P9.bind(Cs,t);let i=Ku;const o=Object.create(null),a=(u,d)=>{const h=o[u]||[];return o[u]=h,h.push(d),()=>h.splice(h.indexOf(d),1)},c=(u,d,h)=>{t.set(u,d);const f=o[u];if(f)for(const p of f)p(d,h)},l=()=>{if(!Yc.has(t)&&(Yc.set(t,[r,Object.create(null),Object.create(null),Object.create(null),s,c,a]),!pb)){const u=n.initFocus(setTimeout.bind(Cs,X$.bind(Cs,r,A9))),d=n.initReconnect(setTimeout.bind(Cs,X$.bind(Cs,r,S9)));i=()=>{u&&u(),d&&d(),Yc.delete(t)}}};return l(),[t,s,l,i]}return[t,Yc.get(t)[4]]},Gie=(t,e,n,r,s)=>{const i=n.errorRetryCount,o=s.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!kt(i)&&o>i||setTimeout(r,a,s)},qie=pN,[k9,Vie]=Wie(new Map),Kie=_d({onLoadingSlow:Ku,onSuccess:Ku,onError:Ku,onErrorRetry:Gie,onDiscarded:Ku,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Z$?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Z$?5e3:3e3,compare:qie,isPaused:()=>!1,cache:k9,mutate:Vie,fallback:{}},Mie),Qie=(t,e)=>{const n=_d(t,e);if(e){const{use:r,fallback:s}=t,{use:i,fallback:o}=e;r&&i&&(n.use=r.concat(i)),s&&o&&(n.fallback=_d(s,o))}return n},Yie=O.createContext({}),Jie="$inf$",O9=$v&&window.__SWR_DEVTOOLS_USE__,Zie=O9?window.__SWR_DEVTOOLS_USE__:[],Xie=()=>{O9&&(window.__SWR_DEVTOOLS_REACT__=Li)},eoe=t=>Qa(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],toe=()=>_d(Kie,O.useContext(Yie)),noe=t=>(e,n,r)=>t(e,n&&((...i)=>{const[o]=sR(e),[,,,a]=Yc.get(k9);if(o.startsWith(Jie))return n(...i);const c=a[o];return kt(c)?n(...i):(delete a[o],c)}),r),roe=Zie.concat(noe),soe=t=>function(...n){const r=toe(),[s,i,o]=eoe(n),a=Qie(r,o);let c=t;const{use:l}=a,u=(l||[]).concat(roe);for(let d=u.length;d--;)c=u[d](c);return c(s,i||a.fetcher||null,a)},ioe=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}};Xie();const WS=Li.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),GS={dedupe:!0},ooe=(t,e,n)=>{const{cache:r,compare:s,suspense:i,fallbackData:o,revalidateOnMount:a,revalidateIfStale:c,refreshInterval:l,refreshWhenHidden:u,refreshWhenOffline:d,keepPreviousData:h}=n,[f,p,g,y]=Yc.get(r),[w,v]=sR(t),b=O.useRef(!1),_=O.useRef(!1),x=O.useRef(w),C=O.useRef(e),S=O.useRef(n),N=()=>S.current,A=()=>N().isVisible()&&N().isOnline(),[P,D,j,H]=N9(r,w),K=O.useRef({}).current,I=kt(o)?kt(n.fallback)?Cs:n.fallback[w]:o,T=(Ie,ve)=>{for(const Ge in K){const nt=Ge;if(nt==="data"){if(!s(Ie[nt],ve[nt])&&(!kt(Ie[nt])||!s(ae,ve[nt])))return!1}else if(ve[nt]!==Ie[nt])return!1}return!0},L=O.useMemo(()=>{const Ie=!w||!e?!1:kt(a)?N().isPaused()||i?!1:c!==!1:a,ve=It=>{const An=_d(It);return delete An._k,Ie?{isValidating:!0,isLoading:!0,...An}:An},Ge=P(),nt=H(),ot=ve(Ge),hn=Ge===nt?ot:ve(nt);let tn=ot;return[()=>{const It=ve(P());return T(It,tn)?(tn.data=It.data,tn.isLoading=It.isLoading,tn.isValidating=It.isValidating,tn.error=It.error,tn):(tn=It,It)},()=>hn]},[r,w]),U=Oie.useSyncExternalStore(O.useCallback(Ie=>j(w,(ve,Ge)=>{T(Ge,ve)||Ie()}),[r,w]),L[0],L[1]),$=!b.current,M=f[w]&&f[w].length>0,q=U.data,ee=kt(q)?I&&T9(I)?WS(I):I:q,ce=U.error,se=O.useRef(ee),ae=h?kt(q)?kt(se.current)?ee:se.current:q:ee,Ee=M&&!kt(ce)?!1:$&&!kt(a)?a:N().isPaused()?!1:i?kt(ee)?!1:c:kt(ee)||c,J=!!(w&&e&&$&&Ee),re=kt(U.isValidating)?J:U.isValidating,de=kt(U.isLoading)?J:U.isLoading,ie=O.useCallback(async Ie=>{const ve=C.current;if(!w||!ve||_.current||N().isPaused())return!1;let Ge,nt,ot=!0;const hn=Ie||{},tn=!g[w]||!hn.dedupe,It=()=>J$?!_.current&&w===x.current&&b.current:w===x.current,An={isValidating:!1,isLoading:!1},Ir=()=>{D(An)},bi=()=>{const Yn=g[w];Yn&&Yn[1]===nt&&delete g[w]},Hn={isValidating:!0};kt(P().data)&&(Hn.isLoading=!0);try{if(tn&&(D(Hn),n.loadingTimeout&&kt(P().data)&&setTimeout(()=>{ot&&It()&&N().onLoadingSlow(w,n)},n.loadingTimeout),g[w]=[ve(v),EN()]),[Ge,nt]=g[w],Ge=await Ge,tn&&setTimeout(bi,n.dedupingInterval),!g[w]||g[w][1]!==nt)return tn&&It()&&N().onDiscarded(w),!1;An.error=Cs;const Yn=p[w];if(!kt(Yn)&&(nt<=Yn[0]||nt<=Yn[1]||Yn[1]===0))return Ir(),tn&&It()&&N().onDiscarded(w),!1;const Qr=P().data;An.data=s(Qr,Ge)?Qr:Ge,tn&&It()&&N().onSuccess(Ge,w,n)}catch(Yn){bi();const Qr=N(),{shouldRetryOnError:Io}=Qr;Qr.isPaused()||(An.error=Yn,tn&&It()&&(Qr.onError(Yn,w,Qr),(Io===!0||Qa(Io)&&Io(Yn))&&(!N().revalidateOnFocus||!N().revalidateOnReconnect||A())&&Qr.onErrorRetry(Yn,w,Qr,Fd=>{const To=f[w];To&&To[0]&&To[0](Q$,Fd)},{retryCount:(hn.retryCount||0)+1,dedupe:!0})))}return ot=!1,Ir(),!0},[w,r]),ye=O.useCallback((...Ie)=>P9(r,x.current,...Ie),[]);if(FS(()=>{C.current=e,S.current=n,kt(q)||(se.current=q)}),FS(()=>{if(!w)return;const Ie=ie.bind(Cs,GS);let ve=0;N().revalidateOnFocus&&(ve=Date.now()+N().focusThrottleInterval);const nt=ioe(w,f,(ot,hn={})=>{if(ot==A9){const tn=Date.now();N().revalidateOnFocus&&tn>ve&&A()&&(ve=tn+N().focusThrottleInterval,Ie())}else if(ot==S9)N().revalidateOnReconnect&&A()&&Ie();else{if(ot==I9)return ie();if(ot==Q$)return ie(hn)}});return _.current=!1,x.current=w,b.current=!0,D({_k:v}),Ee&&(kt(ee)||pb?Ie():Fie(Ie)),()=>{_.current=!0,nt()}},[w]),FS(()=>{let Ie;function ve(){const nt=Qa(l)?l(P().data):l;nt&&Ie!==-1&&(Ie=setTimeout(Ge,nt))}function Ge(){!P().error&&(u||N().isVisible())&&(d||N().isOnline())?ie(GS).then(ve):ve()}return ve(),()=>{Ie&&(clearTimeout(Ie),Ie=-1)}},[l,u,d,w]),O.useDebugValue(ae),i&&kt(ee)&&w){if(!J$&&pb)throw new Error("Fallback data is required when using Suspense in SSR.");C.current=e,S.current=n,_.current=!1;const Ie=y[w];if(!kt(Ie)){const ve=ye(Ie);WS(ve)}if(kt(ce)){const ve=ie(GS);kt(ae)||(ve.status="fulfilled",ve.value=!0),WS(ve)}else throw ce}return{mutate:ye,get data(){return K.data=!0,ae},get error(){return K.error=!0,ce},get isValidating(){return K.isValidating=!0,re},get isLoading(){return K.isLoading=!0,de}}},e8=soe(ooe);class aoe extends Error{constructor({message:e,status:n,data:r}){super(e),this.name="TwitterApiError",this.status=n,this.data=r}}const coe=e8.default||e8,loe="https://react-tweet.vercel.app";async function uoe([t,e]){const n=await fetch(t,e),r=await n.json();if(n.ok)return r.data||null;throw new aoe({message:`Failed to fetch tweet at "${t}" with "${n.status}".`,data:r,status:n.status})}const doe=(t,e,n)=>{const{isLoading:r,data:s,error:i}=coe(()=>e||t?[e||t&&`${loe}/api/tweet/${t}`,n]:null,uoe,{revalidateIfStale:!1,revalidateOnFocus:!1,shouldRetryOnError:!1});return{isLoading:!!(r||s===void 0&&!i),data:s,error:i}},hoe=({id:t,apiUrl:e,fallback:n=m.jsx(xie,{}),components:r,fetchOptions:s,onError:i})=>{const{data:o,error:a,isLoading:c}=doe(t,e,s);if(c)return n;if(a||!o){const l=(r==null?void 0:r.TweetNotFound)||yie;return m.jsx(l,{error:i?i(a):a})}return m.jsx(pie,{tweet:o,components:r})};var NC={exports:{}},R9={},D9={exports:{}},foe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",poe=foe,goe=poe;function $9(){}function U9(){}U9.resetWarningCache=$9;var moe=function(){function t(r,s,i,o,a,c){if(c!==goe){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:U9,resetWarningCache:$9};return n.PropTypes=n,n};D9.exports=moe();var B9=D9.exports;function L9(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=L9(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function t8(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=L9(t))&&(r&&(r+=" "),r+=e);return r}const yoe=Object.freeze(Object.defineProperty({__proto__:null,clsx:t8,default:t8},Symbol.toStringTag,{value:"Module"})),woe=X_(yoe);var zn={},hc={};Object.defineProperty(hc,"__esModule",{value:!0});hc.dontSetMe=_oe;hc.findInArray=boe;hc.int=xoe;hc.isFunction=voe;hc.isNum=Eoe;function boe(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function voe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function Eoe(t){return typeof t=="number"&&!isNaN(t)}function xoe(t){return parseInt(t,10)}function _oe(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var Yf={};Object.defineProperty(Yf,"__esModule",{value:!0});Yf.browserPrefixToKey=j9;Yf.browserPrefixToStyle=Coe;Yf.default=void 0;Yf.getPrefix=M9;const qS=["Moz","Webkit","O","ms"];function M9(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<qS.length;r++)if(j9(e,qS[r])in n)return qS[r];return""}function j9(t,e){return e?"".concat(e).concat(Aoe(t)):t}function Coe(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function Aoe(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}Yf.default=M9();Object.defineProperty(zn,"__esModule",{value:!0});zn.addClassName=H9;zn.addEvent=Toe;zn.addUserSelectStyles=Moe;zn.createCSSTransform=$oe;zn.createSVGTransform=Uoe;zn.getTouch=Boe;zn.getTouchIdentifier=Loe;zn.getTranslation=iR;zn.innerHeight=Ooe;zn.innerWidth=Roe;zn.matchesSelector=z9;zn.matchesSelectorAndParentsTo=Ioe;zn.offsetXYFromParent=Doe;zn.outerHeight=Poe;zn.outerWidth=koe;zn.removeClassName=W9;zn.removeEvent=Noe;zn.removeUserSelectStyles=joe;var Fi=hc,n8=Soe(Yf);function F9(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(F9=function(r){return r?n:e})(t)}function Soe(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=F9(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}let j1="";function z9(t,e){return j1||(j1=(0,Fi.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Fi.isFunction)(t[n])})),(0,Fi.isFunction)(t[j1])?t[j1](e):!1}function Ioe(t,e,n){let r=t;do{if(z9(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Toe(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,s):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function Noe(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,s):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function Poe(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Fi.int)(n.borderTopWidth),e+=(0,Fi.int)(n.borderBottomWidth),e}function koe(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Fi.int)(n.borderLeftWidth),e+=(0,Fi.int)(n.borderRightWidth),e}function Ooe(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Fi.int)(n.paddingTop),e-=(0,Fi.int)(n.paddingBottom),e}function Roe(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Fi.int)(n.paddingLeft),e-=(0,Fi.int)(n.paddingRight),e}function Doe(t,e,n){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),i=(t.clientX+e.scrollLeft-s.left)/n,o=(t.clientY+e.scrollTop-s.top)/n;return{x:i,y:o}}function $oe(t,e){const n=iR(t,e,"px");return{[(0,n8.browserPrefixToKey)("transform",n8.default)]:n}}function Uoe(t,e){return iR(t,e,"")}function iR(t,e,n){let{x:r,y:s}=t,i="translate(".concat(r).concat(n,",").concat(s).concat(n,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);i="translate(".concat(o,", ").concat(a,")")+i}return i}function Boe(t,e){return t.targetTouches&&(0,Fi.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Fi.findInArray)(t.changedTouches,n=>e===n.identifier)}function Loe(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function Moe(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&H9(t.body,"react-draggable-transparent-selection")}function joe(t){if(t)try{if(t.body&&W9(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function H9(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function W9(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var fc={};Object.defineProperty(fc,"__esModule",{value:!0});fc.canDragX=Hoe;fc.canDragY=Woe;fc.createCoreData=qoe;fc.createDraggableData=Voe;fc.getBoundPosition=Foe;fc.getControlPosition=Goe;fc.snapToGrid=zoe;var Ci=hc,dg=zn;function Foe(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:Koe(r);const s=oR(t);if(typeof r=="string"){const{ownerDocument:i}=s,o=i.defaultView;let a;if(r==="parent"?a=s.parentNode:a=i.querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=a,l=o.getComputedStyle(s),u=o.getComputedStyle(c);r={left:-s.offsetLeft+(0,Ci.int)(u.paddingLeft)+(0,Ci.int)(l.marginLeft),top:-s.offsetTop+(0,Ci.int)(u.paddingTop)+(0,Ci.int)(l.marginTop),right:(0,dg.innerWidth)(c)-(0,dg.outerWidth)(s)-s.offsetLeft+(0,Ci.int)(u.paddingRight)-(0,Ci.int)(l.marginRight),bottom:(0,dg.innerHeight)(c)-(0,dg.outerHeight)(s)-s.offsetTop+(0,Ci.int)(u.paddingBottom)-(0,Ci.int)(l.marginBottom)}}return(0,Ci.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Ci.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ci.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Ci.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function zoe(t,e,n){const r=Math.round(e/t[0])*t[0],s=Math.round(n/t[1])*t[1];return[r,s]}function Hoe(t){return t.props.axis==="both"||t.props.axis==="x"}function Woe(t){return t.props.axis==="both"||t.props.axis==="y"}function Goe(t,e,n){const r=typeof e=="number"?(0,dg.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const s=oR(n),i=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,dg.offsetXYFromParent)(r||t,i,n.props.scale)}function qoe(t,e,n){const r=!(0,Ci.isNum)(t.lastX),s=oR(t);return r?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function Voe(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function Koe(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function oR(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var PC={},kC={};Object.defineProperty(kC,"__esModule",{value:!0});kC.default=Qoe;function Qoe(){}Object.defineProperty(PC,"__esModule",{value:!0});PC.default=void 0;var VS=Joe(O),Ms=aR(B9),Yoe=aR(AO),Zr=zn,kl=fc,KS=hc,t0=aR(kC);function aR(t){return t&&t.__esModule?t:{default:t}}function G9(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(G9=function(r){return r?n:e})(t)}function Joe(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=G9(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function ms(t,e,n){return e=Zoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zoe(t){var e=Xoe(t,"string");return typeof e=="symbol"?e:String(e)}function Xoe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const $o={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Ol=$o.mouse,OC=class extends VS.Component{constructor(){super(...arguments),ms(this,"dragging",!1),ms(this,"lastX",NaN),ms(this,"lastY",NaN),ms(this,"touchIdentifier",null),ms(this,"mounted",!1),ms(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Zr.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Zr.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const s=(0,Zr.getTouchIdentifier)(e);this.touchIdentifier=s;const i=(0,kl.getControlPosition)(e,s,this);if(i==null)return;const{x:o,y:a}=i,c=(0,kl.createCoreData)(this,o,a);(0,t0.default)("DraggableCore: handleDragStart: %j",c),(0,t0.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Zr.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,Zr.addEvent)(r,Ol.move,this.handleDrag),(0,Zr.addEvent)(r,Ol.stop,this.handleDragStop))}),ms(this,"handleDrag",e=>{const n=(0,kl.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,c=s-this.lastY;if([a,c]=(0,kl.snapToGrid)(this.props.grid,a,c),!a&&!c)return;r=this.lastX+a,s=this.lastY+c}const i=(0,kl.createCoreData)(this,r,s);if((0,t0.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(e,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=s}),ms(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,kl.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,l=s-this.lastY||0;[c,l]=(0,kl.snapToGrid)(this.props.grid,c,l),r=this.lastX+c,s=this.lastY+l}const i=(0,kl.createCoreData)(this,r,s);if(this.props.onStop(e,i)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Zr.removeUserSelectStyles)(a.ownerDocument),(0,t0.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,t0.default)("DraggableCore: Removing handlers"),(0,Zr.removeEvent)(a.ownerDocument,Ol.move,this.handleDrag),(0,Zr.removeEvent)(a.ownerDocument,Ol.stop,this.handleDragStop))}),ms(this,"onMouseDown",e=>(Ol=$o.mouse,this.handleDragStart(e))),ms(this,"onMouseUp",e=>(Ol=$o.mouse,this.handleDragStop(e))),ms(this,"onTouchStart",e=>(Ol=$o.touch,this.handleDragStart(e))),ms(this,"onTouchEnd",e=>(Ol=$o.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Zr.addEvent)(e,$o.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Zr.removeEvent)(n,$o.mouse.move,this.handleDrag),(0,Zr.removeEvent)(n,$o.touch.move,this.handleDrag),(0,Zr.removeEvent)(n,$o.mouse.stop,this.handleDragStop),(0,Zr.removeEvent)(n,$o.touch.stop,this.handleDragStop),(0,Zr.removeEvent)(e,$o.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Zr.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:Yoe.default.findDOMNode(this)}render(){return VS.cloneElement(VS.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};PC.default=OC;ms(OC,"displayName","DraggableCore");ms(OC,"propTypes",{allowAnyClick:Ms.default.bool,children:Ms.default.node.isRequired,disabled:Ms.default.bool,enableUserSelectHack:Ms.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ms.default.arrayOf(Ms.default.number),handle:Ms.default.string,cancel:Ms.default.string,nodeRef:Ms.default.object,onStart:Ms.default.func,onDrag:Ms.default.func,onStop:Ms.default.func,onMouseDown:Ms.default.func,scale:Ms.default.number,className:KS.dontSetMe,style:KS.dontSetMe,transform:KS.dontSetMe});ms(OC,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=h(O),n=u(B9),r=u(AO),s=u(woe),i=zn,o=fc,a=hc,c=u(PC),l=u(kC);function u(v){return v&&v.__esModule?v:{default:v}}function d(v){if(typeof WeakMap!="function")return null;var b=new WeakMap,_=new WeakMap;return(d=function(x){return x?_:b})(v)}function h(v,b){if(v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var _=d(b);if(_&&_.has(v))return _.get(v);var x={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in v)if(S!=="default"&&Object.prototype.hasOwnProperty.call(v,S)){var N=C?Object.getOwnPropertyDescriptor(v,S):null;N&&(N.get||N.set)?Object.defineProperty(x,S,N):x[S]=v[S]}return x.default=v,_&&_.set(v,x),x}function f(){return f=Object.assign?Object.assign.bind():function(v){for(var b=1;b<arguments.length;b++){var _=arguments[b];for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(v[x]=_[x])}return v},f.apply(this,arguments)}function p(v,b,_){return b=g(b),b in v?Object.defineProperty(v,b,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[b]=_,v}function g(v){var b=y(v,"string");return typeof b=="symbol"?b:String(b)}function y(v,b){if(typeof v!="object"||v===null)return v;var _=v[Symbol.toPrimitive];if(_!==void 0){var x=_.call(v,b);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(v)}class w extends e.Component{static getDerivedStateFromProps(b,_){let{position:x}=b,{prevPropsPosition:C}=_;return x&&(!C||x.x!==C.x||x.y!==C.y)?((0,l.default)("Draggable: getDerivedStateFromProps %j",{position:x,prevPropsPosition:C}),{x:x.x,y:x.y,prevPropsPosition:{...x}}):null}constructor(b){super(b),p(this,"onDragStart",(_,x)=>{if((0,l.default)("Draggable: onDragStart: %j",x),this.props.onStart(_,(0,o.createDraggableData)(this,x))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(_,x)=>{if(!this.state.dragging)return!1;(0,l.default)("Draggable: onDrag: %j",x);const C=(0,o.createDraggableData)(this,x),S={x:C.x,y:C.y,slackX:0,slackY:0};if(this.props.bounds){const{x:A,y:P}=S;S.x+=this.state.slackX,S.y+=this.state.slackY;const[D,j]=(0,o.getBoundPosition)(this,S.x,S.y);S.x=D,S.y=j,S.slackX=this.state.slackX+(A-S.x),S.slackY=this.state.slackY+(P-S.y),C.x=S.x,C.y=S.y,C.deltaX=S.x-this.state.x,C.deltaY=S.y-this.state.y}if(this.props.onDrag(_,C)===!1)return!1;this.setState(S)}),p(this,"onDragStop",(_,x)=>{if(!this.state.dragging||this.props.onStop(_,(0,o.createDraggableData)(this,x))===!1)return!1;(0,l.default)("Draggable: onDragStop: %j",x);const S={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:A,y:P}=this.props.position;S.x=A,S.y=P}this.setState(S)}),this.state={dragging:!1,dragged:!1,x:b.position?b.position.x:b.defaultPosition.x,y:b.position?b.position.y:b.defaultPosition.y,prevPropsPosition:{...b.position},slackX:0,slackY:0,isElementSVG:!1},b.position&&!(b.onDrag||b.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var b,_;return(b=(_=this.props)===null||_===void 0||(_=_.nodeRef)===null||_===void 0?void 0:_.current)!==null&&b!==void 0?b:r.default.findDOMNode(this)}render(){const{axis:b,bounds:_,children:x,defaultPosition:C,defaultClassName:S,defaultClassNameDragging:N,defaultClassNameDragged:A,position:P,positionOffset:D,scale:j,...H}=this.props;let K={},I=null;const L=!!!P||this.state.dragging,U=P||C,$={x:(0,o.canDragX)(this)&&L?this.state.x:U.x,y:(0,o.canDragY)(this)&&L?this.state.y:U.y};this.state.isElementSVG?I=(0,i.createSVGTransform)($,D):K=(0,i.createCSSTransform)($,D);const M=(0,s.default)(x.props.className||"",S,{[N]:this.state.dragging,[A]:this.state.dragged});return e.createElement(c.default,f({},H,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(x),{className:M,style:{...x.props.style,...K},transform:I}))}}t.default=w,p(w,"displayName","Draggable"),p(w,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),p(w,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(R9);const{default:q9,DraggableCore:eae}=R9;NC.exports=q9;NC.exports.default=q9;NC.exports.DraggableCore=eae;var tae=NC.exports;const Uv=qf(tae);function Rn(){return Rn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rn.apply(null,arguments)}function V9(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var K9={exports:{}},en={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sr=typeof Symbol=="function"&&Symbol.for,cR=Sr?Symbol.for("react.element"):60103,lR=Sr?Symbol.for("react.portal"):60106,RC=Sr?Symbol.for("react.fragment"):60107,DC=Sr?Symbol.for("react.strict_mode"):60108,$C=Sr?Symbol.for("react.profiler"):60114,UC=Sr?Symbol.for("react.provider"):60109,BC=Sr?Symbol.for("react.context"):60110,uR=Sr?Symbol.for("react.async_mode"):60111,LC=Sr?Symbol.for("react.concurrent_mode"):60111,MC=Sr?Symbol.for("react.forward_ref"):60112,jC=Sr?Symbol.for("react.suspense"):60113,nae=Sr?Symbol.for("react.suspense_list"):60120,FC=Sr?Symbol.for("react.memo"):60115,zC=Sr?Symbol.for("react.lazy"):60116,rae=Sr?Symbol.for("react.block"):60121,sae=Sr?Symbol.for("react.fundamental"):60117,iae=Sr?Symbol.for("react.responder"):60118,oae=Sr?Symbol.for("react.scope"):60119;function Vi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case cR:switch(t=t.type,t){case uR:case LC:case RC:case $C:case DC:case jC:return t;default:switch(t=t&&t.$$typeof,t){case BC:case MC:case zC:case FC:case UC:return t;default:return e}}case lR:return e}}}function Q9(t){return Vi(t)===LC}en.AsyncMode=uR;en.ConcurrentMode=LC;en.ContextConsumer=BC;en.ContextProvider=UC;en.Element=cR;en.ForwardRef=MC;en.Fragment=RC;en.Lazy=zC;en.Memo=FC;en.Portal=lR;en.Profiler=$C;en.StrictMode=DC;en.Suspense=jC;en.isAsyncMode=function(t){return Q9(t)||Vi(t)===uR};en.isConcurrentMode=Q9;en.isContextConsumer=function(t){return Vi(t)===BC};en.isContextProvider=function(t){return Vi(t)===UC};en.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===cR};en.isForwardRef=function(t){return Vi(t)===MC};en.isFragment=function(t){return Vi(t)===RC};en.isLazy=function(t){return Vi(t)===zC};en.isMemo=function(t){return Vi(t)===FC};en.isPortal=function(t){return Vi(t)===lR};en.isProfiler=function(t){return Vi(t)===$C};en.isStrictMode=function(t){return Vi(t)===DC};en.isSuspense=function(t){return Vi(t)===jC};en.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===RC||t===LC||t===$C||t===DC||t===jC||t===nae||typeof t=="object"&&t!==null&&(t.$$typeof===zC||t.$$typeof===FC||t.$$typeof===UC||t.$$typeof===BC||t.$$typeof===MC||t.$$typeof===sae||t.$$typeof===iae||t.$$typeof===oae||t.$$typeof===rae)};en.typeOf=Vi;K9.exports=en;var aae=K9.exports,dR=aae,cae={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},lae={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},uae={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Y9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hR={};hR[dR.ForwardRef]=uae;hR[dR.Memo]=Y9;function r8(t){return dR.isMemo(t)?Y9:hR[t.$$typeof]||cae}var dae=Object.defineProperty,hae=Object.getOwnPropertyNames,s8=Object.getOwnPropertySymbols,fae=Object.getOwnPropertyDescriptor,pae=Object.getPrototypeOf,i8=Object.prototype;function J9(t,e,n){if(typeof e!="string"){if(i8){var r=pae(e);r&&r!==i8&&J9(t,r,n)}var s=hae(e);s8&&(s=s.concat(s8(e)));for(var i=r8(t),o=r8(e),a=0;a<s.length;++a){var c=s[a];if(!lae[c]&&!(n&&n[c])&&!(o&&o[c])&&!(i&&i[c])){var l=fae(e,c);try{dae(t,c,l)}catch{}}}}return t}var gae=J9;const mae=qf(gae);var Z9={};Object.defineProperty(Z9,"__esModule",{value:!0});Z9.default=yae;function yae(t){return t.displayName||t.name||(typeof t=="string"&&t.length>0?t:"Unknown")}function F1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t_(){return t_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(this,arguments)}function wae(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Rl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bae(t){var e=function(n){wae(r,n);function r(){for(var i,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return i=n.call.apply(n,[this].concat(a))||this,F1(Rl(Rl(i)),"cachedTheme",void 0),F1(Rl(Rl(i)),"lastOuterTheme",void 0),F1(Rl(Rl(i)),"lastTheme",void 0),F1(Rl(Rl(i)),"renderProvider",function(l){var u=i.props.children;return Li.createElement(t.Provider,{value:i.getTheme(l)},u)}),i}var s=r.prototype;return s.getTheme=function(o){if(this.props.theme!==this.lastTheme||o!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=o,this.lastTheme=this.props.theme,typeof this.lastTheme=="function"){var a=this.props.theme;this.cachedTheme=a(o)}else{var c=this.props.theme;this.cachedTheme=o?t_({},o,c):c}return this.cachedTheme},s.render=function(){var o=this.props.children;return o?Li.createElement(t.Consumer,null,this.renderProvider):null},r}(Li.Component);return e}function vae(t){return function(n){var r=Li.forwardRef(function(s,i){return Li.createElement(t.Consumer,null,function(o){return Li.createElement(n,t_({theme:o,ref:i},s))})});return mae(r,n),r}}function Eae(t){var e=function(){var r=Li.useContext(t);return r};return e}function xae(t){return{context:t,withTheme:vae(t),useTheme:Eae(t),ThemeProvider:bae(t)}}var X9=O.createContext();xae(X9);var o8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xy=(typeof window>"u"?"undefined":o8(window))==="object"&&(typeof document>"u"?"undefined":o8(document))==="object"&&document.nodeType===9;function gb(t){"@babel/helpers - typeof";return gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gb(t)}function _ae(t,e){if(gb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cae(t){var e=_ae(t,"string");return gb(e)=="symbol"?e:e+""}function Aae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cae(r.key),r)}}function fR(t,e,n){return e&&Aae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xN(t,e){return xN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},xN(t,e)}function e7(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,xN(t,e)}function a8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Sae={}.constructor;function _N(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(_N);if(t.constructor!==Sae)return t;var e={};for(var n in t)e[n]=_N(t[n]);return e}function HC(t,e,n){t===void 0&&(t="unnamed");var r=n.jss,s=_N(e),i=r.plugins.onCreateRule(t,s,n);return i||(t[0],null)}var c8=function(e,n){for(var r="",s=0;s<e.length&&e[s]!=="!important";s++)r&&(r+=n),r+=e[s];return r},uf=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)n&&(n+=", "),n+=c8(e[r]," ");else n=c8(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function _y(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function n0(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function mb(t,e,n){n===void 0&&(n={});var r="";if(!e)return r;var s=n,i=s.indent,o=i===void 0?0:i,a=e.fallbacks;n.format===!1&&(o=-1/0);var c=_y(n),l=c.linebreak,u=c.space;if(t&&o++,a)if(Array.isArray(a))for(var d=0;d<a.length;d++){var h=a[d];for(var f in h){var p=h[f];p!=null&&(r&&(r+=l),r+=n0(f+":"+u+uf(p)+";",o))}}else for(var g in a){var y=a[g];y!=null&&(r&&(r+=l),r+=n0(g+":"+u+uf(y)+";",o))}for(var w in e){var v=e[w];v!=null&&w!=="fallbacks"&&(r&&(r+=l),r+=n0(w+":"+u+uf(v)+";",o))}return!r&&!n.allowEmpty||!t?r:(o--,r&&(r=""+l+r+l),n0(""+t+u+"{"+r,o)+n0("}",o))}var Iae=/([[\].#*$><+~=|^:(),"'`\s])/g,l8=typeof CSS<"u"&&CSS.escape,pR=function(t){return l8?l8(t):t.replace(Iae,"\\$1")},t7=function(){function t(n,r,s){this.type="style",this.isProcessed=!1;var i=s.sheet,o=s.Renderer;this.key=n,this.options=s,this.style=r,i?this.renderer=i.renderer:o&&(this.renderer=new o)}var e=t.prototype;return e.prop=function(r,s,i){if(s===void 0)return this.style[r];var o=i?i.force:!1;if(!o&&this.style[r]===s)return this;var a=s;(!i||i.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(s,r,this));var c=a==null||a===!1,l=r in this.style;if(c&&!l&&!o)return this;var u=c&&l;if(u?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var d=this.options.sheet;return d&&d.attached,this},t}(),CN=function(t){e7(e,t);function e(r,s,i){var o;o=t.call(this,r,s,i)||this;var a=i.selector,c=i.scoped,l=i.sheet,u=i.generateId;return a?o.selectorText=a:c!==!1&&(o.id=u(a8(a8(o)),l),o.selectorText="."+pR(o.id)),o}var n=e.prototype;return n.applyTo=function(s){var i=this.renderer;if(i){var o=this.toJSON();for(var a in o)i.setProperty(s,a,o[a])}return this},n.toJSON=function(){var s={};for(var i in this.style){var o=this.style[i];typeof o!="object"?s[i]=o:Array.isArray(o)&&(s[i]=uf(o))}return s},n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?Rn({},s,{allowEmpty:!0}):s;return mb(this.selectorText,this.style,a)},fR(e,[{key:"selector",set:function(s){if(s!==this.selectorText){this.selectorText=s;var i=this.renderer,o=this.renderable;if(!(!o||!i)){var a=i.setSelector(o,s);a||i.replaceRule(o,this)}}},get:function(){return this.selectorText}}]),e}(t7),Tae={onCreateRule:function(e,n,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new CN(e,n,r)}},QS={indent:1,children:!0},Nae=/@([\w-]+)/,Pae=function(){function t(n,r,s){this.type="conditional",this.isProcessed=!1,this.key=n;var i=n.match(Nae);this.at=i?i[1]:"unknown",this.query=s.name||"@"+this.at,this.options=s,this.rules=new WC(Rn({},s,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o?(this.options.jss.plugins.onProcessRule(o),o):null},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.toString=function(r){r===void 0&&(r=QS);var s=_y(r),i=s.linebreak;if(r.indent==null&&(r.indent=QS.indent),r.children==null&&(r.children=QS.children),r.children===!1)return this.query+" {}";var o=this.rules.toString(r);return o?this.query+" {"+i+o+i+"}":""},t}(),kae=/@container|@media|@supports\s+/,Oae={onCreateRule:function(e,n,r){return kae.test(e)?new Pae(e,n,r):null}},YS={indent:1,children:!0},Rae=/@keyframes\s+([\w-]+)/,AN=function(){function t(n,r,s){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=n.match(Rae);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=s;var o=s.scoped,a=s.sheet,c=s.generateId;this.id=o===!1?this.name:pR(c(this,a)),this.rules=new WC(Rn({},s,{parent:this}));for(var l in r)this.rules.add(l,r[l],Rn({},s,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(r){r===void 0&&(r=YS);var s=_y(r),i=s.linebreak;if(r.indent==null&&(r.indent=YS.indent),r.children==null&&(r.children=YS.children),r.children===!1)return this.at+" "+this.id+" {}";var o=this.rules.toString(r);return o&&(o=""+i+o+i),this.at+" "+this.id+" {"+o+"}"},t}(),Dae=/@keyframes\s+/,$ae=/\$([\w-]+)/g,SN=function(e,n){return typeof e=="string"?e.replace($ae,function(r,s){return s in n?n[s]:r}):e},u8=function(e,n,r){var s=e[n],i=SN(s,r);i!==s&&(e[n]=i)},Uae={onCreateRule:function(e,n,r){return typeof e=="string"&&Dae.test(e)?new AN(e,n,r):null},onProcessStyle:function(e,n,r){return n.type!=="style"||!r||("animation-name"in e&&u8(e,"animation-name",r.keyframes),"animation"in e&&u8(e,"animation",r.keyframes)),e},onChangeValue:function(e,n,r){var s=r.options.sheet;if(!s)return e;switch(n){case"animation":return SN(e,s.keyframes);case"animation-name":return SN(e,s.keyframes);default:return e}}},Bae=function(t){e7(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?Rn({},s,{allowEmpty:!0}):s;return mb(this.key,this.style,a)},e}(t7),Lae={onCreateRule:function(e,n,r){return r.parent&&r.parent.type==="keyframes"?new Bae(e,n,r):null}},Mae=function(){function t(n,r,s){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){var s=_y(r),i=s.linebreak;if(Array.isArray(this.style)){for(var o="",a=0;a<this.style.length;a++)o+=mb(this.at,this.style[a]),this.style[a+1]&&(o+=i);return o}return mb(this.at,this.style,r)},t}(),jae=/@font-face/,Fae={onCreateRule:function(e,n,r){return jae.test(e)?new Mae(e,n,r):null}},zae=function(){function t(n,r,s){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){return mb(this.key,this.style,r)},t}(),Hae={onCreateRule:function(e,n,r){return e==="@viewport"||e==="@-ms-viewport"?new zae(e,n,r):null}},Wae=function(){function t(n,r,s){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=s}var e=t.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var s="",i=0;i<this.value.length;i++)s+=this.key+" "+this.value[i]+";",this.value[i+1]&&(s+=`
`);return s}return this.key+" "+this.value+";"},t}(),Gae={"@charset":!0,"@import":!0,"@namespace":!0},qae={onCreateRule:function(e,n,r){return e in Gae?new Wae(e,n,r):null}},d8=[Tae,Oae,Uae,Lae,Fae,Hae,qae],Vae={process:!0},h8={force:!0,process:!0},WC=function(){function t(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var e=t.prototype;return e.add=function(r,s,i){var o=this.options,a=o.parent,c=o.sheet,l=o.jss,u=o.Renderer,d=o.generateId,h=o.scoped,f=Rn({classes:this.classes,parent:a,sheet:c,jss:l,Renderer:u,generateId:d,scoped:h,name:r,keyframes:this.keyframes,selector:void 0},i),p=r;r in this.raw&&(p=r+"-d"+this.counter++),this.raw[p]=s,p in this.classes&&(f.selector="."+pR(this.classes[p]));var g=HC(p,s,f);if(!g)return null;this.register(g);var y=f.index===void 0?this.index.length:f.index;return this.index.splice(y,0,g),g},e.replace=function(r,s,i){var o=this.get(r),a=this.index.indexOf(o);o&&this.remove(o);var c=i;return a!==-1&&(c=Rn({},i,{index:a})),this.add(r,s,c)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof CN?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof AN&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof CN?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof AN&&delete this.keyframes[r.name]},e.update=function(){var r,s,i;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2]):(s=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),s,i);else for(var o=0;o<this.index.length;o++)this.updateOne(this.index[o],s,i)},e.updateOne=function(r,s,i){i===void 0&&(i=Vae);var o=this.options,a=o.jss.plugins,c=o.sheet;if(r.rules instanceof t){r.rules.update(s,i);return}var l=r.style;if(a.onUpdate(s,r,c,i),i.process&&l&&l!==r.style){a.onProcessStyle(r.style,r,c);for(var u in r.style){var d=r.style[u],h=l[u];d!==h&&r.prop(u,d,h8)}for(var f in l){var p=r.style[f],g=l[f];p==null&&p!==g&&r.prop(f,null,h8)}}},e.toString=function(r){for(var s="",i=this.options.sheet,o=i?i.options.link:!1,a=_y(r),c=a.linebreak,l=0;l<this.index.length;l++){var u=this.index[l],d=u.toString(r);!d&&!o||(s&&(s+=c),s+=d)}return s},t}(),n7=function(){function t(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Rn({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new WC(this.options);for(var s in n)this.rules.add(s,n[s]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,s,i){var o=this.queue;this.attached&&!o&&(this.queue=[]);var a=this.rules.add(r,s,i);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(o?o.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},e.replaceRule=function(r,s,i){var o=this.rules.get(r);if(!o)return this.addRule(r,s,i);var a=this.rules.replace(r,s,i);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?o.renderable&&this.renderer.replaceRule(o.renderable,a):this.renderer.deleteRule(o)),a):(this.deployed=!1,a)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,s){var i=[];for(var o in r){var a=this.addRule(o,r[o],s);a&&i.push(a)}return i},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var s=typeof r=="object"?r:this.rules.get(r);return!s||this.attached&&!s.renderable?!1:(this.rules.remove(s),this.attached&&s.renderable&&this.renderer?this.renderer.deleteRule(s.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,s,i){return this.rules.updateOne(r,s,i),this},e.toString=function(r){return this.rules.toString(r)},t}(),Kae=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(r,s,i){for(var o=0;o<this.registry.onCreateRule.length;o++){var a=this.registry.onCreateRule[o](r,s,i);if(a)return a}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var s=r.options.sheet,i=0;i<this.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](r,s);r.style&&this.onProcessStyle(r.style,r,s),r.isProcessed=!0}},e.onProcessStyle=function(r,s,i){for(var o=0;o<this.registry.onProcessStyle.length;o++)s.style=this.registry.onProcessStyle[o](s.style,s,i)},e.onProcessSheet=function(r){for(var s=0;s<this.registry.onProcessSheet.length;s++)this.registry.onProcessSheet[s](r)},e.onUpdate=function(r,s,i,o){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,s,i,o)},e.onChangeValue=function(r,s,i){for(var o=r,a=0;a<this.registry.onChangeValue.length;a++)o=this.registry.onChangeValue[a](o,s,i);return o},e.use=function(r,s){s===void 0&&(s={queue:"external"});var i=this.plugins[s.queue];i.indexOf(r)===-1&&(i.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(o,a){for(var c in a)c in o&&o[c].push(a[c]);return o},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),Qae=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(r){var s=this.registry,i=r.options.index;if(s.indexOf(r)===-1){if(s.length===0||i>=this.index){s.push(r);return}for(var o=0;o<s.length;o++)if(s[o].options.index>i){s.splice(o,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var s=this.registry.indexOf(r);this.registry.splice(s,1)},e.toString=function(r){for(var s=r===void 0?{}:r,i=s.attached,o=V9(s,["attached"]),a=_y(o),c=a.linebreak,l="",u=0;u<this.registry.length;u++){var d=this.registry[u];i!=null&&d.attached!==i||(l&&(l+=c),l+=d.toString(o))}return l},fR(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),iw=new Qae,IN=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),TN="2f1acc6c3a606b082e5eef5e54414ffb";IN[TN]==null&&(IN[TN]=0);var f8=IN[TN]++,p8=function(e){e===void 0&&(e={});var n=0,r=function(i,o){n+=1;var a="",c="";return o&&(o.options.classNamePrefix&&(c=o.options.classNamePrefix),o.options.jss.id!=null&&(a=String(o.options.jss.id))),e.minify?""+(c||"c")+f8+a+n:c+i.key+"-"+f8+(a?"-"+a:"")+"-"+n};return r},r7=function(e){var n;return function(){return n||(n=e()),n}},Yae=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},Jae=function(e,n,r){try{var s=r;if(Array.isArray(r)&&(s=uf(r)),e.attributeStyleMap)e.attributeStyleMap.set(n,s);else{var i=s?s.indexOf("!important"):-1,o=i>-1?s.substr(0,i-1):s;e.style.setProperty(n,o,i>-1?"important":"")}}catch{return!1}return!0},Zae=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},Xae=function(e,n){return e.selectorText=n,e.selectorText===n},s7=r7(function(){return document.querySelector("head")});function ece(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function tce(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function nce(t){for(var e=s7(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===t)return r}return null}function rce(t){var e=iw.registry;if(e.length>0){var n=ece(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=tce(e,t),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&typeof r=="string"){var s=nce(r);if(s)return{parent:s.parentNode,node:s.nextSibling}}return!1}function sce(t,e){var n=e.insertionPoint,r=rce(e);if(r!==!1&&r.parent){r.parent.insertBefore(t,r.node);return}if(n&&typeof n.nodeType=="number"){var s=n,i=s.parentNode;i&&i.insertBefore(t,s.nextSibling);return}s7().appendChild(t)}var ice=r7(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),g8=function(e,n,r){try{"insertRule"in e?e.insertRule(n,r):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[r]},m8=function(e,n){var r=e.cssRules.length;return n===void 0||n>r?r:n},oce=function(){var e=document.createElement("style");return e.textContent=`
`,e},ace=function(){function t(n){this.getPropertyValue=Yae,this.setProperty=Jae,this.removeProperty=Zae,this.setSelector=Xae,this.hasInsertedRules=!1,this.cssRules=[],n&&iw.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},s=r.media,i=r.meta,o=r.element;this.element=o||oce(),this.element.setAttribute("data-jss",""),s&&this.element.setAttribute("media",s),i&&this.element.setAttribute("data-meta",i);var a=ice();a&&this.element.setAttribute("nonce",a)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){sce(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,s){for(var i=0;i<r.index.length;i++)this.insertRule(r.index[i],i,s)},e.insertRule=function(r,s,i){if(i===void 0&&(i=this.element.sheet),r.rules){var o=r,a=i;if(r.type==="conditional"||r.type==="keyframes"){var c=m8(i,s);if(a=g8(i,o.toString({children:!1}),c),a===!1)return!1;this.refCssRule(r,c,a)}return this.insertRules(o.rules,a),a}var l=r.toString();if(!l)return!1;var u=m8(i,s),d=g8(i,l,u);return d===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,u,d),d)},e.refCssRule=function(r,s,i){r.renderable=i,r.options.parent instanceof n7&&this.cssRules.splice(s,0,i)},e.deleteRule=function(r){var s=this.element.sheet,i=this.indexOf(r);return i===-1?!1:(s.deleteRule(i),this.cssRules.splice(i,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,s){var i=this.indexOf(r);return i===-1?!1:(this.element.sheet.deleteRule(i),this.cssRules.splice(i,1),this.insertRule(s,i))},e.getRules=function(){return this.element.sheet.cssRules},t}(),cce=0,lce=function(){function t(n){this.id=cce++,this.version="10.10.0",this.plugins=new Kae,this.options={id:{minify:!1},createGenerateId:p8,Renderer:xy?ace:null,plugins:[]},this.generateId=p8({minify:!1});for(var r=0;r<d8.length;r++)this.plugins.use(d8[r],{queue:"internal"});this.setup(n)}var e=t.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=Rn({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,s){s===void 0&&(s={});var i=s,o=i.index;typeof o!="number"&&(o=iw.index===0?0:iw.index+1);var a=new n7(r,Rn({},s,{jss:this,generateId:s.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:o}));return this.plugins.onProcessSheet(a),a},e.removeStyleSheet=function(r){return r.detach(),iw.remove(r),this},e.createRule=function(r,s,i){if(s===void 0&&(s={}),i===void 0&&(i={}),typeof r=="object")return this.createRule(void 0,r,s);var o=Rn({},i,{name:r,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var a=HC(r,s,o);return a&&this.plugins.onProcessRule(a),a},e.use=function(){for(var r=this,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return i.forEach(function(a){r.plugins.use(a)}),this},t}(),i7=function(e){return new lce(e)},y8=function(){function t(){this.length=0,this.sheets=new WeakMap}var e=t.prototype;return e.get=function(r){var s=this.sheets.get(r);return s&&s.sheet},e.add=function(r,s){this.sheets.has(r)||(this.length++,this.sheets.set(r,{sheet:s,refs:0}))},e.manage=function(r){var s=this.sheets.get(r);if(s)return s.refs===0&&s.sheet.attach(),s.refs++,s.sheet},e.unmanage=function(r){var s=this.sheets.get(r);s&&s.refs>0&&(s.refs--,s.refs===0&&s.sheet.detach())},fR(t,[{key:"size",get:function(){return this.length}}]),t}(),gR=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function o7(t){var e=null;for(var n in t){var r=t[n],s=typeof r;if(s==="function")e||(e={}),e[n]=r;else if(s==="object"&&r!==null&&!Array.isArray(r)){var i=o7(r);i&&(e||(e={}),e[n]=i)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */i7();var a7=Date.now(),JS="fnValues"+a7,ZS="fnStyle"+ ++a7,uce=function(){return{onCreateRule:function(n,r,s){if(typeof r!="function")return null;var i=HC(n,{},s);return i[ZS]=r,i},onProcessStyle:function(n,r){if(JS in r||ZS in r)return n;var s={};for(var i in n){var o=n[i];typeof o=="function"&&(delete n[i],s[i]=o)}return r[JS]=s,n},onUpdate:function(n,r,s,i){var o=r,a=o[ZS];a&&(o.style=a(n)||{});var c=o[JS];if(c)for(var l in c)o.prop(l,c[l](n),i)}}};function dce(t){var e,n=t.Symbol;return typeof n=="function"?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var Wp;typeof self<"u"?Wp=self:typeof window<"u"?Wp=window:typeof global<"u"?Wp=global:typeof module<"u"?Wp=module:Wp=Function("return this")();var w8=dce(Wp),b8=function(e){return e&&e[w8]&&e===e[w8]()},hce=function(e){return{onCreateRule:function(r,s,i){if(!b8(s))return null;var o=s,a=HC(r,{},i);return o.subscribe(function(c){for(var l in c)a.prop(l,c[l],e)}),a},onProcessRule:function(r){if(!(r&&r.type!=="style")){var s=r,i=s.style,o=function(u){var d=i[u];if(!b8(d))return"continue";delete i[u],d.subscribe({next:function(f){s.prop(u,f,e)}})};for(var a in i)var c=o(a)}}}},fce=/;\n/,pce=function(e){for(var n={},r=e.split(fce),s=0;s<r.length;s++){var i=(r[s]||"").trim();if(i){var o=i.indexOf(":");if(o!==-1){var a=i.substr(0,o).trim(),c=i.substr(o+1).trim();n[a]=c}}}return n},gce=function(e){typeof e.style=="string"&&(e.style=pce(e.style))};function mce(){return{onProcessRule:gce}}var dd="@global",NN="@global ",yce=function(){function t(n,r,s){this.type="global",this.at=dd,this.isProcessed=!1,this.key=n,this.options=s,this.rules=new WC(Rn({},s,{parent:this}));for(var i in r)this.rules.add(i,r[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},t}(),wce=function(){function t(n,r,s){this.type="global",this.at=dd,this.isProcessed=!1,this.key=n,this.options=s;var i=n.substr(NN.length);this.rule=s.jss.createRule(i,r,Rn({},s,{parent:this}))}var e=t.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},t}(),bce=/\s*,\s*/g;function c7(t,e){for(var n=t.split(bce),r="",s=0;s<n.length;s++)r+=e+" "+n[s].trim(),n[s+1]&&(r+=", ");return r}function vce(t,e){var n=t.options,r=t.style,s=r?r[dd]:null;if(s){for(var i in s)e.addRule(i,s[i],Rn({},n,{selector:c7(i,t.selector)}));delete r[dd]}}function Ece(t,e){var n=t.options,r=t.style;for(var s in r)if(!(s[0]!=="@"||s.substr(0,dd.length)!==dd)){var i=c7(s.substr(dd.length),t.selector);e.addRule(i,r[s],Rn({},n,{selector:i})),delete r[s]}}function xce(){function t(n,r,s){if(!n)return null;if(n===dd)return new yce(n,r,s);if(n[0]==="@"&&n.substr(0,NN.length)===NN)return new wce(n,r,s);var i=s.parent;return i&&(i.type==="global"||i.options.parent&&i.options.parent.type==="global")&&(s.scoped=!1),!s.selector&&s.scoped===!1&&(s.selector=n),null}function e(n,r){n.type!=="style"||!r||(vce(n,r),Ece(n,r))}return{onCreateRule:t,onProcessRule:e}}var KE=function(e){return e&&typeof e=="object"&&!Array.isArray(e)},XS="extendCurrValue"+Date.now();function _ce(t,e,n,r){var s=typeof t.extend;if(s==="string"){if(!n)return;var i=n.getRule(t.extend);if(!i||i===e)return;var o=i.options.parent;if(o){var a=o.rules.raw[t.extend];Eh(a,e,n,r)}return}if(Array.isArray(t.extend)){for(var c=0;c<t.extend.length;c++){var l=t.extend[c],u=typeof l=="string"?Rn({},t,{extend:l}):t.extend[c];Eh(u,e,n,r)}return}for(var d in t.extend){if(d==="extend"){Eh(t.extend.extend,e,n,r);continue}if(KE(t.extend[d])){d in r||(r[d]={}),Eh(t.extend[d],e,n,r[d]);continue}r[d]=t.extend[d]}}function Cce(t,e,n,r){for(var s in t)if(s!=="extend"){if(KE(r[s])&&KE(t[s])){Eh(t[s],e,n,r[s]);continue}if(KE(t[s])){r[s]=Eh(t[s],e,n);continue}r[s]=t[s]}}function Eh(t,e,n,r){return r===void 0&&(r={}),_ce(t,e,n,r),Cce(t,e,n,r),r}function Ace(){function t(n,r,s){return"extend"in n?Eh(n,r,s):n}function e(n,r,s){if(r!=="extend")return n;if(n==null||n===!1){for(var i in s[XS])s.prop(i,null);return s[XS]=null,null}if(typeof n=="object"){for(var o in n)s.prop(o,n[o]);s[XS]=n}return null}return{onProcessStyle:t,onChangeValue:e}}var v8=/\s*,\s*/g,Sce=/&/g,Ice=/\$([\w-]+)/g;function Tce(){function t(s,i){return function(o,a){var c=s.getRule(a)||i&&i.getRule(a);return c?c.selector:a}}function e(s,i){for(var o=i.split(v8),a=s.split(v8),c="",l=0;l<o.length;l++)for(var u=o[l],d=0;d<a.length;d++){var h=a[d];c&&(c+=", "),c+=h.indexOf("&")!==-1?h.replace(Sce,u):u+" "+h}return c}function n(s,i,o){if(o)return Rn({},o,{index:o.index+1});var a=s.options.nestingLevel;a=a===void 0?1:a+1;var c=Rn({},s.options,{nestingLevel:a,index:i.indexOf(s)+1});return delete c.name,c}function r(s,i,o){if(i.type!=="style")return s;var a=i,c=a.options.parent,l,u;for(var d in s){var h=d.indexOf("&")!==-1,f=d[0]==="@";if(!(!h&&!f)){if(l=n(a,c,l),h){var p=e(d,a.selector);u||(u=t(c,o)),p=p.replace(Ice,u);var g=a.key+"-"+d;"replaceRule"in c?c.replaceRule(g,s[d],Rn({},l,{selector:p})):c.addRule(g,s[d],Rn({},l,{selector:p}))}else f&&c.addRule(d,{},l).addRule(a.key,s[d],{selector:a.selector});delete s[d]}}return s}return{onProcessStyle:r}}function PN(t,e){if(!e)return!0;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var r=PN(t,e[n]);if(!r)return!1}return!0}if(e.indexOf(" ")>-1)return PN(t,e.split(" "));var s=t.options.parent;if(e[0]==="$"){var i=s.getRule(e.substr(1));return!i||i===t?!1:(s.classes[t.key]+=" "+s.classes[i.key],!0)}return s.classes[t.key]+=" "+e,!0}function Nce(){function t(e,n){return"composes"in e&&(PN(n,e.composes),delete e.composes),e}return{onProcessStyle:t}}var Pce=/[A-Z]/g,kce=/^ms-/,e2={};function Oce(t){return"-"+t.toLowerCase()}function l7(t){if(e2.hasOwnProperty(t))return e2[t];var e=t.replace(Pce,Oce);return e2[t]=kce.test(e)?"-"+e:e}function n_(t){var e={};for(var n in t){var r=n.indexOf("--")===0?n:l7(n);e[r]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(n_):e.fallbacks=n_(t.fallbacks)),e}function Rce(){function t(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=n_(n[r]);return n}return n_(n)}function e(n,r,s){if(r.indexOf("--")===0)return n;var i=l7(r);return r===i?n:(s.prop(i,n),null)}return{onProcessStyle:t,onChangeValue:e}}var oe=gR&&CSS?CSS.px:"px",z1=gR&&CSS?CSS.ms:"ms",gp=gR&&CSS?CSS.percent:"%",Dce={"animation-delay":z1,"animation-duration":z1,"background-position":oe,"background-position-x":oe,"background-position-y":oe,"background-size":oe,border:oe,"border-bottom":oe,"border-bottom-left-radius":oe,"border-bottom-right-radius":oe,"border-bottom-width":oe,"border-left":oe,"border-left-width":oe,"border-radius":oe,"border-right":oe,"border-right-width":oe,"border-top":oe,"border-top-left-radius":oe,"border-top-right-radius":oe,"border-top-width":oe,"border-width":oe,"border-block":oe,"border-block-end":oe,"border-block-end-width":oe,"border-block-start":oe,"border-block-start-width":oe,"border-block-width":oe,"border-inline":oe,"border-inline-end":oe,"border-inline-end-width":oe,"border-inline-start":oe,"border-inline-start-width":oe,"border-inline-width":oe,"border-start-start-radius":oe,"border-start-end-radius":oe,"border-end-start-radius":oe,"border-end-end-radius":oe,margin:oe,"margin-bottom":oe,"margin-left":oe,"margin-right":oe,"margin-top":oe,"margin-block":oe,"margin-block-end":oe,"margin-block-start":oe,"margin-inline":oe,"margin-inline-end":oe,"margin-inline-start":oe,padding:oe,"padding-bottom":oe,"padding-left":oe,"padding-right":oe,"padding-top":oe,"padding-block":oe,"padding-block-end":oe,"padding-block-start":oe,"padding-inline":oe,"padding-inline-end":oe,"padding-inline-start":oe,"mask-position-x":oe,"mask-position-y":oe,"mask-size":oe,height:oe,width:oe,"min-height":oe,"max-height":oe,"min-width":oe,"max-width":oe,bottom:oe,left:oe,top:oe,right:oe,inset:oe,"inset-block":oe,"inset-block-end":oe,"inset-block-start":oe,"inset-inline":oe,"inset-inline-end":oe,"inset-inline-start":oe,"box-shadow":oe,"text-shadow":oe,"column-gap":oe,"column-rule":oe,"column-rule-width":oe,"column-width":oe,"font-size":oe,"font-size-delta":oe,"letter-spacing":oe,"text-decoration-thickness":oe,"text-indent":oe,"text-stroke":oe,"text-stroke-width":oe,"word-spacing":oe,motion:oe,"motion-offset":oe,outline:oe,"outline-offset":oe,"outline-width":oe,perspective:oe,"perspective-origin-x":gp,"perspective-origin-y":gp,"transform-origin":gp,"transform-origin-x":gp,"transform-origin-y":gp,"transform-origin-z":gp,"transition-delay":z1,"transition-duration":z1,"vertical-align":oe,"flex-basis":oe,"shape-margin":oe,size:oe,gap:oe,grid:oe,"grid-gap":oe,"row-gap":oe,"grid-row-gap":oe,"grid-column-gap":oe,"grid-template-rows":oe,"grid-template-columns":oe,"grid-auto-rows":oe,"grid-auto-columns":oe,"box-shadow-x":oe,"box-shadow-y":oe,"box-shadow-blur":oe,"box-shadow-spread":oe,"font-line-height":oe,"text-shadow-x":oe,"text-shadow-y":oe,"text-shadow-blur":oe};function u7(t){var e=/(-[a-z])/g,n=function(o){return o[1].toUpperCase()},r={};for(var s in t)r[s]=t[s],r[s.replace(e,n)]=t[s];return r}var $ce=u7(Dce);function ow(t,e,n){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=ow(t,e[r],n);else if(typeof e=="object")if(t==="fallbacks")for(var s in e)e[s]=ow(s,e[s],n);else for(var i in e)e[i]=ow(t+"-"+i,e[i],n);else if(typeof e=="number"&&isNaN(e)===!1){var o=n[t]||$ce[t];return o&&!(e===0&&o===oe)?typeof o=="function"?o(e).toString():""+e+o:e.toString()}return e}function Uce(t){t===void 0&&(t={});var e=u7(t);function n(s,i){if(i.type!=="style")return s;for(var o in s)s[o]=ow(o,s[o],e);return s}function r(s,i){return ow(i,s,e)}return{onProcessStyle:n,onChangeValue:r}}var Bce={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},Lce={position:!0,size:!0},H1={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},t2={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function Mce(t,e,n){return t.map(function(r){return h7(r,e,n,!1,!0)})}function d7(t,e,n,r){return n[e]==null?t:t.length===0?[]:Array.isArray(t[0])?d7(t[0],e,n,r):typeof t[0]=="object"?Mce(t,e,r):[t]}function h7(t,e,n,r,s){if(!(H1[e]||t2[e]))return[];var i=[];if(t2[e]&&(t=jce(t,n,t2[e],r)),Object.keys(t).length)for(var o in H1[e]){if(t[o]){Array.isArray(t[o])?i.push(Lce[o]===null?t[o]:t[o].join(" ")):i.push(t[o]);continue}H1[e][o]!=null&&i.push(H1[e][o])}return!i.length||s?i:[i]}function jce(t,e,n,r){for(var s in n){var i=n[s];if(typeof t[s]<"u"&&(r||!e.prop(i))){var o,a=yb((o={},o[i]=t[s],o),e)[i];r?e.style.fallbacks[i]=a:e.style[i]=a}delete t[s]}return t}function yb(t,e,n){for(var r in t){var s=t[r];if(Array.isArray(s)){if(!Array.isArray(s[0])){if(r==="fallbacks"){for(var i=0;i<t.fallbacks.length;i++)t.fallbacks[i]=yb(t.fallbacks[i],e,!0);continue}t[r]=d7(s,r,Bce,e),t[r].length||delete t[r]}}else if(typeof s=="object"){if(r==="fallbacks"){t.fallbacks=yb(t.fallbacks,e,!0);continue}t[r]=h7(s,r,e,n),t[r].length||delete t[r]}else t[r]===""&&delete t[r]}return t}function Fce(){function t(e,n){if(!e||n.type!=="style")return e;if(Array.isArray(e)){for(var r=0;r<e.length;r++)e[r]=yb(e[r],n);return e}return yb(e,n)}return{onProcessStyle:t}}function kN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function zce(t){if(Array.isArray(t))return kN(t)}function Hce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wce(t,e){if(t){if(typeof t=="string")return kN(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kN(t,e):void 0}}function Gce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qce(t){return zce(t)||Hce(t)||Wce(t)||Gce()}var O0="",ON="",f7="",p7="",Vce=xy&&"ontouchstart"in document.documentElement;if(xy){var n2={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Kce=document.createElement("p"),r2=Kce.style,Qce="Transform";for(var s2 in n2)if(s2+Qce in r2){O0=s2,ON=n2[s2];break}O0==="Webkit"&&"msHyphens"in r2&&(O0="ms",ON=n2.ms,p7="edge"),O0==="Webkit"&&"-apple-trailing-word"in r2&&(f7="apple")}var ut={js:O0,css:ON,vendor:f7,browser:p7,isTouch:Vce};function Yce(t){return t[1]==="-"||ut.js==="ms"?t:"@"+ut.css+"keyframes"+t.substr(10)}var Jce={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:ut.js==="ms"?"-webkit-"+e:ut.css+e}},Zce={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:ut.js==="Webkit"?ut.css+"print-"+e:e}},Xce=/[-\s]+(.)?/g;function ele(t,e){return e?e.toUpperCase():""}function mR(t){return t.replace(Xce,ele)}function Cd(t){return mR("-"+t)}var tle={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(ut.js==="Webkit"){var r="mask-image";if(mR(r)in n)return e;if(ut.js+Cd(r)in n)return ut.css+e}return e}},nle={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:ut.vendor==="apple"&&!ut.isTouch?ut.css+e:e}},rle={noPrefill:["transform"],supportedProperty:function(e,n,r){return e!=="transform"?!1:r.transform?e:ut.css+e}},sle={noPrefill:["transition"],supportedProperty:function(e,n,r){return e!=="transition"?!1:r.transition?e:ut.css+e}},ile={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:ut.js==="Webkit"||ut.js==="ms"&&ut.browser!=="edge"?ut.css+e:e}},ole={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:ut.js==="Moz"||ut.js==="ms"||ut.vendor==="apple"?ut.css+e:e}},ale={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(ut.js==="Webkit"){var r="WebkitColumn"+Cd(e);return r in n?ut.css+"column-"+e:!1}if(ut.js==="Moz"){var s="page"+Cd(e);return s in n?"page-"+e:!1}return!1}},cle={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(ut.js==="Moz")return e;var r=e.replace("-inline","");return ut.js+Cd(r)in n?ut.css+r:!1}},lle={supportedProperty:function(e,n){return mR(e)in n?e:!1}},ule={supportedProperty:function(e,n){var r=Cd(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:ut.js+r in n?ut.css+e:ut.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+e:!1}},dle={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:ut.js==="ms"?""+ut.css+e:e}},hle={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:ut.js==="ms"?ut.css+"scroll-chaining":e}},fle={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},ple={supportedProperty:function(e,n){var r=fle[e];return r&&ut.js+Cd(r)in n?ut.css+r:!1}},g7={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},gle=Object.keys(g7),mle=function(e){return ut.css+e},yle={supportedProperty:function(e,n,r){var s=r.multiple;if(gle.indexOf(e)>-1){var i=g7[e];if(!Array.isArray(i))return ut.js+Cd(i)in n?ut.css+i:!1;if(!s)return!1;for(var o=0;o<i.length;o++)if(!(ut.js+Cd(i[0])in n))return!1;return i.map(mle)}return!1}},m7=[Jce,Zce,tle,nle,rle,sle,ile,ole,ale,cle,lle,ule,dle,hle,ple,yle],E8=m7.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),wle=m7.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,qce(e.noPrefill)),t},[]),R0,oh={};if(xy){R0=document.createElement("p");var i2=window.getComputedStyle(document.documentElement,"");for(var o2 in i2)isNaN(o2)||(oh[i2[o2]]=i2[o2]);wle.forEach(function(t){return delete oh[t]})}function RN(t,e){if(e===void 0&&(e={}),!R0)return t;if(oh[t]!=null)return oh[t];(t==="transition"||t==="transform")&&(e[t]=t in R0.style);for(var n=0;n<E8.length&&(oh[t]=E8[n](t,R0.style,e),!oh[t]);n++);try{R0.style[t]=""}catch{return!1}return oh[t]}var mp={},ble={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},vle=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Zl;function Ele(t,e,n){if(e==="var")return"var";if(e==="all")return"all";if(n==="all")return", all";var r=e?RN(e):", "+RN(n);return r||e||n}xy&&(Zl=document.createElement("p"));function x8(t,e){var n=e;if(!Zl||t==="content")return e;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=t+n;if(mp[r]!=null)return mp[r];try{Zl.style[t]=n}catch{return mp[r]=!1,!1}if(ble[t])n=n.replace(vle,Ele);else if(Zl.style[t]===""&&(n=ut.css+n,n==="-ms-flex"&&(Zl.style[t]="-ms-flexbox"),Zl.style[t]=n,Zl.style[t]===""))return mp[r]=!1,!1;return Zl.style[t]="",mp[r]=n,mp[r]}function xle(){function t(s){if(s.type==="keyframes"){var i=s;i.at=Yce(i.at)}}function e(s){for(var i in s){var o=s[i];if(i==="fallbacks"&&Array.isArray(o)){s[i]=o.map(e);continue}var a=!1,c=RN(i);c&&c!==i&&(a=!0);var l=!1,u=x8(c,uf(o));u&&u!==o&&(l=!0),(a||l)&&(a&&delete s[i],s[c||i]=u||o)}return s}function n(s,i){return i.type!=="style"?s:e(s)}function r(s,i){return x8(i,uf(s))||s}return{onProcessRule:t,onProcessStyle:n,onChangeValue:r}}function _le(){var t=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var s={},i=Object.keys(n).sort(t),o=0;o<i.length;o++)s[i[o]]=n[i[o]];return s}}}var Cle=function(e){return e===void 0&&(e={}),{plugins:[uce(),hce(e.observable),mce(),xce(),Ace(),Tce(),Nce(),Rce(),Uce(e.defaultUnit),Fce(),xle(),_le()]}},Ale=Number.MIN_SAFE_INTEGER||-1e9,Sle=function(){return Ale++},Ile=O.createContext({classNamePrefix:"",disableStylesGeneration:!1,isSSR:!xy}),_8=new Map,yR=function(e,n){var r=e.managers;if(r)return r[n]||(r[n]=new y8),r[n];var s=_8.get(n);return s||(s=new y8,_8.set(n,s)),s},C8=function(e){var n=e.sheet,r=e.context,s=e.index,i=e.theme;if(n){var o=yR(r,s);o.manage(i),r.registry&&r.registry.add(n)}},Tle=function(e){if(e.sheet){var n=yR(e.context,e.index);n.unmanage(e.theme)}},Nle=i7(Cle()),y7=new WeakMap,w7=function(e){return y7.get(e)},Ple=function(e,n){y7.set(e,n)},kle=function(e){var n=e.styles;return typeof n!="function"?n:n(e.theme)};function Ole(t,e){var n;t.context.id&&t.context.id.minify!=null&&(n=t.context.id.minify);var r=t.context.classNamePrefix||"";t.name&&!n&&(r+=t.name.replace(/\s/g,"-")+"-");var s="";return t.name&&(s=t.name+", "),s+=typeof t.styles=="function"?"Themed":"Unthemed",Rn({},t.sheetOptions,{index:t.index,meta:s,classNamePrefix:r,link:e,generateId:t.sheetOptions&&t.sheetOptions.generateId?t.sheetOptions.generateId:t.context.generateId})}var Rle=function(e){if(!e.context.disableStylesGeneration){var n=yR(e.context,e.index),r=n.get(e.theme);if(r)return r;var s=e.context.jss||Nle,i=kle(e),o=o7(i),a=s.createStyleSheet(i,Ole(e,o!==null));return Ple(a,{dynamicStyles:o,styles:i}),n.add(e.theme,a),a}},Dle=function(e,n){for(var r in n)e.deleteRule(n[r])},$le=function(e,n,r){for(var s in r)n.updateOne(r[s],e)},Ule=function(e,n){var r=w7(e);if(r){var s={};for(var i in r.dynamicStyles)for(var o=e.rules.index.length,a=e.addRule(i,r.dynamicStyles[i]),c=o;c<e.rules.index.length;c++){var l=e.rules.index[c];e.updateOne(l,n),s[a===l?i:l.key]=l}return s}},Ble=function(e,n){if(!n)return e.classes;var r=w7(e);if(!r)return e.classes;var s={};for(var i in r.styles)s[i]=e.classes[i],i in n&&(s[i]+=" "+e.classes[n[i].key]);return s};function A8(t){return t?O.useEffect:Li.useInsertionEffect||O.useLayoutEffect}var a2={},ba=function(e,n){n===void 0&&(n={});var r=n,s=r.index,i=s===void 0?Sle():s,o=r.theming,a=r.name,c=V9(r,["index","theming","name"]),l=o&&o.context||X9,u=function(f){return typeof e=="function"&&(f||O.useContext(l))||a2},d={};return function(f){var p=O.useRef(!0),g=O.useContext(Ile),y=u(f&&f.theme),w=O.useMemo(function(){var x=Rle({context:g,styles:e,name:a,theme:y,index:i,sheetOptions:c});return x&&g.isSSR&&C8({index:i,context:g,sheet:x,theme:y}),[x,x?Ule(x,f):null]},[g,y]),v=w[0],b=w[1];A8(g.isSSR)(function(){v&&b&&!p.current&&$le(f,v,b)},[f]),A8(g.isSSR)(function(){return v&&C8({index:i,context:g,sheet:v,theme:y}),function(){v&&(Tle({index:i,context:g,sheet:v,theme:y}),b&&Dle(v,b))}},[v]);var _=O.useMemo(function(){return v&&b?Ble(v,b):d},[v,b]);return O.useDebugValue(_),O.useDebugValue(y===a2?"No theme":y),O.useEffect(function(){p.current=!1}),_}};const Lle=ba({icon:{position:"absolute",width:"80px",textAlign:"center",cursor:"pointer",zIndex:3e3,userSelect:"none",pointerEvents:"auto"},iconImage:{width:"48px",height:"48px",display:"block",margin:"0 auto"},iconLabel:{display:"block",background:"#c0c0c0",color:"#000",fontSize:"12px",padding:"2px 4px",marginTop:"2px",border:"1px outset #fff"}});function c2({image:t,label:e,action:n,url:r,popupId:s,folderId:i,isInFolder:o=!1,position:a,onDrag:c,onClick:l}){const u=Lle(),d=O.useRef(null),h=p=>{p.stopPropagation(),p.preventDefault(),l(n,s,r,i)},f=m.jsxs("div",{ref:d,className:u.icon,onClick:h,style:{position:o?"relative":"absolute",zIndex:3e3,left:!o&&a?a.x:void 0,top:!o&&a?a.y:void 0},children:[m.jsx("img",{src:t,alt:e,className:u.iconImage}),m.jsx("span",{className:u.iconLabel,children:e})]});return o?f:m.jsx(Uv,{nodeRef:d,position:a,onDrag:c,bounds:"parent",children:f})}const Mle=ba({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"15px",height:"calc(100% - 30px)",overflow:"auto"}});function to({id:t,isOpen:e,onClose:n,onMinimize:r,children:s,title:i,initialPosition:o,initialSize:a,zIndex:c}){const l=Mle({isOpen:e}),u=O.useRef(null),d=()=>{r&&r(t)};return m.jsx(Uv,{nodeRef:u,handle:`.${l.header}`,defaultPosition:o,children:m.jsxs("div",{ref:u,className:l.popup,style:{width:a==null?void 0:a.width,height:a==null?void 0:a.height,zIndex:c||100},children:[m.jsxs("div",{className:l.header,children:[m.jsx("span",{children:i||t.replace("-popup","")}),m.jsxs("div",{className:l.titleBarButtons,children:[m.jsx("button",{className:l.titleBarButton,onClick:d,title:"Minimize",children:"_"}),m.jsx("button",{className:l.titleBarButton,onClick:n,title:"Close",children:""})]})]}),m.jsx("div",{className:l.content,children:s})]})})}const l2=[{id:"evm-folder",image:"/assets/evmfolder.png",label:"EVM NFTs",action:"folder",folderId:"evm-folder",row:0,col:3},{id:"sol-folder",image:"/assets/solfolder.png",label:"SOL NFTs",action:"folder",folderId:"sol-folder",row:1,col:3},{id:"wallet",image:"/assets/wallet.png",label:"Wallet",action:"wallet",row:0,col:0},{id:"mint",image:"/assets/mint.gif",label:"Mint",action:"mint",row:0,col:1},{id:"gallery",image:"/assets/lawbstarz.gif",label:"NFT Gallery",action:"nft-gallery",row:0,col:2},{id:"meme-generator",image:"/assets/meme.gif",label:"Meme Generator",action:"meme-generator",row:0,col:4},{id:"chess",image:"/assets/chess.svg",label:"Chess",action:"chess",row:0,col:5},{id:"purity",image:"/assets/purityfinance.png",label:"Purity",action:"popup",popupId:"purity-popup",row:1,col:0},{id:"lawbshop",image:"/assets/lawbshop.png",label:"Lawb.Shop",action:"url",url:"https://store.fun/lawbshop",row:1,col:1},{id:"lawbstarz",image:"/assets/lawbstarz.gif",label:"Lawbstarz",action:"popup",popupId:"lawbstarz-popup",row:-1,col:-1},{id:"lawbsters",image:"/assets/lawbsters.gif",label:"Lawbsters",action:"popup",popupId:"lawbsters-popup",row:-1,col:-1},{id:"halloween",image:"/assets/lawbsterhalloween.gif",label:"Halloween",action:"popup",popupId:"halloween-popup",row:-1,col:-1},{id:"pixelawbs",image:"/assets/pixelawb.png",label:"Pixelawbs",action:"popup",popupId:"pixelawbs-popup",row:-1,col:-1},{id:"lawbstation",image:"/assets/lawbstation.GIF",label:"Lawbstation",action:"popup",popupId:"lawbstation-popup",row:-1,col:-1},{id:"nexus",image:"/assets/nexus.gif",label:"Nexus",action:"popup",popupId:"nexus-popup",row:-1,col:-1},{id:"chat",image:"/assets/miladychan.png",label:"Chat",action:"popup",popupId:"chat-popup",row:3,col:0},{id:"lawb",image:"/assets/lawbticker.gif",label:"$LAWB",action:"popup",popupId:"lawb-popup",row:3,col:2}],jle=80,Fle=80,zle=10,Hle=10,Wle=10,Gle=10,qle=({onIconClick:t})=>{const e=l2.filter(l=>l.row>=0&&l.col>=0),n=()=>{const l={};let u=0,d=0;return e.forEach(h=>{l[h.id]={x:Wle+d*(jle+zle),y:Gle+u*(Fle+Hle)},u++,u>=4&&(u=0,d++)}),l},[r,s]=O.useState(n()),[i,o]=O.useState({}),a=(l,u)=>{s(d=>({...d,[l]:{x:u.x,y:u.y}}))},c=(l,u,d,h)=>{if(l==="folder"&&h){o(f=>({...f,[h]:!0}));return}t(l,u,d)};return m.jsx("div",{style:{position:"relative",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",overflow:"hidden"},children:m.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 60px)",padding:"10px",zIndex:10,overflow:"visible"},children:[e.map(l=>m.jsx(c2,{image:l.image,label:l.label,action:l.action,url:l.url,popupId:l.popupId,folderId:l.folderId,position:r[l.id],onDrag:(u,d)=>a(l.id,d),onClick:c},l.id)),i["evm-folder"]&&m.jsx(to,{id:"evm-folder",isOpen:!0,onClose:()=>o(l=>({...l,"evm-folder":!1})),onMinimize:()=>o(l=>({...l,"evm-folder":!1})),zIndex:3001,children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:l2.filter(l=>["lawbsters","lawbstarz","halloween","pixelawbs"].includes(l.id)).map(l=>m.jsx(c2,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})}),i["sol-folder"]&&m.jsx(to,{id:"sol-folder",isOpen:!0,onClose:()=>o(l=>({...l,"sol-folder":!1})),onMinimize:()=>o(l=>({...l,"sol-folder":!1})),zIndex:3001,children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:l2.filter(l=>["lawbstation","nexus"].includes(l.id)).map(l=>m.jsx(c2,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})})]})})},Vle=ba({taskbar:{position:"fixed",left:0,bottom:0,width:"100vw",height:40,background:"#c0c0c0",borderTop:"2px outset #fff",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:200},leftSection:{display:"flex",alignItems:"center"},rightSection:{display:"flex",alignItems:"center",marginRight:"5px",height:"100%"},statusSection:{display:"flex",alignItems:"center",padding:"0 8px",marginRight:"4px",border:"2px inset #fff",height:"calc(100% - 8px)"},menuBtn:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"},menu:{position:"absolute",bottom:"45px",left:"5px",background:"#c0c0c0",border:"2px outset #fff",padding:"5px",display:({isOpen:t})=>t?"block":"none",zIndex:9999,maxHeight:"300px",overflowY:"auto"},menuLink:{display:"block",padding:"4px 12px",color:"#000",textDecoration:"none",background:"#c0c0c0",border:"2px outset #fff",marginBottom:"1px",cursor:"pointer",fontSize:"12px","&:hover":{background:"#d0d0d0",border:"2px inset #fff"},"&:active":{border:"2px inset #c0c0c0"}},minimizedWindow:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:"12px"},clock:{padding:"5px 10px",background:"#c0c0c0",border:"2px inset #fff",fontSize:"12px",fontFamily:"monospace",height:"calc(100% - 8px)",display:"flex",alignItems:"center"},windows:{display:"flex",alignItems:"center"},windowButton:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"}}),Kle=({minimizedWindows:t,onRestoreWindow:e,walletButton:n,connectionStatus:r})=>{const[s,i]=O.useState(!1),[o,a]=O.useState(new Date),c=Vle({isOpen:s});O.useEffect(()=>{const h=window.setInterval(()=>{a(new Date)},1e3);return()=>window.clearInterval(h)},[]);const l=h=>h.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),u=()=>{i(!s)},d=()=>{i(!1)};return m.jsxs("div",{className:c.taskbar,children:[m.jsxs("div",{className:c.leftSection,children:[m.jsx("button",{className:c.menuBtn,onClick:u,children:"Menu"}),m.jsx("div",{className:c.windows,children:t.map(h=>m.jsx("button",{className:c.windowButton,onClick:()=>e(h),children:h.replace("-popup","").replace("-"," ").toUpperCase()},h))})]}),m.jsxs("div",{className:c.rightSection,children:[m.jsxs("div",{className:c.statusSection,children:[m.jsx("div",{style:{display:"flex",alignItems:"center",gap:4,fontSize:12},children:m.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:r.connected?"limegreen":"red",marginRight:4,border:"1px solid #222"}})}),n]}),m.jsx("div",{className:c.clock,children:l(o)})]}),s&&m.jsxs("div",{className:c.menu,children:[m.jsx("a",{href:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"GeckoTerminal"}),m.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbStation Twitter"}),m.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbNexus Twitter"}),m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"NFTX - Lawbsters"}),m.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"UwU LAWB"}),m.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Telegram"}),m.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Discord"}),m.jsx("a",{href:"https://store.fun/lawbshop",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Lawb.Shop"})]})]})};async function b7(t){const e="https://api.scatter.art/v1",n="pixelawbs";try{console.log(`Getting eligible invite lists for collection: ${n}`);const r=await fetch(`${e}/collection/${n}/eligible-invite-lists?minterAddress=${t}`);if(console.log("Response status:",r.status),r.ok){const s=await r.json();return console.log("Lists found:",s),s}else return console.log("Failed to get lists:",r.status,r.statusText),[]}catch(r){return console.log("Error getting lists:",r),[]}}async function wR(t,e=1,n=50,r){let i=`https://api.scatter.art/v1/collection/${t}/nfts?page=${e}&pageSize=${n}&sortBy=recent&sortOrder=desc`;r&&(i+=`&ownerAddress=${r}`);try{const o=await fetch(i);if(o.ok)return await o.json();throw new Error(`Failed to get NFTs: ${o.statusText}`)}catch(o){throw console.error("Error getting collection NFTs:",o),o}}async function v7(t,e){const i=await fetch("https://api.scatter.art/v1/mint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionAddress:"0x2d278e95b2fC67D4b27a276807e24E479D9707F6",chainId:1,minterAddress:t,lists:e})}),o=await i.json();if(!i.ok)throw console.error("Scatter API Error:",JSON.stringify(o,null,2)),new Error(o.message||"Minting failed");return{success:!0,mintTransaction:o.mintTransaction,erc20s:o.erc20s}}async function bR(t,e=50,n){const r="030a5ee582f64b8ab3a598ab2b97d85f";let s=`https://api.opensea.io/api/v2/collection/${t}/nfts?limit=${e}`;n&&console.warn("Owner filtering is not supported for OpenSea collections in this view.");try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get OpenSea NFTs: ${i.statusText}`);const a=(await i.json()).nfts.map(c=>{var l,u,d;return{id:c.identifier,address:c.contract,token_id:parseInt(c.identifier,10),attributes:JSON.stringify(c.traits||[]),name:c.name||`#${c.identifier}`,image_url:c.image_url,owner_of:((u=(l=c.owners)==null?void 0:l[0])==null?void 0:u.address)||"",block_minted:0,contract_type:"ERC721",description:c.description||"",image:c.image_url,image_url_shrunk:c.image_url,animation_url:c.animation_url,metadata:"",chain_id:1,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:t,num_items:1,created_at:c.updated_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString(),owners:((d=c.owners)==null?void 0:d.map(h=>({owner_of:h.address,quantity:h.quantity})))||[]}});return{page:1,pageSize:e,totalCount:a.length,totalPages:1,data:a}}catch(i){throw console.error("Error getting OpenSea NFTs:",i),i}}async function E7(t,e,n){const r="030a5ee582f64b8ab3a598ab2b97d85f",s=`https://api.opensea.io/api/v2/chain/${t}/contract/${e}/nfts/${n}`;try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get single OpenSea NFT: ${i.statusText}`);return(await i.json()).nft}catch(i){throw console.error("Error getting single OpenSea NFT:",i),i}}async function x7(t,e=50){var s;const n="030a5ee582f64b8ab3a598ab2b97d85f",r=`https://api.opensea.io/api/v2/collection/${t}/nfts?chain=solana&limit=${e}&include_orders=true`;try{const i=await fetch(r,{headers:{"X-API-KEY":n}});if(!i.ok)throw new Error(`Failed to get OpenSea Solana NFTs: ${i.statusText}`);const o=await i.json();console.log("Solana collection response:",o),console.log("Sample NFT from response:",o.nfts[0]),console.log("Sample NFT owners:",(s=o.nfts[0])==null?void 0:s.owners),console.log("Sample NFT full structure:",JSON.stringify(o.nfts[0],null,2));const a=o.nfts.map(c=>{var l,u,d;return{id:c.identifier,address:c.contract,token_id:parseInt(c.identifier,10),attributes:JSON.stringify(c.traits||[]),name:c.name||`#${c.identifier}`,image_url:c.image_url,owner_of:((u=(l=c.owners)==null?void 0:l[0])==null?void 0:u.address)||"",block_minted:0,contract_type:"SOL",description:c.description||"",image:c.image_url,image_url_shrunk:c.image_url,animation_url:c.animation_url,metadata:"",chain_id:1399811149,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:t,num_items:1,created_at:c.updated_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString(),owners:((d=c.owners)==null?void 0:d.map(h=>({owner_of:h.address,quantity:h.quantity})))||[]}});return{page:1,pageSize:e,totalCount:a.length,totalPages:1,data:a}}catch(i){throw console.error("Error getting OpenSea Solana NFTs:",i),i}}async function Qle(t,e=50){var s;const n="030a5ee582f64b8ab3a598ab2b97d85f",r=[`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}`,`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}&include_orders=false`,`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}&include_orders=false&include_metadata=true`];for(const i of r){console.log("Trying OpenSea endpoint:",i);try{const o=await fetch(i,{headers:{"X-API-KEY":n}});if(console.log("Response status:",o.status),!o.ok){const c=await o.text();console.error("API Error response:",c);continue}const a=await o.json();if(console.log("Raw API response:",a),console.log("Number of NFTs returned:",((s=a.nfts)==null?void 0:s.length)||0),a.nfts&&a.nfts.length>0){const c=a.nfts.map(l=>({id:l.identifier,address:l.contract,token_id:parseInt(l.identifier,10),attributes:JSON.stringify(l.traits||[]),name:l.name||`#${l.identifier}`,image_url:l.image_url,owner_of:t,block_minted:0,contract_type:"SOL",description:l.description||"",image:l.image_url,image_url_shrunk:l.image_url,animation_url:l.animation_url,metadata:"",chain_id:1399811149,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:"",num_items:1,created_at:l.updated_at||new Date().toISOString(),updated_at:l.updated_at||new Date().toISOString(),owners:[{owner_of:t,quantity:1}]}));return console.log("Transformed NFTs:",c.length),{page:1,pageSize:e,totalCount:c.length,totalPages:1,data:c}}}catch(o){console.error("Error with endpoint:",i,o);continue}}return console.log("All OpenSea endpoints failed, returning empty result"),{page:1,pageSize:e,totalCount:0,totalPages:1,data:[]}}const Yle=ba({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:5e3},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"}}),Jle=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=Yle({isOpen:t}),i=O.useRef(null),[o,a]=O.useState([]),[c,l]=O.useState(!1),[u,d]=O.useState(!1),[h,f]=O.useState({}),[p,g]=O.useState(null),{data:y}=m9();O.useEffect(()=>{t&&r&&w()},[t,r]);const w=async()=>{l(!0),g(null);try{const C=await b7(r);a(C);const S={};C.forEach(N=>{S[N.id]=0}),f(S)}catch(C){g(C.message)}finally{l(!1)}},v=(C,S)=>{f(N=>({...N,[C]:Math.max(0,S)}))},b=async()=>{const C=Object.entries(h).filter(([,S])=>S>0).map(([S,N])=>({id:S,quantity:N}));if(C.length===0){g("Please select at least one item to mint");return}if(!y){g("Wallet not connected");return}d(!0),g(null);try{console.log("Starting mint process for address:",r);const S=await v7(r,C);if(console.log("Mint API result:",S),S.success&&S.mintTransaction){console.log("Got mint transaction:",S.mintTransaction),alert("Please confirm the transaction in your wallet.");try{console.log("Sending transaction to wallet...");const N=await y.sendTransaction({to:S.mintTransaction.to,value:BigInt(S.mintTransaction.value),data:S.mintTransaction.data});console.log("Transaction sent successfully:",N),alert(`NFT Minted Successfully: Transaction Hash - ${N}`),e()}catch(N){console.error("Transaction sending failed:",N),g("Transaction failed: "+N.message)}}else throw new Error(S.message||"Could not retrieve minting transaction.")}catch(S){console.error("Minting failed:",S),g("Minting failed: "+S.message)}finally{d(!1)}},_=(C,S)=>`${parseFloat(C)} ${S}`,x=()=>{n&&n()};return t?m.jsx(Uv,{nodeRef:i,handle:`.${s.header}`,children:m.jsxs("div",{ref:i,className:s.popup,children:[m.jsxs("div",{className:s.header,children:[m.jsx("span",{children:"Mint Pixelawbster"}),m.jsxs("div",{className:s.titleBarButtons,children:[m.jsx("button",{className:s.titleBarButton,onClick:x,title:"Minimize",children:"_"}),m.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:""})]})]}),m.jsxs("div",{className:s.content,children:[p&&m.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:p}),c?m.jsx("div",{children:"Loading eligible invite lists..."}):o.length===0?m.jsx("div",{children:"No eligible invite lists found for your wallet."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("h3",{children:"Available Lists:"}),o.map(C=>m.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#ffffff"},children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:C.name}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",_(C.token_price,C.currency_symbol)]}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",C.wallet_limit===4294967295?"Unlimited":C.wallet_limit," per wallet"]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx("label",{style:{fontSize:"12px"},children:"Quantity:"}),m.jsx("input",{type:"number",min:"0",max:C.wallet_limit===4294967295?999:C.wallet_limit,value:h[C.id]||0,onChange:S=>v(C.id,parseInt(S.target.value)||0),style:{width:"60px",padding:"2px 5px",border:"1px solid #808080"}})]})]},C.id))]}),m.jsx("button",{onClick:()=>void b(),disabled:u,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"10px 20px",cursor:u?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:u?"Minting...":"Mint Selected NFTs"})]})]})]})}):null},Zle=ba({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"400px",height:"auto",top:"20vh",left:"30vw",zIndex:102,display:"flex",flexDirection:"column"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",background:"white",color:"black"},detailImage:{width:"100%",height:"auto",marginBottom:"10px"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}}}),Xle=t=>{try{const e=JSON.parse(t);return Array.isArray(e)&&e.every(n=>"trait_type"in n&&"value"in n)?e:[]}catch{return[]}},eue=({nft:t,onClose:e})=>{const n=Zle(),r=O.useRef(null),s=Xle(t.attributes);return m.jsx(Uv,{nodeRef:r,handle:`.${n.header}`,children:m.jsxs("div",{className:n.popup,ref:r,children:[m.jsxs("div",{className:n.header,children:[m.jsxs("span",{children:[t.name," - Details"]}),m.jsx("button",{className:n.titleBarButton,onClick:e,children:"X"})]}),m.jsxs("div",{className:n.content,children:[m.jsx("img",{src:t.image_url,alt:t.name,className:n.detailImage}),m.jsx("h3",{children:"Traits"}),m.jsx("ul",{className:n.detailTraits,children:s.length>0?s.map((i,o)=>m.jsxs("li",{children:[m.jsxs("strong",{children:[i.trait_type,":"]})," ",i.value]},o)):m.jsx("li",{children:"No traits found."})})]})]})})},tue=Symbol(),S8=Object.getPrototypeOf,DN=new WeakMap,nue=t=>t&&(DN.has(t)?DN.get(t):S8(t)===Object.prototype||S8(t)===Array.prototype),rue=t=>nue(t)&&t[tue]||null,I8=(t,e=!0)=>{DN.set(t,e)},r_={},u2=t=>typeof t=="object"&&t!==null,iu=new WeakMap,D0=new WeakSet,sue=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>u2(l)&&!D0.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},s=new WeakMap,i=(l,u,d=r)=>{const h=s.get(l);if((h==null?void 0:h[0])===u)return h[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return I8(f,!0),s.set(l,[u,f]),Reflect.ownKeys(l).forEach(p=>{if(Object.getOwnPropertyDescriptor(f,p))return;const g=Reflect.get(l,p),{enumerable:y}=Reflect.getOwnPropertyDescriptor(l,p),w={value:g,enumerable:y,configurable:!0};if(D0.has(g))I8(g,!1);else if(g instanceof Promise)delete w.value,w.get=()=>d(g);else if(iu.has(g)){const[v,b]=iu.get(g);w.value=i(v,b(),d)}Object.defineProperty(f,p,w)}),Object.preventExtensions(f)},o=new WeakMap,a=[1,1],c=l=>{if(!u2(l))throw new Error("object required");const u=o.get(l);if(u)return u;let d=a[0];const h=new Set,f=(A,P=++a[0])=>{d!==P&&(d=P,h.forEach(D=>D(A,P)))};let p=a[1];const g=(A=++a[1])=>(p!==A&&!h.size&&(p=A,w.forEach(([P])=>{const D=P[1](A);D>d&&(d=D)})),d),y=A=>(P,D)=>{const j=[...P];j[1]=[A,...j[1]],f(j,D)},w=new Map,v=(A,P)=>{if((r_?"production":void 0)!=="production"&&w.has(A))throw new Error("prop listener already exists");if(h.size){const D=P[3](y(A));w.set(A,[P,D])}else w.set(A,[P])},b=A=>{var P;const D=w.get(A);D&&(w.delete(A),(P=D[1])==null||P.call(D))},_=A=>(h.add(A),h.size===1&&w.forEach(([D,j],H)=>{if((r_?"production":void 0)!=="production"&&j)throw new Error("remove already exists");const K=D[3](y(H));w.set(H,[D,K])}),()=>{h.delete(A),h.size===0&&w.forEach(([D,j],H)=>{j&&(j(),w.set(H,[D]))})}),x=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),S=e(x,{deleteProperty(A,P){const D=Reflect.get(A,P);b(P);const j=Reflect.deleteProperty(A,P);return j&&f(["delete",[P],D]),j},set(A,P,D,j){const H=Reflect.has(A,P),K=Reflect.get(A,P,j);if(H&&(t(K,D)||o.has(D)&&t(K,o.get(D))))return!0;b(P),u2(D)&&(D=rue(D)||D);let I=D;if(D instanceof Promise)D.then(T=>{D.status="fulfilled",D.value=T,f(["resolve",[P],T])}).catch(T=>{D.status="rejected",D.reason=T,f(["reject",[P],T])});else{!iu.has(D)&&n(D)&&(I=c(D));const T=!D0.has(I)&&iu.get(I);T&&v(P,T)}return Reflect.set(A,P,I,j),f(["set",[P],D,K]),!0}});o.set(l,S);const N=[x,g,i,_];return iu.set(S,N),Reflect.ownKeys(l).forEach(A=>{const P=Object.getOwnPropertyDescriptor(l,A);"value"in P&&(S[A]=l[A],delete P.value,delete P.writable),Object.defineProperty(x,A,P)}),S})=>[c,iu,D0,t,e,n,r,s,i,o,a],[iue]=sue();function bn(t={}){return iue(t)}function Wr(t,e,n){const r=iu.get(t);(r_?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[3];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function wb(t,e){const n=iu.get(t);(r_?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,s,i]=n;return i(r,s(),e)}function Pf(t){return D0.add(t),t}function Gr(t,e,n,r){let s=t[e];return Wr(t,()=>{const i=t[e];Object.is(s,i)||n(s=i)})}function oue(t){const e=bn({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const s=this.data.find(i=>i[0]===n);return s?s[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(s=>s[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(s=>s[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var T8={};const ue={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof T8<"u"?T8.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},bb={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var s;if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return((s=ue.CHAIN_NAME_MAP)==null?void 0:s[r])||void 0}};var aue=20,cue=1,kf=1e6,N8=1e6,lue=-7,uue=21,due=!1,Bv="[big.js] ",Jf=Bv+"Invalid ",GC=Jf+"decimal places",hue=Jf+"rounding mode",_7=Bv+"Division by zero",Xt={},nc=void 0,fue=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function C7(){function t(e){var n=this;if(!(n instanceof t))return e===nc?C7():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Jf+"value");e=e===0&&1/e<0?"-0":String(e)}pue(n,e)}n.constructor=t}return t.prototype=Xt,t.DP=aue,t.RM=cue,t.NE=lue,t.PE=uue,t.strict=due,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function pue(t,e){var n,r,s;if(!fue.test(e))throw Error(Jf+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function Zf(t,e,n,r){var s=t.c;if(n===nc&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(hue);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==nc))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==nc||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function Xf(t,e,n){var r=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}Xt.abs=function(){var t=new this.constructor(this);return t.s=1,t};Xt.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,i=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=s.length)?a:c,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};Xt.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,i=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>kf)throw Error(GC);if(!s[0])throw Error(_7);if(!r[0])return t.s=i,t.c=[t.e=0],t;var a,c,l,u,d,h=s.slice(),f=a=s.length,p=r.length,g=r.slice(0,a),y=g.length,w=t,v=w.c=[],b=0,_=o+(w.e=e.e-t.e)+1;for(w.s=i,i=_<0?0:_,h.unshift(0);y++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(y=g.length))u=a>y?1:-1;else for(d=-1,u=0;++d<a;)if(s[d]!=g[d]){u=s[d]>g[d]?1:-1;break}if(u<0){for(c=y==a?s:h;y;){if(g[--y]<c[y]){for(d=y;d&&!g[--d];)g[d]=9;--g[d],g[y]+=10}g[y]-=c[y]}for(;!g[0];)g.shift()}else break}v[b++]=u?l:++l,g[0]&&u?g[y]=r[f]||0:g=[r[f]]}while((f++<p||g[0]!==nc)&&i--);return!v[0]&&b!=1&&(v.shift(),w.e--,_--),b>_&&Zf(w,_,n.RM,g[0]!==nc),w};Xt.eq=function(t){return this.cmp(t)===0};Xt.gt=function(t){return this.cmp(t)>0};Xt.gte=function(t){return this.cmp(t)>-1};Xt.lt=function(t){return this.cmp(t)<0};Xt.lte=function(t){return this.cmp(t)<1};Xt.minus=Xt.sub=function(t){var e,n,r,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),u=i.e,d=t.c,h=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(i):t.s=1,t;if(a=u-h){for((s=a<0)?(a=-a,r=l):(h=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){s=l[c]<d[c];break}if(s&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t};Xt.mod=function(t){var e,n=this,r=n.constructor,s=n.s,i=(t=new r(t)).s;if(!t.c[0])throw Error(_7);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=i,e?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=i,this.minus(n.times(t)))};Xt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Xt.plus=Xt.add=function(t){var e,n,r,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Xt.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-N8||t>N8)throw Error(Jf+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};Xt.prec=function(t,e){if(t!==~~t||t<1||t>kf)throw Error(Jf+"precision");return Zf(new this.constructor(this),t,e)};Xt.round=function(t,e){if(t===nc)t=0;else if(t!==~~t||t<-kf||t>kf)throw Error(GC);return Zf(new this.constructor(this),t+this.e+1,e)};Xt.sqrt=function(){var t,e,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(Bv+"No square root");i=Math.sqrt(+Xf(r,!0,!0)),i===0||i===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Zf(t,(s.DP-=4)+t.e+1,s.RM)};Xt.times=Xt.mul=function(t){var e,n=this,r=n.constructor,s=n.c,i=(t=new r(t)).c,o=s.length,a=i.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=s,s=i,i=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+i[c]*s[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Xt.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==nc){if(t!==~~t||t<0||t>kf)throw Error(GC);for(n=Zf(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return Xf(n,!0,!!r)};Xt.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==nc){if(t!==~~t||t<0||t>kf)throw Error(GC);for(n=Zf(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return Xf(n,!1,!!r)};Xt[Symbol.for("nodejs.util.inspect.custom")]=Xt.toJSON=Xt.toString=function(){var t=this,e=t.constructor;return Xf(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Xt.toNumber=function(){var t=+Xf(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Bv+"Imprecise conversion");return t};Xt.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==nc){if(t!==~~t||t<1||t>kf)throw Error(Jf+"precision");for(n=Zf(new r(n),t,e);n.c.length<t;)n.c.push(0)}return Xf(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};Xt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Bv+"valueOf disallowed");return Xf(t,t.e<=e.NE||t.e>=e.PE,!0)};var r0=C7();const gue={bigNumber(t){return t?new r0(t):new r0(0)},multiply(t,e){if(t===void 0||e===void 0)return new r0(0);const n=new r0(t),r=new r0(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},mue=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],yue=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],wue=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],bue={getERC20Abi:t=>ue.USDT_CONTRACT_ADDRESSES.includes(t)?wue:mue,getSwapAbi:()=>yue},Ri={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},st={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids"};function d2(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const et={setItem(t,e){$0()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if($0())return localStorage.getItem(t)||void 0},removeItem(t){$0()&&localStorage.removeItem(t)},clear(){$0()&&localStorage.clear()}};function $0(){return typeof window<"u"&&typeof localStorage<"u"}function tl(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var P8={};const h2=(typeof process<"u"&&typeof P8<"u"?P8.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",A7=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]},{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]}],vue="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Yt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:h2,SECURE_SITE_DASHBOARD:`${h2}/dashboard`,SECURE_SITE_FAVICON:`${h2}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld","coinbase"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},Te={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=Te.getActiveNamespace(),e=Te.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{et.setItem(st.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=et.getItem(st.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{et.removeItem(st.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{et.setItem(st.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{et.setItem(st.ACTIVE_CAIP_NETWORK_ID,t),Te.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return et.getItem(st.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{et.removeItem(st.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=d2(t);et.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=Te.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),et.setItem(st.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=et.getItem(st.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=d2(t);et.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return et.getItem(st.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=d2(t);return et.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{et.setItem(st.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return et.getItem(st.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{et.removeItem(st.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return et.getItem(st.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=et.getItem(st.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{et.setItem(st.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return et.getItem(st.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=et.getItem(st.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));et.setItem(st.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=Te.getConnectedNamespaces();e.includes(t)||(e.push(t),Te.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=Te.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),Te.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return et.getItem(st.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{et.setItem(st.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{et.removeItem(st.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=et.getItem(st.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=Te.getBalanceCache();et.setItem(st.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=Te.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;Te.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=Te.getBalanceCache();e[t.caipAddress]=t,et.setItem(st.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=et.getItem(st.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=Te.getBalanceCache();et.setItem(st.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=Te.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),Te.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=Te.getNativeBalanceCache();e[t.caipAddress]=t,et.setItem(st.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=et.getItem(st.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=Te.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;Te.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=Te.getEnsCache();e[t.address]=t,et.setItem(st.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=Te.getEnsCache();et.setItem(st.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=et.getItem(st.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=Te.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;Te.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=Te.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},et.setItem(st.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=Te.getIdentityCache();et.setItem(st.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{et.removeItem(st.PORTFOLIO_CACHE),et.removeItem(st.NATIVE_BALANCE_CACHE),et.removeItem(st.ENS_CACHE),et.removeItem(st.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{et.setItem(st.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=et.getItem(st.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=Te.getConnections(),r=n[e]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of t){const a=s.get(o.connectorId),c=o.connectorId===ue.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else s.set(o.connectorId,{...o})}const i={...n,[e]:Array.from(s.values())};et.setItem(st.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=et.getItem(st.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=Te.getConnections(),s=r[n]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),et.setItem(st.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=et.getItem(st.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=Te.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),et.setItem(st.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=Te.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(s=>s.toLowerCase()!==t.toLowerCase()),et.setItem(st.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(Te.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1}},We={isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return We.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Yt.TEN_SEC_MS:!0},isAllowedRetry(t,e=Yt.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(We.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(n){const s=new URL(n),i=new URL(r);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Yt.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(We.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(t,e){if(!We.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?Te.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r;if(typeof window>"u")return!1;const t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(n=window.matchMedia("(display-mode: standalone)"))==null?void 0:n.matches:!1,e=(r=window==null?void 0:window.navigator)==null?void 0:r.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,We.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return ue.W3M_API_URL},getBlockchainApiUrl(){return ue.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ue.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?Yt.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in ue.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,r+i),c=t.substring(r+i,o),l=t.substring(s),u=c+n;return a+u+l}};async function s0(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Lv{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await s0(i,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await s0(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await s0(i,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await s0(i,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await s0(i,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const Eue={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?Yt.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(We.isTelegram()){if(We.isIos())return t.filter(e=>e!=="google");if(We.isMac())return t.filter(e=>e!=="x");if(We.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Ye=bn({features:Yt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Yt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),me={state:Ye,subscribeKey(t,e){return Gr(Ye,t,e)},setOptions(t){Object.assign(Ye,t)},setRemoteFeatures(t){var n;if(!t)return;const e={...Ye.remoteFeatures,...t};Ye.remoteFeatures=e,(n=Ye.remoteFeatures)!=null&&n.socials&&(Ye.remoteFeatures.socials=Eue.filterSocialsByPlatform(Ye.remoteFeatures.socials))},setFeatures(t){if(!t)return;Ye.features||(Ye.features=Yt.DEFAULT_FEATURES);const e={...Ye.features,...t};Ye.features=e},setProjectId(t){Ye.projectId=t},setCustomRpcUrls(t){Ye.customRpcUrls=t},setAllWallets(t){Ye.allWallets=t},setIncludeWalletIds(t){Ye.includeWalletIds=t},setExcludeWalletIds(t){Ye.excludeWalletIds=t},setFeaturedWalletIds(t){Ye.featuredWalletIds=t},setTokens(t){Ye.tokens=t},setTermsConditionsUrl(t){Ye.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Ye.privacyPolicyUrl=t},setCustomWallets(t){Ye.customWallets=t},setIsSiweEnabled(t){Ye.isSiweEnabled=t},setIsUniversalProvider(t){Ye.isUniversalProvider=t},setSdkVersion(t){Ye.sdkVersion=t},setMetadata(t){Ye.metadata=t},setDisableAppend(t){Ye.disableAppend=t},setEIP6963Enabled(t){Ye.enableEIP6963=t},setDebug(t){Ye.debug=t},setEnableWalletConnect(t){Ye.enableWalletConnect=t},setEnableWalletGuide(t){Ye.enableWalletGuide=t},setEnableAuthLogger(t){Ye.enableAuthLogger=t},setEnableWallets(t){Ye.enableWallets=t},setPreferUniversalLinks(t){Ye.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){Ye.hasMultipleAddresses=t},setSIWX(t){Ye.siwx=t},setConnectMethodsOrder(t){Ye.features={...Ye.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Ye.features={...Ye.features,walletFeaturesOrder:t}},setSocialsOrder(t){Ye.remoteFeatures={...Ye.remoteFeatures,socials:t}},setCollapseWallets(t){Ye.features={...Ye.features,collapseWallets:t}},setEnableEmbedded(t){Ye.enableEmbedded=t},setAllowUnsupportedChain(t){Ye.allowUnsupportedChain=t},setManualWCControl(t){Ye.manualWCControl=t},setEnableNetworkSwitch(t){Ye.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(Ye.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){Ye.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Ye.universalProviderConfigOverride},getSnapshot(){return wb(Ye)}},xue=Object.freeze({enabled:!0,events:[]}),_ue=new Lv({baseUrl:We.getAnalyticsUrl(),clientId:null}),Cue=5,Aue=60*1e3,Dl=bn({...xue}),Sue={state:Dl,subscribeKey(t,e){return Gr(Dl,t,e)},async sendError(t,e){if(!Dl.enabled)return;const n=Date.now();if(Dl.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<Aue}).length>=Cue)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};Dl.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=me.state;await _ue.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:We.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){Dl.enabled=!0},disable(){Dl.enabled=!1},clearEvents(){Dl.events=[]}};class Ym extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,Ym.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,Ym):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function k8(t,e){const n=t instanceof Ym?t:new Ym(t instanceof Error?t.message:String(t),e,t);throw Sue.sendError(n,n.category),n}function Ki(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return k8(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return k8(a,e)}},n[r]=i}else n[r]=s}),n}const qa={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},Iue={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===qa.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${qa.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===qa.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${qa.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===ue.CHAIN.SOLANA&&t===qa.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${qa.COINBASE.url}/dapp?cb_url=${r}`)}},vi=bn({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Tue={state:vi,subscribeNetworkImages(t){return Wr(vi.networkImages,()=>t(vi.networkImages))},subscribeKey(t,e){return Gr(vi,t,e)},subscribe(t){return Wr(vi,()=>t(vi))},setWalletImage(t,e){vi.walletImages[t]=e},setNetworkImage(t,e){vi.networkImages[t]=e},setChainImage(t,e){vi.chainImages[t]=e},setConnectorImage(t,e){vi.connectorImages={...vi.connectorImages,[t]:e}},setTokenImage(t,e){vi.tokenImages[t]=e},setCurrencyImage(t,e){vi.currencyImages[t]=e}},na=Ki(Tue),Nue={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},f2=bn({networkImagePromises:{}}),S7={async fetchWalletImage(t){if(t)return await Ke._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(f2.networkImagePromises[t]||(f2.networkImagePromises[t]=Ke._fetchNetworkImage(t)),await f2.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return na.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return na.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return na.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return na.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return na.state.connectorImages[t.imageId]},getChainImage(t){return na.state.networkImages[Nue[t]]}},$l=bn({message:"",variant:"info",open:!1}),Pue={state:$l,subscribeKey(t,e){return Gr($l,t,e)},open(t,e){const{debug:n}=me.state,{shortMessage:r,longMessage:s}=t;n&&($l.message=r,$l.variant=e,$l.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){$l.open=!1,$l.message="",$l.variant="info"}},Xn=Ki(Pue),kue=We.getAnalyticsUrl(),Oue=new Lv({baseUrl:kue,clientId:null}),Rue=["MODAL_CREATED"],mc=bn({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Jt={state:mc,subscribe(t){return Wr(mc,()=>t(mc))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=me.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=Se.state.address;if(Rue.includes(t.data.event)||typeof window>"u")return;await Oue.post({path:"/e",params:Jt.getSdkProperties(),body:{eventId:We.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),mc.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===ue.HTTP_STATUS_CODES.FORBIDDEN&&!mc.reportedErrors.FORBIDDEN&&(Xn.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${$0()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),mc.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;mc.timestamp=Date.now(),mc.data=t,(e=me.state.features)!=null&&e.analytics&&Jt._sendAnalyticsEvent(mc)}},Due=We.getApiUrl(),js=new Lv({baseUrl:Due,clientId:null}),$ue=40,O8=4,Uue=20,at=bn({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Ke={state:at,subscribeKey(t,e){return Gr(at,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=me.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return me.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${js.baseUrl}/getWalletImage/${t}`,n=await js.getBlob({path:e,params:Ke._getSdkProperties()});na.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${js.baseUrl}/public/getAssetImage/${t}`,n=await js.getBlob({path:e,params:Ke._getSdkProperties()});na.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${js.baseUrl}/public/getAssetImage/${t}`,n=await js.getBlob({path:e,params:Ke._getSdkProperties()});na.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${js.baseUrl}/public/getCurrencyImage/${t}`,n=await js.getBlob({path:e,params:Ke._getSdkProperties()});na.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${js.baseUrl}/public/getTokenImage/${t}`,n=await js.getBlob({path:e,params:Ke._getSdkProperties()});na.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return We.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===qa.COINBASE.id?!0:B.state.activeChain==="solana"&&(n.id===qa.SOLFLARE.id||n.id===qa.PHANTOM.id)):t},async fetchProjectConfig(){return(await js.get({path:"/appkit/v1/config",params:Ke._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await js.get({path:"/projects/v1/origins",params:Ke._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===ue.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=ue.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=B.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!S7.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Ke._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Pe.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Ke._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Ke._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Ke._fetchTokenImage(e)))},async fetchWallets(t){var i;const e=t.exclude??[];Ke._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(qa).map(o=>o.id));const r=await js.get({path:"/getWallets",params:{...Ke._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(i=t.include)==null?void 0:i.join(","),exclude:e.join(",")}});return{data:Ke._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=me.state;if(t!=null&&t.length){const e={...Ke._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??O8,include:t},{data:n}=await Ke.fetchWallets(e),r=[...n].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>Ke._fetchWalletImage(i))),at.featured=r,at.allFeatured=r}},async fetchRecommendedWallets(){try{at.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=me.state,r=[...e??[],...n??[]].filter(Boolean),s=B.getRequestedCaipNetworkIds().join(","),i={page:1,entries:O8,include:t,exclude:r,chains:s},{data:o,count:a}=await Ke.fetchWallets(i),c=Te.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>Ke._fetchWalletImage(d))),at.recommended=o,at.allRecommended=o,at.count=a??0}catch{}finally{at.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=me.state,s=B.getRequestedCaipNetworkIds().join(","),i=[...at.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:$ue,include:e,exclude:i,chains:s},{data:a,count:c}=await Ke.fetchWallets(o),l=a.slice(0,Uue).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>Ke._fetchWalletImage(u))),at.wallets=We.uniqueBy([...at.wallets,...Ke._filterOutExtensions(a)],"id").filter(u=>{var d;return(d=u.chains)==null?void 0:d.some(h=>s.includes(h))}),at.count=c>at.count?c:at.count,at.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await Ke.fetchWallets(e);n&&n.forEach(r=>{at.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=me.state,s=B.getRequestedCaipNetworkIds().join(",");at.search=[];const i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:o}=await Ke.fetchWallets(i);Jt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Ke._fetchWalletImage(c)),We.wait(300)]),at.search=Ke._filterOutExtensions(o)},initPromise(t,e){const n=at.promises[t];return n||(at.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&Ke.initPromise("connectorImages",Ke.fetchConnectorImages),e&&Ke.initPromise("featuredWallets",Ke.fetchFeaturedWallets),n&&Ke.initPromise("recommendedWallets",Ke.fetchRecommendedWallets),r&&Ke.initPromise("networkImages",Ke.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=me.state.features)!=null&&t.analytics&&Ke.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await js.get({path:"/getAnalyticsConfig",params:Ke._getSdkProperties()});me.setFeatures({analytics:t})}catch{me.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){at.featured=at.allFeatured,at.recommended=at.allRecommended;return}const e=B.getRequestedCaipNetworkIds().join(",");at.featured=at.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),at.recommended=at.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),at.filteredWallets=at.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){at.filteredWallets=[]},setFilterByNamespace(t){if(!t){at.featured=at.allFeatured,at.recommended=at.allRecommended;return}const e=B.getRequestedCaipNetworkIds().join(",");at.featured=at.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),at.recommended=at.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),at.filteredWallets=at.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},rn=bn({view:"Connect",history:["Connect"],transactionStack:[]}),Bue={state:rn,subscribeKey(t,e){return Gr(rn,t,e)},pushTransactionStack(t){rn.transactionStack.push(t)},popTransactionStack(t){const e=rn.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:s}=e;switch(t){case"success":n==null||n();break;case"error":r==null||r(),Xe.goBack();break;case"cancel":s==null||s(),Xe.goBack();break}},push(t,e){t!==rn.view&&(rn.view=t,rn.history.push(t),rn.data=e)},reset(t,e){rn.view=t,rn.history=[t],rn.data=e},replace(t,e){rn.history.at(-1)===t||(rn.view=t,rn.history[rn.history.length-1]=t,rn.data=e)},goBack(){var r;const t=B.state.activeCaipAddress,e=Xe.state.view==="ConnectingFarcaster",n=!t&&e;if(rn.history.length>1){rn.history.pop();const[s]=rn.history.slice(-1);s&&(t&&s==="Connect"?rn.view="Account":rn.view=s)}else Wt.close();(r=rn.data)!=null&&r.wallet&&(rn.data.wallet=void 0),setTimeout(()=>{var s,i,o;if(n){Se.setFarcasterUrl(void 0,B.state.activeChain);const a=Pe.getAuthConnector();(s=a==null?void 0:a.provider)==null||s.reload();const c=wb(me.state);(o=(i=a==null?void 0:a.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(rn.history.length>1){rn.history=rn.history.slice(0,t+1);const[e]=rn.history.slice(-1);e&&(rn.view=e)}},goBackOrCloseModal(){Xe.state.history.length>1?Xe.goBack():Wt.close()}},Xe=Ki(Bue),yc=bn({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),$N={state:yc,subscribe(t){return Wr(yc,()=>t(yc))},setThemeMode(t){yc.themeMode=t;try{const e=Pe.getAuthConnector();if(e){const n=$N.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:tl(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){yc.themeVariables={...yc.themeVariables,...t};try{const e=Pe.getAuthConnector();if(e){const n=$N.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:tl(yc.themeVariables,yc.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return wb(yc)}},ti=Ki($N),I7={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},Rt=bn({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...I7},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),Lue={state:Rt,subscribe(t){return Wr(Rt,()=>{t(Rt)})},subscribeKey(t,e){return Gr(Rt,t,e)},initialize(t){t.forEach(e=>{const n=Te.getConnectedConnectorId(e);n&&Pe.setConnectorId(n,e)})},setActiveConnector(t){t&&(Rt.activeConnector=Pf(t))},setConnectors(t){t.filter(s=>!Rt.allConnectors.some(i=>i.id===s.id&&Pe.getConnectorName(i.name)===Pe.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&Rt.allConnectors.push(Pf(s))});const n=Pe.getEnabledNamespaces(),r=Pe.getEnabledConnectors(n);Rt.connectors=Pe.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(Rt.filterByNamespaceMap).forEach(e=>{Rt.filterByNamespaceMap[e]=!1}),t.forEach(e=>{Rt.filterByNamespaceMap[e]=!0}),Pe.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){Rt.filterByNamespaceMap[t]=e,Pe.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=Pe.getEnabledNamespaces(),e=Pe.getEnabledConnectors(t),n=Pe.areAllNamespacesEnabled();Rt.connectors=Pe.mergeMultiChainConnectors(e),n?Ke.clearFilterByNamespaces():Ke.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(Rt.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return Rt.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(Rt.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=Pe.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],i=(s==null?void 0:s.id)===ue.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=Pe.getConnectorName(r);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===ue.CONNECTOR_ID.AUTH){const s=t,i=wb(me.state),o=ti.getSnapshot().themeMode,a=ti.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:tl(a,o)}),Pe.setConnectors([t])}else Pe.setConnectors([t])},getAuthConnector(t){var r;const e=t||B.state.activeChain,n=Rt.connectors.find(s=>s.id===ue.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return Rt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return Rt.allConnectors.find(e=>e.id===t)},getConnector(t,e){return Rt.allConnectors.filter(r=>r.chain===B.state.activeChain).find(r=>{var s;return r.explorerId===t||((s=r.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="ID_AUTH")return;const e=t,n=wb(me.state),r=ti.getSnapshot().themeMode,s=ti.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:tl(s,r)})},getConnectorsByNamespace(t){const e=Rt.allConnectors.filter(n=>n.chain===t);return Pe.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=Pe.getConnector(t.id,t.rdns),n=B.state.activeChain;Iue.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,n),e?Xe.push("ConnectingExternal",{connector:e}):Xe.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?Pe.getConnectorsByNamespace(t):Pe.mergeMultiChainConnectors(Rt.allConnectors)},setFilterByNamespace(t){Rt.filterByNamespace=t,Rt.connectors=Pe.getConnectors(t),Ke.setFilterByNamespace(t)},setConnectorId(t,e){t&&(Rt.activeConnectorIds={...Rt.activeConnectorIds,[e]:t},Te.setConnectedConnectorId(e,t))},removeConnectorId(t){Rt.activeConnectorIds={...Rt.activeConnectorIds,[t]:void 0},Te.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return Rt.activeConnectorIds[t]},isConnected(t){return t?!!Rt.activeConnectorIds[t]:Object.values(Rt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){Rt.activeConnectorIds={...I7}}},Pe=Ki(Lue),vb={getConnectionStatus(t,e){const n=Pe.state.activeConnectorIds[e],r=Le.state.connections.get(e)??[];return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},validateAccountSwitch({namespace:t,connection:e,address:n}){if(t===ue.CHAIN.BITCOIN){if(!n)throw new Error("Address parameter is required for switching bip122 connection");const{type:s}=e.accounts.find(i=>i.address.toLowerCase()===n.toLowerCase())??{};if(typeof s=="string"&&s!=="payment")throw new Error(`Switching to non-payment accounts is not allowed for ${t}`)}},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},filterConnectionsByAccountType(t,e){return t.map(n=>{const r=n.accounts.filter(s=>typeof s.type=="string"?s.type.toLowerCase()===e.toLowerCase():!0);return{...n,accounts:r}})},getConnectionsData(t){const e=Le.state.connections.get(t)??[],n=e.filter(a=>!a.recent),r=Pe.state.activeConnectorIds[t],i=e.filter(a=>a.recent).filter(a=>Pe.getConnectorById(a.connectorId)),o=vb.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],i);return{connections:n,recentConnections:o}}};var Jm={};const Mue="https://secure.walletconnect.org/sdk",jue=(typeof process<"u"&&typeof Jm<"u"?Jm.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||Mue,Fue=(typeof process<"u"&&typeof Jm<"u"?Jm.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",zue=(typeof process<"u"&&typeof Jm<"u"?Jm.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Fe={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Ar={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Hue=1e3,Jc={checkNamespaceConnectorId(t,e){return Pe.getConnectorId(t)===e},isSocialProvider(t){return Yt.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&Pe.setActiveConnector(e),s==null||s(We.isMobile()&&t),r){const l=Wt.subscribeKey("open",u=>{u||(Xe.state.view!==r&&Xe.replace(r),l(),a(new Error("Modal closed")))})}const c=B.subscribeKey("activeCaipAddress",l=>{l&&(i==null||i(),n&&Wt.close(),c(),o(Ri.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,n)=>{const r=B.subscribeKey("activeCaipAddress",s=>{s&&(Wt.close(),r(),e(Ri.parseCaipAddress(s)))});Le.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,closeModalOnConnect:e=!0,onOpenFarcaster:n,onConnect:r}){let s=Se.state.socialWindow,i=Se.state.socialProvider,o=!1,a=null;const c=B.subscribeKey("activeCaipAddress",l=>{l&&(e&&Wt.close(),c())});return new Promise((l,u)=>{async function d(f){var p;if((p=f.data)!=null&&p.resultUri)if(f.origin===ue.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",d,!1);try{const g=Pe.getAuthConnector();if(g&&!o){s&&(s.close(),Se.setSocialWindow(void 0,B.state.activeChain),s=Se.state.socialWindow),o=!0;const y=f.data.resultUri;if(i&&Jt.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:i}}),await g.provider.connectSocial(y),i){Te.setConnectedSocialProvider(i),await Le.connectExternal({id:g.id,type:g.type,socialUri:y},g.chain);const w=B.state.activeCaipAddress;if(!w){u(new Error("Failed to connect"));return}l(Ri.parseCaipAddress(w)),Jt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:i}})}}}catch{i&&Jt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}}),u(new Error("Failed to connect"))}}else i&&Jt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}})}async function h(){if(t&&(Se.setSocialProvider(t,B.state.activeChain),i=Se.state.socialProvider,Jt.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:i}})),i==="farcaster"){n==null||n();const f=Wt.subscribeKey("open",g=>{!g&&t==="farcaster"&&(u(new Error("Popup closed")),r==null||r(),f())}),p=Pe.getAuthConnector();if(p&&!Se.state.farcasterUrl)try{const{url:g}=await p.provider.getFarcasterUri();Se.setFarcasterUrl(g,B.state.activeChain)}catch{u(new Error("Failed to connect to farcaster"))}}else{const f=Pe.getAuthConnector();a=We.returnOpenHref(`${ue.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(f&&i){const{uri:p}=await f.provider.getSocialRedirectUri({provider:i});if(a&&p){Se.setSocialWindow(a,B.state.activeChain),s=Se.state.socialWindow,a.location.href=p;const g=setInterval(()=>{s!=null&&s.closed&&!o&&(u(new Error("Popup closed")),clearInterval(g))},1e3);window.addEventListener("message",d,!1)}else a==null||a.close(),u(new Error("Failed to initiate social connection"))}}catch{u(new Error("Failed to initiate social connection")),a==null||a.close()}}}h()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n==null||n(),e){const a=Wt.subscribeKey("open",c=>{c||(Xe.state.view!==e&&Xe.replace(e),a(),i(new Error("Modal closed")))})}const o=B.subscribeKey("activeCaipAddress",a=>{a&&(r==null||r(),t&&Wt.close(),o(),s(Ri.parseCaipAddress(a)))})})},async updateEmail(){const t=Te.getConnectedConnectorId(B.state.activeChain),e=Pe.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==ue.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return Xe.push("UpdateEmailWallet",{email:n,redirectView:void 0}),new Promise((r,s)=>{const i=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(Wt.close(),clearInterval(i),o(),r({email:a}))},Hue),o=Wt.subscribeKey("open",a=>{a||(Xe.state.view!=="Connect"&&Xe.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){var n;return B.checkIfSmartAccountEnabled()&&((n=Se.state.preferredAccountTypes)==null?void 0:n[t])===Ar.ACCOUNT_TYPES.EOA}},th=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),rr=bn({...th}),Wue={state:rr,subscribeKey(t,e){return Gr(rr,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=We.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){rr.message=th.message,rr.variant=th.variant,rr.svg=th.svg,rr.open=th.open,rr.autoClose=th.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=th.autoClose}){rr.open?(rr.open=!1,setTimeout(()=>{rr.message=t,rr.variant=n,rr.svg=e,rr.open=!0,rr.autoClose=r},150)):(rr.message=t,rr.variant=n,rr.svg=e,rr.open=!0,rr.autoClose=r)}},ia=Wue,fn=bn({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Gue={state:fn,subscribe(t){return Wr(fn,()=>t(fn))},setLastNetworkInView(t){fn.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");fn.loading=!0;try{const s=await Je.fetchTransactions({account:t,cursor:fn.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),i=U0.filterSpamTransactions(s.data),o=U0.filterByConnectedChain(i),a=[...fn.transactions,...o];fn.loading=!1,e==="coinbase"?fn.coinbaseTransactions=U0.groupTransactionsByYearAndMonth(fn.coinbaseTransactions,s.data):(fn.transactions=a,fn.transactionsByYear=U0.groupTransactionsByYearAndMonth(fn.transactionsByYear,o)),fn.empty=a.length===0,fn.next=s.next?s.next:void 0}catch{const i=B.state.activeChain;Jt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:me.state.projectId,cursor:fn.next,isSmartAccount:((r=Se.state.preferredAccountTypes)==null?void 0:r[i])===Ar.ACCOUNT_TYPES.SMART_ACCOUNT}}),ia.showError("Failed to fetch transactions"),fn.loading=!1,fn.empty=!0,fn.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},c=(o[i]??[]).filter(l=>l.id!==r.id);n[s]={...o,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=B.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){fn.next=void 0},resetTransactions(){fn.transactions=[],fn.transactionsByYear={},fn.lastNetworkInView=void 0,fn.loading=!1,fn.empty=!1,fn.next=void 0}},U0=Ki(Gue,"API_ERROR"),Nt=bn({connections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Wd;const que={state:Nt,subscribe(t){return Wr(Nt,()=>t(Nt))},subscribeKey(t,e){return Gr(Nt,t,e)},_getClient(){return Nt._client},setClient(t){Nt._client=Pf(t)},initialize(t){const e=Te.getConnections();for(const n of t){const r=n.namespace;if(r){const s=Nt.connections.get(r)??[],i=e[r]??[],o=[...s,...i];Nt.connections.set(r,o)}}},async connectWalletConnect(){var t,e,n,r;if(We.isTelegram()||We.isSafari()&&We.isIos()){if(Wd){await Wd,Wd=void 0;return}if(!We.isPairingExpired(Nt==null?void 0:Nt.wcPairingExpiry)){const s=Nt.wcUri;Nt.wcUri=s;return}Wd=(e=(t=Le._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),Le.state.status="connecting",await Wd,Wd=void 0,Nt.wcPairingExpiry=void 0,Le.state.status="connected"}else await((r=(n=Le._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var s,i;const r=await((i=(s=Le._getClient())==null?void 0:s.connectExternal)==null?void 0:i.call(s,t));return n&&B.setActiveNamespace(e),r},async reconnectExternal(t){var n,r;await((r=(n=Le._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||B.state.activeChain;e&&Pe.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;Wt.setLoading(!0,B.state.activeChain);const n=Pe.getAuthConnector();n&&(Se.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),Te.setPreferredAccountTypes(Se.state.preferredAccountTypes??{[e]:t}),await Le.reconnectExternal(n),Wt.setLoading(!1,B.state.activeChain),Jt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=B.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=Le._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=Le._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=Le._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=Le._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=Le._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=Le._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=Le._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=Le._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=Le._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=Le._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=Le._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=Le._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){Nt.wcUri=void 0,Nt.wcPairingExpiry=void 0,Nt.wcLinking=void 0,Nt.recentWallet=void 0,Nt.status="disconnected",U0.resetTransactions(),Te.deleteWalletConnectDeepLink()},resetUri(){Nt.wcUri=void 0,Nt.wcPairingExpiry=void 0,Wd=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=Le.state;t&&Te.setWalletConnectDeepLink(t),e&&Te.setAppKitRecent(e),Jt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=Xe.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){Nt.wcBasic=t},setUri(t){Nt.wcUri=t,Nt.wcPairingExpiry=We.getPairingExpiry()},setWcLinking(t){Nt.wcLinking=t},setWcError(t){Nt.wcError=t,Nt.buffering=!1},setRecentWallet(t){Nt.recentWallet=t},setBuffering(t){Nt.buffering=t},setStatus(t){Nt.status=t},setIsSwitchingConnection(t){Nt.isSwitchingConnection=t},async disconnect({id:t,namespace:e}={}){var n;try{await((n=Le._getClient())==null?void 0:n.disconnect({id:t,chainNamespace:e}))}catch(r){throw new Ym("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(t,e){Nt.connections=new Map(Nt.connections.set(e,t))},async handleAuthAccountSwitch({address:t,connection:e,namespace:n}){var o;const r=(o=e.accounts.find(a=>a.type==="smartAccount"))==null?void 0:o.address,i=(r==null?void 0:r.toLowerCase())===t.toLowerCase()&&Jc.canSwitchToSmartAccount(n)?"smartAccount":"eoa";await Le.setPreferredAccountType(i,n)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=Pe.getConnectorById(t.connectorId),s=t.connectorId===ue.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);const i=await Le.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e);return s&&n&&await Le.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),i==null?void 0:i.address},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){var l,u;const s=Pe.getConnectorById(t.connectorId),i=(u=(l=t.auth)==null?void 0:l.name)==null?void 0:u.toLowerCase(),o=t.connectorId===ue.CONNECTOR_ID.AUTH,a=t.connectorId===ue.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(i&&Jc.isSocialProvider(i)){const{address:d}=await Jc.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){Wt.open({view:"ConnectingFarcaster"})},onConnect(){Xe.replace("ProfileWallets")}});c=d}else{const{address:d}=await Jc.connectEmail({closeModalOnConnect:r,onOpen(){Wt.open({view:"EmailLogin"})},onConnect(){Xe.replace("ProfileWallets")}});c=d}else if(a){const{address:d}=await Jc.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(h){Wt.open({view:h?"AllWallets":"ConnectingWalletConnect"})},onConnect(){Xe.replace("ProfileWallets")}});c=d}else{const d=await Le.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);d&&(c=d.address)}return o&&n&&await Le.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:s}){vb.validateAccountSwitch({namespace:n,connection:t,address:e});let i;const o=Se.getCaipAddress(n);if(o){const{address:c}=Ri.parseCaipAddress(o);i=c}const a=vb.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const c=await Le.handleActiveConnection({connection:t,namespace:n,address:e});if(i&&c){const l=c.toLowerCase()!==i.toLowerCase();s==null||s({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await Le.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&(s==null||s({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},Le=Ki(que),yp=bn({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),rc={state:yp,subscribe(t){return Wr(yp,()=>t(yp))},subscribeOpen(t){return Gr(yp,"open",t)},set(t){Object.assign(yp,{...yp,...t})}};function Vue(t){const e=Array.from(B.state.chains.keys());let n=[];return t?(n.push([t,B.state.chains.get(t)]),Jc.checkNamespaceConnectorId(t,ue.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&Jc.checkNamespaceConnectorId(r,ue.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,B.state.chains.get(r)])}):Jc.checkNamespaceConnectorId(t,ue.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&Jc.checkNamespaceConnectorId(r,ue.CONNECTOR_ID.AUTH)&&n.push([r,B.state.chains.get(r)])})):n=Array.from(B.state.chains.entries()),n}function T7(){var r,s;const t=((r=B.state.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=B.state.activeCaipNetwork)==null?void 0:s.id)||1,n=Yt.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}const Kue={async getTokenList(){var r;const t=B.state.activeCaipNetwork,e=await Je.fetchSwapTokens({chainId:t==null?void 0:t.caipNetworkId});return((r=e==null?void 0:e.tokens)==null?void 0:r.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=B.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const n=(e=await(Le==null?void 0:Le.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await Je.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await Je.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&n&&r){const i=Le.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await vR.getMyTokensWithBalance(t);return Se.setTokenBalance(e,B.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:T7(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},Qt=bn({tokenBalances:[],loading:!1}),Que={state:Qt,subscribe(t){return Wr(Qt,()=>t(Qt))},subscribeKey(t,e){return Gr(Qt,t,e)},setToken(t){t&&(Qt.token=Pf(t))},setTokenAmount(t){Qt.sendTokenAmount=t},setReceiverAddress(t){Qt.receiverAddress=t},setReceiverProfileImageUrl(t){Qt.receiverProfileImageUrl=t},setReceiverProfileName(t){Qt.receiverProfileName=t},setNetworkBalanceInUsd(t){Qt.networkBalanceInUSD=t},setLoading(t){Qt.loading=t},async sendToken(){var t;try{switch(jt.setLoading(!0),(t=B.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await jt.sendEvmToken();return;case"solana":await jt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{jt.setLoading(!1)}},async sendEvmToken(){var n,r,s,i;const t=B.state.activeChain,e=(n=Se.state.preferredAccountTypes)==null?void 0:n[t];if(!jt.state.sendTokenAmount||!jt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!jt.state.token)throw new Error("A token is required");(r=jt.state.token)!=null&&r.address?(Jt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Ar.ACCOUNT_TYPES.SMART_ACCOUNT,token:jt.state.token.address,amount:jt.state.sendTokenAmount,network:((s=B.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await jt.sendERC20Token({receiverAddress:jt.state.receiverAddress,tokenAddress:jt.state.token.address,sendTokenAmount:jt.state.sendTokenAmount,decimals:jt.state.token.quantity.decimals})):(Jt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Ar.ACCOUNT_TYPES.SMART_ACCOUNT,token:jt.state.token.symbol||"",amount:jt.state.sendTokenAmount,network:((i=B.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),await jt.sendNativeToken({receiverAddress:jt.state.receiverAddress,sendTokenAmount:jt.state.sendTokenAmount,decimals:jt.state.token.quantity.decimals}))},async fetchTokenBalance(t){var i,o;Qt.loading=!0;const e=(i=B.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=B.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=B.state.activeCaipAddress,s=r?We.getPlainAddress(r):void 0;if(Qt.lastRetry&&!We.isAllowedRetry(Qt.lastRetry,30*Yt.ONE_SEC_MS))return Qt.loading=!1,[];try{if(s&&e&&n){const a=await vR.getMyTokensWithBalance();return Qt.tokenBalances=a,Qt.lastRetry=void 0,a}}catch(a){Qt.lastRetry=Date.now(),t==null||t(a),ia.showError("Token Balance Unavailable")}finally{Qt.loading=!1}return[]},fetchNetworkBalance(){if(Qt.tokenBalances.length===0)return;const t=Kue.mapBalancesToSwapTokens(Qt.tokenBalances);if(!t)return;const e=t.find(n=>n.address===T7());e&&(Qt.networkBalanceInUSD=e?gue.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var i,o,a,c;Xe.pushTransactionStack({});const e=t.receiverAddress,n=Se.state.address,r=Le.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await Le.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),Jt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((i=Se.state.preferredAccountTypes)==null?void 0:i.eip155)===Ar.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=jt.state.token)==null?void 0:o.symbol)||"",amount:t.sendTokenAmount,network:((a=B.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),(c=Le._getClient())==null||c.updateBalance("eip155"),jt.resetSend()},async sendERC20Token(t){Xe.pushTransactionStack({onSuccess(){Xe.replace("Account")}});const e=Le.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Se.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=We.getPlainAddress(t.tokenAddress);await Le.writeContract({fromAddress:Se.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:bue.getERC20Abi(n),chainNamespace:"eip155"}),jt.resetSend()}},async sendSolanaToken(){var t;if(!jt.state.sendTokenAmount||!jt.state.receiverAddress)throw new Error("An amount and receiver address are required");Xe.pushTransactionStack({onSuccess(){Xe.replace("Account")}}),await Le.sendTransaction({chainNamespace:"solana",to:jt.state.receiverAddress,value:jt.state.sendTokenAmount}),(t=Le._getClient())==null||t.updateBalance("solana"),jt.resetSend()},resetSend(){Qt.token=void 0,Qt.sendTokenAmount=void 0,Qt.receiverAddress=void 0,Qt.receiverProfileImageUrl=void 0,Qt.receiverProfileName=void 0,Qt.loading=!1,Qt.tokenBalances=[]}},jt=Ki(Que),p2={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},W1={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Oe=bn({chains:oue(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),Yue={state:Oe,subscribe(t){return Wr(Oe,()=>{t(Oe)})},subscribeKey(t,e){return Gr(Oe,t,e)},subscribeChainProp(t,e,n){let r;return Wr(Oe.chains,()=>{var i;const s=n||Oe.activeChain;if(s){const o=(i=Oe.chains.get(s))==null?void 0:i[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:s}=Te.getActiveNetworkProps(),i=e==null?void 0:e.find(u=>u.id.toString()===(r==null?void 0:r.toString())),a=t.find(u=>(u==null?void 0:u.namespace)===s)||(t==null?void 0:t[0]),c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=me.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(u=>u.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(Oe.noAdapters=!0),Oe.noAdapters||(Oe.activeChain=a==null?void 0:a.namespace,Oe.activeCaipNetwork=i,B.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),Oe.activeChain&&rc.set({activeChain:a==null?void 0:a.namespace})),l.forEach(u=>{const d=e==null?void 0:e.filter(h=>h.chainNamespace===u);B.state.chains.set(u,{namespace:u,networkState:bn({...W1,caipNetwork:d==null?void 0:d[0]}),accountState:bn(p2),caipNetworks:d??[],...n}),B.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){var e,n;if(Oe.activeChain===t){const r=Array.from(Oe.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&B.setActiveCaipNetwork(s)}}Oe.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){Oe.chains.set(t.namespace,{namespace:t.namespace,networkState:{...W1,caipNetwork:r[0]},accountState:p2,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),B.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=Oe.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),Oe.chains.set(t.chainNamespace,{...e,caipNetworks:r}),B.setRequestedCaipNetworks(r,t.chainNamespace),Pe.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,s,i;const n=Oe.chains.get(t);if(n){const o=((r=Oe.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((s=n.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=n==null?void 0:n.caipNetworks)!=null&&i[0])&&B.setActiveCaipNetwork(n.caipNetworks[0]),Oe.chains.set(t,{...n,caipNetworks:a}),B.setRequestedCaipNetworks(a||[],t),a.length===0&&Pe.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=Oe.chains.get(t);n&&(n.networkState={...n.networkState||W1,...e},Oe.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=Oe.chains.get(t);if(r){const s={...r.accountState||p2,...e};Oe.chains.set(t,{...r,accountState:s}),(Oe.chains.size===1||Oe.activeChain===t)&&(e.caipAddress&&(Oe.activeCaipAddress=e.caipAddress),Se.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=Oe.chains.get(t);if(n){const r={...n.networkState||W1,...e};Oe.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){B.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&Pe.removeConnectorId(n)},setActiveNamespace(t){var r,s;Oe.activeChain=t;const e=t?Oe.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(Oe.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,Oe.activeCaipNetwork=n,B.setChainNetworkData(t,{caipNetwork:n}),Te.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),rc.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,i;if(!t)return;Oe.activeChain!==t.chainNamespace&&B.setIsSwitchingNamespace(!0);const e=Oe.chains.get(t.chainNamespace);Oe.activeChain=t.chainNamespace,Oe.activeCaipNetwork=t,B.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?Oe.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:Oe.activeCaipAddress=void 0,B.setAccountProp("caipAddress",Oe.activeCaipAddress,t.chainNamespace),e&&Se.replaceState(e.accountState),jt.resetSend(),rc.set({activeChain:Oe.activeChain,selectedNetworkId:(i=Oe.activeCaipNetwork)==null?void 0:i.caipNetworkId}),Te.setActiveCaipNetworkId(t.caipNetworkId),!B.checkIfSupportedNetwork(t.chainNamespace)&&me.state.enableNetworkSwitch&&!me.state.allowUnsupportedChain&&!Le.state.wcBasic&&B.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=Oe.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==B.state.activeChain,n=(s=B.getNetworkData(t))==null?void 0:s.caipNetwork,r=B.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await B.switchActiveNetwork(r)},async switchActiveNetwork(t){var s;const e=B.state.chains.get(B.state.activeChain),n=!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(i=>{var o;return i.id===((o=Oe.activeCaipNetwork)==null?void 0:o.id)})),r=B.getNetworkControllerClient(t.chainNamespace);if(r){try{await r.switchCaipNetwork(t),n&&Wt.close()}catch{Xe.goBack()}Jt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||Oe.activeChain,n=Oe.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||Oe.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=Oe.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var s;let n=Oe.activeChain;if(e&&(n=e),!n)return;const r=(s=Oe.chains.get(n))==null?void 0:s.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=Oe.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=Oe.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return We.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return Oe.chains.forEach(e=>{const n=B.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){B.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=B.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));Pe.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return Oe.chains.forEach(e=>{const n=B.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return Oe.activeCaipNetwork},getActiveCaipAddress(){return Oe.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=Oe.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=B.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());B.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||Oe.activeCaipNetwork,r=B.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(s=>s.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!Oe.activeChain)return!0;const e=B.getRequestedCaipNetworks(Oe.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){B.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=bb.caipNetworkIdToNumber((r=Oe.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=Oe.activeChain;if(!e||!t)return!1;const n=B.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},showUnsupportedChainUI(){Wt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Oe.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Yt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){B.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");Oe.activeCaipAddress=void 0,B.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Pe.removeConnectorId(e)},setIsSwitchingNamespace(t){Oe.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(Oe.chains.forEach(s=>{ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=Oe.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=B.state.chains.get(t))==null?void 0:e.accountState:Se.state},getNetworkData(t){var n;const e=t||Oe.activeChain;if(e)return(n=B.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const n=B.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(a=>a.id===e);return r||((i=n==null?void 0:n.networkState)==null?void 0:i.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=Pe.state.filterByNamespace;return(t?[Oe.chains.get(t)]:Array.from(Oe.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?B.getRequestedCaipNetworks(t):B.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){Oe.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return Oe.lastConnectedSIWECaipNetwork}},B=Ki(Yue),Jue={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},N7=We.getBlockchainApiUrl(),Fs=bn({clientId:null,api:new Lv({baseUrl:N7,clientId:null}),supportedChains:{http:[],ws:[]}}),Je={state:Fs,async get(t){const{st:e,sv:n}=Je.getSdkProperties(),r=me.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return Fs.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=me.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Fs.supportedChains.http.length||await Je.getSupportedNetworks()}catch{return!1}return Fs.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Je.get({path:"v1/supported-chains"});return Fs.supportedChains=t,t}catch{return Fs.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Je.isNetworkSupported(e))return{avatar:"",name:""};const r=Te.getIdentityFromCacheForAddress(t);if(r)return r;const s=await Je.get({path:`/v1/identity/${t}`,params:{sender:B.state.activeCaipAddress?We.getPlainAddress(B.state.activeCaipAddress):void 0}});return Te.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:s,chainId:i}){var a;return await Je.isNetworkSupported((a=B.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?Je.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:i},signal:r,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var o;return await Je.isNetworkSupported((o=B.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Je.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Je.isNetworkSupported((n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Je.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await Je.isNetworkSupported((n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Fs.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:me.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Je.isNetworkSupported((r=B.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Je.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=Je.getSdkProperties();if(!await Je.isNetworkSupported((s=B.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return Je.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var o;if(!await Je.isNetworkSupported((o=B.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Fs.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Yt.CONVERT_SLIPPAGE_TOLERANCE},projectId:me.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:s}=Je.getSdkProperties();if(!await Je.isNetworkSupported((o=B.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Je.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var l;const{st:r,sv:s}=Je.getSdkProperties();if(!await Je.isNetworkSupported((l=B.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return ia.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=Te.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Je.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return Te.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await Je.isNetworkSupported((n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Je.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Je.isNetworkSupported((n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Je.get({path:`/v1/profile/reverse/${t}`,params:{sender:Se.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Je.isNetworkSupported((n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Je.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var i;return await Je.isNetworkSupported((i=B.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?Fs.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var a;return await Je.isNetworkSupported((a=B.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await Fs.api.post({path:"/v1/generators/onrampurl",params:{projectId:me.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await Je.isNetworkSupported((e=B.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Je.get({path:"/v1/onramp/options"})}catch{return Jue}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await Je.isNetworkSupported((s=B.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await Fs.api.post({path:"/v1/onramp/quote",params:{projectId:me.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Je.isNetworkSupported((n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Je.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await Je.isNetworkSupported((s=B.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Fs.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:me.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){Fs.clientId=t,Fs.api=new Lv({baseUrl:N7,clientId:t})}},g2={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return by(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},vR={async getMyTokensWithBalance(t){const e=Se.state.address,n=B.state.activeCaipNetwork,r=Pe.getConnectorId("eip155")===ue.CONNECTOR_ID.AUTH;if(!e||!n)return[];const s=`${n.caipNetworkId}:${e}`,i=Te.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace==="eip155"&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await Je.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){var n,r;try{const s=g2.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await Le.getCapabilities(t);if(!((r=(n=i==null?void 0:i[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await Le.walletGetAssets({account:t,chainFilter:[s]});if(!g2.isWalletGetAssetsResponse(o))return null;const c=(o[s]||[]).map(l=>g2.createBalance(l,e.caipNetworkId));return Te.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},Qi=bn({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),Zue={state:Qi,replaceState(t){t&&Object.assign(Qi,Pf(t))},subscribe(t){return B.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return B.subscribeChainProp("accountState",s=>{if(s){const i=s[t];r!==i&&(r=i,e(i))}},n)},setStatus(t,e){B.setAccountProp("status",t,e)},getCaipAddress(t){return B.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?We.getPlainAddress(t):void 0;e===B.state.activeChain&&(B.state.activeCaipAddress=t),B.setAccountProp("caipAddress",t,e),B.setAccountProp("address",n,e)},setBalance(t,e,n){B.setAccountProp("balance",t,n),B.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){B.setAccountProp("profileName",t,e)},setProfileImage(t,e){B.setAccountProp("profileImage",t,e)},setUser(t,e){B.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){B.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){B.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){B.setAccountProp("currentTab",t,B.state.activeChain)},setTokenBalance(t,e){t&&B.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){B.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){B.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=B.getAccountProp("addressLabels",n)||new Map;r.set(t,e),B.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=B.getAccountProp("addressLabels",e)||new Map;n.delete(t),B.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){B.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){B.setAccountProp("preferredAccountTypes",{...Qi.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){Qi.preferredAccountTypes=t},setSocialProvider(t,e){t&&B.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){B.setAccountProp("socialWindow",t?Pf(t):void 0,e)},setFarcasterUrl(t,e){B.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var i,o;Qi.balanceLoading=!0;const e=(i=B.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=B.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=B.state.activeCaipAddress,s=r?We.getPlainAddress(r):void 0;if(Qi.lastRetry&&!We.isAllowedRetry(Qi.lastRetry,30*Yt.ONE_SEC_MS))return Qi.balanceLoading=!1,[];try{if(s&&e&&n){const a=await vR.getMyTokensWithBalance();return Se.setTokenBalance(a,n),Qi.lastRetry=void 0,Qi.balanceLoading=!1,a}}catch(a){Qi.lastRetry=Date.now(),t==null||t(a),ia.showError("Token Balance Unavailable")}finally{Qi.balanceLoading=!1}return[]},resetAccount(t){B.resetAccount(t)}},Se=Ki(Zue),Xue={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=B.state.activeCaipNetwork,r=Xe.state.data;if(t.id===(n==null?void 0:n.id))return;const i=Se.getCaipAddress(B.state.activeChain),o=t.chainNamespace!==B.state.activeChain,a=Se.getCaipAddress(t.chainNamespace),l=Pe.getConnectorId(B.state.activeChain)===ue.CONNECTOR_ID.AUTH,u=ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?Xe.push("SwitchNetwork",{...r,network:t}):i&&o&&!a?Xe.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):Xe.push("SwitchNetwork",{...r,network:t})}},zs=bn({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),ede={state:zs,subscribe(t){return Wr(zs,()=>t(zs))},subscribeKey(t,e){return Gr(zs,t,e)},async open(t){var o,a;const e=Se.state.status==="connected",n=t==null?void 0:t.namespace,r=B.state.activeChain,s=n&&n!==r,i=(o=B.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress;if(Le.state.wcBasic?Ke.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Ke.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),Pe.setFilterByNamespace(t==null?void 0:t.namespace),Wt.setLoading(!0,n),n&&s){const c=((a=B.getNetworkData(n))==null?void 0:a.caipNetwork)||B.getRequestedCaipNetworks(n)[0];c&&Xue.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0})}else{const c=B.state.noAdapters;me.state.manualWCControl||c&&!i?We.isMobile()?Xe.reset("AllWallets"):Xe.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?Xe.reset(t.view,t.data):i?Xe.reset("Account"):Xe.reset("Connect")}zs.open=!0,rc.set({open:!0}),Jt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=me.state.enableEmbedded,e=!!B.state.activeCaipAddress;zs.open&&Jt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),zs.open=!1,Xe.reset("Connect"),Wt.clearLoading(),t?e?Xe.replace("Account"):Xe.push("Connect"):rc.set({open:!1}),Le.resetUri()},setLoading(t,e){e&&zs.loadingNamespaceMap.set(e,t),zs.loading=t,rc.set({loading:t})},clearLoading(){zs.loadingNamespaceMap.clear(),zs.loading=!1},shake(){zs.shake||(zs.shake=!0,setTimeout(()=>{zs.shake=!1},500))}},Wt=Ki(ede),aw={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},UN={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},tde={providers:A7,selectedProvider:null,error:null,purchaseCurrency:aw,paymentCurrency:UN,purchaseCurrencies:[aw],paymentCurrencies:[],quotesLoading:!1},Pt=bn(tde),nde={state:Pt,subscribe(t){return Wr(Pt,()=>t(Pt))},subscribeKey(t,e){return Gr(Pt,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=B.state.activeChain===ue.CHAIN.SOLANA?"SOL":"USDC",n=Se.state.address??"",r=new URL(t.url);r.searchParams.append("publicKey",vue),r.searchParams.append("destinationCurrencyCode",e),r.searchParams.append("walletAddress",n),r.searchParams.append("externalCustomerId",me.state.projectId),Pt.selectedProvider={...t,url:r.toString()}}else Pt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=A7.filter(r=>e.includes(r.name));Pt.providers=n}else Pt.providers=[]},setPurchaseCurrency(t){Pt.purchaseCurrency=t},setPaymentCurrency(t){Pt.paymentCurrency=t},setPurchaseAmount(t){BN.state.purchaseAmount=t},setPaymentAmount(t){BN.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Je.getOnrampOptions();Pt.purchaseCurrencies=t.purchaseCurrencies,Pt.paymentCurrencies=t.paymentCurrencies,Pt.paymentCurrency=t.paymentCurrencies[0]||UN,Pt.purchaseCurrency=t.purchaseCurrencies[0]||aw,await Ke.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Ke.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;Pt.quotesLoading=!0;try{const n=await Je.getOnrampQuote({purchaseCurrency:Pt.purchaseCurrency,paymentCurrency:Pt.paymentCurrency,amount:((t=Pt.paymentAmount)==null?void 0:t.toString())||"0",network:(e=Pt.purchaseCurrency)==null?void 0:e.symbol});return Pt.quotesLoading=!1,Pt.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return Pt.error=n.message,Pt.quotesLoading=!1,null}finally{Pt.quotesLoading=!1}},resetState(){Pt.selectedProvider=null,Pt.error=null,Pt.purchaseCurrency=aw,Pt.paymentCurrency=UN,Pt.purchaseCurrencies=[aw],Pt.paymentCurrencies=[],Pt.paymentAmount=void 0,Pt.purchaseAmount=void 0,Pt.quotesLoading=!1}},BN=Ki(nde),R8=2147483648,rde={convertEVMChainIdToCoinType(t){if(t>=R8)throw new Error("Invalid chainId");return(R8|t)>>>0}},Yi=bn({suggestions:[],loading:!1}),sde={state:Yi,subscribe(t){return Wr(Yi,()=>t(Yi))},subscribeKey(t,e){return Gr(Yi,t,e)},async resolveName(t){var e,n;try{return await Je.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Je.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Yi.loading=!0,Yi.suggestions=[];const e=await Je.getEnsNameSuggestions(t);return Yi.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],Yi.suggestions}catch(e){const n=cw.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{Yi.loading=!1}},async getNamesForAddress(t){try{if(!B.state.activeCaipNetwork)return[];const n=Te.getEnsFromCacheForAddress(t);if(n)return n;const r=await Je.reverseLookupEnsName({address:t});return Te.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=cw.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=B.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=Se.state.address,r=Pe.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");Yi.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Xe.pushTransactionStack({onCancel(){Xe.replace("RegisterAccountName")}});const i=await Le.signMessage(s);Yi.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=rde.convertEVMChainIdToCoinType(Number(o));await Je.registerEnsName({coinType:a,address:n,signature:i,message:s}),Se.setProfileName(t,e.chainNamespace),Xe.replace("RegisterAccountNameSuccess")}catch(s){const i=cw.parseEnsApiError(s,`Error registering name ${t}`);throw Xe.replace("RegisterAccountName"),new Error(i)}finally{Yi.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},cw=Ki(sde);var ER={exports:{}},Ng=typeof Reflect=="object"?Reflect:null,D8=Ng&&typeof Ng.apply=="function"?Ng.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},QE;Ng&&typeof Ng.ownKeys=="function"?QE=Ng.ownKeys:Object.getOwnPropertySymbols?QE=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:QE=function(e){return Object.getOwnPropertyNames(e)};function ide(t){console&&console.warn&&console.warn(t)}var P7=Number.isNaN||function(e){return e!==e};function ln(){ln.init.call(this)}ER.exports=ln;ER.exports.once=lde;ln.EventEmitter=ln;ln.prototype._events=void 0;ln.prototype._eventsCount=0;ln.prototype._maxListeners=void 0;var $8=10;function qC(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ln,"defaultMaxListeners",{enumerable:!0,get:function(){return $8},set:function(t){if(typeof t!="number"||t<0||P7(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");$8=t}});ln.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ln.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||P7(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function k7(t){return t._maxListeners===void 0?ln.defaultMaxListeners:t._maxListeners}ln.prototype.getMaxListeners=function(){return k7(this)};ln.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")D8(c,this,n);else for(var l=c.length,u=U7(c,l),r=0;r<l;++r)D8(u[r],this,n);return!0};function O7(t,e,n,r){var s,i,o;if(qC(n),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]),o===void 0)o=i[e]=n,++t._eventsCount;else if(typeof o=="function"?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=k7(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,ide(a)}return t}ln.prototype.addListener=function(e,n){return O7(this,e,n,!1)};ln.prototype.on=ln.prototype.addListener;ln.prototype.prependListener=function(e,n){return O7(this,e,n,!0)};function ode(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function R7(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=ode.bind(r);return s.listener=n,r.wrapFn=s,s}ln.prototype.once=function(e,n){return qC(n),this.on(e,R7(this,e,n)),this};ln.prototype.prependOnceListener=function(e,n){return qC(n),this.prependListener(e,R7(this,e,n)),this};ln.prototype.removeListener=function(e,n){var r,s,i,o,a;if(qC(n),s=this._events,s===void 0)return this;if(r=s[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():ade(r,i),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};ln.prototype.off=ln.prototype.removeListener;ln.prototype.removeAllListeners=function(e){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(e,n[s]);return this};function D7(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?cde(s):U7(s,s.length)}ln.prototype.listeners=function(e){return D7(this,e,!0)};ln.prototype.rawListeners=function(e){return D7(this,e,!1)};ln.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):$7.call(t,e)};ln.prototype.listenerCount=$7;function $7(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}ln.prototype.eventNames=function(){return this._eventsCount>0?QE(this._events):[]};function U7(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function ade(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function cde(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function lde(t,e){return new Promise(function(n,r){function s(o){t.removeListener(e,i),r(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}B7(t,e,i,{once:!0}),e!=="error"&&ude(t,s,{once:!0})})}function ude(t,e,n){typeof t.on=="function"&&B7(t,"error",e,n)}function B7(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){r.once&&t.removeEventListener(e,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Co=ER.exports;const xR=qf(Co);var _e={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var LN=function(t,e){return LN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},LN(t,e)};function dde(t,e){LN(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var MN=function(){return MN=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},MN.apply(this,arguments)};function hde(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function fde(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function pde(t,e){return function(n,r){e(n,r,t)}}function gde(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function mde(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function yde(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function wde(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function bde(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function jN(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L7(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function vde(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(L7(arguments[e]));return t}function Ede(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function Eb(t){return this instanceof Eb?(this.v=t,this):new Eb(t)}function xde(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof Eb?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function _de(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Eb(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function Cde(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof jN=="function"?jN(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function Ade(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Sde(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Ide(t){return t&&t.__esModule?t:{default:t}}function Tde(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Nde(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Pde=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return MN},__asyncDelegator:_de,__asyncGenerator:xde,__asyncValues:Cde,__await:Eb,__awaiter:mde,__classPrivateFieldGet:Tde,__classPrivateFieldSet:Nde,__createBinding:wde,__decorate:fde,__exportStar:bde,__extends:dde,__generator:yde,__importDefault:Ide,__importStar:Sde,__makeTemplateObject:Ade,__metadata:gde,__param:pde,__read:L7,__rest:hde,__spread:vde,__spreadArrays:Ede,__values:jN},Symbol.toStringTag,{value:"Module"})),VC=X_(Pde);var m2={},i0={},U8;function kde(){if(U8)return i0;U8=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return i0.delay=t,i0}var Gd={},y2={},qd={},B8;function Ode(){return B8||(B8=1,Object.defineProperty(qd,"__esModule",{value:!0}),qd.ONE_THOUSAND=qd.ONE_HUNDRED=void 0,qd.ONE_HUNDRED=100,qd.ONE_THOUSAND=1e3),qd}var w2={},L8;function Rde(){return L8||(L8=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(w2)),w2}var M8;function M7(){return M8||(M8=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=VC;e.__exportStar(Ode(),t),e.__exportStar(Rde(),t)}(y2)),y2}var j8;function Dde(){if(j8)return Gd;j8=1,Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.fromMiliseconds=Gd.toMiliseconds=void 0;const t=M7();function e(r){return r*t.ONE_THOUSAND}Gd.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Gd.fromMiliseconds=n,Gd}var F8;function $de(){return F8||(F8=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=VC;e.__exportStar(kde(),t),e.__exportStar(Dde(),t)}(m2)),m2}var wp={},z8;function Ude(){if(z8)return wp;z8=1,Object.defineProperty(wp,"__esModule",{value:!0}),wp.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return wp.Watch=t,wp.default=t,wp}var b2={},o0={},H8;function Bde(){if(H8)return o0;H8=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.IWatch=void 0;class t{}return o0.IWatch=t,o0}var W8;function Lde(){return W8||(W8=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),VC.__exportStar(Bde(),t)}(b2)),b2}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=VC;e.__exportStar($de(),t),e.__exportStar(Ude(),t),e.__exportStar(Lde(),t),e.__exportStar(M7(),t)})(_e);class ep{}let Mde=class extends ep{constructor(e){super()}};const G8=_e.FIVE_SECONDS,tp={pulse:"heartbeat_pulse"};let jde=class j7 extends Mde{constructor(e){super(e),this.events=new Co.EventEmitter,this.interval=G8,this.interval=(e==null?void 0:e.interval)||G8}static async init(e){const n=new j7(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),_e.toMiliseconds(this.interval))}pulse(){this.events.emit(tp.pulse)}};const Fde=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,zde=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Hde=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Wde(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Gde(t);return}return e}function Gde(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function G1(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Hde.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Fde.test(t)||zde.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Wde)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function qde(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function gr(t,...e){try{return qde(t(...e))}catch(n){return Promise.reject(n)}}function Vde(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Kde(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function YE(t){if(Vde(t))return String(t);if(Kde(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return YE(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const FN="base64:";function Qde(t){return typeof t=="string"?t:FN+Zde(t)}function Yde(t){return typeof t!="string"||!t.startsWith(FN)?t:Jde(t.slice(FN.length))}function Jde(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function Zde(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Ks(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function Xde(...t){return Ks(t.join(":"))}function q1(t){return t=Ks(t),t?t+":":""}function ehe(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function the(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const nhe="memory",rhe=()=>{const t=new Map;return{name:nhe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function she(t={}){const e={mounts:{"":t.driver||rhe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),s=(l,u)=>{if(e.watching){u=Ks(u);for(const d of e.watchListeners)d(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await q8(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=p=>{let g=h.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},h.set(p.base,g)),g};for(const p of l){const g=typeof p=="string",y=Ks(g?p:p.key),w=g?void 0:p.value,v=g||!p.options?u:{...u,...p.options},b=n(y);f(b).items.push({key:y,value:w,relativeKey:b.relativeKey,options:v})}return Promise.all([...h.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=Ks(l);const{relativeKey:d,driver:h}=n(l);return gr(h.hasItem,d,u)},getItem(l,u={}){l=Ks(l);const{relativeKey:d,driver:h}=n(l);return gr(h.getItem,d,u).then(f=>G1(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?gr(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:Xde(d.base,f.key),value:G1(f.value)}))):Promise.all(d.items.map(h=>gr(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:G1(f)})))))},getItemRaw(l,u={}){l=Ks(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?gr(h.getItemRaw,d,u):gr(h.getItem,d,u).then(f=>Yde(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=Ks(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await gr(f.setItem,h,YE(u),d),f.watch||s("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return gr(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:YE(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>gr(d.driver.setItem,h.relativeKey,YE(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=Ks(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await gr(f.setItemRaw,h,u,d);else if(f.setItem)await gr(f.setItem,h,Qde(u),d);else return;f.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=Ks(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await gr(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await gr(h.removeItem,d+"$",u),h.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=Ks(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await gr(h.getMeta,d,u)),!u.nativeOnly){const p=await gr(h.getItem,d+"$",u).then(g=>G1(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var y;l=q1(l);const d=r(l,!0);let h=[];const f=[];let p=!0;for(const w of d){(y=w.driver.flags)!=null&&y.maxDepth||(p=!1);const v=await gr(w.driver.getKeys,w.relativeBase,u);for(const b of v){const _=w.mountpoint+Ks(b);h.some(x=>_.startsWith(x))||f.push(_)}h=[w.mountpoint,...h.filter(b=>!b.startsWith(w.mountpoint))]}const g=u.maxDepth!==void 0&&!p;return f.filter(w=>(!g||ehe(w,u.maxDepth))&&the(w,l))},async clear(l,u={}){l=q1(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return gr(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>V8(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=q1(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(q8(u,s,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,h;l=q1(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(d=e.unwatch)[l])==null||h.call(d),delete e.unwatch[l]),u&&await V8(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=Ks(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=Ks(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function q8(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function V8(t){typeof t.dispose=="function"&&await gr(t.dispose)}function np(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function F7(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=np(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(e,s).objectStore(e)))}let v2;function Mv(){return v2||(v2=F7("keyval-store","keyval")),v2}function K8(t,e=Mv()){return e("readonly",n=>np(n.get(t)))}function ihe(t,e,n=Mv()){return n("readwrite",r=>(r.put(e,t),np(r.transaction)))}function ohe(t,e=Mv()){return e("readwrite",n=>(n.delete(t),np(n.transaction)))}function ahe(t=Mv()){return t("readwrite",e=>(e.clear(),np(e.transaction)))}function che(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},np(t.transaction)}function lhe(t=Mv()){return t("readonly",e=>{if(e.getAllKeys)return np(e.getAllKeys());const n=[];return che(e,r=>n.push(r.key)).then(()=>n)})}const uhe=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),dhe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Of(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return dhe(t)}catch{return t}}function wl(t){return typeof t=="string"?t:uhe(t)||""}const hhe="idb-keyval";var fhe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=F7(t.dbName,t.storeName)),{name:hhe,options:t,async hasItem(s){return!(typeof await K8(n(s),r)>"u")},async getItem(s){return await K8(n(s),r)??null},setItem(s,i){return ihe(n(s),i,r)},removeItem(s){return ohe(n(s),r)},getKeys(){return lhe(r)},clear(){return ahe(r)}}};const phe="WALLET_CONNECT_V2_INDEXED_DB",ghe="keyvaluestorage";let mhe=class{constructor(){this.indexedDb=she({driver:fhe({dbName:phe,storeName:ghe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,wl(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var E2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},JE={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof E2<"u"&&E2.localStorage?JE.exports=E2.localStorage:typeof window<"u"&&window.localStorage?JE.exports=window.localStorage:JE.exports=new e})();function yhe(t){var e;return[t[0],Of((e=t[1])!=null?e:"")]}let whe=class{constructor(){this.localStorage=JE.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(yhe)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Of(n)}async setItem(e,n){this.localStorage.setItem(e,wl(n))}async removeItem(e){this.localStorage.removeItem(e)}};const bhe="wc_storage_version",Q8=1,vhe=async(t,e,n)=>{const r=bhe,s=await e.getItem(r);if(s&&s>=Q8){n(e);return}const i=await t.getKeys();if(!i.length){n(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,Q8),n(e),Ehe(t,o)},Ehe=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let xhe=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new whe;this.storage=e;try{const n=new mhe;vhe(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function _he(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var Che=Ahe;function Ahe(t,e,n){var r=n&&n.stringify||_he,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var o=new Array(i);o[0]=r(t);for(var a=1;a<i;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-s,d=-1,h=t&&t.length||0,f=0;f<h;){if(t.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Number(e[u]),d=f+2,f++;break;case 105:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Math.floor(Number(e[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<f&&(l+=t.slice(d,f));var p=typeof e[u];if(p==="string"){l+="'"+e[u]+"'",d=f+2,f++;break}if(p==="function"){l+=e[u].name||"<anonymous>",d=f+2,f++;break}l+=r(e[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=t.slice(d,f)),l+=String(e[u]),d=f+2,f++;break;case 37:d<f&&(l+=t.slice(d,f)),l+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?t:(d<h&&(l+=t.slice(d)),l)}const Y8=Che;var Gp=sc;const xb=$he().console||{},She={mapHttpRequest:V1,mapHttpResponse:V1,wrapRequestSerializer:x2,wrapResponseSerializer:x2,wrapErrorSerializer:x2,req:V1,res:V1,err:khe};function Ihe(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function sc(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||xb;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},s=Ihe(t.browser.serialize,r);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=_b),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:s,asObject:t.browser.asObject,levels:o,timestamp:Ohe(t)};c.levels=sc.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=_b,c.serializers=r,c._serialize=s,c._stdErrSerialize=i,c.child=f,e&&(c._logEvent=zN());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,bp(l,c,"error","log"),bp(l,c,"fatal","error"),bp(l,c,"warn","error"),bp(l,c,"info","log"),bp(l,c,"debug","log"),bp(l,c,"trace","log")}function f(p,g){if(!p)throw new Error("missing bindings for child Pino");g=g||{},s&&p.serializers&&(g.serializers=p.serializers);const y=g.serializers;if(s&&y){var w=Object.assign({},r,y),v=t.browser.serialize===!0?Object.keys(w):s;delete p.serializers,KC([p],v,w,this._stdErrSerialize)}function b(_){this._childLevel=(_._childLevel|0)+1,this.error=vp(_,p,"error"),this.fatal=vp(_,p,"fatal"),this.warn=vp(_,p,"warn"),this.info=vp(_,p,"info"),this.debug=vp(_,p,"debug"),this.trace=vp(_,p,"trace"),w&&(this.serializers=w,this._serialize=v),e&&(this._logEvent=zN([].concat(_._logEvent.bindings,p)))}return b.prototype=this,new b(this)}return c}sc.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};sc.stdSerializers=She;sc.stdTimeFunctions=Object.assign({},{nullTime:z7,epochTime:H7,unixTime:Rhe,isoTime:Dhe});function bp(t,e,n,r){const s=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?_b:s[n]?s[n]:xb[n]||xb[r]||_b,The(t,e,n)}function The(t,e,n){!t.transmit&&e[n]===_b||(e[n]=function(r){return function(){const i=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===xb?xb:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&KC(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,Nhe(this,n,o,i)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=sc.levels.values[l],d=sc.levels.values[n];if(d<u)return;Phe(this,{ts:i,methodLevel:n,methodValue:d,transmitValue:sc.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function Nhe(t,e,n,r){t._serialize&&KC(n,t._serialize,t.serializers,t._stdErrSerialize);const s=n.slice();let i=s[0];const o={};r&&(o.time=r),o.level=sc.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),i!==null&&typeof i=="object"){for(;a--&&typeof s[0]=="object";)Object.assign(o,s.shift());i=s.length?Y8(s.shift(),s):void 0}else typeof i=="string"&&(i=Y8(s.shift(),s));return i!==void 0&&(o.msg=i),o}function KC(t,e,n,r){for(const s in t)if(r&&t[s]instanceof Error)t[s]=sc.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in n&&(t[s][i]=n[i](t[s][i]))}function vp(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var s=1;s<r.length;s++)r[s]=arguments[s-1];return t[n].apply(this,r)}}function Phe(t,e,n){const r=e.send,s=e.ts,i=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;KC(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=o,r(i,t._logEvent,a),t._logEvent=zN(c)}function zN(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function khe(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function Ohe(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?z7:H7}function V1(){return{}}function x2(t){return t}function _b(){}function z7(){return!1}function H7(){return Date.now()}function Rhe(){return Math.round(Date.now()/1e3)}function Dhe(){return new Date(Date.now()).toISOString()}function $he(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const jv=qf(Gp),Uhe={level:"info"},Fv="custom_context",_R=1e3*1024;let Bhe=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},J8=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new Bhe(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},W7=class{constructor(e,n=_R){this.level=e??"error",this.levelValue=Gp.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new J8(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Gp.levels.values.error?console.error(e):n===Gp.levels.values.warn?console.warn(e):n===Gp.levels.values.debug?console.debug(e):n===Gp.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(wl({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new J8(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(wl({extraMetadata:e})),new Blob(n,{type:"application/json"})}},Lhe=class{constructor(e,n=_R){this.baseChunkLogger=new W7(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},Mhe=class{constructor(e,n=_R){this.baseChunkLogger=new W7(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var jhe=Object.defineProperty,Fhe=Object.defineProperties,zhe=Object.getOwnPropertyDescriptors,Z8=Object.getOwnPropertySymbols,Hhe=Object.prototype.hasOwnProperty,Whe=Object.prototype.propertyIsEnumerable,X8=(t,e,n)=>e in t?jhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,s_=(t,e)=>{for(var n in e||(e={}))Hhe.call(e,n)&&X8(t,n,e[n]);if(Z8)for(var n of Z8(e))Whe.call(e,n)&&X8(t,n,e[n]);return t},i_=(t,e)=>Fhe(t,zhe(e));function Cy(t){return i_(s_({},t),{level:(t==null?void 0:t.level)||Uhe.level})}function Ghe(t,e=Fv){return t[e]||""}function qhe(t,e,n=Fv){return t[n]=e,t}function wi(t,e=Fv){let n="";return typeof t.bindings>"u"?n=Ghe(t,e):n=t.bindings().context||"",n}function Vhe(t,e,n=Fv){const r=wi(t,n);return r.trim()?`${r}/${e}`:e}function ps(t,e,n=Fv){const r=Vhe(t,e,n),s=t.child({context:r});return qhe(s,r,n)}function Khe(t){var e,n;const r=new Lhe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:jv(i_(s_({},t.opts),{level:"trace",browser:i_(s_({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function Qhe(t){var e;const n=new Mhe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:jv(i_(s_({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function CR(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Khe(t):Qhe(t)}var Yhe=Object.defineProperty,Jhe=(t,e,n)=>e in t?Yhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,e5=(t,e,n)=>Jhe(t,typeof e!="symbol"?e+"":e,n);let Zhe=class extends ep{constructor(e){super(),this.opts=e,e5(this,"protocol","wc"),e5(this,"version",2)}};var Xhe=Object.defineProperty,efe=(t,e,n)=>e in t?Xhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tfe=(t,e,n)=>efe(t,e+"",n);let nfe=class extends ep{constructor(e,n){super(),this.core=e,this.logger=n,tfe(this,"records",new Map)}},rfe=class{constructor(e,n){this.logger=e,this.core=n}},sfe=class extends ep{constructor(e,n){super(),this.relayer=e,this.logger=n}},ife=class extends ep{constructor(e){super()}},ofe=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},afe=class extends ep{constructor(e,n){super(),this.relayer=e,this.logger=n}},cfe=class extends ep{constructor(e,n){super(),this.core=e,this.logger=n}},lfe=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},ufe=class{constructor(e,n){this.projectId=e,this.logger=n}},dfe=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var hfe=Object.defineProperty,ffe=(t,e,n)=>e in t?hfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,t5=(t,e,n)=>ffe(t,typeof e!="symbol"?e+"":e,n);let pfe=class{constructor(e){this.opts=e,t5(this,"protocol","wc"),t5(this,"version",2)}},gfe=class{constructor(e){this.client=e}};function mfe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function G7(t,...e){if(!mfe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function n5(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function yfe(t,e){G7(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Ep=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _2=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function wfe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function q7(t){return typeof t=="string"&&(t=wfe(t)),G7(t),t}let bfe=class{clone(){return this._cloneInto()}};function vfe(t){const e=r=>t().update(q7(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function V7(t=32){if(Ep&&typeof Ep.getRandomValues=="function")return Ep.getRandomValues(new Uint8Array(t));if(Ep&&typeof Ep.randomBytes=="function")return Ep.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function Efe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let xfe=class extends bfe{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_2(this.buffer)}update(e){n5(this);const{view:n,buffer:r,blockLen:s}=this;e=q7(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=_2(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){n5(this),yfe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Efe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=_2(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const K1=BigInt(2**32-1),HN=BigInt(32);function K7(t,e=!1){return e?{h:Number(t&K1),l:Number(t>>HN&K1)}:{h:Number(t>>HN&K1)|0,l:Number(t&K1)|0}}function _fe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=K7(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const Cfe=(t,e)=>BigInt(t>>>0)<<HN|BigInt(e>>>0),Afe=(t,e,n)=>t>>>n,Sfe=(t,e,n)=>t<<32-n|e>>>n,Ife=(t,e,n)=>t>>>n|e<<32-n,Tfe=(t,e,n)=>t<<32-n|e>>>n,Nfe=(t,e,n)=>t<<64-n|e>>>n-32,Pfe=(t,e,n)=>t>>>n-32|e<<64-n,kfe=(t,e)=>e,Ofe=(t,e)=>t,Rfe=(t,e,n)=>t<<n|e>>>32-n,Dfe=(t,e,n)=>e<<n|t>>>32-n,$fe=(t,e,n)=>e<<n-32|t>>>64-n,Ufe=(t,e,n)=>t<<n-32|e>>>64-n;function Bfe(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const Lfe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Mfe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,jfe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Ffe=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,zfe=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Hfe=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,pt={fromBig:K7,split:_fe,toBig:Cfe,shrSH:Afe,shrSL:Sfe,rotrSH:Ife,rotrSL:Tfe,rotrBH:Nfe,rotrBL:Pfe,rotr32H:kfe,rotr32L:Ofe,rotlSH:Rfe,rotlSL:Dfe,rotlBH:$fe,rotlBL:Ufe,add:Bfe,add3L:Lfe,add3H:Mfe,add4L:jfe,add4H:Ffe,add5H:Hfe,add5L:zfe},[Wfe,Gfe]=pt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ul=new Uint32Array(80),Bl=new Uint32Array(80);let qfe=class extends xfe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)Ul[b]=e.getUint32(n),Bl[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const _=Ul[b-15]|0,x=Bl[b-15]|0,C=pt.rotrSH(_,x,1)^pt.rotrSH(_,x,8)^pt.shrSH(_,x,7),S=pt.rotrSL(_,x,1)^pt.rotrSL(_,x,8)^pt.shrSL(_,x,7),N=Ul[b-2]|0,A=Bl[b-2]|0,P=pt.rotrSH(N,A,19)^pt.rotrBH(N,A,61)^pt.shrSH(N,A,6),D=pt.rotrSL(N,A,19)^pt.rotrBL(N,A,61)^pt.shrSL(N,A,6),j=pt.add4L(S,D,Bl[b-7],Bl[b-16]),H=pt.add4H(j,C,P,Ul[b-7],Ul[b-16]);Ul[b]=H|0,Bl[b]=j|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const _=pt.rotrSH(d,h,14)^pt.rotrSH(d,h,18)^pt.rotrBH(d,h,41),x=pt.rotrSL(d,h,14)^pt.rotrSL(d,h,18)^pt.rotrBL(d,h,41),C=d&f^~d&g,S=h&p^~h&y,N=pt.add5L(v,x,S,Gfe[b],Bl[b]),A=pt.add5H(N,w,_,C,Wfe[b],Ul[b]),P=N|0,D=pt.rotrSH(r,s,28)^pt.rotrBH(r,s,34)^pt.rotrBH(r,s,39),j=pt.rotrSL(r,s,28)^pt.rotrBL(r,s,34)^pt.rotrBL(r,s,39),H=r&i^r&a^i&a,K=s&o^s&c^o&c;w=g|0,v=y|0,g=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=pt.add(l|0,u|0,A|0,P|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const I=pt.add3L(P,j,K);r=pt.add3H(I,A,D,H),s=I|0}({h:r,l:s}=pt.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=pt.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=pt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=pt.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=pt.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=pt.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:y}=pt.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=pt.add(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,y,w,v)}roundClean(){Ul.fill(0),Bl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Vfe=vfe(()=>new qfe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const AR=BigInt(0),Q7=BigInt(1),Kfe=BigInt(2);function SR(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function IR(t){if(!SR(t))throw new Error("Uint8Array expected")}function C2(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Qfe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function TR(t){IR(t);let e="";for(let n=0;n<t.length;n++)e+=Qfe[t[n]];return e}function Y7(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?AR:BigInt("0x"+t)}const wc={_0:48,_9:57,A:65,F:70,a:97,f:102};function r5(t){if(t>=wc._0&&t<=wc._9)return t-wc._0;if(t>=wc.A&&t<=wc.F)return t-(wc.A-10);if(t>=wc.a&&t<=wc.f)return t-(wc.a-10)}function J7(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=r5(t.charCodeAt(i)),a=r5(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Yfe(t){return Y7(TR(t))}function ZE(t){return IR(t),Y7(TR(Uint8Array.from(t).reverse()))}function Z7(t,e){return J7(t.toString(16).padStart(e*2,"0"))}function WN(t,e){return Z7(t,e).reverse()}function bc(t,e,n){let r;if(typeof e=="string")try{r=J7(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(SR(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function s5(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];IR(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const A2=t=>typeof t=="bigint"&&AR<=t;function Jfe(t,e,n){return A2(t)&&A2(e)&&A2(n)&&e<=t&&t<n}function a0(t,e,n,r){if(!Jfe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Zfe(t){let e;for(e=0;t>AR;t>>=Q7,e+=1);return e}const Xfe=t=>(Kfe<<BigInt(t-1))-Q7,epe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||SR(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function NR(t,e,n={}){const r=(s,i,o)=>{const a=epe[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function i5(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const xr=BigInt(0),Vn=BigInt(1),ah=BigInt(2),tpe=BigInt(3),GN=BigInt(4),o5=BigInt(5),a5=BigInt(8);function cr(t,e){const n=t%e;return n>=xr?n:e+n}function npe(t,e,n){if(e<xr)throw new Error("invalid exponent, negatives unsupported");if(n<=xr)throw new Error("invalid modulus");if(n===Vn)return xr;let r=Vn;for(;e>xr;)e&Vn&&(r=r*t%n),t=t*t%n,e>>=Vn;return r}function Ca(t,e,n){let r=t;for(;e-- >xr;)r*=r,r%=n;return r}function c5(t,e){if(t===xr)throw new Error("invert: expected non-zero number");if(e<=xr)throw new Error("invert: expected positive modulus, got "+e);let n=cr(t,e),r=e,s=xr,i=Vn;for(;n!==xr;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==Vn)throw new Error("invert: does not exist");return cr(s,e)}function rpe(t){const e=(t-Vn)/ah;let n,r,s;for(n=t-Vn,r=0;n%ah===xr;n/=ah,r++);for(s=ah;s<t&&npe(s,e,t)!==t-Vn;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Vn)/GN;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+Vn)/ah;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(d);h<c&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const f=o.pow(l,Vn<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function spe(t){if(t%GN===tpe){const e=(t+Vn)/GN;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%a5===o5){const e=(t-o5)/a5;return function(n,r){const s=n.mul(r,ah),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,ah),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return rpe(t)}const ipe=(t,e)=>(cr(t,e)&Vn)===Vn,ope=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ape(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=ope.reduce((r,s)=>(r[s]="function",r),e);return NR(t,n)}function cpe(t,e,n){if(n<xr)throw new Error("invalid exponent, negatives unsupported");if(n===xr)return t.ONE;if(n===Vn)return e;let r=t.ONE,s=e;for(;n>xr;)n&Vn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Vn;return r}function lpe(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function X7(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ez(t,e,n=!1,r={}){if(t<=xr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=X7(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:Xfe(s),ZERO:xr,ONE:Vn,create:c=>cr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return xr<=c&&c<t},is0:c=>c===xr,isOdd:c=>(c&Vn)===Vn,neg:c=>cr(-c,t),eql:(c,l)=>c===l,sqr:c=>cr(c*c,t),add:(c,l)=>cr(c+l,t),sub:(c,l)=>cr(c-l,t),mul:(c,l)=>cr(c*l,t),pow:(c,l)=>cpe(a,c,l),div:(c,l)=>cr(c*c5(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>c5(c,t),sqrt:r.sqrt||(c=>(o||(o=spe(t)),o(a,c))),invertBatch:c=>lpe(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?WN(c,i):Z7(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?ZE(c):Yfe(c)}});return Object.freeze(a)}const l5=BigInt(0),Q1=BigInt(1);function S2(t,e){const n=e.negate();return t?n:e}function tz(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function I2(t,e){tz(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function upe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function dpe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const T2=new WeakMap,nz=new WeakMap;function N2(t){return nz.get(t)||1}function hpe(t,e){return{constTimeNegate:S2,hasPrecomputes(n){return N2(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>l5;)r&Q1&&(s=s.add(i)),i=i.double(),r>>=Q1;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=I2(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=I2(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<i;h++){const f=h*o;let p=Number(s&l);s>>=d,p>o&&(p-=u,s+=Q1);const g=f,y=f+Math.abs(p)-1,w=h%2!==0,v=p<0;p===0?c=c.add(S2(w,r[g])):a=a.add(S2(v,r[y]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=I2(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(s===l5)break;let f=Number(s&c);if(s>>=u,f>a&&(f-=l,s+=Q1),f===0)continue;let p=r[h+Math.abs(f)-1];f<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(n,r,s){let i=T2.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&T2.set(r,s(i))),i},wNAFCached(n,r,s){const i=N2(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=N2(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){tz(r,e),nz.set(n,r),T2.delete(n)}}}function fpe(t,e,n,r){if(upe(n,t),dpe(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=Zfe(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let f=0;f<r.length;f++){const p=r[f],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[f])}let h=s;for(let f=c.length-1,p=s;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function ppe(t){return ape(t.Fp),NR(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...X7(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const ko=BigInt(0),Hs=BigInt(1),Y1=BigInt(2),gpe=BigInt(8),mpe={zip215:!0};function ype(t){const e=ppe(t);return NR(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function wpe(t){const e=ype(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=Y1<<BigInt(a*8)-Hs,u=n.create,d=ez(e.n,e.nBitLength),h=e.uvRatio||((I,T)=>{try{return{isValid:!0,value:n.sqrt(I*n.inv(T))}}catch{return{isValid:!1,value:ko}}}),f=e.adjustScalarBytes||(I=>I),p=e.domain||((I,T,L)=>{if(C2("phflag",L),T.length||L)throw new Error("Contexts/pre-hash are not supported");return I});function g(I,T){a0("coordinate "+I,T,ko,l)}function y(I){if(!(I instanceof b))throw new Error("ExtendedPoint expected")}const w=i5((I,T)=>{const{ex:L,ey:U,ez:$}=I,M=I.is0();T==null&&(T=M?gpe:n.inv($));const q=u(L*T),ee=u(U*T),ce=u($*T);if(M)return{x:ko,y:Hs};if(ce!==Hs)throw new Error("invZ was invalid");return{x:q,y:ee}}),v=i5(I=>{const{a:T,d:L}=e;if(I.is0())throw new Error("bad point: ZERO");const{ex:U,ey:$,ez:M,et:q}=I,ee=u(U*U),ce=u($*$),se=u(M*M),ae=u(se*se),Ee=u(ee*T),J=u(se*u(Ee+ce)),re=u(ae+u(L*u(ee*ce)));if(J!==re)throw new Error("bad point: equation left != right (1)");const de=u(U*$),ie=u(M*q);if(de!==ie)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(T,L,U,$){this.ex=T,this.ey=L,this.ez=U,this.et=$,g("x",T),g("y",L),g("z",U),g("t",$),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(T){if(T instanceof b)throw new Error("extended point not allowed");const{x:L,y:U}=T||{};return g("x",L),g("y",U),new b(L,U,Hs,u(L*U))}static normalizeZ(T){const L=n.invertBatch(T.map(U=>U.ez));return T.map((U,$)=>U.toAffine(L[$])).map(b.fromAffine)}static msm(T,L){return fpe(b,d,T,L)}_setWindowSize(T){C.setWindowSize(this,T)}assertValidity(){v(this)}equals(T){y(T);const{ex:L,ey:U,ez:$}=this,{ex:M,ey:q,ez:ee}=T,ce=u(L*ee),se=u(M*$),ae=u(U*ee),Ee=u(q*$);return ce===se&&ae===Ee}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:T}=e,{ex:L,ey:U,ez:$}=this,M=u(L*L),q=u(U*U),ee=u(Y1*u($*$)),ce=u(T*M),se=L+U,ae=u(u(se*se)-M-q),Ee=ce+q,J=Ee-ee,re=ce-q,de=u(ae*J),ie=u(Ee*re),ye=u(ae*re),De=u(J*Ee);return new b(de,ie,De,ye)}add(T){y(T);const{a:L,d:U}=e,{ex:$,ey:M,ez:q,et:ee}=this,{ex:ce,ey:se,ez:ae,et:Ee}=T;if(L===BigInt(-1)){const tn=u((M-$)*(se+ce)),It=u((M+$)*(se-ce)),An=u(It-tn);if(An===ko)return this.double();const Ir=u(q*Y1*Ee),bi=u(ee*Y1*ae),Hn=bi+Ir,Yn=It+tn,Qr=bi-Ir,Io=u(Hn*An),Fd=u(Yn*Qr),To=u(Hn*Qr),lp=u(An*Yn);return new b(Io,Fd,lp,To)}const J=u($*ce),re=u(M*se),de=u(ee*U*Ee),ie=u(q*ae),ye=u(($+M)*(ce+se)-J-re),De=ie-de,Ie=ie+de,ve=u(re-L*J),Ge=u(ye*De),nt=u(Ie*ve),ot=u(ye*ve),hn=u(De*Ie);return new b(Ge,nt,hn,ot)}subtract(T){return this.add(T.negate())}wNAF(T){return C.wNAFCached(this,T,b.normalizeZ)}multiply(T){const L=T;a0("scalar",L,Hs,r);const{p:U,f:$}=this.wNAF(L);return b.normalizeZ([U,$])[0]}multiplyUnsafe(T,L=b.ZERO){const U=T;return a0("scalar",U,ko,r),U===ko?x:this.is0()||U===Hs?this:C.wNAFCachedUnsafe(this,U,b.normalizeZ,L)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return C.unsafeLadder(this,r).is0()}toAffine(T){return w(this,T)}clearCofactor(){const{h:T}=e;return T===Hs?this:this.multiplyUnsafe(T)}static fromHex(T,L=!1){const{d:U,a:$}=e,M=n.BYTES;T=bc("pointHex",T,M),C2("zip215",L);const q=T.slice(),ee=T[M-1];q[M-1]=ee&-129;const ce=ZE(q),se=L?l:n.ORDER;a0("pointHex.y",ce,ko,se);const ae=u(ce*ce),Ee=u(ae-Hs),J=u(U*ae-$);let{isValid:re,value:de}=h(Ee,J);if(!re)throw new Error("Point.fromHex: invalid y coordinate");const ie=(de&Hs)===Hs,ye=(ee&128)!==0;if(!L&&de===ko&&ye)throw new Error("Point.fromHex: x=0 and x_0=1");return ye!==ie&&(de=u(-de)),b.fromAffine({x:de,y:ce})}static fromPrivateKey(T){return A(T).point}toRawBytes(){const{x:T,y:L}=this.toAffine(),U=WN(L,n.BYTES);return U[U.length-1]|=T&Hs?128:0,U}toHex(){return TR(this.toRawBytes())}}b.BASE=new b(e.Gx,e.Gy,Hs,u(e.Gx*e.Gy)),b.ZERO=new b(ko,Hs,Hs,ko);const{BASE:_,ZERO:x}=b,C=hpe(b,a*8);function S(I){return cr(I,r)}function N(I){return S(ZE(I))}function A(I){const T=n.BYTES;I=bc("private key",I,T);const L=bc("hashed private key",i(I),2*T),U=f(L.slice(0,T)),$=L.slice(T,2*T),M=N(U),q=_.multiply(M),ee=q.toRawBytes();return{head:U,prefix:$,scalar:M,point:q,pointBytes:ee}}function P(I){return A(I).pointBytes}function D(I=new Uint8Array,...T){const L=s5(...T);return N(i(p(L,bc("context",I),!!s)))}function j(I,T,L={}){I=bc("message",I),s&&(I=s(I));const{prefix:U,scalar:$,pointBytes:M}=A(T),q=D(L.context,U,I),ee=_.multiply(q).toRawBytes(),ce=D(L.context,ee,M,I),se=S(q+ce*$);a0("signature.s",se,ko,r);const ae=s5(ee,WN(se,n.BYTES));return bc("result",ae,n.BYTES*2)}const H=mpe;function K(I,T,L,U=H){const{context:$,zip215:M}=U,q=n.BYTES;I=bc("signature",I,2*q),T=bc("message",T),L=bc("publicKey",L,q),M!==void 0&&C2("zip215",M),s&&(T=s(T));const ee=ZE(I.slice(q,2*q));let ce,se,ae;try{ce=b.fromHex(L,M),se=b.fromHex(I.slice(0,q),M),ae=_.multiplyUnsafe(ee)}catch{return!1}if(!M&&ce.isSmallOrder())return!1;const Ee=D($,se.toRawBytes(),ce.toRawBytes(),T);return se.add(ce.multiplyUnsafe(Ee)).subtract(ae).clearCofactor().equals(b.ZERO)}return _._setWindowSize(8),{CURVE:e,getPublicKey:P,sign:j,verify:K,ExtendedPoint:b,utils:{getExtendedPublicKey:A,randomPrivateKey:()=>o(n.BYTES),precompute(I=8,T=b.BASE){return T._setWindowSize(I),T.multiply(BigInt(3)),T}}}}BigInt(0),BigInt(1);const PR=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),u5=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const bpe=BigInt(1),d5=BigInt(2);BigInt(3);const vpe=BigInt(5),Epe=BigInt(8);function xpe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=PR,o=t*t%i*t%i,a=Ca(o,d5,i)*o%i,c=Ca(a,bpe,i)*t%i,l=Ca(c,vpe,i)*c%i,u=Ca(l,e,i)*l%i,d=Ca(u,n,i)*u%i,h=Ca(d,r,i)*d%i,f=Ca(h,s,i)*h%i,p=Ca(f,s,i)*h%i,g=Ca(p,e,i)*l%i;return{pow_p_5_8:Ca(g,d5,i)*t%i,b2:o}}function _pe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Cpe(t,e){const n=PR,r=cr(e*e*e,n),s=cr(r*r*e,n),i=xpe(t*s).pow_p_5_8;let o=cr(t*r*i,n);const a=cr(e*o*o,n),c=o,l=cr(o*u5,n),u=a===t,d=a===cr(-t,n),h=a===cr(-t*u5,n);return u&&(o=c),(d||h)&&(o=l),ipe(o,n)&&(o=cr(-o,n)),{isValid:u||d,value:o}}const Ape=ez(PR,void 0,!0),Spe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ape,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Epe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Vfe,randomBytes:V7,adjustScalarBytes:_pe,uvRatio:Cpe},rz=wpe(Spe),Ipe="EdDSA",Tpe="JWT",o_=".",QC="base64url",sz="utf8",iz="utf8",Npe=":",Ppe="did",kpe="key",h5="base58btc",Ope="z",Rpe="K36",Dpe=32;function kR(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function oz(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?kR(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function az(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=oz(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return kR(n)}function $pe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,w=0,v=p.length;w!==v&&p[w]===0;)w++,g++;for(var b=(v-w)*u+1>>>0,_=new Uint8Array(b);w!==v;){for(var x=p[w],C=0,S=b-1;(x!==0||C<y)&&S!==-1;S--,C++)x+=256*_[S]>>>0,_[S]=x%a>>>0,x=x/a>>>0;if(x!==0)throw new Error("Non-zero carry");y=C,w++}for(var N=b-y;N!==b&&_[N]===0;)N++;for(var A=c.repeat(g);N<b;++N)A+=t.charAt(_[N]);return A}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,w=0;p[g]===c;)y++,g++;for(var v=(p.length-g)*l+1>>>0,b=new Uint8Array(v);p[g];){var _=n[p.charCodeAt(g)];if(_===255)return;for(var x=0,C=v-1;(_!==0||x<w)&&C!==-1;C--,x++)_+=a*b[C]>>>0,b[C]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");w=x,g++}if(p[g]!==" "){for(var S=v-w;S!==v&&b[S]===0;)S++;for(var N=new Uint8Array(y+(v-S)),A=y;S!==v;)N[A++]=b[S++];return N}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Upe=$pe,Bpe=Upe;const cz=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Lpe=t=>new TextEncoder().encode(t),Mpe=t=>new TextDecoder().decode(t);let jpe=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Fpe=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return lz(this,e)}},zpe=class{constructor(e){this.decoders=e}or(e){return lz(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const lz=(t,e)=>new zpe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Hpe=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new jpe(e,n,r),this.decoder=new Fpe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const YC=({name:t,prefix:e,encode:n,decode:r})=>new Hpe(t,e,n,r),zv=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Bpe(n,e);return YC({prefix:t,name:e,encode:r,decode:i=>cz(s(i))})},Wpe=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Gpe=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},qr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>YC({prefix:e,name:t,encode(s){return Gpe(s,r,n)},decode(s){return Wpe(s,r,n,t)}}),qpe=YC({prefix:"\0",name:"identity",encode:t=>Mpe(t),decode:t=>Lpe(t)});var Vpe=Object.freeze({__proto__:null,identity:qpe});const Kpe=qr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Qpe=Object.freeze({__proto__:null,base2:Kpe});const Ype=qr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Jpe=Object.freeze({__proto__:null,base8:Ype});const Zpe=zv({prefix:"9",name:"base10",alphabet:"0123456789"});var Xpe=Object.freeze({__proto__:null,base10:Zpe});const ege=qr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),tge=qr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var nge=Object.freeze({__proto__:null,base16:ege,base16upper:tge});const rge=qr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),sge=qr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ige=qr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),oge=qr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),age=qr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),cge=qr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),lge=qr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),uge=qr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dge=qr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var hge=Object.freeze({__proto__:null,base32:rge,base32upper:sge,base32pad:ige,base32padupper:oge,base32hex:age,base32hexupper:cge,base32hexpad:lge,base32hexpadupper:uge,base32z:dge});const fge=zv({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),pge=zv({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var gge=Object.freeze({__proto__:null,base36:fge,base36upper:pge});const mge=zv({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yge=zv({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var wge=Object.freeze({__proto__:null,base58btc:mge,base58flickr:yge});const bge=qr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),vge=qr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ege=qr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xge=qr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var _ge=Object.freeze({__proto__:null,base64:bge,base64pad:vge,base64url:Ege,base64urlpad:xge});const uz=Array.from(""),Cge=uz.reduce((t,e,n)=>(t[n]=e,t),[]),Age=uz.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Sge(t){return t.reduce((e,n)=>(e+=Cge[n],e),"")}function Ige(t){const e=[];for(const n of t){const r=Age[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Tge=YC({prefix:"",name:"base256emoji",encode:Sge,decode:Ige});var Nge=Object.freeze({__proto__:null,base256emoji:Tge}),Pge=dz,f5=128,kge=-128,Oge=Math.pow(2,31);function dz(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Oge;)e[n++]=t&255|f5,t/=128;for(;t&kge;)e[n++]=t&255|f5,t>>>=7;return e[n]=t|0,dz.bytes=n-r+1,e}var Rge=qN,Dge=128,p5=127;function qN(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw qN.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&p5)<<s:(o&p5)*Math.pow(2,s),s+=7}while(o>=Dge);return qN.bytes=i-r,n}var $ge=Math.pow(2,7),Uge=Math.pow(2,14),Bge=Math.pow(2,21),Lge=Math.pow(2,28),Mge=Math.pow(2,35),jge=Math.pow(2,42),Fge=Math.pow(2,49),zge=Math.pow(2,56),Hge=Math.pow(2,63),Wge=function(t){return t<$ge?1:t<Uge?2:t<Bge?3:t<Lge?4:t<Mge?5:t<jge?6:t<Fge?7:t<zge?8:t<Hge?9:10},Gge={encode:Pge,decode:Rge,encodingLength:Wge},hz=Gge;const g5=(t,e,n=0)=>(hz.encode(t,e,n),e),m5=t=>hz.encodingLength(t),VN=(t,e)=>{const n=e.byteLength,r=m5(t),s=r+m5(n),i=new Uint8Array(s+n);return g5(t,i,0),g5(n,i,r),i.set(e,s),new qge(t,n,e,i)};let qge=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const fz=({name:t,code:e,encode:n})=>new Vge(t,e,n);let Vge=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?VN(this.code,n):n.then(r=>VN(this.code,r))}else throw Error("Unknown type, must be binary type")}};const pz=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Kge=fz({name:"sha2-256",code:18,encode:pz("SHA-256")}),Qge=fz({name:"sha2-512",code:19,encode:pz("SHA-512")});var Yge=Object.freeze({__proto__:null,sha256:Kge,sha512:Qge});const gz=0,Jge="identity",mz=cz,Zge=t=>VN(gz,mz(t)),Xge={code:gz,name:Jge,encode:mz,digest:Zge};var eme=Object.freeze({__proto__:null,identity:Xge});new TextEncoder,new TextDecoder;const y5={...Vpe,...Qpe,...Jpe,...Xpe,...nge,...hge,...gge,...wge,..._ge,...Nge};({...Yge,...eme});function yz(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const w5=yz("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),P2=yz("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=oz(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),wz={utf8:w5,"utf-8":w5,hex:y5.base16,latin1:P2,ascii:P2,binary:P2,...y5};function JC(t,e="utf8"){const n=wz[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Ay(t,e="utf8"){const n=wz[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?kR(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function b5(t){return Of(JC(Ay(t,QC),sz))}function a_(t){return JC(Ay(wl(t),sz),QC)}function bz(t){const e=Ay(Rpe,h5),n=Ope+JC(az([e,t]),h5);return[Ppe,kpe,n].join(Npe)}function tme(t){return JC(t,QC)}function nme(t){return Ay(t,QC)}function rme(t){return Ay([a_(t.header),a_(t.payload)].join(o_),iz)}function sme(t){return[a_(t.header),a_(t.payload),tme(t.signature)].join(o_)}function KN(t){const e=t.split(o_),n=b5(e[0]),r=b5(e[1]),s=nme(e[2]),i=Ay(e.slice(0,2).join(o_),iz);return{header:n,payload:r,signature:s,data:i}}function v5(t=V7(Dpe)){const e=rz.getPublicKey(t);return{secretKey:az([t,e]),publicKey:e}}async function ime(t,e,n,r,s=_e.fromMiliseconds(Date.now())){const i={alg:Ipe,typ:Tpe},o=bz(r.publicKey),a=s+n,c={iss:o,sub:t,aud:e,iat:s,exp:a},l=rme({header:i,payload:c}),u=rz.sign(l,r.secretKey.slice(0,32));return sme({header:i,payload:c,signature:u})}var E5=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},ome=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),ame=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),cme=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),lme=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),ume=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),dme=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,hme=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,x5=3,fme=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",dme]],_5=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function pme(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ume:typeof navigator<"u"?mme(navigator.userAgent):wme()}function gme(t){return t!==""&&fme.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var i=s.exec(t);return!!i&&[r,i]},!1)}function mme(t){var e=gme(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new lme;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<x5&&(s=E5(E5([],s,!0),bme(x5-s.length),!0)):s=[];var i=s.join("."),o=yme(t),a=hme.exec(t);return a&&a[1]?new cme(n,i,o,a[1]):new ome(n,i,o)}function yme(t){for(var e=0,n=_5.length;e<n;e++){var r=_5[e],s=r[0],i=r[1],o=i.exec(t);if(o)return s}return null}function wme(){var t=typeof process<"u"&&process.version;return t?new ame(process.version.slice(1)):null}function bme(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.getLocalStorage=mn.getLocalStorageOrThrow=mn.getCrypto=mn.getCryptoOrThrow=vz=mn.getLocation=mn.getLocationOrThrow=OR=mn.getNavigator=mn.getNavigatorOrThrow=Rf=mn.getDocument=mn.getDocumentOrThrow=mn.getFromWindowOrThrow=mn.getFromWindow=void 0;function rp(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}mn.getFromWindow=rp;function Sy(t){const e=rp(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}mn.getFromWindowOrThrow=Sy;function vme(){return Sy("document")}mn.getDocumentOrThrow=vme;function Eme(){return rp("document")}var Rf=mn.getDocument=Eme;function xme(){return Sy("navigator")}mn.getNavigatorOrThrow=xme;function _me(){return rp("navigator")}var OR=mn.getNavigator=_me;function Cme(){return Sy("location")}mn.getLocationOrThrow=Cme;function Ame(){return rp("location")}var vz=mn.getLocation=Ame;function Sme(){return Sy("crypto")}mn.getCryptoOrThrow=Sme;function Ime(){return rp("crypto")}mn.getCrypto=Ime;function Tme(){return Sy("localStorage")}mn.getLocalStorageOrThrow=Tme;function Nme(){return rp("localStorage")}mn.getLocalStorage=Nme;var RR={};Object.defineProperty(RR,"__esModule",{value:!0});var Ez=RR.getWindowMetadata=void 0;const C5=mn;function Pme(){let t,e;try{t=C5.getDocumentOrThrow(),e=C5.getLocationOrThrow()}catch{return null}function n(){const d=t.getElementsByTagName("link"),h=[];for(let f=0;f<d.length;f++){const p=d[f],g=p.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const y=p.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let w=e.protocol+"//"+e.host;if(y.indexOf("/")===0)w+=y;else{const v=e.pathname.split("/");v.pop();const b=v.join("/");w+=b+"/"+y}h.push(w)}else if(y.indexOf("//")===0){const w=e.protocol+y;h.push(w)}else h.push(y)}}return h}function r(...d){const h=t.getElementsByTagName("meta");for(let f=0;f<h.length;f++){const p=h[f],g=["itemprop","property","name"].map(y=>p.getAttribute(y)).filter(y=>y?d.includes(y):!1);if(g.length&&g){const y=p.getAttribute("content");if(y)return y}}return""}function s(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function i(){return r("description","og:description","twitter:description","keywords")}const o=s(),a=i(),c=e.origin,l=n();return{description:a,url:c,icons:l,name:o}}Ez=RR.getWindowMetadata=Pme;function Cb(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function QN(t){return Cb(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const xz="2.31.0";let c0={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${xz}`};class Df extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof Df?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Df&&n.cause.docsPath||n.docsPath,i=(a=c0.getDocsUrl)==null?void 0:a.call(c0,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...c0.version?[`Version: ${c0.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=xz}walk(e){return _z(this,e)}}function _z(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?_z(t.cause,e):e?null:t}class Cz extends Df{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Iy(t,{dir:e,size:n=32}={}){return typeof t=="string"?kme(t,{dir:e,size:n}):Ome(t,{dir:e,size:n})}function kme(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Cz({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Ome(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Cz({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class Rme extends Df{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class Dme extends Df{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Ty(t,{size:e}){if(QN(t)>e)throw new Dme({givenSize:QN(t),maxSize:e})}function YN(t,e={}){const{signed:n}=e;e.size&&Ty(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function $me(t,e={}){return Number(YN(t,e))}const Ume=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function JN(t,e={}){return typeof t=="number"||typeof t=="bigint"?Sz(t,e):typeof t=="string"?Mme(t,e):typeof t=="boolean"?Bme(t,e):Az(t,e)}function Bme(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ty(n,{size:e.size}),Iy(n,{size:e.size})):n}function Az(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=Ume[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Ty(r,{size:e.size}),Iy(r,{dir:"right",size:e.size})):r}function Sz(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new Rme({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Iy(a,{size:r}):a}const Lme=new TextEncoder;function Mme(t,e={}){const n=Lme.encode(t);return Az(n,e)}const jme=new TextEncoder;function Fme(t,e={}){return typeof t=="number"||typeof t=="bigint"?Hme(t,e):typeof t=="boolean"?zme(t,e):Cb(t)?Iz(t,e):Tz(t,e)}function zme(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ty(n,{size:e.size}),Iy(n,{size:e.size})):n}const vc={zero:48,nine:57,A:65,F:70,a:97,f:102};function A5(t){if(t>=vc.zero&&t<=vc.nine)return t-vc.zero;if(t>=vc.A&&t<=vc.F)return t-(vc.A-10);if(t>=vc.a&&t<=vc.f)return t-(vc.a-10)}function Iz(t,e={}){let n=t;e.size&&(Ty(n,{size:e.size}),n=Iy(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=A5(r.charCodeAt(a++)),l=A5(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new Df(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function Hme(t,e){const n=Sz(t,e);return Iz(n)}function Tz(t,e={}){const n=jme.encode(t);return typeof e.size=="number"?(Ty(n,{size:e.size}),Iy(n,{dir:"right",size:e.size})):n}function Nz(t,e){const n=e||"hex",r=IO(Cb(t,{strict:!1})?Fme(t):t);return n==="bytes"?r:JN(r)}class Wme extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const k2=new Wme(8192);function Gme(t,e){if(k2.has(`${t}.${e}`))return k2.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Nz(Tz(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return k2.set(`${t}.${e}`,i),i}function qme(t){const e=Nz(`0x${t.substring(4)}`).substring(26);return Gme(`0x${e}`)}async function Vme({hash:t,signature:e}){const n=Cb(t)?t:JN(t),{secp256k1:r}=await Wn(async()=>{const{secp256k1:o}=await import("./secp256k1-FEgfGVfN.js");return{secp256k1:o}},__vite__mapDeps([2,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=S5(f);return new r.Signature(YN(l),YN(u)).addRecoveryBit(p)}const o=Cb(e)?e:JN(e);if(QN(o)!==65)throw new Error("invalid signature length");const a=$me(`0x${o.slice(130)}`),c=S5(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function S5(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Kme({hash:t,signature:e}){return qme(await Vme({hash:t,signature:e}))}function Qme(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const p=(f-h)*i+1>>>0,g=new Uint8Array(p);for(;h!==f;){let v=l[h],b=0;for(let _=p-1;(v!==0||b<d)&&_!==-1;_--,b++)v+=256*g[_]>>>0,g[_]=v%n>>>0,v=v/n>>>0;if(v!==0)throw new Error("Non-zero carry");d=b,h++}let y=p-d;for(;y!==p&&g[y]===0;)y++;let w=r.repeat(u);for(;y<p;++y)w+=t.charAt(g[y]);return w}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===r;)d++,u++;const f=(l.length-u)*s+1>>>0,p=new Uint8Array(f);for(;u<l.length;){const v=l.charCodeAt(u);if(v>255)return;let b=e[v];if(b===255)return;let _=0;for(let x=f-1;(b!==0||_<h)&&x!==-1;x--,_++)b+=n*p[x]>>>0,p[x]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");h=_,u++}let g=f-h;for(;g!==f&&p[g]===0;)g++;const y=new Uint8Array(d+(f-g));let w=d;for(;g!==f;)y[w++]=p[g++];return y}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var Yme="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Ny=Qme(Yme);function Jme(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.charCodeAt(r++);if(s&4294967168)if(!(s&4294965248))n+=2;else{if(s>=55296&&s<=56319&&r<e){const i=t.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}s&4294901760?n+=4:n+=3}else{n++;continue}}return n}function Zme(t,e,n){const r=t.length;let s=n,i=0;for(;i<r;){let o=t.charCodeAt(i++);if(o&4294967168)if(!(o&4294965248))e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128):(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128)}else{e[s++]=o;continue}e[s++]=o&63|128}}const Xme=new TextEncoder,eye=50;function tye(t,e,n){Xme.encodeInto(t,e.subarray(n))}function nye(t,e,n){t.length>eye?tye(t,e,n):Zme(t,e,n)}const rye=4096;function Pz(t,e,n){let r=e;const s=r+n,i=[];let o="";for(;r<s;){const a=t[r++];if(!(a&128))i.push(a);else if((a&224)===192){const c=t[r++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;i.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d)}else i.push(a);i.length>=rye&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const sye=new TextDecoder,iye=200;function oye(t,e,n){const r=t.subarray(e,e+n);return sye.decode(r)}function aye(t,e,n){return n>iye?oye(t,e,n):Pz(t,e,n)}class J1{constructor(e,n){this.type=e,this.data=n}}class Di extends Error{constructor(e){super(e);const n=Object.create(Di.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Di.name})}}const l0=4294967295;function cye(t,e,n){const r=n/4294967296,s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function kz(t,e,n){const r=Math.floor(n/4294967296),s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function Oz(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function lye(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const uye=-1,dye=4294967296-1,hye=17179869184-1;function fye({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=hye)if(e===0&&t<=dye){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),kz(r,4,t),n}}function pye(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function gye(t){if(t instanceof Date){const e=pye(t);return fye(e)}else return null}function mye(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=Oz(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Di(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function yye(t){const e=mye(t);return new Date(e.sec*1e3+e.nsec/1e6)}const wye={type:uye,encode:gye,decode:yye};class c_{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(wye)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const s=-1-e;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=-1-r;return new J1(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=r;return new J1(o,i)}}}return e instanceof J1?e:null}decode(e,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(e,n,r):new J1(n,e)}}c_.defaultCodec=new c_;function bye(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function ZN(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):bye(t)?new Uint8Array(t):Uint8Array.from(t)}const vye=100,Eye=2048;let xye=class Rz{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??c_.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??vye,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??Eye,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new Rz({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=Jme(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),nye(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=ZN(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of e)this.doEncode(s,n+1)}countWithoutUndefined(e,n){let r=0;for(const s of n)e[s]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),cye(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),kz(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function _ye(t,e){return new xye(e).encodeSharedRef(t)}function O2(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const Cye=16,Aye=16;class Sye{constructor(e=Cye,n=Aye){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return i.str}return null}store(e,n){const r=this.caches[e.length-1],s={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(e,n,r){const s=this.find(e,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=Pz(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,i),i}}const XN="array",lw="map_key",Dz="map_value",Iye=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Di("The type of key must be string or number but "+typeof t)};class Tye{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=XN,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=lw,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===XN){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===lw||e.type===Dz){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const u0=-1,DR=new DataView(new ArrayBuffer(0)),Nye=new Uint8Array(DR.buffer);try{DR.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const I5=new RangeError("Insufficient data"),Pye=new Sye;let kye=class $z{constructor(e){this.totalPos=0,this.pos=0,this.view=DR,this.bytes=Nye,this.headByte=u0,this.stack=new Tye,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??c_.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??l0,this.maxBinLength=(e==null?void 0:e.maxBinLength)??l0,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??l0,this.maxMapLength=(e==null?void 0:e.maxMapLength)??l0,this.maxExtLength=(e==null?void 0:e.maxExtLength)??l0,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:Pye,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??Iye}clone(){return new $z({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=u0,this.stack.reset()}setBuffer(e){const n=ZN(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===u0&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=ZN(e),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${O2(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of e){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=e-160;n=this.decodeString(s,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new Di(`Unrecognized type byte: ${O2(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===XN)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===lw){if(n==="__proto__")throw new Di("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=Dz;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=lw;continue e}}return n}}readHeadByte(){return this.headByte===u0&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=u0}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Di(`Unrecognized array type byte: ${O2(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Di(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Di(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var i;if(e>this.maxStrLength)throw new Di(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw I5;const r=this.pos+n;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,r,e):s=aye(this.bytes,r,e),this.pos+=n+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===lw:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Di(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw I5;const r=this.pos+n,s=this.bytes.subarray(r,r+e);return this.pos+=n+e,s}decodeExtension(e,n){if(e>this.maxExtLength)throw new Di(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(e,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=lye(this.view,this.pos);return this.pos+=8,e}readI64(){const e=Oz(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function Oye(t,e){return new kye(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Rye(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Uz(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function l_(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function $R(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function eP(t){if(!Array.isArray(t))throw new Error("array expected")}function u_(t,e){if(!Uz(!0,e))throw new Error(`${t}: array of strings expected`)}function Dye(t,e){if(!Uz(!1,e))throw new Error(`${t}: array of numbers expected`)}function $ye(...t){const e=i=>i,n=(i,o)=>a=>i(o(a)),r=t.map(i=>i.encode).reduceRight(n,e),s=t.map(i=>i.decode).reduce(n,e);return{encode:r,decode:s}}function Uye(t){const e=typeof t=="string"?t.split(""):t,n=e.length;u_("alphabet",e);const r=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(eP(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(eP(s),s.map(i=>{l_("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function Bye(t=""){return l_("join",t),{encode:e=>(u_("join.decode",e),e.join(t)),decode:e=>(l_("join.decode",e),e.split(t))}}function Lye(t,e="="){return $R(t),l_("padding",e),{encode(n){for(u_("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){u_("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const Bz=(t,e)=>e===0?t:Bz(e,t%e),d_=(t,e)=>t+(e-Bz(t,e)),R2=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function T5(t,e,n,r){if(eP(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(d_(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${d_(e,n)}`);let s=0,i=0;const o=R2[e],a=R2[n]-1,c=[];for(const l of t){if($R(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(s=s<<e|l,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)c.push((s>>i-n&a)>>>0);const u=R2[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function Mye(t,e=!1){if($R(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(d_(8,t)>32||d_(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!Rye(n))throw new Error("radix2.encode input should be Uint8Array");return T5(Array.from(n),8,t,!e)},decode:n=>(Dye("radix2.decode",n),Uint8Array.from(T5(n,t,8,e)))}}const jye=$ye(Mye(5),Uye("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Lye(5),Bye(""));function UR(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Lz(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?UR(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function uw(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=Lz(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return UR(n)}function Fye(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,w=0,v=p.length;w!==v&&p[w]===0;)w++,g++;for(var b=(v-w)*u+1>>>0,_=new Uint8Array(b);w!==v;){for(var x=p[w],C=0,S=b-1;(x!==0||C<y)&&S!==-1;S--,C++)x+=256*_[S]>>>0,_[S]=x%a>>>0,x=x/a>>>0;if(x!==0)throw new Error("Non-zero carry");y=C,w++}for(var N=b-y;N!==b&&_[N]===0;)N++;for(var A=c.repeat(g);N<b;++N)A+=t.charAt(_[N]);return A}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,w=0;p[g]===c;)y++,g++;for(var v=(p.length-g)*l+1>>>0,b=new Uint8Array(v);p[g];){var _=n[p.charCodeAt(g)];if(_===255)return;for(var x=0,C=v-1;(_!==0||x<w)&&C!==-1;C--,x++)_+=a*b[C]>>>0,b[C]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");w=x,g++}if(p[g]!==" "){for(var S=v-w;S!==v&&b[S]===0;)S++;for(var N=new Uint8Array(y+(v-S)),A=y;S!==v;)N[A++]=b[S++];return N}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var zye=Fye,Hye=zye;const Wye=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Gye=t=>new TextEncoder().encode(t),qye=t=>new TextDecoder().decode(t);class Vye{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Kye{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Mz(this,e)}}class Qye{constructor(e){this.decoders=e}or(e){return Mz(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Mz=(t,e)=>new Qye({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Yye{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Vye(e,n,r),this.decoder=new Kye(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ZC=({name:t,prefix:e,encode:n,decode:r})=>new Yye(t,e,n,r),Hv=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Hye(n,e);return ZC({prefix:t,name:e,encode:r,decode:i=>Wye(s(i))})},Jye=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Zye=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Vr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>ZC({prefix:e,name:t,encode(s){return Zye(s,r,n)},decode(s){return Jye(s,r,n,t)}}),Xye=ZC({prefix:"\0",name:"identity",encode:t=>qye(t),decode:t=>Gye(t)}),e0e=Object.freeze(Object.defineProperty({__proto__:null,identity:Xye},Symbol.toStringTag,{value:"Module"})),t0e=Vr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),n0e=Object.freeze(Object.defineProperty({__proto__:null,base2:t0e},Symbol.toStringTag,{value:"Module"})),r0e=Vr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),s0e=Object.freeze(Object.defineProperty({__proto__:null,base8:r0e},Symbol.toStringTag,{value:"Module"})),i0e=Hv({prefix:"9",name:"base10",alphabet:"0123456789"}),o0e=Object.freeze(Object.defineProperty({__proto__:null,base10:i0e},Symbol.toStringTag,{value:"Module"})),a0e=Vr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),c0e=Vr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),l0e=Object.freeze(Object.defineProperty({__proto__:null,base16:a0e,base16upper:c0e},Symbol.toStringTag,{value:"Module"})),u0e=Vr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),d0e=Vr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),h0e=Vr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),f0e=Vr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),p0e=Vr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),g0e=Vr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),m0e=Vr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),y0e=Vr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),w0e=Vr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),b0e=Object.freeze(Object.defineProperty({__proto__:null,base32:u0e,base32hex:p0e,base32hexpad:m0e,base32hexpadupper:y0e,base32hexupper:g0e,base32pad:h0e,base32padupper:f0e,base32upper:d0e,base32z:w0e},Symbol.toStringTag,{value:"Module"})),v0e=Hv({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),E0e=Hv({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),x0e=Object.freeze(Object.defineProperty({__proto__:null,base36:v0e,base36upper:E0e},Symbol.toStringTag,{value:"Module"})),_0e=Hv({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),C0e=Hv({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),A0e=Object.freeze(Object.defineProperty({__proto__:null,base58btc:_0e,base58flickr:C0e},Symbol.toStringTag,{value:"Module"})),S0e=Vr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),I0e=Vr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),T0e=Vr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),N0e=Vr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),P0e=Object.freeze(Object.defineProperty({__proto__:null,base64:S0e,base64pad:I0e,base64url:T0e,base64urlpad:N0e},Symbol.toStringTag,{value:"Module"})),jz=Array.from(""),k0e=jz.reduce((t,e,n)=>(t[n]=e,t),[]),O0e=jz.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function R0e(t){return t.reduce((e,n)=>(e+=k0e[n],e),"")}function D0e(t){const e=[];for(const n of t){const r=O0e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const $0e=ZC({prefix:"",name:"base256emoji",encode:R0e,decode:D0e}),U0e=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:$0e},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const N5={...e0e,...n0e,...s0e,...o0e,...l0e,...b0e,...x0e,...A0e,...P0e,...U0e};function Fz(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const P5=Fz("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),D2=Fz("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Lz(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),zz={utf8:P5,"utf-8":P5,hex:N5.base16,latin1:D2,ascii:D2,binary:D2,...N5};function yo(t,e="utf8"){const n=zz[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?UR(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function pi(t,e="utf8"){const n=zz[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const B0e={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},L0e="Input must be an string, Buffer or Uint8Array";function M0e(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(L0e);return e}function j0e(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function Z1(t){return(4294967296+t).toString(16).substring(1)}function F0e(t,e,n){let r=`
`+t+" = ";for(let s=0;s<e.length;s+=2){if(n===32)r+=Z1(e[s]).toUpperCase(),r+=" ",r+=Z1(e[s+1]).toUpperCase();else if(n===64)r+=Z1(e[s+1]).toUpperCase(),r+=Z1(e[s]).toUpperCase();else throw new Error("Invalid size "+n);s%6===4?r+=`
`+new Array(t.length+4).join(" "):s<e.length-2&&(r+=" ")}console.log(r)}function z0e(t,e,n){let r=new Date().getTime();const s=new Uint8Array(e);for(let o=0;o<e;o++)s[o]=o%256;const i=new Date().getTime();console.log("Generated random input in "+(i-r)+"ms"),r=i;for(let o=0;o<n;o++){const a=t(s),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var Hz={normalizeInput:M0e,toHex:j0e,debugPrint:F0e,testSpeed:z0e};const XE=Hz;function X1(t,e,n){const r=t[e]+t[n];let s=t[e+1]+t[n+1];r>=4294967296&&s++,t[e]=r,t[e+1]=s}function k5(t,e,n,r){let s=t[e]+n;n<0&&(s+=4294967296);let i=t[e+1]+r;s>=4294967296&&i++,t[e]=s,t[e+1]=i}function Wz(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Ll(t,e,n,r,s,i){const o=B0[s],a=B0[s+1],c=B0[i],l=B0[i+1];X1(ct,t,e),k5(ct,t,o,a);let u=ct[r]^ct[t],d=ct[r+1]^ct[t+1];ct[r]=d,ct[r+1]=u,X1(ct,n,r),u=ct[e]^ct[n],d=ct[e+1]^ct[n+1],ct[e]=u>>>24^d<<8,ct[e+1]=d>>>24^u<<8,X1(ct,t,e),k5(ct,t,c,l),u=ct[r]^ct[t],d=ct[r+1]^ct[t+1],ct[r]=u>>>16^d<<16,ct[r+1]=d>>>16^u<<16,X1(ct,n,r),u=ct[e]^ct[n],d=ct[e+1]^ct[n+1],ct[e]=d>>>31^u<<1,ct[e+1]=u>>>31^d<<1}const Gz=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),H0e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Xr=new Uint8Array(H0e.map(function(t){return t*2})),ct=new Uint32Array(32),B0=new Uint32Array(32);function qz(t,e){let n=0;for(n=0;n<16;n++)ct[n]=t.h[n],ct[n+16]=Gz[n];for(ct[24]=ct[24]^t.t,ct[25]=ct[25]^t.t/4294967296,e&&(ct[28]=~ct[28],ct[29]=~ct[29]),n=0;n<32;n++)B0[n]=Wz(t.b,4*n);for(n=0;n<12;n++)Ll(0,8,16,24,Xr[n*16+0],Xr[n*16+1]),Ll(2,10,18,26,Xr[n*16+2],Xr[n*16+3]),Ll(4,12,20,28,Xr[n*16+4],Xr[n*16+5]),Ll(6,14,22,30,Xr[n*16+6],Xr[n*16+7]),Ll(0,10,20,30,Xr[n*16+8],Xr[n*16+9]),Ll(2,12,22,24,Xr[n*16+10],Xr[n*16+11]),Ll(4,14,16,26,Xr[n*16+12],Xr[n*16+13]),Ll(6,8,18,28,Xr[n*16+14],Xr[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^ct[n]^ct[n+16]}const Ml=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Vz(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};Ml.fill(0),Ml[0]=t,e&&(Ml[1]=e.length),Ml[2]=1,Ml[3]=1,n&&Ml.set(n,32),r&&Ml.set(r,48);for(let i=0;i<16;i++)s.h[i]=Gz[i]^Wz(Ml,i*4);return e&&(BR(s,e),s.c=128),s}function BR(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,qz(t,!1),t.c=0),t.b[t.c++]=e[n]}function Kz(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;qz(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function Qz(t,e,n,r,s){n=n||64,t=XE.normalizeInput(t),r&&(r=XE.normalizeInput(r)),s&&(s=XE.normalizeInput(s));const i=Vz(n,e,r,s);return BR(i,t),Kz(i)}function W0e(t,e,n,r,s){const i=Qz(t,e,n,r,s);return XE.toHex(i)}var G0e={blake2b:Qz,blake2bHex:W0e,blake2bInit:Vz,blake2bUpdate:BR,blake2bFinal:Kz};const Yz=Hz;function q0e(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function jl(t,e,n,r,s,i){Bt[t]=Bt[t]+Bt[e]+s,Bt[r]=eE(Bt[r]^Bt[t],16),Bt[n]=Bt[n]+Bt[r],Bt[e]=eE(Bt[e]^Bt[n],12),Bt[t]=Bt[t]+Bt[e]+i,Bt[r]=eE(Bt[r]^Bt[t],8),Bt[n]=Bt[n]+Bt[r],Bt[e]=eE(Bt[e]^Bt[n],7)}function eE(t,e){return t>>>e^t<<32-e}const Jz=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),es=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Bt=new Uint32Array(16),Nr=new Uint32Array(16);function Zz(t,e){let n=0;for(n=0;n<8;n++)Bt[n]=t.h[n],Bt[n+8]=Jz[n];for(Bt[12]^=t.t,Bt[13]^=t.t/4294967296,e&&(Bt[14]=~Bt[14]),n=0;n<16;n++)Nr[n]=q0e(t.b,4*n);for(n=0;n<10;n++)jl(0,4,8,12,Nr[es[n*16+0]],Nr[es[n*16+1]]),jl(1,5,9,13,Nr[es[n*16+2]],Nr[es[n*16+3]]),jl(2,6,10,14,Nr[es[n*16+4]],Nr[es[n*16+5]]),jl(3,7,11,15,Nr[es[n*16+6]],Nr[es[n*16+7]]),jl(0,5,10,15,Nr[es[n*16+8]],Nr[es[n*16+9]]),jl(1,6,11,12,Nr[es[n*16+10]],Nr[es[n*16+11]]),jl(2,7,8,13,Nr[es[n*16+12]],Nr[es[n*16+13]]),jl(3,4,9,14,Nr[es[n*16+14]],Nr[es[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=Bt[n]^Bt[n+8]}function Xz(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(Jz),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(LR(r,e),r.c=64),r}function LR(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,Zz(t,!1),t.c=0),t.b[t.c++]=e[n]}function eH(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;Zz(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function tH(t,e,n){n=n||32,t=Yz.normalizeInput(t);const r=Xz(n,e);return LR(r,t),eH(r)}function V0e(t,e,n){const r=tH(t,e,n);return Yz.toHex(r)}var K0e={blake2s:tH,blake2sHex:V0e,blake2sInit:Xz,blake2sUpdate:LR,blake2sFinal:eH};const d0=G0e,h0=K0e;var Q0e={blake2b:d0.blake2b,blake2bHex:d0.blake2bHex,blake2bInit:d0.blake2bInit,blake2bUpdate:d0.blake2bUpdate,blake2bFinal:d0.blake2bFinal,blake2s:h0.blake2s,blake2sHex:h0.blake2sHex,blake2sInit:h0.blake2sInit,blake2sUpdate:h0.blake2sUpdate,blake2sFinal:h0.blake2sFinal},Y0e={};const J0e=":";function Pg(t){const[e,n]=t.split(J0e);return{namespace:e,reference:n}}function nH(t,e){return t.includes(":")?[t]:e.chains||[]}var Z0e=Object.defineProperty,X0e=Object.defineProperties,ewe=Object.getOwnPropertyDescriptors,O5=Object.getOwnPropertySymbols,twe=Object.prototype.hasOwnProperty,nwe=Object.prototype.propertyIsEnumerable,R5=(t,e,n)=>e in t?Z0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D5=(t,e)=>{for(var n in e||(e={}))twe.call(e,n)&&R5(t,n,e[n]);if(O5)for(var n of O5(e))nwe.call(e,n)&&R5(t,n,e[n]);return t},rwe=(t,e)=>X0e(t,ewe(e));const swe="ReactNative",Bi={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},iwe="js";function h_(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Ld(){return!Rf()&&!!OR()&&navigator.product===swe}function owe(){return Ld()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function awe(){return Ld()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Py(){return!h_()&&!!OR()&&!!Rf()}function Wv(){return Ld()?Bi.reactNative:h_()?Bi.node:Py()?Bi.browser:Bi.unknown}function $5(){var t;try{return Ld()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function cwe(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function lwe(t){var e,n;const r=rH();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),rwe(D5(D5({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function rH(){return Ez()||{name:"",description:"",url:"",icons:[""]}}function uwe(){if(Wv()===Bi.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=pme();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function dwe(){var t;const e=Wv();return e===Bi.browser?[e,((t=vz())==null?void 0:t.host)||"unknown"].join(":"):e}function sH(t,e,n){const r=uwe(),s=dwe();return[[t,e].join("-"),[iwe,n].join("-"),r,s].join("/")}function hwe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=sH(t,e,r),d={auth:s,ua:u,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=cwe(l[1]||"",d);return l[0]+"?"+h}function xh(t,e){return t.filter(n=>e.includes(n)).length===t.length}function tP(t){return Object.fromEntries(t.entries())}function nP(t){return new Map(Object.entries(t))}function nh(t=_e.FIVE_MINUTES,e){const n=_e.toMiliseconds(t||_e.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function Qu(t,e,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),e);try{const o=await t;r(o)}catch(o){s(o)}clearTimeout(i)})}function iH(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function fwe(t){return iH("topic",t)}function pwe(t){return iH("id",t)}function oH(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function ir(t,e){return _e.fromMiliseconds(Date.now()+_e.toMiliseconds(t))}function ou(t){return Date.now()>=_e.toMiliseconds(t)}function Ht(t,e){return`${t}${e?`:${e}`:""}`}function ic(t=[],e=[]){return[...new Set([...t,...e])]}async function gwe({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=mwe(i,t,e),a=Wv();if(a===Bi.browser){if(!((r=Rf())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}ywe(o)}else a===Bi.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function mwe(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${Ewe(r,!0)}`}else s=`${s}/wc?${r}`;return s}function ywe(t){let e="_self";vwe()?e="_top":(bwe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function wwe(t,e){let n="";try{if(Py()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function U5(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function B5(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function MR(){return typeof process<"u"&&Y0e.IS_VITEST==="true"}function bwe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function vwe(){try{return window.self!==window.top}catch{return!1}}function Ewe(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function aH(t){return Buffer.from(t,"base64").toString("utf-8")}function xwe(t){return new Promise(e=>setTimeout(e,t))}const tE=BigInt(2**32-1),L5=BigInt(32);function cH(t,e=!1){return e?{h:Number(t&tE),l:Number(t>>L5&tE)}:{h:Number(t>>L5&tE)|0,l:Number(t&tE)|0}}function lH(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=cH(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const M5=(t,e,n)=>t>>>n,j5=(t,e,n)=>t<<32-n|e>>>n,au=(t,e,n)=>t>>>n|e<<32-n,cu=(t,e,n)=>t<<32-n|e>>>n,L0=(t,e,n)=>t<<64-n|e>>>n-32,M0=(t,e,n)=>t>>>n-32|e<<64-n,_we=(t,e)=>e,Cwe=(t,e)=>t,Awe=(t,e,n)=>t<<n|e>>>32-n,Swe=(t,e,n)=>e<<n|t>>>32-n,Iwe=(t,e,n)=>e<<n-32|t>>>64-n,Twe=(t,e,n)=>t<<n-32|e>>>64-n;function Mo(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const jR=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),FR=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Nwe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Pwe=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,kwe=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Owe=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,xp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function zR(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function bl(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Eo(t,...e){if(!zR(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function HR(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");bl(t.outputLen),bl(t.blockLen)}function Ad(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function WR(t,e){Eo(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ab(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function xo(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function $2(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Aa(t,e){return t<<32-e|t>>>e}const uH=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function dH(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Ac=uH?t=>t:t=>dH(t);function Rwe(t){for(let e=0;e<t.length;e++)t[e]=dH(t[e]);return t}const lu=uH?t=>t:Rwe,hH=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Dwe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Sb(t){if(Eo(t),hH)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Dwe[t[n]];return e}const Ec={_0:48,_9:57,A:65,F:70,a:97,f:102};function F5(t){if(t>=Ec._0&&t<=Ec._9)return t-Ec._0;if(t>=Ec.A&&t<=Ec.F)return t-(Ec.A-10);if(t>=Ec.a&&t<=Ec.f)return t-(Ec.a-10)}function GR(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(hH)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=F5(t.charCodeAt(i)),a=F5(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function $we(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function da(t){return typeof t=="string"&&(t=$we(t)),Eo(t),t}function _h(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Eo(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let XC=class{};function Gv(t){const e=r=>t().update(da(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Uwe(t){const e=(r,s)=>t(s).update(da(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function ky(t=32){if(xp&&typeof xp.getRandomValues=="function")return xp.getRandomValues(new Uint8Array(t));if(xp&&typeof xp.randomBytes=="function")return Uint8Array.from(xp.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Bwe=BigInt(0),f0=BigInt(1),Lwe=BigInt(2),Mwe=BigInt(7),jwe=BigInt(256),Fwe=BigInt(113),fH=[],pH=[],gH=[];for(let t=0,e=f0,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],fH.push(2*(5*r+n)),pH.push((t+1)*(t+2)/2%64);let s=Bwe;for(let i=0;i<7;i++)e=(e<<f0^(e>>Mwe)*Fwe)%jwe,e&Lwe&&(s^=f0<<(f0<<BigInt(i))-f0);gH.push(s)}const mH=lH(gH,!0),zwe=mH[0],Hwe=mH[1],z5=(t,e,n)=>n>32?Iwe(t,e,n):Awe(t,e,n),H5=(t,e,n)=>n>32?Twe(t,e,n):Swe(t,e,n);function Wwe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=z5(l,u,1)^n[a],h=H5(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=pH[o],c=z5(s,i,a),l=H5(s,i,a),u=fH[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=zwe[r],t[1]^=Hwe[r]}xo(n)}let Gwe=class yH extends XC{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,bl(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Ab(this.state)}clone(){return this._cloneInto()}keccak(){lu(this.state32),Wwe(this.state32,this.rounds),lu(this.state32),this.posOut=0,this.pos=0}update(e){Ad(this),e=da(e),Eo(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Ad(this,!1),Eo(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return bl(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(WR(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,xo(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new yH(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const qwe=(t,e,n)=>Gv(()=>new Gwe(e,t,n)),Vwe=qwe(1,136,256/8);function Kwe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Qwe(t,e,n){return t&e^~t&n}function Ywe(t,e,n){return t&e^t&n^e&n}let wH=class extends XC{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=$2(this.buffer)}update(e){Ad(this),e=da(e),Eo(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=$2(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ad(this),WR(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,xo(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Kwe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=$2(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Fl=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ts=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ns=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Jwe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zl=new Uint32Array(64);let Zwe=class extends wH{constructor(e=32){super(64,e,8,!1),this.A=Fl[0]|0,this.B=Fl[1]|0,this.C=Fl[2]|0,this.D=Fl[3]|0,this.E=Fl[4]|0,this.F=Fl[5]|0,this.G=Fl[6]|0,this.H=Fl[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)zl[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=zl[d-15],f=zl[d-2],p=Aa(h,7)^Aa(h,18)^h>>>3,g=Aa(f,17)^Aa(f,19)^f>>>10;zl[d]=g+zl[d-7]+p+zl[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Aa(a,6)^Aa(a,11)^Aa(a,25),f=u+h+Qwe(a,c,l)+Jwe[d]+zl[d]|0,p=(Aa(r,2)^Aa(r,13)^Aa(r,22))+Ywe(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){xo(zl)}destroy(){this.set(0,0,0,0,0,0,0,0),xo(this.buffer)}};const bH=lH(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Xwe=bH[0],ebe=bH[1],Hl=new Uint32Array(80),Wl=new Uint32Array(80);let qR=class extends wH{constructor(e=64){super(128,e,16,!1),this.Ah=ns[0]|0,this.Al=ns[1]|0,this.Bh=ns[2]|0,this.Bl=ns[3]|0,this.Ch=ns[4]|0,this.Cl=ns[5]|0,this.Dh=ns[6]|0,this.Dl=ns[7]|0,this.Eh=ns[8]|0,this.El=ns[9]|0,this.Fh=ns[10]|0,this.Fl=ns[11]|0,this.Gh=ns[12]|0,this.Gl=ns[13]|0,this.Hh=ns[14]|0,this.Hl=ns[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)Hl[b]=e.getUint32(n),Wl[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const _=Hl[b-15]|0,x=Wl[b-15]|0,C=au(_,x,1)^au(_,x,8)^M5(_,x,7),S=cu(_,x,1)^cu(_,x,8)^j5(_,x,7),N=Hl[b-2]|0,A=Wl[b-2]|0,P=au(N,A,19)^L0(N,A,61)^M5(N,A,6),D=cu(N,A,19)^M0(N,A,61)^j5(N,A,6),j=Nwe(S,D,Wl[b-7],Wl[b-16]),H=Pwe(j,C,P,Hl[b-7],Hl[b-16]);Hl[b]=H|0,Wl[b]=j|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const _=au(d,h,14)^au(d,h,18)^L0(d,h,41),x=cu(d,h,14)^cu(d,h,18)^M0(d,h,41),C=d&f^~d&g,S=h&p^~h&y,N=kwe(v,x,S,ebe[b],Wl[b]),A=Owe(N,w,_,C,Xwe[b],Hl[b]),P=N|0,D=au(r,s,28)^L0(r,s,34)^L0(r,s,39),j=cu(r,s,28)^M0(r,s,34)^M0(r,s,39),H=r&i^r&a^i&a,K=s&o^s&c^o&c;w=g|0,v=y|0,g=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=Mo(l|0,u|0,A|0,P|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const I=jR(P,j,K);r=FR(I,A,D,H),s=I|0}({h:r,l:s}=Mo(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Mo(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Mo(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Mo(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=Mo(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=Mo(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:y}=Mo(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=Mo(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,y,w,v)}roundClean(){xo(Hl,Wl)}destroy(){xo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},tbe=class extends qR{constructor(){super(48),this.Ah=ts[0]|0,this.Al=ts[1]|0,this.Bh=ts[2]|0,this.Bl=ts[3]|0,this.Ch=ts[4]|0,this.Cl=ts[5]|0,this.Dh=ts[6]|0,this.Dl=ts[7]|0,this.Eh=ts[8]|0,this.El=ts[9]|0,this.Fh=ts[10]|0,this.Fl=ts[11]|0,this.Gh=ts[12]|0,this.Gl=ts[13]|0,this.Hh=ts[14]|0,this.Hl=ts[15]|0}};const rs=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let nbe=class extends qR{constructor(){super(32),this.Ah=rs[0]|0,this.Al=rs[1]|0,this.Bh=rs[2]|0,this.Bl=rs[3]|0,this.Ch=rs[4]|0,this.Cl=rs[5]|0,this.Dh=rs[6]|0,this.Dl=rs[7]|0,this.Eh=rs[8]|0,this.El=rs[9]|0,this.Fh=rs[10]|0,this.Fl=rs[11]|0,this.Gh=rs[12]|0,this.Gl=rs[13]|0,this.Hh=rs[14]|0,this.Hl=rs[15]|0}};const eA=Gv(()=>new Zwe),rbe=Gv(()=>new qR),sbe=Gv(()=>new tbe),ibe=Gv(()=>new nbe),obe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),sr=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Re=new Uint32Array(32);function Gl(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=Re[2*t],l=Re[2*t+1],u=Re[2*e],d=Re[2*e+1],h=Re[2*n],f=Re[2*n+1],p=Re[2*r],g=Re[2*r+1],y=jR(c,u,o);l=FR(y,l,d,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:_we(g,p),Dl:Cwe(g)},{h:f,l:h}=Mo(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:au(d,u,24),Bl:cu(d,u,24)},Re[2*t]=c,Re[2*t+1]=l,Re[2*e]=u,Re[2*e+1]=d,Re[2*n]=h,Re[2*n+1]=f,Re[2*r]=p,Re[2*r+1]=g}function ql(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=Re[2*t],l=Re[2*t+1],u=Re[2*e],d=Re[2*e+1],h=Re[2*n],f=Re[2*n+1],p=Re[2*r],g=Re[2*r+1],y=jR(c,u,o);l=FR(y,l,d,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:au(g,p,16),Dl:cu(g,p,16)},{h:f,l:h}=Mo(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:L0(d,u,63),Bl:M0(d,u,63)},Re[2*t]=c,Re[2*t+1]=l,Re[2*e]=u,Re[2*e+1]=d,Re[2*n]=h,Re[2*n+1]=f,Re[2*r]=p,Re[2*r+1]=g}function abe(t,e={},n,r,s){if(bl(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class cbe extends XC{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,bl(e),bl(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=Ab(this.buffer)}update(e){Ad(this),e=da(e),Eo(e);const{blockLen:n,buffer:r,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===n&&(lu(s),this.compress(s,0,!1),lu(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const d=new Uint32Array(a,u,Math.floor((i-c)/4));lu(d);for(let h=0;c+n<i;h+=s.length,c+=n)this.length+=n,this.compress(d,h,!1);lu(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Ad(this),WR(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,xo(this.buffer.subarray(n)),lu(r),this.compress(r,0,!0),lu(r);const s=Ab(e);this.get().forEach((i,o)=>s[o]=Ac(i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=i,e.finished=s,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class lbe extends cbe{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=sr[0]|0,this.v0h=sr[1]|0,this.v1l=sr[2]|0,this.v1h=sr[3]|0,this.v2l=sr[4]|0,this.v2h=sr[5]|0,this.v3l=sr[6]|0,this.v3h=sr[7]|0,this.v4l=sr[8]|0,this.v4h=sr[9]|0,this.v5l=sr[10]|0,this.v5h=sr[11]|0,this.v6l=sr[12]|0,this.v6h=sr[13]|0,this.v7l=sr[14]|0,this.v7h=sr[15]|0,abe(n,e,64,16,16);let{key:r,personalization:s,salt:i}=e,o=0;if(r!==void 0&&(r=da(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=da(i);const a=Ab(i);this.v4l^=Ac(a[0]),this.v4h^=Ac(a[1]),this.v5l^=Ac(a[2]),this.v5h^=Ac(a[3])}if(s!==void 0){s=da(s);const a=Ab(s);this.v6l^=Ac(a[0]),this.v6h^=Ac(a[1]),this.v7l^=Ac(a[2]),this.v7h^=Ac(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:p,v7l:g,v7h:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=p|0,this.v7l=g|0,this.v7h=y|0}compress(e,n,r){this.get().forEach((c,l)=>Re[l]=c),Re.set(sr,16);let{h:s,l:i}=cH(BigInt(this.length));Re[24]=sr[8]^i,Re[25]=sr[9]^s,r&&(Re[28]=~Re[28],Re[29]=~Re[29]);let o=0;const a=obe;for(let c=0;c<12;c++)Gl(0,4,8,12,e,n+2*a[o++]),ql(0,4,8,12,e,n+2*a[o++]),Gl(1,5,9,13,e,n+2*a[o++]),ql(1,5,9,13,e,n+2*a[o++]),Gl(2,6,10,14,e,n+2*a[o++]),ql(2,6,10,14,e,n+2*a[o++]),Gl(3,7,11,15,e,n+2*a[o++]),ql(3,7,11,15,e,n+2*a[o++]),Gl(0,5,10,15,e,n+2*a[o++]),ql(0,5,10,15,e,n+2*a[o++]),Gl(1,6,11,12,e,n+2*a[o++]),ql(1,6,11,12,e,n+2*a[o++]),Gl(2,7,8,13,e,n+2*a[o++]),ql(2,7,8,13,e,n+2*a[o++]),Gl(3,4,9,14,e,n+2*a[o++]),ql(3,4,9,14,e,n+2*a[o++]);this.v0l^=Re[0]^Re[16],this.v0h^=Re[1]^Re[17],this.v1l^=Re[2]^Re[18],this.v1h^=Re[3]^Re[19],this.v2l^=Re[4]^Re[20],this.v2h^=Re[5]^Re[21],this.v3l^=Re[6]^Re[22],this.v3h^=Re[7]^Re[23],this.v4l^=Re[8]^Re[24],this.v4h^=Re[9]^Re[25],this.v5l^=Re[10]^Re[26],this.v5h^=Re[11]^Re[27],this.v6l^=Re[12]^Re[28],this.v6h^=Re[13]^Re[29],this.v7l^=Re[14]^Re[30],this.v7h^=Re[15]^Re[31],xo(Re)}destroy(){this.destroyed=!0,xo(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ube=Uwe(t=>new lbe(t)),dbe="https://rpc.walletconnect.org/v1";function vH(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Vwe(n)).toString("hex")}async function hbe(t,e,n,r,s,i){switch(n.t){case"eip191":return await fbe(t,e,n.s);case"eip1271":return await pbe(t,e,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function fbe(t,e,n){return(await Kme({hash:vH(e),signature:n})).toLowerCase()===t.toLowerCase()}async function pbe(t,e,n,r,s,i){const o=Pg(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:vH(e)).substring(2),h=a+d+c+u+l,f=await fetch(`${i||dbe}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:gbe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function gbe(){return Date.now()+Math.floor(Math.random()*1e3)}function mbe(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return Ny.encode(i)}function ybe(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const s=ube(r,{dkLen:32});return Ny.encode(s)}function W5(t){const e=new Uint8Array(eA(wbe(t)));return Ny.encode(e)}function wbe(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function G5(t){const e=Buffer.from(t,"base64"),n=Oye(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=_ye(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=ibe(i);return jye.encode(o).replace(/=+$/,"")}function U2(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function bbe(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(U2(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(U2(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(U2(r.length)),s.push(r);const i=Buffer.concat(s),o=eA(i);return Buffer.from(o).toString("hex").toUpperCase()}var vbe=Object.defineProperty,Ebe=Object.defineProperties,xbe=Object.getOwnPropertyDescriptors,q5=Object.getOwnPropertySymbols,_be=Object.prototype.hasOwnProperty,Cbe=Object.prototype.propertyIsEnumerable,V5=(t,e,n)=>e in t?vbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Abe=(t,e)=>{for(var n in e||(e={}))_be.call(e,n)&&V5(t,n,e[n]);if(q5)for(var n of q5(e))Cbe.call(e,n)&&V5(t,n,e[n]);return t},Sbe=(t,e)=>Ebe(t,xbe(e));const Ibe="did:pkh:",VR=t=>t==null?void 0:t.split(":"),Tbe=t=>{const e=t&&VR(t);if(e)return t.includes(Ibe)?e[3]:e[1]},rP=t=>{const e=t&&VR(t);if(e)return e[2]+":"+e[3]},f_=t=>{const e=t&&VR(t);if(e)return e.pop()};async function K5(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,i=EH(s,s.iss),o=f_(s.iss);return await hbe(o,i,r,rP(s.iss),n)}const EH=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=f_(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Tbe(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=ex(t.resources);if(p){const g=Ib(p);s=Bbe(s,g)}return[n,r,"",s,"",i,o,a,c,l,u,d,h,f].filter(g=>g!=null).join(`
`)};function Nbe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Pbe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function $f(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function kbe(t,e,n,r={}){return n==null||n.sort((s,i)=>s.localeCompare(i)),{att:{[t]:Obe(e,n,r)}}}function Obe(t,e,n={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function xH(t){return $f(t),`urn:recap:${Nbe(t).replace(/=/g,"")}`}function Ib(t){const e=Pbe(t.replace("urn:recap:",""));return $f(e),e}function Rbe(t,e,n){const r=kbe(t,e,n);return xH(r)}function Dbe(t){return t&&t.includes("urn:recap:")}function $be(t,e){const n=Ib(t),r=Ib(e),s=Ube(n,r);return xH(s)}function Ube(t,e){$f(t),$f(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=Sbe(Abe({},r.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),r}function Bbe(t="",e){$f(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${t?t+" ":""}${o}`}function Q5(t){var e;const n=Ib(t);$f(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function Y5(t){const e=Ib(t);$f(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function ex(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return Dbe(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function _H(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function sP(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function B2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ri(t,...e){if(!_H(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function J5(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Lbe(t,e){ri(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function hd(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Zm(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Mbe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const jbe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Fbe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function iP(t){if(typeof t=="string")t=Fbe(t);else if(_H(t))t=oP(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function zbe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Hbe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Wbe=(t,e)=>{function n(r,...s){if(ri(r),!jbe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?ri(l):ri(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&ri(s[1]);const o=e(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");ri(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,ri(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(ri(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function Z5(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!qbe(e))throw new Error("invalid output, must be aligned");return e}function X5(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function Gbe(t,e,n){sP(n);const r=new Uint8Array(16),s=Mbe(r);return X5(s,0,BigInt(e),n),X5(s,8,BigInt(t),n),r}function qbe(t){return t.byteOffset%4===0}function oP(t){return Uint8Array.from(t)}const CH=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Vbe=CH("expand 16-byte k"),Kbe=CH("expand 32-byte k"),Qbe=hd(Vbe),Ybe=hd(Kbe);function Dt(t,e){return t<<e|t>>>32-e}function aP(t){return t.byteOffset%4===0}const nE=64,Jbe=16,AH=2**32-1,eU=new Uint32Array;function Zbe(t,e,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(nE),u=hd(l),d=aP(s)&&aP(i),h=d?hd(s):eU,f=d?hd(i):eU;for(let p=0;p<c;o++){if(t(e,n,r,u,o,a),o>=AH)throw new Error("arx: counter overflow");const g=Math.min(nE,c-p);if(d&&g===nE){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let w=0,v;w<Jbe;w++)v=y+w,f[v]=h[v]^u[w];p+=nE;continue}for(let y=0,w;y<g;y++)w=p+y,i[w]=s[w]^l[y];p+=g}}function Xbe(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=zbe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return B2(s),B2(o),sP(i),sP(n),(a,c,l,u,d=0)=>{ri(a),ri(c),ri(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),ri(u),B2(d),d<0||d>=AH)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,g,y;if(p===32)f.push(g=oP(a)),y=Ybe;else if(p===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=Qbe,f.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);aP(c)||f.push(c=oP(c));const w=hd(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,w,hd(c.subarray(0,16)),w),c=c.subarray(16)}const v=16-s;if(v!==c.length)throw new Error(`arx: nonce must be ${v} or 16 bytes`);if(v!==12){const _=new Uint8Array(12);_.set(c,i?0:12-c.length),c=_,f.push(c)}const b=hd(c);return Zbe(t,y,w,b,l,u,d,o),Zm(...f),u}}const Pr=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class eve{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=iP(e),ri(e,32);const n=Pr(e,0),r=Pr(e,2),s=Pr(e,4),i=Pr(e,6),o=Pr(e,8),a=Pr(e,10),c=Pr(e,12),l=Pr(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Pr(e,16+2*u)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],g=o[8],y=o[9],w=Pr(e,n+0),v=Pr(e,n+2),b=Pr(e,n+4),_=Pr(e,n+6),x=Pr(e,n+8),C=Pr(e,n+10),S=Pr(e,n+12),N=Pr(e,n+14);let A=i[0]+(w&8191),P=i[1]+((w>>>13|v<<3)&8191),D=i[2]+((v>>>10|b<<6)&8191),j=i[3]+((b>>>7|_<<9)&8191),H=i[4]+((_>>>4|x<<12)&8191),K=i[5]+(x>>>1&8191),I=i[6]+((x>>>14|C<<2)&8191),T=i[7]+((C>>>11|S<<5)&8191),L=i[8]+((S>>>8|N<<8)&8191),U=i[9]+(N>>>5|s),$=0,M=$+A*a+P*(5*y)+D*(5*g)+j*(5*p)+H*(5*f);$=M>>>13,M&=8191,M+=K*(5*h)+I*(5*d)+T*(5*u)+L*(5*l)+U*(5*c),$+=M>>>13,M&=8191;let q=$+A*c+P*a+D*(5*y)+j*(5*g)+H*(5*p);$=q>>>13,q&=8191,q+=K*(5*f)+I*(5*h)+T*(5*d)+L*(5*u)+U*(5*l),$+=q>>>13,q&=8191;let ee=$+A*l+P*c+D*a+j*(5*y)+H*(5*g);$=ee>>>13,ee&=8191,ee+=K*(5*p)+I*(5*f)+T*(5*h)+L*(5*d)+U*(5*u),$+=ee>>>13,ee&=8191;let ce=$+A*u+P*l+D*c+j*a+H*(5*y);$=ce>>>13,ce&=8191,ce+=K*(5*g)+I*(5*p)+T*(5*f)+L*(5*h)+U*(5*d),$+=ce>>>13,ce&=8191;let se=$+A*d+P*u+D*l+j*c+H*a;$=se>>>13,se&=8191,se+=K*(5*y)+I*(5*g)+T*(5*p)+L*(5*f)+U*(5*h),$+=se>>>13,se&=8191;let ae=$+A*h+P*d+D*u+j*l+H*c;$=ae>>>13,ae&=8191,ae+=K*a+I*(5*y)+T*(5*g)+L*(5*p)+U*(5*f),$+=ae>>>13,ae&=8191;let Ee=$+A*f+P*h+D*d+j*u+H*l;$=Ee>>>13,Ee&=8191,Ee+=K*c+I*a+T*(5*y)+L*(5*g)+U*(5*p),$+=Ee>>>13,Ee&=8191;let J=$+A*p+P*f+D*h+j*d+H*u;$=J>>>13,J&=8191,J+=K*l+I*c+T*a+L*(5*y)+U*(5*g),$+=J>>>13,J&=8191;let re=$+A*g+P*p+D*f+j*h+H*d;$=re>>>13,re&=8191,re+=K*u+I*l+T*c+L*a+U*(5*y),$+=re>>>13,re&=8191;let de=$+A*y+P*g+D*p+j*f+H*h;$=de>>>13,de&=8191,de+=K*d+I*u+T*l+L*c+U*a,$+=de>>>13,de&=8191,$=($<<2)+$|0,$=$+M|0,M=$&8191,$=$>>>13,q+=$,i[0]=M,i[1]=q,i[2]=ee,i[3]=ce,i[4]=se,i[5]=ae,i[6]=Ee,i[7]=J,i[8]=re,i[9]=de}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Zm(r)}update(e){J5(this),e=iP(e),ri(e);const{buffer:n,blockLen:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Zm(this.h,this.r,this.buffer,this.pad)}digestInto(e){J5(this),Lbe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function tve(t){const e=(r,s)=>t(s).update(iP(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const nve=tve(t=>new eve(t));function rve(t,e,n,r,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],g=e[5],y=e[6],w=e[7],v=s,b=n[0],_=n[1],x=n[2],C=o,S=a,N=c,A=l,P=u,D=d,j=h,H=f,K=p,I=g,T=y,L=w,U=v,$=b,M=_,q=x;for(let ce=0;ce<i;ce+=2)C=C+P|0,U=Dt(U^C,16),K=K+U|0,P=Dt(P^K,12),C=C+P|0,U=Dt(U^C,8),K=K+U|0,P=Dt(P^K,7),S=S+D|0,$=Dt($^S,16),I=I+$|0,D=Dt(D^I,12),S=S+D|0,$=Dt($^S,8),I=I+$|0,D=Dt(D^I,7),N=N+j|0,M=Dt(M^N,16),T=T+M|0,j=Dt(j^T,12),N=N+j|0,M=Dt(M^N,8),T=T+M|0,j=Dt(j^T,7),A=A+H|0,q=Dt(q^A,16),L=L+q|0,H=Dt(H^L,12),A=A+H|0,q=Dt(q^A,8),L=L+q|0,H=Dt(H^L,7),C=C+D|0,q=Dt(q^C,16),T=T+q|0,D=Dt(D^T,12),C=C+D|0,q=Dt(q^C,8),T=T+q|0,D=Dt(D^T,7),S=S+j|0,U=Dt(U^S,16),L=L+U|0,j=Dt(j^L,12),S=S+j|0,U=Dt(U^S,8),L=L+U|0,j=Dt(j^L,7),N=N+H|0,$=Dt($^N,16),K=K+$|0,H=Dt(H^K,12),N=N+H|0,$=Dt($^N,8),K=K+$|0,H=Dt(H^K,7),A=A+P|0,M=Dt(M^A,16),I=I+M|0,P=Dt(P^I,12),A=A+P|0,M=Dt(M^A,8),I=I+M|0,P=Dt(P^I,7);let ee=0;r[ee++]=o+C|0,r[ee++]=a+S|0,r[ee++]=c+N|0,r[ee++]=l+A|0,r[ee++]=u+P|0,r[ee++]=d+D|0,r[ee++]=h+j|0,r[ee++]=f+H|0,r[ee++]=p+K|0,r[ee++]=g+I|0,r[ee++]=y+T|0,r[ee++]=w+L|0,r[ee++]=v+U|0,r[ee++]=b+$|0,r[ee++]=_+M|0,r[ee++]=x+q|0}const sve=Xbe(rve,{counterRight:!1,counterLength:4,allowShortKeys:!1}),ive=new Uint8Array(16),tU=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(ive.subarray(n))},ove=new Uint8Array(32);function nU(t,e,n,r,s){const i=t(e,n,ove),o=nve.create(i);s&&tU(o,s),tU(o,r);const a=Gbe(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return Zm(i,a),c}const ave=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=Z5(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const c=nU(t,e,n,a,r);return i.set(c,o),Zm(c),i},decrypt(s,i){i=Z5(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=nU(t,e,n,o,r);if(!Hbe(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),Zm(c),i}}),SH=Wbe({blockSize:64,nonceLength:12,tagLength:16},ave(sve));let IH=class extends XC{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,HR(e);const r=da(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),xo(i)}update(e){return Ad(this),this.iHash.update(e),this}digestInto(e){Ad(this),Eo(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const tA=(t,e,n)=>new IH(t,e).update(n).digest();tA.create=(t,e)=>new IH(t,e);function cve(t,e,n){return HR(t),n===void 0&&(n=new Uint8Array(t.outputLen)),tA(t,da(n),da(e))}const L2=Uint8Array.from([0]),rU=Uint8Array.of();function lve(t,e,n,r=32){HR(t),bl(r);const s=t.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=rU);const o=new Uint8Array(i*s),a=tA.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)L2[0]=u+1,c.update(u===0?rU:l).update(n).update(L2).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),xo(l,L2),o.slice(0,r)}const uve=(t,e,n,r,s)=>lve(t,cve(t,e,n),r,s),nA=eA,KR=BigInt(0),cP=BigInt(1);function p_(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function rE(t){const e=t.toString(16);return e.length&1?"0"+e:e}function TH(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?KR:BigInt("0x"+t)}function rA(t){return TH(Sb(t))}function g_(t){return Eo(t),TH(Sb(Uint8Array.from(t).reverse()))}function QR(t,e){return GR(t.toString(16).padStart(e*2,"0"))}function YR(t,e){return QR(t,e).reverse()}function ni(t,e,n){let r;if(typeof e=="string")try{r=GR(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(zR(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const M2=t=>typeof t=="bigint"&&KR<=t;function dve(t,e,n){return M2(t)&&M2(e)&&M2(n)&&e<=t&&t<n}function lP(t,e,n,r){if(!dve(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function hve(t){let e;for(e=0;t>KR;t>>=cP,e+=1);return e}const sA=t=>(cP<<BigInt(t))-cP;function fve(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let i=r(t),o=r(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...h)=>n(o,i,...h),u=(h=r(0))=>{o=l(s(0),h),i=l(),h.length!==0&&(o=l(s(1),h),i=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){i=l();const p=i.slice();f.push(p),h+=i.length}return _h(...f)};return(h,f)=>{c(),u(h);let p;for(;!(p=f(d()));)u();return c(),p}}function iA(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function sU(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const li=BigInt(0),Os=BigInt(1),Ch=BigInt(2),pve=BigInt(3),NH=BigInt(4),PH=BigInt(5),kH=BigInt(8);function fo(t,e){const n=t%e;return n>=li?n:e+n}function Uo(t,e,n){let r=t;for(;e-- >li;)r*=r,r%=n;return r}function iU(t,e){if(t===li)throw new Error("invert: expected non-zero number");if(e<=li)throw new Error("invert: expected positive modulus, got "+e);let n=fo(t,e),r=e,s=li,i=Os;for(;n!==li;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==Os)throw new Error("invert: does not exist");return fo(s,e)}function OH(t,e){const n=(t.ORDER+Os)/NH,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function gve(t,e){const n=(t.ORDER-PH)/kH,r=t.mul(e,Ch),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,Ch),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function mve(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Os,n=0;for(;e%Ch===li;)e/=Ch,n++;let r=Ch;const s=Oy(t);for(;oU(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return OH;let i=s.pow(r,e);const o=(e+Os)/Ch;return function(a,c){if(a.is0(c))return c;if(oU(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),d=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(f++,p=a.sqr(p),f===l)throw new Error("Cannot find square root");const g=Os<<BigInt(l-f-1),y=a.pow(u,g);l=f,u=a.sqr(y),d=a.mul(d,u),h=a.mul(h,y)}return h}}function yve(t){return t%NH===pve?OH:t%kH===PH?gve:mve(t)}const wve=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function bve(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=wve.reduce((r,s)=>(r[s]="function",r),e);return iA(t,n),t}function vve(t,e,n){if(n<li)throw new Error("invalid exponent, negatives unsupported");if(n===li)return t.ONE;if(n===Os)return e;let r=t.ONE,s=e;for(;n>li;)n&Os&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Os;return r}function RH(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function oU(t,e){const n=(t.ORDER-Os)/Ch,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Eve(t,e){e!==void 0&&bl(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Oy(t,e,n=!1,r={}){if(t<=li)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(s=u.BITS),u.sqrt&&(i=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:a}=Eve(t,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:sA(o),ZERO:li,ONE:Os,create:u=>fo(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return li<=u&&u<t},is0:u=>u===li,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&Os)===Os,neg:u=>fo(-u,t),eql:(u,d)=>u===d,sqr:u=>fo(u*u,t),add:(u,d)=>fo(u+d,t),sub:(u,d)=>fo(u-d,t),mul:(u,d)=>fo(u*d,t),pow:(u,d)=>vve(l,u,d),div:(u,d)=>fo(u*iU(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>iU(u,t),sqrt:i||(u=>(c||(c=yve(t)),c(l,u))),toBytes:u=>n?YR(u,a):QR(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?g_(u):rA(u)},invertBatch:u=>RH(l,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(l)}function DH(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function $H(t){const e=DH(t);return e+Math.ceil(e/2)}function xve(t,e,n=!1){const r=t.length,s=DH(e),i=$H(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?g_(t):rA(t),a=fo(o,e-Os)+Os;return n?YR(a,s):QR(a,s)}const Xm=BigInt(0),Ah=BigInt(1);function dw(t,e){const n=e.negate();return t?n:e}function _ve(t,e,n){const r=i=>i.pz,s=RH(t.Fp,n.map(r));return n.map((i,o)=>i.toAffine(s[o])).map(t.fromAffine)}function UH(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function j2(t,e){UH(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=sA(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function aU(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=Ah);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function Cve(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Ave(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const F2=new WeakMap,BH=new WeakMap;function z2(t){return BH.get(t)||1}function cU(t){if(t!==Xm)throw new Error("invalid wNAF")}function Sve(t,e){return{constTimeNegate:dw,hasPrecomputes(n){return z2(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>Xm;)r&Ah&&(s=s.add(i)),i=i.double(),r>>=Ah;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=j2(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=j2(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=aU(s,c,a);s=l,d?o=o.add(dw(f,r[p])):i=i.add(dw(h,r[u]))}return cU(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=j2(n,e);for(let a=0;a<o.windows&&s!==Xm;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=aU(s,a,o);if(s=c,!u){const h=r[l];i=i.add(d?h.negate():h)}}return cU(s),i},getPrecomputes(n,r,s){let i=F2.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),F2.set(r,i))),i},wNAFCached(n,r,s){const i=z2(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=z2(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){UH(r,e),BH.set(n,r),F2.delete(n)}}}function Ive(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>Xm||r>Xm;)n&Ah&&(i=i.add(s)),r&Ah&&(o=o.add(s)),s=s.double(),n>>=Ah,r>>=Ah;return{p1:i,p2:o}}function Tve(t,e,n,r){Cve(n,t),Ave(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=hve(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=sA(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],w=Number(y>>BigInt(f)&l);u[w]=u[w].add(n[g])}let p=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),p=p.add(y);if(h=h.add(p),f!==0)for(let g=0;g<c;g++)h=h.double()}return h}function lU(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return bve(e),e}else return Oy(t)}function Nve(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>Xm))throw new Error(`CURVE.${o} must be positive bigint`)}const r=lU(e.p,n.Fp),s=lU(e.n,n.Fn),i=["Gx","Gy","a","b"];for(const o of i)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const p0=BigInt(0),_p=BigInt(1),sE=BigInt(2);function Pve(t){return iA(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function kve(t){const e=Pve(t),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||ky,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),f=a?sE**BigInt(254):sE**BigInt(447),p=a?BigInt(8)*sE**BigInt(251)-_p:BigInt(4)*sE**BigInt(445)-_p,g=f+p+_p,y=A=>fo(A,n),w=v(d);function v(A){return YR(y(A),u)}function b(A){const P=ni("u coordinate",A,u);return a&&(P[31]&=127),y(g_(P))}function _(A){return g_(s(ni("scalar",A,u)))}function x(A,P){const D=N(b(P),_(A));if(D===p0)throw new Error("invalid private or public key received");return v(D)}function C(A){return x(A,w)}function S(A,P,D){const j=y(A*(P-D));return P=y(P-j),D=y(D+j),{x_2:P,x_3:D}}function N(A,P){lP("u",A,p0,n),lP("scalar",P,f,g);const D=P,j=A;let H=_p,K=p0,I=A,T=_p,L=p0;for(let $=BigInt(l-1);$>=p0;$--){const M=D>>$&_p;L^=M,{x_2:H,x_3:I}=S(L,H,I),{x_2:K,x_3:T}=S(L,K,T),L=M;const q=H+K,ee=y(q*q),ce=H-K,se=y(ce*ce),ae=ee-se,Ee=I+T,J=I-T,re=y(J*q),de=y(Ee*ce),ie=re+de,ye=re-de;I=y(ie*ie),T=y(j*y(ye*ye)),H=y(ee*se),K=y(ae*(ee+y(h*ae)))}({x_2:H,x_3:I}=S(L,H,I)),{x_2:K,x_3:T}=S(L,K,T);const U=i(K);return y(H*U)}return{scalarMult:x,scalarMultBase:C,getSharedSecret:(A,P)=>x(A,P),getPublicKey:A=>C(A),utils:{randomPrivateKey:()=>c(u)},GuBytes:w.slice()}}BigInt(0);const Ove=BigInt(1),uU=BigInt(2),Rve=BigInt(3),Dve=BigInt(5);BigInt(8);const LH={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function $ve(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=LH.p,o=t*t%i*t%i,a=Uo(o,uU,i)*o%i,c=Uo(a,Ove,i)*t%i,l=Uo(c,Dve,i)*c%i,u=Uo(l,e,i)*l%i,d=Uo(u,n,i)*u%i,h=Uo(d,r,i)*d%i,f=Uo(h,s,i)*h%i,p=Uo(f,s,i)*h%i,g=Uo(p,e,i)*l%i;return{pow_p_5_8:Uo(g,uU,i)*t%i,b2:o}}function Uve(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const uP=(()=>{const t=LH.p;return kve({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=$ve(e);return fo(Uo(n,Rve,t)*r,t)},adjustScalarBytes:Uve})})();function dU(t){t.lowS!==void 0&&p_("lowS",t.lowS),t.prehash!==void 0&&p_("prehash",t.prehash)}class Bve extends Error{constructor(e=""){super(e)}}const $c={Err:Bve,_tlv:{encode:(t,e)=>{const{Err:n}=$c;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=rE(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?rE(s.length/2|128):"";return rE(t)+i+s+e},decode(t,e){const{Err:n}=$c;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=$c;if(t<hw)throw new e("integer: negative integers are not allowed");let n=rE(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=$c;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return rA(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=$c,s=ni("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=$c,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},hw=BigInt(0),fw=BigInt(1),Lve=BigInt(2),iE=BigInt(3),Mve=BigInt(4);function jve(t,e,n){function r(s){const i=t.sqr(s),o=t.mul(i,s);return t.add(t.add(o,t.mul(s,e)),n)}return r}function MH(t,e,n){const{BYTES:r}=t;function s(i){let o;if(typeof i=="bigint")o=i;else{let a=ni("private key",i);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function Fve(t,e={}){const{Fp:n,Fn:r}=Nve("weierstrass",t,e),{h:s,n:i}=t;iA(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(N,A,P){const{x:D,y:j}=A.toAffine(),H=n.toBytes(D);if(p_("isCompressed",P),P){a();const K=!n.isOdd(j);return _h(jH(K),H)}else return _h(Uint8Array.of(4),H,n.toBytes(j))}function l(N){Eo(N);const A=n.BYTES,P=A+1,D=2*A+1,j=N.length,H=N[0],K=N.subarray(1);if(j===P&&(H===2||H===3)){const I=n.fromBytes(K);if(!n.isValid(I))throw new Error("bad point: is not on curve, wrong x");const T=h(I);let L;try{L=n.sqrt(T)}catch($){const M=$ instanceof Error?": "+$.message:"";throw new Error("bad point: is not on curve, sqrt error"+M)}a();const U=n.isOdd(L);return(H&1)===1!==U&&(L=n.neg(L)),{x:I,y:L}}else if(j===D&&H===4){const I=n.fromBytes(K.subarray(A*0,A*1)),T=n.fromBytes(K.subarray(A*1,A*2));if(!f(I,T))throw new Error("bad point: is not on curve");return{x:I,y:T}}else throw new Error(`bad point: got length ${j}, expected compressed=${P} or uncompressed=${D}`)}const u=e.toBytes||c,d=e.fromBytes||l,h=jve(n,t.a,t.b);function f(N,A){const P=n.sqr(A),D=h(N);return n.eql(P,D)}if(!f(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(t.a,iE),Mve),g=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(p,g)))throw new Error("bad curve params: a or b");function y(N,A,P=!1){if(!n.isValid(A)||P&&n.is0(A))throw new Error(`bad point coordinate ${N}`);return A}function w(N){if(!(N instanceof x))throw new Error("ProjectivePoint expected")}const v=sU((N,A)=>{const{px:P,py:D,pz:j}=N;if(n.eql(j,n.ONE))return{x:P,y:D};const H=N.is0();A==null&&(A=H?n.ONE:n.inv(j));const K=n.mul(P,A),I=n.mul(D,A),T=n.mul(j,A);if(H)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:K,y:I}}),b=sU(N=>{if(N.is0()){if(e.allowInfinityPoint&&!n.is0(N.py))return;throw new Error("bad point: ZERO")}const{x:A,y:P}=N.toAffine();if(!n.isValid(A)||!n.isValid(P))throw new Error("bad point: x or y not field elements");if(!f(A,P))throw new Error("bad point: equation left != right");if(!N.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function _(N,A,P,D,j){return P=new x(n.mul(P.px,N),P.py,P.pz),A=dw(D,A),P=dw(j,P),A.add(P)}class x{constructor(A,P,D){this.px=y("x",A),this.py=y("y",P,!0),this.pz=y("z",D),Object.freeze(this)}static fromAffine(A){const{x:P,y:D}=A||{};if(!A||!n.isValid(P)||!n.isValid(D))throw new Error("invalid affine point");if(A instanceof x)throw new Error("projective point not allowed");return n.is0(P)&&n.is0(D)?x.ZERO:new x(P,D,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){return _ve(x,"pz",A)}static fromBytes(A){return Eo(A),x.fromHex(A)}static fromHex(A){const P=x.fromAffine(d(ni("pointHex",A)));return P.assertValidity(),P}static fromPrivateKey(A){const P=MH(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return x.BASE.multiply(P(A))}static msm(A,P){return Tve(x,r,A,P)}precompute(A=8,P=!0){return S.setWindowSize(this,A),P||this.multiply(iE),this}_setWindowSize(A){this.precompute(A)}assertValidity(){b(this)}hasEvenY(){const{y:A}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(A)}equals(A){w(A);const{px:P,py:D,pz:j}=this,{px:H,py:K,pz:I}=A,T=n.eql(n.mul(P,I),n.mul(H,j)),L=n.eql(n.mul(D,I),n.mul(K,j));return T&&L}negate(){return new x(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:P}=t,D=n.mul(P,iE),{px:j,py:H,pz:K}=this;let I=n.ZERO,T=n.ZERO,L=n.ZERO,U=n.mul(j,j),$=n.mul(H,H),M=n.mul(K,K),q=n.mul(j,H);return q=n.add(q,q),L=n.mul(j,K),L=n.add(L,L),I=n.mul(A,L),T=n.mul(D,M),T=n.add(I,T),I=n.sub($,T),T=n.add($,T),T=n.mul(I,T),I=n.mul(q,I),L=n.mul(D,L),M=n.mul(A,M),q=n.sub(U,M),q=n.mul(A,q),q=n.add(q,L),L=n.add(U,U),U=n.add(L,U),U=n.add(U,M),U=n.mul(U,q),T=n.add(T,U),M=n.mul(H,K),M=n.add(M,M),U=n.mul(M,q),I=n.sub(I,U),L=n.mul(M,$),L=n.add(L,L),L=n.add(L,L),new x(I,T,L)}add(A){w(A);const{px:P,py:D,pz:j}=this,{px:H,py:K,pz:I}=A;let T=n.ZERO,L=n.ZERO,U=n.ZERO;const $=t.a,M=n.mul(t.b,iE);let q=n.mul(P,H),ee=n.mul(D,K),ce=n.mul(j,I),se=n.add(P,D),ae=n.add(H,K);se=n.mul(se,ae),ae=n.add(q,ee),se=n.sub(se,ae),ae=n.add(P,j);let Ee=n.add(H,I);return ae=n.mul(ae,Ee),Ee=n.add(q,ce),ae=n.sub(ae,Ee),Ee=n.add(D,j),T=n.add(K,I),Ee=n.mul(Ee,T),T=n.add(ee,ce),Ee=n.sub(Ee,T),U=n.mul($,ae),T=n.mul(M,ce),U=n.add(T,U),T=n.sub(ee,U),U=n.add(ee,U),L=n.mul(T,U),ee=n.add(q,q),ee=n.add(ee,q),ce=n.mul($,ce),ae=n.mul(M,ae),ee=n.add(ee,ce),ce=n.sub(q,ce),ce=n.mul($,ce),ae=n.add(ae,ce),q=n.mul(ee,ae),L=n.add(L,q),q=n.mul(Ee,ae),T=n.mul(se,T),T=n.sub(T,q),q=n.mul(se,ee),U=n.mul(Ee,U),U=n.add(U,q),new x(T,L,U)}subtract(A){return this.add(A.negate())}is0(){return this.equals(x.ZERO)}multiply(A){const{endo:P}=e;if(!r.isValidNot0(A))throw new Error("invalid scalar: out of range");let D,j;const H=K=>S.wNAFCached(this,K,x.normalizeZ);if(P){const{k1neg:K,k1:I,k2neg:T,k2:L}=P.splitScalar(A),{p:U,f:$}=H(I),{p:M,f:q}=H(L);j=$.add(q),D=_(P.beta,U,M,K,T)}else{const{p:K,f:I}=H(A);D=K,j=I}return x.normalizeZ([D,j])[0]}multiplyUnsafe(A){const{endo:P}=e,D=this;if(!r.isValid(A))throw new Error("invalid scalar: out of range");if(A===hw||D.is0())return x.ZERO;if(A===fw)return D;if(S.hasPrecomputes(this))return this.multiply(A);if(P){const{k1neg:j,k1:H,k2neg:K,k2:I}=P.splitScalar(A),{p1:T,p2:L}=Ive(x,D,H,I);return _(P.beta,T,L,j,K)}else return S.wNAFCachedUnsafe(D,A)}multiplyAndAddUnsafe(A,P,D){const j=this.multiplyUnsafe(P).add(A.multiplyUnsafe(D));return j.is0()?void 0:j}toAffine(A){return v(this,A)}isTorsionFree(){const{isTorsionFree:A}=e;return s===fw?!0:A?A(x,this):S.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:A}=e;return s===fw?this:A?A(x,this):this.multiplyUnsafe(s)}toBytes(A=!0){return p_("isCompressed",A),this.assertValidity(),u(x,this,A)}toRawBytes(A=!0){return this.toBytes(A)}toHex(A=!0){return Sb(this.toBytes(A))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}x.BASE=new x(t.Gx,t.Gy,n.ONE),x.ZERO=new x(n.ZERO,n.ONE,n.ZERO),x.Fp=n,x.Fn=r;const C=r.BITS,S=Sve(x,e.endo?Math.ceil(C/2):C);return x}function jH(t){return Uint8Array.of(t?2:3)}function zve(t,e,n={}){iA(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||ky,s=e.hmac||((D,...j)=>tA(e.hash,D,_h(...j))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(D){const j=a>>fw;return D>j}function u(D){return l(D)?o.neg(D):D}function d(D,j){if(!o.isValidNot0(j))throw new Error(`invalid signature ${D}: out of range 1..CURVE.n`)}class h{constructor(j,H,K){d("r",j),d("s",H),this.r=j,this.s=H,K!=null&&(this.recovery=K),Object.freeze(this)}static fromCompact(j){const H=o.BYTES,K=ni("compactSignature",j,H*2);return new h(o.fromBytes(K.subarray(0,H)),o.fromBytes(K.subarray(H,H*2)))}static fromDER(j){const{r:H,s:K}=$c.toSig(ni("DER",j));return new h(H,K)}assertValidity(){}addRecoveryBit(j){return new h(this.r,this.s,j)}recoverPublicKey(j){const H=i.ORDER,{r:K,s:I,recovery:T}=this;if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");if(a*Lve<H&&T>1)throw new Error("recovery id is ambiguous for h>1 curve");const L=T===2||T===3?K+a:K;if(!i.isValid(L))throw new Error("recovery id 2 or 3 invalid");const U=i.toBytes(L),$=t.fromHex(_h(jH((T&1)===0),U)),M=o.inv(L),q=b(ni("msgHash",j)),ee=o.create(-q*M),ce=o.create(I*M),se=t.BASE.multiplyUnsafe(ee).add($.multiplyUnsafe(ce));if(se.is0())throw new Error("point at infinify");return se.assertValidity(),se}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes(j){if(j==="compact")return _h(o.toBytes(this.r),o.toBytes(this.s));if(j==="der")return GR($c.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Sb(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Sb(this.toBytes("compact"))}}const f=MH(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(D){try{return f(D),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const D=a;return xve(r($H(D)),D)},precompute(D=8,j=t.BASE){return j.precompute(D,!1)}};function g(D,j=!0){return t.fromPrivateKey(D).toBytes(j)}function y(D){if(typeof D=="bigint")return!1;if(D instanceof t)return!0;const j=ni("key",D).length,H=i.BYTES,K=H+1,I=2*H+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===K))return j===K||j===I}function w(D,j,H=!0){if(y(D)===!0)throw new Error("first arg must be private key");if(y(j)===!1)throw new Error("second arg must be public key");return t.fromHex(j).multiply(f(D)).toBytes(H)}const v=e.bits2int||function(D){if(D.length>8192)throw new Error("input is too large");const j=rA(D),H=D.length*8-c;return H>0?j>>BigInt(H):j},b=e.bits2int_modN||function(D){return o.create(v(D))},_=sA(c);function x(D){return lP("num < 2^"+c,D,hw,_),o.toBytes(D)}function C(D,j,H=S){if(["recovered","canonical"].some(se=>se in H))throw new Error("sign() legacy options not supported");const{hash:K}=e;let{lowS:I,prehash:T,extraEntropy:L}=H;I==null&&(I=!0),D=ni("msgHash",D),dU(H),T&&(D=ni("prehashed msgHash",K(D)));const U=b(D),$=f(j),M=[x($),x(U)];if(L!=null&&L!==!1){const se=L===!0?r(i.BYTES):L;M.push(ni("extraEntropy",se))}const q=_h(...M),ee=U;function ce(se){const ae=v(se);if(!o.isValidNot0(ae))return;const Ee=o.inv(ae),J=t.BASE.multiply(ae).toAffine(),re=o.create(J.x);if(re===hw)return;const de=o.create(Ee*o.create(ee+re*$));if(de===hw)return;let ie=(J.x===re?0:2)|Number(J.y&fw),ye=de;return I&&l(de)&&(ye=u(de),ie^=1),new h(re,ye,ie)}return{seed:q,k2sig:ce}}const S={lowS:e.lowS,prehash:!1},N={lowS:e.lowS,prehash:!1};function A(D,j,H=S){const{seed:K,k2sig:I}=C(D,j,H);return fve(e.hash.outputLen,o.BYTES,s)(K,I)}t.BASE.precompute(8);function P(D,j,H,K=N){const I=D;j=ni("msgHash",j),H=ni("publicKey",H),dU(K);const{lowS:T,prehash:L,format:U}=K;if("strict"in K)throw new Error("options.strict was renamed to lowS");if(U!==void 0&&!["compact","der","js"].includes(U))throw new Error('format must be "compact", "der" or "js"');const $=typeof I=="string"||zR(I),M=!$&&!U&&typeof I=="object"&&I!==null&&typeof I.r=="bigint"&&typeof I.s=="bigint";if(!$&&!M)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,ee;try{if(M)if(U===void 0||U==="js")q=new h(I.r,I.s);else throw new Error("invalid format");if($){try{U!=="compact"&&(q=h.fromDER(I))}catch(ie){if(!(ie instanceof $c.Err))throw ie}!q&&U!=="der"&&(q=h.fromCompact(I))}ee=t.fromHex(H)}catch{return!1}if(!q||T&&q.hasHighS())return!1;L&&(j=e.hash(j));const{r:ce,s:se}=q,ae=b(j),Ee=o.inv(se),J=o.create(ae*Ee),re=o.create(ce*Ee),de=t.BASE.multiplyUnsafe(J).add(ee.multiplyUnsafe(re));return de.is0()?!1:o.create(de.x)===ce}return Object.freeze({getPublicKey:g,getSharedSecret:w,sign:A,verify:P,utils:p,Point:t,Signature:h})}function Hve(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Oy(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function Wve(t){const{CURVE:e,curveOpts:n}=Hve(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function Gve(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function qve(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=Wve(t),s=Fve(e,n),i=zve(s,r,n);return Gve(t,i)}function dP(t,e){const n=r=>qve({...t,hash:r});return{...n(e),create:n}}const FH={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},zH={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},HH={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Vve=Oy(FH.p),Kve=Oy(zH.p),Qve=Oy(HH.p),Yve=dP({...FH,Fp:Vve,lowS:!1},eA);dP({...zH,Fp:Kve,lowS:!1},sbe),dP({...HH,Fp:Qve,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},rbe);const Jve=Yve,WH="base10",Rs="base16",aa="base64pad",pu="base64url",qv="utf8",GH=0,il=1,Vv=2,Zve=0,hU=1,pw=12,JR=32;function Xve(){const t=uP.utils.randomPrivateKey(),e=uP.getPublicKey(t);return{privateKey:pi(t,Rs),publicKey:pi(e,Rs)}}function hP(){const t=ky(JR);return pi(t,Rs)}function e1e(t,e){const n=uP.getSharedSecret(yo(t,Rs),yo(e,Rs)),r=uve(nA,n,void 0,void 0,JR);return pi(r,Rs)}function tx(t){const e=nA(yo(t,Rs));return pi(e,Rs)}function Va(t){const e=nA(yo(t,qv));return pi(e,Rs)}function qH(t){return yo(`${t}`,WH)}function Uf(t){return Number(pi(t,WH))}function VH(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function KH(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function t1e(t){const e=qH(typeof t.type<"u"?t.type:GH);if(Uf(e)===il&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?yo(t.senderPublicKey,Rs):void 0,r=typeof t.iv<"u"?yo(t.iv,Rs):ky(pw),s=yo(t.symKey,Rs),i=SH(s,r).encrypt(yo(t.message,qv)),o=QH({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===pu?VH(o):o}function n1e(t){const e=yo(t.symKey,Rs),{sealed:n,iv:r}=Tb({encoded:t.encoded,encoding:t.encoding}),s=SH(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return pi(s,qv)}function r1e(t,e){const n=qH(Vv),r=ky(pw),s=yo(t,qv),i=QH({type:n,sealed:s,iv:r});return e===pu?VH(i):i}function s1e(t,e){const{sealed:n}=Tb({encoded:t,encoding:e});return pi(n,qv)}function QH(t){if(Uf(t.type)===Vv)return pi(uw([t.type,t.sealed]),aa);if(Uf(t.type)===il){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return pi(uw([t.type,t.senderPublicKey,t.iv,t.sealed]),aa)}return pi(uw([t.type,t.iv,t.sealed]),aa)}function Tb(t){const e=(t.encoding||aa)===pu?KH(t.encoded):t.encoded,n=yo(e,aa),r=n.slice(Zve,hU),s=hU;if(Uf(r)===il){const c=s+JR,l=c+pw,u=n.slice(s,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(Uf(r)===Vv){const c=n.slice(s),l=ky(pw);return{type:r,sealed:c,iv:l}}const i=s+pw,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function i1e(t,e){const n=Tb({encoded:t,encoding:e==null?void 0:e.encoding});return YH({type:Uf(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?pi(n.senderPublicKey,Rs):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function YH(t){const e=(t==null?void 0:t.type)||GH;if(e===il){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function fU(t){return t.type===il&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function pU(t){return t.type===Vv}function o1e(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return uw([new Uint8Array([4]),e,n])}function a1e(t,e){const[n,r,s]=t.split("."),i=Buffer.from(KH(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=nA(c),u=o1e(e);if(!Jve.verify(uw([o,a]),l,u))throw new Error("Invalid signature");return KN(t).payload}const c1e="irn";function m_(t){return(t==null?void 0:t.relay)||{protocol:c1e}}function j0(t){const e=B0e[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function l1e(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=t[s];n[i]=o}}),n}function gU(t){if(!t.includes("wc:")){const l=aH(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(i),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:u1e(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:l1e(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function u1e(t){return t.startsWith("//")?t.substring(2):t}function d1e(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const i=s,o=n+e+i;t[i]&&(r[o]=t[i])}),r}function mU(t){const e=new URLSearchParams,n=d1e(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function oE(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var h1e=Object.defineProperty,f1e=Object.defineProperties,p1e=Object.getOwnPropertyDescriptors,yU=Object.getOwnPropertySymbols,g1e=Object.prototype.hasOwnProperty,m1e=Object.prototype.propertyIsEnumerable,wU=(t,e,n)=>e in t?h1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y1e=(t,e)=>{for(var n in e||(e={}))g1e.call(e,n)&&wU(t,n,e[n]);if(yU)for(var n of yU(e))m1e.call(e,n)&&wU(t,n,e[n]);return t},w1e=(t,e)=>f1e(t,p1e(e));function Ry(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function b1e(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Ry(n.accounts))}),e}function v1e(t,e){const n=[];return Object.values(t).forEach(r=>{Ry(r.accounts).includes(e)&&n.push(...r.methods)}),n}function E1e(t,e){const n=[];return Object.values(t).forEach(r=>{Ry(r.accounts).includes(e)&&n.push(...r.events)}),n}function oA(t){return t.includes(":")}function hg(t){return oA(t)?t.split(":")[0]:t}function bU(t){var e,n,r;const s={};if(!fd(t))return s;for(const[i,o]of Object.entries(t)){const a=oA(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=hg(i);s[u]=w1e(y1e({},s[u]),{chains:ic(a,(e=s[u])==null?void 0:e.chains),methods:ic(c,(n=s[u])==null?void 0:n.methods),events:ic(l,(r=s[u])==null?void 0:r.events)})}return s}function x1e(t){const e={};return t==null||t.forEach(n=>{var r;const[s,i]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${i}`)}),e}function vU(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=x1e(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=ic(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}function _1e(t,e){var n,r,s,i,o,a;const c=bU(t),l=bU(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:ic((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:ic((s=c[h])==null?void 0:s.methods,(i=l[h])==null?void 0:i.methods),events:ic((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const C1e={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},A1e={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ce(t,e){const{message:n,code:r}=A1e[t];return{message:e?`${n} ${e}`:n,code:r}}function In(t,e){const{message:n,code:r}=C1e[t];return{message:e?`${n} ${e}`:n,code:r}}function ol(t,e){return!!Array.isArray(t)}function fd(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Br(t){return typeof t>"u"}function er(t,e){return e&&Br(t)?!0:typeof t=="string"&&!!t.trim().length}function ZR(t,e){return e&&Br(t)?!0:typeof t=="number"&&!isNaN(t)}function S1e(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let i=!0;return xh(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=Ry(a),d=n[o];(!xh(nH(o,d),u)||!xh(d.methods,c)||!xh(d.events,l))&&(i=!1)}),i):!1}function y_(t){return er(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function I1e(t){if(er(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&y_(n)}}return!1}function T1e(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(er(t,!1)){if(e(t))return!0;const n=aH(t);return e(n)}}catch{}return!1}function N1e(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function P1e(t){return t==null?void 0:t.topic}function k1e(t,e){let n=null;return er(t==null?void 0:t.publicKey,!1)||(n=Ce("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function EU(t){let e=!0;return ol(t)?t.length&&(e=t.every(n=>er(n,!1))):e=!1,e}function O1e(t,e,n){let r=null;return ol(e)&&e.length?e.forEach(s=>{r||y_(s)||(r=In("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):y_(t)||(r=In("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function R1e(t,e,n){let r=null;return Object.entries(t).forEach(([s,i])=>{if(r)return;const o=O1e(s,nH(s,i),`${e} ${n}`);o&&(r=o)}),r}function D1e(t,e){let n=null;return ol(t)?t.forEach(r=>{n||I1e(r)||(n=In("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=In("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function $1e(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=D1e(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function U1e(t,e){let n=null;return EU(t==null?void 0:t.methods)?EU(t==null?void 0:t.events)||(n=In("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=In("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function JH(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=U1e(r,`${e}, namespace`);s&&(n=s)}),n}function B1e(t,e,n){let r=null;if(t&&fd(t)){const s=JH(t,e);s&&(r=s);const i=R1e(t,e,n);i&&(r=i)}else r=Ce("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function H2(t,e){let n=null;if(t&&fd(t)){const r=JH(t,e);r&&(n=r);const s=$1e(t,e);s&&(n=s)}else n=Ce("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function ZH(t){return er(t.protocol,!0)}function L1e(t,e){let n=!1;return t?t&&ol(t)&&t.length&&t.forEach(r=>{n=ZH(r)}):n=!0,n}function M1e(t){return typeof t=="number"}function Qs(t){return typeof t<"u"&&typeof t!==null}function j1e(t){return!(!t||typeof t!="object"||!t.code||!ZR(t.code,!1)||!t.message||!er(t.message,!1))}function F1e(t){return!(Br(t)||!er(t.method,!1))}function z1e(t){return!(Br(t)||Br(t.result)&&Br(t.error)||!ZR(t.id,!1)||!er(t.jsonrpc,!1))}function H1e(t){return!(Br(t)||!er(t.name,!1))}function xU(t,e){return!(!y_(e)||!b1e(t).includes(e))}function W1e(t,e,n){return er(n,!1)?v1e(t,e).includes(n):!1}function G1e(t,e,n){return er(n,!1)?E1e(t,e).includes(n):!1}function _U(t,e,n){let r=null;const s=q1e(t),i=V1e(e),o=Object.keys(s),a=Object.keys(i),c=CU(Object.keys(t)),l=CU(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=Ce("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),xh(o,a)||(r=Ce("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=Ry(e[d].accounts);h.includes(d)||(r=Ce("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(xh(s[d].methods,i[d].methods)?xh(s[d].events,i[d].events)||(r=Ce("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=Ce("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function q1e(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function CU(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function V1e(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Ry(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(i=>i.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function K1e(t,e){return ZR(t,!1)&&t<=e.max&&t>=e.min}function AU(){const t=Wv();return new Promise(e=>{switch(t){case Bi.browser:e(Q1e());break;case Bi.reactNative:e(Y1e());break;case Bi.node:e(J1e());break;default:e(!0)}})}function Q1e(){return Py()&&(navigator==null?void 0:navigator.onLine)}async function Y1e(){if(Ld()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function J1e(){return!0}function Z1e(t){switch(Wv()){case Bi.browser:X1e(t);break;case Bi.reactNative:eEe(t);break}}function X1e(t){!Ld()&&Py()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function eEe(t){Ld()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function tEe(){var t;return Py()&&Rf()?((t=Rf())==null?void 0:t.visibilityState)==="visible":!0}const W2={};class g0{static get(e){return W2[e]}static set(e,n){W2[e]=n}static delete(e){delete W2[e]}}function nEe(t){const e=Ny.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function rEe({publicKey:t,signature:e,payload:n}){var r;const s=fP(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=oEe(n.address),a=n.era==="00"?new Uint8Array([0]):fP(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${iEe(n.tip)}`),d=cEe(u),h=new Uint8Array([0,...t,o,...e,...a,...l,...d,...s]),f=aEe(h.length+1);return new Uint8Array([...f,i,...h])}function sEe(t){const e=fP(t),n=Q0e.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function fP(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function iEe(t){return t.startsWith("0x")?t.slice(2):t}function oEe(t){const e=Ny.decode(t)[0];return e===42?0:e===60?2:1}function aEe(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function cEe(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function lEe(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=nEe(t.transaction.address),r=rEe({publicKey:n,signature:e,payload:t.transaction}),s=Buffer.from(r).toString("hex");return sEe(s)}const uEe="PARSE_ERROR",dEe="INVALID_REQUEST",hEe="METHOD_NOT_FOUND",fEe="INVALID_PARAMS",XH="INTERNAL_ERROR",XR="SERVER_ERROR",pEe=[-32700,-32600,-32601,-32602,-32603],gw={[uEe]:{code:-32700,message:"Parse error"},[dEe]:{code:-32600,message:"Invalid Request"},[hEe]:{code:-32601,message:"Method not found"},[fEe]:{code:-32602,message:"Invalid params"},[XH]:{code:-32603,message:"Internal error"},[XR]:{code:-32e3,message:"Server error"}},eW=XR;function gEe(t){return pEe.includes(t)}function SU(t){return Object.keys(gw).includes(t)?gw[t]:gw[eW]}function mEe(t){const e=Object.values(gw).find(n=>n.code===t);return e||gw[eW]}function tW(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var nW={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pP=function(t,e){return pP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},pP(t,e)};function yEe(t,e){pP(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var gP=function(){return gP=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gP.apply(this,arguments)};function wEe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function bEe(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function vEe(t,e){return function(n,r){e(n,r,t)}}function EEe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function xEe(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function _Ee(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function CEe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function AEe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function mP(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rW(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function SEe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(rW(arguments[e]));return t}function IEe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function Nb(t){return this instanceof Nb?(this.v=t,this):new Nb(t)}function TEe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof Nb?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function NEe(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Nb(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function PEe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof mP=="function"?mP(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function kEe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function OEe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function REe(t){return t&&t.__esModule?t:{default:t}}function DEe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function $Ee(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const UEe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return gP},__asyncDelegator:NEe,__asyncGenerator:TEe,__asyncValues:PEe,__await:Nb,__awaiter:xEe,__classPrivateFieldGet:DEe,__classPrivateFieldSet:$Ee,__createBinding:CEe,__decorate:bEe,__exportStar:AEe,__extends:yEe,__generator:_Ee,__importDefault:REe,__importStar:OEe,__makeTemplateObject:kEe,__metadata:EEe,__param:vEe,__read:rW,__rest:wEe,__spread:SEe,__spreadArrays:IEe,__values:mP},Symbol.toStringTag,{value:"Module"})),BEe=X_(UEe);var xc={},IU;function LEe(){if(IU)return xc;IU=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.isBrowserCryptoAvailable=xc.getSubtleCrypto=xc.getBrowerCrypto=void 0;function t(){return(jn==null?void 0:jn.crypto)||(jn==null?void 0:jn.msCrypto)||{}}xc.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}xc.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return xc.isBrowserCryptoAvailable=n,xc}var _c={},TU;function MEe(){if(TU)return _c;TU=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.isBrowser=_c.isNode=_c.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}_c.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}_c.isNode=e;function n(){return!t()&&!e()}return _c.isBrowser=n,_c}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=BEe;e.__exportStar(LEe(),t),e.__exportStar(MEe(),t)})(nW);function ka(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Sh(t=6){return BigInt(ka(t))}function Yu(t,e,n){return{id:n||ka(),jsonrpc:"2.0",method:t,params:e}}function aA(t,e){return{id:t,jsonrpc:"2.0",result:e}}function cA(t,e,n){return{id:t,jsonrpc:"2.0",error:jEe(e)}}function jEe(t,e){return typeof t>"u"?SU(XH):(typeof t=="string"&&(t=Object.assign(Object.assign({},SU(XR)),{message:t})),gEe(t.code)&&(t=mEe(t.code)),t)}let FEe=class{},zEe=class extends FEe{constructor(){super()}},HEe=class extends zEe{constructor(e){super()}};const WEe="^https?:",GEe="^wss?:";function qEe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function sW(t,e){const n=qEe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function NU(t){return sW(t,WEe)}function PU(t){return sW(t,GEe)}function VEe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function iW(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function e3(t){return iW(t)&&"method"in t}function lA(t){return iW(t)&&(Oa(t)||uo(t))}function Oa(t){return"result"in t}function uo(t){return"error"in t}let Ao=class extends HEe{constructor(e){super(e),this.events=new Co.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Yu(e.method,e.params||[],e.id||Sh().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{uo(i)?s(i.error):r(i.result)});try{await this.connection.send(e,n)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),lA(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const KEe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),QEe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",kU=t=>t.split("?")[0],OU=10,YEe=KEe();let JEe=class{constructor(e){if(this.url=e,this.events=new Co.EventEmitter,this.registering=!1,!PU(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(wl(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!PU(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=nW.isReactNative()?void 0:{rejectUnauthorized:!VEe(e)},i=new YEe(e,[],s);QEe()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Of(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=cA(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return tW(e,kU(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>OU&&this.events.setMaxListeners(OU)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${kU(this.url)}`));return this.events.emit("register_error",n),n}};var ZEe={};const oW="wc",aW=2,yP="core",lc=`${oW}@2:${yP}:`,XEe={logger:"error"},exe={database:":memory:"},txe="crypto",RU="client_ed25519_seed",nxe=_e.ONE_DAY,rxe="keychain",sxe="0.3",ixe="messages",oxe="0.3",DU=_e.SIX_HOURS,axe="publisher",cW="irn",cxe="error",lW="wss://relay.walletconnect.org",lxe="relayer",vr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},uxe="_subscription",Ji={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},dxe=.1,wP="2.21.3",xn={link_mode:"link_mode",relay:"relay"},nx={inbound:"inbound",outbound:"outbound"},hxe="0.3",fxe="WALLETCONNECT_CLIENT_ID",$U="WALLETCONNECT_LINK_MODE_APPS",Si={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},pxe="subscription",gxe="0.3",mxe="pairing",yxe="0.3",m0={wc_pairingDelete:{req:{ttl:_e.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:_e.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:_e.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:_e.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:_e.ONE_DAY,prompt:!1,tag:0},res:{ttl:_e.ONE_DAY,prompt:!1,tag:0}}},ch={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Oo={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},wxe="history",bxe="0.3",vxe="expirer",no={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Exe="0.3",xxe="verify-api",_xe="https://verify.walletconnect.com",uW="https://verify.walletconnect.org",mw=uW,Cxe=`${mw}/v3`,Axe=[_xe,uW],Sxe="echo",Ixe="https://echo.walletconnect.com",Na={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Sc={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ro={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Vd={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Kd={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},y0={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Txe=.1,Nxe="event-client",Pxe=86400,kxe="https://pulse.walletconnect.org/batch";function Oxe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,w=0,v=p.length;w!==v&&p[w]===0;)w++,g++;for(var b=(v-w)*u+1>>>0,_=new Uint8Array(b);w!==v;){for(var x=p[w],C=0,S=b-1;(x!==0||C<y)&&S!==-1;S--,C++)x+=256*_[S]>>>0,_[S]=x%a>>>0,x=x/a>>>0;if(x!==0)throw new Error("Non-zero carry");y=C,w++}for(var N=b-y;N!==b&&_[N]===0;)N++;for(var A=c.repeat(g);N<b;++N)A+=t.charAt(_[N]);return A}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,w=0;p[g]===c;)y++,g++;for(var v=(p.length-g)*l+1>>>0,b=new Uint8Array(v);p[g];){var _=n[p.charCodeAt(g)];if(_===255)return;for(var x=0,C=v-1;(_!==0||x<w)&&C!==-1;C--,x++)_+=a*b[C]>>>0,b[C]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");w=x,g++}if(p[g]!==" "){for(var S=v-w;S!==v&&b[S]===0;)S++;for(var N=new Uint8Array(y+(v-S)),A=y;S!==v;)N[A++]=b[S++];return N}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Rxe=Oxe,Dxe=Rxe;const dW=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},$xe=t=>new TextEncoder().encode(t),Uxe=t=>new TextDecoder().decode(t);class Bxe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Lxe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return hW(this,e)}}class Mxe{constructor(e){this.decoders=e}or(e){return hW(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const hW=(t,e)=>new Mxe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class jxe{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Bxe(e,n,r),this.decoder=new Lxe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const uA=({name:t,prefix:e,encode:n,decode:r})=>new jxe(t,e,n,r),Kv=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Dxe(n,e);return uA({prefix:t,name:e,encode:r,decode:i=>dW(s(i))})},Fxe=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},zxe=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Kr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>uA({prefix:e,name:t,encode(s){return zxe(s,r,n)},decode(s){return Fxe(s,r,n,t)}}),Hxe=uA({prefix:"\0",name:"identity",encode:t=>Uxe(t),decode:t=>$xe(t)});var Wxe=Object.freeze({__proto__:null,identity:Hxe});const Gxe=Kr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var qxe=Object.freeze({__proto__:null,base2:Gxe});const Vxe=Kr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Kxe=Object.freeze({__proto__:null,base8:Vxe});const Qxe=Kv({prefix:"9",name:"base10",alphabet:"0123456789"});var Yxe=Object.freeze({__proto__:null,base10:Qxe});const Jxe=Kr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Zxe=Kr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Xxe=Object.freeze({__proto__:null,base16:Jxe,base16upper:Zxe});const e_e=Kr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),t_e=Kr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),n_e=Kr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),r_e=Kr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),s_e=Kr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),i_e=Kr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),o_e=Kr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),a_e=Kr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),c_e=Kr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var l_e=Object.freeze({__proto__:null,base32:e_e,base32upper:t_e,base32pad:n_e,base32padupper:r_e,base32hex:s_e,base32hexupper:i_e,base32hexpad:o_e,base32hexpadupper:a_e,base32z:c_e});const u_e=Kv({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),d_e=Kv({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var h_e=Object.freeze({__proto__:null,base36:u_e,base36upper:d_e});const f_e=Kv({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),p_e=Kv({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var g_e=Object.freeze({__proto__:null,base58btc:f_e,base58flickr:p_e});const m_e=Kr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),y_e=Kr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),w_e=Kr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),b_e=Kr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var v_e=Object.freeze({__proto__:null,base64:m_e,base64pad:y_e,base64url:w_e,base64urlpad:b_e});const fW=Array.from(""),E_e=fW.reduce((t,e,n)=>(t[n]=e,t),[]),x_e=fW.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function __e(t){return t.reduce((e,n)=>(e+=E_e[n],e),"")}function C_e(t){const e=[];for(const n of t){const r=x_e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const A_e=uA({prefix:"",name:"base256emoji",encode:__e,decode:C_e});var S_e=Object.freeze({__proto__:null,base256emoji:A_e}),I_e=pW,UU=128,T_e=-128,N_e=Math.pow(2,31);function pW(t,e,n){e=e||[],n=n||0;for(var r=n;t>=N_e;)e[n++]=t&255|UU,t/=128;for(;t&T_e;)e[n++]=t&255|UU,t>>>=7;return e[n]=t|0,pW.bytes=n-r+1,e}var P_e=bP,k_e=128,BU=127;function bP(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw bP.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&BU)<<s:(o&BU)*Math.pow(2,s),s+=7}while(o>=k_e);return bP.bytes=i-r,n}var O_e=Math.pow(2,7),R_e=Math.pow(2,14),D_e=Math.pow(2,21),$_e=Math.pow(2,28),U_e=Math.pow(2,35),B_e=Math.pow(2,42),L_e=Math.pow(2,49),M_e=Math.pow(2,56),j_e=Math.pow(2,63),F_e=function(t){return t<O_e?1:t<R_e?2:t<D_e?3:t<$_e?4:t<U_e?5:t<B_e?6:t<L_e?7:t<M_e?8:t<j_e?9:10},z_e={encode:I_e,decode:P_e,encodingLength:F_e},gW=z_e;const LU=(t,e,n=0)=>(gW.encode(t,e,n),e),MU=t=>gW.encodingLength(t),vP=(t,e)=>{const n=e.byteLength,r=MU(t),s=r+MU(n),i=new Uint8Array(s+n);return LU(t,i,0),LU(n,i,r),i.set(e,s),new H_e(t,n,e,i)};class H_e{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const mW=({name:t,code:e,encode:n})=>new W_e(t,e,n);class W_e{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?vP(this.code,n):n.then(r=>vP(this.code,r))}else throw Error("Unknown type, must be binary type")}}const yW=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),G_e=mW({name:"sha2-256",code:18,encode:yW("SHA-256")}),q_e=mW({name:"sha2-512",code:19,encode:yW("SHA-512")});var V_e=Object.freeze({__proto__:null,sha256:G_e,sha512:q_e});const wW=0,K_e="identity",bW=dW,Q_e=t=>vP(wW,bW(t)),Y_e={code:wW,name:K_e,encode:bW,digest:Q_e};var J_e=Object.freeze({__proto__:null,identity:Y_e});new TextEncoder,new TextDecoder;const jU={...Wxe,...qxe,...Kxe,...Yxe,...Xxe,...l_e,...h_e,...g_e,...v_e,...S_e};({...V_e,...J_e});function vW(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Z_e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?vW(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function EW(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const FU=EW("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),G2=EW("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Z_e(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),X_e={utf8:FU,"utf-8":FU,hex:jU.base16,latin1:G2,ascii:G2,binary:G2,...jU};function eCe(t,e="utf8"){const n=X_e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?vW(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var tCe=Object.defineProperty,nCe=(t,e,n)=>e in t?tCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sa=(t,e,n)=>nCe(t,typeof e!="symbol"?e+"":e,n);class rCe{constructor(e,n){this.core=e,this.logger=n,Sa(this,"keychain",new Map),Sa(this,"name",rxe),Sa(this,"version",sxe),Sa(this,"initialized",!1),Sa(this,"storagePrefix",lc),Sa(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Sa(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Sa(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),Sa(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=Ce("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),Sa(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=ps(n,this.name)}get context(){return wi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,tP(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?nP(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}var sCe=Object.defineProperty,iCe=(t,e,n)=>e in t?sCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kr=(t,e,n)=>iCe(t,typeof e!="symbol"?e+"":e,n);class oCe{constructor(e,n,r){this.core=e,this.logger=n,kr(this,"name",txe),kr(this,"keychain"),kr(this,"randomSessionIdentifier",hP()),kr(this,"initialized",!1),kr(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),kr(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),kr(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=v5(s);return bz(i.publicKey)}),kr(this,"generateKeyPair",()=>{this.isInitialized();const s=Xve();return this.setPrivateKey(s.publicKey,s.privateKey)}),kr(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=v5(i),a=this.randomSessionIdentifier;return await ime(a,s,nxe,o)}),kr(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=e1e(a,i);return this.setSymKey(c,o)}),kr(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||tx(s);return await this.keychain.set(o,s),o}),kr(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),kr(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),kr(this,"encode",async(s,i,o)=>{this.isInitialized();const a=YH(o),c=wl(i);if(pU(a))return r1e(c,o==null?void 0:o.encoding);if(fU(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;s=await this.generateSharedKey(h,f)}const l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return t1e({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),kr(this,"decode",async(s,i,o)=>{this.isInitialized();const a=i1e(i,o);if(pU(a)){const c=s1e(i,o==null?void 0:o.encoding);return Of(c)}if(fU(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=n1e({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return Of(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),kr(this,"getPayloadType",(s,i=aa)=>{const o=Tb({encoded:s,encoding:i});return Uf(o.type)}),kr(this,"getPayloadSenderPublicKey",(s,i=aa)=>{const o=Tb({encoded:s,encoding:i});return o.senderPublicKey?pi(o.senderPublicKey,Rs):void 0}),this.core=e,this.logger=ps(n,this.name),this.keychain=r||new rCe(this.core,this.logger)}get context(){return wi(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(RU)}catch{e=hP(),await this.keychain.set(RU,e)}return eCe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}var aCe=Object.defineProperty,cCe=Object.defineProperties,lCe=Object.getOwnPropertyDescriptors,zU=Object.getOwnPropertySymbols,uCe=Object.prototype.hasOwnProperty,dCe=Object.prototype.propertyIsEnumerable,EP=(t,e,n)=>e in t?aCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hCe=(t,e)=>{for(var n in e||(e={}))uCe.call(e,n)&&EP(t,n,e[n]);if(zU)for(var n of zU(e))dCe.call(e,n)&&EP(t,n,e[n]);return t},fCe=(t,e)=>cCe(t,lCe(e)),Ei=(t,e,n)=>EP(t,typeof e!="symbol"?e+"":e,n);class pCe extends rfe{constructor(e,n){super(e,n),this.logger=e,this.core=n,Ei(this,"messages",new Map),Ei(this,"messagesWithoutClientAck",new Map),Ei(this,"name",ixe),Ei(this,"version",oxe),Ei(this,"initialized",!1),Ei(this,"storagePrefix",lc),Ei(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Ei(this,"set",async(r,s,i)=>{this.isInitialized();const o=Va(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===nx.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,fCe(hCe({},c),{[o]:s}))}return await this.persist(),o}),Ei(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),Ei(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),Ei(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=Va(s);return typeof i[o]<"u"}),Ei(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=Va(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),Ei(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=ps(e,this.name),this.core=n}get context(){return wi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,tP(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,tP(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?nP(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?nP(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}var gCe=Object.defineProperty,mCe=Object.defineProperties,yCe=Object.getOwnPropertyDescriptors,HU=Object.getOwnPropertySymbols,wCe=Object.prototype.hasOwnProperty,bCe=Object.prototype.propertyIsEnumerable,xP=(t,e,n)=>e in t?gCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,aE=(t,e)=>{for(var n in e||(e={}))wCe.call(e,n)&&xP(t,n,e[n]);if(HU)for(var n of HU(e))bCe.call(e,n)&&xP(t,n,e[n]);return t},q2=(t,e)=>mCe(t,yCe(e)),Do=(t,e,n)=>xP(t,typeof e!="symbol"?e+"":e,n);class vCe extends sfe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Do(this,"events",new Co.EventEmitter),Do(this,"name",axe),Do(this,"queue",new Map),Do(this,"publishTimeout",_e.toMiliseconds(_e.ONE_MINUTE)),Do(this,"initialPublishTimeout",_e.toMiliseconds(_e.ONE_SECOND*15)),Do(this,"needsTransportRestart",!1),Do(this,"publish",async(r,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const a=(i==null?void 0:i.ttl)||DU,c=m_(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,d=(i==null?void 0:i.id)||Sh().toString(),h={topic:r,message:s,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},f=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const p=new Promise(async g=>{const y=({id:v})=>{h.opts.id===v&&(this.removeRequestFromQueue(v),this.relayer.events.removeListener(vr.publish,y),g(h))};this.relayer.events.on(vr.publish,y);const w=Qu(new Promise((v,b)=>{this.rpcPublish({topic:r,message:s,ttl:a,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(v).catch(_=>{this.logger.warn(_,_==null?void 0:_.message),b(_)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await w,this.events.removeListener(vr.publish,y)}catch(v){this.queue.set(d,q2(aE({},h),{attempt:1})),this.logger.warn(v,v==null?void 0:v.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:s,opts:i}}),await Qu(p,this.publishTimeout,f)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=i==null?void 0:i.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(d)}}),Do(this,"on",(r,s)=>{this.events.on(r,s)}),Do(this,"once",(r,s)=>{this.events.once(r,s)}),Do(this,"off",(r,s)=>{this.events.off(r,s)}),Do(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=ps(n,this.name),this.registerEventListeners()}get context(){return wi(this.logger)}async rpcPublish(e){var n,r,s,i;const{topic:o,message:a,ttl:c=DU,prompt:l,tag:u,id:d,attestation:h,tvf:f}=e,p={method:j0(m_().protocol).publish,params:aE({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},f),id:d};Br((n=p.params)==null?void 0:n.prompt)&&((r=p.params)==null||delete r.prompt),Br((s=p.params)==null?void 0:s.tag)&&((i=p.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const g=await this.relayer.request(p);return this.relayer.events.emit(vr.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,q2(aE({},e),{attempt:r}));const{topic:s,message:i,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(q2(aE({},e),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(tp.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(vr.connection_stalled);return}this.checkQueue()}),this.relayer.on(vr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var ECe=Object.defineProperty,xCe=(t,e,n)=>e in t?ECe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cp=(t,e,n)=>xCe(t,typeof e!="symbol"?e+"":e,n);class _Ce{constructor(){Cp(this,"map",new Map),Cp(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Cp(this,"get",e=>this.map.get(e)||[]),Cp(this,"exists",(e,n)=>this.get(e).includes(n)),Cp(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),Cp(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var CCe=Object.defineProperty,ACe=Object.defineProperties,SCe=Object.getOwnPropertyDescriptors,WU=Object.getOwnPropertySymbols,ICe=Object.prototype.hasOwnProperty,TCe=Object.prototype.propertyIsEnumerable,_P=(t,e,n)=>e in t?CCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w0=(t,e)=>{for(var n in e||(e={}))ICe.call(e,n)&&_P(t,n,e[n]);if(WU)for(var n of WU(e))TCe.call(e,n)&&_P(t,n,e[n]);return t},V2=(t,e)=>ACe(t,SCe(e)),un=(t,e,n)=>_P(t,typeof e!="symbol"?e+"":e,n);class NCe extends afe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,un(this,"subscriptions",new Map),un(this,"topicMap",new _Ce),un(this,"events",new Co.EventEmitter),un(this,"name",pxe),un(this,"version",gxe),un(this,"pending",new Map),un(this,"cached",[]),un(this,"initialized",!1),un(this,"storagePrefix",lc),un(this,"subscribeTimeout",_e.toMiliseconds(_e.ONE_MINUTE)),un(this,"initialSubscribeTimeout",_e.toMiliseconds(_e.ONE_SECOND*15)),un(this,"clientId"),un(this,"batchSubscribeTopicsLimit",500),un(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),un(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const i=m_(s),o={topic:r,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,i,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),a}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),un(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),un(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),un(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),un(this,"on",(r,s)=>{this.events.on(r,s)}),un(this,"once",(r,s)=>{this.events.once(r,s)}),un(this,"off",(r,s)=>{this.events.off(r,s)}),un(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),un(this,"start",async()=>{await this.onConnect()}),un(this,"stop",async()=>{await this.onDisconnect()}),un(this,"restart",async()=>{await this.restore(),await this.onRestart()}),un(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),un(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(tp.pulse,async()=>{await this.checkPending()}),this.events.on(Si.created,async r=>{const s=Si.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(Si.deleted,async r=>{const s=Si.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=ps(n,this.name),this.clientId=""}get context(){return wi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=m_(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const i=In("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||(r==null?void 0:r.transportType)===xn.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const i={method:j0(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===xn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(u=>this.logger.warn(u))},_e.toMiliseconds(_e.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(Si.created,d),u(h.id))};this.events.on(Si.created,d);try{const h=await Qu(new Promise((f,p)=>{this.relayer.request(i).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),p(g)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Si.created,d),u(h)}catch{}}),l=await Qu(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(vr.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:j0(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Qu(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(vr.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:j0(n.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await Qu(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(vr.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:j0(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,V2(w0({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,w0({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,w0({},n)),this.topicMap.set(n.topic,e),this.events.emit(Si.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Si.deleted,V2(w0({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Si.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Si.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>V2(w0({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await xwe(_e.toMiliseconds(_e.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Va(e+await this.getClientId())}}var PCe=Object.defineProperty,GU=Object.getOwnPropertySymbols,kCe=Object.prototype.hasOwnProperty,OCe=Object.prototype.propertyIsEnumerable,CP=(t,e,n)=>e in t?PCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qU=(t,e)=>{for(var n in e||(e={}))kCe.call(e,n)&&CP(t,n,e[n]);if(GU)for(var n of GU(e))OCe.call(e,n)&&CP(t,n,e[n]);return t},$t=(t,e,n)=>CP(t,typeof e!="symbol"?e+"":e,n);class RCe extends ife{constructor(e){super(e),$t(this,"protocol","wc"),$t(this,"version",2),$t(this,"core"),$t(this,"logger"),$t(this,"events",new Co.EventEmitter),$t(this,"provider"),$t(this,"messages"),$t(this,"subscriber"),$t(this,"publisher"),$t(this,"name",lxe),$t(this,"transportExplicitlyClosed",!1),$t(this,"initialized",!1),$t(this,"connectionAttemptInProgress",!1),$t(this,"relayUrl"),$t(this,"projectId"),$t(this,"packageName"),$t(this,"bundleId"),$t(this,"hasExperiencedNetworkDisruption",!1),$t(this,"pingTimeout"),$t(this,"heartBeatTimeout",_e.toMiliseconds(_e.THIRTY_SECONDS+_e.FIVE_SECONDS)),$t(this,"reconnectTimeout"),$t(this,"connectPromise"),$t(this,"reconnectInProgress",!1),$t(this,"requestsInFlight",[]),$t(this,"connectTimeout",_e.toMiliseconds(_e.ONE_SECOND*15)),$t(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||Sh().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),$t(this,"resetPingTimeout",()=>{h_()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),$t(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),$t(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(vr.connect)}),$t(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),$t(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(vr.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),$t(this,"registerProviderListeners",()=>{this.provider.on(Ji.payload,this.onPayloadHandler),this.provider.on(Ji.connect,this.onConnectHandler),this.provider.on(Ji.disconnect,this.onDisconnectHandler),this.provider.on(Ji.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ps(e.logger,this.name):jv(Cy({level:e.logger||cxe})),this.messages=new pCe(this.logger,e.core),this.subscriber=new NCe(this,this.logger),this.publisher=new vCe(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||lW,this.projectId=e.projectId,owe()?this.packageName=$5():awe()&&(this.bundleId=$5()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return wi(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:xn.relay},nx.outbound)}async subscribe(e,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Si.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Si.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,qU({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Qu(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await AU())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=ir(_e.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(vr.message,e),await this.recordMessageEvent(e,nx.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(Ji.disconnect,i),await Qu(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(Ji.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ji.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Ji.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,_e.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,i;if(h_())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Ao(new JEe(hwe({sdkVersion:wP,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),e3(e)){if(!e.method.endsWith(uxe))return;const n=e.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:xn.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(qU({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else lA(e)&&this.events.emit(vr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,nx.inbound),this.events.emit(vr.message,e))}async acknowledgePayload(e){const n=aA(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Ji.payload,this.onPayloadHandler),this.provider.off(Ji.connect,this.onConnectHandler),this.provider.off(Ji.disconnect,this.onDisconnectHandler),this.provider.off(Ji.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await AU();Z1e(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(tp.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&tEe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(vr.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},_e.toMiliseconds(dxe)))))}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function DCe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function VU(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function KU(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const $Ce="[object RegExp]",UCe="[object String]",BCe="[object Number]",LCe="[object Boolean]",QU="[object Arguments]",MCe="[object Symbol]",jCe="[object Date]",FCe="[object Map]",zCe="[object Set]",HCe="[object Array]",WCe="[object Function]",GCe="[object ArrayBuffer]",K2="[object Object]",qCe="[object Error]",VCe="[object DataView]",KCe="[object Uint8Array]",QCe="[object Uint8ClampedArray]",YCe="[object Uint16Array]",JCe="[object Uint32Array]",ZCe="[object BigUint64Array]",XCe="[object Int8Array]",eAe="[object Int16Array]",tAe="[object Int32Array]",nAe="[object BigInt64Array]",rAe="[object Float32Array]",sAe="[object Float64Array]";function iAe(){}function YU(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function oAe(t,e,n){return F0(t,e,void 0,void 0,void 0,void 0,n)}function F0(t,e,n,r,s,i,o){const a=o(t,e,n,r,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return yw(t,e,i,o)}return yw(t,e,i,o)}function yw(t,e,n,r){if(Object.is(t,e))return!0;let s=KU(t),i=KU(e);if(s===QU&&(s=K2),i===QU&&(i=K2),s!==i)return!1;switch(s){case UCe:return t.toString()===e.toString();case BCe:{const c=t.valueOf(),l=e.valueOf();return DCe(c,l)}case LCe:case jCe:case MCe:return Object.is(t.valueOf(),e.valueOf());case $Ce:return t.source===e.source&&t.flags===e.flags;case WCe:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(s){case FCe:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!F0(l,e.get(c),c,t,e,n,r))return!1;return!0}case zCe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>F0(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case HCe:case KCe:case QCe:case YCe:case JCe:case ZCe:case XCe:case eAe:case tAe:case nAe:case rAe:case sAe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!F0(t[c],e[c],c,t,e,n,r))return!1;return!0}case GCe:return t.byteLength!==e.byteLength?!1:yw(new Uint8Array(t),new Uint8Array(e),n,r);case VCe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:yw(new Uint8Array(t),new Uint8Array(e),n,r);case qCe:return t.name===e.name&&t.message===e.message;case K2:{if(!(yw(t.constructor,e.constructor,n,r)||YU(t)&&YU(e)))return!1;const c=[...Object.keys(t),...VU(t)],l=[...Object.keys(e),...VU(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!F0(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function aAe(t,e){return oAe(t,e,iAe)}var cAe=Object.defineProperty,JU=Object.getOwnPropertySymbols,lAe=Object.prototype.hasOwnProperty,uAe=Object.prototype.propertyIsEnumerable,AP=(t,e,n)=>e in t?cAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZU=(t,e)=>{for(var n in e||(e={}))lAe.call(e,n)&&AP(t,n,e[n]);if(JU)for(var n of JU(e))uAe.call(e,n)&&AP(t,n,e[n]);return t},Ws=(t,e,n)=>AP(t,typeof e!="symbol"?e+"":e,n);class sp extends ofe{constructor(e,n,r,s=lc,i=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,Ws(this,"map",new Map),Ws(this,"version",hxe),Ws(this,"cached",[]),Ws(this,"initialized",!1),Ws(this,"getKey"),Ws(this,"storagePrefix",lc),Ws(this,"recentlyDeleted",[]),Ws(this,"recentlyDeletedLimit",200),Ws(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Br(o)?this.map.set(this.getKey(o),o):N1e(o)?this.map.set(o.id,o):P1e(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Ws(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Ws(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Ws(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>aAe(a[c],o[c]))):this.values)),Ws(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=ZU(ZU({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Ws(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=ps(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return wi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=Ce("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=Ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}var dAe=Object.defineProperty,hAe=(t,e,n)=>e in t?dAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xt=(t,e,n)=>hAe(t,typeof e!="symbol"?e+"":e,n);class fAe{constructor(e,n){this.core=e,this.logger=n,xt(this,"name",mxe),xt(this,"version",yxe),xt(this,"events",new xR),xt(this,"pairings"),xt(this,"initialized",!1),xt(this,"storagePrefix",lc),xt(this,"ignoredPayloadTypes",[il]),xt(this,"registeredMethods",[]),xt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),xt(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),xt(this,"create",async r=>{this.isInitialized();const s=hP(),i=await this.core.crypto.setSymKey(s),o=ir(_e.FIVE_MINUTES),a={protocol:cW},c={topic:i,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=mU({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(ch.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r==null?void 0:r.transportType}),{topic:i,uri:l}}),xt(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Na.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=gU(r.uri);s.props.properties.topic=i,s.addTrace(Na.pairing_uri_validation_success),s.addTrace(Na.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(Na.existing_pairing),u.active)throw s.setError(Sc.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(Na.pairing_not_expired)}const d=c||ir(_e.FIVE_MINUTES),h={topic:i,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(i,d),await this.pairings.set(i,h),s.addTrace(Na.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(ch.create,h),s.addTrace(Na.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(Na.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Sc.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(f){throw s.setError(Sc.subscribe_pairing_topic_failure),f}return s.addTrace(Na.subscribe_pairing_topic_success),h}),xt(this,"activate",async({topic:r})=>{this.isInitialized();const s=ir(_e.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),xt(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=nh();this.events.once(Ht("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),xt(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),xt(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),xt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),xt(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",In("USER_DISCONNECTED")),await this.deletePairing(s))}),xt(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return mU({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),xt(this,"sendRequest",async(r,s,i)=>{const o=Yu(s,i),a=await this.core.crypto.encode(r,o),c=m0[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),xt(this,"sendResult",async(r,s,i)=>{const o=aA(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=m0[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),xt(this,"sendError",async(r,s,i)=>{const o=cA(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=m0[c]?m0[c].res:m0.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),xt(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,In("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),xt(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>ou(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),xt(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),xt(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),xt(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(ch.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),xt(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{Oa(s)?this.events.emit(Ht("pairing_ping",i),{}):uo(s)&&this.events.emit(Ht("pairing_ping",i),{error:s.error})},500)}),xt(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(ch.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),xt(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=In("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),xt(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(In("WC_METHOD_UNSUPPORTED",r))}),xt(this,"isValidPair",(r,s)=>{var i;if(!Qs(r)){const{message:a}=Ce("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(Sc.malformed_pairing_uri),new Error(a)}if(!T1e(r.uri)){const{message:a}=Ce("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(Sc.malformed_pairing_uri),new Error(a)}const o=gU(r==null?void 0:r.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=Ce("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(Sc.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Ce("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(Sc.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&_e.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(Sc.pairing_expired);const{message:a}=Ce("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),xt(this,"isValidPing",async r=>{if(!Qs(r)){const{message:i}=Ce("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),xt(this,"isValidDisconnect",async r=>{if(!Qs(r)){const{message:i}=Ce("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),xt(this,"isValidPairingTopic",async r=>{if(!er(r,!1)){const{message:s}=Ce("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=Ce("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(ou(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=Ce("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=ps(n,this.name),this.pairings=new sp(this.core,this.logger,this.name,this.storagePrefix)}get context(){return wi(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(vr.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==xn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);e3(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):lA(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(no.expired,async e=>{const{topic:n}=oH(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(ch.expire,{topic:n}))})}}var pAe=Object.defineProperty,gAe=(t,e,n)=>e in t?pAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Or=(t,e,n)=>gAe(t,typeof e!="symbol"?e+"":e,n);class mAe extends nfe{constructor(e,n){super(e,n),this.core=e,this.logger=n,Or(this,"records",new Map),Or(this,"events",new Co.EventEmitter),Or(this,"name",wxe),Or(this,"version",bxe),Or(this,"cached",[]),Or(this,"initialized",!1),Or(this,"storagePrefix",lc),Or(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Or(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:ir(_e.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Oo.created,o)}),Or(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=uo(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(Oo.updated,s))}),Or(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),Or(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Oo.deleted,i)}}),this.persist()}),Or(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),Or(this,"on",(r,s)=>{this.events.on(r,s)}),Or(this,"once",(r,s)=>{this.events.once(r,s)}),Or(this,"off",(r,s)=>{this.events.off(r,s)}),Or(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=ps(n,this.name)}get context(){return wi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Yu(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Oo.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Oo.created,e=>{const n=Oo.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Oo.updated,e=>{const n=Oo.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Oo.deleted,e=>{const n=Oo.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(tp.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{_e.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Oo.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}var yAe=Object.defineProperty,wAe=(t,e,n)=>e in t?yAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ss=(t,e,n)=>wAe(t,typeof e!="symbol"?e+"":e,n);class bAe extends cfe{constructor(e,n){super(e,n),this.core=e,this.logger=n,ss(this,"expirations",new Map),ss(this,"events",new Co.EventEmitter),ss(this,"name",vxe),ss(this,"version",Exe),ss(this,"cached",[]),ss(this,"initialized",!1),ss(this,"storagePrefix",lc),ss(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ss(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),ss(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(no.created,{target:i,expiration:o})}),ss(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),ss(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(no.deleted,{target:s,expiration:i})}}),ss(this,"on",(r,s)=>{this.events.on(r,s)}),ss(this,"once",(r,s)=>{this.events.once(r,s)}),ss(this,"off",(r,s)=>{this.events.off(r,s)}),ss(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=ps(n,this.name)}get context(){return wi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return fwe(e);if(typeof e=="number")return pwe(e);const{message:n}=Ce("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(no.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;_e.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(no.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(tp.pulse,()=>this.checkExpirations()),this.events.on(no.created,e=>{const n=no.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(no.expired,e=>{const n=no.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(no.deleted,e=>{const n=no.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}var vAe=Object.defineProperty,EAe=(t,e,n)=>e in t?vAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zn=(t,e,n)=>EAe(t,typeof e!="symbol"?e+"":e,n);class xAe extends lfe{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Zn(this,"name",xxe),Zn(this,"abortController"),Zn(this,"isDevEnv"),Zn(this,"verifyUrlV3",Cxe),Zn(this,"storagePrefix",lc),Zn(this,"version",aW),Zn(this,"publicKey"),Zn(this,"fetchPromise"),Zn(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&_e.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Zn(this,"register",async s=>{if(!Py()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=Rf(),u=this.startAbortTimer(_e.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",y),l.body.removeChild(g),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const y=w=>{if(w.data&&typeof w.data=="string")try{const v=JSON.parse(w.data);if(v.type==="verify_attestation"){if(KN(v.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),h(v.attestation===null?"":v.attestation)}}catch(v){this.logger.warn(v)}};l.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),Zn(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(KN(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),Zn(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(_e.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Zn(this,"getVerifyUrl",s=>{let i=s||mw;return Axe.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${mw}`),i=mw),i}),Zn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(_e.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),Zn(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),Zn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Zn(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Zn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Zn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),Zn(this,"validateAttestation",(s,i)=>{const o=a1e(s,i.publicKey),a={hasExpired:_e.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=ps(n,this.name),this.abortController=new AbortController,this.isDevEnv=MR(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return wi(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),_e.toMiliseconds(e))}}var _Ae=Object.defineProperty,CAe=(t,e,n)=>e in t?_Ae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,XU=(t,e,n)=>CAe(t,typeof e!="symbol"?e+"":e,n);class AAe extends ufe{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,XU(this,"context",Sxe),XU(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${Ixe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=ps(n,this.context)}}var SAe=Object.defineProperty,e6=Object.getOwnPropertySymbols,IAe=Object.prototype.hasOwnProperty,TAe=Object.prototype.propertyIsEnumerable,SP=(t,e,n)=>e in t?SAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b0=(t,e)=>{for(var n in e||(e={}))IAe.call(e,n)&&SP(t,n,e[n]);if(e6)for(var n of e6(e))TAe.call(e,n)&&SP(t,n,e[n]);return t},fr=(t,e,n)=>SP(t,typeof e!="symbol"?e+"":e,n);class NAe extends dfe{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,fr(this,"context",Nxe),fr(this,"storagePrefix",lc),fr(this,"storageVersion",Txe),fr(this,"events",new Map),fr(this,"shouldPersist",!1),fr(this,"init",async()=>{if(!MR())try{const s={eventId:B5(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:sH(this.core.relayer.protocol,this.core.relayer.version,wP)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),fr(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=B5(),u=this.core.projectId||"",d=Date.now(),h=b0({eventId:l,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),fr(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return b0(b0({},a),this.setMethods(a.eventId))}),fr(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),fr(this,"setEventListeners",()=>{this.core.heartbeat.on(tp.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{_e.fromMiliseconds(Date.now())-_e.fromMiliseconds(s.timestamp)>Pxe&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),fr(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),fr(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),fr(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),fr(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),fr(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,b0(b0({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),fr(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),fr(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${kxe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${wP}${i}`,{method:"POST",body:JSON.stringify(s)})}),fr(this,"getAppDomain",()=>rH().url),this.logger=ps(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var PAe=Object.defineProperty,t6=Object.getOwnPropertySymbols,kAe=Object.prototype.hasOwnProperty,OAe=Object.prototype.propertyIsEnumerable,IP=(t,e,n)=>e in t?PAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,n6=(t,e)=>{for(var n in e||(e={}))kAe.call(e,n)&&IP(t,n,e[n]);if(t6)for(var n of t6(e))OAe.call(e,n)&&IP(t,n,e[n]);return t},pn=(t,e,n)=>IP(t,typeof e!="symbol"?e+"":e,n);let RAe=class xW extends Zhe{constructor(e){var n;super(e),pn(this,"protocol",oW),pn(this,"version",aW),pn(this,"name",yP),pn(this,"relayUrl"),pn(this,"projectId"),pn(this,"customStoragePrefix"),pn(this,"events",new Co.EventEmitter),pn(this,"logger"),pn(this,"heartbeat"),pn(this,"relayer"),pn(this,"crypto"),pn(this,"storage"),pn(this,"history"),pn(this,"expirer"),pn(this,"pairing"),pn(this,"verify"),pn(this,"echoClient"),pn(this,"linkModeSupportedApps"),pn(this,"eventClient"),pn(this,"initialized",!1),pn(this,"logChunkController"),pn(this,"on",(a,c)=>this.events.on(a,c)),pn(this,"once",(a,c)=>this.events.once(a,c)),pn(this,"off",(a,c)=>this.events.off(a,c)),pn(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),pn(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:xn.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||lW,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=Cy({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:XEe.logger,name:yP}),{logger:i,chunkLoggerController:o}=CR({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ps(i,this.name),this.heartbeat=new jde,this.crypto=new oCe(this,this.logger,e==null?void 0:e.keychain),this.history=new mAe(this,this.logger),this.expirer=new bAe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new xhe(n6(n6({},exe),e==null?void 0:e.storageOptions)),this.relayer=new RCe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new fAe(this,this.logger),this.verify=new xAe(this,this.logger,this.storage),this.echoClient=new AAe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new NAe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new xW(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(fxe,r),n}get context(){return wi(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem($U,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem($U)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&ZEe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const DAe=RAe,_W="wc",CW=2,AW="client",t3=`${_W}@${CW}:${AW}:`,Q2={name:AW,logger:"error"},r6="WALLETCONNECT_DEEPLINK_CHOICE",$Ae="proposal",s6="Proposal expired",UAe="session",Ap=_e.SEVEN_DAYS,BAe="engine",pr={wc_sessionPropose:{req:{ttl:_e.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:_e.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:_e.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:_e.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:_e.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:_e.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:_e.ONE_DAY,prompt:!1,tag:1104},res:{ttl:_e.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:_e.ONE_DAY,prompt:!1,tag:1106},res:{ttl:_e.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:_e.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:_e.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:_e.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:_e.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:_e.ONE_DAY,prompt:!1,tag:1112},res:{ttl:_e.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:_e.ONE_DAY,prompt:!1,tag:1114},res:{ttl:_e.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:_e.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:_e.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:_e.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:_e.FIVE_MINUTES,prompt:!1,tag:1119}}},Y2={min:_e.FIVE_MINUTES,max:_e.SEVEN_DAYS},Ia={idle:"IDLE",active:"ACTIVE"},LAe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},MAe="request",jAe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],FAe="wc",zAe="auth",HAe="authKeys",WAe="pairingTopics",GAe="requests",dA=`${FAe}@${1.5}:${zAe}:`,rx=`${dA}:PUB_KEY`;var qAe=Object.defineProperty,VAe=Object.defineProperties,KAe=Object.getOwnPropertyDescriptors,i6=Object.getOwnPropertySymbols,QAe=Object.prototype.hasOwnProperty,YAe=Object.prototype.propertyIsEnumerable,TP=(t,e,n)=>e in t?qAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vn=(t,e)=>{for(var n in e||(e={}))QAe.call(e,n)&&TP(t,n,e[n]);if(i6)for(var n of i6(e))YAe.call(e,n)&&TP(t,n,e[n]);return t},Gs=(t,e)=>VAe(t,KAe(e)),ge=(t,e,n)=>TP(t,typeof e!="symbol"?e+"":e,n);class JAe extends gfe{constructor(e){super(e),ge(this,"name",BAe),ge(this,"events",new xR),ge(this,"initialized",!1),ge(this,"requestQueue",{state:Ia.idle,queue:[]}),ge(this,"sessionRequestQueue",{state:Ia.idle,queue:[]}),ge(this,"requestQueueDelay",_e.ONE_SECOND),ge(this,"expectedPairingMethodMap",new Map),ge(this,"recentlyDeletedMap",new Map),ge(this,"recentlyDeletedLimit",200),ge(this,"relayMessageCache",[]),ge(this,"pendingSessions",new Map),ge(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(pr)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},_e.toMiliseconds(this.requestQueueDelay)))}),ge(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Gs(vn({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=_1e(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,d,h=!1;try{if(u){const C=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=C.active}}catch(C){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),C}if(!u||!h){const{topic:C,uri:S}=await this.client.core.pairing.create();u=C,d=S}if(!u){const{message:C}=Ce("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(C)}const f=await this.client.core.crypto.generateKeyPair(),p=pr.wc_sessionPropose.req.ttl||_e.FIVE_MINUTES,g=ir(p),y=Gs(vn(vn({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:cW}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:ka()}),w=Ht("session_connect",y.id),{reject:v,resolve:b,done:_}=nh(p,s6),x=({id:C})=>{C===y.id&&(this.client.events.off("proposal_expire",x),this.pendingSessions.delete(y.id),this.events.emit(w,{error:{message:s6,code:0}}))};return this.client.events.on("proposal_expire",x),this.events.once(w,({error:C,session:S})=>{this.client.events.off("proposal_expire",x),C?v(C):S&&b(S)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:y,throwOnFailedPublish:!0,clientRpcId:y.id}),await this.setProposal(y.id,y),{uri:d,approval:_}}),ge(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ge(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Ro.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(A){throw o.setError(Vd.no_internet_connection),A}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(A){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(Vd.proposal_not_found),A}try{await this.isValidApprove(n)}catch(A){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Vd.session_approve_namespace_validation_failure),A}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:y,optionalNamespaces:w}=f;let v=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});v||(v=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:Ro.session_approve_started,properties:{topic:p,trace:[Ro.session_approve_started,Ro.session_namespaces_validation_success]}}));const b=await this.client.core.crypto.generateKeyPair(),_=g.publicKey,x=await this.client.core.crypto.generateSharedKey(b,_),C=vn(vn(vn({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:b,metadata:this.client.metadata},expiry:ir(Ap)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),S=xn.relay;v.addTrace(Ro.subscribing_session_topic);try{await this.client.core.relayer.subscribe(x,{transportType:S})}catch(A){throw v.setError(Vd.subscribe_session_topic_failure),A}v.addTrace(Ro.subscribe_session_topic_success);const N=Gs(vn({},C),{topic:x,requiredNamespaces:y,optionalNamespaces:w,pairingTopic:p,acknowledged:!1,self:C.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:b,transportType:xn.relay});await this.client.session.set(x,N),v.addTrace(Ro.store_session);try{v.addTrace(Ro.publishing_session_settle),await this.sendRequest({topic:x,method:"wc_sessionSettle",params:C,throwOnFailedPublish:!0}).catch(A=>{throw v==null||v.setError(Vd.session_settle_publish_failure),A}),v.addTrace(Ro.session_settle_publish_success),v.addTrace(Ro.publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:b},throwOnFailedPublish:!0}).catch(A=>{throw v==null||v.setError(Vd.session_approve_publish_failure),A}),v.addTrace(Ro.session_approve_publish_success)}catch(A){throw this.client.logger.error(A),this.client.session.delete(x,In("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(x),A}return this.client.core.eventClient.deleteEvent({eventId:v.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(x,ir(Ap)),{topic:x,acknowledged:()=>Promise.resolve(this.client.session.get(x))}}),ge(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:pr.wc_sessionPropose.reject}),await this.deleteProposal(r)}),ge(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=nh(),c=ka(),l=Sh().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Ht("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:i}}),ge(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=ka(),{done:i,resolve:o,reject:a}=nh();return this.events.once(Ht("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,ir(Ap)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),ge(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:s,topic:i,expiry:o=pr.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);(a==null?void 0:a.transportType)===xn.relay&&await this.confirmOnlineStateOrThrow();const c=ka(),l=Sh().toString(),{done:u,resolve:d,reject:h}=nh(o,"Request expired. Please try again.");this.events.once(Ht("session_request",c),({error:y,result:w})=>{y?h(y):d(w)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:{request:Gs(vn({},s),{expiryTimestamp:ir(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const g={request:Gs(vn({},s),{expiryTimestamp:ir(o)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(w=>h(w)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),y()}),new Promise(async y=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const v=await wwe(this.client.core.storage,r6);await gwe({id:c,topic:i,wcDeepLink:v})}y()}),u()]).then(y=>y[2])}),ge(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===xn.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Oa(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):uo(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),ge(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=ka(),i=Sh().toString(),{done:o,resolve:a,reject:c}=nh();this.events.once(Ht("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ge(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=Sh().toString(),a=ka();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ge(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:In("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=Ce("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),ge(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>S1e(r,n)))),ge(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ge(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?xn.link_mode:xn.relay;o===xn.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:g=[],expiry:y}=n,w=[...n.resources||[]],{topic:v,uri:b}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:v,uri:b}});const _=await this.client.core.crypto.generateKeyPair(),x=tx(_);if(await Promise.all([this.client.auth.authKeys.set(rx,{responseTopic:x,publicKey:_}),this.client.auth.pairingTopics.set(x,{topic:x,pairingTopic:v})]),await this.client.core.relayer.subscribe(x,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${v}`),g.length>0){const{namespace:$}=Pg(a[0]);let M=Rbe($,"request",g);ex(w)&&(M=$be(M,w.pop())),w.push(M)}const C=y&&y>pr.wc_sessionAuthenticate.req.ttl?y:pr.wc_sessionAuthenticate.req.ttl,S={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:w},requester:{publicKey:_,metadata:this.client.metadata},expiryTimestamp:ir(C)},N={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},A={requiredNamespaces:{},optionalNamespaces:N,relays:[{protocol:"irn"}],pairingTopic:v,proposer:{publicKey:_,metadata:this.client.metadata},expiryTimestamp:ir(pr.wc_sessionPropose.req.ttl),id:ka()},{done:P,resolve:D,reject:j}=nh(C,"Request expired"),H=ka(),K=Ht("session_connect",A.id),I=Ht("session_request",H),T=async({error:$,session:M})=>{this.events.off(I,L),$?j($):M&&D({session:M})},L=async $=>{var M,q,ee;if(await this.deletePendingAuthRequest(H,{message:"fulfilled",code:0}),$.error){const de=In("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return $.error.code===de.code?void 0:(this.events.off(K,T),j($.error.message))}await this.deleteProposal(A.id),this.events.off(K,T);const{cacaos:ce,responder:se}=$.result,ae=[],Ee=[];for(const de of ce){await K5({cacao:de,projectId:this.client.core.projectId})||(this.client.logger.error(de,"Signature verification failed"),j(In("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ie}=de,ye=ex(ie.resources),De=[rP(ie.iss)],Ie=f_(ie.iss);if(ye){const ve=Q5(ye),Ge=Y5(ye);ae.push(...ve),De.push(...Ge)}for(const ve of De)Ee.push(`${ve}:${Ie}`)}const J=await this.client.core.crypto.generateSharedKey(_,se.publicKey);let re;ae.length>0&&(re={topic:J,acknowledged:!0,self:{publicKey:_,metadata:this.client.metadata},peer:se,controller:se.publicKey,expiry:ir(Ap),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:v,namespaces:vU([...new Set(ae)],[...new Set(Ee)]),transportType:o},await this.client.core.relayer.subscribe(J,{transportType:o}),await this.client.session.set(J,re),v&&await this.client.core.pairing.updateMetadata({topic:v,metadata:se.metadata}),re=this.client.session.get(J)),(M=this.client.metadata.redirect)!=null&&M.linkMode&&(q=se.metadata.redirect)!=null&&q.linkMode&&(ee=se.metadata.redirect)!=null&&ee.universal&&r&&(this.client.core.addLinkModeSupportedApp(se.metadata.redirect.universal),this.client.session.update(J,{transportType:xn.link_mode})),D({auths:ce,session:re})};this.events.once(K,T),this.events.once(I,L);let U;try{if(i){const $=Yu("wc_sessionAuthenticate",S,H);this.client.core.history.set(v,$);const M=await this.client.core.crypto.encode("",$,{type:Vv,encoding:pu});U=oE(r,v,M)}else await Promise.all([this.sendRequest({topic:v,method:"wc_sessionAuthenticate",params:S,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:H}),this.sendRequest({topic:v,method:"wc_sessionPropose",params:A,expiry:pr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:A.id})])}catch($){throw this.events.off(K,T),this.events.off(I,L),$}return await this.setProposal(A.id,A),await this.setAuthRequest(H,{request:Gs(vn({},S),{verifyContext:{}}),pairingTopic:v,transportType:o}),{uri:U??b,response:P}}),ge(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Kd.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw i.setError(y0.no_internet_connection),y}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(y0.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||xn.relay;a===xn.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=tx(c),d={type:il,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const y of s){if(!await K5({cacao:y,projectId:this.client.core.projectId})){i.setError(y0.invalid_cacao);const x=In("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:x,encodeOpts:d}),new Error(x.message)}i.addTrace(Kd.cacaos_verified);const{p:w}=y,v=ex(w.resources),b=[rP(w.iss)],_=f_(w.iss);if(v){const x=Q5(v),C=Y5(v);h.push(...x),b.push(...C)}for(const x of b)f.push(`${x}:${_}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(Kd.create_authenticated_session_topic);let g;if((h==null?void 0:h.length)>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:ir(Ap),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:vU([...new Set(h)],[...new Set(f)]),transportType:a},i.addTrace(Kd.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(y){throw i.setError(y0.subscribe_authenticated_session_topic_failure),y}i.addTrace(Kd.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),i.addTrace(Kd.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(Kd.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw i.setError(y0.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:g}}),ge(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===xn.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=tx(o),l={type:il,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:pr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),ge(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return EH(r,s)}),ge(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ge(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ge(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,In("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(r6).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,In("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Ia.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),ge(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(Vd.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,In("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ge(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=Ia.idle,this.client.events.emit("session_request_expire",{id:n}))}),ge(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),ge(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ge(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,ir(pr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ge(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=xn.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),ge(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||ir(pr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),ge(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,h=Yu(s,i,c);let f;const p=!!u;try{const w=p?pu:aa;f=await this.client.core.crypto.encode(r,h,{encoding:w})}catch(w){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),w}let g;if(jAe.includes(s)){const w=Va(JSON.stringify(h)),v=Va(f);g=await this.client.core.verify.register({id:v,decryptedId:w})}const y=pr[s].req;if(y.attestation=g,o&&(y.ttl=o),a&&(y.id=a),this.client.core.history.set(r,h),p){const w=oE(u,r,f);await global.Linking.openURL(w,this.client.name)}else{const w=pr[s].req;o&&(w.ttl=o),a&&(w.id=a),w.tvf=Gs(vn({},d),{correlationId:h.id}),l?(w.internal=Gs(vn({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,f,w)):this.client.core.relayer.publish(r,f,w).catch(v=>this.client.logger.error(v))}return h.id}),ge(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=aA(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?pu:aa;u=await this.client.core.crypto.encode(s,l,Gs(vn({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let h,f;try{h=await this.client.core.history.get(s,r);const p=h.request;try{f=this.getTVFParams(r,p.params,i)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g==null?void 0:g.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(d){const p=oE(c,s,u);await global.Linking.openURL(p,this.client.name)}else{const p=h.request.method,g=pr[p].res;g.tvf=Gs(vn({},f),{correlationId:r}),o?(g.internal=Gs(vn({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),ge(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=cA(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?pu:aa;u=await this.client.core.crypto.encode(s,l,Gs(vn({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),f}let h;try{h=await this.client.core.history.get(s,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),f}if(d){const f=oE(c,s,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=a||pr[f].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),ge(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;ou(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{ou(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),ge(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ge(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ge(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Ia.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Ia.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Ia.idle}),ge(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ge(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ge(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=Ce("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),ge(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ge(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(Sc.proposal_listener_not_found)),this.isValidConnect(vn({},s.params));const u=a.expiryTimestamp||ir(pr.wc_sessionPropose.req.ttl),d=vn({id:c,pairingTopic:r,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:i,hash:Va(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(Na.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:pr.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),ge(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(Oa(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(uo(r)){await this.deleteProposal(i);const o=Ht("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),ge(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(f.proposalId),g=Gs(vn(vn(vn({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:xn.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Ht("session_connect",f.proposalId),{session:g}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ge(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;Oa(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Ht("session_approve",s),{})):uo(r)&&(await this.client.session.delete(n,In("USER_DISCONNECTED")),this.events.emit(Ht("session_approve",s),{error:r.error}))}),ge(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=g0.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:In("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(vn({topic:n},s));try{g0.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(c){throw g0.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ge(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ge(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=Ht("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Oa(r)?this.events.emit(Ht("session_update",s),{}):uo(r)&&this.events.emit(Ht("session_update",s),{error:r.error})}),ge(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,ir(Ap)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),ge(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=Ht("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Oa(r)?this.events.emit(Ht("session_extend",s),{}):uo(r)&&this.events.emit(Ht("session_extend",s),{error:r.error})}),ge(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),ge(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=Ht("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);Oa(r)?this.events.emit(Ht("session_ping",s),{}):uo(r)&&this.events.emit(Ht("session_ping",s),{error:r.error})},500)}),ge(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(vr.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:In("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),ge(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(vn({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:Va(JSON.stringify(Yu("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),g={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(g),u===xn.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=f.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),ge(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=Ht("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Oa(r)?this.events.emit(Ht("session_request",s),{result:r.result}):uo(r)&&this.events.emit(Ht("session_request",s),{error:r.error})}),ge(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=g0.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(vn({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),g0.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ge(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Oa(r)?this.events.emit(Ht("session_request",s),{result:r.result}):uo(r)&&this.events.emit(Ht("session_request",s),{error:r.error})}),ge(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=i.params,h=await this.getVerifyContext({attestationId:o,hash:Va(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:f,pairingTopic:s,transportType:c}),c===xn.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(i.params.requester.metadata,c),f={type:il,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:f,rpcOpts:pr.wc_sessionAuthenticate.autoReject,appLink:h})}}),ge(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ge(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Ia.idle,this.processSessionRequestQueue()},_e.toMiliseconds(this.requestQueueDelay))}),ge(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=Ht("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Ht("session_request",i.request.id),{error:r})})}),ge(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Ia.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Ia.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ge(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),ge(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Yu("wc_sessionPropose",Gs(vn({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),ge(this,"isValidConnect",async n=>{if(!Qs(n)){const{message:l}=Ce("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(Br(r)||await this.isValidPairingTopic(r),!L1e(c)){const{message:l}=Ce("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!Br(s)&&fd(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(!Br(i)&&fd(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),Br(o)||this.validateSessionProps(o,"sessionProperties"),!Br(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),ge(this,"validateNamespaces",(n,r)=>{const s=B1e(n,"connect()",r);if(s)throw new Error(s.message)}),ge(this,"isValidApprove",async n=>{if(!Qs(n))throw new Error(Ce("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=H2(s,"approve()");if(l)throw new Error(l.message);const u=_U(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!er(i,!0)){const{message:d}=Ce("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(Br(o)||this.validateSessionProps(o,"sessionProperties"),!Br(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(h=>d.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),ge(this,"isValidReject",async n=>{if(!Qs(n)){const{message:i}=Ce("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!j1e(s)){const{message:i}=Ce("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),ge(this,"isValidSessionSettleRequest",n=>{if(!Qs(n)){const{message:l}=Ce("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!ZH(r)){const{message:l}=Ce("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=k1e(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=H2(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(ou(o)){const{message:l}=Ce("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),ge(this,"isValidUpdate",async n=>{if(!Qs(n)){const{message:c}=Ce("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=H2(s,"update()");if(o)throw new Error(o.message);const a=_U(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),ge(this,"isValidExtend",async n=>{if(!Qs(n)){const{message:s}=Ce("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ge(this,"isValidRequest",async n=>{if(!Qs(n)){const{message:c}=Ce("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!xU(a,i)){const{message:c}=Ce("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!F1e(s)){const{message:c}=Ce("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!W1e(a,i,s.method)){const{message:c}=Ce("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!K1e(o,Y2)){const{message:c}=Ce("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${Y2.min} and ${Y2.max}`);throw new Error(c)}}),ge(this,"isValidRespond",async n=>{var r;if(!Qs(n)){const{message:o}=Ce("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!z1e(i)){const{message:o}=Ce("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),ge(this,"isValidPing",async n=>{if(!Qs(n)){const{message:s}=Ce("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ge(this,"isValidEmit",async n=>{if(!Qs(n)){const{message:a}=Ce("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!xU(o,i)){const{message:a}=Ce("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!H1e(s)){const{message:a}=Ce("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!G1e(o,i,s.name)){const{message:a}=Ce("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),ge(this,"isValidDisconnect",async n=>{if(!Qs(n)){const{message:s}=Ce("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ge(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!er(s,!1))throw new Error("uri is required parameter");if(!er(i,!1))throw new Error("domain is required parameter");if(!er(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Pg(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Pg(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ge(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||mw,validation:"UNKNOWN",origin:o.url||""}};try{if(a===xn.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ge(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=Ce("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),ge(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ge(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),ge(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=Ce("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),ge(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,d,h;return!n||r!==xn.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ge(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),ge(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=U5(n,"topic")||"",s=decodeURIComponent(U5(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:xn.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),ge(this,"registerLinkModeListeners",async()=>{var n;if(MR()||Ld()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),ge(this,"getTVFParams",(n,r,s)=>{var i,o,a;if(!((i=r.request)!=null&&i.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),ge(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),ge(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=LAe[i];if(i==="sui_signTransaction")return[ybe(r.transactionBytes)];if(i==="near_signTransaction")return[W5(r)];if(i==="near_signTransactions")return r.map(c=>W5(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[lEe({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return ol(r)?r.map(c=>G5(c)):[G5(r)];if(i==="cosmos_signDirect")return[bbe(r)];if(typeof r=="string")return[r];const a=r[o.key];if(ol(a))return i==="solana_signAllTransactions"?a.map(c=>mbe(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(vr.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(rx)?this.client.auth.authKeys.get(rx):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===xn.link_mode?pu:aa});e3(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:Va(r)})):lA(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(no.expired,async e=>{const{topic:n,id:r}=oH(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Ce("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Ce("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(ch.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(ch.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!er(e,!1)){const{message:n}=Ce("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Ce("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(ou(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Ce("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!er(e,!1)){const{message:n}=Ce("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Ce("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(ou(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Ce("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Ce("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(er(e,!1)){const{message:n}=Ce("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Ce("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!M1e(e)){const{message:n}=Ce("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Ce("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(ou(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Ce("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class ZAe extends sp{constructor(e,n){super(e,n,$Ae,t3),this.core=e,this.logger=n}}let XAe=class extends sp{constructor(e,n){super(e,n,UAe,t3),this.core=e,this.logger=n}};class eSe extends sp{constructor(e,n){super(e,n,MAe,t3,r=>r.id),this.core=e,this.logger=n}}class tSe extends sp{constructor(e,n){super(e,n,HAe,dA,()=>rx),this.core=e,this.logger=n}}class nSe extends sp{constructor(e,n){super(e,n,WAe,dA),this.core=e,this.logger=n}}class rSe extends sp{constructor(e,n){super(e,n,GAe,dA,r=>r.id),this.core=e,this.logger=n}}var sSe=Object.defineProperty,iSe=(t,e,n)=>e in t?sSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J2=(t,e,n)=>iSe(t,typeof e!="symbol"?e+"":e,n);class oSe{constructor(e,n){this.core=e,this.logger=n,J2(this,"authKeys"),J2(this,"pairingTopics"),J2(this,"requests"),this.authKeys=new tSe(this.core,this.logger),this.pairingTopics=new nSe(this.core,this.logger),this.requests=new rSe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var aSe=Object.defineProperty,cSe=(t,e,n)=>e in t?aSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_t=(t,e,n)=>cSe(t,typeof e!="symbol"?e+"":e,n);let lSe=class SW extends pfe{constructor(e){super(e),_t(this,"protocol",_W),_t(this,"version",CW),_t(this,"name",Q2.name),_t(this,"metadata"),_t(this,"core"),_t(this,"logger"),_t(this,"events",new Co.EventEmitter),_t(this,"engine"),_t(this,"session"),_t(this,"proposal"),_t(this,"pendingRequest"),_t(this,"auth"),_t(this,"signConfig"),_t(this,"on",(r,s)=>this.events.on(r,s)),_t(this,"once",(r,s)=>this.events.once(r,s)),_t(this,"off",(r,s)=>this.events.off(r,s)),_t(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),_t(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),_t(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),_t(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),_t(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),_t(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),_t(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),_t(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),_t(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),_t(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),_t(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),_t(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),_t(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),_t(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),_t(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),_t(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),_t(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),_t(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),_t(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||Q2.name,this.metadata=lwe(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:jv(Cy({level:(e==null?void 0:e.logger)||Q2.logger}));this.core=(e==null?void 0:e.core)||new DAe(e),this.logger=ps(n,this.name),this.session=new XAe(this.core,this.logger),this.proposal=new ZAe(this.core,this.logger),this.pendingRequest=new eSe(this.core,this.logger),this.engine=new JAe(this),this.auth=new oSe(this.core,this.logger)}static async init(e){const n=new SW(e);return await n.initialize(),n}get context(){return wi(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},_e.toMiliseconds(_e.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var NP={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof jn<"u"&&jn,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof jn<"u"&&jn||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(I){return I&&DataView.prototype.isPrototypeOf(I)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(I){return I&&u.indexOf(Object.prototype.toString.call(I))>-1};function h(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(I)||I==="")throw new TypeError('Invalid character in header field name: "'+I+'"');return I.toLowerCase()}function f(I){return typeof I!="string"&&(I=String(I)),I}function p(I){var T={next:function(){var L=I.shift();return{done:L===void 0,value:L}}};return c.iterable&&(T[Symbol.iterator]=function(){return T}),T}function g(I){this.map={},I instanceof g?I.forEach(function(T,L){this.append(L,T)},this):Array.isArray(I)?I.forEach(function(T){if(T.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+T.length);this.append(T[0],T[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(T){this.append(T,I[T])},this)}g.prototype.append=function(I,T){I=h(I),T=f(T);var L=this.map[I];this.map[I]=L?L+", "+T:T},g.prototype.delete=function(I){delete this.map[h(I)]},g.prototype.get=function(I){return I=h(I),this.has(I)?this.map[I]:null},g.prototype.has=function(I){return this.map.hasOwnProperty(h(I))},g.prototype.set=function(I,T){this.map[h(I)]=f(T)},g.prototype.forEach=function(I,T){for(var L in this.map)this.map.hasOwnProperty(L)&&I.call(T,this.map[L],L,this)},g.prototype.keys=function(){var I=[];return this.forEach(function(T,L){I.push(L)}),p(I)},g.prototype.values=function(){var I=[];return this.forEach(function(T){I.push(T)}),p(I)},g.prototype.entries=function(){var I=[];return this.forEach(function(T,L){I.push([L,T])}),p(I)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(I){if(!I._noBody){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}}function w(I){return new Promise(function(T,L){I.onload=function(){T(I.result)},I.onerror=function(){L(I.error)}})}function v(I){var T=new FileReader,L=w(T);return T.readAsArrayBuffer(I),L}function b(I){var T=new FileReader,L=w(T),U=/charset=([A-Za-z0-9_-]+)/.exec(I.type),$=U?U[1]:"utf-8";return T.readAsText(I,$),L}function _(I){for(var T=new Uint8Array(I),L=new Array(T.length),U=0;U<T.length;U++)L[U]=String.fromCharCode(T[U]);return L.join("")}function x(I){if(I.slice)return I.slice(0);var T=new Uint8Array(I.byteLength);return T.set(new Uint8Array(I)),T.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(I){this.bodyUsed=this.bodyUsed,this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:c.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:c.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():c.arrayBuffer&&c.blob&&l(I)?(this._bodyArrayBuffer=x(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||d(I))?this._bodyArrayBuffer=x(I):this._bodyText=I=Object.prototype.toString.call(I):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var I=y(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var I=y(this);return I||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var I=y(this);if(I)return I;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function N(I){var T=I.toUpperCase();return S.indexOf(T)>-1?T:I}function A(I,T){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');T=T||{};var L=T.body;if(I instanceof A){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,T.headers||(this.headers=new g(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!L&&I._bodyInit!=null&&(L=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=T.credentials||this.credentials||"same-origin",(T.headers||!this.headers)&&(this.headers=new g(T.headers)),this.method=N(T.method||this.method||"GET"),this.mode=T.mode||this.mode||null,this.signal=T.signal||this.signal||function(){if("AbortController"in a){var M=new AbortController;return M.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(L),(this.method==="GET"||this.method==="HEAD")&&(T.cache==="no-store"||T.cache==="no-cache")){var U=/([?&])_=[^&]*/;if(U.test(this.url))this.url=this.url.replace(U,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function P(I){var T=new FormData;return I.trim().split("&").forEach(function(L){if(L){var U=L.split("="),$=U.shift().replace(/\+/g," "),M=U.join("=").replace(/\+/g," ");T.append(decodeURIComponent($),decodeURIComponent(M))}}),T}function D(I){var T=new g,L=I.replace(/\r?\n[\t ]+/g," ");return L.split("\r").map(function(U){return U.indexOf(`
`)===0?U.substr(1,U.length):U}).forEach(function(U){var $=U.split(":"),M=$.shift().trim();if(M){var q=$.join(":").trim();try{T.append(M,q)}catch(ee){console.warn("Response "+ee.message)}}}),T}C.call(A.prototype);function j(I,T){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(T||(T={}),this.type="default",this.status=T.status===void 0?200:T.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=T.statusText===void 0?"":""+T.statusText,this.headers=new g(T.headers),this.url=T.url||"",this._initBody(I)}C.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},j.error=function(){var I=new j(null,{status:200,statusText:""});return I.ok=!1,I.status=0,I.type="error",I};var H=[301,302,303,307,308];j.redirect=function(I,T){if(H.indexOf(T)===-1)throw new RangeError("Invalid status code");return new j(null,{status:T,headers:{location:I}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(T,L){this.message=T,this.name=L;var U=Error(T);this.stack=U.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function K(I,T){return new Promise(function(L,U){var $=new A(I,T);if($.signal&&$.signal.aborted)return U(new o.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function q(){M.abort()}M.onload=function(){var se={statusText:M.statusText,headers:D(M.getAllResponseHeaders()||"")};$.url.indexOf("file://")===0&&(M.status<200||M.status>599)?se.status=200:se.status=M.status,se.url="responseURL"in M?M.responseURL:se.headers.get("X-Request-URL");var ae="response"in M?M.response:M.responseText;setTimeout(function(){L(new j(ae,se))},0)},M.onerror=function(){setTimeout(function(){U(new TypeError("Network request failed"))},0)},M.ontimeout=function(){setTimeout(function(){U(new TypeError("Network request timed out"))},0)},M.onabort=function(){setTimeout(function(){U(new o.DOMException("Aborted","AbortError"))},0)};function ee(se){try{return se===""&&a.location.href?a.location.href:se}catch{return se}}if(M.open($.method,ee($.url),!0),$.credentials==="include"?M.withCredentials=!0:$.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&(c.blob?M.responseType="blob":c.arrayBuffer&&(M.responseType="arraybuffer")),T&&typeof T.headers=="object"&&!(T.headers instanceof g||a.Headers&&T.headers instanceof a.Headers)){var ce=[];Object.getOwnPropertyNames(T.headers).forEach(function(se){ce.push(h(se)),M.setRequestHeader(se,f(T.headers[se]))}),$.headers.forEach(function(se,ae){ce.indexOf(ae)===-1&&M.setRequestHeader(ae,se)})}else $.headers.forEach(function(se,ae){M.setRequestHeader(ae,se)});$.signal&&($.signal.addEventListener("abort",q),M.onreadystatechange=function(){M.readyState===4&&$.signal.removeEventListener("abort",q)}),M.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return K.polyfill=!0,a.fetch||(a.fetch=K,a.Headers=g,a.Request=A,a.Response=j),o.Headers=g,o.Request=A,o.Response=j,o.fetch=K,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(NP,NP.exports);var uSe=NP.exports;const o6=qf(uSe);var dSe=Object.defineProperty,hSe=Object.defineProperties,fSe=Object.getOwnPropertyDescriptors,a6=Object.getOwnPropertySymbols,pSe=Object.prototype.hasOwnProperty,gSe=Object.prototype.propertyIsEnumerable,c6=(t,e,n)=>e in t?dSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l6=(t,e)=>{for(var n in e||(e={}))pSe.call(e,n)&&c6(t,n,e[n]);if(a6)for(var n of a6(e))gSe.call(e,n)&&c6(t,n,e[n]);return t},u6=(t,e)=>hSe(t,fSe(e));const mSe={Accept:"application/json","Content-Type":"application/json"},ySe="POST",d6={headers:mSe,method:ySe},h6=10;let va=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Co.EventEmitter,this.isAvailable=!1,this.registering=!1,!NU(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=wl(e),r=await(await o6(this.url,u6(l6({},d6),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!NU(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=wl({id:1,jsonrpc:"2.0",method:"test",params:[]});await o6(e,u6(l6({},d6),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Of(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=cA(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return tW(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>h6&&this.events.setMaxListeners(h6)}};const f6="error",wSe="wss://relay.walletconnect.org",bSe="wc",vSe="universal_provider",cE=`${bSe}@2:${vSe}:`,IW="https://rpc.walletconnect.org/v1/",qp="generic",ESe=`${IW}bundler`,So={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function n3(t){return t==null||typeof t!="object"&&typeof t!="function"}function TW(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function NW(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const xSe="[object RegExp]",PW="[object String]",kW="[object Number]",OW="[object Boolean]",RW="[object Arguments]",_Se="[object Symbol]",CSe="[object Date]",ASe="[object Map]",SSe="[object Set]",ISe="[object Array]",TSe="[object ArrayBuffer]",NSe="[object Object]",PSe="[object DataView]",kSe="[object Uint8Array]",OSe="[object Uint8ClampedArray]",RSe="[object Uint16Array]",DSe="[object Uint32Array]",$Se="[object Int8Array]",USe="[object Int16Array]",BSe="[object Int32Array]",LSe="[object Float32Array]",MSe="[object Float64Array]";function r3(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jSe(t,e){return fg(t,void 0,t,new Map,e)}function fg(t,e,n,r=new Map,s=void 0){const i=s==null?void 0:s(t,e,n,r);if(i!=null)return i;if(n3(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=fg(t[a],a,n,r,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,fg(c,a,n,r,s));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(fg(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(r3(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=fg(t[a],a,n,r,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),lh(o,t,n,r,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),lh(o,t,n,r,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),lh(o,t,n,r,s),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,lh(o,t,n,r,s),o}if(typeof t=="object"&&FSe(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),lh(o,t,n,r,s),o}return t}function lh(t,e,n=t,r,s){const i=[...Object.keys(e),...TW(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=fg(e[a],a,n,r,s))}}function FSe(t){switch(NW(t)){case RW:case ISe:case TSe:case PSe:case OW:case CSe:case LSe:case MSe:case $Se:case USe:case BSe:case ASe:case kW:case NSe:case xSe:case SSe:case PW:case _Se:case kSe:case OSe:case RSe:case DSe:return!0;default:return!1}}function zSe(t,e){return jSe(t,(n,r,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case kW:case PW:case OW:{const o=new t.constructor(t==null?void 0:t.valueOf());return lh(o,t),o}case RW:{const o={};return lh(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function p6(t){return zSe(t)}function g6(t){return t!==null&&typeof t=="object"&&NW(t)==="[object Arguments]"}function m6(t){return typeof t=="object"&&t!==null}function HSe(){}function WSe(t){return r3(t)}function GSe(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function qSe(t){if(n3(t))return t;if(Array.isArray(t)||r3(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function VSe(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const o=n[i];s=PP(s,o,r,new Map)}return s}function PP(t,e,n,r){if(n3(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return qSe(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...TW(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(g6(a)&&(a={...a}),g6(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=p6(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||m6(c)&&m6(a)?t[o]=PP(c,a,n,r):c==null&&GSe(a)?t[o]=PP({},a,n,r):c==null&&WSe(a)?t[o]=p6(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function KSe(t,...e){return VSe(t,...e,HSe)}var QSe=Object.defineProperty,YSe=Object.defineProperties,JSe=Object.getOwnPropertyDescriptors,y6=Object.getOwnPropertySymbols,ZSe=Object.prototype.hasOwnProperty,XSe=Object.prototype.propertyIsEnumerable,w6=(t,e,n)=>e in t?QSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lE=(t,e)=>{for(var n in e||(e={}))ZSe.call(e,n)&&w6(t,n,e[n]);if(y6)for(var n of y6(e))XSe.call(e,n)&&w6(t,n,e[n]);return t},e2e=(t,e)=>YSe(t,JSe(e));function Hi(t,e,n){var r;const s=Pg(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${IW}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function ip(t){return t.includes(":")?t.split(":")[1]:t}function DW(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function t2e(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=e.namespaces[s].accounts;r.push(...i)}),r}function uE(t={},e={}){const n=b6(t),r=b6(e);return KSe(n,r)}function b6(t){var e,n,r,s,i;const o={};if(!fd(t))return o;for(const[a,c]of Object.entries(t)){const l=oA(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=hg(a);o[f]=e2e(lE(lE({},o[f]),c),{chains:ic(l,(e=o[f])==null?void 0:e.chains),methods:ic(u,(n=o[f])==null?void 0:n.methods),events:ic(d,(r=o[f])==null?void 0:r.events)}),(fd(h)||fd(((s=o[f])==null?void 0:s.rpcMap)||{}))&&(o[f].rpcMap=lE(lE({},h),(i=o[f])==null?void 0:i.rpcMap))}return o}function v6(t){return t.includes(":")?t.split(":")[2]:t}function E6(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=oA(n)?[n]:r.chains?r.chains:DW(r.accounts);e[n]={chains:a,methods:s,events:i,accounts:o}}return e}function Z2(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const $W={},Mt=t=>$W[t],X2=(t,e)=>{$W[t]=e};var n2e=Object.defineProperty,r2e=(t,e,n)=>e in t?n2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sp=(t,e,n)=>r2e(t,typeof e!="symbol"?e+"":e,n);class s2e{constructor(e){Sp(this,"name","polkadot"),Sp(this,"client"),Sp(this,"httpProviders"),Sp(this,"events"),Sp(this,"namespace"),Sp(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(So.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=ip(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Hi(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ao(new va(r,Mt("disableProviderPing")))}}var i2e=Object.defineProperty,o2e=Object.defineProperties,a2e=Object.getOwnPropertyDescriptors,x6=Object.getOwnPropertySymbols,c2e=Object.prototype.hasOwnProperty,l2e=Object.prototype.propertyIsEnumerable,kP=(t,e,n)=>e in t?i2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_6=(t,e)=>{for(var n in e||(e={}))c2e.call(e,n)&&kP(t,n,e[n]);if(x6)for(var n of x6(e))l2e.call(e,n)&&kP(t,n,e[n]);return t},C6=(t,e)=>o2e(t,a2e(e)),Ip=(t,e,n)=>kP(t,typeof e!="symbol"?e+"":e,n);class u2e{constructor(e){Ip(this,"name","eip155"),Ip(this,"client"),Ip(this,"chainId"),Ip(this,"namespace"),Ip(this,"httpProviders"),Ip(this,"events"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(So.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Hi(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ao(new va(r,Mt("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(ip(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s,i,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[],l=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((o=u==null?void 0:u.sessionProperties)==null?void 0:o.capabilities)||{};if(d!=null&&d[l])return d==null?void 0:d[l];const h=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:C6(_6({},u.sessionProperties||{}),{capabilities:C6(_6({},d||{}),{[l]:h})})})}catch(f){console.warn("Failed to update session with capabilities",f)}return h}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const a=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Yu("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,n){return`${ESe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var d2e=Object.defineProperty,h2e=(t,e,n)=>e in t?d2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tp=(t,e,n)=>h2e(t,typeof e!="symbol"?e+"":e,n);class f2e{constructor(e){Tp(this,"name","solana"),Tp(this,"client"),Tp(this,"httpProviders"),Tp(this,"events"),Tp(this,"namespace"),Tp(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(So.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=ip(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Hi(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ao(new va(r,Mt("disableProviderPing")))}}var p2e=Object.defineProperty,g2e=(t,e,n)=>e in t?p2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Np=(t,e,n)=>g2e(t,typeof e!="symbol"?e+"":e,n);class m2e{constructor(e){Np(this,"name","cosmos"),Np(this,"client"),Np(this,"httpProviders"),Np(this,"events"),Np(this,"namespace"),Np(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(So.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=ip(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Hi(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ao(new va(r,Mt("disableProviderPing")))}}var y2e=Object.defineProperty,w2e=(t,e,n)=>e in t?y2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pp=(t,e,n)=>w2e(t,typeof e!="symbol"?e+"":e,n);class b2e{constructor(e){Pp(this,"name","algorand"),Pp(this,"client"),Pp(this,"httpProviders"),Pp(this,"events"),Pp(this,"namespace"),Pp(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Hi(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(So.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Hi(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Ao(new va(r,Mt("disableProviderPing")))}}var v2e=Object.defineProperty,E2e=(t,e,n)=>e in t?v2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kp=(t,e,n)=>E2e(t,typeof e!="symbol"?e+"":e,n);class x2e{constructor(e){kp(this,"name","cip34"),kp(this,"client"),kp(this,"httpProviders"),kp(this,"events"),kp(this,"namespace"),kp(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(So.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=ip(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ao(new va(r,Mt("disableProviderPing")))}}var _2e=Object.defineProperty,C2e=(t,e,n)=>e in t?_2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Op=(t,e,n)=>C2e(t,typeof e!="symbol"?e+"":e,n);class A2e{constructor(e){Op(this,"name","elrond"),Op(this,"client"),Op(this,"httpProviders"),Op(this,"events"),Op(this,"namespace"),Op(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(So.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=ip(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Hi(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ao(new va(r,Mt("disableProviderPing")))}}var S2e=Object.defineProperty,I2e=(t,e,n)=>e in t?S2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rp=(t,e,n)=>I2e(t,typeof e!="symbol"?e+"":e,n);class T2e{constructor(e){Rp(this,"name","multiversx"),Rp(this,"client"),Rp(this,"httpProviders"),Rp(this,"events"),Rp(this,"namespace"),Rp(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(So.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=ip(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Hi(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ao(new va(r,Mt("disableProviderPing")))}}var N2e=Object.defineProperty,P2e=(t,e,n)=>e in t?N2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dp=(t,e,n)=>P2e(t,typeof e!="symbol"?e+"":e,n);class k2e{constructor(e){Dp(this,"name","near"),Dp(this,"client"),Dp(this,"httpProviders"),Dp(this,"events"),Dp(this,"namespace"),Dp(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Hi(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(So.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Hi(e,this.namespace);return typeof r>"u"?void 0:new Ao(new va(r,Mt("disableProviderPing")))}}var O2e=Object.defineProperty,R2e=(t,e,n)=>e in t?O2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$p=(t,e,n)=>R2e(t,typeof e!="symbol"?e+"":e,n);class D2e{constructor(e){$p(this,"name","tezos"),$p(this,"client"),$p(this,"httpProviders"),$p(this,"events"),$p(this,"namespace"),$p(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Hi(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(So.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Hi(e,this.namespace);return typeof r>"u"?void 0:new Ao(new va(r))}}var $2e=Object.defineProperty,U2e=(t,e,n)=>e in t?$2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Up=(t,e,n)=>U2e(t,typeof e!="symbol"?e+"":e,n);class B2e{constructor(e){Up(this,"name",qp),Up(this,"client"),Up(this,"httpProviders"),Up(this,"events"),Up(this,"namespace"),Up(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(So.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const i=Pg(s);r[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Hi(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ao(new va(r,Mt("disableProviderPing")))}}var L2e=Object.defineProperty,M2e=Object.defineProperties,j2e=Object.getOwnPropertyDescriptors,A6=Object.getOwnPropertySymbols,F2e=Object.prototype.hasOwnProperty,z2e=Object.prototype.propertyIsEnumerable,OP=(t,e,n)=>e in t?L2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dE=(t,e)=>{for(var n in e||(e={}))F2e.call(e,n)&&OP(t,n,e[n]);if(A6)for(var n of A6(e))z2e.call(e,n)&&OP(t,n,e[n]);return t},eI=(t,e)=>M2e(t,j2e(e)),Zi=(t,e,n)=>OP(t,typeof e!="symbol"?e+"":e,n);let H2e=class UW{constructor(e){Zi(this,"client"),Zi(this,"namespaces"),Zi(this,"optionalNamespaces"),Zi(this,"sessionProperties"),Zi(this,"scopedProperties"),Zi(this,"events",new xR),Zi(this,"rpcProviders",{}),Zi(this,"session"),Zi(this,"providerOpts"),Zi(this,"logger"),Zi(this,"uri"),Zi(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:jv(Cy({level:(e==null?void 0:e.logger)||f6})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new UW(e);return await n.initialize(),n}async request(e,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:dE({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const i=new Date().getTime();this.request(e,r,s).then(o=>n(null,aA(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:In("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=E6(this.session.namespaces);this.namespaces=uE(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=E6(s.namespaces);return this.namespaces=uE(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),i=this.getProvider(r);i.name===qp?i.setDefaultChain(`${r}:${s}`,n):i.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(ol(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await lSe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||f6,relayUrl:this.providerOpts.relayUrl||wSe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>hg(n)))];X2("client",this.client),X2("events",this.events),X2("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=t2e(n,this.session),s=DW(r),i=uE(this.namespaces,this.optionalNamespaces),o=eI(dE({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new u2e({namespace:o});break;case"algorand":this.rpcProviders[n]=new b2e({namespace:o});break;case"solana":this.rpcProviders[n]=new f2e({namespace:o});break;case"cosmos":this.rpcProviders[n]=new m2e({namespace:o});break;case"polkadot":this.rpcProviders[n]=new s2e({namespace:o});break;case"cip34":this.rpcProviders[n]=new x2e({namespace:o});break;case"elrond":this.rpcProviders[n]=new A2e({namespace:o});break;case"multiversx":this.rpcProviders[n]=new T2e({namespace:o});break;case"near":this.rpcProviders[n]=new k2e({namespace:o});break;case"tezos":this.rpcProviders[n]=new D2e({namespace:o});break;default:this.rpcProviders[qp]?this.rpcProviders[qp].updateNamespace(o):this.rpcProviders[qp]=new B2e({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&ol(o)&&this.events.emit("accountsChanged",o.map(v6))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=hg(o),l=Z2(o)!==Z2(a)?`${c}:${Z2(a)}`:o;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(e);this.session=eI(dE({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",eI(dE({},In("USER_DISCONNECTED")),{data:e.topic})))}),this.on(So.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[qp]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=uE(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>hg(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=hg(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const i=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(v6);if(!ol(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${cE}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${cE}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${cE}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(cE)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const ww={getSIWX(){return me.state.siwx},async initializeIfEnabled(){var i;const t=me.state.siwx,e=B.getActiveCaipAddress();if(!(t&&e))return;const[n,r,s]=e.split(":");if(B.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,s)).length)return;await Wt.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),Jt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((i=Le._getClient())==null?void 0:i.disconnect().catch(console.error)),Xe.reset("Connect"),ia.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=me.state.siwx,e=We.getPlainAddress(B.getActiveCaipAddress()),n=B.getActiveCaipNetwork(),r=Le._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=s.toString();Pe.getConnectorId(n.chainNamespace)===ue.CONNECTOR_ID.AUTH&&Xe.pushTransactionStack({});const a=await r.signMessage(i);await t.addSession({data:s,message:i,signature:a}),B.setLastConnectedSIWECaipNetwork(n),Wt.close(),Jt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!Wt.state.open||Xe.state.view==="ApproveTransaction")&&await Wt.open({view:"SIWXSignMessage"}),i.isSmartAccount?ia.showError("This application might not support Smart Accounts"):ia.showError("Signature declined"),Jt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();if((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e)){const r=B.getLastConnectedSIWECaipNetwork();r?B.switchActiveNetwork(r):await Le.disconnect()}else Wt.close();Xe.reset("Connect"),Jt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const t=this.getSIWX(),e=B.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const s=await(t==null?void 0:t.getSessions(r.caipNetworkId,We.getPlainAddress(B.getActiveCaipAddress())||""));s&&n.push(...s)})),n},async getSessions(){const t=me.state.siwx,e=We.getPlainAddress(B.getActiveCaipAddress()),n=B.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=Xe.state.view==="ApproveTransaction",r=Xe.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=ww.getSIWX(),s=new Set(e.map(u=>u.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const i=await r.createMessage({chainId:((a=B.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...e.filter(u=>u!==i.chainId)]});if(ia.showLoading("Authenticating...",{autoClose:!1}),Se.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(d=>{const h=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||i.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:h,signature:d.s.s,cacao:d}});try{await r.setSessions(u),Jt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:ww.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),Jt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:ww.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{ia.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=B.state.activeChain;return{network:((e=B.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=Se.state.preferredAccountTypes)==null?void 0:n[t])===Ar.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},_n={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Ju={ConnectorExplorerIds:{[ue.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ue.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ue.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ue.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[ue.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[_n.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[_n.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[_n.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[_n.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[_n.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[_n.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[_n.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[_n.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[_n.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[_n.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[_n.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[ue.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ue.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ue.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[ue.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ue.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ue.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ue.CONNECTOR_ID.INJECTED]:"Browser Wallet",[ue.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[ue.CONNECTOR_ID.COINBASE]:"Coinbase",[ue.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[ue.CONNECTOR_ID.LEDGER]:"Ledger",[ue.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[ue.CONNECTOR_ID.INJECTED]:"INJECTED",[ue.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[ue.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[ue.CONNECTOR_ID.AUTH]:"AUTH"}},Pb={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${_n.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){const t=B.state.activeChain;return ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>Pe.getConnectorId(e)===ue.CONNECTOR_ID.AUTH&&e===t)}},W2e=new AbortController,Nn={EmbeddedWalletAbortController:W2e,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${G2e()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"},SERVER_ERROR_APP_CONFIGURATION:{shortMessage:"Server Error",longMessage:t=>`Failed to get App Configuration ${t||""}`},RATE_LIMITED_APP_CONFIGURATION:{shortMessage:"Rate Limited",longMessage:"Rate limited when trying to get the App Configuration"}}};function G2e(){return typeof window<"u"}const q2e={createLogger(t,e="error"){const n=Cy({level:e}),{logger:r}=CR({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},r}},V2e="rpc.walletconnect.org";function S6(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const tI=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Ya={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===V2e}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:ue.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${ue.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,i,o;const r=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return tI.includes(e)?S6(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var h,f,p,g,y;const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(h=t.rpcUrls.default.http)==null?void 0:h[0],a=this.getDefaultRpcUrl(t,i,n),c=((g=(p=(f=t==null?void 0:t.rpcUrls)==null?void 0:f.chainDefault)==null?void 0:p.http)==null?void 0:g[0])||o,l=((y=r==null?void 0:r[i])==null?void 0:y.map(w=>w.url))||[],u=[...l,a],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:Ju.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>Ya.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,i,o;const r=[];return n==null||n.forEach(a=>{r.push(O1(a.url,a.config))}),tI.includes(t.caipNetworkId)&&r.push(O1(S6(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{r.push(O1(a))}),S$(r)},extendWagmiTransports(t,e,n){if(tI.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return S$([n,O1(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:ue.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=Te.getActiveCaipNetworkId(),n=B.getAllRequestedCaipNetworks(),r=Array.from(((c=B.state.chains)==null?void 0:c.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?r.includes(s):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},w_={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},qs=bn({providers:{...w_},providerIds:{...w_}}),on={state:qs,subscribeKey(t,e){return Gr(qs,t,e)},subscribe(t){return Wr(qs,()=>{t(qs)})},subscribeProviders(t){return Wr(qs.providers,()=>t(qs.providers))},setProvider(t,e){e&&(qs.providers[t]=Pf(e))},getProvider(t){return qs.providers[t]},setProviderId(t,e){e&&(qs.providerIds[t]=e)},getProviderId(t){if(t)return qs.providerIds[t]},reset(){qs.providers={...w_},qs.providerIds={...w_}},resetChain(t){qs.providers[t]=void 0,qs.providerIds[t]=void 0}},I6={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Dr={set(t,e){$i.isClient&&localStorage.setItem(`${Fe.STORAGE_KEY}${t}`,e)},get(t){return $i.isClient?localStorage.getItem(`${Fe.STORAGE_KEY}${t}`):null},delete(t,e){$i.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Fe.STORAGE_KEY}${t}`))}},hE=30*1e3,$i={checkIfAllowedToTriggerEmail(){const t=Dr.get(Fe.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<hE){const n=Math.ceil((hE-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=Dr.get(Fe.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<hE)return Math.ceil((hE-e)/1e3)}return 0},checkIfRequestExists(t){return Ar.NOT_SAFE_RPC_METHODS.includes(t.method)||Ar.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(I6.transactionHash))||(t==null?void 0:t.match(I6.signedMessage)))?Fe.RPC_RESPONSE_TYPE_TX:Fe.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Ar.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Lt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Lt||(Lt={}));var RP;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(RP||(RP={}));const $e=Lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gu=t=>{switch(typeof t){case"undefined":return $e.undefined;case"string":return $e.string;case"number":return isNaN(t)?$e.nan:$e.number;case"boolean":return $e.boolean;case"function":return $e.function;case"bigint":return $e.bigint;case"symbol":return $e.symbol;case"object":return Array.isArray(t)?$e.array:t===null?$e.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$e.promise:typeof Map<"u"&&t instanceof Map?$e.map:typeof Set<"u"&&t instanceof Set?$e.set:typeof Date<"u"&&t instanceof Date?$e.date:$e.object;default:return $e.unknown}},xe=Lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),K2e=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ha extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ha.create=t=>new ha(t);const kb=(t,e)=>{let n;switch(t.code){case xe.invalid_type:t.received===$e.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case xe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Lt.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Lt.joinValues(t.keys,", ")}`;break;case xe.invalid_union:n="Invalid input";break;case xe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Lt.joinValues(t.options)}`;break;case xe.invalid_enum_value:n=`Invalid enum value. Expected ${Lt.joinValues(t.options)}, received '${t.received}'`;break;case xe.invalid_arguments:n="Invalid function arguments";break;case xe.invalid_return_type:n="Invalid function return type";break;case xe.invalid_date:n="Invalid date";break;case xe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Lt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case xe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case xe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case xe.custom:n="Invalid input";break;case xe.invalid_intersection_types:n="Intersection results could not be merged";break;case xe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case xe.not_finite:n="Number must be finite";break;default:n=e.defaultError,Lt.assertNever(t)}return{message:n}};let BW=kb;function Q2e(t){BW=t}function b_(){return BW}const v_=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},Y2e=[];function Me(t,e){const n=v_({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,b_(),kb].filter(r=>!!r)});t.common.issues.push(n)}class fs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return it;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return fs.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return it;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const it=Object.freeze({status:"aborted"}),LW=t=>({status:"dirty",value:t}),$s=t=>({status:"valid",value:t}),DP=t=>t.status==="aborted",$P=t=>t.status==="dirty",Ob=t=>t.status==="valid",E_=t=>typeof Promise<"u"&&t instanceof Promise;var Qe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Qe||(Qe={}));class uc{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const T6=(t,e)=>{if(Ob(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ha(t.common.issues);return this._error=n,this._error}}};function dt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class yt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return gu(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:gu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new fs,ctx:{common:e.parent.common,data:e.data,parsedType:gu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(E_(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gu(e)},i=this._parseSync({data:e,path:s.path,parent:s});return T6(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gu(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(E_(s)?s:Promise.resolve(s));return T6(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:xe.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new ma({schema:this,typeName:tt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return al.create(this,this._def)}nullable(){return Mf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fa.create(this,this._def)}promise(){return ty.create(this,this._def)}or(e){return Ub.create([this,e],this._def)}and(e){return Bb.create(this,e,this._def)}transform(e){return new ma({...dt(this._def),schema:this,typeName:tt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new zb({...dt(this._def),innerType:this,defaultValue:n,typeName:tt.ZodDefault})}brand(){return new jW({typeName:tt.ZodBranded,type:this,...dt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new A_({...dt(this._def),innerType:this,catchValue:n,typeName:tt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Qv.create(this,e)}readonly(){return I_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const J2e=/^c[^\s-]{8,}$/i,Z2e=/^[a-z][a-z0-9]*$/,X2e=/^[0-9A-HJKMNP-TV-Z]{26}$/,eIe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tIe=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nIe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let nI;const rIe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,sIe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,iIe=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function oIe(t,e){return!!((e==="v4"||!e)&&rIe.test(t)||(e==="v6"||!e)&&sIe.test(t))}class ca extends yt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$e.string){const i=this._getOrReturnCtx(e);return Me(i,{code:xe.invalid_type,expected:$e.string,received:i.parsedType}),it}const r=new fs;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Me(s,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Me(s,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Me(s,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Me(s,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")tIe.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"email",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")nI||(nI=new RegExp(nIe,"u")),nI.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"emoji",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")eIe.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"uuid",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")J2e.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"cuid",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Z2e.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"cuid2",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")X2e.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"ulid",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Me(s,{validation:"url",code:xe.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"regex",code:xe.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Me(s,{code:xe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Me(s,{code:xe.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Me(s,{code:xe.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?iIe(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{code:xe.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?oIe(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"ip",code:xe.invalid_string,message:i.message}),r.dirty()):Lt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:xe.invalid_string,...Qe.errToObj(r)})}_addCheck(e){return new ca({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Qe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Qe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Qe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Qe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Qe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Qe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Qe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Qe.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Qe.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Qe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Qe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Qe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Qe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Qe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Qe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Qe.errToObj(n)})}nonempty(e){return this.min(1,Qe.errToObj(e))}trim(){return new ca({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ca({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ca({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ca.create=t=>{var e;return new ca({checks:[],typeName:tt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...dt(t)})};function aIe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Sd extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$e.number){const i=this._getOrReturnCtx(e);return Me(i,{code:xe.invalid_type,expected:$e.number,received:i.parsedType}),it}let r;const s=new fs;for(const i of this._def.checks)i.kind==="int"?Lt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Me(r,{code:xe.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:xe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:xe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?aIe(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Me(r,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Me(r,{code:xe.not_finite,message:i.message}),s.dirty()):Lt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Qe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Qe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Qe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Qe.toString(n))}setLimit(e,n,r,s){return new Sd({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Qe.toString(s)}]})}_addCheck(e){return new Sd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Qe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Qe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Qe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Qe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Qe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Qe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Lt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Sd.create=t=>new Sd({checks:[],typeName:tt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...dt(t)});class Id extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==$e.bigint){const i=this._getOrReturnCtx(e);return Me(i,{code:xe.invalid_type,expected:$e.bigint,received:i.parsedType}),it}let r;const s=new fs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:xe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:xe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Lt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Qe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Qe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Qe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Qe.toString(n))}setLimit(e,n,r,s){return new Id({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Qe.toString(s)}]})}_addCheck(e){return new Id({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Qe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Qe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Id.create=t=>{var e;return new Id({checks:[],typeName:tt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...dt(t)})};class Rb extends yt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==$e.boolean){const r=this._getOrReturnCtx(e);return Me(r,{code:xe.invalid_type,expected:$e.boolean,received:r.parsedType}),it}return $s(e.data)}}Rb.create=t=>new Rb({typeName:tt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...dt(t)});class Bf extends yt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$e.date){const i=this._getOrReturnCtx(e);return Me(i,{code:xe.invalid_type,expected:$e.date,received:i.parsedType}),it}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Me(i,{code:xe.invalid_date}),it}const r=new fs;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Me(s,{code:xe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Me(s,{code:xe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Lt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Bf({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Qe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Qe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Bf.create=t=>new Bf({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:tt.ZodDate,...dt(t)});class x_ extends yt{_parse(e){if(this._getType(e)!==$e.symbol){const r=this._getOrReturnCtx(e);return Me(r,{code:xe.invalid_type,expected:$e.symbol,received:r.parsedType}),it}return $s(e.data)}}x_.create=t=>new x_({typeName:tt.ZodSymbol,...dt(t)});class Db extends yt{_parse(e){if(this._getType(e)!==$e.undefined){const r=this._getOrReturnCtx(e);return Me(r,{code:xe.invalid_type,expected:$e.undefined,received:r.parsedType}),it}return $s(e.data)}}Db.create=t=>new Db({typeName:tt.ZodUndefined,...dt(t)});class $b extends yt{_parse(e){if(this._getType(e)!==$e.null){const r=this._getOrReturnCtx(e);return Me(r,{code:xe.invalid_type,expected:$e.null,received:r.parsedType}),it}return $s(e.data)}}$b.create=t=>new $b({typeName:tt.ZodNull,...dt(t)});class ey extends yt{constructor(){super(...arguments),this._any=!0}_parse(e){return $s(e.data)}}ey.create=t=>new ey({typeName:tt.ZodAny,...dt(t)});class df extends yt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return $s(e.data)}}df.create=t=>new df({typeName:tt.ZodUnknown,...dt(t)});class vl extends yt{_parse(e){const n=this._getOrReturnCtx(e);return Me(n,{code:xe.invalid_type,expected:$e.never,received:n.parsedType}),it}}vl.create=t=>new vl({typeName:tt.ZodNever,...dt(t)});class __ extends yt{_parse(e){if(this._getType(e)!==$e.undefined){const r=this._getOrReturnCtx(e);return Me(r,{code:xe.invalid_type,expected:$e.void,received:r.parsedType}),it}return $s(e.data)}}__.create=t=>new __({typeName:tt.ZodVoid,...dt(t)});class fa extends yt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==$e.array)return Me(n,{code:xe.invalid_type,expected:$e.array,received:n.parsedType}),it;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Me(n,{code:o?xe.too_big:xe.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Me(n,{code:xe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Me(n,{code:xe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new uc(n,o,n.path,a)))).then(o=>fs.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new uc(n,o,n.path,a)));return fs.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new fa({...this._def,minLength:{value:e,message:Qe.toString(n)}})}max(e,n){return new fa({...this._def,maxLength:{value:e,message:Qe.toString(n)}})}length(e,n){return new fa({...this._def,exactLength:{value:e,message:Qe.toString(n)}})}nonempty(e){return this.min(1,e)}}fa.create=(t,e)=>new fa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:tt.ZodArray,...dt(e)});function Vp(t){if(t instanceof Pn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=al.create(Vp(r))}return new Pn({...t._def,shape:()=>e})}else return t instanceof fa?new fa({...t._def,type:Vp(t.element)}):t instanceof al?al.create(Vp(t.unwrap())):t instanceof Mf?Mf.create(Vp(t.unwrap())):t instanceof dc?dc.create(t.items.map(e=>Vp(e))):t}class Pn extends yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Lt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==$e.object){const l=this._getOrReturnCtx(e);return Me(l,{code:xe.invalid_type,expected:$e.object,received:l.parsedType}),it}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof vl&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new uc(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof vl){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(Me(s,{code:xe.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new uc(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>fs.mergeObjectSync(r,l)):fs.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Qe.errToObj,new Pn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Qe.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Pn({...this._def,unknownKeys:"strip"})}passthrough(){return new Pn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Pn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Pn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Pn({...this._def,catchall:e})}pick(e){const n={};return Lt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Pn({...this._def,shape:()=>n})}omit(e){const n={};return Lt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Pn({...this._def,shape:()=>n})}deepPartial(){return Vp(this)}partial(e){const n={};return Lt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Pn({...this._def,shape:()=>n})}required(e){const n={};return Lt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof al;)i=i._def.innerType;n[r]=i}}),new Pn({...this._def,shape:()=>n})}keyof(){return MW(Lt.objectKeys(this.shape))}}Pn.create=(t,e)=>new Pn({shape:()=>t,unknownKeys:"strip",catchall:vl.create(),typeName:tt.ZodObject,...dt(e)});Pn.strictCreate=(t,e)=>new Pn({shape:()=>t,unknownKeys:"strict",catchall:vl.create(),typeName:tt.ZodObject,...dt(e)});Pn.lazycreate=(t,e)=>new Pn({shape:t,unknownKeys:"strip",catchall:vl.create(),typeName:tt.ZodObject,...dt(e)});class Ub extends yt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new ha(a.ctx.common.issues));return Me(n,{code:xe.invalid_union,unionErrors:o}),it}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new ha(c));return Me(n,{code:xe.invalid_union,unionErrors:a}),it}}get options(){return this._def.options}}Ub.create=(t,e)=>new Ub({options:t,typeName:tt.ZodUnion,...dt(e)});const sx=t=>t instanceof Mb?sx(t.schema):t instanceof ma?sx(t.innerType()):t instanceof jb?[t.value]:t instanceof Td?t.options:t instanceof Fb?Object.keys(t.enum):t instanceof zb?sx(t._def.innerType):t instanceof Db?[void 0]:t instanceof $b?[null]:null;class hA extends yt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.object)return Me(n,{code:xe.invalid_type,expected:$e.object,received:n.parsedType}),it;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Me(n,{code:xe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),it)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=sx(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new hA({typeName:tt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...dt(r)})}}function UP(t,e){const n=gu(t),r=gu(e);if(t===e)return{valid:!0,data:t};if(n===$e.object&&r===$e.object){const s=Lt.objectKeys(e),i=Lt.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=UP(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===$e.array&&r===$e.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=UP(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===$e.date&&r===$e.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Bb extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(DP(i)||DP(o))return it;const a=UP(i.value,o.value);return a.valid?(($P(i)||$P(o))&&n.dirty(),{status:n.value,value:a.data}):(Me(r,{code:xe.invalid_intersection_types}),it)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Bb.create=(t,e,n)=>new Bb({left:t,right:e,typeName:tt.ZodIntersection,...dt(n)});class dc extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.array)return Me(r,{code:xe.invalid_type,expected:$e.array,received:r.parsedType}),it;if(r.data.length<this._def.items.length)return Me(r,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),it;!this._def.rest&&r.data.length>this._def.items.length&&(Me(r,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new uc(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>fs.mergeArray(n,o)):fs.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new dc({...this._def,rest:e})}}dc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new dc({items:t,typeName:tt.ZodTuple,rest:null,...dt(e)})};class Lb extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.object)return Me(r,{code:xe.invalid_type,expected:$e.object,received:r.parsedType}),it;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new uc(r,a,r.path,a)),value:o._parse(new uc(r,r.data[a],r.path,a))});return r.common.async?fs.mergeObjectAsync(n,s):fs.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof yt?new Lb({keyType:e,valueType:n,typeName:tt.ZodRecord,...dt(r)}):new Lb({keyType:ca.create(),valueType:e,typeName:tt.ZodRecord,...dt(n)})}}class C_ extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.map)return Me(r,{code:xe.invalid_type,expected:$e.map,received:r.parsedType}),it;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new uc(r,a,r.path,[l,"key"])),value:i._parse(new uc(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return it;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return it;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}C_.create=(t,e,n)=>new C_({valueType:e,keyType:t,typeName:tt.ZodMap,...dt(n)});class Lf extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.set)return Me(r,{code:xe.invalid_type,expected:$e.set,received:r.parsedType}),it;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Me(r,{code:xe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Me(r,{code:xe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return it;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new uc(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new Lf({...this._def,minSize:{value:e,message:Qe.toString(n)}})}max(e,n){return new Lf({...this._def,maxSize:{value:e,message:Qe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Lf.create=(t,e)=>new Lf({valueType:t,minSize:null,maxSize:null,typeName:tt.ZodSet,...dt(e)});class kg extends yt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.function)return Me(n,{code:xe.invalid_type,expected:$e.function,received:n.parsedType}),it;function r(a,c){return v_({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,b_(),kb].filter(l=>!!l),issueData:{code:xe.invalid_arguments,argumentsError:c}})}function s(a,c){return v_({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,b_(),kb].filter(l=>!!l),issueData:{code:xe.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof ty){const a=this;return $s(async function(...c){const l=new ha([]),u=await a._def.args.parseAsync(c,i).catch(f=>{throw l.addIssue(r(c,f)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(f=>{throw l.addIssue(s(d,f)),l})})}else{const a=this;return $s(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new ha([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new ha([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new kg({...this._def,args:dc.create(e).rest(df.create())})}returns(e){return new kg({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new kg({args:e||dc.create([]).rest(df.create()),returns:n||df.create(),typeName:tt.ZodFunction,...dt(r)})}}class Mb extends yt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Mb.create=(t,e)=>new Mb({getter:t,typeName:tt.ZodLazy,...dt(e)});class jb extends yt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Me(n,{received:n.data,code:xe.invalid_literal,expected:this._def.value}),it}return{status:"valid",value:e.data}}get value(){return this._def.value}}jb.create=(t,e)=>new jb({value:t,typeName:tt.ZodLiteral,...dt(e)});function MW(t,e){return new Td({values:t,typeName:tt.ZodEnum,...dt(e)})}class Td extends yt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Me(n,{expected:Lt.joinValues(r),received:n.parsedType,code:xe.invalid_type}),it}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Me(n,{received:n.data,code:xe.invalid_enum_value,options:r}),it}return $s(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Td.create(e)}exclude(e){return Td.create(this.options.filter(n=>!e.includes(n)))}}Td.create=MW;class Fb extends yt{_parse(e){const n=Lt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==$e.string&&r.parsedType!==$e.number){const s=Lt.objectValues(n);return Me(r,{expected:Lt.joinValues(s),received:r.parsedType,code:xe.invalid_type}),it}if(n.indexOf(e.data)===-1){const s=Lt.objectValues(n);return Me(r,{received:r.data,code:xe.invalid_enum_value,options:s}),it}return $s(e.data)}get enum(){return this._def.values}}Fb.create=(t,e)=>new Fb({values:t,typeName:tt.ZodNativeEnum,...dt(e)});class ty extends yt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.promise&&n.common.async===!1)return Me(n,{code:xe.invalid_type,expected:$e.promise,received:n.parsedType}),it;const r=n.parsedType===$e.promise?n.data:Promise.resolve(n.data);return $s(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ty.create=(t,e)=>new ty({type:t,typeName:tt.ZodPromise,...dt(e)});class ma extends yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Me(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?it:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?it:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ob(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ob(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Lt.assertNever(s)}}ma.create=(t,e,n)=>new ma({schema:t,typeName:tt.ZodEffects,effect:e,...dt(n)});ma.createWithPreprocess=(t,e,n)=>new ma({schema:e,effect:{type:"preprocess",transform:t},typeName:tt.ZodEffects,...dt(n)});class al extends yt{_parse(e){return this._getType(e)===$e.undefined?$s(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}al.create=(t,e)=>new al({innerType:t,typeName:tt.ZodOptional,...dt(e)});class Mf extends yt{_parse(e){return this._getType(e)===$e.null?$s(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mf.create=(t,e)=>new Mf({innerType:t,typeName:tt.ZodNullable,...dt(e)});class zb extends yt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===$e.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}zb.create=(t,e)=>new zb({innerType:t,typeName:tt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...dt(e)});class A_ extends yt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return E_(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ha(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ha(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}A_.create=(t,e)=>new A_({innerType:t,typeName:tt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...dt(e)});class S_ extends yt{_parse(e){if(this._getType(e)!==$e.nan){const r=this._getOrReturnCtx(e);return Me(r,{code:xe.invalid_type,expected:$e.nan,received:r.parsedType}),it}return{status:"valid",value:e.data}}}S_.create=t=>new S_({typeName:tt.ZodNaN,...dt(t)});const cIe=Symbol("zod_brand");class jW extends yt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Qv extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?it:i.status==="dirty"?(n.dirty(),LW(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?it:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Qv({in:e,out:n,typeName:tt.ZodPipeline})}}class I_ extends yt{_parse(e){const n=this._def.innerType._parse(e);return Ob(n)&&(n.value=Object.freeze(n.value)),n}}I_.create=(t,e)=>new I_({innerType:t,typeName:tt.ZodReadonly,...dt(e)});const FW=(t,e={},n)=>t?ey.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):ey.create(),lIe={object:Pn.lazycreate};var tt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(tt||(tt={}));const uIe=(t,e={message:`Input not instance of ${t.name}`})=>FW(n=>n instanceof t,e),zW=ca.create,HW=Sd.create,dIe=S_.create,hIe=Id.create,WW=Rb.create,fIe=Bf.create,pIe=x_.create,gIe=Db.create,mIe=$b.create,yIe=ey.create,wIe=df.create,bIe=vl.create,vIe=__.create,EIe=fa.create,xIe=Pn.create,_Ie=Pn.strictCreate,CIe=Ub.create,AIe=hA.create,SIe=Bb.create,IIe=dc.create,TIe=Lb.create,NIe=C_.create,PIe=Lf.create,kIe=kg.create,OIe=Mb.create,RIe=jb.create,DIe=Td.create,$Ie=Fb.create,UIe=ty.create,N6=ma.create,BIe=al.create,LIe=Mf.create,MIe=ma.createWithPreprocess,jIe=Qv.create,FIe=()=>zW().optional(),zIe=()=>HW().optional(),HIe=()=>WW().optional(),WIe={string:t=>ca.create({...t,coerce:!0}),number:t=>Sd.create({...t,coerce:!0}),boolean:t=>Rb.create({...t,coerce:!0}),bigint:t=>Id.create({...t,coerce:!0}),date:t=>Bf.create({...t,coerce:!0})},GIe=it;var k=Object.freeze({__proto__:null,defaultErrorMap:kb,setErrorMap:Q2e,getErrorMap:b_,makeIssue:v_,EMPTY_PATH:Y2e,addIssueToContext:Me,ParseStatus:fs,INVALID:it,DIRTY:LW,OK:$s,isAborted:DP,isDirty:$P,isValid:Ob,isAsync:E_,get util(){return Lt},get objectUtil(){return RP},ZodParsedType:$e,getParsedType:gu,ZodType:yt,ZodString:ca,ZodNumber:Sd,ZodBigInt:Id,ZodBoolean:Rb,ZodDate:Bf,ZodSymbol:x_,ZodUndefined:Db,ZodNull:$b,ZodAny:ey,ZodUnknown:df,ZodNever:vl,ZodVoid:__,ZodArray:fa,ZodObject:Pn,ZodUnion:Ub,ZodDiscriminatedUnion:hA,ZodIntersection:Bb,ZodTuple:dc,ZodRecord:Lb,ZodMap:C_,ZodSet:Lf,ZodFunction:kg,ZodLazy:Mb,ZodLiteral:jb,ZodEnum:Td,ZodNativeEnum:Fb,ZodPromise:ty,ZodEffects:ma,ZodTransformer:ma,ZodOptional:al,ZodNullable:Mf,ZodDefault:zb,ZodCatch:A_,ZodNaN:S_,BRAND:cIe,ZodBranded:jW,ZodPipeline:Qv,ZodReadonly:I_,custom:FW,Schema:yt,ZodSchema:yt,late:lIe,get ZodFirstPartyTypeKind(){return tt},coerce:WIe,any:yIe,array:EIe,bigint:hIe,boolean:WW,date:fIe,discriminatedUnion:AIe,effect:N6,enum:DIe,function:kIe,instanceof:uIe,intersection:SIe,lazy:OIe,literal:RIe,map:NIe,nan:dIe,nativeEnum:$Ie,never:bIe,null:mIe,nullable:LIe,number:HW,object:xIe,oboolean:HIe,onumber:zIe,optional:BIe,ostring:FIe,pipeline:jIe,preprocess:MIe,promise:UIe,record:TIe,set:PIe,strictObject:_Ie,string:zW,symbol:pIe,transformer:N6,tuple:IIe,undefined:gIe,union:CIe,unknown:wIe,void:vIe,NEVER:GIe,ZodIssueCode:xe,quotelessJson:K2e,ZodError:ha});const Un=k.object({message:k.string()});function Ue(t){return k.literal(Fe[t])}k.object({accessList:k.array(k.string()),blockHash:k.string().nullable(),blockNumber:k.string().nullable(),chainId:k.string().or(k.number()),from:k.string(),gas:k.string(),hash:k.string(),input:k.string().nullable(),maxFeePerGas:k.string(),maxPriorityFeePerGas:k.string(),nonce:k.string(),r:k.string(),s:k.string(),to:k.string(),transactionIndex:k.string().nullable(),type:k.string(),v:k.string(),value:k.string()});const qIe=k.object({chainId:k.string().or(k.number())}),VIe=k.object({email:k.string().email()}),KIe=k.object({otp:k.string()}),QIe=k.object({uri:k.string(),preferredAccountType:k.optional(k.string()),chainId:k.optional(k.string().or(k.number()))}),YIe=k.object({chainId:k.optional(k.string().or(k.number())),preferredAccountType:k.optional(k.string()),socialUri:k.optional(k.string())}),JIe=k.object({provider:k.enum(["google","github","apple","facebook","x","discord"])}),ZIe=k.object({email:k.string().email()}),XIe=k.object({otp:k.string()}),eTe=k.object({otp:k.string()}),tTe=k.object({themeMode:k.optional(k.enum(["light","dark"])),themeVariables:k.optional(k.record(k.string(),k.string().or(k.number()))),w3mThemeVariables:k.optional(k.record(k.string(),k.string()))}),nTe=k.object({metadata:k.object({name:k.string(),description:k.string(),url:k.string(),icons:k.array(k.string())}).optional(),sdkVersion:k.string().optional(),sdkType:k.string().optional(),projectId:k.string()}),rTe=k.object({type:k.string()}),sTe=k.object({action:k.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),iTe=k.object({url:k.string()}),oTe=k.object({userName:k.string()}),aTe=k.object({email:k.string().optional().nullable(),address:k.string(),chainId:k.string().or(k.number()),accounts:k.array(k.object({address:k.string(),type:k.enum([Ar.ACCOUNT_TYPES.EOA,Ar.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:k.string().optional().nullable(),preferredAccountType:k.optional(k.string())}),cTe=k.object({action:k.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),lTe=k.object({email:k.string().email().optional().nullable(),address:k.string(),chainId:k.string().or(k.number()),smartAccountDeployed:k.optional(k.boolean()),accounts:k.array(k.object({address:k.string(),type:k.enum([Ar.ACCOUNT_TYPES.EOA,Ar.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:k.optional(k.string())}),uTe=k.object({uri:k.string()}),dTe=k.object({isConnected:k.boolean()}),hTe=k.object({chainId:k.string().or(k.number())}),fTe=k.object({chainId:k.string().or(k.number())}),pTe=k.object({newEmail:k.string().email()}),gTe=k.object({smartAccountEnabledNetworks:k.array(k.number())});k.object({address:k.string(),isDeployed:k.boolean()});const mTe=k.object({version:k.string().optional()}),yTe=k.object({type:k.string(),address:k.string()}),wTe=k.any(),bTe=k.object({method:k.literal("eth_accounts")}),vTe=k.object({method:k.literal("eth_blockNumber")}),ETe=k.object({method:k.literal("eth_call"),params:k.array(k.any())}),xTe=k.object({method:k.literal("eth_chainId")}),_Te=k.object({method:k.literal("eth_estimateGas"),params:k.array(k.any())}),CTe=k.object({method:k.literal("eth_feeHistory"),params:k.array(k.any())}),ATe=k.object({method:k.literal("eth_gasPrice")}),STe=k.object({method:k.literal("eth_getAccount"),params:k.array(k.any())}),ITe=k.object({method:k.literal("eth_getBalance"),params:k.array(k.any())}),TTe=k.object({method:k.literal("eth_getBlockByHash"),params:k.array(k.any())}),NTe=k.object({method:k.literal("eth_getBlockByNumber"),params:k.array(k.any())}),PTe=k.object({method:k.literal("eth_getBlockReceipts"),params:k.array(k.any())}),kTe=k.object({method:k.literal("eth_getBlockTransactionCountByHash"),params:k.array(k.any())}),OTe=k.object({method:k.literal("eth_getBlockTransactionCountByNumber"),params:k.array(k.any())}),RTe=k.object({method:k.literal("eth_getCode"),params:k.array(k.any())}),DTe=k.object({method:k.literal("eth_getFilterChanges"),params:k.array(k.any())}),$Te=k.object({method:k.literal("eth_getFilterLogs"),params:k.array(k.any())}),UTe=k.object({method:k.literal("eth_getLogs"),params:k.array(k.any())}),BTe=k.object({method:k.literal("eth_getProof"),params:k.array(k.any())}),LTe=k.object({method:k.literal("eth_getStorageAt"),params:k.array(k.any())}),MTe=k.object({method:k.literal("eth_getTransactionByBlockHashAndIndex"),params:k.array(k.any())}),jTe=k.object({method:k.literal("eth_getTransactionByBlockNumberAndIndex"),params:k.array(k.any())}),FTe=k.object({method:k.literal("eth_getTransactionByHash"),params:k.array(k.any())}),zTe=k.object({method:k.literal("eth_getTransactionCount"),params:k.array(k.any())}),HTe=k.object({method:k.literal("eth_getTransactionReceipt"),params:k.array(k.any())}),WTe=k.object({method:k.literal("eth_getUncleCountByBlockHash"),params:k.array(k.any())}),GTe=k.object({method:k.literal("eth_getUncleCountByBlockNumber"),params:k.array(k.any())}),qTe=k.object({method:k.literal("eth_maxPriorityFeePerGas")}),VTe=k.object({method:k.literal("eth_newBlockFilter")}),KTe=k.object({method:k.literal("eth_newFilter"),params:k.array(k.any())}),QTe=k.object({method:k.literal("eth_newPendingTransactionFilter")}),YTe=k.object({method:k.literal("eth_sendRawTransaction"),params:k.array(k.any())}),JTe=k.object({method:k.literal("eth_syncing"),params:k.array(k.any())}),ZTe=k.object({method:k.literal("eth_uninstallFilter"),params:k.array(k.any())}),P6=k.object({method:k.literal("personal_sign"),params:k.array(k.any())}),XTe=k.object({method:k.literal("eth_signTypedData_v4"),params:k.array(k.any())}),eNe=k.object({method:k.literal("eth_sendTransaction"),params:k.array(k.any())}),tNe=k.object({method:k.literal("solana_signMessage"),params:k.object({message:k.string(),pubkey:k.string()})}),nNe=k.object({method:k.literal("solana_signTransaction"),params:k.object({transaction:k.string()})}),rNe=k.object({method:k.literal("solana_signAllTransactions"),params:k.object({transactions:k.array(k.string())})}),sNe=k.object({method:k.literal("solana_signAndSendTransaction"),params:k.object({transaction:k.string(),options:k.object({skipPreflight:k.boolean().optional(),preflightCommitment:k.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:k.number().optional(),minContextSlot:k.number().optional()}).optional()})}),iNe=k.object({method:k.literal("wallet_sendCalls"),params:k.array(k.object({chainId:k.string().or(k.number()).optional(),from:k.string().optional(),version:k.string().optional(),capabilities:k.any().optional(),calls:k.array(k.object({to:k.string().startsWith("0x"),data:k.string().startsWith("0x").optional(),value:k.string().optional()}))}))}),oNe=k.object({method:k.literal("wallet_getCallsStatus"),params:k.array(k.string())}),aNe=k.object({method:k.literal("wallet_getCapabilities")}),cNe=k.object({method:k.literal("wallet_grantPermissions"),params:k.array(k.any())}),lNe=k.object({method:k.literal("wallet_revokePermissions"),params:k.any()}),uNe=k.object({method:k.literal("wallet_getAssets"),params:k.any()}),k6=k.object({token:k.string()}),Be=k.object({id:k.string().optional()}),v0={appEvent:Be.extend({type:Ue("APP_SWITCH_NETWORK"),payload:qIe}).or(Be.extend({type:Ue("APP_CONNECT_EMAIL"),payload:VIe})).or(Be.extend({type:Ue("APP_CONNECT_DEVICE")})).or(Be.extend({type:Ue("APP_CONNECT_OTP"),payload:KIe})).or(Be.extend({type:Ue("APP_CONNECT_SOCIAL"),payload:QIe})).or(Be.extend({type:Ue("APP_GET_FARCASTER_URI")})).or(Be.extend({type:Ue("APP_CONNECT_FARCASTER")})).or(Be.extend({type:Ue("APP_GET_USER"),payload:k.optional(YIe)})).or(Be.extend({type:Ue("APP_GET_SOCIAL_REDIRECT_URI"),payload:JIe})).or(Be.extend({type:Ue("APP_SIGN_OUT")})).or(Be.extend({type:Ue("APP_IS_CONNECTED"),payload:k.optional(k6)})).or(Be.extend({type:Ue("APP_GET_CHAIN_ID")})).or(Be.extend({type:Ue("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Be.extend({type:Ue("APP_INIT_SMART_ACCOUNT")})).or(Be.extend({type:Ue("APP_SET_PREFERRED_ACCOUNT"),payload:rTe})).or(Be.extend({type:Ue("APP_RPC_REQUEST"),payload:P6.or(uNe).or(bTe).or(vTe).or(ETe).or(xTe).or(_Te).or(CTe).or(ATe).or(STe).or(ITe).or(TTe).or(NTe).or(PTe).or(kTe).or(OTe).or(RTe).or(DTe).or($Te).or(UTe).or(BTe).or(LTe).or(MTe).or(jTe).or(FTe).or(zTe).or(HTe).or(WTe).or(GTe).or(qTe).or(VTe).or(KTe).or(QTe).or(YTe).or(JTe).or(ZTe).or(P6).or(XTe).or(eNe).or(tNe).or(nNe).or(rNe).or(sNe).or(oNe).or(iNe).or(aNe).or(cNe).or(lNe)})).or(Be.extend({type:Ue("APP_UPDATE_EMAIL"),payload:ZIe})).or(Be.extend({type:Ue("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:XIe})).or(Be.extend({type:Ue("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:eTe})).or(Be.extend({type:Ue("APP_SYNC_THEME"),payload:tTe})).or(Be.extend({type:Ue("APP_SYNC_DAPP_DATA"),payload:nTe})).or(Be.extend({type:Ue("APP_RELOAD")})),frameEvent:Be.extend({type:Ue("FRAME_SWITCH_NETWORK_ERROR"),payload:Un}).or(Be.extend({type:Ue("FRAME_SWITCH_NETWORK_SUCCESS"),payload:fTe})).or(Be.extend({type:Ue("FRAME_CONNECT_EMAIL_SUCCESS"),payload:sTe})).or(Be.extend({type:Ue("FRAME_CONNECT_EMAIL_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:iTe})).or(Be.extend({type:Ue("FRAME_GET_FARCASTER_URI_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:oTe})).or(Be.extend({type:Ue("FRAME_CONNECT_FARCASTER_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_CONNECT_OTP_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_CONNECT_OTP_SUCCESS")})).or(Be.extend({type:Ue("FRAME_CONNECT_DEVICE_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Be.extend({type:Ue("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:aTe})).or(Be.extend({type:Ue("FRAME_CONNECT_SOCIAL_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_GET_USER_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_GET_USER_SUCCESS"),payload:lTe})).or(Be.extend({type:Ue("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:uTe})).or(Be.extend({type:Ue("FRAME_SIGN_OUT_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_SIGN_OUT_SUCCESS")})).or(Be.extend({type:Ue("FRAME_IS_CONNECTED_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_IS_CONNECTED_SUCCESS"),payload:dTe})).or(Be.extend({type:Ue("FRAME_GET_CHAIN_ID_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_GET_CHAIN_ID_SUCCESS"),payload:hTe})).or(Be.extend({type:Ue("FRAME_RPC_REQUEST_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_RPC_REQUEST_SUCCESS"),payload:wTe})).or(Be.extend({type:Ue("FRAME_SESSION_UPDATE"),payload:k6})).or(Be.extend({type:Ue("FRAME_UPDATE_EMAIL_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_UPDATE_EMAIL_SUCCESS"),payload:cTe})).or(Be.extend({type:Ue("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Be.extend({type:Ue("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:pTe})).or(Be.extend({type:Ue("FRAME_SYNC_THEME_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_SYNC_THEME_SUCCESS")})).or(Be.extend({type:Ue("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Be.extend({type:Ue("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:gTe})).or(Be.extend({type:Ue("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:yTe})).or(Be.extend({type:Ue("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_READY"),payload:mTe})).or(Be.extend({type:Ue("FRAME_RELOAD_ERROR"),payload:Un})).or(Be.extend({type:Ue("FRAME_RELOAD_SUCCESS")}))};function rI(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class dNe{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=ue.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const i=document.getElementById("w3m-iframe");this.iframe&&!i&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(i,o,a)=>{function c({data:l}){if(!rI(Fe.FRAME_EVENT_KEY,l))return;const u=v0.frameEvent.parse(l);u.id===i&&(o(u),window.removeEventListener("message",c))}$i.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:i=>{$i.isClient&&window.addEventListener("message",({data:o})=>{if(!rI(Fe.FRAME_EVENT_KEY,o))return;const a=v0.frameEvent.parse(o);i(a)})},onAppEvent:i=>{$i.isClient&&window.addEventListener("message",({data:o})=>{if(!rI(Fe.APP_EVENT_KEY,o))return;const a=v0.appEvent.parse(o);i(a)})},postAppEvent:i=>{var o;if($i.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");v0.appEvent.parse(i),this.iframe.contentWindow.postMessage(i,"*")}},postFrameEvent:i=>{if($i.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");v0.frameEvent.parse(i),parent.postMessage(i,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),n&&(this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),$i.isClient)){const i=document.createElement("iframe");i.id="w3m-iframe",i.src=`${jue}?projectId=${e}&chainId=${r}&version=${zue}&enableLogger=${s}`,i.name="w3m-secure-iframe",i.style.position="fixed",i.style.zIndex="999999",i.style.display="none",i.style.border="none",i.style.animationDelay="0s, 50ms",i.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",i.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=i,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class hNe{constructor(e){var i;const n=Cy({level:Fue}),{logger:r,chunkLoggerController:s}=CR({opts:n});this.logger=ps(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class fNe{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new hNe(e)),this.abortController=i,this.w3mFrame=new dNe({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===Fe.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!Dr.get(Fe.EMAIL_LOGIN_USED_KEY)}getEmail(){return Dr.get(Fe.EMAIL)}getUsername(){return Dr.get(Fe.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:Fe.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{$i.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:Fe.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:Fe.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:Fe.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:Fe.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:Fe.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:Fe.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:Fe.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:Fe.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:Fe.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:Fe.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:Fe.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:Fe.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:Fe.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n,r;if(e!=null&&e.socialUri)try{await this.init();const s=await this.appEvent({type:Fe.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId}});return s.userName&&this.setSocialLoginSuccess(s.userName),this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var n;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:Fe.APP_GET_USER,payload:{...e,chainId:r}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{await this.init();const r=await this.appEvent({type:Fe.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:Fe.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:Fe.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:Fe.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const s=setTimeout(()=>{r()},3e3);await this.appEvent({type:Fe.APP_SIGN_OUT}),clearTimeout(s),r()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,s,i;try{if(Ar.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:Fe.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,o,e),o}catch(o){throw(s=this.rpcErrorHandler)==null||s.call(this,o,e),(i=this.w3mLogger)==null||i.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Fe.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Fe.FRAME_IS_CONNECTED_ERROR&&e(),n.type===Fe.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Fe.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Fe.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Fe.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===Fe.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Ar.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Fe.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===Fe.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{Ar.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(c){return c.replace("@w3m-app/","")}const i=[Fe.APP_SYNC_DAPP_DATA,Fe.APP_SYNC_THEME,Fe.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(r=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[Fe.APP_CONNECT_EMAIL,Fe.APP_CONNECT_DEVICE,Fe.APP_CONNECT_OTP,Fe.APP_CONNECT_SOCIAL,Fe.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(n=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{var f,p,g;const u=Math.random().toString(36).substring(7);(g=(f=this.w3mLogger)==null?void 0:(p=f.logger).info)==null||g.call(p,{event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const d=new AbortController;if(o==="RPC_REQUEST"){const y=e;this.openRpcRequests=[...this.openRpcRequests,{...y.payload,abortController:d}]}d.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});function h(y,w){var v,b,_;y.id===u&&((b=w==null?void 0:(v=w.logger).info)==null||b.call(v,{framEvent:y,id:u},"Received frame response"),y.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in y&&c(y.payload),c(void 0)):y.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in y&&l(new Error(((_=y.payload)==null?void 0:_.message)||"An error occurred")),l(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(u,y=>h(y,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){Dr.set(Fe.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){Dr.set(Fe.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&Dr.set(Fe.EMAIL,e),Dr.set(Fe.EMAIL_LOGIN_USED_KEY,"true"),Dr.delete(Fe.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Dr.delete(Fe.EMAIL_LOGIN_USED_KEY),Dr.delete(Fe.EMAIL),Dr.delete(Fe.LAST_USED_CHAIN_KEY),Dr.delete(Fe.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&Dr.set(Fe.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=Dr.get(Fe.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){Dr.set(Fe.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class hf{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i}){return hf.instance||(hf.instance=new fNe({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i})),hf.instance}}var O6={};const pNe={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof O6<"u"?O6.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},BP={filterOutDuplicatesByRDNS(t){const e=me.state.enableEIP6963?Pe.state.connectors:[],n=Te.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&We.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!i.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=Pe.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=Te.getRecentWallets(),r=e.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Pe.state,{featuredWalletIds:n}=me.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=me.state.features)==null?void 0:c.connectMethodsOrder),r=e||Pe.state.connectors;if(n)return n;const{injected:s,announced:i}=ix.getConnectorsByType(r,Ke.state.recommended,Ke.state.featured),o=s.filter(ix.showConnector),a=i.filter(ix.showConnector);return o.length||a.length?["wallet","email","social"]:pNe.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Ke.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Ke.state.excludedWallets.some(r=>Pb.isLowerCaseMatch(r.name,t.name));return e||n}},ix={getConnectorsByType(t,e,n){const{customWallets:r}=me.state,s=Te.getRecentWallets(),i=BP.filterOutDuplicateWallets(e),o=BP.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&Ke.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&Ke.state.excludedWallets.some(i=>Pb.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!We.isMobile()||We.isMobile()&&!e&&!Le.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(B.state.chains.values()).some(n=>Pe.getConnectorId(n.namespace)===ue.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=me.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=ix.getIsConnectedWithWC(),f=[{type:"walletConnect",isEnabled:me.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(w=>w.isEnabled),p=new Set(f.map(w=>w.type)),g=c.filter(w=>p.has(w)).map(w=>({type:w,isEnabled:!0})),y=f.filter(({type:w})=>!g.some(({type:b})=>b===w));return Array.from(new Set([...g,...y].map(({type:w})=>w)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,n;try{if(t.name==="Browser Wallet"&&!We.isMobile())return{accounts:[],chainId:void 0};if(t.id===ue.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[r,s]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(n=t.provider)==null?void 0:n.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:r,chainId:s}}catch(r){return console.warn(`Failed to fetch provider data for ${t.name}`,r),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ox=globalThis,s3=ox.ShadowRoot&&(ox.ShadyCSS===void 0||ox.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,i3=Symbol(),R6=new WeakMap;let GW=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==i3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(s3&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=R6.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&R6.set(n,e))}return e}toString(){return this.cssText}};const eo=t=>new GW(typeof t=="string"?t:t+"",void 0,i3),Og=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new GW(n,t,i3)},gNe=(t,e)=>{if(s3)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=ox.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},D6=s3?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return eo(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:mNe,defineProperty:yNe,getOwnPropertyDescriptor:wNe,getOwnPropertyNames:bNe,getOwnPropertySymbols:vNe,getPrototypeOf:ENe}=Object,pd=globalThis,$6=pd.trustedTypes,xNe=$6?$6.emptyScript:"",sI=pd.reactiveElementPolyfillSupport,bw=(t,e)=>t,LP={toAttribute(t,e){switch(e){case Boolean:t=t?xNe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},qW=(t,e)=>!mNe(t,e),U6={attribute:!0,type:String,converter:LP,reflect:!1,useDefault:!1,hasChanged:qW};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),pd.litPropertyMetadata??(pd.litPropertyMetadata=new WeakMap);let Kp=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=U6){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&yNe(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:i}=wNe(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const a=s==null?void 0:s.call(this);i==null||i.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??U6}static _$Ei(){if(this.hasOwnProperty(bw("elementProperties")))return;const e=ENe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(bw("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(bw("properties"))){const n=this.properties,r=[...bNe(n),...vNe(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(D6(s))}else e!==void 0&&n.push(D6(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return gNe(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var i;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)==null?void 0:i.toAttribute)!==void 0?r.converter:LP).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,n){var i,o;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const a=r.getPropertyOptions(s),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)==null?void 0:i.fromAttribute)!==void 0?a.converter:LP;this._$Em=s,this[s]=c.fromAttribute(n,a.type)??((o=this._$Ej)==null?void 0:o.get(s))??null,this._$Em=null}}requestUpdate(e,n,r){var s;if(e!==void 0){const i=this.constructor,o=this[e];if(r??(r=i.getPropertyOptions(e)),!((r.hasChanged??qW)(o,n)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s){const{wrapped:a}=o,c=this[i];a!==!0||this._$AL.has(i)||c===void 0||this.C(i,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};Kp.elementStyles=[],Kp.shadowRootOptions={mode:"open"},Kp[bw("elementProperties")]=new Map,Kp[bw("finalized")]=new Map,sI==null||sI({ReactiveElement:Kp}),(pd.reactiveElementVersions??(pd.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const vw=globalThis,T_=vw.trustedTypes,B6=T_?T_.createPolicy("lit-html",{createHTML:t=>t}):void 0,VW="$lit$",mu=`lit$${Math.random().toFixed(9).slice(2)}$`,KW="?"+mu,_Ne=`<${KW}>`,jf=document,Hb=()=>jf.createComment(""),Wb=t=>t===null||typeof t!="object"&&typeof t!="function",o3=Array.isArray,CNe=t=>o3(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",iI=`[ 	
\f\r]`,E0=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,L6=/-->/g,M6=/>/g,Qd=RegExp(`>|${iI}(?:([^\\s"'>=/]+)(${iI}*=${iI}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),j6=/'/g,F6=/"/g,QW=/^(?:script|style|textarea|title)$/i,YW=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),BUe=YW(1),LUe=YW(2),ny=Symbol.for("lit-noChange"),Er=Symbol.for("lit-nothing"),z6=new WeakMap,Ih=jf.createTreeWalker(jf,129);function JW(t,e){if(!o3(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return B6!==void 0?B6.createHTML(e):e}const ANe=(t,e)=>{const n=t.length-1,r=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=E0;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===E0?u[1]==="!--"?o=L6:u[1]!==void 0?o=M6:u[2]!==void 0?(QW.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=Qd):u[3]!==void 0&&(o=Qd):o===Qd?u[0]===">"?(o=s??E0,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Qd:u[3]==='"'?F6:j6):o===F6||o===j6?o=Qd:o===L6||o===M6?o=E0:(o=Qd,s=void 0);const f=o===Qd&&t[a+1].startsWith("/>")?" ":"";i+=o===E0?c+_Ne:d>=0?(r.push(l),c.slice(0,d)+VW+c.slice(d)+mu+f):c+mu+(d===-2?a:f)}return[JW(t,i+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class Gb{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[l,u]=ANe(e,n);if(this.el=Gb.createElement(l,r),Ih.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=Ih.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(VW)){const h=u[o++],f=s.getAttribute(d).split(mu),p=/([.?@])?(.*)/.exec(h);c.push({type:1,index:i,name:p[2],strings:f,ctor:p[1]==="."?INe:p[1]==="?"?TNe:p[1]==="@"?NNe:fA}),s.removeAttribute(d)}else d.startsWith(mu)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(QW.test(s.tagName)){const d=s.textContent.split(mu),h=d.length-1;if(h>0){s.textContent=T_?T_.emptyScript:"";for(let f=0;f<h;f++)s.append(d[f],Hb()),Ih.nextNode(),c.push({type:2,index:++i});s.append(d[h],Hb())}}}else if(s.nodeType===8)if(s.data===KW)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(mu,d+1))!==-1;)c.push({type:7,index:i}),d+=mu.length-1}i++}}static createElement(e,n){const r=jf.createElement("template");return r.innerHTML=e,r}}function ry(t,e,n=t,r){var o,a;if(e===ny)return e;let s=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const i=Wb(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=ry(t,s._$AS(t,e.values),s,r)),e}class SNe{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??jf).importNode(n,!0);Ih.currentNode=s;let i=Ih.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new Yv(i,i.nextSibling,this,e):c.type===1?l=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(l=new PNe(i,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(i=Ih.nextNode(),o++)}return Ih.currentNode=jf,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class Yv{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=Er,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=ry(this,e,n),Wb(e)?e===Er||e==null||e===""?(this._$AH!==Er&&this._$AR(),this._$AH=Er):e!==this._$AH&&e!==ny&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):CNe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Er&&Wb(this._$AH)?this._$AA.nextSibling.data=e:this.T(jf.createTextNode(e)),this._$AH=e}$(e){var i;const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=Gb.createElement(JW(r.h,r.h[0]),this.options)),r);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(n);else{const o=new SNe(s,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=z6.get(e.strings);return n===void 0&&z6.set(e.strings,n=new Gb(e)),n}k(e){o3(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of e)s===n.length?n.push(r=new Yv(this.O(Hb()),this.O(Hb()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class fA{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,i){this.type=1,this._$AH=Er,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Er}_$AI(e,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)e=ry(this,e,n,0),o=!Wb(e)||e!==this._$AH&&e!==ny,o&&(this._$AH=e);else{const a=e;let c,l;for(e=i[0],c=0;c<i.length-1;c++)l=ry(this,a[r+c],n,c),l===ny&&(l=this._$AH[c]),o||(o=!Wb(l)||l!==this._$AH[c]),l===Er?e=Er:e!==Er&&(e+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===Er?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class INe extends fA{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Er?void 0:e}}class TNe extends fA{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Er)}}class NNe extends fA{constructor(e,n,r,s,i){super(e,n,r,s,i),this.type=5}_$AI(e,n=this){if((e=ry(this,e,n,0)??Er)===ny)return;const r=this._$AH,s=e===Er&&r!==Er||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==Er&&(r===Er||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class PNe{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){ry(this,e)}}const oI=vw.litHtmlPolyfillSupport;oI==null||oI(Gb,Yv),(vw.litHtmlVersions??(vw.litHtmlVersions=[])).push("3.3.0");const kNe=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const i=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new Yv(e.insertBefore(Hb(),i),i,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ff=globalThis;let ax=class extends Kp{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=kNe(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return ny}};var qB;ax._$litElement$=!0,ax.finalized=!0,(qB=ff.litElementHydrateSupport)==null||qB.call(ff,{LitElement:ax});const aI=ff.litElementPolyfillSupport;aI==null||aI({LitElement:ax});(ff.litElementVersions??(ff.litElementVersions=[])).push("4.2.0");let Ew,gd,md;function jUe(t,e){Ew=document.createElement("style"),gd=document.createElement("style"),md=document.createElement("style"),Ew.textContent=Rg(t).core.cssText,gd.textContent=Rg(t).dark.cssText,md.textContent=Rg(t).light.cssText,document.head.appendChild(Ew),document.head.appendChild(gd),document.head.appendChild(md),ZW(e)}function ZW(t){gd&&md&&(t==="light"?(gd.removeAttribute("media"),md.media="enabled"):(md.removeAttribute("media"),gd.media="enabled"))}function ONe(t){Ew&&gd&&md&&(Ew.textContent=Rg(t).core.cssText,gd.textContent=Rg(t).dark.cssText,md.textContent=Rg(t).light.cssText)}function Rg(t){return{core:Og`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${eo(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${eo((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${eo((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${eo((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${eo((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Og`
      :root {
        --w3m-color-mix: ${eo((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${eo(tl(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${eo(tl(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Og`
      :root {
        --w3m-color-mix: ${eo((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${eo(tl(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${eo(tl(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const FUe=Og`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,zUe=Og`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,HUe=Og`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,z0={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},XW=kee({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function Jv(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const H6=Jv({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),W6=Jv({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Jv({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Jv({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Jv({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const RNe={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},xw={getMethodsByChainNamespace(t){return RNe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${i}`,u=r[o];switch(u.chains.push(l),l){case H6.caipNetworkId:u.chains.push(H6.deprecatedCaipNetworkId);break;case W6.caipNetworkId:u.chains.push(W6.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await cw.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1}};class a3{constructor({provider:e,namespace:n}){this.id=ue.CONNECTOR_ID.WALLET_CONNECT,this.name=Ju.ConnectorNamesMap[ue.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Ju.ConnectorImageIds[ue.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=B.getCaipNetworks.bind(B),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=me.state.universalProviderConfigOverride,s=xw.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return ww.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:DNe})}}const DNe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class eG{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>B.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:ue.CONNECTOR_ID.AUTH,type:"AUTH",name:ue.CONNECTOR_NAMES.AUTH,provider:e,imageId:Ju.ConnectorImageIds[ue.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){Se.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var i;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const o=s,a=(i=Se.state.preferredAccountTypes)==null?void 0:i[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof a3);if(!e)throw new Error("WalletConnectConnector not found");return e}}class $Ne extends eG{setUniversalProvider(e){this.addConnector(new a3({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,i,o,a;const n=this.provider,r=((a=(o=(i=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>We.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var i,o,a,c,l;if(!(e.caipNetwork&&Yt.BALANCE_SUPPORTED_CHAINS.includes((i=e.caipNetwork)==null?void 0:i.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(Se.state.balanceLoading&&e.chainId===((c=B.state.activeCaipNetwork)==null?void 0:c.id))return{balance:Se.state.balance||"0.00",symbol:Se.state.balanceSymbol||""};const s=(await Se.fetchTokenBalance()).find(u=>{var d,h;return u.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&u.symbol===((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=B.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===ue.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:Ny.encode(new TextEncoder().encode(r)),pubkey:s}},(a=B.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},(c=B.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===ue.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:_f(n.id)}]}))}catch(u){if(u.code===z0.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===z0.ERROR_INVALID_CHAIN_ID||u.code===z0.ERROR_CODE_DEFAULT||((o=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:o.code)===z0.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:_f(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const UNe=["email","socials","swaps","onramp","activity","reownBranding"],fE={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?Yt.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?Yt.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?Yt.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Yt.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?Yt.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Yt.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?Yt.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Yt.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Yt.DEFAULT_REMOTE_FEATURES.reownBranding:!!t}},BNe={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=fE[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,s){const i=fE[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(i.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return fE[t].processApi(e)},processFallbackFeature(t,e){return fE[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await Ke.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?Yt.DEFAULT_REMOTE_FEATURES:Yt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of UNe){const a=this.processFeature(o,n,r,s,e);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),Yt.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;Xn.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return i}};class LNe{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,i,o,a;if(n){const c=(i=(s=B.getNetworkData(n))==null?void 0:s.requestedCaipNetworks)==null?void 0:i.find(d=>d.id===r);if(c)return c;const l=(o=B.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=B.getRequestedCaipNetworks(n).filter(d=>d.chainNamespace===n))==null?void 0:a[0])}return B.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>B.getCaipNetworks(n),this.getActiveChainNamespace=()=>B.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{B.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>B.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>B.state.activeChain===n||!n?B.state.activeCaipAddress:B.getAccountProp("caipAddress",n),this.setClientId=n=>{Je.setClientId(n)},this.getProvider=n=>on.getProvider(n),this.getProviderType=n=>on.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=Se.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{Se.setCaipAddress(n,r),n&&me.state.enableEmbedded&&this.close()},this.setBalance=(n,r,s)=>{Se.setBalance(n,r,s)},this.setProfileName=(n,r)=>{Se.setProfileName(n,r)},this.setProfileImage=(n,r)=>{Se.setProfileImage(n,r)},this.setUser=(n,r)=>{Se.setUser(n,r)},this.resetAccount=n=>{Se.resetAccount(n)},this.setCaipNetwork=n=>{B.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{B.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{Se.setAllAccounts(n,r),me.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{Se.setStatus(n,r),Pe.isConnected()?Te.setConnectionStatus("connected"):Te.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>B.getAccountProp("address",n),this.setConnectors=n=>{const r=[...Pe.state.allConnectors,...n];Pe.setConnectors(r)},this.setConnections=(n,r)=>{Le.setConnections(n,r)},this.fetchIdentity=n=>Je.fetchIdentity(n),this.getReownName=n=>cw.getNamesForAddress(n),this.getConnectors=()=>Pe.getConnectors(),this.getConnectorImage=n=>S7.getConnectorImage(n),this.getConnections=n=>vb.getConnectionsData(n).connections,this.getRecentConnections=n=>vb.getConnectionsData(n).recentConnections,this.switchConnection=n=>Le.switchConnection(n),this.deleteConnection=n=>Te.deleteAddressFromConnection(n),this.setConnectedWalletInfo=(n,r)=>{const s=on.getProviderId(r),i=n?{...n,type:s}:void 0;Se.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!B.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{Se.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{Se.removeAddressLabel(n,r)},this.getAddress=n=>B.state.activeChain===n||!n?Se.state.address:B.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>B.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{B.resetNetwork(n)},this.addConnector=n=>{Pe.addConnector(n)},this.resetWcConnection=()=>{Le.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{Se.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{Se.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{B.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{Se.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{me.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){var n,r,s;this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await BNe.fetchRemoteFeatures(e),me.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&BN.setOnrampProviders(this.remoteFeatures.onramp),((n=me.state.remoteFeatures)!=null&&n.email||Array.isArray((r=me.state.remoteFeatures)==null?void 0:r.socials)&&((s=me.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const e=await Ke.fetchAllowedOrigins();if(!e||!We.isClient()){Xn.open(Nn.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;xw.isOriginAllowed(n,e,z0.DEFAULT_ALLOWED_ANCESTORS)||Xn.open(Nn.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}catch(e){if(!(e instanceof Error)){Xn.open(Nn.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(e.message){case"RATE_LIMITED":Xn.open(Nn.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;Xn.open({shortMessage:Nn.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.shortMessage,longMessage:Nn.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.longMessage(n.message)},"error");break}default:Xn.open(Nn.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,Jt.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&ti.setThemeMode(e.themeMode),e.themeVariables&&ti.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");B.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&B.setActiveCaipNetwork(n)}initializeConnectionController(e){Le.initialize(e.adapters??[]),Le.setWcBasic(e.basic??!1)}initializeConnectorController(){Pe.initialize(this.chainNamespaces)}initializeProjectSettings(e){me.setProjectId(e.projectId),me.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var o;me.setDebug(e.debug!==!1),me.setEnableWalletConnect(e.enableWalletConnect!==!1),me.setEnableWalletGuide(e.enableWalletGuide!==!1),me.setEnableWallets(e.enableWallets!==!1),me.setEIP6963Enabled(e.enableEIP6963!==!1),me.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),me.setEnableAuthLogger(e.enableAuthLogger!==!1),me.setCustomRpcUrls(e.customRpcUrls),me.setEnableEmbedded(e.enableEmbedded),me.setAllWallets(e.allWallets),me.setIncludeWalletIds(e.includeWalletIds),me.setExcludeWalletIds(e.excludeWalletIds),me.setFeaturedWalletIds(e.featuredWalletIds),me.setTokens(e.tokens),me.setTermsConditionsUrl(e.termsConditionsUrl),me.setPrivacyPolicyUrl(e.privacyPolicyUrl),me.setCustomWallets(e.customWallets),me.setFeatures(e.features),me.setAllowUnsupportedChain(e.allowUnsupportedChain),me.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),me.setPreferUniversalLinks(e.experimental_preferUniversalLinks),me.setDefaultAccountTypes(e.defaultAccountTypes);const n=Te.getPreferredAccountTypes()||{},r={...me.state.defaultAccountTypes,...n};Se.setPreferredAccountTypes(r);const s=this.getDefaultMetaData();if(!e.metadata&&s&&(e.metadata=s),me.setMetadata(e.metadata),me.setDisableAppend(e.disableAppend),me.setEnableEmbedded(e.enableEmbedded),me.setSIWX(e.siwx),!e.projectId){Xn.open(Nn.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===ue.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");me.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return We.isClient()?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=Ya.getUnsupportedNetwork(`${n}:${e}`);B.setActiveCaipNetwork(r)}}getDefaultNetwork(){return Ya.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return Ya.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return Ya.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return n?Ya.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const n=this.getAdapter(e),r=on.getProvider(e),s=on.getProviderId(e),{caipAddress:i}=B.getAccountData(e)||{};this.setLoading(!0,e),i&&(n!=null&&n.disconnect)&&await n.disconnect({provider:r,providerType:s}),Te.removeConnectedNamespace(e),on.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e),this.setConnectedWalletInfo(void 0,e),Pe.removeConnectorId(e),B.resetAccount(e),B.resetNetwork(e),this.setLoading(!1,e)}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var i;const e=B.state.activeChain,n=this.getAdapter(e),r=(i=this.getCaipNetwork(e))==null?void 0:i.id;if(!n)throw new Error("Adapter not found");const s=await n.connectWalletConnect(r);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),Te.setConnectedNamespaces([...B.state.chains.keys()]),this.chainNamespaces.forEach(o=>{Pe.setConnectorId(_n.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:s,chain:i,caipNetwork:o,socialUri:a})=>{var g,y,w,v,b,_;const c=B.state.activeChain,l=i||c,u=this.getAdapter(l);if(i&&i!==c&&!o){const x=this.getCaipNetworks().find(C=>C.chainNamespace===i);x&&this.setCaipNetwork(x)}if(!u)throw new Error("Adapter not found");const d=this.getCaipNetwork(l),h=await u.connect({id:e,info:n,type:r,provider:s,socialUri:a,chainId:(o==null?void 0:o.id)||(d==null?void 0:d.id),rpcUrl:((w=(y=(g=o==null?void 0:o.rpcUrls)==null?void 0:g.default)==null?void 0:y.http)==null?void 0:w[0])||((_=(b=(v=d==null?void 0:d.rpcUrls)==null?void 0:v.default)==null?void 0:b.http)==null?void 0:_[0])});if(!h)return;Te.addConnectedNamespace(l),this.syncProvider({...h,chainNamespace:l});const f=Se.state.allAccounts,{accounts:p}=(f==null?void 0:f.length)>0?{accounts:[...f]}:await u.getAccounts({namespace:l,id:e});this.setAllAccounts(p,l),this.setStatus("connected",l),this.syncConnectedWalletInfo(l)},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var a;const i=B.state.activeChain,o=this.getAdapter(i);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),Te.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async({chainNamespace:e}={})=>{const n=Vue(e);try{const r=await Promise.allSettled(n.map(async([i])=>this.disconnectNamespace(i)));jt.resetSend(),Le.resetWcConnection(),await ww.clearSessions(),Pe.setFilterByNamespace(void 0);const s=r.filter(i=>i.status==="rejected");if(s.length>0)throw new Error(s.map(i=>i.reason.message).join(", "));Te.deleteConnectedSocialProvider(),Jt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(r){throw new Error(`Failed to disconnect chains: ${r.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(B.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:Se.state.address,provider:on.getProvider(B.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(Yt.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(B.state.activeChain),s=on.getProvider(n),i=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===ue.CHAIN.EVM){const n=this.getAdapter(B.state.activeChain),r=on.getProvider(B.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const i=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:s}));return(i==null?void 0:i.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:Se.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:B.state.activeChain}),Se.state.profileImage||!1},getEnsAddress:async e=>await xw.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(B.state.activeChain),r=this.getCaipNetwork(),s=this.getCaipAddress(),i=on.getProvider(B.state.activeChain);if(!r||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:i,caipAddress:s}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter(B.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(B.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(B.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(B.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(B.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(B.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!Se.state.address||this.updateNativeBalance(Se.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Le.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,i,o;if(on.getProviderId(B.state.activeChain)===_n.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=on.getProvider(n),i=on.getProviderId(n);if(e.chainNamespace===B.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:s,providerType:i}))}else if(this.setCaipNetwork(e),i===_n.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=Ri.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var i;const s=e==null?void 0:e.find(o=>o.namespace===r);return s?(s.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new $Ne({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=Te.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(Te.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:i})=>{const o=this.getCaipNetworks().find(l=>l.id===i||l.caipNetworkId===i),a=B.state.activeChain===e,c=B.getAccountProp("address",e);if(o){const l=a&&s?s:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=Se.state.address,i=B.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i})=>{var a,c;const o=B.state.activeChain===e;o&&i?this.syncAccount({address:s,chainId:i,chainNamespace:e}):o&&((a=B.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:s,chainId:(c=B.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(s,i,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===ue.CHAIN.EVM&&We.isSafeApp()&&Pe.setConnectorId(ue.CONNECTOR_ID.SAFE,e);const n=Pe.getConnectorId(e);switch(this.setStatus("connecting",e),n){case ue.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case ue.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var a,c,l;const n=this.getAdapter(e),r=Pe.getConnectorId(e),s=this.getCaipNetwork(e),o=Pe.getConnectors(e).find(u=>u.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const u=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:s.id,rpcUrl:(l=(c=(a=s==null?void 0:s.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));if(u){const d=await(n==null?void 0:n.getAccounts({namespace:e,id:o.id}));d&&d.accounts.length>0?this.setAllAccounts(d.accounts,e):this.setAllAccounts([We.createAccount(e,u.address,"eoa")],e),this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){var r,s;const e=Object.keys(((s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)||{}),n=this.chainNamespaces.map(async i=>{var u,d,h,f,p;const o=this.getAdapter(i),a=((f=(h=(d=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:d.namespaces)==null?void 0:h[i])==null?void 0:f.accounts)||[],c=(p=B.state.activeCaipNetwork)==null?void 0:p.id,l=a.find(g=>{const{chainId:y}=Ri.parseCaipAddress(g);return y===(c==null?void 0:c.toString())})||a[0];if(l){const g=Ri.validateCaipAddress(l),{chainId:y,address:w}=Ri.parseCaipAddress(g);if(on.setProviderId(i,_n.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&B.state.activeCaipNetwork&&(o==null?void 0:o.namespace)!==ue.CHAIN.EVM){const v=o==null?void 0:o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:B.state.activeCaipNetwork});on.setProvider(i,v)}else on.setProvider(i,this.universalProvider);Pe.setConnectorId(ue.CONNECTOR_ID.WALLET_CONNECT,i),Te.addConnectedNamespace(i),this.syncWalletConnectAccounts(i),await this.syncAccount({address:w,chainId:y,chainNamespace:i})}else e.includes(i)&&this.setStatus("disconnected",i);this.syncConnectedWalletInfo(i),await B.setApprovedCaipNetworksData(i)});await Promise.all(n)}syncWalletConnectAccounts(e){var r,s,i,o,a;const n=(a=(o=(i=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=Ri.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>We.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){on.setProviderId(s,e),on.setProvider(s,n),Pe.setConnectorId(r,s)}async syncAllAccounts(e){const n=Pe.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),s=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));s&&s.accounts.length>0&&this.setAllAccounts(s.accounts,e)}async syncAccount(e){var d,h;const n=e.chainNamespace===B.state.activeChain,r=B.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=Te.getActiveNetworkProps(),c=i||a,l=((d=B.state.activeCaipNetwork)==null?void 0:d.name)===ue.UNSUPPORTED_NETWORK_NAME,u=B.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(y=>y.id.toString()===c.toString()),p=this.getCaipNetworks().find(y=>y.chainNamespace===o);if(!u&&!f&&!p){const y=this.getApprovedCaipNetworkIds()||[],w=y.find(b=>{var _;return((_=Ri.parseCaipNetworkId(b))==null?void 0:_.chainId)===c.toString()}),v=y.find(b=>{var _;return((_=Ri.parseCaipNetworkId(b))==null?void 0:_.chainNamespace)===o});f=this.getCaipNetworks().find(b=>b.caipNetworkId===w),p=this.getCaipNetworks().find(b=>b.caipNetworkId===v||"deprecatedCaipNetworkId"in b&&b.deprecatedCaipNetworkId===v)}const g=f||p;(g==null?void 0:g.chainNamespace)===B.state.activeChain?me.state.enableNetworkSwitch&&!me.state.allowUnsupportedChain&&((h=B.state.activeCaipNetwork)==null?void 0:h.name)===ue.UNSUPPORTED_NETWORK_NAME?B.showUnsupportedChainUI():this.setCaipNetwork(g):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),Pb.isLowerCaseMatch(s,Se.state.address)||this.syncAccountInfo(s,g==null?void 0:g.id,o),n?await this.syncBalance({address:s,chainId:g==null?void 0:g.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),i=n||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${r}:${i}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=Pe.getConnectorId(e),r=on.getProviderId(e);if(r===_n.CONNECTOR_TYPE_ANNOUNCED||r===_n.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(o=>o.id===n);if(i){const{info:o,name:a,imageUrl:c}=i,l=c||this.getConnectorImage(i);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===_n.CONNECTOR_TYPE_WALLET_CONNECT){const i=on.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n&&n===ue.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(o=>o.id===ue.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}}async syncBalance(e){!bb.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),i=B.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:e,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,s,i,o,a,c,l,u,d,h;const e=q2e.createLogger((f,...p)=>{f&&this.handleAlertError(f),console.error(...p)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};me.setManualWCControl(!!((h=this.options)!=null&&h.manualWCControl)),this.universalProvider=this.options.universalProvider??await H2e.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{Le.setUri(e)}),this.universalProvider.on("connect",Le.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),Le.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(s=>s.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(xw.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&We.isCaipAddress(r[0])&&this.syncAccount(Ri.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&We.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Jt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(Nn.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=Nn.ALERT_ERRORS[o];a&&(Xn.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&Le.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return Wt.open({...e,data:{swap:e.arguments}})}return Wt.open(e)}async close(){await this.injectModalUi(),Wt.close()}setLoading(e,n){Wt.setLoading(e,n)}async disconnect(e){await Le.disconnect({namespace:e})}getSIWX(){return me.state.siwx}getError(){return""}getChainId(){var e;return(e=B.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){Xn.open(Nn.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await B.switchActiveNetwork(n)}getWalletProvider(){return B.state.activeChain?on.state.providers[B.state.activeChain]:null}getWalletProviderType(){return on.getProviderId(B.state.activeChain)}subscribeProviders(e){return on.subscribeProviders(e)}getThemeMode(){return ti.state.themeMode}getThemeVariables(){return ti.state.themeVariables}setThemeMode(e){ti.setThemeMode(e),ZW(ti.state.themeMode)}setTermsConditionsUrl(e){me.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){me.setPrivacyPolicyUrl(e)}setThemeVariables(e){ti.setThemeVariables(e),ONe(ti.state.themeVariables)}subscribeTheme(e){return ti.subscribe(e)}subscribeConnections(e){return Le.subscribe(e)}getWalletInfo(e){return e?B.getAccountProp("connectedWalletInfo",e):Se.state.connectedWalletInfo}getAccount(e){var o;const n=Pe.getAuthConnector(e),r=B.getAccountData(e),s=B.state.activeChain,i=Te.getConnectedConnectorId(e||s);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:We.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&i===ue.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:Te.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(o=r.preferredAccountTypes)==null?void 0:o[e||s],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?B.subscribeChainProp("accountState",r,n):B.subscribe(r),Pe.subscribe(r)}subscribeNetwork(e){return B.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e,n){return n?Se.subscribeKey("connectedWalletInfo",e,n):Se.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Se.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){B.subscribeKey("activeCaipNetwork",e)}getState(){return rc.state}subscribeState(e){return rc.subscribe(e)}showErrorMessage(e){ia.showError(e)}showSuccessMessage(e){ia.showSuccess(e)}getEvent(){return{...Jt.state}}subscribeEvents(e){return Jt.subscribe(e)}replace(e){Xe.replace(e)}redirect(e){Xe.push(e)}popTransactionStack(e){Xe.popTransactionStack(e)}isOpen(){return Wt.state.open}isTransactionStackEmpty(){return Xe.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){me.setFeatures(e)}updateRemoteFeatures(e){me.setRemoteFeatures(e)}updateOptions(e){const r={...me.state||{},...e};me.setOptions(r)}setConnectMethodsOrder(e){me.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){me.setWalletFeaturesOrder(e)}setCollapseWallets(e){me.setCollapseWallets(e)}setSocialsOrder(e){me.setSocialsOrder(e)}getConnectMethodsOrder(){return BP.getConnectOrderMethod(me.state.features,Pe.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||B.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&B.removeNetwork(e,n)}}let G6=!1;class MNe extends LNe{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{$i.checkIfRequestExists(n)?$i.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(Ar.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(Ar.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const s=$i.checkIfRequestIsSafe(r),i=Se.state.address,o=B.state.activeCaipNetwork;s||(i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=B.state.activeChain;Pe.getConnectorId(n)===ue.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(n=>{var l,u;const r=B.state.activeChain,s=r===ue.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,i=me.state.defaultAccountTypes[r],o=(l=Se.state.preferredAccountTypes)==null?void 0:l[r],a=n.preferredAccountType||o||i;Pb.isLowerCaseMatch(n.address,Se.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(s,r),this.setUser({...Se.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(a,r);const c=(u=n.accounts)==null?void 0:u.map(d=>We.createAccount(r,d.address,d.type||o||i));this.setAllAccounts(c||[We.createAccount(r,n.address,n.preferredAccountType||a)],r),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...Se.state.user||{},username:n},B.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,B.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,B.state.activeChain)})}async syncAuthConnector(e,n){var d,h,f,p;const r=ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),s=n===B.state.activeChain;if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername();this.setUser({...((d=Se.state)==null?void 0:d.user)||{},username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected(),l=ti.getSnapshot(),u=me.getSnapshot();await Promise.all([e.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),e.syncTheme({themeMode:l.themeMode,themeVariables:l.themeVariables,w3mThemeVariables:tl(l.themeVariables,l.themeMode)})]),await e.getSmartAccountEnabledNetworks(),n&&r&&s&&(c&&((h=this.connectionControllerClient)!=null&&h.connectExternal)?(await((p=this.connectionControllerClient)==null?void 0:p.connectExternal({id:ue.CONNECTOR_ID.AUTH,info:{name:ue.CONNECTOR_ID.AUTH},type:_n.CONNECTOR_TYPE_AUTH,provider:e,chainId:(f=B.state.activeCaipNetwork)==null?void 0:f.id,chain:n})),this.setStatus("connected",n)):Pe.getConnectorId(n)===ue.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),Te.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!We.isTelegram())return;const r=Te.getTelegramSocialProvider();if(!r||!We.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;Se.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=Pe.getAuthConnector();r&&o&&(this.setLoading(!0,e),await Le.connectExternal({id:o.id,type:o.type,socialUri:i},o.chain),Te.setConnectedSocialProvider(r),Te.removeTelegramSocialProvider(),Jt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var l,u,d,h;if(!ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=(l=this.remoteFeatures)==null?void 0:l.email,s=Array.isArray((u=this.remoteFeatures)==null?void 0:u.socials)&&this.remoteFeatures.socials.length>0,i=r||s,a=Pb.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&((d=this.options)!=null&&d.projectId)&&i&&(this.authProvider=hf.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(h=this.getCaipNetwork(a))==null?void 0:h.caipNetworkId,abortController:Nn.EmbeddedWalletAbortController,onTimeout:f=>{f==="iframe_load_failed"?Xn.open(Nn.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):f==="iframe_request_timeout"?Xn.open(Nn.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):f==="unverified_domain"&&Xn.open(Nn.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),rc.subscribeOpen(f=>{var p;!f&&this.isTransactionStackEmpty()&&((p=this.authProvider)==null||p.rejectRpcRequests())}));const c=e===B.state.activeChain;this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Ke.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var o,a;if(!e)return;const n=B.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===n&&s){const c=this.getAdapter(r),l=on.getProvider(r),u=on.getProviderId(r);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:l,providerType:u})),this.setCaipNetwork(e)}else{const l=on.getProviderId(n)===_n.CONNECTOR_TYPE_AUTH,u=on.getProviderId(r),d=u===_n.CONNECTOR_TYPE_AUTH,h=ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((l&&u===void 0||d)&&h)try{if(B.state.activeChain=e.chainNamespace,s){const f=this.getAdapter(r);await(f==null?void 0:f.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else await((a=(o=this.connectionControllerClient)==null?void 0:o.connectExternal)==null?void 0:a.call(o,{id:ue.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:_n.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const p=this.getAdapter(r);await(p==null?void 0:p.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else u===_n.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r}))}}async initialize(e){var n;await super.initialize(e),(n=this.chainNamespaces)==null||n.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),rc.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const s=`${r}:${n}`,i=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===s);if(r!==ue.CHAIN.EVM||i!=null&&i.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(a,r),this.setProfileImage(c,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=on.getProviderId(e);if(n===_n.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=Te.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(We.isClient()&&!G6)try{const e={...Yt.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),We.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!me.state.disableAppend&&!me.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}G6=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!We.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(Wn(()=>import("./embedded-wallet-CjUshEKw.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12,13,14]))),n.email&&r.push(Wn(()=>import("./email-H0eIUgJJ.js"),__vite__mapDeps([15,4,14,8,13,7,12,16,9]))),n.socials&&r.push(Wn(()=>import("./socials-CxusniCh.js"),__vite__mapDeps([17,4,18,7,19,20,13,21,12,8,14,22,6,23]))),n.swaps&&n.swaps.length>0&&r.push(Wn(()=>import("./swaps-Ds5-hK_M.js"),__vite__mapDeps([24,4,12,8,25,26,27,6,13,23,9,7]))),e.send&&r.push(Wn(()=>import("./send-C5cJchLU.js"),__vite__mapDeps([28,4,12,8,13,7,19,14,27,6,9,29,30]))),e.receive&&r.push(Wn(()=>import("./receive-EMwGfIiz.js"),__vite__mapDeps([31,4,32,6,22]))),n.onramp&&n.onramp.length>0&&r.push(Wn(()=>import("./onramp-pPGLS70C.js"),__vite__mapDeps([33,4,34,23,13,6,8,35,18,7,19,36,14,12,21,9]))),n.activity&&r.push(Wn(()=>import("./transactions-CGaHSdEc.js"),__vite__mapDeps([37,4,38,34,23,13,14,6]))),e.pay&&r.push(Wn(()=>import("./index-CeYCX2zm.js"),__vite__mapDeps([39,4,12,8,40,6,13,10,35,30,21]))),await Promise.all([...r,Wn(()=>import("./index-DqJaVeXa.js"),__vite__mapDeps([41,4,6,8,29,13,42,26,10,35,12,11,40,38,34,23,14,25,30,7,9,16,18,19,20,5,21,32,22,36])),Wn(()=>import("./w3m-modal-Dr10Qpdx.js"),__vite__mapDeps([43,4,10,6,13,11,8,26,42]))])}}let Xl;function jNe(t){t&&(Xl=t)}function pA(){if(!Xl)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function t(n){await(Xl==null?void 0:Xl.open(n))}async function e(){await(Xl==null?void 0:Xl.close())}return{open:t,close:e}}const FNe="1.7.10";let pE;function zNe(t){return pE||(pE=new MNe({...t,sdkVersion:We.generateSdkVersion(t.adapters??[],"react",FNe)}),jNe(pE)),pE}const HNe=ba({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"720px",height:"600px",minWidth:"480px",minHeight:"360px",top:"calc(50vh - 300px)",left:"calc(50vw - 360px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:100},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},detailContent:{padding:"20px",color:"#000"},detailImage:{width:"100%",height:"auto",marginBottom:"20px",border:"1px solid #ccc"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),q6=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"},{slug:"lawbstation",name:"Lawbstation",api:"opensea-solana",chain:"solana"},{slug:"lawbnexus",name:"Nexus",api:"opensea-solana",chain:"solana"}],WNe=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=HNe({isOpen:t}),{open:i}=pA(),o=O.useRef(null),[a,c]=O.useState([]),[l,u]=O.useState(!0),[d,h]=O.useState(null),[f,p]=O.useState("all"),[g,y]=O.useState(1),[w,v]=O.useState(1),[b,_]=O.useState(0),[x,C]=O.useState(null),[S,N]=O.useState(q6[0]),[A,P]=O.useState(!1),[D,j]=O.useState(null),H=O.useCallback(async()=>{var $,M;try{if(($=window.solana)!=null&&$.isPhantom){const q=await window.solana.connect();j(q.publicKey.toString());return}if((M=window.solflare)!=null&&M.isSolflare){const q=await window.solflare.connect();j(q.publicKey.toString());return}i()}catch(q){console.error("Failed to connect Solana wallet:",q),alert("Failed to connect Solana wallet. Please make sure Phantom or Solflare is installed.")}P(!1)},[i]);O.useEffect(()=>{var $,M;($=window.solana)!=null&&$.publicKey?j(window.solana.publicKey.toString()):(M=window.solflare)!=null&&M.publicKey&&j(window.solflare.publicKey.toString())},[]),O.useEffect(()=>{t&&(async()=>{var M;u(!0),h(null);try{let q,ee=f==="owned"&&r||void 0;if(S.api==="opensea-solana"){if(f==="owned"&&!D){P(!0),u(!1);return}ee=D||void 0,q=await x7(S.slug,50),console.log("Fetched Solana NFTs from collection:",q.data.length),f==="owned"&&D&&(console.log("Filtering for owner:",D),console.log("Sample NFT owner data:",(M=q.data[0])==null?void 0:M.owners),console.log("All NFTs owner data:",q.data.map(se=>({name:se.name,owners:se.owners,owner_of:se.owner_of}))),q.data.some(se=>se.owners&&se.owners.length>0)?(q.data=q.data.filter(se=>{const ae=se.owners.some(Ee=>Ee.owner_of&&Ee.owner_of.toLowerCase()===D.toLowerCase());return ae&&console.log("Found owned NFT:",se.name),ae}),console.log("NFTs after filtering:",q.data.length)):(console.log("No owner data available from OpenSea for Solana collection"),h("Owner data not available for this Solana collection. Showing all NFTs.")))}else S.api==="opensea"?q=await bR(S.slug,50,ee):q=await wR(S.slug,g,50,ee);c(q.data),v(q.totalPages),_(q.totalCount)}catch(q){q instanceof Error?h(q.message):h("An unknown error occurred."),c([])}finally{u(!1)}})()},[t,g,f,r,S,D]),O.useEffect(()=>{A&&H()},[A,H]);const K=$=>new Date($).toLocaleDateString(),I=$=>S.api==="opensea-solana"&&(!$.owners||$.owners.length===0)?"Owner data unavailable":$.owners.length>0?`${$.owners[0].owner_of.substring(0,6)}...`:"N/A",T=()=>{n&&n()},L=async $=>{if(S.api==="opensea"&&S.chain)try{const M=await E7(S.chain,$.address,$.token_id.toString()),q={...$,attributes:JSON.stringify(M.traits||[])};C(q)}catch(M){console.error("Failed to fetch full NFT details",M),C($)}else C($)},U=$=>{N($),y(1)};return t?m.jsxs(m.Fragment,{children:[m.jsx(Uv,{nodeRef:o,handle:`.${s.header}`,children:m.jsxs("div",{ref:o,className:s.popup,children:[m.jsxs("div",{className:s.header,children:[m.jsx("span",{children:"LAWB NFT GALLERY"}),m.jsxs("div",{className:s.titleBarButtons,children:[m.jsx("button",{className:s.titleBarButton,onClick:T,title:"Minimize",children:"_"}),m.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:""})]})]}),m.jsx("div",{className:s.collectionSelector,children:q6.map($=>m.jsx("button",{className:`${s.collectionButton} ${S.slug===$.slug?"active":""}`,onClick:()=>U($),children:$.name},$.slug))}),m.jsxs("div",{className:s.content,children:[m.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[m.jsx("button",{onClick:()=>p("all"),style:{background:f==="all"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:f==="all"?"white":"black"},children:"All NFTs"}),m.jsx("button",{onClick:()=>p("recent"),disabled:!r,style:{background:f==="recent"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r?"pointer":"not-allowed",color:f==="recent"?"white":"black",opacity:r?1:.6},children:"Recently Minted"}),m.jsx("button",{onClick:()=>p("owned"),disabled:!r&&!D,style:{background:f==="owned"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r||D?"pointer":"not-allowed",color:f==="owned"?"white":"black",opacity:r||D?1:.6},children:"My NFTs"}),S.api==="opensea-solana"&&m.jsx("button",{onClick:()=>{H()},style:{background:D?"#4CAF50":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:D?"white":"black",marginLeft:"auto"},children:D?`Solana: ${D.slice(0,4)}...${D.slice(-4)}`:"Connect Solana"})]}),S.api==="opensea-solana"&&!D&&m.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",padding:"10px",marginBottom:"10px",color:"#856404"},children:"Connect your Solana wallet (Phantom or Solflare) to view your NFTs from this collection."}),d&&m.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:d}),l?m.jsx("div",{children:"Loading NFTs..."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"10px",fontSize:"14px"},children:[f==="all"&&`Showing all NFTs (${b} total)`,f==="recent"&&`Recently minted NFTs by ${S.api==="opensea-solana"?(D==null?void 0:D.slice(0,6))+"..."+(D==null?void 0:D.slice(-4)):(r==null?void 0:r.slice(0,6))+"..."+(r==null?void 0:r.slice(-4))}`,f==="owned"&&`NFTs owned by ${S.api==="opensea-solana"?(D==null?void 0:D.slice(0,6))+"..."+(D==null?void 0:D.slice(-4)):(r==null?void 0:r.slice(0,6))+"..."+(r==null?void 0:r.slice(-4))}`]}),a.length===0?m.jsx("div",{children:"No NFTs found."}):m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:a.map($=>m.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},onClick:()=>{L($)},children:[m.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${$.image_url})`,backgroundSize:"cover",backgroundPosition:"center",marginBottom:"10px",border:"1px solid #ccc"}}),m.jsx("div",{style:{fontSize:"12px",marginBottom:"5px",color:"#000"},children:m.jsxs("strong",{children:["#",$.token_id]})}),m.jsxs("div",{style:{fontSize:"11px",marginBottom:"5px",color:"#000"},children:["Owner: ",I($)]}),m.jsxs("div",{style:{fontSize:"11px",color:"#666"},children:["Minted: ",K($.created_at)]})]},$.id))}),f!=="recent"&&w>1&&m.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"20px"},children:[m.jsx("button",{onClick:()=>y($=>Math.max(1,$-1)),disabled:g===1,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:g===1?"not-allowed":"pointer"},children:"Previous"}),m.jsxs("span",{style:{padding:"5px 10px"},children:["Page ",g," of ",w]}),m.jsx("button",{onClick:()=>y($=>Math.min(w,$+1)),disabled:g===w,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:g===w?"not-allowed":"pointer"},children:"Next"})]})]})]})]})}),x&&m.jsx(eue,{nft:x,onClose:()=>C(null)})]}):null};var gE,GNe=new Uint8Array(16);function qNe(){if(!gE&&(gE=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!gE))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gE(GNe)}const VNe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function KNe(t){return typeof t=="string"&&VNe.test(t)}var Rr=[];for(var cI=0;cI<256;++cI)Rr.push((cI+256).toString(16).substr(1));function QNe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Rr[t[e+0]]+Rr[t[e+1]]+Rr[t[e+2]]+Rr[t[e+3]]+"-"+Rr[t[e+4]]+Rr[t[e+5]]+"-"+Rr[t[e+6]]+Rr[t[e+7]]+"-"+Rr[t[e+8]]+Rr[t[e+9]]+"-"+Rr[t[e+10]]+Rr[t[e+11]]+Rr[t[e+12]]+Rr[t[e+13]]+Rr[t[e+14]]+Rr[t[e+15]]).toLowerCase();if(!KNe(n))throw TypeError("Stringified UUID is invalid");return n}function YNe(t,e,n){t=t||{};var r=t.random||(t.rng||qNe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,QNe(r)}const JNe=ba({container:{display:"flex",flexDirection:"column",gap:4,padding:4,background:"#c0c0c0",border:"2px outset #fff",borderRadius:8,maxWidth:500,width:"100%",fontFamily:"monospace",fontSize:11},header:{textAlign:"center",marginBottom:2},subtitle:{color:"#000",fontSize:"10px",textAlign:"center",marginBottom:2,lineHeight:1.1},content:{display:"flex",flexDirection:"column",gap:2},section:{display:"flex",flexDirection:"column",gap:1},sectionTitle:{fontWeight:"bold",color:"#000",fontSize:11,borderBottom:"1px solid #888",paddingBottom:0},row:{display:"flex",alignItems:"center",gap:3,flexWrap:"wrap"},label:{minWidth:55,color:"#000",fontWeight:"bold",fontSize:10},input:{flex:1,minWidth:70,padding:"2px 3px",border:"2px inset #fff",background:"#fff",fontSize:10,fontFamily:"monospace",color:"#000",textTransform:"uppercase"},button:{padding:"3px 8px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:10,fontWeight:"bold",color:"#000","&:hover":{background:"#d0d0d0"},"&:active":{border:"2px inset #fff"}},effectButton:{padding:"2px 5px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:9,fontWeight:"bold",color:"#000","&:hover":{background:"#d0d0d0"},"&:active":{border:"2px inset #fff"}},memeArea:{display:"flex",justifyContent:"center",position:"relative",marginTop:1},canvas:{border:"2px inset #fff",background:"#333",maxWidth:"100%",height:"auto"},dropdown:{position:"relative"},dropdownContent:{position:"absolute",top:"100%",left:0,background:"#fff",border:"2px outset #fff",borderRadius:4,zIndex:10,minWidth:100,maxHeight:100,overflowY:"auto"},dropdownItem:{padding:"3px 5px",cursor:"pointer",fontSize:9,borderBottom:"1px solid #eee","&:hover":{background:"#f0f0f0"}},actions:{display:"flex",gap:3,justifyContent:"center",marginTop:1}}),ZNe=[{id:"lawbsters",name:"Lawbsters",api:"opensea",slug:"lawbsters",chain:"ethereum"},{id:"lawbstarz",name:"Lawbstarz",api:"opensea",slug:"lawbstarz",chain:"ethereum"},{id:"pixelawbs",name:"Pixelawbsters",api:"scatter",slug:"pixelawbs"},{id:"halloween",name:"Halloween Lawbsters",api:"opensea",slug:"a-lawbster-halloween",chain:"base"},{id:"lawbstation",name:"Lawbstation",api:"opensea-solana",slug:"lawbstation",chain:"solana"},{id:"nexus",name:"Nexus",api:"opensea-solana",slug:"lawbnexus",chain:"solana"}],XNe=["/images/sticker1.png","/images/sticker2.png","/images/sticker3.png","/images/sticker4.png","/images/sticker5.png"],xi=500;function tG(){const t=JNe(),e=O.useRef(null),[n,r]=O.useState(null),[s,i]=O.useState(""),[o,a]=O.useState(""),[c,l]=O.useState(36),[u,d]=O.useState(36),[h,f]=O.useState(!1),[p,g]=O.useState(!1),[y,w]=O.useState(!1),[v,b]=O.useState(!1),[_,x]=O.useState(!1),[C,S]=O.useState([]),[N,A]=O.useState(null),P=O.useRef(null),[D,j]=O.useState(null),H=async J=>{const re=J.getContext("2d");if(!re)return;re.clearRect(0,0,J.width,J.height),n?await new Promise(ie=>{const ye=new window.Image;ye.crossOrigin="anonymous",ye.onload=()=>{const De=Math.min(J.width/ye.width,J.height/ye.height),Ie=(J.width-ye.width*De)/2,ve=(J.height-ye.height*De)/2;re.drawImage(ye,Ie,ve,ye.width*De,ye.height*De),ie()},ye.onerror=()=>ie(),ye.src=n}):(re.fillStyle="#333",re.fillRect(0,0,J.width,J.height)),(ie=>{ie.textAlign="center",ie.strokeStyle="black",ie.lineWidth=3,ie.fillStyle="white";const ye=(De,Ie)=>{const ve=De.toUpperCase().split(" "),Ge=[];let nt=ve[0];for(let ot=1;ot<ve.length;ot++){const hn=ve[ot];ie.measureText(nt+" "+hn).width<Ie?nt+=" "+hn:(Ge.push(nt),nt=hn)}return Ge.push(nt),Ge};s&&(ie.font=`${c}px Impact`,ye(s,xi-20).forEach((Ie,ve)=>{const Ge=c+ve*c*1.2;ie.strokeText(Ie,xi/2,Ge),ie.fillText(Ie,xi/2,Ge)})),o&&(ie.font=`${u}px Impact`,ye(o,xi-20).reverse().forEach((Ie,ve)=>{const Ge=xi-u*1.2*(ve+1);ie.strokeText(Ie,xi/2,Ge),ie.fillText(Ie,xi/2,Ge)}))})(re),await Promise.all(C.map(ie=>new Promise(ye=>{const De=new window.Image;De.src=ie.src,De.onload=()=>{re.save(),re.translate(ie.x,ie.y),re.rotate(ie.rotation*Math.PI/180),re.scale(ie.scale,ie.scale),re.drawImage(De,-40,-40,80,80),re.restore(),ye()},De.onerror=()=>ye()})));try{h&&K(J),p&&I(J),y&&T(J)}catch(ie){console.warn("Effects could not be applied due to CORS restrictions. Try uploading your own image instead.",ie),f(!1),g(!1),w(!1)}},K=J=>{const re=J.getContext("2d");if(!re)return;const de=re.getImageData(0,0,J.width,J.height),ie=de.data;for(let ye=0;ye<ie.length;ye+=4){const De=ie[ye],Ie=ie[ye+1],ve=ie[ye+2],Ge=(De+Ie+ve)/3,nt=1.8;ie[ye]=Math.min(255,Ge+(De-Ge)*nt),ie[ye+1]=Math.min(255,Ge+(Ie-Ge)*nt*.7),ie[ye+2]=Math.min(255,Ge+(ve-Ge)*nt*.4);const ot=1.3;ie[ye]=Math.min(255,Math.max(0,ie[ye]*ot)),ie[ye+1]=Math.min(255,Math.max(0,ie[ye+1]*ot)),ie[ye+2]=Math.min(255,Math.max(0,ie[ye+2]*ot))}re.putImageData(de,0,0)},I=J=>{const re=J.getContext("2d");if(!re)return;const de=4,ye=re.getImageData(0,0,J.width,J.height).data,De=new Uint8ClampedArray(ye);for(let Ie=0;Ie<J.height;Ie+=de)for(let ve=0;ve<J.width;ve+=de){const Ge=(Ie*J.width+ve)*4,nt=ye[Ge],ot=ye[Ge+1],hn=ye[Ge+2],tn=ye[Ge+3];for(let It=0;It<de&&Ie+It<J.height;It++)for(let An=0;An<de&&ve+An<J.width;An++){const Ir=((Ie+It)*J.width+(ve+An))*4;De[Ir]=nt,De[Ir+1]=ot,De[Ir+2]=hn,De[Ir+3]=tn}}re.putImageData(new ImageData(De,J.width,J.height),0,0)},T=J=>{const re=J.getContext("2d");if(!re)return;const de=re.getImageData(0,0,J.width,J.height),ie=de.data;for(let ye=0;ye<ie.length;ye+=4){const De=(Math.random()-.5)*50;ie[ye]=Math.max(0,Math.min(255,ie[ye]+De)),ie[ye+1]=Math.max(0,Math.min(255,ie[ye+1]+De)),ie[ye+2]=Math.max(0,Math.min(255,ie[ye+2]+De))}re.putImageData(de,0,0)};O.useEffect(()=>{e.current&&H(e.current)},[H]);const L=J=>{var de;const re=(de=J.target.files)==null?void 0:de[0];re&&r(URL.createObjectURL(re))},U=()=>{r(null),i(""),a(""),l(36),d(36),f(!1),g(!1),w(!1)},$=async()=>{const J=e.current;if(!J)return;await H(J);const re=document.createElement("a");re.download="meme.png",re.href=J.toDataURL("image/png"),document.body.appendChild(re),re.click(),document.body.removeChild(re)},M=async J=>{x(!0),b(!1);try{console.log("Fetching NFTs for collection:",J);let re;if(J.api==="opensea"){console.log("Using OpenSea API for:",J.slug);const de=await bR(J.slug,50);re=de.data,console.log("OpenSea response:",de)}else if(J.api==="opensea-solana"){console.log("Using OpenSea Solana API for:",J.slug);const de=await x7(J.slug,50);re=de.data,console.log("OpenSea Solana response:",de)}else{console.log("Using Scatter API for:",J.slug);const de=await wR(J.slug,1,50);re=de.data,console.log("Scatter response:",de)}if(re&&re.length>0){const de=re[Math.floor(Math.random()*re.length)],ie=de.image||de.image_url||de.image_url_shrunk;console.log("Selected NFT:",de),console.log("Image URL:",ie),r(ie)}else console.log("No NFTs found in collection"),alert("No NFTs found in this collection.")}catch(re){console.error("Error fetching NFTs:",re),alert("Failed to fetch NFT images. Check console for details.")}finally{x(!1)}},q=J=>{const re={id:YNe(),src:J,x:80,y:80,scale:1,rotation:0};S(de=>de.length>=2||de.some(ie=>ie.src===J&&!ie.id.startsWith("upload-"))?de:[...de,re]),j(re.id)},ee=J=>{var de;const re=(de=J.target.files)==null?void 0:de[0];if(re){const ie=URL.createObjectURL(re);q(ie)}},ce=(J,re,de)=>{S(ie=>ie.map(ye=>{if(ye.id!==J)return ye;let De=ye.x+re/1.2,Ie=ye.y+de/1.2;const ve=40*ye.scale,Ge=40*ye.scale;return De=Math.max(ve,Math.min(xi-ve,De)),Ie=Math.max(Ge,Math.min(xi-Ge,Ie)),{...ye,x:De,y:Ie}}))},se=(J,re,de,ie,ye)=>{S(De=>De.map(Ie=>{if(Ie.id!==J)return Ie;const ve=Ie.x,Ge=Ie.y,nt=Math.atan2(ye-Ge,ie-ve)*180/Math.PI;return{...Ie,rotation:de+(nt-re)*.5}}))},ae=J=>{S(re=>re.filter(de=>de.id!==J))},Ee=(J,re)=>{S(de=>de.map(ie=>ie.id===J?{...ie,scale:Math.max(.2,ie.scale*(1+(re-1)*.2))}:ie))};return m.jsxs("div",{className:t.container,children:[m.jsxs("div",{className:t.header,children:[m.jsx("h2",{style:{color:"#00ffff",textShadow:"1px 1px 0 #000",marginBottom:8,fontSize:"16px"},children:"Lawb Meme Maker"}),m.jsxs("p",{className:t.subtitle,children:["find memes or upload your own on"," ",m.jsx("a",{href:"https://memedepot.com/d/lawb",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Meme Depot"})]})]}),m.jsxs("div",{className:t.content,children:[m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Collections"}),m.jsxs("div",{className:t.row,children:[m.jsxs("div",{className:t.dropdown,children:[m.jsx("button",{className:t.button,onClick:()=>b(J=>!J),children:"Collections"}),v&&m.jsx("div",{className:t.dropdownContent,children:ZNe.map(J=>m.jsx("div",{className:t.dropdownItem,onClick:()=>{M(J)},children:J.name},J.id))})]}),m.jsxs("label",{className:t.button,style:{marginBottom:0},children:["Upload Image",m.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:L})]}),_&&m.jsx("span",{style:{color:"#00ffff",marginLeft:8,fontSize:"12px"},children:"Loading NFT..."})]})]}),m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Text"}),m.jsxs("div",{className:t.row,children:[m.jsx("span",{className:t.label,children:"Top Text:"}),m.jsx("input",{className:t.input,type:"text",value:s,onChange:J=>i(J.target.value),placeholder:"Enter top text..."}),m.jsx("span",{className:t.label,children:"Size:"}),m.jsx("input",{className:t.input,type:"number",min:10,max:100,value:c,onChange:J=>l(Number(J.target.value)),style:{width:60,textAlign:"center"}})]}),m.jsxs("div",{className:t.row,children:[m.jsx("span",{className:t.label,children:"Bottom Text:"}),m.jsx("input",{className:t.input,type:"text",value:o,onChange:J=>a(J.target.value),placeholder:"Enter bottom text..."}),m.jsx("span",{className:t.label,children:"Size:"}),m.jsx("input",{className:t.input,type:"number",min:10,max:100,value:u,onChange:J=>d(Number(J.target.value)),style:{width:60,textAlign:"center"}})]})]}),m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Effects"}),m.jsxs("div",{className:t.row,children:[m.jsx("button",{className:t.effectButton,style:{background:h?"#00ffff":void 0},onClick:()=>f(J=>!J),children:"Deep Fry"}),m.jsx("button",{className:t.effectButton,style:{background:p?"#00ffff":void 0},onClick:()=>g(J=>!J),children:"Pixelate"}),m.jsx("button",{className:t.effectButton,style:{background:y?"#00ffff":void 0},onClick:()=>w(J=>!J),children:"Grain"})]})]}),m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Stickers"}),m.jsxs("div",{className:t.row,children:[XNe.map((J,re)=>m.jsx("img",{src:J,alt:`sticker${re+1}`,style:{width:32,height:32,cursor:"pointer",border:"1px solid #888",marginRight:4},onClick:()=>q(J)},J)),m.jsxs("label",{className:t.button,style:{marginBottom:0},children:["Upload Sticker",m.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},ref:P,onChange:ee})]})]})]}),m.jsxs("div",{className:t.actions,children:[m.jsx("button",{className:t.button,onClick:$,children:"Save Image"}),m.jsx("button",{className:t.button,onClick:U,children:"Restart"})]})]}),m.jsx("div",{className:t.memeArea,children:m.jsx("canvas",{ref:e,width:xi,height:xi,className:t.canvas})}),m.jsx("div",{style:{position:"absolute",left:0,top:0,width:xi,height:xi,pointerEvents:"none"},children:C.map(J=>D===J.id?m.jsxs("div",{style:{position:"absolute",left:J.x,top:J.y,width:80*J.scale,height:80*J.scale,transform:`rotate(${J.rotation}deg)`,cursor:"move",pointerEvents:"auto",zIndex:10,border:"2px solid #00f",boxShadow:"0 0 8px #00f"},onMouseDown:re=>{A(J.id),re.stopPropagation()},onMouseUp:()=>A(null),onMouseMove:re=>{N===J.id&&re.buttons===1&&ce(J.id,re.movementX,re.movementY)},children:[m.jsx("img",{src:J.src,alt:"sticker",style:{width:"100%",height:"100%",userSelect:"none",pointerEvents:"none"},draggable:!1}),m.jsx("div",{style:{position:"absolute",right:-12,top:"40%",width:16,height:16,background:"#fff",borderRadius:"50%",border:"1px solid #888",cursor:"grab",zIndex:11},onMouseDown:re=>{var nt;re.stopPropagation();const de=(nt=re.currentTarget.parentElement)==null?void 0:nt.getBoundingClientRect(),ie=de?de.left+de.width/2:0,ye=de?de.top+de.height/2:0,De=Math.atan2(re.clientY-ye,re.clientX-ie)*180/Math.PI,Ie=J.rotation,ve=ot=>{se(J.id,De,Ie,ot.clientX,ot.clientY)},Ge=()=>{window.removeEventListener("mousemove",ve),window.removeEventListener("mouseup",Ge)};window.addEventListener("mousemove",ve),window.addEventListener("mouseup",Ge)}}),m.jsx("div",{style:{position:"absolute",bottom:-12,right:-12,width:16,height:16,background:"#fff",borderRadius:"50%",border:"1px solid #888",cursor:"nwse-resize",zIndex:11},onMouseDown:re=>{re.stopPropagation();const de=re.clientX,ie=De=>{const Ie=(De.clientX-de)/80;Ee(J.id,1+Ie)},ye=()=>{window.removeEventListener("mousemove",ie),window.removeEventListener("mouseup",ye)};window.addEventListener("mousemove",ie),window.addEventListener("mouseup",ye)}}),m.jsx("button",{style:{position:"absolute",top:-12,left:-12,width:16,height:16,background:"#f00",color:"#fff",border:"none",borderRadius:"50%",fontSize:10,cursor:"pointer",zIndex:12},onClick:()=>ae(J.id),children:""}),m.jsx("button",{style:{position:"absolute",bottom:-12,left:"50%",transform:"translateX(-50%)",width:40,height:18,background:"#0f0",color:"#000",border:"1px solid #888",borderRadius:4,fontSize:8,cursor:"pointer",zIndex:12},onClick:()=>j(null),children:"Place"})]},J.id):null)})]})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qb.apply(this,arguments)}var Zu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zu||(Zu={}));const V6="popstate";function ePe(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return MP("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:rG(s)}return nPe(e,n,null,t)}function hr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nG(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tPe(){return Math.random().toString(36).substr(2,8)}function K6(t,e){return{usr:t.state,key:t.key,idx:e}}function MP(t,e,n,r){return n===void 0&&(n=null),qb({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Dy(e):e,{state:n,key:e&&e.key||r||tPe()})}function rG(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Dy(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nPe(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Zu.Pop,c=null,l=u();l==null&&(l=0,o.replaceState(qb({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Zu.Pop;let y=u(),w=y==null?null:y-l;l=y,c&&c({action:a,location:g.location,delta:w})}function h(y,w){a=Zu.Push;let v=MP(g.location,y,w);l=u()+1;let b=K6(v,l),_=g.createHref(v);try{o.pushState(b,"",_)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(_)}i&&c&&c({action:a,location:g.location,delta:1})}function f(y,w){a=Zu.Replace;let v=MP(g.location,y,w);l=u();let b=K6(v,l),_=g.createHref(v);o.replaceState(b,"",_),i&&c&&c({action:a,location:g.location,delta:0})}function p(y){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:rG(y);return v=v.replace(/ $/,"%20"),hr(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let g={get action(){return a},get location(){return t(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(V6,d),c=y,()=>{s.removeEventListener(V6,d),c=null}},createHref(y){return e(s,y)},createURL:p,encodeLocation(y){let w=p(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:f,go(y){return o.go(y)}};return g}var Q6;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Q6||(Q6={}));function rPe(t,e,n){return n===void 0&&(n="/"),sPe(t,e,n)}function sPe(t,e,n,r){let s=typeof e=="string"?Dy(e):e,i=oG(s.pathname||"/",n);if(i==null)return null;let o=sG(t);iPe(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=yPe(i);a=pPe(o[c],l)}return a}function sG(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(hr(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=pf([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(hr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),sG(i.children,e,u,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:hPe(l,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of iG(i.path))s(i,o,c)}),e}function iG(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=iG(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function iPe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fPe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oPe=/^:[\w-]+$/,aPe=3,cPe=2,lPe=1,uPe=10,dPe=-2,Y6=t=>t==="*";function hPe(t,e){let n=t.split("/"),r=n.length;return n.some(Y6)&&(r+=dPe),e&&(r+=cPe),n.filter(s=>!Y6(s)).reduce((s,i)=>s+(oPe.test(i)?aPe:i===""?lPe:uPe),r)}function fPe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function pPe(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=gPe({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),h=c.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:pf([i,d.pathname]),pathnameBase:_Pe(pf([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=pf([i,d.pathnameBase]))}return o}function gPe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mPe(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?l[h]=void 0:l[h]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:t}}function mPe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),nG(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function yPe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nG(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function oG(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wPe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Dy(t):t;return{pathname:n?n.startsWith("/")?n:bPe(n,e):e,search:CPe(r),hash:APe(s)}}function bPe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function lI(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vPe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function EPe(t,e){let n=vPe(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xPe(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Dy(t):(s=qb({},t),hr(!s.pathname||!s.pathname.includes("?"),lI("?","pathname","search",s)),hr(!s.pathname||!s.pathname.includes("#"),lI("#","pathname","hash",s)),hr(!s.search||!s.search.includes("#"),lI("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let c=wPe(s,a),l=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const pf=t=>t.join("/").replace(/\/\/+/g,"/"),_Pe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CPe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,APe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SPe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const aG=["post","put","patch","delete"];new Set(aG);const IPe=["get",...aG];new Set(IPe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(this,arguments)}const c3=O.createContext(null),TPe=O.createContext(null),gA=O.createContext(null),mA=O.createContext(null),$y=O.createContext({outlet:null,matches:[],isDataRoute:!1}),cG=O.createContext(null);function yA(){return O.useContext(mA)!=null}function lG(){return yA()||hr(!1),O.useContext(mA).location}function uG(t){O.useContext(gA).static||O.useLayoutEffect(t)}function NPe(){let{isDataRoute:t}=O.useContext($y);return t?zPe():PPe()}function PPe(){yA()||hr(!1);let t=O.useContext(c3),{basename:e,future:n,navigator:r}=O.useContext(gA),{matches:s}=O.useContext($y),{pathname:i}=lG(),o=JSON.stringify(EPe(s,n.v7_relativeSplatPath)),a=O.useRef(!1);return uG(()=>{a.current=!0}),O.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let d=xPe(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:pf([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function kPe(t,e){return OPe(t,e)}function OPe(t,e,n,r){yA()||hr(!1);let{navigator:s}=O.useContext(gA),{matches:i}=O.useContext($y),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let l=lG(),u;if(e){var d;let y=typeof e=="string"?Dy(e):e;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||hr(!1),u=y}else u=l;let h=u.pathname||"/",f=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=rPe(t,{pathname:f}),g=BPe(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:pf([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:pf([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&g?O.createElement(mA.Provider,{value:{location:Vb({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Zu.Pop}},g):g}function RPe(){let t=FPe(),e=SPe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,null)}const DPe=O.createElement(RPe,null);class $Pe extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement($y.Provider,{value:this.props.routeContext},O.createElement(cG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UPe(t){let{routeContext:e,match:n,children:r}=t,s=O.useContext(c3);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement($y.Provider,{value:e},r)}function BPe(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||hr(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,p=!1,g=null,y=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||DPe,c&&(l<0&&h===0?(HPe("route-fallback"),p=!0,y=null):l===h&&(p=!0,y=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,h+1)),v=()=>{let b;return f?b=g:p?b=y:d.route.Component?b=O.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,O.createElement(UPe,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?O.createElement($Pe,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var dG=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dG||{}),hG=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hG||{});function LPe(t){let e=O.useContext(c3);return e||hr(!1),e}function MPe(t){let e=O.useContext(TPe);return e||hr(!1),e}function jPe(t){let e=O.useContext($y);return e||hr(!1),e}function fG(t){let e=jPe(),n=e.matches[e.matches.length-1];return n.route.id||hr(!1),n.route.id}function FPe(){var t;let e=O.useContext(cG),n=MPe(),r=fG();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zPe(){let{router:t}=LPe(dG.UseNavigateStable),e=fG(hG.UseNavigateStable),n=O.useRef(!1);return uG(()=>{n.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Vb({fromRouteId:e},i)))},[t,e])}const J6={};function HPe(t,e,n){J6[t]||(J6[t]=!0)}function WPe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function cx(t){hr(!1)}function GPe(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Zu.Pop,navigator:i,static:o=!1,future:a}=t;yA()&&hr(!1);let c=e.replace(/^\/*/,"/"),l=O.useMemo(()=>({basename:c,navigator:i,static:o,future:Vb({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Dy(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,g=O.useMemo(()=>{let y=oG(u,c);return y==null?null:{location:{pathname:y,search:d,hash:h,state:f,key:p},navigationType:s}},[c,u,d,h,f,p,s]);return g==null?null:O.createElement(gA.Provider,{value:l},O.createElement(mA.Provider,{children:n,value:g}))}function qPe(t){let{children:e,location:n}=t;return kPe(jP(e),n)}new Promise(()=>{});function jP(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,s)=>{if(!O.isValidElement(r))return;let i=[...e,s];if(r.type===O.Fragment){n.push.apply(n,jP(r.props.children,i));return}r.type!==cx&&hr(!1),!r.props.index||!r.props.children||hr(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=jP(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const VPe="6";try{window.__reactRouterVersion=VPe}catch{}const KPe="startTransition",Z6=hK[KPe];function QPe(t){let{basename:e,children:n,future:r,window:s}=t,i=O.useRef();i.current==null&&(i.current=ePe({window:s,v5Compat:!0}));let o=i.current,[a,c]=O.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},u=O.useCallback(d=>{l&&Z6?Z6(()=>c(d)):c(d)},[c,l]);return O.useLayoutEffect(()=>o.listen(u),[o,u]),O.useEffect(()=>WPe(r),[r]),O.createElement(GPe,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var X6;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(X6||(X6={}));var e4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(e4||(e4={}));const YPe=ba({body:{margin:0,height:"100vh",width:"100vw",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000",cursor:'url("/assets/lawbpointer.png"), auto'}});function JPe(){const t=YPe(),{open:e}=pA(),{address:n,isConnected:r}=Dv(),{isPending:s}=f9(),{disconnect:i}=p9(),{data:o}=g9({address:n}),[a,c]=O.useState("pixelawbs-popup"),[l,u]=O.useState(new Set),[d,h]=O.useState(!1),[f,p]=O.useState(!1),[g,y]=O.useState(!1),[w,v]=O.useState(!1),b=NPe(),_=O.useRef(null);O.useEffect(()=>{if(a==="halloween-popup"&&_.current){const T=_.current.querySelector("script[data-tiktok-embed]");T&&T.remove();const L=document.createElement("script");L.src="https://www.tiktok.com/embed.js",L.async=!0,L.setAttribute("data-tiktok-embed","true"),_.current.appendChild(L)}},[a]);const x=(T,L,U)=>{if(T==="url"&&U)window.open(U,"_blank");else if(T==="popup"&&L)c(L),u($=>{const M=new Set($);return M.delete(L),M}),document.body.offsetWidth;else if(T==="wallet")r?i():e();else if(T==="mint"){if(!n){alert("Please connect your wallet first!");return}h(!0)}else T==="nft-gallery"?p(!0):T==="meme-generator"?y(!0):T==="chess"&&(r?(v(!0),setTimeout(()=>{v(!1),b("/chess")},1500)):e().then(()=>{const $=()=>{window.ethereum&&window.ethereum.selectedAddress?(v(!0),setTimeout(()=>{v(!1),b("/chess")},1500)):setTimeout($,200)};$()}))},C=()=>c(null),S=T=>{u(L=>new Set(L).add(T)),c(null)},N=T=>{T==="mint-popup"?h(!0):T==="nft-gallery-popup"?p(!0):T==="meme-generator-popup"?y(!0):c(T),u(L=>{const U=new Set(L);return U.delete(T),U})},A=()=>h(!1),P=()=>p(!1),D=()=>y(!1),j=()=>{h(!1),u(T=>new Set(T).add("mint-popup"))},H=()=>{p(!1),u(T=>new Set(T).add("nft-gallery-popup"))},K=()=>{y(!1),u(T=>new Set(T).add("meme-generator-popup"))},I=m.jsxs("div",{onClick:()=>{r?i():e()},style:{cursor:"pointer",display:"flex",alignItems:"center",color:r?"limegreen":"red",fontWeight:"bold"},children:[m.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"8px",border:"1px solid black"}}),s?"Connecting...":r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]});return m.jsxs("div",{className:t.body,children:[w&&m.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999},children:[m.jsx("img",{src:"/images/blueknight.png",alt:"Booting Chess...",style:{width:120,height:120,marginBottom:32}}),m.jsx("div",{style:{color:"#fff",fontSize:28,fontFamily:"monospace",letterSpacing:2},children:"LOADING LAWB CHESS..."})]}),m.jsx(qle,{onIconClick:x}),m.jsx(Kle,{minimizedWindows:Array.from(l),onRestoreWindow:N,walletButton:I,connectionStatus:{connected:r,address:n,ens:o||void 0}}),m.jsxs(to,{id:"chat-popup",isOpen:a==="chat-popup",onClose:C,onMinimize:S,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["join the chat, there is no meme we lawb you ",m.jsx("a",{href:"https://boards.miladychan.org/milady/33793",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"/milady/33793"})]}),m.jsx("img",{src:"/assets/miladychanfaq.png",alt:"Milady Chan FAQ",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(to,{id:"purity-popup",isOpen:a==="purity-popup",onClose:C,onMinimize:S,children:[m.jsx("p",{style:{marginBottom:"10px"},children:"purify your wallet and cleanse your soul with Purity Finance."}),m.jsx("p",{style:{marginBottom:"10px"},children:"swap any sol token in your wallet directly for $LAWB"}),m.jsx("a",{href:"https://www.purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",style:{cursor:"pointer"},children:"click to Purify"}),m.jsx("img",{src:"/assets/puritylawb.png",alt:"Purity Lawb",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(to,{id:"lawbstarz-popup",isOpen:a==="lawbstarz-popup",onClose:C,onMinimize:S,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:[" LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER  666x PREMIUM PFP COLLECTION  LAWBSTARZ IS A MUSIC NFT  LAWBSTARZ IS AN ",m.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE  LAWBSTARZ IS INSPIRED BY ",m.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"REMILIA CORP"}),"  LED BY NETWORK SPIRITUALITY  666 ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",m.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 "]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsxs("blockquote",{className:"twitter-tweet","data-media-max-width":"560",children:[m.jsxs("p",{lang:"en",dir:"ltr",children:["The following  has been transcripted from a live news broadcast:",m.jsx("br",{}),m.jsx("br",{}),"Anchor: Good evening, viewers. Tonight, we embark on an extraordinary journey that defies rational explanation. It all began with February's Cigawrette Packs cargo ship hijacking, little did we know that the.. ",m.jsx("a",{href:"https://t.co/BWgLOk59N4",children:"pic.twitter.com/BWgLOk59N4"})]})," wables (@wables411) ",m.jsx("a",{href:"https://twitter.com/wables411/status/1669009492007354369?ref_src=twsrc%5Etfw",children:"June 14, 2023"})]}),m.jsx("script",{async:!0,src:"https://platform.twitter.com/widgets.js"}),m.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(to,{id:"lawbstation-popup",isOpen:a==="lawbstation-popup",onClose:C,onMinimize:S,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",m.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),m.jsx("p",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",children:"Collect Lawbstations on Secondary"})}),m.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),m.jsxs(to,{id:"nexus-popup",isOpen:a==="nexus-popup",onClose:C,onMinimize:S,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",m.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),m.jsxs(to,{id:"lawbsters-popup",isOpen:a==="lawbsters-popup",onClose:C,onMinimize:S,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})," or ",m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"NFTX"})]}),m.jsx("div",{style:{maxWidth:"400px",margin:"0 auto"},children:m.jsx(hoe,{id:"1620879129850834944"})}),m.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),m.jsx(to,{id:"pixelawbs-popup",isOpen:a==="pixelawbs-popup",onClose:C,onMinimize:S,children:(()=>{const T=L=>{L.preventDefault(),c(null),h(!0)};return m.jsxs(m.Fragment,{children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",m.jsx("span",{style:{color:"blue",textDecoration:"underline",cursor:"pointer"},onClick:T,children:"COLLECT HERE"})," OR VISIT ",m.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"SCATTER.ART"})]}),m.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",m.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PixeladyMaker"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Ethereum"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/mint.gif",alt:"Mint",style:{maxWidth:"100%"}})]})})()}),m.jsxs(to,{id:"halloween-popup",isOpen:a==="halloween-popup",onClose:C,onMinimize:S,children:[m.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),m.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}}),m.jsx("div",{ref:_,style:{maxWidth:"400px",margin:"0 auto"},children:m.jsx("blockquote",{className:"tiktok-embed",cite:"https://www.tiktok.com/@wables.eth/video/7295660710644682027","data-video-id":"7295660710644682027",style:{maxWidth:"605px",minWidth:"325px"},children:m.jsxs("section",{children:[m.jsx("a",{target:"_blank",rel:"noreferrer",title:"@wables.eth",href:"https://www.tiktok.com/@wables.eth?refer=embed",children:"@wables.eth"})," 420 lawbsters hijacked a spirit halloween superstore  minting rn on @ourzora via @PC69 ",m.jsx("a",{target:"_blank",rel:"noreferrer",title:" original sound - wables.eth",href:"https://www.tiktok.com/music/original-sound-7295660837769857835?refer=embed",children:" original sound - wables.eth"})]})})})]}),m.jsxs(to,{id:"lawb-popup",isOpen:a==="lawb-popup",onClose:C,onMinimize:S,children:[m.jsx("h1",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:" $LAWB"})}),m.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",m.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"pump.fun"}),"."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),m.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",m.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),m.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",m.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),m.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}}),m.jsx("div",{style:{width:"100%",height:"400px",marginTop:"10px"},children:m.jsx("iframe",{height:"100%",width:"100%",id:"geckoterminal-embed",title:"GeckoTerminal Embed",src:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",frameBorder:"0",allow:"clipboard-write",allowFullScreen:!0})})]}),m.jsx(Jle,{isOpen:d,onClose:A,onMinimize:j,walletAddress:n||""}),m.jsx(WNe,{isOpen:f,onClose:P,onMinimize:H,walletAddress:n}),m.jsx(to,{id:"meme-generator-popup",isOpen:g,onClose:D,onMinimize:K,children:m.jsx(tG,{})})]})}const ZPe=ba({galleryContainer:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#c0c0c0",zIndex:200,display:"flex",flexDirection:"column",fontFamily:"'MS Sans Serif', Arial, sans-serif"},header:{background:"navy",color:"#fff",padding:"8px",display:"flex",alignItems:"center",gap:"10px"},backButton:{background:"#c0c0c0",border:"2px outset #fff",padding:"2px 8px",cursor:"pointer","&:active":{borderStyle:"inset"}},headerTitle:{margin:0,fontSize:"1rem",fontWeight:"bold"},content:{flex:1,overflowY:"auto",padding:"1rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",cursor:"pointer",textAlign:"center","& img":{width:"100%",height:"auto",marginBottom:"8px"}},detailView:{padding:"1rem","& img":{maxWidth:"100%",marginBottom:"1rem"}},loading:{textAlign:"center",padding:"2rem"},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff",flexWrap:"wrap"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),t4=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"},{slug:"lawbstation",name:"Lawbstation",api:"opensea-solana",chain:"solana"},{slug:"lawbnexus",name:"Nexus",api:"opensea-solana",chain:"solana"}],XPe=({onBack:t,walletAddress:e})=>{const n=ZPe(),{open:r}=pA(),[s,i]=O.useState([]),[o,a]=O.useState(!0),[c,l]=O.useState(null),[u,d]=O.useState(t4[0]),[h,f]=O.useState(!1),[p,g]=O.useState(null),[y,w]=O.useState("all"),[v,b]=O.useState(null),_=O.useCallback(async()=>{var N,A;try{if((N=window.solana)!=null&&N.isPhantom){const P=await window.solana.connect();g(P.publicKey.toString());return}if((A=window.solflare)!=null&&A.isSolflare){const P=await window.solflare.connect();g(P.publicKey.toString());return}r()}catch(P){console.error("Failed to connect Solana wallet:",P),alert("Failed to connect Solana wallet. Please make sure Phantom or Solflare is installed.")}f(!1)},[r]);O.useEffect(()=>{var N,A;(N=window.solana)!=null&&N.publicKey?g(window.solana.publicKey.toString()):(A=window.solflare)!=null&&A.publicKey&&g(window.solflare.publicKey.toString())},[]),O.useEffect(()=>{(async()=>{a(!0);try{let A,P=e||void 0;if(u.api==="opensea-solana"){if(!p){f(!0),a(!1);return}P=p,A=await Qle(p,100),console.log("Mobile: Fetched Solana NFTs by owner:",A.data.length)}else u.api==="opensea"?A=await bR(u.slug,100,P):A=await wR(u.slug,1,100,P);y==="owned"&&p&&(console.log("Filtering for owner:",p),A.data.some(j=>j.owners&&j.owners.length>0)?A.data=A.data.filter(j=>j.owners.some(K=>K.owner_of&&K.owner_of.toLowerCase()===p.toLowerCase())):(console.log("No owner data available from OpenSea for Solana collection"),b("Owner data not available for this Solana collection. Showing all NFTs."))),i(A.data)}catch(A){console.error(A)}finally{a(!1)}})()},[e,u,p,y]),O.useEffect(()=>{h&&_()},[h,_]);const x=async N=>{if(a(!0),u.api==="opensea"&&u.chain)try{const A=await E7(u.chain,N.address,N.token_id.toString()),P={...N,attributes:JSON.stringify(A.traits||[])};l(P)}catch(A){console.error("Failed to fetch full NFT details",A),l(N)}else l(N);a(!1)},C=()=>{if(!c)return null;let N=[];try{N=JSON.parse(c.attributes||"[]")}catch(A){console.error("Failed to parse NFT attributes:",A)}return m.jsxs("div",{className:n.detailView,children:[m.jsx("img",{src:c.image,alt:c.name}),m.jsx("h2",{children:c.name}),m.jsx("h4",{children:"Traits:"}),m.jsx("ul",{children:N.map((A,P)=>m.jsxs("li",{children:[m.jsxs("strong",{children:[A.trait_type,":"]})," ",A.value]},P))})]})},S=()=>m.jsxs(m.Fragment,{children:[m.jsx("div",{className:n.collectionSelector,children:t4.map(N=>m.jsx("button",{className:`${n.collectionButton} ${u.slug===N.slug?"active":""}`,onClick:()=>d(N),children:N.name},N.slug))}),m.jsxs("div",{className:n.content,children:[m.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[m.jsx("button",{onClick:()=>w("all"),style:{background:y==="all"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:y==="all"?"white":"black"},children:"All NFTs"}),m.jsx("button",{onClick:()=>w("owned"),disabled:!e&&!p,style:{background:y==="owned"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:e||p?"pointer":"not-allowed",color:y==="owned"?"white":"black",opacity:e||p?1:.6},children:"My NFTs"}),u.api==="opensea-solana"&&m.jsx("button",{onClick:()=>{_()},style:{background:p?"#4CAF50":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:p?"white":"black",marginLeft:"auto"},children:p?`Solana: ${p.slice(0,4)}...${p.slice(-4)}`:"Connect Solana"})]}),v&&m.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:v}),u.api==="opensea-solana"&&!p&&m.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",padding:"10px",marginBottom:"10px",color:"#856404"},children:"Connect your Solana wallet (Phantom or Solflare) to view your NFTs from this collection."}),o?m.jsx("div",{className:n.loading,children:"Loading NFTs..."}):m.jsx("div",{className:n.grid,children:s.map(N=>{let A=N.image||N.image_url||N.image_url_shrunk||"/assets/pixelawb.png";return m.jsxs("div",{className:n.gridItem,onClick:()=>void x(N),children:[m.jsx("img",{src:A,alt:N.name,onError:P=>{P.currentTarget.src!==N.image_url&&N.image_url?P.currentTarget.src=N.image_url:P.currentTarget.src!==N.image_url_shrunk&&N.image_url_shrunk?P.currentTarget.src=N.image_url_shrunk:P.currentTarget.src="/assets/pixelawb.png"}}),m.jsx("span",{children:N.name})]},N.id)})})]})]});return m.jsxs("div",{className:n.galleryContainer,children:[m.jsxs("header",{className:n.header,children:[m.jsx("button",{className:n.backButton,onClick:c?()=>l(null):t,children:"Back"}),m.jsx("h2",{className:n.headerTitle,children:c?c.name:"LAWB NFT GALLERY"})]}),m.jsx("div",{className:n.content,children:o?m.jsx("p",{className:n.loading,children:"Loading..."}):c?C():S()})]})},eke=ba({overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",zIndex:4e3,display:"flex",alignItems:"center",justifyContent:"center"},popup:{background:"#c0c0c0",border:"2px outset #fff",borderRadius:12,width:"92vw",maxWidth:420,minHeight:240,maxHeight:"90vh",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"stretch",position:"relative",overflow:"hidden"},titleBar:{background:"navy",color:"#fff",fontWeight:"bold",fontFamily:"'MS Sans Serif', Arial, sans-serif",fontSize:16,padding:"8px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px inset #fff",userSelect:"none"},closeButton:{width:28,height:28,background:"#c0c0c0",border:"2px outset #fff",borderRadius:4,color:"#000",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginLeft:8,boxShadow:"1px 1px 0 #888","&:active":{border:"2px inset #fff",background:"#e0e0e0"}},content:{padding:16,overflowY:"auto",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000",fontSize:15,background:"#fff",flex:1}}),Bo=({isOpen:t,onClose:e,title:n,children:r})=>{const s=eke();return t?m.jsx("div",{className:s.overlay,children:m.jsxs("div",{className:s.popup,children:[m.jsxs("div",{className:s.titleBar,children:[m.jsx("span",{children:n}),m.jsx("button",{className:s.closeButton,onClick:e,title:"Close",children:""})]}),m.jsx("div",{className:s.content,children:r})]})}):null},tke=({isOpen:t,onClose:e,walletAddress:n})=>{const[r,s]=O.useState([]),[i,o]=O.useState(!1),[a,c]=O.useState(!1),[l,u]=O.useState({}),[d,h]=O.useState(null),{data:f}=m9();O.useEffect(()=>{t&&n&&p()},[t,n]);const p=async()=>{o(!0),h(null);try{const _=await b7(n);s(_);const x={};_.forEach(C=>{x[C.id]=0}),u(x)}catch(_){h(_.message)}finally{o(!1)}},g=(_,x)=>{u(C=>({...C,[_]:Math.max(0,x)}))},y=async()=>{const _=Object.entries(l).filter(([,x])=>x>0).map(([x,C])=>({id:x,quantity:C}));if(_.length===0){h("Please select at least one item to mint");return}if(!f){h("Wallet not connected");return}c(!0),h(null);try{const x=await v7(n,_);if(x.success&&x.mintTransaction){alert("Please confirm the transaction in your wallet.");try{const C=await f.sendTransaction({to:x.mintTransaction.to,value:BigInt(x.mintTransaction.value),data:x.mintTransaction.data});alert(`NFT Minted Successfully: Transaction Hash - ${C}`),e()}catch(C){h("Transaction failed: "+C.message)}}else throw new Error(x.message||"Could not retrieve minting transaction.")}catch(x){h("Minting failed: "+x.message)}finally{c(!1)}},w=(_,x)=>`${parseFloat(_)} ${x}`,v={border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#f8f8f8",borderRadius:"8px",textAlign:"left"},b={backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000",borderRadius:"8px"};return m.jsxs(Bo,{isOpen:t,onClose:e,title:"Mint Pixelawbs",children:[d&&m.jsx("div",{style:b,children:d}),i?m.jsx("div",{children:"Loading eligible invite lists..."}):r.length===0?m.jsx("div",{children:"No eligible invite lists found for your wallet."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("h3",{style:{color:"#008080",fontSize:"1rem",margin:0},children:"Available Lists:"}),r.map(_=>m.jsxs("div",{style:v,children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:_.name}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",w(_.token_price,_.currency_symbol)]}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",_.wallet_limit===4294967295?"Unlimited":_.wallet_limit," per wallet"]}),m.jsx("input",{type:"number",min:0,max:_.wallet_limit===4294967295?void 0:_.wallet_limit,value:l[_.id]||"",onChange:x=>g(_.id,parseInt(x.target.value)||0),style:{width:"60px",fontSize:"1rem",marginRight:"8px"}}),m.jsx("span",{style:{fontSize:"0.95rem"},children:"Qty"})]},_.id))]}),m.jsx("button",{style:{background:"#00ffff",color:"#000",border:"none",borderRadius:"8px",padding:"12px 32px",fontWeight:"bold",fontSize:"1.1rem",marginTop:"1.5rem",cursor:"pointer",boxShadow:"1px 1px 0 #aaa"},onClick:y,disabled:a,children:a?"Minting...":"Mint"})]})]})},nke=ba({mobileContainer:{minHeight:"100vh",minWidth:"100vw",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",position:"relative",overflow:"hidden"},header:{backgroundColor:"#c00",padding:"0.75rem 0",border:"none",textAlign:"center",marginBottom:"1.5rem"},title:{margin:0,fontSize:"1.1rem",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",letterSpacing:"1px",textShadow:"1px 1px 0 #000",textTransform:"uppercase"},iconGrid:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem",marginBottom:"80px"},icon:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",cursor:"pointer",textAlign:"center","& img":{width:"64px",height:"64px"},"& span":{wordBreak:"break-word"}},taskbar:{position:"fixed",left:0,bottom:0,width:"100%",maxWidth:"100vw",height:"56px",background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1rem",zIndex:1e3,borderTop:"2px solid #00ffff"},menuButton:{background:"#00ffff",color:"#000",fontWeight:"bold",border:"none",borderRadius:"4px",padding:"8px 16px",fontSize:"1rem",cursor:"pointer",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",boxShadow:"2px 2px 0 #000"},walletStatus:{display:"flex",alignItems:"center",color:"#fff",fontWeight:"bold",fontSize:"0.9rem",fontFamily:"'MS Sans Serif', Arial, sans-serif"},statusDot:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:t=>t?"limegreen":"red",marginRight:"6px",border:"1px solid #000"},clock:{color:"#00ffff",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",fontSize:"1rem",fontWeight:"bold",textShadow:"1px 1px 0 #000",marginRight:"24px"},pixelawbsPopupOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},pixelawbsPopup:{background:"#fff",borderRadius:"12px",width:"90vw",maxWidth:"420px",height:"75vh",maxHeight:"600px",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1.5rem",position:"relative"},closeButton:{position:"absolute",top:"10px",right:"10px",background:"#00ffff",color:"#000",border:"none",borderRadius:"50%",width:"32px",height:"32px",fontSize:"1.5rem",fontWeight:"bold",cursor:"pointer",boxShadow:"1px 1px 0 #000"},menuOverlay:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",zIndex:3e3,display:"flex",alignItems:"flex-end",justifyContent:"center",pointerEvents:"auto"},menuModal:{width:"100vw",background:"#c0c0c0",borderTopLeftRadius:"16px",borderTopRightRadius:"16px",boxShadow:"0 -4px 24px rgba(0,0,0,0.2)",padding:"15px 0 8px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",zIndex:3100,marginBottom:"70px",maxHeight:"calc(70vh - 56px)",overflowY:"auto",position:"absolute",left:0,bottom:"56px"},menuLink:{display:"block",width:"90%",padding:"6px",color:"#000",textDecoration:"none",background:"#e0e0e0",borderRadius:"8px",fontWeight:"bold",fontSize:"1rem",textAlign:"center",marginBottom:"3px",border:"2px outset #fff",boxShadow:"1px 1px 0 #aaa"}}),rke=[{id:"lawbsters",name:"Lawbsters",image:"/assets/lawbsters.gif",description:"420 Lawbsters. ETH."},{id:"lawbstarz",name:"Lawbstarz",image:"/assets/lawbstarz.gif",description:"666 Lawbstarz. ETH."},{id:"halloween",name:"Halloween",image:"/assets/lawbsterhalloween.gif",description:"Halloween Lawbsters. BASE."},{id:"pixelawbs",name:"Pixelawbs",image:"/assets/pixelawb.png",description:"2222 Pixelawbs. ETH."}],ske=[{id:"lawbstation",name:"Lawbstation",image:"/assets/lawbstation.GIF",description:"Lawbstation. SOL."},{id:"nexus",name:"Nexus",image:"/assets/nexus.gif",description:"Nexus. SOL."}],ike=()=>{const t=nke(),{open:e}=pA(),{address:n,isConnected:r}=Dv(),{isPending:s}=f9(),{disconnect:i}=p9(),{data:o}=g9({address:n}),[a,c]=O.useState("main"),[l,u]=O.useState(!1),[d,h]=O.useState(()=>new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),[f,p]=O.useState(!1),[g,y]=O.useState(!1),[w,v]=O.useState(!1),[b,_]=O.useState(!1),[x,C]=O.useState(!1),[S,N]=O.useState(!1),[A,P]=O.useState(!1),[D,j]=O.useState(!1),[H,K]=O.useState(!1),[I,T]=O.useState(!1),[L,U]=O.useState(!1),[$,M]=O.useState(!1),q=[{label:"Mint",icon:"/assets/mint.gif",action:()=>y(!0)},{label:"EVM NFT'S FOLDER",icon:"/assets/evmfolder.png",action:()=>v(!0)},{label:"SOL NFTS FOLDER",icon:"/assets/solfolder.png",action:()=>_(!0)},{label:"$LAWB",icon:"/assets/lawbticker.gif",action:()=>C(!0)},{label:r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Wallet",icon:"/assets/wallet.png",action:()=>{r?i():e()},disabled:s}],ee=ae=>{ae.disabled||ae.action()};if(O.useEffect(()=>{const ae=window.setInterval(()=>{h(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},1e3);return()=>window.clearInterval(ae)},[]),O.useEffect(()=>{u(!0)},[]),a==="gallery")return m.jsx(XPe,{onBack:()=>c("main"),walletAddress:n||void 0});function ce({open:ae,onClose:Ee,title:J,nfts:re}){const de=ie=>{switch(ie){case"lawbsters":N(!0);break;case"lawbstarz":P(!0);break;case"pixelawbs":j(!0);break;case"halloween":K(!0);break;case"lawbstation":T(!0);break;case"nexus":U(!0);break}};return m.jsx(Bo,{isOpen:ae,onClose:Ee,title:J,children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,width:"100%"},children:re.map(ie=>m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",background:"#f8f8f8",borderRadius:8,padding:8,cursor:"pointer"},onClick:()=>de(ie.id),children:[m.jsx("img",{src:ie.image,alt:ie.name,style:{width:80,height:80,objectFit:"contain",marginBottom:8}}),m.jsx("span",{style:{fontWeight:"bold",fontSize:14},children:ie.name}),m.jsx("span",{style:{fontSize:12,color:"#555",textAlign:"center"},children:ie.description})]},ie.id))})})}function se({open:ae,onClose:Ee}){return ae?m.jsxs(Bo,{isOpen:ae,onClose:Ee,title:"$LAWB",children:[m.jsx("h1",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:" $LAWB"})}),m.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",m.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"pump.fun"}),"."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),m.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",m.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),m.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",m.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),m.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}}),m.jsx("div",{style:{width:"100%",height:"400px",marginTop:"10px"},children:m.jsx("iframe",{height:"100%",width:"100%",id:"geckoterminal-embed",title:"GeckoTerminal Embed",src:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",frameBorder:"0",allow:"clipboard-write",allowFullScreen:!0})})]}):null}return m.jsxs("div",{className:t.mobileContainer,children:[m.jsx("header",{className:t.header,children:m.jsx("h1",{className:t.title,children:"there is no meme we lawb you"})}),m.jsx("div",{className:t.iconGrid,children:q.map(ae=>m.jsxs("div",{className:t.icon,onClick:()=>ee(ae),children:[m.jsx("img",{src:ae.icon,alt:ae.label}),m.jsx("span",{children:ae.label})]},ae.label))}),l&&m.jsxs(Bo,{isOpen:l,onClose:()=>u(!1),title:"Pixelawbs",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",m.jsx("span",{style:{color:"#ff0000",textDecoration:"underline",cursor:"pointer"},onClick:()=>{u(!1),y(!0)},children:"COLLECT HERE"})," OR VISIT ",m.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"SCATTER.ART"})]}),m.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",m.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PixeladyMaker"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})})]}),f&&m.jsx("div",{className:t.menuOverlay,onClick:()=>p(!1),children:m.jsxs("div",{className:t.menuModal,onClick:ae=>ae.stopPropagation(),children:[m.jsx("a",{href:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"GeckoTerminal"}),m.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbStation Twitter"}),m.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbNexus Twitter"}),m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"NFTX - Lawbsters"}),m.jsx("a",{href:"https://purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Purity"}),m.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"UwU LAWB"}),m.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Telegram"}),m.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Discord"}),m.jsx("a",{href:"https://store.fun/lawbshop",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Lawb.Shop"}),m.jsx("button",{className:t.menuLink,onClick:()=>{p(!1),M(!0)},style:{border:"none",cursor:"pointer",width:"90%",margin:"0 auto",display:"block"},children:"Meme Generator"})]})}),m.jsx(tke,{isOpen:g,onClose:()=>y(!1),walletAddress:n||""}),m.jsx(ce,{open:w,onClose:()=>v(!1),title:"EVM NFT'S FOLDER",nfts:rke}),m.jsx(ce,{open:b,onClose:()=>_(!1),title:"SOL NFTS FOLDER",nfts:ske}),m.jsx(se,{open:x,onClose:()=>C(!1)}),m.jsxs(Bo,{isOpen:S,onClose:()=>N(!1),title:"Lawbsters",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})," or ",m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"NFTX"})]}),m.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),m.jsxs(Bo,{isOpen:A,onClose:()=>P(!1),title:"Lawbstarz",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:[" LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER  666x PREMIUM PFP COLLECTION  LAWBSTARZ IS A MUSIC NFT  LAWBSTARZ IS AN ",m.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE  LAWBSTARZ IS INSPIRED BY ",m.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"REMILIA CORP"}),"  LED BY NETWORK SPIRITUALITY  666 ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",m.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 "]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(Bo,{isOpen:D,onClose:()=>j(!1),title:"Pixelawbs",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",m.jsx("span",{style:{color:"#ff0000",textDecoration:"underline",cursor:"pointer"},onClick:()=>{j(!1),y(!0)},children:"COLLECT HERE"})," OR VISIT ",m.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"SCATTER.ART"})]}),m.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",m.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PixeladyMaker"})]})]}),m.jsxs(Bo,{isOpen:H,onClose:()=>K(!1),title:"A Lawbster Halloween",children:[m.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),m.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}})]}),m.jsxs(Bo,{isOpen:I,onClose:()=>T(!1),title:"Lawbstation",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",m.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),m.jsx("p",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Collect Lawbstations on Secondary"})}),m.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),m.jsxs(Bo,{isOpen:L,onClose:()=>U(!1),title:"Nexus",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",m.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),m.jsx(Bo,{isOpen:$,onClose:()=>M(!1),title:"Meme Generator",children:m.jsx(tG,{})}),m.jsxs("div",{className:t.taskbar,children:[m.jsx("button",{className:t.menuButton,onClick:()=>p(!0),children:"Menu"}),m.jsxs("div",{className:t.walletStatus,children:[m.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"6px",border:"1px solid #000",display:"inline-block"}}),r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]}),m.jsx("span",{className:t.clock,children:d})]})]})};function oke(t){const e=i=>typeof window<"u"?window.matchMedia(i).matches:!1,[n,r]=O.useState(e(t));function s(){r(e(t))}return O.useEffect(()=>{const i=window.matchMedia(t);return s(),i.addEventListener("change",s),()=>{i.removeEventListener("change",s)}},[t]),n}function ake(t){let e=[],n,r;function s(a){return bb.parseEvmChainId(a)||1}function i(){var a;return n||(n=hf.getInstance({projectId:t.options.projectId,chainId:(a=B.getActiveCaipNetwork())==null?void 0:a.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:c=>{c==="iframe_load_failed"?Xn.open(Nn.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?Xn.open(Nn.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&Xn.open(Nn.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:Nn.EmbeddedWalletAbortController})),n}async function o(a={}){var g,y;const c=i();let l=a.chainId;if(a.isReconnecting){const w=bb.parseEvmChainId(c.getLastUsedChainId()||""),v=(g=t.chains)==null?void 0:g[0].id;if(l=w||v,!l)throw new Error("ChainId not found in provider")}const u=(y=Se.state.preferredAccountTypes)==null?void 0:y.eip155,{address:d,chainId:h,accounts:f}=await c.connect({chainId:l,preferredAccountType:u,socialUri:a.socialUri});e=(f==null?void 0:f.map(w=>w.address))||[d];const p=s(h);return{accounts:e,account:d,chainId:p,chain:{id:p,unsuported:!1}}}return a=>({id:ue.CONNECTOR_ID.AUTH,name:ue.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:ue.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,l},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){var c;return this.provider||(this.provider=hf.getInstance({projectId:t.options.projectId,chainId:(c=B.getActiveCaipNetwork())==null?void 0:c.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:Nn.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?Xn.open(Nn.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?Xn.open(Nn.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&Xn.open(Nn.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return s(l)},async isAuthorized(){const l=B.state.activeChain===ue.CHAIN.EVM;if(ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(h=>Pe.getConnectorId(h)===ue.CONNECTOR_ID.AUTH)&&!l)return!1;const d=await this.getProvider();return Promise.resolve(d.getLoginEmailUsed())},async switchChain({chainId:c}){var l,u;try{const d=a.chains.find(g=>g.id===c);if(!d)throw new cc(new Error("chain not found on connector."));const h=await this.getProvider(),f=(l=Se.state.preferredAccountTypes)==null?void 0:l.eip155,p=await h.connect({chainId:c,preferredAccountType:f});return e=((u=p==null?void 0:p.accounts)==null?void 0:u.map(g=>g.address))||[p.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),d}catch(d){throw d instanceof Error?new cc(d):d}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(Vu)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}l3.type="walletConnect";function l3(t,e){const n=t.isNewChainsStale??!0;let r,s,i,o,a,c,l;return u=>({id:"walletConnect",name:"WalletConnect",type:l3.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),c||(c=this.onSessionDelete.bind(this),d.on("session_delete",c)))},async connect({...d}={}){var h,f,p;try{const g=B.getCaipNetworks(),y=await this.getProvider();if(!y)throw new su;a||(a=this.onDisplayUri,y.on("display_uri",a));const w=await this.isChainsStale();y.session&&w&&await y.disconnect();const v=me.state.universalProviderConfigOverride;if(!y.session||w){const A=xw.createNamespaces(g,v);await y.connect({optionalNamespaces:A,..."pairingTopic"in d?{pairingTopic:d.pairingTopic}:{}}),this.setRequestedChainsIds(g.map(P=>Number(P.id)))}const b=await this.getAccounts(),_=await this.getChainId(),x=(p=(f=(h=y.session)==null?void 0:h.namespaces)==null?void 0:f.eip155)==null?void 0:p.chains,C=x==null?void 0:x.some(A=>Number(A.split(":")[1])===_);let S=1;C?S=_:x!=null&&x[0]&&(S=Number(x[0].split(":")[1])),a&&(y.removeListener("display_uri",a),a=void 0),o&&(y.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),y.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),y.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),y.on("disconnect",l)),c||(c=this.onSessionDelete.bind(this),y.on("session_delete",c));const N=v==null?void 0:v.defaultChain;return y.setDefaultChain(N??`eip155:${S}`),{accounts:b,chainId:S}}catch(g){throw/(user rejected|connection request reset)/i.test(g==null?void 0:g.message)?new or(g):g}},async disconnect(){const d=await this.getProvider();try{await(d==null?void 0:d.disconnect())}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{i&&(d==null||d.removeListener("chainChanged",i),i=void 0),l&&(d==null||d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d==null||d.on("connect",o)),s&&(d==null||d.removeListener("accountsChanged",s),s=void 0),c&&(d==null||d.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var p,g,y;const d=await this.getProvider();if(!((p=d==null?void 0:d.session)!=null&&p.namespaces))return[];const h=(y=(g=d==null?void 0:d.session)==null?void 0:g.namespaces[ue.CHAIN.EVM])==null?void 0:y.accounts;return(h==null?void 0:h.map(w=>w.split(":")[2]))??[]},async getProvider({chainId:d}={}){var p,g;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const h=Te.getActiveNamespace(),f=(p=e.getCaipNetwork())==null?void 0:p.id;if(d&&f!==d&&h){const y=Te.getStoredActiveCaipNetworkId(),w=e.getCaipNetworks(h),v=w==null?void 0:w.find(b=>b.id===y);v&&v.chainNamespace===ue.CHAIN.EVM&&await((g=this.switchChain)==null?void 0:g.call(this,{chainId:Number(v.id)}))}return r},async getChainId(){var g,y,w,v;const d=(g=e.getCaipNetwork(ue.CHAIN.EVM))==null?void 0:g.id;if(d)return d;const f=(v=(w=(y=(await this.getProvider()).session)==null?void 0:y.namespaces[ue.CHAIN.EVM])==null?void 0:w.chains)==null?void 0:v[0],p=B.getCaipNetworks().find(b=>b.id===f);return p==null?void 0:p.id},async isAuthorized(){try{const[d,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){var g,y,w,v;const f=await this.getProvider();if(!f)throw new su;const p=B.getCaipNetworks().find(b=>b.id===h);if(!p)throw new cc(new hb);try{await f.request({method:"wallet_switchEthereumChain",params:[{chainId:rt(h)}]}),p!=null&&p.caipNetworkId&&f.setDefaultChain(p==null?void 0:p.caipNetworkId),u.emitter.emit("change",{chainId:Number(h)});const b=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...b,h]),{...p,id:p.id}}catch(b){const _=b;if(/(?:user rejected)/iu.test(_.message))throw new or(_);try{let x;d!=null&&d.blockExplorerUrls?x=d.blockExplorerUrls:x=(g=p.blockExplorers)!=null&&g.default.url?[(y=p.blockExplorers)==null?void 0:y.default.url]:[];const C=((v=(w=p.rpcUrls)==null?void 0:w.chainDefault)==null?void 0:v.http)||[],S={blockExplorerUrls:x,chainId:rt(h),chainName:p.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:p.nativeCurrency,rpcUrls:C};await f.request({method:"wallet_addEthereumChain",params:[S]});const N=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...N,h]),{...p,id:p.id}}catch(x){throw new or(x)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:d.map(h=>Vu(h))})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},onConnect(d){this.setRequestedChainsIds(B.getCaipNetworks().map(h=>Number(h.id)))},async onDisconnect(d){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const h=await this.getProvider();s&&(h.removeListener("accountsChanged",s),s=void 0),i&&(h.removeListener("chainChanged",i),i=void 0),l&&(h.removeListener("disconnect",l),l=void 0),c&&(h.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),h.on("connect",o))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var f,p,g;if(!((f=r==null?void 0:r.session)!=null&&f.namespaces))return[];const d=(g=(p=r==null?void 0:r.session)==null?void 0:p.namespaces[ue.CHAIN.EVM])==null?void 0:g.accounts;return(d==null?void 0:d.map(y=>Number.parseInt(y.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var h;const d=await((h=u.storage)==null?void 0:h.getItem(this.requestedChainsStorageKey))??[];return[...new Set(d)]},async isChainsStale(){if(!n)return!1;const d=u.chains.map(p=>p.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(p=>d.includes(p)))return!1;const f=await this.getRequestedChainsIds();return!d.every(p=>f.includes(Number(p)))},async setRequestedChainsIds(d){var h;await((h=u.storage)==null?void 0:h.setItem(this.requestedChainsStorageKey,d))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const x0=bn({pendingTransactions:0}),n4={state:x0,subscribeKey(t,e){return Gr(x0,t,e)},increase(t){x0[t]+=1},decrease(t){x0[t]-=1},reset(t){x0[t]=0}};function cke(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}async function lke(t){if(We.isSafeApp()){const{safe:e}=await Wn(async()=>{const{safe:n}=await import("./index-BUR67BMK.js");return{safe:n}},[]);if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function uke(t){try{const{coinbaseWallet:e}=await Wn(async()=>{const{coinbaseWallet:n}=await import("./index-BUR67BMK.js");return{coinbaseWallet:n}},[]);if(e&&!t.some(n=>n.id==="coinbaseWalletSDK"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const dke={enable:!1,pollingInterval:3e4};class hke extends eG{constructor(e){const n=Ya.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=ue.CHAIN.EVM,this.adapterType=ue.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...dke,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===ue.CONNECTOR_ID.AUTH){const i=await n.getProvider();if(!(i!=null&&i.user))return{accounts:[]};const{address:o,accounts:a}=i.user;return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>We.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:s}=Tg(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(i=>We.createAccount("eip155",i||"","eoa"))})}checkChainId(){const{chainId:e}=Tg(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===ue.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var a,c;const i=(a=e.transports)==null?void 0:a[s.id],o=Ya.getCaipNetworkId(s);i?n[s.id]=Ya.extendWagmiTransports(s,e.projectId,i):n[s.id]=Ya.getViemTransport(s,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=Xte({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=Ote(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),n4.increase("pendingTransactions")}});const e=n4.subscribeKey("pendingTransactions",n=>{var r;n>=ue.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){FF(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e!=null&&e.chainId&&(e==null?void 0:e.chainId)!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"&&(e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){const n=[];if(e.enableCoinbase!==!1){const s=await uke(this.wagmiConfig.connectors);s&&n.push(s)}const r=await lke(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(s=>{const i=this.wagmiConfig._internal.connectors.setup(s);return this.wagmiConfig._internal.connectors.setState(o=>[...o,i]),this.addWagmiConnector(i,e)}))}addWagmiConnectors(e,n){var o,a,c,l;const r=[];e.enableWalletConnect!==!1&&r.push(l3(e,n)),e.enableInjected!==!1&&r.push(IC({shimDisconnect:!0}));const s=((o=n==null?void 0:n.remoteFeatures)==null?void 0:o.email)??!0,i=Array.isArray((a=n==null?void 0:n.remoteFeatures)==null?void 0:a.socials)&&((l=(c=n==null?void 0:n.remoteFeatures)==null?void 0:c.socials)==null?void 0:l.length)>0;(s||i)&&r.push(ake({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(u=>{const d=this.wagmiConfig._internal.connectors.setup(u);this.wagmiConfig._internal.connectors.setState(h=>[...h,d])})}async signMessage(e){try{return{signature:await Tte(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=Tg(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await Ste(this.wagmiConfig,s);const i=await Ite(this.wagmiConfig,s);return await Rte(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,s=Number(bb.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await Dte(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await bte(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return zee(e.value,e.decimals)}formatUnits(e){return by(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(e.id===ue.CONNECTOR_ID.AUTH||e.id===ue.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:Ju.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:Ju.ConnectorNamesMap[e.id]??e.name,imageId:Ju.ConnectorImageIds[e.id],type:Ju.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===ue.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){zF(this.wagmiConfig,{onChange:r=>{r.forEach(s=>this.addWagmiConnector(s,e))}}),this.addWagmiConnectors(e,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addThirdPartyConnectors(e)}async syncConnection(e){var l,u;const{id:n,chainId:r}=e,i=Da(this.wagmiConfig).find(d=>d.connector.id===n),o=this.getWagmiConnector(n),a=await(o==null?void 0:o.getProvider());if(We.isSafeApp()&&n===ue.CONNECTOR_ID.SAFE&&!(i!=null&&i.accounts.length)){const d=this.getWagmiConnector("safe");if(d){const h=await GE(this.wagmiConfig,{connector:d,chainId:Number(r)}),f=await d.getProvider();return{chainId:Number(r),address:h.accounts[0],provider:f,type:(l=i==null?void 0:i.connector.type)==null?void 0:l.toUpperCase(),id:i==null?void 0:i.connector.id}}}return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:a,type:(u=i==null?void 0:i.connector.type)==null?void 0:u.toUpperCase(),id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await GE(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await P$(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var u,d,h,f,p;const{id:n,provider:r,type:s,info:i,chainId:o,socialUri:a}=e,c=this.getWagmiConnector(n);if(!c)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&i&&c.id===ue.CONNECTOR_ID.EIP6963&&((u=c.setEip6963Wallet)==null||u.call(c,{provider:r,info:i})),c.uid===((h=(d=this.wagmiConfig)==null?void 0:d.state)==null?void 0:h.current)){const g=(p=(f=this.wagmiConfig.state)==null?void 0:f.connections)==null?void 0:p.get(c.uid);if(g)return{address:g==null?void 0:g.accounts[0],chainId:g==null?void 0:g.chainId,provider:r,type:s,id:n}}const l=await GE(this.wagmiConfig,{connector:c,chainId:o?Number(o):void 0,socialUri:a});return{address:l.accounts[0],chainId:l.chainId,provider:r,type:s,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await JT(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,i=this.balancePromises[s];if(i)return i;const o=Te.getNativeBalanceCacheForCaipAddress(s);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[s]=new Promise(async a=>{var c,l;try{const u=Number(e.chainId),d=await _te(this.wagmiConfig,{address:e.address,chainId:u,token:(l=(c=e.tokens)==null?void 0:c[r.caipNetworkId])==null?void 0:l.address});Te.updateNativeBalanceCache({caipAddress:s,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),a({balance:d.formatted,symbol:d.symbol})}catch(u){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",u),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=Da(this.wagmiConfig);await Promise.allSettled(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await MF(this.wagmiConfig,{connector:r})})),this.wagmiConfig.state.connections.clear()}async switchNetwork(e){var r,s,i,o,a;const{caipNetwork:n}=e;await P$(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[((i=(s=(r=n.rpcUrls)==null?void 0:r.chainDefault)==null?void 0:s.http)==null?void 0:i[0])??""],blockExplorerUrls:[((o=n.blockExplorers)==null?void 0:o.default.url)??""],iconUrls:[((a=n.assets)==null?void 0:a.imageUrl)??""]}}),await super.switchNetwork(e)}async getCapabilities(e){var a,c;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=Da(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(c=(a=i.session)==null?void 0:a.sessionProperties)==null?void 0:c.capabilities;if(o){const u=cke(o)[e];if(u)return u}return await i.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=Da(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=Da(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=Da(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){e.on("connect",()=>{const n=Da(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(s=>s.connector.id===r.id)){if(B.state.activeChain==="eip155")return;JT(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new a3({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}const pG={id:1992,name:"Sanko Testnet",network:"sanko",nativeCurrency:{decimals:18,name:"tDMT",symbol:"tDMT"},rpcUrls:{public:{http:["https://sanko-arb-sepolia.rpc.caldera.xyz/http"]},default:{http:["https://sanko-arb-sepolia.rpc.caldera.xyz/http"]}},blockExplorers:{default:{name:"SankoScan",url:"https://sanko-scan.caldera.xyz"}}},gG="7c65f27254d6ddd24cf7eedf2685c4fb",fke={name:"Lawb.xyz",description:"Windows 98-style NFT site",url:"https://lawb.xyz",icons:["/assets/favicon.ico"]},mG=new hke({networks:[XW,pG],projectId:gG,ssr:!1});zNe({adapters:[mG],networks:[XW,pG],projectId:gG,metadata:fke,features:{analytics:!1}});const pke=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Wn(async()=>{const{default:r}=await Promise.resolve().then(()=>Uy);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class u3 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class gke extends u3{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mke extends u3{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yke extends u3{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var FP;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(FP||(FP={}));var wke=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class bke{constructor(e,{headers:n={},customFetch:r,region:s=FP.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=pke(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return wke(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:l}).catch(p=>{throw new gke(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new mke(u);if(!u.ok)throw new yke(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(s){return{data:null,error:s}}})}}var oi={},d3={},wA={},Zv={},bA={},vA={},vke=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sy=vke();const Eke=sy.fetch,yG=sy.fetch.bind(sy),wG=sy.Headers,xke=sy.Request,_ke=sy.Response,Uy=Object.freeze(Object.defineProperty({__proto__:null,Headers:wG,Request:xke,Response:_ke,default:yG,fetch:Eke},Symbol.toStringTag,{value:"Module"})),Cke=X_(Uy);var EA={};Object.defineProperty(EA,"__esModule",{value:!0});let Ake=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};EA.default=Ake;var bG=jn&&jn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vA,"__esModule",{value:!0});const Ske=bG(Cke),Ike=bG(EA);let Tke=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ske.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let l=null,u=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=w:u=JSON.parse(w))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{l=JSON.parse(g),Array.isArray(l)&&i.status===404&&(u=[],l=null,h=200,f="OK")}catch{i.status===404&&g===""?(h=204,f="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,h=200,f="OK"),l&&this.shouldThrowOnError)throw new Ike.default(l)}return{error:l,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};vA.default=Tke;var Nke=jn&&jn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bA,"__esModule",{value:!0});const Pke=Nke(vA);let kke=class extends Pke.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};bA.default=kke;var Oke=jn&&jn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zv,"__esModule",{value:!0});const Rke=Oke(bA);let Dke=class extends Rke.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Zv.default=Dke;var $ke=jn&&jn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wA,"__esModule",{value:!0});const _0=$ke(Zv);let Uke=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new _0.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new _0.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new _0.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new _0.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new _0.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};wA.default=Uke;var xA={},_A={};Object.defineProperty(_A,"__esModule",{value:!0});_A.version=void 0;_A.version="0.0.0-automated";Object.defineProperty(xA,"__esModule",{value:!0});xA.DEFAULT_HEADERS=void 0;const Bke=_A;xA.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Bke.version}`};var vG=jn&&jn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(d3,"__esModule",{value:!0});const Lke=vG(wA),Mke=vG(Zv),jke=xA;let Fke=class EG{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},jke.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Lke.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new EG(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",c=n);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Mke.default({method:o,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};d3.default=Fke;var By=jn&&jn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oi,"__esModule",{value:!0});oi.PostgrestError=oi.PostgrestBuilder=oi.PostgrestTransformBuilder=oi.PostgrestFilterBuilder=oi.PostgrestQueryBuilder=oi.PostgrestClient=void 0;const xG=By(d3);oi.PostgrestClient=xG.default;const _G=By(wA);oi.PostgrestQueryBuilder=_G.default;const CG=By(Zv);oi.PostgrestFilterBuilder=CG.default;const AG=By(bA);oi.PostgrestTransformBuilder=AG.default;const SG=By(vA);oi.PostgrestBuilder=SG.default;const IG=By(EA);oi.PostgrestError=IG.default;var zke=oi.default={PostgrestClient:xG.default,PostgrestQueryBuilder:_G.default,PostgrestFilterBuilder:CG.default,PostgrestTransformBuilder:AG.default,PostgrestBuilder:SG.default,PostgrestError:IG.default};const{PostgrestClient:Hke,PostgrestQueryBuilder:QUe,PostgrestFilterBuilder:YUe,PostgrestTransformBuilder:JUe,PostgrestBuilder:ZUe,PostgrestError:XUe}=zke;function Wke(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Gke=Wke(),qke="2.11.13",Vke={"X-Client-Info":`realtime-js/${qke}`},Kke="1.0.0",TG=1e4,Qke=1e3;var _w;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_w||(_w={}));var is;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(is||(is={}));var Xo;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Xo||(Xo={}));var zP;(function(t){t.websocket="websocket"})(zP||(zP={}));var uh;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(uh||(uh={}));class Yke{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class NG{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var gn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(gn||(gn={}));const r4=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Jke(o,t,e,s),i),{})},Jke=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?PG(i,o):HP(o)},PG=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return tOe(e,n)}switch(t){case gn.bool:return Zke(e);case gn.float4:case gn.float8:case gn.int2:case gn.int4:case gn.int8:case gn.numeric:case gn.oid:return Xke(e);case gn.json:case gn.jsonb:return eOe(e);case gn.timestamp:return nOe(e);case gn.abstime:case gn.date:case gn.daterange:case gn.int4range:case gn.int8range:case gn.money:case gn.reltime:case gn.text:case gn.time:case gn.timestamptz:case gn.timetz:case gn.tsrange:case gn.tstzrange:return HP(e);default:return HP(e)}},HP=t=>t,Zke=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Xke=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},eOe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},tOe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>PG(e,a))}return t},nOe=t=>typeof t=="string"?t.replace(" ","T"):t,kG=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class uI{constructor(e,n,r={},s=TG){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var s4;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(s4||(s4={}));class Cw{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cw.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Cw.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Cw.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const d=i[l];if(d){const h=u.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),p=u.filter(y=>f.indexOf(y.presence_ref)<0),g=d.filter(y=>h.indexOf(y.presence_ref)<0);p.length>0&&(a[l]=p),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,s(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var i4;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(i4||(i4={}));var o4;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(o4||(o4={}));var Pc;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Pc||(Pc={}));class h3{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=is.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new uI(this,Xo.join,this.params,this.timeout),this.rejoinTimer=new NG(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=is.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=is.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=is.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=is.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xo.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Cw(this),this.broadcastEndpointURL=kG(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==is.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Pc.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Pc.CLOSED));const c={},l={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Pc.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,p=[];for(let g=0;g<f;g++){const y=h[g],{filter:{event:w,schema:v,table:b,filter:_}}=y,x=u&&u[g];if(x&&x.event===w&&x.schema===v&&x.table===b&&x.filter===_)p.push(Object.assign(Object.assign({},y),{id:x.id}));else{this.unsubscribe(),this.state=is.errored,e==null||e(Pc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Pc.SUBSCRIBED);return}}).receive("error",u=>{this.state=is.errored,e==null||e(Pc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Pc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=is.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xo.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new uI(this,Xo.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new uI(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Xo;if(r&&[a,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var p,g,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(g=f.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,g,y,w,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const _=f.id,x=(p=f.filter)===null||p===void 0?void 0:p.event;return _&&((g=n.ids)===null||g===void 0?void 0:g.includes(_))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(v=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:y,commit_timestamp:w,type:v,errors:b}=p;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:w,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===is.closed}_isJoined(){return this.state===is.joined}_isJoining(){return this.state===is.joining}_isLeaving(){return this.state===is.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&h3.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xo.close,{},e)}_onError(e){this._on(Xo.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=is.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=r4(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=r4(e.columns,e.old_record)),n}}const a4=()=>{},rOe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sOe{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Vke,this.params={},this.timeout=TG,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=a4,this.ref=0,this.logger=a4,this.conn=null,this.sendBuffer=[],this.serializer=new Yke,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Wn(async()=>{const{default:c}=await Promise.resolve().then(()=>Uy);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${zP.websocket}`,this.httpEndpoint=kG(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new NG(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){this.conn||(this.transport||(this.transport=Gke),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Kke}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case _w.connecting:return uh.Connecting;case _w.open:return uh.Open;case _w.closing:return uh.Closing;default:return uh.Closed}}isConnected(){return this.connectionState()===uh.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new h3(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Xo.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Qke,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xo.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([rOe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class f3 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function yr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class iOe extends f3{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class WP extends f3{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var oOe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const OG=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Wn(async()=>{const{default:r}=await Promise.resolve().then(()=>Uy);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},aOe=()=>oOe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wn(()=>Promise.resolve().then(()=>Uy),void 0)).Response:Response}),GP=t=>{if(Array.isArray(t))return t.map(n=>GP(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=GP(r)}),e};var op=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const dI=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cOe=(t,e,n)=>op(void 0,void 0,void 0,function*(){const r=yield aOe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new iOe(dI(s),t.status||500))}).catch(s=>{e(new WP(dI(s),s))}):e(new WP(dI(t),t))}),lOe=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Xv(t,e,n,r,s,i){return op(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,lOe(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>cOe(c,a,r))})})}function N_(t,e,n,r){return op(this,void 0,void 0,function*(){return Xv(t,"GET",e,n,r)})}function uu(t,e,n,r,s){return op(this,void 0,void 0,function*(){return Xv(t,"POST",e,r,s,n)})}function uOe(t,e,n,r,s){return op(this,void 0,void 0,function*(){return Xv(t,"PUT",e,r,s,n)})}function dOe(t,e,n,r){return op(this,void 0,void 0,function*(){return Xv(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function RG(t,e,n,r,s){return op(this,void 0,void 0,function*(){return Xv(t,"DELETE",e,r,s,n)})}var Vs=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const hOe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},c4={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fOe{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=OG(s)}uploadOrUpdate(e,n,r,s){return Vs(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},c4),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(yr(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Vs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Vs(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const l=Object.assign({upsert:c4.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(yr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Vs(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield uu(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new f3("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(yr(r))return{data:null,error:r};throw r}})}update(e,n,r){return Vs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Vs(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(yr(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Vs(this,void 0,void 0,function*(){try{return{data:{path:(yield uu(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(yr(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Vs(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield uu(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(yr(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Vs(this,void 0,void 0,function*(){try{const s=yield uu(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(yr(s))return{data:null,error:s};throw s}})}download(e,n){return Vs(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield N_(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(yr(a))return{data:null,error:a};throw a}})}info(e){return Vs(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield N_(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:GP(r),error:null}}catch(r){if(yr(r))return{data:null,error:r};throw r}})}exists(e){return Vs(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield dOe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(yr(r)&&r instanceof WP){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return Vs(this,void 0,void 0,function*(){try{return{data:yield RG(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(yr(n))return{data:null,error:n};throw n}})}list(e,n,r){return Vs(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},hOe),n),{prefix:e||""});return{data:yield uu(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(yr(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const pOe="2.7.1",gOe={"X-Client-Info":`storage-js/${pOe}`};var Bp=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class mOe{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},gOe),n),this.fetch=OG(r)}listBuckets(){return Bp(this,void 0,void 0,function*(){try{return{data:yield N_(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(yr(e))return{data:null,error:e};throw e}})}getBucket(e){return Bp(this,void 0,void 0,function*(){try{return{data:yield N_(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(yr(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Bp(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(yr(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Bp(this,void 0,void 0,function*(){try{return{data:yield uOe(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(yr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Bp(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(yr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Bp(this,void 0,void 0,function*(){try{return{data:yield RG(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(yr(n))return{data:null,error:n};throw n}})}}class yOe extends mOe{constructor(e,n={},r){super(e,n,r)}from(e){return new fOe(this.url,this.headers,e,this.fetch)}}const wOe="2.50.1";let H0="";typeof Deno<"u"?H0="deno":typeof document<"u"?H0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?H0="react-native":H0="node";const bOe={"X-Client-Info":`supabase-js-${H0}/${wOe}`},vOe={headers:bOe},EOe={schema:"public"},xOe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_Oe={};var COe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const AOe=t=>{let e;return t?e=t:typeof fetch>"u"?e=yG:e=fetch,(...n)=>e(...n)},SOe=()=>typeof Headers>"u"?wG:Headers,IOe=(t,e,n)=>{const r=AOe(n),s=SOe();return(i,o)=>COe(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:l}))})};var TOe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function NOe(t){return t.endsWith("/")?t:t+"/"}function POe(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:c,auth:l,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>TOe(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const DG="2.70.0",Qp=30*1e3,qP=3,hI=qP*Qp,kOe="http://localhost:9999",OOe="supabase.auth.token",ROe={"X-Client-Info":`gotrue-js/${DG}`},VP="X-Supabase-Api-Version",$G={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},DOe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$Oe=6e5;class p3 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function lt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class UOe extends p3{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function BOe(t){return lt(t)&&t.name==="AuthApiError"}class UG extends p3{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Md extends p3{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class eu extends Md{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function LOe(t){return lt(t)&&t.name==="AuthSessionMissingError"}class mE extends Md{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yE extends Md{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class wE extends Md{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function MOe(t){return lt(t)&&t.name==="AuthImplicitGrantRedirectError"}class l4 extends Md{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class KP extends Md{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function fI(t){return lt(t)&&t.name==="AuthRetryableFetchError"}class u4 extends Md{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Aw extends Md{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const P_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),d4=` 	
\r=`.split(""),jOe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<d4.length;e+=1)t[d4[e].charCodeAt(0)]=-2;for(let e=0;e<P_.length;e+=1)t[P_[e].charCodeAt(0)]=e;return t})();function h4(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(P_[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(P_[r]),e.queuedBits-=6}}function BG(t,e,n){const r=jOe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function f4(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{HOe(o,r,n)};for(let o=0;o<t.length;o+=1)BG(t.charCodeAt(o),s,i);return e.join("")}function FOe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function zOe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}FOe(r,e)}}function HOe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function WOe(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)BG(t.charCodeAt(s),n,r);return new Uint8Array(e)}function GOe(t){const e=[];return zOe(t,n=>e.push(n)),new Uint8Array(e)}function qOe(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>h4(s,n,r)),h4(null,n,r),e.join("")}function VOe(t){return Math.round(Date.now()/1e3)+t}function KOe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Lo=()=>typeof window<"u"&&typeof document<"u",Yd={tested:!1,writable:!1},Sw=()=>{if(!Lo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yd.tested)return Yd.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yd.tested=!0,Yd.writable=!0}catch{Yd.tested=!0,Yd.writable=!1}return Yd.writable};function QOe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const LG=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Wn(async()=>{const{default:r}=await Promise.resolve().then(()=>Uy);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},YOe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",MG=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},bE=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},vE=async(t,e)=>{await t.removeItem(e)};class CA{constructor(){this.promise=new CA.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}CA.promiseConstructor=Promise;function pI(t){const e=t.split(".");if(e.length!==3)throw new Aw("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!DOe.test(e[r]))throw new Aw("JWT not in base64url format");return{header:JSON.parse(f4(e[0])),payload:JSON.parse(f4(e[1])),signature:WOe(e[2]),raw:{header:e[0],payload:e[1]}}}async function JOe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ZOe(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function XOe(t){return("0"+t.toString(16)).substr(-2)}function eRe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,XOe).join("")}async function tRe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function nRe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await tRe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lp(t,e,n=!1){const r=eRe();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await MG(t,`${e}-code-verifier`,s);const i=await nRe(r);return[i,r===i?"plain":"s256"]}const rRe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sRe(t){const e=t.headers.get(VP);if(!e||!e.match(rRe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function iRe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function oRe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aRe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mp(t){if(!aRe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var cRe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const rh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lRe=[502,503,504];async function p4(t){var e;if(!YOe(t))throw new KP(rh(t),0);if(lRe.includes(t.status))throw new KP(rh(t),t.status);let n;try{n=await t.json()}catch(i){throw new UG(rh(i),i)}let r;const s=sRe(t);if(s&&s.getTime()>=$G["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new u4(rh(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new eu}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new u4(rh(n),t.status,n.weak_password.reasons);throw new UOe(rh(n),t.status||500,r)}const uRe=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function vt(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[VP]||(i[VP]=$G["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await dRe(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function dRe(t,e,n,r,s,i){const o=uRe(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new KP(rh(c),0)}if(a.ok||await p4(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await p4(c)}}function Ic(t){var e;let n=null;gRe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=VOe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function g4(t){const e=Ic(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hRe(t){return{data:t,error:null}}function fRe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=cRe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function pRe(t){return t}function gRe(t){return t.access_token&&t.refresh_token&&t.expires_in}const gI=["global","local","others"];var mRe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class yRe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=LG(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=gI[0]){if(gI.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gI.join(", ")}`);try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yu})}catch(r){if(lt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=mRe(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:fRe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(lt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yu})}catch(n){if(lt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:pRe});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);l[`${y}Page`]=g}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(lt(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Mp(e);try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yu})}catch(n){if(lt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Mp(e);try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:yu})}catch(r){if(lt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Mp(e);try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:yu})}catch(r){if(lt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Mp(e.userId);try{const{data:n,error:r}=await vt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(lt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Mp(e.userId),Mp(e.id);try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}}}const wRe={getItem:t=>Sw()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Sw()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Sw()&&globalThis.localStorage.removeItem(t)}};function m4(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function bRe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const jp={debug:!!(globalThis&&Sw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jG extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class vRe extends jG{}async function ERe(t,e,n){jp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),jp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){jp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{jp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw jp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new vRe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(jp.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}bRe();const xRe={url:kOe,storageKey:OOe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ROe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function y4(t,e,n){return await n()}class Kb{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kb.nextInstanceID,Kb.nextInstanceID+=1,this.instanceID>0&&Lo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},xRe),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new yRe({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=LG(s.fetch),this.lock=s.lock||y4,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Lo()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ERe:this.lock=y4,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Sw()?this.storage=wRe:(this.memoryStorage={},this.storage=m4(this.memoryStorage)):(this.memoryStorage={},this.storage=m4(this.memoryStorage)),Lo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${DG}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=QOe(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Lo()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),MOe(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return lt(n)?{error:n}:{error:new UG("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ic}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(lt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Lp(this.storage,this.storageKey)),i=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:Ic})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ic})}else throw new yE("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(lt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:g4})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:g4})}else throw new yE("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new mE}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(lt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,c,l,u,d,h,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:y,wallet:w,statement:v,options:b}=e;let _;if(Lo())if(typeof w=="object")_=w;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const x=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),v?{statement:v}:null));let S;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")S=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)S=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)p=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),g=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${x.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(p),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:y,error:w}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:qOe(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ic});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new mE}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(lt(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const n=await bE(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ic});if(await vE(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new mE}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(lt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ic}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new mE}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(n){if(lt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Lp(this.storage,this.storageKey));const{error:d}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new yE("You must provide either an email or phone number.")}catch(a){if(lt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ic});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(lt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Lp(this.storage,this.storageKey)),await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:hRe})}catch(i){if(lt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new eu;const{error:s}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(lt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await vt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await vt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new yE("You must provide either an email or phone number and a type")}catch(n){if(lt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await bE(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<hI:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yu}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new eu}:await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:yu})})}catch(n){if(lt(n))return LOe(n)&&(await this._removeSession(),await vE(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new eu;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await Lp(this.storage,this.storageKey));const{data:l,error:u}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:yu});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(lt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new eu;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=pI(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(lt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new eu;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(lt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Lo())throw new wE("No browser detected.");if(e.error||e.error_description||e.error_code)throw new wE(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new l4("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wE("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new l4("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new wE("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;c&&(h=parseInt(c));const f=h-u;f*1e3<=Qp&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(r){if(lt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await bE(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(BOe(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await vE(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=KOe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Lp(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(lt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,l,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Lo()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(lt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(lt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ZOe(async s=>(s>0&&await JOe(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ic})),(s,i)=>{const o=200*Math.pow(2,s);return i&&fI(i)&&Date.now()+o-r<Qp})}catch(r){if(this._debug(n,"error",r),lt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Lo()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await bE(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<hI;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${hI}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),fI(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new eu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new CA;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new eu;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),lt(i)){const o={session:null,error:i};return fI(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await MG(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await vE(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Lo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qp);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Qp);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Qp}ms, refresh threshold is ${qP} ticks`),s<=qP&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jG)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Lp(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await vt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(lt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(lt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(lt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(lt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=pI(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+$Oe>Date.now()))return r;const{data:s,error:i}=await vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Aw("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new Aw("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};r=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=pI(r);if(iRe(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const l=oRe(s.alg),u=await this.fetchJwk(s.kid,n),d=await crypto.subtle.importKey("jwk",u,l,!0,["verify"]);if(!await crypto.subtle.verify(l,d,o,GOe(`${a}.${c}`)))throw new Aw("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}}}Kb.nextInstanceID=0;const _Re=Kb;class CRe extends _Re{constructor(e){super(e)}}var ARe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class SRe{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=NOe(e),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:EOe,realtime:_Oe,auth:Object.assign(Object.assign({},xOe),{storageKey:l}),global:vOe},d=POe(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=IOe(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Hke(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new bke(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new yOe(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return ARe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},l,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CRe({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new sOe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const IRe=(t,e,n)=>new SRe(t,e,n),TRe=void 0,NRe=void 0,dn=IRe(TRe,NRe,{realtime:{params:{eventsPerSecond:10}},auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),PRe="6.14.4";function kRe(t,e,n){const r=e.split("|").map(i=>i.trim());for(let i=0;i<r.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=t,s}async function xs(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,s,i)=>(r[e[i]]=s,r),{})}function Ze(t,e,n){for(let r in e){let s=e[r];const i=n?n[r]:null;i&&kRe(s,i,r),Object.defineProperty(t,r,{enumerable:!0,value:s,writable:!1})}}function pg(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>pg(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let s=0;s<t.length;s++)r+=n[t[s]>>4],r+=n[t[s]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return pg(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${pg(r,e)}: ${pg(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Mr(t,e){return t&&t.code===e}function g3(t){return Mr(t,"CALL_EXCEPTION")}function Sn(t,e,n){let r=t;{const i=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${pg(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];i.push(o+"="+pg(a))}}i.push(`code=${e}`),i.push(`version=${PRe}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return Ze(s,{code:e}),n&&Object.assign(s,n),s.shortMessage==null&&Ze(s,{shortMessage:r}),s}function he(t,e,n,r){if(!t)throw Sn(e,n,r)}function G(t,e,n,r){he(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function FG(t,e,n){n==null&&(n=""),n&&(n=": "+n),he(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),he(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function e1(t,e,n){if(n==null&&(n=""),t!==e){let r=n,s="new";n&&(r+=".",s+=" "+n),he(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function zG(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<r.length;i++)r[i]=parseInt(t.substring(s,s+2),16),s+=2;return r}G(!1,"invalid BytesLike value",e||"value",t)}function mt(t,e){return zG(t,e,!1)}function Ss(t,e){return zG(t,e,!0)}function wn(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function m3(t){return wn(t,!0)||t instanceof Uint8Array}const w4="0123456789abcdef";function Ae(t){const e=mt(t);let n="0x";for(let r=0;r<e.length;r++){const s=e[r];n+=w4[(s&240)>>4]+w4[s&15]}return n}function Fn(t){return"0x"+t.map(e=>Ae(e).substring(2)).join("")}function Dg(t){return wn(t,!0)?(t.length-2)/2:mt(t).length}function Ln(t,e,n){const r=mt(t);return n!=null&&n>r.length&&he(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Ae(r.slice(e??0,n??r.length))}function HG(t,e,n){const r=mt(t);he(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),n?s.set(r,e-r.length):s.set(r,0),Ae(s)}function As(t,e){return HG(t,e,!0)}function ORe(t,e){return HG(t,e,!1)}const AA=BigInt(0),oa=BigInt(1),gg=9007199254740991;function k_(t,e){const n=SA(t,"value"),r=BigInt(ft(e,"width"));if(he(n>>r===AA,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-oa){const s=(oa<<r)-oa;return-((~n&s)+oa)}return n}function WG(t,e){let n=He(t,"value");const r=BigInt(ft(e,"width")),s=oa<<r-oa;if(n<AA){n=-n,he(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(oa<<r)-oa;return(~n&i)+oa}else he(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Th(t,e){const n=SA(t,"value"),r=BigInt(ft(e,"bits"));return n&(oa<<r)-oa}function He(t,e){switch(typeof t){case"bigint":return t;case"number":return G(Number.isInteger(t),"underflow",e||"value",t),G(t>=-gg&&t<=gg,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){G(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}G(!1,"invalid BigNumberish value",e||"value",t)}function SA(t,e){const n=He(t,e);return he(n>=AA,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const b4="0123456789abcdef";function IA(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=b4[n>>4],e+=b4[n&15];return BigInt(e)}return He(t)}function ft(t,e){switch(typeof t){case"bigint":return G(t>=-gg&&t<=gg,"overflow",e||"value",t),Number(t);case"number":return G(Number.isInteger(t),"underflow",e||"value",t),G(t>=-gg&&t<=gg,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return ft(BigInt(t),e)}catch(n){G(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}G(!1,"invalid numeric value",e||"value",t)}function RRe(t){return ft(IA(t))}function Nd(t,e){let r=SA(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const s=ft(e,"width");for(he(s*2>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<s*2;)r="0"+r}return"0x"+r}function dr(t){const e=SA(t,"value");if(e===AA)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let s=0;s<r.length;s++){const i=s*2;r[s]=parseInt(n.substring(i,i+2),16)}return r}function ra(t){let e=Ae(m3(t)?t:dr(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const v4="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const E4=BigInt(58);function DRe(t){const e=mt(t);let n=IA(e),r="";for(;n;)r=v4[Number(n%E4)]+r,n/=E4;for(let s=0;s<e.length&&!e[s];s++)r=v4[0]+r;return r}function $Re(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return mt(e)}function URe(t){const e=mt(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var Yg;class GG{constructor(e,n,r){Y(this,"filter");Y(this,"emitter");W(this,Yg);R(this,Yg,n),Ze(this,{emitter:e,filter:r})}async removeListener(){E(this,Yg)!=null&&await this.emitter.off(this.filter,E(this,Yg))}}Yg=new WeakMap;function BRe(t,e,n,r,s){G(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function qG(t,e,n,r,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)i++;return i}return t==="OVERRUN"?n.length-e-1:0}function LRe(t,e,n,r,s){return t==="OVERLONG"?(G(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),qG(t,e,n))}const MRe=Object.freeze({error:BRe,ignore:qG,replace:LRe});function jRe(t,e){e==null&&(e=MRe.error);const n=mt(t,"bytes"),r=[];let s=0;for(;s<n.length;){const i=n[s++];if(!(i>>7)){r.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,n,r):s+=e("BAD_PREFIX",s-1,n,r);continue}if(s-1+o>=n.length){s+=e("OVERRUN",s-1,n,r);continue}let c=i&(1<<8-o-1)-1;for(let l=0;l<o;l++){let u=n[s];if((u&192)!=128){s+=e("MISSING_CONTINUE",s,n,r),c=null;break}c=c<<6|u&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-o,n,r,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-o,n,r,c);continue}if(c<=a){s+=e("OVERLONG",s-1-o,n,r,c);continue}r.push(c)}}return r}function cl(t,e){G(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){r++;const i=t.charCodeAt(r);G(r<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((s&1023)<<10)+(i&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return new Uint8Array(n)}function FRe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function O_(t,e){return FRe(jRe(t,e))}function VG(t){async function e(n,r){he(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const s=n.url.split(":")[0].toLowerCase();he(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),he(s==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,a=setTimeout(()=>{i=Sn("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{i=Sn("request cancelled","CANCELLED"),o.abort()});const c=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal});let l;try{l=await fetch(n.url,c)}catch(f){throw clearTimeout(a),i||f}clearTimeout(a);const u={};l.headers.forEach((f,p)=>{u[p.toLowerCase()]=f});const d=await l.arrayBuffer(),h=d==null?null:new Uint8Array(d);return{statusCode:l.status,statusMessage:l.statusText,headers:u,body:h}}return e}const zRe=12,HRe=250;let x4=VG();const WRe=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),GRe=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let mI=!1;async function KG(t,e){try{const n=t.match(WRe);if(!n)throw new Error("invalid data");return new yd(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?$Re(n[3]):VRe(n[3]))}catch{return new yd(599,"BAD REQUEST (invalid data: URI)",{},null,new Pd(t))}}function QG(t){async function e(n,r){try{const s=n.match(GRe);if(!s)throw new Error("invalid link");return new Pd(`${t}${s[2]}`)}catch{return new yd(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Pd(n))}}return e}const EE={data:KG,ipfs:QG("https://gateway.ipfs.io/ipfs/")},YG=new WeakMap;var Fh,Tu;class qRe{constructor(e){W(this,Fh);W(this,Tu);R(this,Fh,[]),R(this,Tu,!1),YG.set(e,()=>{if(!E(this,Tu)){R(this,Tu,!0);for(const n of E(this,Fh))setTimeout(()=>{n()},0);R(this,Fh,[])}})}addListener(e){he(!E(this,Tu),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),E(this,Fh).push(e)}get cancelled(){return E(this,Tu)}checkSignal(){he(!this.cancelled,"cancelled","CANCELLED",{})}}Fh=new WeakMap,Tu=new WeakMap;function xE(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Jg,Zg,qo,Mc,Xg,em,mr,Ti,jc,zh,Hh,Wh,La,Vo,Nu,Gh,W0;const q_=class q_{constructor(e){W(this,Gh);W(this,Jg);W(this,Zg);W(this,qo);W(this,Mc);W(this,Xg);W(this,em);W(this,mr);W(this,Ti);W(this,jc);W(this,zh);W(this,Hh);W(this,Wh);W(this,La);W(this,Vo);W(this,Nu);R(this,em,String(e)),R(this,Jg,!1),R(this,Zg,!0),R(this,qo,{}),R(this,Mc,""),R(this,Xg,3e5),R(this,Vo,{slotInterval:HRe,maxAttempts:zRe}),R(this,Nu,null)}get url(){return E(this,em)}set url(e){R(this,em,String(e))}get body(){return E(this,mr)==null?null:new Uint8Array(E(this,mr))}set body(e){if(e==null)R(this,mr,void 0),R(this,Ti,void 0);else if(typeof e=="string")R(this,mr,cl(e)),R(this,Ti,"text/plain");else if(e instanceof Uint8Array)R(this,mr,e),R(this,Ti,"application/octet-stream");else if(typeof e=="object")R(this,mr,cl(JSON.stringify(e))),R(this,Ti,"application/json");else throw new Error("invalid body")}hasBody(){return E(this,mr)!=null}get method(){return E(this,Mc)?E(this,Mc):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),R(this,Mc,String(e).toUpperCase())}get headers(){const e=Object.assign({},E(this,qo));return E(this,jc)&&(e.authorization=`Basic ${URe(cl(E(this,jc)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&E(this,Ti)&&(e["content-type"]=E(this,Ti)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){E(this,qo)[String(e).toLowerCase()]=String(n)}clearHeaders(){R(this,qo,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return E(this,jc)||null}setCredentials(e,n){G(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),R(this,jc,`${e}:${n}`)}get allowGzip(){return E(this,Zg)}set allowGzip(e){R(this,Zg,!!e)}get allowInsecureAuthentication(){return!!E(this,Jg)}set allowInsecureAuthentication(e){R(this,Jg,!!e)}get timeout(){return E(this,Xg)}set timeout(e){G(e>=0,"timeout must be non-zero","timeout",e),R(this,Xg,e)}get preflightFunc(){return E(this,zh)||null}set preflightFunc(e){R(this,zh,e)}get processFunc(){return E(this,Hh)||null}set processFunc(e){R(this,Hh,e)}get retryFunc(){return E(this,Wh)||null}set retryFunc(e){R(this,Wh,e)}get getUrlFunc(){return E(this,Nu)||x4}set getUrlFunc(e){R(this,Nu,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${E(this,mr)?Ae(E(this,mr)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(E(this,Vo).slotInterval=e.slotInterval),e.maxAttempts!=null&&(E(this,Vo).maxAttempts=e.maxAttempts)}send(){return he(E(this,La)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),R(this,La,new qRe(this)),ne(this,Gh,W0).call(this,0,_4()+this.timeout,0,this,new yd(0,"",{},null,this))}cancel(){he(E(this,La)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=YG.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();he(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new q_(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,R(s,qo,Object.assign({},E(this,qo))),E(this,mr)&&R(s,mr,new Uint8Array(E(this,mr))),R(s,Ti,E(this,Ti)),s}clone(){const e=new q_(this.url);return R(e,Mc,E(this,Mc)),E(this,mr)&&R(e,mr,E(this,mr)),R(e,Ti,E(this,Ti)),R(e,qo,Object.assign({},E(this,qo))),R(e,jc,E(this,jc)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),R(e,zh,E(this,zh)),R(e,Hh,E(this,Hh)),R(e,Wh,E(this,Wh)),R(e,Vo,Object.assign({},E(this,Vo))),R(e,Nu,E(this,Nu)),e}static lockConfig(){mI=!0}static getGateway(e){return EE[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(mI)throw new Error("gateways locked");EE[e]=n}static registerGetUrl(e){if(mI)throw new Error("gateways locked");x4=e}static createGetUrlFunc(e){return VG(e)}static createDataGateway(){return KG}static createIpfsGatewayFunc(e){return QG(e)}};Jg=new WeakMap,Zg=new WeakMap,qo=new WeakMap,Mc=new WeakMap,Xg=new WeakMap,em=new WeakMap,mr=new WeakMap,Ti=new WeakMap,jc=new WeakMap,zh=new WeakMap,Hh=new WeakMap,Wh=new WeakMap,La=new WeakMap,Vo=new WeakMap,Nu=new WeakMap,Gh=new WeakSet,W0=async function(e,n,r,s,i){var u,d,h;if(e>=E(this,Vo).maxAttempts)return i.makeServerError("exceeded maximum retry limit");he(_4()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await KRe(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in EE){const f=await EE[a](o.url,xE(E(s,La)));if(f instanceof yd){let p=f;if(this.processFunc){xE(E(s,La));try{p=await this.processFunc(o,p)}catch(g){(g.throttle==null||typeof g.stall!="number")&&p.makeServerError("error in post-processing function",g).assertOk()}}return p}o=f}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,xE(E(s,La)));let l=new yd(c.statusCode,c.statusMessage,c.headers,c.body,s);if(l.statusCode===301||l.statusCode===302){try{const f=l.headers.location||"";return ne(u=o.redirect(f),Gh,W0).call(u,e+1,n,0,s,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,l,e))){const f=l.headers["retry-after"];let p=E(this,Vo).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof f=="string"&&f.match(/^[1-9][0-9]*$/)&&(p=parseInt(f)),ne(d=o.clone(),Gh,W0).call(d,e+1,n,p,s,l)}if(this.processFunc){xE(E(s,La));try{l=await this.processFunc(o,l)}catch(f){(f.throttle==null||typeof f.stall!="number")&&l.makeServerError("error in post-processing function",f).assertOk();let p=E(this,Vo).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return f.stall>=0&&(p=f.stall),ne(h=o.clone(),Gh,W0).call(h,e+1,n,p,s,l)}}return l};let Pd=q_;var uv,dv,hv,Ni,tm,qh;const D3=class D3{constructor(e,n,r,s,i){W(this,uv);W(this,dv);W(this,hv);W(this,Ni);W(this,tm);W(this,qh);R(this,uv,e),R(this,dv,n),R(this,hv,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),R(this,Ni,s==null?null:new Uint8Array(s)),R(this,tm,i||null),R(this,qh,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${E(this,Ni)?Ae(E(this,Ni)):"null"}>`}get statusCode(){return E(this,uv)}get statusMessage(){return E(this,dv)}get headers(){return Object.assign({},E(this,hv))}get body(){return E(this,Ni)==null?null:new Uint8Array(E(this,Ni))}get bodyText(){try{return E(this,Ni)==null?"":O_(E(this,Ni))}catch{he(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{he(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new D3(599,r,this.headers,this.body,E(this,tm)||void 0);return R(s,qh,{message:e,error:n}),s}throwThrottleError(e,n){n==null?n=-1:G(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw Ze(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return E(this,Ni)!=null}get request(){return E(this,tm)}ok(){return E(this,qh).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=E(this,qh);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{E(this,Ni)&&(s=O_(E(this,Ni)))}catch{}he(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};uv=new WeakMap,dv=new WeakMap,hv=new WeakMap,Ni=new WeakMap,tm=new WeakMap,qh=new WeakMap;let yd=D3;function _4(){return new Date().getTime()}function VRe(t){return cl(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function KRe(t){return new Promise(e=>setTimeout(e,t))}const QRe=BigInt(-1),jo=BigInt(0),mg=BigInt(1),YRe=BigInt(5),Fp={};let $g="0000";for(;$g.length<80;)$g+=$g;function Jd(t){let e=$g;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function C0(t,e,n){const r=BigInt(e.width);if(e.signed){const s=mg<<r-mg;he(n==null||t>=-s&&t<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>jo?t=k_(Th(t,r),r):t=-k_(Th(-t,r),r)}else{const s=mg<<r;he(n==null||t>=0&&t<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%s+s)%s&s-mg}return t}function yI(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);G(i,"invalid fixed format","format",t),e=i[1]!=="u",n=parseInt(i[2]),r=parseInt(i[3])}}else if(t){const i=t,o=(a,c,l)=>i[a]==null?l:(G(typeof i[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),n=o("width","number",n),r=o("decimals","number",r)}G(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),G(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const s=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:s}}function JRe(t,e){let n="";t<jo&&(n="-",t*=QRe);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=$g+r;const s=r.length-e;for(r=r.substring(0,s)+"."+r.substring(s);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var Ko,sn,bs,Gt,sh,Tc,QP,YP,JP,ZP;const du=class du{constructor(e,n,r){W(this,Gt);Y(this,"format");W(this,Ko);W(this,sn);W(this,bs);Y(this,"_value");e1(e,Fp,"FixedNumber"),R(this,sn,n),R(this,Ko,r);const s=JRe(n,r.decimals);Ze(this,{format:r.name,_value:s}),R(this,bs,Jd(r.decimals))}get signed(){return E(this,Ko).signed}get width(){return E(this,Ko).width}get decimals(){return E(this,Ko).decimals}get value(){return E(this,sn)}addUnsafe(e){return ne(this,Gt,QP).call(this,e)}add(e){return ne(this,Gt,QP).call(this,e,"add")}subUnsafe(e){return ne(this,Gt,YP).call(this,e)}sub(e){return ne(this,Gt,YP).call(this,e,"sub")}mulUnsafe(e){return ne(this,Gt,JP).call(this,e)}mul(e){return ne(this,Gt,JP).call(this,e,"mul")}mulSignal(e){ne(this,Gt,sh).call(this,e);const n=E(this,sn)*E(e,sn);return he(n%E(this,bs)===jo,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),ne(this,Gt,Tc).call(this,n/E(this,bs),"mulSignal")}divUnsafe(e){return ne(this,Gt,ZP).call(this,e)}div(e){return ne(this,Gt,ZP).call(this,e,"div")}divSignal(e){he(E(e,sn)!==jo,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),ne(this,Gt,sh).call(this,e);const n=E(this,sn)*E(this,bs);return he(n%E(e,sn)===jo,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),ne(this,Gt,Tc).call(this,n/E(e,sn),"divSignal")}cmp(e){let n=this.value,r=e.value;const s=this.decimals-e.decimals;return s>0?r*=Jd(s):s<0&&(n*=Jd(-s)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=E(this,sn);return E(this,sn)<jo&&(e-=E(this,bs)-mg),e=E(this,sn)/E(this,bs)*E(this,bs),ne(this,Gt,Tc).call(this,e,"floor")}ceiling(){let e=E(this,sn);return E(this,sn)>jo&&(e+=E(this,bs)-mg),e=E(this,sn)/E(this,bs)*E(this,bs),ne(this,Gt,Tc).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=YRe*Jd(n-1);let s=this.value+r;const i=Jd(n);return s=s/i*i,C0(s,E(this,Ko),"round"),new du(Fp,s,E(this,Ko))}isZero(){return E(this,sn)===jo}isNegative(){return E(this,sn)<jo}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return du.fromString(this.toString(),e)}static fromValue(e,n,r){const s=n==null?0:ft(n),i=yI(r);let o=He(e,"value");const a=s-i.decimals;if(a>0){const c=Jd(a);he(o%c===jo,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=Jd(-a));return C0(o,i,"fromValue"),new du(Fp,o,i)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);G(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const s=yI(n);let i=r[2]||"0",o=r[3]||"";for(;o.length<s.decimals;)o+=$g;he(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);const a=BigInt(r[1]+i+o);return C0(a,s,"fromString"),new du(Fp,a,s)}static fromBytes(e,n){let r=IA(mt(e,"value"));const s=yI(n);return s.signed&&(r=k_(r,s.width)),C0(r,s,"fromBytes"),new du(Fp,r,s)}};Ko=new WeakMap,sn=new WeakMap,bs=new WeakMap,Gt=new WeakSet,sh=function(e){G(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Tc=function(e,n){return e=C0(e,E(this,Ko),n),new du(Fp,e,E(this,Ko))},QP=function(e,n){return ne(this,Gt,sh).call(this,e),ne(this,Gt,Tc).call(this,E(this,sn)+E(e,sn),n)},YP=function(e,n){return ne(this,Gt,sh).call(this,e),ne(this,Gt,Tc).call(this,E(this,sn)-E(e,sn),n)},JP=function(e,n){return ne(this,Gt,sh).call(this,e),ne(this,Gt,Tc).call(this,E(this,sn)*E(e,sn)/E(this,bs),n)},ZP=function(e,n){return he(E(e,sn)!==jo,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),ne(this,Gt,sh).call(this,e),ne(this,Gt,Tc).call(this,E(this,sn)*E(this,bs)/E(e,sn),n)};let R_=du;function ZRe(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function C4(t,e,n){let r=0;for(let s=0;s<n;s++)r=r*256+t[e+s];return r}function A4(t,e,n,r){const s=[];for(;n<e+1+r;){const i=JG(t,n);s.push(i.result),n+=i.consumed,he(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:s}}function JG(t,e){he(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{he(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const s=C4(t,e+1,r);return n(e+1+r+s),A4(t,e,e+1+r,r+s)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),A4(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const s=C4(t,e+1,r);n(e+1+r+s);const i=Ae(t.slice(e+1+r,e+1+r+s));return{consumed:1+r+s,result:i}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const s=Ae(t.slice(e+1,e+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:ZRe(t[e])}}function t1(t){const e=mt(t,"data"),n=JG(e,0);return G(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function S4(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function ZG(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(i){r=r.concat(ZG(i))}),r.length<=55)return r.unshift(192+r.length),r;const s=S4(r.length);return s.unshift(247+s.length),s.concat(r)}const e=Array.prototype.slice.call(mt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=S4(e.length);return n.unshift(183+n.length),n.concat(e)}const I4="0123456789abcdef";function kd(t){let e="0x";for(const n of ZG(t))e+=I4[n>>4],e+=I4[n&15];return e}function XRe(t,e){let n=18;return n=ft(e,"unit"),R_.fromValue(t,n,{decimals:n,width:512}).toString()}function e3e(t,e){G(typeof t=="string","value must be a string","value",t);let n=18;return n=ft(e,"unit"),R_.fromString(t,{decimals:n,width:512}).value}function wI(t){return XRe(t,18)}function T4(t){return e3e(t,18)}const Is=32,XP=new Uint8Array(Is),t3e=["then"],_E={},XG=new WeakMap;function dh(t){return XG.get(t)}function N4(t,e){XG.set(t,e)}function A0(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function ek(t,e,n){return t.indexOf(null)>=0?e.map((r,s)=>r instanceof iy?ek(dh(r),r,n):r):t.reduce((r,s,i)=>{let o=e.getValue(s);return s in r||(n&&o instanceof iy&&(o=ek(dh(o),o,n)),r[s]=o),r},{})}var nm;const yg=class yg extends Array{constructor(...n){const r=n[0];let s=n[1],i=(n[2]||[]).slice(),o=!0;r!==_E&&(s=n,i=[],o=!1);super(s.length);W(this,nm);s.forEach((l,u)=>{this[u]=l});const a=i.reduce((l,u)=>(typeof u=="string"&&l.set(u,(l.get(u)||0)+1),l),new Map);if(N4(this,Object.freeze(s.map((l,u)=>{const d=i[u];return d!=null&&a.get(d)===1?d:null}))),R(this,nm,[]),E(this,nm)==null&&E(this,nm),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(l,u,d)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const f=ft(u,"%index");if(f<0||f>=this.length)throw new RangeError("out of result range");const p=l[f];return p instanceof Error&&A0(`index ${f}`,p),p}if(t3e.indexOf(u)>=0)return Reflect.get(l,u,d);const h=l[u];if(h instanceof Function)return function(...f){return h.apply(this===d?l:this,f)};if(!(u in l))return l.getValue.apply(this===d?l:this,[u])}return Reflect.get(l,u,d)}});return N4(c,dh(this)),c}toArray(n){const r=[];return this.forEach((s,i)=>{s instanceof Error&&A0(`index ${i}`,s),n&&s instanceof yg&&(s=s.toArray(n)),r.push(s)}),r}toObject(n){const r=dh(this);return r.reduce((s,i,o)=>(he(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),ek(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const s=dh(this),i=[],o=[];for(let a=n;a<r;a++)i.push(this[a]),o.push(s[a]);return new yg(_E,i,o)}filter(n,r){const s=dh(this),i=[],o=[];for(let a=0;a<this.length;a++){const c=this[a];c instanceof Error&&A0(`index ${a}`,c),n.call(r,c,a,this)&&(i.push(c),o.push(s[a]))}return new yg(_E,i,o)}map(n,r){const s=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&A0(`index ${i}`,o),s.push(n.call(r,o,i,this))}return s}getValue(n){const r=dh(this).indexOf(n);if(r===-1)return;const s=this[r];return s instanceof Error&&A0(`property ${JSON.stringify(n)}`,s.error),s}static fromItems(n,r){return new yg(_E,n,r)}};nm=new WeakMap;let iy=yg;function P4(t){let e=dr(t);return he(e.length<=Is,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Is,offset:e.length}),e.length!==Is&&(e=Ss(Fn([XP.slice(e.length%Is),e]))),e}class Al{constructor(e,n,r,s){Y(this,"name");Y(this,"type");Y(this,"localName");Y(this,"dynamic");Ze(this,{name:e,type:n,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){G(!1,e,this.localName,n)}}var Fc,Vh,rm,lx;class tk{constructor(){W(this,rm);W(this,Fc);W(this,Vh);R(this,Fc,[]),R(this,Vh,0)}get data(){return Fn(E(this,Fc))}get length(){return E(this,Vh)}appendWriter(e){return ne(this,rm,lx).call(this,Ss(e.data))}writeBytes(e){let n=Ss(e);const r=n.length%Is;return r&&(n=Ss(Fn([n,XP.slice(r)]))),ne(this,rm,lx).call(this,n)}writeValue(e){return ne(this,rm,lx).call(this,P4(e))}writeUpdatableValue(){const e=E(this,Fc).length;return E(this,Fc).push(XP),R(this,Vh,E(this,Vh)+Is),n=>{E(this,Fc)[e]=P4(n)}}}Fc=new WeakMap,Vh=new WeakMap,rm=new WeakSet,lx=function(e){return E(this,Fc).push(e),R(this,Vh,E(this,Vh)+e.length),e.length};var Zs,Pi,Kh,Qh,Pu,Gf,rk,eq;const $3=class $3{constructor(e,n,r){W(this,Gf);Y(this,"allowLoose");W(this,Zs);W(this,Pi);W(this,Kh);W(this,Qh);W(this,Pu);Ze(this,{allowLoose:!!n}),R(this,Zs,Ss(e)),R(this,Kh,0),R(this,Qh,null),R(this,Pu,r??1024),R(this,Pi,0)}get data(){return Ae(E(this,Zs))}get dataLength(){return E(this,Zs).length}get consumed(){return E(this,Pi)}get bytes(){return new Uint8Array(E(this,Zs))}subReader(e){const n=new $3(E(this,Zs).slice(E(this,Pi)+e),this.allowLoose,E(this,Pu));return R(n,Qh,this),n}readBytes(e,n){let r=ne(this,Gf,eq).call(this,0,e,!!n);return ne(this,Gf,rk).call(this,e),R(this,Pi,E(this,Pi)+r.length),r.slice(0,e)}readValue(){return IA(this.readBytes(Is))}readIndex(){return RRe(this.readBytes(Is))}};Zs=new WeakMap,Pi=new WeakMap,Kh=new WeakMap,Qh=new WeakMap,Pu=new WeakMap,Gf=new WeakSet,rk=function(e){var n;if(E(this,Qh))return ne(n=E(this,Qh),Gf,rk).call(n,e);R(this,Kh,E(this,Kh)+e),he(E(this,Pu)<1||E(this,Kh)<=E(this,Pu)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${E(this,Pu)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Ss(E(this,Zs)),offset:E(this,Pi),length:e,info:{bytesRead:E(this,Kh),dataLength:this.dataLength}})},eq=function(e,n,r){let s=Math.ceil(n/Is)*Is;return E(this,Pi)+s>E(this,Zs).length&&(this.allowLoose&&r&&E(this,Pi)+n<=E(this,Zs).length?s=n:he(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Ss(E(this,Zs)),length:E(this,Zs).length,offset:E(this,Pi)+s})),E(this,Zs).slice(E(this,Pi),E(this,Pi)+s)};let nk=$3;function D_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function y3(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function n3e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");D_(t.outputLen),D_(t.blockLen)}function oy(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function tq(t,e){y3(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const bI=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nq=t=>t instanceof Uint8Array,r3e=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),vI=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Ta=(t,e)=>t<<32-e|t>>>e,s3e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!s3e)throw new Error("Non little-endian hardware is not supported");function i3e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function TA(t){if(typeof t=="string"&&(t=i3e(t)),!nq(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function o3e(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!nq(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class w3{clone(){return this._cloneInto()}}function b3(t){const e=r=>t().update(TA(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function a3e(t=32){if(bI&&typeof bI.getRandomValues=="function")return bI.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class rq extends w3{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,n3e(e);const r=TA(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return oy(this),this.iHash.update(e),this}digestInto(e){oy(this),y3(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const sq=(t,e,n)=>new rq(t,e).update(n).digest();sq.create=(t,e)=>new rq(t,e);function c3e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}class iq extends w3{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=vI(this.buffer)}update(e){oy(this);const{view:n,buffer:r,blockLen:s}=this;e=TA(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=vI(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){oy(this),tq(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;c3e(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=vI(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}}const l3e=(t,e,n)=>t&e^~t&n,u3e=(t,e,n)=>t&e^t&n^e&n,d3e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Kl=new Uint32Array(64);class h3e extends iq{constructor(){super(64,32,8,!1),this.A=Vl[0]|0,this.B=Vl[1]|0,this.C=Vl[2]|0,this.D=Vl[3]|0,this.E=Vl[4]|0,this.F=Vl[5]|0,this.G=Vl[6]|0,this.H=Vl[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Kl[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Kl[d-15],f=Kl[d-2],p=Ta(h,7)^Ta(h,18)^h>>>3,g=Ta(f,17)^Ta(f,19)^f>>>10;Kl[d]=g+Kl[d-7]+p+Kl[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Ta(a,6)^Ta(a,11)^Ta(a,25),f=u+h+l3e(a,c,l)+d3e[d]+Kl[d]|0,g=(Ta(r,2)^Ta(r,13)^Ta(r,22))+u3e(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Kl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const oq=b3(()=>new h3e),CE=BigInt(2**32-1),sk=BigInt(32);function aq(t,e=!1){return e?{h:Number(t&CE),l:Number(t>>sk&CE)}:{h:Number(t>>sk&CE)|0,l:Number(t&CE)|0}}function cq(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=aq(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const f3e=(t,e)=>BigInt(t>>>0)<<sk|BigInt(e>>>0),p3e=(t,e,n)=>t>>>n,g3e=(t,e,n)=>t<<32-n|e>>>n,m3e=(t,e,n)=>t>>>n|e<<32-n,y3e=(t,e,n)=>t<<32-n|e>>>n,w3e=(t,e,n)=>t<<64-n|e>>>n-32,b3e=(t,e,n)=>t>>>n-32|e<<64-n,v3e=(t,e)=>e,E3e=(t,e)=>t,lq=(t,e,n)=>t<<n|e>>>32-n,uq=(t,e,n)=>e<<n|t>>>32-n,dq=(t,e,n)=>e<<n-32|t>>>64-n,hq=(t,e,n)=>t<<n-32|e>>>64-n;function x3e(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const _3e=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),C3e=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,A3e=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),S3e=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,I3e=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),T3e=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,gt={fromBig:aq,split:cq,toBig:f3e,shrSH:p3e,shrSL:g3e,rotrSH:m3e,rotrSL:y3e,rotrBH:w3e,rotrBL:b3e,rotr32H:v3e,rotr32L:E3e,rotlSH:lq,rotlSL:uq,rotlBH:dq,rotlBL:hq,add:x3e,add3L:_3e,add3H:C3e,add4L:A3e,add4H:S3e,add5H:T3e,add5L:I3e},[N3e,P3e]=gt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ql=new Uint32Array(80),Yl=new Uint32Array(80);class k3e extends iq{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)Ql[b]=e.getUint32(n),Yl[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const _=Ql[b-15]|0,x=Yl[b-15]|0,C=gt.rotrSH(_,x,1)^gt.rotrSH(_,x,8)^gt.shrSH(_,x,7),S=gt.rotrSL(_,x,1)^gt.rotrSL(_,x,8)^gt.shrSL(_,x,7),N=Ql[b-2]|0,A=Yl[b-2]|0,P=gt.rotrSH(N,A,19)^gt.rotrBH(N,A,61)^gt.shrSH(N,A,6),D=gt.rotrSL(N,A,19)^gt.rotrBL(N,A,61)^gt.shrSL(N,A,6),j=gt.add4L(S,D,Yl[b-7],Yl[b-16]),H=gt.add4H(j,C,P,Ql[b-7],Ql[b-16]);Ql[b]=H|0,Yl[b]=j|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const _=gt.rotrSH(d,h,14)^gt.rotrSH(d,h,18)^gt.rotrBH(d,h,41),x=gt.rotrSL(d,h,14)^gt.rotrSL(d,h,18)^gt.rotrBL(d,h,41),C=d&f^~d&g,S=h&p^~h&y,N=gt.add5L(v,x,S,P3e[b],Yl[b]),A=gt.add5H(N,w,_,C,N3e[b],Ql[b]),P=N|0,D=gt.rotrSH(r,s,28)^gt.rotrBH(r,s,34)^gt.rotrBH(r,s,39),j=gt.rotrSL(r,s,28)^gt.rotrBL(r,s,34)^gt.rotrBL(r,s,39),H=r&i^r&a^i&a,K=s&o^s&c^o&c;w=g|0,v=y|0,g=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=gt.add(l|0,u|0,A|0,P|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const I=gt.add3L(P,j,K);r=gt.add3H(I,A,D,H),s=I|0}({h:r,l:s}=gt.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=gt.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=gt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=gt.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=gt.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=gt.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:y}=gt.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=gt.add(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,y,w,v)}roundClean(){Ql.fill(0),Yl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const O3e=b3(()=>new k3e);function R3e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const k4=R3e();k4.crypto||k4.msCrypto;function D3e(t){switch(t){case"sha256":return oq.create();case"sha512":return O3e.create()}G(!1,"invalid hashing algorithm name","algorithm",t)}const[fq,pq,gq]=[[],[],[]],$3e=BigInt(0),S0=BigInt(1),U3e=BigInt(2),B3e=BigInt(7),L3e=BigInt(256),M3e=BigInt(113);for(let t=0,e=S0,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],fq.push(2*(5*r+n)),pq.push((t+1)*(t+2)/2%64);let s=$3e;for(let i=0;i<7;i++)e=(e<<S0^(e>>B3e)*M3e)%L3e,e&U3e&&(s^=S0<<(S0<<BigInt(i))-S0);gq.push(s)}const[j3e,F3e]=cq(gq,!0),O4=(t,e,n)=>n>32?dq(t,e,n):lq(t,e,n),R4=(t,e,n)=>n>32?hq(t,e,n):uq(t,e,n);function z3e(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=O4(l,u,1)^n[a],h=R4(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=pq[o],c=O4(s,i,a),l=R4(s,i,a),u=fq[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=j3e[r],t[1]^=F3e[r]}n.fill(0)}class v3 extends w3{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,D_(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=r3e(this.state)}keccak(){z3e(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){oy(this);const{blockLen:n,state:r}=this;e=TA(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){oy(this,!1),y3(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return D_(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(tq(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new v3(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const H3e=(t,e,n)=>b3(()=>new v3(e,t,n)),W3e=H3e(1,136,256/8);let mq=!1;const yq=function(t){return W3e(t)};let wq=yq;function nr(t){const e=mt(t,"data");return Ae(wq(e))}nr._=yq;nr.lock=function(){mq=!0};nr.register=function(t){if(mq)throw new TypeError("keccak256 is locked");wq=t};Object.freeze(nr);const bq=function(t){return D3e("sha256").update(t).digest()};let vq=bq,Eq=!1;function Ly(t){const e=mt(t,"data");return Ae(vq(e))}Ly._=bq;Ly.lock=function(){Eq=!0};Ly.register=function(t){if(Eq)throw new Error("sha256 is locked");vq=t};Object.freeze(Ly);Object.freeze(Ly);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xq=BigInt(0),NA=BigInt(1),G3e=BigInt(2),PA=t=>t instanceof Uint8Array,q3e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ay(t){if(!PA(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=q3e[t[n]];return e}function _q(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function E3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function cy(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function gf(t){return E3(ay(t))}function x3(t){if(!PA(t))throw new Error("Uint8Array expected");return E3(ay(Uint8Array.from(t).reverse()))}function ly(t,e){return cy(t.toString(16).padStart(e*2,"0"))}function _3(t,e){return ly(t,e).reverse()}function V3e(t){return cy(_q(t))}function Ho(t,e,n){let r;if(typeof e=="string")try{r=cy(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(PA(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function Qb(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!PA(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function K3e(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Q3e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Y3e(t){let e;for(e=0;t>xq;t>>=NA,e+=1);return e}function J3e(t,e){return t>>BigInt(e)&NA}const Z3e=(t,e,n)=>t|(n?NA:xq)<<BigInt(e),C3=t=>(G3e<<BigInt(t-1))-NA,EI=t=>new Uint8Array(t),D4=t=>Uint8Array.from(t);function Cq(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=EI(t),s=EI(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>n(s,r,...d),c=(d=EI())=>{s=a(D4([0]),d),r=a(),d.length!==0&&(s=a(D4([1]),d),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const f=r.slice();h.push(f),d+=r.length}return Qb(...h)};return(d,h)=>{o(),c(d);let f;for(;!(f=h(l()));)c();return o(),f}}const X3e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function n1(t,e,n={}){const r=(s,i,o)=>{const a=X3e[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const eDe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:J3e,bitLen:Y3e,bitMask:C3,bitSet:Z3e,bytesToHex:ay,bytesToNumberBE:gf,bytesToNumberLE:x3,concatBytes:Qb,createHmacDrbg:Cq,ensureBytes:Ho,equalBytes:K3e,hexToBytes:cy,hexToNumber:E3,numberToBytesBE:ly,numberToBytesLE:_3,numberToHexUnpadded:_q,numberToVarBytesBE:V3e,utf8ToBytes:Q3e,validateObject:n1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _r=BigInt(0),Kn=BigInt(1),hh=BigInt(2),tDe=BigInt(3),ik=BigInt(4),$4=BigInt(5),U4=BigInt(8);BigInt(9);BigInt(16);function si(t,e){const n=t%e;return n>=_r?n:e+n}function nDe(t,e,n){if(n<=_r||e<_r)throw new Error("Expected power/modulo > 0");if(n===Kn)return _r;let r=Kn;for(;e>_r;)e&Kn&&(r=r*t%n),t=t*t%n,e>>=Kn;return r}function Xi(t,e,n){let r=t;for(;e-- >_r;)r*=r,r%=n;return r}function ok(t,e){if(t===_r||e<=_r)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=si(t,e),r=e,s=_r,i=Kn;for(;n!==_r;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==Kn)throw new Error("invert: does not exist");return si(s,e)}function rDe(t){const e=(t-Kn)/hh;let n,r,s;for(n=t-Kn,r=0;n%hh===_r;n/=hh,r++);for(s=hh;s<t&&nDe(s,e,t)!==t-Kn;s++);if(r===1){const o=(t+Kn)/ik;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const i=(n+Kn)/hh;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,s),n),d=a.pow(c,i),h=a.pow(c,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let f=1;for(let g=a.sqr(h);f<l&&!a.eql(g,a.ONE);f++)g=a.sqr(g);const p=a.pow(u,Kn<<BigInt(l-f-1));u=a.sqr(p),d=a.mul(d,p),h=a.mul(h,u),l=f}return d}}function sDe(t){if(t%ik===tDe){const e=(t+Kn)/ik;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%U4===$4){const e=(t-$4)/U4;return function(r,s){const i=r.mul(s,hh),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,hh),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),s))throw new Error("Cannot find square root");return l}}return rDe(t)}const iDe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function oDe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=iDe.reduce((r,s)=>(r[s]="function",r),e);return n1(t,n)}function aDe(t,e,n){if(n<_r)throw new Error("Expected power > 0");if(n===_r)return t.ONE;if(n===Kn)return e;let r=t.ONE,s=e;for(;n>_r;)n&Kn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Kn;return r}function cDe(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function Aq(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function lDe(t,e,n=!1,r={}){if(t<=_r)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=Aq(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=sDe(t),a=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:C3(s),ZERO:_r,ONE:Kn,create:c=>si(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return _r<=c&&c<t},is0:c=>c===_r,isOdd:c=>(c&Kn)===Kn,neg:c=>si(-c,t),eql:(c,l)=>c===l,sqr:c=>si(c*c,t),add:(c,l)=>si(c+l,t),sub:(c,l)=>si(c-l,t),mul:(c,l)=>si(c*l,t),pow:(c,l)=>aDe(a,c,l),div:(c,l)=>si(c*ok(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>ok(c,t),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>cDe(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?_3(c,i):ly(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return n?x3(c):gf(c)}});return Object.freeze(a)}function Sq(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Iq(t){const e=Sq(t);return e+Math.ceil(e/2)}function uDe(t,e,n=!1){const r=t.length,s=Sq(e),i=Iq(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=n?gf(t):x3(t),a=si(o,e-Kn)+Kn;return n?_3(a,s):ly(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dDe=BigInt(0),xI=BigInt(1);function hDe(t,e){const n=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:n,unsafeLadder(s,i){let o=t.ZERO,a=s;for(;i>dDe;)i&xI&&(o=o.add(a)),a=a.double(),i>>=xI;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=r(i),c=[];let l=s,u=l;for(let d=0;d<o;d++){u=l,c.push(u);for(let h=1;h<a;h++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(s,i,o){const{windows:a,windowSize:c}=r(s);let l=t.ZERO,u=t.BASE;const d=BigInt(2**s-1),h=2**s,f=BigInt(s);for(let p=0;p<a;p++){const g=p*c;let y=Number(o&d);o>>=f,y>c&&(y-=h,o+=xI);const w=g,v=g+Math.abs(y)-1,b=p%2!==0,_=y<0;y===0?u=u.add(n(b,i[w])):l=l.add(n(_,i[v]))}return{p:l,f:u}},wNAFCached(s,i,o,a){const c=s._WINDOW_SIZE||1;let l=i.get(s);return l||(l=this.precomputeWindow(s,c),c!==1&&i.set(s,a(l))),this.wNAF(c,l,o)}}}function Tq(t){return oDe(t.Fp),n1(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Aq(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fDe(t){const e=Tq(t);n1(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:pDe,hexToBytes:gDe}=eDe,Nh={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Nh;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:pDe(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Nh,n=typeof t=="string"?gDe(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=Nh._parseInt(n.subarray(2)),{d:o,l:a}=Nh._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),s=e(n(t.r)),i=r.length/2,o=s.length/2,a=n(i),c=n(o);return`30${n(o+i+4)}02${c}${s}02${a}${r}`}},Zc=BigInt(0),ho=BigInt(1);BigInt(2);const B4=BigInt(3);BigInt(4);function mDe(t){const e=fDe(t),{Fp:n}=e,r=e.toBytes||((p,g,y)=>{const w=g.toAffine();return Qb(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),s=e.fromBytes||(p=>{const g=p.subarray(1),y=n.fromBytes(g.subarray(0,n.BYTES)),w=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:y,y:w}});function i(p){const{a:g,b:y}=e,w=n.sqr(p),v=n.mul(w,p);return n.add(n.add(v,n.mul(p,g)),y)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(p){return typeof p=="bigint"&&Zc<p&&p<e.n}function a(p){if(!o(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(p){const{allowedPrivateKeyLengths:g,nByteLength:y,wrapPrivateKey:w,n:v}=e;if(g&&typeof p!="bigint"){if(p instanceof Uint8Array&&(p=ay(p)),typeof p!="string"||!g.includes(p.length))throw new Error("Invalid key");p=p.padStart(y*2,"0")}let b;try{b=typeof p=="bigint"?p:gf(Ho("private key",p,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof p}`)}return w&&(b=si(b,v)),a(b),b}const l=new Map;function u(p){if(!(p instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(g,y,w){if(this.px=g,this.py=y,this.pz=w,g==null||!n.isValid(g))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(g){const{x:y,y:w}=g||{};if(!g||!n.isValid(y)||!n.isValid(w))throw new Error("invalid affine point");if(g instanceof d)throw new Error("projective point not allowed");const v=b=>n.eql(b,n.ZERO);return v(y)&&v(w)?d.ZERO:new d(y,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const y=n.invertBatch(g.map(w=>w.pz));return g.map((w,v)=>w.toAffine(y[v])).map(d.fromAffine)}static fromHex(g){const y=d.fromAffine(s(Ho("pointHex",g)));return y.assertValidity(),y}static fromPrivateKey(g){return d.BASE.multiply(c(g))}_setWindowSize(g){this._WINDOW_SIZE=g,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y}=this.toAffine();if(!n.isValid(g)||!n.isValid(y))throw new Error("bad point: x or y not FE");const w=n.sqr(y),v=i(g);if(!n.eql(w,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);const{px:y,py:w,pz:v}=this,{px:b,py:_,pz:x}=g,C=n.eql(n.mul(y,x),n.mul(b,v)),S=n.eql(n.mul(w,x),n.mul(_,v));return C&&S}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:y}=e,w=n.mul(y,B4),{px:v,py:b,pz:_}=this;let x=n.ZERO,C=n.ZERO,S=n.ZERO,N=n.mul(v,v),A=n.mul(b,b),P=n.mul(_,_),D=n.mul(v,b);return D=n.add(D,D),S=n.mul(v,_),S=n.add(S,S),x=n.mul(g,S),C=n.mul(w,P),C=n.add(x,C),x=n.sub(A,C),C=n.add(A,C),C=n.mul(x,C),x=n.mul(D,x),S=n.mul(w,S),P=n.mul(g,P),D=n.sub(N,P),D=n.mul(g,D),D=n.add(D,S),S=n.add(N,N),N=n.add(S,N),N=n.add(N,P),N=n.mul(N,D),C=n.add(C,N),P=n.mul(b,_),P=n.add(P,P),N=n.mul(P,D),x=n.sub(x,N),S=n.mul(P,A),S=n.add(S,S),S=n.add(S,S),new d(x,C,S)}add(g){u(g);const{px:y,py:w,pz:v}=this,{px:b,py:_,pz:x}=g;let C=n.ZERO,S=n.ZERO,N=n.ZERO;const A=e.a,P=n.mul(e.b,B4);let D=n.mul(y,b),j=n.mul(w,_),H=n.mul(v,x),K=n.add(y,w),I=n.add(b,_);K=n.mul(K,I),I=n.add(D,j),K=n.sub(K,I),I=n.add(y,v);let T=n.add(b,x);return I=n.mul(I,T),T=n.add(D,H),I=n.sub(I,T),T=n.add(w,v),C=n.add(_,x),T=n.mul(T,C),C=n.add(j,H),T=n.sub(T,C),N=n.mul(A,I),C=n.mul(P,H),N=n.add(C,N),C=n.sub(j,N),N=n.add(j,N),S=n.mul(C,N),j=n.add(D,D),j=n.add(j,D),H=n.mul(A,H),I=n.mul(P,I),j=n.add(j,H),H=n.sub(D,H),H=n.mul(A,H),I=n.add(I,H),D=n.mul(j,I),S=n.add(S,D),D=n.mul(T,I),C=n.mul(K,C),C=n.sub(C,D),D=n.mul(K,j),N=n.mul(T,N),N=n.add(N,D),new d(C,S,N)}subtract(g){return this.add(g.negate())}is0(){return this.equals(d.ZERO)}wNAF(g){return f.wNAFCached(this,l,g,y=>{const w=n.invertBatch(y.map(v=>v.pz));return y.map((v,b)=>v.toAffine(w[b])).map(d.fromAffine)})}multiplyUnsafe(g){const y=d.ZERO;if(g===Zc)return y;if(a(g),g===ho)return this;const{endo:w}=e;if(!w)return f.unsafeLadder(this,g);let{k1neg:v,k1:b,k2neg:_,k2:x}=w.splitScalar(g),C=y,S=y,N=this;for(;b>Zc||x>Zc;)b&ho&&(C=C.add(N)),x&ho&&(S=S.add(N)),N=N.double(),b>>=ho,x>>=ho;return v&&(C=C.negate()),_&&(S=S.negate()),S=new d(n.mul(S.px,w.beta),S.py,S.pz),C.add(S)}multiply(g){a(g);let y=g,w,v;const{endo:b}=e;if(b){const{k1neg:_,k1:x,k2neg:C,k2:S}=b.splitScalar(y);let{p:N,f:A}=this.wNAF(x),{p:P,f:D}=this.wNAF(S);N=f.constTimeNegate(_,N),P=f.constTimeNegate(C,P),P=new d(n.mul(P.px,b.beta),P.py,P.pz),w=N.add(P),v=A.add(D)}else{const{p:_,f:x}=this.wNAF(y);w=_,v=x}return d.normalizeZ([w,v])[0]}multiplyAndAddUnsafe(g,y,w){const v=d.BASE,b=(x,C)=>C===Zc||C===ho||!x.equals(v)?x.multiplyUnsafe(C):x.multiply(C),_=b(this,y).add(b(g,w));return _.is0()?void 0:_}toAffine(g){const{px:y,py:w,pz:v}=this,b=this.is0();g==null&&(g=b?n.ONE:n.inv(v));const _=n.mul(y,g),x=n.mul(w,g),C=n.mul(v,g);if(b)return{x:n.ZERO,y:n.ZERO};if(!n.eql(C,n.ONE))throw new Error("invZ was invalid");return{x:_,y:x}}isTorsionFree(){const{h:g,isTorsionFree:y}=e;if(g===ho)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:y}=e;return g===ho?this:y?y(d,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),r(d,this,g)}toHex(g=!0){return ay(this.toRawBytes(g))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=e.nBitLength,f=hDe(d,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function yDe(t){const e=Tq(t);return n1(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function wDe(t){const e=yDe(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function o(I){return Zc<I&&I<n.ORDER}function a(I){return si(I,r)}function c(I){return ok(I,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:h}=mDe({...e,toBytes(I,T,L){const U=T.toAffine(),$=n.toBytes(U.x),M=Qb;return L?M(Uint8Array.from([T.hasEvenY()?2:3]),$):M(Uint8Array.from([4]),$,n.toBytes(U.y))},fromBytes(I){const T=I.length,L=I[0],U=I.subarray(1);if(T===s&&(L===2||L===3)){const $=gf(U);if(!o($))throw new Error("Point is not on curve");const M=d($);let q=n.sqrt(M);const ee=(q&ho)===ho;return(L&1)===1!==ee&&(q=n.neg(q)),{x:$,y:q}}else if(T===i&&L===4){const $=n.fromBytes(U.subarray(0,n.BYTES)),M=n.fromBytes(U.subarray(n.BYTES,2*n.BYTES));return{x:$,y:M}}else throw new Error(`Point of length ${T} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),f=I=>ay(ly(I,e.nByteLength));function p(I){const T=r>>ho;return I>T}function g(I){return p(I)?a(-I):I}const y=(I,T,L)=>gf(I.slice(T,L));class w{constructor(T,L,U){this.r=T,this.s=L,this.recovery=U,this.assertValidity()}static fromCompact(T){const L=e.nByteLength;return T=Ho("compactSignature",T,L*2),new w(y(T,0,L),y(T,L,2*L))}static fromDER(T){const{r:L,s:U}=Nh.toSig(Ho("DER",T));return new w(L,U)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(T){return new w(this.r,this.s,T)}recoverPublicKey(T){const{r:L,s:U,recovery:$}=this,M=S(Ho("msgHash",T));if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");const q=$===2||$===3?L+e.n:L;if(q>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ee=$&1?"03":"02",ce=l.fromHex(ee+f(q)),se=c(q),ae=a(-M*se),Ee=a(U*se),J=l.BASE.multiplyAndAddUnsafe(ce,ae,Ee);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return cy(this.toDERHex())}toDERHex(){return Nh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return cy(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const v={isValidPrivateKey(I){try{return u(I),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const I=Iq(e.n);return uDe(e.randomBytes(I),e.n)},precompute(I=8,T=l.BASE){return T._setWindowSize(I),T.multiply(BigInt(3)),T}};function b(I,T=!0){return l.fromPrivateKey(I).toRawBytes(T)}function _(I){const T=I instanceof Uint8Array,L=typeof I=="string",U=(T||L)&&I.length;return T?U===s||U===i:L?U===2*s||U===2*i:I instanceof l}function x(I,T,L=!0){if(_(I))throw new Error("first arg must be private key");if(!_(T))throw new Error("second arg must be public key");return l.fromHex(T).multiply(u(I)).toRawBytes(L)}const C=e.bits2int||function(I){const T=gf(I),L=I.length*8-e.nBitLength;return L>0?T>>BigInt(L):T},S=e.bits2int_modN||function(I){return a(C(I))},N=C3(e.nBitLength);function A(I){if(typeof I!="bigint")throw new Error("bigint expected");if(!(Zc<=I&&I<N))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ly(I,e.nByteLength)}function P(I,T,L=D){if(["recovered","canonical"].some(de=>de in L))throw new Error("sign() legacy options not supported");const{hash:U,randomBytes:$}=e;let{lowS:M,prehash:q,extraEntropy:ee}=L;M==null&&(M=!0),I=Ho("msgHash",I),q&&(I=Ho("prehashed msgHash",U(I)));const ce=S(I),se=u(T),ae=[A(se),A(ce)];if(ee!=null){const de=ee===!0?$(n.BYTES):ee;ae.push(Ho("extraEntropy",de))}const Ee=Qb(...ae),J=ce;function re(de){const ie=C(de);if(!h(ie))return;const ye=c(ie),De=l.BASE.multiply(ie).toAffine(),Ie=a(De.x);if(Ie===Zc)return;const ve=a(ye*a(J+Ie*se));if(ve===Zc)return;let Ge=(De.x===Ie?0:2)|Number(De.y&ho),nt=ve;return M&&p(ve)&&(nt=g(ve),Ge^=1),new w(Ie,nt,Ge)}return{seed:Ee,k2sig:re}}const D={lowS:e.lowS,prehash:!1},j={lowS:e.lowS,prehash:!1};function H(I,T,L=D){const{seed:U,k2sig:$}=P(I,T,L),M=e;return Cq(M.hash.outputLen,M.nByteLength,M.hmac)(U,$)}l.BASE._setWindowSize(8);function K(I,T,L,U=j){var De;const $=I;if(T=Ho("msgHash",T),L=Ho("publicKey",L),"strict"in U)throw new Error("options.strict was renamed to lowS");const{lowS:M,prehash:q}=U;let ee,ce;try{if(typeof $=="string"||$ instanceof Uint8Array)try{ee=w.fromDER($)}catch(Ie){if(!(Ie instanceof Nh.Err))throw Ie;ee=w.fromCompact($)}else if(typeof $=="object"&&typeof $.r=="bigint"&&typeof $.s=="bigint"){const{r:Ie,s:ve}=$;ee=new w(Ie,ve)}else throw new Error("PARSE");ce=l.fromHex(L)}catch(Ie){if(Ie.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(M&&ee.hasHighS())return!1;q&&(T=e.hash(T));const{r:se,s:ae}=ee,Ee=S(T),J=c(ae),re=a(Ee*J),de=a(se*J),ie=(De=l.BASE.multiplyAndAddUnsafe(ce,re,de))==null?void 0:De.toAffine();return ie?a(ie.x)===se:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:x,sign:H,verify:K,ProjectivePoint:l,Signature:w,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function bDe(t){return{hash:t,hmac:(e,...n)=>sq(t,e,o3e(...n)),randomBytes:a3e}}function vDe(t,e){const n=r=>wDe({...t,...bDe(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nq=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),L4=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),EDe=BigInt(1),ak=BigInt(2),M4=(t,e)=>(t+e/ak)/e;function xDe(t){const e=Nq,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Xi(u,n,e)*u%e,h=Xi(d,n,e)*u%e,f=Xi(h,ak,e)*l%e,p=Xi(f,s,e)*f%e,g=Xi(p,i,e)*p%e,y=Xi(g,a,e)*g%e,w=Xi(y,c,e)*y%e,v=Xi(w,a,e)*g%e,b=Xi(v,n,e)*u%e,_=Xi(b,o,e)*p%e,x=Xi(_,r,e)*l%e,C=Xi(x,ak,e);if(!ck.eql(ck.sqr(C),t))throw new Error("Cannot find square root");return C}const ck=lDe(Nq,void 0,void 0,{sqrt:xDe}),tu=vDe({a:BigInt(0),b:BigInt(7),Fp:ck,n:L4,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=L4,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-EDe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=M4(i*t,e),c=M4(-r*t,e);let l=si(t-a*n-c*s,e),u=si(-a*r-c*i,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},oq);BigInt(0);tu.ProjectivePoint;const Yb="0x0000000000000000000000000000000000000000",j4="0x0000000000000000000000000000000000000000000000000000000000000000",F4=BigInt(0),z4=BigInt(1),H4=BigInt(2),W4=BigInt(27),G4=BigInt(28),AE=BigInt(35),zp={};function q4(t){return As(dr(t),32)}var sm,im,om,Yh;const Fo=class Fo{constructor(e,n,r,s){W(this,sm);W(this,im);W(this,om);W(this,Yh);e1(e,zp,"Signature"),R(this,sm,n),R(this,im,r),R(this,om,s),R(this,Yh,null)}get r(){return E(this,sm)}set r(e){G(Dg(e)===32,"invalid r","value",e),R(this,sm,Ae(e))}get s(){return E(this,im)}set s(e){G(Dg(e)===32,"invalid s","value",e);const n=Ae(e);G(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),R(this,im,n)}get v(){return E(this,om)}set v(e){const n=ft(e,"value");G(n===27||n===28,"invalid v","v",e),R(this,om,n)}get networkV(){return E(this,Yh)}get legacyChainId(){const e=this.networkV;return e==null?null:Fo.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=mt(this.s);return this.yParity&&(e[0]|=128),Ae(e)}get compactSerialized(){return Fn([this.r,this.yParityAndS])}get serialized(){return Fn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Fo(zp,this.r,this.s,this.v);return this.networkV&&R(e,Yh,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=He(e,"v");return n==W4||n==G4?F4:(G(n>=AE,"invalid EIP-155 v","v",e),(n-AE)/H4)}static getChainIdV(e,n){return He(e)*H4+BigInt(35+n-27)}static getNormalizedV(e){const n=He(e);return n===F4||n===W4?27:n===z4||n===G4?28:(G(n>=AE,"invalid v","v",e),n&z4?27:28)}static from(e){function n(l,u){G(l,u,"signature",e)}if(e==null)return new Fo(zp,j4,j4,27);if(typeof e=="string"){const l=mt(e,"signature");if(l.length===64){const u=Ae(l.slice(0,32)),d=l.slice(32,64),h=d[0]&128?28:27;return d[0]&=127,new Fo(zp,u,Ae(d),h)}if(l.length===65){const u=Ae(l.slice(0,32)),d=l.slice(32,64);n((d[0]&128)===0,"non-canonical s");const h=Fo.getNormalizedV(l[64]);return new Fo(zp,u,Ae(d),h)}n(!1,"invalid raw signature length")}if(e instanceof Fo)return e.clone();const r=e.r;n(r!=null,"missing r");const s=q4(r),i=function(l,u){if(l!=null)return q4(l);if(u!=null){n(wn(u,32),"invalid yParityAndS");const d=mt(u);return d[0]&=127,Ae(d)}n(!1,"missing s")}(e.s,e.yParityAndS);n((mt(i)[0]&128)==0,"non-canonical s");const{networkV:o,v:a}=function(l,u,d){if(l!=null){const h=He(l);return{networkV:h>=AE?h:void 0,v:Fo.getNormalizedV(h)}}if(u!=null)return n(wn(u,32),"invalid yParityAndS"),{v:mt(u)[0]&128?28:27};if(d!=null){switch(ft(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new Fo(zp,s,i,a);return o&&R(c,Yh,o),n(e.yParity==null||ft(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};sm=new WeakMap,im=new WeakMap,om=new WeakMap,Yh=new WeakMap;let gi=Fo;var zc;const fh=class fh{constructor(e){W(this,zc);G(Dg(e)===32,"invalid private key","privateKey","[REDACTED]"),R(this,zc,Ae(e))}get privateKey(){return E(this,zc)}get publicKey(){return fh.computePublicKey(E(this,zc))}get compressedPublicKey(){return fh.computePublicKey(E(this,zc),!0)}sign(e){G(Dg(e)===32,"invalid digest length","digest",e);const n=tu.sign(Ss(e),Ss(E(this,zc)),{lowS:!0});return gi.from({r:Nd(n.r,32),s:Nd(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=fh.computePublicKey(e);return Ae(tu.getSharedSecret(Ss(E(this,zc)),mt(n),!1))}static computePublicKey(e,n){let r=mt(e,"key");if(r.length===32){const i=tu.getPublicKey(r,!!n);return Ae(i)}if(r.length===64){const i=new Uint8Array(65);i[0]=4,i.set(r,1),r=i}const s=tu.ProjectivePoint.fromHex(r);return Ae(s.toRawBytes(n))}static recoverPublicKey(e,n){G(Dg(e)===32,"invalid digest length","digest",e);const r=gi.from(n);let s=tu.Signature.fromCompact(Ss(Fn([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const i=s.recoverPublicKey(Ss(e));return G(i!=null,"invalid signature for digest","signature",n),"0x"+i.toHex(!1)}static addPoints(e,n,r){const s=tu.ProjectivePoint.fromHex(fh.computePublicKey(e).substring(2)),i=tu.ProjectivePoint.fromHex(fh.computePublicKey(n).substring(2));return"0x"+s.add(i).toHex(!!r)}};zc=new WeakMap;let Jb=fh;const _De=BigInt(0),CDe=BigInt(36);function V4(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=e[s].charCodeAt(0);const r=mt(nr(n));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const A3={};for(let t=0;t<10;t++)A3[String(t)]=String(t);for(let t=0;t<26;t++)A3[String.fromCharCode(65+t)]=String(10+t);const K4=15;function ADe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>A3[r]).join("");for(;e.length>=K4;){let r=e.substring(0,K4);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const SDe=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function IDe(t){t=t.toLowerCase();let e=_De;for(let n=0;n<t.length;n++)e=e*CDe+SDe[t[n]];return e}function qt(t){if(G(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=V4(t);return G(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){G(t.substring(2,4)===ADe(t),"bad icap checksum","address",t);let e=IDe(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return V4("0x"+e)}G(!1,"invalid address","address",t)}function TDe(t){const e=qt(t.from);let r=He(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,qt(Ln(nr(kd([e,r])),12))}function Pq(t){return t&&typeof t.getAddress=="function"}async function _I(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(he(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),G(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),qt(n)}function Ts(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?qt(t):(he(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),_I(t,e.resolveName(t)));if(Pq(t))return _I(t,t.getAddress());if(t&&typeof t.then=="function")return _I(t,t);G(!1,"unsupported addressable value","target",t)}const kc={};function je(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new ds(kc,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Ut(t,e){return new ds(kc,`bytes${e||""}`,t,{size:e})}const Q4=Symbol.for("_ethers_typed");var Jh;const Oc=class Oc{constructor(e,n,r,s){Y(this,"type");Y(this,"value");W(this,Jh);Y(this,"_typedSymbol");s==null&&(s=null),e1(kc,e,"Typed"),Ze(this,{_typedSymbol:Q4,type:n,value:r}),R(this,Jh,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return E(this,Jh)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return E(this,Jh)===!0?-1:E(this,Jh)===!1?this.value.length:null}static from(e,n){return new Oc(kc,e,n)}static uint8(e){return je(e,8)}static uint16(e){return je(e,16)}static uint24(e){return je(e,24)}static uint32(e){return je(e,32)}static uint40(e){return je(e,40)}static uint48(e){return je(e,48)}static uint56(e){return je(e,56)}static uint64(e){return je(e,64)}static uint72(e){return je(e,72)}static uint80(e){return je(e,80)}static uint88(e){return je(e,88)}static uint96(e){return je(e,96)}static uint104(e){return je(e,104)}static uint112(e){return je(e,112)}static uint120(e){return je(e,120)}static uint128(e){return je(e,128)}static uint136(e){return je(e,136)}static uint144(e){return je(e,144)}static uint152(e){return je(e,152)}static uint160(e){return je(e,160)}static uint168(e){return je(e,168)}static uint176(e){return je(e,176)}static uint184(e){return je(e,184)}static uint192(e){return je(e,192)}static uint200(e){return je(e,200)}static uint208(e){return je(e,208)}static uint216(e){return je(e,216)}static uint224(e){return je(e,224)}static uint232(e){return je(e,232)}static uint240(e){return je(e,240)}static uint248(e){return je(e,248)}static uint256(e){return je(e,256)}static uint(e){return je(e,256)}static int8(e){return je(e,-8)}static int16(e){return je(e,-16)}static int24(e){return je(e,-24)}static int32(e){return je(e,-32)}static int40(e){return je(e,-40)}static int48(e){return je(e,-48)}static int56(e){return je(e,-56)}static int64(e){return je(e,-64)}static int72(e){return je(e,-72)}static int80(e){return je(e,-80)}static int88(e){return je(e,-88)}static int96(e){return je(e,-96)}static int104(e){return je(e,-104)}static int112(e){return je(e,-112)}static int120(e){return je(e,-120)}static int128(e){return je(e,-128)}static int136(e){return je(e,-136)}static int144(e){return je(e,-144)}static int152(e){return je(e,-152)}static int160(e){return je(e,-160)}static int168(e){return je(e,-168)}static int176(e){return je(e,-176)}static int184(e){return je(e,-184)}static int192(e){return je(e,-192)}static int200(e){return je(e,-200)}static int208(e){return je(e,-208)}static int216(e){return je(e,-216)}static int224(e){return je(e,-224)}static int232(e){return je(e,-232)}static int240(e){return je(e,-240)}static int248(e){return je(e,-248)}static int256(e){return je(e,-256)}static int(e){return je(e,-256)}static bytes1(e){return Ut(e,1)}static bytes2(e){return Ut(e,2)}static bytes3(e){return Ut(e,3)}static bytes4(e){return Ut(e,4)}static bytes5(e){return Ut(e,5)}static bytes6(e){return Ut(e,6)}static bytes7(e){return Ut(e,7)}static bytes8(e){return Ut(e,8)}static bytes9(e){return Ut(e,9)}static bytes10(e){return Ut(e,10)}static bytes11(e){return Ut(e,11)}static bytes12(e){return Ut(e,12)}static bytes13(e){return Ut(e,13)}static bytes14(e){return Ut(e,14)}static bytes15(e){return Ut(e,15)}static bytes16(e){return Ut(e,16)}static bytes17(e){return Ut(e,17)}static bytes18(e){return Ut(e,18)}static bytes19(e){return Ut(e,19)}static bytes20(e){return Ut(e,20)}static bytes21(e){return Ut(e,21)}static bytes22(e){return Ut(e,22)}static bytes23(e){return Ut(e,23)}static bytes24(e){return Ut(e,24)}static bytes25(e){return Ut(e,25)}static bytes26(e){return Ut(e,26)}static bytes27(e){return Ut(e,27)}static bytes28(e){return Ut(e,28)}static bytes29(e){return Ut(e,29)}static bytes30(e){return Ut(e,30)}static bytes31(e){return Ut(e,31)}static bytes32(e){return Ut(e,32)}static address(e){return new Oc(kc,"address",e)}static bool(e){return new Oc(kc,"bool",!!e)}static bytes(e){return new Oc(kc,"bytes",e)}static string(e){return new Oc(kc,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new Oc(kc,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Q4}static dereference(e,n){if(Oc.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};Jh=new WeakMap;let ds=Oc;class NDe extends Al{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=ds.dereference(n,"string");try{r=qt(r)}catch(s){return this._throwError(s.message,n)}return e.writeValue(r)}decode(e){return qt(Nd(e.readValue(),20))}}class PDe extends Al{constructor(n){super(n.name,n.type,"_",n.dynamic);Y(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function kq(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=e.map(l=>{const u=l.localName;return he(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:n}),he(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:n}),c[u]=!0,n[u]})}else G(!1,"invalid tuple value","tuple",n);G(e.length===r.length,"types/value length mismatch","tuple",n);let s=new tk,i=new tk,o=[];e.forEach((c,l)=>{let u=r[l];if(c.dynamic){let d=i.length;c.encode(i,u);let h=s.writeUpdatableValue();o.push(f=>{h(f+d)})}else c.encode(s,u)}),o.forEach(c=>{c(s.length)});let a=t.appendWriter(s);return a+=t.appendWriter(i),a}function Oq(t,e){let n=[],r=[],s=t.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=t.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(l){if(Mr(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(a){if(Mr(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");n.push(o),r.push(i.localName||null)}),iy.fromItems(n,r)}class kDe extends Al{constructor(n,r,s){const i=n.type+"["+(r>=0?r:"")+"]",o=r===-1||n.dynamic;super("array",i,s,o);Y(this,"coder");Y(this,"length");Ze(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let s=0;s<this.length;s++)r.push(n);return r}encode(n,r){const s=ds.dereference(r,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,n.writeValue(s.length)),FG(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return kq(n,o,s)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),he(r*Is<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*Is,length:n.dataLength}));let s=[];for(let i=0;i<r;i++)s.push(new PDe(this.coder));return Oq(n,s)}}class ODe extends Al{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=ds.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class Rq extends Al{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Ss(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class RDe extends Rq{constructor(e){super("bytes",e)}decode(e){return Ae(super.decode(e))}}class DDe extends Al{constructor(n,r){let s="bytes"+String(n);super(s,s,r,!1);Y(this,"size");Ze(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let s=Ss(ds.dereference(r,this.type));return s.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(s)}decode(n){return Ae(n.readBytes(this.size))}}const $De=new Uint8Array([]);class UDe extends Al{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes($De)}decode(e){return e.readBytes(0),null}}const BDe=BigInt(0),LDe=BigInt(1),MDe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class jDe extends Al{constructor(n,r,s){const i=(r?"int":"uint")+n*8;super(i,i,s,!1);Y(this,"size");Y(this,"signed");Ze(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let s=He(ds.dereference(r,this.type)),i=Th(MDe,Is*8);if(this.signed){let o=Th(i,this.size*8-1);(s>o||s<-(o+LDe))&&this._throwError("value out-of-bounds",r),s=WG(s,8*Is)}else(s<BDe||s>Th(i,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(s)}decode(n){let r=Th(n.readValue(),this.size*8);return this.signed&&(r=k_(r,this.size*8)),r}}class FDe extends Rq{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,cl(ds.dereference(n,"string")))}decode(e){return O_(super.decode(e))}}class SE extends Al{constructor(n,r){let s=!1;const i=[];n.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,r,s);Y(this,"coders");Ze(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(s=>{n.push(s.defaultValue())});const r=this.coders.reduce((s,i)=>{const o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),n[o]==null&&(n[o]=n[i]))}),Object.freeze(n)}encode(n,r){const s=ds.dereference(r,"tuple");return kq(n,this.coders,s)}decode(n){return Oq(n,this.coders)}}function CI(t,e){return{address:qt(t),storageKeys:e.map((n,r)=>(G(wn(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function ap(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(G(n.length===2,"invalid slot set",`value[${r}]`,n),CI(n[0],n[1])):(G(n!=null&&typeof n=="object","invalid address-slot set","value",t),CI(n.address,n.storageKeys)));G(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((s,i)=>(s[i]=!0,s),{});return CI(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function Dq(t){return{address:qt(t.address),nonce:He(t.nonce!=null?t.nonce:0),chainId:He(t.chainId!=null?t.chainId:0),signature:gi.from(t.signature)}}function zDe(t){let e;return typeof t=="string"?e=Jb.computePublicKey(t,!1):e=t.publicKey,qt(nr("0x"+e.substring(4)).substring(26))}function HDe(t,e){return zDe(Jb.recoverPublicKey(t,e))}const br=BigInt(0),WDe=BigInt(2),GDe=BigInt(27),qDe=BigInt(28),VDe=BigInt(35),KDe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),AI=4096*32;function QDe(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return mt(t.blobToKzgCommitment(Ae(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return mt(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return mt(t.blobToKZGCommitment(Ae(r)));G(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,s)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return mt(t.computeBlobProof(Ae(r),Ae(s)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,s);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return mt(t.computeBlobKZGProof(Ae(r),Ae(s)));G(!1,"unsupported KZG library","kzg",t)}}}function Y4(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=Ly(e).substring(4),"0x"+n}function My(t){return t==="0x"?null:qt(t)}function kA(t,e){try{return ap(t)}catch(n){G(!1,n.message,e,t)}}function YDe(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const s=t[r];if(!Array.isArray(s))throw new Error(`authorization[${r}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!s[1])throw new Error(`authorization[${r}]: null address`);n.push({address:My(s[1]),nonce:an(s[2],"nonce"),chainId:an(s[0],"chainId"),signature:gi.from({yParity:cp(s[3],"yParity"),r:As(s[4],32),s:As(s[5],32)})})}return n}catch(n){G(!1,n.message,e,t)}}function cp(t,e){return t==="0x"?0:ft(t,e)}function an(t,e){if(t==="0x")return br;const n=He(t,e);return G(n<=KDe,"value exceeds uint size",e,n),n}function St(t,e){const n=He(t,"value"),r=dr(n);return G(r.length<=32,"value too large",`tx.${e}`,n),r}function OA(t){return ap(t).map(e=>[e.address,e.storageKeys])}function JDe(t){return t.map(e=>[St(e.chainId,"chainId"),e.address,St(e.nonce,"nonce"),St(e.signature.yParity,"yParity"),dr(e.signature.r),dr(e.signature.s)])}function ZDe(t,e){G(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)G(wn(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function XDe(t){const e=t1(t);G(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:cp(e[0],"nonce"),gasPrice:an(e[1],"gasPrice"),gasLimit:an(e[2],"gasLimit"),to:My(e[3]),value:an(e[4],"value"),data:Ae(e[5]),chainId:br};if(e.length===6)return n;const r=an(e[6],"v"),s=an(e[7],"r"),i=an(e[8],"s");if(s===br&&i===br)n.chainId=r;else{let o=(r-VDe)/WDe;o<br&&(o=br),n.chainId=o,G(o!==br||r===GDe||r===qDe,"non-canonical legacy v","v",e[6]),n.signature=gi.from({r:As(e[7],32),s:As(e[8],32),v:r})}return n}function e$e(t,e){const n=[St(t.nonce,"nonce"),St(t.gasPrice||0,"gasPrice"),St(t.gasLimit,"gasLimit"),t.to||"0x",St(t.value,"value"),t.data];let r=br;if(t.chainId!=br)r=He(t.chainId,"tx.chainId"),G(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(r=i)}if(!e)return r!==br&&(n.push(dr(r)),n.push("0x"),n.push("0x")),kd(n);let s=BigInt(27+e.yParity);return r!==br?s=gi.getChainIdV(r,e.v):BigInt(e.v)!==s&&G(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(dr(s)),n.push(dr(e.r)),n.push(dr(e.s)),kd(n)}function RA(t,e){let n;try{if(n=cp(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{G(!1,"invalid yParity","yParity",e[0])}const r=As(e[1],32),s=As(e[2],32),i=gi.from({r,s,yParity:n});t.signature=i}function t$e(t){const e=t1(mt(t).slice(1));G(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Ae(t));const n={type:2,chainId:an(e[0],"chainId"),nonce:cp(e[1],"nonce"),maxPriorityFeePerGas:an(e[2],"maxPriorityFeePerGas"),maxFeePerGas:an(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:an(e[4],"gasLimit"),to:My(e[5]),value:an(e[6],"value"),data:Ae(e[7]),accessList:kA(e[8],"accessList")};return e.length===9||RA(n,e.slice(9)),n}function n$e(t,e){const n=[St(t.chainId,"chainId"),St(t.nonce,"nonce"),St(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),St(t.maxFeePerGas||0,"maxFeePerGas"),St(t.gasLimit,"gasLimit"),t.to||"0x",St(t.value,"value"),t.data,OA(t.accessList||[])];return e&&(n.push(St(e.yParity,"yParity")),n.push(dr(e.r)),n.push(dr(e.s))),Fn(["0x02",kd(n)])}function r$e(t){const e=t1(mt(t).slice(1));G(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Ae(t));const n={type:1,chainId:an(e[0],"chainId"),nonce:cp(e[1],"nonce"),gasPrice:an(e[2],"gasPrice"),gasLimit:an(e[3],"gasLimit"),to:My(e[4]),value:an(e[5],"value"),data:Ae(e[6]),accessList:kA(e[7],"accessList")};return e.length===8||RA(n,e.slice(8)),n}function s$e(t,e){const n=[St(t.chainId,"chainId"),St(t.nonce,"nonce"),St(t.gasPrice||0,"gasPrice"),St(t.gasLimit,"gasLimit"),t.to||"0x",St(t.value,"value"),t.data,OA(t.accessList||[])];return e&&(n.push(St(e.yParity,"recoveryParam")),n.push(dr(e.r)),n.push(dr(e.s))),Fn(["0x01",kd(n)])}function i$e(t){let e=t1(mt(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const i=e[1],o=e[2],a=e[3];G(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),G(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),G(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),G(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),G(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let c=0;c<e[1].length;c++)r.push({data:i[c],commitment:o[c],proof:a[c]});e=e[0]}G(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",Ae(t));const s={type:3,chainId:an(e[0],"chainId"),nonce:cp(e[1],"nonce"),maxPriorityFeePerGas:an(e[2],"maxPriorityFeePerGas"),maxFeePerGas:an(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:an(e[4],"gasLimit"),to:My(e[5]),value:an(e[6],"value"),data:Ae(e[7]),accessList:kA(e[8],"accessList"),maxFeePerBlobGas:an(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(s.blobs=r),G(s.to!=null,`invalid address for transaction type: ${n}`,"data",t),G(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<s.blobVersionedHashes.length;i++)G(wn(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||RA(s,e.slice(11)),s}function o$e(t,e,n){const r=[St(t.chainId,"chainId"),St(t.nonce,"nonce"),St(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),St(t.maxFeePerGas||0,"maxFeePerGas"),St(t.gasLimit,"gasLimit"),t.to||Yb,St(t.value,"value"),t.data,OA(t.accessList||[]),St(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),ZDe(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(St(e.yParity,"yParity")),r.push(dr(e.r)),r.push(dr(e.s)),n)?Fn(["0x03",kd([r,n.map(s=>s.data),n.map(s=>s.commitment),n.map(s=>s.proof)])]):Fn(["0x03",kd(r)])}function a$e(t){const e=t1(mt(t).slice(1));G(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Ae(t));const n={type:4,chainId:an(e[0],"chainId"),nonce:cp(e[1],"nonce"),maxPriorityFeePerGas:an(e[2],"maxPriorityFeePerGas"),maxFeePerGas:an(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:an(e[4],"gasLimit"),to:My(e[5]),value:an(e[6],"value"),data:Ae(e[7]),accessList:kA(e[8],"accessList"),authorizationList:YDe(e[9],"authorizationList")};return e.length===10||RA(n,e.slice(10)),n}function c$e(t,e){const n=[St(t.chainId,"chainId"),St(t.nonce,"nonce"),St(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),St(t.maxFeePerGas||0,"maxFeePerGas"),St(t.gasLimit,"gasLimit"),t.to||"0x",St(t.value,"value"),t.data,OA(t.accessList||[]),JDe(t.authorizationList||[])];return e&&(n.push(St(e.yParity,"yParity")),n.push(dr(e.r)),n.push(dr(e.s))),Fn(["0x04",kd(n)])}var Qo,am,cm,lm,um,dm,hm,fm,pm,gm,mm,ym,Zh,ku,Ma,Ou,wm,bm,ux;const Ra=class Ra{constructor(){W(this,bm);W(this,Qo);W(this,am);W(this,cm);W(this,lm);W(this,um);W(this,dm);W(this,hm);W(this,fm);W(this,pm);W(this,gm);W(this,mm);W(this,ym);W(this,Zh);W(this,ku);W(this,Ma);W(this,Ou);W(this,wm);R(this,Qo,null),R(this,am,null),R(this,lm,0),R(this,um,br),R(this,dm,null),R(this,hm,null),R(this,fm,null),R(this,cm,"0x"),R(this,pm,br),R(this,gm,br),R(this,mm,null),R(this,ym,null),R(this,Zh,null),R(this,ku,null),R(this,Ma,null),R(this,Ou,null),R(this,wm,null)}get type(){return E(this,Qo)}set type(e){switch(e){case null:R(this,Qo,null);break;case 0:case"legacy":R(this,Qo,0);break;case 1:case"berlin":case"eip-2930":R(this,Qo,1);break;case 2:case"london":case"eip-1559":R(this,Qo,2);break;case 3:case"cancun":case"eip-4844":R(this,Qo,3);break;case 4:case"pectra":case"eip-7702":R(this,Qo,4);break;default:G(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=E(this,am);return e==null&&this.type===3?Yb:e}set to(e){R(this,am,e==null?null:qt(e))}get nonce(){return E(this,lm)}set nonce(e){R(this,lm,ft(e,"value"))}get gasLimit(){return E(this,um)}set gasLimit(e){R(this,um,He(e))}get gasPrice(){const e=E(this,dm);return e==null&&(this.type===0||this.type===1)?br:e}set gasPrice(e){R(this,dm,e==null?null:He(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=E(this,hm);return e??(this.type===2||this.type===3?br:null)}set maxPriorityFeePerGas(e){R(this,hm,e==null?null:He(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=E(this,fm);return e??(this.type===2||this.type===3?br:null)}set maxFeePerGas(e){R(this,fm,e==null?null:He(e,"maxFeePerGas"))}get data(){return E(this,cm)}set data(e){R(this,cm,Ae(e))}get value(){return E(this,pm)}set value(e){R(this,pm,He(e,"value"))}get chainId(){return E(this,gm)}set chainId(e){R(this,gm,He(e))}get signature(){return E(this,mm)||null}set signature(e){R(this,mm,e==null?null:gi.from(e))}get accessList(){const e=E(this,ym)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){R(this,ym,e==null?null:ap(e))}get authorizationList(){const e=E(this,wm)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){R(this,wm,e==null?null:e.map(n=>Dq(n)))}get maxFeePerBlobGas(){const e=E(this,Zh);return e==null&&this.type===3?br:e}set maxFeePerBlobGas(e){R(this,Zh,e==null?null:He(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=E(this,ku);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){G(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)G(wn(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}R(this,ku,e)}get blobs(){return E(this,Ou)==null?null:E(this,Ou).map(e=>Object.assign({},e))}set blobs(e){if(e==null){R(this,Ou,null);return}const n=[],r=[];for(let s=0;s<e.length;s++){const i=e[s];if(m3(i)){he(E(this,Ma),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=mt(i);if(G(o.length<=AI,"blob is too large",`blobs[${s}]`,i),o.length!==AI){const l=new Uint8Array(AI);l.set(o),o=l}const a=E(this,Ma).blobToKzgCommitment(o),c=Ae(E(this,Ma).computeBlobKzgProof(o,a));n.push({data:Ae(o),commitment:Ae(a),proof:c}),r.push(Y4(1,a))}else{const o=Ae(i.commitment);n.push({data:Ae(i.data),commitment:o,proof:Ae(i.proof)}),r.push(Y4(1,o))}}R(this,Ou,n),R(this,ku,r)}get kzg(){return E(this,Ma)}set kzg(e){e==null?R(this,Ma,null):R(this,Ma,QDe(e))}get hash(){return this.signature==null?null:nr(ne(this,bm,ux).call(this,!0,!1))}get unsignedHash(){return nr(this.unsignedSerialized)}get from(){return this.signature==null?null:HDe(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Jb.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return ne(this,bm,ux).call(this,!0,!0)}get unsignedSerialized(){return ne(this,bm,ux).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=E(this,Zh)!=null||E(this,ku);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&he(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),he(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),he(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):n?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Ra.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Ra;if(typeof e=="string"){const r=mt(e);if(r[0]>=127)return Ra.from(XDe(r));switch(r[0]){case 1:return Ra.from(r$e(r));case 2:return Ra.from(t$e(r));case 3:return Ra.from(i$e(r));case 4:return Ra.from(a$e(r))}he(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Ra;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=gi.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(G(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),G(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(G(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),G(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};Qo=new WeakMap,am=new WeakMap,cm=new WeakMap,lm=new WeakMap,um=new WeakMap,dm=new WeakMap,hm=new WeakMap,fm=new WeakMap,pm=new WeakMap,gm=new WeakMap,mm=new WeakMap,ym=new WeakMap,Zh=new WeakMap,ku=new WeakMap,Ma=new WeakMap,Ou=new WeakMap,wm=new WeakMap,bm=new WeakSet,ux=function(e,n){he(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return e$e(this,r);case 1:return s$e(this,r);case 2:return n$e(this,r);case 3:return o$e(this,r,n?this.blobs:null);case 4:return c$e(this,r)}he(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let $_=Ra;function Ff(t){return nr(cl(t))}var l$e="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const J4=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Z4=4;function u$e(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),s=1,i=[0,1];for(let x=1;x<r;x++)i.push(s+=n());let o=n(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const d=31,h=2**d,f=h>>>1,p=f>>1,g=h-1;let y=0;for(let x=0;x<d;x++)y=y<<1|u();let w=[],v=0,b=h;for(;;){let x=Math.floor(((y-v+1)*s-1)/b),C=0,S=r;for(;S-C>1;){let P=C+S>>>1;x<i[P]?S=P:C=P}if(C==0)break;w.push(C);let N=v+Math.floor(b*i[C]/s),A=v+Math.floor(b*i[C+1]/s)-1;for(;!((N^A)&f);)y=y<<1&g|u(),N=N<<1&g,A=A<<1&g|1;for(;N&~A&p;)y=y&f|y<<1&g>>>1|u(),N=N<<1^f,A=(A^f)<<1|f|1;v=N,b=1+A-N}let _=r-4;return w.map(x=>{switch(x-_){case 3:return _+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return _+256+(t[a++]<<8|t[a++]);case 1:return _+t[a++];default:return x-1}})}function d$e(t){let e=0;return()=>t[e++]}function $q(t){return d$e(u$e(h$e(t)))}function h$e(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let n=t.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,o=0,a=0;s<n;s++)a=a<<6|e[t.charCodeAt(s)],o+=6,o>=8&&(r[i++]=a>>(o-=8));return r}function f$e(t){return t&1?~t>>1:t>>1}function p$e(t,e){let n=Array(t);for(let r=0,s=0;r<t;r++)n[r]=s+=f$e(e());return n}function Zb(t,e=0){let n=[];for(;;){let r=t(),s=t();if(!s)break;e+=r;for(let i=0;i<s;i++)n.push(e+i);e+=s+1}return n}function Uq(t){return Xb(()=>{let e=Zb(t);if(e.length)return e})}function Bq(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(g$e(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(m$e(n,t))}return e.flat()}function Xb(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function Lq(t,e,n){let r=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)p$e(t,n).forEach((i,o)=>r[o].push(i));return r}function g$e(t,e){let n=1+e(),r=e(),s=Xb(e);return Lq(s.length,1+t,e).flatMap((o,a)=>{let[c,...l]=o;return Array(s[a]).fill().map((u,d)=>{let h=d*r;return[c+d*n,l.map(f=>f+h)]})})}function m$e(t,e){let n=1+e();return Lq(n,1+t,e).map(s=>[s[0],s.slice(1)])}function y$e(t){let e=[],n=Zb(t);return s(r([]),[]),e;function r(i){let o=t(),a=Xb(()=>{let c=Zb(t).map(l=>n[l]);if(c.length)return r(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let l of o)for(let u of l.Q)s(l,[...a,u],c)}}}function w$e(t){return t.toString(16).toUpperCase().padStart(2,"0")}function Mq(t){return`{${w$e(t)}}`}function b$e(t){let e=[];for(let n=0,r=t.length;n<r;){let s=t.codePointAt(n);n+=s<65536?1:2,e.push(s)}return e}function uy(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let s=0;s<n;)r.push(String.fromCodePoint(...t.slice(s,s+=4096)));return r.join("")}function v$e(t,e){let n=t.length,r=n-e.length;for(let s=0;r==0&&s<n;s++)r=t[s]-e[s];return r}var E$e="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const ev=44032,U_=4352,B_=4449,L_=4519,jq=19,Fq=21,dy=28,M_=Fq*dy,x$e=jq*M_,_$e=ev+x$e,C$e=U_+jq,A$e=B_+Fq,S$e=L_+dy;function G0(t){return t>>24&255}function zq(t){return t&16777215}let lk,X4,uk,dx;function I$e(){let t=$q(E$e);lk=new Map(Uq(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),X4=new Set(Zb(t)),uk=new Map,dx=new Map;for(let[e,n]of Bq(t)){if(!X4.has(e)&&n.length==2){let[r,s]=n,i=dx.get(r);i||(i=new Map,dx.set(r,i)),i.set(s,e)}uk.set(e,n.reverse())}}function Hq(t){return t>=ev&&t<_$e}function T$e(t,e){if(t>=U_&&t<C$e&&e>=B_&&e<A$e)return ev+(t-U_)*M_+(e-B_)*dy;if(Hq(t)&&e>L_&&e<S$e&&(t-ev)%dy==0)return t+(e-L_);{let n=dx.get(t);return n&&(n=n.get(e),n)?n:-1}}function Wq(t){lk||I$e();let e=[],n=[],r=!1;function s(i){let o=lk.get(i);o&&(r=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(Hq(i)){let o=i-ev,a=o/M_|0,c=o%M_/dy|0,l=o%dy;s(U_+a),s(B_+c),l>0&&s(L_+l)}else{let o=uk.get(i);o?n.push(...o):s(i)}if(!n.length)break;i=n.pop()}if(r&&e.length>1){let i=G0(e[0]);for(let o=1;o<e.length;o++){let a=G0(e[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(i=G0(e[--c]),i<=a))break}i=G0(e[o])}}return e}function N$e(t){let e=[],n=[],r=-1,s=0;for(let i of t){let o=G0(i),a=zq(i);if(r==-1)o==0?r=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),s=o;else{let c=T$e(r,a);c>=0?r=c:s==0&&o==0?(e.push(r),r=a):(n.push(a),s=o)}}return r>=0&&e.push(r,...n),e}function Gq(t){return Wq(t).map(zq)}function P$e(t){return N$e(Wq(t))}const eB=45,qq=".",Vq=65039,Kq=1,j_=t=>Array.from(t);function tv(t,e){return t.P.has(e)||t.Q.has(e)}class k$e extends Array{get is_emoji(){return!0}}let dk,Qq,Ph,hk,Yq,Ug,SI,Yp,ih,tB,fk;function S3(){if(dk)return;let t=$q(l$e);const e=()=>Zb(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(h=>u.add(h));dk=new Map(Bq(t)),Qq=n(),Ph=e(),hk=new Set(e().map(u=>Ph[u])),Ph=new Set(Ph),Yq=n(),n();let s=Uq(t),i=t();const o=()=>{let u=new Set;return e().forEach(d=>r(u,s[d])),r(u,e()),u};Ug=Xb(u=>{let d=Xb(t).map(h=>h+96);if(d.length){let h=u>=i;d[0]-=32,d=uy(d),h&&(d=`Restricted[${d}]`);let f=o(),p=o(),g=!t();return{N:d,P:f,Q:p,M:g,R:h}}}),SI=n(),Yp=new Map;let a=e().concat(j_(SI)).sort((u,d)=>u-d);a.forEach((u,d)=>{let h=t(),f=a[d]=h?a[d-h]:{V:[],M:new Map};f.V.push(u),SI.has(u)||Yp.set(u,f)});for(let{V:u,M:d}of new Set(Yp.values())){let h=[];for(let p of u){let g=Ug.filter(w=>tv(w,p)),y=h.find(({G:w})=>g.some(v=>w.has(v)));y||(y={G:new Set,V:[]},h.push(y)),y.V.push(p),r(y.G,g)}let f=h.flatMap(p=>j_(p.G));for(let{G:p,V:g}of h){let y=new Set(f.filter(w=>!p.has(w)));for(let w of g)d.set(w,y)}}ih=new Set;let c=new Set;const l=u=>ih.has(u)?c.add(u):ih.add(u);for(let u of Ug){for(let d of u.P)l(d);for(let d of u.Q)l(d)}for(let u of ih)!Yp.has(u)&&!c.has(u)&&Yp.set(u,Kq);r(ih,Gq(ih)),tB=y$e(t).map(u=>k$e.from(u)).sort(v$e),fk=new Map;for(let u of tB){let d=[fk];for(let h of u){let f=d.map(p=>{let g=p.get(h);return g||(g=new Map,p.set(h,g)),g});h===Vq?d.push(...f):d=f}for(let h of d)h.V=u}}function I3(t){return(Jq(t)?"":`${T3(DA([t]))} `)+Mq(t)}function T3(t){return`"${t}"`}function O$e(t){if(t.length>=4&&t[2]==eB&&t[3]==eB)throw new Error(`invalid label extension: "${uy(t.slice(0,4))}"`)}function R$e(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function D$e(t){let e=t[0],n=J4.get(e);if(n)throw Iw(`leading ${n}`);let r=t.length,s=-1;for(let i=1;i<r;i++){e=t[i];let o=J4.get(e);if(o){if(s==i)throw Iw(`${n} + ${o}`);s=i+1,n=o}}if(s==r)throw Iw(`trailing ${n}`)}function DA(t,e=1/0,n=Mq){let r=[];$$e(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let o=0;o<i;o++){let a=t[o];Jq(a)&&(r.push(uy(t.slice(s,o))),r.push(n(a)),s=o+1)}return r.push(uy(t.slice(s,i))),r.join("")}function $$e(t){return S3(),Ph.has(t)}function Jq(t){return S3(),Yq.has(t)}function U$e(t){return j$e(B$e(t,P$e,H$e))}function B$e(t,e,n){if(!t)return[];S3();let r=0;return t.split(qq).map(s=>{let i=b$e(s),o={input:i,offset:r};r+=i.length+1;try{let a=o.tokens=z$e(i,e,n),c=a.length,l;if(!c)throw new Error("empty label");let u=o.output=a.flat();if(R$e(u),!(o.emoji=c>1||a[0].is_emoji)&&u.every(h=>h<128))O$e(u),l="ASCII";else{let h=a.flatMap(f=>f.is_emoji?[]:f);if(!h.length)l="Emoji";else{if(Ph.has(u[0]))throw Iw("leading combining mark");for(let g=1;g<c;g++){let y=a[g];if(!y.is_emoji&&Ph.has(y[0]))throw Iw(`emoji + combining mark: "${uy(a[g-1])} + ${DA([y[0]])}"`)}D$e(u);let f=j_(new Set(h)),[p]=M$e(f);F$e(p,h),L$e(p,f),l=p.N}}o.type=l}catch(a){o.error=a}return o})}function L$e(t,e){let n,r=[];for(let s of e){let i=Yp.get(s);if(i===Kq)return;if(i){let o=i.M.get(s);if(n=n?n.filter(a=>o.has(a)):j_(o),!n.length)return}else r.push(s)}if(n){for(let s of n)if(r.every(i=>tv(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function M$e(t){let e=Ug;for(let n of t){let r=e.filter(s=>tv(s,n));if(!r.length)throw Ug.some(s=>tv(s,n))?Xq(e[0],n):Zq(n);if(e=r,r.length==1)break}return e}function j$e(t){return t.map(({input:e,error:n,output:r})=>{if(n){let s=n.message;throw new Error(t.length==1?s:`Invalid label ${T3(DA(e,63))}: ${s}`)}return uy(r)}).join(qq)}function Zq(t){return new Error(`disallowed character: ${I3(t)}`)}function Xq(t,e){let n=I3(e),r=Ug.find(s=>s.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Iw(t){return new Error(`illegal placement: ${t}`)}function F$e(t,e){for(let n of e)if(!tv(t,n))throw Xq(t,n);if(t.M){let n=Gq(e);for(let r=1,s=n.length;r<s;r++)if(hk.has(n[r])){let i=r+1;for(let o;i<s&&hk.has(o=n[i]);i++)for(let a=r;a<i;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${I3(o)}`);if(i-r>Z4)throw new Error(`excessive non-spacing marks: ${T3(DA(n.slice(r-1,i)))} (${i-r}/${Z4})`);r=i}}}function z$e(t,e,n){let r=[],s=[];for(t=t.slice().reverse();t.length;){let i=W$e(t);if(i)s.length&&(r.push(e(s)),s=[]),r.push(n(i));else{let o=t.pop();if(ih.has(o))s.push(o);else{let a=dk.get(o);if(a)s.push(...a);else if(!Qq.has(o))throw Zq(o)}}}return s.length&&r.push(e(s)),r}function H$e(t){return t.filter(e=>e!=Vq)}function W$e(t,e){let n=fk,r,s=t.length;for(;s&&(n=n.get(t[--s]),!!n);){let{V:i}=n;i&&(r=i,t.length=s)}return r}const eV=new Uint8Array(32);eV.fill(0);function nB(t){return G(t.length!==0,"invalid ENS name; empty component","comp",t),t}function tV(t){const e=cl(G$e(t)),n=[];if(t.length===0)return n;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(n.push(nB(e.slice(r,s))),r=s+1);return G(r<e.length,"invalid ENS name; empty component","name",t),n.push(nB(e.slice(r))),n}function G$e(t){try{if(t.length===0)throw new Error("empty label");return U$e(t)}catch(e){G(!1,`invalid ENS name (${e.message})`,"name",t)}}function pk(t){G(typeof t=="string","invalid ENS name; not a string","name",t),G(t.length,"invalid ENS name (empty label)","name",t);let e=eV;const n=tV(t);for(;n.length;)e=nr(Fn([e,nr(n.pop())]));return Ae(e)}function q$e(t,e){const n=e;return G(n<=255,"DNS encoded label cannot exceed 255","length",n),Ae(Fn(tV(t).map(r=>{G(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}const nV=new Uint8Array(32);nV.fill(0);const V$e=BigInt(-1),rV=BigInt(0),sV=BigInt(1),K$e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Q$e(t){const e=mt(t),n=e.length%32;return n?Fn([e,nV.slice(n)]):Ae(e)}const Y$e=Nd(sV,32),J$e=Nd(rV,32),rB={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},II=["name","version","chainId","verifyingContract","salt"];function sB(t){return function(e){return G(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Z$e={name:sB("name"),version:sB("version"),chainId:function(t){const e=He(t,"domain.chainId");return G(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):ra(e)},verifyingContract:function(t){try{return qt(t).toLowerCase()}catch{}G(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=mt(t,"domain.salt");return G(e.length===32,'invalid domain value "salt"',"domain.salt",t),Ae(e)}};function TI(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);G(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const s=Th(K$e,n?r-1:r),i=n?(s+sV)*V$e:rV;return function(o){const a=He(o,"value");return G(a>=i&&a<=s,`value out-of-bounds for ${t}`,"value",a),Nd(n?WG(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return G(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const s=mt(r);return G(s.length===n,`invalid length for ${t}`,"value",r),Q$e(r)}}}switch(t){case"address":return function(e){return As(qt(e),32)};case"bool":return function(e){return e?Y$e:J$e};case"bytes":return function(e){return nr(e)};case"string":return function(e){return Ff(e)}}return null}function iB(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function IE(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var fv,Hc,vm,V_,iV;const ro=class ro{constructor(e){W(this,V_);Y(this,"primaryType");W(this,fv);W(this,Hc);W(this,vm);R(this,Hc,new Map),R(this,vm,new Map);const n=new Map,r=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:l,type:u})=>{let{base:d,index:h}=IE(u);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:l,type:d+(h||"")}}),n.set(c,new Set),r.set(c,[]),s.set(c,new Set)}),R(this,fv,JSON.stringify(i));for(const c in i){const l=new Set;for(const u of i[c]){G(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);const d=IE(u.type).base;G(d!==c,`circular type reference to ${JSON.stringify(d)}`,"types",e),!TI(d)&&(G(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(c),n.get(c).add(d))}}const o=Array.from(r.keys()).filter(c=>r.get(c).length===0);G(o.length!==0,"missing primary type","types",e),G(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Ze(this,{primaryType:o[0]});function a(c,l){G(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(const u of n.get(c))if(r.has(u)){a(u,l);for(const d of l)s.get(d).add(u)}l.delete(c)}a(this.primaryType,new Set);for(const[c,l]of s){const u=Array.from(l);u.sort(),E(this,Hc).set(c,iB(c,i[c])+u.map(d=>iB(d,i[d])).join(""))}}get types(){return JSON.parse(E(this,fv))}getEncoder(e){let n=E(this,vm).get(e);return n||(n=ne(this,V_,iV).call(this,e),E(this,vm).set(e,n)),n}encodeType(e){const n=E(this,Hc).get(e);return G(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return nr(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(TI(e))return r(e,n);const s=IE(e).array;if(s)return G(s.count===-1||s.count===n.length,`array length mismatch; expected length ${s.count}`,"value",n),n.map(o=>this._visit(s.prefix,o,r));const i=this.types[e];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,n[a],r),o),{});G(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new ro(e)}static getPrimaryType(e){return ro.from(e).primaryType}static hashStruct(e,n,r){return ro.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const s=rB[r];G(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:s})}return n.sort((r,s)=>II.indexOf(r.name)-II.indexOf(s.name)),ro.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Fn(["0x1901",ro.hashDomain(e),ro.from(n).hash(r)])}static hash(e,n,r){return nr(ro.encode(e,n,r))}static async resolveNames(e,n,r,s){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const i={};e.verifyingContract&&!wn(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=ro.from(n);o.visit(r,(a,c)=>(a==="address"&&!wn(c,20)&&(i[c]="0x"),c));for(const a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:r}}static getPayload(e,n,r){ro.hashDomain(e);const s={},i=[];II.forEach(c=>{const l=e[c];l!=null&&(s[c]=Z$e[c](l),i.push({name:c,type:rB[c]}))});const o=ro.from(n);n=o.types;const a=Object.assign({},n);return G(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=i,o.encode(r),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(r,(c,l)=>{if(c.match(/^bytes(\d*)/))return Ae(mt(l));if(c.match(/^u?int/))return He(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return G(typeof l=="string","invalid string","value",l),l}G(!1,"unsupported type","type",c)})}}};fv=new WeakMap,Hc=new WeakMap,vm=new WeakMap,V_=new WeakSet,iV=function(e){{const s=TI(e);if(s)return s}const n=IE(e).array;if(n){const s=n.prefix,i=this.getEncoder(s);return o=>{G(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(i);return E(this,Hc).has(s)&&(a=a.map(nr)),nr(Fn(a))}}const r=this.types[e];if(r){const s=Ff(E(this,Hc).get(e));return i=>{const o=r.map(({name:a,type:c})=>{const l=this.getEncoder(c)(i[a]);return E(this,Hc).has(c)?nr(l):l});return o.unshift(s),Fn(o)}}G(!1,`unknown type: ${e}`,"type",e)};let F_=ro;function Ns(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const X$e="external public payable override",e8e=Ns(X$e.split(" ")),oV="constant external internal payable private public pure view override",t8e=Ns(oV.split(" ")),aV="constructor error event fallback function receive struct",cV=Ns(aV.split(" ")),lV="calldata memory storage payable indexed",n8e=Ns(lV.split(" ")),r8e="tuple returns",s8e=[aV,lV,r8e,oV].join(" "),i8e=Ns(s8e.split(" ")),o8e={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},a8e=new RegExp("^(\\s*)"),c8e=new RegExp("^([0-9]+)"),l8e=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),uV=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),dV=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var $r,Yo,pv,gk;const K_=class K_{constructor(e){W(this,pv);W(this,$r);W(this,Yo);R(this,$r,0),R(this,Yo,e.slice())}get offset(){return E(this,$r)}get length(){return E(this,Yo).length-E(this,$r)}clone(){return new K_(E(this,Yo))}reset(){R(this,$r,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=ne(this,pv,gk).call(this,E(this,$r)+1,e.match+1);return R(this,$r,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;E(this,$r)<e.match-1;){const r=this.peek().linkNext;n.push(ne(this,pv,gk).call(this,E(this,$r)+1,r)),R(this,$r,r)}return R(this,$r,e.match+1),n}peek(){if(E(this,$r)>=E(this,Yo).length)throw new Error("out-of-bounds");return E(this,Yo)[E(this,$r)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return Il(this,$r)._++,e}toString(){const e=[];for(let n=E(this,$r);n<E(this,Yo).length;n++){const r=E(this,Yo)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};$r=new WeakMap,Yo=new WeakMap,pv=new WeakSet,gk=function(e=0,n=0){return new K_(E(this,Yo).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let ya=K_;function jd(t){const e=[],n=o=>{const a=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let r=[],s=[],i=0;for(;i<t.length;){let o=t.substring(i),a=o.match(a8e);a&&(i+=a[1].length,o=t.substring(i));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let l=o8e[o[0]]||"";if(l){if(c.type=l,c.text=o[0],i++,l==="OPEN_PAREN")r.push(e.length-1),s.push(e.length-1);else if(l=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;u=d+u,e[e.length-1].value=ft(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=o.match(l8e),a){if(c.text=a[1],i+=c.text.length,i8e.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(dV)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(c8e),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new ya(e.map(o=>Object.freeze(o)))}function oB(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function $A(t,e){if(e.peekKeyword(cV)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function El(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function hV(t){let e=El(t,t8e);return oB(e,Ns("constant payable nonpayable".split(" "))),oB(e,Ns("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function ll(t,e){return t.popParams().map(n=>Fr.from(n,e))}function fV(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return He(t.pop().text);throw new Error("invalid gas")}return null}function zf(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const u8e=new RegExp(/^(.*)\[([0-9]*)\]$/);function aB(t){const e=t.match(dV);if(G(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);G(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);G(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const On={},mi=Symbol.for("_ethers_internal"),cB="_ParamTypeInternal",lB="_ErrorInternal",uB="_EventInternal",dB="_ConstructorInternal",hB="_FallbackInternal",fB="_FunctionInternal",pB="_StructInternal";var Em,hx;const so=class so{constructor(e,n,r,s,i,o,a,c){W(this,Em);Y(this,"name");Y(this,"type");Y(this,"baseType");Y(this,"indexed");Y(this,"components");Y(this,"arrayLength");Y(this,"arrayChildren");if(e1(e,On,"ParamType"),Object.defineProperty(this,mi,{value:cB}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Ze(this,{name:n,type:r,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=r,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(s=>r.arrayChildren.walk(s,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((s,i)=>r.components[i].walk(s,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],s=[e];return ne(this,Em,hx).call(this,r,e,n,i=>{s[0]=i}),r.length&&await Promise.all(r),s[0]}static from(e,n){if(so.isParamType(e))return e;if(typeof e=="string")try{return so.from(jd(e),n)}catch{G(!1,"invalid param type","obj",e)}else if(e instanceof ya){let a="",c="",l=null;El(e,Ns(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(g=>so.from(g)),a=`tuple(${l.map(g=>g.format()).join(",")})`):(a=aB(e.popType("TYPE")),c=a);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){const g=e.pop();u=new so(On,"",a,c,null,l,d,u),d=g.value,a+=g.text,c="array",l=null}let h=null;if(El(e,n8e).has("indexed")){if(!n)throw new Error("");h=!0}const p=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new so(On,p,a,c,h,l,d,u)}const r=e.name;G(!r||typeof r=="string"&&r.match(uV),"invalid name","obj.name",r);let s=e.indexed;s!=null&&(G(n,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(u8e);if(o){const a=parseInt(o[2]||"-1"),c=so.from({type:o[1],components:e.components});return new so(On,r||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=e.components!=null?e.components.map(l=>so.from(l)):null;return new so(On,r||"",i,"tuple",s,a,null,null)}return i=aB(e.type),new so(On,r||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[mi]===cB}};Em=new WeakSet,hx=function(e,n,r,s){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((c,l)=>{var u;ne(u=o,Em,hx).call(u,e,c,r,d=>{a[l]=d})}),s(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in n))throw new Error(`missing value for component ${c.name}`);return n[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{var u;ne(u=o[l],Em,hx).call(u,e,c,r,d=>{a[l]=d})}),s(a);return}const i=r(this.type,n);i.then?e.push(async function(){s(await i)}()):s(i)};let Fr=so;class Hf{constructor(e,n,r){Y(this,"type");Y(this,"inputs");e1(e,On,"Fragment"),r=Object.freeze(r.slice()),Ze(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{Hf.from(JSON.parse(e))}catch{}return Hf.from(jd(e))}if(e instanceof ya)switch(e.peekKeyword(cV)){case"constructor":return nl.from(e);case"error":return ai.from(e);case"event":return Ja.from(e);case"fallback":case"receive":return Uc.from(e);case"function":return Za.from(e);case"struct":return mf.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return nl.from(e);case"error":return ai.from(e);case"event":return Ja.from(e);case"fallback":case"receive":return Uc.from(e);case"function":return Za.from(e);case"struct":return mf.from(e)}he(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}G(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return nl.isFragment(e)}static isError(e){return ai.isFragment(e)}static isEvent(e){return Ja.isFragment(e)}static isFunction(e){return Za.isFragment(e)}static isStruct(e){return mf.isFragment(e)}}class UA extends Hf{constructor(n,r,s,i){super(n,r,i);Y(this,"name");G(typeof s=="string"&&s.match(uV),"invalid identifier","name",s),i=Object.freeze(i.slice()),Ze(this,{name:s})}}function nv(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class ai extends UA{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,mi,{value:lB})}get selector(){return Ff(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+nv(e,this.inputs)),n.join(" ")}static from(e){if(ai.isFragment(e))return e;if(typeof e=="string")return ai.from(jd(e));if(e instanceof ya){const n=$A("error",e),r=ll(e);return zf(e),new ai(On,n,r)}return new ai(On,e.name,e.inputs?e.inputs.map(Fr.from):[])}static isFragment(e){return e&&e[mi]===lB}}class Ja extends UA{constructor(n,r,s,i){super(n,"event",r,s);Y(this,"anonymous");Object.defineProperty(this,mi,{value:uB}),Ze(this,{anonymous:i})}get topicHash(){return Ff(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+nv(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(i=>Fr.from(i)),new Ja(On,n,r,!1).topicHash}static from(n){if(Ja.isFragment(n))return n;if(typeof n=="string")try{return Ja.from(jd(n))}catch{G(!1,"invalid event fragment","obj",n)}else if(n instanceof ya){const r=$A("event",n),s=ll(n,!0),i=!!El(n,Ns(["anonymous"])).has("anonymous");return zf(n),new Ja(On,r,s,i)}return new Ja(On,n.name,n.inputs?n.inputs.map(r=>Fr.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[mi]===uB}}class nl extends Hf{constructor(n,r,s,i,o){super(n,r,s);Y(this,"payable");Y(this,"gas");Object.defineProperty(this,mi,{value:dB}),Ze(this,{payable:i,gas:o})}format(n){if(he(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const r=[`constructor${nv(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(nl.isFragment(n))return n;if(typeof n=="string")try{return nl.from(jd(n))}catch{G(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof ya){El(n,Ns(["constructor"]));const r=ll(n),s=!!El(n,e8e).has("payable"),i=fV(n);return zf(n),new nl(On,"constructor",r,s,i)}return new nl(On,"constructor",n.inputs?n.inputs.map(Fr.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[mi]===dB}}class Uc extends Hf{constructor(n,r,s){super(n,"fallback",r);Y(this,"payable");Object.defineProperty(this,mi,{value:hB}),Ze(this,{payable:s})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:s})}return`${r}()${this.payable?" payable":""}`}static from(n){if(Uc.isFragment(n))return n;if(typeof n=="string")try{return Uc.from(jd(n))}catch{G(!1,"invalid fallback fragment","obj",n)}else if(n instanceof ya){const r=n.toString(),s=n.peekKeyword(Ns(["fallback","receive"]));if(G(s,"type must be fallback or receive","obj",r),n.popKeyword(Ns(["fallback","receive"]))==="receive"){const c=ll(n);return G(c.length===0,"receive cannot have arguments","obj.inputs",c),El(n,Ns(["payable"])),zf(n),new Uc(On,[],!0)}let o=ll(n);o.length?G(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[Fr.from("bytes")];const a=hV(n);if(G(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),El(n,Ns(["returns"])).has("returns")){const c=ll(n);G(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(l=>l.format("minimal")).join(", "))}return zf(n),new Uc(On,o,a==="payable")}if(n.type==="receive")return new Uc(On,[],!0);if(n.type==="fallback"){const r=[Fr.from("bytes")],s=n.stateMutability==="payable";return new Uc(On,r,s)}G(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[mi]===hB}}class Za extends UA{constructor(n,r,s,i,o,a){super(n,"function",r,i);Y(this,"constant");Y(this,"outputs");Y(this,"stateMutability");Y(this,"payable");Y(this,"gas");Object.defineProperty(this,mi,{value:fB}),o=Object.freeze(o.slice()),Ze(this,{constant:s==="view"||s==="pure",gas:a,outputs:o,payable:s==="payable",stateMutability:s})}get selector(){return Ff(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n))),outputs:this.outputs.map(s=>JSON.parse(s.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+nv(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(nv(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(i=>Fr.from(i)),new Za(On,n,"view",r,[],null).selector}static from(n){if(Za.isFragment(n))return n;if(typeof n=="string")try{return Za.from(jd(n))}catch{G(!1,"invalid function fragment","obj",n)}else if(n instanceof ya){const s=$A("function",n),i=ll(n),o=hV(n);let a=[];El(n,Ns(["returns"])).has("returns")&&(a=ll(n));const c=fV(n);return zf(n),new Za(On,s,o,i,a,c)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new Za(On,n.name,r,n.inputs?n.inputs.map(Fr.from):[],n.outputs?n.outputs.map(Fr.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[mi]===fB}}class mf extends UA{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,mi,{value:pB})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return mf.from(jd(e))}catch{G(!1,"invalid struct fragment","obj",e)}else if(e instanceof ya){const n=$A("struct",e),r=ll(e);return zf(e),new mf(On,n,r)}return new mf(On,e.name,e.inputs?e.inputs.map(Fr.from):[])}static isFragment(e){return e&&e[mi]===pB}}const Ea=new Map;Ea.set(0,"GENERIC_PANIC");Ea.set(1,"ASSERT_FALSE");Ea.set(17,"OVERFLOW");Ea.set(18,"DIVIDE_BY_ZERO");Ea.set(33,"ENUM_RANGE_ERROR");Ea.set(34,"BAD_STORAGE_DATA");Ea.set(49,"STACK_UNDERFLOW");Ea.set(50,"ARRAY_RANGE_ERROR");Ea.set(65,"OUT_OF_MEMORY");Ea.set(81,"UNINITIALIZED_FUNCTION_CALL");const d8e=new RegExp(/^bytes([0-9]*)$/),h8e=new RegExp(/^(u?int)([0-9]*)$/);let NI=null,gB=1024;function f8e(t,e,n,r){let s="missing revert data",i=null;const o=null;let a=null;if(n){s="execution reverted";const l=mt(n);if(n=Ae(n),l.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(Ae(l.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(Ae(l.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${Ea.get(u)||"UNKNOWN"}(${u})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?qt(e.to):null,data:e.data||"0x"};return e.from&&(c.from=qt(e.from)),Sn(s,"CALL_EXCEPTION",{action:t,data:n,reason:i,transaction:c,invocation:o,revert:a})}var Ru,Jp;const Q_=class Q_{constructor(){W(this,Ru)}getDefaultValue(e){const n=e.map(s=>ne(this,Ru,Jp).call(this,Fr.from(s)));return new SE(n,"_").defaultValue()}encode(e,n){FG(n.length,e.length,"types/values length mismatch");const r=e.map(o=>ne(this,Ru,Jp).call(this,Fr.from(o))),s=new SE(r,"_"),i=new tk;return s.encode(i,n),i.data}decode(e,n,r){const s=e.map(o=>ne(this,Ru,Jp).call(this,Fr.from(o)));return new SE(s,"_").decode(new nk(n,r,gB))}static _setDefaultMaxInflation(e){G(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),gB=e}static defaultAbiCoder(){return NI==null&&(NI=new Q_),NI}static getBuiltinCallException(e,n,r){return f8e(e,n,r,Q_.defaultAbiCoder())}};Ru=new WeakSet,Jp=function(e){if(e.isArray())return new kDe(ne(this,Ru,Jp).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new SE(e.components.map(r=>ne(this,Ru,Jp).call(this,r)),e.name);switch(e.baseType){case"address":return new NDe(e.name);case"bool":return new ODe(e.name);case"string":return new FDe(e.name);case"bytes":return new RDe(e.name);case"":return new UDe(e.name)}let n=e.type.match(h8e);if(n){let r=parseInt(n[2]||"256");return G(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new jDe(r/8,n[1]==="int",e.name)}if(n=e.type.match(d8e),n){let r=parseInt(n[1]);return G(r!==0&&r<=32,"invalid bytes length","param",e),new DDe(r,e.name)}G(!1,"invalid type","type",e.type)};let rv=Q_;class p8e{constructor(e,n,r){Y(this,"fragment");Y(this,"name");Y(this,"signature");Y(this,"topic");Y(this,"args");const s=e.name,i=e.format();Ze(this,{fragment:e,name:s,signature:i,topic:n,args:r})}}class g8e{constructor(e,n,r,s){Y(this,"fragment");Y(this,"name");Y(this,"args");Y(this,"signature");Y(this,"selector");Y(this,"value");const i=e.name,o=e.format();Ze(this,{fragment:e,name:i,args:r,signature:o,selector:n,value:s})}}class m8e{constructor(e,n,r){Y(this,"fragment");Y(this,"name");Y(this,"args");Y(this,"signature");Y(this,"selector");const s=e.name,i=e.format();Ze(this,{fragment:e,name:s,args:r,signature:i,selector:n})}}class mB{constructor(e){Y(this,"hash");Y(this,"_isIndexed");Ze(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const yB={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},wB={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&yB[t.toString()]&&(e=yB[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var ja,Fa,za,as,oc,fx,px;const ph=class ph{constructor(e){W(this,oc);Y(this,"fragments");Y(this,"deploy");Y(this,"fallback");Y(this,"receive");W(this,ja);W(this,Fa);W(this,za);W(this,as);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,R(this,za,new Map),R(this,ja,new Map),R(this,Fa,new Map);const r=[];for(const o of n)try{r.push(Hf.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}Ze(this,{fragments:Object.freeze(r)});let s=null,i=!1;R(this,as,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Ze(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(G(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=E(this,za);break;case"event":c=E(this,Fa);break;case"error":c=E(this,ja);break;default:return}const l=o.format();c.has(l)||c.set(l,o)}),this.deploy||Ze(this,{deploy:nl.from("constructor()")}),Ze(this,{fallback:s,receive:i})}format(e){const n=e?"minimal":"full";return this.fragments.map(s=>s.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return rv.defaultAbiCoder()}getFunctionName(e){const n=ne(this,oc,fx).call(this,e,null,!1);return G(n,"no matching function","key",e),n.name}hasFunction(e){return!!ne(this,oc,fx).call(this,e,null,!1)}getFunction(e,n){return ne(this,oc,fx).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(E(this,za).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(E(this,za).get(s),r)}}getEventName(e){const n=ne(this,oc,px).call(this,e,null,!1);return G(n,"no matching event","key",e),n.name}hasEvent(e){return!!ne(this,oc,px).call(this,e,null,!1)}getEvent(e,n){return ne(this,oc,px).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(E(this,Fa).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(E(this,Fa).get(s),r)}}getError(e,n){if(wn(e)){const s=e.toLowerCase();if(wB[s])return ai.from(wB[s].signature);for(const i of E(this,ja).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,o]of E(this,ja))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?ai.from("error Error(string)"):e==="Panic"?ai.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(o=>JSON.stringify(o.format())).join(", ");G(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=ai.from(e).format(),e==="Error(string)")return ai.from("error Error(string)");if(e==="Panic(uint256)")return ai.from("error Panic(uint256)");const r=E(this,ja).get(e);return r||null}forEachError(e){const n=Array.from(E(this,ja).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(E(this,ja).get(s),r)}}_decodeParams(e,n){return E(this,as).decode(e,n)}_encodeParams(e,n){return E(this,as).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);G(r,"unknown error","fragment",e),e=r}return G(Ln(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Ln(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);G(r,"unknown error","fragment",e),e=r}return Fn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);G(r,"unknown function","fragment",e),e=r}return G(Ln(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Ln(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);G(r,"unknown function","fragment",e),e=r}return Fn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const i=this.getFunction(e);G(i,"unknown function","fragment",e),e=i}let r="invalid length for result data";const s=Ss(n);if(s.length%32===0)try{return E(this,as).decode(e.outputs,s)}catch{r="could not decode result data"}he(!1,r,"BAD_DATA",{value:Ae(s),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=mt(e,"data"),s=rv.getBuiltinCallException("call",n,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const a=Ae(r.slice(0,4)),c=this.getError(a);if(c)try{const l=E(this,as).decode(c.inputs,r.slice(4));s.revert={name:c.name,signature:c.format(),args:l},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);G(r,"unknown function","fragment",e),e=r}return Ae(E(this,as).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const i=this.getEvent(e);G(i,"unknown event","eventFragment",e),e=i}he(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const s=(i,o)=>i.type==="string"?Ff(o):i.type==="bytes"?nr(Ae(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=Nd(o):i.type.match(/^bytes/)?o=ORe(o,32):i.type==="address"&&E(this,as).encode(["address"],[o]),As(Ae(o),32));for(n.forEach((i,o)=>{const a=e.inputs[o];if(!a.indexed){G(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?G(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?r.push(i.map(c=>s(a,c))):r.push(s(a,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);G(o,"unknown event","eventFragment",e),e=o}const r=[],s=[],i=[];return e.anonymous||r.push(e.topicHash),G(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const c=n[a];if(o.indexed)if(o.type==="string")r.push(Ff(c));else if(o.type==="bytes")r.push(nr(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(E(this,as).encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:E(this,as).encode(s,i),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const f=this.getEvent(e);G(f,"unknown event","eventFragment",e),e=f}if(r!=null&&!e.anonymous){const f=e.topicHash;G(wn(r[0],32)&&r[0].toLowerCase()===f,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],i=[],o=[];e.inputs.forEach((f,p)=>{f.indexed?f.type==="string"||f.type==="bytes"||f.baseType==="tuple"||f.baseType==="array"?(s.push(Fr.from({type:"bytes32",name:f.name})),o.push(!0)):(s.push(f),o.push(!1)):(i.push(f),o.push(!1))});const a=r!=null?E(this,as).decode(s,Fn(r)):null,c=E(this,as).decode(i,n,!0),l=[],u=[];let d=0,h=0;return e.inputs.forEach((f,p)=>{let g=null;if(f.indexed)if(a==null)g=new mB(null);else if(o[p])g=new mB(a[h++]);else try{g=a[h++]}catch(y){g=y}else try{g=c[d++]}catch(y){g=y}l.push(g),u.push(f.name||null)}),iy.fromItems(l,u)}parseTransaction(e){const n=mt(e.data,"tx.data"),r=He(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(Ae(n.slice(0,4)));if(!s)return null;const i=E(this,as).decode(s.inputs,n.slice(4));return new g8e(s,s.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new p8e(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=Ae(e),r=this.getError(Ln(n,0,4));if(!r)return null;const s=E(this,as).decode(r.inputs,Ln(n,4));return new m8e(r,r.selector,s)}static from(e){return e instanceof ph?e:typeof e=="string"?new ph(JSON.parse(e)):typeof e.formatJson=="function"?new ph(e.formatJson()):typeof e.format=="function"?new ph(e.format("json")):new ph(e)}};ja=new WeakMap,Fa=new WeakMap,za=new WeakMap,as=new WeakMap,oc=new WeakSet,fx=function(e,n,r){if(wn(e)){const i=e.toLowerCase();for(const o of E(this,za).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of E(this,za))o.split("(")[0]===e&&i.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,c=!0;ds.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let l=i.length-1;l>=0;l--){const u=i[l].inputs.length;u!==a&&(!c||u!==a-1)&&i.splice(l,1)}for(let l=i.length-1;l>=0;l--){const u=i[l].inputs;for(let d=0;d<n.length;d++)if(ds.isTyped(n[d])){if(d>=u.length){if(n[d].type==="overrides")continue;i.splice(l,1);break}if(n[d].type!==u[d].baseType){i.splice(l,1);break}}}}if(i.length===1&&n&&n.length!==i[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");G(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const s=E(this,za).get(Za.from(e).format());return s||null},px=function(e,n,r){if(wn(e)){const i=e.toLowerCase();for(const o of E(this,Fa).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of E(this,Fa))o.split("(")[0]===e&&i.push(a);if(n){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<n.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const a=i[o].inputs;for(let c=0;c<n.length;c++)if(ds.isTyped(n[c])&&n[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");G(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const s=E(this,Fa).get(Ja.from(e).format());return s||null};let mk=ph;const pV=BigInt(0);function Bg(t){return t??null}function Gn(t){return t==null?null:t.toString()}class bB{constructor(e,n,r){Y(this,"gasPrice");Y(this,"maxFeePerGas");Y(this,"maxPriorityFeePerGas");Ze(this,{gasPrice:Bg(e),maxFeePerGas:Bg(n),maxPriorityFeePerGas:Bg(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Gn(e),maxFeePerGas:Gn(n),maxPriorityFeePerGas:Gn(r)}}}function z_(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Ae(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=He(t[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=ft(t[s],`request.${s}`));return t.accessList&&(e.accessList=ap(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>m3(s)?Ae(s):Object.assign({},s))),e}var Wc;class y8e{constructor(e,n){Y(this,"provider");Y(this,"number");Y(this,"hash");Y(this,"timestamp");Y(this,"parentHash");Y(this,"parentBeaconBlockRoot");Y(this,"nonce");Y(this,"difficulty");Y(this,"gasLimit");Y(this,"gasUsed");Y(this,"stateRoot");Y(this,"receiptsRoot");Y(this,"blobGasUsed");Y(this,"excessBlobGas");Y(this,"miner");Y(this,"prevRandao");Y(this,"extraData");Y(this,"baseFeePerGas");W(this,Wc);R(this,Wc,e.transactions.map(r=>typeof r!="string"?new sv(r,n):r)),Ze(this,{provider:n,hash:Bg(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Bg(e.prevRandao),extraData:e.extraData,baseFeePerGas:Bg(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return E(this,Wc).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=E(this,Wc).slice();return e.length===0?[]:(he(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:d,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:p,timestamp:g,transactions:y}=this;return{_type:"Block",baseFeePerGas:Gn(e),difficulty:Gn(n),extraData:r,gasLimit:Gn(s),gasUsed:Gn(i),blobGasUsed:Gn(this.blobGasUsed),excessBlobGas:Gn(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:d,timestamp:g,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:p,transactions:y}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return E(this,Wc).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=E(this,Wc)[e];else{const r=e.toLowerCase();for(const s of E(this,Wc))if(typeof s=="string"){if(s!==r)continue;n=s;break}else{if(s.hash!==r)continue;n=s;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;G(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return w8e(this)}}Wc=new WeakMap;class r1{constructor(e,n){Y(this,"provider");Y(this,"transactionHash");Y(this,"blockHash");Y(this,"blockNumber");Y(this,"removed");Y(this,"address");Y(this,"data");Y(this,"topics");Y(this,"index");Y(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());Ze(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return he(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return he(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return he(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return b8e(this)}}var gv;class gV{constructor(e,n){Y(this,"provider");Y(this,"to");Y(this,"from");Y(this,"contractAddress");Y(this,"hash");Y(this,"index");Y(this,"blockHash");Y(this,"blockNumber");Y(this,"logsBloom");Y(this,"gasUsed");Y(this,"blobGasUsed");Y(this,"cumulativeGasUsed");Y(this,"gasPrice");Y(this,"blobGasPrice");Y(this,"type");Y(this,"status");Y(this,"root");W(this,gv);R(this,gv,Object.freeze(e.logs.map(s=>new r1(s,n))));let r=pV;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Ze(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return E(this,gv)}toJSON(){const{to:e,from:n,contractAddress:r,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:l,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:Gn(this.cumulativeGasUsed),from:n,gasPrice:Gn(this.gasPrice),blobGasUsed:Gn(this.blobGasUsed),blobGasPrice:Gn(this.blobGasPrice),gasUsed:Gn(this.gasUsed),hash:s,index:i,logs:l,logsBloom:c,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return yV(this)}reorderedEvent(e){return he(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),mV(this,e)}}gv=new WeakMap;var Du;const U3=class U3{constructor(e,n){Y(this,"provider");Y(this,"blockNumber");Y(this,"blockHash");Y(this,"index");Y(this,"hash");Y(this,"type");Y(this,"to");Y(this,"from");Y(this,"nonce");Y(this,"gasLimit");Y(this,"gasPrice");Y(this,"maxPriorityFeePerGas");Y(this,"maxFeePerGas");Y(this,"maxFeePerBlobGas");Y(this,"data");Y(this,"value");Y(this,"chainId");Y(this,"signature");Y(this,"accessList");Y(this,"blobVersionedHashes");Y(this,"authorizationList");W(this,Du);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,R(this,Du,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:s,type:i,to:o,from:a,nonce:c,data:l,signature:u,accessList:d,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:n,blobVersionedHashes:h,chainId:Gn(this.chainId),data:l,from:a,gasLimit:Gn(this.gasLimit),gasPrice:Gn(this.gasPrice),hash:s,maxFeePerGas:Gn(this.maxFeePerGas),maxPriorityFeePerGas:Gn(this.maxPriorityFeePerGas),maxFeePerBlobGas:Gn(this.maxFeePerBlobGas),nonce:c,signature:u,to:o,index:r,type:i,value:Gn(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await xs({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,s=n??0;let i=E(this,Du),o=-1,a=i===-1;const c=async()=>{if(a)return null;const{blockNumber:h,nonce:f}=await xs({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(f<this.nonce){i=h;return}if(a)return null;const p=await this.getTransaction();if(!(p&&p.blockNumber!=null))for(o===-1&&(o=i-3,o<E(this,Du)&&(o=E(this,Du)));o<=h;){if(a)return null;const g=await this.provider.getBlock(o,!0);if(g==null)return;for(const y of g)if(y===this.hash)return;for(let y=0;y<g.length;y++){const w=await g.getTransaction(y);if(w.from===this.from&&w.nonce===this.nonce){if(a)return null;const v=await this.provider.getTransactionReceipt(w.hash);if(v==null||h-v.blockNumber+1<r)return;let b="replaced";w.data===this.data&&w.to===this.to&&w.value===this.value?b="repriced":w.data==="0x"&&w.from===w.to&&w.value===pV&&(b="cancelled"),he(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:b==="replaced"||b==="cancelled",reason:b,replacement:w.replaceableTransaction(i),hash:w.hash,receipt:v})}}o++}},l=h=>{if(h==null||h.status!==0)return h;he(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return l(u);if(u){if(r===1||await u.confirmations()>=r)return l(u)}else if(await c(),r===0)return null;return await new Promise((h,f)=>{const p=[],g=()=>{p.forEach(w=>w())};if(p.push(()=>{a=!0}),s>0){const w=setTimeout(()=>{g(),f(Sn("wait for transaction timeout","TIMEOUT"))},s);p.push(()=>{clearTimeout(w)})}const y=async w=>{if(await w.confirmations()>=r){g();try{h(l(w))}catch(v){f(v)}}};if(p.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),i>=0){const w=async()=>{try{await c()}catch(v){if(Mr(v,"TRANSACTION_REPLACED")){g(),f(v);return}}a||this.provider.once("block",w)};p.push(()=>{this.provider.off("block",w)}),this.provider.once("block",w)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return he(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),yV(this)}reorderedEvent(e){return he(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),he(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),mV(this,e)}replaceableTransaction(e){G(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new U3(this,this.provider);return R(n,Du,e),n}};Du=new WeakMap;let sv=U3;function w8e(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function mV(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function yV(t){return{orphan:"drop-transaction",tx:t}}function b8e(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class N3 extends r1{constructor(n,r,s){super(n,n.provider);Y(this,"interface");Y(this,"fragment");Y(this,"args");const i=r.decodeEventLog(s,n.data,n.topics);Ze(this,{args:i,fragment:s,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class wV extends r1{constructor(n,r){super(n,n.provider);Y(this,"error");Ze(this,{error:r})}}var xm;class v8e extends gV{constructor(n,r,s){super(s,r);W(this,xm);R(this,xm,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?E(this,xm).getEvent(n.topics[0]):null;if(r)try{return new N3(n,E(this,xm),r)}catch(s){return new wV(n,s)}return n})}}xm=new WeakMap;var mv;class P3 extends sv{constructor(n,r,s){super(s,r);W(this,mv);R(this,mv,n)}async wait(n,r){const s=await super.wait(n,r);return s==null?null:new v8e(E(this,mv),this.provider,s)}}mv=new WeakMap;class bV extends GG{constructor(n,r,s,i){super(n,r,s);Y(this,"log");Ze(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class E8e extends bV{constructor(e,n,r,s,i){super(e,n,r,new N3(i,e.interface,s));const o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);Ze(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const vB=BigInt(0);function vV(t){return t&&typeof t.call=="function"}function EV(t){return t&&typeof t.estimateGas=="function"}function BA(t){return t&&typeof t.resolveName=="function"}function xV(t){return t&&typeof t.sendTransaction=="function"}function _V(t){if(t!=null){if(BA(t))return t;if(t.provider)return t.provider}}var yv;class x8e{constructor(e,n,r){W(this,yv);Y(this,"fragment");if(Ze(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const s=Wf(e.runner,"resolveName"),i=BA(s)?s:null;R(this,yv,async function(){const o=await Promise.all(n.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(h=>Ts(h,i))):Ts(d,i):d)));return e.interface.encodeFilterTopics(n,o)}())}getTopicFilter(){return E(this,yv)}}yv=new WeakMap;function Wf(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function kh(t){return t==null?null:t.provider||null}async function CV(t,e){const n=ds.dereference(t,"overrides");G(typeof n=="object","invalid overrides parameter","overrides",t);const r=z_(n);return G(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),G(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function _8e(t,e,n){const r=Wf(t,"resolveName"),s=BA(r)?r:null;return await Promise.all(e.map((i,o)=>i.walkAsync(n[o],(a,c)=>(c=ds.dereference(c,a),a==="address"?Ts(c,s):c))))}function C8e(t){const e=async function(o){const a=await CV(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await Ts(a.from,_V(t.runner)));const c=t.interface,l=He(a.value||vB,"overrides.value")===vB,u=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&G(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),G(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const d=c.receive||c.fallback&&c.fallback.payable;return G(d||l,"cannot send value to non-payable fallback","overrides.value",a.value),G(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=Wf(t.runner,"call");he(vV(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await a.call(c)}catch(l){throw g3(l)&&l.data?t.interface.makeError(l.data,c):l}},r=async function(o){const a=t.runner;he(xV(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(o)),l=kh(t.runner);return new P3(t.interface,l,c)},s=async function(o){const a=Wf(t.runner,"estimateGas");return he(EV(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await r(o);return Ze(i,{_contract:t,estimateGas:s,populateTransaction:e,send:r,staticCall:n}),i}function A8e(t,e){const n=function(...l){const u=t.interface.getFunction(e,l);return he(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},r=async function(...l){const u=n(...l);let d={};if(u.inputs.length+1===l.length&&(d=await CV(l.pop()),d.from&&(d.from=await Ts(d.from,_V(t.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await _8e(t.runner,u.inputs,l);return Object.assign({},d,await xs({to:t.getAddress(),data:t.interface.encodeFunctionData(u,h)}))},s=async function(...l){const u=await a(...l);return u.length===1?u[0]:u},i=async function(...l){const u=t.runner;he(xV(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await u.sendTransaction(await r(...l)),h=kh(t.runner);return new P3(t.interface,h,d)},o=async function(...l){const u=Wf(t.runner,"estimateGas");return he(EV(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...l))},a=async function(...l){const u=Wf(t.runner,"call");he(vV(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await r(...l);let h="0x";try{h=await u.call(d)}catch(p){throw g3(p)&&p.data?t.interface.makeError(p.data,d):p}const f=n(...l);return t.interface.decodeFunctionResult(f,h)},c=async(...l)=>n(...l).constant?await s(...l):await i(...l);return Ze(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=t.interface.getFunction(e);return he(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function S8e(t,e){const n=function(...s){const i=t.interface.getEvent(e,s);return he(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},r=function(...s){return new x8e(t,n(...s),s)};return Ze(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return he(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),r}const H_=Symbol.for("_ethersInternal_contract"),AV=new WeakMap;function I8e(t,e){AV.set(t[H_],e)}function Ii(t){return AV.get(t[H_])}function T8e(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function k3(t,e){let n,r=null;if(Array.isArray(e)){const i=function(o){if(wn(o,32))return o;const a=t.interface.getEvent(o);return G(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?n=[null]:typeof e=="string"?wn(e,32)?n=[e]:(r=t.interface.getEvent(e),G(r,"unknown fragment","event",e),n=[r.topicHash]):T8e(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):G(!1,"unknown event name","event",e);n=n.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=n.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:r,tag:s,topics:n}}async function q0(t,e){const{subs:n}=Ii(t);return n.get((await k3(t,e)).tag)||null}async function EB(t,e,n){const r=kh(t.runner);he(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:o}=await k3(t,n),{addr:a,subs:c}=Ii(t);let l=c.get(i);if(!l){const d={address:a||t,topics:o},h=y=>{let w=s;if(w==null)try{w=t.interface.getEvent(y.topics[0])}catch{}if(w){const v=w,b=s?t.interface.decodeEventLog(s,y.data,y.topics):[];wk(t,n,b,_=>new E8e(t,_,n,v,y))}else wk(t,n,[],v=>new bV(t,v,n,y))};let f=[];l={tag:i,listeners:[],start:()=>{f.length||f.push(r.on(d,h))},stop:async()=>{if(f.length==0)return;let y=f;f=[],await Promise.all(y),r.off(d,h)}},c.set(i,l)}return l}let yk=Promise.resolve();async function N8e(t,e,n,r){await yk;const s=await q0(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{const c=Array.from(n);r&&c.push(r(a?null:o));try{o.call(t,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),Ii(t).subs.delete(s.tag)),i>0}async function wk(t,e,n,r){try{await yk}catch{}const s=N8e(t,e,n,r);return yk=s,await s}const TE=["then"];var VB;VB=H_;const Tw=class Tw{constructor(e,n,r,s){Y(this,"target");Y(this,"interface");Y(this,"runner");Y(this,"filters");Y(this,VB);Y(this,"fallback");G(typeof e=="string"||Pq(e),"invalid value for Contract target","target",e),r==null&&(r=null);const i=mk.from(n);Ze(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,H_,{value:{}});let o,a=null,c=null;if(s){const d=kh(r);c=new P3(this.interface,d,s)}let l=new Map;if(typeof e=="string")if(wn(e))a=e,o=Promise.resolve(e);else{const d=Wf(r,"resolveName");if(!BA(d))throw Sn("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=d.resolveName(e).then(h=>{if(h==null)throw Sn("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ii(this).addr=h,h})}else o=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return Ii(this).addr=d,d});I8e(this,{addrPromise:o,addr:a,deployTx:c,subs:l});const u=new Proxy({},{get:(d,h,f)=>{if(typeof h=="symbol"||TE.indexOf(h)>=0)return Reflect.get(d,h,f);try{return this.getEvent(h)}catch(p){if(!Mr(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(d,h)=>TE.indexOf(h)>=0?Reflect.has(d,h):Reflect.has(d,h)||this.interface.hasEvent(String(h))});return Ze(this,{filters:u}),Ze(this,{fallback:i.receive||i.fallback?C8e(this):null}),new Proxy(this,{get:(d,h,f)=>{if(typeof h=="symbol"||h in d||TE.indexOf(h)>=0)return Reflect.get(d,h,f);try{return d.getFunction(h)}catch(p){if(!Mr(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(d,h)=>typeof h=="symbol"||h in d||TE.indexOf(h)>=0?Reflect.has(d,h):d.interface.hasFunction(h)})}connect(e){return new Tw(this.target,this.interface,e)}attach(e){return new Tw(e,this.interface,this.runner)}async getAddress(){return await Ii(this).addrPromise}async getDeployedCode(){const e=kh(this.runner);he(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=kh(this.runner);return he(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return Ii(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),A8e(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),S8e(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:s,addrPromise:i}=Ii(this),o=s||await i,{fragment:a,topics:c}=await k3(this,e),l={address:o,topics:c,fromBlock:n,toBlock:r},u=kh(this.runner);return he(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(d=>{let h=a;if(h==null)try{h=this.interface.getEvent(d.topics[0])}catch{}if(h)try{return new N3(d,this.interface,h)}catch(f){return new wV(d,f)}return new r1(d,u)})}async on(e,n){const r=await EB(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await EB(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await wk(this,e,n,null)}async listenerCount(e){if(e){const s=await q0(this,e);return s?s.listeners.length:0}const{subs:n}=Ii(this);let r=0;for(const{listeners:s}of n.values())r+=s.length;return r}async listeners(e){if(e){const s=await q0(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:n}=Ii(this);let r=[];for(const{listeners:s}of n.values())r=r.concat(s.map(({listener:i})=>i));return r}async off(e,n){const r=await q0(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:i})=>i).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Ii(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await q0(this,e);if(!n)return this;n.stop(),Ii(this).subs.delete(n.tag)}else{const{subs:n}=Ii(this);for(const{tag:r,stop:s}of n.values())s(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends Tw{constructor(s,i=null){super(s,e,i)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let bk=Tw;function P8e(){return bk}class yf extends P8e(){}function PI(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):G(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class k8e{constructor(e){Y(this,"name");Ze(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const SV=new RegExp("^(ipfs)://(.*)$","i"),xB=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),SV,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var $u,Xh,Uu,Zp,Y_,IV;const wg=class wg{constructor(e,n,r){W(this,Uu);Y(this,"provider");Y(this,"address");Y(this,"name");W(this,$u);W(this,Xh);Ze(this,{provider:e,address:n,name:r}),R(this,$u,null),R(this,Xh,new yf(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return E(this,$u)==null&&R(this,$u,(async()=>{try{return await E(this,Xh).supportsInterface("0x9061b923")}catch(e){if(Mr(e,"CALL_EXCEPTION"))return!1;throw R(this,$u,null),e}})()),await E(this,$u)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await ne(this,Uu,Zp).call(this,"addr(bytes32)");return i==null||i===Yb?null:i}catch(i){if(Mr(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await ne(this,Uu,Zp).call(this,"addr(bytes32,uint)",[i]);if(wn(o,20))return qt(o)}let n=null;for(const i of this.provider.plugins)if(i instanceof k8e&&i.supportsCoinType(e)){n=i;break}if(n==null)return null;const r=await ne(this,Uu,Zp).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const s=await n.decodeAddress(e,r);if(s!=null)return s;he(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await ne(this,Uu,Zp).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await ne(this,Uu,Zp).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=n[1]==="e3010170"?"ipfs":"ipns",i=parseInt(n[4],16);if(n[5].length===i*2)return`${s}://${DRe("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;he(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<xB.length;r++){const s=n.match(xB[r]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=PI(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const l=c[1],u=new yf(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const g=await u.ownerOf(l);if(a!==g)return e.push({type:"!owner",value:g}),{url:null,linkage:e};e.push({type:"owner",value:g})}else if(i==="erc1155"){const g=await u.balanceOf(a,l);if(!g)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:g.toString()})}let d=await u[o](l);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),i==="erc1155"&&(d=d.replace("{id}",Nd(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=PI(d)),e.push({type:"metadata-url",value:d});let h={};const f=await new Pd(d).send();f.assertOk();try{h=f.bodyJson}catch{try{e.push({type:"!metadata",value:f.bodyText})}catch{const w=f.body;return w&&e.push({type:"!metadata",value:Ae(w)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let p=h.image;if(typeof p!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!p.match(/^(https:\/\/|data:)/i)){if(p.match(SV)==null)return e.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:p}),p=PI(p)}return e.push({type:"url",value:p}),{linkage:e,url:p}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return he(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var s;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const i=await ne(s=wg,Y_,IV).call(s,e,r);if(i!=null){const o=new wg(e,i,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};$u=new WeakMap,Xh=new WeakMap,Uu=new WeakSet,Zp=async function(e,n){n=(n||[]).slice();const r=E(this,Xh).interface;n.unshift(pk(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(e),he(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[q$e(this.name,255),r.encodeFunctionData(s,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const i=await E(this,Xh)[e](...n);return s?r.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Mr(i,"CALL_EXCEPTION"))throw i}return null},Y_=new WeakSet,IV=async function(e,n){const r=await wg.getEnsAddress(e);try{const i=await new yf(r,["function resolver(bytes32) view returns (address)"],e).resolver(pk(n),{enableCcipRead:!0});return i===Yb?null:i}catch(s){throw s}return null},W(wg,Y_);let W_=wg;const _B=BigInt(0);function At(t,e){return function(n){return n==null?e:t(n)}}function iv(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function s1(t,e){return n=>{const r={};for(const s in t){let i=s;if(e&&s in e&&!(i in n)){for(const o of e[s])if(o in n){i=o;break}}try{const o=t[s](n[i]);o!==void 0&&(r[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";he(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:n})}}return r}}function O8e(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}G(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function hy(t){return G(wn(t,!0),"invalid data","value",t),t}function Lr(t){return G(wn(t,32),"invalid hash","value",t),t}const R8e=s1({address:qt,blockHash:Lr,blockNumber:ft,data:hy,index:ft,removed:At(O8e,!1),topics:iv(Lr),transactionHash:Lr,transactionIndex:ft},{index:["logIndex"]});function D8e(t){return R8e(t)}const $8e=s1({hash:At(Lr),parentHash:Lr,parentBeaconBlockRoot:At(Lr,null),number:ft,timestamp:ft,nonce:At(hy),difficulty:He,gasLimit:He,gasUsed:He,stateRoot:At(Lr,null),receiptsRoot:At(Lr,null),blobGasUsed:At(He,null),excessBlobGas:At(He,null),miner:At(qt),prevRandao:At(Lr,null),extraData:hy,baseFeePerGas:At(He)},{prevRandao:["mixHash"]});function U8e(t){const e=$8e(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:TV(n)),e}const B8e=s1({transactionIndex:ft,blockNumber:ft,transactionHash:Lr,address:qt,topics:iv(Lr),data:hy,index:ft,blockHash:Lr},{index:["logIndex"]});function L8e(t){return B8e(t)}const M8e=s1({to:At(qt,null),from:At(qt,null),contractAddress:At(qt,null),index:ft,root:At(Ae),gasUsed:He,blobGasUsed:At(He,null),logsBloom:At(hy),blockHash:Lr,hash:Lr,logs:iv(L8e),blockNumber:ft,cumulativeGasUsed:He,effectiveGasPrice:At(He),blobGasPrice:At(He,null),status:At(ft),type:At(ft,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function j8e(t){return M8e(t)}function TV(t){t.to&&He(t.to)===_B&&(t.to="0x0000000000000000000000000000000000000000");const e=s1({hash:Lr,index:At(ft,void 0),type:n=>n==="0x"||n==null?0:ft(n),accessList:At(ap,null),blobVersionedHashes:At(iv(Lr,!0),null),authorizationList:At(iv(n=>{let r;if(n.signature)r=n.signature;else{let s=n.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),r=Object.assign({},n,{yParity:s})}return{address:qt(n.address),chainId:He(n.chainId),nonce:He(n.nonce),signature:gi.from(r)}},!1),null),blockHash:At(Lr,null),blockNumber:At(ft,null),transactionIndex:At(ft,null),from:qt,gasPrice:At(He),maxPriorityFeePerGas:At(He),maxFeePerGas:At(He),maxFeePerBlobGas:At(He,null),gasLimit:He,to:At(qt,null),value:He,nonce:ft,data:hy,creates:At(qt,null),chainId:At(He,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=TDe(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=gi.from(t.signature):e.signature=gi.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&He(e.blockHash)===_B&&(e.blockHash=null),e}const F8e="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class i1{constructor(e){Y(this,"name");Ze(this,{name:e})}clone(){return new i1(this.name)}}class LA extends i1{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);Y(this,"effectiveBlock");Y(this,"txBase");Y(this,"txCreate");Y(this,"txDataZero");Y(this,"txDataNonzero");Y(this,"txAccessListStorageKey");Y(this,"txAccessListAddress");const s={effectiveBlock:n};function i(o,a){let c=(r||{})[o];c==null&&(c=a),G(typeof c=="number",`invalud value for ${o}`,"costs",r),s[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),Ze(this,s)}clone(){return new LA(this.effectiveBlock,this)}}class MA extends i1{constructor(n,r){super("org.ethers.plugins.network.Ens");Y(this,"address");Y(this,"targetNetwork");Ze(this,{address:n||F8e,targetNetwork:r??1})}clone(){return new MA(this.address,this.targetNetwork)}}var wv,bv;class z8e extends i1{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");W(this,wv);W(this,bv);R(this,wv,n),R(this,bv,r)}get url(){return E(this,wv)}get processFunc(){return E(this,bv)}clone(){return this}}wv=new WeakMap,bv=new WeakMap;const kI=new Map;var _m,Cm,Bu;const bg=class bg{constructor(e,n){W(this,_m);W(this,Cm);W(this,Bu);R(this,_m,e),R(this,Cm,He(n)),R(this,Bu,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return E(this,_m)}set name(e){R(this,_m,e)}get chainId(){return E(this,Cm)}set chainId(e){R(this,Cm,He(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===He(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===He(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===He(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(E(this,Bu).values())}attachPlugin(e){if(E(this,Bu).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return E(this,Bu).set(e.name,e.clone()),this}getPlugin(e){return E(this,Bu).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new bg(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new LA;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const s=ap(e.accessList);for(const i in s)r+=n.txAccessListAddress+n.txAccessListStorageKey*s[i].storageKeys.length}return r}static from(e){if(H8e(),e==null)return bg.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=kI.get(e);if(n)return n();if(typeof e=="bigint")return new bg("unknown",e);G(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){G(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new bg(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new MA(e.ensAddress,e.ensNetwork)),n}G(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=kI.get(e);r&&G(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),kI.set(e,n)}};_m=new WeakMap,Cm=new WeakMap,Bu=new WeakMap;let Xa=bg;function CB(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function AB(t){return new z8e(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([r.send(),e()]);s=i;const a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:CB(a.maxFee,9),maxPriorityFeePerGas:CB(a.maxPriorityFee,9)}}catch(i){he(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:i})}})}let SB=!1;function H8e(){if(SB)return;SB=!0;function t(e,n,r){const s=function(){const i=new Xa(e,n);return r.ensNetwork!=null&&i.attachPlugin(new MA(null,r.ensNetwork)),i.attachPlugin(new LA),(r.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};Xa.register(e,s),Xa.register(n,s),r.altNames&&r.altNames.forEach(i=>{Xa.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[AB("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[AB("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function vk(t){return JSON.parse(JSON.stringify(t))}var Gc,oo,Lu,Ha,Am,gx;class W8e{constructor(e){W(this,Am);W(this,Gc);W(this,oo);W(this,Lu);W(this,Ha);R(this,Gc,e),R(this,oo,null),R(this,Lu,4e3),R(this,Ha,-2)}get pollingInterval(){return E(this,Lu)}set pollingInterval(e){R(this,Lu,e)}start(){E(this,oo)||(R(this,oo,E(this,Gc)._setTimeout(ne(this,Am,gx).bind(this),E(this,Lu))),ne(this,Am,gx).call(this))}stop(){E(this,oo)&&(E(this,Gc)._clearTimeout(E(this,oo)),R(this,oo,null))}pause(e){this.stop(),e&&R(this,Ha,-2)}resume(){this.start()}}Gc=new WeakMap,oo=new WeakMap,Lu=new WeakMap,Ha=new WeakMap,Am=new WeakSet,gx=async function(){try{const e=await E(this,Gc).getBlockNumber();if(E(this,Ha)===-2){R(this,Ha,e);return}if(e!==E(this,Ha)){for(let n=E(this,Ha)+1;n<=e;n++){if(E(this,oo)==null)return;await E(this,Gc).emit("block",n)}R(this,Ha,e)}}catch{}E(this,oo)!=null&&R(this,oo,E(this,Gc)._setTimeout(ne(this,Am,gx).bind(this),E(this,Lu)))};var ef,tf,Mu;class O3{constructor(e){W(this,ef);W(this,tf);W(this,Mu);R(this,ef,e),R(this,Mu,!1),R(this,tf,n=>{this._poll(n,E(this,ef))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){E(this,Mu)||(R(this,Mu,!0),E(this,tf).call(this,-2),E(this,ef).on("block",E(this,tf)))}stop(){E(this,Mu)&&(R(this,Mu,!1),E(this,ef).off("block",E(this,tf)))}pause(e){this.stop()}resume(){this.start()}}ef=new WeakMap,tf=new WeakMap,Mu=new WeakMap;var Sm,qc;class G8e extends O3{constructor(n,r){super(n);W(this,Sm);W(this,qc);R(this,Sm,r),R(this,qc,-2)}pause(n){n&&R(this,qc,-2),super.pause(n)}async _poll(n,r){const s=await r.getBlock(E(this,Sm));s!=null&&(E(this,qc)===-2?R(this,qc,s.number):s.number>E(this,qc)&&(r.emit(E(this,Sm),s.number),R(this,qc,s.number)))}}Sm=new WeakMap,qc=new WeakMap;var J_;class q8e extends O3{constructor(n,r){super(n);W(this,J_);R(this,J_,vk(r))}async _poll(n,r){throw new Error("@TODO")}}J_=new WeakMap;var Im;class V8e extends O3{constructor(n,r){super(n);W(this,Im);R(this,Im,r)}async _poll(n,r){const s=await r.getTransactionReceipt(E(this,Im));s&&r.emit(E(this,Im),s)}}Im=new WeakMap;var Vc,Tm,Nm,ju,ao,Z_,NV;class R3{constructor(e,n){W(this,Z_);W(this,Vc);W(this,Tm);W(this,Nm);W(this,ju);W(this,ao);R(this,Vc,e),R(this,Tm,vk(n)),R(this,Nm,ne(this,Z_,NV).bind(this)),R(this,ju,!1),R(this,ao,-2)}start(){E(this,ju)||(R(this,ju,!0),E(this,ao)===-2&&E(this,Vc).getBlockNumber().then(e=>{R(this,ao,e)}),E(this,Vc).on("block",E(this,Nm)))}stop(){E(this,ju)&&(R(this,ju,!1),E(this,Vc).off("block",E(this,Nm)))}pause(e){this.stop(),e&&R(this,ao,-2)}resume(){this.start()}}Vc=new WeakMap,Tm=new WeakMap,Nm=new WeakMap,ju=new WeakMap,ao=new WeakMap,Z_=new WeakSet,NV=async function(e){if(E(this,ao)===-2)return;const n=vk(E(this,Tm));n.fromBlock=E(this,ao)+1,n.toBlock=e;const r=await E(this,Vc).getLogs(n);if(r.length===0){E(this,ao)<e-60&&R(this,ao,e-60);return}for(const s of r)E(this,Vc).emit(E(this,Tm),s),R(this,ao,s.blockNumber)};const K8e=BigInt(2),Q8e=10;function NE(t){return t&&typeof t.then=="function"}function mx(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((i,o)=>(i[o]=r[o],i),{})}return r})}class PV{constructor(e){Y(this,"name");Ze(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Y8e(t){return JSON.parse(JSON.stringify(t))}function Ek(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function OI(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(wn(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:mx("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:mx("orphan",n),filter:Y8e(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(s=>s==null?null:Array.isArray(s)?Ek(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(n.address){const s=[],i=[],o=a=>{wn(a)?s.push(a):i.push((async()=>{s.push(await Ts(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),i.length&&await Promise.all(i),r.address=Ek(s.map(a=>a.toLowerCase()))}return{filter:r,tag:mx("event",r),type:"event"}}G(!1,"unknown ProviderEvent","event",t)}function RI(){return new Date().getTime()}const J8e={cacheTimeout:250,pollingInterval:4e3};var cs,Fu,ls,Pm,ki,nf,zu,Kc,vv,co,km,Om,wt,Ai,xk,_k,V0,Ck,K0,yx;class Z8e{constructor(e,n){W(this,wt);W(this,cs);W(this,Fu);W(this,ls);W(this,Pm);W(this,ki);W(this,nf);W(this,zu);W(this,Kc);W(this,vv);W(this,co);W(this,km);W(this,Om);if(R(this,Om,Object.assign({},J8e,n||{})),e==="any")R(this,nf,!0),R(this,ki,null);else if(e){const r=Xa.from(e);R(this,nf,!1),R(this,ki,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else R(this,nf,!1),R(this,ki,null);R(this,Kc,-1),R(this,zu,new Map),R(this,cs,new Map),R(this,Fu,new Map),R(this,ls,null),R(this,Pm,!1),R(this,vv,1),R(this,co,new Map),R(this,km,!1)}get pollingInterval(){return E(this,Om).pollingInterval}get provider(){return this}get plugins(){return Array.from(E(this,Fu).values())}attachPlugin(e){if(E(this,Fu).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return E(this,Fu).set(e.name,e.connect(this)),this}getPlugin(e){return E(this,Fu).get(e)||null}get disableCcipRead(){return E(this,km)}set disableCcipRead(e){R(this,km,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const c=r[a],l=c.replace("{sender}",s).replace("{data}",i),u=new Pd(l);c.indexOf("{data}")===-1&&(u.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let d="unknown error",h;try{h=await u.send()}catch(f){o.push(f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:f}});continue}try{const f=h.bodyJson;if(f.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:f}),f.data;f.message&&(d=f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:f})}catch{}he(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:d}}),o.push(d)}he(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new y8e(U8e(e),this)}_wrapLog(e,n){return new r1(D8e(e),this)}_wrapTransactionReceipt(e,n){return new gV(j8e(e),this)}_wrapTransactionResponse(e,n){return new sv(TV(e),this)}_detectNetwork(){he(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){he(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=ft(await ne(this,wt,Ai).call(this,{method:"getBlockNumber"}),"%response");return E(this,Kc)>=0&&R(this,Kc,e),e}_getAddress(e){return Ts(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(wn(e))return wn(e,32)?e:ra(e);if(typeof e=="bigint"&&(e=ft(e,"blockTag")),typeof e=="number")return e>=0?ra(e):E(this,Kc)>=0?ra(E(this,Kc)+e):this.getBlockNumber().then(n=>ra(n+e));G(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?Ek(c.map(l=>l.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,s=(c,l,u)=>{let d;switch(c.length){case 0:break;case 1:d=c[0];break;default:c.sort(),d=c}if(r&&(l!=null||u!=null))throw new Error("invalid filter");const h={};return d&&(h.address=d),n.length&&(h.topics=n),l&&(h.fromBlock=l),u&&(h.toBlock=u),r&&(h.blockHash=r),h};let i=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(e){const n=z_(e),r=[];if(["to","from"].forEach(s=>{if(n[s]==null)return;const i=Ts(n[s],this);NE(i)?r.push(async function(){n[s]=await i}()):n[s]=i}),n.blockTag!=null){const s=this._getBlockTag(n.blockTag);NE(s)?r.push(async function(){n.blockTag=await s}()):n.blockTag=s}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(E(this,ki)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw E(this,ki)===s&&R(this,ki,null),i}})();return R(this,ki,s),(await s).clone()}const e=E(this,ki),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(E(this,nf)?(this.emit("network",r,n),E(this,ki)===e&&R(this,ki,Promise.resolve(r))):he(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:s,gasPrice:i,priorityFee:o}=await xs({_block:ne(this,wt,Ck).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await ne(this,wt,Ai).call(this,{method:"getGasPrice"});return He(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await ne(this,wt,Ai).call(this,{method:"getPriorityFee"});return He(u,"%response")}catch{}return null})()});let a=null,c=null;const l=this._wrapBlock(s,e);return l&&l.baseFeePerGas&&(c=o??BigInt("1000000000"),a=l.baseFeePerGas*K8e+c),new bB(i,a,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const s=new Pd(r.url),i=await r.processFunc(n,this,s);return new bB(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return NE(n)&&(n=await n),He(await ne(this,wt,Ai).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await xs({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await ne(this,wt,_k).call(this,ne(this,wt,xk).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return He(await ne(this,wt,V0).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return ft(await ne(this,wt,V0).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return Ae(await ne(this,wt,V0).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const s=He(n,"position");return Ae(await ne(this,wt,V0).call(this,{method:"getStorage",position:s},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:s}=await xs({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=$_.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:s}=await xs({network:this.getNetwork(),params:ne(this,wt,Ck).call(this,e,!!n)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(e){const{network:n,params:r}=await xs({network:this.getNetwork(),params:ne(this,wt,Ai).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await xs({network:this.getNetwork(),params:ne(this,wt,Ai).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const s=await ne(this,wt,Ai).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await xs({network:this.getNetwork(),result:ne(this,wt,Ai).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:Ae(n)}async getLogs(e){let n=this._getFilter(e);NE(n)&&(n=await n);const{network:r,params:s}=await xs({network:this.getNetwork(),params:ne(this,wt,Ai).call(this,{method:"getLogs",filter:n})});return s.map(i=>this._wrapLog(i,r))}_getProvider(e){he(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await W_.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=qt(e);const n=pk(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await W_.getEnsAddress(this),i=await new yf(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(i==null||i===Yb)return null;const a=await new yf(i,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(Mr(r,"BAD_DATA")&&r.value==="0x"||Mr(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const s=n??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null;const c=async l=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=s){i(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(Sn("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){he(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=E(this,co).get(e);n&&(n.timer&&clearTimeout(n.timer),E(this,co).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=Il(this,vv)._++,s=()=>{E(this,co).delete(r),e()};if(this.paused)E(this,co).set(r,{timer:null,func:s,time:n});else{const i=setTimeout(s,n);E(this,co).set(r,{timer:i,func:s,time:RI()})}return r}_forEachSubscriber(e){for(const n of E(this,cs).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new PV(e.type);case"block":{const n=new W8e(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new G8e(this,e.type);case"event":return new R3(this,e.filter);case"transaction":return new V8e(this,e.hash);case"orphan":return new q8e(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of E(this,cs).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),E(this,ls)!=null&&n.pause(E(this,ls));break}}async on(e,n){const r=await ne(this,wt,yx).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,E(this,ls)!=null&&r.subscriber.pause(E(this,ls))),this}async once(e,n){const r=await ne(this,wt,yx).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,E(this,ls)!=null&&r.subscriber.pause(E(this,ls))),this}async emit(e,...n){const r=await ne(this,wt,K0).call(this,e,n);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:o})=>{const a=new GG(this,o?null:i,e);try{i.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),E(this,cs).delete(r.tag)),s>0}async listenerCount(e){if(e){const r=await ne(this,wt,K0).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of E(this,cs).values())n+=r.length;return n}async listeners(e){if(e){const r=await ne(this,wt,K0).call(this,e);return r?r.listeners.map(({listener:s})=>s):[]}let n=[];for(const{listeners:r}of E(this,cs).values())n=n.concat(r.map(({listener:s})=>s));return n}async off(e,n){const r=await ne(this,wt,K0).call(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:i})=>i).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),E(this,cs).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:s}=await ne(this,wt,yx).call(this,e);r&&s.stop(),E(this,cs).delete(n)}else for(const[n,{started:r,subscriber:s}]of E(this,cs))r&&s.stop(),E(this,cs).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return E(this,Pm)}destroy(){this.removeAllListeners();for(const e of E(this,co).keys())this._clearTimeout(e);R(this,Pm,!0)}get paused(){return E(this,ls)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(R(this,Kc,-1),E(this,ls)!=null){if(E(this,ls)==!!e)return;he(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),R(this,ls,!!e);for(const n of E(this,co).values())n.timer&&clearTimeout(n.timer),n.time=RI()-n.time}resume(){if(E(this,ls)!=null){this._forEachSubscriber(e=>e.resume()),R(this,ls,null);for(const e of E(this,co).values()){let n=e.time;n<0&&(n=0),e.time=RI(),setTimeout(e.func,n)}}}}cs=new WeakMap,Fu=new WeakMap,ls=new WeakMap,Pm=new WeakMap,ki=new WeakMap,nf=new WeakMap,zu=new WeakMap,Kc=new WeakMap,vv=new WeakMap,co=new WeakMap,km=new WeakMap,Om=new WeakMap,wt=new WeakSet,Ai=async function(e){const n=E(this,Om).cacheTimeout;if(n<0)return await this._perform(e);const r=mx(e.method,e);let s=E(this,zu).get(r);return s||(s=this._perform(e),E(this,zu).set(r,s),setTimeout(()=>{E(this,zu).get(r)===s&&E(this,zu).delete(r)},n)),await s},xk=async function(e,n,r){he(r<Q8e,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const s=z_(e);try{return Ae(await this._perform({method:"call",transaction:s,blockTag:n}))}catch(i){if(!this.disableCcipRead&&g3(i)&&i.data&&r>=0&&n==="latest"&&s.to!=null&&Ln(i.data,0,4)==="0x556f1830"){const o=i.data,a=await Ts(s.to,this);let c;try{c=r5e(Ln(i.data,4))}catch(d){he(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}he(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(s,c.calldata,c.urls);he(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});const u={to:a,data:Fn([c.selector,n5e([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const d=await ne(this,wt,xk).call(this,u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw i}},_k=async function(e){const{value:n}=await xs({network:this.getNetwork(),value:e});return n},V0=async function(e,n,r){let s=this._getAddress(n),i=this._getBlockTag(r);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await ne(this,wt,_k).call(this,ne(this,wt,Ai).call(this,Object.assign(e,{address:s,blockTag:i})))},Ck=async function(e,n){if(wn(e,32))return await ne(this,wt,Ai).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await ne(this,wt,Ai).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},K0=async function(e,n){let r=await OI(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await OI({orphan:"drop-log",log:n[0]},this)),E(this,cs).get(r.tag)||null},yx=async function(e){const n=await OI(e,this),r=n.tag;let s=E(this,cs).get(r);return s||(s={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},E(this,cs).set(r,s)),s};function X8e(t,e){try{const n=Ak(t,e);if(n)return O_(n)}catch{}return null}function Ak(t,e){if(t==="0x")return null;try{const n=ft(Ln(t,e,e+32)),r=ft(Ln(t,n,n+32));return Ln(t,n+32,n+32+r)}catch{}return null}function IB(t){const e=dr(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function e5e(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const t5e=new Uint8Array([]);function n5e(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(t5e),n+=32;for(let r=0;r<t.length;r++){const s=mt(t[r]);e[r]=IB(n),e.push(IB(s.length)),e.push(e5e(s)),n+=32+Math.ceil(s.length/32)*32}return Fn(e)}const TB="0x0000000000000000000000000000000000000000000000000000000000000000";function r5e(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};he(Dg(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Ln(t,0,32);he(Ln(n,0,12)===Ln(TB,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Ln(n,12);try{const r=[],s=ft(Ln(t,32,64)),i=ft(Ln(t,s,s+32)),o=Ln(t,s+32);for(let a=0;a<i;a++){const c=X8e(o,a*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{he(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=Ak(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{he(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}he(Ln(t,100,128)===Ln(TB,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Ln(t,96,100);try{const r=Ak(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{he(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Zd(t,e){if(t.provider)return t.provider;he(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function NB(t,e){let n=z_(e);if(n.to!=null&&(n.to=Ts(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),Ts(r,t)]).then(([s,i])=>(G(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else n.from=t.getAddress();return await xs(n)}class s5e{constructor(e){Y(this,"provider");Ze(this,{provider:e||null})}async getNonce(e){return Zd(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await NB(this,e)}async populateTransaction(e){const n=Zd(this,"populateTransaction"),r=await NB(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const o=He(r.chainId);G(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;const i=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||i)?G(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&i&&G(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();he(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(he(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):he(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await xs(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await Zd(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return Zd(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Zd(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Zd(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Zd(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const s=$_.from(r);return await n.broadcastTransaction(await this.signTransaction(s))}authorize(e){he(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function i5e(t){return JSON.parse(JSON.stringify(t))}var vs,Wa,rf,Hu,sf,Rm,Od,Sk,Ik;class kV{constructor(e){W(this,Od);W(this,vs);W(this,Wa);W(this,rf);W(this,Hu);W(this,sf);W(this,Rm);R(this,vs,e),R(this,Wa,null),R(this,rf,ne(this,Od,Sk).bind(this)),R(this,Hu,!1),R(this,sf,null),R(this,Rm,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){E(this,Hu)||(R(this,Hu,!0),ne(this,Od,Sk).call(this,-2))}stop(){E(this,Hu)&&(R(this,Hu,!1),R(this,Rm,!0),ne(this,Od,Ik).call(this),E(this,vs).off("block",E(this,rf)))}pause(e){e&&ne(this,Od,Ik).call(this),E(this,vs).off("block",E(this,rf))}resume(){this.start()}}vs=new WeakMap,Wa=new WeakMap,rf=new WeakMap,Hu=new WeakMap,sf=new WeakMap,Rm=new WeakMap,Od=new WeakSet,Sk=async function(e){try{E(this,Wa)==null&&R(this,Wa,this._subscribe(E(this,vs)));let n=null;try{n=await E(this,Wa)}catch(i){if(!Mr(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(n==null){R(this,Wa,null),E(this,vs)._recoverSubscriber(this,this._recover(E(this,vs)));return}const r=await E(this,vs).getNetwork();if(E(this,sf)||R(this,sf,r),E(this,sf).chainId!==r.chainId)throw new Error("chaid changed");if(E(this,Rm))return;const s=await E(this,vs).send("eth_getFilterChanges",[n]);await this._emitResults(E(this,vs),s)}catch(n){console.log("@TODO",n)}E(this,vs).once("block",E(this,rf))},Ik=function(){const e=E(this,Wa);e&&(R(this,Wa,null),e.then(n=>{E(this,vs).destroyed||E(this,vs).send("eth_uninstallFilter",[n])}))};var of;class o5e extends kV{constructor(n,r){super(n);W(this,of);R(this,of,i5e(r))}_recover(n){return new R3(n,E(this,of))}async _subscribe(n){return await n.send("eth_newFilter",[E(this,of)])}async _emitResults(n,r){for(const s of r)n.emit(E(this,of),n._wrapLog(s,n._network))}}of=new WeakMap;class a5e extends kV{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const c5e="bigint,boolean,function,number,string,symbol".split(/,/g);function wx(t){if(t==null||c5e.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(wx);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function l5e(t){return new Promise(e=>{setTimeout(e,t)})}function Hp(t){return t&&t.toLowerCase()}function PB(t){return t&&typeof t.pollingInterval=="number"}const OV={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class DI extends s5e{constructor(n,r){super(n);Y(this,"address");r=qt(r),Ze(this,{address:r})}connect(n){he(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=wx(n),s=[];if(r.from){const o=r.from;s.push((async()=>{const a=await Ts(o,this.provider);G(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&s.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;s.push((async()=>{r.to=await Ts(o,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(n);return await new Promise((i,o)=>{const a=[1e3,100];let c=0;const l=async()=>{try{const u=await this.provider.getTransaction(s);if(u!=null){i(u.replaceableTransaction(r));return}}catch(u){if(Mr(u,"CANCELLED")||Mr(u,"BAD_DATA")||Mr(u,"NETWORK_ERROR")||Mr(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=s,o(u);return}if(Mr(u,"INVALID_ARGUMENT")&&(c++,u.info==null&&(u.info={}),u.info.sendTransactionHash=s,c>10)){o(u);return}this.provider.emit("error",Sn("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{l()},a.pop()||4e3)};l()})}async signTransaction(n){const r=wx(n);if(r.from){const i=await Ts(r.from,this.provider);G(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=i}else r.from=this.address;const s=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[s])}async signMessage(n){const r=typeof n=="string"?cl(n):n;return await this.provider.send("personal_sign",[Ae(r),this.address.toLowerCase()])}async signTypedData(n,r,s){const i=wx(s),o=await F_.resolveNames(n,r,i,async a=>{const c=await Ts(a);return G(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(F_.getPayload(o.domain,r,o.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?cl(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Ae(r)])}}var af,Dm,Qc,Ga,Jo,lo,Xs,Ev,Tk;class u5e extends Z8e{constructor(n,r){super(n,r);W(this,Ev);W(this,af);W(this,Dm);W(this,Qc);W(this,Ga);W(this,Jo);W(this,lo);W(this,Xs);R(this,Dm,1),R(this,af,Object.assign({},OV,r||{})),R(this,Qc,[]),R(this,Ga,null),R(this,lo,null),R(this,Xs,null);{let i=null;const o=new Promise(a=>{i=a});R(this,Jo,{promise:o,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(G(!s||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),s&&n!=null&&R(this,lo,Xa.from(n))):s&&(G(n==null||s.matches(n),"staticNetwork MUST match network object","options",r),R(this,lo,s))}_getOption(n){return E(this,af)[n]}get _network(){return he(E(this,lo),"network is not available yet","NETWORK_ERROR"),E(this,lo)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let s=n.transaction;if(s&&s.type!=null&&He(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},s,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(E(this,lo))return E(this,lo)}else return n;return E(this,Xs)?await E(this,Xs):this.ready?(R(this,Xs,(async()=>{try{const r=Xa.from(He(await this.send("eth_chainId",[])));return R(this,Xs,null),r}catch(r){throw R(this,Xs,null),r}})()),await E(this,Xs)):(R(this,Xs,(async()=>{const r={id:Il(this,Dm)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let s;try{s=(await this._send(r))[0],R(this,Xs,null)}catch(i){throw R(this,Xs,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return Xa.from(He(s.result));throw this.getRpcError(r,s)})()),await E(this,Xs))}_start(){E(this,Jo)==null||E(this,Jo).resolve==null||(E(this,Jo).resolve(),R(this,Jo,null),(async()=>{for(;E(this,lo)==null&&!this.destroyed;)try{R(this,lo,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Sn("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await l5e(1e3)}ne(this,Ev,Tk).call(this)})())}async _waitUntilReady(){if(E(this,Jo)!=null)return await E(this,Jo).promise}_getSubscriber(n){return n.type==="pending"?new a5e(this):n.type==="event"?this._getOption("polling")?new R3(this,n.filter):new o5e(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new PV("orphan"):super._getSubscriber(n)}get ready(){return E(this,Jo)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(n[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),r[i]=ra(He(n[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{n[s]!=null&&(r[s]=Ae(n[s]))}),n.accessList&&(r.accessList=ap(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(s=>s.toLowerCase())),n.authorizationList&&(r.authorizationList=n.authorizationList.map(s=>{const i=Dq(s);return{address:i.address,nonce:ra(i.nonce),chainId:ra(i.chainId),yParity:ra(i.signature.yParity),r:ra(i.signature.r),s:ra(i.signature.s)}})),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Hp(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Hp(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[Hp(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Hp(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(Hp):n.filter.address=Hp(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:s}=n,{error:i}=r;if(s==="eth_estimateGas"&&i.message){const c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return Sn("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:i}});if(c.match(/nonce/i)&&c.match(/too low/i))return Sn("nonce has already been used","NONCE_EXPIRED",{transaction:n.params[0],info:{payload:n,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const c=Nk(i),l=rv.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",n.params[0],c?c.data:null);return l.info={error:i,payload:n},l}const o=JSON.stringify(h5e(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Sn("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:n,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const c=n.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Sn("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return Sn("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Sn("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return Sn("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?Sn("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:i,payload:n}}):Sn("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(Sn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const s=Il(this,Dm)._++,i=new Promise((o,a)=>{E(this,Qc).push({resolve:o,reject:a,payload:{method:n,params:r,id:s,jsonrpc:"2.0"}})});return ne(this,Ev,Tk).call(this),i}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const i=await r;if(n>=i.length)throw new Error("no such account");return new DI(this,i[n])}const{accounts:s}=await xs({network:this.getNetwork(),accounts:r});n=qt(n);for(const i of s)if(qt(i)===n)return new DI(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new DI(this,r))}destroy(){E(this,Ga)&&(clearTimeout(E(this,Ga)),R(this,Ga,null));for(const{payload:n,reject:r}of E(this,Qc))r(Sn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));R(this,Qc,[]),super.destroy()}}af=new WeakMap,Dm=new WeakMap,Qc=new WeakMap,Ga=new WeakMap,Jo=new WeakMap,lo=new WeakMap,Xs=new WeakMap,Ev=new WeakSet,Tk=function(){if(E(this,Ga))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");R(this,Ga,setTimeout(()=>{R(this,Ga,null);const r=E(this,Qc);for(R(this,Qc,[]);r.length;){const s=[r.shift()];for(;r.length&&s.length!==E(this,af).batchMaxCount;)if(s.push(r.shift()),JSON.stringify(s.map(o=>o.payload)).length>E(this,af).batchMaxSize){r.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:l}of s){if(this.destroyed){c(Sn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const u=o.filter(d=>d.id===l.id)[0];if(u==null){const d=Sn("missing response for request","BAD_DATA",{value:o,info:{payload:l}});this.emit("error",d),c(d);continue}if("error"in u){c(this.getRpcError(l,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of s)a(o)}})()}},n))};var Wu;class d5e extends u5e{constructor(n,r){super(n,r);W(this,Wu);let s=this._getOption("pollingInterval");s==null&&(s=OV.pollingInterval),R(this,Wu,s)}_getSubscriber(n){const r=super._getSubscriber(n);return PB(r)&&(r.pollingInterval=E(this,Wu)),r}get pollingInterval(){return E(this,Wu)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");R(this,Wu,n),this._forEachSubscriber(r=>{PB(r)&&(r.pollingInterval=E(this,Wu))})}}Wu=new WeakMap;function Nk(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&wn(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=Nk(t[e]);if(n)return n}return null}if(typeof t=="string")try{return Nk(JSON.parse(t))}catch{}return null}function Pk(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)Pk(t[n],e);if(typeof t=="string")try{return Pk(JSON.parse(t),e)}catch{}}}function h5e(t){const e=[];return Pk(t,e),e}var $m,Um;const gh=class gh extends d5e{constructor(n,r,s){const i=Object.assign({},s??{},{batchMaxCount:1});G(n&&n.request,"invalid EIP-1193 provider","ethereum",n);super(r,i);W(this,$m);W(this,Um);R(this,Um,null),s&&s.providerInfo&&R(this,Um,s.providerInfo),R(this,$m,async(o,a)=>{const c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const l=await n.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){const u=new Error(l.message);throw u.code=l.code,u.data=l.data,u.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}})}get providerInfo(){return E(this,Um)}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){G(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const r=await E(this,$m).call(this,n.method,n.params||[]);return[{id:n.id,result:r}]}catch(r){return[{id:n.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(n,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(n,r)}async hasSigner(n){n==null&&(n=0);const r=await this.send("eth_accounts",[]);return typeof n=="number"?r.length>n:(n=n.toLowerCase(),r.filter(s=>s.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await E(this,$m).call(this,"eth_requestAccounts",[])}catch(r){const s=r.payload;throw this.getRpcError(s,{id:s.id,error:r})}return await super.getSigner(n)}static async discover(n){if(n==null&&(n={}),n.provider)return new gh(n.provider);const r=n.window?n.window:typeof window<"u"?window:null;if(r==null)return null;const s=n.anyProvider;if(s&&r.ethereum)return new gh(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;const i=n.timeout?n.timeout:300;return i===0?null:await new Promise((o,a)=>{let c=[];const l=h=>{c.push(h.detail),s&&u()},u=()=>{if(clearTimeout(d),c.length)if(n&&n.filter){const h=n.filter(c.map(f=>Object.assign({},f.info)));if(h==null)o(null);else if(h instanceof gh)o(h);else{let f=null;if(h.uuid&&(f=c.filter(g=>h.uuid===g.info.uuid)[0]),f){const{provider:p,info:g}=f;o(new gh(p,void 0,{providerInfo:g}))}else a(Sn("filter returned unknown info","UNSUPPORTED_OPERATION",{value:h}))}}else{const{provider:h,info:f}=c[0];o(new gh(h,void 0,{providerInfo:f}))}else o(null);r.removeEventListener("eip6963:announceProvider",l)},d=setTimeout(()=>{u()},i);r.addEventListener("eip6963:announceProvider",l),r.dispatchEvent(new Event("eip6963:requestProvider"))})}};$m=new WeakMap,Um=new WeakMap;let G_=gh;const $I="0x3112AF5728520F52FD1C6710dD7bD52285a68e47",kB={R:"/images/redrook.png",N:"/images/redknight.png",B:"/images/redbishop.png",Q:"/images/redqueen.png",K:"/images/redking.png",P:"/images/redpawn.png",r:"/images/bluerook.png",n:"/images/blueknight.png",b:"/images/bluebishop.png",q:"/images/bluequeen.png",k:"/images/blueking.png",p:"/images/bluepawn.png"},OB=[["R","N","B","Q","K","B","N","R"],["P","P","P","P","P","P","P","P"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["p","p","p","p","p","p","p","p"],["r","n","b","q","k","b","n","r"]],RV=()=>{var l1;const{address:t}=Dv(),[e,n]=O.useState(null),[r,s]=O.useState(null),[i,o]=O.useState(null),[a,c]=O.useState(!1),[l,u]=O.useState([]),[d,h]=O.useState("Loading..."),[f,p]=O.useState(!1),[g,y]=O.useState(!1),[w,v]=O.useState("0.1"),[b,_]=O.useState(""),[x,C]=O.useState(!0),[S,N]=O.useState(""),[A,P]=O.useState(!1),[D,j]=O.useState(!1),[H,K]=O.useState(!1),[I,T]=O.useState(OB),[L,U]=O.useState(null),[$,M]=O.useState([]),[q,ee]=O.useState(null),[ce,se]=O.useState("checking"),ae=O.useRef(null),Ee=O.useRef(0),J=O.useRef(null),re=O.useRef(null),de=O.useRef(null),ie=O.useCallback(async()=>{try{return window.ethereum?await window.ethereum.request({method:"eth_chainId"})==="0x7c8"?(se("correct"),!0):(se("wrong"),!1):(se("error"),!1)}catch(z){return console.error("Network check failed:",z),se("error"),!1}},[]);O.useEffect(()=>{if(window.ethereum){const z=()=>{ie()};return window.ethereum.on("chainChanged",z),ie(),()=>{window.ethereum&&window.ethereum.removeListener("chainChanged",z)}}},[ie]);const ye=O.useCallback(async()=>{try{if(!window.ethereum)return h("No wallet detected"),!1;const{chainId:z}=await window.ethereum.request({method:"eth_chainId"});if(z!=="0x7c8")try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x7c8"}]})}catch(X){if(typeof X=="object"&&X&&"code"in X&&X.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x7c8",chainName:"Sanko Testnet",rpcUrls:["https://sanko-arb-sepolia.rpc.caldera.xyz/http"],nativeCurrency:{name:"tDMT",symbol:"tDMT",decimals:18},blockExplorerUrls:["https://explorer.testnet.sanko.xyz"]}]});else throw new Error("Please switch to Sanko Testnet")}return!0}catch(z){return console.error("Network switch failed:",z),h("Please switch to Sanko Testnet"),!1}},[]),De=O.useCallback(async()=>{try{if(!window.ethereum)return null;const X=await new G_(window.ethereum).getSigner();return new yf($I,[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"AddressEmptyCode",type:"error"},{inputs:[{internalType:"address",name:"implementation",type:"address"}],name:"ERC1967InvalidImplementation",type:"error"},{inputs:[],name:"ERC1967NonPayable",type:"error"},{inputs:[],name:"FailedCall",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[],name:"UUPSUnauthorizedCallContext",type:"error"},{inputs:[{internalType:"bytes32",name:"slot",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes6",name:"inviteCode",type:"bytes6"},{indexed:!1,internalType:"address",name:"player1",type:"address"}],name:"GameCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes6",name:"inviteCode",type:"bytes6"},{indexed:!1,internalType:"address",name:"player1",type:"address"},{indexed:!1,internalType:"uint256",name:"wagerAmount",type:"uint256"}],name:"GameCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes6",name:"inviteCode",type:"bytes6"},{indexed:!1,internalType:"address",name:"winner",type:"address"},{indexed:!1,internalType:"uint256",name:"houseFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"payoutOrRefund",type:"uint256"}],name:"GameEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes6",name:"inviteCode",type:"bytes6"},{indexed:!1,internalType:"address",name:"player2",type:"address"}],name:"GameJoined",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[],name:"MAX_WAGER",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_WAGER",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes6",name:"inviteCode",type:"bytes6"}],name:"cancelGame",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes6",name:"inviteCode",type:"bytes6"}],name:"createGame",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes6",name:"inviteCode",type:"bytes6"},{internalType:"address",name:"winner",type:"address"}],name:"endGame",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes6",name:"",type:"bytes6"}],name:"games",outputs:[{internalType:"address",name:"player1",type:"address"},{internalType:"address",name:"player2",type:"address"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"address",name:"winner",type:"address"},{internalType:"bytes6",name:"inviteCode",type:"bytes6"},{internalType:"uint256",name:"wagerAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"house",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes6",name:"inviteCode",type:"bytes6"}],name:"joinGame",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"leaderboard",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"playerToGame",outputs:[{internalType:"bytes6",name:"",type:"bytes6"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"player",type:"address"}],name:"resetPlayerGame",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address payable",name:"recipient",type:"address"}],name:"withdrawFunds",outputs:[],stateMutability:"nonpayable",type:"function"}],X)}catch(z){return console.error("Failed to connect to contract:",z),null}},[]),Ie=O.useCallback(()=>{re.current&&window.clearInterval(re.current),re.current=window.setInterval(async()=>{try{let z=new Date(Date.now()-18e5).toISOString();new Date(z).getTime()>Date.now()&&(console.warn("[Supabase] expiryThreshold was in the future, falling back to now:",z),z=new Date().toISOString());const{data:X,error:le}=await dn.from("chess_games").select("game_id, blue_player").eq("game_state","waiting").is("red_player",null).lte("created_at",z).eq("chain","sanko");if(le){console.error("Supabase expiry query error:",le.message);return}for(const pe of X||[]){const we=await De();if(we){const Ve=As(Ae("0x"+pe.game_id.toLowerCase()),6);await we.cancelGame(Ve),await dn.from("chess_games").update({game_state:"cancelled",updated_at:new Date().toISOString()}).eq("game_id",pe.game_id)}}await ot()}catch(z){console.error("Error checking game expiry:",z)}},60*1e3)},[De]),ve=O.useCallback(async(z=5,X=1e3)=>{if(!t)return h("Please connect your wallet"),!1;if(Date.now()-Ee.current<1e3)return!1;Ee.current=Date.now();let le=1;for(;le<=z;){try{let pe=null;const we=await De();if(we){if(await window.ethereum.request({method:"eth_chainId"})!=="0x7c8")return h("Please switch to Sanko Testnet"),!1;const Ft=await we.playerToGame(t);Ft!=="0x000000000000"&&Ft!==""&&(pe=Ae(Ft).slice(2).toUpperCase())}if(!pe){const{data:ht,error:Ft}=await dn.from("chess_games").select("game_id").eq("chain","sanko").eq("game_state","active").or(`blue_player.eq.${t},red_player.eq.${t}`);if(Ft)throw new Error(`Supabase error: ${Ft.message}`);if(!(ht!=null&&ht.length))return bi(),!1;pe=ht[0].game_id}if(J.current===pe)return!1;J.current=pe;const{data:Ve,error:bt}=await dn.from("chess_games").select("*").eq("game_id",pe.toLowerCase()).eq("chain","sanko").or(`blue_player.eq.${t},red_player.eq.${t}`).maybeSingle();if(bt)throw new Error(`Supabase query error: ${bt.message}`);return Ve&&Ve&&(Ve.game_state==="active"||Ve.game_state==="waiting")?(o(Ve),s(t===Ve.blue_player?"blue":"red"),n(pe),c(Ve.game_state==="waiting"),h(Hn(Ve)?"Your turn":"Opponent's turn"),pe&&await hn(pe),!0):(bi(),!1)}catch(pe){pe instanceof Error&&(console.error(`checkPlayerGameState attempt ${le} failed:`,pe.message),le<z?await new Promise(we=>window.setTimeout(we,X*Math.pow(2,le-1))):h("Failed to load game. Please reconnect wallet."))}le++}return!1},[t,De]),Ge=O.useCallback(async()=>{const z=(-99990013e3).toString().replace(/[018]/g,le=>(parseInt(le)^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>parseInt(le)/4).toString(16)).slice(0,6).toUpperCase(),{data:X}=await dn.from("chess_games").select("game_id").eq("game_id",z.toLowerCase()).single();return X?Ge():z},[]),nt=O.useCallback(async()=>{if(!A){P(!0),p(!0),h("Creating game...");try{if(!t)throw new Error("Wallet not connected");if(!await ye())return;const z=await De();if(!z)throw new Error("Failed to connect to contract");const X=wI(await z.MIN_WAGER()),le=wI(await z.MAX_WAGER());if(parseFloat(w)<parseFloat(X)||parseFloat(w)>parseFloat(le))throw new Error(`Wager must be between ${X} and ${le} tDMT`);const pe=await z.playerToGame(t);if(pe!=="0x000000000000"&&pe!==""){console.log("[DEBUG] Found existing game, checking if it can be cancelled...");const zd=Ae(pe).slice(2).toUpperCase();if((await z.games(pe)).player2!=="0x0000000000000000000000000000000000000000")throw new Error("You are already in an active game. Please finish that game first.");try{const jy=As(Ae("0x"+zd.toLowerCase()),6);await z.cancelGame(jy),await Ir(zd),await new Promise(HA=>setTimeout(HA,3e3));const u1=await z.playerToGame(t);if(u1!=="0x000000000000"&&u1!=="")throw new Error("Failed to cancel existing game. Please try again.")}catch(jy){throw console.error("[DEBUG] Cleanup failed:",jy),new Error("Please cancel your existing game first or contact support")}}const we=await Ge(),Ve=As(Ae("0x"+we.toLowerCase()),6),bt=T4(w),{data:ht}=await dn.from("chess_games").select("game_id").eq("game_id",we.toLowerCase()).eq("game_state","waiting");if(ht!=null&&ht.length)throw new Error("Invite code already exists");const{data:Ft,error:gs}=await dn.from("chess_games").insert({game_id:we.toLowerCase(),blue_player:t,red_player:null,board:{positions:JSON.parse(JSON.stringify(OB)),piece_state:{}},current_player:"blue",game_state:"waiting",bet_amount:w,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_public:x,game_title:b||null,chain:"sanko",contract_address:$I}).select().single();if(gs)throw new Error(`Supabase insert failed: ${gs.message}`);return await z.createGame(Ve,{value:bt}),n(we),s("blue"),o(Ft),c(!0),N(we),y(!1),h("Waiting for opponent..."),await hn(we),await ot(),alert(`Game created with wager ${w} tDMT`),we}catch(z){return z instanceof Error&&(console.error("Create game failed:",z.message),P(!1),c(!1),h(`Failed to create game: ${z.message}`),alert(`Failed to create game: ${z.message}`)),!1}finally{p(!1)}}},[t,w,b,x,A,ye,De,Ge]),ot=O.useCallback(async()=>{try{const{data:z,error:X}=await dn.from("chess_games").select("*").eq("chain","sanko").eq("game_state","waiting").eq("is_public",!0).order("created_at",{ascending:!1});if(X){console.error("Error fetching games:",X);return}u(z||[])}catch(z){console.error("Error fetching games:",z)}},[]),hn=O.useCallback(async z=>{ae.current&&dn.removeChannel(ae.current);try{console.log("[DEBUG] Setting up game subscription for:",z);const X=`chess_game_${z}_${Date.now()}`;ae.current=dn.channel(X).on("postgres_changes",{event:"UPDATE",schema:"public",table:"chess_games",filter:`game_id=eq.${z.toLowerCase()}`},le=>{var we;console.log("[DEBUG] Game update received:",le);const pe=le.new;pe&&(console.log("[DEBUG] Updating game state with:",pe),o(pe),c(pe.game_state==="waiting"),h(Hn(pe)?"Your turn":"Opponent's turn"),(we=pe.board)!=null&&we.positions&&(console.log("[DEBUG] Updating board with:",pe.board.positions),T(pe.board.positions)),pe.last_move&&ee({from:{row:pe.last_move.from_row,col:pe.last_move.from_col},to:{row:pe.last_move.end_row,col:pe.last_move.end_col}}))}).on("postgres_changes",{event:"INSERT",schema:"public",table:"chess_games",filter:`game_id=eq.${z.toLowerCase()}`},le=>{console.log("[DEBUG] Game created:",le),ve()}).subscribe(le=>{console.log(`[DEBUG] Game subscription status: ${le}`),le==="CHANNEL_ERROR"?console.error("[DEBUG] Game subscription failed, falling back to polling only"):le==="SUBSCRIBED"?console.log("[DEBUG] Game subscription successful"):le==="TIMED_OUT"&&console.error("[DEBUG] Game subscription timed out, falling back to polling only")})}catch(X){console.error("[DEBUG] Failed to subscribe to game:",X),console.log("[DEBUG] Falling back to polling only for game updates")}},[ve]),tn=O.useCallback(async z=>{if(!t){h("Please connect your wallet");return}p(!0),h("Joining game...");try{if(!await ye())return;const X=await De();if(!X){h("Failed to connect to contract");return}const{data:le,error:pe}=await dn.from("chess_games").select("*").eq("game_id",z.toLowerCase()).eq("game_state","waiting").single();if(pe||!le){h("Game not found or already started");return}const we=As(Ae("0x"+z.toLowerCase()),6),Ve=T4(le.bet_amount);await(await X.joinGame(we,{value:Ve})).wait();const{error:ht}=await dn.from("chess_games").update({red_player:t,game_state:"active",updated_at:new Date().toISOString()}).eq("game_id",z.toLowerCase());if(ht)throw ht;await hn(z),h("Successfully joined game!"),N(z),await ve()}catch(X){console.error("Failed to join game:",X),h(`Failed to join game: ${X instanceof Error?X.message:"Unknown error"}`)}finally{p(!1)}},[t,ye,De,hn,ve]),It=O.useCallback(async()=>{K(!0);try{if(!t){h("Please connect your wallet to resync");return}console.log("Attempting to resync game state"),await ot(),await ve(),e&&i&&(console.log("[DEBUG] Force sync: Ensuring game subscription for:",e),await hn(e)),h("Game state resynced successfully")}catch(z){console.error("forceMultiplayerSync failed:",z),h("Resync failed: "+(z instanceof Error?z.message:"Unknown error"))}finally{K(!1)}},[t,ot,ve,e,i,hn]),An=O.useCallback(async()=>{try{if(e){const z=await De();if(z){const X=As(Ae("0x"+e.toLowerCase()),6);await z.cancelGame(X)}await Ir(e)}bi()}catch(z){console.error("Error leaving game:",z)}},[e,De]),Ir=O.useCallback(async z=>{try{await dn.from("chess_games").delete().eq("game_id",z.toLowerCase()).eq("game_state","waiting")}catch(X){console.error(`Failed to delete stale game ${z}:`,X)}},[]),bi=O.useCallback(()=>{n(null),s(null),o(null),c(!1),N(""),P(!1),y(!1),h("Ready to play"),ae.current&&(dn.removeChannel(ae.current),ae.current=null)},[]),Hn=O.useCallback(z=>!t||!r?!1:z.current_player.toLowerCase()===r,[t,r]),Yn=(z,X)=>z>=0&&z<8&&X>=0&&X<8,Qr=(z,X,le,pe,we,Ve)=>{const bt=z==="blue"?-1:1,ht=z==="blue"?6:1;if(!Yn(pe,we)||z==="blue"&&pe>=X||z==="red"&&pe<=X)return!1;if(le===we&&pe===X+bt)return Ve[pe][we]===null;if(le===we&&X===ht&&pe===X+2*bt)return Ve[X+bt][le]===null&&Ve[pe][we]===null;if(Math.abs(le-we)===1&&pe===X+bt){const Ft=Ve[pe][we];return Ft!==null&&Ls(Ft)!==z}return!1},Io=(z,X,le,pe,we)=>z!==le&&X!==pe?!1:Sl(z,X,le,pe,we),Fd=(z,X,le,pe)=>{const we=Math.abs(z-le),Ve=Math.abs(X-pe);return we===2&&Ve===1||we===1&&Ve===2},To=(z,X,le,pe,we)=>Math.abs(z-le)!==Math.abs(X-pe)?!1:Sl(z,X,le,pe,we),lp=(z,X,le,pe,we)=>Io(z,X,le,pe,we)||To(z,X,le,pe,we),o1=(z,X,le,pe)=>{const we=Math.abs(z-le),Ve=Math.abs(X-pe);return we<=1&&Ve<=1},Sl=(z,X,le,pe,we)=>{const Ve=z===le?0:(le-z)/Math.abs(le-z),bt=X===pe?0:(pe-X)/Math.abs(pe-X);let ht=z+Ve,Ft=X+bt;for(;ht!==le||Ft!==pe;){if(we[ht][Ft]!==null)return!1;ht+=Ve,Ft+=bt}return!0},nn=(z,X,le,pe,we,Ve=!0,bt=Ls(z),ht=I,Ft=!1)=>{if(!Yn(pe,we))return!1;const gs=ht[pe][we];if(gs&&Ls(gs)===bt)return!1;const zd=z.toLowerCase();let No=!1;switch(zd){case"p":No=Qr(bt,X,le,pe,we,ht);break;case"r":No=Io(X,le,pe,we,ht);break;case"n":No=Fd(X,le,pe,we);break;case"b":No=To(X,le,pe,we,ht);break;case"q":No=lp(X,le,pe,we,ht);break;case"k":No=o1(X,le,pe,we);break}return!!No},a1=O.useCallback(z=>{const X=[],le=I[z.row][z.col];if(!le||Ls(le)!==r)return X;const pe=le.toLowerCase();if(pe==="p"){const we=r==="blue"?-1:1,Ve=r==="blue"?6:1,bt=z.row+we;if(bt>=0&&bt<8&&nn(le,z.row,z.col,bt,z.col,!0,r,I,!0)&&X.push({row:bt,col:z.col}),z.row===Ve){const ht=z.row+2*we;ht>=0&&ht<8&&nn(le,z.row,z.col,ht,z.col,!0,r,I,!0)&&X.push({row:ht,col:z.col})}for(const ht of[-1,1]){const Ft=z.col+ht,gs=z.row+we;Ft>=0&&Ft<8&&gs>=0&&gs<8&&nn(le,z.row,z.col,gs,Ft,!0,r,I,!0)&&X.push({row:gs,col:Ft})}}else if(pe==="n"){const we=[[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]];for(const[Ve,bt]of we){const ht=z.row+Ve,Ft=z.col+bt;ht>=0&&ht<8&&Ft>=0&&Ft<8&&nn(le,z.row,z.col,ht,Ft,!0,r,I,!0)&&X.push({row:ht,col:Ft})}}else for(let we=0;we<8;we++)for(let Ve=0;Ve<8;Ve++)nn(le,z.row,z.col,we,Ve,!0,r,I,!0)&&X.push({row:we,col:Ve});return X},[I,r]),up=O.useCallback(z=>{try{return wI(z)+" tDMT"}catch{return z+" wei"}},[]),Ls=z=>z?z>="a"&&z<="z"?"blue":"red":"blue",jA=(z,X)=>{const le=I[z][X],pe=(L==null?void 0:L.row)===z&&(L==null?void 0:L.col)===X,we=$.some(bt=>bt.row===z&&bt.col===X),Ve=q&&(q.from.row===z&&q.from.col===X||q.to.row===z&&q.to.col===X);return m.jsxs("div",{className:`square ${pe?"selected":""} ${we?"legal-move":""} ${Ve?"last-move":""}`,onClick:()=>FA(z,X),children:[le&&m.jsx("div",{className:"piece",style:{backgroundImage:kB[le]?`url(${kB[le]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),we&&m.jsx("div",{className:"legal-move-indicator"})]},`${z}-${X}`)},FA=(z,X)=>{if(!i||a||D)return;const le=I[z][X];if(Hn(i)){if(L)L.row===z&&L.col===X?(U(null),M([])):(zA(L.row,L.col,z,X),U(null),M([]));else if(le&&Ls(le)===r){U({row:z,col:X});const we=a1({row:z,col:X});M(we)}}},zA=async(z,X,le,pe)=>{if(!(!i||!e||D)){if(!Hn(i)){console.log("[DEBUG] Not your turn");return}j(!0);try{const we=I.map(Ft=>[...Ft]),Ve=we[z][X];if(!Ve){console.error("[DEBUG] No piece at selected position");return}we[le][pe]=Ve,we[z][X]=null,T(we),ee({from:{row:z,col:X},to:{row:le,col:pe}});const{error:bt}=await dn.from("chess_games").update({board:{positions:we,piece_state:{}},current_player:r==="blue"?"red":"blue",last_move:{piece:Ve,from_row:z,from_col:X,end_row:le,end_col:pe},updated_at:new Date().toISOString()}).eq("game_id",e);if(bt)throw bt;const ht={...i,board:{positions:we,piece_state:{}},current_player:r==="blue"?"red":"blue",last_move:{piece:Ve,from_row:z,from_col:X,end_row:le,end_col:pe},updated_at:new Date().toISOString()};o(ht),h(Hn(ht)?"Your turn":"Opponent's turn"),console.log("[DEBUG] Move completed successfully")}catch(we){console.error("Move failed:",we),T(I)}finally{j(!1)}}};O.useEffect(()=>{t&&(ve(),ot())},[t,ve,ot]),O.useEffect(()=>{var z;(z=i==null?void 0:i.board)!=null&&z.positions&&T(i.board.positions)},[(l1=i==null?void 0:i.board)==null?void 0:l1.positions]),O.useEffect(()=>{let z=0;const X=2,le=()=>{try{console.log("[DEBUG] Setting up lobby subscription");const we=`chess_lobby_${Date.now()}`,Ve=dn.channel(we).on("postgres_changes",{event:"*",schema:"public",table:"chess_games"},()=>{console.log("[DEBUG] Lobby update received"),ot()}).subscribe(bt=>{console.log(`[DEBUG] Lobby subscription status: ${bt}`),bt==="CHANNEL_ERROR"&&z<X?(z++,console.log(`[DEBUG] Lobby subscription failed, retry ${z}/${X} in 5 seconds`),setTimeout(()=>{console.log("[DEBUG] Retrying lobby subscription..."),le()},5e3)):bt==="SUBSCRIBED"?(console.log("[DEBUG] Lobby subscription successful"),z=0):bt==="TIMED_OUT"?(console.error("[DEBUG] Lobby subscription timed out, retrying..."),setTimeout(()=>{le()},2e3)):bt==="CHANNEL_ERROR"&&z>=X&&console.log("[DEBUG] Lobby subscription failed permanently, falling back to polling only")});return()=>{console.log("[DEBUG] Cleaning up lobby subscription"),dn.removeChannel(Ve)}}catch(we){return console.error("[DEBUG] Failed to setup lobby subscription:",we),()=>{}}};return le()},[ot]),O.useEffect(()=>(Ie(),()=>{re.current&&window.clearInterval(re.current)}),[Ie]),O.useEffect(()=>{let z=null,X=!0;async function le(){if(!window.ethereum)return;const we=await new G_(window.ethereum).getSigner();z=new yf($I,[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"AddressEmptyCode",type:"error"},{inputs:[{internalType:"address",name:"implementation",type:"address"}],name:"ERC1967InvalidImplementation",type:"error"},{inputs:[],name:"ERC1967NonPayable",type:"error"},{inputs:[],name:"FailedCall",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[],name:"UUPSUnauthorizedCallContext",type:"error"},{inputs:[{internalType:"bytes32",name:"slot",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes6",name:"inviteCode",type:"bytes6"},{indexed:!1,internalType:"address",name:"player1",type:"address"}],name:"GameCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes6",name:"inviteCode",type:"bytes6"},{indexed:!1,internalType:"address",name:"player1",type:"address"},{indexed:!1,internalType:"uint256",name:"wagerAmount",type:"uint256"}],name:"GameCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes6",name:"inviteCode",type:"bytes6"},{indexed:!1,internalType:"address",name:"winner",type:"address"},{indexed:!1,internalType:"uint256",name:"houseFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"payoutOrRefund",type:"uint256"}],name:"GameEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes6",name:"inviteCode",type:"bytes6"},{indexed:!1,internalType:"address",name:"player2",type:"address"}],name:"GameJoined",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[],name:"MAX_WAGER",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_WAGER",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes6",name:"inviteCode",type:"bytes6"}],name:"cancelGame",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes6",name:"inviteCode",type:"bytes6"}],name:"createGame",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes6",name:"inviteCode",type:"bytes6"},{internalType:"address",name:"winner",type:"address"}],name:"endGame",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes6",name:"",type:"bytes6"}],name:"games",outputs:[{internalType:"address",name:"player1",type:"address"},{internalType:"address",name:"player2",type:"address"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"address",name:"winner",type:"address"},{internalType:"bytes6",name:"inviteCode",type:"bytes6"},{internalType:"uint256",name:"wagerAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"house",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes6",name:"inviteCode",type:"bytes6"}],name:"joinGame",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"leaderboard",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"playerToGame",outputs:[{internalType:"bytes6",name:"",type:"bytes6"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"player",type:"address"}],name:"resetPlayerGame",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address payable",name:"recipient",type:"address"}],name:"withdrawFunds",outputs:[],stateMutability:"nonpayable",type:"function"}],we),z.on("GameCreated",async()=>{X&&await ot()}),z.on("GameJoined",async()=>{X&&(await ot(),await ve())}),z.on("GameEnded",async()=>{X&&(await ot(),await ve())}),z.on("GameCancelled",async()=>{X&&(await ot(),await ve())})}return le(),()=>{X=!1,z&&(z.removeAllListeners("GameCreated"),z.removeAllListeners("GameJoined"),z.removeAllListeners("GameEnded"),z.removeAllListeners("GameCancelled"))}},[ot,ve]),O.useEffect(()=>{let z=null;return e&&i&&(console.log("[DEBUG] Setting up polling fallback for game:",e),z=window.setInterval(async()=>{var X;try{const{data:le,error:pe}=await dn.from("chess_games").select("*").eq("game_id",e.toLowerCase()).single();if(!pe&&le){const we=new Date(le.updated_at).getTime(),Ve=new Date(i.updated_at).getTime();we>Ve&&(console.log("[DEBUG] Polling fallback: Game update detected"),console.log("[DEBUG] Old update:",new Date(Ve).toLocaleTimeString()),console.log("[DEBUG] New update:",new Date(we).toLocaleTimeString()),o(le),c(le.game_state==="waiting"),h(Hn(le)?"Your turn":"Opponent's turn"),(X=le.board)!=null&&X.positions&&(console.log("[DEBUG] Polling fallback: Updating board"),T(le.board.positions)),le.last_move&&(console.log("[DEBUG] Polling fallback: Updating last move"),ee({from:{row:le.last_move.from_row,col:le.last_move.from_col},to:{row:le.last_move.end_row,col:le.last_move.end_col}})))}else pe&&console.error("[DEBUG] Polling fallback error:",pe)}catch(le){console.error("[DEBUG] Polling fallback error:",le)}},2e3)),()=>{z&&(console.log("[DEBUG] Cleaning up polling fallback"),window.clearInterval(z))}},[e,i,Hn]),O.useEffect(()=>()=>{ae.current&&dn.removeChannel(ae.current),re.current&&window.clearInterval(re.current),de.current&&window.clearTimeout(de.current)},[]);const c1=O.useCallback(async()=>{if(!t)return h("Please connect your wallet"),!1;p(!0),h("Cancelling existing game...");try{if(!await ye())return!1;const z=await De();if(!z)return h("Failed to connect to contract"),!1;const X=await z.playerToGame(t);if(X==="0x000000000000"||X==="")return h("No existing game found"),!0;if((await z.games(X)).player2!=="0x0000000000000000000000000000000000000000")return h("Cannot cancel: Game already has an opponent. You must finish the game."),!1;const pe=Ae(X).slice(2).toUpperCase(),we=As(Ae("0x"+pe.toLowerCase()),6);return await z.cancelGame(we),await Ir(pe),h("Existing game cancelled successfully"),P(!1),!0}catch(z){return console.error("Failed to cancel existing game:",z),h(`Failed to cancel game: ${z instanceof Error?z.message:"Unknown error"}`),!1}finally{p(!1)}},[t,ye,De,Ir]);return i&&!a?m.jsxs("div",{className:"game-mode-panel",children:[m.jsx("h3",{className:"game-mode-title",children:"Multiplayer Game"}),m.jsxs("div",{className:"game-info",children:[m.jsxs("div",{className:"game-info-bar",children:[m.jsxs("span",{className:i.current_player==="blue"?"current-blue":"current-red",children:["Current: ",i.current_player==="blue"?"Blue":"Red"]}),m.jsx("span",{className:"wager-label",children:"Wager:"})," ",m.jsx("span",{children:up(i.bet_amount)}),m.jsx("span",{className:"mode-play",children:"Mode: PvP"}),m.jsxs("span",{children:["Game ID: ",e]})]}),m.jsxs("div",{style:{fontSize:"10px",color:"#666",padding:"5px",background:"#f0f0f0",borderTop:"1px solid #ccc",fontFamily:"monospace"},children:[m.jsxs("div",{children:["Status: ",d]}),m.jsxs("div",{children:["Player: ",r," | Turn: ",Hn(i)?"Yes":"No"]}),m.jsxs("div",{children:["Last Update: ",i.updated_at?new Date(i.updated_at).toLocaleTimeString():"N/A"]}),m.jsxs("div",{children:["Subscription: ",ae.current?"Active":"Inactive"]}),m.jsx("div",{children:"Polling: Active (2s interval)"}),m.jsxs("div",{children:["Mode: ",ae.current?"Real-time + Polling":"Polling Only"]})]})]}),m.jsxs("div",{className:"chess-main-area",children:[m.jsx("div",{className:"chessboard-container",children:m.jsx("div",{className:"chessboard",children:Array.from({length:8},(z,X)=>m.jsx("div",{className:"board-row",children:Array.from({length:8},(le,pe)=>jA(X,pe))},X))})}),m.jsxs("div",{className:"game-controls",children:[m.jsx("button",{onClick:An,children:"Leave Game"}),m.jsx("button",{onClick:It,disabled:H,children:H?"Syncing...":"Force Sync"}),m.jsx("button",{onClick:async()=>{var z;if(console.log("[DEBUG] Manual refresh triggered"),e){const{data:X,error:le}=await dn.from("chess_games").select("*").eq("game_id",e.toLowerCase()).single();!le&&X&&(console.log("[DEBUG] Manual refresh: Game data updated"),o(X),c(X.game_state==="waiting"),h(Hn(X)?"Your turn":"Opponent's turn"),(z=X.board)!=null&&z.positions&&T(X.board.positions))}},style:{fontSize:"12px",padding:"5px 10px"},children:"Manual Refresh"})]})]})]}):a?m.jsxs("div",{className:"game-mode-panel",children:[m.jsx("h3",{className:"game-mode-title",children:"Waiting for Opponent"}),m.jsx("div",{className:"game-info",children:m.jsxs("div",{className:"game-info-bar",children:[m.jsx("span",{className:"wager-label",children:"Wager:"})," ",m.jsx("span",{children:up((i==null?void 0:i.bet_amount)||"0")}),m.jsxs("span",{children:["Status: ",d]})]})}),m.jsxs("div",{className:"chess-main-area",children:[m.jsx("div",{className:"chessboard-container",children:m.jsx("div",{className:"chessboard",children:m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#666",fontSize:"16px",textAlign:"center",padding:"20px"},children:[m.jsxs("div",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"20px"},children:["Game Code: ",S]}),m.jsx("div",{style:{marginBottom:"20px"},children:"Share this code with your opponent"}),m.jsx("div",{style:{fontSize:"14px"},children:"Waiting for opponent to join..."})]})})}),m.jsxs("div",{className:"game-controls",children:[m.jsx("button",{onClick:An,children:"Cancel Game"}),m.jsx("button",{onClick:It,disabled:H,children:H?"Syncing...":"Force Sync"}),m.jsx("button",{onClick:async()=>{var z;if(console.log("[DEBUG] Manual refresh triggered"),e){const{data:X,error:le}=await dn.from("chess_games").select("*").eq("game_id",e.toLowerCase()).single();!le&&X&&(console.log("[DEBUG] Manual refresh: Game data updated"),o(X),c(X.game_state==="waiting"),h(Hn(X)?"Your turn":"Opponent's turn"),(z=X.board)!=null&&z.positions&&T(X.board.positions))}},style:{fontSize:"12px",padding:"5px 10px"},children:"Manual Refresh"})]})]})]}):m.jsxs("div",{className:"game-mode-panel",children:[m.jsx("h3",{className:"game-mode-title",children:" Multiplayer Chess"}),m.jsx("div",{className:"game-info",children:m.jsx("div",{className:"game-info-bar",children:m.jsx("span",{children:d})})}),g?m.jsxs("div",{className:"chess-main-area",children:[m.jsx("div",{className:"chessboard-container",children:m.jsx("div",{className:"chessboard",children:m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",padding:"20px"},children:[m.jsx("h4",{style:{margin:"0 0 20px 0",fontSize:"18px",textAlign:"center"},children:"Create New Game"}),m.jsxs("div",{style:{width:"100%",maxWidth:"300px"},children:[m.jsxs("div",{style:{marginBottom:"15px"},children:[m.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px"},children:"Wager Amount (tDMT):"}),m.jsx("input",{type:"number",min:"0.1",max:"1000",step:"0.1",value:w,onChange:z=>v(z.target.value),placeholder:"0.1",style:{width:"100%",padding:"8px",border:"1px solid rgba(0,0,0,0.2)",borderRadius:"4px",fontSize:"14px"}})]}),m.jsxs("div",{style:{marginBottom:"15px"},children:[m.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px"},children:"Game Title (optional):"}),m.jsx("input",{type:"text",value:b,onChange:z=>_(z.target.value),placeholder:"Enter game title...",maxLength:50,style:{width:"100%",padding:"8px",border:"1px solid rgba(0,0,0,0.2)",borderRadius:"4px",fontSize:"14px"}})]}),m.jsx("div",{style:{marginBottom:"20px"},children:m.jsxs("label",{style:{fontSize:"14px"},children:[m.jsx("input",{type:"checkbox",checked:x,onChange:z=>C(z.target.checked),style:{marginRight:"8px"}}),"Public Game"]})})]})]})})}),m.jsxs("div",{className:"game-controls",children:[m.jsx("button",{onClick:nt,disabled:f||!t,className:"mode-btn",children:f?"Creating...":"Create Game"}),m.jsx("button",{onClick:()=>y(!1),disabled:f,className:"mode-btn",children:"Cancel"}),m.jsx("button",{onClick:async()=>{var z;if(console.log("[DEBUG] Manual refresh triggered"),e){const{data:X,error:le}=await dn.from("chess_games").select("*").eq("game_id",e.toLowerCase()).single();!le&&X&&(console.log("[DEBUG] Manual refresh: Game data updated"),o(X),c(X.game_state==="waiting"),h(Hn(X)?"Your turn":"Opponent's turn"),(z=X.board)!=null&&z.positions&&T(X.board.positions))}},style:{fontSize:"12px",padding:"5px 10px"},children:"Manual Refresh"})]})]}):m.jsxs("div",{className:"chess-main-area",children:[m.jsx("div",{className:"chessboard-container",children:m.jsx("div",{className:"chessboard",children:m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",padding:"20px"},children:[m.jsxs("h4",{style:{margin:"0 0 20px 0",fontSize:"18px",textAlign:"center"},children:["Open Games (",l.length,")"]}),l.length===0?m.jsx("p",{style:{textAlign:"center",fontSize:"14px",color:"#666"},children:"No open games available"}):m.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",width:"100%",maxWidth:"400px"},children:l.map(z=>m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",background:"rgba(0,0,0,0.05)",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"4px",marginBottom:"8px"},children:[m.jsxs("div",{children:[m.jsxs("div",{style:{fontWeight:"bold",fontSize:"14px"},children:["#",z.game_id]}),m.jsx("div",{style:{fontSize:"12px"},children:up(z.bet_amount)}),z.game_title&&m.jsx("div",{style:{fontSize:"11px",fontStyle:"italic"},children:z.game_title})]}),m.jsx("button",{onClick:()=>tn(z.game_id),disabled:f||!t,className:"mode-btn",style:{fontSize:"12px",padding:"6px 12px"},children:f?"Joining...":"Join"})]},z.game_id))})]})})}),m.jsxs("div",{className:"game-controls",children:[m.jsx("button",{onClick:()=>y(!0),disabled:f||!t,className:"mode-btn",children:"Create New Game"}),m.jsx("button",{onClick:It,disabled:H,children:H?"Syncing...":"Force Sync"}),m.jsx("button",{onClick:async()=>{var z;if(console.log("[DEBUG] Manual refresh triggered"),e){const{data:X,error:le}=await dn.from("chess_games").select("*").eq("game_id",e.toLowerCase()).single();!le&&X&&(console.log("[DEBUG] Manual refresh: Game data updated"),o(X),c(X.game_state==="waiting"),h(Hn(X)?"Your turn":"Opponent's turn"),(z=X.board)!=null&&z.positions&&T(X.board.positions))}},style:{fontSize:"12px",padding:"5px 10px"},children:"Manual Refresh"})]})]}),!t&&m.jsx("div",{style:{textAlign:"center",padding:"20px",background:"rgba(255,255,0,0.1)",border:"1px solid rgba(255,255,0,0.3)",borderRadius:"4px",marginTop:"20px",fontSize:"14px"},children:"Please connect your wallet to play multiplayer chess"}),t&&m.jsxs("div",{style:{textAlign:"center",padding:"20px",background:"rgba(255,255,0,0.1)",border:"1px solid rgba(255,255,0,0.3)",borderRadius:"4px",marginTop:"20px",fontSize:"14px"},children:[m.jsxs("div",{style:{marginBottom:"10px"},children:[m.jsx("strong",{children:"Network Status:"}),m.jsxs("span",{style:{marginLeft:"10px",color:ce==="correct"?"green":ce==="wrong"?"red":"orange",fontWeight:"bold"},children:[ce==="checking"&&"Checking...",ce==="correct"&&" Sanko Testnet",ce==="wrong"&&" Wrong Network",ce==="error"&&" Network Error"]})]}),m.jsx("div",{style:{marginBottom:"10px",fontSize:"12px"},children:" Make sure you're on Sanko Testnet (Chain ID: 1992)"}),m.jsx("div",{style:{marginBottom:"10px",fontSize:"12px"},children:` If you get "Game already started" error, it means you're in an active game`}),m.jsx("div",{style:{marginBottom:"10px",fontSize:"12px"},children:" You can only cancel games that are waiting for an opponent"}),m.jsx("button",{onClick:c1,disabled:f,style:{padding:"8px 16px",backgroundColor:"#ff4444",color:"white",border:"none",borderRadius:"4px",cursor:f?"not-allowed":"pointer",fontSize:"12px"},children:f?"Cancelling...":"Cancel Existing Game"})]})]})},f5e={AI:"ai"},PE={R:"/images/redrook.png",N:"/images/redknight.png",B:"/images/redbishop.png",Q:"/images/redqueen.png",K:"/images/redking.png",P:"/images/redpawn.png",r:"/images/bluerook.png",n:"/images/blueknight.png",b:"/images/bluebishop.png",q:"/images/bluequeen.png",k:"/images/blueking.png",p:"/images/bluepawn.png"},RB=[["R","N","B","Q","K","B","N","R"],["P","P","P","P","P","P","P","P"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["p","p","p","p","p","p","p","p"],["r","n","b","q","k","b","n","r"]],p5e=[{key:"K",name:"Red King",img:"/images/redking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"Q",name:"Red Queen",img:"/images/redqueen.png",desc:"The Queen moves any number of squares in any direction."},{key:"R",name:"Red Rook",img:"/images/redrook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"B",name:"Red Bishop",img:"/images/redbishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"N",name:"Red Knight",img:"/images/redknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"P",name:"Red Pawn",img:"/images/redpawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."},{key:"k",name:"Blue King",img:"/images/blueking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"q",name:"Blue Queen",img:"/images/bluequeen.png",desc:"The Queen moves any number of squares in any direction."},{key:"r",name:"Blue Rook",img:"/images/bluerook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"b",name:"Blue Bishop",img:"/images/bluebishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"n",name:"Blue Knight",img:"/images/blueknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"p",name:"Blue Pawn",img:"/images/bluepawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."}],g5e=()=>{const[t,e]=O.useState(!1),n=O.useRef(null),r=O.useRef(!1);O.useEffect(()=>r.current||n.current?void 0:(r.current=!0,console.log("[DEBUG] Initializing LawbBot..."),(()=>{try{const a=document.createElement("script");a.src="/stockfish.js",a.onload=()=>{if(console.log("[DEBUG] LawbBot script loaded, initializing..."),typeof window<"u"&&typeof window.Stockfish=="function"){const c=window.Stockfish;c?c().then(l=>{console.log("[DEBUG] LawbBot initialized successfully"),l instanceof Worker?(n.current=l,e(!0),r.current=!1,l.postMessage("setoption name Threads value 4"),l.postMessage("setoption name Hash value 128"),l.postMessage("setoption name MultiPV value 1")):(console.error("[DEBUG] LawbBot: Stockfish is not a Worker instance"),e(!1),r.current=!1)}).catch(l=>{console.error("[DEBUG] LawbBot initialization failed:",l),e(!1),r.current=!1}):(console.error("[DEBUG] LawbBot: Stockfish is not defined as a function"),e(!1),r.current=!1)}else console.error("[DEBUG] LawbBot not found in window object"),e(!1),r.current=!1},a.onerror=c=>{console.error("[DEBUG] Failed to load LawbBot script:",c),e(!1),r.current=!1},document.head.appendChild(a)}catch(a){console.error("[DEBUG] Failed to create LawbBot script:",a),e(!1),r.current=!1}})(),()=>{if(n.current){try{n.current.terminate()}catch(a){console.warn("[DEBUG] Error terminating LawbBot:",a)}n.current=null}r.current=!1}),[]);const s=O.useCallback((o,a=4e3)=>new Promise(c=>{if(!n.current){console.warn("[DEBUG] Stockfish not ready, using fallback"),c(null);return}console.log("[DEBUG] Starting Stockfish calculation for FEN:",o,"timeLimit:",a);let l=null,u=!1;const d=h=>{var p;const f=h.data;typeof f=="string"&&f.startsWith("bestmove ")&&(l=f.split(" ")[1]||null,console.log("[DEBUG] Stockfish bestmove found:",l),u||(u=!0,(p=n.current)==null||p.removeEventListener("message",d),c(l)))};try{n.current.addEventListener("message",d),n.current.postMessage("uci"),n.current.postMessage("isready"),n.current.postMessage(`position fen ${o}`);const h=a>5e3?a*1.5:a;n.current.postMessage(`go movetime ${h} depth 20`);const f=a>5e3?a*2:a+1e3;window.setTimeout(()=>{var p;if(!u){u=!0;try{(p=n.current)==null||p.removeEventListener("message",d)}catch(g){console.warn("[DEBUG] Error removing message listener:",g)}console.warn("[DEBUG] Stockfish timeout after",f,"ms"),c(l)}},f)}catch(h){console.error("[DEBUG] Stockfish communication error:",h),c(null)}}),[]),i=O.useCallback(async(o,a=4e3)=>{try{const c=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",l="https://chess.lawb.xyz/api/stockfish";console.log(`[DEBUG] Attempting API call to ${l}`);const u=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fen:o,movetime:a})});if(u.ok){const d=await u.json();return console.log(`[DEBUG] API call successful to ${l}:`,d),d.move||null}else return console.warn(`[DEBUG] API failed with status ${u.status} on ${l}`),null}catch(c){return console.warn("[DEBUG] API error:",c),null}},[]);return{stockfishReady:t,getStockfishMove:s,getCloudflareStockfishMove:i}},m5e=()=>{const[t,e]=O.useState(null),[n,r]=O.useState(!1),s=O.useCallback(async o=>{try{r(!0);const a=await fetch(`https://explorer.lichess.ovh/lichess?fen=${encodeURIComponent(o)}`);if(a.ok){const c=await a.json();return e(c),c}}catch(a){console.warn("[DEBUG] Lichess API error:",a)}finally{r(!1)}return null},[]),i=O.useCallback(async(o,a)=>{try{const c=await fetch(`https://explorer.lichess.ovh/lichess?fen=${encodeURIComponent(o)}&play=${a}`);if(c.ok)return await c.json()}catch(c){console.warn("[DEBUG] Lichess move analysis error:",c)}return null},[]);return{openingData:t,isAnalyzing:n,getOpeningData:s,getMoveAnalysis:i}},y5e=({onClose:t,onMinimize:e,fullscreen:n=!1})=>{const{address:r}=Dv(),[s,i]=O.useState(f5e.AI),[o,a]=O.useState(()=>JSON.parse(JSON.stringify(RB))),[c,l]=O.useState("blue"),[u,d]=O.useState(null),[h,f]=O.useState("active"),[p,g]=O.useState("hard"),[y,w]=O.useState("Connect wallet to play"),[v,b]=O.useState([]),[_,x]=O.useState([]),[C,S]=O.useState([]),[N,A]=O.useState(null),[P,D]=O.useState(!1),[j,H]=O.useState(!1),[K,I]=O.useState(null),[T,L]=O.useState(null),[U]=O.useState(""),[$]=O.useState(.1),[M,q]=O.useState({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),ee=O.useRef(null),ce=O.useRef(!1),se=O.useRef(o),ae=O.useRef(null),Ee=O.useRef(null),J=O.useRef(!1),re=O.useRef(!1),[de,ie]=O.useState(!1),[ye,De]=O.useState(!1),[Ie,ve]=O.useState(!1),[Ge,nt]=O.useState(()=>typeof window<"u"&&window.localStorage?window.localStorage.getItem("lawb_chess_dark_mode")==="true":!1),ot=()=>{nt(F=>(typeof window<"u"&&window.localStorage&&window.localStorage.setItem("lawb_chess_dark_mode",String(!F)),!F))},{stockfishReady:hn}=g5e(),{getOpeningData:tn}=m5e(),[It,An]=O.useState("loading"),[Ir,bi]=O.useState(!1),[Hn,Yn]=O.useState([]),[Qr,Io]=O.useState(!1),[Fd,To]=O.useState("/images/chessboard1.png"),lp=()=>{const F=["/images/chessboard1.png","/images/chessboard2.png","/images/chessboard3.png","/images/chessboard4.png","/images/chessboard5.png","/images/chessboard6.png"],V=Math.floor(Math.random()*F.length),Q=F[V];return console.log("[DEBUG] Random chessboard selected:",Q,"(index:",V,")"),Q};O.useEffect(()=>{if(hn)An("ready");else{const F=window.setTimeout(()=>{hn||(An("failed"),console.warn("[DEBUG] Stockfish failed to load within timeout"))},1e4);return()=>window.clearTimeout(F)}},[hn]),O.useEffect(()=>{se.current=o},[o]),O.useEffect(()=>{r?w("Select game mode"):(w("Connect wallet to play"),D(!1))},[r]),O.useEffect(()=>(!ee.current&&typeof Worker<"u"&&(ee.current=new Worker("/aiWorker.js"),ee.current.onmessage=F=>{console.log("[DEBUG] AI worker response received:",F.data);const{move:V,nodes:Q}=F.data;V&&ce.current&&h==="active"?(console.log("[DEBUG] AI worker move is valid, executing:",V),console.log("[DEBUG] AI searched",Q,"nodes"),ce.current=!1,Ee.current&&(window.clearTimeout(Ee.current),Ee.current=null),ae.current&&ae.current(V.from,V.to,!0)):console.log("[DEBUG] AI worker response ignored - not AI turn or game not active")},ee.current.onerror=F=>{console.error("[DEBUG] AI worker error:",F),w("AI worker error - using fallback mode"),ce.current=!1}),()=>{ee.current&&(ee.current.terminate(),ee.current=null),Ee.current&&(window.clearTimeout(Ee.current),Ee.current=null)}),[]),O.useEffect(()=>{o1()},[]);const o1=async()=>{try{const F=new Promise((te,Z)=>window.setTimeout(()=>Z(new Error("Database timeout")),1e4)),V=dn.from("leaderboard").select("*").order("points",{ascending:!1}),Q=await Promise.race([V,F]);if(Q.error)throw Q.error;Q.data&&x(Q.data),console.log("Leaderboard data loaded:",Q.data)}catch(F){w("Failed to load leaderboard"),console.error("Leaderboard error:",F)}},Sl=async F=>{if(console.log("[DEBUG] updateScore called with:",F),!r){console.log("[DEBUG] No wallet address, returning");return}try{const V=r.toLowerCase(),{data:Q}=await dn.from("leaderboard").select("*").eq("username",V).maybeSingle();console.log("[DEBUG] Existing record:",Q);const te=Q!=null&&Q.wins?Number(Q.wins):0,Z=Q!=null&&Q.losses?Number(Q.losses):0,Ne=Q!=null&&Q.draws?Number(Q.draws):0,ke=Q!=null&&Q.total_games?Number(Q.total_games):0,qe=Q!=null&&Q.points?Number(Q.points):0;console.log("[DEBUG] Score calculation:",{currentWins:te,currentLosses:Z,currentDraws:Ne,currentTotalGames:ke,currentPoints:qe,gameResult:F});const Tt=te+(F==="win"?1:0),zt=Z+(F==="loss"?1:0),Jn=Ne+(F==="draw"?1:0),Kt=ke+1;let Fy=0;if(F==="win")switch(p){case"easy":Fy=10;break;default:Fy=1}else F==="draw"&&(Fy=1);const VA=qe+Fy;if(console.log("[DEBUG] New values:",{newWins:Tt,newLosses:zt,newDraws:Jn,newTotalGames:Kt,newPoints:VA,pointsToAdd:Fy}),Q){const{error:zy}=await dn.from("leaderboard").update({wins:Tt,losses:zt,draws:Jn,total_games:Kt,points:VA,updated_at:new Date().toISOString()}).eq("username",V);if(zy){console.error("[DEBUG] Error updating leaderboard:",zy);return}}else{const{error:zy}=await dn.from("leaderboard").insert({username:V,chain_type:"ethereum",wins:Tt,losses:zt,draws:Jn,total_games:Kt,points:VA,updated_at:new Date().toISOString()});if(zy){console.error("[DEBUG] Error inserting leaderboard record:",zy);return}}console.log("[DEBUG] Leaderboard updated successfully"),await o1()}catch(V){console.error("[DEBUG] Error in updateScore:",V)}},nn=F=>F&&F===F.toUpperCase()?"red":"blue",a1=(F,V)=>F>=0&&F<8&&V>=0&&V<8,up=(F,V)=>`${String.fromCharCode(97+V)}${8-F}`,Ls=(F,V)=>{const Q=V==="blue"?"k":"K";let te=null;for(let ke=0;ke<8;ke++){for(let qe=0;qe<8;qe++)if(F[ke][qe]===Q){te={row:ke,col:qe};break}if(te)break}if(!te)return console.log(`King not found for ${V}`),!1;const Z=V==="blue"?"red":"blue",Ne=jA(te.row,te.col,Z,F);return console.log(`${V} king at ${te.row},${te.col} under attack: ${Ne}`),Ne},jA=(F,V,Q,te)=>{for(let Z=0;Z<8;Z++)for(let Ne=0;Ne<8;Ne++){const ke=te[Z][Ne];if(ke&&nn(ke)===Q&&we(ke,Z,Ne,F,V,!1,Q,te,!0))return!0}return!1},FA=(F,V,Q,te,Z,Ne=o)=>{const ke=Ne.map(Tt=>[...Tt]),qe=ke[F][V];return ke[Q][te]=qe,ke[F][V]=null,Ls(ke,Z)},zA=(F,V,Q,te,Z,Ne)=>{const ke=F==="blue"?-1:1,qe=F==="blue"?6:1;if(!a1(te,Z)||F==="blue"&&te>=V||F==="red"&&te<=V)return!1;const Tt=Math.abs(te-V),zt=Math.abs(Z-Q);if((Tt===1&&zt===0||Tt===2&&zt===0&&V===qe||Tt===1&&zt===1)&&Tt<=2&&zt<=1&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&console.log("[DEBUG] Pawn move check:",{color:F,from:`${V},${Q}`,to:`${te},${Z}`}),Q===Z&&te===V+ke)return Ne[te][Z]===null;if(Q===Z&&V===qe&&te===V+2*ke)return Ne[V+ke][Q]===null&&Ne[te][Z]===null;if(Math.abs(Q-Z)===1&&te===V+ke){const Kt=Ne[te][Z];return Kt!==null&&nn(Kt)!==F}if(Math.abs(Q-Z)===1&&te===V+ke){const Kt=Ne[V][Z];if(Kt&&nn(Kt)!==F&&Kt.toLowerCase()==="p"&&M.lastPawnDoubleMove&&M.lastPawnDoubleMove.row===V&&M.lastPawnDoubleMove.col===Z)return console.log("[DEBUG] Pawn en passant move"),!0}return!1},c1=(F,V,Q,te,Z)=>F!==Q&&V!==te?!1:pe(F,V,Q,te,Z),l1=(F,V,Q,te)=>{const Z=Math.abs(F-Q),Ne=Math.abs(V-te);return Z===2&&Ne===1||Z===1&&Ne===2},z=(F,V,Q,te,Z)=>Math.abs(F-Q)!==Math.abs(V-te)?!1:pe(F,V,Q,te,Z),X=(F,V,Q,te,Z)=>c1(F,V,Q,te,Z)||z(F,V,Q,te,Z),le=(F,V,Q,te,Z)=>{const Ne=Math.abs(V-te),ke=Math.abs(Q-Z);if(Ne<=1&&ke<=1)return!0;if(Ne===0&&ke===2){if(F==="blue"&&!M.blueKingMoved){if(Z===6&&!M.blueRooksMove.right||Z===2&&!M.blueRooksMove.left)return!0}else if(F==="red"&&!M.redKingMoved&&(Z===6&&!M.redRooksMove.right||Z===2&&!M.redRooksMove.left))return!0}return!1},pe=(F,V,Q,te,Z)=>{const Ne=F===Q?0:(Q-F)/Math.abs(Q-F),ke=V===te?0:(te-V)/Math.abs(te-V);let qe=F+Ne,Tt=V+ke;for(;qe!==Q||Tt!==te;){if(Z[qe][Tt]!==null)return!1;qe+=Ne,Tt+=ke}return!0},we=(F,V,Q,te,Z,Ne=!0,ke=nn(F),qe=o,Tt=!1)=>{if(!a1(te,Z))return Tt||console.log("[ILLEGAL MOVE] Out of board:",{piece:F,startRow:V,startCol:Q,endRow:te,endCol:Z}),!1;const zt=qe[te][Z];if(zt&&nn(zt)===ke)return Tt||console.log("[ILLEGAL MOVE] Capturing own piece:",{piece:F,startRow:V,startCol:Q,endRow:te,endCol:Z}),!1;const Jn=F.toLowerCase();let Kt=!1;switch(Jn){case"p":Kt=zA(ke,V,Q,te,Z,qe);break;case"r":Kt=c1(V,Q,te,Z,qe);break;case"n":Kt=l1(V,Q,te,Z);break;case"b":Kt=z(V,Q,te,Z,qe);break;case"q":Kt=X(V,Q,te,Z,qe);break;case"k":Kt=le(ke,V,Q,te,Z);break}return Kt?Kt&&Ne&&FA(V,Q,te,Z,ke,qe)?(Tt||console.log("[ILLEGAL MOVE] Move exposes king to check:",{piece:F,startRow:V,startCol:Q,endRow:te,endCol:Z}),!1):Kt:(Tt||console.log("[ILLEGAL MOVE] Piece cannot move that way:",{piece:F,startRow:V,startCol:Q,endRow:te,endCol:Z,playerColor:ke,pieceType:Jn,targetPiece:qe[te][Z],targetPieceColor:qe[te][Z]?nn(qe[te][Z]):null}),!1)},Ve=(F,V=o,Q=c)=>{const te=[],Z=V[F.row][F.col];if(!Z||nn(Z)!==Q)return te;const Ne=Z.toLowerCase();if(Ne==="p"){const ke=Q==="blue"?-1:1,qe=Q==="blue"?6:1,Tt=F.row+ke;if(Tt>=0&&Tt<8&&we(Z,F.row,F.col,Tt,F.col,!0,Q,V,!0)&&te.push({row:Tt,col:F.col}),F.row===qe){const zt=F.row+2*ke;zt>=0&&zt<8&&we(Z,F.row,F.col,zt,F.col,!0,Q,V,!0)&&te.push({row:zt,col:F.col})}for(const zt of[-1,1]){const Jn=F.col+zt,Kt=F.row+ke;Jn>=0&&Jn<8&&Kt>=0&&Kt<8&&we(Z,F.row,F.col,Kt,Jn,!0,Q,V,!0)&&te.push({row:Kt,col:Jn})}}else if(Ne==="n"){const ke=[[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]];for(const[qe,Tt]of ke){const zt=F.row+qe,Jn=F.col+Tt;zt>=0&&zt<8&&Jn>=0&&Jn<8&&we(Z,F.row,F.col,zt,Jn,!0,Q,V,!0)&&te.push({row:zt,col:Jn})}}else for(let ke=0;ke<8;ke++)for(let qe=0;qe<8;qe++)we(Z,F.row,F.col,ke,qe,!0,Q,V,!0)&&te.push({row:ke,col:qe});return te},bt=(F,V=o)=>{if(!Ls(V,F))return!1;for(let Q=0;Q<8;Q++)for(let te=0;te<8;te++){const Z=V[Q][te];if(Z&&nn(Z)===F&&Ve({row:Q,col:te},V,F).length>0)return!1}return!0},ht=(F,V=o)=>{if(Ls(V,F))return!1;for(let Q=0;Q<8;Q++)for(let te=0;te<8;te++){const Z=V[Q][te];if(Z&&nn(Z)===F&&Ve({row:Q,col:te},V,F).length>0)return!1}return!0},Ft=(F,V)=>{if(h!=="active"||ce.current)return;const Q=o[F][V],te=Q?nn(Q):null;if(u&&C.some(Z=>Z.row===F&&Z.col===V)){gs(u,{row:F,col:V});return}if(Q&&te===c){const Z=Ve({row:F,col:V});d({row:F,col:V}),S(Z);return}d(null),S([])},gs=(F,V,Q=!1)=>{const te=o[F.row][F.col];if(console.log("[MOVE ATTEMPT]",{from:F,to:V,piece:te,isAIMove:Q,board:JSON.parse(JSON.stringify(o)),moveHistory:v}),!!te){if(te.toLowerCase()==="p"&&(nn(te)==="blue"&&V.row===0||nn(te)==="red"&&V.row===7)){I({from:F,to:V}),H(!0);return}M3(F,V,"q",Q)}};ae.current=gs;const zd=O.useCallback((F,V,Q=!1)=>{Io(!0);const te=o.map(ke=>[...ke]),Z=te[F.row][F.col];if(!Z)return;te[V.row][V.col]=Z,te[F.row][F.col]=null,MV(te,F,V,Z);const Ne=jV(F,V);if(b(ke=>{const qe=[...ke,Ne];return console.log("[MOVE HISTORY UPDATED]",qe),qe}),A({from:F,to:V}),d(null),S([]),v.length<10&&!Q){const ke=DB(te,c==="blue"?"red":"blue");tn(ke).then(qe=>{qe&&qe.moves&&qe.moves.length>0&&(Yn(qe.moves.slice(0,3)),bi(!0),setTimeout(()=>bi(!1),5e3))})}FV(F,V,Z),l(ke=>{const qe=ke==="blue"?"red":"blue";return console.log("[DEBUG] Player switched to:",qe),No(te,qe),qe}),No(te,c==="blue"?"red":"blue"),a(te),ce.current=!1,J.current=!1,re.current=!1,Io(!1)},[o,c,v,tn]);O.useEffect(()=>{if(!ce.current&&s==="ai"&&c==="red"&&!J.current&&!Qr)if(ce.current=!0,p==="easy")setTimeout(()=>{const F=jy(o);F?gs(F.from,F.to,!0):ce.current=!1},600);else{w("AI is calculating...");const F=DB(o,c);if(re.current)return;re.current=!0,fetch("https://chess.lawb.xyz/api/stockfish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fen:F,difficulty:p,movetime:3e3})}).then(Q=>{if(Q.ok)return Q.json();throw new Error("API call failed")}).then(Q=>{const te=Q.bestmove||Q.move;if(te&&te!=="(none)"&&te.length===4){const Z=te.charCodeAt(0)-97,Ne=parseInt(te[1]),ke=te.charCodeAt(2)-97,qe=parseInt(te[3]),Tt=8-Ne,zt=8-qe;if(Z>=0&&Z<8&&Tt>=0&&Tt<8&&ke>=0&&ke<8&&zt>=0&&zt<8){const Jn={from:{row:Tt,col:Z},to:{row:zt,col:ke}},Kt=o[Tt][Z];Kt&&nn(Kt)==="red"&&we(Kt,Tt,Z,zt,ke,!0,"red",o)?gs(Jn.from,Jn.to,!0):(ce.current=!1,re.current=!1)}else ce.current=!1,re.current=!1}else ce.current=!1,re.current=!1}).catch(()=>{w("AI error. Please try again."),ce.current=!1,re.current=!1})}},[c,s,p,o,M,hn]);const No=(F,V)=>{console.log("Checking game end for player:",V);const Q=F.some(Z=>Z.some(Ne=>Ne==="k")),te=F.some(Z=>Z.some(Ne=>Ne==="K"));if(!Q)return console.log("[GAME END] KING CAPTURED - Red wins!"),f("checkmate"),w("King captured! Red wins!"),Sl("loss"),ve(!0),setTimeout(()=>ve(!1),3e3),"checkmate";if(!te)return console.log("[GAME END] KING CAPTURED - Blue wins!"),f("checkmate"),w("King captured! You win!"),Sl("win"),ve(!0),setTimeout(()=>ve(!1),3e3),"checkmate";if(console.log("Is king in check:",Ls(F,V)),bt(V,F)){console.log("[GAME END] CHECKMATE",{winner:V==="blue"?"red":"blue",board:JSON.parse(JSON.stringify(F)),moveHistory:v}),f("checkmate");const Z=V==="blue"?"red":"blue";return Z==="blue"?(w("Checkmate! You win!"),dp("checkmate"),z3(!0),HV(),Sl("win"),ve(!0),setTimeout(()=>ve(!1),3e3)):(w(`Checkmate! ${Z==="red"?"AI":"Opponent"} wins!`),dp("checkmate"),H3(!0),Sl("loss"),ve(!0),setTimeout(()=>ve(!1),3e3)),"checkmate"}return ht(V,F)?(console.log("[GAME END] STALEMATE",{board:JSON.parse(JSON.stringify(F)),moveHistory:v}),f("stalemate"),w("Stalemate! Game is a draw."),Sl("draw"),ve(!0),setTimeout(()=>ve(!1),3e3),"stalemate"):(Ls(F,V)?(console.log("CHECK detected!"),dp("check"),w(`${V==="blue"?"Blue":"Red"} is in check!`)):w("Your turn"),null)},jy=F=>{const V=[];for(let Z=0;Z<8;Z++)for(let Ne=0;Ne<8;Ne++){const ke=F[Z][Ne];ke&&nn(ke)==="red"&&V.push({row:Z,col:Ne})}for(let Z=V.length-1;Z>0;Z--){const Ne=Math.floor(Math.random()*(Z+1));[V[Z],V[Ne]]=[V[Ne],V[Z]]}const Q=[],te=[];for(const Z of V){const Ne=Ve(Z,F,"red");for(const ke of Ne){const qe=F[ke.row][ke.col];if(qe&&nn(qe)==="blue"){const zt={p:100,n:320,b:330,r:500,q:900,k:2e4}[qe.toLowerCase()]||0;Q.push({from:Z,to:ke,value:zt})}else te.push({from:Z,to:ke})}}if(Q.length>0&&Math.random()<.3){Q.sort((Z,Ne)=>Z.value-Ne.value);for(const Z of Q){const Ne=F.map(qe=>[...qe]),ke=Ne[Z.from.row][Z.from.col];if(Ne[Z.to.row][Z.to.col]=ke,Ne[Z.from.row][Z.from.col]=null,!Ls(Ne,"red"))return{from:Z.from,to:Z.to}}}for(const Z of te){const Ne=F.map(qe=>[...qe]),ke=Ne[Z.from.row][Z.from.col];if(Ne[Z.to.row][Z.to.col]=ke,Ne[Z.from.row][Z.from.col]=null,!Ls(Ne,"red"))return Z}Q.sort((Z,Ne)=>Z.value-Ne.value);for(const Z of Q){const Ne=F.map(qe=>[...qe]),ke=Ne[Z.from.row][Z.from.col];if(Ne[Z.to.row][Z.to.col]=ke,Ne[Z.from.row][Z.from.col]=null,!Ls(Ne,"red"))return{from:Z.from,to:Z.to}}return null},u1=()=>{a(JSON.parse(JSON.stringify(RB))),l("blue"),d(null),f("active"),b([]),S([]),A(null),D(!1),w("Select game mode"),q({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),To(lp()),ce.current&&(ce.current=!1)},HA=()=>{if(qV(),console.log("[DEBUG] startGame called, difficulty:",p,"gameMode:",s),s==="online"){D(!1),ie(!1);return}D(!0),ie(!1),w("Game started! Your turn");const F=lp();To(F),console.log("[DEBUG] Game started with chessboard:",F)},B3=F=>`${F.slice(0,6)}...${F.slice(-4)}`,DV=(F,V)=>{const Q=o[F][V],te=(u==null?void 0:u.row)===F&&(u==null?void 0:u.col)===V,Z=C.some(ke=>ke.row===F&&ke.col===V),Ne=N&&(N.from.row===F&&N.from.col===V||N.to.row===F&&N.to.col===V);return m.jsxs("div",{className:`square ${te?"selected":""} ${Z?"legal-move":""} ${Ne?"last-move":""}`,onClick:()=>Ft(F,V),children:[Q&&m.jsx("div",{className:"piece",style:{backgroundImage:PE[Q]?`url(${PE[Q]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),Z&&m.jsx("div",{className:"legal-move-indicator"})]},`${F}-${V}`)},$V=()=>{if(!j||!K)return null;const F=c==="blue"?["q","r","b","n"]:["Q","R","B","N"];return m.jsx("div",{className:"promotion-dialog",children:m.jsxs("div",{className:"promotion-content",children:[m.jsx("h3",{children:"Choose promotion piece:"}),m.jsx("div",{className:"promotion-pieces",children:F.map(V=>m.jsx("div",{className:"promotion-piece",onClick:()=>{M3(K.from,K.to,V),H(!1),I(null)},style:{backgroundImage:PE[V]?`url(${PE[V]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},V))})]})})},[UV,BV]=O.useState(null),L3=(F=!1,V="Click a piece to learn more about it.")=>m.jsxs("div",{className:`piece-gallery${F?" piece-gallery-sm":""}`,children:[m.jsx("h3",{children:"Lawbstation Chess Pieces"}),m.jsx("div",{className:"piece-gallery-grid",children:p5e.map(Q=>m.jsxs("div",{className:"piece-gallery-item",onClick:()=>BV(Q.key),children:[m.jsx("img",{src:Q.img,alt:Q.name,className:"piece-gallery-img"}),m.jsx("div",{className:"piece-gallery-name",children:Q.name}),UV===Q.key&&m.jsx("div",{className:"piece-gallery-desc",children:Q.desc})]},Q.key))}),m.jsx("div",{className:"piece-gallery-tip",children:V})]}),LV=()=>m.jsx("div",{className:"difficulty-selection-row",style:{justifyContent:"center"},children:m.jsx("div",{className:"difficulty-controls-col",children:m.jsxs("div",{className:"difficulty-selection-panel",style:{background:"#fff",borderRadius:12,padding:"32px 24px",boxShadow:"0 4px 32px rgba(0,0,0,0.12)",textAlign:"center"},children:[m.jsx("h2",{style:{fontWeight:700,letterSpacing:1,fontSize:"2rem",color:"#0a2a7a",marginBottom:16},children:"Start a New Game"}),m.jsxs("p",{style:{fontSize:"1.1rem",color:"#333",marginBottom:24},children:["Challenge the LawbBot AI to a chess match.",m.jsx("br",{}),"Good luck, have fun!"]}),m.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:16,marginBottom:24},children:[m.jsx("button",{className:`difficulty-btn${p==="easy"?" selected":""}`,style:{background:p==="easy"?"#44c0ff":"#eee",color:p==="easy"?"#fff":"#333",fontWeight:"bold",fontSize:"1.1em",padding:"12px 32px",borderRadius:8,border:"none",cursor:"pointer",letterSpacing:1,boxShadow:p==="easy"?"0 2px 8px #44c0ff44":"none"},onClick:()=>g("easy"),children:"Easy"}),m.jsx("button",{className:`difficulty-btn${p==="hard"?" selected":""}`,style:{background:p==="hard"?"#0a2a7a":"#eee",color:p==="hard"?"#fff":"#333",fontWeight:"bold",fontSize:"1.1em",padding:"12px 32px",borderRadius:8,border:"none",cursor:"pointer",letterSpacing:1,boxShadow:p==="hard"?"0 2px 8px #0a2a7a44":"none"},onClick:()=>g("hard"),children:"Hard"})]}),m.jsxs("button",{className:"difficulty-btn start-btn",onClick:()=>{HA()},style:{background:"linear-gradient(90deg, #0a2a7a 0%, #44c0ff 100%)",color:"white",fontWeight:"bold",fontSize:"1.3em",padding:"18px 48px",borderRadius:8,boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"none",cursor:"pointer",letterSpacing:1,marginBottom:8},children:[m.jsx("span",{role:"img","aria-label":"chess",children:""})," Start Game"]})]})})}),MV=(F,V,Q,te)=>{if(te.toLowerCase()==="p"&&(nn(te)==="blue"&&Q.row===0||nn(te)==="red"&&Q.row===7)){const Z=nn(te)==="blue"?"q":"Q";F[Q.row][Q.col]=Z}te.toLowerCase()==="k"&&Math.abs(V.col-Q.col)===2&&(Q.col===6?(F[V.row][7]=null,F[V.row][5]=nn(te)==="blue"?"r":"R"):Q.col===2&&(F[V.row][0]=null,F[V.row][3]=nn(te)==="blue"?"r":"R"))},jV=(F,V,Q,te)=>{const Z=up(F.row,F.col),Ne=up(V.row,V.col);return`${Z}-${Ne}`},FV=(F,V,Q)=>{const te={...M};Q.toLowerCase()==="k"?nn(Q)==="blue"?te.blueKingMoved=!0:te.redKingMoved=!0:Q.toLowerCase()==="r"&&(nn(Q)==="blue"?(F.col===0&&(te.blueRooksMove.left=!0),F.col===7&&(te.blueRooksMove.right=!0)):(F.col===0&&(te.redRooksMove.left=!0),F.col===7&&(te.redRooksMove.right=!0))),Q.toLowerCase()==="p"&&Math.abs(F.row-V.row)===2?te.lastPawnDoubleMove={row:V.row,col:V.col}:te.lastPawnDoubleMove=null,q(te)},M3=(F,V,Q="q",te=!1)=>{o[F.row][F.col];const Ne=o[V.row][V.col]!==null;if(dp(Ne?"capture":"move"),Ne){L({row:V.row,col:V.col,show:!0}),setTimeout(()=>{zd(F,V,te),L(null)},500);return}zd(F,V,te)},[j3,zV]=O.useState(!0),[WA,F3]=O.useState(!1),dp=F=>{if(!j3)return;let V="";switch(F){case"move":V="/images/move.mp3";break;case"capture":V="/images/capture.mp3";break;case"check":V="/images/play.mp3";break;case"checkmate":V="/images/victory.mp3";break;case"victory":V="/images/victory.mp3";break;default:V="/images/move.mp3"}new Audio(V).play().catch(()=>{})},HV=()=>{if(WA){dp("victory");for(let F=0;F<50;F++)setTimeout(()=>{const V=document.createElement("div");V.style.cssText=`
          position: fixed;
          width: 10px;
          height: 10px;
          background: ${["#ff4444","#44ff44","#4444ff","#ffff44","#ff44ff"][Math.floor(Math.random()*5)]};
          left: ${Math.random()*window.innerWidth}px;
          top: -10px;
          z-index: 9999;
          animation: confetti-fall 3s linear forwards;
        `,document.body.appendChild(V),setTimeout(()=>V.remove(),3e3)},F*100);setTimeout(()=>F3(!1),5e3)}},[WV,z3]=O.useState(!1),[GV,H3]=O.useState(!1),W3=()=>{z3(!1),H3(!1)},GA=()=>{W3(),u1()},qA=()=>{W3(),D(!1)},qV=()=>{new Audio("/images/start.mp3").play().catch(()=>{})},VV=s==="online";return m.jsxs("div",{className:`chess-game${n?" fullscreen":""}${Ge?" chess-dark-mode":""}`,children:[!n&&m.jsxs("div",{className:"chess-header",children:[m.jsx("h2",{children:"Lawb Chess"}),m.jsxs("div",{className:"chess-controls",children:[e&&m.jsx("button",{onClick:e,children:"_"}),m.jsx("button",{onClick:t,children:""}),m.jsx("button",{className:"dark-mode-toggle",onClick:ot,title:Ge?"Switch to light mode":"Switch to dark mode","aria-label":Ge?"Switch to light mode":"Switch to dark mode",style:{marginLeft:12},children:Ge?"":""})]})]}),m.jsxs("div",{className:"game-stable-layout",children:[m.jsxs("div",{className:"left-sidebar",children:[P&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"move-history-status",children:y}),m.jsxs("div",{className:"move-history",children:[m.jsx("div",{className:"move-history-title",children:"Move History"}),m.jsx("ul",{className:"move-history-list",children:v.slice().reverse().map((F,V)=>m.jsx("li",{children:F},v.length-1-V))})]})]}),!P&&m.jsxs("div",{className:"leaderboard",children:[m.jsx("h3",{children:"Leaderboard"}),m.jsx("div",{className:"leaderboard-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Rank"}),m.jsx("th",{children:"Player"}),m.jsx("th",{children:"W"}),m.jsx("th",{children:"L"}),m.jsx("th",{children:"D"}),m.jsx("th",{children:"Points"})]})}),m.jsx("tbody",{children:Array.isArray(_)&&_.slice(0,10).map((F,V)=>{if(typeof F=="object"&&F!==null&&"username"in F&&"wins"in F&&"losses"in F&&"draws"in F&&"points"in F){const Q=F;return m.jsxs("tr",{children:[m.jsx("td",{children:V+1}),m.jsx("td",{children:B3(Q.username)}),m.jsx("td",{children:Q.wins}),m.jsx("td",{children:Q.losses}),m.jsx("td",{children:Q.draws}),m.jsx("td",{children:Q.points})]},Q.username)}return null})})]})})]})]}),m.jsxs("div",{className:"center-area",children:[m.jsx("div",{className:"game-info",children:m.jsxs("div",{className:"game-info-bar",children:[m.jsxs("span",{className:c==="blue"?"current-blue":"current-red",children:["Current: ",c==="blue"?"Blue":"Red"]}),m.jsx("span",{className:"wager-label",children:"Wager:"})," ",m.jsx("span",{children:s==="ai"?"NA":`${$} ETH`}),P&&!de&&m.jsxs("span",{className:"mode-play",children:["Mode: ",p==="easy"?"Easy":"Hard"]}),p==="easy"&&m.jsxs("span",{className:`stockfish-status ${It}`,children:["LawbBot: ",It==="loading"?"Loading...":It==="ready"?"Ready":"Failed"]}),p==="hard"&&m.jsxs("span",{className:`stockfish-status ${It}`,children:["LawbBot: ",It==="loading"?"Loading...":It==="ready"?"Ready":"Failed"]}),Ir&&Hn.length>0&&m.jsxs("div",{className:"opening-suggestions",children:[m.jsx("span",{className:"opening-label",children:"Opening:"}),Hn.map((F,V)=>m.jsxs("span",{className:"opening-move",children:[F.san," (",Math.round(F.white+F.draws+F.black)," games)"]},V))]})]})}),P?m.jsxs("div",{className:"chess-main-area",children:[m.jsx("div",{className:"chessboard-container",children:m.jsxs("div",{className:"chessboard",style:{backgroundImage:`url(${Fd})`},children:[Array.from({length:8},(F,V)=>m.jsx("div",{className:"board-row",children:Array.from({length:8},(Q,te)=>DV(V,te))},V)),T&&T.show&&m.jsx("div",{className:"capture-animation",style:{position:"absolute",top:`${T.row*12.5}%`,left:`${T.col*12.5}%`,width:"12.5%",height:"12.5%",zIndex:10},children:m.jsx("img",{src:"/images/capture.gif",alt:"capture",style:{width:"100%",height:"100%"}})})]})}),m.jsxs("div",{className:"game-controls",children:[m.jsx("button",{onClick:()=>De(!0),children:"Chess Piece Info"}),m.jsx("button",{onClick:GA,children:"New Game"}),m.jsx("button",{onClick:qA,children:"Back to Menu"})]}),m.jsxs("div",{className:"epic-controls",children:[m.jsxs("div",{className:"epic-toggle",children:[m.jsx("input",{type:"checkbox",id:"sound-toggle",checked:j3,onChange:F=>zV(F.target.checked)}),m.jsx("label",{htmlFor:"sound-toggle",children:" Sound Effects"})]}),m.jsxs("div",{className:"epic-toggle",children:[m.jsx("input",{type:"checkbox",id:"victory-toggle",checked:WA,onChange:F=>F3(F.target.checked)}),m.jsx("label",{htmlFor:"victory-toggle",children:" Victory Celebration"})]})]})]}):de?LV():s==="online"?m.jsx(RV,{}):m.jsxs("div",{className:"game-mode-panel",children:[m.jsx("h3",{className:"game-mode-title",children:"Select Game Mode"}),m.jsx("button",{className:`mode-btn ${s==="ai"?"selected":""}`,onClick:()=>i("ai"),children:"VS THE HOUSE"}),m.jsxs("div",{className:"pvp-section",children:[m.jsx("button",{className:`mode-btn ${VV?"selected":""}`,onClick:()=>i("online"),children:"PvP"}),m.jsx("img",{src:"/images/chessboard4.png",alt:"Chessboard",style:{display:"block",margin:"16px auto 0 auto",width:"180px",maxWidth:"90%"}})]}),m.jsx("button",{className:"start-btn continue-btn",onClick:()=>ie(!0),children:"Continue"}),m.jsxs("div",{className:"how-to-section",children:[m.jsx("h4",{children:"How to Play"}),m.jsxs("div",{className:"how-to-content",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Chess Basics:"})," Move pieces to capture your opponent's king. Each piece moves differently - pawns forward, knights in L-shapes, bishops diagonally, rooks horizontally/vertically, queens in all directions, kings one square at a time."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Wallet Connection:"})," Connect your wallet to track your progress and compete on the leaderboard. Your wallet address serves as your username."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Points System:"})," Win points by defeating the AI. 1 win = 10pts. 1 draw = 1 point."]})]})]})]})]}),m.jsx("div",{className:"right-sidebar",children:P?m.jsxs("div",{className:"leaderboard",children:[m.jsx("h3",{children:"Leaderboard"}),m.jsx("div",{className:"leaderboard-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Rank"}),m.jsx("th",{children:"Player"}),m.jsx("th",{children:"W"}),m.jsx("th",{children:"L"}),m.jsx("th",{children:"D"}),m.jsx("th",{children:"Points"})]})}),m.jsx("tbody",{children:Array.isArray(_)&&_.slice(0,10).map((F,V)=>{if(typeof F=="object"&&F!==null&&"username"in F&&"wins"in F&&"losses"in F&&"draws"in F&&"points"in F){const Q=F;return m.jsxs("tr",{children:[m.jsx("td",{children:V+1}),m.jsx("td",{children:B3(Q.username)}),m.jsx("td",{children:Q.wins}),m.jsx("td",{children:Q.losses}),m.jsx("td",{children:Q.draws}),m.jsx("td",{children:Q.points})]},Q.username)}return null})})]})})]}):m.jsx("div",{className:"piece-gallery-panel",children:L3(!1)})})]}),ye&&m.jsx("div",{className:"gallery-modal-overlay",onClick:()=>De(!1),children:m.jsxs("div",{className:"gallery-modal",onClick:F=>F.stopPropagation(),children:[m.jsx("button",{className:"close-modal-btn",onClick:()=>De(!1),children:""}),L3(!1)]})}),$V(),Ie&&m.jsx("div",{className:"leaderboard-updated-msg",children:"Leaderboard updated!"}),WV&&WA&&m.jsxs("div",{className:"victory-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.0)"},children:[m.jsx("div",{className:"balloons-container"}),m.jsx("img",{src:"/images/victory.gif",alt:"Victory",style:{width:"320px",height:"auto",zIndex:2}}),m.jsxs("div",{style:{position:"absolute",bottom:40,left:0,width:"100vw",display:"flex",justifyContent:"center",gap:24},children:[m.jsx("button",{onClick:GA,children:"New Game"}),m.jsx("button",{onClick:qA,children:"Back to Menu"})]})]}),GV&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"blood-overlay",children:[0,1,2,3,4,5].map(F=>m.jsx("div",{className:"blood-drip",style:{left:`${10+F*14}%`,animationDelay:`${.5+F*.3}s`,background:"linear-gradient(to bottom, #a80000 0%, #d10000 80%, #5a0000 100%)",width:`${14+Math.random()*10}px`,height:`${50+Math.random()*30}px`,opacity:.85+Math.random()*.1}},F))}),m.jsxs("div",{className:"defeat-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.0)",pointerEvents:"none"},children:[m.jsx("img",{src:"/images/loser.gif",alt:"Defeat",style:{width:"320px",height:"auto",zIndex:2}}),m.jsxs("div",{style:{position:"absolute",bottom:40,left:0,width:"100vw",display:"flex",justifyContent:"center",gap:24,pointerEvents:"none"},children:[m.jsx("button",{style:{pointerEvents:"auto",zIndex:3e3},onClick:GA,children:"New Game"}),m.jsx("button",{style:{pointerEvents:"auto",zIndex:3e3},onClick:qA,children:"Back to Menu"})]})]})]})]})};function DB(t,e){let n="";for(let r=0;r<8;r++){let s=0;for(let i=0;i<8;i++){const o=t[r][i];o?(s>0&&(n+=s,s=0),o>="a"&&o<="z"?n+=o.toUpperCase():o>="A"&&o<="Z"?n+=o.toLowerCase():n+=o):s++}s>0&&(n+=s),r<7&&(n+="/")}return n+=" "+(e==="blue"?"w":"b"),n+=" - - 0 1",n}const $B=()=>{const[t,e]=O.useState("singleplayer");return m.jsxs("div",{className:"chess-page",children:[m.jsxs("div",{className:"chess-header",children:[m.jsx("h1",{children:" Chess"}),m.jsxs("div",{className:"mode-toggle",children:[m.jsx("button",{className:`mode-btn ${t==="singleplayer"?"active":""}`,onClick:()=>e("singleplayer"),children:"Single Player"}),m.jsx("button",{className:`mode-btn ${t==="multiplayer"?"active":""}`,onClick:()=>e("multiplayer"),children:"Multiplayer"})]})]}),m.jsx("div",{className:"chess-content",children:t==="singleplayer"?m.jsx(y5e,{onClose:()=>{}}):m.jsx(RV,{})})]})},w5e=new zne,b5e=typeof window<"u"&&window.location.hostname.startsWith("chess."),v5e=()=>oke("(max-width: 768px)")?m.jsx(ike,{}):m.jsx(JPe,{});UI.createRoot(document.getElementById("root")).render(m.jsx(Li.StrictMode,{children:m.jsx(nne,{config:mG.wagmiConfig,children:m.jsx(tre,{client:w5e,children:m.jsx(QPe,{children:m.jsx(qPe,{children:b5e?m.jsx(cx,{path:"/*",element:m.jsx($B,{})}):m.jsxs(m.Fragment,{children:[m.jsx(cx,{path:"/",element:m.jsx(v5e,{})}),m.jsx(cx,{path:"/chess",element:m.jsx($B,{})})]})})})})})}));export{LUe as $,Se as A,Je as B,Pe as C,Gr as D,cw as E,Wr as F,Ke as G,BN as H,U0 as I,na as J,bue as K,on as L,Wt as M,gue as N,me as O,Ri as P,ix as Q,Xe as R,ia as S,ti as T,vb as U,Pb as V,Ar as W,HUe as X,BP as Y,Xue as Z,ww as _,ax as a,wy as a$,Er as a0,qf as a1,jn as a2,jUe as a3,qW as a4,LP as a5,ny as a6,Wn as a7,j5e as a8,Vu as a9,CF as aA,_F as aB,Ed as aC,sw as aD,gl as aE,k5e as aF,ZY as aG,Cf as aH,P5e as aI,O5e as aJ,Wx as aK,D5e as aL,EZ as aM,bj as aN,N5e as aO,xC as aP,qw as aQ,Gx as aR,X_ as aS,$5e as aT,xZ as aU,t8 as aV,Wte as aW,woe as aX,Co as aY,Mee as aZ,Lee as a_,cc as aa,hb as ab,rt as ac,or as ad,su as ae,TF as af,IC as ag,qx as ah,FO as ai,vd as aj,I5e as ak,SC as al,zO as am,S5e as an,A5e as ao,Oj as ap,vC as aq,Hx as ar,LY as as,HY as at,B5e as au,BX as av,fe as aw,DO as ax,ks as ay,MX as az,Yt as b,_f as b0,yC as b1,Ds as b2,Qn as b3,Ov as b4,ue as c,We as d,B as e,Jt as f,tl as g,zUe as h,Og as i,$i as j,Le as k,_n as l,fNe as m,Xn as n,pNe as o,Te as p,Nn as q,FUe as r,jt as s,S7 as t,bn as u,Kue as v,Ki as w,BUe as x,vR as y,T7 as z};
