const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-Dk4FYozV.js","assets/hmac-CkxByyBN.js","assets/secp256k1-CmPQPOEZ.js","assets/embedded-wallet-DzdOzGdC.js","assets/if-defined-BvuKv_WQ.js","assets/index-By9P8u_A.js","assets/index-CPkXoDI-.js","assets/ref-DqDuZDbO.js","assets/index-DkRWJ3yY.js","assets/index-BfkBP02_.js","assets/index-TrVNpBRZ.js","assets/index-SRFhNd3W.js","assets/index-CTRIxo7J.js","assets/index-DcJBLVHG.js","assets/index-ByY9XKjD.js","assets/email-DgVsdc0G.js","assets/index-WzXgUuhQ.js","assets/socials-yy9kl84v.js","assets/index-DoJNLm8L.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-D18M4E2s.js","assets/index-Sr8NHghb.js","assets/index-CzSoI7Hh.js","assets/index-DX41uD2F.js","assets/swaps-BsH9KCP-.js","assets/index-e0SEWnnt.js","assets/index-DYKh_-JK.js","assets/index-B1ug2xF0.js","assets/send-BniOwaAe.js","assets/index-LqIA8KE6.js","assets/index-BSPx8qrx.js","assets/receive-mnYSMSay.js","assets/index-Do6QDDJ6.js","assets/onramp-fZ3jyWX6.js","assets/index-DDX0b_jC.js","assets/index-B0QzqOln.js","assets/index-Dk8gOJYa.js","assets/transactions-D3roti7T.js","assets/index-Dv8LzfCy.js","assets/index-B64yJBOe.js","assets/index-C2-Xfc9q.js","assets/index-DkBWXlpu.js","assets/index-CLsZAsBy.js","assets/w3m-modal-CqfhGRTH.js"])))=>i.map(i=>d[i]);
var AI=t=>{throw TypeError(t)};var hb=(t,e,n)=>e.has(t)||AI("Cannot "+n);var z=(t,e,n)=>(hb(t,e,"read from private field"),n?n.call(t):e.get(t)),Te=(t,e,n)=>e.has(t)?AI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),we=(t,e,n,r)=>(hb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Qe=(t,e,n)=>(hb(t,e,"access private method"),n);var Dm=(t,e,n,r)=>({set _(s){we(t,e,s,n)},get _(){return z(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var on=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function D0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var sR={exports:{}},j0={},iR={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=Symbol.for("react.element"),LU=Symbol.for("react.portal"),MU=Symbol.for("react.fragment"),BU=Symbol.for("react.strict_mode"),FU=Symbol.for("react.profiler"),zU=Symbol.for("react.provider"),qU=Symbol.for("react.context"),WU=Symbol.for("react.forward_ref"),HU=Symbol.for("react.suspense"),VU=Symbol.for("react.memo"),GU=Symbol.for("react.lazy"),II=Symbol.iterator;function KU(t){return t===null||typeof t!="object"?null:(t=II&&t[II]||t["@@iterator"],typeof t=="function"?t:null)}var oR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aR=Object.assign,cR={};function _h(t,e,n){this.props=t,this.context=e,this.refs=cR,this.updater=n||oR}_h.prototype.isReactComponent={};_h.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_h.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lR(){}lR.prototype=_h.prototype;function Wx(t,e,n){this.props=t,this.context=e,this.refs=cR,this.updater=n||oR}var Hx=Wx.prototype=new lR;Hx.constructor=Wx;aR(Hx,_h.prototype);Hx.isPureReactComponent=!0;var TI=Array.isArray,uR=Object.prototype.hasOwnProperty,Vx={current:null},dR={key:!0,ref:!0,__self:!0,__source:!0};function hR(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)uR.call(e,r)&&!dR.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Wg,type:t,key:i,ref:o,props:s,_owner:Vx.current}}function YU(t,e){return{$$typeof:Wg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wg}function QU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var NI=/\/+/g;function fb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QU(""+t.key):e.toString(36)}function Vy(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wg:case LU:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+fb(o,0):r,TI(s)?(n="",t!=null&&(n=t.replace(NI,"$&/")+"/"),Vy(s,e,n,"",function(l){return l})):s!=null&&(Gx(s)&&(s=YU(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(NI,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",TI(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+fb(i,a);o+=Vy(i,e,n,c,s)}else if(c=KU(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+fb(i,a++),o+=Vy(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jm(t,e,n){if(t==null)return t;var r=[],s=0;return Vy(t,r,"","",function(i){return e.call(n,i,s++)}),r}function JU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nr={current:null},Gy={transition:null},ZU={ReactCurrentDispatcher:Nr,ReactCurrentBatchConfig:Gy,ReactCurrentOwner:Vx};function fR(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:jm,forEach:function(t,e,n){jm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jm(t,function(){e++}),e},toArray:function(t){return jm(t,function(e){return e})||[]},only:function(t){if(!Gx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};tt.Component=_h;tt.Fragment=MU;tt.Profiler=FU;tt.PureComponent=Wx;tt.StrictMode=BU;tt.Suspense=HU;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZU;tt.act=fR;tt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=aR({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Vx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)uR.call(e,c)&&!dR.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Wg,type:t.type,key:s,ref:i,props:r,_owner:o}};tt.createContext=function(t){return t={$$typeof:qU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zU,_context:t},t.Consumer=t};tt.createElement=hR;tt.createFactory=function(t){var e=hR.bind(null,t);return e.type=t,e};tt.createRef=function(){return{current:null}};tt.forwardRef=function(t){return{$$typeof:WU,render:t}};tt.isValidElement=Gx;tt.lazy=function(t){return{$$typeof:GU,_payload:{_status:-1,_result:t},_init:JU}};tt.memo=function(t,e){return{$$typeof:VU,type:t,compare:e===void 0?null:e}};tt.startTransition=function(t){var e=Gy.transition;Gy.transition={};try{t()}finally{Gy.transition=e}};tt.unstable_act=fR;tt.useCallback=function(t,e){return Nr.current.useCallback(t,e)};tt.useContext=function(t){return Nr.current.useContext(t)};tt.useDebugValue=function(){};tt.useDeferredValue=function(t){return Nr.current.useDeferredValue(t)};tt.useEffect=function(t,e){return Nr.current.useEffect(t,e)};tt.useId=function(){return Nr.current.useId()};tt.useImperativeHandle=function(t,e,n){return Nr.current.useImperativeHandle(t,e,n)};tt.useInsertionEffect=function(t,e){return Nr.current.useInsertionEffect(t,e)};tt.useLayoutEffect=function(t,e){return Nr.current.useLayoutEffect(t,e)};tt.useMemo=function(t,e){return Nr.current.useMemo(t,e)};tt.useReducer=function(t,e,n){return Nr.current.useReducer(t,e,n)};tt.useRef=function(t){return Nr.current.useRef(t)};tt.useState=function(t){return Nr.current.useState(t)};tt.useSyncExternalStore=function(t,e,n){return Nr.current.useSyncExternalStore(t,e,n)};tt.useTransition=function(){return Nr.current.useTransition()};tt.version="18.3.1";iR.exports=tt;var M=iR.exports;const Hs=pu(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XU=M,eL=Symbol.for("react.element"),tL=Symbol.for("react.fragment"),nL=Object.prototype.hasOwnProperty,rL=XU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sL={key:!0,ref:!0,__self:!0,__source:!0};function pR(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nL.call(e,r)&&!sL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:eL,type:t,key:i,ref:o,props:s,_owner:rL.current}}j0.Fragment=tL;j0.jsx=pR;j0.jsxs=pR;sR.exports=j0;var m=sR.exports,R_={},gR={exports:{}},Cs={},mR={exports:{}},yR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,k){var U=N.length;N.push(k);e:for(;0<U;){var q=U-1>>>1,Y=N[q];if(0<s(Y,k))N[q]=k,N[U]=Y,U=q;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var k=N[0],U=N.pop();if(U!==k){N[0]=U;e:for(var q=0,Y=N.length,ee=Y>>>1;q<ee;){var Q=2*(q+1)-1,ne=N[Q],ae=Q+1,ye=N[ae];if(0>s(ne,U))ae<Y&&0>s(ye,ne)?(N[q]=ye,N[ae]=U,q=ae):(N[q]=ne,N[Q]=U,q=Q);else if(ae<Y&&0>s(ye,U))N[q]=ye,N[ae]=U,q=ae;else break e}}return k}function s(N,k){var U=N.sortIndex-k.sortIndex;return U!==0?U:N.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var k=n(l);k!==null;){if(k.callback===null)r(l);else if(k.startTime<=N)r(l),k.sortIndex=k.expirationTime,e(c,k);else break;k=n(l)}}function E(N){if(g=!1,v(N),!p)if(n(c)!==null)p=!0,I(_);else{var k=n(l);k!==null&&D(E,k.startTime-N)}}function _(N,k){p=!1,g&&(g=!1,w(T),T=-1),f=!0;var U=h;try{for(v(k),d=n(c);d!==null&&(!(d.expirationTime>k)||N&&!R());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var Y=q(d.expirationTime<=k);k=t.unstable_now(),typeof Y=="function"?d.callback=Y:d===n(c)&&r(c),v(k)}else r(c);d=n(c)}if(d!==null)var ee=!0;else{var Q=n(l);Q!==null&&D(E,Q.startTime-k),ee=!1}return ee}finally{d=null,h=U,f=!1}}var x=!1,S=null,T=-1,C=5,O=-1;function R(){return!(t.unstable_now()-O<C)}function B(){if(S!==null){var N=t.unstable_now();O=N;var k=!0;try{k=S(!0,N)}finally{k?W():(x=!1,S=null)}}else x=!1}var W;if(typeof b=="function")W=function(){b(B)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,A=F.port2;F.port1.onmessage=B,W=function(){A.postMessage(null)}}else W=function(){y(B,0)};function I(N){S=N,x||(x=!0,W())}function D(N,k){T=y(function(){N(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,I(_))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var U=h;h=k;try{return N()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,k){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var U=h;h=N;try{return k()}finally{h=U}},t.unstable_scheduleCallback=function(N,k,U){var q=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?q+U:q):U=q,N){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,N={id:u++,callback:k,priorityLevel:N,startTime:U,expirationTime:Y,sortIndex:-1},U>q?(N.sortIndex=U,e(l,N),n(c)===null&&N===n(l)&&(g?(w(T),T=-1):g=!0,D(E,U-q))):(N.sortIndex=Y,e(c,N),p||f||(p=!0,I(_))),N},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(N){var k=h;return function(){var U=h;h=k;try{return N.apply(this,arguments)}finally{h=U}}}})(yR);mR.exports=yR;var iL=mR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oL=M,_s=iL;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wR=new Set,Ep={};function gu(t,e){Xd(t,e),Xd(t+"Capture",e)}function Xd(t,e){for(Ep[t]=e,t=0;t<e.length;t++)wR.add(e[t])}var Xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$_=Object.prototype.hasOwnProperty,aL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PI={},kI={};function cL(t){return $_.call(kI,t)?!0:$_.call(PI,t)?!1:aL.test(t)?kI[t]=!0:(PI[t]=!0,!1)}function lL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uL(t,e,n,r){if(e===null||typeof e>"u"||lL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vn[t]=new Pr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vn[e]=new Pr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vn[t]=new Pr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vn[t]=new Pr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vn[t]=new Pr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vn[t]=new Pr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vn[t]=new Pr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vn[t]=new Pr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vn[t]=new Pr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kx=/[\-:]([a-z])/g;function Yx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kx,Yx);Vn[e]=new Pr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kx,Yx);Vn[e]=new Pr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kx,Yx);Vn[e]=new Pr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vn[t]=new Pr(t,1,!1,t.toLowerCase(),null,!1,!1)});Vn.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vn[t]=new Pr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qx(t,e,n,r){var s=Vn.hasOwnProperty(e)?Vn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uL(e,n,s,r)&&(n=null),r||s===null?cL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var la=oL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Um=Symbol.for("react.element"),hd=Symbol.for("react.portal"),fd=Symbol.for("react.fragment"),Jx=Symbol.for("react.strict_mode"),D_=Symbol.for("react.profiler"),vR=Symbol.for("react.provider"),bR=Symbol.for("react.context"),Zx=Symbol.for("react.forward_ref"),j_=Symbol.for("react.suspense"),U_=Symbol.for("react.suspense_list"),Xx=Symbol.for("react.memo"),ja=Symbol.for("react.lazy"),_R=Symbol.for("react.offscreen"),OI=Symbol.iterator;function Hh(t){return t===null||typeof t!="object"?null:(t=OI&&t[OI]||t["@@iterator"],typeof t=="function"?t:null)}var en=Object.assign,pb;function If(t){if(pb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pb=e&&e[1]||""}return`
`+pb+t}var gb=!1;function mb(t,e){if(!t||gb)return"";gb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{gb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?If(t):""}function dL(t){switch(t.tag){case 5:return If(t.type);case 16:return If("Lazy");case 13:return If("Suspense");case 19:return If("SuspenseList");case 0:case 2:case 15:return t=mb(t.type,!1),t;case 11:return t=mb(t.type.render,!1),t;case 1:return t=mb(t.type,!0),t;default:return""}}function L_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fd:return"Fragment";case hd:return"Portal";case D_:return"Profiler";case Jx:return"StrictMode";case j_:return"Suspense";case U_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bR:return(t.displayName||"Context")+".Consumer";case vR:return(t._context.displayName||"Context")+".Provider";case Zx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xx:return e=t.displayName||null,e!==null?e:L_(t.type)||"Memo";case ja:e=t._payload,t=t._init;try{return L_(t(e))}catch{}}return null}function hL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L_(e);case 8:return e===Jx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ER(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fL(t){var e=ER(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lm(t){t._valueTracker||(t._valueTracker=fL(t))}function CR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ER(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function M_(t,e){var n=e.checked;return en({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function RI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xR(t,e){e=e.checked,e!=null&&Qx(t,"checked",e,!1)}function B_(t,e){xR(t,e);var n=Oc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?F_(t,e.type,n):e.hasOwnProperty("defaultValue")&&F_(t,e.type,Oc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $I(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function F_(t,e,n){(e!=="number"||Cw(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tf=Array.isArray;function Id(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oc(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function z_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return en({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function DI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(Tf(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oc(n)}}function SR(t,e){var n=Oc(e.value),r=Oc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function q_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mm,IR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mm=Mm||document.createElement("div"),Mm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pL=["Webkit","ms","Moz","O"];Object.keys(Wf).forEach(function(t){pL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wf[e]=Wf[t]})});function TR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wf.hasOwnProperty(t)&&Wf[t]?(""+e).trim():e+"px"}function NR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=TR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var gL=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function W_(t,e){if(e){if(gL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function H_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V_=null;function eS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var G_=null,Td=null,Nd=null;function UI(t){if(t=Gg(t)){if(typeof G_!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=F0(e),G_(t.stateNode,t.type,e))}}function PR(t){Td?Nd?Nd.push(t):Nd=[t]:Td=t}function kR(){if(Td){var t=Td,e=Nd;if(Nd=Td=null,UI(t),e)for(t=0;t<e.length;t++)UI(e[t])}}function OR(t,e){return t(e)}function RR(){}var yb=!1;function $R(t,e,n){if(yb)return t(e,n);yb=!0;try{return OR(t,e,n)}finally{yb=!1,(Td!==null||Nd!==null)&&(RR(),kR())}}function xp(t,e){var n=t.stateNode;if(n===null)return null;var r=F0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var K_=!1;if(Xo)try{var Vh={};Object.defineProperty(Vh,"passive",{get:function(){K_=!0}}),window.addEventListener("test",Vh,Vh),window.removeEventListener("test",Vh,Vh)}catch{K_=!1}function mL(t,e,n,r,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var Hf=!1,xw=null,Sw=!1,Y_=null,yL={onError:function(t){Hf=!0,xw=t}};function wL(t,e,n,r,s,i,o,a,c){Hf=!1,xw=null,mL.apply(yL,arguments)}function vL(t,e,n,r,s,i,o,a,c){if(wL.apply(this,arguments),Hf){if(Hf){var l=xw;Hf=!1,xw=null}else throw Error(oe(198));Sw||(Sw=!0,Y_=l)}}function mu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function DR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function LI(t){if(mu(t)!==t)throw Error(oe(188))}function bL(t){var e=t.alternate;if(!e){if(e=mu(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return LI(s),t;if(i===r)return LI(s),e;i=i.sibling}throw Error(oe(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function jR(t){return t=bL(t),t!==null?UR(t):null}function UR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=UR(t);if(e!==null)return e;t=t.sibling}return null}var LR=_s.unstable_scheduleCallback,MI=_s.unstable_cancelCallback,_L=_s.unstable_shouldYield,EL=_s.unstable_requestPaint,ln=_s.unstable_now,CL=_s.unstable_getCurrentPriorityLevel,tS=_s.unstable_ImmediatePriority,MR=_s.unstable_UserBlockingPriority,Aw=_s.unstable_NormalPriority,xL=_s.unstable_LowPriority,BR=_s.unstable_IdlePriority,U0=null,io=null;function SL(t){if(io&&typeof io.onCommitFiberRoot=="function")try{io.onCommitFiberRoot(U0,t,void 0,(t.current.flags&128)===128)}catch{}}var Si=Math.clz32?Math.clz32:TL,AL=Math.log,IL=Math.LN2;function TL(t){return t>>>=0,t===0?32:31-(AL(t)/IL|0)|0}var Bm=64,Fm=4194304;function Nf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Iw(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Nf(a):(i&=o,i!==0&&(r=Nf(i)))}else o=n&~s,o!==0?r=Nf(o):i!==0&&(r=Nf(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Si(e),s=1<<n,r|=t[n],e&=~s;return r}function NL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Si(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=NL(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Q_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function FR(){var t=Bm;return Bm<<=1,!(Bm&4194240)&&(Bm=64),t}function wb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Si(e),t[e]=n}function kL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Si(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function nS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Si(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ct=0;function zR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qR,rS,WR,HR,VR,J_=!1,zm=[],pc=null,gc=null,mc=null,Sp=new Map,Ap=new Map,Ha=[],OL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BI(t,e){switch(t){case"focusin":case"focusout":pc=null;break;case"dragenter":case"dragleave":gc=null;break;case"mouseover":case"mouseout":mc=null;break;case"pointerover":case"pointerout":Sp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ap.delete(e.pointerId)}}function Gh(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Gg(e),e!==null&&rS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function RL(t,e,n,r,s){switch(e){case"focusin":return pc=Gh(pc,t,e,n,r,s),!0;case"dragenter":return gc=Gh(gc,t,e,n,r,s),!0;case"mouseover":return mc=Gh(mc,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Sp.set(i,Gh(Sp.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ap.set(i,Gh(Ap.get(i)||null,t,e,n,r,s)),!0}return!1}function GR(t){var e=wl(t.target);if(e!==null){var n=mu(e);if(n!==null){if(e=n.tag,e===13){if(e=DR(n),e!==null){t.blockedOn=e,VR(t.priority,function(){WR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ky(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Z_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);V_=r,n.target.dispatchEvent(r),V_=null}else return e=Gg(n),e!==null&&rS(e),t.blockedOn=n,!1;e.shift()}return!0}function FI(t,e,n){Ky(t)&&n.delete(e)}function $L(){J_=!1,pc!==null&&Ky(pc)&&(pc=null),gc!==null&&Ky(gc)&&(gc=null),mc!==null&&Ky(mc)&&(mc=null),Sp.forEach(FI),Ap.forEach(FI)}function Kh(t,e){t.blockedOn===e&&(t.blockedOn=null,J_||(J_=!0,_s.unstable_scheduleCallback(_s.unstable_NormalPriority,$L)))}function Ip(t){function e(s){return Kh(s,t)}if(0<zm.length){Kh(zm[0],t);for(var n=1;n<zm.length;n++){var r=zm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pc!==null&&Kh(pc,t),gc!==null&&Kh(gc,t),mc!==null&&Kh(mc,t),Sp.forEach(e),Ap.forEach(e),n=0;n<Ha.length;n++)r=Ha[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ha.length&&(n=Ha[0],n.blockedOn===null);)GR(n),n.blockedOn===null&&Ha.shift()}var Pd=la.ReactCurrentBatchConfig,Tw=!0;function DL(t,e,n,r){var s=Ct,i=Pd.transition;Pd.transition=null;try{Ct=1,sS(t,e,n,r)}finally{Ct=s,Pd.transition=i}}function jL(t,e,n,r){var s=Ct,i=Pd.transition;Pd.transition=null;try{Ct=4,sS(t,e,n,r)}finally{Ct=s,Pd.transition=i}}function sS(t,e,n,r){if(Tw){var s=Z_(t,e,n,r);if(s===null)Tb(t,e,r,Nw,n),BI(t,r);else if(RL(s,t,e,n,r))r.stopPropagation();else if(BI(t,r),e&4&&-1<OL.indexOf(t)){for(;s!==null;){var i=Gg(s);if(i!==null&&qR(i),i=Z_(t,e,n,r),i===null&&Tb(t,e,r,Nw,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Tb(t,e,r,null,n)}}var Nw=null;function Z_(t,e,n,r){if(Nw=null,t=eS(r),t=wl(t),t!==null)if(e=mu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=DR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nw=t,null}function KR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CL()){case tS:return 1;case MR:return 4;case Aw:case xL:return 16;case BR:return 536870912;default:return 16}default:return 16}}var ac=null,iS=null,Yy=null;function YR(){if(Yy)return Yy;var t,e=iS,n=e.length,r,s="value"in ac?ac.value:ac.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Yy=s.slice(t,1<r?1-r:void 0)}function Qy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qm(){return!0}function zI(){return!1}function xs(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qm:zI,this.isPropagationStopped=zI,this}return en(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qm)},persist:function(){},isPersistent:qm}),e}var Eh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oS=xs(Eh),Vg=en({},Eh,{view:0,detail:0}),UL=xs(Vg),vb,bb,Yh,L0=en({},Vg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yh&&(Yh&&t.type==="mousemove"?(vb=t.screenX-Yh.screenX,bb=t.screenY-Yh.screenY):bb=vb=0,Yh=t),vb)},movementY:function(t){return"movementY"in t?t.movementY:bb}}),qI=xs(L0),LL=en({},L0,{dataTransfer:0}),ML=xs(LL),BL=en({},Vg,{relatedTarget:0}),_b=xs(BL),FL=en({},Eh,{animationName:0,elapsedTime:0,pseudoElement:0}),zL=xs(FL),qL=en({},Eh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WL=xs(qL),HL=en({},Eh,{data:0}),WI=xs(HL),VL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KL[t])?!!e[t]:!1}function aS(){return YL}var QL=en({},Vg,{key:function(t){if(t.key){var e=VL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aS,charCode:function(t){return t.type==="keypress"?Qy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JL=xs(QL),ZL=en({},L0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HI=xs(ZL),XL=en({},Vg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aS}),eM=xs(XL),tM=en({},Eh,{propertyName:0,elapsedTime:0,pseudoElement:0}),nM=xs(tM),rM=en({},L0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sM=xs(rM),iM=[9,13,27,32],cS=Xo&&"CompositionEvent"in window,Vf=null;Xo&&"documentMode"in document&&(Vf=document.documentMode);var oM=Xo&&"TextEvent"in window&&!Vf,QR=Xo&&(!cS||Vf&&8<Vf&&11>=Vf),VI=" ",GI=!1;function JR(t,e){switch(t){case"keyup":return iM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pd=!1;function aM(t,e){switch(t){case"compositionend":return ZR(e);case"keypress":return e.which!==32?null:(GI=!0,VI);case"textInput":return t=e.data,t===VI&&GI?null:t;default:return null}}function cM(t,e){if(pd)return t==="compositionend"||!cS&&JR(t,e)?(t=YR(),Yy=iS=ac=null,pd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QR&&e.locale!=="ko"?null:e.data;default:return null}}var lM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lM[t.type]:e==="textarea"}function XR(t,e,n,r){PR(r),e=Pw(e,"onChange"),0<e.length&&(n=new oS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gf=null,Tp=null;function uM(t){u3(t,0)}function M0(t){var e=yd(t);if(CR(e))return t}function dM(t,e){if(t==="change")return e}var e3=!1;if(Xo){var Eb;if(Xo){var Cb="oninput"in document;if(!Cb){var YI=document.createElement("div");YI.setAttribute("oninput","return;"),Cb=typeof YI.oninput=="function"}Eb=Cb}else Eb=!1;e3=Eb&&(!document.documentMode||9<document.documentMode)}function QI(){Gf&&(Gf.detachEvent("onpropertychange",t3),Tp=Gf=null)}function t3(t){if(t.propertyName==="value"&&M0(Tp)){var e=[];XR(e,Tp,t,eS(t)),$R(uM,e)}}function hM(t,e,n){t==="focusin"?(QI(),Gf=e,Tp=n,Gf.attachEvent("onpropertychange",t3)):t==="focusout"&&QI()}function fM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return M0(Tp)}function pM(t,e){if(t==="click")return M0(e)}function gM(t,e){if(t==="input"||t==="change")return M0(e)}function mM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pi=typeof Object.is=="function"?Object.is:mM;function Np(t,e){if(Pi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$_.call(e,s)||!Pi(t[s],e[s]))return!1}return!0}function JI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ZI(t,e){var n=JI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=JI(n)}}function n3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function r3(){for(var t=window,e=Cw();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cw(t.document)}return e}function lS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yM(t){var e=r3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&n3(n.ownerDocument.documentElement,n)){if(r!==null&&lS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ZI(n,i);var o=ZI(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wM=Xo&&"documentMode"in document&&11>=document.documentMode,gd=null,X_=null,Kf=null,eE=!1;function XI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eE||gd==null||gd!==Cw(r)||(r=gd,"selectionStart"in r&&lS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kf&&Np(Kf,r)||(Kf=r,r=Pw(X_,"onSelect"),0<r.length&&(e=new oS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gd)))}function Wm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var md={animationend:Wm("Animation","AnimationEnd"),animationiteration:Wm("Animation","AnimationIteration"),animationstart:Wm("Animation","AnimationStart"),transitionend:Wm("Transition","TransitionEnd")},xb={},s3={};Xo&&(s3=document.createElement("div").style,"AnimationEvent"in window||(delete md.animationend.animation,delete md.animationiteration.animation,delete md.animationstart.animation),"TransitionEvent"in window||delete md.transitionend.transition);function B0(t){if(xb[t])return xb[t];if(!md[t])return t;var e=md[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in s3)return xb[t]=e[n];return t}var i3=B0("animationend"),o3=B0("animationiteration"),a3=B0("animationstart"),c3=B0("transitionend"),l3=new Map,e2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qc(t,e){l3.set(t,e),gu(e,[t])}for(var Sb=0;Sb<e2.length;Sb++){var Ab=e2[Sb],vM=Ab.toLowerCase(),bM=Ab[0].toUpperCase()+Ab.slice(1);qc(vM,"on"+bM)}qc(i3,"onAnimationEnd");qc(o3,"onAnimationIteration");qc(a3,"onAnimationStart");qc("dblclick","onDoubleClick");qc("focusin","onFocus");qc("focusout","onBlur");qc(c3,"onTransitionEnd");Xd("onMouseEnter",["mouseout","mouseover"]);Xd("onMouseLeave",["mouseout","mouseover"]);Xd("onPointerEnter",["pointerout","pointerover"]);Xd("onPointerLeave",["pointerout","pointerover"]);gu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gu("onBeforeInput",["compositionend","keypress","textInput","paste"]);gu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_M=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pf));function t2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vL(r,e,void 0,t),t.currentTarget=null}function u3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;t2(s,a,l),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;t2(s,a,l),i=c}}}if(Sw)throw t=Y_,Sw=!1,Y_=null,t}function Bt(t,e){var n=e[iE];n===void 0&&(n=e[iE]=new Set);var r=t+"__bubble";n.has(r)||(d3(e,t,2,!1),n.add(r))}function Ib(t,e,n){var r=0;e&&(r|=4),d3(n,t,r,e)}var Hm="_reactListening"+Math.random().toString(36).slice(2);function Pp(t){if(!t[Hm]){t[Hm]=!0,wR.forEach(function(n){n!=="selectionchange"&&(_M.has(n)||Ib(n,!1,t),Ib(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hm]||(e[Hm]=!0,Ib("selectionchange",!1,e))}}function d3(t,e,n,r){switch(KR(e)){case 1:var s=DL;break;case 4:s=jL;break;default:s=sS}n=s.bind(null,e,n,t),s=void 0,!K_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Tb(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=wl(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}$R(function(){var l=i,u=eS(n),d=[];e:{var h=l3.get(t);if(h!==void 0){var f=oS,p=t;switch(t){case"keypress":if(Qy(n)===0)break e;case"keydown":case"keyup":f=JL;break;case"focusin":p="focus",f=_b;break;case"focusout":p="blur",f=_b;break;case"beforeblur":case"afterblur":f=_b;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=qI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ML;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=eM;break;case i3:case o3:case a3:f=zL;break;case c3:f=nM;break;case"scroll":f=UL;break;case"wheel":f=sM;break;case"copy":case"cut":case"paste":f=WL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=HI}var g=(e&4)!==0,y=!g&&t==="scroll",w=g?h!==null?h+"Capture":null:h;g=[];for(var b=l,v;b!==null;){v=b;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,w!==null&&(E=xp(b,w),E!=null&&g.push(kp(b,E,v)))),y)break;b=b.return}0<g.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==V_&&(p=n.relatedTarget||n.fromElement)&&(wl(p)||p[ea]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=l,p=p?wl(p):null,p!==null&&(y=mu(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=l),f!==p)){if(g=qI,E="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=HI,E="onPointerLeave",w="onPointerEnter",b="pointer"),y=f==null?h:yd(f),v=p==null?h:yd(p),h=new g(E,b+"leave",f,n,u),h.target=y,h.relatedTarget=v,E=null,wl(u)===l&&(g=new g(w,b+"enter",p,n,u),g.target=v,g.relatedTarget=y,E=g),y=E,f&&p)t:{for(g=f,w=p,b=0,v=g;v;v=ku(v))b++;for(v=0,E=w;E;E=ku(E))v++;for(;0<b-v;)g=ku(g),b--;for(;0<v-b;)w=ku(w),v--;for(;b--;){if(g===w||w!==null&&g===w.alternate)break t;g=ku(g),w=ku(w)}g=null}else g=null;f!==null&&n2(d,h,f,g,!1),p!==null&&y!==null&&n2(d,y,p,g,!0)}}e:{if(h=l?yd(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var _=dM;else if(KI(h))if(e3)_=gM;else{_=fM;var x=hM}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=pM);if(_&&(_=_(t,l))){XR(d,_,n,u);break e}x&&x(t,h,l),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&F_(h,"number",h.value)}switch(x=l?yd(l):window,t){case"focusin":(KI(x)||x.contentEditable==="true")&&(gd=x,X_=l,Kf=null);break;case"focusout":Kf=X_=gd=null;break;case"mousedown":eE=!0;break;case"contextmenu":case"mouseup":case"dragend":eE=!1,XI(d,n,u);break;case"selectionchange":if(wM)break;case"keydown":case"keyup":XI(d,n,u)}var S;if(cS)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else pd?JR(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(QR&&n.locale!=="ko"&&(pd||T!=="onCompositionStart"?T==="onCompositionEnd"&&pd&&(S=YR()):(ac=u,iS="value"in ac?ac.value:ac.textContent,pd=!0)),x=Pw(l,T),0<x.length&&(T=new WI(T,t,null,n,u),d.push({event:T,listeners:x}),S?T.data=S:(S=ZR(n),S!==null&&(T.data=S)))),(S=oM?aM(t,n):cM(t,n))&&(l=Pw(l,"onBeforeInput"),0<l.length&&(u=new WI("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=S))}u3(d,e)})}function kp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pw(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=xp(t,n),i!=null&&r.unshift(kp(t,i,s)),i=xp(t,e),i!=null&&r.push(kp(t,i,s))),t=t.return}return r}function ku(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function n2(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,s?(c=xp(n,i),c!=null&&o.unshift(kp(n,c,a))):s||(c=xp(n,i),c!=null&&o.push(kp(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var EM=/\r\n?/g,CM=/\u0000|\uFFFD/g;function r2(t){return(typeof t=="string"?t:""+t).replace(EM,`
`).replace(CM,"")}function Vm(t,e,n){if(e=r2(e),r2(t)!==e&&n)throw Error(oe(425))}function kw(){}var tE=null,nE=null;function rE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sE=typeof setTimeout=="function"?setTimeout:void 0,xM=typeof clearTimeout=="function"?clearTimeout:void 0,s2=typeof Promise=="function"?Promise:void 0,SM=typeof queueMicrotask=="function"?queueMicrotask:typeof s2<"u"?function(t){return s2.resolve(null).then(t).catch(AM)}:sE;function AM(t){setTimeout(function(){throw t})}function Nb(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ip(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ip(e)}function yc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function i2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ch=Math.random().toString(36).slice(2),no="__reactFiber$"+Ch,Op="__reactProps$"+Ch,ea="__reactContainer$"+Ch,iE="__reactEvents$"+Ch,IM="__reactListeners$"+Ch,TM="__reactHandles$"+Ch;function wl(t){var e=t[no];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ea]||n[no]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=i2(t);t!==null;){if(n=t[no])return n;t=i2(t)}return e}t=n,n=t.parentNode}return null}function Gg(t){return t=t[no]||t[ea],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function F0(t){return t[Op]||null}var oE=[],wd=-1;function Wc(t){return{current:t}}function qt(t){0>wd||(t.current=oE[wd],oE[wd]=null,wd--)}function jt(t,e){wd++,oE[wd]=t.current,t.current=e}var Rc={},pr=Wc(Rc),Zr=Wc(!1),Hl=Rc;function eh(t,e){var n=t.type.contextTypes;if(!n)return Rc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Xr(t){return t=t.childContextTypes,t!=null}function Ow(){qt(Zr),qt(pr)}function o2(t,e,n){if(pr.current!==Rc)throw Error(oe(168));jt(pr,e),jt(Zr,n)}function h3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(oe(108,hL(t)||"Unknown",s));return en({},n,r)}function Rw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rc,Hl=pr.current,jt(pr,t),jt(Zr,Zr.current),!0}function a2(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=h3(t,e,Hl),r.__reactInternalMemoizedMergedChildContext=t,qt(Zr),qt(pr),jt(pr,t)):qt(Zr),jt(Zr,n)}var Uo=null,z0=!1,Pb=!1;function f3(t){Uo===null?Uo=[t]:Uo.push(t)}function NM(t){z0=!0,f3(t)}function Hc(){if(!Pb&&Uo!==null){Pb=!0;var t=0,e=Ct;try{var n=Uo;for(Ct=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Uo=null,z0=!1}catch(s){throw Uo!==null&&(Uo=Uo.slice(t+1)),LR(tS,Hc),s}finally{Ct=e,Pb=!1}}return null}var vd=[],bd=0,$w=null,Dw=0,Fs=[],zs=0,Vl=null,Wo=1,Ho="";function cl(t,e){vd[bd++]=Dw,vd[bd++]=$w,$w=t,Dw=e}function p3(t,e,n){Fs[zs++]=Wo,Fs[zs++]=Ho,Fs[zs++]=Vl,Vl=t;var r=Wo;t=Ho;var s=32-Si(r)-1;r&=~(1<<s),n+=1;var i=32-Si(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Wo=1<<32-Si(e)+s|n<<s|r,Ho=i+t}else Wo=1<<i|n<<s|r,Ho=t}function uS(t){t.return!==null&&(cl(t,1),p3(t,1,0))}function dS(t){for(;t===$w;)$w=vd[--bd],vd[bd]=null,Dw=vd[--bd],vd[bd]=null;for(;t===Vl;)Vl=Fs[--zs],Fs[zs]=null,Ho=Fs[--zs],Fs[zs]=null,Wo=Fs[--zs],Fs[zs]=null}var ws=null,ms=null,Gt=!1,wi=null;function g3(t,e){var n=qs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function c2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ws=t,ms=yc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ws=t,ms=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vl!==null?{id:Wo,overflow:Ho}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ws=t,ms=null,!0):!1;default:return!1}}function aE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cE(t){if(Gt){var e=ms;if(e){var n=e;if(!c2(t,e)){if(aE(t))throw Error(oe(418));e=yc(n.nextSibling);var r=ws;e&&c2(t,e)?g3(r,n):(t.flags=t.flags&-4097|2,Gt=!1,ws=t)}}else{if(aE(t))throw Error(oe(418));t.flags=t.flags&-4097|2,Gt=!1,ws=t}}}function l2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ws=t}function Gm(t){if(t!==ws)return!1;if(!Gt)return l2(t),Gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rE(t.type,t.memoizedProps)),e&&(e=ms)){if(aE(t))throw m3(),Error(oe(418));for(;e;)g3(t,e),e=yc(e.nextSibling)}if(l2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ms=yc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ms=null}}else ms=ws?yc(t.stateNode.nextSibling):null;return!0}function m3(){for(var t=ms;t;)t=yc(t.nextSibling)}function th(){ms=ws=null,Gt=!1}function hS(t){wi===null?wi=[t]:wi.push(t)}var PM=la.ReactCurrentBatchConfig;function Qh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function Km(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function u2(t){var e=t._init;return e(t._payload)}function y3(t){function e(w,b){if(t){var v=w.deletions;v===null?(w.deletions=[b],w.flags|=16):v.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function s(w,b){return w=_c(w,b),w.index=0,w.sibling=null,w}function i(w,b,v){return w.index=v,t?(v=w.alternate,v!==null?(v=v.index,v<b?(w.flags|=2,b):v):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,v,E){return b===null||b.tag!==6?(b=Ub(v,w.mode,E),b.return=w,b):(b=s(b,v),b.return=w,b)}function c(w,b,v,E){var _=v.type;return _===fd?u(w,b,v.props.children,E,v.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ja&&u2(_)===b.type)?(E=s(b,v.props),E.ref=Qh(w,b,v),E.return=w,E):(E=rw(v.type,v.key,v.props,null,w.mode,E),E.ref=Qh(w,b,v),E.return=w,E)}function l(w,b,v,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=Lb(v,w.mode,E),b.return=w,b):(b=s(b,v.children||[]),b.return=w,b)}function u(w,b,v,E,_){return b===null||b.tag!==7?(b=Bl(v,w.mode,E,_),b.return=w,b):(b=s(b,v),b.return=w,b)}function d(w,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ub(""+b,w.mode,v),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Um:return v=rw(b.type,b.key,b.props,null,w.mode,v),v.ref=Qh(w,null,b),v.return=w,v;case hd:return b=Lb(b,w.mode,v),b.return=w,b;case ja:var E=b._init;return d(w,E(b._payload),v)}if(Tf(b)||Hh(b))return b=Bl(b,w.mode,v,null),b.return=w,b;Km(w,b)}return null}function h(w,b,v,E){var _=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:a(w,b,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Um:return v.key===_?c(w,b,v,E):null;case hd:return v.key===_?l(w,b,v,E):null;case ja:return _=v._init,h(w,b,_(v._payload),E)}if(Tf(v)||Hh(v))return _!==null?null:u(w,b,v,E,null);Km(w,v)}return null}function f(w,b,v,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(v)||null,a(b,w,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Um:return w=w.get(E.key===null?v:E.key)||null,c(b,w,E,_);case hd:return w=w.get(E.key===null?v:E.key)||null,l(b,w,E,_);case ja:var x=E._init;return f(w,b,v,x(E._payload),_)}if(Tf(E)||Hh(E))return w=w.get(v)||null,u(b,w,E,_,null);Km(b,E)}return null}function p(w,b,v,E){for(var _=null,x=null,S=b,T=b=0,C=null;S!==null&&T<v.length;T++){S.index>T?(C=S,S=null):C=S.sibling;var O=h(w,S,v[T],E);if(O===null){S===null&&(S=C);break}t&&S&&O.alternate===null&&e(w,S),b=i(O,b,T),x===null?_=O:x.sibling=O,x=O,S=C}if(T===v.length)return n(w,S),Gt&&cl(w,T),_;if(S===null){for(;T<v.length;T++)S=d(w,v[T],E),S!==null&&(b=i(S,b,T),x===null?_=S:x.sibling=S,x=S);return Gt&&cl(w,T),_}for(S=r(w,S);T<v.length;T++)C=f(S,w,T,v[T],E),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?T:C.key),b=i(C,b,T),x===null?_=C:x.sibling=C,x=C);return t&&S.forEach(function(R){return e(w,R)}),Gt&&cl(w,T),_}function g(w,b,v,E){var _=Hh(v);if(typeof _!="function")throw Error(oe(150));if(v=_.call(v),v==null)throw Error(oe(151));for(var x=_=null,S=b,T=b=0,C=null,O=v.next();S!==null&&!O.done;T++,O=v.next()){S.index>T?(C=S,S=null):C=S.sibling;var R=h(w,S,O.value,E);if(R===null){S===null&&(S=C);break}t&&S&&R.alternate===null&&e(w,S),b=i(R,b,T),x===null?_=R:x.sibling=R,x=R,S=C}if(O.done)return n(w,S),Gt&&cl(w,T),_;if(S===null){for(;!O.done;T++,O=v.next())O=d(w,O.value,E),O!==null&&(b=i(O,b,T),x===null?_=O:x.sibling=O,x=O);return Gt&&cl(w,T),_}for(S=r(w,S);!O.done;T++,O=v.next())O=f(S,w,T,O.value,E),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?T:O.key),b=i(O,b,T),x===null?_=O:x.sibling=O,x=O);return t&&S.forEach(function(B){return e(w,B)}),Gt&&cl(w,T),_}function y(w,b,v,E){if(typeof v=="object"&&v!==null&&v.type===fd&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Um:e:{for(var _=v.key,x=b;x!==null;){if(x.key===_){if(_=v.type,_===fd){if(x.tag===7){n(w,x.sibling),b=s(x,v.props.children),b.return=w,w=b;break e}}else if(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ja&&u2(_)===x.type){n(w,x.sibling),b=s(x,v.props),b.ref=Qh(w,x,v),b.return=w,w=b;break e}n(w,x);break}else e(w,x);x=x.sibling}v.type===fd?(b=Bl(v.props.children,w.mode,E,v.key),b.return=w,w=b):(E=rw(v.type,v.key,v.props,null,w.mode,E),E.ref=Qh(w,b,v),E.return=w,w=E)}return o(w);case hd:e:{for(x=v.key;b!==null;){if(b.key===x)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){n(w,b.sibling),b=s(b,v.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=Lb(v,w.mode,E),b.return=w,w=b}return o(w);case ja:return x=v._init,y(w,b,x(v._payload),E)}if(Tf(v))return p(w,b,v,E);if(Hh(v))return g(w,b,v,E);Km(w,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(n(w,b.sibling),b=s(b,v),b.return=w,w=b):(n(w,b),b=Ub(v,w.mode,E),b.return=w,w=b),o(w)):n(w,b)}return y}var nh=y3(!0),w3=y3(!1),jw=Wc(null),Uw=null,_d=null,fS=null;function pS(){fS=_d=Uw=null}function gS(t){var e=jw.current;qt(jw),t._currentValue=e}function lE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function kd(t,e){Uw=t,fS=_d=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qr=!0),t.firstContext=null)}function Gs(t){var e=t._currentValue;if(fS!==t)if(t={context:t,memoizedValue:e,next:null},_d===null){if(Uw===null)throw Error(oe(308));_d=t,Uw.dependencies={lanes:0,firstContext:t}}else _d=_d.next=t;return e}var vl=null;function mS(t){vl===null?vl=[t]:vl.push(t)}function v3(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,mS(e)):(n.next=s.next,s.next=n),e.interleaved=n,ta(t,r)}function ta(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ua=!1;function yS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Go(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ta(t,n)}return s=r.interleaved,s===null?(e.next=e,mS(r)):(e.next=s.next,s.next=e),r.interleaved=e,ta(t,n)}function Jy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nS(t,n)}}function d2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lw(t,e,n,r){var s=t.updateQueue;Ua=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,u=l=c=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=en({},d,h);break e;case 2:Ua=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=f,c=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=d),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Kl|=o,t.lanes=o,t.memoizedState=d}}function h2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(oe(191,s));s.call(r)}}}var Kg={},oo=Wc(Kg),Rp=Wc(Kg),$p=Wc(Kg);function bl(t){if(t===Kg)throw Error(oe(174));return t}function wS(t,e){switch(jt($p,e),jt(Rp,t),jt(oo,Kg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:q_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=q_(e,t)}qt(oo),jt(oo,e)}function rh(){qt(oo),qt(Rp),qt($p)}function _3(t){bl($p.current);var e=bl(oo.current),n=q_(e,t.type);e!==n&&(jt(Rp,t),jt(oo,n))}function vS(t){Rp.current===t&&(qt(oo),qt(Rp))}var Jt=Wc(0);function Mw(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kb=[];function bS(){for(var t=0;t<kb.length;t++)kb[t]._workInProgressVersionPrimary=null;kb.length=0}var Zy=la.ReactCurrentDispatcher,Ob=la.ReactCurrentBatchConfig,Gl=0,Xt=null,bn=null,Nn=null,Bw=!1,Yf=!1,Dp=0,kM=0;function nr(){throw Error(oe(321))}function _S(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pi(t[n],e[n]))return!1;return!0}function ES(t,e,n,r,s,i){if(Gl=i,Xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zy.current=t===null||t.memoizedState===null?DM:jM,t=n(r,s),Yf){i=0;do{if(Yf=!1,Dp=0,25<=i)throw Error(oe(301));i+=1,Nn=bn=null,e.updateQueue=null,Zy.current=UM,t=n(r,s)}while(Yf)}if(Zy.current=Fw,e=bn!==null&&bn.next!==null,Gl=0,Nn=bn=Xt=null,Bw=!1,e)throw Error(oe(300));return t}function CS(){var t=Dp!==0;return Dp=0,t}function Gi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Xt.memoizedState=Nn=t:Nn=Nn.next=t,Nn}function Ks(){if(bn===null){var t=Xt.alternate;t=t!==null?t.memoizedState:null}else t=bn.next;var e=Nn===null?Xt.memoizedState:Nn.next;if(e!==null)Nn=e,bn=t;else{if(t===null)throw Error(oe(310));bn=t,t={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Nn===null?Xt.memoizedState=Nn=t:Nn=Nn.next=t}return Nn}function jp(t,e){return typeof e=="function"?e(t):e}function Rb(t){var e=Ks(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=bn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,l=i;do{var u=l.lane;if((Gl&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,Xt.lanes|=u,Kl|=u}l=l.next}while(l!==null&&l!==i);c===null?o=r:c.next=a,Pi(r,e.memoizedState)||(Qr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Xt.lanes|=i,Kl|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $b(t){var e=Ks(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Pi(i,e.memoizedState)||(Qr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function E3(){}function C3(t,e){var n=Xt,r=Ks(),s=e(),i=!Pi(r.memoizedState,s);if(i&&(r.memoizedState=s,Qr=!0),r=r.queue,xS(A3.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Nn!==null&&Nn.memoizedState.tag&1){if(n.flags|=2048,Up(9,S3.bind(null,n,r,s,e),void 0,null),Rn===null)throw Error(oe(349));Gl&30||x3(n,e,s)}return s}function x3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xt.updateQueue,e===null?(e={lastEffect:null,stores:null},Xt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function S3(t,e,n,r){e.value=n,e.getSnapshot=r,I3(e)&&T3(t)}function A3(t,e,n){return n(function(){I3(e)&&T3(t)})}function I3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pi(t,n)}catch{return!0}}function T3(t){var e=ta(t,1);e!==null&&Ai(e,t,1,-1)}function f2(t){var e=Gi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:t},e.queue=t,t=t.dispatch=$M.bind(null,Xt,t),[e.memoizedState,t]}function Up(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xt.updateQueue,e===null?(e={lastEffect:null,stores:null},Xt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function N3(){return Ks().memoizedState}function Xy(t,e,n,r){var s=Gi();Xt.flags|=t,s.memoizedState=Up(1|e,n,void 0,r===void 0?null:r)}function q0(t,e,n,r){var s=Ks();r=r===void 0?null:r;var i=void 0;if(bn!==null){var o=bn.memoizedState;if(i=o.destroy,r!==null&&_S(r,o.deps)){s.memoizedState=Up(e,n,i,r);return}}Xt.flags|=t,s.memoizedState=Up(1|e,n,i,r)}function p2(t,e){return Xy(8390656,8,t,e)}function xS(t,e){return q0(2048,8,t,e)}function P3(t,e){return q0(4,2,t,e)}function k3(t,e){return q0(4,4,t,e)}function O3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function R3(t,e,n){return n=n!=null?n.concat([t]):null,q0(4,4,O3.bind(null,e,t),n)}function SS(){}function $3(t,e){var n=Ks();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_S(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function D3(t,e){var n=Ks();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_S(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function j3(t,e,n){return Gl&21?(Pi(n,e)||(n=FR(),Xt.lanes|=n,Kl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qr=!0),t.memoizedState=n)}function OM(t,e){var n=Ct;Ct=n!==0&&4>n?n:4,t(!0);var r=Ob.transition;Ob.transition={};try{t(!1),e()}finally{Ct=n,Ob.transition=r}}function U3(){return Ks().memoizedState}function RM(t,e,n){var r=bc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L3(t))M3(e,n);else if(n=v3(t,e,n,r),n!==null){var s=Cr();Ai(n,t,r,s),B3(n,e,r)}}function $M(t,e,n){var r=bc(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L3(t))M3(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Pi(a,o)){var c=e.interleaved;c===null?(s.next=s,mS(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=v3(t,e,s,r),n!==null&&(s=Cr(),Ai(n,t,r,s),B3(n,e,r))}}function L3(t){var e=t.alternate;return t===Xt||e!==null&&e===Xt}function M3(t,e){Yf=Bw=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function B3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nS(t,n)}}var Fw={readContext:Gs,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},DM={readContext:Gs,useCallback:function(t,e){return Gi().memoizedState=[t,e===void 0?null:e],t},useContext:Gs,useEffect:p2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xy(4194308,4,O3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xy(4,2,t,e)},useMemo:function(t,e){var n=Gi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=RM.bind(null,Xt,t),[r.memoizedState,t]},useRef:function(t){var e=Gi();return t={current:t},e.memoizedState=t},useState:f2,useDebugValue:SS,useDeferredValue:function(t){return Gi().memoizedState=t},useTransition:function(){var t=f2(!1),e=t[0];return t=OM.bind(null,t[1]),Gi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xt,s=Gi();if(Gt){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),Rn===null)throw Error(oe(349));Gl&30||x3(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,p2(A3.bind(null,r,i,t),[t]),r.flags|=2048,Up(9,S3.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Gi(),e=Rn.identifierPrefix;if(Gt){var n=Ho,r=Wo;n=(r&~(1<<32-Si(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jM={readContext:Gs,useCallback:$3,useContext:Gs,useEffect:xS,useImperativeHandle:R3,useInsertionEffect:P3,useLayoutEffect:k3,useMemo:D3,useReducer:Rb,useRef:N3,useState:function(){return Rb(jp)},useDebugValue:SS,useDeferredValue:function(t){var e=Ks();return j3(e,bn.memoizedState,t)},useTransition:function(){var t=Rb(jp)[0],e=Ks().memoizedState;return[t,e]},useMutableSource:E3,useSyncExternalStore:C3,useId:U3,unstable_isNewReconciler:!1},UM={readContext:Gs,useCallback:$3,useContext:Gs,useEffect:xS,useImperativeHandle:R3,useInsertionEffect:P3,useLayoutEffect:k3,useMemo:D3,useReducer:$b,useRef:N3,useState:function(){return $b(jp)},useDebugValue:SS,useDeferredValue:function(t){var e=Ks();return bn===null?e.memoizedState=t:j3(e,bn.memoizedState,t)},useTransition:function(){var t=$b(jp)[0],e=Ks().memoizedState;return[t,e]},useMutableSource:E3,useSyncExternalStore:C3,useId:U3,unstable_isNewReconciler:!1};function fi(t,e){if(t&&t.defaultProps){e=en({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function uE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:en({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var W0={isMounted:function(t){return(t=t._reactInternals)?mu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Cr(),s=bc(t),i=Go(r,s);i.payload=e,n!=null&&(i.callback=n),e=wc(t,i,s),e!==null&&(Ai(e,t,s,r),Jy(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Cr(),s=bc(t),i=Go(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=wc(t,i,s),e!==null&&(Ai(e,t,s,r),Jy(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Cr(),r=bc(t),s=Go(n,r);s.tag=2,e!=null&&(s.callback=e),e=wc(t,s,r),e!==null&&(Ai(e,t,r,n),Jy(e,t,r))}};function g2(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Np(n,r)||!Np(s,i):!0}function F3(t,e,n){var r=!1,s=Rc,i=e.contextType;return typeof i=="object"&&i!==null?i=Gs(i):(s=Xr(e)?Hl:pr.current,r=e.contextTypes,i=(r=r!=null)?eh(t,s):Rc),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=W0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function m2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&W0.enqueueReplaceState(e,e.state,null)}function dE(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},yS(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Gs(i):(i=Xr(e)?Hl:pr.current,s.context=eh(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(uE(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&W0.enqueueReplaceState(s,s.state,null),Lw(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function sh(t,e){try{var n="",r=e;do n+=dL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Db(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LM=typeof WeakMap=="function"?WeakMap:Map;function z3(t,e,n){n=Go(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qw||(qw=!0,EE=r),hE(t,e)},n}function q3(t,e,n){n=Go(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){hE(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hE(t,e),typeof r!="function"&&(vc===null?vc=new Set([this]):vc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function y2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ZM.bind(null,t,e,n),e.then(t,t))}function w2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function v2(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Go(-1,1),e.tag=2,wc(n,e,1))),n.lanes|=1),t)}var MM=la.ReactCurrentOwner,Qr=!1;function br(t,e,n,r){e.child=t===null?w3(e,null,n,r):nh(e,t.child,n,r)}function b2(t,e,n,r,s){n=n.render;var i=e.ref;return kd(e,s),r=ES(t,e,n,r,i,s),n=CS(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,na(t,e,s)):(Gt&&n&&uS(e),e.flags|=1,br(t,e,r,s),e.child)}function _2(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!RS(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,W3(t,e,i,r,s)):(t=rw(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Np,n(o,r)&&t.ref===e.ref)return na(t,e,s)}return e.flags|=1,t=_c(i,r),t.ref=e.ref,t.return=e,e.child=t}function W3(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Np(i,r)&&t.ref===e.ref)if(Qr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Qr=!0);else return e.lanes=t.lanes,na(t,e,s)}return fE(t,e,n,r,s)}function H3(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Cd,hs),hs|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jt(Cd,hs),hs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,jt(Cd,hs),hs|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,jt(Cd,hs),hs|=r;return br(t,e,s,n),e.child}function V3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fE(t,e,n,r,s){var i=Xr(n)?Hl:pr.current;return i=eh(e,i),kd(e,s),n=ES(t,e,n,r,i,s),r=CS(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,na(t,e,s)):(Gt&&r&&uS(e),e.flags|=1,br(t,e,n,s),e.child)}function E2(t,e,n,r,s){if(Xr(n)){var i=!0;Rw(e)}else i=!1;if(kd(e,s),e.stateNode===null)ew(t,e),F3(e,n,r),dE(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Gs(l):(l=Xr(n)?Hl:pr.current,l=eh(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&m2(e,o,r,l),Ua=!1;var h=e.memoizedState;o.state=h,Lw(e,r,o,s),c=e.memoizedState,a!==r||h!==c||Zr.current||Ua?(typeof u=="function"&&(uE(e,n,u,r),c=e.memoizedState),(a=Ua||g2(e,n,a,r,h,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,b3(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:fi(e.type,a),o.props=l,d=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Gs(c):(c=Xr(n)?Hl:pr.current,c=eh(e,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==c)&&m2(e,o,r,c),Ua=!1,h=e.memoizedState,o.state=h,Lw(e,r,o,s);var p=e.memoizedState;a!==d||h!==p||Zr.current||Ua?(typeof f=="function"&&(uE(e,n,f,r),p=e.memoizedState),(l=Ua||g2(e,n,l,r,h,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return pE(t,e,n,r,i,s)}function pE(t,e,n,r,s,i){V3(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&a2(e,n,!1),na(t,e,i);r=e.stateNode,MM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=nh(e,t.child,null,i),e.child=nh(e,null,a,i)):br(t,e,a,i),e.memoizedState=r.state,s&&a2(e,n,!0),e.child}function G3(t){var e=t.stateNode;e.pendingContext?o2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&o2(t,e.context,!1),wS(t,e.containerInfo)}function C2(t,e,n,r,s){return th(),hS(s),e.flags|=256,br(t,e,n,r),e.child}var gE={dehydrated:null,treeContext:null,retryLane:0};function mE(t){return{baseLanes:t,cachePool:null,transitions:null}}function K3(t,e,n){var r=e.pendingProps,s=Jt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),jt(Jt,s&1),t===null)return cE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=G0(o,r,0,null),t=Bl(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=mE(n),e.memoizedState=gE,t):AS(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return BM(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=_c(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=_c(a,i):(i=Bl(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?mE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=gE,r}return i=t.child,t=i.sibling,r=_c(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function AS(t,e){return e=G0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ym(t,e,n,r){return r!==null&&hS(r),nh(e,t.child,null,n),t=AS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BM(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Db(Error(oe(422))),Ym(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=G0({mode:"visible",children:r.children},s,0,null),i=Bl(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&nh(e,t.child,null,o),e.child.memoizedState=mE(o),e.memoizedState=gE,i);if(!(e.mode&1))return Ym(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(oe(419)),r=Db(i,r,void 0),Ym(t,e,o,r)}if(a=(o&t.childLanes)!==0,Qr||a){if(r=Rn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ta(t,s),Ai(r,t,s,-1))}return OS(),r=Db(Error(oe(421))),Ym(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=XM.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ms=yc(s.nextSibling),ws=e,Gt=!0,wi=null,t!==null&&(Fs[zs++]=Wo,Fs[zs++]=Ho,Fs[zs++]=Vl,Wo=t.id,Ho=t.overflow,Vl=e),e=AS(e,r.children),e.flags|=4096,e)}function x2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),lE(t.return,e,n)}function jb(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Y3(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(br(t,e,r.children,n),r=Jt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&x2(t,n,e);else if(t.tag===19)x2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(jt(Jt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Mw(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),jb(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Mw(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}jb(e,!0,n,null,i);break;case"together":jb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ew(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function na(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Kl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=_c(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_c(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FM(t,e,n){switch(e.tag){case 3:G3(e),th();break;case 5:_3(e);break;case 1:Xr(e.type)&&Rw(e);break;case 4:wS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;jt(jw,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(jt(Jt,Jt.current&1),e.flags|=128,null):n&e.child.childLanes?K3(t,e,n):(jt(Jt,Jt.current&1),t=na(t,e,n),t!==null?t.sibling:null);jt(Jt,Jt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Y3(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),jt(Jt,Jt.current),r)break;return null;case 22:case 23:return e.lanes=0,H3(t,e,n)}return na(t,e,n)}var Q3,yE,J3,Z3;Q3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yE=function(){};J3=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,bl(oo.current);var i=null;switch(n){case"input":s=M_(t,s),r=M_(t,r),i=[];break;case"select":s=en({},s,{value:void 0}),r=en({},r,{value:void 0}),i=[];break;case"textarea":s=z_(t,s),r=z_(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kw)}W_(n,r);var o;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ep.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var c=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ep.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Bt("scroll",t),i||a===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};Z3=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jh(t,e){if(!Gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zM(t,e,n){var r=e.pendingProps;switch(dS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(e),null;case 1:return Xr(e.type)&&Ow(),rr(e),null;case 3:return r=e.stateNode,rh(),qt(Zr),qt(pr),bS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wi!==null&&(SE(wi),wi=null))),yE(t,e),rr(e),null;case 5:vS(e);var s=bl($p.current);if(n=e.type,t!==null&&e.stateNode!=null)J3(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return rr(e),null}if(t=bl(oo.current),Gm(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[no]=e,r[Op]=i,t=(e.mode&1)!==0,n){case"dialog":Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":case"embed":Bt("load",r);break;case"video":case"audio":for(s=0;s<Pf.length;s++)Bt(Pf[s],r);break;case"source":Bt("error",r);break;case"img":case"image":case"link":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"input":RI(r,i),Bt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Bt("invalid",r);break;case"textarea":DI(r,i),Bt("invalid",r)}W_(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Vm(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Vm(r.textContent,a,t),s=["children",""+a]):Ep.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Bt("scroll",r)}switch(n){case"input":Lm(r),$I(r,i,!0);break;case"textarea":Lm(r),jI(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=kw)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[no]=e,t[Op]=r,Q3(t,e,!1,!1),e.stateNode=t;e:{switch(o=H_(n,r),n){case"dialog":Bt("cancel",t),Bt("close",t),s=r;break;case"iframe":case"object":case"embed":Bt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Pf.length;s++)Bt(Pf[s],t);s=r;break;case"source":Bt("error",t),s=r;break;case"img":case"image":case"link":Bt("error",t),Bt("load",t),s=r;break;case"details":Bt("toggle",t),s=r;break;case"input":RI(t,r),s=M_(t,r),Bt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=en({},r,{value:void 0}),Bt("invalid",t);break;case"textarea":DI(t,r),s=z_(t,r),Bt("invalid",t);break;default:s=r}W_(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?NR(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&IR(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Cp(t,c):typeof c=="number"&&Cp(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ep.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Bt("scroll",t):c!=null&&Qx(t,i,c,o))}switch(n){case"input":Lm(t),$I(t,r,!1);break;case"textarea":Lm(t),jI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oc(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Id(t,!!r.multiple,i,!1):r.defaultValue!=null&&Id(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=kw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rr(e),null;case 6:if(t&&e.stateNode!=null)Z3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=bl($p.current),bl(oo.current),Gm(e)){if(r=e.stateNode,n=e.memoizedProps,r[no]=e,(i=r.nodeValue!==n)&&(t=ws,t!==null))switch(t.tag){case 3:Vm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vm(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[no]=e,e.stateNode=r}return rr(e),null;case 13:if(qt(Jt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gt&&ms!==null&&e.mode&1&&!(e.flags&128))m3(),th(),e.flags|=98560,i=!1;else if(i=Gm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(oe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(oe(317));i[no]=e}else th(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rr(e),i=!1}else wi!==null&&(SE(wi),wi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Jt.current&1?Cn===0&&(Cn=3):OS())),e.updateQueue!==null&&(e.flags|=4),rr(e),null);case 4:return rh(),yE(t,e),t===null&&Pp(e.stateNode.containerInfo),rr(e),null;case 10:return gS(e.type._context),rr(e),null;case 17:return Xr(e.type)&&Ow(),rr(e),null;case 19:if(qt(Jt),i=e.memoizedState,i===null)return rr(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Jh(i,!1);else{if(Cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mw(t),o!==null){for(e.flags|=128,Jh(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return jt(Jt,Jt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ln()>ih&&(e.flags|=128,r=!0,Jh(i,!1),e.lanes=4194304)}else{if(!r)if(t=Mw(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Gt)return rr(e),null}else 2*ln()-i.renderingStartTime>ih&&n!==1073741824&&(e.flags|=128,r=!0,Jh(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ln(),e.sibling=null,n=Jt.current,jt(Jt,r?n&1|2:n&1),e):(rr(e),null);case 22:case 23:return kS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hs&1073741824&&(rr(e),e.subtreeFlags&6&&(e.flags|=8192)):rr(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function qM(t,e){switch(dS(e),e.tag){case 1:return Xr(e.type)&&Ow(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rh(),qt(Zr),qt(pr),bS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vS(e),null;case 13:if(qt(Jt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));th()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qt(Jt),null;case 4:return rh(),null;case 10:return gS(e.type._context),null;case 22:case 23:return kS(),null;case 24:return null;default:return null}}var Qm=!1,fr=!1,WM=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Ed(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){sn(t,e,r)}else n.current=null}function wE(t,e,n){try{n()}catch(r){sn(t,e,r)}}var S2=!1;function HM(t,e){if(tE=Tw,t=r3(),lS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++l===s&&(a=o),h===i&&++u===r&&(c=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nE={focusedElem:t,selectionRange:n},Tw=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:fi(e.type,g),y);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(E){sn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return p=S2,S2=!1,p}function Qf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&wE(e,n,i)}s=s.next}while(s!==r)}}function H0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function X3(t){var e=t.alternate;e!==null&&(t.alternate=null,X3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[no],delete e[Op],delete e[iE],delete e[IM],delete e[TM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function e$(t){return t.tag===5||t.tag===3||t.tag===4}function A2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e$(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kw));else if(r!==4&&(t=t.child,t!==null))for(bE(t,e,n),t=t.sibling;t!==null;)bE(t,e,n),t=t.sibling}function _E(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_E(t,e,n),t=t.sibling;t!==null;)_E(t,e,n),t=t.sibling}var qn=null,mi=!1;function fa(t,e,n){for(n=n.child;n!==null;)t$(t,e,n),n=n.sibling}function t$(t,e,n){if(io&&typeof io.onCommitFiberUnmount=="function")try{io.onCommitFiberUnmount(U0,n)}catch{}switch(n.tag){case 5:fr||Ed(n,e);case 6:var r=qn,s=mi;qn=null,fa(t,e,n),qn=r,mi=s,qn!==null&&(mi?(t=qn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qn.removeChild(n.stateNode));break;case 18:qn!==null&&(mi?(t=qn,n=n.stateNode,t.nodeType===8?Nb(t.parentNode,n):t.nodeType===1&&Nb(t,n),Ip(t)):Nb(qn,n.stateNode));break;case 4:r=qn,s=mi,qn=n.stateNode.containerInfo,mi=!0,fa(t,e,n),qn=r,mi=s;break;case 0:case 11:case 14:case 15:if(!fr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&wE(n,e,o),s=s.next}while(s!==r)}fa(t,e,n);break;case 1:if(!fr&&(Ed(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){sn(n,e,a)}fa(t,e,n);break;case 21:fa(t,e,n);break;case 22:n.mode&1?(fr=(r=fr)||n.memoizedState!==null,fa(t,e,n),fr=r):fa(t,e,n);break;default:fa(t,e,n)}}function I2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WM),e.forEach(function(r){var s=eB.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function si(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qn=a.stateNode,mi=!1;break e;case 3:qn=a.stateNode.containerInfo,mi=!0;break e;case 4:qn=a.stateNode.containerInfo,mi=!0;break e}a=a.return}if(qn===null)throw Error(oe(160));t$(i,o,s),qn=null,mi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){sn(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)n$(e,t),e=e.sibling}function n$(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(si(e,t),Li(t),r&4){try{Qf(3,t,t.return),H0(3,t)}catch(g){sn(t,t.return,g)}try{Qf(5,t,t.return)}catch(g){sn(t,t.return,g)}}break;case 1:si(e,t),Li(t),r&512&&n!==null&&Ed(n,n.return);break;case 5:if(si(e,t),Li(t),r&512&&n!==null&&Ed(n,n.return),t.flags&32){var s=t.stateNode;try{Cp(s,"")}catch(g){sn(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&xR(s,i),H_(a,o);var l=H_(a,i);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?NR(s,d):u==="dangerouslySetInnerHTML"?IR(s,d):u==="children"?Cp(s,d):Qx(s,u,d,l)}switch(a){case"input":B_(s,i);break;case"textarea":SR(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Id(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?Id(s,!!i.multiple,i.defaultValue,!0):Id(s,!!i.multiple,i.multiple?[]:"",!1))}s[Op]=i}catch(g){sn(t,t.return,g)}}break;case 6:if(si(e,t),Li(t),r&4){if(t.stateNode===null)throw Error(oe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){sn(t,t.return,g)}}break;case 3:if(si(e,t),Li(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ip(e.containerInfo)}catch(g){sn(t,t.return,g)}break;case 4:si(e,t),Li(t);break;case 13:si(e,t),Li(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(NS=ln())),r&4&&I2(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(fr=(l=fr)||u,si(e,t),fr=l):si(e,t),Li(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(Se=t,u=t.child;u!==null;){for(d=Se=u;Se!==null;){switch(h=Se,f=h.child,h.tag){case 0:case 11:case 14:case 15:Qf(4,h,h.return);break;case 1:Ed(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){sn(r,n,g)}}break;case 5:Ed(h,h.return);break;case 22:if(h.memoizedState!==null){N2(d);continue}}f!==null?(f.return=h,Se=f):N2(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=TR("display",o))}catch(g){sn(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){sn(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:si(e,t),Li(t),r&4&&I2(t);break;case 21:break;default:si(e,t),Li(t)}}function Li(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(e$(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Cp(s,""),r.flags&=-33);var i=A2(t);_E(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=A2(t);bE(t,a,o);break;default:throw Error(oe(161))}}catch(c){sn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VM(t,e,n){Se=t,r$(t)}function r$(t,e,n){for(var r=(t.mode&1)!==0;Se!==null;){var s=Se,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Qm;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||fr;a=Qm;var l=fr;if(Qm=o,(fr=c)&&!l)for(Se=s;Se!==null;)o=Se,c=o.child,o.tag===22&&o.memoizedState!==null?P2(s):c!==null?(c.return=o,Se=c):P2(s);for(;i!==null;)Se=i,r$(i),i=i.sibling;Se=s,Qm=a,fr=l}T2(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Se=i):T2(t)}}function T2(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fr||H0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:fi(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&h2(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}h2(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ip(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}fr||e.flags&512&&vE(e)}catch(h){sn(e,e.return,h)}}if(e===t){Se=null;break}if(n=e.sibling,n!==null){n.return=e.return,Se=n;break}Se=e.return}}function N2(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Se=n;break}Se=e.return}}function P2(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{H0(4,e)}catch(c){sn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){sn(e,s,c)}}var i=e.return;try{vE(e)}catch(c){sn(e,i,c)}break;case 5:var o=e.return;try{vE(e)}catch(c){sn(e,o,c)}}}catch(c){sn(e,e.return,c)}if(e===t){Se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Se=a;break}Se=e.return}}var GM=Math.ceil,zw=la.ReactCurrentDispatcher,IS=la.ReactCurrentOwner,Vs=la.ReactCurrentBatchConfig,ct=0,Rn=null,gn=null,Hn=0,hs=0,Cd=Wc(0),Cn=0,Lp=null,Kl=0,V0=0,TS=0,Jf=null,Kr=null,NS=0,ih=1/0,Do=null,qw=!1,EE=null,vc=null,Jm=!1,cc=null,Ww=0,Zf=0,CE=null,tw=-1,nw=0;function Cr(){return ct&6?ln():tw!==-1?tw:tw=ln()}function bc(t){return t.mode&1?ct&2&&Hn!==0?Hn&-Hn:PM.transition!==null?(nw===0&&(nw=FR()),nw):(t=Ct,t!==0||(t=window.event,t=t===void 0?16:KR(t.type)),t):1}function Ai(t,e,n,r){if(50<Zf)throw Zf=0,CE=null,Error(oe(185));Hg(t,n,r),(!(ct&2)||t!==Rn)&&(t===Rn&&(!(ct&2)&&(V0|=n),Cn===4&&Va(t,Hn)),es(t,r),n===1&&ct===0&&!(e.mode&1)&&(ih=ln()+500,z0&&Hc()))}function es(t,e){var n=t.callbackNode;PL(t,e);var r=Iw(t,t===Rn?Hn:0);if(r===0)n!==null&&MI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&MI(n),e===1)t.tag===0?NM(k2.bind(null,t)):f3(k2.bind(null,t)),SM(function(){!(ct&6)&&Hc()}),n=null;else{switch(zR(r)){case 1:n=tS;break;case 4:n=MR;break;case 16:n=Aw;break;case 536870912:n=BR;break;default:n=Aw}n=d$(n,s$.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function s$(t,e){if(tw=-1,nw=0,ct&6)throw Error(oe(327));var n=t.callbackNode;if(Od()&&t.callbackNode!==n)return null;var r=Iw(t,t===Rn?Hn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hw(t,r);else{e=r;var s=ct;ct|=2;var i=o$();(Rn!==t||Hn!==e)&&(Do=null,ih=ln()+500,Ml(t,e));do try{QM();break}catch(a){i$(t,a)}while(!0);pS(),zw.current=i,ct=s,gn!==null?e=0:(Rn=null,Hn=0,e=Cn)}if(e!==0){if(e===2&&(s=Q_(t),s!==0&&(r=s,e=xE(t,s))),e===1)throw n=Lp,Ml(t,0),Va(t,r),es(t,ln()),n;if(e===6)Va(t,r);else{if(s=t.current.alternate,!(r&30)&&!KM(s)&&(e=Hw(t,r),e===2&&(i=Q_(t),i!==0&&(r=i,e=xE(t,i))),e===1))throw n=Lp,Ml(t,0),Va(t,r),es(t,ln()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:ll(t,Kr,Do);break;case 3:if(Va(t,r),(r&130023424)===r&&(e=NS+500-ln(),10<e)){if(Iw(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Cr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=sE(ll.bind(null,t,Kr,Do),e);break}ll(t,Kr,Do);break;case 4:if(Va(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Si(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GM(r/1960))-r,10<r){t.timeoutHandle=sE(ll.bind(null,t,Kr,Do),r);break}ll(t,Kr,Do);break;case 5:ll(t,Kr,Do);break;default:throw Error(oe(329))}}}return es(t,ln()),t.callbackNode===n?s$.bind(null,t):null}function xE(t,e){var n=Jf;return t.current.memoizedState.isDehydrated&&(Ml(t,e).flags|=256),t=Hw(t,e),t!==2&&(e=Kr,Kr=n,e!==null&&SE(e)),t}function SE(t){Kr===null?Kr=t:Kr.push.apply(Kr,t)}function KM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Pi(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Va(t,e){for(e&=~TS,e&=~V0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Si(e),r=1<<n;t[n]=-1,e&=~r}}function k2(t){if(ct&6)throw Error(oe(327));Od();var e=Iw(t,0);if(!(e&1))return es(t,ln()),null;var n=Hw(t,e);if(t.tag!==0&&n===2){var r=Q_(t);r!==0&&(e=r,n=xE(t,r))}if(n===1)throw n=Lp,Ml(t,0),Va(t,e),es(t,ln()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ll(t,Kr,Do),es(t,ln()),null}function PS(t,e){var n=ct;ct|=1;try{return t(e)}finally{ct=n,ct===0&&(ih=ln()+500,z0&&Hc())}}function Yl(t){cc!==null&&cc.tag===0&&!(ct&6)&&Od();var e=ct;ct|=1;var n=Vs.transition,r=Ct;try{if(Vs.transition=null,Ct=1,t)return t()}finally{Ct=r,Vs.transition=n,ct=e,!(ct&6)&&Hc()}}function kS(){hs=Cd.current,qt(Cd)}function Ml(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xM(n)),gn!==null)for(n=gn.return;n!==null;){var r=n;switch(dS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ow();break;case 3:rh(),qt(Zr),qt(pr),bS();break;case 5:vS(r);break;case 4:rh();break;case 13:qt(Jt);break;case 19:qt(Jt);break;case 10:gS(r.type._context);break;case 22:case 23:kS()}n=n.return}if(Rn=t,gn=t=_c(t.current,null),Hn=hs=e,Cn=0,Lp=null,TS=V0=Kl=0,Kr=Jf=null,vl!==null){for(e=0;e<vl.length;e++)if(n=vl[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}vl=null}return t}function i$(t,e){do{var n=gn;try{if(pS(),Zy.current=Fw,Bw){for(var r=Xt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bw=!1}if(Gl=0,Nn=bn=Xt=null,Yf=!1,Dp=0,IS.current=null,n===null||n.return===null){Cn=1,Lp=e,gn=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Hn,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=w2(o);if(f!==null){f.flags&=-257,v2(f,o,a,i,e),f.mode&1&&y2(i,l,e),e=f,c=l;var p=e.updateQueue;if(p===null){var g=new Set;g.add(c),e.updateQueue=g}else p.add(c);break e}else{if(!(e&1)){y2(i,l,e),OS();break e}c=Error(oe(426))}}else if(Gt&&a.mode&1){var y=w2(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),v2(y,o,a,i,e),hS(sh(c,a));break e}}i=c=sh(c,a),Cn!==4&&(Cn=2),Jf===null?Jf=[i]:Jf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=z3(i,c,e);d2(i,w);break e;case 1:a=c;var b=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(vc===null||!vc.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=q3(i,a,e);d2(i,E);break e}}i=i.return}while(i!==null)}c$(n)}catch(_){e=_,gn===n&&n!==null&&(gn=n=n.return);continue}break}while(!0)}function o$(){var t=zw.current;return zw.current=Fw,t===null?Fw:t}function OS(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),Rn===null||!(Kl&268435455)&&!(V0&268435455)||Va(Rn,Hn)}function Hw(t,e){var n=ct;ct|=2;var r=o$();(Rn!==t||Hn!==e)&&(Do=null,Ml(t,e));do try{YM();break}catch(s){i$(t,s)}while(!0);if(pS(),ct=n,zw.current=r,gn!==null)throw Error(oe(261));return Rn=null,Hn=0,Cn}function YM(){for(;gn!==null;)a$(gn)}function QM(){for(;gn!==null&&!_L();)a$(gn)}function a$(t){var e=u$(t.alternate,t,hs);t.memoizedProps=t.pendingProps,e===null?c$(t):gn=e,IS.current=null}function c$(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qM(n,e),n!==null){n.flags&=32767,gn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Cn=6,gn=null;return}}else if(n=zM(n,e,hs),n!==null){gn=n;return}if(e=e.sibling,e!==null){gn=e;return}gn=e=t}while(e!==null);Cn===0&&(Cn=5)}function ll(t,e,n){var r=Ct,s=Vs.transition;try{Vs.transition=null,Ct=1,JM(t,e,n,r)}finally{Vs.transition=s,Ct=r}return null}function JM(t,e,n,r){do Od();while(cc!==null);if(ct&6)throw Error(oe(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(kL(t,i),t===Rn&&(gn=Rn=null,Hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jm||(Jm=!0,d$(Aw,function(){return Od(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vs.transition,Vs.transition=null;var o=Ct;Ct=1;var a=ct;ct|=4,IS.current=null,HM(t,n),n$(n,t),yM(nE),Tw=!!tE,nE=tE=null,t.current=n,VM(n),EL(),ct=a,Ct=o,Vs.transition=i}else t.current=n;if(Jm&&(Jm=!1,cc=t,Ww=s),i=t.pendingLanes,i===0&&(vc=null),SL(n.stateNode),es(t,ln()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(qw)throw qw=!1,t=EE,EE=null,t;return Ww&1&&t.tag!==0&&Od(),i=t.pendingLanes,i&1?t===CE?Zf++:(Zf=0,CE=t):Zf=0,Hc(),null}function Od(){if(cc!==null){var t=zR(Ww),e=Vs.transition,n=Ct;try{if(Vs.transition=null,Ct=16>t?16:t,cc===null)var r=!1;else{if(t=cc,cc=null,Ww=0,ct&6)throw Error(oe(331));var s=ct;for(ct|=4,Se=t.current;Se!==null;){var i=Se,o=i.child;if(Se.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(Se=l;Se!==null;){var u=Se;switch(u.tag){case 0:case 11:case 15:Qf(8,u,i)}var d=u.child;if(d!==null)d.return=u,Se=d;else for(;Se!==null;){u=Se;var h=u.sibling,f=u.return;if(X3(u),u===l){Se=null;break}if(h!==null){h.return=f,Se=h;break}Se=f}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Se=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Se=o;else e:for(;Se!==null;){if(i=Se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qf(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Se=w;break e}Se=i.return}}var b=t.current;for(Se=b;Se!==null;){o=Se;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Se=v;else e:for(o=b;Se!==null;){if(a=Se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:H0(9,a)}}catch(_){sn(a,a.return,_)}if(a===o){Se=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Se=E;break e}Se=a.return}}if(ct=s,Hc(),io&&typeof io.onPostCommitFiberRoot=="function")try{io.onPostCommitFiberRoot(U0,t)}catch{}r=!0}return r}finally{Ct=n,Vs.transition=e}}return!1}function O2(t,e,n){e=sh(n,e),e=z3(t,e,1),t=wc(t,e,1),e=Cr(),t!==null&&(Hg(t,1,e),es(t,e))}function sn(t,e,n){if(t.tag===3)O2(t,t,n);else for(;e!==null;){if(e.tag===3){O2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vc===null||!vc.has(r))){t=sh(n,t),t=q3(e,t,1),e=wc(e,t,1),t=Cr(),e!==null&&(Hg(e,1,t),es(e,t));break}}e=e.return}}function ZM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Cr(),t.pingedLanes|=t.suspendedLanes&n,Rn===t&&(Hn&n)===n&&(Cn===4||Cn===3&&(Hn&130023424)===Hn&&500>ln()-NS?Ml(t,0):TS|=n),es(t,e)}function l$(t,e){e===0&&(t.mode&1?(e=Fm,Fm<<=1,!(Fm&130023424)&&(Fm=4194304)):e=1);var n=Cr();t=ta(t,e),t!==null&&(Hg(t,e,n),es(t,n))}function XM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),l$(t,n)}function eB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),l$(t,n)}var u$;u$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zr.current)Qr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qr=!1,FM(t,e,n);Qr=!!(t.flags&131072)}else Qr=!1,Gt&&e.flags&1048576&&p3(e,Dw,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ew(t,e),t=e.pendingProps;var s=eh(e,pr.current);kd(e,n),s=ES(null,e,r,t,s,n);var i=CS();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xr(r)?(i=!0,Rw(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yS(e),s.updater=W0,e.stateNode=s,s._reactInternals=e,dE(e,r,t,n),e=pE(null,e,r,!0,i,n)):(e.tag=0,Gt&&i&&uS(e),br(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ew(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=nB(r),t=fi(r,t),s){case 0:e=fE(null,e,r,t,n);break e;case 1:e=E2(null,e,r,t,n);break e;case 11:e=b2(null,e,r,t,n);break e;case 14:e=_2(null,e,r,fi(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:fi(r,s),fE(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:fi(r,s),E2(t,e,r,s,n);case 3:e:{if(G3(e),t===null)throw Error(oe(387));r=e.pendingProps,i=e.memoizedState,s=i.element,b3(t,e),Lw(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=sh(Error(oe(423)),e),e=C2(t,e,r,n,s);break e}else if(r!==s){s=sh(Error(oe(424)),e),e=C2(t,e,r,n,s);break e}else for(ms=yc(e.stateNode.containerInfo.firstChild),ws=e,Gt=!0,wi=null,n=w3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(th(),r===s){e=na(t,e,n);break e}br(t,e,r,n)}e=e.child}return e;case 5:return _3(e),t===null&&cE(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,rE(r,s)?o=null:i!==null&&rE(r,i)&&(e.flags|=32),V3(t,e),br(t,e,o,n),e.child;case 6:return t===null&&cE(e),null;case 13:return K3(t,e,n);case 4:return wS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nh(e,null,r,n):br(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:fi(r,s),b2(t,e,r,s,n);case 7:return br(t,e,e.pendingProps,n),e.child;case 8:return br(t,e,e.pendingProps.children,n),e.child;case 12:return br(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,jt(jw,r._currentValue),r._currentValue=o,i!==null)if(Pi(i.value,o)){if(i.children===s.children&&!Zr.current){e=na(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Go(-1,n&-n),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),lE(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),lE(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}br(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,kd(e,n),s=Gs(s),r=r(s),e.flags|=1,br(t,e,r,n),e.child;case 14:return r=e.type,s=fi(r,e.pendingProps),s=fi(r.type,s),_2(t,e,r,s,n);case 15:return W3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:fi(r,s),ew(t,e),e.tag=1,Xr(r)?(t=!0,Rw(e)):t=!1,kd(e,n),F3(e,r,s),dE(e,r,s,n),pE(null,e,r,!0,t,n);case 19:return Y3(t,e,n);case 22:return H3(t,e,n)}throw Error(oe(156,e.tag))};function d$(t,e){return LR(t,e)}function tB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(t,e,n,r){return new tB(t,e,n,r)}function RS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nB(t){if(typeof t=="function")return RS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zx)return 11;if(t===Xx)return 14}return 2}function _c(t,e){var n=t.alternate;return n===null?(n=qs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rw(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")RS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fd:return Bl(n.children,s,i,e);case Jx:o=8,s|=8;break;case D_:return t=qs(12,n,e,s|2),t.elementType=D_,t.lanes=i,t;case j_:return t=qs(13,n,e,s),t.elementType=j_,t.lanes=i,t;case U_:return t=qs(19,n,e,s),t.elementType=U_,t.lanes=i,t;case _R:return G0(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vR:o=10;break e;case bR:o=9;break e;case Zx:o=11;break e;case Xx:o=14;break e;case ja:o=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=qs(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Bl(t,e,n,r){return t=qs(7,t,r,e),t.lanes=n,t}function G0(t,e,n,r){return t=qs(22,t,r,e),t.elementType=_R,t.lanes=n,t.stateNode={isHidden:!1},t}function Ub(t,e,n){return t=qs(6,t,null,e),t.lanes=n,t}function Lb(t,e,n){return e=qs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rB(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wb(0),this.expirationTimes=wb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wb(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $S(t,e,n,r,s,i,o,a,c){return t=new rB(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qs(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yS(i),t}function sB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function h$(t){if(!t)return Rc;t=t._reactInternals;e:{if(mu(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(Xr(n))return h3(t,n,e)}return e}function f$(t,e,n,r,s,i,o,a,c){return t=$S(n,r,!0,t,s,i,o,a,c),t.context=h$(null),n=t.current,r=Cr(),s=bc(n),i=Go(r,s),i.callback=e??null,wc(n,i,s),t.current.lanes=s,Hg(t,s,r),es(t,r),t}function K0(t,e,n,r){var s=e.current,i=Cr(),o=bc(s);return n=h$(n),e.context===null?e.context=n:e.pendingContext=n,e=Go(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wc(s,e,o),t!==null&&(Ai(t,s,o,i),Jy(t,s,o)),o}function Vw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function R2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function DS(t,e){R2(t,e),(t=t.alternate)&&R2(t,e)}function iB(){return null}var p$=typeof reportError=="function"?reportError:function(t){console.error(t)};function jS(t){this._internalRoot=t}Y0.prototype.render=jS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));K0(t,e,null,null)};Y0.prototype.unmount=jS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yl(function(){K0(null,t,null,null)}),e[ea]=null}};function Y0(t){this._internalRoot=t}Y0.prototype.unstable_scheduleHydration=function(t){if(t){var e=HR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ha.length&&e!==0&&e<Ha[n].priority;n++);Ha.splice(n,0,t),n===0&&GR(t)}};function US(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Q0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $2(){}function oB(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=Vw(o);i.call(l)}}var o=f$(e,r,t,0,null,!1,!1,"",$2);return t._reactRootContainer=o,t[ea]=o.current,Pp(t.nodeType===8?t.parentNode:t),Yl(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=Vw(c);a.call(l)}}var c=$S(t,0,!1,null,null,!1,!1,"",$2);return t._reactRootContainer=c,t[ea]=c.current,Pp(t.nodeType===8?t.parentNode:t),Yl(function(){K0(e,c,n,r)}),c}function J0(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Vw(o);a.call(c)}}K0(e,o,t,s)}else o=oB(n,e,t,s,r);return Vw(o)}qR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nf(e.pendingLanes);n!==0&&(nS(e,n|1),es(e,ln()),!(ct&6)&&(ih=ln()+500,Hc()))}break;case 13:Yl(function(){var r=ta(t,1);if(r!==null){var s=Cr();Ai(r,t,1,s)}}),DS(t,1)}};rS=function(t){if(t.tag===13){var e=ta(t,134217728);if(e!==null){var n=Cr();Ai(e,t,134217728,n)}DS(t,134217728)}};WR=function(t){if(t.tag===13){var e=bc(t),n=ta(t,e);if(n!==null){var r=Cr();Ai(n,t,e,r)}DS(t,e)}};HR=function(){return Ct};VR=function(t,e){var n=Ct;try{return Ct=t,e()}finally{Ct=n}};G_=function(t,e,n){switch(e){case"input":if(B_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=F0(r);if(!s)throw Error(oe(90));CR(r),B_(r,s)}}}break;case"textarea":SR(t,n);break;case"select":e=n.value,e!=null&&Id(t,!!n.multiple,e,!1)}};OR=PS;RR=Yl;var aB={usingClientEntryPoint:!1,Events:[Gg,yd,F0,PR,kR,PS]},Zh={findFiberByHostInstance:wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cB={bundleType:Zh.bundleType,version:Zh.version,rendererPackageName:Zh.rendererPackageName,rendererConfig:Zh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:la.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jR(t),t===null?null:t.stateNode},findFiberByHostInstance:Zh.findFiberByHostInstance||iB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zm.isDisabled&&Zm.supportsFiber)try{U0=Zm.inject(cB),io=Zm}catch{}}Cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aB;Cs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!US(e))throw Error(oe(200));return sB(t,e,null,n)};Cs.createRoot=function(t,e){if(!US(t))throw Error(oe(299));var n=!1,r="",s=p$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$S(t,1,!1,null,null,n,!1,r,s),t[ea]=e.current,Pp(t.nodeType===8?t.parentNode:t),new jS(e)};Cs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=jR(e),t=t===null?null:t.stateNode,t};Cs.flushSync=function(t){return Yl(t)};Cs.hydrate=function(t,e,n){if(!Q0(e))throw Error(oe(200));return J0(null,t,e,!0,n)};Cs.hydrateRoot=function(t,e,n){if(!US(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=p$;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=f$(e,null,t,1,n??null,s,!1,i,o),t[ea]=e.current,Pp(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Y0(e)};Cs.render=function(t,e,n){if(!Q0(e))throw Error(oe(200));return J0(null,t,e,!1,n)};Cs.unmountComponentAtNode=function(t){if(!Q0(t))throw Error(oe(40));return t._reactRootContainer?(Yl(function(){J0(null,null,t,!1,function(){t._reactRootContainer=null,t[ea]=null})}),!0):!1};Cs.unstable_batchedUpdates=PS;Cs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Q0(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return J0(t,e,n,!1,r)};Cs.version="18.3.1-next-f1338f8080-20240426";function g$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g$)}catch(t){console.error(t)}}g$(),gR.exports=Cs;var LS=gR.exports,D2=LS;R_.createRoot=D2.createRoot,R_.hydrateRoot=D2.hydrateRoot;const m$="2.31.4";let Xh={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${m$}`},re=class AE extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof AE?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof AE&&n.cause.docsPath||n.docsPath,i=(a=Xh.getDocsUrl)==null?void 0:a.call(Xh,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Xh.version?[`Version: ${Xh.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=m$}walk(e){return y$(this,e)}};function y$(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?y$(t.cause,e):e?null:t}let w$=class extends re{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class lB extends re{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let uB=class extends re{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class v$ extends re{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let b$=class extends re{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class j2 extends re{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function xh(t,{dir:e,size:n=32}={}){return typeof t=="string"?Ec(t,{dir:e,size:n}):dB(t,{dir:e,size:n})}function Ec(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new b$({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function dB(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new b$({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}function ra(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function dn(t){return ra(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Sh(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const hB=new TextEncoder;function Z0(t,e={}){return typeof t=="number"||typeof t=="bigint"?pB(t,e):typeof t=="boolean"?fB(t,e):ra(t)?ho(t,e):Rd(t,e)}function fB(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ri(n,{size:e.size}),xh(n,{size:e.size})):n}const _o={zero:48,nine:57,A:65,F:70,a:97,f:102};function U2(t){if(t>=_o.zero&&t<=_o.nine)return t-_o.zero;if(t>=_o.A&&t<=_o.F)return t-(_o.A-10);if(t>=_o.a&&t<=_o.f)return t-(_o.a-10)}function ho(t,e={}){let n=t;e.size&&(Ri(n,{size:e.size}),n=xh(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=U2(r.charCodeAt(a++)),l=U2(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new re(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function pB(t,e){const n=Me(t,e);return ho(n)}function Rd(t,e={}){const n=hB.encode(t);return typeof e.size=="number"?(Ri(n,{size:e.size}),xh(n,{dir:"right",size:e.size})):n}function Ri(t,{size:e}){if(dn(t)>e)throw new uB({givenSize:dn(t),maxSize:e})}function sa(t,e={}){const{signed:n}=e;e.size&&Ri(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function ia(t,e={}){return Number(sa(t,e))}function _$(t,e={}){let n=ho(t);return e.size&&(Ri(n,{size:e.size}),n=Sh(n,{dir:"right"})),new TextDecoder().decode(n)}const gB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ql(t,e={}){return typeof t=="number"||typeof t=="bigint"?Me(t,e):typeof t=="string"?X0(t,e):typeof t=="boolean"?E$(t,e):Ir(t,e)}function E$(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ri(n,{size:e.size}),xh(n,{size:e.size})):n}function Ir(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=gB[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Ri(r,{size:e.size}),xh(r,{dir:"right",size:e.size})):r}function Me(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new w$({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?xh(a,{size:r}):a}const mB=new TextEncoder;function X0(t,e={}){const n=mB.encode(t);return Ir(n,e)}async function yB(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Me(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function $c(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new PB(t.type);return`${t.name}(${ev(t.inputs,{includeName:e})})`}function ev(t,{includeName:e=!1}={}){return t?t.map(n=>wB(n,{includeName:e})).join(e?", ":","):""}function wB(t,{includeName:e}){return t.type.startsWith("tuple")?`(${ev(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class vB extends re{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class L2 extends re{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class C$ extends re{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${ev(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class tv extends re{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class bB extends re{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class _B extends re{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${dn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class EB extends re{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class x_e extends re{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class S_e extends re{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class x$ extends re{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class CB extends re{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class S$ extends re{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Gw extends re{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class xB extends re{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class A_e extends re{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class SB extends re{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${$c(e.abiItem)}\`, and`,`\`${n.type}\` in \`${$c(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class AB extends re{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class IE extends re{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${ev(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class A$ extends re{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${$c(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class IB extends re{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class TB extends re{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class NB extends re{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class PB extends re{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function Dc(t){return typeof t[0]=="string"?nv(t):kB(t)}function kB(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function nv(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class jc extends re{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let rv=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Xm=BigInt(2**32-1),M2=BigInt(32);function OB(t,e=!1){return e?{h:Number(t&Xm),l:Number(t>>M2&Xm)}:{h:Number(t>>M2&Xm)|0,l:Number(t&Xm)|0}}function RB(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=OB(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const $B=(t,e,n)=>t<<n|e>>>32-n,DB=(t,e,n)=>e<<n|t>>>32-n,jB=(t,e,n)=>e<<n-32|t>>>64-n,UB=(t,e,n)=>t<<n-32|e>>>64-n,Ou=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function LB(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Kw(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Jl(t,...e){if(!LB(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function T_e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Kw(t.outputLen),Kw(t.blockLen)}function Yw(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function I$(t,e){Jl(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function MB(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Mp(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Mb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Mi(t,e){return t<<32-e|t>>>e}const BB=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function FB(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function zB(t){for(let e=0;e<t.length;e++)t[e]=FB(t[e]);return t}const B2=BB?t=>t:zB,T$=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",qB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function N_e(t){if(Jl(t),T$)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=qB[t[n]];return e}const Eo={_0:48,_9:57,A:65,F:70,a:97,f:102};function F2(t){if(t>=Eo._0&&t<=Eo._9)return t-Eo._0;if(t>=Eo.A&&t<=Eo.F)return t-(Eo.A-10);if(t>=Eo.a&&t<=Eo.f)return t-(Eo.a-10)}function P_e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(T$)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=F2(t.charCodeAt(i)),a=F2(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function WB(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function sv(t){return typeof t=="string"&&(t=WB(t)),Jl(t),t}function k_e(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Jl(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class N${}function P$(t){const e=r=>t().update(sv(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function HB(t){const e=(r,s)=>t(s).update(sv(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function O_e(t=32){if(Ou&&typeof Ou.getRandomValues=="function")return Ou.getRandomValues(new Uint8Array(t));if(Ou&&typeof Ou.randomBytes=="function")return Uint8Array.from(Ou.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const VB=BigInt(0),ef=BigInt(1),GB=BigInt(2),KB=BigInt(7),YB=BigInt(256),QB=BigInt(113),k$=[],O$=[],R$=[];for(let t=0,e=ef,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],k$.push(2*(5*r+n)),O$.push((t+1)*(t+2)/2%64);let s=VB;for(let i=0;i<7;i++)e=(e<<ef^(e>>KB)*QB)%YB,e&GB&&(s^=ef<<(ef<<BigInt(i))-ef);R$.push(s)}const $$=RB(R$,!0),JB=$$[0],ZB=$$[1],z2=(t,e,n)=>n>32?jB(t,e,n):$B(t,e,n),q2=(t,e,n)=>n>32?UB(t,e,n):DB(t,e,n);function D$(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=z2(l,u,1)^n[a],h=q2(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=O$[o],c=z2(s,i,a),l=q2(s,i,a),u=k$[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=JB[r],t[1]^=ZB[r]}Mp(n)}class Yg extends N${constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Kw(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=MB(this.state)}clone(){return this._cloneInto()}keccak(){B2(this.state32),D$(this.state32,this.rounds),B2(this.state32),this.posOut=0,this.pos=0}update(e){Yw(this),e=sv(e),Jl(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Yw(this,!1),Jl(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Kw(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(I$(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Mp(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Yg(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Vc=(t,e,n)=>P$(()=>new Yg(e,t,n)),XB=Vc(6,144,224/8),eF=Vc(6,136,256/8),tF=Vc(6,104,384/8),nF=Vc(6,72,512/8),rF=Vc(1,144,224/8),MS=Vc(1,136,256/8),sF=Vc(1,104,384/8),iF=Vc(1,72,512/8),j$=(t,e,n)=>HB((r={})=>new Yg(e,t,r.dkLen===void 0?n:r.dkLen,!0)),oF=j$(31,168,128/8),aF=j$(31,136,256/8),R_e=Object.freeze(Object.defineProperty({__proto__:null,Keccak:Yg,keccakP:D$,keccak_224:rF,keccak_256:MS,keccak_384:sF,keccak_512:iF,sha3_224:XB,sha3_256:eF,sha3_384:tF,sha3_512:nF,shake128:oF,shake256:aF},Symbol.toStringTag,{value:"Module"}));function Ah(t,e){const n=e||"hex",r=MS(ra(t,{strict:!1})?Z0(t):t);return n==="bytes"?r:Ql(r)}const Bb=new rv(8192);function Qg(t,e){if(Bb.has(`${t}.${e}`))return Bb.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Ah(Rd(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Bb.set(`${t}.${e}`,i),i}function lc(t,e){if(!ki(t,{strict:!1}))throw new jc({address:t});return Qg(t,e)}const cF=/^0x[a-fA-F0-9]{40}$/,Fb=new rv(8192);function ki(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Fb.has(r))return Fb.get(r);const s=cF.test(t)?t.toLowerCase()===t?!0:n?Qg(t)===t:!0:!1;return Fb.set(r,s),s}function Qw(t,e,n,{strict:r}={}){return ra(t,{strict:!1})?TE(t,e,n,{strict:r}):M$(t,e,n,{strict:r})}function U$(t,e){if(typeof e=="number"&&e>0&&e>dn(t)-1)throw new v$({offset:e,position:"start",size:dn(t)})}function L$(t,e,n){if(typeof e=="number"&&typeof n=="number"&&dn(t)!==n-e)throw new v$({offset:n,position:"end",size:dn(t)})}function M$(t,e,n,{strict:r}={}){U$(t,e);const s=t.slice(e,n);return r&&L$(s,e,n),s}function TE(t,e,n,{strict:r}={}){U$(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&L$(s,e,n),s}const lF=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,B$=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function F$(t,e){if(t.length!==e.length)throw new EB({expectedLength:t.length,givenLength:e.length});const n=uF({params:t,values:e}),r=FS(n);return r.length===0?"0x":r}function uF({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(BS({param:t[r],value:e[r]}));return n}function BS({param:t,value:e}){const n=zS(t.type);if(n){const[r,s]=n;return hF(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return yF(e,{param:t});if(t.type==="address")return dF(e);if(t.type==="bool")return pF(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=B$.exec(t.type)??[];return gF(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return fF(e,{param:t});if(t.type==="string")return mF(e);throw new IB(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function FS(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=dn(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(Me(e+s,{size:32})),r.push(a),s+=dn(a)):n.push(a)}return Dc([...n,...r])}function dF(t){if(!ki(t))throw new jc({address:t});return{dynamic:!1,encoded:Ec(t.toLowerCase())}}function hF(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new NB(t);if(!r&&t.length!==e)throw new bB({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=BS({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=FS(i);if(r){const a=Me(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Dc([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Dc(i.map(({encoded:o})=>o))}}function fF(t,{param:e}){const[,n]=e.type.split("bytes"),r=dn(t);if(!n){let s=t;return r%32!==0&&(s=Ec(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Dc([Ec(Me(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new _B({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Ec(t,{dir:"right"})}}function pF(t){if(typeof t!="boolean")throw new re(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ec(E$(t))}}function gF(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new w$({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Me(t,{size:32,signed:e})}}function mF(t){const e=X0(t),n=Math.ceil(dn(e)/32),r=[];for(let s=0;s<n;s++)r.push(Ec(Qw(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Dc([Ec(Me(dn(e),{size:32})),...r])}}function yF(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=BS({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?FS(r):Dc(r.map(({encoded:s})=>s))}}function zS(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const zb="/docs/contract/encodeDeployData";function qS(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new vB({docsPath:zb});if(!("inputs"in s))throw new L2({docsPath:zb});if(!s.inputs||s.inputs.length===0)throw new L2({docsPath:zb});const i=F$(s.inputs,n);return nv([r,i])}function Gn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class yu extends re{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class sw extends re{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function wF(t){const e=Ah(`0x${t.substring(4)}`).substring(26);return Qg(`0x${e}`)}const vF="modulepreload",bF=function(t){return"/"+t},W2={},cn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=bF(c),c in W2)return;W2[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":vF,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};async function _F({hash:t,signature:e}){const n=ra(t)?t:Ql(t),{secp256k1:r}=await cn(async()=>{const{secp256k1:o}=await import("./secp256k1-Dk4FYozV.js");return{secp256k1:o}},__vite__mapDeps([0,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=H2(f);return new r.Signature(sa(l),sa(u)).addRecoveryBit(p)}const o=ra(e)?e:Ql(e);if(dn(o)!==65)throw new Error("invalid signature length");const a=ia(`0x${o.slice(130)}`),c=H2(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function H2(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function EF({hash:t,signature:e}){return wF(await _F({hash:t,signature:e}))}class V2 extends re{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class z$ extends re{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class CF extends re{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const xF={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new CF({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new z$({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new V2({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new V2({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function WS(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(xF);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function SF(t,e="hex"){const n=q$(t),r=WS(new Uint8Array(n.length));return n.encode(r),e==="hex"?Ir(r.bytes):r.bytes}function q$(t){return Array.isArray(t)?AF(t.map(e=>q$(e))):IF(t)}function AF(t){const e=t.reduce((s,i)=>s+i.length,0),n=W$(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function IF(t){const e=typeof t=="string"?ho(t):t,n=W$(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function W$(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new re("Length is too large.")}function TF(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=Ah(nv(["0x05",SF([e?Me(e):"0x",s,n?Me(n):"0x"])]));return r==="bytes"?ho(i):i}async function H$(t){const{authorization:e,signature:n}=t;return EF({hash:TF(e),signature:n??e})}class NE extends re{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class NF extends re{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class PF extends re{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class V$ extends re{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function G$({chain:t,currentChainId:e}){if(!t)throw new PF;if(e!==t.id)throw new NF({chain:t,currentChainId:e})}const kF={gwei:9,wei:18},OF={ether:-9,wei:9},RF={ether:-18,gwei:-9};function Ih(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function ts(t,e="wei"){return Ih(t,OF[e])}class _l extends re{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(_l,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(_l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Jw extends re{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ts(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Jw,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class PE extends re{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ts(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(PE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class kE extends re{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(kE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class OE extends re{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(OE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class RE extends re{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(RE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class $E extends re{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty($E,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class DE extends re{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(DE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class jE extends re{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(jE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class UE extends re{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(UE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Zw extends re{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ts(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ts(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Zw,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class iv extends re{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function HS(t,e="wei"){return Ih(t,kF[e])}function Jg(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class $F extends re{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class DF extends re{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Jg(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class jF extends re{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=Jg({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${HS(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${ts(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ts(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${ts(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class K$ extends re{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class Y$ extends re{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class UF extends re{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const xr=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n),LF=t=>t,VS=t=>t;class Xf extends re{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${VS(o)}`,e&&`Request body: ${xr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class GS extends re{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${VS(r)}`,`Request body: ${xr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class G2 extends re{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${VS(n)}`,`Request body: ${xr(e)}`],name:"TimeoutError"})}}const MF=-1;class rs extends re{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof GS?e.code:n??MF}}class Ss extends rs{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Bp extends rs{constructor(e){super(e,{code:Bp.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Bp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Fp extends rs{constructor(e){super(e,{code:Fp.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Fp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class zp extends rs{constructor(e,{method:n}={}){super(e,{code:zp.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class qp extends rs{constructor(e){super(e,{code:qp.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Zl extends rs{constructor(e){super(e,{code:Zl.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Zl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Wp extends rs{constructor(e){super(e,{code:Wp.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Wp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Hp extends rs{constructor(e){super(e,{code:Hp.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Hp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Cc extends rs{constructor(e){super(e,{code:Cc.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Cc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class oh extends rs{constructor(e){super(e,{code:oh.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(oh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class El extends rs{constructor(e,{method:n}={}){super(e,{code:El.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(El,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class ah extends rs{constructor(e){super(e,{code:ah.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(ah,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Vp extends rs{constructor(e){super(e,{code:Vp.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Vp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class vn extends Ss{constructor(e){super(e,{code:vn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Gp extends Ss{constructor(e){super(e,{code:Gp.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Gp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Kp extends Ss{constructor(e,{method:n}={}){super(e,{code:Kp.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Kp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Yp extends Ss{constructor(e){super(e,{code:Yp.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Qp extends Ss{constructor(e){super(e,{code:Qp.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class fo extends Ss{constructor(e){super(e,{code:fo.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(fo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class ch extends Ss{constructor(e){super(e,{code:ch.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(ch,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Jp extends Ss{constructor(e){super(e,{code:Jp.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Zp extends Ss{constructor(e){super(e,{code:Zp.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Xp extends Ss{constructor(e){super(e,{code:Xp.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class eg extends Ss{constructor(e){super(e,{code:eg.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(eg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class tg extends Ss{constructor(e){super(e,{code:tg.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(tg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class lh extends Ss{constructor(e){super(e,{code:lh.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(lh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class BF extends rs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function KS(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof re?t.walk(s=>(s==null?void 0:s.code)===_l.code):t;return r instanceof re?new _l({cause:t,message:r.details}):_l.nodeMessage.test(n)?new _l({cause:t,message:t.details}):Jw.nodeMessage.test(n)?new Jw({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):PE.nodeMessage.test(n)?new PE({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):kE.nodeMessage.test(n)?new kE({cause:t,nonce:e==null?void 0:e.nonce}):OE.nodeMessage.test(n)?new OE({cause:t,nonce:e==null?void 0:e.nonce}):RE.nodeMessage.test(n)?new RE({cause:t,nonce:e==null?void 0:e.nonce}):$E.nodeMessage.test(n)?new $E({cause:t}):DE.nodeMessage.test(n)?new DE({cause:t,gas:e==null?void 0:e.gas}):jE.nodeMessage.test(n)?new jE({cause:t,gas:e==null?void 0:e.gas}):UE.nodeMessage.test(n)?new UE({cause:t}):Zw.nodeMessage.test(n)?new Zw({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new iv({cause:t})}function Q$(t,{docsPath:e,...n}){const r=(()=>{const s=KS(t,n);return s instanceof iv?t:s})();return new jF(r,{docsPath:e,...n})}function YS(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}const FF={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function ov(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=zF(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Ir(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Me(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Me(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Me(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Me(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Me(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Me(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=FF[t.type]),typeof t.value<"u"&&(e.value=Me(t.value)),e}function zF(t){return t.map(e=>({address:e.address,r:e.r?Me(BigInt(e.r)):e.r,s:e.s?Me(BigInt(e.s)):e.s,chainId:Me(e.chainId),nonce:Me(e.nonce),...typeof e.yParity<"u"?{yParity:Me(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Me(e.v)}:{}}))}function Tt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const qF=2n**256n-1n;function Zg(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?Gn(e):void 0;if(o&&!ki(o.address))throw new jc({address:o.address});if(i&&!ki(i))throw new jc({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new $F;if(r&&r>qF)throw new Jw({maxFeePerGas:r});if(s&&r&&s>r)throw new Zw({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function Xg(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return ia(e)}class WF extends re{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class QS extends re{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class HF extends re{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ts(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class J$ extends re{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Z$={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function X$(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?ia(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?ia(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Z$[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=VF(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function VF(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function GF(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:X$(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function ng(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var u,d,h;const i=r??"latest",o=s??!1,a=n!==void 0?Me(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||i,o]},{dedupe:!!a}),!c)throw new J$({blockHash:e,blockNumber:n});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:h.format)||GF)(c)}async function eD(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function KF(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await Tt(t,ng,"getBlock")({}),u=await a({block:l,client:t,request:s});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return sa(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):Tt(t,ng,"getBlock")({}),Tt(t,eD,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new QS;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function K2(t,e){var h,f;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var p,g;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(o<1)throw new WF;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),l=p=>p*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await Tt(t,ng,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:s,type:i});if(p!==null)return p}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new QS;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await KF(t,{block:u,chain:r,request:s}),g=l(u.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??g+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await Tt(t,eD,"getGasPrice")({}))}}class YF extends re{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=Jg({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${HS(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${ts(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ts(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${ts(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function QF(t,{docsPath:e,...n}){const r=(()=>{const s=KS(t,n);return s instanceof iv?t:s})();return new YF(r,{docsPath:e,...n})}class JF extends re{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class ZF extends re{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Y2(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function XF(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Y2(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Y2(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Q2(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new j2({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new j2({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function e9(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=Me(e)),n!==void 0&&(o.nonce=Me(n)),r!==void 0&&(o.state=Q2(r)),s!==void 0){if(o.state)throw new ZF;o.stateDiff=Q2(s)}return o}function tD(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!ki(n,{strict:!1}))throw new jc({address:n});if(e[n])throw new JF({address:n});e[n]=e9(r)}return e}async function nD(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?Me(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function rD(t,e){var s,i,o;const{account:n=t.account}=e,r=n?Gn(n):void 0;try{let F=function(I){const{block:D,request:N,rpcStateOverride:k}=I;return t.request({method:"eth_estimateGas",params:k?[N,D??"latest",k]:D?[N,D]:[N]})};const{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:h,data:f,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,value:E,stateOverride:_,...x}=await av(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),T=(typeof d=="bigint"?Me(d):void 0)||h,C=tD(_),O=await(async()=>{if(x.to)return x.to;if(c&&c.length>0)return await H$({authorization:c[0]}).catch(()=>{throw new re("`to` is required. Could not infer from `authorizationList`")})})();Zg(e);const R=(o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,W=(R||ov)({...YS(x,{format:R}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:f,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,to:O,value:E});let A=BigInt(await F({block:T,request:W,rpcStateOverride:C}));if(c){const I=await nD(t,{address:W.from}),D=await Promise.all(c.map(async N=>{const{address:k}=N,U=await F({block:T,request:{authorizationList:void 0,data:f,from:r==null?void 0:r.address,to:k,value:Me(I)},rpcStateOverride:C}).catch(()=>100000n);return 2n*BigInt(U)}));A+=D.reduce((N,k)=>N+k,0n)}return A}catch(a){throw QF(a,{...e,account:r,chain:t.chain})}}async function sD(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Me(r):n]},{dedupe:!!r});return ia(s)}function iD(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>ho(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>Ir(i))}function oD(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>ho(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>ho(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>Ir(o))}function t9(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function n9(t,e,n){return t&e^~t&n}function r9(t,e,n){return t&e^t&n^e&n}class s9 extends N${constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Mb(this.buffer)}update(e){Yw(this),e=sv(e),Jl(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Mb(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Yw(this),I$(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Mp(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;t9(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Mb(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const pa=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),i9=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ga=new Uint32Array(64);class o9 extends s9{constructor(e=32){super(64,e,8,!1),this.A=pa[0]|0,this.B=pa[1]|0,this.C=pa[2]|0,this.D=pa[3]|0,this.E=pa[4]|0,this.F=pa[5]|0,this.G=pa[6]|0,this.H=pa[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)ga[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=ga[d-15],f=ga[d-2],p=Mi(h,7)^Mi(h,18)^h>>>3,g=Mi(f,17)^Mi(f,19)^f>>>10;ga[d]=g+ga[d-7]+p+ga[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Mi(a,6)^Mi(a,11)^Mi(a,25),f=u+h+n9(a,c,l)+i9[d]+ga[d]|0,g=(Mi(r,2)^Mi(r,13)^Mi(r,22))+r9(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Mp(ga)}destroy(){this.set(0,0,0,0,0,0,0,0),Mp(this.buffer)}}const a9=P$(()=>new o9),c9=a9;function l9(t,e){return c9(ra(t,{strict:!1})?Z0(t):t)}function u9(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=l9(e);return s.set([n],0),r==="bytes"?s:Ir(s)}function d9(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const i of e)s.push(u9({commitment:i,to:r,version:n}));return s}const J2=6,aD=32,JS=4096,cD=aD*JS,Z2=cD*J2-1-1*JS*J2;class h9 extends re{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class f9 extends re{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function p9(t){const e=typeof t.data=="string"?ho(t.data):t.data,n=dn(e);if(!n)throw new f9;if(n>Z2)throw new h9({maxSize:Z2,size:n});const r=[];let s=!0,i=0;for(;s;){const o=WS(new Uint8Array(cD));let a=0;for(;a<JS;){const c=e.slice(i,i+(aD-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}a++,i+=31}r.push(o)}return r.map(o=>Ir(o.bytes))}function g9(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??p9({data:e}),i=t.commitments??iD({blobs:s,kzg:n,to:r}),o=t.proofs??oD({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function m9(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new DF({transaction:t})}const lD=["blobVersionedHashes","chainId","fees","gas","nonce","type"],X2=new Map;async function av(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:l=lD,type:u}=e,d=n&&Gn(n),h={...e,...d?{from:d==null?void 0:d.address}:{}};let f;async function p(){return f||(f=await Tt(t,ng,"getBlock")({blockTag:"latest"}),f)}let g;async function y(){return g||(s?s.id:typeof e.chainId<"u"?e.chainId:(g=await Tt(t,Xg,"getChainId")({}),g))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const w=await y();h.nonce=await c.consume({address:d.address,chainId:w,client:t})}else h.nonce=await Tt(t,sD,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const w=iD({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const b=d9({commitments:w,to:"hex"});h.blobVersionedHashes=b}if(l.includes("sidecars")){const b=oD({blobs:r,commitments:w,kzg:o}),v=g9({blobs:r,commitments:w,proofs:b,to:"hex"});h.sidecars=v}}if(l.includes("chainId")&&(h.chainId=await y()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{h.type=m9(h)}catch{let w=X2.get(t.uid);if(typeof w>"u"){const b=await p();w=typeof(b==null?void 0:b.baseFeePerGas)=="bigint",X2.set(t.uid,w)}h.type=w?"eip1559":"legacy"}if(l.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const w=await p(),{maxFeePerGas:b,maxPriorityFeePerGas:v}=await K2(t,{block:w,chain:s,request:h});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<v)throw new HF({maxPriorityFeePerGas:v});h.maxPriorityFeePerGas=v,h.maxFeePerGas=b}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new QS;if(typeof e.gasPrice>"u"){const w=await p(),{gasPrice:b}=await K2(t,{block:w,chain:s,request:h,type:"legacy"});h.gasPrice=b}}return l.includes("gas")&&typeof i>"u"&&(h.gas=await Tt(t,rD,"estimateGas")({...h,account:d&&{address:d.address,type:"json-rpc"}})),Zg(h),delete h.parameters,h}async function uD(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const qb=new rv(128);async function em(t,e){var b,v,E,_;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,type:p,value:g,...y}=e;if(typeof n>"u")throw new yu({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?Gn(n):null;try{Zg(e);const x=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await H$({authorization:i[0]}).catch(()=>{throw new re("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let S;r!==null&&(S=await Tt(t,Xg,"getChainId")({}),G$({currentChainId:S,chain:r}));const T=(E=(v=(b=t.chain)==null?void 0:b.formatters)==null?void 0:v.transactionRequest)==null?void 0:E.format,O=(T||ov)({...YS(y,{format:T}),accessList:s,authorizationList:i,blobs:o,chainId:S,data:a,from:w==null?void 0:w.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,to:x,type:p,value:g}),R=qb.get(t.uid),B=R?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:B,params:[O]},{retryCount:0})}catch(W){if(R===!1)throw W;const F=W;if(F.name==="InvalidInputRpcError"||F.name==="InvalidParamsRpcError"||F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[O]},{retryCount:0}).then(A=>(qb.set(t.uid,!0),A)).catch(A=>{const I=A;throw I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError"?(qb.set(t.uid,!1),F):I});throw F}}if((w==null?void 0:w.type)==="local"){const S=await Tt(t,av,"prepareTransactionRequest")({account:w,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,nonceManager:w.nonceManager,parameters:[...lD,"sidecars"],type:p,value:g,...y,to:x}),T=(_=r==null?void 0:r.serializers)==null?void 0:_.transaction,C=await w.signTransaction(S,{serializer:T});return await Tt(t,uD,"sendRawTransaction")({serializedTransaction:C})}throw(w==null?void 0:w.type)==="smart"?new sw({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new sw({docsPath:"/docs/actions/wallet/sendTransaction",type:w==null?void 0:w.type})}catch(x){throw x instanceof sw?x:Q$(x,{...e,account:w,chain:e.chain||void 0})}}function y9(t,e){const{abi:n,args:r,bytecode:s,...i}=e,o=qS({abi:n,args:r,bytecode:s});return em(t,{...i,...i.authorizationList?{to:null}:{},data:o})}const LE=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],$_e=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],w9=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],v9=[...w9,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}];function b9(t,e={}){typeof e.size<"u"&&Ri(t,{size:e.size});const n=Ir(t,e);return sa(n,e)}function _9(t,e={}){let n=t;if(typeof e.size<"u"&&(Ri(n,{size:e.size}),n=Sh(n)),n.length>1||n[0]>1)throw new lB(n);return!!n[0]}function Ko(t,e={}){typeof e.size<"u"&&Ri(t,{size:e.size});const n=Ir(t,e);return ia(n,e)}function E9(t,e={}){let n=t;return typeof e.size<"u"&&(Ri(n,{size:e.size}),n=Sh(n,{dir:"right"})),new TextDecoder().decode(n)}function cv(t,e){const n=typeof e=="string"?ho(e):e,r=WS(n);if(dn(n)===0&&t.length>0)throw new tv;if(dn(e)&&dn(e)<32)throw new C$({data:typeof e=="string"?e:Ir(e),params:t,size:dn(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,l]=$d(r,a,{staticPosition:0});s+=l,i.push(c)}return i}function $d(t,e,{staticPosition:n}){const r=zS(e.type);if(r){const[s,i]=r;return x9(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return T9(t,e,{staticPosition:n});if(e.type==="address")return C9(t);if(e.type==="bool")return S9(t);if(e.type.startsWith("bytes"))return A9(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return I9(t,e);if(e.type==="string")return N9(t,{staticPosition:n});throw new TB(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const eT=32,ME=32;function C9(t){const e=t.readBytes(32);return[Qg(Ir(M$(e,-20))),32]}function x9(t,e,{length:n,staticPosition:r}){if(!n){const o=Ko(t.readBytes(ME)),a=r+o,c=a+eT;t.setPosition(a);const l=Ko(t.readBytes(eT)),u=rg(e);let d=0;const h=[];for(let f=0;f<l;++f){t.setPosition(c+(u?f*32:d));const[p,g]=$d(t,e,{staticPosition:c});d+=g,h.push(p)}return t.setPosition(r+32),[h,32]}if(rg(e)){const o=Ko(t.readBytes(ME)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=$d(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=$d(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function S9(t){return[_9(t.readBytes(32),{size:32}),32]}function A9(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=Ko(t.readBytes(32));t.setPosition(n+o);const a=Ko(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Ir(c),32]}return[Ir(t.readBytes(Number.parseInt(s),32)),32]}function I9(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?b9(s,{signed:n}):Ko(s,{signed:n}),32]}function T9(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(rg(e)){const o=Ko(t.readBytes(ME)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+i);const[u,d]=$d(t,l,{staticPosition:a});i+=d,s[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=$d(t,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=l}return[s,i]}function N9(t,{staticPosition:e}){const n=Ko(t.readBytes(32)),r=e+n;t.setPosition(r);const s=Ko(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=E9(Sh(i));return t.setPosition(e+32),[o,32]}function rg(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(rg);const n=zS(t.type);return!!(n&&rg({...t,type:n[1]}))}const P9=t=>Ah(Z0(t));function k9(t){return P9(t)}const O9="1.0.8";let Js=class BE extends Error{constructor(e,n={}){var o;const r=n.cause instanceof BE?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof BE&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${O9}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function ua(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const dD=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,hD=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,fD=/^\(.+?\).*?$/,tT=/^tuple(?<array>(\[(\d*)\])*)$/;function FE(t){let e=t.type;if(tT.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=FE(i),s<n-1&&(e+=", ")}const r=ua(tT,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,FE({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function tf(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=FE(s),r!==n-1&&(e+=", ")}return e}function R9(t){var e;return t.type==="function"?`function ${t.name}(${tf(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${tf(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${tf(t.inputs)})`:t.type==="error"?`error ${t.name}(${tf(t.inputs)})`:t.type==="constructor"?`constructor(${tf(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const pD=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function $9(t){return pD.test(t)}function D9(t){return ua(pD,t)}const gD=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function j9(t){return gD.test(t)}function U9(t){return ua(gD,t)}const mD=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function L9(t){return mD.test(t)}function M9(t){return ua(mD,t)}const yD=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function wD(t){return yD.test(t)}function B9(t){return ua(yD,t)}const vD=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function F9(t){return vD.test(t)}function z9(t){return ua(vD,t)}const bD=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function q9(t){return bD.test(t)}function W9(t){return ua(bD,t)}const H9=/^receive\(\) external payable$/;function V9(t){return H9.test(t)}const G9=new Set(["indexed"]),zE=new Set(["calldata","memory","storage"]);class K9 extends Js{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Y9 extends Js{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Q9 extends Js{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class J9 extends Js{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Z9 extends Js{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class X9 extends Js{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class e7 extends Js{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Th extends Js{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class t7 extends Js{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class n7 extends Js{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class r7 extends Js{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class s7 extends Js{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function i7(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const Wb=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function o7(t,e={}){if(L9(t))return a7(t,e);if(j9(t))return c7(t,e);if($9(t))return l7(t,e);if(F9(t))return u7(t,e);if(q9(t))return d7(t);if(V9(t))return{type:"receive",stateMutability:"payable"};throw new t7({signature:t})}function a7(t,e={}){const n=M9(t);if(!n)throw new Th({signature:t,type:"function"});const r=_i(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Xl(r[a],{modifiers:zE,structs:e,type:"function"}));const o=[];if(n.returns){const a=_i(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(Xl(a[l],{modifiers:zE,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function c7(t,e={}){const n=U9(t);if(!n)throw new Th({signature:t,type:"event"});const r=_i(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Xl(r[o],{modifiers:G9,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function l7(t,e={}){const n=D9(t);if(!n)throw new Th({signature:t,type:"error"});const r=_i(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Xl(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function u7(t,e={}){const n=z9(t);if(!n)throw new Th({signature:t,type:"constructor"});const r=_i(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Xl(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function d7(t){const e=W9(t);if(!e)throw new Th({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const h7=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,f7=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,p7=/^u?int$/;function Xl(t,e){var d,h;const n=i7(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(Wb.has(n))return Wb.get(n);const r=fD.test(t),s=ua(r?f7:h7,t);if(!s)throw new Q9({param:t});if(s.name&&m7(s.name))throw new J9({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const f=_i(s.type),p=[],g=f.length;for(let y=0;y<g;y++)p.push(Xl(f[y],{structs:a}));l={components:p}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(p7.test(s.type))c=`${s.type}256`;else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!_D(c))throw new Y9({type:c});if(s.modifier){if(!((h=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&h.call(d,s.modifier)))throw new Z9({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(zE.has(s.modifier)&&!y7(c,!!s.array))throw new X9({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return Wb.set(n,u),u}function _i(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?_i(a,[...e,n.trim()]):_i(a,e,`${n}${o}`,r);case"(":return _i(a,e,`${n}${o}`,r+1);case")":return _i(a,e,`${n}${o}`,r-1);default:return _i(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new s7({current:n,depth:r});return e.push(n.trim()),e}function _D(t){return t==="address"||t==="bool"||t==="function"||t==="string"||dD.test(t)||hD.test(t)}const g7=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function m7(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||dD.test(t)||hD.test(t)||g7.test(t)}function y7(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function w7(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!wD(a))continue;const c=B9(a);if(!c)throw new Th({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const p=l[h].trim();if(!p)continue;const g=Xl(p,{type:"struct"});u.push(g)}if(!u.length)throw new n7({signature:a});e[c.name]=u}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=ED(c,e)}return r}const v7=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function ED(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(fD.test(o.type))r.push(o);else{const c=ua(v7,o.type);if(!(c!=null&&c.type))throw new e7({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new r7({type:u});r.push({...o,type:`tuple${l??""}`,components:ED(e[u]??[],e,new Set([...n,u]))})}else if(_D(u))r.push(o);else throw new K9({type:u})}}return r}function CD(t){const e=w7(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];wD(i)||n.push(o7(i,e))}return n}function b7(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new re("Unable to normalize signature.");return s}const _7=t=>{const e=typeof t=="string"?t:R9(t);return b7(e)};function xD(t){return k9(_7(t))}const ZS=xD,XS=t=>Qw(xD(t),0,4);function eA(t){const{abi:e,args:n=[],name:r}=t,s=ra(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?XS(a)===r:a.type==="event"?ZS(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?qE(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=SD(a.inputs,o.inputs,n);if(l)throw new SB({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function qE(t,e){const n=typeof t,r=e.type;switch(r){case"address":return ki(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>qE(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>qE(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function SD(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return SD(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ki(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?ki(n[r],{strict:!1}):!1)return o}}const Hb="/docs/contract/decodeFunctionResult";function tA(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=eA({abi:e,args:n,name:r});if(!a)throw new Gw(r,{docsPath:Hb});i=a}if(i.type!=="function")throw new Gw(void 0,{docsPath:Hb});if(!i.outputs)throw new xB(i.name,{docsPath:Hb});const o=cv(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const nT="/docs/contract/encodeFunctionData";function E7(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=eA({abi:e,args:n,name:r});if(!i)throw new Gw(r,{docsPath:nT});s=i}if(s.type!=="function")throw new Gw(void 0,{docsPath:nT});return{abi:[s],functionName:XS($c(s))}}function tm(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:E7(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?F$(s.inputs,e??[]):void 0;return nv([i,o??"0x"])}function nA({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new NE({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new NE({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const AD={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},C7={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},x7={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function S7(t){const{abi:e,data:n}=t,r=Qw(n,0,4);if(r==="0x")throw new tv;const i=[...e||[],C7,x7].find(o=>o.type==="error"&&r===XS($c(o)));if(!i)throw new x$(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?cv(i.inputs,Qw(n,4)):void 0,errorName:i.name}}function ID({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?xr(e[i]):e[i]}`).join(", ")})`}class A7 extends re{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:f}){var y;const p=n?Gn(n):void 0;let g=Jg({from:p==null?void 0:p.address,to:d,value:typeof h<"u"&&`${HS(h)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${ts(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ts(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${ts(l)} gwei`,nonce:u});f&&(g+=`
${XF(f)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class TD extends re{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=eA({abi:n,args:r,name:o}),l=c?ID({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?$c(c,{includeName:!0}):void 0,d=Jg({address:s&&LF(s),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class WE extends re{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=S7({abi:e,data:n});const{abiItem:u,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=AD[f]}else{const f=u?$c(u,{includeName:!0}):void 0,p=u&&h?ID({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){i=u}else s&&(c=s);let l;i instanceof x$&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class I7 extends re{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class T7 extends re{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class rA extends re{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function N7(t,e){var r,s,i,o,a,c;if(!(t instanceof re))return!1;const n=t.walk(l=>l instanceof WE);return n instanceof WE?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((i=n.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||n.reason===AD[50]):!1}function P7(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return ra(e)?e:null}function k7(t){return`[${t.slice(2)}]`}function O7(t){const e=new Uint8Array(32).fill(0);return t?P7(t)||Ah(Rd(t)):Ir(e)}function R7(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Rd(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let o=Rd(s[i]);o.byteLength>255&&(o=Rd(k7(O7(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const $7=3;function Xw(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof rA?t:t instanceof re?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:h}=a,f=t instanceof tv?new I7({functionName:i}):[$7,Zl.code].includes(c)&&(l||u||d||h)?new WE({abi:e,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof GS?u:h??d}):t;return new TD(f,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}const D7="0.1.1";function j7(){return D7}let ND=class HE extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof HE){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof HE&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${j7()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return PD(this,e)}};function PD(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?PD(t.cause,e):e?null:t}function U7(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new B7({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function Lo(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new M7({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?L7(c,r):c}function L7(t,e){return U7(t,{dir:"left",size:e})}let M7=class extends ND{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},B7=class extends ND{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function F7(t){return{address:t.address,amount:Lo(t.amount),index:Lo(t.index),validatorIndex:Lo(t.validatorIndex)}}function z7(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Lo(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Lo(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Lo(t.gasLimit)},...typeof t.number=="bigint"&&{number:Lo(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Lo(t.prevRandao)},...typeof t.time=="bigint"&&{time:Lo(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(F7)}}}const q7="0x82ad56cb",W7="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",H7="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function V7(t,{docsPath:e,...n}){const r=(()=>{const s=KS(t,n);return s instanceof iv?t:s})();return new A7(r,{docsPath:e,...n})}function sA(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const Vb=new Map;function kD({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{s&&Array.isArray(h)&&h.sort(s);for(let f=0;f<u.length;f++){const{resolve:p}=u[f];p==null||p([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:p}=u[f];p==null||p(h)}})},o=()=>Vb.delete(e),a=()=>c().map(({args:u})=>u),c=()=>Vb.get(e)||[],l=u=>Vb.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:h,reject:f}=sA();return(n==null?void 0:n([...a(),u]))&&i(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(i,r),d)}}}async function OD(t,e){var W,F,A,I;const{account:n=t.account,authorizationList:r,batch:s=!!((W=t.batch)!=null&&W.multicall),blockNumber:i,blockTag:o="latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:h,factoryData:f,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,to:E,value:_,stateOverride:x,...S}=e,T=n?Gn(n):void 0;if(u&&(h||f))throw new re("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&E)throw new re("Cannot provide both `code` & `to` as parameters.");const C=u&&d,O=h&&f&&E&&d,R=C||O,B=C?Y7({code:u,data:d}):O?Q7({data:d,factory:h,factoryData:f,to:E}):d;try{Zg(e);const N=(typeof i=="bigint"?Me(i):void 0)||o,k=l?z7(l):void 0,U=tD(x),q=(I=(A=(F=t.chain)==null?void 0:F.formatters)==null?void 0:A.transactionRequest)==null?void 0:I.format,ee=(q||ov)({...YS(S,{format:q}),from:T==null?void 0:T.address,accessList:a,authorizationList:r,blobs:c,data:B,gas:p,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,to:R?void 0:E,value:_});if(s&&G7({request:ee})&&!U&&!k)try{return await K7(t,{...ee,blockNumber:i,blockTag:o})}catch(ae){if(!(ae instanceof V$)&&!(ae instanceof NE))throw ae}const Q=(()=>{const ae=[ee,N];return U&&k?[...ae,U,k]:U?[...ae,U]:k?[...ae,{},k]:ae})(),ne=await t.request({method:"eth_call",params:Q});return ne==="0x"?{data:void 0}:{data:ne}}catch(D){const N=J7(D),{offchainLookup:k,offchainLookupSignature:U}=await cn(async()=>{const{offchainLookup:q,offchainLookupSignature:Y}=await import("./ccip-DWVoq9Ze.js");return{offchainLookup:q,offchainLookupSignature:Y}},[]);if(t.ccipRead!==!1&&(N==null?void 0:N.slice(0,10))===U&&E)return{data:await k(t,{data:N,to:E})};throw R&&(N==null?void 0:N.slice(0,10))==="0x101bb98d"?new T7({factory:h}):V7(D,{...e,account:T,chain:t.chain})}}function G7({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(q7)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function K7(t,e){var g;const{batchSize:n=1024,wait:r=0}=typeof((g=t.batch)==null?void 0:g.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:a,to:c}=e;let l=a;if(!l){if(!t.chain)throw new V$;l=nA({blockNumber:s,chain:t.chain,contract:"multicall3"})}const d=(typeof s=="bigint"?Me(s):void 0)||i,{schedule:h}=kD({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(y){return y.reduce((b,{data:v})=>b+(v.length-2),0)>n*2},fn:async y=>{const w=y.map(E=>({allowFailure:!0,callData:E.data,target:E.to})),b=tm({abi:LE,args:[w],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{data:b,to:l},d]});return tA({abi:LE,args:[w],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:f,success:p}]=await h({data:o,to:c});if(!p)throw new rA({data:f});return f==="0x"?{data:void 0}:{data:f}}function Y7(t){const{code:e,data:n}=t;return qS({abi:CD(["constructor(bytes, bytes)"]),bytecode:W7,args:[e,n]})}function Q7(t){const{data:e,factory:n,factoryData:r,to:s}=t;return qS({abi:CD(["constructor(address, bytes, address, bytes)"]),bytecode:H7,args:[s,e,n,r]})}function J7(t){var n;if(!(t instanceof re))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function iA(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=tm({abi:n,args:s,functionName:i});try{const{data:c}=await Tt(t,OD,"call")({...o,data:a,to:r});return tA({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw Xw(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function Z7(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=nA({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:v9,functionName:"reverse",args:[Ql(R7(c))],blockNumber:n,blockTag:r},u=Tt(t,iA,"readContract"),[d,h]=s?await u({...l,args:[...l.args,s]}):await u(l);return e.toLowerCase()!==h.toLowerCase()?null:d}catch(l){if(i)throw l;if(N7(l))return null;throw l}}function X7(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(n[o]=c.request)})),i=>n[i]||t.request}async function ez(t){const e=X7(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const tz=new Map,nz=new Map;function rz(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,tz),r=e(t,nz);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function sz(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=rz(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const iz=t=>`blockNumber.${t}`;async function oz(t,{cacheTime:e=t.cacheTime}={}){const n=await sz(()=>t.request({method:"eth_blockNumber"}),{cacheKey:iz(t.uid),cacheTime:e});return BigInt(n)}function RD(t,e){if(!ki(t,{strict:!1}))throw new jc({address:t});if(!ki(e,{strict:!1}))throw new jc({address:e});return t.toLowerCase()===e.toLowerCase()}const rT="/docs/contract/decodeEventLog";function az(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new CB({docsPath:rT});const c=e.find(g=>g.type==="event"&&o===ZS($c(g)));if(!(c&&"name"in c)||c.type!=="event")throw new S$(o,{docsPath:rT});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(g=>!("name"in g&&g.name)),h=d?[]:{},f=u.map((g,y)=>[g,y]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<f.length;g++){const[y,w]=f[g],b=a[g];if(!b)throw new A$({abiItem:c,param:y});h[d?w:y.name||w]=cz({param:y,value:b})}const p=u.filter(g=>!("indexed"in g&&g.indexed));if(p.length>0){if(n&&n!=="0x")try{const g=cv(p,n);if(g)if(d)for(let y=0;y<u.length;y++)h[y]=h[y]??g.shift();else for(let y=0;y<p.length;y++)h[p[y].name]=g[y]}catch(g){if(i)throw g instanceof C$||g instanceof z$?new IE({abiItem:c,data:n,params:p,size:dn(n)}):g}else if(i)throw new IE({abiItem:c,data:"0x",params:p,size:0})}return{eventName:l,args:Object.values(h).length>0?h:void 0}}function cz({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(cv([t],e)||[])[0]}function lz(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(u=>u.type==="event"&&o.topics[0]===ZS(u));if(!c)return null;const l=az({...o,abi:[c],strict:s});return i&&!i.includes(l.eventName)||!uz({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,u;if(c instanceof S$)return null;if(c instanceof IE||c instanceof A$){if(s)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function uz(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?RD(o,a):i.type==="string"||i.type==="bytes"?Ah(Z0(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,e[i])):!1}):!1}function $D(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function dz(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>$D(i));return!("abi"in e)||!e.abi?s:lz({abi:e.abi,logs:s,strict:n})}async function DD(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var u,d,h;const o=r||"latest",a=n!==void 0?Me(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Me(i)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,Me(i)]},{dedupe:!!a}),!c)throw new K$({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:h.format)||X$)(c)}const jD={"0x0":"reverted","0x1":"success"};function hz(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>$D(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?ia(t.transactionIndex):null,status:t.status?jD[t.status]:null,type:t.type?Z$[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function sT(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new Y$({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||hz)(n)}async function fz(t,e){var w;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:i,blockTag:o,multicallAddress:a,stateOverride:c}=e,l=e.contracts,u=s??(typeof((w=t.batch)==null?void 0:w.multicall)=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=nA({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=[[]];let f=0,p=0;for(let b=0;b<l.length;b++){const{abi:v,address:E,args:_,functionName:x}=l[b];try{const S=tm({abi:v,args:_,functionName:x});p+=(S.length-2)/2,u>0&&p>u&&h[f].length>0&&(f++,p=(S.length-2)/2,h[f]=[]),h[f]=[...h[f],{allowFailure:!0,callData:S,target:E}]}catch(S){const T=Xw(S,{abi:v,address:E,args:_,docsPath:"/docs/contract/multicall",functionName:x,sender:n});if(!r)throw T;h[f]=[...h[f],{allowFailure:!0,callData:"0x",target:E}]}}const g=await Promise.allSettled(h.map(b=>Tt(t,iA,"readContract")({abi:LE,account:n,address:d,args:[b],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:c}))),y=[];for(let b=0;b<g.length;b++){const v=g[b];if(v.status==="rejected"){if(!r)throw v.reason;for(let _=0;_<h[b].length;_++)y.push({status:"failure",error:v.reason,result:void 0});continue}const E=v.value;for(let _=0;_<E.length;_++){const{returnData:x,success:S}=E[_],{callData:T}=h[b][_],{abi:C,address:O,functionName:R,args:B}=l[y.length];try{if(T==="0x")throw new tv;if(!S)throw new rA({data:x});const W=tA({abi:C,args:B,data:x,functionName:R});y.push(r?{result:W,status:"success"}:W)}catch(W){const F=Xw(W,{abi:C,address:O,args:B,docsPath:"/docs/contract/multicall",functionName:R});if(!r)throw F;y.push({error:F,result:void 0,status:"failure"})}}}if(y.length!==l.length)throw new re("multicall results mismatch");return y}const ey=new rv(8192);function pz(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(ey.get(n))return ey.get(n);const r=t().finally(()=>ey.delete(n));return ey.set(n,r),r}async function e0(t){return new Promise(e=>setTimeout(e,t))}function t0(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await e0(u),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}function gz(t,e={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(l))throw new El(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new El(new Error("method not supported"),{method:l});const u=s?X0(`${c}.${xr(n)}`):void 0;return pz(()=>t0(async()=>{try{return await t(n)}catch(h){const f=h;switch(f.code){case Bp.code:throw new Bp(f);case Fp.code:throw new Fp(f);case zp.code:throw new zp(f,{method:n.method});case qp.code:throw new qp(f);case Zl.code:throw new Zl(f);case Wp.code:throw new Wp(f);case Hp.code:throw new Hp(f);case Cc.code:throw new Cc(f);case oh.code:throw new oh(f);case El.code:throw new El(f,{method:n.method});case ah.code:throw new ah(f);case Vp.code:throw new Vp(f);case vn.code:throw new vn(f);case Gp.code:throw new Gp(f);case Kp.code:throw new Kp(f);case Yp.code:throw new Yp(f);case Qp.code:throw new Qp(f);case fo.code:throw new fo(f);case ch.code:throw new ch(f);case Jp.code:throw new Jp(f);case Zp.code:throw new Zp(f);case Xp.code:throw new Xp(f);case eg.code:throw new eg(f);case tg.code:throw new tg(f);case lh.code:throw new lh(f);case 5e3:throw new vn(f);default:throw h instanceof re?h:new BF(f)}}},{delay:({count:h,error:f})=>{var p;if(f&&f instanceof Xf){const g=(p=f==null?void 0:f.headers)==null?void 0:p.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>mz(h)}),{enabled:s,id:u})}}function mz(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===ah.code||t.code===Zl.code:t instanceof Xf&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function yz(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function UD(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(e)},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function wz(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const iT=wz();function vz(t,e={}){return{async request(n){var d;const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const h=await UD(async({signal:p})=>{const g={...a,body:Array.isArray(r)?xr(r.map(v=>({jsonrpc:"2.0",id:v.id??iT.take(),...v}))):xr({jsonrpc:"2.0",id:r.id??iT.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?p:null)},y=new Request(t,g),w=await(s==null?void 0:s(y,g))??{...g,url:t};return await fetch(w.url??t,w)},{errorInstance:new G2({body:r,url:t}),timeout:o,signal:!0});i&&await i(h);let f;if((d=h.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))f=await h.json();else{f=await h.text();try{f=JSON.parse(f||"{}")}catch(p){if(h.ok)throw p;f={error:f}}}if(!h.ok)throw new Xf({body:r,details:xr(f.error)||h.statusText,headers:h.headers,status:h.status,url:t});return f}catch(h){throw h instanceof Xf||h instanceof G2?h:new Xf({body:r,cause:h,url:t})}}}}class bz extends re{constructor({domain:e}){super(`Invalid domain "${xr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class _z extends re{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Ez extends re{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Cz(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(c,l)=>{const u={...l};for(const d of c){const{name:h,type:f}=d;f==="address"&&(u[h]=u[h].toLowerCase())}return u},o=s.EIP712Domain?e?i(s.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return xr({domain:o,message:a,primaryType:r,types:s})}function xz(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(o,a)=>{for(const c of o){const{name:l,type:u}=c,d=a[l],h=u.match(B$);if(h&&(typeof d=="number"||typeof d=="bigint")){const[g,y,w]=h;Me(d,{signed:y==="int",size:Number.parseInt(w)/8})}if(u==="address"&&typeof d=="string"&&!ki(d))throw new jc({address:d});const f=u.match(lF);if(f){const[g,y]=f;if(y&&dn(d)!==Number.parseInt(y))throw new AB({expectedSize:Number.parseInt(y),givenSize:dn(d)})}const p=s[u];p&&(Az(u),i(p,d))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new bz({domain:e});i(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new _z({primaryType:r,types:s})}function Sz({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Az(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Ez({type:t})}class Iz extends re{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Tz(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new Iz({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}const Gb=new Map,oT=new Map;let Nz=0;function sg(t,e,n){const r=++Nz,s=()=>Gb.get(t)||[],i=()=>{const u=s();Gb.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=s();if(!u.some(h=>h.id===r))return;const d=oT.get(t);if(u.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}i()},a=s();if(Gb.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...d)=>{var f,p;const h=s();if(h.length!==0)for(const g of h)(p=(f=g.fns)[u])==null||p.call(f,...d)};const l=n(c);return typeof l=="function"&&oT.set(t,l),o}function oA(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await e0(c);const l=async()=>{s&&(await t({unpoll:i}),await e0(r),l())};l()})(),i}function Pz(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=xr(["watchBlockNumber",t.uid,e,n,o]);return sg(d,{onBlockNumber:r,onError:s},h=>oA(async()=>{var f;try{const p=await Tt(t,oz,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let g=c+1n;g<p;g++)h.onBlockNumber(g,c),c=g}(!c||p>c)&&(h.onBlockNumber(p,c),c=p)}catch(p){(f=h.onError)==null||f.call(h,p)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=xr(["watchBlockNumber",t.uid,e,n]);return sg(d,{onBlockNumber:r,onError:s},h=>{let f=!0,p=()=>f=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),{unsubscribe:y}=await g.subscribe({params:["newHeads"],onData(w){var v;if(!f)return;const b=sa((v=w.result)==null?void 0:v.number);h.onBlockNumber(b,c),c=b},onError(w){var b;(b=h.onError)==null||b.call(h,w)}});p=y,f||p()}catch(g){s==null||s(g)}})(),()=>p()})})()}async function kz(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Oz(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=xr(["watchPendingTransactions",t.uid,e,i]);return sg(l,{onTransactions:r,onError:n},u=>{let d;const h=oA(async()=>{var f;try{if(!d)try{d=await Tt(t,ez,"createPendingTransactionFilter")({});return}catch(g){throw h(),g}const p=await Tt(t,dz,"getFilterChanges")({filter:d});if(p.length===0)return;if(e)u.onTransactions(p);else for(const g of p)u.onTransactions([g])}catch(p){(f=u.onError)==null||f.call(u,p)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await Tt(t,kz,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const f=h.result;r([f])},onError(h){n==null||n(h)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}async function Rz(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Qg(r))}async function $z(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Dz(t,e={}){const{account:n=t.account,chainId:r}=e,s=n?Gn(n):void 0,i=r?[s==null?void 0:s.address,[Me(r)]]:[s==null?void 0:s.address],o=await t.request({method:"wallet_getCapabilities",params:i}),a={};for(const[c,l]of Object.entries(o)){a[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=d}return typeof r=="number"?a[r]:a}const LD="0x5792579257925792579257925792579257925792579257925792579257925792",MD=Me(0,{size:32});async function jz(t,e){const{account:n=t.account,capabilities:r,chain:s=t.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=e,u=n?Gn(n):null,d=e.calls.map(h=>{const f=h,p=f.abi?tm({abi:f.abi,functionName:f.functionName,args:f.args}):f.data;return{data:f.dataSuffix&&p?Dc([p,f.dataSuffix]):p,to:f.to,value:f.value?Me(f.value):void 0}});try{const h=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:Me(s.id),from:u==null?void 0:u.address,id:c,version:l}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const f=h;if(i&&(f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError"||f.name==="UnknownRpcError"||f.details.toLowerCase().includes("does not exist / is not available")||f.details.toLowerCase().includes("missing or invalid. request()")||f.details.toLowerCase().includes("did not match any variant of untagged enum")||f.details.toLowerCase().includes("account upgraded to unsupported contract")||f.details.toLowerCase().includes("eip-7702 not supported")||f.details.toLowerCase().includes("unsupported wc_ method"))){if(r&&Object.values(r).some(b=>!b.optional)){const b="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new ch(new re(b,{details:b}))}if(a&&d.length>1){const w="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new lh(new re(w,{details:w}))}const p=[];for(const w of d){const b=em(t,{account:u,chain:s,data:w.data,to:w.to,value:w.value?sa(w.value):void 0});p.push(b),o>0&&await new Promise(v=>setTimeout(v,o))}const g=await Promise.allSettled(p);if(g.every(w=>w.status==="rejected"))throw g[0].reason;const y=g.map(w=>w.status==="fulfilled"?w.value:MD);return{id:Dc([...y,Me(s.id,{size:32}),LD])}}throw Q$(h,{...e,account:u,chain:e.chain})}}async function BD(t,e){async function n(u){if(u.endsWith(LD.slice(2))){const h=Sh(TE(u,-64,-32)),f=TE(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(f.map(y=>MD.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),g=p.some(y=>y===null)?100:p.every(y=>(y==null?void 0:y.status)==="0x1")?200:p.every(y=>(y==null?void 0:y.status)==="0x0")?500:600;return{atomic:!1,chainId:ia(h),receipts:p.filter(Boolean),status:g,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(e.id),[c,l]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:s?ia(s):void 0,receipts:(i==null?void 0:i.map(u=>({...u,blockNumber:sa(u.blockNumber),gasUsed:sa(u.gasUsed),status:jD[u.status]})))??[],statusCode:l,status:c,version:o}}async function Uz(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function Lz(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:h})=>h>=200,timeout:i=6e4}=e,o=xr(["waitForCallsStatus",t.uid,n]),{promise:a,resolve:c,reject:l}=sA();let u;const d=sg(o,{resolve:c,reject:l},h=>{const f=oA(async()=>{const p=g=>{clearTimeout(u),f(),g(),d()};try{const g=await BD(t,{id:n});if(!s(g))return;p(()=>h.resolve(g))}catch(g){p(()=>h.reject(g))}},{interval:r,emitOnBegin:!0});return f});return u=i?setTimeout(()=>{d(),clearTimeout(u),l(new Mz({id:n}))},i):void 0,await a}class Mz extends re{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function Bz(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=xr(["waitForTransactionReceipt",t.uid,n]);let l,u,d,h=!1,f,p;const{promise:g,resolve:y,reject:w}=sA(),b=a?setTimeout(()=>{p(),f(),w(new UF({hash:n}))},a):void 0;return f=sg(c,{onReplaced:r,resolve:y,reject:w},v=>{p=Tt(t,Pz,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(E){const _=S=>{clearTimeout(b),p(),S(),f()};let x=E;if(!h)try{if(d){if(e>1&&(!d.blockNumber||x-d.blockNumber+1n<e))return;_(()=>v.resolve(d));return}if(l||(h=!0,await t0(async()=>{l=await Tt(t,DD,"getTransaction")({hash:n}),l.blockNumber&&(x=l.blockNumber)},{delay:o,retryCount:i}),h=!1),d=await Tt(t,sT,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||x-d.blockNumber+1n<e))return;_(()=>v.resolve(d))}catch(S){if(S instanceof K$||S instanceof Y$){if(!l){h=!1;return}try{u=l,h=!0;const T=await t0(()=>Tt(t,ng,"getBlock")({blockNumber:x,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:R})=>R instanceof J$});h=!1;const C=T.transactions.find(({from:R,nonce:B})=>R===u.from&&B===u.nonce);if(!C||(d=await Tt(t,sT,"getTransactionReceipt")({hash:C.hash}),e>1&&(!d.blockNumber||x-d.blockNumber+1n<e)))return;let O="replaced";C.to===u.to&&C.value===u.value&&C.input===u.input?O="repriced":C.from===C.to&&C.value===0n&&(O="cancelled"),_(()=>{var R;(R=v.onReplaced)==null||R.call(v,{reason:O,replacedTransaction:u,transaction:C,transactionReceipt:d}),v.resolve(d)})}catch(T){_(()=>v.reject(T))}}else _(()=>v.reject(S))}}})}),g}async function Fz(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>lc(n))}async function zz(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function FD(t,e){var c;const{account:n=t.account,chainId:r,nonce:s}=e;if(!n)throw new yu({docsPath:"/docs/eip7702/prepareAuthorization"});const i=Gn(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Gn(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await Tt(t,Xg,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await Tt(t,sD,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&RD(o.address,i.address))&&(a.nonce+=1)),a}async function qz(t,e){const{account:n=t.account}=e;if(!n)throw new yu({docsPath:"/docs/eip7702/signAuthorization"});const r=Gn(n);if(!r.signAuthorization)throw new sw({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await FD(t,e);return r.signAuthorization(s)}async function Wz(t,e){var l,u,d,h;const{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new yu({docsPath:"/docs/actions/wallet/signTransaction"});const i=Gn(n);Zg({account:i,...e});const o=await Tt(t,Xg,"getChainId")({});r!==null&&G$({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=t.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||ov;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:(h=(d=t.chain)==null?void 0:d.serializers)==null?void 0:h.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(s),chainId:Me(o),from:i.address}]},{retryCount:0})}async function zD(t,{account:e=t.account,message:n}){if(!e)throw new yu({docsPath:"/docs/actions/wallet/signMessage"});const r=Gn(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?X0(n):n.raw instanceof Uint8Array?Ql(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function Hz(t,e){const{account:n=t.account,domain:r,message:s,primaryType:i}=e;if(!n)throw new yu({docsPath:"/docs/actions/wallet/signTypedData"});const o=Gn(n),a={EIP712Domain:Sz({domain:r}),...e.types};if(xz({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=Cz({domain:r,message:s,primaryType:i,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function Vz(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Me(e)}]},{retryCount:0})}async function Gz(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function qD(t,e){const{abi:n,account:r=t.account,address:s,args:i,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new yu({docsPath:"/docs/contract/writeContract"});const l=r?Gn(r):null,u=tm({abi:n,args:i,functionName:a});try{return await Tt(t,em,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:s,account:l,...c})}catch(d){throw Xw(d,{abi:n,address:s,args:i,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}function vs(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const iw="2.17.3",Kz=()=>`@wagmi/core@${iw}`;var WD=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},n0,HD;let da=class VE extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Kz()}constructor(e,n={}){var i;super(),n0.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof VE?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof VE&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return WD(this,n0,"m",HD).call(this,this,e)}};n0=new WeakSet,HD=function t(e,n){return n!=null&&n(e)?e:e.cause?WD(this,n0,"m",t).call(this,e.cause,n):e};class ig extends da{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class Yz extends da{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class Qz extends da{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class Jz extends da{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class Zz extends da{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class Xz extends da{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function ow(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new Yz;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await n.connect(i),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(s){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}const GE=256;let ty=GE,ny;function VD(t=11){if(!ny||ty+t>GE*2){ny="",ty=0;for(let e=0;e<GE;e++)ny+=(256+Math.random()*256|0).toString(16).substring(1)}return ny.substring(ty,ty+++t)}function GD(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,a=(n==null?void 0:n.blockTime)??12e3,c=Math.min(Math.max(Math.floor(a/2),500),4e3),l=t.pollingInterval??c,u=t.cacheTime??l,d=t.account?Gn(t.account):void 0,{config:h,request:f,value:p}=t.transport({chain:n,pollingInterval:l}),g={...h,...p},y={account:d,batch:e,cacheTime:u,ccipRead:r,chain:n,key:s,name:i,pollingInterval:l,request:f,transport:g,type:o,uid:VD()};function w(b){return v=>{const E=v(b);for(const x in y)delete E[x];const _={...b,...E};return Object.assign(_,{extend:w(_)})}}return Object.assign(y,{extend:w(y)})}function aA({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=VD();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:gz(r,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}function eq(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>aA({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}function aT(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=tq,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let h=t,f=()=>{};const p=aA({key:n,name:r,async request({method:g,params:y}){let w;const b=async(v=0)=>{const E=h[v]({...d,chain:c,retryCount:0,timeout:u});try{const _=await E.request({method:g,params:y});return f({method:g,params:y,response:_,transport:E,status:"success"}),_}catch(_){if(f({error:_,method:g,params:y,transport:E,status:"error"}),i(_)||v===h.length-1||(w??(w=h.slice(v+1).some(x=>{const{include:S,exclude:T}=x({chain:c}).config.methods||{};return S?S.includes(g):T?!T.includes(g):!0})),!w))throw _;return b(v+1)}};return b()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>f=g,transports:h.map(g=>g({chain:c,retryCount:0}))});if(s){const g=typeof s=="object"?s:{};nq({chain:c,interval:g.interval??l,onTransports:y=>h=y,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:h,weights:g.weights})}return p}}function tq(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===oh.code||t.code===vn.code||_l.nodeMessage.test(t.message)||t.code===5e3))}function nq({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const h=await Promise.all(o.map(async g=>{const y=g({chain:t,retryCount:0,timeout:i}),w=Date.now();let b,v;try{await(r?r({transport:y}):y.request({method:"net_listening"})),v=1}catch{v=0}finally{b=Date.now()}return{latency:b-w,success:v}}));u.push(h),u.length>s&&u.shift();const f=Math.max(...u.map(g=>Math.max(...g.map(({latency:y})=>y)))),p=o.map((g,y)=>{const w=u.map(x=>x[y].latency),v=1-w.reduce((x,S)=>x+S,0)/w.length/f,E=u.map(x=>x[y].success),_=E.reduce((x,S)=>x+S,0)/E.length;return _===0?[0,y]:[l*v+c*_,y]}).sort((g,y)=>y[0]-g[0]);n(p.map(([,g])=>o[g])),await e0(e),d()};d()}class rq extends re{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function ry(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:h,timeout:f})=>{const{batchSize:p=1e3,wait:g=0}=typeof n=="object"?n:{},y=e.retryCount??h,w=f??e.timeout??1e4,b=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!b)throw new rq;const v=vz(b,{fetchOptions:r,onRequest:a,onResponse:c,timeout:w});return aA({key:s,methods:i,name:o,async request({method:E,params:_}){const x={method:E,params:_},{schedule:S}=kD({id:b,wait:g,shouldSplitBatch(R){return R.length>p},fn:R=>v.request({body:R}),sort:(R,B)=>R.id-B.id}),T=async R=>n?S(R):[await v.request({body:R})],[{error:C,result:O}]=await T(x);if(u)return{error:C,result:O};if(C)throw new GS({body:x,error:C,url:b});return O},retryCount:y,retryDelay:l,timeout:w,type:"http"},{fetchOptions:r,url:b})}}function sq(t){return{addChain:e=>yB(t,e),deployContract:e=>y9(t,e),getAddresses:()=>Rz(t),getCallsStatus:e=>BD(t,e),getCapabilities:e=>Dz(t,e),getChainId:()=>Xg(t),getPermissions:()=>$z(t),prepareAuthorization:e=>FD(t,e),prepareTransactionRequest:e=>av(t,e),requestAddresses:()=>Fz(t),requestPermissions:e=>zz(t,e),sendCalls:e=>jz(t,e),sendRawTransaction:e=>uD(t,e),sendTransaction:e=>em(t,e),showCallsStatus:e=>Uz(t,e),signAuthorization:e=>qz(t,e),signMessage:e=>zD(t,e),signTransaction:e=>Wz(t,e),signTypedData:e=>Hz(t,e),switchChain:e=>Vz(t,e),waitForCallsStatus:e=>Lz(t,e),watchAsset:e=>Gz(t,e),writeContract:e=>qD(t,e)}}async function nm(t,e={}){let n;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new Xz({connector:l});const[u,d]=await Promise.all([l.getAccounts().catch(h=>{if(e.account===null)return[];throw h}),l.getChainId()]);n={accounts:u,chainId:d,connector:l}}else n=t.state.connections.get(t.state.current);if(!n)throw new Qz;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new Zz({connectionChainId:n.chainId,connectorChainId:s});const i=n.connector;if(i.getClient)return i.getClient({chainId:r});const o=Gn(e.account??n.accounts[0]);if(o&&(o.address=lc(o.address)),e.account&&!n.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new Jz({address:o.address,connector:i});const a=t.chains.find(l=>l.id===r),c=await n.connector.getProvider({chainId:r});return GD({account:o,chain:a,name:"Connector Client",transport:l=>eq(c)({...l,retryCount:0})})}async function KD(t,e={}){var s,i;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(s=t.state.connections.get(o))==null?void 0:s.connector;if(!a)return;await((i=t.storage)==null?void 0:i.setItem("recentConnectorId",a.id))}}async function iq(t,e){const{chainId:n,connector:r,...s}=e;let i;e.account?i=e.account:i=(await nm(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return vs(o,rD,"estimateGas")({...s,account:i})}function YD(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(RF[t])}function Dd(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function oq(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=e,o=t.getClient({chainId:r});return vs(o,fz,"multicall")({allowFailure:n,contracts:s,...i})}function aq(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return vs(s,iA,"readContract")(r)}async function cq(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=e,o=e.contracts;try{const c={};for(const[h,f]of o.entries()){const p=f.chainId??t.state.chainId;c[p]||(c[p]=[]),(a=c[p])==null||a.push({contract:f,index:h})}const l=()=>Object.entries(c).map(([h,f])=>oq(t,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(h),contracts:f.map(({contract:p})=>p)})),u=(await Promise.all(l())).flat(),d=Object.values(c).flatMap(h=>h.map(({index:f})=>f));return u.reduce((h,f,p)=>(h&&(h[d[p]]=f),h),[])}catch(c){if(c instanceof TD)throw c;const l=()=>o.map(u=>aq(t,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(l())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function lq(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=e;if(o)try{return await cT(t,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(h){if(h.name==="ContractFunctionExecutionError"){const f=await cT(t,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),p=_$(Sh(f.symbol,{dir:"right"}));return{...f,symbol:p}}throw h}const c=t.getClient({chainId:i}),u=await vs(c,nD,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=t.chains.find(h=>h.id===i)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:Ih(u,YD(a)),symbol:d.nativeCurrency.symbol,value:u}}async function cT(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,l,u]=await cq(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=Ih(c??"0",YD(o??l));return{decimals:l,formatted:d,symbol:u,value:c}}function lT(t){return t.state.chainId}function eu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!eu(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!eu(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let sy=[];function Qi(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||eu(sy,e)?sy:(sy=e,e)}let Kb=[];function uT(t){const e=t.connectors;return eu(Kb,e)?Kb:(Kb=e,e)}function uq(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return vs(s,Z7,"getEnsName")(r)}async function dq(t,e={}){return(await nm(t,e)).extend(sq)}async function hq(t,e){const{account:n,chainId:r,...s}=e,i=n??Dd(t).address,o=t.getClient({chainId:r});return vs(o,av,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}let Yb=!1;async function KE(t,e={}){var l,u;if(Yb)return[];Yb=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const d of e.connectors){let h;typeof d=="function"?h=t._internal.connectors.setup(d):h=d,n.push(h)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of t.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,h)=>(s[d.id]??10)-(s[h.id]??10)):n;let o=!1;const a=[],c=[];for(const d of i){const h=await d.getProvider().catch(()=>{});if(!h||c.some(g=>g===h)||!await d.isAuthorized())continue;const p=await d.connect({isReconnecting:!0}).catch(()=>null);p&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(g=>{const y=new Map(o?g.connections:new Map).set(d.uid,{accounts:p.accounts,chainId:p.chainId,connector:d});return{...g,current:o?g.current:d.uid,connections:y}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:d}),c.push(h),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),Yb=!1,a}async function fq(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await nm(t,{account:n??void 0,chainId:r,connector:s}),await vs(o,em,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function pq(t,e){const{account:n,connector:r,...s}=e;let i;return typeof n=="object"&&n.type==="local"?i=t.getClient():i=await nm(t,{account:n,connector:r}),vs(i,zD,"signMessage")({...s,...n?{account:n}:{}})}class La extends da{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class gq extends da{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function dT(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new gq({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const i=t.chains.find(a=>a.id===r);if(!i)throw new ig;return t.setState(a=>({...a,chainId:r})),i}function QD(t,e){const{onChange:n}=e;return t.subscribe(()=>Dd(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return eu(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function mq(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function yq(t,e){const{onChange:n}=e;return t.subscribe(()=>Qi(t),n,{equalityFn:eu})}function JD(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function wq(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const i=c=>{s&&s();const l=t.getClient({chainId:c});return s=vs(l,Oz,"watchPendingTransactions")(r),s},o=i(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>i(c))),()=>{o==null||o(),a==null||a()}}async function vq(t,e){const{chainId:n,timeout:r=0,...s}=e,i=t.getClient({chainId:n}),a=await vs(i,Bz,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const l=await vs(i,DD,"getTransaction")({hash:a.transactionHash}),d=await vs(i,OD,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),h=d!=null&&d.data?_$(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...a,chainId:i.chain.id}}async function bq(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await nm(t,{account:n??void 0,chainId:r,connector:s}),await vs(o,qD,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function U_e(t){return t}lv.type="injected";function lv(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{..._q[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:lv.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)))},async connect({chainId:l,isReconnecting:u}={}){var f,p,g,y,w,b;const d=await this.getProvider();if(!d)throw new La;let h=[];if(u)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(y=(g=(p=(f=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:f.caveats)==null?void 0:p[0])==null?void 0:g.value)==null?void 0:y.map(E=>lc(E)),h.length>0&&(h=await this.getAccounts())}catch(v){const E=v;if(E.code===vn.code)throw new vn(E);if(E.code===Cc.code)throw E}try{!(h!=null&&h.length)&&!u&&(h=(await d.request({method:"eth_requestAccounts"})).map(_=>lc(_))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let v=await this.getChainId();if(l&&v!==l){const E=await this.switchChain({chainId:l}).catch(_=>{if(_.code===vn.code)throw _;return{id:v}});v=(E==null?void 0:E.id)??v}return e&&await((w=c.storage)==null?void 0:w.removeItem(`${this.id}.disconnected`)),t.target||await((b=c.storage)==null?void 0:b.setItem("injected.connected",!0)),{accounts:h,chainId:v}}catch(v){const E=v;throw E.code===vn.code?new vn(E):E.code===Cc.code?new Cc(E):E}},async disconnect(){var u,d;const l=await this.getProvider();if(!l)throw new La;i&&(l.removeListener("chainChanged",i),i=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await UD(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new La;return(await l.request({method:"eth_accounts"})).map(d=>lc(d))},async getChainId(){const l=await this.getProvider();if(!l)throw new La;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=aw(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),g=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(w=>window.addEventListener("ethereum#initialized",()=>w(p()),{once:!0}))]:[],new Promise(w=>setTimeout(()=>w(p()),g))]))return!0}throw new La}return!!(await t0(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var p,g,y,w;const d=await this.getProvider();if(!d)throw new La;const h=c.chains.find(b=>b.id===u);if(!h)throw new fo(new ig);const f=new Promise(b=>{const v=E=>{"chainId"in E&&E.chainId===u&&(c.emitter.off("change",v),b())};c.emitter.on("change",v)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:Me(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),f]),h}catch(b){const v=b;if(v.code===4902||((g=(p=v==null?void 0:v.data)==null?void 0:p.originalError)==null?void 0:g.code)===4902)try{const{default:E,..._}=h.blockExplorers??{};let x;l!=null&&l.blockExplorerUrls?x=l.blockExplorerUrls:E&&(x=[E.url,...Object.values(_).map(C=>C.url)]);let S;(y=l==null?void 0:l.rpcUrls)!=null&&y.length?S=l.rpcUrls:S=[((w=h.rpcUrls.default)==null?void 0:w.http[0])??""];const T={blockExplorerUrls:x,chainId:Me(u),chainName:(l==null?void 0:l.chainName)??h.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??h.nativeCurrency,rpcUrls:S};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[T]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new vn(new Error("User rejected switch after adding network."))}),f]),h}catch(E){throw new vn(E)}throw v.code===vn.code?new vn(v):new fo(v)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(d=>lc(d))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const d=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:d});const h=await this.getProvider();h&&(o&&(h.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const _q={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:aw(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return aw(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:aw(t,"isPhantom")}}};function aw(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Eq(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Cq(){const t=new Set;let e=[];const n=()=>Eq(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const xq=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=h=>{const f=o(h);if(!u(d,f)){const p=d;a(d=f,p)}},c!=null&&c.fireImmediately&&a(d,d)}return s(l)},t(e,n,r)},Sq=xq;function Aq(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const YE=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return YE(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return YE(r)(n)}}}},Iq=(t,e)=>(n,r,s)=>{let i={storage:Aq(()=>localStorage),partialize:g=>g,version:0,merge:(g,y)=>({...y,...g}),...e},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...g)},r,s);const u=()=>{const g=i.partialize({...r()});return l.setItem(i.name,{state:g,version:i.version})},d=s.setState;s.setState=(g,y)=>{d(g,y),u()};const h=t((...g)=>{n(...g),u()},r,s);s.getInitialState=()=>h;let f;const p=()=>{var g,y;if(!l)return;o=!1,a.forEach(b=>{var v;return b((v=r())!=null?v:h)});const w=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(g=r())!=null?g:h))||void 0;return YE(l.getItem.bind(l))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var v;const[E,_]=b;if(f=i.merge(_,(v=r())!=null?v:h),n(f,!0),E)return u()}).then(()=>{w==null||w(f,void 0),f=r(),o=!0,c.forEach(b=>b(f))}).catch(b=>{w==null||w(void 0,b)})};return s.persist={setOptions:g=>{i={...i,...g},g.storage&&(l=g.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},i.skipHydration||p(),f||h},Tq=Iq,hT=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,s,a);return a},Qb=t=>t?hT(t):hT;var ZD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new s(u,d||c,h),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,h,f,p){var g=n?n+l:l;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,b,v;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,f),!0;case 6:return y.fn.call(y.context,u,d,h,f,p),!0}for(v=1,b=new Array(w-1);v<w;v++)b[v-1]=arguments[v];y.fn.apply(y.context,b)}else{var E=y.length,_;for(v=0;v<E;v++)switch(y[v].once&&this.removeListener(l,y[v].fn,void 0,!0),w){case 1:y[v].fn.call(y[v].context);break;case 2:y[v].fn.call(y[v].context,u);break;case 3:y[v].fn.call(y[v].context,u,d);break;case 4:y[v].fn.call(y[v].context,u,d,h);break;default:if(!b)for(_=1,b=new Array(w-1);_<w;_++)b[_-1]=arguments[_];y[v].fn.apply(y[v].context,b)}}return!0},a.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,h){var f=n?n+l:l;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var g=0,y=[],w=p.length;g<w;g++)(p[g].fn!==u||h&&!p[g].once||d&&p[g].context!==d)&&y.push(p[g]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(ZD);var Nq=ZD.exports;const Pq=pu(Nq);class kq{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Pq})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function Oq(t){return new kq(t)}function Rq(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function fT(t,e){return t.slice(0,e).join(".")||"."}function pT(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function $q(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const l=pT(s,this);l===0?s[s.length]=this:(s.splice(l),i.splice(l)),i[i.length]=a;const u=pT(s,c);if(u!==0)return r?e.call(this,a,c,fT(i,u)):`[ref=${fT(i,u)}]`}else s[0]=c,i[0]=a;return n?t.call(this,a,c):c}}function Dq(t,e,n,r){return JSON.stringify(t,$q((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),n??void 0)}function jq(t){const{deserialize:e=Rq,key:n="wagmi",serialize:r=Dq,storage:s=XD}=t;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),l=await i(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const XD={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Uq(){const t=typeof window<"u"&&window.localStorage?window.localStorage:XD;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const QE=256;let iy=QE,oy;function Lq(t=11){if(!oy||iy+t>QE*2){oy="",iy=0;for(let e=0;e<QE;e++)oy+=(256+Math.random()*256|0).toString(16).substring(1)}return oy.substring(iy,iy+++t)}function Mq(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=jq({storage:Uq()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?Cq():void 0,a=Qb(()=>i.chains),c=Qb(()=>{const _=[],x=new Set;for(const S of i.connectors??[]){const T=l(S);if(_.push(T),!s&&T.rdns){const C=typeof T.rdns=="string"?[T.rdns]:T.rdns;for(const O of C)x.add(O)}}if(!s&&o){const S=o.getProviders();for(const T of S)x.has(T.info.rdns)||_.push(l(u(T)))}return _});function l(_){var T;const x=Oq(Lq()),S={..._({emitter:x,chains:a.getState(),storage:n,transports:i.transports}),emitter:x,uid:x.uid};return x.on("connect",v),(T=S.setup)==null||T.call(S),S}function u(_){const{info:x}=_,S=_.provider;return lv({target:{...x,id:x.rdns,provider:S}})}const d=new Map;function h(_={}){const x=_.chainId??y.getState().chainId,S=a.getState().find(C=>C.id===x);if(_.chainId&&!S)throw new ig;{const C=d.get(y.getState().chainId);if(C&&!S)return C;if(!S)throw new ig}{const C=d.get(x);if(C)return C}let T;if(i.client)T=i.client({chain:S});else{const C=S.id,O=a.getState().map(W=>W.id),R={},B=Object.entries(i);for(const[W,F]of B)if(!(W==="chains"||W==="client"||W==="connectors"||W==="transports"))if(typeof F=="object")if(C in F)R[W]=F[C];else{if(O.some(I=>I in F))continue;R[W]=F}else R[W]=F;T=GD({...R,chain:S,batch:R.batch??{multicall:!0},transport:W=>i.transports[C]({...W,connectors:c})})}return d.set(x,T),T}function f(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const g="0.0.0-canary-";iw.startsWith(g)?p=Number.parseInt(iw.replace(g,"")):p=Number.parseInt(iw.split(".")[0]??"0");const y=Qb(Sq(n?Tq(f,{migrate(_,x){if(x===p)return _;const S=f(),T=w(_,S.chainId);return{...S,chainId:T}},name:"store",partialize(_){return{connections:{__type:"Map",value:Array.from(_.connections.entries()).map(([x,S])=>{const{id:T,name:C,type:O,uid:R}=S.connector;return[x,{...S,connector:{id:T,name:C,type:O,uid:R}}]})},chainId:_.chainId,current:_.current}},merge(_,x){typeof _=="object"&&_&&"status"in _&&delete _.status;const S=w(_,x.chainId);return{...x,..._,chainId:S}},skipHydration:s,storage:n,version:p}):f));y.setState(f());function w(_,x){return _&&typeof _=="object"&&"chainId"in _&&typeof _.chainId=="number"&&a.getState().some(S=>S.id===_.chainId)?_.chainId:x}r&&y.subscribe(({connections:_,current:x})=>{var S;return x?(S=_.get(x))==null?void 0:S.chainId:void 0},_=>{if(a.getState().some(S=>S.id===_))return y.setState(S=>({...S,chainId:_??S.chainId}))}),o==null||o.subscribe(_=>{const x=new Set,S=new Set;for(const C of c.getState())if(x.add(C.id),C.rdns){const O=typeof C.rdns=="string"?[C.rdns]:C.rdns;for(const R of O)S.add(R)}const T=[];for(const C of _){if(S.has(C.info.rdns))continue;const O=l(u(C));x.has(O.id)||T.push(O)}n&&!y.persist.hasHydrated()||c.setState(C=>[...C,...T],!0)});function b(_){y.setState(x=>{const S=x.connections.get(_.uid);return S?{...x,connections:new Map(x.connections).set(_.uid,{accounts:_.accounts??S.accounts,chainId:_.chainId??S.chainId,connector:S.connector})}:x})}function v(_){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(x=>{const S=c.getState().find(T=>T.uid===_.uid);return S?(S.emitter.listenerCount("connect")&&S.emitter.off("connect",b),S.emitter.listenerCount("change")||S.emitter.on("change",b),S.emitter.listenerCount("disconnect")||S.emitter.on("disconnect",E),{...x,connections:new Map(x.connections).set(_.uid,{accounts:_.accounts,chainId:_.chainId,connector:S}),current:_.uid,status:"connected"}):x})}function E(_){y.setState(x=>{const S=x.connections.get(_.uid);if(S){const C=S.connector;C.emitter.listenerCount("change")&&S.connector.emitter.off("change",b),C.emitter.listenerCount("disconnect")&&S.connector.emitter.off("disconnect",E),C.emitter.listenerCount("connect")||S.connector.emitter.on("connect",v)}if(x.connections.delete(_.uid),x.connections.size===0)return{...x,connections:new Map,current:null,status:"disconnected"};const T=x.connections.values().next().value;return{...x,connections:new Map(x.connections),current:T.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:h,get state(){return y.getState()},setState(_){let x;typeof _=="function"?x=_(y.getState()):x=_;const S=f();typeof x!="object"&&(x=S),Object.keys(S).some(C=>!(C in x))&&(x=S),y.setState(x,!0)},subscribe(_,x,S){return y.subscribe(_,x,S?{...S,fireImmediately:S.emitImmediately}:void 0)},_internal:{mipd:o,store:y,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(_){const x=typeof _=="function"?_(a.getState()):_;if(x.length!==0)return a.setState(x,!0)},subscribe(_){return a.subscribe(_)}},connectors:{providerDetailToConnector:u,setup:l,setState(_){return c.setState(typeof _=="function"?_(c.getState()):_,!0)},subscribe(_){return c.subscribe(_)}},events:{change:b,connect:v,disconnect:E}}}}function Bq(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var c;const i=new Set;for(const l of s??[])if(l.rdns){const u=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const d of u)i.add(d)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(i.has(l.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(l),d=t._internal.connectors.setup(u);o.push(d)}return[...s,...o]})),r?KE(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function Fq(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:i}=Bq(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=M.useRef(!0);return M.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),e}const e5=M.createContext(void 0);function zq(t){const{children:e,config:n}=t,r={value:n};return M.createElement(Fq,t,M.createElement(e5.Provider,r,e))}const qq="2.15.6",Wq=()=>`wagmi@${qq}`;let Hq=class extends da{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Wq()}};class Vq extends Hq{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Gc(t={}){const e=t.config??M.useContext(e5);if(!e)throw new Vq;return e}var t5={exports:{}},n5={},r5={exports:{}},s5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh=M;function Gq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kq=typeof Object.is=="function"?Object.is:Gq,Yq=uh.useState,Qq=uh.useEffect,Jq=uh.useLayoutEffect,Zq=uh.useDebugValue;function Xq(t,e){var n=e(),r=Yq({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Jq(function(){s.value=n,s.getSnapshot=e,Jb(s)&&i({inst:s})},[t,n,e]),Qq(function(){return Jb(s)&&i({inst:s}),t(function(){Jb(s)&&i({inst:s})})},[t]),Zq(n),n}function Jb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kq(t,n)}catch{return!0}}function eW(t,e){return e()}var tW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eW:Xq;s5.useSyncExternalStore=uh.useSyncExternalStore!==void 0?uh.useSyncExternalStore:tW;r5.exports=s5;var nW=r5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv=M,rW=nW;function sW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iW=typeof Object.is=="function"?Object.is:sW,oW=rW.useSyncExternalStore,aW=uv.useRef,cW=uv.useEffect,lW=uv.useMemo,uW=uv.useDebugValue;n5.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=aW(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=lW(function(){function c(f){if(!l){if(l=!0,u=f,f=r(f),s!==void 0&&o.hasValue){var p=o.value;if(s(p,f))return d=p}return d=f}if(p=d,iW(u,f))return p;var g=r(f);return s!==void 0&&s(p,g)?(u=f,p):(u=f,d=g)}var l=!1,u,d,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,s]);var a=oW(t,i[0],i[1]);return cW(function(){o.hasValue=!0,o.value=a},[a]),uW(a),a};t5.exports=n5;var dW=t5.exports;const Zb=t=>typeof t=="object"&&!Array.isArray(t);function hW(t,e,n=e,r=eu){const s=M.useRef([]),i=dW.useSyncExternalStoreWithSelector(t,e,n,o=>o,(o,a)=>{if(Zb(o)&&Zb(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return M.useMemo(()=>{if(Zb(i)){const o={...i};let a={};for(const[c,l]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),l)}};return Object.defineProperties(o,a),o}return i},[i])}function dv(t={}){const e=Gc(t);return hW(n=>QD(e,{onChange:n}),()=>Dd(e))}var Nh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tu=typeof window>"u"||"Deno"in globalThis;function _r(){}function fW(t,e){return typeof t=="function"?t(e):t}function JE(t){return typeof t=="number"&&t>=0&&t!==1/0}function i5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xc(t,e){return typeof t=="function"?t(e):t}function vi(t,e){return typeof t=="function"?t(e):t}function gT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==cA(o,e.options))return!1}else if(!og(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function mT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(nu(e.options.mutationKey)!==nu(i))return!1}else if(!og(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function cA(t,e){return((e==null?void 0:e.queryKeyHashFn)||nu)(t)}function nu(t){return JSON.stringify(t,(e,n)=>ZE(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function og(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>og(t[n],e[n])):!1}function o5(t,e){if(t===e)return t;const n=yT(t)&&yT(e);if(n||ZE(t)&&ZE(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=o5(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function r0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function yT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ZE(t){if(!wT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!wT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function wT(t){return Object.prototype.toString.call(t)==="[object Object]"}function pW(t){return new Promise(e=>{setTimeout(e,t)})}function XE(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?o5(t,e):e}function gW(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function mW(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var lA=Symbol();function a5(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===lA?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function c5(t,e){return typeof t=="function"?t(...e):!!t}var Pl,Ja,Fd,GO,yW=(GO=class extends Nh{constructor(){super();Te(this,Pl);Te(this,Ja);Te(this,Fd);we(this,Fd,e=>{if(!tu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,Ja)||this.setEventListener(z(this,Fd))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Ja))==null||e.call(this),we(this,Ja,void 0))}setEventListener(e){var n;we(this,Fd,e),(n=z(this,Ja))==null||n.call(this),we(this,Ja,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,Pl)!==e&&(we(this,Pl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,Pl)=="boolean"?z(this,Pl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Pl=new WeakMap,Ja=new WeakMap,Fd=new WeakMap,GO),uA=new yW,zd,Za,qd,KO,wW=(KO=class extends Nh{constructor(){super();Te(this,zd,!0);Te(this,Za);Te(this,qd);we(this,qd,e=>{if(!tu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Za)||this.setEventListener(z(this,qd))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Za))==null||e.call(this),we(this,Za,void 0))}setEventListener(e){var n;we(this,qd,e),(n=z(this,Za))==null||n.call(this),we(this,Za,e(this.setOnline.bind(this)))}setOnline(e){z(this,zd)!==e&&(we(this,zd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,zd)}},zd=new WeakMap,Za=new WeakMap,qd=new WeakMap,KO),s0=new wW;function eC(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function vW(t){return Math.min(1e3*2**t,3e4)}function l5(t){return(t??"online")==="online"?s0.isOnline():!0}var u5=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Xb(t){return t instanceof u5}function d5(t){let e=!1,n=0,r=!1,s;const i=eC(),o=g=>{var y;r||(h(new u5(g)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>uA.isFocused()&&(t.networkMode==="always"||s0.isOnline())&&t.canRun(),u=()=>l5(t.networkMode)&&t.canRun(),d=g=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,g),s==null||s(),i.reject(g))},f=()=>new Promise(g=>{var y;s=w=>{(r||l())&&g(w)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(r)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(d).catch(w=>{var x;if(r)return;const b=t.retry??(tu?0:3),v=t.retryDelay??vW,E=typeof v=="function"?v(n,w):v,_=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,w);if(e||!_){h(w);return}n++,(x=t.onFail)==null||x.call(t,n,w),pW(E).then(()=>l()?void 0:f()).then(()=>{e?h(w):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?p():f().then(p),i)}}var bW=t=>setTimeout(t,0);function _W(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=bW;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var En=_W(),kl,YO,h5=(YO=class{constructor(){Te(this,kl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),JE(this.gcTime)&&we(this,kl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(tu?1/0:5*60*1e3))}clearGcTimeout(){z(this,kl)&&(clearTimeout(z(this,kl)),we(this,kl,void 0))}},kl=new WeakMap,YO),Wd,Ol,Ls,Rl,hr,Bg,$l,pi,ko,QO,EW=(QO=class extends h5{constructor(e){super();Te(this,pi);Te(this,Wd);Te(this,Ol);Te(this,Ls);Te(this,Rl);Te(this,hr);Te(this,Bg);Te(this,$l);we(this,$l,!1),we(this,Bg,e.defaultOptions),this.setOptions(e.options),this.observers=[],we(this,Rl,e.client),we(this,Ls,z(this,Rl).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,we(this,Wd,CW(this.options)),this.state=e.state??z(this,Wd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=z(this,hr))==null?void 0:e.promise}setOptions(e){this.options={...z(this,Bg),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Ls).remove(this)}setData(e,n){const r=XE(this.state.data,e,this.options);return Qe(this,pi,ko).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Qe(this,pi,ko).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=z(this,hr))==null?void 0:r.promise;return(s=z(this,hr))==null||s.cancel(e),n?n.then(_r).catch(_r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Wd))}isActive(){return this.observers.some(e=>vi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>xc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!i5(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=z(this,hr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=z(this,hr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),z(this,Ls).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(z(this,hr)&&(z(this,$l)?z(this,hr).cancel({revert:!0}):z(this,hr).cancelRetry()),this.scheduleGc()),z(this,Ls).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qe(this,pi,ko).call(this,{type:"invalidate"})}fetch(e,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(z(this,hr))return z(this,hr).continueRetry(),z(this,hr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(we(this,$l,!0),r.signal)})},i=()=>{const h=a5(this.options,n),p=(()=>{const g={client:z(this,Rl),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return we(this,$l,!1),this.options.persister?this.options.persister(h,p,this):h(p)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:z(this,Rl),state:this.state,fetchFn:i};return s(h),h})();(l=this.options.behavior)==null||l.onFetch(a,this),we(this,Ol,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Qe(this,pi,ko).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const c=h=>{var f,p,g,y;Xb(h)&&h.silent||Qe(this,pi,ko).call(this,{type:"error",error:h}),Xb(h)||((p=(f=z(this,Ls).config).onError)==null||p.call(f,h,this),(y=(g=z(this,Ls).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return we(this,hr,d5({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,g,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){c(w);return}(p=(f=z(this,Ls).config).onSuccess)==null||p.call(f,h,this),(y=(g=z(this,Ls).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,f)=>{Qe(this,pi,ko).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Qe(this,pi,ko).call(this,{type:"pause"})},onContinue:()=>{Qe(this,pi,ko).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,hr).start()}},Wd=new WeakMap,Ol=new WeakMap,Ls=new WeakMap,Rl=new WeakMap,hr=new WeakMap,Bg=new WeakMap,$l=new WeakMap,pi=new WeakSet,ko=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...f5(r.data,this.options),fetchMeta:e.meta??null};case"success":return we(this,Ol,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Xb(s)&&s.revert&&z(this,Ol)?{...z(this,Ol),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),En.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),z(this,Ls).notify({query:this,type:"updated",action:e})})},QO);function f5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:l5(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function CW(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ji,JO,xW=(JO=class extends Nh{constructor(e={}){super();Te(this,Ji);this.config=e,we(this,Ji,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??cA(s,n);let o=this.get(i);return o||(o=new EW({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){z(this,Ji).has(e.queryHash)||(z(this,Ji).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,Ji).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,Ji).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){En.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Ji).get(e)}getAll(){return[...z(this,Ji).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>gT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>gT(e,r)):n}notify(e){En.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){En.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){En.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ji=new WeakMap,JO),Zi,wr,Dl,Xi,Oa,ZO,SW=(ZO=class extends h5{constructor(e){super();Te(this,Xi);Te(this,Zi);Te(this,wr);Te(this,Dl);this.mutationId=e.mutationId,we(this,wr,e.mutationCache),we(this,Zi,[]),this.state=e.state||p5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){z(this,Zi).includes(e)||(z(this,Zi).push(e),this.clearGcTimeout(),z(this,wr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){we(this,Zi,z(this,Zi).filter(n=>n!==e)),this.scheduleGc(),z(this,wr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){z(this,Zi).length||(this.state.status==="pending"?this.scheduleGc():z(this,wr).remove(this))}continue(){var e;return((e=z(this,Dl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,l,u,d,h,f,p,g,y,w,b,v,E,_,x,S,T;const n=()=>{Qe(this,Xi,Oa).call(this,{type:"continue"})};we(this,Dl,d5({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,O)=>{Qe(this,Xi,Oa).call(this,{type:"failed",failureCount:C,error:O})},onPause:()=>{Qe(this,Xi,Oa).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,wr).canRun(this)}));const r=this.state.status==="pending",s=!z(this,Dl).canStart();try{if(r)n();else{Qe(this,Xi,Oa).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=z(this,wr).config).onMutate)==null?void 0:o.call(i,e,this));const O=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));O!==this.state.context&&Qe(this,Xi,Oa).call(this,{type:"pending",context:O,variables:e,isPaused:s})}const C=await z(this,Dl).start();return await((u=(l=z(this,wr).config).onSuccess)==null?void 0:u.call(l,C,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,C,e,this.state.context)),await((p=(f=z(this,wr).config).onSettled)==null?void 0:p.call(f,C,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,C,null,e,this.state.context)),Qe(this,Xi,Oa).call(this,{type:"success",data:C}),C}catch(C){try{throw await((b=(w=z(this,wr).config).onError)==null?void 0:b.call(w,C,e,this.state.context,this)),await((E=(v=this.options).onError)==null?void 0:E.call(v,C,e,this.state.context)),await((x=(_=z(this,wr).config).onSettled)==null?void 0:x.call(_,void 0,C,this.state.variables,this.state.context,this)),await((T=(S=this.options).onSettled)==null?void 0:T.call(S,void 0,C,e,this.state.context)),C}finally{Qe(this,Xi,Oa).call(this,{type:"error",error:C})}}finally{z(this,wr).runNext(this)}}},Zi=new WeakMap,wr=new WeakMap,Dl=new WeakMap,Xi=new WeakSet,Oa=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),En.batch(()=>{z(this,Zi).forEach(r=>{r.onMutationUpdate(e)}),z(this,wr).notify({mutation:this,type:"updated",action:e})})},ZO);function p5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bo,gi,Fg,XO,AW=(XO=class extends Nh{constructor(e={}){super();Te(this,Bo);Te(this,gi);Te(this,Fg);this.config=e,we(this,Bo,new Set),we(this,gi,new Map),we(this,Fg,0)}build(e,n,r){const s=new SW({mutationCache:this,mutationId:++Dm(this,Fg)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){z(this,Bo).add(e);const n=ay(e);if(typeof n=="string"){const r=z(this,gi).get(n);r?r.push(e):z(this,gi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,Bo).delete(e)){const n=ay(e);if(typeof n=="string"){const r=z(this,gi).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&z(this,gi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ay(e);if(typeof n=="string"){const r=z(this,gi).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=ay(e);if(typeof n=="string"){const s=(r=z(this,gi).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){En.batch(()=>{z(this,Bo).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,Bo).clear(),z(this,gi).clear()})}getAll(){return Array.from(z(this,Bo))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>mT(n,r))}findAll(e={}){return this.getAll().filter(n=>mT(e,n))}notify(e){En.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return En.batch(()=>Promise.all(e.map(n=>n.continue().catch(_r))))}},Bo=new WeakMap,gi=new WeakMap,Fg=new WeakMap,XO);function ay(t){var e;return(e=t.options.scope)==null?void 0:e.id}function vT(t){return{onFetch:(e,n)=>{var u,d,h,f,p;const r=e.options,s=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let g=!1;const y=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=a5(e.options,e.fetchOptions),b=async(v,E,_)=>{if(g)return Promise.reject();if(E==null&&v.pages.length)return Promise.resolve(v);const S=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:E,direction:_?"backward":"forward",meta:e.options.meta};return y(R),R})(),T=await w(S),{maxPages:C}=e.options,O=_?mW:gW;return{pages:O(v.pages,T,C),pageParams:O(v.pageParams,E,C)}};if(s&&i.length){const v=s==="backward",E=v?IW:bT,_={pages:i,pageParams:o},x=E(r,_);a=await b(_,x,v)}else{const v=t??i.length;do{const E=c===0?o[0]??r.initialPageParam:bT(r,a);if(c>0&&E==null)break;a=await b(a,E),c++}while(c<v)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function bT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function IW(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var rn,Xa,ec,Hd,Vd,tc,Gd,Kd,eR,TW=(eR=class{constructor(t={}){Te(this,rn);Te(this,Xa);Te(this,ec);Te(this,Hd);Te(this,Vd);Te(this,tc);Te(this,Gd);Te(this,Kd);we(this,rn,t.queryCache||new xW),we(this,Xa,t.mutationCache||new AW),we(this,ec,t.defaultOptions||{}),we(this,Hd,new Map),we(this,Vd,new Map),we(this,tc,0)}mount(){Dm(this,tc)._++,z(this,tc)===1&&(we(this,Gd,uA.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,rn).onFocus())})),we(this,Kd,s0.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,rn).onOnline())})))}unmount(){var t,e;Dm(this,tc)._--,z(this,tc)===0&&((t=z(this,Gd))==null||t.call(this),we(this,Gd,void 0),(e=z(this,Kd))==null||e.call(this),we(this,Kd,void 0))}isFetching(t){return z(this,rn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,Xa).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,rn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=z(this,rn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(xc(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return z(this,rn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,rn).get(r.queryHash),i=s==null?void 0:s.state.data,o=fW(e,i);if(o!==void 0)return z(this,rn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return En.batch(()=>z(this,rn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,rn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,rn);En.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,rn);return En.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=En.batch(()=>z(this,rn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(_r).catch(_r)}invalidateQueries(t,e={}){return En.batch(()=>(z(this,rn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=En.batch(()=>z(this,rn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(_r)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(_r)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,rn).build(this,e);return n.isStaleByTime(xc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_r).catch(_r)}fetchInfiniteQuery(t){return t.behavior=vT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_r).catch(_r)}ensureInfiniteQueryData(t){return t.behavior=vT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return s0.isOnline()?z(this,Xa).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,rn)}getMutationCache(){return z(this,Xa)}getDefaultOptions(){return z(this,ec)}setDefaultOptions(t){we(this,ec,t)}setQueryDefaults(t,e){z(this,Hd).set(nu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,Hd).values()],n={};return e.forEach(r=>{og(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){z(this,Vd).set(nu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Vd).values()],n={};return e.forEach(r=>{og(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,ec).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=cA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===lA&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,ec).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,rn).clear(),z(this,Xa).clear()}},rn=new WeakMap,Xa=new WeakMap,ec=new WeakMap,Hd=new WeakMap,Vd=new WeakMap,tc=new WeakMap,Gd=new WeakMap,Kd=new WeakMap,eR),zr,st,zg,vr,jl,Yd,nc,rc,qg,Qd,Jd,Ul,Ll,sc,Zd,wt,kf,tC,nC,rC,sC,iC,oC,aC,g5,tR,NW=(tR=class extends Nh{constructor(e,n){super();Te(this,wt);Te(this,zr);Te(this,st);Te(this,zg);Te(this,vr);Te(this,jl);Te(this,Yd);Te(this,nc);Te(this,rc);Te(this,qg);Te(this,Qd);Te(this,Jd);Te(this,Ul);Te(this,Ll);Te(this,sc);Te(this,Zd,new Set);this.options=n,we(this,zr,e),we(this,rc,null),we(this,nc,eC()),this.options.experimental_prefetchInRender||z(this,nc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,st).addObserver(this),_T(z(this,st),this.options)?Qe(this,wt,kf).call(this):this.updateResult(),Qe(this,wt,sC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cC(z(this,st),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cC(z(this,st),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Qe(this,wt,iC).call(this),Qe(this,wt,oC).call(this),z(this,st).removeObserver(this)}setOptions(e){const n=this.options,r=z(this,st);if(this.options=z(this,zr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vi(this.options.enabled,z(this,st))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Qe(this,wt,aC).call(this),z(this,st).setOptions(this.options),n._defaulted&&!r0(this.options,n)&&z(this,zr).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,st),observer:this});const s=this.hasListeners();s&&ET(z(this,st),r,this.options,n)&&Qe(this,wt,kf).call(this),this.updateResult(),s&&(z(this,st)!==r||vi(this.options.enabled,z(this,st))!==vi(n.enabled,z(this,st))||xc(this.options.staleTime,z(this,st))!==xc(n.staleTime,z(this,st)))&&Qe(this,wt,tC).call(this);const i=Qe(this,wt,nC).call(this);s&&(z(this,st)!==r||vi(this.options.enabled,z(this,st))!==vi(n.enabled,z(this,st))||i!==z(this,sc))&&Qe(this,wt,rC).call(this,i)}getOptimisticResult(e){const n=z(this,zr).getQueryCache().build(z(this,zr),e),r=this.createResult(n,e);return kW(this,r)&&(we(this,vr,r),we(this,Yd,this.options),we(this,jl,z(this,st).state)),r}getCurrentResult(){return z(this,vr)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){z(this,Zd).add(e)}getCurrentQuery(){return z(this,st)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=z(this,zr).defaultQueryOptions(e),r=z(this,zr).getQueryCache().build(z(this,zr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Qe(this,wt,kf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,vr)))}createResult(e,n){var C;const r=z(this,st),s=this.options,i=z(this,vr),o=z(this,jl),a=z(this,Yd),l=e!==r?e.state:z(this,zg),{state:u}=e;let d={...u},h=!1,f;if(n._optimisticResults){const O=this.hasListeners(),R=!O&&_T(e,n),B=O&&ET(e,r,n,s);(R||B)&&(d={...d,...f5(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:y}=d;f=d.data;let w=!1;if(n.placeholderData!==void 0&&f===void 0&&y==="pending"){let O;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(O=i.data,w=!0):O=typeof n.placeholderData=="function"?n.placeholderData((C=z(this,Jd))==null?void 0:C.state.data,z(this,Jd)):n.placeholderData,O!==void 0&&(y="success",f=XE(i==null?void 0:i.data,O,n),h=!0)}if(n.select&&f!==void 0&&!w)if(i&&f===(o==null?void 0:o.data)&&n.select===z(this,qg))f=z(this,Qd);else try{we(this,qg,n.select),f=n.select(f),f=XE(i==null?void 0:i.data,f,n),we(this,Qd,f),we(this,rc,null)}catch(O){we(this,rc,O)}z(this,rc)&&(p=z(this,rc),f=z(this,Qd),g=Date.now(),y="error");const b=d.fetchStatus==="fetching",v=y==="pending",E=y==="error",_=v&&b,x=f!==void 0,T={status:y,fetchStatus:d.fetchStatus,isPending:v,isSuccess:y==="success",isError:E,isInitialLoading:_,isLoading:_,data:f,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!v,isLoadingError:E&&!x,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:E&&x,isStale:dA(e,n),refetch:this.refetch,promise:z(this,nc)};if(this.options.experimental_prefetchInRender){const O=W=>{T.status==="error"?W.reject(T.error):T.data!==void 0&&W.resolve(T.data)},R=()=>{const W=we(this,nc,T.promise=eC());O(W)},B=z(this,nc);switch(B.status){case"pending":e.queryHash===r.queryHash&&O(B);break;case"fulfilled":(T.status==="error"||T.data!==B.value)&&R();break;case"rejected":(T.status!=="error"||T.error!==B.reason)&&R();break}}return T}updateResult(){const e=z(this,vr),n=this.createResult(z(this,st),this.options);if(we(this,jl,z(this,st).state),we(this,Yd,this.options),z(this,jl).data!==void 0&&we(this,Jd,z(this,st)),r0(n,e))return;we(this,vr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!z(this,Zd).size)return!0;const o=new Set(i??z(this,Zd));return this.options.throwOnError&&o.add("error"),Object.keys(z(this,vr)).some(a=>{const c=a;return z(this,vr)[c]!==e[c]&&o.has(c)})};Qe(this,wt,g5).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Qe(this,wt,sC).call(this)}},zr=new WeakMap,st=new WeakMap,zg=new WeakMap,vr=new WeakMap,jl=new WeakMap,Yd=new WeakMap,nc=new WeakMap,rc=new WeakMap,qg=new WeakMap,Qd=new WeakMap,Jd=new WeakMap,Ul=new WeakMap,Ll=new WeakMap,sc=new WeakMap,Zd=new WeakMap,wt=new WeakSet,kf=function(e){Qe(this,wt,aC).call(this);let n=z(this,st).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(_r)),n},tC=function(){Qe(this,wt,iC).call(this);const e=xc(this.options.staleTime,z(this,st));if(tu||z(this,vr).isStale||!JE(e))return;const r=i5(z(this,vr).dataUpdatedAt,e)+1;we(this,Ul,setTimeout(()=>{z(this,vr).isStale||this.updateResult()},r))},nC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,st)):this.options.refetchInterval)??!1},rC=function(e){Qe(this,wt,oC).call(this),we(this,sc,e),!(tu||vi(this.options.enabled,z(this,st))===!1||!JE(z(this,sc))||z(this,sc)===0)&&we(this,Ll,setInterval(()=>{(this.options.refetchIntervalInBackground||uA.isFocused())&&Qe(this,wt,kf).call(this)},z(this,sc)))},sC=function(){Qe(this,wt,tC).call(this),Qe(this,wt,rC).call(this,Qe(this,wt,nC).call(this))},iC=function(){z(this,Ul)&&(clearTimeout(z(this,Ul)),we(this,Ul,void 0))},oC=function(){z(this,Ll)&&(clearInterval(z(this,Ll)),we(this,Ll,void 0))},aC=function(){const e=z(this,zr).getQueryCache().build(z(this,zr),this.options);if(e===z(this,st))return;const n=z(this,st);we(this,st,e),we(this,zg,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},g5=function(e){En.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(z(this,vr))}),z(this,zr).getQueryCache().notify({query:z(this,st),type:"observerResultsUpdated"})})},tR);function PW(t,e){return vi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function _T(t,e){return PW(t,e)||t.state.data!==void 0&&cC(t,e,e.refetchOnMount)}function cC(t,e,n){if(vi(e.enabled,t)!==!1&&xc(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&dA(t,e)}return!1}function ET(t,e,n,r){return(t!==e||vi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&dA(t,n)}function dA(t,e){return vi(e.enabled,t)!==!1&&t.isStaleByTime(xc(e.staleTime,t))}function kW(t,e){return!r0(t.getCurrentResult(),e)}var ic,oc,qr,Fo,Zo,cw,lC,nR,OW=(nR=class extends Nh{constructor(n,r){super();Te(this,Zo);Te(this,ic);Te(this,oc);Te(this,qr);Te(this,Fo);we(this,ic,n),this.setOptions(r),this.bindMethods(),Qe(this,Zo,cw).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=z(this,ic).defaultMutationOptions(n),r0(this.options,r)||z(this,ic).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,qr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&nu(r.mutationKey)!==nu(this.options.mutationKey)?this.reset():((s=z(this,qr))==null?void 0:s.state.status)==="pending"&&z(this,qr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=z(this,qr))==null||n.removeObserver(this)}onMutationUpdate(n){Qe(this,Zo,cw).call(this),Qe(this,Zo,lC).call(this,n)}getCurrentResult(){return z(this,oc)}reset(){var n;(n=z(this,qr))==null||n.removeObserver(this),we(this,qr,void 0),Qe(this,Zo,cw).call(this),Qe(this,Zo,lC).call(this)}mutate(n,r){var s;return we(this,Fo,r),(s=z(this,qr))==null||s.removeObserver(this),we(this,qr,z(this,ic).getMutationCache().build(z(this,ic),this.options)),z(this,qr).addObserver(this),z(this,qr).execute(n)}},ic=new WeakMap,oc=new WeakMap,qr=new WeakMap,Fo=new WeakMap,Zo=new WeakSet,cw=function(){var r;const n=((r=z(this,qr))==null?void 0:r.state)??p5();we(this,oc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},lC=function(n){En.batch(()=>{var r,s,i,o,a,c,l,u;if(z(this,Fo)&&this.hasListeners()){const d=z(this,oc).variables,h=z(this,oc).context;(n==null?void 0:n.type)==="success"?((s=(r=z(this,Fo)).onSuccess)==null||s.call(r,n.data,d,h),(o=(i=z(this,Fo)).onSettled)==null||o.call(i,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((c=(a=z(this,Fo)).onError)==null||c.call(a,n.error,d,h),(u=(l=z(this,Fo)).onSettled)==null||u.call(l,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(z(this,oc))})})},nR);function RW(t){return JSON.stringify(t,(e,n)=>$W(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function $W(t){if(!CT(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!CT(n)||!n.hasOwnProperty("isPrototypeOf"))}function CT(t){return Object.prototype.toString.call(t)==="[object Object]"}function m5(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:i,maxPages:o,meta:a,networkMode:c,queryFn:l,queryHash:u,queryKey:d,queryKeyHashFn:h,retry:f,retryDelay:p,structuralSharing:g,getPreviousPageParam:y,getNextPageParam:w,initialPageParam:b,_optimisticResults:v,enabled:E,notifyOnChangeProps:_,placeholderData:x,refetchInterval:S,refetchIntervalInBackground:T,refetchOnMount:C,refetchOnReconnect:O,refetchOnWindowFocus:R,retryOnMount:B,select:W,staleTime:F,suspense:A,throwOnError:I,config:D,connector:N,query:k,...U}=t;return U}function DW(t){return{mutationFn(e){return ow(t,e)},mutationKey:["connect"]}}function jW(t){return{mutationFn(e){return KD(t,e)},mutationKey:["disconnect"]}}function UW(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("address is required");return uq(t,{...i,address:r})},queryKey:LW(e)}}function LW(t={}){return["ensName",m5(t)]}function MW(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=e,{connectorUid:s,scopeKey:i,...o}=n[1];return dq(t,{...o,connector:r})},queryKey:BW(e)}}function BW(t={}){const{connector:e,...n}=t;return["walletClient",{...m5(n),connectorUid:e==null?void 0:e.uid}]}var y5=M.createContext(void 0),hA=t=>{const e=M.useContext(y5);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},FW=({client:t,children:e})=>(M.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(y5.Provider,{value:t,children:e})),w5=M.createContext(!1),zW=()=>M.useContext(w5);w5.Provider;function qW(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var WW=M.createContext(qW()),HW=()=>M.useContext(WW),VW=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},GW=t=>{M.useEffect(()=>{t.clearReset()},[t])},KW=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||c5(n,[t.error,r])),YW=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},QW=(t,e)=>t.isLoading&&t.isFetching&&!e,JW=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,xT=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function ZW(t,e,n){var d,h,f,p,g;const r=zW(),s=HW(),i=hA(),o=i.defaultQueryOptions(t);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",YW(o),VW(o,s),GW(s);const a=!i.getQueryCache().get(o.queryHash),[c]=M.useState(()=>new e(i,o)),l=c.getOptimisticResult(o),u=!r&&t.subscribed!==!1;if(M.useSyncExternalStore(M.useCallback(y=>{const w=u?c.subscribe(En.batchCalls(y)):_r;return c.updateResult(),w},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),M.useEffect(()=>{c.setOptions(o)},[o,c]),JW(o,l))throw xT(o,c,s);if(KW({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((p=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,l),o.experimental_prefetchInRender&&!tu&&QW(l,r)){const y=a?xT(o,c,s):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(_r).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function XW(t,e){return ZW(t,NW)}function v5(t,e){const n=hA(),[r]=M.useState(()=>new OW(n,t));M.useEffect(()=>{r.setOptions(t)},[r,t]);const s=M.useSyncExternalStore(M.useCallback(o=>r.subscribe(En.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=M.useCallback((o,a)=>{r.mutate(o,a).catch(_r)},[r]);if(s.error&&c5(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function b5(t){const e=XW({...t,queryKeyHashFn:RW});return e.queryKey=t.queryKey,e}function _5(t={}){const e=Gc(t);return M.useSyncExternalStore(n=>mq(e,{onChange:n}),()=>lT(e),()=>lT(e))}function eH(t={}){const e=Gc(t);return M.useSyncExternalStore(n=>JD(e,{onChange:n}),()=>uT(e),()=>uT(e))}function E5(t={}){const{mutation:e}=t,n=Gc(t),r=DW(n),{mutate:s,mutateAsync:i,...o}=v5({...e,...r});return M.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:eH({config:n})}}function tH(t={}){const e=Gc(t);return M.useSyncExternalStore(n=>yq(e,{onChange:n}),()=>Qi(e),()=>Qi(e))}function C5(t={}){const{mutation:e}=t,n=Gc(t),r=jW(n),{mutate:s,mutateAsync:i,...o}=v5({...e,...r});return{...o,connectors:tH({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:i}}function x5(t={}){const{address:e,query:n={}}=t,r=Gc(t),s=_5({config:r}),i=UW(r,{...t,chainId:t.chainId??s}),o=!!(e&&(n.enabled??!0));return b5({...n,...i,enabled:o})}function S5(t={}){const{query:e={},...n}=t,r=Gc(n),s=hA(),{address:i,connector:o,status:a}=dv({config:r}),c=_5({config:r}),l=t.connector??o,{queryKey:u,...d}=MW(r,{...t,chainId:t.chainId??c,connector:t.connector??o}),h=!!((a==="connected"||a==="reconnecting"&&(l!=null&&l.getProvider))&&(e.enabled??!0)),f=M.useRef(i);return M.useEffect(()=>{const p=f.current;!i&&p?(s.removeQueries({queryKey:u}),f.current=void 0):i!==p&&(s.invalidateQueries({queryKey:u}),f.current=i)},[i,s]),b5({...e,...d,queryKey:u,enabled:h,staleTime:Number.POSITIVE_INFINITY})}const nH="_verified_lvyh0_1",fA={verified:nH},rH=()=>m.jsx("svg",{viewBox:"0 0 24 24","aria-label":"Verified account",role:"img",className:fA.verified,children:m.jsx("g",{children:m.jsx("path",{d:"M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.26 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z"})})}),sH=()=>m.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:fA.verified,children:m.jsxs("g",{children:[m.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-a",x1:"4.411",x2:"18.083",y1:"2.495",y2:"21.508",children:[m.jsx("stop",{offset:"0",stopColor:"#f4e72a"}),m.jsx("stop",{offset:".539",stopColor:"#cd8105"}),m.jsx("stop",{offset:".68",stopColor:"#cb7b00"}),m.jsx("stop",{offset:"1",stopColor:"#f4ec26"}),m.jsx("stop",{offset:"1",stopColor:"#f4e72a"})]}),m.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-b",x1:"5.355",x2:"16.361",y1:"3.395",y2:"19.133",children:[m.jsx("stop",{offset:"0",stopColor:"#f9e87f"}),m.jsx("stop",{offset:".406",stopColor:"#e2b719"}),m.jsx("stop",{offset:".989",stopColor:"#e2b719"})]}),m.jsxs("g",{clipRule:"evenodd",fillRule:"evenodd",children:[m.jsx("path",{d:"M13.324 3.848L11 1.6 8.676 3.848l-3.201-.453-.559 3.184L2.06 8.095 3.48 11l-1.42 2.904 2.856 1.516.559 3.184 3.201-.452L11 20.4l2.324-2.248 3.201.452.559-3.184 2.856-1.516L18.52 11l1.42-2.905-2.856-1.516-.559-3.184zm-7.09 7.575l3.428 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-a)"}),m.jsx("path",{d:"M13.101 4.533L11 2.5 8.899 4.533l-2.895-.41-.505 2.88-2.583 1.37L4.2 11l-1.284 2.627 2.583 1.37.505 2.88 2.895-.41L11 19.5l2.101-2.033 2.895.41.505-2.88 2.583-1.37L17.8 11l1.284-2.627-2.583-1.37-.505-2.88zm-6.868 6.89l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-b)"}),m.jsx("path",{d:"M6.233 11.423l3.429 3.428 5.65-6.17.038-.033-.005 1.398-5.683 6.206-3.429-3.429-.003-1.405.005.003z",fill:"#d18800"})]})]})}),iH=()=>m.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:fA.verified,children:m.jsx("g",{children:m.jsx("path",{clipRule:"evenodd",d:"M12.05 2.056c-.568-.608-1.532-.608-2.1 0l-1.393 1.49c-.284.303-.685.47-1.1.455L5.42 3.932c-.832-.028-1.514.654-1.486 1.486l.069 2.039c.014.415-.152.816-.456 1.1l-1.49 1.392c-.608.568-.608 1.533 0 2.101l1.49 1.393c.304.284.47.684.456 1.1l-.07 2.038c-.027.832.655 1.514 1.487 1.486l2.038-.069c.415-.014.816.152 1.1.455l1.392 1.49c.569.609 1.533.609 2.102 0l1.393-1.49c.283-.303.684-.47 1.099-.455l2.038.069c.832.028 1.515-.654 1.486-1.486L18 14.542c-.015-.415.152-.815.455-1.099l1.49-1.393c.608-.568.608-1.533 0-2.101l-1.49-1.393c-.303-.283-.47-.684-.455-1.1l.068-2.038c.029-.832-.654-1.514-1.486-1.486l-2.038.07c-.415.013-.816-.153-1.1-.456zm-5.817 9.367l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fillRule:"evenodd"})})});function A5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=A5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Sc(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=A5(t))&&(r&&(r+=" "),r+=e);return r}const oH="_root_98iqw_1",aH="_article_98iqw_21",ST={root:oH,article:aH},pA=({className:t,children:e})=>m.jsx("div",{className:Sc("react-tweet-theme",ST.root,t),children:m.jsx("article",{className:ST.article,children:e})}),I5=t=>m.jsx("img",{...t}),cH="_header_nqq4j_1",lH="_avatar_nqq4j_11",uH="_avatarOverflow_nqq4j_16",dH="_avatarSquare_nqq4j_23",hH="_avatarShadow_nqq4j_26",fH="_author_nqq4j_37",pH="_authorLink_nqq4j_44",gH="_authorVerified_nqq4j_53",mH="_authorLinkText_nqq4j_56",yH="_authorMeta_nqq4j_63",wH="_authorFollow_nqq4j_66",vH="_username_nqq4j_69",bH="_follow_nqq4j_74",_H="_separator_nqq4j_82",EH="_brand_nqq4j_86",CH="_twitterIcon_nqq4j_90",Un={header:cH,avatar:lH,avatarOverflow:uH,avatarSquare:dH,avatarShadow:hH,author:fH,authorLink:pH,authorVerified:gH,authorLinkText:mH,authorMeta:yH,authorFollow:wH,username:vH,follow:bH,separator:_H,brand:EH,twitterIcon:CH},xH="_verifiedOld_lcna5_1",SH="_verifiedBlue_lcna5_4",AH="_verifiedGovernment_lcna5_7",e1={verifiedOld:xH,verifiedBlue:SH,verifiedGovernment:AH},T5=({user:t,className:e})=>{const n=t.verified||t.is_blue_verified||t.verified_type;let r=m.jsx(rH,{}),s=e1.verifiedBlue;if(n)switch(t.is_blue_verified||(s=e1.verifiedOld),t.verified_type){case"Government":r=m.jsx(iH,{}),s=e1.verifiedGovernment;break;case"Business":r=m.jsx(sH,{}),s=null;break}return n?m.jsx("div",{className:Sc(e,s),children:r}):null},IH=({tweet:t,components:e})=>{var n;const r=(n=e==null?void 0:e.AvatarImg)!=null?n:I5,{user:s}=t;return m.jsxs("div",{className:Un.header,children:[m.jsxs("a",{href:t.url,className:Un.avatar,target:"_blank",rel:"noopener noreferrer",children:[m.jsx("div",{className:Sc(Un.avatarOverflow,s.profile_image_shape==="Square"&&Un.avatarSquare),children:m.jsx(r,{src:s.profile_image_url_https,alt:s.name,width:48,height:48})}),m.jsx("div",{className:Un.avatarOverflow,children:m.jsx("div",{className:Un.avatarShadow})})]}),m.jsxs("div",{className:Un.author,children:[m.jsxs("a",{href:t.url,className:Un.authorLink,target:"_blank",rel:"noopener noreferrer",children:[m.jsx("div",{className:Un.authorLinkText,children:m.jsx("span",{title:s.name,children:s.name})}),m.jsx(T5,{user:s,className:Un.authorVerified})]}),m.jsxs("div",{className:Un.authorMeta,children:[m.jsx("a",{href:t.url,className:Un.username,target:"_blank",rel:"noopener noreferrer",children:m.jsxs("span",{title:`@${s.screen_name}`,children:["@",s.screen_name]})}),m.jsxs("div",{className:Un.authorFollow,children:[m.jsx("span",{className:Un.separator,children:"·"}),m.jsx("a",{href:s.follow_url,className:Un.follow,target:"_blank",rel:"noopener noreferrer",children:"Follow"})]})]})]}),m.jsx("a",{href:t.url,className:Un.brand,target:"_blank",rel:"noopener noreferrer","aria-label":"View on Twitter",children:m.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:Un.twitterIcon,children:m.jsx("g",{children:m.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})})]})},TH="_root_1ec15_1",NH={root:TH},PH=({tweet:t})=>m.jsxs("a",{href:t.in_reply_to_url,className:NH.root,target:"_blank",rel:"noopener noreferrer",children:["Replying to @",t.in_reply_to_screen_name]}),kH="_root_eihfa_1",OH={root:kH},RH=({href:t,children:e})=>m.jsx("a",{href:t,className:OH.root,target:"_blank",rel:"noopener noreferrer nofollow",children:e}),$H="_root_1xq52_1",DH={root:$H},jH=({tweet:t})=>m.jsx("p",{className:DH.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>{switch(e.type){case"hashtag":case"mention":case"url":case"symbol":return m.jsx(RH,{href:e.href,children:e.text},n);case"media":return;default:return m.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n)}})}),AT=t=>`https://x.com/${t.user.screen_name}/status/${t.id_str}`,N5=t=>`https://x.com/${typeof t=="string"?t:t.user.screen_name}`,UH=t=>`https://x.com/intent/like?tweet_id=${t.id_str}`,LH=t=>`https://x.com/intent/tweet?in_reply_to=${t.id_str}`,MH=t=>`https://x.com/intent/follow?screen_name=${t.user.screen_name}`,BH=t=>`https://x.com/hashtag/${t.text}`,FH=t=>`https://x.com/search?q=%24${t.text}`,zH=t=>`https://x.com/${t.in_reply_to_screen_name}/status/${t.in_reply_to_status_id_str}`,P5=(t,e)=>{const n=new URL(t.media_url_https),r=n.pathname.split(".").pop();return r?(n.pathname=n.pathname.replace(`.${r}`,""),n.searchParams.set("format",r),n.searchParams.set("name",e),n.toString()):t.media_url_https},qH=t=>{const{variants:e}=t.video_info;return e.filter(r=>r.content_type==="video/mp4").sort((r,s)=>{var i,o;return((i=s.bitrate)!=null?i:0)-((o=r.bitrate)!=null?o:0)})},WH=t=>{const e=qH(t);return e.length>1?e[1]:e[0]},uC=t=>t>999999?`${(t/1e6).toFixed(1)}M`:t>999?`${(t/1e3).toFixed(1)}K`:t.toString();function IT(t){const e=Array.from(t.text),n=[{indices:t.display_text_range,type:"text"}];return nf(n,"hashtag",t.entities.hashtags),nf(n,"mention",t.entities.user_mentions),nf(n,"url",t.entities.urls),nf(n,"symbol",t.entities.symbols),t.entities.media&&nf(n,"media",t.entities.media),HH(t,n),n.map(r=>{const s=e.slice(r.indices[0],r.indices[1]).join("");switch(r.type){case"hashtag":return Object.assign(r,{href:BH(r),text:s});case"mention":return Object.assign(r,{href:N5(r.screen_name),text:s});case"url":case"media":return Object.assign(r,{href:r.expanded_url,text:r.display_url});case"symbol":return Object.assign(r,{href:FH(r),text:s});default:return Object.assign(r,{text:s})}})}function nf(t,e,n){for(const r of n)for(const[s,i]of t.entries()){if(i.indices[0]>r.indices[0]||i.indices[1]<r.indices[1])continue;const o=[{...r,type:e}];i.indices[0]<r.indices[0]&&o.unshift({indices:[i.indices[0],r.indices[0]],type:"text"}),i.indices[1]>r.indices[1]&&o.push({indices:[r.indices[1],i.indices[1]],type:"text"}),t.splice(s,1,...o);break}}function HH(t,e){t.entities.media&&t.entities.media[0].indices[0]<t.display_text_range[1]&&(t.display_text_range[1]=t.entities.media[0].indices[0]);const n=e.at(-1);n&&n.indices[1]>t.display_text_range[1]&&(n.indices[1]=t.display_text_range[1])}const VH=t=>({...t,url:AT(t),user:{...t.user,url:N5(t),follow_url:MH(t)},like_url:UH(t),reply_url:LH(t),in_reply_to_url:t.in_reply_to_screen_name?zH(t):void 0,entities:IT(t),quoted_tweet:t.quoted_tweet?{...t.quoted_tweet,url:AT(t.quoted_tweet),entities:IT(t.quoted_tweet)}:void 0}),GH="_root_g9tkv_1",KH="_rounded_g9tkv_6",YH="_mediaWrapper_g9tkv_10",QH="_grid2Columns_g9tkv_17",JH="_grid3_g9tkv_20",ZH="_grid2x2_g9tkv_23",XH="_mediaContainer_g9tkv_26",eV="_mediaLink_g9tkv_34",tV="_skeleton_g9tkv_38",nV="_image_g9tkv_43",ls={root:GH,rounded:KH,mediaWrapper:YH,grid2Columns:QH,grid3:JH,grid2x2:ZH,mediaContainer:XH,mediaLink:eV,skeleton:tV,image:nV},rV="_anchor_fp31d_1",sV="_videoButton_fp31d_17",iV="_videoButtonIcon_fp31d_35",oV="_watchOnTwitter_fp31d_44",aV="_viewReplies_fp31d_60",Ru={anchor:rV,videoButton:sV,videoButtonIcon:iV,watchOnTwitter:oV,viewReplies:aV},cV=({tweet:t,media:e})=>{const[n,r]=M.useState(!0),[s,i]=M.useState(!1),[o,a]=M.useState(!1),c=WH(e);let l=0;return m.jsxs(m.Fragment,{children:[m.jsx("video",{className:ls.image,poster:P5(e,"small"),controls:!n,playsInline:!0,preload:"none",tabIndex:n?-1:0,onPlay:()=>{l&&window.clearTimeout(l),s||i(!0),o&&a(!1)},onPause:()=>{l&&window.clearTimeout(l),l=window.setTimeout(()=>{s&&i(!1),l=0},100)},onEnded:()=>{a(!0)},children:m.jsx("source",{src:c.url,type:c.content_type})}),n&&m.jsx("button",{type:"button",className:Ru.videoButton,"aria-label":"View video on X",onClick:u=>{const d=u.currentTarget.previousSibling;u.preventDefault(),r(!1),d.load(),d.play().then(()=>{i(!0),d.focus()}).catch(h=>{console.error("Error playing video:",h),r(!0),i(!1)})},children:m.jsx("svg",{viewBox:"0 0 24 24",className:Ru.videoButtonIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M21 12L4 2v20l17-10z"})})})}),!s&&!o&&m.jsx("div",{className:Ru.watchOnTwitter,children:m.jsx("a",{href:t.url,className:Ru.anchor,target:"_blank",rel:"noopener noreferrer",children:n?"Watch on X":"Continue watching on X"})}),o&&m.jsx("a",{href:t.url,className:Sc(Ru.anchor,Ru.viewReplies),target:"_blank",rel:"noopener noreferrer",children:"View replies"})]})},lV=t=>m.jsx("img",{...t}),TT=(t,e)=>{let n=56.25;return e===1&&(n=100/t.original_info.width*t.original_info.height),e===2&&(n=n*2),{width:t.type==="photo"?void 0:"unset",paddingBottom:`${n}%`}},k5=({tweet:t,components:e,quoted:n})=>{var r,s,i;const o=(i=(r=t.mediaDetails)==null?void 0:r.length)!=null?i:0;var a;const c=(a=e==null?void 0:e.MediaImg)!=null?a:lV;return m.jsx("div",{className:Sc(ls.root,!n&&ls.rounded),children:m.jsx("div",{className:Sc(ls.mediaWrapper,o>1&&ls.grid2Columns,o===3&&ls.grid3,o>4&&ls.grid2x2),children:(s=t.mediaDetails)==null?void 0:s.map(l=>m.jsx(M.Fragment,{children:l.type==="photo"?m.jsxs("a",{href:t.url,className:Sc(ls.mediaContainer,ls.mediaLink),target:"_blank",rel:"noopener noreferrer",children:[m.jsx("div",{className:ls.skeleton,style:TT(l,o)}),m.jsx(c,{src:P5(l,"small"),alt:l.ext_alt_text||"Image",className:ls.image,draggable:!0})]},l.media_url_https):m.jsxs("div",{className:ls.mediaContainer,children:[m.jsx("div",{className:ls.skeleton,style:TT(l,o)}),m.jsx(cV,{tweet:t,media:l})]},l.media_url_https)},l.media_url_https))})})},uV={hour:"numeric",minute:"2-digit",hour12:!0,weekday:"short",month:"short",day:"numeric",year:"numeric"},dV=new Intl.DateTimeFormat("en-US",uV),hV=t=>{const e={};for(const n of t)e[n.type]=n.value;return e},fV=t=>{const e=hV(dV.formatToParts(t)),n=`${e.hour}:${e.minute} ${e.dayPeriod}`,r=`${e.month} ${e.day}, ${e.year}`;return`${n} · ${r}`},pV="_root_i24yn_1",gV={root:pV},mV=({tweet:t})=>{const e=new Date(t.created_at),n=fV(e);return m.jsx("a",{className:gV.root,href:t.url,target:"_blank",rel:"noopener noreferrer","aria-label":n,children:m.jsx("time",{dateTime:e.toISOString(),children:n})})},yV="_info_19qcj_1",wV="_infoLink_19qcj_10",vV="_infoIcon_19qcj_30",t1={info:yV,infoLink:wV,infoIcon:vV},bV=({tweet:t})=>m.jsxs("div",{className:t1.info,children:[m.jsx(mV,{tweet:t}),m.jsx("a",{className:t1.infoLink,href:"https://help.x.com/en/x-for-websites-ads-info-and-privacy",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter for Websites, Ads Information and Privacy",children:m.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:t1.infoIcon,children:m.jsx("g",{children:m.jsx("path",{d:"M13.5 8.5c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5S11.17 7 12 7s1.5.67 1.5 1.5zM13 17v-5h-2v5h2zm-1 5.25c5.66 0 10.25-4.59 10.25-10.25S17.66 1.75 12 1.75 1.75 6.34 1.75 12 6.34 22.25 12 22.25zM20.25 12c0 4.56-3.69 8.25-8.25 8.25S3.75 16.56 3.75 12 7.44 3.75 12 3.75s8.25 3.69 8.25 8.25z"})})})})]}),_V="_actions_n2anf_1",EV="_like_n2anf_13",CV="_reply_n2anf_14",xV="_copy_n2anf_15",SV="_likeIconWrapper_n2anf_27",AV="_likeCount_n2anf_30",IV="_replyIconWrapper_n2anf_35",TV="_copyIconWrapper_n2anf_36",NV="_likeIcon_n2anf_27",PV="_replyIcon_n2anf_35",kV="_copyIcon_n2anf_36",OV="_replyText_n2anf_56",RV="_copyText_n2anf_57",Wr={actions:_V,like:EV,reply:CV,copy:xV,likeIconWrapper:SV,likeCount:AV,replyIconWrapper:IV,copyIconWrapper:TV,likeIcon:NV,replyIcon:PV,copyIcon:kV,replyText:OV,copyText:RV},$V=({tweet:t})=>{const[e,n]=M.useState(!1),r=()=>{navigator.clipboard.writeText(t.url),n(!0)};return M.useEffect(()=>{if(e){const s=setTimeout(()=>{n(!1)},6e3);return()=>clearTimeout(s)}},[e]),m.jsxs("button",{type:"button",className:Wr.copy,"aria-label":"Copy link",onClick:r,children:[m.jsx("div",{className:Wr.copyIconWrapper,children:e?m.jsx("svg",{viewBox:"0 0 24 24",className:Wr.copyIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M9.64 18.952l-5.55-4.861 1.317-1.504 3.951 3.459 8.459-10.948L19.4 6.32 9.64 18.952z"})})}):m.jsx("svg",{viewBox:"0 0 24 24",className:Wr.copyIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M18.36 5.64c-1.95-1.96-5.11-1.96-7.07 0L9.88 7.05 8.46 5.64l1.42-1.42c2.73-2.73 7.16-2.73 9.9 0 2.73 2.74 2.73 7.17 0 9.9l-1.42 1.42-1.41-1.42 1.41-1.41c1.96-1.96 1.96-5.12 0-7.07zm-2.12 3.53l-7.07 7.07-1.41-1.41 7.07-7.07 1.41 1.41zm-12.02.71l1.42-1.42 1.41 1.42-1.41 1.41c-1.96 1.96-1.96 5.12 0 7.07 1.95 1.96 5.11 1.96 7.07 0l1.41-1.41 1.42 1.41-1.42 1.42c-2.73 2.73-7.16 2.73-9.9 0-2.73-2.74-2.73-7.17 0-9.9z"})})})}),m.jsx("span",{className:Wr.copyText,children:e?"Copied!":"Copy link"})]})},DV=({tweet:t})=>{const e=uC(t.favorite_count);return m.jsxs("div",{className:Wr.actions,children:[m.jsxs("a",{className:Wr.like,href:t.like_url,target:"_blank",rel:"noopener noreferrer","aria-label":`Like. This Tweet has ${e} likes`,children:[m.jsx("div",{className:Wr.likeIconWrapper,children:m.jsx("svg",{viewBox:"0 0 24 24",className:Wr.likeIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M20.884 13.19c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z"})})})}),m.jsx("span",{className:Wr.likeCount,children:e})]}),m.jsxs("a",{className:Wr.reply,href:t.reply_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Reply to this Tweet on Twitter",children:[m.jsx("div",{className:Wr.replyIconWrapper,children:m.jsx("svg",{viewBox:"0 0 24 24",className:Wr.replyIcon,"aria-hidden":"true",children:m.jsx("g",{children:m.jsx("path",{d:"M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 8.129 3.64 8.129 8.13 0 2.96-1.607 5.68-4.196 7.11l-8.054 4.46v-3.69h-.067c-4.49.1-8.183-3.51-8.183-8.01z"})})})}),m.jsx("span",{className:Wr.replyText,children:"Reply"})]}),m.jsx($V,{tweet:t})]})},jV="_replies_1cutb_1",UV="_link_1cutb_4",LV="_text_1cutb_23",n1={replies:jV,link:UV,text:LV},MV=({tweet:t})=>m.jsx("div",{className:n1.replies,children:m.jsx("a",{className:n1.link,href:t.url,target:"_blank",rel:"noopener noreferrer",children:m.jsx("span",{className:n1.text,children:t.conversation_count===0?"Read more on X":t.conversation_count===1?`Read ${uC(t.conversation_count)} reply`:`Read ${uC(t.conversation_count)} replies`})})}),BV="_root_q5799_1",FV="_article_q5799_16",NT={root:BV,article:FV},zV=({tweet:t,children:e})=>m.jsx("div",{className:NT.root,onClick:n=>{n.preventDefault(),window.open(t.url,"_blank")},children:m.jsx("article",{className:NT.article,children:e})}),qV="_header_r31i5_1",WV="_avatar_r31i5_11",HV="_avatarSquare_r31i5_17",VV="_author_r31i5_21",GV="_authorText_r31i5_26",KV="_username_r31i5_33",Zc={header:qV,avatar:WV,avatarSquare:HV,author:VV,authorText:GV,username:KV},YV=({tweet:t})=>{const{user:e}=t;return m.jsxs("div",{className:Zc.header,children:[m.jsx("a",{href:t.url,className:Zc.avatar,target:"_blank",rel:"noopener noreferrer",children:m.jsx("div",{className:Sc(Zc.avatarOverflow,e.profile_image_shape==="Square"&&Zc.avatarSquare),children:m.jsx(I5,{src:e.profile_image_url_https,alt:e.name,width:20,height:20})})}),m.jsxs("div",{className:Zc.author,children:[m.jsx("div",{className:Zc.authorText,children:m.jsx("span",{title:e.name,children:e.name})}),m.jsx(T5,{user:e}),m.jsx("div",{className:Zc.username,children:m.jsxs("span",{title:`@${e.screen_name}`,children:["@",e.screen_name]})})]})]})},QV="_root_175ot_1",JV={root:QV},ZV=({tweet:t})=>m.jsx("p",{className:JV.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>m.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n))}),XV=({tweet:t})=>{var e;return m.jsxs(zV,{tweet:t,children:[m.jsx(YV,{tweet:t}),m.jsx(ZV,{tweet:t}),(e=t.mediaDetails)!=null&&e.length?m.jsx(k5,{quoted:!0,tweet:t}):null]})},eG=({tweet:t,components:e})=>{var n;const r=M.useMemo(()=>VH(t),[t]);return m.jsxs(pA,{children:[m.jsx(IH,{tweet:r,components:e}),r.in_reply_to_status_id_str&&m.jsx(PH,{tweet:r}),m.jsx(jH,{tweet:r}),(n=r.mediaDetails)!=null&&n.length?m.jsx(k5,{tweet:r,components:e}):null,r.quoted_tweet&&m.jsx(XV,{tweet:r.quoted_tweet}),m.jsx(bV,{tweet:r}),m.jsx(DV,{tweet:r}),m.jsx(MV,{tweet:r})]})},tG="_root_16yxa_1",nG={root:tG},rG=t=>m.jsx(pA,{children:m.jsxs("div",{className:nG.root,children:[m.jsx("h3",{children:"Tweet not found"}),m.jsx("p",{children:"The embedded tweet could not be found…"})]})}),sG="_skeleton_oi7hr_1",iG={skeleton:sG},cy=({style:t})=>m.jsx("span",{className:iG.skeleton,style:t}),oG="_root_17qqv_1",aG={root:oG},cG=()=>m.jsxs(pA,{className:aG.root,children:[m.jsx(cy,{style:{height:"3rem",marginBottom:"0.75rem"}}),m.jsx(cy,{style:{height:"6rem",margin:"0.5rem 0"}}),m.jsx("div",{style:{borderTop:"var(--tweet-border)",margin:"0.5rem 0"}}),m.jsx(cy,{style:{height:"2rem"}}),m.jsx(cy,{style:{height:"2rem",borderRadius:"9999px",marginTop:"0.5rem"}})]});var O5={exports:{}},R5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh=M;function lG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uG=typeof Object.is=="function"?Object.is:lG,dG=dh.useState,hG=dh.useEffect,fG=dh.useLayoutEffect,pG=dh.useDebugValue;function gG(t,e){var n=e(),r=dG({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return fG(function(){s.value=n,s.getSnapshot=e,r1(s)&&i({inst:s})},[t,n,e]),hG(function(){return r1(s)&&i({inst:s}),t(function(){r1(s)&&i({inst:s})})},[t]),pG(n),n}function r1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uG(t,n)}catch{return!0}}function mG(t,e){return e()}var yG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mG:gG;R5.useSyncExternalStore=dh.useSyncExternalStore!==void 0?dh.useSyncExternalStore:yG;O5.exports=R5;var wG=O5.exports;const $5=0,D5=1,j5=2,PT=3;var kT=Object.prototype.hasOwnProperty;function dC(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&dC(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(kT.call(t,n)&&++r&&!kT.call(e,n)||!(n in e)||!dC(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const zo=new WeakMap,uc=()=>{},Er=uc(),hC=Object,at=t=>t===Er,ro=t=>typeof t=="function",Uc=(t,e)=>({...t,...e}),U5=t=>ro(t.then),s1={},ly={},gA="undefined",rm=typeof window!=gA,fC=typeof document!=gA,vG=rm&&"Deno"in window,bG=()=>rm&&typeof window.requestAnimationFrame!=gA,L5=(t,e)=>{const n=zo.get(t);return[()=>!at(e)&&t.get(e)||s1,r=>{if(!at(e)){const s=t.get(e);e in ly||(ly[e]=s),n[5](e,Uc(s,r),s||s1)}},n[6],()=>!at(e)&&e in ly?ly[e]:!at(e)&&t.get(e)||s1]};let pC=!0;const _G=()=>pC,[gC,mC]=rm&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[uc,uc],EG=()=>{const t=fC&&document.visibilityState;return at(t)||t!=="hidden"},CG=t=>(fC&&document.addEventListener("visibilitychange",t),gC("focus",t),()=>{fC&&document.removeEventListener("visibilitychange",t),mC("focus",t)}),xG=t=>{const e=()=>{pC=!0,t()},n=()=>{pC=!1};return gC("online",e),gC("offline",n),()=>{mC("online",e),mC("offline",n)}},SG={isOnline:_G,isVisible:EG},AG={initFocus:CG,initReconnect:xG},OT=!Hs.useId,ag=!rm||vG,IG=t=>bG()?window.requestAnimationFrame(t):setTimeout(t,1),i1=ag?M.useEffect:M.useLayoutEffect,o1=typeof navigator<"u"&&navigator.connection,RT=!ag&&o1&&(["slow-2g","2g"].includes(o1.effectiveType)||o1.saveData),uy=new WeakMap,a1=(t,e)=>hC.prototype.toString.call(t)===`[object ${e}]`;let TG=0;const yC=t=>{const e=typeof t,n=a1(t,"Date"),r=a1(t,"RegExp"),s=a1(t,"Object");let i,o;if(hC(t)===t&&!n&&!r){if(i=uy.get(t),i)return i;if(i=++TG+"~",uy.set(t,i),Array.isArray(t)){for(i="@",o=0;o<t.length;o++)i+=yC(t[o])+",";uy.set(t,i)}if(s){i="#";const a=hC.keys(t).sort();for(;!at(o=a.pop());)at(t[o])||(i+=o+":"+yC(t[o])+",");uy.set(t,i)}}else i=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},mA=t=>{if(ro(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?yC(t):"",[t,e]};let NG=0;const wC=()=>++NG;async function M5(...t){const[e,n,r,s]=t,i=Uc({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let o=i.populateCache;const a=i.rollbackOnError;let c=i.optimisticData;const l=h=>typeof a=="function"?a(h):a!==!1,u=i.throwOnError;if(ro(n)){const h=n,f=[],p=e.keys();for(const g of p)!/^\$(inf|sub)\$/.test(g)&&h(e.get(g)._k)&&f.push(g);return Promise.all(f.map(d))}return d(n);async function d(h){const[f]=mA(h);if(!f)return;const[p,g]=L5(e,f),[y,w,b,v]=zo.get(e),E=()=>{const W=y[f];return(ro(i.revalidate)?i.revalidate(p().data,h):i.revalidate!==!1)&&(delete b[f],delete v[f],W&&W[0])?W[0](j5).then(()=>p().data):p().data};if(t.length<3)return E();let _=r,x;const S=wC();w[f]=[S,0];const T=!at(c),C=p(),O=C.data,R=C._c,B=at(R)?O:R;if(T&&(c=ro(c)?c(B,O):c,g({data:c,_c:B})),ro(_))try{_=_(B)}catch(W){x=W}if(_&&U5(_))if(_=await _.catch(W=>{x=W}),S!==w[f][0]){if(x)throw x;return _}else x&&T&&l(x)&&(o=!0,g({data:B,_c:Er}));if(o&&!x)if(ro(o)){const W=o(_,B);g({data:W,error:Er,_c:Er})}else g({data:_,error:Er,_c:Er});if(w[f][1]=wC(),Promise.resolve(E()).then(()=>{g({_c:Er})}),x){if(u)throw x;return}return _}}const $T=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},PG=(t,e)=>{if(!zo.has(t)){const n=Uc(AG,e),r=Object.create(null),s=M5.bind(Er,t);let i=uc;const o=Object.create(null),a=(u,d)=>{const h=o[u]||[];return o[u]=h,h.push(d),()=>h.splice(h.indexOf(d),1)},c=(u,d,h)=>{t.set(u,d);const f=o[u];if(f)for(const p of f)p(d,h)},l=()=>{if(!zo.has(t)&&(zo.set(t,[r,Object.create(null),Object.create(null),Object.create(null),s,c,a]),!ag)){const u=n.initFocus(setTimeout.bind(Er,$T.bind(Er,r,$5))),d=n.initReconnect(setTimeout.bind(Er,$T.bind(Er,r,D5)));i=()=>{u&&u(),d&&d(),zo.delete(t)}}};return l(),[t,s,l,i]}return[t,zo.get(t)[4]]},kG=(t,e,n,r,s)=>{const i=n.errorRetryCount,o=s.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!at(i)&&o>i||setTimeout(r,a,s)},OG=dC,[B5,RG]=PG(new Map),$G=Uc({onLoadingSlow:uc,onSuccess:uc,onError:uc,onErrorRetry:kG,onDiscarded:uc,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:RT?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:RT?5e3:3e3,compare:OG,isPaused:()=>!1,cache:B5,mutate:RG,fallback:{}},SG),DG=(t,e)=>{const n=Uc(t,e);if(e){const{use:r,fallback:s}=t,{use:i,fallback:o}=e;r&&i&&(n.use=r.concat(i)),s&&o&&(n.fallback=Uc(s,o))}return n},jG=M.createContext({}),UG="$inf$",F5=rm&&window.__SWR_DEVTOOLS_USE__,LG=F5?window.__SWR_DEVTOOLS_USE__:[],MG=()=>{F5&&(window.__SWR_DEVTOOLS_REACT__=Hs)},BG=t=>ro(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],FG=()=>Uc($G,M.useContext(jG)),zG=t=>(e,n,r)=>t(e,n&&((...i)=>{const[o]=mA(e),[,,,a]=zo.get(B5);if(o.startsWith(UG))return n(...i);const c=a[o];return at(c)?n(...i):(delete a[o],c)}),r),qG=LG.concat(zG),WG=t=>function(...n){const r=FG(),[s,i,o]=BG(n),a=DG(r,o);let c=t;const{use:l}=a,u=(l||[]).concat(qG);for(let d=u.length;d--;)c=u[d](c);return c(s,i||a.fetcher||null,a)},HG=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}};MG();const c1=Hs.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),l1={dedupe:!0},VG=(t,e,n)=>{const{cache:r,compare:s,suspense:i,fallbackData:o,revalidateOnMount:a,revalidateIfStale:c,refreshInterval:l,refreshWhenHidden:u,refreshWhenOffline:d,keepPreviousData:h}=n,[f,p,g,y]=zo.get(r),[w,b]=mA(t),v=M.useRef(!1),E=M.useRef(!1),_=M.useRef(w),x=M.useRef(e),S=M.useRef(n),T=()=>S.current,C=()=>T().isVisible()&&T().isOnline(),[O,R,B,W]=L5(r,w),F=M.useRef({}).current,A=at(o)?at(n.fallback)?Er:n.fallback[w]:o,I=(qe,We)=>{for(const Ht in F){const Pt=Ht;if(Pt==="data"){if(!s(qe[Pt],We[Pt])&&(!at(qe[Pt])||!s(ne,We[Pt])))return!1}else if(We[Pt]!==qe[Pt])return!1}return!0},D=M.useMemo(()=>{const qe=!w||!e?!1:at(a)?T().isPaused()||i?!1:c!==!1:a,We=Kt=>{const jn=Uc(Kt);return delete jn._k,qe?{isValidating:!0,isLoading:!0,...jn}:jn},Ht=O(),Pt=W(),xn=We(Ht),is=Ht===Pt?xn:We(Pt);let Lt=xn;return[()=>{const Kt=We(O());return I(Kt,Lt)?(Lt.data=Kt.data,Lt.isLoading=Kt.isLoading,Lt.isValidating=Kt.isValidating,Lt.error=Kt.error,Lt):(Lt=Kt,Kt)},()=>is]},[r,w]),N=wG.useSyncExternalStore(M.useCallback(qe=>B(w,(We,Ht)=>{I(Ht,We)||qe()}),[r,w]),D[0],D[1]),k=!v.current,U=f[w]&&f[w].length>0,q=N.data,Y=at(q)?A&&U5(A)?c1(A):A:q,ee=N.error,Q=M.useRef(Y),ne=h?at(q)?at(Q.current)?Y:Q.current:q:Y,ae=U&&!at(ee)?!1:k&&!at(a)?a:T().isPaused()?!1:i?at(Y)?!1:c:at(Y)||c,ye=!!(w&&e&&k&&ae),Le=at(N.isValidating)?ye:N.isValidating,Re=at(N.isLoading)?ye:N.isLoading,Be=M.useCallback(async qe=>{const We=x.current;if(!w||!We||E.current||T().isPaused())return!1;let Ht,Pt,xn=!0;const is=qe||{},Lt=!g[w]||!is.dedupe,Kt=()=>OT?!E.current&&w===_.current&&v.current:w===_.current,jn={isValidating:!1,isLoading:!1},ji=()=>{R(jn)},ti=()=>{const tn=g[w];tn&&tn[1]===Pt&&delete g[w]},os={isValidating:!0};at(O().data)&&(os.isLoading=!0);try{if(Lt&&(R(os),n.loadingTimeout&&at(O().data)&&setTimeout(()=>{xn&&Kt()&&T().onLoadingSlow(w,n)},n.loadingTimeout),g[w]=[We(b),wC()]),[Ht,Pt]=g[w],Ht=await Ht,Lt&&setTimeout(ti,n.dedupingInterval),!g[w]||g[w][1]!==Pt)return Lt&&Kt()&&T().onDiscarded(w),!1;jn.error=Er;const tn=p[w];if(!at(tn)&&(Pt<=tn[0]||Pt<=tn[1]||tn[1]===0))return ji(),Lt&&Kt()&&T().onDiscarded(w),!1;const Xn=O().data;jn.data=s(Xn,Ht)?Xn:Ht,Lt&&Kt()&&T().onSuccess(Ht,w,n)}catch(tn){ti();const Xn=T(),{shouldRetryOnError:vo}=Xn;Xn.isPaused()||(jn.error=tn,Lt&&Kt()&&(Xn.onError(tn,w,Xn),(vo===!0||ro(vo)&&vo(tn))&&(!T().revalidateOnFocus||!T().revalidateOnReconnect||C())&&Xn.onErrorRetry(tn,w,Xn,Qc=>{const Ui=f[w];Ui&&Ui[0]&&Ui[0](PT,Qc)},{retryCount:(is.retryCount||0)+1,dedupe:!0})))}return xn=!1,ji(),!0},[w,r]),Xe=M.useCallback((...qe)=>M5(r,_.current,...qe),[]);if(i1(()=>{x.current=e,S.current=n,at(q)||(Q.current=q)}),i1(()=>{if(!w)return;const qe=Be.bind(Er,l1);let We=0;T().revalidateOnFocus&&(We=Date.now()+T().focusThrottleInterval);const Pt=HG(w,f,(xn,is={})=>{if(xn==$5){const Lt=Date.now();T().revalidateOnFocus&&Lt>We&&C()&&(We=Lt+T().focusThrottleInterval,qe())}else if(xn==D5)T().revalidateOnReconnect&&C()&&qe();else{if(xn==j5)return Be();if(xn==PT)return Be(is)}});return E.current=!1,_.current=w,v.current=!0,R({_k:b}),ae&&(at(Y)||ag?qe():IG(qe)),()=>{E.current=!0,Pt()}},[w]),i1(()=>{let qe;function We(){const Pt=ro(l)?l(O().data):l;Pt&&qe!==-1&&(qe=setTimeout(Ht,Pt))}function Ht(){!O().error&&(u||T().isVisible())&&(d||T().isOnline())?Be(l1).then(We):We()}return We(),()=>{qe&&(clearTimeout(qe),qe=-1)}},[l,u,d,w]),M.useDebugValue(ne),i&&at(Y)&&w){if(!OT&&ag)throw new Error("Fallback data is required when using Suspense in SSR.");x.current=e,S.current=n,E.current=!1;const qe=y[w];if(!at(qe)){const We=Xe(qe);c1(We)}if(at(ee)){const We=Be(l1);at(ne)||(We.status="fulfilled",We.value=!0),c1(We)}else throw ee}return{mutate:Xe,get data(){return F.data=!0,ne},get error(){return F.error=!0,ee},get isValidating(){return F.isValidating=!0,Le},get isLoading(){return F.isLoading=!0,Re}}},DT=WG(VG);class GG extends Error{constructor({message:e,status:n,data:r}){super(e),this.name="TwitterApiError",this.status=n,this.data=r}}const KG=DT.default||DT,YG="https://react-tweet.vercel.app";async function QG([t,e]){const n=await fetch(t,e),r=await n.json();if(n.ok)return r.data||null;throw new GG({message:`Failed to fetch tweet at "${t}" with "${n.status}".`,data:r,status:n.status})}const JG=(t,e,n)=>{const{isLoading:r,data:s,error:i}=KG(()=>e||t?[e||t&&`${YG}/api/tweet/${t}`,n]:null,QG,{revalidateIfStale:!1,revalidateOnFocus:!1,shouldRetryOnError:!1});return{isLoading:!!(r||s===void 0&&!i),data:s,error:i}},ZG=({id:t,apiUrl:e,fallback:n=m.jsx(cG,{}),components:r,fetchOptions:s,onError:i})=>{const{data:o,error:a,isLoading:c}=JG(t,e,s);if(c)return n;if(a||!o){const l=(r==null?void 0:r.TweetNotFound)||rG;return m.jsx(l,{error:i?i(a):a})}return m.jsx(eG,{tweet:o,components:r})};var hv={exports:{}},z5={},q5={exports:{}},XG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eK=XG,tK=eK;function W5(){}function H5(){}H5.resetWarningCache=W5;var nK=function(){function t(r,s,i,o,a,c){if(c!==tK){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:H5,resetWarningCache:W5};return n.PropTypes=n,n};q5.exports=nK();var V5=q5.exports;function G5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=G5(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function jT(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=G5(t))&&(r&&(r+=" "),r+=e);return r}const rK=Object.freeze(Object.defineProperty({__proto__:null,clsx:jT,default:jT},Symbol.toStringTag,{value:"Module"})),sK=D0(rK);var an={},yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.dontSetMe=lK;yo.findInArray=iK;yo.int=cK;yo.isFunction=oK;yo.isNum=aK;function iK(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function oK(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function aK(t){return typeof t=="number"&&!isNaN(t)}function cK(t){return parseInt(t,10)}function lK(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var wu={};Object.defineProperty(wu,"__esModule",{value:!0});wu.browserPrefixToKey=Y5;wu.browserPrefixToStyle=uK;wu.default=void 0;wu.getPrefix=K5;const u1=["Moz","Webkit","O","ms"];function K5(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<u1.length;r++)if(Y5(e,u1[r])in n)return u1[r];return""}function Y5(t,e){return e?"".concat(e).concat(dK(t)):t}function uK(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function dK(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}wu.default=K5();Object.defineProperty(an,"__esModule",{value:!0});an.addClassName=Z5;an.addEvent=pK;an.addUserSelectStyles=SK;an.createCSSTransform=_K;an.createSVGTransform=EK;an.getTouch=CK;an.getTouchIdentifier=xK;an.getTranslation=yA;an.innerHeight=wK;an.innerWidth=vK;an.matchesSelector=J5;an.matchesSelectorAndParentsTo=fK;an.offsetXYFromParent=bK;an.outerHeight=mK;an.outerWidth=yK;an.removeClassName=X5;an.removeEvent=gK;an.removeUserSelectStyles=AK;var bs=yo,UT=hK(wu);function Q5(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(Q5=function(r){return r?n:e})(t)}function hK(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=Q5(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}let dy="";function J5(t,e){return dy||(dy=(0,bs.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,bs.isFunction)(t[n])})),(0,bs.isFunction)(t[dy])?t[dy](e):!1}function fK(t,e,n){let r=t;do{if(J5(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function pK(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,s):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function gK(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,s):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function mK(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,bs.int)(n.borderTopWidth),e+=(0,bs.int)(n.borderBottomWidth),e}function yK(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,bs.int)(n.borderLeftWidth),e+=(0,bs.int)(n.borderRightWidth),e}function wK(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,bs.int)(n.paddingTop),e-=(0,bs.int)(n.paddingBottom),e}function vK(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,bs.int)(n.paddingLeft),e-=(0,bs.int)(n.paddingRight),e}function bK(t,e,n){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),i=(t.clientX+e.scrollLeft-s.left)/n,o=(t.clientY+e.scrollTop-s.top)/n;return{x:i,y:o}}function _K(t,e){const n=yA(t,e,"px");return{[(0,UT.browserPrefixToKey)("transform",UT.default)]:n}}function EK(t,e){return yA(t,e,"")}function yA(t,e,n){let{x:r,y:s}=t,i="translate(".concat(r).concat(n,",").concat(s).concat(n,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);i="translate(".concat(o,", ").concat(a,")")+i}return i}function CK(t,e){return t.targetTouches&&(0,bs.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,bs.findInArray)(t.changedTouches,n=>e===n.identifier)}function xK(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function SK(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&Z5(t.body,"react-draggable-transparent-selection")}function AK(t){if(t)try{if(t.body&&X5(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function Z5(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function X5(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.canDragX=NK;wo.canDragY=PK;wo.createCoreData=OK;wo.createDraggableData=RK;wo.getBoundPosition=IK;wo.getControlPosition=kK;wo.snapToGrid=TK;var us=yo,xd=an;function IK(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:$K(r);const s=wA(t);if(typeof r=="string"){const{ownerDocument:i}=s,o=i.defaultView;let a;if(r==="parent"?a=s.parentNode:a=i.querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=a,l=o.getComputedStyle(s),u=o.getComputedStyle(c);r={left:-s.offsetLeft+(0,us.int)(u.paddingLeft)+(0,us.int)(l.marginLeft),top:-s.offsetTop+(0,us.int)(u.paddingTop)+(0,us.int)(l.marginTop),right:(0,xd.innerWidth)(c)-(0,xd.outerWidth)(s)-s.offsetLeft+(0,us.int)(u.paddingRight)-(0,us.int)(l.marginRight),bottom:(0,xd.innerHeight)(c)-(0,xd.outerHeight)(s)-s.offsetTop+(0,us.int)(u.paddingBottom)-(0,us.int)(l.marginBottom)}}return(0,us.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,us.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,us.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,us.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function TK(t,e,n){const r=Math.round(e/t[0])*t[0],s=Math.round(n/t[1])*t[1];return[r,s]}function NK(t){return t.props.axis==="both"||t.props.axis==="x"}function PK(t){return t.props.axis==="both"||t.props.axis==="y"}function kK(t,e,n){const r=typeof e=="number"?(0,xd.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const s=wA(n),i=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,xd.offsetXYFromParent)(r||t,i,n.props.scale)}function OK(t,e,n){const r=!(0,us.isNum)(t.lastX),s=wA(t);return r?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function RK(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function $K(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function wA(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var fv={},pv={};Object.defineProperty(pv,"__esModule",{value:!0});pv.default=DK;function DK(){}Object.defineProperty(fv,"__esModule",{value:!0});fv.default=void 0;var d1=UK(M),kr=vA(V5),jK=vA(LS),sr=an,ma=wo,h1=yo,rf=vA(pv);function vA(t){return t&&t.__esModule?t:{default:t}}function e8(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(e8=function(r){return r?n:e})(t)}function UK(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=e8(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function yr(t,e,n){return e=LK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LK(t){var e=MK(t,"string");return typeof e=="symbol"?e:String(e)}function MK(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const li={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ya=li.mouse,gv=class extends d1.Component{constructor(){super(...arguments),yr(this,"dragging",!1),yr(this,"lastX",NaN),yr(this,"lastY",NaN),yr(this,"touchIdentifier",null),yr(this,"mounted",!1),yr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,sr.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,sr.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const s=(0,sr.getTouchIdentifier)(e);this.touchIdentifier=s;const i=(0,ma.getControlPosition)(e,s,this);if(i==null)return;const{x:o,y:a}=i,c=(0,ma.createCoreData)(this,o,a);(0,rf.default)("DraggableCore: handleDragStart: %j",c),(0,rf.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,sr.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,sr.addEvent)(r,ya.move,this.handleDrag),(0,sr.addEvent)(r,ya.stop,this.handleDragStop))}),yr(this,"handleDrag",e=>{const n=(0,ma.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,c=s-this.lastY;if([a,c]=(0,ma.snapToGrid)(this.props.grid,a,c),!a&&!c)return;r=this.lastX+a,s=this.lastY+c}const i=(0,ma.createCoreData)(this,r,s);if((0,rf.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(e,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=s}),yr(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,ma.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,l=s-this.lastY||0;[c,l]=(0,ma.snapToGrid)(this.props.grid,c,l),r=this.lastX+c,s=this.lastY+l}const i=(0,ma.createCoreData)(this,r,s);if(this.props.onStop(e,i)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,sr.removeUserSelectStyles)(a.ownerDocument),(0,rf.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,rf.default)("DraggableCore: Removing handlers"),(0,sr.removeEvent)(a.ownerDocument,ya.move,this.handleDrag),(0,sr.removeEvent)(a.ownerDocument,ya.stop,this.handleDragStop))}),yr(this,"onMouseDown",e=>(ya=li.mouse,this.handleDragStart(e))),yr(this,"onMouseUp",e=>(ya=li.mouse,this.handleDragStop(e))),yr(this,"onTouchStart",e=>(ya=li.touch,this.handleDragStart(e))),yr(this,"onTouchEnd",e=>(ya=li.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,sr.addEvent)(e,li.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,sr.removeEvent)(n,li.mouse.move,this.handleDrag),(0,sr.removeEvent)(n,li.touch.move,this.handleDrag),(0,sr.removeEvent)(n,li.mouse.stop,this.handleDragStop),(0,sr.removeEvent)(n,li.touch.stop,this.handleDragStop),(0,sr.removeEvent)(e,li.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,sr.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:jK.default.findDOMNode(this)}render(){return d1.cloneElement(d1.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};fv.default=gv;yr(gv,"displayName","DraggableCore");yr(gv,"propTypes",{allowAnyClick:kr.default.bool,children:kr.default.node.isRequired,disabled:kr.default.bool,enableUserSelectHack:kr.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:kr.default.arrayOf(kr.default.number),handle:kr.default.string,cancel:kr.default.string,nodeRef:kr.default.object,onStart:kr.default.func,onDrag:kr.default.func,onStop:kr.default.func,onMouseDown:kr.default.func,scale:kr.default.number,className:h1.dontSetMe,style:h1.dontSetMe,transform:h1.dontSetMe});yr(gv,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=h(M),n=u(V5),r=u(LS),s=u(sK),i=an,o=wo,a=yo,c=u(fv),l=u(pv);function u(b){return b&&b.__esModule?b:{default:b}}function d(b){if(typeof WeakMap!="function")return null;var v=new WeakMap,E=new WeakMap;return(d=function(_){return _?E:v})(b)}function h(b,v){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var E=d(v);if(E&&E.has(b))return E.get(b);var _={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in b)if(S!=="default"&&Object.prototype.hasOwnProperty.call(b,S)){var T=x?Object.getOwnPropertyDescriptor(b,S):null;T&&(T.get||T.set)?Object.defineProperty(_,S,T):_[S]=b[S]}return _.default=b,E&&E.set(b,_),_}function f(){return f=Object.assign?Object.assign.bind():function(b){for(var v=1;v<arguments.length;v++){var E=arguments[v];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(b[_]=E[_])}return b},f.apply(this,arguments)}function p(b,v,E){return v=g(v),v in b?Object.defineProperty(b,v,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[v]=E,b}function g(b){var v=y(b,"string");return typeof v=="symbol"?v:String(v)}function y(b,v){if(typeof b!="object"||b===null)return b;var E=b[Symbol.toPrimitive];if(E!==void 0){var _=E.call(b,v);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(b)}class w extends e.Component{static getDerivedStateFromProps(v,E){let{position:_}=v,{prevPropsPosition:x}=E;return _&&(!x||_.x!==x.x||_.y!==x.y)?((0,l.default)("Draggable: getDerivedStateFromProps %j",{position:_,prevPropsPosition:x}),{x:_.x,y:_.y,prevPropsPosition:{..._}}):null}constructor(v){super(v),p(this,"onDragStart",(E,_)=>{if((0,l.default)("Draggable: onDragStart: %j",_),this.props.onStart(E,(0,o.createDraggableData)(this,_))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(E,_)=>{if(!this.state.dragging)return!1;(0,l.default)("Draggable: onDrag: %j",_);const x=(0,o.createDraggableData)(this,_),S={x:x.x,y:x.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:O}=S;S.x+=this.state.slackX,S.y+=this.state.slackY;const[R,B]=(0,o.getBoundPosition)(this,S.x,S.y);S.x=R,S.y=B,S.slackX=this.state.slackX+(C-S.x),S.slackY=this.state.slackY+(O-S.y),x.x=S.x,x.y=S.y,x.deltaX=S.x-this.state.x,x.deltaY=S.y-this.state.y}if(this.props.onDrag(E,x)===!1)return!1;this.setState(S)}),p(this,"onDragStop",(E,_)=>{if(!this.state.dragging||this.props.onStop(E,(0,o.createDraggableData)(this,_))===!1)return!1;(0,l.default)("Draggable: onDragStop: %j",_);const S={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:O}=this.props.position;S.x=C,S.y=O}this.setState(S)}),this.state={dragging:!1,dragged:!1,x:v.position?v.position.x:v.defaultPosition.x,y:v.position?v.position.y:v.defaultPosition.y,prevPropsPosition:{...v.position},slackX:0,slackY:0,isElementSVG:!1},v.position&&!(v.onDrag||v.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var v,E;return(v=(E=this.props)===null||E===void 0||(E=E.nodeRef)===null||E===void 0?void 0:E.current)!==null&&v!==void 0?v:r.default.findDOMNode(this)}render(){const{axis:v,bounds:E,children:_,defaultPosition:x,defaultClassName:S,defaultClassNameDragging:T,defaultClassNameDragged:C,position:O,positionOffset:R,scale:B,...W}=this.props;let F={},A=null;const D=!!!O||this.state.dragging,N=O||x,k={x:(0,o.canDragX)(this)&&D?this.state.x:N.x,y:(0,o.canDragY)(this)&&D?this.state.y:N.y};this.state.isElementSVG?A=(0,i.createSVGTransform)(k,R):F=(0,i.createCSSTransform)(k,R);const U=(0,s.default)(_.props.className||"",S,{[T]:this.state.dragging,[C]:this.state.dragged});return e.createElement(c.default,f({},W,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(_),{className:U,style:{..._.props.style,...F},transform:A}))}}t.default=w,p(w,"displayName","Draggable"),p(w,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),p(w,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(z5);const{default:t8,DraggableCore:BK}=z5;hv.exports=t8;hv.exports.default=t8;hv.exports.DraggableCore=BK;var FK=hv.exports;const sm=pu(FK);function Zt(){return Zt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zt.apply(null,arguments)}function n8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var r8={exports:{}},St={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dn=typeof Symbol=="function"&&Symbol.for,bA=Dn?Symbol.for("react.element"):60103,_A=Dn?Symbol.for("react.portal"):60106,mv=Dn?Symbol.for("react.fragment"):60107,yv=Dn?Symbol.for("react.strict_mode"):60108,wv=Dn?Symbol.for("react.profiler"):60114,vv=Dn?Symbol.for("react.provider"):60109,bv=Dn?Symbol.for("react.context"):60110,EA=Dn?Symbol.for("react.async_mode"):60111,_v=Dn?Symbol.for("react.concurrent_mode"):60111,Ev=Dn?Symbol.for("react.forward_ref"):60112,Cv=Dn?Symbol.for("react.suspense"):60113,zK=Dn?Symbol.for("react.suspense_list"):60120,xv=Dn?Symbol.for("react.memo"):60115,Sv=Dn?Symbol.for("react.lazy"):60116,qK=Dn?Symbol.for("react.block"):60121,WK=Dn?Symbol.for("react.fundamental"):60117,HK=Dn?Symbol.for("react.responder"):60118,VK=Dn?Symbol.for("react.scope"):60119;function As(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bA:switch(t=t.type,t){case EA:case _v:case mv:case wv:case yv:case Cv:return t;default:switch(t=t&&t.$$typeof,t){case bv:case Ev:case Sv:case xv:case vv:return t;default:return e}}case _A:return e}}}function s8(t){return As(t)===_v}St.AsyncMode=EA;St.ConcurrentMode=_v;St.ContextConsumer=bv;St.ContextProvider=vv;St.Element=bA;St.ForwardRef=Ev;St.Fragment=mv;St.Lazy=Sv;St.Memo=xv;St.Portal=_A;St.Profiler=wv;St.StrictMode=yv;St.Suspense=Cv;St.isAsyncMode=function(t){return s8(t)||As(t)===EA};St.isConcurrentMode=s8;St.isContextConsumer=function(t){return As(t)===bv};St.isContextProvider=function(t){return As(t)===vv};St.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bA};St.isForwardRef=function(t){return As(t)===Ev};St.isFragment=function(t){return As(t)===mv};St.isLazy=function(t){return As(t)===Sv};St.isMemo=function(t){return As(t)===xv};St.isPortal=function(t){return As(t)===_A};St.isProfiler=function(t){return As(t)===wv};St.isStrictMode=function(t){return As(t)===yv};St.isSuspense=function(t){return As(t)===Cv};St.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===mv||t===_v||t===wv||t===yv||t===Cv||t===zK||typeof t=="object"&&t!==null&&(t.$$typeof===Sv||t.$$typeof===xv||t.$$typeof===vv||t.$$typeof===bv||t.$$typeof===Ev||t.$$typeof===WK||t.$$typeof===HK||t.$$typeof===VK||t.$$typeof===qK)};St.typeOf=As;r8.exports=St;var GK=r8.exports,CA=GK,KK={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},YK={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},QK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xA={};xA[CA.ForwardRef]=QK;xA[CA.Memo]=i8;function LT(t){return CA.isMemo(t)?i8:xA[t.$$typeof]||KK}var JK=Object.defineProperty,ZK=Object.getOwnPropertyNames,MT=Object.getOwnPropertySymbols,XK=Object.getOwnPropertyDescriptor,eY=Object.getPrototypeOf,BT=Object.prototype;function o8(t,e,n){if(typeof e!="string"){if(BT){var r=eY(e);r&&r!==BT&&o8(t,r,n)}var s=ZK(e);MT&&(s=s.concat(MT(e)));for(var i=LT(t),o=LT(e),a=0;a<s.length;++a){var c=s[a];if(!YK[c]&&!(n&&n[c])&&!(o&&o[c])&&!(i&&i[c])){var l=XK(e,c);try{JK(t,c,l)}catch{}}}}return t}var tY=o8;const nY=pu(tY);var a8={};Object.defineProperty(a8,"__esModule",{value:!0});a8.default=rY;function rY(t){return t.displayName||t.name||(typeof t=="string"&&t.length>0?t:"Unknown")}function hy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i0(){return i0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i0.apply(this,arguments)}function sY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function wa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iY(t){var e=function(n){sY(r,n);function r(){for(var i,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return i=n.call.apply(n,[this].concat(a))||this,hy(wa(wa(i)),"cachedTheme",void 0),hy(wa(wa(i)),"lastOuterTheme",void 0),hy(wa(wa(i)),"lastTheme",void 0),hy(wa(wa(i)),"renderProvider",function(l){var u=i.props.children;return Hs.createElement(t.Provider,{value:i.getTheme(l)},u)}),i}var s=r.prototype;return s.getTheme=function(o){if(this.props.theme!==this.lastTheme||o!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=o,this.lastTheme=this.props.theme,typeof this.lastTheme=="function"){var a=this.props.theme;this.cachedTheme=a(o)}else{var c=this.props.theme;this.cachedTheme=o?i0({},o,c):c}return this.cachedTheme},s.render=function(){var o=this.props.children;return o?Hs.createElement(t.Consumer,null,this.renderProvider):null},r}(Hs.Component);return e}function oY(t){return function(n){var r=Hs.forwardRef(function(s,i){return Hs.createElement(t.Consumer,null,function(o){return Hs.createElement(n,i0({theme:o,ref:i},s))})});return nY(r,n),r}}function aY(t){var e=function(){var r=Hs.useContext(t);return r};return e}function cY(t){return{context:t,withTheme:oY(t),useTheme:aY(t),ThemeProvider:iY(t)}}var c8=M.createContext();cY(c8);var FT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph=(typeof window>"u"?"undefined":FT(window))==="object"&&(typeof document>"u"?"undefined":FT(document))==="object"&&document.nodeType===9;function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function lY(t,e){if(cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uY(t){var e=lY(t,"string");return cg(e)=="symbol"?e:e+""}function dY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uY(r.key),r)}}function SA(t,e,n){return e&&dY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vC(t,e){return vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vC(t,e)}function l8(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vC(t,e)}function zT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var hY={}.constructor;function bC(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(bC);if(t.constructor!==hY)return t;var e={};for(var n in t)e[n]=bC(t[n]);return e}function Av(t,e,n){t===void 0&&(t="unnamed");var r=n.jss,s=bC(e),i=r.plugins.onCreateRule(t,s,n);return i||(t[0],null)}var qT=function(e,n){for(var r="",s=0;s<e.length&&e[s]!=="!important";s++)r&&(r+=n),r+=e[s];return r},Fl=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)n&&(n+=", "),n+=qT(e[r]," ");else n=qT(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function kh(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function sf(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function lg(t,e,n){n===void 0&&(n={});var r="";if(!e)return r;var s=n,i=s.indent,o=i===void 0?0:i,a=e.fallbacks;n.format===!1&&(o=-1/0);var c=kh(n),l=c.linebreak,u=c.space;if(t&&o++,a)if(Array.isArray(a))for(var d=0;d<a.length;d++){var h=a[d];for(var f in h){var p=h[f];p!=null&&(r&&(r+=l),r+=sf(f+":"+u+Fl(p)+";",o))}}else for(var g in a){var y=a[g];y!=null&&(r&&(r+=l),r+=sf(g+":"+u+Fl(y)+";",o))}for(var w in e){var b=e[w];b!=null&&w!=="fallbacks"&&(r&&(r+=l),r+=sf(w+":"+u+Fl(b)+";",o))}return!r&&!n.allowEmpty||!t?r:(o--,r&&(r=""+l+r+l),sf(""+t+u+"{"+r,o)+sf("}",o))}var fY=/([[\].#*$><+~=|^:(),"'`\s])/g,WT=typeof CSS<"u"&&CSS.escape,AA=function(t){return WT?WT(t):t.replace(fY,"\\$1")},u8=function(){function t(n,r,s){this.type="style",this.isProcessed=!1;var i=s.sheet,o=s.Renderer;this.key=n,this.options=s,this.style=r,i?this.renderer=i.renderer:o&&(this.renderer=new o)}var e=t.prototype;return e.prop=function(r,s,i){if(s===void 0)return this.style[r];var o=i?i.force:!1;if(!o&&this.style[r]===s)return this;var a=s;(!i||i.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(s,r,this));var c=a==null||a===!1,l=r in this.style;if(c&&!l&&!o)return this;var u=c&&l;if(u?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var d=this.options.sheet;return d&&d.attached,this},t}(),_C=function(t){l8(e,t);function e(r,s,i){var o;o=t.call(this,r,s,i)||this;var a=i.selector,c=i.scoped,l=i.sheet,u=i.generateId;return a?o.selectorText=a:c!==!1&&(o.id=u(zT(zT(o)),l),o.selectorText="."+AA(o.id)),o}var n=e.prototype;return n.applyTo=function(s){var i=this.renderer;if(i){var o=this.toJSON();for(var a in o)i.setProperty(s,a,o[a])}return this},n.toJSON=function(){var s={};for(var i in this.style){var o=this.style[i];typeof o!="object"?s[i]=o:Array.isArray(o)&&(s[i]=Fl(o))}return s},n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?Zt({},s,{allowEmpty:!0}):s;return lg(this.selectorText,this.style,a)},SA(e,[{key:"selector",set:function(s){if(s!==this.selectorText){this.selectorText=s;var i=this.renderer,o=this.renderable;if(!(!o||!i)){var a=i.setSelector(o,s);a||i.replaceRule(o,this)}}},get:function(){return this.selectorText}}]),e}(u8),pY={onCreateRule:function(e,n,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new _C(e,n,r)}},f1={indent:1,children:!0},gY=/@([\w-]+)/,mY=function(){function t(n,r,s){this.type="conditional",this.isProcessed=!1,this.key=n;var i=n.match(gY);this.at=i?i[1]:"unknown",this.query=s.name||"@"+this.at,this.options=s,this.rules=new Iv(Zt({},s,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o?(this.options.jss.plugins.onProcessRule(o),o):null},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.toString=function(r){r===void 0&&(r=f1);var s=kh(r),i=s.linebreak;if(r.indent==null&&(r.indent=f1.indent),r.children==null&&(r.children=f1.children),r.children===!1)return this.query+" {}";var o=this.rules.toString(r);return o?this.query+" {"+i+o+i+"}":""},t}(),yY=/@container|@media|@supports\s+/,wY={onCreateRule:function(e,n,r){return yY.test(e)?new mY(e,n,r):null}},p1={indent:1,children:!0},vY=/@keyframes\s+([\w-]+)/,EC=function(){function t(n,r,s){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=n.match(vY);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=s;var o=s.scoped,a=s.sheet,c=s.generateId;this.id=o===!1?this.name:AA(c(this,a)),this.rules=new Iv(Zt({},s,{parent:this}));for(var l in r)this.rules.add(l,r[l],Zt({},s,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(r){r===void 0&&(r=p1);var s=kh(r),i=s.linebreak;if(r.indent==null&&(r.indent=p1.indent),r.children==null&&(r.children=p1.children),r.children===!1)return this.at+" "+this.id+" {}";var o=this.rules.toString(r);return o&&(o=""+i+o+i),this.at+" "+this.id+" {"+o+"}"},t}(),bY=/@keyframes\s+/,_Y=/\$([\w-]+)/g,CC=function(e,n){return typeof e=="string"?e.replace(_Y,function(r,s){return s in n?n[s]:r}):e},HT=function(e,n,r){var s=e[n],i=CC(s,r);i!==s&&(e[n]=i)},EY={onCreateRule:function(e,n,r){return typeof e=="string"&&bY.test(e)?new EC(e,n,r):null},onProcessStyle:function(e,n,r){return n.type!=="style"||!r||("animation-name"in e&&HT(e,"animation-name",r.keyframes),"animation"in e&&HT(e,"animation",r.keyframes)),e},onChangeValue:function(e,n,r){var s=r.options.sheet;if(!s)return e;switch(n){case"animation":return CC(e,s.keyframes);case"animation-name":return CC(e,s.keyframes);default:return e}}},CY=function(t){l8(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?Zt({},s,{allowEmpty:!0}):s;return lg(this.key,this.style,a)},e}(u8),xY={onCreateRule:function(e,n,r){return r.parent&&r.parent.type==="keyframes"?new CY(e,n,r):null}},SY=function(){function t(n,r,s){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){var s=kh(r),i=s.linebreak;if(Array.isArray(this.style)){for(var o="",a=0;a<this.style.length;a++)o+=lg(this.at,this.style[a]),this.style[a+1]&&(o+=i);return o}return lg(this.at,this.style,r)},t}(),AY=/@font-face/,IY={onCreateRule:function(e,n,r){return AY.test(e)?new SY(e,n,r):null}},TY=function(){function t(n,r,s){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){return lg(this.key,this.style,r)},t}(),NY={onCreateRule:function(e,n,r){return e==="@viewport"||e==="@-ms-viewport"?new TY(e,n,r):null}},PY=function(){function t(n,r,s){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=s}var e=t.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var s="",i=0;i<this.value.length;i++)s+=this.key+" "+this.value[i]+";",this.value[i+1]&&(s+=`
`);return s}return this.key+" "+this.value+";"},t}(),kY={"@charset":!0,"@import":!0,"@namespace":!0},OY={onCreateRule:function(e,n,r){return e in kY?new PY(e,n,r):null}},VT=[pY,wY,EY,xY,IY,NY,OY],RY={process:!0},GT={force:!0,process:!0},Iv=function(){function t(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var e=t.prototype;return e.add=function(r,s,i){var o=this.options,a=o.parent,c=o.sheet,l=o.jss,u=o.Renderer,d=o.generateId,h=o.scoped,f=Zt({classes:this.classes,parent:a,sheet:c,jss:l,Renderer:u,generateId:d,scoped:h,name:r,keyframes:this.keyframes,selector:void 0},i),p=r;r in this.raw&&(p=r+"-d"+this.counter++),this.raw[p]=s,p in this.classes&&(f.selector="."+AA(this.classes[p]));var g=Av(p,s,f);if(!g)return null;this.register(g);var y=f.index===void 0?this.index.length:f.index;return this.index.splice(y,0,g),g},e.replace=function(r,s,i){var o=this.get(r),a=this.index.indexOf(o);o&&this.remove(o);var c=i;return a!==-1&&(c=Zt({},i,{index:a})),this.add(r,s,c)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof _C?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof EC&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof _C?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof EC&&delete this.keyframes[r.name]},e.update=function(){var r,s,i;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2]):(s=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),s,i);else for(var o=0;o<this.index.length;o++)this.updateOne(this.index[o],s,i)},e.updateOne=function(r,s,i){i===void 0&&(i=RY);var o=this.options,a=o.jss.plugins,c=o.sheet;if(r.rules instanceof t){r.rules.update(s,i);return}var l=r.style;if(a.onUpdate(s,r,c,i),i.process&&l&&l!==r.style){a.onProcessStyle(r.style,r,c);for(var u in r.style){var d=r.style[u],h=l[u];d!==h&&r.prop(u,d,GT)}for(var f in l){var p=r.style[f],g=l[f];p==null&&p!==g&&r.prop(f,null,GT)}}},e.toString=function(r){for(var s="",i=this.options.sheet,o=i?i.options.link:!1,a=kh(r),c=a.linebreak,l=0;l<this.index.length;l++){var u=this.index[l],d=u.toString(r);!d&&!o||(s&&(s+=c),s+=d)}return s},t}(),d8=function(){function t(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Zt({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new Iv(this.options);for(var s in n)this.rules.add(s,n[s]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,s,i){var o=this.queue;this.attached&&!o&&(this.queue=[]);var a=this.rules.add(r,s,i);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(o?o.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},e.replaceRule=function(r,s,i){var o=this.rules.get(r);if(!o)return this.addRule(r,s,i);var a=this.rules.replace(r,s,i);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?o.renderable&&this.renderer.replaceRule(o.renderable,a):this.renderer.deleteRule(o)),a):(this.deployed=!1,a)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,s){var i=[];for(var o in r){var a=this.addRule(o,r[o],s);a&&i.push(a)}return i},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var s=typeof r=="object"?r:this.rules.get(r);return!s||this.attached&&!s.renderable?!1:(this.rules.remove(s),this.attached&&s.renderable&&this.renderer?this.renderer.deleteRule(s.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,s,i){return this.rules.updateOne(r,s,i),this},e.toString=function(r){return this.rules.toString(r)},t}(),$Y=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(r,s,i){for(var o=0;o<this.registry.onCreateRule.length;o++){var a=this.registry.onCreateRule[o](r,s,i);if(a)return a}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var s=r.options.sheet,i=0;i<this.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](r,s);r.style&&this.onProcessStyle(r.style,r,s),r.isProcessed=!0}},e.onProcessStyle=function(r,s,i){for(var o=0;o<this.registry.onProcessStyle.length;o++)s.style=this.registry.onProcessStyle[o](s.style,s,i)},e.onProcessSheet=function(r){for(var s=0;s<this.registry.onProcessSheet.length;s++)this.registry.onProcessSheet[s](r)},e.onUpdate=function(r,s,i,o){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,s,i,o)},e.onChangeValue=function(r,s,i){for(var o=r,a=0;a<this.registry.onChangeValue.length;a++)o=this.registry.onChangeValue[a](o,s,i);return o},e.use=function(r,s){s===void 0&&(s={queue:"external"});var i=this.plugins[s.queue];i.indexOf(r)===-1&&(i.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(o,a){for(var c in a)c in o&&o[c].push(a[c]);return o},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),DY=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(r){var s=this.registry,i=r.options.index;if(s.indexOf(r)===-1){if(s.length===0||i>=this.index){s.push(r);return}for(var o=0;o<s.length;o++)if(s[o].options.index>i){s.splice(o,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var s=this.registry.indexOf(r);this.registry.splice(s,1)},e.toString=function(r){for(var s=r===void 0?{}:r,i=s.attached,o=n8(s,["attached"]),a=kh(o),c=a.linebreak,l="",u=0;u<this.registry.length;u++){var d=this.registry[u];i!=null&&d.attached!==i||(l&&(l+=c),l+=d.toString(o))}return l},SA(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),ep=new DY,xC=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),SC="2f1acc6c3a606b082e5eef5e54414ffb";xC[SC]==null&&(xC[SC]=0);var KT=xC[SC]++,YT=function(e){e===void 0&&(e={});var n=0,r=function(i,o){n+=1;var a="",c="";return o&&(o.options.classNamePrefix&&(c=o.options.classNamePrefix),o.options.jss.id!=null&&(a=String(o.options.jss.id))),e.minify?""+(c||"c")+KT+a+n:c+i.key+"-"+KT+(a?"-"+a:"")+"-"+n};return r},h8=function(e){var n;return function(){return n||(n=e()),n}},jY=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},UY=function(e,n,r){try{var s=r;if(Array.isArray(r)&&(s=Fl(r)),e.attributeStyleMap)e.attributeStyleMap.set(n,s);else{var i=s?s.indexOf("!important"):-1,o=i>-1?s.substr(0,i-1):s;e.style.setProperty(n,o,i>-1?"important":"")}}catch{return!1}return!0},LY=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},MY=function(e,n){return e.selectorText=n,e.selectorText===n},f8=h8(function(){return document.querySelector("head")});function BY(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function FY(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function zY(t){for(var e=f8(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===t)return r}return null}function qY(t){var e=ep.registry;if(e.length>0){var n=BY(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=FY(e,t),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&typeof r=="string"){var s=zY(r);if(s)return{parent:s.parentNode,node:s.nextSibling}}return!1}function WY(t,e){var n=e.insertionPoint,r=qY(e);if(r!==!1&&r.parent){r.parent.insertBefore(t,r.node);return}if(n&&typeof n.nodeType=="number"){var s=n,i=s.parentNode;i&&i.insertBefore(t,s.nextSibling);return}f8().appendChild(t)}var HY=h8(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),QT=function(e,n,r){try{"insertRule"in e?e.insertRule(n,r):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[r]},JT=function(e,n){var r=e.cssRules.length;return n===void 0||n>r?r:n},VY=function(){var e=document.createElement("style");return e.textContent=`
`,e},GY=function(){function t(n){this.getPropertyValue=jY,this.setProperty=UY,this.removeProperty=LY,this.setSelector=MY,this.hasInsertedRules=!1,this.cssRules=[],n&&ep.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},s=r.media,i=r.meta,o=r.element;this.element=o||VY(),this.element.setAttribute("data-jss",""),s&&this.element.setAttribute("media",s),i&&this.element.setAttribute("data-meta",i);var a=HY();a&&this.element.setAttribute("nonce",a)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){WY(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,s){for(var i=0;i<r.index.length;i++)this.insertRule(r.index[i],i,s)},e.insertRule=function(r,s,i){if(i===void 0&&(i=this.element.sheet),r.rules){var o=r,a=i;if(r.type==="conditional"||r.type==="keyframes"){var c=JT(i,s);if(a=QT(i,o.toString({children:!1}),c),a===!1)return!1;this.refCssRule(r,c,a)}return this.insertRules(o.rules,a),a}var l=r.toString();if(!l)return!1;var u=JT(i,s),d=QT(i,l,u);return d===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,u,d),d)},e.refCssRule=function(r,s,i){r.renderable=i,r.options.parent instanceof d8&&this.cssRules.splice(s,0,i)},e.deleteRule=function(r){var s=this.element.sheet,i=this.indexOf(r);return i===-1?!1:(s.deleteRule(i),this.cssRules.splice(i,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,s){var i=this.indexOf(r);return i===-1?!1:(this.element.sheet.deleteRule(i),this.cssRules.splice(i,1),this.insertRule(s,i))},e.getRules=function(){return this.element.sheet.cssRules},t}(),KY=0,YY=function(){function t(n){this.id=KY++,this.version="10.10.0",this.plugins=new $Y,this.options={id:{minify:!1},createGenerateId:YT,Renderer:Ph?GY:null,plugins:[]},this.generateId=YT({minify:!1});for(var r=0;r<VT.length;r++)this.plugins.use(VT[r],{queue:"internal"});this.setup(n)}var e=t.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=Zt({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,s){s===void 0&&(s={});var i=s,o=i.index;typeof o!="number"&&(o=ep.index===0?0:ep.index+1);var a=new d8(r,Zt({},s,{jss:this,generateId:s.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:o}));return this.plugins.onProcessSheet(a),a},e.removeStyleSheet=function(r){return r.detach(),ep.remove(r),this},e.createRule=function(r,s,i){if(s===void 0&&(s={}),i===void 0&&(i={}),typeof r=="object")return this.createRule(void 0,r,s);var o=Zt({},i,{name:r,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var a=Av(r,s,o);return a&&this.plugins.onProcessRule(a),a},e.use=function(){for(var r=this,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return i.forEach(function(a){r.plugins.use(a)}),this},t}(),p8=function(e){return new YY(e)},ZT=function(){function t(){this.length=0,this.sheets=new WeakMap}var e=t.prototype;return e.get=function(r){var s=this.sheets.get(r);return s&&s.sheet},e.add=function(r,s){this.sheets.has(r)||(this.length++,this.sheets.set(r,{sheet:s,refs:0}))},e.manage=function(r){var s=this.sheets.get(r);if(s)return s.refs===0&&s.sheet.attach(),s.refs++,s.sheet},e.unmanage=function(r){var s=this.sheets.get(r);s&&s.refs>0&&(s.refs--,s.refs===0&&s.sheet.detach())},SA(t,[{key:"size",get:function(){return this.length}}]),t}(),IA=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function g8(t){var e=null;for(var n in t){var r=t[n],s=typeof r;if(s==="function")e||(e={}),e[n]=r;else if(s==="object"&&r!==null&&!Array.isArray(r)){var i=g8(r);i&&(e||(e={}),e[n]=i)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */p8();var m8=Date.now(),g1="fnValues"+m8,m1="fnStyle"+ ++m8,QY=function(){return{onCreateRule:function(n,r,s){if(typeof r!="function")return null;var i=Av(n,{},s);return i[m1]=r,i},onProcessStyle:function(n,r){if(g1 in r||m1 in r)return n;var s={};for(var i in n){var o=n[i];typeof o=="function"&&(delete n[i],s[i]=o)}return r[g1]=s,n},onUpdate:function(n,r,s,i){var o=r,a=o[m1];a&&(o.style=a(n)||{});var c=o[g1];if(c)for(var l in c)o.prop(l,c[l](n),i)}}};function JY(t){var e,n=t.Symbol;return typeof n=="function"?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var od;typeof self<"u"?od=self:typeof window<"u"?od=window:typeof global<"u"?od=global:typeof module<"u"?od=module:od=Function("return this")();var XT=JY(od),eN=function(e){return e&&e[XT]&&e===e[XT]()},ZY=function(e){return{onCreateRule:function(r,s,i){if(!eN(s))return null;var o=s,a=Av(r,{},i);return o.subscribe(function(c){for(var l in c)a.prop(l,c[l],e)}),a},onProcessRule:function(r){if(!(r&&r.type!=="style")){var s=r,i=s.style,o=function(u){var d=i[u];if(!eN(d))return"continue";delete i[u],d.subscribe({next:function(f){s.prop(u,f,e)}})};for(var a in i)var c=o(a)}}}},XY=/;\n/,eQ=function(e){for(var n={},r=e.split(XY),s=0;s<r.length;s++){var i=(r[s]||"").trim();if(i){var o=i.indexOf(":");if(o!==-1){var a=i.substr(0,o).trim(),c=i.substr(o+1).trim();n[a]=c}}}return n},tQ=function(e){typeof e.style=="string"&&(e.style=eQ(e.style))};function nQ(){return{onProcessRule:tQ}}var Ac="@global",AC="@global ",rQ=function(){function t(n,r,s){this.type="global",this.at=Ac,this.isProcessed=!1,this.key=n,this.options=s,this.rules=new Iv(Zt({},s,{parent:this}));for(var i in r)this.rules.add(i,r[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},t}(),sQ=function(){function t(n,r,s){this.type="global",this.at=Ac,this.isProcessed=!1,this.key=n,this.options=s;var i=n.substr(AC.length);this.rule=s.jss.createRule(i,r,Zt({},s,{parent:this}))}var e=t.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},t}(),iQ=/\s*,\s*/g;function y8(t,e){for(var n=t.split(iQ),r="",s=0;s<n.length;s++)r+=e+" "+n[s].trim(),n[s+1]&&(r+=", ");return r}function oQ(t,e){var n=t.options,r=t.style,s=r?r[Ac]:null;if(s){for(var i in s)e.addRule(i,s[i],Zt({},n,{selector:y8(i,t.selector)}));delete r[Ac]}}function aQ(t,e){var n=t.options,r=t.style;for(var s in r)if(!(s[0]!=="@"||s.substr(0,Ac.length)!==Ac)){var i=y8(s.substr(Ac.length),t.selector);e.addRule(i,r[s],Zt({},n,{selector:i})),delete r[s]}}function cQ(){function t(n,r,s){if(!n)return null;if(n===Ac)return new rQ(n,r,s);if(n[0]==="@"&&n.substr(0,AC.length)===AC)return new sQ(n,r,s);var i=s.parent;return i&&(i.type==="global"||i.options.parent&&i.options.parent.type==="global")&&(s.scoped=!1),!s.selector&&s.scoped===!1&&(s.selector=n),null}function e(n,r){n.type!=="style"||!r||(oQ(n,r),aQ(n,r))}return{onCreateRule:t,onProcessRule:e}}var lw=function(e){return e&&typeof e=="object"&&!Array.isArray(e)},y1="extendCurrValue"+Date.now();function lQ(t,e,n,r){var s=typeof t.extend;if(s==="string"){if(!n)return;var i=n.getRule(t.extend);if(!i||i===e)return;var o=i.options.parent;if(o){var a=o.rules.raw[t.extend];Cl(a,e,n,r)}return}if(Array.isArray(t.extend)){for(var c=0;c<t.extend.length;c++){var l=t.extend[c],u=typeof l=="string"?Zt({},t,{extend:l}):t.extend[c];Cl(u,e,n,r)}return}for(var d in t.extend){if(d==="extend"){Cl(t.extend.extend,e,n,r);continue}if(lw(t.extend[d])){d in r||(r[d]={}),Cl(t.extend[d],e,n,r[d]);continue}r[d]=t.extend[d]}}function uQ(t,e,n,r){for(var s in t)if(s!=="extend"){if(lw(r[s])&&lw(t[s])){Cl(t[s],e,n,r[s]);continue}if(lw(t[s])){r[s]=Cl(t[s],e,n);continue}r[s]=t[s]}}function Cl(t,e,n,r){return r===void 0&&(r={}),lQ(t,e,n,r),uQ(t,e,n,r),r}function dQ(){function t(n,r,s){return"extend"in n?Cl(n,r,s):n}function e(n,r,s){if(r!=="extend")return n;if(n==null||n===!1){for(var i in s[y1])s.prop(i,null);return s[y1]=null,null}if(typeof n=="object"){for(var o in n)s.prop(o,n[o]);s[y1]=n}return null}return{onProcessStyle:t,onChangeValue:e}}var tN=/\s*,\s*/g,hQ=/&/g,fQ=/\$([\w-]+)/g;function pQ(){function t(s,i){return function(o,a){var c=s.getRule(a)||i&&i.getRule(a);return c?c.selector:a}}function e(s,i){for(var o=i.split(tN),a=s.split(tN),c="",l=0;l<o.length;l++)for(var u=o[l],d=0;d<a.length;d++){var h=a[d];c&&(c+=", "),c+=h.indexOf("&")!==-1?h.replace(hQ,u):u+" "+h}return c}function n(s,i,o){if(o)return Zt({},o,{index:o.index+1});var a=s.options.nestingLevel;a=a===void 0?1:a+1;var c=Zt({},s.options,{nestingLevel:a,index:i.indexOf(s)+1});return delete c.name,c}function r(s,i,o){if(i.type!=="style")return s;var a=i,c=a.options.parent,l,u;for(var d in s){var h=d.indexOf("&")!==-1,f=d[0]==="@";if(!(!h&&!f)){if(l=n(a,c,l),h){var p=e(d,a.selector);u||(u=t(c,o)),p=p.replace(fQ,u);var g=a.key+"-"+d;"replaceRule"in c?c.replaceRule(g,s[d],Zt({},l,{selector:p})):c.addRule(g,s[d],Zt({},l,{selector:p}))}else f&&c.addRule(d,{},l).addRule(a.key,s[d],{selector:a.selector});delete s[d]}}return s}return{onProcessStyle:r}}function IC(t,e){if(!e)return!0;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var r=IC(t,e[n]);if(!r)return!1}return!0}if(e.indexOf(" ")>-1)return IC(t,e.split(" "));var s=t.options.parent;if(e[0]==="$"){var i=s.getRule(e.substr(1));return!i||i===t?!1:(s.classes[t.key]+=" "+s.classes[i.key],!0)}return s.classes[t.key]+=" "+e,!0}function gQ(){function t(e,n){return"composes"in e&&(IC(n,e.composes),delete e.composes),e}return{onProcessStyle:t}}var mQ=/[A-Z]/g,yQ=/^ms-/,w1={};function wQ(t){return"-"+t.toLowerCase()}function w8(t){if(w1.hasOwnProperty(t))return w1[t];var e=t.replace(mQ,wQ);return w1[t]=yQ.test(e)?"-"+e:e}function o0(t){var e={};for(var n in t){var r=n.indexOf("--")===0?n:w8(n);e[r]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(o0):e.fallbacks=o0(t.fallbacks)),e}function vQ(){function t(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=o0(n[r]);return n}return o0(n)}function e(n,r,s){if(r.indexOf("--")===0)return n;var i=w8(r);return r===i?n:(s.prop(i,n),null)}return{onProcessStyle:t,onChangeValue:e}}var Z=IA&&CSS?CSS.px:"px",fy=IA&&CSS?CSS.ms:"ms",$u=IA&&CSS?CSS.percent:"%",bQ={"animation-delay":fy,"animation-duration":fy,"background-position":Z,"background-position-x":Z,"background-position-y":Z,"background-size":Z,border:Z,"border-bottom":Z,"border-bottom-left-radius":Z,"border-bottom-right-radius":Z,"border-bottom-width":Z,"border-left":Z,"border-left-width":Z,"border-radius":Z,"border-right":Z,"border-right-width":Z,"border-top":Z,"border-top-left-radius":Z,"border-top-right-radius":Z,"border-top-width":Z,"border-width":Z,"border-block":Z,"border-block-end":Z,"border-block-end-width":Z,"border-block-start":Z,"border-block-start-width":Z,"border-block-width":Z,"border-inline":Z,"border-inline-end":Z,"border-inline-end-width":Z,"border-inline-start":Z,"border-inline-start-width":Z,"border-inline-width":Z,"border-start-start-radius":Z,"border-start-end-radius":Z,"border-end-start-radius":Z,"border-end-end-radius":Z,margin:Z,"margin-bottom":Z,"margin-left":Z,"margin-right":Z,"margin-top":Z,"margin-block":Z,"margin-block-end":Z,"margin-block-start":Z,"margin-inline":Z,"margin-inline-end":Z,"margin-inline-start":Z,padding:Z,"padding-bottom":Z,"padding-left":Z,"padding-right":Z,"padding-top":Z,"padding-block":Z,"padding-block-end":Z,"padding-block-start":Z,"padding-inline":Z,"padding-inline-end":Z,"padding-inline-start":Z,"mask-position-x":Z,"mask-position-y":Z,"mask-size":Z,height:Z,width:Z,"min-height":Z,"max-height":Z,"min-width":Z,"max-width":Z,bottom:Z,left:Z,top:Z,right:Z,inset:Z,"inset-block":Z,"inset-block-end":Z,"inset-block-start":Z,"inset-inline":Z,"inset-inline-end":Z,"inset-inline-start":Z,"box-shadow":Z,"text-shadow":Z,"column-gap":Z,"column-rule":Z,"column-rule-width":Z,"column-width":Z,"font-size":Z,"font-size-delta":Z,"letter-spacing":Z,"text-decoration-thickness":Z,"text-indent":Z,"text-stroke":Z,"text-stroke-width":Z,"word-spacing":Z,motion:Z,"motion-offset":Z,outline:Z,"outline-offset":Z,"outline-width":Z,perspective:Z,"perspective-origin-x":$u,"perspective-origin-y":$u,"transform-origin":$u,"transform-origin-x":$u,"transform-origin-y":$u,"transform-origin-z":$u,"transition-delay":fy,"transition-duration":fy,"vertical-align":Z,"flex-basis":Z,"shape-margin":Z,size:Z,gap:Z,grid:Z,"grid-gap":Z,"row-gap":Z,"grid-row-gap":Z,"grid-column-gap":Z,"grid-template-rows":Z,"grid-template-columns":Z,"grid-auto-rows":Z,"grid-auto-columns":Z,"box-shadow-x":Z,"box-shadow-y":Z,"box-shadow-blur":Z,"box-shadow-spread":Z,"font-line-height":Z,"text-shadow-x":Z,"text-shadow-y":Z,"text-shadow-blur":Z};function v8(t){var e=/(-[a-z])/g,n=function(o){return o[1].toUpperCase()},r={};for(var s in t)r[s]=t[s],r[s.replace(e,n)]=t[s];return r}var _Q=v8(bQ);function tp(t,e,n){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=tp(t,e[r],n);else if(typeof e=="object")if(t==="fallbacks")for(var s in e)e[s]=tp(s,e[s],n);else for(var i in e)e[i]=tp(t+"-"+i,e[i],n);else if(typeof e=="number"&&isNaN(e)===!1){var o=n[t]||_Q[t];return o&&!(e===0&&o===Z)?typeof o=="function"?o(e).toString():""+e+o:e.toString()}return e}function EQ(t){t===void 0&&(t={});var e=v8(t);function n(s,i){if(i.type!=="style")return s;for(var o in s)s[o]=tp(o,s[o],e);return s}function r(s,i){return tp(i,s,e)}return{onProcessStyle:n,onChangeValue:r}}var CQ={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},xQ={position:!0,size:!0},py={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},v1={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function SQ(t,e,n){return t.map(function(r){return _8(r,e,n,!1,!0)})}function b8(t,e,n,r){return n[e]==null?t:t.length===0?[]:Array.isArray(t[0])?b8(t[0],e,n,r):typeof t[0]=="object"?SQ(t,e,r):[t]}function _8(t,e,n,r,s){if(!(py[e]||v1[e]))return[];var i=[];if(v1[e]&&(t=AQ(t,n,v1[e],r)),Object.keys(t).length)for(var o in py[e]){if(t[o]){Array.isArray(t[o])?i.push(xQ[o]===null?t[o]:t[o].join(" ")):i.push(t[o]);continue}py[e][o]!=null&&i.push(py[e][o])}return!i.length||s?i:[i]}function AQ(t,e,n,r){for(var s in n){var i=n[s];if(typeof t[s]<"u"&&(r||!e.prop(i))){var o,a=ug((o={},o[i]=t[s],o),e)[i];r?e.style.fallbacks[i]=a:e.style[i]=a}delete t[s]}return t}function ug(t,e,n){for(var r in t){var s=t[r];if(Array.isArray(s)){if(!Array.isArray(s[0])){if(r==="fallbacks"){for(var i=0;i<t.fallbacks.length;i++)t.fallbacks[i]=ug(t.fallbacks[i],e,!0);continue}t[r]=b8(s,r,CQ,e),t[r].length||delete t[r]}}else if(typeof s=="object"){if(r==="fallbacks"){t.fallbacks=ug(t.fallbacks,e,!0);continue}t[r]=_8(s,r,e,n),t[r].length||delete t[r]}else t[r]===""&&delete t[r]}return t}function IQ(){function t(e,n){if(!e||n.type!=="style")return e;if(Array.isArray(e)){for(var r=0;r<e.length;r++)e[r]=ug(e[r],n);return e}return ug(e,n)}return{onProcessStyle:t}}function TC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function TQ(t){if(Array.isArray(t))return TC(t)}function NQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PQ(t,e){if(t){if(typeof t=="string")return TC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TC(t,e):void 0}}function kQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OQ(t){return TQ(t)||NQ(t)||PQ(t)||kQ()}var Of="",NC="",E8="",C8="",RQ=Ph&&"ontouchstart"in document.documentElement;if(Ph){var b1={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},$Q=document.createElement("p"),_1=$Q.style,DQ="Transform";for(var E1 in b1)if(E1+DQ in _1){Of=E1,NC=b1[E1];break}Of==="Webkit"&&"msHyphens"in _1&&(Of="ms",NC=b1.ms,C8="edge"),Of==="Webkit"&&"-apple-trailing-word"in _1&&(E8="apple")}var Ke={js:Of,css:NC,vendor:E8,browser:C8,isTouch:RQ};function jQ(t){return t[1]==="-"||Ke.js==="ms"?t:"@"+Ke.css+"keyframes"+t.substr(10)}var UQ={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:Ke.js==="ms"?"-webkit-"+e:Ke.css+e}},LQ={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:Ke.js==="Webkit"?Ke.css+"print-"+e:e}},MQ=/[-\s]+(.)?/g;function BQ(t,e){return e?e.toUpperCase():""}function TA(t){return t.replace(MQ,BQ)}function Lc(t){return TA("-"+t)}var FQ={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(Ke.js==="Webkit"){var r="mask-image";if(TA(r)in n)return e;if(Ke.js+Lc(r)in n)return Ke.css+e}return e}},zQ={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:Ke.vendor==="apple"&&!Ke.isTouch?Ke.css+e:e}},qQ={noPrefill:["transform"],supportedProperty:function(e,n,r){return e!=="transform"?!1:r.transform?e:Ke.css+e}},WQ={noPrefill:["transition"],supportedProperty:function(e,n,r){return e!=="transition"?!1:r.transition?e:Ke.css+e}},HQ={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:Ke.js==="Webkit"||Ke.js==="ms"&&Ke.browser!=="edge"?Ke.css+e:e}},VQ={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:Ke.js==="Moz"||Ke.js==="ms"||Ke.vendor==="apple"?Ke.css+e:e}},GQ={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(Ke.js==="Webkit"){var r="WebkitColumn"+Lc(e);return r in n?Ke.css+"column-"+e:!1}if(Ke.js==="Moz"){var s="page"+Lc(e);return s in n?"page-"+e:!1}return!1}},KQ={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(Ke.js==="Moz")return e;var r=e.replace("-inline","");return Ke.js+Lc(r)in n?Ke.css+r:!1}},YQ={supportedProperty:function(e,n){return TA(e)in n?e:!1}},QQ={supportedProperty:function(e,n){var r=Lc(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:Ke.js+r in n?Ke.css+e:Ke.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+e:!1}},JQ={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:Ke.js==="ms"?""+Ke.css+e:e}},ZQ={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:Ke.js==="ms"?Ke.css+"scroll-chaining":e}},XQ={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},eJ={supportedProperty:function(e,n){var r=XQ[e];return r&&Ke.js+Lc(r)in n?Ke.css+r:!1}},x8={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},tJ=Object.keys(x8),nJ=function(e){return Ke.css+e},rJ={supportedProperty:function(e,n,r){var s=r.multiple;if(tJ.indexOf(e)>-1){var i=x8[e];if(!Array.isArray(i))return Ke.js+Lc(i)in n?Ke.css+i:!1;if(!s)return!1;for(var o=0;o<i.length;o++)if(!(Ke.js+Lc(i[0])in n))return!1;return i.map(nJ)}return!1}},S8=[UQ,LQ,FQ,zQ,qQ,WQ,HQ,VQ,GQ,KQ,YQ,QQ,JQ,ZQ,eJ,rJ],nN=S8.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),sJ=S8.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,OQ(e.noPrefill)),t},[]),Rf,fl={};if(Ph){Rf=document.createElement("p");var C1=window.getComputedStyle(document.documentElement,"");for(var x1 in C1)isNaN(x1)||(fl[C1[x1]]=C1[x1]);sJ.forEach(function(t){return delete fl[t]})}function PC(t,e){if(e===void 0&&(e={}),!Rf)return t;if(fl[t]!=null)return fl[t];(t==="transition"||t==="transform")&&(e[t]=t in Rf.style);for(var n=0;n<nN.length&&(fl[t]=nN[n](t,Rf.style,e),!fl[t]);n++);try{Rf.style[t]=""}catch{return!1}return fl[t]}var Du={},iJ={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},oJ=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Ra;function aJ(t,e,n){if(e==="var")return"var";if(e==="all")return"all";if(n==="all")return", all";var r=e?PC(e):", "+PC(n);return r||e||n}Ph&&(Ra=document.createElement("p"));function rN(t,e){var n=e;if(!Ra||t==="content")return e;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=t+n;if(Du[r]!=null)return Du[r];try{Ra.style[t]=n}catch{return Du[r]=!1,!1}if(iJ[t])n=n.replace(oJ,aJ);else if(Ra.style[t]===""&&(n=Ke.css+n,n==="-ms-flex"&&(Ra.style[t]="-ms-flexbox"),Ra.style[t]=n,Ra.style[t]===""))return Du[r]=!1,!1;return Ra.style[t]="",Du[r]=n,Du[r]}function cJ(){function t(s){if(s.type==="keyframes"){var i=s;i.at=jQ(i.at)}}function e(s){for(var i in s){var o=s[i];if(i==="fallbacks"&&Array.isArray(o)){s[i]=o.map(e);continue}var a=!1,c=PC(i);c&&c!==i&&(a=!0);var l=!1,u=rN(c,Fl(o));u&&u!==o&&(l=!0),(a||l)&&(a&&delete s[i],s[c||i]=u||o)}return s}function n(s,i){return i.type!=="style"?s:e(s)}function r(s,i){return rN(i,Fl(s))||s}return{onProcessRule:t,onProcessStyle:n,onChangeValue:r}}function lJ(){var t=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var s={},i=Object.keys(n).sort(t),o=0;o<i.length;o++)s[i[o]]=n[i[o]];return s}}}var uJ=function(e){return e===void 0&&(e={}),{plugins:[QY(),ZY(e.observable),nQ(),cQ(),dQ(),pQ(),gQ(),vQ(),EQ(e.defaultUnit),IQ(),cJ(),lJ()]}},dJ=Number.MIN_SAFE_INTEGER||-1e9,hJ=function(){return dJ++},fJ=M.createContext({classNamePrefix:"",disableStylesGeneration:!1,isSSR:!Ph}),sN=new Map,NA=function(e,n){var r=e.managers;if(r)return r[n]||(r[n]=new ZT),r[n];var s=sN.get(n);return s||(s=new ZT,sN.set(n,s)),s},iN=function(e){var n=e.sheet,r=e.context,s=e.index,i=e.theme;if(n){var o=NA(r,s);o.manage(i),r.registry&&r.registry.add(n)}},pJ=function(e){if(e.sheet){var n=NA(e.context,e.index);n.unmanage(e.theme)}},gJ=p8(uJ()),A8=new WeakMap,I8=function(e){return A8.get(e)},mJ=function(e,n){A8.set(e,n)},yJ=function(e){var n=e.styles;return typeof n!="function"?n:n(e.theme)};function wJ(t,e){var n;t.context.id&&t.context.id.minify!=null&&(n=t.context.id.minify);var r=t.context.classNamePrefix||"";t.name&&!n&&(r+=t.name.replace(/\s/g,"-")+"-");var s="";return t.name&&(s=t.name+", "),s+=typeof t.styles=="function"?"Themed":"Unthemed",Zt({},t.sheetOptions,{index:t.index,meta:s,classNamePrefix:r,link:e,generateId:t.sheetOptions&&t.sheetOptions.generateId?t.sheetOptions.generateId:t.context.generateId})}var vJ=function(e){if(!e.context.disableStylesGeneration){var n=NA(e.context,e.index),r=n.get(e.theme);if(r)return r;var s=e.context.jss||gJ,i=yJ(e),o=g8(i),a=s.createStyleSheet(i,wJ(e,o!==null));return mJ(a,{dynamicStyles:o,styles:i}),n.add(e.theme,a),a}},bJ=function(e,n){for(var r in n)e.deleteRule(n[r])},_J=function(e,n,r){for(var s in r)n.updateOne(r[s],e)},EJ=function(e,n){var r=I8(e);if(r){var s={};for(var i in r.dynamicStyles)for(var o=e.rules.index.length,a=e.addRule(i,r.dynamicStyles[i]),c=o;c<e.rules.index.length;c++){var l=e.rules.index[c];e.updateOne(l,n),s[a===l?i:l.key]=l}return s}},CJ=function(e,n){if(!n)return e.classes;var r=I8(e);if(!r)return e.classes;var s={};for(var i in r.styles)s[i]=e.classes[i],i in n&&(s[i]+=" "+e.classes[n[i].key]);return s};function oN(t){return t?M.useEffect:Hs.useInsertionEffect||M.useLayoutEffect}var S1={},$i=function(e,n){n===void 0&&(n={});var r=n,s=r.index,i=s===void 0?hJ():s,o=r.theming,a=r.name,c=n8(r,["index","theming","name"]),l=o&&o.context||c8,u=function(f){return typeof e=="function"&&(f||M.useContext(l))||S1},d={};return function(f){var p=M.useRef(!0),g=M.useContext(fJ),y=u(f&&f.theme),w=M.useMemo(function(){var _=vJ({context:g,styles:e,name:a,theme:y,index:i,sheetOptions:c});return _&&g.isSSR&&iN({index:i,context:g,sheet:_,theme:y}),[_,_?EJ(_,f):null]},[g,y]),b=w[0],v=w[1];oN(g.isSSR)(function(){b&&v&&!p.current&&_J(f,b,v)},[f]),oN(g.isSSR)(function(){return b&&iN({index:i,context:g,sheet:b,theme:y}),function(){b&&(pJ({index:i,context:g,sheet:b,theme:y}),v&&bJ(b,v))}},[b]);var E=M.useMemo(function(){return b&&v?CJ(b,v):d},[b,v]);return M.useDebugValue(E),M.useDebugValue(y===S1?"No theme":y),M.useEffect(function(){p.current=!1}),E}};const xJ=$i({icon:{position:"absolute",width:"80px",textAlign:"center",cursor:"pointer",zIndex:3e3,userSelect:"none",pointerEvents:"auto"},iconImage:{width:"48px",height:"48px",display:"block",margin:"0 auto"},iconLabel:{display:"block",background:"#c0c0c0",color:"#000",fontSize:"12px",padding:"2px 4px",marginTop:"2px",border:"1px outset #fff"}});function A1({image:t,label:e,action:n,url:r,popupId:s,folderId:i,isInFolder:o=!1,position:a,onDrag:c,onClick:l}){const u=xJ(),d=M.useRef(null),h=p=>{p.stopPropagation(),p.preventDefault(),l(n,s,r,i)},f=m.jsxs("div",{ref:d,className:u.icon,onClick:h,style:{position:o?"relative":"absolute",zIndex:3e3,left:!o&&a?a.x:void 0,top:!o&&a?a.y:void 0},children:[m.jsx("img",{src:t,alt:e,className:u.iconImage}),m.jsx("span",{className:u.iconLabel,children:e})]});return o?f:m.jsx(sm,{nodeRef:d,position:a,onDrag:c,bounds:"parent",children:f})}const SJ=$i({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"15px",height:"calc(100% - 30px)",overflow:"auto"}});function js({id:t,isOpen:e,onClose:n,onMinimize:r,children:s,title:i,initialPosition:o,initialSize:a,zIndex:c}){const l=SJ({isOpen:e}),u=M.useRef(null),d=()=>{r&&r(t)};return m.jsx(sm,{nodeRef:u,handle:`.${l.header}`,defaultPosition:o,children:m.jsxs("div",{ref:u,className:l.popup,style:{width:a==null?void 0:a.width,height:a==null?void 0:a.height,zIndex:c||100},children:[m.jsxs("div",{className:l.header,children:[m.jsx("span",{children:i||t.replace("-popup","")}),m.jsxs("div",{className:l.titleBarButtons,children:[m.jsx("button",{className:l.titleBarButton,onClick:d,title:"Minimize",children:"_"}),m.jsx("button",{className:l.titleBarButton,onClick:n,title:"Close",children:"✕"})]})]}),m.jsx("div",{className:l.content,children:s})]})})}const I1=[{id:"evm-folder",image:"/assets/evmfolder.png",label:"EVM NFTs",action:"folder",folderId:"evm-folder",row:0,col:3},{id:"sol-folder",image:"/assets/solfolder.png",label:"SOL NFTs",action:"folder",folderId:"sol-folder",row:1,col:3},{id:"wallet",image:"/assets/wallet.png",label:"Wallet",action:"wallet",row:0,col:0},{id:"mint",image:"/assets/mint.gif",label:"Mint",action:"mint",row:0,col:1},{id:"gallery",image:"/assets/lawbstarz.gif",label:"NFT Gallery",action:"nft-gallery",row:0,col:2},{id:"meme-generator",image:"/assets/meme.gif",label:"Meme Generator",action:"meme-generator",row:0,col:4},{id:"chess",image:"/assets/chess.svg",label:"Chess",action:"chess",row:0,col:5},{id:"purity",image:"/assets/purityfinance.png",label:"Purity",action:"popup",popupId:"purity-popup",row:1,col:0},{id:"lawbshop",image:"/assets/lawbshop.png",label:"Lawb.Shop",action:"url",url:"https://store.fun/lawbshop",row:1,col:1},{id:"lawbstarz",image:"/assets/lawbstarz.gif",label:"Lawbstarz",action:"popup",popupId:"lawbstarz-popup",row:-1,col:-1},{id:"lawbsters",image:"/assets/lawbsters.gif",label:"Lawbsters",action:"popup",popupId:"lawbsters-popup",row:-1,col:-1},{id:"halloween",image:"/assets/lawbsterhalloween.gif",label:"Halloween",action:"popup",popupId:"halloween-popup",row:-1,col:-1},{id:"pixelawbs",image:"/assets/pixelawb.png",label:"Pixelawbs",action:"popup",popupId:"pixelawbs-popup",row:-1,col:-1},{id:"lawbstation",image:"/assets/lawbstation.GIF",label:"Lawbstation",action:"popup",popupId:"lawbstation-popup",row:-1,col:-1},{id:"nexus",image:"/assets/nexus.gif",label:"Nexus",action:"popup",popupId:"nexus-popup",row:-1,col:-1},{id:"chat",image:"/assets/miladychan.png",label:"Chat",action:"popup",popupId:"chat-popup",row:3,col:0},{id:"lawb",image:"/assets/lawbticker.gif",label:"$LAWB",action:"popup",popupId:"lawb-popup",row:3,col:2}],AJ=80,IJ=80,TJ=10,NJ=10,PJ=10,kJ=10,OJ=({onIconClick:t})=>{const e=I1.filter(l=>l.row>=0&&l.col>=0),n=()=>{const l={};let u=0,d=0;return e.forEach(h=>{l[h.id]={x:PJ+d*(AJ+TJ),y:kJ+u*(IJ+NJ)},u++,u>=4&&(u=0,d++)}),l},[r,s]=M.useState(n()),[i,o]=M.useState({}),a=(l,u)=>{s(d=>({...d,[l]:{x:u.x,y:u.y}}))},c=(l,u,d,h)=>{if(l==="folder"&&h){o(f=>({...f,[h]:!0}));return}t(l,u,d)};return m.jsx("div",{style:{position:"relative",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",overflow:"hidden"},children:m.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 60px)",padding:"10px",zIndex:10,overflow:"visible"},children:[e.map(l=>m.jsx(A1,{image:l.image,label:l.label,action:l.action,url:l.url,popupId:l.popupId,folderId:l.folderId,position:r[l.id],onDrag:(u,d)=>a(l.id,d),onClick:c},l.id)),i["evm-folder"]&&m.jsx(js,{id:"evm-folder",isOpen:!0,onClose:()=>o(l=>({...l,"evm-folder":!1})),onMinimize:()=>o(l=>({...l,"evm-folder":!1})),zIndex:3001,children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:I1.filter(l=>["lawbsters","lawbstarz","halloween","pixelawbs"].includes(l.id)).map(l=>m.jsx(A1,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})}),i["sol-folder"]&&m.jsx(js,{id:"sol-folder",isOpen:!0,onClose:()=>o(l=>({...l,"sol-folder":!1})),onMinimize:()=>o(l=>({...l,"sol-folder":!1})),zIndex:3001,children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:I1.filter(l=>["lawbstation","nexus"].includes(l.id)).map(l=>m.jsx(A1,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})})]})})},RJ=$i({taskbar:{position:"fixed",left:0,bottom:0,width:"100vw",height:40,background:"#c0c0c0",borderTop:"2px outset #fff",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:200},leftSection:{display:"flex",alignItems:"center"},rightSection:{display:"flex",alignItems:"center",marginRight:"5px",height:"100%"},statusSection:{display:"flex",alignItems:"center",padding:"0 8px",marginRight:"4px",border:"2px inset #fff",height:"calc(100% - 8px)"},menuBtn:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"},menu:{position:"absolute",bottom:"45px",left:"5px",background:"#c0c0c0",border:"2px outset #fff",padding:"5px",display:({isOpen:t})=>t?"block":"none",zIndex:9999,maxHeight:"300px",overflowY:"auto"},menuLink:{display:"block",padding:"4px 12px",color:"#000",textDecoration:"none",background:"#c0c0c0",border:"2px outset #fff",marginBottom:"1px",cursor:"pointer",fontSize:"12px","&:hover":{background:"#d0d0d0",border:"2px inset #fff"},"&:active":{border:"2px inset #c0c0c0"}},minimizedWindow:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:"12px"},clock:{padding:"5px 10px",background:"#c0c0c0",border:"2px inset #fff",fontSize:"12px",fontFamily:"monospace",height:"calc(100% - 8px)",display:"flex",alignItems:"center"},windows:{display:"flex",alignItems:"center"},windowButton:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"}}),$J=({minimizedWindows:t,onRestoreWindow:e,walletButton:n,connectionStatus:r})=>{const[s,i]=M.useState(!1),[o,a]=M.useState(new Date),c=RJ({isOpen:s});M.useEffect(()=>{const h=window.setInterval(()=>{a(new Date)},1e3);return()=>window.clearInterval(h)},[]);const l=h=>h.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),u=()=>{i(!s)},d=()=>{i(!1)};return m.jsxs("div",{className:c.taskbar,children:[m.jsxs("div",{className:c.leftSection,children:[m.jsx("button",{className:c.menuBtn,onClick:u,children:"Menu"}),m.jsx("div",{className:c.windows,children:t.map(h=>m.jsx("button",{className:c.windowButton,onClick:()=>e(h),children:h.replace("-popup","").replace("-"," ").toUpperCase()},h))})]}),m.jsxs("div",{className:c.rightSection,children:[m.jsxs("div",{className:c.statusSection,children:[m.jsx("div",{style:{display:"flex",alignItems:"center",gap:4,fontSize:12},children:m.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:r.connected?"limegreen":"red",marginRight:4,border:"1px solid #222"}})}),n]}),m.jsx("div",{className:c.clock,children:l(o)})]}),s&&m.jsxs("div",{className:c.menu,children:[m.jsx("a",{href:"https://dexscreener.com/solana/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Dexscreener"}),m.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbStation Twitter"}),m.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbNexus Twitter"}),m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"NFTX - Lawbsters"}),m.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"UwU LAWB"}),m.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Telegram"}),m.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Discord"}),m.jsx("a",{href:"https://store.fun/lawbshop",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Lawb.Shop"})]})]})};async function T8(t){const e="https://api.scatter.art/v1",n="pixelawbs";try{console.log(`Getting eligible invite lists for collection: ${n}`);const r=await fetch(`${e}/collection/${n}/eligible-invite-lists?minterAddress=${t}`);if(console.log("Response status:",r.status),r.ok){const s=await r.json();return console.log("Lists found:",s),s}else return console.log("Failed to get lists:",r.status,r.statusText),[]}catch(r){return console.log("Error getting lists:",r),[]}}async function PA(t,e=1,n=50,r){let i=`https://api.scatter.art/v1/collection/${t}/nfts?page=${e}&pageSize=${n}&sortBy=recent&sortOrder=desc`;r&&(i+=`&ownerAddress=${r}`);try{const o=await fetch(i);if(o.ok)return await o.json();throw new Error(`Failed to get NFTs: ${o.statusText}`)}catch(o){throw console.error("Error getting collection NFTs:",o),o}}async function N8(t,e){const i=await fetch("https://api.scatter.art/v1/mint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionAddress:"0x2d278e95b2fC67D4b27a276807e24E479D9707F6",chainId:1,minterAddress:t,lists:e})}),o=await i.json();if(!i.ok)throw console.error("Scatter API Error:",JSON.stringify(o,null,2)),new Error(o.message||"Minting failed");return{success:!0,mintTransaction:o.mintTransaction,erc20s:o.erc20s}}async function kA(t,e=50,n){const r="030a5ee582f64b8ab3a598ab2b97d85f";let s=`https://api.opensea.io/api/v2/collection/${t}/nfts?limit=${e}`;n&&console.warn("Owner filtering is not supported for OpenSea collections in this view.");try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get OpenSea NFTs: ${i.statusText}`);const a=(await i.json()).nfts.map(c=>{var l,u,d;return{id:c.identifier,address:c.contract,token_id:parseInt(c.identifier,10),attributes:JSON.stringify(c.traits||[]),name:c.name||`#${c.identifier}`,image_url:c.image_url,owner_of:((u=(l=c.owners)==null?void 0:l[0])==null?void 0:u.address)||"",block_minted:0,contract_type:"ERC721",description:c.description||"",image:c.image_url,image_url_shrunk:c.image_url,animation_url:c.animation_url,metadata:"",chain_id:1,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:t,num_items:1,created_at:c.updated_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString(),owners:((d=c.owners)==null?void 0:d.map(h=>({owner_of:h.address,quantity:h.quantity})))||[]}});return{page:1,pageSize:e,totalCount:a.length,totalPages:1,data:a}}catch(i){throw console.error("Error getting OpenSea NFTs:",i),i}}async function P8(t,e,n){const r="030a5ee582f64b8ab3a598ab2b97d85f",s=`https://api.opensea.io/api/v2/chain/${t}/contract/${e}/nfts/${n}`;try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get single OpenSea NFT: ${i.statusText}`);return(await i.json()).nft}catch(i){throw console.error("Error getting single OpenSea NFT:",i),i}}async function k8(t,e=50){var s;const n="030a5ee582f64b8ab3a598ab2b97d85f",r=`https://api.opensea.io/api/v2/collection/${t}/nfts?chain=solana&limit=${e}&include_orders=true`;try{const i=await fetch(r,{headers:{"X-API-KEY":n}});if(!i.ok)throw new Error(`Failed to get OpenSea Solana NFTs: ${i.statusText}`);const o=await i.json();console.log("Solana collection response:",o),console.log("Sample NFT from response:",o.nfts[0]),console.log("Sample NFT owners:",(s=o.nfts[0])==null?void 0:s.owners),console.log("Sample NFT full structure:",JSON.stringify(o.nfts[0],null,2));const a=o.nfts.map(c=>{var l,u,d;return{id:c.identifier,address:c.contract,token_id:parseInt(c.identifier,10),attributes:JSON.stringify(c.traits||[]),name:c.name||`#${c.identifier}`,image_url:c.image_url,owner_of:((u=(l=c.owners)==null?void 0:l[0])==null?void 0:u.address)||"",block_minted:0,contract_type:"SOL",description:c.description||"",image:c.image_url,image_url_shrunk:c.image_url,animation_url:c.animation_url,metadata:"",chain_id:1399811149,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:t,num_items:1,created_at:c.updated_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString(),owners:((d=c.owners)==null?void 0:d.map(h=>({owner_of:h.address,quantity:h.quantity})))||[]}});return{page:1,pageSize:e,totalCount:a.length,totalPages:1,data:a}}catch(i){throw console.error("Error getting OpenSea Solana NFTs:",i),i}}async function DJ(t,e=50){var s;const n="030a5ee582f64b8ab3a598ab2b97d85f",r=[`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}`,`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}&include_orders=false`,`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}&include_orders=false&include_metadata=true`];for(const i of r){console.log("Trying OpenSea endpoint:",i);try{const o=await fetch(i,{headers:{"X-API-KEY":n}});if(console.log("Response status:",o.status),!o.ok){const c=await o.text();console.error("API Error response:",c);continue}const a=await o.json();if(console.log("Raw API response:",a),console.log("Number of NFTs returned:",((s=a.nfts)==null?void 0:s.length)||0),a.nfts&&a.nfts.length>0){const c=a.nfts.map(l=>({id:l.identifier,address:l.contract,token_id:parseInt(l.identifier,10),attributes:JSON.stringify(l.traits||[]),name:l.name||`#${l.identifier}`,image_url:l.image_url,owner_of:t,block_minted:0,contract_type:"SOL",description:l.description||"",image:l.image_url,image_url_shrunk:l.image_url,animation_url:l.animation_url,metadata:"",chain_id:1399811149,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:"",num_items:1,created_at:l.updated_at||new Date().toISOString(),updated_at:l.updated_at||new Date().toISOString(),owners:[{owner_of:t,quantity:1}]}));return console.log("Transformed NFTs:",c.length),{page:1,pageSize:e,totalCount:c.length,totalPages:1,data:c}}}catch(o){console.error("Error with endpoint:",i,o);continue}}return console.log("All OpenSea endpoints failed, returning empty result"),{page:1,pageSize:e,totalCount:0,totalPages:1,data:[]}}const jJ=$i({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:5e3},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"}}),UJ=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=jJ({isOpen:t}),i=M.useRef(null),[o,a]=M.useState([]),[c,l]=M.useState(!1),[u,d]=M.useState(!1),[h,f]=M.useState({}),[p,g]=M.useState(null),{data:y}=S5();M.useEffect(()=>{t&&r&&w()},[t,r]);const w=async()=>{l(!0),g(null);try{const x=await T8(r);a(x);const S={};x.forEach(T=>{S[T.id]=0}),f(S)}catch(x){g(x.message)}finally{l(!1)}},b=(x,S)=>{f(T=>({...T,[x]:Math.max(0,S)}))},v=async()=>{const x=Object.entries(h).filter(([,S])=>S>0).map(([S,T])=>({id:S,quantity:T}));if(x.length===0){g("Please select at least one item to mint");return}if(!y){g("Wallet not connected");return}d(!0),g(null);try{console.log("Starting mint process for address:",r);const S=await N8(r,x);if(console.log("Mint API result:",S),S.success&&S.mintTransaction){console.log("Got mint transaction:",S.mintTransaction),alert("Please confirm the transaction in your wallet.");try{console.log("Sending transaction to wallet...");const T=await y.sendTransaction({to:S.mintTransaction.to,value:BigInt(S.mintTransaction.value),data:S.mintTransaction.data});console.log("Transaction sent successfully:",T),alert(`NFT Minted Successfully: Transaction Hash - ${T}`),e()}catch(T){console.error("Transaction sending failed:",T),g("Transaction failed: "+T.message)}}else throw new Error(S.message||"Could not retrieve minting transaction.")}catch(S){console.error("Minting failed:",S),g("Minting failed: "+S.message)}finally{d(!1)}},E=(x,S)=>`${parseFloat(x)} ${S}`,_=()=>{n&&n()};return t?m.jsx(sm,{nodeRef:i,handle:`.${s.header}`,children:m.jsxs("div",{ref:i,className:s.popup,children:[m.jsxs("div",{className:s.header,children:[m.jsx("span",{children:"Mint Pixelawbster"}),m.jsxs("div",{className:s.titleBarButtons,children:[m.jsx("button",{className:s.titleBarButton,onClick:_,title:"Minimize",children:"_"}),m.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:"✕"})]})]}),m.jsxs("div",{className:s.content,children:[p&&m.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:p}),c?m.jsx("div",{children:"Loading eligible invite lists..."}):o.length===0?m.jsx("div",{children:"No eligible invite lists found for your wallet."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("h3",{children:"Available Lists:"}),o.map(x=>m.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#ffffff"},children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:x.name}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",E(x.token_price,x.currency_symbol)]}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",x.wallet_limit===4294967295?"Unlimited":x.wallet_limit," per wallet"]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx("label",{style:{fontSize:"12px"},children:"Quantity:"}),m.jsx("input",{type:"number",min:"0",max:x.wallet_limit===4294967295?999:x.wallet_limit,value:h[x.id]||0,onChange:S=>b(x.id,parseInt(S.target.value)||0),style:{width:"60px",padding:"2px 5px",border:"1px solid #808080"}})]})]},x.id))]}),m.jsx("button",{onClick:v,disabled:u,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"10px 20px",cursor:u?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:u?"Minting...":"Mint Selected NFTs"})]})]})]})}):null},LJ=$i({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"400px",height:"auto",top:"20vh",left:"30vw",zIndex:102,display:"flex",flexDirection:"column"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",background:"white",color:"black"},detailImage:{width:"100%",height:"auto",marginBottom:"10px"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}}}),MJ=t=>{try{const e=JSON.parse(t);return Array.isArray(e)&&e.every(n=>"trait_type"in n&&"value"in n)?e:[]}catch{return[]}},BJ=({nft:t,onClose:e})=>{const n=LJ(),r=M.useRef(null),s=MJ(t.attributes);return m.jsx(sm,{nodeRef:r,handle:`.${n.header}`,children:m.jsxs("div",{className:n.popup,ref:r,children:[m.jsxs("div",{className:n.header,children:[m.jsxs("span",{children:[t.name," - Details"]}),m.jsx("button",{className:n.titleBarButton,onClick:e,children:"X"})]}),m.jsxs("div",{className:n.content,children:[m.jsx("img",{src:t.image_url,alt:t.name,className:n.detailImage}),m.jsx("h3",{children:"Traits"}),m.jsx("ul",{className:n.detailTraits,children:s.length>0?s.map((i,o)=>m.jsxs("li",{children:[m.jsxs("strong",{children:[i.trait_type,":"]})," ",i.value]},o)):m.jsx("li",{children:"No traits found."})})]})]})})},FJ=Symbol(),aN=Object.getPrototypeOf,kC=new WeakMap,zJ=t=>t&&(kC.has(t)?kC.get(t):aN(t)===Object.prototype||aN(t)===Array.prototype),qJ=t=>zJ(t)&&t[FJ]||null,cN=(t,e=!0)=>{kC.set(t,e)},a0={},T1=t=>typeof t=="object"&&t!==null,Ma=new WeakMap,$f=new WeakSet,WJ=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>T1(l)&&!$f.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},s=new WeakMap,i=(l,u,d=r)=>{const h=s.get(l);if((h==null?void 0:h[0])===u)return h[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return cN(f,!0),s.set(l,[u,f]),Reflect.ownKeys(l).forEach(p=>{if(Object.getOwnPropertyDescriptor(f,p))return;const g=Reflect.get(l,p),{enumerable:y}=Reflect.getOwnPropertyDescriptor(l,p),w={value:g,enumerable:y,configurable:!0};if($f.has(g))cN(g,!1);else if(g instanceof Promise)delete w.value,w.get=()=>d(g);else if(Ma.has(g)){const[b,v]=Ma.get(g);w.value=i(b,v(),d)}Object.defineProperty(f,p,w)}),Object.preventExtensions(f)},o=new WeakMap,a=[1,1],c=l=>{if(!T1(l))throw new Error("object required");const u=o.get(l);if(u)return u;let d=a[0];const h=new Set,f=(C,O=++a[0])=>{d!==O&&(d=O,h.forEach(R=>R(C,O)))};let p=a[1];const g=(C=++a[1])=>(p!==C&&!h.size&&(p=C,w.forEach(([O])=>{const R=O[1](C);R>d&&(d=R)})),d),y=C=>(O,R)=>{const B=[...O];B[1]=[C,...B[1]],f(B,R)},w=new Map,b=(C,O)=>{if((a0?"production":void 0)!=="production"&&w.has(C))throw new Error("prop listener already exists");if(h.size){const R=O[3](y(C));w.set(C,[O,R])}else w.set(C,[O])},v=C=>{var O;const R=w.get(C);R&&(w.delete(C),(O=R[1])==null||O.call(R))},E=C=>(h.add(C),h.size===1&&w.forEach(([R,B],W)=>{if((a0?"production":void 0)!=="production"&&B)throw new Error("remove already exists");const F=R[3](y(W));w.set(W,[R,F])}),()=>{h.delete(C),h.size===0&&w.forEach(([R,B],W)=>{B&&(B(),w.set(W,[R]))})}),_=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),S=e(_,{deleteProperty(C,O){const R=Reflect.get(C,O);v(O);const B=Reflect.deleteProperty(C,O);return B&&f(["delete",[O],R]),B},set(C,O,R,B){const W=Reflect.has(C,O),F=Reflect.get(C,O,B);if(W&&(t(F,R)||o.has(R)&&t(F,o.get(R))))return!0;v(O),T1(R)&&(R=qJ(R)||R);let A=R;if(R instanceof Promise)R.then(I=>{R.status="fulfilled",R.value=I,f(["resolve",[O],I])}).catch(I=>{R.status="rejected",R.reason=I,f(["reject",[O],I])});else{!Ma.has(R)&&n(R)&&(A=c(R));const I=!$f.has(A)&&Ma.get(A);I&&b(O,I)}return Reflect.set(C,O,A,B),f(["set",[O],R,F]),!0}});o.set(l,S);const T=[_,g,i,E];return Ma.set(S,T),Reflect.ownKeys(l).forEach(C=>{const O=Object.getOwnPropertyDescriptor(l,C);"value"in O&&(S[C]=l[C],delete O.value,delete O.writable),Object.defineProperty(_,C,O)}),S})=>[c,Ma,$f,t,e,n,r,s,i,o,a],[HJ]=WJ();function Ut(t={}){return HJ(t)}function Kn(t,e,n){const r=Ma.get(t);(a0?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[3];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function dg(t,e){const n=Ma.get(t);(a0?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,s,i]=n;return i(r,s(),e)}function ru(t){return $f.add(t),t}function Yn(t,e,n,r){let s=t[e];return Kn(t,()=>{const i=t[e];Object.is(s,i)||n(s=i)})}function VJ(t){const e=Ut({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const s=this.data.find(i=>i[0]===n);return s?s[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(s=>s[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(s=>s[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var lN={};const te={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof lN<"u"?lN.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},hg={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var s;if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return((s=te.CHAIN_NAME_MAP)==null?void 0:s[r])||void 0}};var GJ=20,KJ=1,su=1e6,uN=1e6,YJ=-7,QJ=21,JJ=!1,im="[big.js] ",vu=im+"Invalid ",Tv=vu+"decimal places",ZJ=vu+"rounding mode",O8=im+"Division by zero",xt={},ao=void 0,XJ=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function R8(){function t(e){var n=this;if(!(n instanceof t))return e===ao?R8():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(vu+"value");e=e===0&&1/e<0?"-0":String(e)}eZ(n,e)}n.constructor=t}return t.prototype=xt,t.DP=GJ,t.RM=KJ,t.NE=YJ,t.PE=QJ,t.strict=JJ,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function eZ(t,e){var n,r,s;if(!XJ.test(e))throw Error(vu+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function bu(t,e,n,r){var s=t.c;if(n===ao&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(ZJ);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==ao))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==ao||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function _u(t,e,n){var r=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}xt.abs=function(){var t=new this.constructor(this);return t.s=1,t};xt.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,i=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=s.length)?a:c,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};xt.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,i=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>su)throw Error(Tv);if(!s[0])throw Error(O8);if(!r[0])return t.s=i,t.c=[t.e=0],t;var a,c,l,u,d,h=s.slice(),f=a=s.length,p=r.length,g=r.slice(0,a),y=g.length,w=t,b=w.c=[],v=0,E=o+(w.e=e.e-t.e)+1;for(w.s=i,i=E<0?0:E,h.unshift(0);y++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(y=g.length))u=a>y?1:-1;else for(d=-1,u=0;++d<a;)if(s[d]!=g[d]){u=s[d]>g[d]?1:-1;break}if(u<0){for(c=y==a?s:h;y;){if(g[--y]<c[y]){for(d=y;d&&!g[--d];)g[d]=9;--g[d],g[y]+=10}g[y]-=c[y]}for(;!g[0];)g.shift()}else break}b[v++]=u?l:++l,g[0]&&u?g[y]=r[f]||0:g=[r[f]]}while((f++<p||g[0]!==ao)&&i--);return!b[0]&&v!=1&&(b.shift(),w.e--,E--),v>E&&bu(w,E,n.RM,g[0]!==ao),w};xt.eq=function(t){return this.cmp(t)===0};xt.gt=function(t){return this.cmp(t)>0};xt.gte=function(t){return this.cmp(t)>-1};xt.lt=function(t){return this.cmp(t)<0};xt.lte=function(t){return this.cmp(t)<1};xt.minus=xt.sub=function(t){var e,n,r,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),u=i.e,d=t.c,h=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(i):t.s=1,t;if(a=u-h){for((s=a<0)?(a=-a,r=l):(h=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){s=l[c]<d[c];break}if(s&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t};xt.mod=function(t){var e,n=this,r=n.constructor,s=n.s,i=(t=new r(t)).s;if(!t.c[0])throw Error(O8);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=i,e?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=i,this.minus(n.times(t)))};xt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};xt.plus=xt.add=function(t){var e,n,r,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};xt.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-uN||t>uN)throw Error(vu+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};xt.prec=function(t,e){if(t!==~~t||t<1||t>su)throw Error(vu+"precision");return bu(new this.constructor(this),t,e)};xt.round=function(t,e){if(t===ao)t=0;else if(t!==~~t||t<-su||t>su)throw Error(Tv);return bu(new this.constructor(this),t+this.e+1,e)};xt.sqrt=function(){var t,e,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(im+"No square root");i=Math.sqrt(+_u(r,!0,!0)),i===0||i===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return bu(t,(s.DP-=4)+t.e+1,s.RM)};xt.times=xt.mul=function(t){var e,n=this,r=n.constructor,s=n.c,i=(t=new r(t)).c,o=s.length,a=i.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=s,s=i,i=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+i[c]*s[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};xt.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==ao){if(t!==~~t||t<0||t>su)throw Error(Tv);for(n=bu(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return _u(n,!0,!!r)};xt.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==ao){if(t!==~~t||t<0||t>su)throw Error(Tv);for(n=bu(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return _u(n,!1,!!r)};xt[Symbol.for("nodejs.util.inspect.custom")]=xt.toJSON=xt.toString=function(){var t=this,e=t.constructor;return _u(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};xt.toNumber=function(){var t=+_u(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(im+"Imprecise conversion");return t};xt.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==ao){if(t!==~~t||t<1||t>su)throw Error(vu+"precision");for(n=bu(new r(n),t,e);n.c.length<t;)n.c.push(0)}return _u(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};xt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(im+"valueOf disallowed");return _u(t,t.e<=e.NE||t.e>=e.PE,!0)};var of=R8();const tZ={bigNumber(t){return t?new of(t):new of(0)},multiply(t,e){if(t===void 0||e===void 0)return new of(0);const n=new of(t),r=new of(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},nZ=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],rZ=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],sZ=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],iZ={getERC20Abi:t=>te.USDT_CONTRACT_ADDRESSES.includes(t)?sZ:nZ,getSwapAbi:()=>rZ},fs={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Fe={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids"};function N1(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const je={setItem(t,e){Df()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Df())return localStorage.getItem(t)||void 0},removeItem(t){Df()&&localStorage.removeItem(t)},clear(){Df()&&localStorage.clear()}};function Df(){return typeof window<"u"&&typeof localStorage<"u"}function Vo(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var dN={};const P1=(typeof process<"u"&&typeof dN<"u"?dN.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",$8=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]},{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]}],oZ="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",_t={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:P1,SECURE_SITE_DASHBOARD:`${P1}/dashboard`,SECURE_SITE_FAVICON:`${P1}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld","coinbase"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},fe={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=fe.getActiveNamespace(),e=fe.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{je.setItem(Fe.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=je.getItem(Fe.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{je.removeItem(Fe.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{je.setItem(Fe.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{je.setItem(Fe.ACTIVE_CAIP_NETWORK_ID,t),fe.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return je.getItem(Fe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{je.removeItem(Fe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=N1(t);je.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=fe.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),je.setItem(Fe.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=je.getItem(Fe.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=N1(t);je.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return je.getItem(Fe.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=N1(t);return je.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{je.setItem(Fe.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return je.getItem(Fe.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{je.removeItem(Fe.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return je.getItem(Fe.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=je.getItem(Fe.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{je.setItem(Fe.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return je.getItem(Fe.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=je.getItem(Fe.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));je.setItem(Fe.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=fe.getConnectedNamespaces();e.includes(t)||(e.push(t),fe.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=fe.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),fe.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return je.getItem(Fe.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{je.setItem(Fe.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{je.removeItem(Fe.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=je.getItem(Fe.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=fe.getBalanceCache();je.setItem(Fe.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=fe.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;fe.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=fe.getBalanceCache();e[t.caipAddress]=t,je.setItem(Fe.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=je.getItem(Fe.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=fe.getBalanceCache();je.setItem(Fe.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=fe.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),fe.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=fe.getNativeBalanceCache();e[t.caipAddress]=t,je.setItem(Fe.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=je.getItem(Fe.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=fe.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;fe.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=fe.getEnsCache();e[t.address]=t,je.setItem(Fe.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=fe.getEnsCache();je.setItem(Fe.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=je.getItem(Fe.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=fe.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;fe.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=fe.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},je.setItem(Fe.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=fe.getIdentityCache();je.setItem(Fe.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{je.removeItem(Fe.PORTFOLIO_CACHE),je.removeItem(Fe.NATIVE_BALANCE_CACHE),je.removeItem(Fe.ENS_CACHE),je.removeItem(Fe.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{je.setItem(Fe.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=je.getItem(Fe.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=fe.getConnections(),r=n[e]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of t){const a=s.get(o.connectorId),c=o.connectorId===te.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else s.set(o.connectorId,{...o})}const i={...n,[e]:Array.from(s.values())};je.setItem(Fe.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=je.getItem(Fe.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=fe.getConnections(),s=r[n]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),je.setItem(Fe.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=je.getItem(Fe.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=fe.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),je.setItem(Fe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=fe.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(s=>s.toLowerCase()!==t.toLowerCase()),je.setItem(Fe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(fe.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1}},Ae={isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return Ae.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=_t.TEN_SEC_MS:!0},isAllowedRetry(t,e=_t.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(Ae.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(n){const s=new URL(n),i=new URL(r);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+_t.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(Ae.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(t,e){if(!Ae.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?fe.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r;if(typeof window>"u")return!1;const t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(n=window.matchMedia("(display-mode: standalone)"))==null?void 0:n.matches:!1,e=(r=window==null?void 0:window.navigator)==null?void 0:r.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,Ae.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return te.W3M_API_URL},getBlockchainApiUrl(){return te.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return te.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?_t.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in te.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,r+i),c=t.substring(r+i,o),l=t.substring(s),u=c+n;return a+u+l}};async function af(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class om{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await af(i,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await af(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await af(i,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await af(i,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await af(i,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const aZ={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?_t.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Ae.isTelegram()){if(Ae.isIos())return t.filter(e=>e!=="google");if(Ae.isMac())return t.filter(e=>e!=="x");if(Ae.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},ke=Ut({features:_t.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:_t.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),ie={state:ke,subscribeKey(t,e){return Yn(ke,t,e)},setOptions(t){Object.assign(ke,t)},setRemoteFeatures(t){var n;if(!t)return;const e={...ke.remoteFeatures,...t};ke.remoteFeatures=e,(n=ke.remoteFeatures)!=null&&n.socials&&(ke.remoteFeatures.socials=aZ.filterSocialsByPlatform(ke.remoteFeatures.socials))},setFeatures(t){if(!t)return;ke.features||(ke.features=_t.DEFAULT_FEATURES);const e={...ke.features,...t};ke.features=e},setProjectId(t){ke.projectId=t},setCustomRpcUrls(t){ke.customRpcUrls=t},setAllWallets(t){ke.allWallets=t},setIncludeWalletIds(t){ke.includeWalletIds=t},setExcludeWalletIds(t){ke.excludeWalletIds=t},setFeaturedWalletIds(t){ke.featuredWalletIds=t},setTokens(t){ke.tokens=t},setTermsConditionsUrl(t){ke.termsConditionsUrl=t},setPrivacyPolicyUrl(t){ke.privacyPolicyUrl=t},setCustomWallets(t){ke.customWallets=t},setIsSiweEnabled(t){ke.isSiweEnabled=t},setIsUniversalProvider(t){ke.isUniversalProvider=t},setSdkVersion(t){ke.sdkVersion=t},setMetadata(t){ke.metadata=t},setDisableAppend(t){ke.disableAppend=t},setEIP6963Enabled(t){ke.enableEIP6963=t},setDebug(t){ke.debug=t},setEnableWalletConnect(t){ke.enableWalletConnect=t},setEnableWalletGuide(t){ke.enableWalletGuide=t},setEnableAuthLogger(t){ke.enableAuthLogger=t},setEnableWallets(t){ke.enableWallets=t},setPreferUniversalLinks(t){ke.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){ke.hasMultipleAddresses=t},setSIWX(t){ke.siwx=t},setConnectMethodsOrder(t){ke.features={...ke.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){ke.features={...ke.features,walletFeaturesOrder:t}},setSocialsOrder(t){ke.remoteFeatures={...ke.remoteFeatures,socials:t}},setCollapseWallets(t){ke.features={...ke.features,collapseWallets:t}},setEnableEmbedded(t){ke.enableEmbedded=t},setAllowUnsupportedChain(t){ke.allowUnsupportedChain=t},setManualWCControl(t){ke.manualWCControl=t},setEnableNetworkSwitch(t){ke.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(ke.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){ke.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return ke.universalProviderConfigOverride},getSnapshot(){return dg(ke)}},cZ=Object.freeze({enabled:!0,events:[]}),lZ=new om({baseUrl:Ae.getAnalyticsUrl(),clientId:null}),uZ=5,dZ=60*1e3,va=Ut({...cZ}),hZ={state:va,subscribeKey(t,e){return Yn(va,t,e)},async sendError(t,e){if(!va.enabled)return;const n=Date.now();if(va.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<dZ}).length>=uZ)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};va.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=ie.state;await lZ.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Ae.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){va.enabled=!0},disable(){va.enabled=!1},clearEvents(){va.events=[]}};class hh extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,hh.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,hh):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function hN(t,e){const n=t instanceof hh?t:new hh(t instanceof Error?t.message:String(t),e,t);throw hZ.sendError(n,n.category),n}function Is(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return hN(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return hN(a,e)}},n[r]=i}else n[r]=s}),n}const eo={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},fZ={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===eo.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${eo.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===eo.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${eo.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===te.CHAIN.SOLANA&&t===eo.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${eo.COINBASE.url}/dapp?cb_url=${r}`)}},as=Ut({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),pZ={state:as,subscribeNetworkImages(t){return Kn(as.networkImages,()=>t(as.networkImages))},subscribeKey(t,e){return Yn(as,t,e)},subscribe(t){return Kn(as,()=>t(as))},setWalletImage(t,e){as.walletImages[t]=e},setNetworkImage(t,e){as.networkImages[t]=e},setChainImage(t,e){as.chainImages[t]=e},setConnectorImage(t,e){as.connectorImages={...as.connectorImages,[t]:e}},setTokenImage(t,e){as.tokenImages[t]=e},setCurrencyImage(t,e){as.currencyImages[t]=e}},bi=Is(pZ),gZ={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},k1=Ut({networkImagePromises:{}}),D8={async fetchWalletImage(t){if(t)return await Ie._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(k1.networkImagePromises[t]||(k1.networkImagePromises[t]=Ie._fetchNetworkImage(t)),await k1.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return bi.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return bi.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return bi.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return bi.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return bi.state.connectorImages[t.imageId]},getChainImage(t){return bi.state.networkImages[gZ[t]]}},ba=Ut({message:"",variant:"info",open:!1}),mZ={state:ba,subscribeKey(t,e){return Yn(ba,t,e)},open(t,e){const{debug:n}=ie.state,{shortMessage:r,longMessage:s}=t;n&&(ba.message=r,ba.variant=e,ba.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){ba.open=!1,ba.message="",ba.variant="info"}},fn=Is(mZ),yZ=Ae.getAnalyticsUrl(),wZ=new om({baseUrl:yZ,clientId:null}),vZ=["MODAL_CREATED"],Co=Ut({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Et={state:Co,subscribe(t){return Kn(Co,()=>t(Co))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=ie.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=he.state.address;if(vZ.includes(t.data.event)||typeof window>"u")return;await wZ.post({path:"/e",params:Et.getSdkProperties(),body:{eventId:Ae.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),Co.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===te.HTTP_STATUS_CODES.FORBIDDEN&&!Co.reportedErrors.FORBIDDEN&&(fn.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Df()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Co.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;Co.timestamp=Date.now(),Co.data=t,(e=ie.state.features)!=null&&e.analytics&&Et._sendAnalyticsEvent(Co)}},bZ=Ae.getApiUrl(),Or=new om({baseUrl:bZ,clientId:null}),_Z=40,fN=4,EZ=20,He=Ut({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Ie={state:He,subscribeKey(t,e){return Yn(He,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=ie.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return ie.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Or.baseUrl}/getWalletImage/${t}`,n=await Or.getBlob({path:e,params:Ie._getSdkProperties()});bi.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Or.baseUrl}/public/getAssetImage/${t}`,n=await Or.getBlob({path:e,params:Ie._getSdkProperties()});bi.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Or.baseUrl}/public/getAssetImage/${t}`,n=await Or.getBlob({path:e,params:Ie._getSdkProperties()});bi.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Or.baseUrl}/public/getCurrencyImage/${t}`,n=await Or.getBlob({path:e,params:Ie._getSdkProperties()});bi.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Or.baseUrl}/public/getTokenImage/${t}`,n=await Or.getBlob({path:e,params:Ie._getSdkProperties()});bi.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return Ae.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===eo.COINBASE.id?!0:$.state.activeChain==="solana"&&(n.id===eo.SOLFLARE.id||n.id===eo.PHANTOM.id)):t},async fetchProjectConfig(){return(await Or.get({path:"/appkit/v1/config",params:Ie._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await Or.get({path:"/projects/v1/origins",params:Ie._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===te.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=te.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=$.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!D8.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Ie._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=pe.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Ie._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Ie._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Ie._fetchTokenImage(e)))},async fetchWallets(t){var i;const e=t.exclude??[];Ie._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(eo).map(o=>o.id));const r=await Or.get({path:"/getWallets",params:{...Ie._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(i=t.include)==null?void 0:i.join(","),exclude:e.join(",")}});return{data:Ie._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=ie.state;if(t!=null&&t.length){const e={...Ie._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??fN,include:t},{data:n}=await Ie.fetchWallets(e),r=[...n].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>Ie._fetchWalletImage(i))),He.featured=r,He.allFeatured=r}},async fetchRecommendedWallets(){try{He.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=ie.state,r=[...e??[],...n??[]].filter(Boolean),s=$.getRequestedCaipNetworkIds().join(","),i={page:1,entries:fN,include:t,exclude:r,chains:s},{data:o,count:a}=await Ie.fetchWallets(i),c=fe.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>Ie._fetchWalletImage(d))),He.recommended=o,He.allRecommended=o,He.count=a??0}catch{}finally{He.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=ie.state,s=$.getRequestedCaipNetworkIds().join(","),i=[...He.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:_Z,include:e,exclude:i,chains:s},{data:a,count:c}=await Ie.fetchWallets(o),l=a.slice(0,EZ).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>Ie._fetchWalletImage(u))),He.wallets=Ae.uniqueBy([...He.wallets,...Ie._filterOutExtensions(a)],"id").filter(u=>{var d;return(d=u.chains)==null?void 0:d.some(h=>s.includes(h))}),He.count=c>He.count?c:He.count,He.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await Ie.fetchWallets(e);n&&n.forEach(r=>{He.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=ie.state,s=$.getRequestedCaipNetworkIds().join(",");He.search=[];const i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:o}=await Ie.fetchWallets(i);Et.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Ie._fetchWalletImage(c)),Ae.wait(300)]),He.search=Ie._filterOutExtensions(o)},initPromise(t,e){const n=He.promises[t];return n||(He.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&Ie.initPromise("connectorImages",Ie.fetchConnectorImages),e&&Ie.initPromise("featuredWallets",Ie.fetchFeaturedWallets),n&&Ie.initPromise("recommendedWallets",Ie.fetchRecommendedWallets),r&&Ie.initPromise("networkImages",Ie.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=ie.state.features)!=null&&t.analytics&&Ie.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Or.get({path:"/getAnalyticsConfig",params:Ie._getSdkProperties()});ie.setFeatures({analytics:t})}catch{ie.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){He.featured=He.allFeatured,He.recommended=He.allRecommended;return}const e=$.getRequestedCaipNetworkIds().join(",");He.featured=He.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),He.recommended=He.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),He.filteredWallets=He.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){He.filteredWallets=[]},setFilterByNamespace(t){if(!t){He.featured=He.allFeatured,He.recommended=He.allRecommended;return}const e=$.getRequestedCaipNetworkIds().join(",");He.featured=He.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),He.recommended=He.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),He.filteredWallets=He.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},At=Ut({view:"Connect",history:["Connect"],transactionStack:[]}),CZ={state:At,subscribeKey(t,e){return Yn(At,t,e)},pushTransactionStack(t){At.transactionStack.push(t)},popTransactionStack(t){const e=At.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:s}=e;switch(t){case"success":n==null||n();break;case"error":r==null||r(),De.goBack();break;case"cancel":s==null||s(),De.goBack();break}},push(t,e){t!==At.view&&(At.view=t,At.history.push(t),At.data=e)},reset(t,e){At.view=t,At.history=[t],At.data=e},replace(t,e){At.history.at(-1)===t||(At.view=t,At.history[At.history.length-1]=t,At.data=e)},goBack(){var r;const t=$.state.activeCaipAddress,e=De.state.view==="ConnectingFarcaster",n=!t&&e;if(At.history.length>1){At.history.pop();const[s]=At.history.slice(-1);s&&(t&&s==="Connect"?At.view="Account":At.view=s)}else yt.close();(r=At.data)!=null&&r.wallet&&(At.data.wallet=void 0),setTimeout(()=>{var s,i,o;if(n){he.setFarcasterUrl(void 0,$.state.activeChain);const a=pe.getAuthConnector();(s=a==null?void 0:a.provider)==null||s.reload();const c=dg(ie.state);(o=(i=a==null?void 0:a.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(At.history.length>1){At.history=At.history.slice(0,t+1);const[e]=At.history.slice(-1);e&&(At.view=e)}},goBackOrCloseModal(){De.state.history.length>1?De.goBack():yt.close()}},De=Is(CZ),xo=Ut({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),OC={state:xo,subscribe(t){return Kn(xo,()=>t(xo))},setThemeMode(t){xo.themeMode=t;try{const e=pe.getAuthConnector();if(e){const n=OC.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Vo(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){xo.themeVariables={...xo.themeVariables,...t};try{const e=pe.getAuthConnector();if(e){const n=OC.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Vo(xo.themeVariables,xo.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return dg(xo)}},Hr=Is(OC),j8={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},lt=Ut({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...j8},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),xZ={state:lt,subscribe(t){return Kn(lt,()=>{t(lt)})},subscribeKey(t,e){return Yn(lt,t,e)},initialize(t){t.forEach(e=>{const n=fe.getConnectedConnectorId(e);n&&pe.setConnectorId(n,e)})},setActiveConnector(t){t&&(lt.activeConnector=ru(t))},setConnectors(t){t.filter(s=>!lt.allConnectors.some(i=>i.id===s.id&&pe.getConnectorName(i.name)===pe.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&lt.allConnectors.push(ru(s))});const n=pe.getEnabledNamespaces(),r=pe.getEnabledConnectors(n);lt.connectors=pe.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(lt.filterByNamespaceMap).forEach(e=>{lt.filterByNamespaceMap[e]=!1}),t.forEach(e=>{lt.filterByNamespaceMap[e]=!0}),pe.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){lt.filterByNamespaceMap[t]=e,pe.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=pe.getEnabledNamespaces(),e=pe.getEnabledConnectors(t),n=pe.areAllNamespacesEnabled();lt.connectors=pe.mergeMultiChainConnectors(e),n?Ie.clearFilterByNamespaces():Ie.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(lt.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return lt.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(lt.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=pe.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],i=(s==null?void 0:s.id)===te.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=pe.getConnectorName(r);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===te.CONNECTOR_ID.AUTH){const s=t,i=dg(ie.state),o=Hr.getSnapshot().themeMode,a=Hr.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Vo(a,o)}),pe.setConnectors([t])}else pe.setConnectors([t])},getAuthConnector(t){var r;const e=t||$.state.activeChain,n=lt.connectors.find(s=>s.id===te.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return lt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return lt.allConnectors.find(e=>e.id===t)},getConnector(t,e){return lt.allConnectors.filter(r=>r.chain===$.state.activeChain).find(r=>{var s;return r.explorerId===t||((s=r.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="ID_AUTH")return;const e=t,n=dg(ie.state),r=Hr.getSnapshot().themeMode,s=Hr.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:Vo(s,r)})},getConnectorsByNamespace(t){const e=lt.allConnectors.filter(n=>n.chain===t);return pe.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=pe.getConnector(t.id,t.rdns),n=$.state.activeChain;fZ.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,n),e?De.push("ConnectingExternal",{connector:e}):De.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?pe.getConnectorsByNamespace(t):pe.mergeMultiChainConnectors(lt.allConnectors)},setFilterByNamespace(t){lt.filterByNamespace=t,lt.connectors=pe.getConnectors(t),Ie.setFilterByNamespace(t)},setConnectorId(t,e){t&&(lt.activeConnectorIds={...lt.activeConnectorIds,[e]:t},fe.setConnectedConnectorId(e,t))},removeConnectorId(t){lt.activeConnectorIds={...lt.activeConnectorIds,[t]:void 0},fe.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return lt.activeConnectorIds[t]},isConnected(t){return t?!!lt.activeConnectorIds[t]:Object.values(lt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){lt.activeConnectorIds={...j8}}},pe=Is(xZ),fg={getConnectionStatus(t,e){const n=pe.state.activeConnectorIds[e],r=Ee.state.connections.get(e)??[];return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},validateAccountSwitch({namespace:t,connection:e,address:n}){if(t===te.CHAIN.BITCOIN){if(!n)throw new Error("Address parameter is required for switching bip122 connection");const{type:s}=e.accounts.find(i=>i.address.toLowerCase()===n.toLowerCase())??{};if(typeof s=="string"&&s!=="payment")throw new Error(`Switching to non-payment accounts is not allowed for ${t}`)}},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},filterConnectionsByAccountType(t,e){return t.map(n=>{const r=n.accounts.filter(s=>typeof s.type=="string"?s.type.toLowerCase()===e.toLowerCase():!0);return{...n,accounts:r}})},getConnectionsData(t){const e=Ee.state.connections.get(t)??[],n=e.filter(a=>!a.recent),r=pe.state.activeConnectorIds[t],i=e.filter(a=>a.recent).filter(a=>pe.getConnectorById(a.connectorId)),o=fg.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],i);return{connections:n,recentConnections:o}}};var fh={};const SZ="https://secure.walletconnect.org/sdk",AZ=(typeof process<"u"&&typeof fh<"u"?fh.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||SZ,IZ=(typeof process<"u"&&typeof fh<"u"?fh.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",TZ=(typeof process<"u"&&typeof fh<"u"?fh.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",xe={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},$n={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},NZ=1e3,qo={checkNamespaceConnectorId(t,e){return pe.getConnectorId(t)===e},isSocialProvider(t){return _t.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&pe.setActiveConnector(e),s==null||s(Ae.isMobile()&&t),r){const l=yt.subscribeKey("open",u=>{u||(De.state.view!==r&&De.replace(r),l(),a(new Error("Modal closed")))})}const c=$.subscribeKey("activeCaipAddress",l=>{l&&(i==null||i(),n&&yt.close(),c(),o(fs.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,n)=>{const r=$.subscribeKey("activeCaipAddress",s=>{s&&(yt.close(),r(),e(fs.parseCaipAddress(s)))});Ee.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,closeModalOnConnect:e=!0,onOpenFarcaster:n,onConnect:r}){let s=he.state.socialWindow,i=he.state.socialProvider,o=!1,a=null;const c=$.subscribeKey("activeCaipAddress",l=>{l&&(e&&yt.close(),c())});return new Promise((l,u)=>{async function d(f){var p;if((p=f.data)!=null&&p.resultUri)if(f.origin===te.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",d,!1);try{const g=pe.getAuthConnector();if(g&&!o){s&&(s.close(),he.setSocialWindow(void 0,$.state.activeChain),s=he.state.socialWindow),o=!0;const y=f.data.resultUri;if(i&&Et.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:i}}),await g.provider.connectSocial(y),i){fe.setConnectedSocialProvider(i),await Ee.connectExternal({id:g.id,type:g.type,socialUri:y},g.chain);const w=$.state.activeCaipAddress;if(!w){u(new Error("Failed to connect"));return}l(fs.parseCaipAddress(w)),Et.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:i}})}}}catch{i&&Et.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}}),u(new Error("Failed to connect"))}}else i&&Et.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}})}async function h(){if(t&&(he.setSocialProvider(t,$.state.activeChain),i=he.state.socialProvider,Et.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:i}})),i==="farcaster"){n==null||n();const f=yt.subscribeKey("open",g=>{!g&&t==="farcaster"&&(u(new Error("Popup closed")),r==null||r(),f())}),p=pe.getAuthConnector();if(p&&!he.state.farcasterUrl)try{const{url:g}=await p.provider.getFarcasterUri();he.setFarcasterUrl(g,$.state.activeChain)}catch{u(new Error("Failed to connect to farcaster"))}}else{const f=pe.getAuthConnector();a=Ae.returnOpenHref(`${te.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(f&&i){const{uri:p}=await f.provider.getSocialRedirectUri({provider:i});if(a&&p){he.setSocialWindow(a,$.state.activeChain),s=he.state.socialWindow,a.location.href=p;const g=setInterval(()=>{s!=null&&s.closed&&!o&&(u(new Error("Popup closed")),clearInterval(g))},1e3);window.addEventListener("message",d,!1)}else a==null||a.close(),u(new Error("Failed to initiate social connection"))}}catch{u(new Error("Failed to initiate social connection")),a==null||a.close()}}}h()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n==null||n(),e){const a=yt.subscribeKey("open",c=>{c||(De.state.view!==e&&De.replace(e),a(),i(new Error("Modal closed")))})}const o=$.subscribeKey("activeCaipAddress",a=>{a&&(r==null||r(),t&&yt.close(),o(),s(fs.parseCaipAddress(a)))})})},async updateEmail(){const t=fe.getConnectedConnectorId($.state.activeChain),e=pe.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==te.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return De.push("UpdateEmailWallet",{email:n,redirectView:void 0}),new Promise((r,s)=>{const i=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(yt.close(),clearInterval(i),o(),r({email:a}))},NZ),o=yt.subscribeKey("open",a=>{a||(De.state.view!=="Connect"&&De.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){var n;return $.checkIfSmartAccountEnabled()&&((n=he.state.preferredAccountTypes)==null?void 0:n[t])===$n.ACCOUNT_TYPES.EOA}},ul=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),mn=Ut({...ul}),PZ={state:mn,subscribeKey(t,e){return Yn(mn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Ae.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){mn.message=ul.message,mn.variant=ul.variant,mn.svg=ul.svg,mn.open=ul.open,mn.autoClose=ul.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=ul.autoClose}){mn.open?(mn.open=!1,setTimeout(()=>{mn.message=t,mn.variant=n,mn.svg=e,mn.open=!0,mn.autoClose=r},150)):(mn.message=t,mn.variant=n,mn.svg=e,mn.open=!0,mn.autoClose=r)}},Ei=PZ,Ot=Ut({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),kZ={state:Ot,subscribe(t){return Kn(Ot,()=>t(Ot))},setLastNetworkInView(t){Ot.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Ot.loading=!0;try{const s=await Oe.fetchTransactions({account:t,cursor:Ot.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),i=jf.filterSpamTransactions(s.data),o=jf.filterByConnectedChain(i),a=[...Ot.transactions,...o];Ot.loading=!1,e==="coinbase"?Ot.coinbaseTransactions=jf.groupTransactionsByYearAndMonth(Ot.coinbaseTransactions,s.data):(Ot.transactions=a,Ot.transactionsByYear=jf.groupTransactionsByYearAndMonth(Ot.transactionsByYear,o)),Ot.empty=a.length===0,Ot.next=s.next?s.next:void 0}catch{const i=$.state.activeChain;Et.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:ie.state.projectId,cursor:Ot.next,isSmartAccount:((r=he.state.preferredAccountTypes)==null?void 0:r[i])===$n.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ei.showError("Failed to fetch transactions"),Ot.loading=!1,Ot.empty=!0,Ot.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},c=(o[i]??[]).filter(l=>l.id!==r.id);n[s]={...o,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=$.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){Ot.next=void 0},resetTransactions(){Ot.transactions=[],Ot.transactionsByYear={},Ot.lastNetworkInView=void 0,Ot.loading=!1,Ot.empty=!1,Ot.next=void 0}},jf=Is(kZ,"API_ERROR"),it=Ut({connections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Xc;const OZ={state:it,subscribe(t){return Kn(it,()=>t(it))},subscribeKey(t,e){return Yn(it,t,e)},_getClient(){return it._client},setClient(t){it._client=ru(t)},initialize(t){const e=fe.getConnections();for(const n of t){const r=n.namespace;if(r){const s=it.connections.get(r)??[],i=e[r]??[],o=[...s,...i];it.connections.set(r,o)}}},async connectWalletConnect(){var t,e,n,r;if(Ae.isTelegram()||Ae.isSafari()&&Ae.isIos()){if(Xc){await Xc,Xc=void 0;return}if(!Ae.isPairingExpired(it==null?void 0:it.wcPairingExpiry)){const s=it.wcUri;it.wcUri=s;return}Xc=(e=(t=Ee._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),Ee.state.status="connecting",await Xc,Xc=void 0,it.wcPairingExpiry=void 0,Ee.state.status="connected"}else await((r=(n=Ee._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var s,i;const r=await((i=(s=Ee._getClient())==null?void 0:s.connectExternal)==null?void 0:i.call(s,t));return n&&$.setActiveNamespace(e),r},async reconnectExternal(t){var n,r;await((r=(n=Ee._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||$.state.activeChain;e&&pe.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;yt.setLoading(!0,$.state.activeChain);const n=pe.getAuthConnector();n&&(he.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),fe.setPreferredAccountTypes(he.state.preferredAccountTypes??{[e]:t}),await Ee.reconnectExternal(n),yt.setLoading(!1,$.state.activeChain),Et.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=$.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=Ee._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=Ee._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=Ee._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=Ee._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=Ee._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=Ee._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=Ee._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=Ee._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=Ee._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=Ee._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=Ee._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=Ee._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){it.wcUri=void 0,it.wcPairingExpiry=void 0,it.wcLinking=void 0,it.recentWallet=void 0,it.status="disconnected",jf.resetTransactions(),fe.deleteWalletConnectDeepLink()},resetUri(){it.wcUri=void 0,it.wcPairingExpiry=void 0,Xc=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=Ee.state;t&&fe.setWalletConnectDeepLink(t),e&&fe.setAppKitRecent(e),Et.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=De.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){it.wcBasic=t},setUri(t){it.wcUri=t,it.wcPairingExpiry=Ae.getPairingExpiry()},setWcLinking(t){it.wcLinking=t},setWcError(t){it.wcError=t,it.buffering=!1},setRecentWallet(t){it.recentWallet=t},setBuffering(t){it.buffering=t},setStatus(t){it.status=t},setIsSwitchingConnection(t){it.isSwitchingConnection=t},async disconnect({id:t,namespace:e}={}){var n;try{await((n=Ee._getClient())==null?void 0:n.disconnect({id:t,chainNamespace:e}))}catch(r){throw new hh("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(t,e){it.connections=new Map(it.connections.set(e,t))},async handleAuthAccountSwitch({address:t,connection:e,namespace:n}){var o;const r=(o=e.accounts.find(a=>a.type==="smartAccount"))==null?void 0:o.address,i=(r==null?void 0:r.toLowerCase())===t.toLowerCase()&&qo.canSwitchToSmartAccount(n)?"smartAccount":"eoa";await Ee.setPreferredAccountType(i,n)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=pe.getConnectorById(t.connectorId),s=t.connectorId===te.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);const i=await Ee.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e);return s&&n&&await Ee.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),i==null?void 0:i.address},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){var l,u;const s=pe.getConnectorById(t.connectorId),i=(u=(l=t.auth)==null?void 0:l.name)==null?void 0:u.toLowerCase(),o=t.connectorId===te.CONNECTOR_ID.AUTH,a=t.connectorId===te.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(i&&qo.isSocialProvider(i)){const{address:d}=await qo.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){yt.open({view:"ConnectingFarcaster"})},onConnect(){De.replace("ProfileWallets")}});c=d}else{const{address:d}=await qo.connectEmail({closeModalOnConnect:r,onOpen(){yt.open({view:"EmailLogin"})},onConnect(){De.replace("ProfileWallets")}});c=d}else if(a){const{address:d}=await qo.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(h){yt.open({view:h?"AllWallets":"ConnectingWalletConnect"})},onConnect(){De.replace("ProfileWallets")}});c=d}else{const d=await Ee.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);d&&(c=d.address)}return o&&n&&await Ee.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:s}){fg.validateAccountSwitch({namespace:n,connection:t,address:e});let i;const o=he.getCaipAddress(n);if(o){const{address:c}=fs.parseCaipAddress(o);i=c}const a=fg.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const c=await Ee.handleActiveConnection({connection:t,namespace:n,address:e});if(i&&c){const l=c.toLowerCase()!==i.toLowerCase();s==null||s({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await Ee.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&(s==null||s({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},Ee=Is(OZ),ju=Ut({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),co={state:ju,subscribe(t){return Kn(ju,()=>t(ju))},subscribeOpen(t){return Yn(ju,"open",t)},set(t){Object.assign(ju,{...ju,...t})}};function RZ(t){const e=Array.from($.state.chains.keys());let n=[];return t?(n.push([t,$.state.chains.get(t)]),qo.checkNamespaceConnectorId(t,te.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&qo.checkNamespaceConnectorId(r,te.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,$.state.chains.get(r)])}):qo.checkNamespaceConnectorId(t,te.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&qo.checkNamespaceConnectorId(r,te.CONNECTOR_ID.AUTH)&&n.push([r,$.state.chains.get(r)])})):n=Array.from($.state.chains.entries()),n}function U8(){var r,s;const t=((r=$.state.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=$.state.activeCaipNetwork)==null?void 0:s.id)||1,n=_t.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}const $Z={async getTokenList(){var r;const t=$.state.activeCaipNetwork,e=await Oe.fetchSwapTokens({chainId:t==null?void 0:t.caipNetworkId});return((r=e==null?void 0:e.tokens)==null?void 0:r.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=$.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const n=(e=await(Ee==null?void 0:Ee.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await Oe.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await Oe.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&n&&r){const i=Ee.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await OA.getMyTokensWithBalance(t);return he.setTokenBalance(e,$.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:U8(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},bt=Ut({tokenBalances:[],loading:!1}),DZ={state:bt,subscribe(t){return Kn(bt,()=>t(bt))},subscribeKey(t,e){return Yn(bt,t,e)},setToken(t){t&&(bt.token=ru(t))},setTokenAmount(t){bt.sendTokenAmount=t},setReceiverAddress(t){bt.receiverAddress=t},setReceiverProfileImageUrl(t){bt.receiverProfileImageUrl=t},setReceiverProfileName(t){bt.receiverProfileName=t},setNetworkBalanceInUsd(t){bt.networkBalanceInUSD=t},setLoading(t){bt.loading=t},async sendToken(){var t;try{switch(gt.setLoading(!0),(t=$.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await gt.sendEvmToken();return;case"solana":await gt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{gt.setLoading(!1)}},async sendEvmToken(){var n,r,s,i;const t=$.state.activeChain,e=(n=he.state.preferredAccountTypes)==null?void 0:n[t];if(!gt.state.sendTokenAmount||!gt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!gt.state.token)throw new Error("A token is required");(r=gt.state.token)!=null&&r.address?(Et.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===$n.ACCOUNT_TYPES.SMART_ACCOUNT,token:gt.state.token.address,amount:gt.state.sendTokenAmount,network:((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await gt.sendERC20Token({receiverAddress:gt.state.receiverAddress,tokenAddress:gt.state.token.address,sendTokenAmount:gt.state.sendTokenAmount,decimals:gt.state.token.quantity.decimals})):(Et.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===$n.ACCOUNT_TYPES.SMART_ACCOUNT,token:gt.state.token.symbol||"",amount:gt.state.sendTokenAmount,network:((i=$.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),await gt.sendNativeToken({receiverAddress:gt.state.receiverAddress,sendTokenAmount:gt.state.sendTokenAmount,decimals:gt.state.token.quantity.decimals}))},async fetchTokenBalance(t){var i,o;bt.loading=!0;const e=(i=$.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=$.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=$.state.activeCaipAddress,s=r?Ae.getPlainAddress(r):void 0;if(bt.lastRetry&&!Ae.isAllowedRetry(bt.lastRetry,30*_t.ONE_SEC_MS))return bt.loading=!1,[];try{if(s&&e&&n){const a=await OA.getMyTokensWithBalance();return bt.tokenBalances=a,bt.lastRetry=void 0,a}}catch(a){bt.lastRetry=Date.now(),t==null||t(a),Ei.showError("Token Balance Unavailable")}finally{bt.loading=!1}return[]},fetchNetworkBalance(){if(bt.tokenBalances.length===0)return;const t=$Z.mapBalancesToSwapTokens(bt.tokenBalances);if(!t)return;const e=t.find(n=>n.address===U8());e&&(bt.networkBalanceInUSD=e?tZ.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var i,o,a,c;De.pushTransactionStack({});const e=t.receiverAddress,n=he.state.address,r=Ee.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await Ee.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),Et.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((i=he.state.preferredAccountTypes)==null?void 0:i.eip155)===$n.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=gt.state.token)==null?void 0:o.symbol)||"",amount:t.sendTokenAmount,network:((a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),(c=Ee._getClient())==null||c.updateBalance("eip155"),gt.resetSend()},async sendERC20Token(t){De.pushTransactionStack({onSuccess(){De.replace("Account")}});const e=Ee.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(he.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=Ae.getPlainAddress(t.tokenAddress);await Ee.writeContract({fromAddress:he.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:iZ.getERC20Abi(n),chainNamespace:"eip155"}),gt.resetSend()}},async sendSolanaToken(){var t;if(!gt.state.sendTokenAmount||!gt.state.receiverAddress)throw new Error("An amount and receiver address are required");De.pushTransactionStack({onSuccess(){De.replace("Account")}}),await Ee.sendTransaction({chainNamespace:"solana",to:gt.state.receiverAddress,value:gt.state.sendTokenAmount}),(t=Ee._getClient())==null||t.updateBalance("solana"),gt.resetSend()},resetSend(){bt.token=void 0,bt.sendTokenAmount=void 0,bt.receiverAddress=void 0,bt.receiverProfileImageUrl=void 0,bt.receiverProfileName=void 0,bt.loading=!1,bt.tokenBalances=[]}},gt=Is(DZ),O1={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},gy={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ge=Ut({chains:VJ(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),jZ={state:ge,subscribe(t){return Kn(ge,()=>{t(ge)})},subscribeKey(t,e){return Yn(ge,t,e)},subscribeChainProp(t,e,n){let r;return Kn(ge.chains,()=>{var i;const s=n||ge.activeChain;if(s){const o=(i=ge.chains.get(s))==null?void 0:i[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:s}=fe.getActiveNetworkProps(),i=e==null?void 0:e.find(u=>u.id.toString()===(r==null?void 0:r.toString())),a=t.find(u=>(u==null?void 0:u.namespace)===s)||(t==null?void 0:t[0]),c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=ie.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(u=>u.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(ge.noAdapters=!0),ge.noAdapters||(ge.activeChain=a==null?void 0:a.namespace,ge.activeCaipNetwork=i,$.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),ge.activeChain&&co.set({activeChain:a==null?void 0:a.namespace})),l.forEach(u=>{const d=e==null?void 0:e.filter(h=>h.chainNamespace===u);$.state.chains.set(u,{namespace:u,networkState:Ut({...gy,caipNetwork:d==null?void 0:d[0]}),accountState:Ut(O1),caipNetworks:d??[],...n}),$.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){var e,n;if(ge.activeChain===t){const r=Array.from(ge.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&$.setActiveCaipNetwork(s)}}ge.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){ge.chains.set(t.namespace,{namespace:t.namespace,networkState:{...gy,caipNetwork:r[0]},accountState:O1,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),$.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=ge.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),ge.chains.set(t.chainNamespace,{...e,caipNetworks:r}),$.setRequestedCaipNetworks(r,t.chainNamespace),pe.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,s,i;const n=ge.chains.get(t);if(n){const o=((r=ge.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((s=n.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=n==null?void 0:n.caipNetworks)!=null&&i[0])&&$.setActiveCaipNetwork(n.caipNetworks[0]),ge.chains.set(t,{...n,caipNetworks:a}),$.setRequestedCaipNetworks(a||[],t),a.length===0&&pe.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=ge.chains.get(t);n&&(n.networkState={...n.networkState||gy,...e},ge.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=ge.chains.get(t);if(r){const s={...r.accountState||O1,...e};ge.chains.set(t,{...r,accountState:s}),(ge.chains.size===1||ge.activeChain===t)&&(e.caipAddress&&(ge.activeCaipAddress=e.caipAddress),he.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=ge.chains.get(t);if(n){const r={...n.networkState||gy,...e};ge.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){$.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&pe.removeConnectorId(n)},setActiveNamespace(t){var r,s;ge.activeChain=t;const e=t?ge.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(ge.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,ge.activeCaipNetwork=n,$.setChainNetworkData(t,{caipNetwork:n}),fe.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),co.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,i;if(!t)return;ge.activeChain!==t.chainNamespace&&$.setIsSwitchingNamespace(!0);const e=ge.chains.get(t.chainNamespace);ge.activeChain=t.chainNamespace,ge.activeCaipNetwork=t,$.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?ge.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:ge.activeCaipAddress=void 0,$.setAccountProp("caipAddress",ge.activeCaipAddress,t.chainNamespace),e&&he.replaceState(e.accountState),gt.resetSend(),co.set({activeChain:ge.activeChain,selectedNetworkId:(i=ge.activeCaipNetwork)==null?void 0:i.caipNetworkId}),fe.setActiveCaipNetworkId(t.caipNetworkId),!$.checkIfSupportedNetwork(t.chainNamespace)&&ie.state.enableNetworkSwitch&&!ie.state.allowUnsupportedChain&&!Ee.state.wcBasic&&$.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=ge.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==$.state.activeChain,n=(s=$.getNetworkData(t))==null?void 0:s.caipNetwork,r=$.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await $.switchActiveNetwork(r)},async switchActiveNetwork(t){var s;const e=$.state.chains.get($.state.activeChain),n=!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(i=>{var o;return i.id===((o=ge.activeCaipNetwork)==null?void 0:o.id)})),r=$.getNetworkControllerClient(t.chainNamespace);if(r){try{await r.switchCaipNetwork(t),n&&yt.close()}catch{De.goBack()}Et.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||ge.activeChain,n=ge.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||ge.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=ge.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var s;let n=ge.activeChain;if(e&&(n=e),!n)return;const r=(s=ge.chains.get(n))==null?void 0:s.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=ge.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=ge.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return Ae.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return ge.chains.forEach(e=>{const n=$.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){$.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=$.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));pe.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return ge.chains.forEach(e=>{const n=$.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return ge.activeCaipNetwork},getActiveCaipAddress(){return ge.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=ge.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=$.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());$.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||ge.activeCaipNetwork,r=$.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(s=>s.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!ge.activeChain)return!0;const e=$.getRequestedCaipNetworks(ge.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){$.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=hg.caipNetworkIdToNumber((r=ge.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=ge.activeChain;if(!e||!t)return!1;const n=$.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},showUnsupportedChainUI(){yt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=ge.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&_t.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){$.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");ge.activeCaipAddress=void 0,$.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),pe.removeConnectorId(e)},setIsSwitchingNamespace(t){ge.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(ge.chains.forEach(s=>{te.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=ge.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=$.state.chains.get(t))==null?void 0:e.accountState:he.state},getNetworkData(t){var n;const e=t||ge.activeChain;if(e)return(n=$.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const n=$.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(a=>a.id===e);return r||((i=n==null?void 0:n.networkState)==null?void 0:i.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=pe.state.filterByNamespace;return(t?[ge.chains.get(t)]:Array.from(ge.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?$.getRequestedCaipNetworks(t):$.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){ge.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return ge.lastConnectedSIWECaipNetwork}},$=Is(jZ),UZ={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},L8=Ae.getBlockchainApiUrl(),Rr=Ut({clientId:null,api:new om({baseUrl:L8,clientId:null}),supportedChains:{http:[],ws:[]}}),Oe={state:Rr,async get(t){const{st:e,sv:n}=Oe.getSdkProperties(),r=ie.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return Rr.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=ie.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Rr.supportedChains.http.length||await Oe.getSupportedNetworks()}catch{return!1}return Rr.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Oe.get({path:"v1/supported-chains"});return Rr.supportedChains=t,t}catch{return Rr.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Oe.isNetworkSupported(e))return{avatar:"",name:""};const r=fe.getIdentityFromCacheForAddress(t);if(r)return r;const s=await Oe.get({path:`/v1/identity/${t}`,params:{sender:$.state.activeCaipAddress?Ae.getPlainAddress($.state.activeCaipAddress):void 0}});return fe.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:s,chainId:i}){var a;return await Oe.isNetworkSupported((a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?Oe.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:i},signal:r,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var o;return await Oe.isNetworkSupported((o=$.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Oe.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Oe.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Oe.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await Oe.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Rr.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:ie.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Oe.isNetworkSupported((r=$.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Oe.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=Oe.getSdkProperties();if(!await Oe.isNetworkSupported((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return Oe.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var o;if(!await Oe.isNetworkSupported((o=$.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Rr.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:_t.CONVERT_SLIPPAGE_TOLERANCE},projectId:ie.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:s}=Oe.getSdkProperties();if(!await Oe.isNetworkSupported((o=$.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Oe.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var l;const{st:r,sv:s}=Oe.getSdkProperties();if(!await Oe.isNetworkSupported((l=$.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return Ei.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=fe.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Oe.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return fe.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await Oe.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Oe.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Oe.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Oe.get({path:`/v1/profile/reverse/${t}`,params:{sender:he.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Oe.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Oe.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var i;return await Oe.isNetworkSupported((i=$.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?Rr.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var a;return await Oe.isNetworkSupported((a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await Rr.api.post({path:"/v1/generators/onrampurl",params:{projectId:ie.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await Oe.isNetworkSupported((e=$.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Oe.get({path:"/v1/onramp/options"})}catch{return UZ}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await Oe.isNetworkSupported((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await Rr.api.post({path:"/v1/onramp/quote",params:{projectId:ie.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Oe.isNetworkSupported((n=$.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Oe.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await Oe.isNetworkSupported((s=$.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Rr.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:ie.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){Rr.clientId=t,Rr.api=new om({baseUrl:L8,clientId:t})}},R1={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return Ih(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},OA={async getMyTokensWithBalance(t){const e=he.state.address,n=$.state.activeCaipNetwork,r=pe.getConnectorId("eip155")===te.CONNECTOR_ID.AUTH;if(!e||!n)return[];const s=`${n.caipNetworkId}:${e}`,i=fe.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace==="eip155"&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await Oe.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){var n,r;try{const s=R1.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await Ee.getCapabilities(t);if(!((r=(n=i==null?void 0:i[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await Ee.walletGetAssets({account:t,chainFilter:[s]});if(!R1.isWalletGetAssetsResponse(o))return null;const c=(o[s]||[]).map(l=>R1.createBalance(l,e.caipNetworkId));return fe.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},Ps=Ut({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),LZ={state:Ps,replaceState(t){t&&Object.assign(Ps,ru(t))},subscribe(t){return $.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return $.subscribeChainProp("accountState",s=>{if(s){const i=s[t];r!==i&&(r=i,e(i))}},n)},setStatus(t,e){$.setAccountProp("status",t,e)},getCaipAddress(t){return $.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?Ae.getPlainAddress(t):void 0;e===$.state.activeChain&&($.state.activeCaipAddress=t),$.setAccountProp("caipAddress",t,e),$.setAccountProp("address",n,e)},setBalance(t,e,n){$.setAccountProp("balance",t,n),$.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){$.setAccountProp("profileName",t,e)},setProfileImage(t,e){$.setAccountProp("profileImage",t,e)},setUser(t,e){$.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){$.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){$.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){$.setAccountProp("currentTab",t,$.state.activeChain)},setTokenBalance(t,e){t&&$.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){$.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){$.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=$.getAccountProp("addressLabels",n)||new Map;r.set(t,e),$.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=$.getAccountProp("addressLabels",e)||new Map;n.delete(t),$.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){$.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){$.setAccountProp("preferredAccountTypes",{...Ps.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){Ps.preferredAccountTypes=t},setSocialProvider(t,e){t&&$.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){$.setAccountProp("socialWindow",t?ru(t):void 0,e)},setFarcasterUrl(t,e){$.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var i,o;Ps.balanceLoading=!0;const e=(i=$.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=$.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=$.state.activeCaipAddress,s=r?Ae.getPlainAddress(r):void 0;if(Ps.lastRetry&&!Ae.isAllowedRetry(Ps.lastRetry,30*_t.ONE_SEC_MS))return Ps.balanceLoading=!1,[];try{if(s&&e&&n){const a=await OA.getMyTokensWithBalance();return he.setTokenBalance(a,n),Ps.lastRetry=void 0,Ps.balanceLoading=!1,a}}catch(a){Ps.lastRetry=Date.now(),t==null||t(a),Ei.showError("Token Balance Unavailable")}finally{Ps.balanceLoading=!1}return[]},resetAccount(t){$.resetAccount(t)}},he=Is(LZ),MZ={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=$.state.activeCaipNetwork,r=De.state.data;if(t.id===(n==null?void 0:n.id))return;const i=he.getCaipAddress($.state.activeChain),o=t.chainNamespace!==$.state.activeChain,a=he.getCaipAddress(t.chainNamespace),l=pe.getConnectorId($.state.activeChain)===te.CONNECTOR_ID.AUTH,u=te.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?De.push("SwitchNetwork",{...r,network:t}):i&&o&&!a?De.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):De.push("SwitchNetwork",{...r,network:t})}},$r=Ut({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),BZ={state:$r,subscribe(t){return Kn($r,()=>t($r))},subscribeKey(t,e){return Yn($r,t,e)},async open(t){var o,a;const e=he.state.status==="connected",n=t==null?void 0:t.namespace,r=$.state.activeChain,s=n&&n!==r,i=(o=$.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress;if(Ee.state.wcBasic?Ie.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Ie.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),pe.setFilterByNamespace(t==null?void 0:t.namespace),yt.setLoading(!0,n),n&&s){const c=((a=$.getNetworkData(n))==null?void 0:a.caipNetwork)||$.getRequestedCaipNetworks(n)[0];c&&MZ.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0})}else{const c=$.state.noAdapters;ie.state.manualWCControl||c&&!i?Ae.isMobile()?De.reset("AllWallets"):De.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?De.reset(t.view,t.data):i?De.reset("Account"):De.reset("Connect")}$r.open=!0,co.set({open:!0}),Et.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=ie.state.enableEmbedded,e=!!$.state.activeCaipAddress;$r.open&&Et.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),$r.open=!1,De.reset("Connect"),yt.clearLoading(),t?e?De.replace("Account"):De.push("Connect"):co.set({open:!1}),Ee.resetUri()},setLoading(t,e){e&&$r.loadingNamespaceMap.set(e,t),$r.loading=t,co.set({loading:t})},clearLoading(){$r.loadingNamespaceMap.clear(),$r.loading=!1},shake(){$r.shake||($r.shake=!0,setTimeout(()=>{$r.shake=!1},500))}},yt=Is(BZ),np={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},RC={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},FZ={providers:$8,selectedProvider:null,error:null,purchaseCurrency:np,paymentCurrency:RC,purchaseCurrencies:[np],paymentCurrencies:[],quotesLoading:!1},ot=Ut(FZ),zZ={state:ot,subscribe(t){return Kn(ot,()=>t(ot))},subscribeKey(t,e){return Yn(ot,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=$.state.activeChain===te.CHAIN.SOLANA?"SOL":"USDC",n=he.state.address??"",r=new URL(t.url);r.searchParams.append("publicKey",oZ),r.searchParams.append("destinationCurrencyCode",e),r.searchParams.append("walletAddress",n),r.searchParams.append("externalCustomerId",ie.state.projectId),ot.selectedProvider={...t,url:r.toString()}}else ot.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=$8.filter(r=>e.includes(r.name));ot.providers=n}else ot.providers=[]},setPurchaseCurrency(t){ot.purchaseCurrency=t},setPaymentCurrency(t){ot.paymentCurrency=t},setPurchaseAmount(t){$C.state.purchaseAmount=t},setPaymentAmount(t){$C.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Oe.getOnrampOptions();ot.purchaseCurrencies=t.purchaseCurrencies,ot.paymentCurrencies=t.paymentCurrencies,ot.paymentCurrency=t.paymentCurrencies[0]||RC,ot.purchaseCurrency=t.purchaseCurrencies[0]||np,await Ie.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Ie.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;ot.quotesLoading=!0;try{const n=await Oe.getOnrampQuote({purchaseCurrency:ot.purchaseCurrency,paymentCurrency:ot.paymentCurrency,amount:((t=ot.paymentAmount)==null?void 0:t.toString())||"0",network:(e=ot.purchaseCurrency)==null?void 0:e.symbol});return ot.quotesLoading=!1,ot.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return ot.error=n.message,ot.quotesLoading=!1,null}finally{ot.quotesLoading=!1}},resetState(){ot.selectedProvider=null,ot.error=null,ot.purchaseCurrency=np,ot.paymentCurrency=RC,ot.purchaseCurrencies=[np],ot.paymentCurrencies=[],ot.paymentAmount=void 0,ot.purchaseAmount=void 0,ot.quotesLoading=!1}},$C=Is(zZ),pN=2147483648,qZ={convertEVMChainIdToCoinType(t){if(t>=pN)throw new Error("Invalid chainId");return(pN|t)>>>0}},ks=Ut({suggestions:[],loading:!1}),WZ={state:ks,subscribe(t){return Kn(ks,()=>t(ks))},subscribeKey(t,e){return Yn(ks,t,e)},async resolveName(t){var e,n;try{return await Oe.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Oe.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{ks.loading=!0,ks.suggestions=[];const e=await Oe.getEnsNameSuggestions(t);return ks.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],ks.suggestions}catch(e){const n=rp.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{ks.loading=!1}},async getNamesForAddress(t){try{if(!$.state.activeCaipNetwork)return[];const n=fe.getEnsFromCacheForAddress(t);if(n)return n;const r=await Oe.reverseLookupEnsName({address:t});return fe.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=rp.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=$.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=he.state.address,r=pe.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");ks.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});De.pushTransactionStack({onCancel(){De.replace("RegisterAccountName")}});const i=await Ee.signMessage(s);ks.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=qZ.convertEVMChainIdToCoinType(Number(o));await Oe.registerEnsName({coinType:a,address:n,signature:i,message:s}),he.setProfileName(t,e.chainNamespace),De.replace("RegisterAccountNameSuccess")}catch(s){const i=rp.parseEnsApiError(s,`Error registering name ${t}`);throw De.replace("RegisterAccountName"),new Error(i)}finally{ks.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},rp=Is(WZ);var RA={exports:{}},jd=typeof Reflect=="object"?Reflect:null,gN=jd&&typeof jd.apply=="function"?jd.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},uw;jd&&typeof jd.ownKeys=="function"?uw=jd.ownKeys:Object.getOwnPropertySymbols?uw=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:uw=function(e){return Object.getOwnPropertyNames(e)};function HZ(t){console&&console.warn&&console.warn(t)}var M8=Number.isNaN||function(e){return e!==e};function Nt(){Nt.init.call(this)}RA.exports=Nt;RA.exports.once=YZ;Nt.EventEmitter=Nt;Nt.prototype._events=void 0;Nt.prototype._eventsCount=0;Nt.prototype._maxListeners=void 0;var mN=10;function Nv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Nt,"defaultMaxListeners",{enumerable:!0,get:function(){return mN},set:function(t){if(typeof t!="number"||t<0||M8(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");mN=t}});Nt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Nt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||M8(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function B8(t){return t._maxListeners===void 0?Nt.defaultMaxListeners:t._maxListeners}Nt.prototype.getMaxListeners=function(){return B8(this)};Nt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")gN(c,this,n);else for(var l=c.length,u=H8(c,l),r=0;r<l;++r)gN(u[r],this,n);return!0};function F8(t,e,n,r){var s,i,o;if(Nv(n),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]),o===void 0)o=i[e]=n,++t._eventsCount;else if(typeof o=="function"?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=B8(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,HZ(a)}return t}Nt.prototype.addListener=function(e,n){return F8(this,e,n,!1)};Nt.prototype.on=Nt.prototype.addListener;Nt.prototype.prependListener=function(e,n){return F8(this,e,n,!0)};function VZ(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function z8(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=VZ.bind(r);return s.listener=n,r.wrapFn=s,s}Nt.prototype.once=function(e,n){return Nv(n),this.on(e,z8(this,e,n)),this};Nt.prototype.prependOnceListener=function(e,n){return Nv(n),this.prependListener(e,z8(this,e,n)),this};Nt.prototype.removeListener=function(e,n){var r,s,i,o,a;if(Nv(n),s=this._events,s===void 0)return this;if(r=s[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():GZ(r,i),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};Nt.prototype.off=Nt.prototype.removeListener;Nt.prototype.removeAllListeners=function(e){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(e,n[s]);return this};function q8(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?KZ(s):H8(s,s.length)}Nt.prototype.listeners=function(e){return q8(this,e,!0)};Nt.prototype.rawListeners=function(e){return q8(this,e,!1)};Nt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):W8.call(t,e)};Nt.prototype.listenerCount=W8;function W8(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Nt.prototype.eventNames=function(){return this._eventsCount>0?uw(this._events):[]};function H8(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function GZ(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function KZ(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function YZ(t,e){return new Promise(function(n,r){function s(o){t.removeListener(e,i),r(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}V8(t,e,i,{once:!0}),e!=="error"&&QZ(t,s,{once:!0})})}function QZ(t,e,n){typeof t.on=="function"&&V8(t,"error",e,n)}function V8(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){r.once&&t.removeEventListener(e,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Zs=RA.exports;const $A=pu(Zs);var ue={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var DC=function(t,e){return DC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},DC(t,e)};function JZ(t,e){DC(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var jC=function(){return jC=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jC.apply(this,arguments)};function ZZ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function XZ(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function eX(t,e){return function(n,r){e(n,r,t)}}function tX(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function nX(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function rX(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function sX(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function iX(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function UC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function G8(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function oX(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(G8(arguments[e]));return t}function aX(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function pg(t){return this instanceof pg?(this.v=t,this):new pg(t)}function cX(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof pg?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function lX(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:pg(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function uX(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof UC=="function"?UC(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function dX(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function hX(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function fX(t){return t&&t.__esModule?t:{default:t}}function pX(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function gX(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const mX=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return jC},__asyncDelegator:lX,__asyncGenerator:cX,__asyncValues:uX,__await:pg,__awaiter:nX,__classPrivateFieldGet:pX,__classPrivateFieldSet:gX,__createBinding:sX,__decorate:XZ,__exportStar:iX,__extends:JZ,__generator:rX,__importDefault:fX,__importStar:hX,__makeTemplateObject:dX,__metadata:tX,__param:eX,__read:G8,__rest:ZZ,__spread:oX,__spreadArrays:aX,__values:UC},Symbol.toStringTag,{value:"Module"})),Pv=D0(mX);var $1={},cf={},yN;function yX(){if(yN)return cf;yN=1,Object.defineProperty(cf,"__esModule",{value:!0}),cf.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return cf.delay=t,cf}var el={},D1={},tl={},wN;function wX(){return wN||(wN=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.ONE_THOUSAND=tl.ONE_HUNDRED=void 0,tl.ONE_HUNDRED=100,tl.ONE_THOUSAND=1e3),tl}var j1={},vN;function vX(){return vN||(vN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(j1)),j1}var bN;function K8(){return bN||(bN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Pv;e.__exportStar(wX(),t),e.__exportStar(vX(),t)}(D1)),D1}var _N;function bX(){if(_N)return el;_N=1,Object.defineProperty(el,"__esModule",{value:!0}),el.fromMiliseconds=el.toMiliseconds=void 0;const t=K8();function e(r){return r*t.ONE_THOUSAND}el.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return el.fromMiliseconds=n,el}var EN;function _X(){return EN||(EN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Pv;e.__exportStar(yX(),t),e.__exportStar(bX(),t)}($1)),$1}var Uu={},CN;function EX(){if(CN)return Uu;CN=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Uu.Watch=t,Uu.default=t,Uu}var U1={},lf={},xN;function CX(){if(xN)return lf;xN=1,Object.defineProperty(lf,"__esModule",{value:!0}),lf.IWatch=void 0;class t{}return lf.IWatch=t,lf}var SN;function xX(){return SN||(SN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Pv.__exportStar(CX(),t)}(U1)),U1}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Pv;e.__exportStar(_X(),t),e.__exportStar(EX(),t),e.__exportStar(xX(),t),e.__exportStar(K8(),t)})(ue);class Eu{}let SX=class extends Eu{constructor(e){super()}};const AN=ue.FIVE_SECONDS,Cu={pulse:"heartbeat_pulse"};let AX=class Y8 extends SX{constructor(e){super(e),this.events=new Zs.EventEmitter,this.interval=AN,this.interval=(e==null?void 0:e.interval)||AN}static async init(e){const n=new Y8(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ue.toMiliseconds(this.interval))}pulse(){this.events.emit(Cu.pulse)}};const IX=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,TX=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,NX=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function PX(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){kX(t);return}return e}function kX(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function my(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!NX.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(IX.test(t)||TX.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,PX)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function OX(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function In(t,...e){try{return OX(t(...e))}catch(n){return Promise.reject(n)}}function RX(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function $X(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function dw(t){if(RX(t))return String(t);if($X(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return dw(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const LC="base64:";function DX(t){return typeof t=="string"?t:LC+LX(t)}function jX(t){return typeof t!="string"||!t.startsWith(LC)?t:UX(t.slice(LC.length))}function UX(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function LX(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Br(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function MX(...t){return Br(t.join(":"))}function yy(t){return t=Br(t),t?t+":":""}function BX(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function FX(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const zX="memory",qX=()=>{const t=new Map;return{name:zX,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function WX(t={}){const e={mounts:{"":t.driver||qX()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),s=(l,u)=>{if(e.watching){u=Br(u);for(const d of e.watchListeners)d(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await IN(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=p=>{let g=h.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},h.set(p.base,g)),g};for(const p of l){const g=typeof p=="string",y=Br(g?p:p.key),w=g?void 0:p.value,b=g||!p.options?u:{...u,...p.options},v=n(y);f(v).items.push({key:y,value:w,relativeKey:v.relativeKey,options:b})}return Promise.all([...h.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=Br(l);const{relativeKey:d,driver:h}=n(l);return In(h.hasItem,d,u)},getItem(l,u={}){l=Br(l);const{relativeKey:d,driver:h}=n(l);return In(h.getItem,d,u).then(f=>my(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?In(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:MX(d.base,f.key),value:my(f.value)}))):Promise.all(d.items.map(h=>In(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:my(f)})))))},getItemRaw(l,u={}){l=Br(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?In(h.getItemRaw,d,u):In(h.getItem,d,u).then(f=>jX(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=Br(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await In(f.setItem,h,dw(u),d),f.watch||s("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return In(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:dw(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>In(d.driver.setItem,h.relativeKey,dw(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=Br(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await In(f.setItemRaw,h,u,d);else if(f.setItem)await In(f.setItem,h,DX(u),d);else return;f.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=Br(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await In(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await In(h.removeItem,d+"$",u),h.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=Br(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await In(h.getMeta,d,u)),!u.nativeOnly){const p=await In(h.getItem,d+"$",u).then(g=>my(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var y;l=yy(l);const d=r(l,!0);let h=[];const f=[];let p=!0;for(const w of d){(y=w.driver.flags)!=null&&y.maxDepth||(p=!1);const b=await In(w.driver.getKeys,w.relativeBase,u);for(const v of b){const E=w.mountpoint+Br(v);h.some(_=>E.startsWith(_))||f.push(E)}h=[w.mountpoint,...h.filter(v=>!v.startsWith(w.mountpoint))]}const g=u.maxDepth!==void 0&&!p;return f.filter(w=>(!g||BX(w,u.maxDepth))&&FX(w,l))},async clear(l,u={}){l=yy(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return In(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>TN(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=yy(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(IN(u,s,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,h;l=yy(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(d=e.unwatch)[l])==null||h.call(d),delete e.unwatch[l]),u&&await TN(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=Br(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=Br(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function IN(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function TN(t){typeof t.dispose=="function"&&await In(t.dispose)}function xu(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Q8(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=xu(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(e,s).objectStore(e)))}let L1;function am(){return L1||(L1=Q8("keyval-store","keyval")),L1}function NN(t,e=am()){return e("readonly",n=>xu(n.get(t)))}function HX(t,e,n=am()){return n("readwrite",r=>(r.put(e,t),xu(r.transaction)))}function VX(t,e=am()){return e("readwrite",n=>(n.delete(t),xu(n.transaction)))}function GX(t=am()){return t("readwrite",e=>(e.clear(),xu(e.transaction)))}function KX(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},xu(t.transaction)}function YX(t=am()){return t("readonly",e=>{if(e.getAllKeys)return xu(e.getAllKeys());const n=[];return KX(e,r=>n.push(r.key)).then(()=>n)})}const QX=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),JX=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function iu(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JX(t)}catch{return t}}function oa(t){return typeof t=="string"?t:QX(t)||""}const ZX="idb-keyval";var XX=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=Q8(t.dbName,t.storeName)),{name:ZX,options:t,async hasItem(s){return!(typeof await NN(n(s),r)>"u")},async getItem(s){return await NN(n(s),r)??null},setItem(s,i){return HX(n(s),i,r)},removeItem(s){return VX(n(s),r)},getKeys(){return YX(r)},clear(){return GX(r)}}};const eee="WALLET_CONNECT_V2_INDEXED_DB",tee="keyvaluestorage";let nee=class{constructor(){this.indexedDb=WX({driver:XX({dbName:eee,storeName:tee})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,oa(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var M1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hw={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof M1<"u"&&M1.localStorage?hw.exports=M1.localStorage:typeof window<"u"&&window.localStorage?hw.exports=window.localStorage:hw.exports=new e})();function ree(t){var e;return[t[0],iu((e=t[1])!=null?e:"")]}let see=class{constructor(){this.localStorage=hw.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(ree)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return iu(n)}async setItem(e,n){this.localStorage.setItem(e,oa(n))}async removeItem(e){this.localStorage.removeItem(e)}};const iee="wc_storage_version",PN=1,oee=async(t,e,n)=>{const r=iee,s=await e.getItem(r);if(s&&s>=PN){n(e);return}const i=await t.getKeys();if(!i.length){n(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,PN),n(e),aee(t,o)},aee=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let cee=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new see;this.storage=e;try{const n=new nee;oee(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function lee(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var uee=dee;function dee(t,e,n){var r=n&&n.stringify||lee,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var o=new Array(i);o[0]=r(t);for(var a=1;a<i;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-s,d=-1,h=t&&t.length||0,f=0;f<h;){if(t.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Number(e[u]),d=f+2,f++;break;case 105:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Math.floor(Number(e[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<f&&(l+=t.slice(d,f));var p=typeof e[u];if(p==="string"){l+="'"+e[u]+"'",d=f+2,f++;break}if(p==="function"){l+=e[u].name||"<anonymous>",d=f+2,f++;break}l+=r(e[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=t.slice(d,f)),l+=String(e[u]),d=f+2,f++;break;case 37:d<f&&(l+=t.slice(d,f)),l+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?t:(d<h&&(l+=t.slice(d)),l)}const kN=uee;var ad=lo;const gg=_ee().console||{},hee={mapHttpRequest:wy,mapHttpResponse:wy,wrapRequestSerializer:B1,wrapResponseSerializer:B1,wrapErrorSerializer:B1,req:wy,res:wy,err:yee};function fee(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function lo(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||gg;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},s=fee(t.browser.serialize,r);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=mg),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:s,asObject:t.browser.asObject,levels:o,timestamp:wee(t)};c.levels=lo.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=mg,c.serializers=r,c._serialize=s,c._stdErrSerialize=i,c.child=f,e&&(c._logEvent=MC());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,Lu(l,c,"error","log"),Lu(l,c,"fatal","error"),Lu(l,c,"warn","error"),Lu(l,c,"info","log"),Lu(l,c,"debug","log"),Lu(l,c,"trace","log")}function f(p,g){if(!p)throw new Error("missing bindings for child Pino");g=g||{},s&&p.serializers&&(g.serializers=p.serializers);const y=g.serializers;if(s&&y){var w=Object.assign({},r,y),b=t.browser.serialize===!0?Object.keys(w):s;delete p.serializers,kv([p],b,w,this._stdErrSerialize)}function v(E){this._childLevel=(E._childLevel|0)+1,this.error=Mu(E,p,"error"),this.fatal=Mu(E,p,"fatal"),this.warn=Mu(E,p,"warn"),this.info=Mu(E,p,"info"),this.debug=Mu(E,p,"debug"),this.trace=Mu(E,p,"trace"),w&&(this.serializers=w,this._serialize=b),e&&(this._logEvent=MC([].concat(E._logEvent.bindings,p)))}return v.prototype=this,new v(this)}return c}lo.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};lo.stdSerializers=hee;lo.stdTimeFunctions=Object.assign({},{nullTime:J8,epochTime:Z8,unixTime:vee,isoTime:bee});function Lu(t,e,n,r){const s=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?mg:s[n]?s[n]:gg[n]||gg[r]||mg,pee(t,e,n)}function pee(t,e,n){!t.transmit&&e[n]===mg||(e[n]=function(r){return function(){const i=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===gg?gg:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&kv(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,gee(this,n,o,i)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=lo.levels.values[l],d=lo.levels.values[n];if(d<u)return;mee(this,{ts:i,methodLevel:n,methodValue:d,transmitValue:lo.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function gee(t,e,n,r){t._serialize&&kv(n,t._serialize,t.serializers,t._stdErrSerialize);const s=n.slice();let i=s[0];const o={};r&&(o.time=r),o.level=lo.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),i!==null&&typeof i=="object"){for(;a--&&typeof s[0]=="object";)Object.assign(o,s.shift());i=s.length?kN(s.shift(),s):void 0}else typeof i=="string"&&(i=kN(s.shift(),s));return i!==void 0&&(o.msg=i),o}function kv(t,e,n,r){for(const s in t)if(r&&t[s]instanceof Error)t[s]=lo.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in n&&(t[s][i]=n[i](t[s][i]))}function Mu(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var s=1;s<r.length;s++)r[s]=arguments[s-1];return t[n].apply(this,r)}}function mee(t,e,n){const r=e.send,s=e.ts,i=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;kv(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=o,r(i,t._logEvent,a),t._logEvent=MC(c)}function MC(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function yee(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function wee(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?J8:Z8}function wy(){return{}}function B1(t){return t}function mg(){}function J8(){return!1}function Z8(){return Date.now()}function vee(){return Math.round(Date.now()/1e3)}function bee(){return new Date(Date.now()).toISOString()}function _ee(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const cm=pu(ad),Eee={level:"info"},lm="custom_context",DA=1e3*1024;let Cee=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},ON=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new Cee(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},X8=class{constructor(e,n=DA){this.level=e??"error",this.levelValue=ad.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new ON(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===ad.levels.values.error?console.error(e):n===ad.levels.values.warn?console.warn(e):n===ad.levels.values.debug?console.debug(e):n===ad.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(oa({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new ON(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(oa({extraMetadata:e})),new Blob(n,{type:"application/json"})}},xee=class{constructor(e,n=DA){this.baseChunkLogger=new X8(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},See=class{constructor(e,n=DA){this.baseChunkLogger=new X8(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Aee=Object.defineProperty,Iee=Object.defineProperties,Tee=Object.getOwnPropertyDescriptors,RN=Object.getOwnPropertySymbols,Nee=Object.prototype.hasOwnProperty,Pee=Object.prototype.propertyIsEnumerable,$N=(t,e,n)=>e in t?Aee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c0=(t,e)=>{for(var n in e||(e={}))Nee.call(e,n)&&$N(t,n,e[n]);if(RN)for(var n of RN(e))Pee.call(e,n)&&$N(t,n,e[n]);return t},l0=(t,e)=>Iee(t,Tee(e));function Oh(t){return l0(c0({},t),{level:(t==null?void 0:t.level)||Eee.level})}function kee(t,e=lm){return t[e]||""}function Oee(t,e,n=lm){return t[n]=e,t}function ss(t,e=lm){let n="";return typeof t.bindings>"u"?n=kee(t,e):n=t.bindings().context||"",n}function Ree(t,e,n=lm){const r=ss(t,n);return r.trim()?`${r}/${e}`:e}function mr(t,e,n=lm){const r=Ree(t,e,n),s=t.child({context:r});return Oee(s,r,n)}function $ee(t){var e,n;const r=new xee((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:cm(l0(c0({},t.opts),{level:"trace",browser:l0(c0({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function Dee(t){var e;const n=new See((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:cm(l0(c0({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function jA(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?$ee(t):Dee(t)}var jee=Object.defineProperty,Uee=(t,e,n)=>e in t?jee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DN=(t,e,n)=>Uee(t,typeof e!="symbol"?e+"":e,n);let Lee=class extends Eu{constructor(e){super(),this.opts=e,DN(this,"protocol","wc"),DN(this,"version",2)}};var Mee=Object.defineProperty,Bee=(t,e,n)=>e in t?Mee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fee=(t,e,n)=>Bee(t,e+"",n);let zee=class extends Eu{constructor(e,n){super(),this.core=e,this.logger=n,Fee(this,"records",new Map)}},qee=class{constructor(e,n){this.logger=e,this.core=n}},Wee=class extends Eu{constructor(e,n){super(),this.relayer=e,this.logger=n}},Hee=class extends Eu{constructor(e){super()}},Vee=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},Gee=class extends Eu{constructor(e,n){super(),this.relayer=e,this.logger=n}},Kee=class extends Eu{constructor(e,n){super(),this.core=e,this.logger=n}},Yee=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},Qee=class{constructor(e,n){this.projectId=e,this.logger=n}},Jee=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var Zee=Object.defineProperty,Xee=(t,e,n)=>e in t?Zee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jN=(t,e,n)=>Xee(t,typeof e!="symbol"?e+"":e,n);let ete=class{constructor(e){this.opts=e,jN(this,"protocol","wc"),jN(this,"version",2)}},tte=class{constructor(e){this.client=e}};function nte(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function e6(t,...e){if(!nte(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function UN(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function rte(t,e){e6(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Bu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const F1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function ste(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function t6(t){return typeof t=="string"&&(t=ste(t)),e6(t),t}let ite=class{clone(){return this._cloneInto()}};function ote(t){const e=r=>t().update(t6(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function n6(t=32){if(Bu&&typeof Bu.getRandomValues=="function")return Bu.getRandomValues(new Uint8Array(t));if(Bu&&typeof Bu.randomBytes=="function")return Bu.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function ate(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let cte=class extends ite{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=F1(this.buffer)}update(e){UN(this);const{view:n,buffer:r,blockLen:s}=this;e=t6(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=F1(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){UN(this),rte(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;ate(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=F1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const vy=BigInt(2**32-1),BC=BigInt(32);function r6(t,e=!1){return e?{h:Number(t&vy),l:Number(t>>BC&vy)}:{h:Number(t>>BC&vy)|0,l:Number(t&vy)|0}}function lte(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=r6(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const ute=(t,e)=>BigInt(t>>>0)<<BC|BigInt(e>>>0),dte=(t,e,n)=>t>>>n,hte=(t,e,n)=>t<<32-n|e>>>n,fte=(t,e,n)=>t>>>n|e<<32-n,pte=(t,e,n)=>t<<32-n|e>>>n,gte=(t,e,n)=>t<<64-n|e>>>n-32,mte=(t,e,n)=>t>>>n-32|e<<64-n,yte=(t,e)=>e,wte=(t,e)=>t,vte=(t,e,n)=>t<<n|e>>>32-n,bte=(t,e,n)=>e<<n|t>>>32-n,_te=(t,e,n)=>e<<n-32|t>>>64-n,Ete=(t,e,n)=>t<<n-32|e>>>64-n;function Cte(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const xte=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Ste=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Ate=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Ite=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Tte=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Nte=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Je={fromBig:r6,split:lte,toBig:ute,shrSH:dte,shrSL:hte,rotrSH:fte,rotrSL:pte,rotrBH:gte,rotrBL:mte,rotr32H:yte,rotr32L:wte,rotlSH:vte,rotlSL:bte,rotlBH:_te,rotlBL:Ete,add:Cte,add3L:xte,add3H:Ste,add4L:Ate,add4H:Ite,add5H:Nte,add5L:Tte},[Pte,kte]=Je.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),_a=new Uint32Array(80),Ea=new Uint32Array(80);let Ote=class extends cte{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let v=0;v<16;v++,n+=4)_a[v]=e.getUint32(n),Ea[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const E=_a[v-15]|0,_=Ea[v-15]|0,x=Je.rotrSH(E,_,1)^Je.rotrSH(E,_,8)^Je.shrSH(E,_,7),S=Je.rotrSL(E,_,1)^Je.rotrSL(E,_,8)^Je.shrSL(E,_,7),T=_a[v-2]|0,C=Ea[v-2]|0,O=Je.rotrSH(T,C,19)^Je.rotrBH(T,C,61)^Je.shrSH(T,C,6),R=Je.rotrSL(T,C,19)^Je.rotrBL(T,C,61)^Je.shrSL(T,C,6),B=Je.add4L(S,R,Ea[v-7],Ea[v-16]),W=Je.add4H(B,x,O,_a[v-7],_a[v-16]);_a[v]=W|0,Ea[v]=B|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:y,Hh:w,Hl:b}=this;for(let v=0;v<80;v++){const E=Je.rotrSH(d,h,14)^Je.rotrSH(d,h,18)^Je.rotrBH(d,h,41),_=Je.rotrSL(d,h,14)^Je.rotrSL(d,h,18)^Je.rotrBL(d,h,41),x=d&f^~d&g,S=h&p^~h&y,T=Je.add5L(b,_,S,kte[v],Ea[v]),C=Je.add5H(T,w,E,x,Pte[v],_a[v]),O=T|0,R=Je.rotrSH(r,s,28)^Je.rotrBH(r,s,34)^Je.rotrBH(r,s,39),B=Je.rotrSL(r,s,28)^Je.rotrBL(r,s,34)^Je.rotrBL(r,s,39),W=r&i^r&a^i&a,F=s&o^s&c^o&c;w=g|0,b=y|0,g=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=Je.add(l|0,u|0,C|0,O|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const A=Je.add3L(O,B,F);r=Je.add3H(A,C,R,W),s=A|0}({h:r,l:s}=Je.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Je.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Je.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Je.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=Je.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=Je.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:y}=Je.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:b}=Je.add(this.Hh|0,this.Hl|0,w|0,b|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,y,w,b)}roundClean(){_a.fill(0),Ea.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Rte=ote(()=>new Ote);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const UA=BigInt(0),s6=BigInt(1),$te=BigInt(2);function LA(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function MA(t){if(!LA(t))throw new Error("Uint8Array expected")}function z1(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Dte=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function BA(t){MA(t);let e="";for(let n=0;n<t.length;n++)e+=Dte[t[n]];return e}function i6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?UA:BigInt("0x"+t)}const So={_0:48,_9:57,A:65,F:70,a:97,f:102};function LN(t){if(t>=So._0&&t<=So._9)return t-So._0;if(t>=So.A&&t<=So.F)return t-(So.A-10);if(t>=So.a&&t<=So.f)return t-(So.a-10)}function o6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=LN(t.charCodeAt(i)),a=LN(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function jte(t){return i6(BA(t))}function fw(t){return MA(t),i6(BA(Uint8Array.from(t).reverse()))}function a6(t,e){return o6(t.toString(16).padStart(e*2,"0"))}function FC(t,e){return a6(t,e).reverse()}function Ao(t,e,n){let r;if(typeof e=="string")try{r=o6(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(LA(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function MN(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];MA(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const q1=t=>typeof t=="bigint"&&UA<=t;function Ute(t,e,n){return q1(t)&&q1(e)&&q1(n)&&e<=t&&t<n}function uf(t,e,n,r){if(!Ute(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Lte(t){let e;for(e=0;t>UA;t>>=s6,e+=1);return e}const Mte=t=>($te<<BigInt(t-1))-s6,Bte={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||LA(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function FA(t,e,n={}){const r=(s,i,o)=>{const a=Bte[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function BN(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const On=BigInt(0),un=BigInt(1),pl=BigInt(2),Fte=BigInt(3),zC=BigInt(4),FN=BigInt(5),zN=BigInt(8);function _n(t,e){const n=t%e;return n>=On?n:e+n}function zte(t,e,n){if(e<On)throw new Error("invalid exponent, negatives unsupported");if(n<=On)throw new Error("invalid modulus");if(n===un)return On;let r=un;for(;e>On;)e&un&&(r=r*t%n),t=t*t%n,e>>=un;return r}function Bi(t,e,n){let r=t;for(;e-- >On;)r*=r,r%=n;return r}function qN(t,e){if(t===On)throw new Error("invert: expected non-zero number");if(e<=On)throw new Error("invert: expected positive modulus, got "+e);let n=_n(t,e),r=e,s=On,i=un;for(;n!==On;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==un)throw new Error("invert: does not exist");return _n(s,e)}function qte(t){const e=(t-un)/pl;let n,r,s;for(n=t-un,r=0;n%pl===On;n/=pl,r++);for(s=pl;s<t&&zte(s,e,t)!==t-un;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+un)/zC;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+un)/pl;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(d);h<c&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const f=o.pow(l,un<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function Wte(t){if(t%zC===Fte){const e=(t+un)/zC;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%zN===FN){const e=(t-FN)/zN;return function(n,r){const s=n.mul(r,pl),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,pl),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return qte(t)}const Hte=(t,e)=>(_n(t,e)&un)===un,Vte=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Gte(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Vte.reduce((r,s)=>(r[s]="function",r),e);return FA(t,n)}function Kte(t,e,n){if(n<On)throw new Error("invalid exponent, negatives unsupported");if(n===On)return t.ONE;if(n===un)return e;let r=t.ONE,s=e;for(;n>On;)n&un&&(r=t.mul(r,s)),s=t.sqr(s),n>>=un;return r}function Yte(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function c6(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function l6(t,e,n=!1,r={}){if(t<=On)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=c6(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:Mte(s),ZERO:On,ONE:un,create:c=>_n(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return On<=c&&c<t},is0:c=>c===On,isOdd:c=>(c&un)===un,neg:c=>_n(-c,t),eql:(c,l)=>c===l,sqr:c=>_n(c*c,t),add:(c,l)=>_n(c+l,t),sub:(c,l)=>_n(c-l,t),mul:(c,l)=>_n(c*l,t),pow:(c,l)=>Kte(a,c,l),div:(c,l)=>_n(c*qN(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>qN(c,t),sqrt:r.sqrt||(c=>(o||(o=Wte(t)),o(a,c))),invertBatch:c=>Yte(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?FC(c,i):a6(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?fw(c):jte(c)}});return Object.freeze(a)}const WN=BigInt(0),by=BigInt(1);function W1(t,e){const n=e.negate();return t?n:e}function u6(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function H1(t,e){u6(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function Qte(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Jte(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const V1=new WeakMap,d6=new WeakMap;function G1(t){return d6.get(t)||1}function Zte(t,e){return{constTimeNegate:W1,hasPrecomputes(n){return G1(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>WN;)r&by&&(s=s.add(i)),i=i.double(),r>>=by;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=H1(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=H1(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<i;h++){const f=h*o;let p=Number(s&l);s>>=d,p>o&&(p-=u,s+=by);const g=f,y=f+Math.abs(p)-1,w=h%2!==0,b=p<0;p===0?c=c.add(W1(w,r[g])):a=a.add(W1(b,r[y]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=H1(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(s===WN)break;let f=Number(s&c);if(s>>=u,f>a&&(f-=l,s+=by),f===0)continue;let p=r[h+Math.abs(f)-1];f<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(n,r,s){let i=V1.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&V1.set(r,s(i))),i},wNAFCached(n,r,s){const i=G1(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=G1(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){u6(r,e),d6.set(n,r),V1.delete(n)}}}function Xte(t,e,n,r){if(Qte(n,t),Jte(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=Lte(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let f=0;f<r.length;f++){const p=r[f],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[f])}let h=s;for(let f=c.length-1,p=s;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function ene(t){return Gte(t.Fp),FA(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...c6(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const ii=BigInt(0),Dr=BigInt(1),_y=BigInt(2),tne=BigInt(8),nne={zip215:!0};function rne(t){const e=ene(t);return FA(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function sne(t){const e=rne(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=_y<<BigInt(a*8)-Dr,u=n.create,d=l6(e.n,e.nBitLength),h=e.uvRatio||((A,I)=>{try{return{isValid:!0,value:n.sqrt(A*n.inv(I))}}catch{return{isValid:!1,value:ii}}}),f=e.adjustScalarBytes||(A=>A),p=e.domain||((A,I,D)=>{if(z1("phflag",D),I.length||D)throw new Error("Contexts/pre-hash are not supported");return A});function g(A,I){uf("coordinate "+A,I,ii,l)}function y(A){if(!(A instanceof v))throw new Error("ExtendedPoint expected")}const w=BN((A,I)=>{const{ex:D,ey:N,ez:k}=A,U=A.is0();I==null&&(I=U?tne:n.inv(k));const q=u(D*I),Y=u(N*I),ee=u(k*I);if(U)return{x:ii,y:Dr};if(ee!==Dr)throw new Error("invZ was invalid");return{x:q,y:Y}}),b=BN(A=>{const{a:I,d:D}=e;if(A.is0())throw new Error("bad point: ZERO");const{ex:N,ey:k,ez:U,et:q}=A,Y=u(N*N),ee=u(k*k),Q=u(U*U),ne=u(Q*Q),ae=u(Y*I),ye=u(Q*u(ae+ee)),Le=u(ne+u(D*u(Y*ee)));if(ye!==Le)throw new Error("bad point: equation left != right (1)");const Re=u(N*k),Be=u(U*q);if(Re!==Be)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(I,D,N,k){this.ex=I,this.ey=D,this.ez=N,this.et=k,g("x",I),g("y",D),g("z",N),g("t",k),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(I){if(I instanceof v)throw new Error("extended point not allowed");const{x:D,y:N}=I||{};return g("x",D),g("y",N),new v(D,N,Dr,u(D*N))}static normalizeZ(I){const D=n.invertBatch(I.map(N=>N.ez));return I.map((N,k)=>N.toAffine(D[k])).map(v.fromAffine)}static msm(I,D){return Xte(v,d,I,D)}_setWindowSize(I){x.setWindowSize(this,I)}assertValidity(){b(this)}equals(I){y(I);const{ex:D,ey:N,ez:k}=this,{ex:U,ey:q,ez:Y}=I,ee=u(D*Y),Q=u(U*k),ne=u(N*Y),ae=u(q*k);return ee===Q&&ne===ae}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:I}=e,{ex:D,ey:N,ez:k}=this,U=u(D*D),q=u(N*N),Y=u(_y*u(k*k)),ee=u(I*U),Q=D+N,ne=u(u(Q*Q)-U-q),ae=ee+q,ye=ae-Y,Le=ee-q,Re=u(ne*ye),Be=u(ae*Le),Xe=u(ne*Le),Wt=u(ye*ae);return new v(Re,Be,Wt,Xe)}add(I){y(I);const{a:D,d:N}=e,{ex:k,ey:U,ez:q,et:Y}=this,{ex:ee,ey:Q,ez:ne,et:ae}=I;if(D===BigInt(-1)){const Lt=u((U-k)*(Q+ee)),Kt=u((U+k)*(Q-ee)),jn=u(Kt-Lt);if(jn===ii)return this.double();const ji=u(q*_y*ae),ti=u(Y*_y*ne),os=ti+ji,tn=Kt+Lt,Xn=ti-ji,vo=u(os*jn),Qc=u(tn*Xn),Ui=u(os*Xn),Jc=u(jn*tn);return new v(vo,Qc,Jc,Ui)}const ye=u(k*ee),Le=u(U*Q),Re=u(Y*N*ae),Be=u(q*ne),Xe=u((k+U)*(ee+Q)-ye-Le),Wt=Be-Re,qe=Be+Re,We=u(Le-D*ye),Ht=u(Xe*Wt),Pt=u(qe*We),xn=u(Xe*We),is=u(Wt*qe);return new v(Ht,Pt,is,xn)}subtract(I){return this.add(I.negate())}wNAF(I){return x.wNAFCached(this,I,v.normalizeZ)}multiply(I){const D=I;uf("scalar",D,Dr,r);const{p:N,f:k}=this.wNAF(D);return v.normalizeZ([N,k])[0]}multiplyUnsafe(I,D=v.ZERO){const N=I;return uf("scalar",N,ii,r),N===ii?_:this.is0()||N===Dr?this:x.wNAFCachedUnsafe(this,N,v.normalizeZ,D)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return x.unsafeLadder(this,r).is0()}toAffine(I){return w(this,I)}clearCofactor(){const{h:I}=e;return I===Dr?this:this.multiplyUnsafe(I)}static fromHex(I,D=!1){const{d:N,a:k}=e,U=n.BYTES;I=Ao("pointHex",I,U),z1("zip215",D);const q=I.slice(),Y=I[U-1];q[U-1]=Y&-129;const ee=fw(q),Q=D?l:n.ORDER;uf("pointHex.y",ee,ii,Q);const ne=u(ee*ee),ae=u(ne-Dr),ye=u(N*ne-k);let{isValid:Le,value:Re}=h(ae,ye);if(!Le)throw new Error("Point.fromHex: invalid y coordinate");const Be=(Re&Dr)===Dr,Xe=(Y&128)!==0;if(!D&&Re===ii&&Xe)throw new Error("Point.fromHex: x=0 and x_0=1");return Xe!==Be&&(Re=u(-Re)),v.fromAffine({x:Re,y:ee})}static fromPrivateKey(I){return C(I).point}toRawBytes(){const{x:I,y:D}=this.toAffine(),N=FC(D,n.BYTES);return N[N.length-1]|=I&Dr?128:0,N}toHex(){return BA(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,Dr,u(e.Gx*e.Gy)),v.ZERO=new v(ii,Dr,Dr,ii);const{BASE:E,ZERO:_}=v,x=Zte(v,a*8);function S(A){return _n(A,r)}function T(A){return S(fw(A))}function C(A){const I=n.BYTES;A=Ao("private key",A,I);const D=Ao("hashed private key",i(A),2*I),N=f(D.slice(0,I)),k=D.slice(I,2*I),U=T(N),q=E.multiply(U),Y=q.toRawBytes();return{head:N,prefix:k,scalar:U,point:q,pointBytes:Y}}function O(A){return C(A).pointBytes}function R(A=new Uint8Array,...I){const D=MN(...I);return T(i(p(D,Ao("context",A),!!s)))}function B(A,I,D={}){A=Ao("message",A),s&&(A=s(A));const{prefix:N,scalar:k,pointBytes:U}=C(I),q=R(D.context,N,A),Y=E.multiply(q).toRawBytes(),ee=R(D.context,Y,U,A),Q=S(q+ee*k);uf("signature.s",Q,ii,r);const ne=MN(Y,FC(Q,n.BYTES));return Ao("result",ne,n.BYTES*2)}const W=nne;function F(A,I,D,N=W){const{context:k,zip215:U}=N,q=n.BYTES;A=Ao("signature",A,2*q),I=Ao("message",I),D=Ao("publicKey",D,q),U!==void 0&&z1("zip215",U),s&&(I=s(I));const Y=fw(A.slice(q,2*q));let ee,Q,ne;try{ee=v.fromHex(D,U),Q=v.fromHex(A.slice(0,q),U),ne=E.multiplyUnsafe(Y)}catch{return!1}if(!U&&ee.isSmallOrder())return!1;const ae=R(k,Q.toRawBytes(),ee.toRawBytes(),I);return Q.add(ee.multiplyUnsafe(ae)).subtract(ne).clearCofactor().equals(v.ZERO)}return E._setWindowSize(8),{CURVE:e,getPublicKey:O,sign:B,verify:F,ExtendedPoint:v,utils:{getExtendedPublicKey:C,randomPrivateKey:()=>o(n.BYTES),precompute(A=8,I=v.BASE){return I._setWindowSize(A),I.multiply(BigInt(3)),I}}}}BigInt(0),BigInt(1);const zA=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),HN=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const ine=BigInt(1),VN=BigInt(2);BigInt(3);const one=BigInt(5),ane=BigInt(8);function cne(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=zA,o=t*t%i*t%i,a=Bi(o,VN,i)*o%i,c=Bi(a,ine,i)*t%i,l=Bi(c,one,i)*c%i,u=Bi(l,e,i)*l%i,d=Bi(u,n,i)*u%i,h=Bi(d,r,i)*d%i,f=Bi(h,s,i)*h%i,p=Bi(f,s,i)*h%i,g=Bi(p,e,i)*l%i;return{pow_p_5_8:Bi(g,VN,i)*t%i,b2:o}}function lne(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function une(t,e){const n=zA,r=_n(e*e*e,n),s=_n(r*r*e,n),i=cne(t*s).pow_p_5_8;let o=_n(t*r*i,n);const a=_n(e*o*o,n),c=o,l=_n(o*HN,n),u=a===t,d=a===_n(-t,n),h=a===_n(-t*HN,n);return u&&(o=c),(d||h)&&(o=l),Hte(o,n)&&(o=_n(-o,n)),{isValid:u||d,value:o}}const dne=l6(zA,void 0,!0),hne={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:dne,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:ane,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Rte,randomBytes:n6,adjustScalarBytes:lne,uvRatio:une},h6=sne(hne),fne="EdDSA",pne="JWT",u0=".",Ov="base64url",f6="utf8",p6="utf8",gne=":",mne="did",yne="key",GN="base58btc",wne="z",vne="K36",bne=32;function qA(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function g6(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?qA(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function m6(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=g6(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return qA(n)}function _ne(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,w=0,b=p.length;w!==b&&p[w]===0;)w++,g++;for(var v=(b-w)*u+1>>>0,E=new Uint8Array(v);w!==b;){for(var _=p[w],x=0,S=v-1;(_!==0||x<y)&&S!==-1;S--,x++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=x,w++}for(var T=v-y;T!==v&&E[T]===0;)T++;for(var C=c.repeat(g);T<v;++T)C+=t.charAt(E[T]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,w=0;p[g]===c;)y++,g++;for(var b=(p.length-g)*l+1>>>0,v=new Uint8Array(b);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var _=0,x=b-1;(E!==0||_<w)&&x!==-1;x--,_++)E+=a*v[x]>>>0,v[x]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,g++}if(p[g]!==" "){for(var S=b-w;S!==b&&v[S]===0;)S++;for(var T=new Uint8Array(y+(b-S)),C=y;S!==b;)T[C++]=v[S++];return T}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Ene=_ne,Cne=Ene;const y6=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},xne=t=>new TextEncoder().encode(t),Sne=t=>new TextDecoder().decode(t);let Ane=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Ine=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return w6(this,e)}},Tne=class{constructor(e){this.decoders=e}or(e){return w6(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const w6=(t,e)=>new Tne({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Nne=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Ane(e,n,r),this.decoder=new Ine(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Rv=({name:t,prefix:e,encode:n,decode:r})=>new Nne(t,e,n,r),um=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Cne(n,e);return Rv({prefix:t,name:e,encode:r,decode:i=>y6(s(i))})},Pne=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},kne=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Qn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Rv({prefix:e,name:t,encode(s){return kne(s,r,n)},decode(s){return Pne(s,r,n,t)}}),One=Rv({prefix:"\0",name:"identity",encode:t=>Sne(t),decode:t=>xne(t)});var Rne=Object.freeze({__proto__:null,identity:One});const $ne=Qn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Dne=Object.freeze({__proto__:null,base2:$ne});const jne=Qn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Une=Object.freeze({__proto__:null,base8:jne});const Lne=um({prefix:"9",name:"base10",alphabet:"0123456789"});var Mne=Object.freeze({__proto__:null,base10:Lne});const Bne=Qn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Fne=Qn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var zne=Object.freeze({__proto__:null,base16:Bne,base16upper:Fne});const qne=Qn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Wne=Qn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Hne=Qn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Vne=Qn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Gne=Qn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Kne=Qn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Yne=Qn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Qne=Qn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Jne=Qn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Zne=Object.freeze({__proto__:null,base32:qne,base32upper:Wne,base32pad:Hne,base32padupper:Vne,base32hex:Gne,base32hexupper:Kne,base32hexpad:Yne,base32hexpadupper:Qne,base32z:Jne});const Xne=um({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ere=um({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var tre=Object.freeze({__proto__:null,base36:Xne,base36upper:ere});const nre=um({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),rre=um({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var sre=Object.freeze({__proto__:null,base58btc:nre,base58flickr:rre});const ire=Qn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ore=Qn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),are=Qn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),cre=Qn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var lre=Object.freeze({__proto__:null,base64:ire,base64pad:ore,base64url:are,base64urlpad:cre});const v6=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),ure=v6.reduce((t,e,n)=>(t[n]=e,t),[]),dre=v6.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function hre(t){return t.reduce((e,n)=>(e+=ure[n],e),"")}function fre(t){const e=[];for(const n of t){const r=dre[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const pre=Rv({prefix:"🚀",name:"base256emoji",encode:hre,decode:fre});var gre=Object.freeze({__proto__:null,base256emoji:pre}),mre=b6,KN=128,yre=-128,wre=Math.pow(2,31);function b6(t,e,n){e=e||[],n=n||0;for(var r=n;t>=wre;)e[n++]=t&255|KN,t/=128;for(;t&yre;)e[n++]=t&255|KN,t>>>=7;return e[n]=t|0,b6.bytes=n-r+1,e}var vre=qC,bre=128,YN=127;function qC(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw qC.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&YN)<<s:(o&YN)*Math.pow(2,s),s+=7}while(o>=bre);return qC.bytes=i-r,n}var _re=Math.pow(2,7),Ere=Math.pow(2,14),Cre=Math.pow(2,21),xre=Math.pow(2,28),Sre=Math.pow(2,35),Are=Math.pow(2,42),Ire=Math.pow(2,49),Tre=Math.pow(2,56),Nre=Math.pow(2,63),Pre=function(t){return t<_re?1:t<Ere?2:t<Cre?3:t<xre?4:t<Sre?5:t<Are?6:t<Ire?7:t<Tre?8:t<Nre?9:10},kre={encode:mre,decode:vre,encodingLength:Pre},_6=kre;const QN=(t,e,n=0)=>(_6.encode(t,e,n),e),JN=t=>_6.encodingLength(t),WC=(t,e)=>{const n=e.byteLength,r=JN(t),s=r+JN(n),i=new Uint8Array(s+n);return QN(t,i,0),QN(n,i,r),i.set(e,s),new Ore(t,n,e,i)};let Ore=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const E6=({name:t,code:e,encode:n})=>new Rre(t,e,n);let Rre=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?WC(this.code,n):n.then(r=>WC(this.code,r))}else throw Error("Unknown type, must be binary type")}};const C6=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),$re=E6({name:"sha2-256",code:18,encode:C6("SHA-256")}),Dre=E6({name:"sha2-512",code:19,encode:C6("SHA-512")});var jre=Object.freeze({__proto__:null,sha256:$re,sha512:Dre});const x6=0,Ure="identity",S6=y6,Lre=t=>WC(x6,S6(t)),Mre={code:x6,name:Ure,encode:S6,digest:Lre};var Bre=Object.freeze({__proto__:null,identity:Mre});new TextEncoder,new TextDecoder;const ZN={...Rne,...Dne,...Une,...Mne,...zne,...Zne,...tre,...sre,...lre,...gre};({...jre,...Bre});function A6(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const XN=A6("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),K1=A6("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=g6(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),I6={utf8:XN,"utf-8":XN,hex:ZN.base16,latin1:K1,ascii:K1,binary:K1,...ZN};function $v(t,e="utf8"){const n=I6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Rh(t,e="utf8"){const n=I6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?qA(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function eP(t){return iu($v(Rh(t,Ov),f6))}function d0(t){return $v(Rh(oa(t),f6),Ov)}function T6(t){const e=Rh(vne,GN),n=wne+$v(m6([e,t]),GN);return[mne,yne,n].join(gne)}function Fre(t){return $v(t,Ov)}function zre(t){return Rh(t,Ov)}function qre(t){return Rh([d0(t.header),d0(t.payload)].join(u0),p6)}function Wre(t){return[d0(t.header),d0(t.payload),Fre(t.signature)].join(u0)}function HC(t){const e=t.split(u0),n=eP(e[0]),r=eP(e[1]),s=zre(e[2]),i=Rh(e.slice(0,2).join(u0),p6);return{header:n,payload:r,signature:s,data:i}}function tP(t=n6(bne)){const e=h6.getPublicKey(t);return{secretKey:m6([t,e]),publicKey:e}}async function Hre(t,e,n,r,s=ue.fromMiliseconds(Date.now())){const i={alg:fne,typ:pne},o=T6(r.publicKey),a=s+n,c={iss:o,sub:t,aud:e,iat:s,exp:a},l=qre({header:i,payload:c}),u=h6.sign(l,r.secretKey.slice(0,32));return Wre({header:i,payload:c,signature:u})}var nP=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},Vre=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),Gre=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Kre=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),Yre=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Qre=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Jre=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Zre=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,rP=3,Xre=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Jre]],sP=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ese(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Qre:typeof navigator<"u"?nse(navigator.userAgent):sse()}function tse(t){return t!==""&&Xre.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var i=s.exec(t);return!!i&&[r,i]},!1)}function nse(t){var e=tse(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Yre;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<rP&&(s=nP(nP([],s,!0),ise(rP-s.length),!0)):s=[];var i=s.join("."),o=rse(t),a=Zre.exec(t);return a&&a[1]?new Kre(n,i,o,a[1]):new Vre(n,i,o)}function rse(t){for(var e=0,n=sP.length;e<n;e++){var r=sP[e],s=r[0],i=r[1],o=i.exec(t);if(o)return s}return null}function sse(){var t=typeof process<"u"&&process.version;return t?new Gre(process.version.slice(1)):null}function ise(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.getLocalStorage=Dt.getLocalStorageOrThrow=Dt.getCrypto=Dt.getCryptoOrThrow=N6=Dt.getLocation=Dt.getLocationOrThrow=WA=Dt.getNavigator=Dt.getNavigatorOrThrow=ou=Dt.getDocument=Dt.getDocumentOrThrow=Dt.getFromWindowOrThrow=Dt.getFromWindow=void 0;function Su(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Dt.getFromWindow=Su;function $h(t){const e=Su(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Dt.getFromWindowOrThrow=$h;function ose(){return $h("document")}Dt.getDocumentOrThrow=ose;function ase(){return Su("document")}var ou=Dt.getDocument=ase;function cse(){return $h("navigator")}Dt.getNavigatorOrThrow=cse;function lse(){return Su("navigator")}var WA=Dt.getNavigator=lse;function use(){return $h("location")}Dt.getLocationOrThrow=use;function dse(){return Su("location")}var N6=Dt.getLocation=dse;function hse(){return $h("crypto")}Dt.getCryptoOrThrow=hse;function fse(){return Su("crypto")}Dt.getCrypto=fse;function pse(){return $h("localStorage")}Dt.getLocalStorageOrThrow=pse;function gse(){return Su("localStorage")}Dt.getLocalStorage=gse;var HA={};Object.defineProperty(HA,"__esModule",{value:!0});var P6=HA.getWindowMetadata=void 0;const iP=Dt;function mse(){let t,e;try{t=iP.getDocumentOrThrow(),e=iP.getLocationOrThrow()}catch{return null}function n(){const d=t.getElementsByTagName("link"),h=[];for(let f=0;f<d.length;f++){const p=d[f],g=p.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const y=p.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let w=e.protocol+"//"+e.host;if(y.indexOf("/")===0)w+=y;else{const b=e.pathname.split("/");b.pop();const v=b.join("/");w+=v+"/"+y}h.push(w)}else if(y.indexOf("//")===0){const w=e.protocol+y;h.push(w)}else h.push(y)}}return h}function r(...d){const h=t.getElementsByTagName("meta");for(let f=0;f<h.length;f++){const p=h[f],g=["itemprop","property","name"].map(y=>p.getAttribute(y)).filter(y=>y?d.includes(y):!1);if(g.length&&g){const y=p.getAttribute("content");if(y)return y}}return""}function s(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function i(){return r("description","og:description","twitter:description","keywords")}const o=s(),a=i(),c=e.origin,l=n();return{description:a,url:c,icons:l,name:o}}P6=HA.getWindowMetadata=mse;function yg(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function VC(t){return yg(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const k6="2.31.0";let df={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${k6}`};class au extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof au?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof au&&n.cause.docsPath||n.docsPath,i=(a=df.getDocsUrl)==null?void 0:a.call(df,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...df.version?[`Version: ${df.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=k6}walk(e){return O6(this,e)}}function O6(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?O6(t.cause,e):e?null:t}class R6 extends au{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Dh(t,{dir:e,size:n=32}={}){return typeof t=="string"?yse(t,{dir:e,size:n}):wse(t,{dir:e,size:n})}function yse(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new R6({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function wse(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new R6({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class vse extends au{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class bse extends au{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function jh(t,{size:e}){if(VC(t)>e)throw new bse({givenSize:VC(t),maxSize:e})}function GC(t,e={}){const{signed:n}=e;e.size&&jh(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function _se(t,e={}){return Number(GC(t,e))}const Ese=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function KC(t,e={}){return typeof t=="number"||typeof t=="bigint"?D6(t,e):typeof t=="string"?Sse(t,e):typeof t=="boolean"?Cse(t,e):$6(t,e)}function Cse(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(jh(n,{size:e.size}),Dh(n,{size:e.size})):n}function $6(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=Ese[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(jh(r,{size:e.size}),Dh(r,{dir:"right",size:e.size})):r}function D6(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new vse({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Dh(a,{size:r}):a}const xse=new TextEncoder;function Sse(t,e={}){const n=xse.encode(t);return $6(n,e)}const Ase=new TextEncoder;function Ise(t,e={}){return typeof t=="number"||typeof t=="bigint"?Nse(t,e):typeof t=="boolean"?Tse(t,e):yg(t)?j6(t,e):U6(t,e)}function Tse(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(jh(n,{size:e.size}),Dh(n,{size:e.size})):n}const Io={zero:48,nine:57,A:65,F:70,a:97,f:102};function oP(t){if(t>=Io.zero&&t<=Io.nine)return t-Io.zero;if(t>=Io.A&&t<=Io.F)return t-(Io.A-10);if(t>=Io.a&&t<=Io.f)return t-(Io.a-10)}function j6(t,e={}){let n=t;e.size&&(jh(n,{size:e.size}),n=Dh(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=oP(r.charCodeAt(a++)),l=oP(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new au(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function Nse(t,e){const n=D6(t,e);return j6(n)}function U6(t,e={}){const n=Ase.encode(t);return typeof e.size=="number"?(jh(n,{size:e.size}),Dh(n,{dir:"right",size:e.size})):n}function L6(t,e){const n=e||"hex",r=MS(yg(t,{strict:!1})?Ise(t):t);return n==="bytes"?r:KC(r)}class Pse extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Y1=new Pse(8192);function kse(t,e){if(Y1.has(`${t}.${e}`))return Y1.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=L6(U6(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Y1.set(`${t}.${e}`,i),i}function Ose(t){const e=L6(`0x${t.substring(4)}`).substring(26);return kse(`0x${e}`)}async function Rse({hash:t,signature:e}){const n=yg(t)?t:KC(t),{secp256k1:r}=await cn(async()=>{const{secp256k1:o}=await import("./secp256k1-CmPQPOEZ.js");return{secp256k1:o}},__vite__mapDeps([2,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=aP(f);return new r.Signature(GC(l),GC(u)).addRecoveryBit(p)}const o=yg(e)?e:KC(e);if(VC(o)!==65)throw new Error("invalid signature length");const a=_se(`0x${o.slice(130)}`),c=aP(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function aP(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function $se({hash:t,signature:e}){return Ose(await Rse({hash:t,signature:e}))}function Dse(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const p=(f-h)*i+1>>>0,g=new Uint8Array(p);for(;h!==f;){let b=l[h],v=0;for(let E=p-1;(b!==0||v<d)&&E!==-1;E--,v++)b+=256*g[E]>>>0,g[E]=b%n>>>0,b=b/n>>>0;if(b!==0)throw new Error("Non-zero carry");d=v,h++}let y=p-d;for(;y!==p&&g[y]===0;)y++;let w=r.repeat(u);for(;y<p;++y)w+=t.charAt(g[y]);return w}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===r;)d++,u++;const f=(l.length-u)*s+1>>>0,p=new Uint8Array(f);for(;u<l.length;){const b=l.charCodeAt(u);if(b>255)return;let v=e[b];if(v===255)return;let E=0;for(let _=f-1;(v!==0||E<h)&&_!==-1;_--,E++)v+=n*p[_]>>>0,p[_]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");h=E,u++}let g=f-h;for(;g!==f&&p[g]===0;)g++;const y=new Uint8Array(d+(f-g));let w=d;for(;g!==f;)y[w++]=p[g++];return y}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var jse="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Uh=Dse(jse);function Use(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.charCodeAt(r++);if(s&4294967168)if(!(s&4294965248))n+=2;else{if(s>=55296&&s<=56319&&r<e){const i=t.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}s&4294901760?n+=4:n+=3}else{n++;continue}}return n}function Lse(t,e,n){const r=t.length;let s=n,i=0;for(;i<r;){let o=t.charCodeAt(i++);if(o&4294967168)if(!(o&4294965248))e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128):(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128)}else{e[s++]=o;continue}e[s++]=o&63|128}}const Mse=new TextEncoder,Bse=50;function Fse(t,e,n){Mse.encodeInto(t,e.subarray(n))}function zse(t,e,n){t.length>Bse?Fse(t,e,n):Lse(t,e,n)}const qse=4096;function M6(t,e,n){let r=e;const s=r+n,i=[];let o="";for(;r<s;){const a=t[r++];if(!(a&128))i.push(a);else if((a&224)===192){const c=t[r++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;i.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d)}else i.push(a);i.length>=qse&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const Wse=new TextDecoder,Hse=200;function Vse(t,e,n){const r=t.subarray(e,e+n);return Wse.decode(r)}function Gse(t,e,n){return n>Hse?Vse(t,e,n):M6(t,e,n)}class Ey{constructor(e,n){this.type=e,this.data=n}}class ps extends Error{constructor(e){super(e);const n=Object.create(ps.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:ps.name})}}const hf=4294967295;function Kse(t,e,n){const r=n/4294967296,s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function B6(t,e,n){const r=Math.floor(n/4294967296),s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function F6(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function Yse(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const Qse=-1,Jse=4294967296-1,Zse=17179869184-1;function Xse({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Zse)if(e===0&&t<=Jse){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),B6(r,4,t),n}}function eie(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function tie(t){if(t instanceof Date){const e=eie(t);return Xse(e)}else return null}function nie(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=F6(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new ps(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function rie(t){const e=nie(t);return new Date(e.sec*1e3+e.nsec/1e6)}const sie={type:Qse,encode:tie,decode:rie};class h0{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(sie)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const s=-1-e;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=-1-r;return new Ey(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=r;return new Ey(o,i)}}}return e instanceof Ey?e:null}decode(e,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(e,n,r):new Ey(n,e)}}h0.defaultCodec=new h0;function iie(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function YC(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):iie(t)?new Uint8Array(t):Uint8Array.from(t)}const oie=100,aie=2048;let cie=class z6{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??h0.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??oie,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??aie,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new z6({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=Use(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),zse(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=YC(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of e)this.doEncode(s,n+1)}countWithoutUndefined(e,n){let r=0;for(const s of n)e[s]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),Kse(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),B6(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function lie(t,e){return new cie(e).encodeSharedRef(t)}function Q1(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const uie=16,die=16;class hie{constructor(e=uie,n=die){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return i.str}return null}store(e,n){const r=this.caches[e.length-1],s={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(e,n,r){const s=this.find(e,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=M6(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,i),i}}const QC="array",sp="map_key",q6="map_value",fie=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new ps("The type of key must be string or number but "+typeof t)};class pie{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=QC,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=sp,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===QC){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===sp||e.type===q6){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const ff=-1,VA=new DataView(new ArrayBuffer(0)),gie=new Uint8Array(VA.buffer);try{VA.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const cP=new RangeError("Insufficient data"),mie=new hie;let yie=class W6{constructor(e){this.totalPos=0,this.pos=0,this.view=VA,this.bytes=gie,this.headByte=ff,this.stack=new pie,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??h0.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??hf,this.maxBinLength=(e==null?void 0:e.maxBinLength)??hf,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??hf,this.maxMapLength=(e==null?void 0:e.maxMapLength)??hf,this.maxExtLength=(e==null?void 0:e.maxExtLength)??hf,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:mie,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??fie}clone(){return new W6({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=ff,this.stack.reset()}setBuffer(e){const n=YC(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===ff&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=YC(e),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${Q1(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of e){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=e-160;n=this.decodeString(s,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new ps(`Unrecognized type byte: ${Q1(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===QC)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===sp){if(n==="__proto__")throw new ps("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=q6;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=sp;continue e}}return n}}readHeadByte(){return this.headByte===ff&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=ff}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new ps(`Unrecognized array type byte: ${Q1(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new ps(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new ps(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var i;if(e>this.maxStrLength)throw new ps(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw cP;const r=this.pos+n;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,r,e):s=Gse(this.bytes,r,e),this.pos+=n+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===sp:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new ps(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw cP;const r=this.pos+n,s=this.bytes.subarray(r,r+e);return this.pos+=n+e,s}decodeExtension(e,n){if(e>this.maxExtLength)throw new ps(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(e,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=Yse(this.view,this.pos);return this.pos+=8,e}readI64(){const e=F6(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function wie(t,e){return new yie(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vie(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function H6(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function f0(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function GA(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function JC(t){if(!Array.isArray(t))throw new Error("array expected")}function p0(t,e){if(!H6(!0,e))throw new Error(`${t}: array of strings expected`)}function bie(t,e){if(!H6(!1,e))throw new Error(`${t}: array of numbers expected`)}function _ie(...t){const e=i=>i,n=(i,o)=>a=>i(o(a)),r=t.map(i=>i.encode).reduceRight(n,e),s=t.map(i=>i.decode).reduce(n,e);return{encode:r,decode:s}}function Eie(t){const e=typeof t=="string"?t.split(""):t,n=e.length;p0("alphabet",e);const r=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(JC(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(JC(s),s.map(i=>{f0("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function Cie(t=""){return f0("join",t),{encode:e=>(p0("join.decode",e),e.join(t)),decode:e=>(f0("join.decode",e),e.split(t))}}function xie(t,e="="){return GA(t),f0("padding",e),{encode(n){for(p0("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){p0("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const V6=(t,e)=>e===0?t:V6(e,t%e),g0=(t,e)=>t+(e-V6(t,e)),J1=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function lP(t,e,n,r){if(JC(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(g0(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${g0(e,n)}`);let s=0,i=0;const o=J1[e],a=J1[n]-1,c=[];for(const l of t){if(GA(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(s=s<<e|l,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)c.push((s>>i-n&a)>>>0);const u=J1[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function Sie(t,e=!1){if(GA(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(g0(8,t)>32||g0(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!vie(n))throw new Error("radix2.encode input should be Uint8Array");return lP(Array.from(n),8,t,!e)},decode:n=>(bie("radix2.decode",n),Uint8Array.from(lP(n,t,8,e)))}}const Aie=_ie(Sie(5),Eie("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),xie(5),Cie(""));function KA(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function G6(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?KA(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function ip(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=G6(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return KA(n)}function Iie(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,w=0,b=p.length;w!==b&&p[w]===0;)w++,g++;for(var v=(b-w)*u+1>>>0,E=new Uint8Array(v);w!==b;){for(var _=p[w],x=0,S=v-1;(_!==0||x<y)&&S!==-1;S--,x++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=x,w++}for(var T=v-y;T!==v&&E[T]===0;)T++;for(var C=c.repeat(g);T<v;++T)C+=t.charAt(E[T]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,w=0;p[g]===c;)y++,g++;for(var b=(p.length-g)*l+1>>>0,v=new Uint8Array(b);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var _=0,x=b-1;(E!==0||_<w)&&x!==-1;x--,_++)E+=a*v[x]>>>0,v[x]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,g++}if(p[g]!==" "){for(var S=b-w;S!==b&&v[S]===0;)S++;for(var T=new Uint8Array(y+(b-S)),C=y;S!==b;)T[C++]=v[S++];return T}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Tie=Iie,Nie=Tie;const Pie=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},kie=t=>new TextEncoder().encode(t),Oie=t=>new TextDecoder().decode(t);class Rie{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class $ie{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return K6(this,e)}}class Die{constructor(e){this.decoders=e}or(e){return K6(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const K6=(t,e)=>new Die({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class jie{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Rie(e,n,r),this.decoder=new $ie(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Dv=({name:t,prefix:e,encode:n,decode:r})=>new jie(t,e,n,r),dm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Nie(n,e);return Dv({prefix:t,name:e,encode:r,decode:i=>Pie(s(i))})},Uie=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Lie=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Jn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Dv({prefix:e,name:t,encode(s){return Lie(s,r,n)},decode(s){return Uie(s,r,n,t)}}),Mie=Dv({prefix:"\0",name:"identity",encode:t=>Oie(t),decode:t=>kie(t)}),Bie=Object.freeze(Object.defineProperty({__proto__:null,identity:Mie},Symbol.toStringTag,{value:"Module"})),Fie=Jn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),zie=Object.freeze(Object.defineProperty({__proto__:null,base2:Fie},Symbol.toStringTag,{value:"Module"})),qie=Jn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Wie=Object.freeze(Object.defineProperty({__proto__:null,base8:qie},Symbol.toStringTag,{value:"Module"})),Hie=dm({prefix:"9",name:"base10",alphabet:"0123456789"}),Vie=Object.freeze(Object.defineProperty({__proto__:null,base10:Hie},Symbol.toStringTag,{value:"Module"})),Gie=Jn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Kie=Jn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Yie=Object.freeze(Object.defineProperty({__proto__:null,base16:Gie,base16upper:Kie},Symbol.toStringTag,{value:"Module"})),Qie=Jn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Jie=Jn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Zie=Jn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Xie=Jn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eoe=Jn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),toe=Jn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),noe=Jn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),roe=Jn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),soe=Jn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ioe=Object.freeze(Object.defineProperty({__proto__:null,base32:Qie,base32hex:eoe,base32hexpad:noe,base32hexpadupper:roe,base32hexupper:toe,base32pad:Zie,base32padupper:Xie,base32upper:Jie,base32z:soe},Symbol.toStringTag,{value:"Module"})),ooe=dm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),aoe=dm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),coe=Object.freeze(Object.defineProperty({__proto__:null,base36:ooe,base36upper:aoe},Symbol.toStringTag,{value:"Module"})),loe=dm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),uoe=dm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),doe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:loe,base58flickr:uoe},Symbol.toStringTag,{value:"Module"})),hoe=Jn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),foe=Jn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),poe=Jn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),goe=Jn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),moe=Object.freeze(Object.defineProperty({__proto__:null,base64:hoe,base64pad:foe,base64url:poe,base64urlpad:goe},Symbol.toStringTag,{value:"Module"})),Y6=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),yoe=Y6.reduce((t,e,n)=>(t[n]=e,t),[]),woe=Y6.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function voe(t){return t.reduce((e,n)=>(e+=yoe[n],e),"")}function boe(t){const e=[];for(const n of t){const r=woe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const _oe=Dv({prefix:"🚀",name:"base256emoji",encode:voe,decode:boe}),Eoe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:_oe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const uP={...Bie,...zie,...Wie,...Vie,...Yie,...ioe,...coe,...doe,...moe,...Eoe};function Q6(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const dP=Q6("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Z1=Q6("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=G6(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),J6={utf8:dP,"utf-8":dP,hex:uP.base16,latin1:Z1,ascii:Z1,binary:Z1,...uP};function Ws(t,e="utf8"){const n=J6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?KA(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function ns(t,e="utf8"){const n=J6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Coe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},xoe="Input must be an string, Buffer or Uint8Array";function Soe(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(xoe);return e}function Aoe(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function Cy(t){return(4294967296+t).toString(16).substring(1)}function Ioe(t,e,n){let r=`
`+t+" = ";for(let s=0;s<e.length;s+=2){if(n===32)r+=Cy(e[s]).toUpperCase(),r+=" ",r+=Cy(e[s+1]).toUpperCase();else if(n===64)r+=Cy(e[s+1]).toUpperCase(),r+=Cy(e[s]).toUpperCase();else throw new Error("Invalid size "+n);s%6===4?r+=`
`+new Array(t.length+4).join(" "):s<e.length-2&&(r+=" ")}console.log(r)}function Toe(t,e,n){let r=new Date().getTime();const s=new Uint8Array(e);for(let o=0;o<e;o++)s[o]=o%256;const i=new Date().getTime();console.log("Generated random input in "+(i-r)+"ms"),r=i;for(let o=0;o<n;o++){const a=t(s),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var Z6={normalizeInput:Soe,toHex:Aoe,debugPrint:Ioe,testSpeed:Toe};const pw=Z6;function xy(t,e,n){const r=t[e]+t[n];let s=t[e+1]+t[n+1];r>=4294967296&&s++,t[e]=r,t[e+1]=s}function hP(t,e,n,r){let s=t[e]+n;n<0&&(s+=4294967296);let i=t[e+1]+r;s>=4294967296&&i++,t[e]=s,t[e+1]=i}function X6(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Ca(t,e,n,r,s,i){const o=Uf[s],a=Uf[s+1],c=Uf[i],l=Uf[i+1];xy(Ve,t,e),hP(Ve,t,o,a);let u=Ve[r]^Ve[t],d=Ve[r+1]^Ve[t+1];Ve[r]=d,Ve[r+1]=u,xy(Ve,n,r),u=Ve[e]^Ve[n],d=Ve[e+1]^Ve[n+1],Ve[e]=u>>>24^d<<8,Ve[e+1]=d>>>24^u<<8,xy(Ve,t,e),hP(Ve,t,c,l),u=Ve[r]^Ve[t],d=Ve[r+1]^Ve[t+1],Ve[r]=u>>>16^d<<16,Ve[r+1]=d>>>16^u<<16,xy(Ve,n,r),u=Ve[e]^Ve[n],d=Ve[e+1]^Ve[n+1],Ve[e]=d>>>31^u<<1,Ve[e+1]=u>>>31^d<<1}const ej=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Noe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],ir=new Uint8Array(Noe.map(function(t){return t*2})),Ve=new Uint32Array(32),Uf=new Uint32Array(32);function tj(t,e){let n=0;for(n=0;n<16;n++)Ve[n]=t.h[n],Ve[n+16]=ej[n];for(Ve[24]=Ve[24]^t.t,Ve[25]=Ve[25]^t.t/4294967296,e&&(Ve[28]=~Ve[28],Ve[29]=~Ve[29]),n=0;n<32;n++)Uf[n]=X6(t.b,4*n);for(n=0;n<12;n++)Ca(0,8,16,24,ir[n*16+0],ir[n*16+1]),Ca(2,10,18,26,ir[n*16+2],ir[n*16+3]),Ca(4,12,20,28,ir[n*16+4],ir[n*16+5]),Ca(6,14,22,30,ir[n*16+6],ir[n*16+7]),Ca(0,10,20,30,ir[n*16+8],ir[n*16+9]),Ca(2,12,22,24,ir[n*16+10],ir[n*16+11]),Ca(4,14,16,26,ir[n*16+12],ir[n*16+13]),Ca(6,8,18,28,ir[n*16+14],ir[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^Ve[n]^Ve[n+16]}const xa=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function nj(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};xa.fill(0),xa[0]=t,e&&(xa[1]=e.length),xa[2]=1,xa[3]=1,n&&xa.set(n,32),r&&xa.set(r,48);for(let i=0;i<16;i++)s.h[i]=ej[i]^X6(xa,i*4);return e&&(YA(s,e),s.c=128),s}function YA(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,tj(t,!1),t.c=0),t.b[t.c++]=e[n]}function rj(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;tj(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function sj(t,e,n,r,s){n=n||64,t=pw.normalizeInput(t),r&&(r=pw.normalizeInput(r)),s&&(s=pw.normalizeInput(s));const i=nj(n,e,r,s);return YA(i,t),rj(i)}function Poe(t,e,n,r,s){const i=sj(t,e,n,r,s);return pw.toHex(i)}var koe={blake2b:sj,blake2bHex:Poe,blake2bInit:nj,blake2bUpdate:YA,blake2bFinal:rj};const ij=Z6;function Ooe(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Sa(t,e,n,r,s,i){ht[t]=ht[t]+ht[e]+s,ht[r]=Sy(ht[r]^ht[t],16),ht[n]=ht[n]+ht[r],ht[e]=Sy(ht[e]^ht[n],12),ht[t]=ht[t]+ht[e]+i,ht[r]=Sy(ht[r]^ht[t],8),ht[n]=ht[n]+ht[r],ht[e]=Sy(ht[e]^ht[n],7)}function Sy(t,e){return t>>>e^t<<32-e}const oj=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),or=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),ht=new Uint32Array(16),Ln=new Uint32Array(16);function aj(t,e){let n=0;for(n=0;n<8;n++)ht[n]=t.h[n],ht[n+8]=oj[n];for(ht[12]^=t.t,ht[13]^=t.t/4294967296,e&&(ht[14]=~ht[14]),n=0;n<16;n++)Ln[n]=Ooe(t.b,4*n);for(n=0;n<10;n++)Sa(0,4,8,12,Ln[or[n*16+0]],Ln[or[n*16+1]]),Sa(1,5,9,13,Ln[or[n*16+2]],Ln[or[n*16+3]]),Sa(2,6,10,14,Ln[or[n*16+4]],Ln[or[n*16+5]]),Sa(3,7,11,15,Ln[or[n*16+6]],Ln[or[n*16+7]]),Sa(0,5,10,15,Ln[or[n*16+8]],Ln[or[n*16+9]]),Sa(1,6,11,12,Ln[or[n*16+10]],Ln[or[n*16+11]]),Sa(2,7,8,13,Ln[or[n*16+12]],Ln[or[n*16+13]]),Sa(3,4,9,14,Ln[or[n*16+14]],Ln[or[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=ht[n]^ht[n+8]}function cj(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(oj),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(QA(r,e),r.c=64),r}function QA(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,aj(t,!1),t.c=0),t.b[t.c++]=e[n]}function lj(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;aj(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function uj(t,e,n){n=n||32,t=ij.normalizeInput(t);const r=cj(n,e);return QA(r,t),lj(r)}function Roe(t,e,n){const r=uj(t,e,n);return ij.toHex(r)}var $oe={blake2s:uj,blake2sHex:Roe,blake2sInit:cj,blake2sUpdate:QA,blake2sFinal:lj};const pf=koe,gf=$oe;var Doe={blake2b:pf.blake2b,blake2bHex:pf.blake2bHex,blake2bInit:pf.blake2bInit,blake2bUpdate:pf.blake2bUpdate,blake2bFinal:pf.blake2bFinal,blake2s:gf.blake2s,blake2sHex:gf.blake2sHex,blake2sInit:gf.blake2sInit,blake2sUpdate:gf.blake2sUpdate,blake2sFinal:gf.blake2sFinal},joe={};const Uoe=":";function Ud(t){const[e,n]=t.split(Uoe);return{namespace:e,reference:n}}function dj(t,e){return t.includes(":")?[t]:e.chains||[]}var Loe=Object.defineProperty,Moe=Object.defineProperties,Boe=Object.getOwnPropertyDescriptors,fP=Object.getOwnPropertySymbols,Foe=Object.prototype.hasOwnProperty,zoe=Object.prototype.propertyIsEnumerable,pP=(t,e,n)=>e in t?Loe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gP=(t,e)=>{for(var n in e||(e={}))Foe.call(e,n)&&pP(t,n,e[n]);if(fP)for(var n of fP(e))zoe.call(e,n)&&pP(t,n,e[n]);return t},qoe=(t,e)=>Moe(t,Boe(e));const Woe="ReactNative",ys={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Hoe="js";function m0(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Kc(){return!ou()&&!!WA()&&navigator.product===Woe}function Voe(){return Kc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Goe(){return Kc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Lh(){return!m0()&&!!WA()&&!!ou()}function hm(){return Kc()?ys.reactNative:m0()?ys.node:Lh()?ys.browser:ys.unknown}function mP(){var t;try{return Kc()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Koe(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function Yoe(t){var e,n;const r=hj();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),qoe(gP(gP({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function hj(){return P6()||{name:"",description:"",url:"",icons:[""]}}function Qoe(){if(hm()===ys.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=ese();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Joe(){var t;const e=hm();return e===ys.browser?[e,((t=N6())==null?void 0:t.host)||"unknown"].join(":"):e}function fj(t,e,n){const r=Qoe(),s=Joe();return[[t,e].join("-"),[Hoe,n].join("-"),r,s].join("/")}function Zoe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=fj(t,e,r),d={auth:s,ua:u,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=Koe(l[1]||"",d);return l[0]+"?"+h}function xl(t,e){return t.filter(n=>e.includes(n)).length===t.length}function ZC(t){return Object.fromEntries(t.entries())}function XC(t){return new Map(Object.entries(t))}function dl(t=ue.FIVE_MINUTES,e){const n=ue.toMiliseconds(t||ue.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function dc(t,e,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),e);try{const o=await t;r(o)}catch(o){s(o)}clearTimeout(i)})}function pj(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Xoe(t){return pj("topic",t)}function eae(t){return pj("id",t)}function gj(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function wn(t,e){return ue.fromMiliseconds(Date.now()+ue.toMiliseconds(t))}function Ba(t){return Date.now()>=ue.toMiliseconds(t)}function mt(t,e){return`${t}${e?`:${e}`:""}`}function uo(t=[],e=[]){return[...new Set([...t,...e])]}async function tae({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=nae(i,t,e),a=hm();if(a===ys.browser){if(!((r=ou())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}rae(o)}else a===ys.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function nae(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${aae(r,!0)}`}else s=`${s}/wc?${r}`;return s}function rae(t){let e="_self";oae()?e="_top":(iae()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function sae(t,e){let n="";try{if(Lh()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function yP(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function wP(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function JA(){return typeof process<"u"&&joe.IS_VITEST==="true"}function iae(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function oae(){try{return window.self!==window.top}catch{return!1}}function aae(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function mj(t){return Buffer.from(t,"base64").toString("utf-8")}function cae(t){return new Promise(e=>setTimeout(e,t))}const Ay=BigInt(2**32-1),vP=BigInt(32);function yj(t,e=!1){return e?{h:Number(t&Ay),l:Number(t>>vP&Ay)}:{h:Number(t>>vP&Ay)|0,l:Number(t&Ay)|0}}function wj(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=yj(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const bP=(t,e,n)=>t>>>n,_P=(t,e,n)=>t<<32-n|e>>>n,Fa=(t,e,n)=>t>>>n|e<<32-n,za=(t,e,n)=>t<<32-n|e>>>n,Lf=(t,e,n)=>t<<64-n|e>>>n-32,Mf=(t,e,n)=>t>>>n-32|e<<64-n,lae=(t,e)=>e,uae=(t,e)=>t,dae=(t,e,n)=>t<<n|e>>>32-n,hae=(t,e,n)=>e<<n|t>>>32-n,fae=(t,e,n)=>e<<n-32|t>>>64-n,pae=(t,e,n)=>t<<n-32|e>>>64-n;function hi(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const ZA=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),XA=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,gae=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),mae=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,yae=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),wae=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Fu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function eI(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function aa(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ys(t,...e){if(!eI(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function tI(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");aa(t.outputLen),aa(t.blockLen)}function Mc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function nI(t,e){Ys(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function wg(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Qs(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function X1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Fi(t,e){return t<<32-e|t>>>e}const vj=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function bj(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Oo=vj?t=>t:t=>bj(t);function vae(t){for(let e=0;e<t.length;e++)t[e]=bj(t[e]);return t}const qa=vj?t=>t:vae,_j=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",bae=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vg(t){if(Ys(t),_j)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=bae[t[n]];return e}const To={_0:48,_9:57,A:65,F:70,a:97,f:102};function EP(t){if(t>=To._0&&t<=To._9)return t-To._0;if(t>=To.A&&t<=To.F)return t-(To.A-10);if(t>=To.a&&t<=To.f)return t-(To.a-10)}function rI(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(_j)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=EP(t.charCodeAt(i)),a=EP(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function _ae(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Ii(t){return typeof t=="string"&&(t=_ae(t)),Ys(t),t}function Sl(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Ys(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let jv=class{};function fm(t){const e=r=>t().update(Ii(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Eae(t){const e=(r,s)=>t(s).update(Ii(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Mh(t=32){if(Fu&&typeof Fu.getRandomValues=="function")return Fu.getRandomValues(new Uint8Array(t));if(Fu&&typeof Fu.randomBytes=="function")return Uint8Array.from(Fu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Cae=BigInt(0),mf=BigInt(1),xae=BigInt(2),Sae=BigInt(7),Aae=BigInt(256),Iae=BigInt(113),Ej=[],Cj=[],xj=[];for(let t=0,e=mf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Ej.push(2*(5*r+n)),Cj.push((t+1)*(t+2)/2%64);let s=Cae;for(let i=0;i<7;i++)e=(e<<mf^(e>>Sae)*Iae)%Aae,e&xae&&(s^=mf<<(mf<<BigInt(i))-mf);xj.push(s)}const Sj=wj(xj,!0),Tae=Sj[0],Nae=Sj[1],CP=(t,e,n)=>n>32?fae(t,e,n):dae(t,e,n),xP=(t,e,n)=>n>32?pae(t,e,n):hae(t,e,n);function Pae(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=CP(l,u,1)^n[a],h=xP(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=Cj[o],c=CP(s,i,a),l=xP(s,i,a),u=Ej[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Tae[r],t[1]^=Nae[r]}Qs(n)}let kae=class Aj extends jv{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,aa(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=wg(this.state)}clone(){return this._cloneInto()}keccak(){qa(this.state32),Pae(this.state32,this.rounds),qa(this.state32),this.posOut=0,this.pos=0}update(e){Mc(this),e=Ii(e),Ys(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Mc(this,!1),Ys(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return aa(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(nI(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Qs(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Aj(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Oae=(t,e,n)=>fm(()=>new kae(e,t,n)),Rae=Oae(1,136,256/8);function $ae(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Dae(t,e,n){return t&e^~t&n}function jae(t,e,n){return t&e^t&n^e&n}let Ij=class extends jv{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=X1(this.buffer)}update(e){Mc(this),e=Ii(e),Ys(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=X1(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Mc(this),nI(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Qs(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;$ae(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=X1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Aa=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ar=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),cr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Uae=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ia=new Uint32Array(64);let Lae=class extends Ij{constructor(e=32){super(64,e,8,!1),this.A=Aa[0]|0,this.B=Aa[1]|0,this.C=Aa[2]|0,this.D=Aa[3]|0,this.E=Aa[4]|0,this.F=Aa[5]|0,this.G=Aa[6]|0,this.H=Aa[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Ia[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Ia[d-15],f=Ia[d-2],p=Fi(h,7)^Fi(h,18)^h>>>3,g=Fi(f,17)^Fi(f,19)^f>>>10;Ia[d]=g+Ia[d-7]+p+Ia[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Fi(a,6)^Fi(a,11)^Fi(a,25),f=u+h+Dae(a,c,l)+Uae[d]+Ia[d]|0,p=(Fi(r,2)^Fi(r,13)^Fi(r,22))+jae(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Qs(Ia)}destroy(){this.set(0,0,0,0,0,0,0,0),Qs(this.buffer)}};const Tj=wj(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Mae=Tj[0],Bae=Tj[1],Ta=new Uint32Array(80),Na=new Uint32Array(80);let sI=class extends Ij{constructor(e=64){super(128,e,16,!1),this.Ah=cr[0]|0,this.Al=cr[1]|0,this.Bh=cr[2]|0,this.Bl=cr[3]|0,this.Ch=cr[4]|0,this.Cl=cr[5]|0,this.Dh=cr[6]|0,this.Dl=cr[7]|0,this.Eh=cr[8]|0,this.El=cr[9]|0,this.Fh=cr[10]|0,this.Fl=cr[11]|0,this.Gh=cr[12]|0,this.Gl=cr[13]|0,this.Hh=cr[14]|0,this.Hl=cr[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let v=0;v<16;v++,n+=4)Ta[v]=e.getUint32(n),Na[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const E=Ta[v-15]|0,_=Na[v-15]|0,x=Fa(E,_,1)^Fa(E,_,8)^bP(E,_,7),S=za(E,_,1)^za(E,_,8)^_P(E,_,7),T=Ta[v-2]|0,C=Na[v-2]|0,O=Fa(T,C,19)^Lf(T,C,61)^bP(T,C,6),R=za(T,C,19)^Mf(T,C,61)^_P(T,C,6),B=gae(S,R,Na[v-7],Na[v-16]),W=mae(B,x,O,Ta[v-7],Ta[v-16]);Ta[v]=W|0,Na[v]=B|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:y,Hh:w,Hl:b}=this;for(let v=0;v<80;v++){const E=Fa(d,h,14)^Fa(d,h,18)^Lf(d,h,41),_=za(d,h,14)^za(d,h,18)^Mf(d,h,41),x=d&f^~d&g,S=h&p^~h&y,T=yae(b,_,S,Bae[v],Na[v]),C=wae(T,w,E,x,Mae[v],Ta[v]),O=T|0,R=Fa(r,s,28)^Lf(r,s,34)^Lf(r,s,39),B=za(r,s,28)^Mf(r,s,34)^Mf(r,s,39),W=r&i^r&a^i&a,F=s&o^s&c^o&c;w=g|0,b=y|0,g=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=hi(l|0,u|0,C|0,O|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const A=ZA(O,B,F);r=XA(A,C,R,W),s=A|0}({h:r,l:s}=hi(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=hi(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=hi(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=hi(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=hi(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=hi(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:y}=hi(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:b}=hi(this.Hh|0,this.Hl|0,w|0,b|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,y,w,b)}roundClean(){Qs(Ta,Na)}destroy(){Qs(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Fae=class extends sI{constructor(){super(48),this.Ah=ar[0]|0,this.Al=ar[1]|0,this.Bh=ar[2]|0,this.Bl=ar[3]|0,this.Ch=ar[4]|0,this.Cl=ar[5]|0,this.Dh=ar[6]|0,this.Dl=ar[7]|0,this.Eh=ar[8]|0,this.El=ar[9]|0,this.Fh=ar[10]|0,this.Fl=ar[11]|0,this.Gh=ar[12]|0,this.Gl=ar[13]|0,this.Hh=ar[14]|0,this.Hl=ar[15]|0}};const lr=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let zae=class extends sI{constructor(){super(32),this.Ah=lr[0]|0,this.Al=lr[1]|0,this.Bh=lr[2]|0,this.Bl=lr[3]|0,this.Ch=lr[4]|0,this.Cl=lr[5]|0,this.Dh=lr[6]|0,this.Dl=lr[7]|0,this.Eh=lr[8]|0,this.El=lr[9]|0,this.Fh=lr[10]|0,this.Fl=lr[11]|0,this.Gh=lr[12]|0,this.Gl=lr[13]|0,this.Hh=lr[14]|0,this.Hl=lr[15]|0}};const Uv=fm(()=>new Lae),qae=fm(()=>new sI),Wae=fm(()=>new Fae),Hae=fm(()=>new zae),Vae=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),yn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),me=new Uint32Array(32);function Pa(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=me[2*t],l=me[2*t+1],u=me[2*e],d=me[2*e+1],h=me[2*n],f=me[2*n+1],p=me[2*r],g=me[2*r+1],y=ZA(c,u,o);l=XA(y,l,d,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:lae(g,p),Dl:uae(g)},{h:f,l:h}=hi(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:Fa(d,u,24),Bl:za(d,u,24)},me[2*t]=c,me[2*t+1]=l,me[2*e]=u,me[2*e+1]=d,me[2*n]=h,me[2*n+1]=f,me[2*r]=p,me[2*r+1]=g}function ka(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=me[2*t],l=me[2*t+1],u=me[2*e],d=me[2*e+1],h=me[2*n],f=me[2*n+1],p=me[2*r],g=me[2*r+1],y=ZA(c,u,o);l=XA(y,l,d,a),c=y|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:Fa(g,p,16),Dl:za(g,p,16)},{h:f,l:h}=hi(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:Lf(d,u,63),Bl:Mf(d,u,63)},me[2*t]=c,me[2*t+1]=l,me[2*e]=u,me[2*e+1]=d,me[2*n]=h,me[2*n+1]=f,me[2*r]=p,me[2*r+1]=g}function Gae(t,e={},n,r,s){if(aa(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class Kae extends jv{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,aa(e),aa(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=wg(this.buffer)}update(e){Mc(this),e=Ii(e),Ys(e);const{blockLen:n,buffer:r,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===n&&(qa(s),this.compress(s,0,!1),qa(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const d=new Uint32Array(a,u,Math.floor((i-c)/4));qa(d);for(let h=0;c+n<i;h+=s.length,c+=n)this.length+=n,this.compress(d,h,!1);qa(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Mc(this),nI(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,Qs(this.buffer.subarray(n)),qa(r),this.compress(r,0,!0),qa(r);const s=wg(e);this.get().forEach((i,o)=>s[o]=Oo(i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=i,e.finished=s,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class Yae extends Kae{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=yn[0]|0,this.v0h=yn[1]|0,this.v1l=yn[2]|0,this.v1h=yn[3]|0,this.v2l=yn[4]|0,this.v2h=yn[5]|0,this.v3l=yn[6]|0,this.v3h=yn[7]|0,this.v4l=yn[8]|0,this.v4h=yn[9]|0,this.v5l=yn[10]|0,this.v5h=yn[11]|0,this.v6l=yn[12]|0,this.v6h=yn[13]|0,this.v7l=yn[14]|0,this.v7h=yn[15]|0,Gae(n,e,64,16,16);let{key:r,personalization:s,salt:i}=e,o=0;if(r!==void 0&&(r=Ii(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=Ii(i);const a=wg(i);this.v4l^=Oo(a[0]),this.v4h^=Oo(a[1]),this.v5l^=Oo(a[2]),this.v5h^=Oo(a[3])}if(s!==void 0){s=Ii(s);const a=wg(s);this.v6l^=Oo(a[0]),this.v6h^=Oo(a[1]),this.v7l^=Oo(a[2]),this.v7h^=Oo(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:p,v7l:g,v7h:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,y){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=p|0,this.v7l=g|0,this.v7h=y|0}compress(e,n,r){this.get().forEach((c,l)=>me[l]=c),me.set(yn,16);let{h:s,l:i}=yj(BigInt(this.length));me[24]=yn[8]^i,me[25]=yn[9]^s,r&&(me[28]=~me[28],me[29]=~me[29]);let o=0;const a=Vae;for(let c=0;c<12;c++)Pa(0,4,8,12,e,n+2*a[o++]),ka(0,4,8,12,e,n+2*a[o++]),Pa(1,5,9,13,e,n+2*a[o++]),ka(1,5,9,13,e,n+2*a[o++]),Pa(2,6,10,14,e,n+2*a[o++]),ka(2,6,10,14,e,n+2*a[o++]),Pa(3,7,11,15,e,n+2*a[o++]),ka(3,7,11,15,e,n+2*a[o++]),Pa(0,5,10,15,e,n+2*a[o++]),ka(0,5,10,15,e,n+2*a[o++]),Pa(1,6,11,12,e,n+2*a[o++]),ka(1,6,11,12,e,n+2*a[o++]),Pa(2,7,8,13,e,n+2*a[o++]),ka(2,7,8,13,e,n+2*a[o++]),Pa(3,4,9,14,e,n+2*a[o++]),ka(3,4,9,14,e,n+2*a[o++]);this.v0l^=me[0]^me[16],this.v0h^=me[1]^me[17],this.v1l^=me[2]^me[18],this.v1h^=me[3]^me[19],this.v2l^=me[4]^me[20],this.v2h^=me[5]^me[21],this.v3l^=me[6]^me[22],this.v3h^=me[7]^me[23],this.v4l^=me[8]^me[24],this.v4h^=me[9]^me[25],this.v5l^=me[10]^me[26],this.v5h^=me[11]^me[27],this.v6l^=me[12]^me[28],this.v6h^=me[13]^me[29],this.v7l^=me[14]^me[30],this.v7h^=me[15]^me[31],Qs(me)}destroy(){this.destroyed=!0,Qs(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Qae=Eae(t=>new Yae(t)),Jae="https://rpc.walletconnect.org/v1";function Nj(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Rae(n)).toString("hex")}async function Zae(t,e,n,r,s,i){switch(n.t){case"eip191":return await Xae(t,e,n.s);case"eip1271":return await ece(t,e,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function Xae(t,e,n){return(await $se({hash:Nj(e),signature:n})).toLowerCase()===t.toLowerCase()}async function ece(t,e,n,r,s,i){const o=Ud(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:Nj(e)).substring(2),h=a+d+c+u+l,f=await fetch(`${i||Jae}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:tce(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function tce(){return Date.now()+Math.floor(Math.random()*1e3)}function nce(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return Uh.encode(i)}function rce(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const s=Qae(r,{dkLen:32});return Uh.encode(s)}function SP(t){const e=new Uint8Array(Uv(sce(t)));return Uh.encode(e)}function sce(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function AP(t){const e=Buffer.from(t,"base64"),n=wie(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=lie(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=Hae(i);return Aie.encode(o).replace(/=+$/,"")}function e_(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function ice(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(e_(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(e_(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(e_(r.length)),s.push(r);const i=Buffer.concat(s),o=Uv(i);return Buffer.from(o).toString("hex").toUpperCase()}var oce=Object.defineProperty,ace=Object.defineProperties,cce=Object.getOwnPropertyDescriptors,IP=Object.getOwnPropertySymbols,lce=Object.prototype.hasOwnProperty,uce=Object.prototype.propertyIsEnumerable,TP=(t,e,n)=>e in t?oce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dce=(t,e)=>{for(var n in e||(e={}))lce.call(e,n)&&TP(t,n,e[n]);if(IP)for(var n of IP(e))uce.call(e,n)&&TP(t,n,e[n]);return t},hce=(t,e)=>ace(t,cce(e));const fce="did:pkh:",iI=t=>t==null?void 0:t.split(":"),pce=t=>{const e=t&&iI(t);if(e)return t.includes(fce)?e[3]:e[1]},ex=t=>{const e=t&&iI(t);if(e)return e[2]+":"+e[3]},y0=t=>{const e=t&&iI(t);if(e)return e.pop()};async function NP(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,i=Pj(s,s.iss),o=y0(s.iss);return await Zae(o,i,r,ex(s.iss),n)}const Pj=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=y0(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${pce(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=gw(t.resources);if(p){const g=bg(p);s=Cce(s,g)}return[n,r,"",s,"",i,o,a,c,l,u,d,h,f].filter(g=>g!=null).join(`
`)};function gce(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function mce(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function cu(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function yce(t,e,n,r={}){return n==null||n.sort((s,i)=>s.localeCompare(i)),{att:{[t]:wce(e,n,r)}}}function wce(t,e,n={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function kj(t){return cu(t),`urn:recap:${gce(t).replace(/=/g,"")}`}function bg(t){const e=mce(t.replace("urn:recap:",""));return cu(e),e}function vce(t,e,n){const r=yce(t,e,n);return kj(r)}function bce(t){return t&&t.includes("urn:recap:")}function _ce(t,e){const n=bg(t),r=bg(e),s=Ece(n,r);return kj(s)}function Ece(t,e){cu(t),cu(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=hce(dce({},r.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),r}function Cce(t="",e){cu(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${t?t+" ":""}${o}`}function PP(t){var e;const n=bg(t);cu(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function kP(t){const e=bg(t);cu(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function gw(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return bce(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function Oj(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tx(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function t_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Gr(t,...e){if(!Oj(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function OP(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function xce(t,e){Gr(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ic(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ph(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Sce(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Ace=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Ice(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function nx(t){if(typeof t=="string")t=Ice(t);else if(Oj(t))t=rx(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Tce(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Nce(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Pce=(t,e)=>{function n(r,...s){if(Gr(r),!Ace)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Gr(l):Gr(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&Gr(s[1]);const o=e(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Gr(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Gr(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Gr(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function RP(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Oce(e))throw new Error("invalid output, must be aligned");return e}function $P(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function kce(t,e,n){tx(n);const r=new Uint8Array(16),s=Sce(r);return $P(s,0,BigInt(e),n),$P(s,8,BigInt(t),n),r}function Oce(t){return t.byteOffset%4===0}function rx(t){return Uint8Array.from(t)}const Rj=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Rce=Rj("expand 16-byte k"),$ce=Rj("expand 32-byte k"),Dce=Ic(Rce),jce=Ic($ce);function ut(t,e){return t<<e|t>>>32-e}function sx(t){return t.byteOffset%4===0}const Iy=64,Uce=16,$j=2**32-1,DP=new Uint32Array;function Lce(t,e,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(Iy),u=Ic(l),d=sx(s)&&sx(i),h=d?Ic(s):DP,f=d?Ic(i):DP;for(let p=0;p<c;o++){if(t(e,n,r,u,o,a),o>=$j)throw new Error("arx: counter overflow");const g=Math.min(Iy,c-p);if(d&&g===Iy){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let w=0,b;w<Uce;w++)b=y+w,f[b]=h[b]^u[w];p+=Iy;continue}for(let y=0,w;y<g;y++)w=p+y,i[w]=s[w]^l[y];p+=g}}function Mce(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=Tce({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return t_(s),t_(o),tx(i),tx(n),(a,c,l,u,d=0)=>{Gr(a),Gr(c),Gr(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),Gr(u),t_(d),d<0||d>=$j)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,g,y;if(p===32)f.push(g=rx(a)),y=jce;else if(p===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=Dce,f.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);sx(c)||f.push(c=rx(c));const w=Ic(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,w,Ic(c.subarray(0,16)),w),c=c.subarray(16)}const b=16-s;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const E=new Uint8Array(12);E.set(c,i?0:12-c.length),c=E,f.push(c)}const v=Ic(c);return Lce(t,y,w,v,l,u,d,o),ph(...f),u}}const Mn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Bce{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=nx(e),Gr(e,32);const n=Mn(e,0),r=Mn(e,2),s=Mn(e,4),i=Mn(e,6),o=Mn(e,8),a=Mn(e,10),c=Mn(e,12),l=Mn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Mn(e,16+2*u)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],g=o[8],y=o[9],w=Mn(e,n+0),b=Mn(e,n+2),v=Mn(e,n+4),E=Mn(e,n+6),_=Mn(e,n+8),x=Mn(e,n+10),S=Mn(e,n+12),T=Mn(e,n+14);let C=i[0]+(w&8191),O=i[1]+((w>>>13|b<<3)&8191),R=i[2]+((b>>>10|v<<6)&8191),B=i[3]+((v>>>7|E<<9)&8191),W=i[4]+((E>>>4|_<<12)&8191),F=i[5]+(_>>>1&8191),A=i[6]+((_>>>14|x<<2)&8191),I=i[7]+((x>>>11|S<<5)&8191),D=i[8]+((S>>>8|T<<8)&8191),N=i[9]+(T>>>5|s),k=0,U=k+C*a+O*(5*y)+R*(5*g)+B*(5*p)+W*(5*f);k=U>>>13,U&=8191,U+=F*(5*h)+A*(5*d)+I*(5*u)+D*(5*l)+N*(5*c),k+=U>>>13,U&=8191;let q=k+C*c+O*a+R*(5*y)+B*(5*g)+W*(5*p);k=q>>>13,q&=8191,q+=F*(5*f)+A*(5*h)+I*(5*d)+D*(5*u)+N*(5*l),k+=q>>>13,q&=8191;let Y=k+C*l+O*c+R*a+B*(5*y)+W*(5*g);k=Y>>>13,Y&=8191,Y+=F*(5*p)+A*(5*f)+I*(5*h)+D*(5*d)+N*(5*u),k+=Y>>>13,Y&=8191;let ee=k+C*u+O*l+R*c+B*a+W*(5*y);k=ee>>>13,ee&=8191,ee+=F*(5*g)+A*(5*p)+I*(5*f)+D*(5*h)+N*(5*d),k+=ee>>>13,ee&=8191;let Q=k+C*d+O*u+R*l+B*c+W*a;k=Q>>>13,Q&=8191,Q+=F*(5*y)+A*(5*g)+I*(5*p)+D*(5*f)+N*(5*h),k+=Q>>>13,Q&=8191;let ne=k+C*h+O*d+R*u+B*l+W*c;k=ne>>>13,ne&=8191,ne+=F*a+A*(5*y)+I*(5*g)+D*(5*p)+N*(5*f),k+=ne>>>13,ne&=8191;let ae=k+C*f+O*h+R*d+B*u+W*l;k=ae>>>13,ae&=8191,ae+=F*c+A*a+I*(5*y)+D*(5*g)+N*(5*p),k+=ae>>>13,ae&=8191;let ye=k+C*p+O*f+R*h+B*d+W*u;k=ye>>>13,ye&=8191,ye+=F*l+A*c+I*a+D*(5*y)+N*(5*g),k+=ye>>>13,ye&=8191;let Le=k+C*g+O*p+R*f+B*h+W*d;k=Le>>>13,Le&=8191,Le+=F*u+A*l+I*c+D*a+N*(5*y),k+=Le>>>13,Le&=8191;let Re=k+C*y+O*g+R*p+B*f+W*h;k=Re>>>13,Re&=8191,Re+=F*d+A*u+I*l+D*c+N*a,k+=Re>>>13,Re&=8191,k=(k<<2)+k|0,k=k+U|0,U=k&8191,k=k>>>13,q+=k,i[0]=U,i[1]=q,i[2]=Y,i[3]=ee,i[4]=Q,i[5]=ne,i[6]=ae,i[7]=ye,i[8]=Le,i[9]=Re}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;ph(r)}update(e){OP(this),e=nx(e),Gr(e);const{buffer:n,blockLen:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){ph(this.h,this.r,this.buffer,this.pad)}digestInto(e){OP(this),xce(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function Fce(t){const e=(r,s)=>t(s).update(nx(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const zce=Fce(t=>new Bce(t));function qce(t,e,n,r,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],g=e[5],y=e[6],w=e[7],b=s,v=n[0],E=n[1],_=n[2],x=o,S=a,T=c,C=l,O=u,R=d,B=h,W=f,F=p,A=g,I=y,D=w,N=b,k=v,U=E,q=_;for(let ee=0;ee<i;ee+=2)x=x+O|0,N=ut(N^x,16),F=F+N|0,O=ut(O^F,12),x=x+O|0,N=ut(N^x,8),F=F+N|0,O=ut(O^F,7),S=S+R|0,k=ut(k^S,16),A=A+k|0,R=ut(R^A,12),S=S+R|0,k=ut(k^S,8),A=A+k|0,R=ut(R^A,7),T=T+B|0,U=ut(U^T,16),I=I+U|0,B=ut(B^I,12),T=T+B|0,U=ut(U^T,8),I=I+U|0,B=ut(B^I,7),C=C+W|0,q=ut(q^C,16),D=D+q|0,W=ut(W^D,12),C=C+W|0,q=ut(q^C,8),D=D+q|0,W=ut(W^D,7),x=x+R|0,q=ut(q^x,16),I=I+q|0,R=ut(R^I,12),x=x+R|0,q=ut(q^x,8),I=I+q|0,R=ut(R^I,7),S=S+B|0,N=ut(N^S,16),D=D+N|0,B=ut(B^D,12),S=S+B|0,N=ut(N^S,8),D=D+N|0,B=ut(B^D,7),T=T+W|0,k=ut(k^T,16),F=F+k|0,W=ut(W^F,12),T=T+W|0,k=ut(k^T,8),F=F+k|0,W=ut(W^F,7),C=C+O|0,U=ut(U^C,16),A=A+U|0,O=ut(O^A,12),C=C+O|0,U=ut(U^C,8),A=A+U|0,O=ut(O^A,7);let Y=0;r[Y++]=o+x|0,r[Y++]=a+S|0,r[Y++]=c+T|0,r[Y++]=l+C|0,r[Y++]=u+O|0,r[Y++]=d+R|0,r[Y++]=h+B|0,r[Y++]=f+W|0,r[Y++]=p+F|0,r[Y++]=g+A|0,r[Y++]=y+I|0,r[Y++]=w+D|0,r[Y++]=b+N|0,r[Y++]=v+k|0,r[Y++]=E+U|0,r[Y++]=_+q|0}const Wce=Mce(qce,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Hce=new Uint8Array(16),jP=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Hce.subarray(n))},Vce=new Uint8Array(32);function UP(t,e,n,r,s){const i=t(e,n,Vce),o=zce.create(i);s&&jP(o,s),jP(o,r);const a=kce(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return ph(i,a),c}const Gce=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=RP(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const c=UP(t,e,n,a,r);return i.set(c,o),ph(c),i},decrypt(s,i){i=RP(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=UP(t,e,n,o,r);if(!Nce(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),ph(c),i}}),Dj=Pce({blockSize:64,nonceLength:12,tagLength:16},Gce(Wce));let jj=class extends jv{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,tI(e);const r=Ii(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Qs(i)}update(e){return Mc(this),this.iHash.update(e),this}digestInto(e){Mc(this),Ys(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Lv=(t,e,n)=>new jj(t,e).update(n).digest();Lv.create=(t,e)=>new jj(t,e);function Kce(t,e,n){return tI(t),n===void 0&&(n=new Uint8Array(t.outputLen)),Lv(t,Ii(n),Ii(e))}const n_=Uint8Array.from([0]),LP=Uint8Array.of();function Yce(t,e,n,r=32){tI(t),aa(r);const s=t.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=LP);const o=new Uint8Array(i*s),a=Lv.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)n_[0]=u+1,c.update(u===0?LP:l).update(n).update(n_).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),Qs(l,n_),o.slice(0,r)}const Qce=(t,e,n,r,s)=>Yce(t,Kce(t,e,n),r,s),Mv=Uv,oI=BigInt(0),ix=BigInt(1);function w0(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Ty(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Uj(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?oI:BigInt("0x"+t)}function Bv(t){return Uj(vg(t))}function v0(t){return Ys(t),Uj(vg(Uint8Array.from(t).reverse()))}function aI(t,e){return rI(t.toString(16).padStart(e*2,"0"))}function cI(t,e){return aI(t,e).reverse()}function Vr(t,e,n){let r;if(typeof e=="string")try{r=rI(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(eI(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const r_=t=>typeof t=="bigint"&&oI<=t;function Jce(t,e,n){return r_(t)&&r_(e)&&r_(n)&&e<=t&&t<n}function ox(t,e,n,r){if(!Jce(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Zce(t){let e;for(e=0;t>oI;t>>=ix,e+=1);return e}const Fv=t=>(ix<<BigInt(t))-ix;function Xce(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let i=r(t),o=r(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...h)=>n(o,i,...h),u=(h=r(0))=>{o=l(s(0),h),i=l(),h.length!==0&&(o=l(s(1),h),i=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){i=l();const p=i.slice();f.push(p),h+=i.length}return Sl(...f)};return(h,f)=>{c(),u(h);let p;for(;!(p=f(d()));)u();return c(),p}}function zv(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function MP(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Jr=BigInt(0),Sr=BigInt(1),Al=BigInt(2),ele=BigInt(3),Lj=BigInt(4),Mj=BigInt(5),Bj=BigInt(8);function Bs(t,e){const n=t%e;return n>=Jr?n:e+n}function ui(t,e,n){let r=t;for(;e-- >Jr;)r*=r,r%=n;return r}function BP(t,e){if(t===Jr)throw new Error("invert: expected non-zero number");if(e<=Jr)throw new Error("invert: expected positive modulus, got "+e);let n=Bs(t,e),r=e,s=Jr,i=Sr;for(;n!==Jr;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==Sr)throw new Error("invert: does not exist");return Bs(s,e)}function Fj(t,e){const n=(t.ORDER+Sr)/Lj,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function tle(t,e){const n=(t.ORDER-Mj)/Bj,r=t.mul(e,Al),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,Al),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function nle(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Sr,n=0;for(;e%Al===Jr;)e/=Al,n++;let r=Al;const s=Bh(t);for(;FP(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Fj;let i=s.pow(r,e);const o=(e+Sr)/Al;return function(a,c){if(a.is0(c))return c;if(FP(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),d=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(f++,p=a.sqr(p),f===l)throw new Error("Cannot find square root");const g=Sr<<BigInt(l-f-1),y=a.pow(u,g);l=f,u=a.sqr(y),d=a.mul(d,u),h=a.mul(h,y)}return h}}function rle(t){return t%Lj===ele?Fj:t%Bj===Mj?tle:nle(t)}const sle=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ile(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=sle.reduce((r,s)=>(r[s]="function",r),e);return zv(t,n),t}function ole(t,e,n){if(n<Jr)throw new Error("invalid exponent, negatives unsupported");if(n===Jr)return t.ONE;if(n===Sr)return e;let r=t.ONE,s=e;for(;n>Jr;)n&Sr&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Sr;return r}function zj(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function FP(t,e){const n=(t.ORDER-Sr)/Al,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function ale(t,e){e!==void 0&&aa(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Bh(t,e,n=!1,r={}){if(t<=Jr)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(s=u.BITS),u.sqrt&&(i=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:a}=ale(t,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:Fv(o),ZERO:Jr,ONE:Sr,create:u=>Bs(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Jr<=u&&u<t},is0:u=>u===Jr,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&Sr)===Sr,neg:u=>Bs(-u,t),eql:(u,d)=>u===d,sqr:u=>Bs(u*u,t),add:(u,d)=>Bs(u+d,t),sub:(u,d)=>Bs(u-d,t),mul:(u,d)=>Bs(u*d,t),pow:(u,d)=>ole(l,u,d),div:(u,d)=>Bs(u*BP(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>BP(u,t),sqrt:i||(u=>(c||(c=rle(t)),c(l,u))),toBytes:u=>n?cI(u,a):aI(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?v0(u):Bv(u)},invertBatch:u=>zj(l,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(l)}function qj(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Wj(t){const e=qj(t);return e+Math.ceil(e/2)}function cle(t,e,n=!1){const r=t.length,s=qj(e),i=Wj(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?v0(t):Bv(t),a=Bs(o,e-Sr)+Sr;return n?cI(a,s):aI(a,s)}const gh=BigInt(0),Il=BigInt(1);function op(t,e){const n=e.negate();return t?n:e}function lle(t,e,n){const r=i=>i.pz,s=zj(t.Fp,n.map(r));return n.map((i,o)=>i.toAffine(s[o])).map(t.fromAffine)}function Hj(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function s_(t,e){Hj(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=Fv(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function zP(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=Il);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function ule(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function dle(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const i_=new WeakMap,Vj=new WeakMap;function o_(t){return Vj.get(t)||1}function qP(t){if(t!==gh)throw new Error("invalid wNAF")}function hle(t,e){return{constTimeNegate:op,hasPrecomputes(n){return o_(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>gh;)r&Il&&(s=s.add(i)),i=i.double(),r>>=Il;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=s_(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=s_(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=zP(s,c,a);s=l,d?o=o.add(op(f,r[p])):i=i.add(op(h,r[u]))}return qP(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=s_(n,e);for(let a=0;a<o.windows&&s!==gh;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=zP(s,a,o);if(s=c,!u){const h=r[l];i=i.add(d?h.negate():h)}}return qP(s),i},getPrecomputes(n,r,s){let i=i_.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),i_.set(r,i))),i},wNAFCached(n,r,s){const i=o_(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=o_(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){Hj(r,e),Vj.set(n,r),i_.delete(n)}}}function fle(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>gh||r>gh;)n&Il&&(i=i.add(s)),r&Il&&(o=o.add(s)),s=s.double(),n>>=Il,r>>=Il;return{p1:i,p2:o}}function ple(t,e,n,r){ule(n,t),dle(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Zce(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Fv(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],w=Number(y>>BigInt(f)&l);u[w]=u[w].add(n[g])}let p=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),p=p.add(y);if(h=h.add(p),f!==0)for(let g=0;g<c;g++)h=h.double()}return h}function WP(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return ile(e),e}else return Bh(t)}function gle(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>gh))throw new Error(`CURVE.${o} must be positive bigint`)}const r=WP(e.p,n.Fp),s=WP(e.n,n.Fn),i=["Gx","Gy","a","b"];for(const o of i)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const yf=BigInt(0),zu=BigInt(1),Ny=BigInt(2);function mle(t){return zv(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function yle(t){const e=mle(t),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||Mh,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),f=a?Ny**BigInt(254):Ny**BigInt(447),p=a?BigInt(8)*Ny**BigInt(251)-zu:BigInt(4)*Ny**BigInt(445)-zu,g=f+p+zu,y=C=>Bs(C,n),w=b(d);function b(C){return cI(y(C),u)}function v(C){const O=Vr("u coordinate",C,u);return a&&(O[31]&=127),y(v0(O))}function E(C){return v0(s(Vr("scalar",C,u)))}function _(C,O){const R=T(v(O),E(C));if(R===yf)throw new Error("invalid private or public key received");return b(R)}function x(C){return _(C,w)}function S(C,O,R){const B=y(C*(O-R));return O=y(O-B),R=y(R+B),{x_2:O,x_3:R}}function T(C,O){ox("u",C,yf,n),ox("scalar",O,f,g);const R=O,B=C;let W=zu,F=yf,A=C,I=zu,D=yf;for(let k=BigInt(l-1);k>=yf;k--){const U=R>>k&zu;D^=U,{x_2:W,x_3:A}=S(D,W,A),{x_2:F,x_3:I}=S(D,F,I),D=U;const q=W+F,Y=y(q*q),ee=W-F,Q=y(ee*ee),ne=Y-Q,ae=A+I,ye=A-I,Le=y(ye*q),Re=y(ae*ee),Be=Le+Re,Xe=Le-Re;A=y(Be*Be),I=y(B*y(Xe*Xe)),W=y(Y*Q),F=y(ne*(Y+y(h*ne)))}({x_2:W,x_3:A}=S(D,W,A)),{x_2:F,x_3:I}=S(D,F,I);const N=i(F);return y(W*N)}return{scalarMult:_,scalarMultBase:x,getSharedSecret:(C,O)=>_(C,O),getPublicKey:C=>x(C),utils:{randomPrivateKey:()=>c(u)},GuBytes:w.slice()}}BigInt(0);const wle=BigInt(1),HP=BigInt(2),vle=BigInt(3),ble=BigInt(5);BigInt(8);const Gj={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function _le(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=Gj.p,o=t*t%i*t%i,a=ui(o,HP,i)*o%i,c=ui(a,wle,i)*t%i,l=ui(c,ble,i)*c%i,u=ui(l,e,i)*l%i,d=ui(u,n,i)*u%i,h=ui(d,r,i)*d%i,f=ui(h,s,i)*h%i,p=ui(f,s,i)*h%i,g=ui(p,e,i)*l%i;return{pow_p_5_8:ui(g,HP,i)*t%i,b2:o}}function Ele(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const ax=(()=>{const t=Gj.p;return yle({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=_le(e);return Bs(ui(n,vle,t)*r,t)},adjustScalarBytes:Ele})})();function VP(t){t.lowS!==void 0&&w0("lowS",t.lowS),t.prehash!==void 0&&w0("prehash",t.prehash)}class Cle extends Error{constructor(e=""){super(e)}}const Mo={Err:Cle,_tlv:{encode:(t,e)=>{const{Err:n}=Mo;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Ty(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Ty(s.length/2|128):"";return Ty(t)+i+s+e},decode(t,e){const{Err:n}=Mo;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Mo;if(t<ap)throw new e("integer: negative integers are not allowed");let n=Ty(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Mo;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Bv(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Mo,s=Vr("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Mo,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},ap=BigInt(0),cp=BigInt(1),xle=BigInt(2),Py=BigInt(3),Sle=BigInt(4);function Ale(t,e,n){function r(s){const i=t.sqr(s),o=t.mul(i,s);return t.add(t.add(o,t.mul(s,e)),n)}return r}function Kj(t,e,n){const{BYTES:r}=t;function s(i){let o;if(typeof i=="bigint")o=i;else{let a=Vr("private key",i);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function Ile(t,e={}){const{Fp:n,Fn:r}=gle("weierstrass",t,e),{h:s,n:i}=t;zv(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(T,C,O){const{x:R,y:B}=C.toAffine(),W=n.toBytes(R);if(w0("isCompressed",O),O){a();const F=!n.isOdd(B);return Sl(Yj(F),W)}else return Sl(Uint8Array.of(4),W,n.toBytes(B))}function l(T){Ys(T);const C=n.BYTES,O=C+1,R=2*C+1,B=T.length,W=T[0],F=T.subarray(1);if(B===O&&(W===2||W===3)){const A=n.fromBytes(F);if(!n.isValid(A))throw new Error("bad point: is not on curve, wrong x");const I=h(A);let D;try{D=n.sqrt(I)}catch(k){const U=k instanceof Error?": "+k.message:"";throw new Error("bad point: is not on curve, sqrt error"+U)}a();const N=n.isOdd(D);return(W&1)===1!==N&&(D=n.neg(D)),{x:A,y:D}}else if(B===R&&W===4){const A=n.fromBytes(F.subarray(C*0,C*1)),I=n.fromBytes(F.subarray(C*1,C*2));if(!f(A,I))throw new Error("bad point: is not on curve");return{x:A,y:I}}else throw new Error(`bad point: got length ${B}, expected compressed=${O} or uncompressed=${R}`)}const u=e.toBytes||c,d=e.fromBytes||l,h=Ale(n,t.a,t.b);function f(T,C){const O=n.sqr(C),R=h(T);return n.eql(O,R)}if(!f(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(t.a,Py),Sle),g=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(p,g)))throw new Error("bad curve params: a or b");function y(T,C,O=!1){if(!n.isValid(C)||O&&n.is0(C))throw new Error(`bad point coordinate ${T}`);return C}function w(T){if(!(T instanceof _))throw new Error("ProjectivePoint expected")}const b=MP((T,C)=>{const{px:O,py:R,pz:B}=T;if(n.eql(B,n.ONE))return{x:O,y:R};const W=T.is0();C==null&&(C=W?n.ONE:n.inv(B));const F=n.mul(O,C),A=n.mul(R,C),I=n.mul(B,C);if(W)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:F,y:A}}),v=MP(T=>{if(T.is0()){if(e.allowInfinityPoint&&!n.is0(T.py))return;throw new Error("bad point: ZERO")}const{x:C,y:O}=T.toAffine();if(!n.isValid(C)||!n.isValid(O))throw new Error("bad point: x or y not field elements");if(!f(C,O))throw new Error("bad point: equation left != right");if(!T.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function E(T,C,O,R,B){return O=new _(n.mul(O.px,T),O.py,O.pz),C=op(R,C),O=op(B,O),C.add(O)}class _{constructor(C,O,R){this.px=y("x",C),this.py=y("y",O,!0),this.pz=y("z",R),Object.freeze(this)}static fromAffine(C){const{x:O,y:R}=C||{};if(!C||!n.isValid(O)||!n.isValid(R))throw new Error("invalid affine point");if(C instanceof _)throw new Error("projective point not allowed");return n.is0(O)&&n.is0(R)?_.ZERO:new _(O,R,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){return lle(_,"pz",C)}static fromBytes(C){return Ys(C),_.fromHex(C)}static fromHex(C){const O=_.fromAffine(d(Vr("pointHex",C)));return O.assertValidity(),O}static fromPrivateKey(C){const O=Kj(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return _.BASE.multiply(O(C))}static msm(C,O){return ple(_,r,C,O)}precompute(C=8,O=!0){return S.setWindowSize(this,C),O||this.multiply(Py),this}_setWindowSize(C){this.precompute(C)}assertValidity(){v(this)}hasEvenY(){const{y:C}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(C)}equals(C){w(C);const{px:O,py:R,pz:B}=this,{px:W,py:F,pz:A}=C,I=n.eql(n.mul(O,A),n.mul(W,B)),D=n.eql(n.mul(R,A),n.mul(F,B));return I&&D}negate(){return new _(this.px,n.neg(this.py),this.pz)}double(){const{a:C,b:O}=t,R=n.mul(O,Py),{px:B,py:W,pz:F}=this;let A=n.ZERO,I=n.ZERO,D=n.ZERO,N=n.mul(B,B),k=n.mul(W,W),U=n.mul(F,F),q=n.mul(B,W);return q=n.add(q,q),D=n.mul(B,F),D=n.add(D,D),A=n.mul(C,D),I=n.mul(R,U),I=n.add(A,I),A=n.sub(k,I),I=n.add(k,I),I=n.mul(A,I),A=n.mul(q,A),D=n.mul(R,D),U=n.mul(C,U),q=n.sub(N,U),q=n.mul(C,q),q=n.add(q,D),D=n.add(N,N),N=n.add(D,N),N=n.add(N,U),N=n.mul(N,q),I=n.add(I,N),U=n.mul(W,F),U=n.add(U,U),N=n.mul(U,q),A=n.sub(A,N),D=n.mul(U,k),D=n.add(D,D),D=n.add(D,D),new _(A,I,D)}add(C){w(C);const{px:O,py:R,pz:B}=this,{px:W,py:F,pz:A}=C;let I=n.ZERO,D=n.ZERO,N=n.ZERO;const k=t.a,U=n.mul(t.b,Py);let q=n.mul(O,W),Y=n.mul(R,F),ee=n.mul(B,A),Q=n.add(O,R),ne=n.add(W,F);Q=n.mul(Q,ne),ne=n.add(q,Y),Q=n.sub(Q,ne),ne=n.add(O,B);let ae=n.add(W,A);return ne=n.mul(ne,ae),ae=n.add(q,ee),ne=n.sub(ne,ae),ae=n.add(R,B),I=n.add(F,A),ae=n.mul(ae,I),I=n.add(Y,ee),ae=n.sub(ae,I),N=n.mul(k,ne),I=n.mul(U,ee),N=n.add(I,N),I=n.sub(Y,N),N=n.add(Y,N),D=n.mul(I,N),Y=n.add(q,q),Y=n.add(Y,q),ee=n.mul(k,ee),ne=n.mul(U,ne),Y=n.add(Y,ee),ee=n.sub(q,ee),ee=n.mul(k,ee),ne=n.add(ne,ee),q=n.mul(Y,ne),D=n.add(D,q),q=n.mul(ae,ne),I=n.mul(Q,I),I=n.sub(I,q),q=n.mul(Q,Y),N=n.mul(ae,N),N=n.add(N,q),new _(I,D,N)}subtract(C){return this.add(C.negate())}is0(){return this.equals(_.ZERO)}multiply(C){const{endo:O}=e;if(!r.isValidNot0(C))throw new Error("invalid scalar: out of range");let R,B;const W=F=>S.wNAFCached(this,F,_.normalizeZ);if(O){const{k1neg:F,k1:A,k2neg:I,k2:D}=O.splitScalar(C),{p:N,f:k}=W(A),{p:U,f:q}=W(D);B=k.add(q),R=E(O.beta,N,U,F,I)}else{const{p:F,f:A}=W(C);R=F,B=A}return _.normalizeZ([R,B])[0]}multiplyUnsafe(C){const{endo:O}=e,R=this;if(!r.isValid(C))throw new Error("invalid scalar: out of range");if(C===ap||R.is0())return _.ZERO;if(C===cp)return R;if(S.hasPrecomputes(this))return this.multiply(C);if(O){const{k1neg:B,k1:W,k2neg:F,k2:A}=O.splitScalar(C),{p1:I,p2:D}=fle(_,R,W,A);return E(O.beta,I,D,B,F)}else return S.wNAFCachedUnsafe(R,C)}multiplyAndAddUnsafe(C,O,R){const B=this.multiplyUnsafe(O).add(C.multiplyUnsafe(R));return B.is0()?void 0:B}toAffine(C){return b(this,C)}isTorsionFree(){const{isTorsionFree:C}=e;return s===cp?!0:C?C(_,this):S.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:C}=e;return s===cp?this:C?C(_,this):this.multiplyUnsafe(s)}toBytes(C=!0){return w0("isCompressed",C),this.assertValidity(),u(_,this,C)}toRawBytes(C=!0){return this.toBytes(C)}toHex(C=!0){return vg(this.toBytes(C))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}_.BASE=new _(t.Gx,t.Gy,n.ONE),_.ZERO=new _(n.ZERO,n.ONE,n.ZERO),_.Fp=n,_.Fn=r;const x=r.BITS,S=hle(_,e.endo?Math.ceil(x/2):x);return _}function Yj(t){return Uint8Array.of(t?2:3)}function Tle(t,e,n={}){zv(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||Mh,s=e.hmac||((R,...B)=>Lv(e.hash,R,Sl(...B))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(R){const B=a>>cp;return R>B}function u(R){return l(R)?o.neg(R):R}function d(R,B){if(!o.isValidNot0(B))throw new Error(`invalid signature ${R}: out of range 1..CURVE.n`)}class h{constructor(B,W,F){d("r",B),d("s",W),this.r=B,this.s=W,F!=null&&(this.recovery=F),Object.freeze(this)}static fromCompact(B){const W=o.BYTES,F=Vr("compactSignature",B,W*2);return new h(o.fromBytes(F.subarray(0,W)),o.fromBytes(F.subarray(W,W*2)))}static fromDER(B){const{r:W,s:F}=Mo.toSig(Vr("DER",B));return new h(W,F)}assertValidity(){}addRecoveryBit(B){return new h(this.r,this.s,B)}recoverPublicKey(B){const W=i.ORDER,{r:F,s:A,recovery:I}=this;if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");if(a*xle<W&&I>1)throw new Error("recovery id is ambiguous for h>1 curve");const D=I===2||I===3?F+a:F;if(!i.isValid(D))throw new Error("recovery id 2 or 3 invalid");const N=i.toBytes(D),k=t.fromHex(Sl(Yj((I&1)===0),N)),U=o.inv(D),q=v(Vr("msgHash",B)),Y=o.create(-q*U),ee=o.create(A*U),Q=t.BASE.multiplyUnsafe(Y).add(k.multiplyUnsafe(ee));if(Q.is0())throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes(B){if(B==="compact")return Sl(o.toBytes(this.r),o.toBytes(this.s));if(B==="der")return rI(Mo.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return vg(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return vg(this.toBytes("compact"))}}const f=Kj(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(R){try{return f(R),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const R=a;return cle(r(Wj(R)),R)},precompute(R=8,B=t.BASE){return B.precompute(R,!1)}};function g(R,B=!0){return t.fromPrivateKey(R).toBytes(B)}function y(R){if(typeof R=="bigint")return!1;if(R instanceof t)return!0;const B=Vr("key",R).length,W=i.BYTES,F=W+1,A=2*W+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===F))return B===F||B===A}function w(R,B,W=!0){if(y(R)===!0)throw new Error("first arg must be private key");if(y(B)===!1)throw new Error("second arg must be public key");return t.fromHex(B).multiply(f(R)).toBytes(W)}const b=e.bits2int||function(R){if(R.length>8192)throw new Error("input is too large");const B=Bv(R),W=R.length*8-c;return W>0?B>>BigInt(W):B},v=e.bits2int_modN||function(R){return o.create(b(R))},E=Fv(c);function _(R){return ox("num < 2^"+c,R,ap,E),o.toBytes(R)}function x(R,B,W=S){if(["recovered","canonical"].some(Q=>Q in W))throw new Error("sign() legacy options not supported");const{hash:F}=e;let{lowS:A,prehash:I,extraEntropy:D}=W;A==null&&(A=!0),R=Vr("msgHash",R),VP(W),I&&(R=Vr("prehashed msgHash",F(R)));const N=v(R),k=f(B),U=[_(k),_(N)];if(D!=null&&D!==!1){const Q=D===!0?r(i.BYTES):D;U.push(Vr("extraEntropy",Q))}const q=Sl(...U),Y=N;function ee(Q){const ne=b(Q);if(!o.isValidNot0(ne))return;const ae=o.inv(ne),ye=t.BASE.multiply(ne).toAffine(),Le=o.create(ye.x);if(Le===ap)return;const Re=o.create(ae*o.create(Y+Le*k));if(Re===ap)return;let Be=(ye.x===Le?0:2)|Number(ye.y&cp),Xe=Re;return A&&l(Re)&&(Xe=u(Re),Be^=1),new h(Le,Xe,Be)}return{seed:q,k2sig:ee}}const S={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function C(R,B,W=S){const{seed:F,k2sig:A}=x(R,B,W);return Xce(e.hash.outputLen,o.BYTES,s)(F,A)}t.BASE.precompute(8);function O(R,B,W,F=T){const A=R;B=Vr("msgHash",B),W=Vr("publicKey",W),VP(F);const{lowS:I,prehash:D,format:N}=F;if("strict"in F)throw new Error("options.strict was renamed to lowS");if(N!==void 0&&!["compact","der","js"].includes(N))throw new Error('format must be "compact", "der" or "js"');const k=typeof A=="string"||eI(A),U=!k&&!N&&typeof A=="object"&&A!==null&&typeof A.r=="bigint"&&typeof A.s=="bigint";if(!k&&!U)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,Y;try{if(U)if(N===void 0||N==="js")q=new h(A.r,A.s);else throw new Error("invalid format");if(k){try{N!=="compact"&&(q=h.fromDER(A))}catch(Be){if(!(Be instanceof Mo.Err))throw Be}!q&&N!=="der"&&(q=h.fromCompact(A))}Y=t.fromHex(W)}catch{return!1}if(!q||I&&q.hasHighS())return!1;D&&(B=e.hash(B));const{r:ee,s:Q}=q,ne=v(B),ae=o.inv(Q),ye=o.create(ne*ae),Le=o.create(ee*ae),Re=t.BASE.multiplyUnsafe(ye).add(Y.multiplyUnsafe(Le));return Re.is0()?!1:o.create(Re.x)===ee}return Object.freeze({getPublicKey:g,getSharedSecret:w,sign:C,verify:O,utils:p,Point:t,Signature:h})}function Nle(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Bh(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function Ple(t){const{CURVE:e,curveOpts:n}=Nle(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function kle(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Ole(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=Ple(t),s=Ile(e,n),i=Tle(s,r,n);return kle(t,i)}function cx(t,e){const n=r=>Ole({...t,hash:r});return{...n(e),create:n}}const Qj={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Jj={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Zj={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Rle=Bh(Qj.p),$le=Bh(Jj.p),Dle=Bh(Zj.p),jle=cx({...Qj,Fp:Rle,lowS:!1},Uv);cx({...Jj,Fp:$le,lowS:!1},Wae),cx({...Zj,Fp:Dle,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},qae);const Ule=jle,Xj="base10",Ar="base16",Ci="base64pad",Ga="base64url",pm="utf8",e4=0,Yo=1,gm=2,Lle=0,GP=1,lp=12,lI=32;function Mle(){const t=ax.utils.randomPrivateKey(),e=ax.getPublicKey(t);return{privateKey:ns(t,Ar),publicKey:ns(e,Ar)}}function lx(){const t=Mh(lI);return ns(t,Ar)}function Ble(t,e){const n=ax.getSharedSecret(Ws(t,Ar),Ws(e,Ar)),r=Qce(Mv,n,void 0,void 0,lI);return ns(r,Ar)}function mw(t){const e=Mv(Ws(t,Ar));return ns(e,Ar)}function to(t){const e=Mv(Ws(t,pm));return ns(e,Ar)}function t4(t){return Ws(`${t}`,Xj)}function lu(t){return Number(ns(t,Xj))}function n4(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function r4(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function Fle(t){const e=t4(typeof t.type<"u"?t.type:e4);if(lu(e)===Yo&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Ws(t.senderPublicKey,Ar):void 0,r=typeof t.iv<"u"?Ws(t.iv,Ar):Mh(lp),s=Ws(t.symKey,Ar),i=Dj(s,r).encrypt(Ws(t.message,pm)),o=s4({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===Ga?n4(o):o}function zle(t){const e=Ws(t.symKey,Ar),{sealed:n,iv:r}=_g({encoded:t.encoded,encoding:t.encoding}),s=Dj(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return ns(s,pm)}function qle(t,e){const n=t4(gm),r=Mh(lp),s=Ws(t,pm),i=s4({type:n,sealed:s,iv:r});return e===Ga?n4(i):i}function Wle(t,e){const{sealed:n}=_g({encoded:t,encoding:e});return ns(n,pm)}function s4(t){if(lu(t.type)===gm)return ns(ip([t.type,t.sealed]),Ci);if(lu(t.type)===Yo){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ns(ip([t.type,t.senderPublicKey,t.iv,t.sealed]),Ci)}return ns(ip([t.type,t.iv,t.sealed]),Ci)}function _g(t){const e=(t.encoding||Ci)===Ga?r4(t.encoded):t.encoded,n=Ws(e,Ci),r=n.slice(Lle,GP),s=GP;if(lu(r)===Yo){const c=s+lI,l=c+lp,u=n.slice(s,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(lu(r)===gm){const c=n.slice(s),l=Mh(lp);return{type:r,sealed:c,iv:l}}const i=s+lp,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function Hle(t,e){const n=_g({encoded:t,encoding:e==null?void 0:e.encoding});return i4({type:lu(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?ns(n.senderPublicKey,Ar):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function i4(t){const e=(t==null?void 0:t.type)||e4;if(e===Yo){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function KP(t){return t.type===Yo&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function YP(t){return t.type===gm}function Vle(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return ip([new Uint8Array([4]),e,n])}function Gle(t,e){const[n,r,s]=t.split("."),i=Buffer.from(r4(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=Mv(c),u=Vle(e);if(!Ule.verify(ip([o,a]),l,u))throw new Error("Invalid signature");return HC(t).payload}const Kle="irn";function b0(t){return(t==null?void 0:t.relay)||{protocol:Kle}}function Bf(t){const e=Coe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function Yle(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=t[s];n[i]=o}}),n}function QP(t){if(!t.includes("wc:")){const l=mj(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(i),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:Qle(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:Yle(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Qle(t){return t.startsWith("//")?t.substring(2):t}function Jle(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const i=s,o=n+e+i;t[i]&&(r[o]=t[i])}),r}function JP(t){const e=new URLSearchParams,n=Jle(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function ky(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Zle=Object.defineProperty,Xle=Object.defineProperties,eue=Object.getOwnPropertyDescriptors,ZP=Object.getOwnPropertySymbols,tue=Object.prototype.hasOwnProperty,nue=Object.prototype.propertyIsEnumerable,XP=(t,e,n)=>e in t?Zle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rue=(t,e)=>{for(var n in e||(e={}))tue.call(e,n)&&XP(t,n,e[n]);if(ZP)for(var n of ZP(e))nue.call(e,n)&&XP(t,n,e[n]);return t},sue=(t,e)=>Xle(t,eue(e));function Fh(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function iue(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Fh(n.accounts))}),e}function oue(t,e){const n=[];return Object.values(t).forEach(r=>{Fh(r.accounts).includes(e)&&n.push(...r.methods)}),n}function aue(t,e){const n=[];return Object.values(t).forEach(r=>{Fh(r.accounts).includes(e)&&n.push(...r.events)}),n}function qv(t){return t.includes(":")}function Sd(t){return qv(t)?t.split(":")[0]:t}function ek(t){var e,n,r;const s={};if(!Tc(t))return s;for(const[i,o]of Object.entries(t)){const a=qv(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=Sd(i);s[u]=sue(rue({},s[u]),{chains:uo(a,(e=s[u])==null?void 0:e.chains),methods:uo(c,(n=s[u])==null?void 0:n.methods),events:uo(l,(r=s[u])==null?void 0:r.events)})}return s}function cue(t){const e={};return t==null||t.forEach(n=>{var r;const[s,i]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${i}`)}),e}function tk(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=cue(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=uo(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}function lue(t,e){var n,r,s,i,o,a;const c=ek(t),l=ek(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:uo((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:uo((s=c[h])==null?void 0:s.methods,(i=l[h])==null?void 0:i.methods),events:uo((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const uue={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},due={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function de(t,e){const{message:n,code:r}=due[t];return{message:e?`${n} ${e}`:n,code:r}}function Vt(t,e){const{message:n,code:r}=uue[t];return{message:e?`${n} ${e}`:n,code:r}}function Qo(t,e){return!!Array.isArray(t)}function Tc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Wn(t){return typeof t>"u"}function pn(t,e){return e&&Wn(t)?!0:typeof t=="string"&&!!t.trim().length}function uI(t,e){return e&&Wn(t)?!0:typeof t=="number"&&!isNaN(t)}function hue(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let i=!0;return xl(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=Fh(a),d=n[o];(!xl(dj(o,d),u)||!xl(d.methods,c)||!xl(d.events,l))&&(i=!1)}),i):!1}function _0(t){return pn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function fue(t){if(pn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&_0(n)}}return!1}function pue(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(pn(t,!1)){if(e(t))return!0;const n=mj(t);return e(n)}}catch{}return!1}function gue(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function mue(t){return t==null?void 0:t.topic}function yue(t,e){let n=null;return pn(t==null?void 0:t.publicKey,!1)||(n=de("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function nk(t){let e=!0;return Qo(t)?t.length&&(e=t.every(n=>pn(n,!1))):e=!1,e}function wue(t,e,n){let r=null;return Qo(e)&&e.length?e.forEach(s=>{r||_0(s)||(r=Vt("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):_0(t)||(r=Vt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function vue(t,e,n){let r=null;return Object.entries(t).forEach(([s,i])=>{if(r)return;const o=wue(s,dj(s,i),`${e} ${n}`);o&&(r=o)}),r}function bue(t,e){let n=null;return Qo(t)?t.forEach(r=>{n||fue(r)||(n=Vt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Vt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function _ue(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=bue(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function Eue(t,e){let n=null;return nk(t==null?void 0:t.methods)?nk(t==null?void 0:t.events)||(n=Vt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Vt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function o4(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=Eue(r,`${e}, namespace`);s&&(n=s)}),n}function Cue(t,e,n){let r=null;if(t&&Tc(t)){const s=o4(t,e);s&&(r=s);const i=vue(t,e,n);i&&(r=i)}else r=de("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function a_(t,e){let n=null;if(t&&Tc(t)){const r=o4(t,e);r&&(n=r);const s=_ue(t,e);s&&(n=s)}else n=de("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function a4(t){return pn(t.protocol,!0)}function xue(t,e){let n=!1;return t?t&&Qo(t)&&t.length&&t.forEach(r=>{n=a4(r)}):n=!0,n}function Sue(t){return typeof t=="number"}function Fr(t){return typeof t<"u"&&typeof t!==null}function Aue(t){return!(!t||typeof t!="object"||!t.code||!uI(t.code,!1)||!t.message||!pn(t.message,!1))}function Iue(t){return!(Wn(t)||!pn(t.method,!1))}function Tue(t){return!(Wn(t)||Wn(t.result)&&Wn(t.error)||!uI(t.id,!1)||!pn(t.jsonrpc,!1))}function Nue(t){return!(Wn(t)||!pn(t.name,!1))}function rk(t,e){return!(!_0(e)||!iue(t).includes(e))}function Pue(t,e,n){return pn(n,!1)?oue(t,e).includes(n):!1}function kue(t,e,n){return pn(n,!1)?aue(t,e).includes(n):!1}function sk(t,e,n){let r=null;const s=Oue(t),i=Rue(e),o=Object.keys(s),a=Object.keys(i),c=ik(Object.keys(t)),l=ik(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=de("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),xl(o,a)||(r=de("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=Fh(e[d].accounts);h.includes(d)||(r=de("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(xl(s[d].methods,i[d].methods)?xl(s[d].events,i[d].events)||(r=de("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=de("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function Oue(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function ik(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Rue(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Fh(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(i=>i.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function $ue(t,e){return uI(t,!1)&&t<=e.max&&t>=e.min}function ok(){const t=hm();return new Promise(e=>{switch(t){case ys.browser:e(Due());break;case ys.reactNative:e(jue());break;case ys.node:e(Uue());break;default:e(!0)}})}function Due(){return Lh()&&(navigator==null?void 0:navigator.onLine)}async function jue(){if(Kc()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Uue(){return!0}function Lue(t){switch(hm()){case ys.browser:Mue(t);break;case ys.reactNative:Bue(t);break}}function Mue(t){!Kc()&&Lh()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Bue(t){Kc()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function Fue(){var t;return Lh()&&ou()?((t=ou())==null?void 0:t.visibilityState)==="visible":!0}const c_={};class wf{static get(e){return c_[e]}static set(e,n){c_[e]=n}static delete(e){delete c_[e]}}function zue(t){const e=Uh.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function que({publicKey:t,signature:e,payload:n}){var r;const s=ux(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=Vue(n.address),a=n.era==="00"?new Uint8Array([0]):ux(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${Hue(n.tip)}`),d=Kue(u),h=new Uint8Array([0,...t,o,...e,...a,...l,...d,...s]),f=Gue(h.length+1);return new Uint8Array([...f,i,...h])}function Wue(t){const e=ux(t),n=Doe.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function ux(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Hue(t){return t.startsWith("0x")?t.slice(2):t}function Vue(t){const e=Uh.decode(t)[0];return e===42?0:e===60?2:1}function Gue(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function Kue(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Yue(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=zue(t.transaction.address),r=que({publicKey:n,signature:e,payload:t.transaction}),s=Buffer.from(r).toString("hex");return Wue(s)}const Que="PARSE_ERROR",Jue="INVALID_REQUEST",Zue="METHOD_NOT_FOUND",Xue="INVALID_PARAMS",c4="INTERNAL_ERROR",dI="SERVER_ERROR",ede=[-32700,-32600,-32601,-32602,-32603],up={[Que]:{code:-32700,message:"Parse error"},[Jue]:{code:-32600,message:"Invalid Request"},[Zue]:{code:-32601,message:"Method not found"},[Xue]:{code:-32602,message:"Invalid params"},[c4]:{code:-32603,message:"Internal error"},[dI]:{code:-32e3,message:"Server error"}},l4=dI;function tde(t){return ede.includes(t)}function ak(t){return Object.keys(up).includes(t)?up[t]:up[l4]}function nde(t){const e=Object.values(up).find(n=>n.code===t);return e||up[l4]}function u4(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var d4={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dx=function(t,e){return dx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},dx(t,e)};function rde(t,e){dx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var hx=function(){return hx=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hx.apply(this,arguments)};function sde(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ide(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function ode(t,e){return function(n,r){e(n,r,t)}}function ade(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function cde(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function lde(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ude(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function dde(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function fx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function h4(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function hde(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h4(arguments[e]));return t}function fde(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function Eg(t){return this instanceof Eg?(this.v=t,this):new Eg(t)}function pde(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof Eg?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function gde(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Eg(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function mde(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fx=="function"?fx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function yde(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function wde(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function vde(t){return t&&t.__esModule?t:{default:t}}function bde(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function _de(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Ede=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return hx},__asyncDelegator:gde,__asyncGenerator:pde,__asyncValues:mde,__await:Eg,__awaiter:cde,__classPrivateFieldGet:bde,__classPrivateFieldSet:_de,__createBinding:ude,__decorate:ide,__exportStar:dde,__extends:rde,__generator:lde,__importDefault:vde,__importStar:wde,__makeTemplateObject:yde,__metadata:ade,__param:ode,__read:h4,__rest:sde,__spread:hde,__spreadArrays:fde,__values:fx},Symbol.toStringTag,{value:"Module"})),Cde=D0(Ede);var No={},ck;function xde(){if(ck)return No;ck=1,Object.defineProperty(No,"__esModule",{value:!0}),No.isBrowserCryptoAvailable=No.getSubtleCrypto=No.getBrowerCrypto=void 0;function t(){return(on==null?void 0:on.crypto)||(on==null?void 0:on.msCrypto)||{}}No.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}No.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return No.isBrowserCryptoAvailable=n,No}var Po={},lk;function Sde(){if(lk)return Po;lk=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.isBrowser=Po.isNode=Po.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Po.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Po.isNode=e;function n(){return!t()&&!e()}return Po.isBrowser=n,Po}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Cde;e.__exportStar(xde(),t),e.__exportStar(Sde(),t)})(d4);function Ki(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Tl(t=6){return BigInt(Ki(t))}function hc(t,e,n){return{id:n||Ki(),jsonrpc:"2.0",method:t,params:e}}function Wv(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Hv(t,e,n){return{id:t,jsonrpc:"2.0",error:Ade(e)}}function Ade(t,e){return typeof t>"u"?ak(c4):(typeof t=="string"&&(t=Object.assign(Object.assign({},ak(dI)),{message:t})),tde(t.code)&&(t=nde(t.code)),t)}let Ide=class{},Tde=class extends Ide{constructor(){super()}},Nde=class extends Tde{constructor(e){super()}};const Pde="^https?:",kde="^wss?:";function Ode(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function f4(t,e){const n=Ode(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function uk(t){return f4(t,Pde)}function dk(t){return f4(t,kde)}function Rde(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function p4(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function hI(t){return p4(t)&&"method"in t}function Vv(t){return p4(t)&&(Yi(t)||Ms(t))}function Yi(t){return"result"in t}function Ms(t){return"error"in t}let Xs=class extends Nde{constructor(e){super(e),this.events=new Zs.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(hc(e.method,e.params||[],e.id||Tl().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{Ms(i)?s(i.error):r(i.result)});try{await this.connection.send(e,n)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Vv(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const $de=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Dde=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",hk=t=>t.split("?")[0],fk=10,jde=$de();let Ude=class{constructor(e){if(this.url=e,this.events=new Zs.EventEmitter,this.registering=!1,!dk(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(oa(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!dk(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=d4.isReactNative()?void 0:{rejectUnauthorized:!Rde(e)},i=new jde(e,[],s);Dde()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?iu(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=Hv(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return u4(e,hk(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>fk&&this.events.setMaxListeners(fk)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${hk(this.url)}`));return this.events.emit("register_error",n),n}};var Lde={};const g4="wc",m4=2,px="core",po=`${g4}@2:${px}:`,Mde={logger:"error"},Bde={database:":memory:"},Fde="crypto",pk="client_ed25519_seed",zde=ue.ONE_DAY,qde="keychain",Wde="0.3",Hde="messages",Vde="0.3",gk=ue.SIX_HOURS,Gde="publisher",y4="irn",Kde="error",w4="wss://relay.walletconnect.org",Yde="relayer",Pn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Qde="_subscription",Os={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Jde=.1,gx="2.21.3",Ft={link_mode:"link_mode",relay:"relay"},yw={inbound:"inbound",outbound:"outbound"},Zde="0.3",Xde="WALLETCONNECT_CLIENT_ID",mk="WALLETCONNECT_LINK_MODE_APPS",ds={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},ehe="subscription",the="0.3",nhe="pairing",rhe="0.3",vf={wc_pairingDelete:{req:{ttl:ue.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ue.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ue.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ue.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ue.ONE_DAY,prompt:!1,tag:0},res:{ttl:ue.ONE_DAY,prompt:!1,tag:0}}},gl={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},oi={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},she="history",ihe="0.3",ohe="expirer",Us={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},ahe="0.3",che="verify-api",lhe="https://verify.walletconnect.com",v4="https://verify.walletconnect.org",dp=v4,uhe=`${dp}/v3`,dhe=[lhe,v4],hhe="echo",fhe="https://echo.walletconnect.com",Vi={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Ro={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},ai={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},nl={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},rl={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},bf={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},phe=.1,ghe="event-client",mhe=86400,yhe="https://pulse.walletconnect.org/batch";function whe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,w=0,b=p.length;w!==b&&p[w]===0;)w++,g++;for(var v=(b-w)*u+1>>>0,E=new Uint8Array(v);w!==b;){for(var _=p[w],x=0,S=v-1;(_!==0||x<y)&&S!==-1;S--,x++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=x,w++}for(var T=v-y;T!==v&&E[T]===0;)T++;for(var C=c.repeat(g);T<v;++T)C+=t.charAt(E[T]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,w=0;p[g]===c;)y++,g++;for(var b=(p.length-g)*l+1>>>0,v=new Uint8Array(b);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var _=0,x=b-1;(E!==0||_<w)&&x!==-1;x--,_++)E+=a*v[x]>>>0,v[x]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,g++}if(p[g]!==" "){for(var S=b-w;S!==b&&v[S]===0;)S++;for(var T=new Uint8Array(y+(b-S)),C=y;S!==b;)T[C++]=v[S++];return T}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var vhe=whe,bhe=vhe;const b4=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},_he=t=>new TextEncoder().encode(t),Ehe=t=>new TextDecoder().decode(t);class Che{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class xhe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return _4(this,e)}}class She{constructor(e){this.decoders=e}or(e){return _4(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const _4=(t,e)=>new She({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Ahe{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Che(e,n,r),this.decoder=new xhe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Gv=({name:t,prefix:e,encode:n,decode:r})=>new Ahe(t,e,n,r),mm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=bhe(n,e);return Gv({prefix:t,name:e,encode:r,decode:i=>b4(s(i))})},Ihe=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},The=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Zn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Gv({prefix:e,name:t,encode(s){return The(s,r,n)},decode(s){return Ihe(s,r,n,t)}}),Nhe=Gv({prefix:"\0",name:"identity",encode:t=>Ehe(t),decode:t=>_he(t)});var Phe=Object.freeze({__proto__:null,identity:Nhe});const khe=Zn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Ohe=Object.freeze({__proto__:null,base2:khe});const Rhe=Zn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var $he=Object.freeze({__proto__:null,base8:Rhe});const Dhe=mm({prefix:"9",name:"base10",alphabet:"0123456789"});var jhe=Object.freeze({__proto__:null,base10:Dhe});const Uhe=Zn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Lhe=Zn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Mhe=Object.freeze({__proto__:null,base16:Uhe,base16upper:Lhe});const Bhe=Zn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Fhe=Zn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),zhe=Zn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),qhe=Zn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Whe=Zn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Hhe=Zn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Vhe=Zn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ghe=Zn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Khe=Zn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Yhe=Object.freeze({__proto__:null,base32:Bhe,base32upper:Fhe,base32pad:zhe,base32padupper:qhe,base32hex:Whe,base32hexupper:Hhe,base32hexpad:Vhe,base32hexpadupper:Ghe,base32z:Khe});const Qhe=mm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Jhe=mm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Zhe=Object.freeze({__proto__:null,base36:Qhe,base36upper:Jhe});const Xhe=mm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),efe=mm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var tfe=Object.freeze({__proto__:null,base58btc:Xhe,base58flickr:efe});const nfe=Zn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),rfe=Zn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),sfe=Zn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ife=Zn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ofe=Object.freeze({__proto__:null,base64:nfe,base64pad:rfe,base64url:sfe,base64urlpad:ife});const E4=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),afe=E4.reduce((t,e,n)=>(t[n]=e,t),[]),cfe=E4.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function lfe(t){return t.reduce((e,n)=>(e+=afe[n],e),"")}function ufe(t){const e=[];for(const n of t){const r=cfe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const dfe=Gv({prefix:"🚀",name:"base256emoji",encode:lfe,decode:ufe});var hfe=Object.freeze({__proto__:null,base256emoji:dfe}),ffe=C4,yk=128,pfe=-128,gfe=Math.pow(2,31);function C4(t,e,n){e=e||[],n=n||0;for(var r=n;t>=gfe;)e[n++]=t&255|yk,t/=128;for(;t&pfe;)e[n++]=t&255|yk,t>>>=7;return e[n]=t|0,C4.bytes=n-r+1,e}var mfe=mx,yfe=128,wk=127;function mx(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw mx.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&wk)<<s:(o&wk)*Math.pow(2,s),s+=7}while(o>=yfe);return mx.bytes=i-r,n}var wfe=Math.pow(2,7),vfe=Math.pow(2,14),bfe=Math.pow(2,21),_fe=Math.pow(2,28),Efe=Math.pow(2,35),Cfe=Math.pow(2,42),xfe=Math.pow(2,49),Sfe=Math.pow(2,56),Afe=Math.pow(2,63),Ife=function(t){return t<wfe?1:t<vfe?2:t<bfe?3:t<_fe?4:t<Efe?5:t<Cfe?6:t<xfe?7:t<Sfe?8:t<Afe?9:10},Tfe={encode:ffe,decode:mfe,encodingLength:Ife},x4=Tfe;const vk=(t,e,n=0)=>(x4.encode(t,e,n),e),bk=t=>x4.encodingLength(t),yx=(t,e)=>{const n=e.byteLength,r=bk(t),s=r+bk(n),i=new Uint8Array(s+n);return vk(t,i,0),vk(n,i,r),i.set(e,s),new Nfe(t,n,e,i)};class Nfe{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const S4=({name:t,code:e,encode:n})=>new Pfe(t,e,n);class Pfe{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?yx(this.code,n):n.then(r=>yx(this.code,r))}else throw Error("Unknown type, must be binary type")}}const A4=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),kfe=S4({name:"sha2-256",code:18,encode:A4("SHA-256")}),Ofe=S4({name:"sha2-512",code:19,encode:A4("SHA-512")});var Rfe=Object.freeze({__proto__:null,sha256:kfe,sha512:Ofe});const I4=0,$fe="identity",T4=b4,Dfe=t=>yx(I4,T4(t)),jfe={code:I4,name:$fe,encode:T4,digest:Dfe};var Ufe=Object.freeze({__proto__:null,identity:jfe});new TextEncoder,new TextDecoder;const _k={...Phe,...Ohe,...$he,...jhe,...Mhe,...Yhe,...Zhe,...tfe,...ofe,...hfe};({...Rfe,...Ufe});function N4(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Lfe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?N4(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function P4(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Ek=P4("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),l_=P4("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Lfe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Mfe={utf8:Ek,"utf-8":Ek,hex:_k.base16,latin1:l_,ascii:l_,binary:l_,..._k};function Bfe(t,e="utf8"){const n=Mfe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?N4(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var Ffe=Object.defineProperty,zfe=(t,e,n)=>e in t?Ffe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zi=(t,e,n)=>zfe(t,typeof e!="symbol"?e+"":e,n);class qfe{constructor(e,n){this.core=e,this.logger=n,zi(this,"keychain",new Map),zi(this,"name",qde),zi(this,"version",Wde),zi(this,"initialized",!1),zi(this,"storagePrefix",po),zi(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),zi(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),zi(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),zi(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=de("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),zi(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=mr(n,this.name)}get context(){return ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,ZC(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?XC(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Wfe=Object.defineProperty,Hfe=(t,e,n)=>e in t?Wfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bn=(t,e,n)=>Hfe(t,typeof e!="symbol"?e+"":e,n);class Vfe{constructor(e,n,r){this.core=e,this.logger=n,Bn(this,"name",Fde),Bn(this,"keychain"),Bn(this,"randomSessionIdentifier",lx()),Bn(this,"initialized",!1),Bn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Bn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Bn(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=tP(s);return T6(i.publicKey)}),Bn(this,"generateKeyPair",()=>{this.isInitialized();const s=Mle();return this.setPrivateKey(s.publicKey,s.privateKey)}),Bn(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=tP(i),a=this.randomSessionIdentifier;return await Hre(a,s,zde,o)}),Bn(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=Ble(a,i);return this.setSymKey(c,o)}),Bn(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||mw(s);return await this.keychain.set(o,s),o}),Bn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Bn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Bn(this,"encode",async(s,i,o)=>{this.isInitialized();const a=i4(o),c=oa(i);if(YP(a))return qle(c,o==null?void 0:o.encoding);if(KP(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;s=await this.generateSharedKey(h,f)}const l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return Fle({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),Bn(this,"decode",async(s,i,o)=>{this.isInitialized();const a=Hle(i,o);if(YP(a)){const c=Wle(i,o==null?void 0:o.encoding);return iu(c)}if(KP(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=zle({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return iu(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Bn(this,"getPayloadType",(s,i=Ci)=>{const o=_g({encoded:s,encoding:i});return lu(o.type)}),Bn(this,"getPayloadSenderPublicKey",(s,i=Ci)=>{const o=_g({encoded:s,encoding:i});return o.senderPublicKey?ns(o.senderPublicKey,Ar):void 0}),this.core=e,this.logger=mr(n,this.name),this.keychain=r||new qfe(this.core,this.logger)}get context(){return ss(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(pk)}catch{e=lx(),await this.keychain.set(pk,e)}return Bfe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Gfe=Object.defineProperty,Kfe=Object.defineProperties,Yfe=Object.getOwnPropertyDescriptors,Ck=Object.getOwnPropertySymbols,Qfe=Object.prototype.hasOwnProperty,Jfe=Object.prototype.propertyIsEnumerable,wx=(t,e,n)=>e in t?Gfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zfe=(t,e)=>{for(var n in e||(e={}))Qfe.call(e,n)&&wx(t,n,e[n]);if(Ck)for(var n of Ck(e))Jfe.call(e,n)&&wx(t,n,e[n]);return t},Xfe=(t,e)=>Kfe(t,Yfe(e)),cs=(t,e,n)=>wx(t,typeof e!="symbol"?e+"":e,n);class epe extends qee{constructor(e,n){super(e,n),this.logger=e,this.core=n,cs(this,"messages",new Map),cs(this,"messagesWithoutClientAck",new Map),cs(this,"name",Hde),cs(this,"version",Vde),cs(this,"initialized",!1),cs(this,"storagePrefix",po),cs(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),cs(this,"set",async(r,s,i)=>{this.isInitialized();const o=to(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===yw.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Xfe(Zfe({},c),{[o]:s}))}return await this.persist(),o}),cs(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),cs(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),cs(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=to(s);return typeof i[o]<"u"}),cs(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=to(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),cs(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=mr(e,this.name),this.core=n}get context(){return ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,ZC(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,ZC(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?XC(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?XC(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var tpe=Object.defineProperty,npe=Object.defineProperties,rpe=Object.getOwnPropertyDescriptors,xk=Object.getOwnPropertySymbols,spe=Object.prototype.hasOwnProperty,ipe=Object.prototype.propertyIsEnumerable,vx=(t,e,n)=>e in t?tpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Oy=(t,e)=>{for(var n in e||(e={}))spe.call(e,n)&&vx(t,n,e[n]);if(xk)for(var n of xk(e))ipe.call(e,n)&&vx(t,n,e[n]);return t},u_=(t,e)=>npe(t,rpe(e)),ci=(t,e,n)=>vx(t,typeof e!="symbol"?e+"":e,n);class ope extends Wee{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,ci(this,"events",new Zs.EventEmitter),ci(this,"name",Gde),ci(this,"queue",new Map),ci(this,"publishTimeout",ue.toMiliseconds(ue.ONE_MINUTE)),ci(this,"initialPublishTimeout",ue.toMiliseconds(ue.ONE_SECOND*15)),ci(this,"needsTransportRestart",!1),ci(this,"publish",async(r,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const a=(i==null?void 0:i.ttl)||gk,c=b0(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,d=(i==null?void 0:i.id)||Tl().toString(),h={topic:r,message:s,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},f=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const p=new Promise(async g=>{const y=({id:b})=>{h.opts.id===b&&(this.removeRequestFromQueue(b),this.relayer.events.removeListener(Pn.publish,y),g(h))};this.relayer.events.on(Pn.publish,y);const w=dc(new Promise((b,v)=>{this.rpcPublish({topic:r,message:s,ttl:a,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(b).catch(E=>{this.logger.warn(E,E==null?void 0:E.message),v(E)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await w,this.events.removeListener(Pn.publish,y)}catch(b){this.queue.set(d,u_(Oy({},h),{attempt:1})),this.logger.warn(b,b==null?void 0:b.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:s,opts:i}}),await dc(p,this.publishTimeout,f)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=i==null?void 0:i.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(d)}}),ci(this,"on",(r,s)=>{this.events.on(r,s)}),ci(this,"once",(r,s)=>{this.events.once(r,s)}),ci(this,"off",(r,s)=>{this.events.off(r,s)}),ci(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=mr(n,this.name),this.registerEventListeners()}get context(){return ss(this.logger)}async rpcPublish(e){var n,r,s,i;const{topic:o,message:a,ttl:c=gk,prompt:l,tag:u,id:d,attestation:h,tvf:f}=e,p={method:Bf(b0().protocol).publish,params:Oy({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},f),id:d};Wn((n=p.params)==null?void 0:n.prompt)&&((r=p.params)==null||delete r.prompt),Wn((s=p.params)==null?void 0:s.tag)&&((i=p.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const g=await this.relayer.request(p);return this.relayer.events.emit(Pn.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,u_(Oy({},e),{attempt:r}));const{topic:s,message:i,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(u_(Oy({},e),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Cu.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Pn.connection_stalled);return}this.checkQueue()}),this.relayer.on(Pn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var ape=Object.defineProperty,cpe=(t,e,n)=>e in t?ape(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qu=(t,e,n)=>cpe(t,typeof e!="symbol"?e+"":e,n);class lpe{constructor(){qu(this,"map",new Map),qu(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),qu(this,"get",e=>this.map.get(e)||[]),qu(this,"exists",(e,n)=>this.get(e).includes(n)),qu(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),qu(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var upe=Object.defineProperty,dpe=Object.defineProperties,hpe=Object.getOwnPropertyDescriptors,Sk=Object.getOwnPropertySymbols,fpe=Object.prototype.hasOwnProperty,ppe=Object.prototype.propertyIsEnumerable,bx=(t,e,n)=>e in t?upe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_f=(t,e)=>{for(var n in e||(e={}))fpe.call(e,n)&&bx(t,n,e[n]);if(Sk)for(var n of Sk(e))ppe.call(e,n)&&bx(t,n,e[n]);return t},d_=(t,e)=>dpe(t,hpe(e)),kt=(t,e,n)=>bx(t,typeof e!="symbol"?e+"":e,n);class gpe extends Gee{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,kt(this,"subscriptions",new Map),kt(this,"topicMap",new lpe),kt(this,"events",new Zs.EventEmitter),kt(this,"name",ehe),kt(this,"version",the),kt(this,"pending",new Map),kt(this,"cached",[]),kt(this,"initialized",!1),kt(this,"storagePrefix",po),kt(this,"subscribeTimeout",ue.toMiliseconds(ue.ONE_MINUTE)),kt(this,"initialSubscribeTimeout",ue.toMiliseconds(ue.ONE_SECOND*15)),kt(this,"clientId"),kt(this,"batchSubscribeTopicsLimit",500),kt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),kt(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const i=b0(s),o={topic:r,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,i,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),a}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),kt(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),kt(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),kt(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),kt(this,"on",(r,s)=>{this.events.on(r,s)}),kt(this,"once",(r,s)=>{this.events.once(r,s)}),kt(this,"off",(r,s)=>{this.events.off(r,s)}),kt(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),kt(this,"start",async()=>{await this.onConnect()}),kt(this,"stop",async()=>{await this.onDisconnect()}),kt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),kt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),kt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Cu.pulse,async()=>{await this.checkPending()}),this.events.on(ds.created,async r=>{const s=ds.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(ds.deleted,async r=>{const s=ds.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=mr(n,this.name),this.clientId=""}get context(){return ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=b0(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const i=Vt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||(r==null?void 0:r.transportType)===Ft.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const i={method:Bf(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===Ft.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(u=>this.logger.warn(u))},ue.toMiliseconds(ue.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(ds.created,d),u(h.id))};this.events.on(ds.created,d);try{const h=await dc(new Promise((f,p)=>{this.relayer.request(i).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),p(g)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(ds.created,d),u(h)}catch{}}),l=await dc(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Pn.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Bf(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await dc(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Pn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Bf(n.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await dc(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Pn.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:Bf(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,d_(_f({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,_f({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,_f({},n)),this.topicMap.set(n.topic,e),this.events.emit(ds.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=de("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(ds.deleted,d_(_f({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ds.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(ds.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=de("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>d_(_f({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await cae(ue.toMiliseconds(ue.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return to(e+await this.getClientId())}}var mpe=Object.defineProperty,Ak=Object.getOwnPropertySymbols,ype=Object.prototype.hasOwnProperty,wpe=Object.prototype.propertyIsEnumerable,_x=(t,e,n)=>e in t?mpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ik=(t,e)=>{for(var n in e||(e={}))ype.call(e,n)&&_x(t,n,e[n]);if(Ak)for(var n of Ak(e))wpe.call(e,n)&&_x(t,n,e[n]);return t},dt=(t,e,n)=>_x(t,typeof e!="symbol"?e+"":e,n);class vpe extends Hee{constructor(e){super(e),dt(this,"protocol","wc"),dt(this,"version",2),dt(this,"core"),dt(this,"logger"),dt(this,"events",new Zs.EventEmitter),dt(this,"provider"),dt(this,"messages"),dt(this,"subscriber"),dt(this,"publisher"),dt(this,"name",Yde),dt(this,"transportExplicitlyClosed",!1),dt(this,"initialized",!1),dt(this,"connectionAttemptInProgress",!1),dt(this,"relayUrl"),dt(this,"projectId"),dt(this,"packageName"),dt(this,"bundleId"),dt(this,"hasExperiencedNetworkDisruption",!1),dt(this,"pingTimeout"),dt(this,"heartBeatTimeout",ue.toMiliseconds(ue.THIRTY_SECONDS+ue.FIVE_SECONDS)),dt(this,"reconnectTimeout"),dt(this,"connectPromise"),dt(this,"reconnectInProgress",!1),dt(this,"requestsInFlight",[]),dt(this,"connectTimeout",ue.toMiliseconds(ue.ONE_SECOND*15)),dt(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||Tl().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),dt(this,"resetPingTimeout",()=>{m0()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),dt(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),dt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Pn.connect)}),dt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),dt(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Pn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),dt(this,"registerProviderListeners",()=>{this.provider.on(Os.payload,this.onPayloadHandler),this.provider.on(Os.connect,this.onConnectHandler),this.provider.on(Os.disconnect,this.onDisconnectHandler),this.provider.on(Os.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?mr(e.logger,this.name):cm(Oh({level:e.logger||Kde})),this.messages=new epe(this.logger,e.core),this.subscriber=new gpe(this,this.logger),this.publisher=new ope(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||w4,this.projectId=e.projectId,Voe()?this.packageName=mP():Goe()&&(this.bundleId=mP()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return ss(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Ft.relay},yw.outbound)}async subscribe(e,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(ds.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(ds.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,Ik({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await dc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await ok())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=wn(ue.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(Pn.message,e),await this.recordMessageEvent(e,yw.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(Os.disconnect,i),await dc(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(Os.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Os.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Os.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,ue.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,i;if(m0())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Xs(new Ude(Zoe({sdkVersion:gx,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),hI(e)){if(!e.method.endsWith(Qde))return;const n=e.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:Ft.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Ik({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Vv(e)&&this.events.emit(Pn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,yw.inbound),this.events.emit(Pn.message,e))}async acknowledgePayload(e){const n=Wv(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Os.payload,this.onPayloadHandler),this.provider.off(Os.connect,this.onConnectHandler),this.provider.off(Os.disconnect,this.onDisconnectHandler),this.provider.off(Os.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await ok();Lue(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Cu.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Fue())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Pn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ue.toMiliseconds(Jde)))))}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function bpe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function Tk(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Nk(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const _pe="[object RegExp]",Epe="[object String]",Cpe="[object Number]",xpe="[object Boolean]",Pk="[object Arguments]",Spe="[object Symbol]",Ape="[object Date]",Ipe="[object Map]",Tpe="[object Set]",Npe="[object Array]",Ppe="[object Function]",kpe="[object ArrayBuffer]",h_="[object Object]",Ope="[object Error]",Rpe="[object DataView]",$pe="[object Uint8Array]",Dpe="[object Uint8ClampedArray]",jpe="[object Uint16Array]",Upe="[object Uint32Array]",Lpe="[object BigUint64Array]",Mpe="[object Int8Array]",Bpe="[object Int16Array]",Fpe="[object Int32Array]",zpe="[object BigInt64Array]",qpe="[object Float32Array]",Wpe="[object Float64Array]";function Hpe(){}function kk(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Vpe(t,e,n){return Ff(t,e,void 0,void 0,void 0,void 0,n)}function Ff(t,e,n,r,s,i,o){const a=o(t,e,n,r,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return hp(t,e,i,o)}return hp(t,e,i,o)}function hp(t,e,n,r){if(Object.is(t,e))return!0;let s=Nk(t),i=Nk(e);if(s===Pk&&(s=h_),i===Pk&&(i=h_),s!==i)return!1;switch(s){case Epe:return t.toString()===e.toString();case Cpe:{const c=t.valueOf(),l=e.valueOf();return bpe(c,l)}case xpe:case Ape:case Spe:return Object.is(t.valueOf(),e.valueOf());case _pe:return t.source===e.source&&t.flags===e.flags;case Ppe:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(s){case Ipe:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!Ff(l,e.get(c),c,t,e,n,r))return!1;return!0}case Tpe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>Ff(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case Npe:case $pe:case Dpe:case jpe:case Upe:case Lpe:case Mpe:case Bpe:case Fpe:case zpe:case qpe:case Wpe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Ff(t[c],e[c],c,t,e,n,r))return!1;return!0}case kpe:return t.byteLength!==e.byteLength?!1:hp(new Uint8Array(t),new Uint8Array(e),n,r);case Rpe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:hp(new Uint8Array(t),new Uint8Array(e),n,r);case Ope:return t.name===e.name&&t.message===e.message;case h_:{if(!(hp(t.constructor,e.constructor,n,r)||kk(t)&&kk(e)))return!1;const c=[...Object.keys(t),...Tk(t)],l=[...Object.keys(e),...Tk(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!Ff(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function Gpe(t,e){return Vpe(t,e,Hpe)}var Kpe=Object.defineProperty,Ok=Object.getOwnPropertySymbols,Ype=Object.prototype.hasOwnProperty,Qpe=Object.prototype.propertyIsEnumerable,Ex=(t,e,n)=>e in t?Kpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rk=(t,e)=>{for(var n in e||(e={}))Ype.call(e,n)&&Ex(t,n,e[n]);if(Ok)for(var n of Ok(e))Qpe.call(e,n)&&Ex(t,n,e[n]);return t},jr=(t,e,n)=>Ex(t,typeof e!="symbol"?e+"":e,n);class Au extends Vee{constructor(e,n,r,s=po,i=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,jr(this,"map",new Map),jr(this,"version",Zde),jr(this,"cached",[]),jr(this,"initialized",!1),jr(this,"getKey"),jr(this,"storagePrefix",po),jr(this,"recentlyDeleted",[]),jr(this,"recentlyDeletedLimit",200),jr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Wn(o)?this.map.set(this.getKey(o),o):gue(o)?this.map.set(o.id,o):mue(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),jr(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),jr(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),jr(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Gpe(a[c],o[c]))):this.values)),jr(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=Rk(Rk({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),jr(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=mr(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=de("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=de("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=de("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Jpe=Object.defineProperty,Zpe=(t,e,n)=>e in t?Jpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nt=(t,e,n)=>Zpe(t,typeof e!="symbol"?e+"":e,n);class Xpe{constructor(e,n){this.core=e,this.logger=n,nt(this,"name",nhe),nt(this,"version",rhe),nt(this,"events",new $A),nt(this,"pairings"),nt(this,"initialized",!1),nt(this,"storagePrefix",po),nt(this,"ignoredPayloadTypes",[Yo]),nt(this,"registeredMethods",[]),nt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),nt(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),nt(this,"create",async r=>{this.isInitialized();const s=lx(),i=await this.core.crypto.setSymKey(s),o=wn(ue.FIVE_MINUTES),a={protocol:y4},c={topic:i,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=JP({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(gl.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r==null?void 0:r.transportType}),{topic:i,uri:l}}),nt(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Vi.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=QP(r.uri);s.props.properties.topic=i,s.addTrace(Vi.pairing_uri_validation_success),s.addTrace(Vi.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(Vi.existing_pairing),u.active)throw s.setError(Ro.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(Vi.pairing_not_expired)}const d=c||wn(ue.FIVE_MINUTES),h={topic:i,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(i,d),await this.pairings.set(i,h),s.addTrace(Vi.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(gl.create,h),s.addTrace(Vi.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(Vi.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Ro.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(f){throw s.setError(Ro.subscribe_pairing_topic_failure),f}return s.addTrace(Vi.subscribe_pairing_topic_success),h}),nt(this,"activate",async({topic:r})=>{this.isInitialized();const s=wn(ue.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),nt(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=dl();this.events.once(mt("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),nt(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),nt(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),nt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),nt(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Vt("USER_DISCONNECTED")),await this.deletePairing(s))}),nt(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return JP({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),nt(this,"sendRequest",async(r,s,i)=>{const o=hc(s,i),a=await this.core.crypto.encode(r,o),c=vf[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),nt(this,"sendResult",async(r,s,i)=>{const o=Wv(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=vf[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),nt(this,"sendError",async(r,s,i)=>{const o=Hv(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=vf[c]?vf[c].res:vf.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),nt(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Vt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),nt(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>Ba(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),nt(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),nt(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),nt(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(gl.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),nt(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{Yi(s)?this.events.emit(mt("pairing_ping",i),{}):Ms(s)&&this.events.emit(mt("pairing_ping",i),{error:s.error})},500)}),nt(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(gl.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),nt(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=Vt("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),nt(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Vt("WC_METHOD_UNSUPPORTED",r))}),nt(this,"isValidPair",(r,s)=>{var i;if(!Fr(r)){const{message:a}=de("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(Ro.malformed_pairing_uri),new Error(a)}if(!pue(r.uri)){const{message:a}=de("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(Ro.malformed_pairing_uri),new Error(a)}const o=QP(r==null?void 0:r.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=de("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(Ro.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=de("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(Ro.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&ue.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(Ro.pairing_expired);const{message:a}=de("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),nt(this,"isValidPing",async r=>{if(!Fr(r)){const{message:i}=de("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),nt(this,"isValidDisconnect",async r=>{if(!Fr(r)){const{message:i}=de("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),nt(this,"isValidPairingTopic",async r=>{if(!pn(r,!1)){const{message:s}=de("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=de("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(Ba(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=de("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=mr(n,this.name),this.pairings=new Au(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ss(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Pn.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==Ft.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);hI(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):Vv(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(Us.expired,async e=>{const{topic:n}=gj(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(gl.expire,{topic:n}))})}}var ege=Object.defineProperty,tge=(t,e,n)=>e in t?ege(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fn=(t,e,n)=>tge(t,typeof e!="symbol"?e+"":e,n);class nge extends zee{constructor(e,n){super(e,n),this.core=e,this.logger=n,Fn(this,"records",new Map),Fn(this,"events",new Zs.EventEmitter),Fn(this,"name",she),Fn(this,"version",ihe),Fn(this,"cached",[]),Fn(this,"initialized",!1),Fn(this,"storagePrefix",po),Fn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Fn(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:wn(ue.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(oi.created,o)}),Fn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=Ms(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(oi.updated,s))}),Fn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),Fn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(oi.deleted,i)}}),this.persist()}),Fn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),Fn(this,"on",(r,s)=>{this.events.on(r,s)}),Fn(this,"once",(r,s)=>{this.events.once(r,s)}),Fn(this,"off",(r,s)=>{this.events.off(r,s)}),Fn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=mr(n,this.name)}get context(){return ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:hc(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=de("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(oi.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=de("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(oi.created,e=>{const n=oi.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(oi.updated,e=>{const n=oi.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(oi.deleted,e=>{const n=oi.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Cu.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{ue.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(oi.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var rge=Object.defineProperty,sge=(t,e,n)=>e in t?rge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ur=(t,e,n)=>sge(t,typeof e!="symbol"?e+"":e,n);class ige extends Kee{constructor(e,n){super(e,n),this.core=e,this.logger=n,ur(this,"expirations",new Map),ur(this,"events",new Zs.EventEmitter),ur(this,"name",ohe),ur(this,"version",ahe),ur(this,"cached",[]),ur(this,"initialized",!1),ur(this,"storagePrefix",po),ur(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ur(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),ur(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(Us.created,{target:i,expiration:o})}),ur(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),ur(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Us.deleted,{target:s,expiration:i})}}),ur(this,"on",(r,s)=>{this.events.on(r,s)}),ur(this,"once",(r,s)=>{this.events.once(r,s)}),ur(this,"off",(r,s)=>{this.events.off(r,s)}),ur(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=mr(n,this.name)}get context(){return ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Xoe(e);if(typeof e=="number")return eae(e);const{message:n}=de("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Us.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=de("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=de("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;ue.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Us.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Cu.pulse,()=>this.checkExpirations()),this.events.on(Us.created,e=>{const n=Us.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Us.expired,e=>{const n=Us.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Us.deleted,e=>{const n=Us.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var oge=Object.defineProperty,age=(t,e,n)=>e in t?oge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hn=(t,e,n)=>age(t,typeof e!="symbol"?e+"":e,n);class cge extends Yee{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,hn(this,"name",che),hn(this,"abortController"),hn(this,"isDevEnv"),hn(this,"verifyUrlV3",uhe),hn(this,"storagePrefix",po),hn(this,"version",m4),hn(this,"publicKey"),hn(this,"fetchPromise"),hn(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ue.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),hn(this,"register",async s=>{if(!Lh()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=ou(),u=this.startAbortTimer(ue.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",y),l.body.removeChild(g),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const y=w=>{if(w.data&&typeof w.data=="string")try{const b=JSON.parse(w.data);if(b.type==="verify_attestation"){if(HC(b.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),h(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};l.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),hn(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(HC(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),hn(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(ue.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),hn(this,"getVerifyUrl",s=>{let i=s||dp;return dhe.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${dp}`),i=dp),i}),hn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(ue.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),hn(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),hn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),hn(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),hn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),hn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),hn(this,"validateAttestation",(s,i)=>{const o=Gle(s,i.publicKey),a={hasExpired:ue.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=mr(n,this.name),this.abortController=new AbortController,this.isDevEnv=JA(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ss(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ue.toMiliseconds(e))}}var lge=Object.defineProperty,uge=(t,e,n)=>e in t?lge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$k=(t,e,n)=>uge(t,typeof e!="symbol"?e+"":e,n);class dge extends Qee{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,$k(this,"context",hhe),$k(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${fhe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=mr(n,this.context)}}var hge=Object.defineProperty,Dk=Object.getOwnPropertySymbols,fge=Object.prototype.hasOwnProperty,pge=Object.prototype.propertyIsEnumerable,Cx=(t,e,n)=>e in t?hge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ef=(t,e)=>{for(var n in e||(e={}))fge.call(e,n)&&Cx(t,n,e[n]);if(Dk)for(var n of Dk(e))pge.call(e,n)&&Cx(t,n,e[n]);return t},Sn=(t,e,n)=>Cx(t,typeof e!="symbol"?e+"":e,n);class gge extends Jee{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Sn(this,"context",ghe),Sn(this,"storagePrefix",po),Sn(this,"storageVersion",phe),Sn(this,"events",new Map),Sn(this,"shouldPersist",!1),Sn(this,"init",async()=>{if(!JA())try{const s={eventId:wP(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:fj(this.core.relayer.protocol,this.core.relayer.version,gx)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),Sn(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=wP(),u=this.core.projectId||"",d=Date.now(),h=Ef({eventId:l,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),Sn(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Ef(Ef({},a),this.setMethods(a.eventId))}),Sn(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),Sn(this,"setEventListeners",()=>{this.core.heartbeat.on(Cu.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{ue.fromMiliseconds(Date.now())-ue.fromMiliseconds(s.timestamp)>mhe&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),Sn(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),Sn(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),Sn(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),Sn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Sn(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,Ef(Ef({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),Sn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),Sn(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${yhe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${gx}${i}`,{method:"POST",body:JSON.stringify(s)})}),Sn(this,"getAppDomain",()=>hj().url),this.logger=mr(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var mge=Object.defineProperty,jk=Object.getOwnPropertySymbols,yge=Object.prototype.hasOwnProperty,wge=Object.prototype.propertyIsEnumerable,xx=(t,e,n)=>e in t?mge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Uk=(t,e)=>{for(var n in e||(e={}))yge.call(e,n)&&xx(t,n,e[n]);if(jk)for(var n of jk(e))wge.call(e,n)&&xx(t,n,e[n]);return t},Rt=(t,e,n)=>xx(t,typeof e!="symbol"?e+"":e,n);let vge=class k4 extends Lee{constructor(e){var n;super(e),Rt(this,"protocol",g4),Rt(this,"version",m4),Rt(this,"name",px),Rt(this,"relayUrl"),Rt(this,"projectId"),Rt(this,"customStoragePrefix"),Rt(this,"events",new Zs.EventEmitter),Rt(this,"logger"),Rt(this,"heartbeat"),Rt(this,"relayer"),Rt(this,"crypto"),Rt(this,"storage"),Rt(this,"history"),Rt(this,"expirer"),Rt(this,"pairing"),Rt(this,"verify"),Rt(this,"echoClient"),Rt(this,"linkModeSupportedApps"),Rt(this,"eventClient"),Rt(this,"initialized",!1),Rt(this,"logChunkController"),Rt(this,"on",(a,c)=>this.events.on(a,c)),Rt(this,"once",(a,c)=>this.events.once(a,c)),Rt(this,"off",(a,c)=>this.events.off(a,c)),Rt(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Rt(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:Ft.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||w4,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=Oh({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Mde.logger,name:px}),{logger:i,chunkLoggerController:o}=jA({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=mr(i,this.name),this.heartbeat=new AX,this.crypto=new Vfe(this,this.logger,e==null?void 0:e.keychain),this.history=new nge(this,this.logger),this.expirer=new ige(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new cee(Uk(Uk({},Bde),e==null?void 0:e.storageOptions)),this.relayer=new vpe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Xpe(this,this.logger),this.verify=new cge(this,this.logger,this.storage),this.echoClient=new dge(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new gge(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new k4(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Xde,r),n}get context(){return ss(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(mk,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(mk)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Lde.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const bge=vge,O4="wc",R4=2,$4="client",fI=`${O4}@${R4}:${$4}:`,f_={name:$4,logger:"error"},Lk="WALLETCONNECT_DEEPLINK_CHOICE",_ge="proposal",Mk="Proposal expired",Ege="session",Wu=ue.SEVEN_DAYS,Cge="engine",An={wc_sessionPropose:{req:{ttl:ue.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ue.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ue.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ue.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ue.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ue.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ue.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ue.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ue.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ue.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ue.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ue.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ue.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ue.FIVE_MINUTES,prompt:!1,tag:1119}}},p_={min:ue.FIVE_MINUTES,max:ue.SEVEN_DAYS},qi={idle:"IDLE",active:"ACTIVE"},xge={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Sge="request",Age=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Ige="wc",Tge="auth",Nge="authKeys",Pge="pairingTopics",kge="requests",Kv=`${Ige}@${1.5}:${Tge}:`,ww=`${Kv}:PUB_KEY`;var Oge=Object.defineProperty,Rge=Object.defineProperties,$ge=Object.getOwnPropertyDescriptors,Bk=Object.getOwnPropertySymbols,Dge=Object.prototype.hasOwnProperty,jge=Object.prototype.propertyIsEnumerable,Sx=(t,e,n)=>e in t?Oge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mt=(t,e)=>{for(var n in e||(e={}))Dge.call(e,n)&&Sx(t,n,e[n]);if(Bk)for(var n of Bk(e))jge.call(e,n)&&Sx(t,n,e[n]);return t},Ur=(t,e)=>Rge(t,$ge(e)),se=(t,e,n)=>Sx(t,typeof e!="symbol"?e+"":e,n);class Uge extends tte{constructor(e){super(e),se(this,"name",Cge),se(this,"events",new $A),se(this,"initialized",!1),se(this,"requestQueue",{state:qi.idle,queue:[]}),se(this,"sessionRequestQueue",{state:qi.idle,queue:[]}),se(this,"requestQueueDelay",ue.ONE_SECOND),se(this,"expectedPairingMethodMap",new Map),se(this,"recentlyDeletedMap",new Map),se(this,"recentlyDeletedLimit",200),se(this,"relayMessageCache",[]),se(this,"pendingSessions",new Map),se(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(An)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ue.toMiliseconds(this.requestQueueDelay)))}),se(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Ur(Mt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=lue(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,d,h=!1;try{if(u){const x=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=x.active}}catch(x){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),x}if(!u||!h){const{topic:x,uri:S}=await this.client.core.pairing.create();u=x,d=S}if(!u){const{message:x}=de("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(x)}const f=await this.client.core.crypto.generateKeyPair(),p=An.wc_sessionPropose.req.ttl||ue.FIVE_MINUTES,g=wn(p),y=Ur(Mt(Mt({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:y4}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Ki()}),w=mt("session_connect",y.id),{reject:b,resolve:v,done:E}=dl(p,Mk),_=({id:x})=>{x===y.id&&(this.client.events.off("proposal_expire",_),this.pendingSessions.delete(y.id),this.events.emit(w,{error:{message:Mk,code:0}}))};return this.client.events.on("proposal_expire",_),this.events.once(w,({error:x,session:S})=>{this.client.events.off("proposal_expire",_),x?b(x):S&&v(S)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:y,throwOnFailedPublish:!0,clientRpcId:y.id}),await this.setProposal(y.id,y),{uri:d,approval:E}}),se(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),se(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[ai.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(C){throw o.setError(nl.no_internet_connection),C}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(C){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(nl.proposal_not_found),C}try{await this.isValidApprove(n)}catch(C){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(nl.session_approve_namespace_validation_failure),C}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:y,optionalNamespaces:w}=f;let b=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});b||(b=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:ai.session_approve_started,properties:{topic:p,trace:[ai.session_approve_started,ai.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),E=g.publicKey,_=await this.client.core.crypto.generateSharedKey(v,E),x=Mt(Mt(Mt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:v,metadata:this.client.metadata},expiry:wn(Wu)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),S=Ft.relay;b.addTrace(ai.subscribing_session_topic);try{await this.client.core.relayer.subscribe(_,{transportType:S})}catch(C){throw b.setError(nl.subscribe_session_topic_failure),C}b.addTrace(ai.subscribe_session_topic_success);const T=Ur(Mt({},x),{topic:_,requiredNamespaces:y,optionalNamespaces:w,pairingTopic:p,acknowledged:!1,self:x.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:v,transportType:Ft.relay});await this.client.session.set(_,T),b.addTrace(ai.store_session);try{b.addTrace(ai.publishing_session_settle),await this.sendRequest({topic:_,method:"wc_sessionSettle",params:x,throwOnFailedPublish:!0}).catch(C=>{throw b==null||b.setError(nl.session_settle_publish_failure),C}),b.addTrace(ai.session_settle_publish_success),b.addTrace(ai.publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:v},throwOnFailedPublish:!0}).catch(C=>{throw b==null||b.setError(nl.session_approve_publish_failure),C}),b.addTrace(ai.session_approve_publish_success)}catch(C){throw this.client.logger.error(C),this.client.session.delete(_,Vt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(_),C}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(_,wn(Wu)),{topic:_,acknowledged:()=>Promise.resolve(this.client.session.get(_))}}),se(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:An.wc_sessionPropose.reject}),await this.deleteProposal(r)}),se(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=dl(),c=Ki(),l=Tl().toString(),u=this.client.session.get(r).namespaces;return this.events.once(mt("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:i}}),se(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=Ki(),{done:i,resolve:o,reject:a}=dl();return this.events.once(mt("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,wn(Wu)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),se(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:s,topic:i,expiry:o=An.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);(a==null?void 0:a.transportType)===Ft.relay&&await this.confirmOnlineStateOrThrow();const c=Ki(),l=Tl().toString(),{done:u,resolve:d,reject:h}=dl(o,"Request expired. Please try again.");this.events.once(mt("session_request",c),({error:y,result:w})=>{y?h(y):d(w)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:{request:Ur(Mt({},s),{expiryTimestamp:wn(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const g={request:Ur(Mt({},s),{expiryTimestamp:wn(o)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(w=>h(w)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),y()}),new Promise(async y=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const b=await sae(this.client.core.storage,Lk);await tae({id:c,topic:i,wcDeepLink:b})}y()}),u()]).then(y=>y[2])}),se(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===Ft.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Yi(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):Ms(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),se(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=Ki(),i=Tl().toString(),{done:o,resolve:a,reject:c}=dl();this.events.once(mt("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),se(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=Tl().toString(),a=Ki();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),se(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Vt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=de("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),se(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>hue(r,n)))),se(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),se(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?Ft.link_mode:Ft.relay;o===Ft.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:g=[],expiry:y}=n,w=[...n.resources||[]],{topic:b,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:v}});const E=await this.client.core.crypto.generateKeyPair(),_=mw(E);if(await Promise.all([this.client.auth.authKeys.set(ww,{responseTopic:_,publicKey:E}),this.client.auth.pairingTopics.set(_,{topic:_,pairingTopic:b})]),await this.client.core.relayer.subscribe(_,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),g.length>0){const{namespace:k}=Ud(a[0]);let U=vce(k,"request",g);gw(w)&&(U=_ce(U,w.pop())),w.push(U)}const x=y&&y>An.wc_sessionAuthenticate.req.ttl?y:An.wc_sessionAuthenticate.req.ttl,S={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:w},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:wn(x)},T={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},C={requiredNamespaces:{},optionalNamespaces:T,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:wn(An.wc_sessionPropose.req.ttl),id:Ki()},{done:O,resolve:R,reject:B}=dl(x,"Request expired"),W=Ki(),F=mt("session_connect",C.id),A=mt("session_request",W),I=async({error:k,session:U})=>{this.events.off(A,D),k?B(k):U&&R({session:U})},D=async k=>{var U,q,Y;if(await this.deletePendingAuthRequest(W,{message:"fulfilled",code:0}),k.error){const Re=Vt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return k.error.code===Re.code?void 0:(this.events.off(F,I),B(k.error.message))}await this.deleteProposal(C.id),this.events.off(F,I);const{cacaos:ee,responder:Q}=k.result,ne=[],ae=[];for(const Re of ee){await NP({cacao:Re,projectId:this.client.core.projectId})||(this.client.logger.error(Re,"Signature verification failed"),B(Vt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Be}=Re,Xe=gw(Be.resources),Wt=[ex(Be.iss)],qe=y0(Be.iss);if(Xe){const We=PP(Xe),Ht=kP(Xe);ne.push(...We),Wt.push(...Ht)}for(const We of Wt)ae.push(`${We}:${qe}`)}const ye=await this.client.core.crypto.generateSharedKey(E,Q.publicKey);let Le;ne.length>0&&(Le={topic:ye,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:Q,controller:Q.publicKey,expiry:wn(Wu),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:tk([...new Set(ne)],[...new Set(ae)]),transportType:o},await this.client.core.relayer.subscribe(ye,{transportType:o}),await this.client.session.set(ye,Le),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:Q.metadata}),Le=this.client.session.get(ye)),(U=this.client.metadata.redirect)!=null&&U.linkMode&&(q=Q.metadata.redirect)!=null&&q.linkMode&&(Y=Q.metadata.redirect)!=null&&Y.universal&&r&&(this.client.core.addLinkModeSupportedApp(Q.metadata.redirect.universal),this.client.session.update(ye,{transportType:Ft.link_mode})),R({auths:ee,session:Le})};this.events.once(F,I),this.events.once(A,D);let N;try{if(i){const k=hc("wc_sessionAuthenticate",S,W);this.client.core.history.set(b,k);const U=await this.client.core.crypto.encode("",k,{type:gm,encoding:Ga});N=ky(r,b,U)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:S,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:W}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:C,expiry:An.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:C.id})])}catch(k){throw this.events.off(F,I),this.events.off(A,D),k}return await this.setProposal(C.id,C),await this.setAuthRequest(W,{request:Ur(Mt({},S),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:N??v,response:O}}),se(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[rl.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw i.setError(bf.no_internet_connection),y}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(bf.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Ft.relay;a===Ft.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=mw(c),d={type:Yo,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const y of s){if(!await NP({cacao:y,projectId:this.client.core.projectId})){i.setError(bf.invalid_cacao);const _=Vt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:_,encodeOpts:d}),new Error(_.message)}i.addTrace(rl.cacaos_verified);const{p:w}=y,b=gw(w.resources),v=[ex(w.iss)],E=y0(w.iss);if(b){const _=PP(b),x=kP(b);h.push(..._),v.push(...x)}for(const _ of v)f.push(`${_}:${E}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(rl.create_authenticated_session_topic);let g;if((h==null?void 0:h.length)>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:wn(Wu),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:tk([...new Set(h)],[...new Set(f)]),transportType:a},i.addTrace(rl.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(y){throw i.setError(bf.subscribe_authenticated_session_topic_failure),y}i.addTrace(rl.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),i.addTrace(rl.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(rl.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw i.setError(bf.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:g}}),se(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===Ft.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=mw(o),l={type:Yo,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:An.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),se(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return Pj(r,s)}),se(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),se(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),se(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Vt("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Lk).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,Vt("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=qi.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),se(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(nl.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Vt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),se(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=qi.idle,this.client.events.emit("session_request_expire",{id:n}))}),se(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),se(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),se(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,wn(An.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),se(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=Ft.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),se(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||wn(An.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),se(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,h=hc(s,i,c);let f;const p=!!u;try{const w=p?Ga:Ci;f=await this.client.core.crypto.encode(r,h,{encoding:w})}catch(w){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),w}let g;if(Age.includes(s)){const w=to(JSON.stringify(h)),b=to(f);g=await this.client.core.verify.register({id:b,decryptedId:w})}const y=An[s].req;if(y.attestation=g,o&&(y.ttl=o),a&&(y.id=a),this.client.core.history.set(r,h),p){const w=ky(u,r,f);await global.Linking.openURL(w,this.client.name)}else{const w=An[s].req;o&&(w.ttl=o),a&&(w.id=a),w.tvf=Ur(Mt({},d),{correlationId:h.id}),l?(w.internal=Ur(Mt({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,f,w)):this.client.core.relayer.publish(r,f,w).catch(b=>this.client.logger.error(b))}return h.id}),se(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=Wv(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?Ga:Ci;u=await this.client.core.crypto.encode(s,l,Ur(Mt({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let h,f;try{h=await this.client.core.history.get(s,r);const p=h.request;try{f=this.getTVFParams(r,p.params,i)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g==null?void 0:g.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(d){const p=ky(c,s,u);await global.Linking.openURL(p,this.client.name)}else{const p=h.request.method,g=An[p].res;g.tvf=Ur(Mt({},f),{correlationId:r}),o?(g.internal=Ur(Mt({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),se(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=Hv(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?Ga:Ci;u=await this.client.core.crypto.encode(s,l,Ur(Mt({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),f}let h;try{h=await this.client.core.history.get(s,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),f}if(d){const f=ky(c,s,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=a||An[f].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),se(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;Ba(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Ba(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),se(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),se(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),se(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===qi.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=qi.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=qi.idle}),se(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),se(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),se(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=de("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),se(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),se(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(Ro.proposal_listener_not_found)),this.isValidConnect(Mt({},s.params));const u=a.expiryTimestamp||wn(An.wc_sessionPropose.req.ttl),d=Mt({id:c,pairingTopic:r,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:i,hash:to(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(Vi.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:An.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),se(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(Yi(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(Ms(r)){await this.deleteProposal(i);const o=mt("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),se(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(f.proposalId),g=Ur(Mt(Mt(Mt({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:Ft.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(mt("session_connect",f.proposalId),{session:g}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),se(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;Yi(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(mt("session_approve",s),{})):Ms(r)&&(await this.client.session.delete(n,Vt("USER_DISCONNECTED")),this.events.emit(mt("session_approve",s),{error:r.error}))}),se(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=wf.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:Vt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Mt({topic:n},s));try{wf.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(c){throw wf.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),se(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),se(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=mt("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Yi(r)?this.events.emit(mt("session_update",s),{}):Ms(r)&&this.events.emit(mt("session_update",s),{error:r.error})}),se(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,wn(Wu)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),se(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=mt("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Yi(r)?this.events.emit(mt("session_extend",s),{}):Ms(r)&&this.events.emit(mt("session_extend",s),{error:r.error})}),se(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),se(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=mt("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);Yi(r)?this.events.emit(mt("session_ping",s),{}):Ms(r)&&this.events.emit(mt("session_ping",s),{error:r.error})},500)}),se(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(Pn.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Vt("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),se(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(Mt({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:to(JSON.stringify(hc("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),g={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(g),u===Ft.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=f.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),se(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=mt("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Yi(r)?this.events.emit(mt("session_request",s),{result:r.result}):Ms(r)&&this.events.emit(mt("session_request",s),{error:r.error})}),se(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=wf.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Mt({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),wf.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),se(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Yi(r)?this.events.emit(mt("session_request",s),{result:r.result}):Ms(r)&&this.events.emit(mt("session_request",s),{error:r.error})}),se(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=i.params,h=await this.getVerifyContext({attestationId:o,hash:to(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:f,pairingTopic:s,transportType:c}),c===Ft.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(i.params.requester.metadata,c),f={type:Yo,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:f,rpcOpts:An.wc_sessionAuthenticate.autoReject,appLink:h})}}),se(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),se(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=qi.idle,this.processSessionRequestQueue()},ue.toMiliseconds(this.requestQueueDelay))}),se(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=mt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(mt("session_request",i.request.id),{error:r})})}),se(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===qi.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=qi.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),se(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),se(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:hc("wc_sessionPropose",Ur(Mt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),se(this,"isValidConnect",async n=>{if(!Fr(n)){const{message:l}=de("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(Wn(r)||await this.isValidPairingTopic(r),!xue(c)){const{message:l}=de("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!Wn(s)&&Tc(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(!Wn(i)&&Tc(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),Wn(o)||this.validateSessionProps(o,"sessionProperties"),!Wn(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),se(this,"validateNamespaces",(n,r)=>{const s=Cue(n,"connect()",r);if(s)throw new Error(s.message)}),se(this,"isValidApprove",async n=>{if(!Fr(n))throw new Error(de("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=a_(s,"approve()");if(l)throw new Error(l.message);const u=sk(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!pn(i,!0)){const{message:d}=de("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(Wn(o)||this.validateSessionProps(o,"sessionProperties"),!Wn(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(h=>d.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),se(this,"isValidReject",async n=>{if(!Fr(n)){const{message:i}=de("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Aue(s)){const{message:i}=de("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),se(this,"isValidSessionSettleRequest",n=>{if(!Fr(n)){const{message:l}=de("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!a4(r)){const{message:l}=de("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=yue(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=a_(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Ba(o)){const{message:l}=de("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),se(this,"isValidUpdate",async n=>{if(!Fr(n)){const{message:c}=de("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=a_(s,"update()");if(o)throw new Error(o.message);const a=sk(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),se(this,"isValidExtend",async n=>{if(!Fr(n)){const{message:s}=de("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),se(this,"isValidRequest",async n=>{if(!Fr(n)){const{message:c}=de("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!rk(a,i)){const{message:c}=de("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!Iue(s)){const{message:c}=de("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!Pue(a,i,s.method)){const{message:c}=de("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!$ue(o,p_)){const{message:c}=de("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${p_.min} and ${p_.max}`);throw new Error(c)}}),se(this,"isValidRespond",async n=>{var r;if(!Fr(n)){const{message:o}=de("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Tue(i)){const{message:o}=de("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),se(this,"isValidPing",async n=>{if(!Fr(n)){const{message:s}=de("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),se(this,"isValidEmit",async n=>{if(!Fr(n)){const{message:a}=de("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!rk(o,i)){const{message:a}=de("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!Nue(s)){const{message:a}=de("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!kue(o,i,s.name)){const{message:a}=de("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),se(this,"isValidDisconnect",async n=>{if(!Fr(n)){const{message:s}=de("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),se(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!pn(s,!1))throw new Error("uri is required parameter");if(!pn(i,!1))throw new Error("domain is required parameter");if(!pn(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Ud(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Ud(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),se(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||dp,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Ft.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),se(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=de("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),se(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),se(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),se(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=de("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),se(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,d,h;return!n||r!==Ft.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),se(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),se(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=yP(n,"topic")||"",s=decodeURIComponent(yP(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:Ft.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),se(this,"registerLinkModeListeners",async()=>{var n;if(JA()||Kc()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),se(this,"getTVFParams",(n,r,s)=>{var i,o,a;if(!((i=r.request)!=null&&i.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),se(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),se(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=xge[i];if(i==="sui_signTransaction")return[rce(r.transactionBytes)];if(i==="near_signTransaction")return[SP(r)];if(i==="near_signTransactions")return r.map(c=>SP(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[Yue({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return Qo(r)?r.map(c=>AP(c)):[AP(r)];if(i==="cosmos_signDirect")return[ice(r)];if(typeof r=="string")return[r];const a=r[o.key];if(Qo(a))return i==="solana_signAllTransactions"?a.map(c=>nce(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Pn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(ww)?this.client.auth.authKeys.get(ww):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===Ft.link_mode?Ga:Ci});hI(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:to(r)})):Vv(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Us.expired,async e=>{const{topic:n,id:r}=gj(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,de("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,de("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(gl.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(gl.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!pn(e,!1)){const{message:n}=de("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=de("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Ba(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=de("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!pn(e,!1)){const{message:n}=de("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=de("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Ba(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=de("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=de("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(pn(e,!1)){const{message:n}=de("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=de("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!Sue(e)){const{message:n}=de("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=de("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Ba(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=de("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class Lge extends Au{constructor(e,n){super(e,n,_ge,fI),this.core=e,this.logger=n}}let Mge=class extends Au{constructor(e,n){super(e,n,Ege,fI),this.core=e,this.logger=n}};class Bge extends Au{constructor(e,n){super(e,n,Sge,fI,r=>r.id),this.core=e,this.logger=n}}class Fge extends Au{constructor(e,n){super(e,n,Nge,Kv,()=>ww),this.core=e,this.logger=n}}class zge extends Au{constructor(e,n){super(e,n,Pge,Kv),this.core=e,this.logger=n}}class qge extends Au{constructor(e,n){super(e,n,kge,Kv,r=>r.id),this.core=e,this.logger=n}}var Wge=Object.defineProperty,Hge=(t,e,n)=>e in t?Wge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g_=(t,e,n)=>Hge(t,typeof e!="symbol"?e+"":e,n);class Vge{constructor(e,n){this.core=e,this.logger=n,g_(this,"authKeys"),g_(this,"pairingTopics"),g_(this,"requests"),this.authKeys=new Fge(this.core,this.logger),this.pairingTopics=new zge(this.core,this.logger),this.requests=new qge(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Gge=Object.defineProperty,Kge=(t,e,n)=>e in t?Gge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rt=(t,e,n)=>Kge(t,typeof e!="symbol"?e+"":e,n);let Yge=class D4 extends ete{constructor(e){super(e),rt(this,"protocol",O4),rt(this,"version",R4),rt(this,"name",f_.name),rt(this,"metadata"),rt(this,"core"),rt(this,"logger"),rt(this,"events",new Zs.EventEmitter),rt(this,"engine"),rt(this,"session"),rt(this,"proposal"),rt(this,"pendingRequest"),rt(this,"auth"),rt(this,"signConfig"),rt(this,"on",(r,s)=>this.events.on(r,s)),rt(this,"once",(r,s)=>this.events.once(r,s)),rt(this,"off",(r,s)=>this.events.off(r,s)),rt(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),rt(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),rt(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),rt(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),rt(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),rt(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||f_.name,this.metadata=Yoe(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:cm(Oh({level:(e==null?void 0:e.logger)||f_.logger}));this.core=(e==null?void 0:e.core)||new bge(e),this.logger=mr(n,this.name),this.session=new Mge(this.core,this.logger),this.proposal=new Lge(this.core,this.logger),this.pendingRequest=new Bge(this.core,this.logger),this.engine=new Uge(this),this.auth=new Vge(this.core,this.logger)}static async init(e){const n=new D4(e);return await n.initialize(),n}get context(){return ss(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},ue.toMiliseconds(ue.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var Ax={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof on<"u"&&on,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof on<"u"&&on||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(A){return A&&DataView.prototype.isPrototypeOf(A)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(A){return A&&u.indexOf(Object.prototype.toString.call(A))>-1};function h(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function f(A){return typeof A!="string"&&(A=String(A)),A}function p(A){var I={next:function(){var D=A.shift();return{done:D===void 0,value:D}}};return c.iterable&&(I[Symbol.iterator]=function(){return I}),I}function g(A){this.map={},A instanceof g?A.forEach(function(I,D){this.append(D,I)},this):Array.isArray(A)?A.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(I){this.append(I,A[I])},this)}g.prototype.append=function(A,I){A=h(A),I=f(I);var D=this.map[A];this.map[A]=D?D+", "+I:I},g.prototype.delete=function(A){delete this.map[h(A)]},g.prototype.get=function(A){return A=h(A),this.has(A)?this.map[A]:null},g.prototype.has=function(A){return this.map.hasOwnProperty(h(A))},g.prototype.set=function(A,I){this.map[h(A)]=f(I)},g.prototype.forEach=function(A,I){for(var D in this.map)this.map.hasOwnProperty(D)&&A.call(I,this.map[D],D,this)},g.prototype.keys=function(){var A=[];return this.forEach(function(I,D){A.push(D)}),p(A)},g.prototype.values=function(){var A=[];return this.forEach(function(I){A.push(I)}),p(A)},g.prototype.entries=function(){var A=[];return this.forEach(function(I,D){A.push([D,I])}),p(A)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(A){if(!A._noBody){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}}function w(A){return new Promise(function(I,D){A.onload=function(){I(A.result)},A.onerror=function(){D(A.error)}})}function b(A){var I=new FileReader,D=w(I);return I.readAsArrayBuffer(A),D}function v(A){var I=new FileReader,D=w(I),N=/charset=([A-Za-z0-9_-]+)/.exec(A.type),k=N?N[1]:"utf-8";return I.readAsText(A,k),D}function E(A){for(var I=new Uint8Array(A),D=new Array(I.length),N=0;N<I.length;N++)D[N]=String.fromCharCode(I[N]);return D.join("")}function _(A){if(A.slice)return A.slice(0);var I=new Uint8Array(A.byteLength);return I.set(new Uint8Array(A)),I.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:c.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:c.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():c.arrayBuffer&&c.blob&&l(A)?(this._bodyArrayBuffer=_(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||d(A))?this._bodyArrayBuffer=_(A):this._bodyText=A=Object.prototype.toString.call(A):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var A=y(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=y(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var A=y(this);if(A)return A;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function T(A){var I=A.toUpperCase();return S.indexOf(I)>-1?I:A}function C(A,I){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var D=I.body;if(A instanceof C){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,I.headers||(this.headers=new g(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!D&&A._bodyInit!=null&&(D=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new g(I.headers)),this.method=T(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in a){var U=new AbortController;return U.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&D)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(D),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var N=/([?&])_=[^&]*/;if(N.test(this.url))this.url=this.url.replace(N,"$1_="+new Date().getTime());else{var k=/\?/;this.url+=(k.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function O(A){var I=new FormData;return A.trim().split("&").forEach(function(D){if(D){var N=D.split("="),k=N.shift().replace(/\+/g," "),U=N.join("=").replace(/\+/g," ");I.append(decodeURIComponent(k),decodeURIComponent(U))}}),I}function R(A){var I=new g,D=A.replace(/\r?\n[\t ]+/g," ");return D.split("\r").map(function(N){return N.indexOf(`
`)===0?N.substr(1,N.length):N}).forEach(function(N){var k=N.split(":"),U=k.shift().trim();if(U){var q=k.join(":").trim();try{I.append(U,q)}catch(Y){console.warn("Response "+Y.message)}}}),I}x.call(C.prototype);function B(A,I){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new g(I.headers),this.url=I.url||"",this._initBody(A)}x.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},B.error=function(){var A=new B(null,{status:200,statusText:""});return A.ok=!1,A.status=0,A.type="error",A};var W=[301,302,303,307,308];B.redirect=function(A,I){if(W.indexOf(I)===-1)throw new RangeError("Invalid status code");return new B(null,{status:I,headers:{location:A}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(I,D){this.message=I,this.name=D;var N=Error(I);this.stack=N.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function F(A,I){return new Promise(function(D,N){var k=new C(A,I);if(k.signal&&k.signal.aborted)return N(new o.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function q(){U.abort()}U.onload=function(){var Q={statusText:U.statusText,headers:R(U.getAllResponseHeaders()||"")};k.url.indexOf("file://")===0&&(U.status<200||U.status>599)?Q.status=200:Q.status=U.status,Q.url="responseURL"in U?U.responseURL:Q.headers.get("X-Request-URL");var ne="response"in U?U.response:U.responseText;setTimeout(function(){D(new B(ne,Q))},0)},U.onerror=function(){setTimeout(function(){N(new TypeError("Network request failed"))},0)},U.ontimeout=function(){setTimeout(function(){N(new TypeError("Network request timed out"))},0)},U.onabort=function(){setTimeout(function(){N(new o.DOMException("Aborted","AbortError"))},0)};function Y(Q){try{return Q===""&&a.location.href?a.location.href:Q}catch{return Q}}if(U.open(k.method,Y(k.url),!0),k.credentials==="include"?U.withCredentials=!0:k.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&(c.blob?U.responseType="blob":c.arrayBuffer&&(U.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof g||a.Headers&&I.headers instanceof a.Headers)){var ee=[];Object.getOwnPropertyNames(I.headers).forEach(function(Q){ee.push(h(Q)),U.setRequestHeader(Q,f(I.headers[Q]))}),k.headers.forEach(function(Q,ne){ee.indexOf(ne)===-1&&U.setRequestHeader(ne,Q)})}else k.headers.forEach(function(Q,ne){U.setRequestHeader(ne,Q)});k.signal&&(k.signal.addEventListener("abort",q),U.onreadystatechange=function(){U.readyState===4&&k.signal.removeEventListener("abort",q)}),U.send(typeof k._bodyInit>"u"?null:k._bodyInit)})}return F.polyfill=!0,a.fetch||(a.fetch=F,a.Headers=g,a.Request=C,a.Response=B),o.Headers=g,o.Request=C,o.Response=B,o.fetch=F,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(Ax,Ax.exports);var Qge=Ax.exports;const Fk=pu(Qge);var Jge=Object.defineProperty,Zge=Object.defineProperties,Xge=Object.getOwnPropertyDescriptors,zk=Object.getOwnPropertySymbols,eme=Object.prototype.hasOwnProperty,tme=Object.prototype.propertyIsEnumerable,qk=(t,e,n)=>e in t?Jge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wk=(t,e)=>{for(var n in e||(e={}))eme.call(e,n)&&qk(t,n,e[n]);if(zk)for(var n of zk(e))tme.call(e,n)&&qk(t,n,e[n]);return t},Hk=(t,e)=>Zge(t,Xge(e));const nme={Accept:"application/json","Content-Type":"application/json"},rme="POST",Vk={headers:nme,method:rme},Gk=10;let Di=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Zs.EventEmitter,this.isAvailable=!1,this.registering=!1,!uk(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=oa(e),r=await(await Fk(this.url,Hk(Wk({},Vk),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!uk(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=oa({id:1,jsonrpc:"2.0",method:"test",params:[]});await Fk(e,Hk(Wk({},Vk),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?iu(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=Hv(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return u4(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Gk&&this.events.setMaxListeners(Gk)}};const Kk="error",sme="wss://relay.walletconnect.org",ime="wc",ome="universal_provider",Ry=`${ime}@2:${ome}:`,j4="https://rpc.walletconnect.org/v1/",cd="generic",ame=`${j4}bundler`,ei={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function pI(t){return t==null||typeof t!="object"&&typeof t!="function"}function U4(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function L4(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const cme="[object RegExp]",M4="[object String]",B4="[object Number]",F4="[object Boolean]",z4="[object Arguments]",lme="[object Symbol]",ume="[object Date]",dme="[object Map]",hme="[object Set]",fme="[object Array]",pme="[object ArrayBuffer]",gme="[object Object]",mme="[object DataView]",yme="[object Uint8Array]",wme="[object Uint8ClampedArray]",vme="[object Uint16Array]",bme="[object Uint32Array]",_me="[object Int8Array]",Eme="[object Int16Array]",Cme="[object Int32Array]",xme="[object Float32Array]",Sme="[object Float64Array]";function gI(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ame(t,e){return Ad(t,void 0,t,new Map,e)}function Ad(t,e,n,r=new Map,s=void 0){const i=s==null?void 0:s(t,e,n,r);if(i!=null)return i;if(pI(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Ad(t[a],a,n,r,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,Ad(c,a,n,r,s));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Ad(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(gI(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Ad(t[a],a,n,r,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),ml(o,t,n,r,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),ml(o,t,n,r,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),ml(o,t,n,r,s),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,ml(o,t,n,r,s),o}if(typeof t=="object"&&Ime(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),ml(o,t,n,r,s),o}return t}function ml(t,e,n=t,r,s){const i=[...Object.keys(e),...U4(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Ad(e[a],a,n,r,s))}}function Ime(t){switch(L4(t)){case z4:case fme:case pme:case mme:case F4:case ume:case xme:case Sme:case _me:case Eme:case Cme:case dme:case B4:case gme:case cme:case hme:case M4:case lme:case yme:case wme:case vme:case bme:return!0;default:return!1}}function Tme(t,e){return Ame(t,(n,r,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case B4:case M4:case F4:{const o=new t.constructor(t==null?void 0:t.valueOf());return ml(o,t),o}case z4:{const o={};return ml(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function Yk(t){return Tme(t)}function Qk(t){return t!==null&&typeof t=="object"&&L4(t)==="[object Arguments]"}function Jk(t){return typeof t=="object"&&t!==null}function Nme(){}function Pme(t){return gI(t)}function kme(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ome(t){if(pI(t))return t;if(Array.isArray(t)||gI(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function Rme(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const o=n[i];s=Ix(s,o,r,new Map)}return s}function Ix(t,e,n,r){if(pI(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return Ome(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...U4(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(Qk(a)&&(a={...a}),Qk(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=Yk(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||Jk(c)&&Jk(a)?t[o]=Ix(c,a,n,r):c==null&&kme(a)?t[o]=Ix({},a,n,r):c==null&&Pme(a)?t[o]=Yk(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function $me(t,...e){return Rme(t,...e,Nme)}var Dme=Object.defineProperty,jme=Object.defineProperties,Ume=Object.getOwnPropertyDescriptors,Zk=Object.getOwnPropertySymbols,Lme=Object.prototype.hasOwnProperty,Mme=Object.prototype.propertyIsEnumerable,Xk=(t,e,n)=>e in t?Dme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$y=(t,e)=>{for(var n in e||(e={}))Lme.call(e,n)&&Xk(t,n,e[n]);if(Zk)for(var n of Zk(e))Mme.call(e,n)&&Xk(t,n,e[n]);return t},Bme=(t,e)=>jme(t,Ume(e));function Es(t,e,n){var r;const s=Ud(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${j4}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function Iu(t){return t.includes(":")?t.split(":")[1]:t}function q4(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Fme(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=e.namespaces[s].accounts;r.push(...i)}),r}function Dy(t={},e={}){const n=eO(t),r=eO(e);return $me(n,r)}function eO(t){var e,n,r,s,i;const o={};if(!Tc(t))return o;for(const[a,c]of Object.entries(t)){const l=qv(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=Sd(a);o[f]=Bme($y($y({},o[f]),c),{chains:uo(l,(e=o[f])==null?void 0:e.chains),methods:uo(u,(n=o[f])==null?void 0:n.methods),events:uo(d,(r=o[f])==null?void 0:r.events)}),(Tc(h)||Tc(((s=o[f])==null?void 0:s.rpcMap)||{}))&&(o[f].rpcMap=$y($y({},h),(i=o[f])==null?void 0:i.rpcMap))}return o}function tO(t){return t.includes(":")?t.split(":")[2]:t}function nO(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=qv(n)?[n]:r.chains?r.chains:q4(r.accounts);e[n]={chains:a,methods:s,events:i,accounts:o}}return e}function m_(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const W4={},pt=t=>W4[t],y_=(t,e)=>{W4[t]=e};var zme=Object.defineProperty,qme=(t,e,n)=>e in t?zme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hu=(t,e,n)=>qme(t,typeof e!="symbol"?e+"":e,n);class Wme{constructor(e){Hu(this,"name","polkadot"),Hu(this,"client"),Hu(this,"httpProviders"),Hu(this,"events"),Hu(this,"namespace"),Hu(this,"chainId"),this.namespace=e.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Iu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Es(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new Di(r,pt("disableProviderPing")))}}var Hme=Object.defineProperty,Vme=Object.defineProperties,Gme=Object.getOwnPropertyDescriptors,rO=Object.getOwnPropertySymbols,Kme=Object.prototype.hasOwnProperty,Yme=Object.prototype.propertyIsEnumerable,Tx=(t,e,n)=>e in t?Hme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sO=(t,e)=>{for(var n in e||(e={}))Kme.call(e,n)&&Tx(t,n,e[n]);if(rO)for(var n of rO(e))Yme.call(e,n)&&Tx(t,n,e[n]);return t},iO=(t,e)=>Vme(t,Gme(e)),Vu=(t,e,n)=>Tx(t,typeof e!="symbol"?e+"":e,n);class Qme{constructor(e){Vu(this,"name","eip155"),Vu(this,"client"),Vu(this,"chainId"),Vu(this,"namespace"),Vu(this,"httpProviders"),Vu(this,"events"),this.namespace=e.namespace,this.events=pt("events"),this.client=pt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Es(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new Di(r,pt("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(Iu(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s,i,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[],l=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((o=u==null?void 0:u.sessionProperties)==null?void 0:o.capabilities)||{};if(d!=null&&d[l])return d==null?void 0:d[l];const h=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:iO(sO({},u.sessionProperties||{}),{capabilities:iO(sO({},d||{}),{[l]:h})})})}catch(f){console.warn("Failed to update session with capabilities",f)}return h}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const a=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(hc("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,n){return`${ame}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var Jme=Object.defineProperty,Zme=(t,e,n)=>e in t?Jme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gu=(t,e,n)=>Zme(t,typeof e!="symbol"?e+"":e,n);class Xme{constructor(e){Gu(this,"name","solana"),Gu(this,"client"),Gu(this,"httpProviders"),Gu(this,"events"),Gu(this,"namespace"),Gu(this,"chainId"),this.namespace=e.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Iu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Es(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new Di(r,pt("disableProviderPing")))}}var eye=Object.defineProperty,tye=(t,e,n)=>e in t?eye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ku=(t,e,n)=>tye(t,typeof e!="symbol"?e+"":e,n);class nye{constructor(e){Ku(this,"name","cosmos"),Ku(this,"client"),Ku(this,"httpProviders"),Ku(this,"events"),Ku(this,"namespace"),Ku(this,"chainId"),this.namespace=e.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Iu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Es(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new Di(r,pt("disableProviderPing")))}}var rye=Object.defineProperty,sye=(t,e,n)=>e in t?rye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yu=(t,e,n)=>sye(t,typeof e!="symbol"?e+"":e,n);class iye{constructor(e){Yu(this,"name","algorand"),Yu(this,"client"),Yu(this,"httpProviders"),Yu(this,"events"),Yu(this,"namespace"),Yu(this,"chainId"),this.namespace=e.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Es(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Es(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Xs(new Di(r,pt("disableProviderPing")))}}var oye=Object.defineProperty,aye=(t,e,n)=>e in t?oye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qu=(t,e,n)=>aye(t,typeof e!="symbol"?e+"":e,n);class cye{constructor(e){Qu(this,"name","cip34"),Qu(this,"client"),Qu(this,"httpProviders"),Qu(this,"events"),Qu(this,"namespace"),Qu(this,"chainId"),this.namespace=e.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=Iu(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new Di(r,pt("disableProviderPing")))}}var lye=Object.defineProperty,uye=(t,e,n)=>e in t?lye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ju=(t,e,n)=>uye(t,typeof e!="symbol"?e+"":e,n);class dye{constructor(e){Ju(this,"name","elrond"),Ju(this,"client"),Ju(this,"httpProviders"),Ju(this,"events"),Ju(this,"namespace"),Ju(this,"chainId"),this.namespace=e.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Iu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Es(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new Di(r,pt("disableProviderPing")))}}var hye=Object.defineProperty,fye=(t,e,n)=>e in t?hye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zu=(t,e,n)=>fye(t,typeof e!="symbol"?e+"":e,n);class pye{constructor(e){Zu(this,"name","multiversx"),Zu(this,"client"),Zu(this,"httpProviders"),Zu(this,"events"),Zu(this,"namespace"),Zu(this,"chainId"),this.namespace=e.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Iu(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Es(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new Di(r,pt("disableProviderPing")))}}var gye=Object.defineProperty,mye=(t,e,n)=>e in t?gye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xu=(t,e,n)=>mye(t,typeof e!="symbol"?e+"":e,n);class yye{constructor(e){Xu(this,"name","near"),Xu(this,"client"),Xu(this,"httpProviders"),Xu(this,"events"),Xu(this,"namespace"),Xu(this,"chainId"),this.namespace=e.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Es(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Es(e,this.namespace);return typeof r>"u"?void 0:new Xs(new Di(r,pt("disableProviderPing")))}}var wye=Object.defineProperty,vye=(t,e,n)=>e in t?wye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ed=(t,e,n)=>vye(t,typeof e!="symbol"?e+"":e,n);class bye{constructor(e){ed(this,"name","tezos"),ed(this,"client"),ed(this,"httpProviders"),ed(this,"events"),ed(this,"namespace"),ed(this,"chainId"),this.namespace=e.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Es(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Es(e,this.namespace);return typeof r>"u"?void 0:new Xs(new Di(r))}}var _ye=Object.defineProperty,Eye=(t,e,n)=>e in t?_ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,td=(t,e,n)=>Eye(t,typeof e!="symbol"?e+"":e,n);class Cye{constructor(e){td(this,"name",cd),td(this,"client"),td(this,"httpProviders"),td(this,"events"),td(this,"namespace"),td(this,"chainId"),this.namespace=e.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ei.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const i=Ud(s);r[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Es(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new Di(r,pt("disableProviderPing")))}}var xye=Object.defineProperty,Sye=Object.defineProperties,Aye=Object.getOwnPropertyDescriptors,oO=Object.getOwnPropertySymbols,Iye=Object.prototype.hasOwnProperty,Tye=Object.prototype.propertyIsEnumerable,Nx=(t,e,n)=>e in t?xye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jy=(t,e)=>{for(var n in e||(e={}))Iye.call(e,n)&&Nx(t,n,e[n]);if(oO)for(var n of oO(e))Tye.call(e,n)&&Nx(t,n,e[n]);return t},w_=(t,e)=>Sye(t,Aye(e)),Rs=(t,e,n)=>Nx(t,typeof e!="symbol"?e+"":e,n);let Nye=class H4{constructor(e){Rs(this,"client"),Rs(this,"namespaces"),Rs(this,"optionalNamespaces"),Rs(this,"sessionProperties"),Rs(this,"scopedProperties"),Rs(this,"events",new $A),Rs(this,"rpcProviders",{}),Rs(this,"session"),Rs(this,"providerOpts"),Rs(this,"logger"),Rs(this,"uri"),Rs(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:cm(Oh({level:(e==null?void 0:e.logger)||Kk})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new H4(e);return await n.initialize(),n}async request(e,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:jy({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const i=new Date().getTime();this.request(e,r,s).then(o=>n(null,Wv(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Vt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=nO(this.session.namespaces);this.namespaces=Dy(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=nO(s.namespaces);return this.namespaces=Dy(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),i=this.getProvider(r);i.name===cd?i.setDefaultChain(`${r}:${s}`,n):i.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(Qo(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await Yge.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Kk,relayUrl:this.providerOpts.relayUrl||sme,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Sd(n)))];y_("client",this.client),y_("events",this.events),y_("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=Fme(n,this.session),s=q4(r),i=Dy(this.namespaces,this.optionalNamespaces),o=w_(jy({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new Qme({namespace:o});break;case"algorand":this.rpcProviders[n]=new iye({namespace:o});break;case"solana":this.rpcProviders[n]=new Xme({namespace:o});break;case"cosmos":this.rpcProviders[n]=new nye({namespace:o});break;case"polkadot":this.rpcProviders[n]=new Wme({namespace:o});break;case"cip34":this.rpcProviders[n]=new cye({namespace:o});break;case"elrond":this.rpcProviders[n]=new dye({namespace:o});break;case"multiversx":this.rpcProviders[n]=new pye({namespace:o});break;case"near":this.rpcProviders[n]=new yye({namespace:o});break;case"tezos":this.rpcProviders[n]=new bye({namespace:o});break;default:this.rpcProviders[cd]?this.rpcProviders[cd].updateNamespace(o):this.rpcProviders[cd]=new Cye({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&Qo(o)&&this.events.emit("accountsChanged",o.map(tO))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=Sd(o),l=m_(o)!==m_(a)?`${c}:${m_(a)}`:o;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(e);this.session=w_(jy({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",w_(jy({},Vt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(ei.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[cd]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=Dy(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>Sd(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=Sd(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const i=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(tO);if(!Qo(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Ry}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Ry}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Ry}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Ry)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const fp={getSIWX(){return ie.state.siwx},async initializeIfEnabled(){var i;const t=ie.state.siwx,e=$.getActiveCaipAddress();if(!(t&&e))return;const[n,r,s]=e.split(":");if($.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,s)).length)return;await yt.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),Et.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((i=Ee._getClient())==null?void 0:i.disconnect().catch(console.error)),De.reset("Connect"),Ei.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=ie.state.siwx,e=Ae.getPlainAddress($.getActiveCaipAddress()),n=$.getActiveCaipNetwork(),r=Ee._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=s.toString();pe.getConnectorId(n.chainNamespace)===te.CONNECTOR_ID.AUTH&&De.pushTransactionStack({});const a=await r.signMessage(i);await t.addSession({data:s,message:i,signature:a}),$.setLastConnectedSIWECaipNetwork(n),yt.close(),Et.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!yt.state.open||De.state.view==="ApproveTransaction")&&await yt.open({view:"SIWXSignMessage"}),i.isSmartAccount?Ei.showError("This application might not support Smart Accounts"):Ei.showError("Signature declined"),Et.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();if((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e)){const r=$.getLastConnectedSIWECaipNetwork();r?$.switchActiveNetwork(r):await Ee.disconnect()}else yt.close();De.reset("Connect"),Et.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const t=this.getSIWX(),e=$.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const s=await(t==null?void 0:t.getSessions(r.caipNetworkId,Ae.getPlainAddress($.getActiveCaipAddress())||""));s&&n.push(...s)})),n},async getSessions(){const t=ie.state.siwx,e=Ae.getPlainAddress($.getActiveCaipAddress()),n=$.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=De.state.view==="ApproveTransaction",r=De.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=fp.getSIWX(),s=new Set(e.map(u=>u.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const i=await r.createMessage({chainId:((a=$.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...e.filter(u=>u!==i.chainId)]});if(Ei.showLoading("Authenticating...",{autoClose:!1}),he.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(d=>{const h=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||i.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:h,signature:d.s.s,cacao:d}});try{await r.setSessions(u),Et.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:fp.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),Et.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:fp.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{Ei.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=$.state.activeChain;return{network:((e=$.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=he.state.preferredAccountTypes)==null?void 0:n[t])===$n.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},zt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},fc={ConnectorExplorerIds:{[te.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[te.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[te.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[te.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[te.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[zt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[zt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[zt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[zt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[zt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[zt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[zt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[zt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[zt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[zt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[zt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[te.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[te.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[te.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[te.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[te.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[te.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[te.CONNECTOR_ID.INJECTED]:"Browser Wallet",[te.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[te.CONNECTOR_ID.COINBASE]:"Coinbase",[te.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[te.CONNECTOR_ID.LEDGER]:"Ledger",[te.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[te.CONNECTOR_ID.INJECTED]:"INJECTED",[te.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[te.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[te.CONNECTOR_ID.AUTH]:"AUTH"}},Cg={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${zt.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){const t=$.state.activeChain;return te.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>pe.getConnectorId(e)===te.CONNECTOR_ID.AUTH&&e===t)}},Pye=new AbortController,Yt={EmbeddedWalletAbortController:Pye,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${kye()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"},SERVER_ERROR_APP_CONFIGURATION:{shortMessage:"Server Error",longMessage:t=>`Failed to get App Configuration ${t||""}`},RATE_LIMITED_APP_CONFIGURATION:{shortMessage:"Rate Limited",longMessage:"Rate limited when trying to get the App Configuration"}}};function kye(){return typeof window<"u"}const Oye={createLogger(t,e="error"){const n=Oh({level:e}),{logger:r}=jA({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},r}},Rye="rpc.walletconnect.org";function aO(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const v_=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],so={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===Rye}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:te.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${te.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,i,o;const r=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return v_.includes(e)?aO(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var h,f,p,g,y;const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(h=t.rpcUrls.default.http)==null?void 0:h[0],a=this.getDefaultRpcUrl(t,i,n),c=((g=(p=(f=t==null?void 0:t.rpcUrls)==null?void 0:f.chainDefault)==null?void 0:p.http)==null?void 0:g[0])||o,l=((y=r==null?void 0:r[i])==null?void 0:y.map(w=>w.url))||[],u=[...l,a],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:fc.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>so.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,i,o;const r=[];return n==null||n.forEach(a=>{r.push(ry(a.url,a.config))}),v_.includes(t.caipNetworkId)&&r.push(ry(aO(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{r.push(ry(a))}),aT(r)},extendWagmiTransports(t,e,n){if(v_.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return aT([n,ry(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:te.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=fe.getActiveCaipNetworkId(),n=$.getAllRequestedCaipNetworks(),r=Array.from(((c=$.state.chains)==null?void 0:c.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?r.includes(s):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},E0={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},Lr=Ut({providers:{...E0},providerIds:{...E0}}),It={state:Lr,subscribeKey(t,e){return Yn(Lr,t,e)},subscribe(t){return Kn(Lr,()=>{t(Lr)})},subscribeProviders(t){return Kn(Lr.providers,()=>t(Lr.providers))},setProvider(t,e){e&&(Lr.providers[t]=ru(e))},getProvider(t){return Lr.providers[t]},setProviderId(t,e){e&&(Lr.providerIds[t]=e)},getProviderId(t){if(t)return Lr.providerIds[t]},reset(){Lr.providers={...E0},Lr.providerIds={...E0}},resetChain(t){Lr.providers[t]=void 0,Lr.providerIds[t]=void 0}},cO={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},zn={set(t,e){gs.isClient&&localStorage.setItem(`${xe.STORAGE_KEY}${t}`,e)},get(t){return gs.isClient?localStorage.getItem(`${xe.STORAGE_KEY}${t}`):null},delete(t,e){gs.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${xe.STORAGE_KEY}${t}`))}},Uy=30*1e3,gs={checkIfAllowedToTriggerEmail(){const t=zn.get(xe.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Uy){const n=Math.ceil((Uy-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=zn.get(xe.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Uy)return Math.ceil((Uy-e)/1e3)}return 0},checkIfRequestExists(t){return $n.NOT_SAFE_RPC_METHODS.includes(t.method)||$n.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(cO.transactionHash))||(t==null?void 0:t.match(cO.signedMessage)))?xe.RPC_RESPONSE_TYPE_TX:xe.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return $n.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var ft;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ft||(ft={}));var Px;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Px||(Px={}));const ve=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ka=t=>{switch(typeof t){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return isNaN(t)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(t)?ve.array:t===null?ve.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ve.promise:typeof Map<"u"&&t instanceof Map?ve.map:typeof Set<"u"&&t instanceof Set?ve.set:typeof Date<"u"&&t instanceof Date?ve.date:ve.object;default:return ve.unknown}},ce=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),$ye=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ti extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ti.create=t=>new Ti(t);const xg=(t,e)=>{let n;switch(t.code){case ce.invalid_type:t.received===ve.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ce.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ft.jsonStringifyReplacer)}`;break;case ce.unrecognized_keys:n=`Unrecognized key(s) in object: ${ft.joinValues(t.keys,", ")}`;break;case ce.invalid_union:n="Invalid input";break;case ce.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ft.joinValues(t.options)}`;break;case ce.invalid_enum_value:n=`Invalid enum value. Expected ${ft.joinValues(t.options)}, received '${t.received}'`;break;case ce.invalid_arguments:n="Invalid function arguments";break;case ce.invalid_return_type:n="Invalid function return type";break;case ce.invalid_date:n="Invalid date";break;case ce.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ft.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ce.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ce.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ce.custom:n="Invalid input";break;case ce.invalid_intersection_types:n="Intersection results could not be merged";break;case ce.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ce.not_finite:n="Number must be finite";break;default:n=e.defaultError,ft.assertNever(t)}return{message:n}};let V4=xg;function Dye(t){V4=t}function C0(){return V4}const x0=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},jye=[];function Ce(t,e){const n=x0({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,C0(),xg].filter(r=>!!r)});t.common.issues.push(n)}class gr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ze;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return gr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ze;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const ze=Object.freeze({status:"aborted"}),G4=t=>({status:"dirty",value:t}),Tr=t=>({status:"valid",value:t}),kx=t=>t.status==="aborted",Ox=t=>t.status==="dirty",Sg=t=>t.status==="valid",S0=t=>typeof Promise<"u"&&t instanceof Promise;var Ne;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ne||(Ne={}));class go{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const lO=(t,e)=>{if(Sg(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ti(t.common.issues);return this._error=n,this._error}}};function Ye(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class Ze{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ka(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ka(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gr,ctx:{common:e.parent.common,data:e.data,parsedType:Ka(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(S0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ka(e)},i=this._parseSync({data:e,path:s.path,parent:s});return lO(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ka(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(S0(s)?s:Promise.resolve(s));return lO(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:ce.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Oi({schema:this,typeName:Ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Jo.create(this,this._def)}nullable(){return hu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ni.create(this,this._def)}promise(){return yh.create(this,this._def)}or(e){return Ng.create([this,e],this._def)}and(e){return Pg.create(this,e,this._def)}transform(e){return new Oi({...Ye(this._def),schema:this,typeName:Ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Dg({...Ye(this._def),innerType:this,defaultValue:n,typeName:Ue.ZodDefault})}brand(){return new Y4({typeName:Ue.ZodBranded,type:this,...Ye(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new N0({...Ye(this._def),innerType:this,catchValue:n,typeName:Ue.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ym.create(this,e)}readonly(){return k0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Uye=/^c[^\s-]{8,}$/i,Lye=/^[a-z][a-z0-9]*$/,Mye=/^[0-9A-HJKMNP-TV-Z]{26}$/,Bye=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Fye=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,zye="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let b_;const qye=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Wye=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Hye=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Vye(t,e){return!!((e==="v4"||!e)&&qye.test(t)||(e==="v6"||!e)&&Wye.test(t))}class xi extends Ze{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ve.string){const i=this._getOrReturnCtx(e);return Ce(i,{code:ce.invalid_type,expected:ve.string,received:i.parsedType}),ze}const r=new gr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Ce(s,{code:ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Ce(s,{code:ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Ce(s,{code:ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Ce(s,{code:ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Fye.test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"email",code:ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")b_||(b_=new RegExp(zye,"u")),b_.test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"emoji",code:ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Bye.test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"uuid",code:ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Uye.test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"cuid",code:ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Lye.test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"cuid2",code:ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Mye.test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"ulid",code:ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ce(s,{validation:"url",code:ce.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"regex",code:ce.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Ce(s,{code:ce.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ce(s,{code:ce.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ce(s,{code:ce.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Hye(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{code:ce.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?Vye(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"ip",code:ce.invalid_string,message:i.message}),r.dirty()):ft.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:ce.invalid_string,...Ne.errToObj(r)})}_addCheck(e){return new xi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ne.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ne.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ne.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ne.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ne.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ne.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ne.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ne.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Ne.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ne.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ne.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ne.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ne.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ne.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ne.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ne.errToObj(n)})}nonempty(e){return this.min(1,Ne.errToObj(e))}trim(){return new xi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}xi.create=t=>{var e;return new xi({checks:[],typeName:Ue.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ye(t)})};function Gye(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Bc extends Ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ve.number){const i=this._getOrReturnCtx(e);return Ce(i,{code:ce.invalid_type,expected:ve.number,received:i.parsedType}),ze}let r;const s=new gr;for(const i of this._def.checks)i.kind==="int"?ft.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{code:ce.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:ce.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:ce.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Gye(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:ce.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{code:ce.not_finite,message:i.message}),s.dirty()):ft.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,s){return new Bc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(s)}]})}_addCheck(e){return new Bc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ne.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ne.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ft.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Bc.create=t=>new Bc({checks:[],typeName:Ue.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ye(t)});class Fc extends Ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ve.bigint){const i=this._getOrReturnCtx(e);return Ce(i,{code:ce.invalid_type,expected:ve.bigint,received:i.parsedType}),ze}let r;const s=new gr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:ce.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:ce.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:ce.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ft.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,s){return new Fc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(s)}]})}_addCheck(e){return new Fc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Fc.create=t=>{var e;return new Fc({checks:[],typeName:Ue.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ye(t)})};class Ag extends Ze{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ve.boolean){const r=this._getOrReturnCtx(e);return Ce(r,{code:ce.invalid_type,expected:ve.boolean,received:r.parsedType}),ze}return Tr(e.data)}}Ag.create=t=>new Ag({typeName:Ue.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ye(t)});class uu extends Ze{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ve.date){const i=this._getOrReturnCtx(e);return Ce(i,{code:ce.invalid_type,expected:ve.date,received:i.parsedType}),ze}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ce(i,{code:ce.invalid_date}),ze}const r=new gr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Ce(s,{code:ce.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Ce(s,{code:ce.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ft.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new uu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ne.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ne.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}uu.create=t=>new uu({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ue.ZodDate,...Ye(t)});class A0 extends Ze{_parse(e){if(this._getType(e)!==ve.symbol){const r=this._getOrReturnCtx(e);return Ce(r,{code:ce.invalid_type,expected:ve.symbol,received:r.parsedType}),ze}return Tr(e.data)}}A0.create=t=>new A0({typeName:Ue.ZodSymbol,...Ye(t)});class Ig extends Ze{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return Ce(r,{code:ce.invalid_type,expected:ve.undefined,received:r.parsedType}),ze}return Tr(e.data)}}Ig.create=t=>new Ig({typeName:Ue.ZodUndefined,...Ye(t)});class Tg extends Ze{_parse(e){if(this._getType(e)!==ve.null){const r=this._getOrReturnCtx(e);return Ce(r,{code:ce.invalid_type,expected:ve.null,received:r.parsedType}),ze}return Tr(e.data)}}Tg.create=t=>new Tg({typeName:Ue.ZodNull,...Ye(t)});class mh extends Ze{constructor(){super(...arguments),this._any=!0}_parse(e){return Tr(e.data)}}mh.create=t=>new mh({typeName:Ue.ZodAny,...Ye(t)});class zl extends Ze{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Tr(e.data)}}zl.create=t=>new zl({typeName:Ue.ZodUnknown,...Ye(t)});class ca extends Ze{_parse(e){const n=this._getOrReturnCtx(e);return Ce(n,{code:ce.invalid_type,expected:ve.never,received:n.parsedType}),ze}}ca.create=t=>new ca({typeName:Ue.ZodNever,...Ye(t)});class I0 extends Ze{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return Ce(r,{code:ce.invalid_type,expected:ve.void,received:r.parsedType}),ze}return Tr(e.data)}}I0.create=t=>new I0({typeName:Ue.ZodVoid,...Ye(t)});class Ni extends Ze{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ve.array)return Ce(n,{code:ce.invalid_type,expected:ve.array,received:n.parsedType}),ze;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Ce(n,{code:o?ce.too_big:ce.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ce(n,{code:ce.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ce(n,{code:ce.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new go(n,o,n.path,a)))).then(o=>gr.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new go(n,o,n.path,a)));return gr.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Ni({...this._def,minLength:{value:e,message:Ne.toString(n)}})}max(e,n){return new Ni({...this._def,maxLength:{value:e,message:Ne.toString(n)}})}length(e,n){return new Ni({...this._def,exactLength:{value:e,message:Ne.toString(n)}})}nonempty(e){return this.min(1,e)}}Ni.create=(t,e)=>new Ni({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ue.ZodArray,...Ye(e)});function ld(t){if(t instanceof Qt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Jo.create(ld(r))}return new Qt({...t._def,shape:()=>e})}else return t instanceof Ni?new Ni({...t._def,type:ld(t.element)}):t instanceof Jo?Jo.create(ld(t.unwrap())):t instanceof hu?hu.create(ld(t.unwrap())):t instanceof mo?mo.create(t.items.map(e=>ld(e))):t}class Qt extends Ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ft.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ve.object){const l=this._getOrReturnCtx(e);return Ce(l,{code:ce.invalid_type,expected:ve.object,received:l.parsedType}),ze}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ca&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new go(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof ca){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(Ce(s,{code:ce.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new go(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>gr.mergeObjectSync(r,l)):gr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ne.errToObj,new Qt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Ne.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Qt({...this._def,unknownKeys:"strip"})}passthrough(){return new Qt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Qt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Qt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ue.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Qt({...this._def,catchall:e})}pick(e){const n={};return ft.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Qt({...this._def,shape:()=>n})}omit(e){const n={};return ft.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Qt({...this._def,shape:()=>n})}deepPartial(){return ld(this)}partial(e){const n={};return ft.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Qt({...this._def,shape:()=>n})}required(e){const n={};return ft.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Jo;)i=i._def.innerType;n[r]=i}}),new Qt({...this._def,shape:()=>n})}keyof(){return K4(ft.objectKeys(this.shape))}}Qt.create=(t,e)=>new Qt({shape:()=>t,unknownKeys:"strip",catchall:ca.create(),typeName:Ue.ZodObject,...Ye(e)});Qt.strictCreate=(t,e)=>new Qt({shape:()=>t,unknownKeys:"strict",catchall:ca.create(),typeName:Ue.ZodObject,...Ye(e)});Qt.lazycreate=(t,e)=>new Qt({shape:t,unknownKeys:"strip",catchall:ca.create(),typeName:Ue.ZodObject,...Ye(e)});class Ng extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Ti(a.ctx.common.issues));return Ce(n,{code:ce.invalid_union,unionErrors:o}),ze}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new Ti(c));return Ce(n,{code:ce.invalid_union,unionErrors:a}),ze}}get options(){return this._def.options}}Ng.create=(t,e)=>new Ng({options:t,typeName:Ue.ZodUnion,...Ye(e)});const vw=t=>t instanceof Og?vw(t.schema):t instanceof Oi?vw(t.innerType()):t instanceof Rg?[t.value]:t instanceof zc?t.options:t instanceof $g?Object.keys(t.enum):t instanceof Dg?vw(t._def.innerType):t instanceof Ig?[void 0]:t instanceof Tg?[null]:null;class Yv extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.object)return Ce(n,{code:ce.invalid_type,expected:ve.object,received:n.parsedType}),ze;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Ce(n,{code:ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ze)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=vw(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Yv({typeName:Ue.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ye(r)})}}function Rx(t,e){const n=Ka(t),r=Ka(e);if(t===e)return{valid:!0,data:t};if(n===ve.object&&r===ve.object){const s=ft.objectKeys(e),i=ft.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=Rx(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===ve.array&&r===ve.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=Rx(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===ve.date&&r===ve.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Pg extends Ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(kx(i)||kx(o))return ze;const a=Rx(i.value,o.value);return a.valid?((Ox(i)||Ox(o))&&n.dirty(),{status:n.value,value:a.data}):(Ce(r,{code:ce.invalid_intersection_types}),ze)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Pg.create=(t,e,n)=>new Pg({left:t,right:e,typeName:Ue.ZodIntersection,...Ye(n)});class mo extends Ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.array)return Ce(r,{code:ce.invalid_type,expected:ve.array,received:r.parsedType}),ze;if(r.data.length<this._def.items.length)return Ce(r,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ze;!this._def.rest&&r.data.length>this._def.items.length&&(Ce(r,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new go(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>gr.mergeArray(n,o)):gr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new mo({...this._def,rest:e})}}mo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new mo({items:t,typeName:Ue.ZodTuple,rest:null,...Ye(e)})};class kg extends Ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.object)return Ce(r,{code:ce.invalid_type,expected:ve.object,received:r.parsedType}),ze;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new go(r,a,r.path,a)),value:o._parse(new go(r,r.data[a],r.path,a))});return r.common.async?gr.mergeObjectAsync(n,s):gr.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ze?new kg({keyType:e,valueType:n,typeName:Ue.ZodRecord,...Ye(r)}):new kg({keyType:xi.create(),valueType:e,typeName:Ue.ZodRecord,...Ye(n)})}}class T0 extends Ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.map)return Ce(r,{code:ce.invalid_type,expected:ve.map,received:r.parsedType}),ze;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new go(r,a,r.path,[l,"key"])),value:i._parse(new go(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return ze;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return ze;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}T0.create=(t,e,n)=>new T0({valueType:e,keyType:t,typeName:Ue.ZodMap,...Ye(n)});class du extends Ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.set)return Ce(r,{code:ce.invalid_type,expected:ve.set,received:r.parsedType}),ze;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ce(r,{code:ce.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ce(r,{code:ce.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return ze;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new go(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new du({...this._def,minSize:{value:e,message:Ne.toString(n)}})}max(e,n){return new du({...this._def,maxSize:{value:e,message:Ne.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}du.create=(t,e)=>new du({valueType:t,minSize:null,maxSize:null,typeName:Ue.ZodSet,...Ye(e)});class Ld extends Ze{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.function)return Ce(n,{code:ce.invalid_type,expected:ve.function,received:n.parsedType}),ze;function r(a,c){return x0({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,C0(),xg].filter(l=>!!l),issueData:{code:ce.invalid_arguments,argumentsError:c}})}function s(a,c){return x0({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,C0(),xg].filter(l=>!!l),issueData:{code:ce.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof yh){const a=this;return Tr(async function(...c){const l=new Ti([]),u=await a._def.args.parseAsync(c,i).catch(f=>{throw l.addIssue(r(c,f)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(f=>{throw l.addIssue(s(d,f)),l})})}else{const a=this;return Tr(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new Ti([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new Ti([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ld({...this._def,args:mo.create(e).rest(zl.create())})}returns(e){return new Ld({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ld({args:e||mo.create([]).rest(zl.create()),returns:n||zl.create(),typeName:Ue.ZodFunction,...Ye(r)})}}class Og extends Ze{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Og.create=(t,e)=>new Og({getter:t,typeName:Ue.ZodLazy,...Ye(e)});class Rg extends Ze{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ce(n,{received:n.data,code:ce.invalid_literal,expected:this._def.value}),ze}return{status:"valid",value:e.data}}get value(){return this._def.value}}Rg.create=(t,e)=>new Rg({value:t,typeName:Ue.ZodLiteral,...Ye(e)});function K4(t,e){return new zc({values:t,typeName:Ue.ZodEnum,...Ye(e)})}class zc extends Ze{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ce(n,{expected:ft.joinValues(r),received:n.parsedType,code:ce.invalid_type}),ze}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Ce(n,{received:n.data,code:ce.invalid_enum_value,options:r}),ze}return Tr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return zc.create(e)}exclude(e){return zc.create(this.options.filter(n=>!e.includes(n)))}}zc.create=K4;class $g extends Ze{_parse(e){const n=ft.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ve.string&&r.parsedType!==ve.number){const s=ft.objectValues(n);return Ce(r,{expected:ft.joinValues(s),received:r.parsedType,code:ce.invalid_type}),ze}if(n.indexOf(e.data)===-1){const s=ft.objectValues(n);return Ce(r,{received:r.data,code:ce.invalid_enum_value,options:s}),ze}return Tr(e.data)}get enum(){return this._def.values}}$g.create=(t,e)=>new $g({values:t,typeName:Ue.ZodNativeEnum,...Ye(e)});class yh extends Ze{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.promise&&n.common.async===!1)return Ce(n,{code:ce.invalid_type,expected:ve.promise,received:n.parsedType}),ze;const r=n.parsedType===ve.promise?n.data:Promise.resolve(n.data);return Tr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}yh.create=(t,e)=>new yh({type:t,typeName:Ue.ZodPromise,...Ye(e)});class Oi extends Ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Ce(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ze:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ze:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Sg(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Sg(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);ft.assertNever(s)}}Oi.create=(t,e,n)=>new Oi({schema:t,typeName:Ue.ZodEffects,effect:e,...Ye(n)});Oi.createWithPreprocess=(t,e,n)=>new Oi({schema:e,effect:{type:"preprocess",transform:t},typeName:Ue.ZodEffects,...Ye(n)});class Jo extends Ze{_parse(e){return this._getType(e)===ve.undefined?Tr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Jo.create=(t,e)=>new Jo({innerType:t,typeName:Ue.ZodOptional,...Ye(e)});class hu extends Ze{_parse(e){return this._getType(e)===ve.null?Tr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hu.create=(t,e)=>new hu({innerType:t,typeName:Ue.ZodNullable,...Ye(e)});class Dg extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ve.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Dg.create=(t,e)=>new Dg({innerType:t,typeName:Ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ye(e)});class N0 extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return S0(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ti(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ti(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}N0.create=(t,e)=>new N0({innerType:t,typeName:Ue.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ye(e)});class P0 extends Ze{_parse(e){if(this._getType(e)!==ve.nan){const r=this._getOrReturnCtx(e);return Ce(r,{code:ce.invalid_type,expected:ve.nan,received:r.parsedType}),ze}return{status:"valid",value:e.data}}}P0.create=t=>new P0({typeName:Ue.ZodNaN,...Ye(t)});const Kye=Symbol("zod_brand");class Y4 extends Ze{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ym extends Ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ze:i.status==="dirty"?(n.dirty(),G4(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ze:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new ym({in:e,out:n,typeName:Ue.ZodPipeline})}}class k0 extends Ze{_parse(e){const n=this._def.innerType._parse(e);return Sg(n)&&(n.value=Object.freeze(n.value)),n}}k0.create=(t,e)=>new k0({innerType:t,typeName:Ue.ZodReadonly,...Ye(e)});const Q4=(t,e={},n)=>t?mh.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):mh.create(),Yye={object:Qt.lazycreate};var Ue;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ue||(Ue={}));const Qye=(t,e={message:`Input not instance of ${t.name}`})=>Q4(n=>n instanceof t,e),J4=xi.create,Z4=Bc.create,Jye=P0.create,Zye=Fc.create,X4=Ag.create,Xye=uu.create,ewe=A0.create,twe=Ig.create,nwe=Tg.create,rwe=mh.create,swe=zl.create,iwe=ca.create,owe=I0.create,awe=Ni.create,cwe=Qt.create,lwe=Qt.strictCreate,uwe=Ng.create,dwe=Yv.create,hwe=Pg.create,fwe=mo.create,pwe=kg.create,gwe=T0.create,mwe=du.create,ywe=Ld.create,wwe=Og.create,vwe=Rg.create,bwe=zc.create,_we=$g.create,Ewe=yh.create,uO=Oi.create,Cwe=Jo.create,xwe=hu.create,Swe=Oi.createWithPreprocess,Awe=ym.create,Iwe=()=>J4().optional(),Twe=()=>Z4().optional(),Nwe=()=>X4().optional(),Pwe={string:t=>xi.create({...t,coerce:!0}),number:t=>Bc.create({...t,coerce:!0}),boolean:t=>Ag.create({...t,coerce:!0}),bigint:t=>Fc.create({...t,coerce:!0}),date:t=>uu.create({...t,coerce:!0})},kwe=ze;var P=Object.freeze({__proto__:null,defaultErrorMap:xg,setErrorMap:Dye,getErrorMap:C0,makeIssue:x0,EMPTY_PATH:jye,addIssueToContext:Ce,ParseStatus:gr,INVALID:ze,DIRTY:G4,OK:Tr,isAborted:kx,isDirty:Ox,isValid:Sg,isAsync:S0,get util(){return ft},get objectUtil(){return Px},ZodParsedType:ve,getParsedType:Ka,ZodType:Ze,ZodString:xi,ZodNumber:Bc,ZodBigInt:Fc,ZodBoolean:Ag,ZodDate:uu,ZodSymbol:A0,ZodUndefined:Ig,ZodNull:Tg,ZodAny:mh,ZodUnknown:zl,ZodNever:ca,ZodVoid:I0,ZodArray:Ni,ZodObject:Qt,ZodUnion:Ng,ZodDiscriminatedUnion:Yv,ZodIntersection:Pg,ZodTuple:mo,ZodRecord:kg,ZodMap:T0,ZodSet:du,ZodFunction:Ld,ZodLazy:Og,ZodLiteral:Rg,ZodEnum:zc,ZodNativeEnum:$g,ZodPromise:yh,ZodEffects:Oi,ZodTransformer:Oi,ZodOptional:Jo,ZodNullable:hu,ZodDefault:Dg,ZodCatch:N0,ZodNaN:P0,BRAND:Kye,ZodBranded:Y4,ZodPipeline:ym,ZodReadonly:k0,custom:Q4,Schema:Ze,ZodSchema:Ze,late:Yye,get ZodFirstPartyTypeKind(){return Ue},coerce:Pwe,any:rwe,array:awe,bigint:Zye,boolean:X4,date:Xye,discriminatedUnion:dwe,effect:uO,enum:bwe,function:ywe,instanceof:Qye,intersection:hwe,lazy:wwe,literal:vwe,map:gwe,nan:Jye,nativeEnum:_we,never:iwe,null:nwe,nullable:xwe,number:Z4,object:cwe,oboolean:Nwe,onumber:Twe,optional:Cwe,ostring:Iwe,pipeline:Awe,preprocess:Swe,promise:Ewe,record:pwe,set:mwe,strictObject:lwe,string:J4,symbol:ewe,transformer:uO,tuple:fwe,undefined:twe,union:uwe,unknown:swe,void:owe,NEVER:kwe,ZodIssueCode:ce,quotelessJson:$ye,ZodError:Ti});const nn=P.object({message:P.string()});function be(t){return P.literal(xe[t])}P.object({accessList:P.array(P.string()),blockHash:P.string().nullable(),blockNumber:P.string().nullable(),chainId:P.string().or(P.number()),from:P.string(),gas:P.string(),hash:P.string(),input:P.string().nullable(),maxFeePerGas:P.string(),maxPriorityFeePerGas:P.string(),nonce:P.string(),r:P.string(),s:P.string(),to:P.string(),transactionIndex:P.string().nullable(),type:P.string(),v:P.string(),value:P.string()});const Owe=P.object({chainId:P.string().or(P.number())}),Rwe=P.object({email:P.string().email()}),$we=P.object({otp:P.string()}),Dwe=P.object({uri:P.string(),preferredAccountType:P.optional(P.string()),chainId:P.optional(P.string().or(P.number()))}),jwe=P.object({chainId:P.optional(P.string().or(P.number())),preferredAccountType:P.optional(P.string()),socialUri:P.optional(P.string())}),Uwe=P.object({provider:P.enum(["google","github","apple","facebook","x","discord"])}),Lwe=P.object({email:P.string().email()}),Mwe=P.object({otp:P.string()}),Bwe=P.object({otp:P.string()}),Fwe=P.object({themeMode:P.optional(P.enum(["light","dark"])),themeVariables:P.optional(P.record(P.string(),P.string().or(P.number()))),w3mThemeVariables:P.optional(P.record(P.string(),P.string()))}),zwe=P.object({metadata:P.object({name:P.string(),description:P.string(),url:P.string(),icons:P.array(P.string())}).optional(),sdkVersion:P.string().optional(),sdkType:P.string().optional(),projectId:P.string()}),qwe=P.object({type:P.string()}),Wwe=P.object({action:P.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Hwe=P.object({url:P.string()}),Vwe=P.object({userName:P.string()}),Gwe=P.object({email:P.string().optional().nullable(),address:P.string(),chainId:P.string().or(P.number()),accounts:P.array(P.object({address:P.string(),type:P.enum([$n.ACCOUNT_TYPES.EOA,$n.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:P.string().optional().nullable(),preferredAccountType:P.optional(P.string())}),Kwe=P.object({action:P.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Ywe=P.object({email:P.string().email().optional().nullable(),address:P.string(),chainId:P.string().or(P.number()),smartAccountDeployed:P.optional(P.boolean()),accounts:P.array(P.object({address:P.string(),type:P.enum([$n.ACCOUNT_TYPES.EOA,$n.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:P.optional(P.string())}),Qwe=P.object({uri:P.string()}),Jwe=P.object({isConnected:P.boolean()}),Zwe=P.object({chainId:P.string().or(P.number())}),Xwe=P.object({chainId:P.string().or(P.number())}),e0e=P.object({newEmail:P.string().email()}),t0e=P.object({smartAccountEnabledNetworks:P.array(P.number())});P.object({address:P.string(),isDeployed:P.boolean()});const n0e=P.object({version:P.string().optional()}),r0e=P.object({type:P.string(),address:P.string()}),s0e=P.any(),i0e=P.object({method:P.literal("eth_accounts")}),o0e=P.object({method:P.literal("eth_blockNumber")}),a0e=P.object({method:P.literal("eth_call"),params:P.array(P.any())}),c0e=P.object({method:P.literal("eth_chainId")}),l0e=P.object({method:P.literal("eth_estimateGas"),params:P.array(P.any())}),u0e=P.object({method:P.literal("eth_feeHistory"),params:P.array(P.any())}),d0e=P.object({method:P.literal("eth_gasPrice")}),h0e=P.object({method:P.literal("eth_getAccount"),params:P.array(P.any())}),f0e=P.object({method:P.literal("eth_getBalance"),params:P.array(P.any())}),p0e=P.object({method:P.literal("eth_getBlockByHash"),params:P.array(P.any())}),g0e=P.object({method:P.literal("eth_getBlockByNumber"),params:P.array(P.any())}),m0e=P.object({method:P.literal("eth_getBlockReceipts"),params:P.array(P.any())}),y0e=P.object({method:P.literal("eth_getBlockTransactionCountByHash"),params:P.array(P.any())}),w0e=P.object({method:P.literal("eth_getBlockTransactionCountByNumber"),params:P.array(P.any())}),v0e=P.object({method:P.literal("eth_getCode"),params:P.array(P.any())}),b0e=P.object({method:P.literal("eth_getFilterChanges"),params:P.array(P.any())}),_0e=P.object({method:P.literal("eth_getFilterLogs"),params:P.array(P.any())}),E0e=P.object({method:P.literal("eth_getLogs"),params:P.array(P.any())}),C0e=P.object({method:P.literal("eth_getProof"),params:P.array(P.any())}),x0e=P.object({method:P.literal("eth_getStorageAt"),params:P.array(P.any())}),S0e=P.object({method:P.literal("eth_getTransactionByBlockHashAndIndex"),params:P.array(P.any())}),A0e=P.object({method:P.literal("eth_getTransactionByBlockNumberAndIndex"),params:P.array(P.any())}),I0e=P.object({method:P.literal("eth_getTransactionByHash"),params:P.array(P.any())}),T0e=P.object({method:P.literal("eth_getTransactionCount"),params:P.array(P.any())}),N0e=P.object({method:P.literal("eth_getTransactionReceipt"),params:P.array(P.any())}),P0e=P.object({method:P.literal("eth_getUncleCountByBlockHash"),params:P.array(P.any())}),k0e=P.object({method:P.literal("eth_getUncleCountByBlockNumber"),params:P.array(P.any())}),O0e=P.object({method:P.literal("eth_maxPriorityFeePerGas")}),R0e=P.object({method:P.literal("eth_newBlockFilter")}),$0e=P.object({method:P.literal("eth_newFilter"),params:P.array(P.any())}),D0e=P.object({method:P.literal("eth_newPendingTransactionFilter")}),j0e=P.object({method:P.literal("eth_sendRawTransaction"),params:P.array(P.any())}),U0e=P.object({method:P.literal("eth_syncing"),params:P.array(P.any())}),L0e=P.object({method:P.literal("eth_uninstallFilter"),params:P.array(P.any())}),dO=P.object({method:P.literal("personal_sign"),params:P.array(P.any())}),M0e=P.object({method:P.literal("eth_signTypedData_v4"),params:P.array(P.any())}),B0e=P.object({method:P.literal("eth_sendTransaction"),params:P.array(P.any())}),F0e=P.object({method:P.literal("solana_signMessage"),params:P.object({message:P.string(),pubkey:P.string()})}),z0e=P.object({method:P.literal("solana_signTransaction"),params:P.object({transaction:P.string()})}),q0e=P.object({method:P.literal("solana_signAllTransactions"),params:P.object({transactions:P.array(P.string())})}),W0e=P.object({method:P.literal("solana_signAndSendTransaction"),params:P.object({transaction:P.string(),options:P.object({skipPreflight:P.boolean().optional(),preflightCommitment:P.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:P.number().optional(),minContextSlot:P.number().optional()}).optional()})}),H0e=P.object({method:P.literal("wallet_sendCalls"),params:P.array(P.object({chainId:P.string().or(P.number()).optional(),from:P.string().optional(),version:P.string().optional(),capabilities:P.any().optional(),calls:P.array(P.object({to:P.string().startsWith("0x"),data:P.string().startsWith("0x").optional(),value:P.string().optional()}))}))}),V0e=P.object({method:P.literal("wallet_getCallsStatus"),params:P.array(P.string())}),G0e=P.object({method:P.literal("wallet_getCapabilities")}),K0e=P.object({method:P.literal("wallet_grantPermissions"),params:P.array(P.any())}),Y0e=P.object({method:P.literal("wallet_revokePermissions"),params:P.any()}),Q0e=P.object({method:P.literal("wallet_getAssets"),params:P.any()}),hO=P.object({token:P.string()}),_e=P.object({id:P.string().optional()}),Cf={appEvent:_e.extend({type:be("APP_SWITCH_NETWORK"),payload:Owe}).or(_e.extend({type:be("APP_CONNECT_EMAIL"),payload:Rwe})).or(_e.extend({type:be("APP_CONNECT_DEVICE")})).or(_e.extend({type:be("APP_CONNECT_OTP"),payload:$we})).or(_e.extend({type:be("APP_CONNECT_SOCIAL"),payload:Dwe})).or(_e.extend({type:be("APP_GET_FARCASTER_URI")})).or(_e.extend({type:be("APP_CONNECT_FARCASTER")})).or(_e.extend({type:be("APP_GET_USER"),payload:P.optional(jwe)})).or(_e.extend({type:be("APP_GET_SOCIAL_REDIRECT_URI"),payload:Uwe})).or(_e.extend({type:be("APP_SIGN_OUT")})).or(_e.extend({type:be("APP_IS_CONNECTED"),payload:P.optional(hO)})).or(_e.extend({type:be("APP_GET_CHAIN_ID")})).or(_e.extend({type:be("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(_e.extend({type:be("APP_INIT_SMART_ACCOUNT")})).or(_e.extend({type:be("APP_SET_PREFERRED_ACCOUNT"),payload:qwe})).or(_e.extend({type:be("APP_RPC_REQUEST"),payload:dO.or(Q0e).or(i0e).or(o0e).or(a0e).or(c0e).or(l0e).or(u0e).or(d0e).or(h0e).or(f0e).or(p0e).or(g0e).or(m0e).or(y0e).or(w0e).or(v0e).or(b0e).or(_0e).or(E0e).or(C0e).or(x0e).or(S0e).or(A0e).or(I0e).or(T0e).or(N0e).or(P0e).or(k0e).or(O0e).or(R0e).or($0e).or(D0e).or(j0e).or(U0e).or(L0e).or(dO).or(M0e).or(B0e).or(F0e).or(z0e).or(q0e).or(W0e).or(V0e).or(H0e).or(G0e).or(K0e).or(Y0e)})).or(_e.extend({type:be("APP_UPDATE_EMAIL"),payload:Lwe})).or(_e.extend({type:be("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Mwe})).or(_e.extend({type:be("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Bwe})).or(_e.extend({type:be("APP_SYNC_THEME"),payload:Fwe})).or(_e.extend({type:be("APP_SYNC_DAPP_DATA"),payload:zwe})).or(_e.extend({type:be("APP_RELOAD")})),frameEvent:_e.extend({type:be("FRAME_SWITCH_NETWORK_ERROR"),payload:nn}).or(_e.extend({type:be("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Xwe})).or(_e.extend({type:be("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Wwe})).or(_e.extend({type:be("FRAME_CONNECT_EMAIL_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Hwe})).or(_e.extend({type:be("FRAME_GET_FARCASTER_URI_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Vwe})).or(_e.extend({type:be("FRAME_CONNECT_FARCASTER_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_CONNECT_OTP_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_CONNECT_OTP_SUCCESS")})).or(_e.extend({type:be("FRAME_CONNECT_DEVICE_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_CONNECT_DEVICE_SUCCESS")})).or(_e.extend({type:be("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Gwe})).or(_e.extend({type:be("FRAME_CONNECT_SOCIAL_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_GET_USER_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_GET_USER_SUCCESS"),payload:Ywe})).or(_e.extend({type:be("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Qwe})).or(_e.extend({type:be("FRAME_SIGN_OUT_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_SIGN_OUT_SUCCESS")})).or(_e.extend({type:be("FRAME_IS_CONNECTED_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_IS_CONNECTED_SUCCESS"),payload:Jwe})).or(_e.extend({type:be("FRAME_GET_CHAIN_ID_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Zwe})).or(_e.extend({type:be("FRAME_RPC_REQUEST_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_RPC_REQUEST_SUCCESS"),payload:s0e})).or(_e.extend({type:be("FRAME_SESSION_UPDATE"),payload:hO})).or(_e.extend({type:be("FRAME_UPDATE_EMAIL_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Kwe})).or(_e.extend({type:be("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(_e.extend({type:be("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:e0e})).or(_e.extend({type:be("FRAME_SYNC_THEME_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_SYNC_THEME_SUCCESS")})).or(_e.extend({type:be("FRAME_SYNC_DAPP_DATA_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(_e.extend({type:be("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:t0e})).or(_e.extend({type:be("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:r0e})).or(_e.extend({type:be("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_READY"),payload:n0e})).or(_e.extend({type:be("FRAME_RELOAD_ERROR"),payload:nn})).or(_e.extend({type:be("FRAME_RELOAD_SUCCESS")}))};function __(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class J0e{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=te.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const i=document.getElementById("w3m-iframe");this.iframe&&!i&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(i,o,a)=>{function c({data:l}){if(!__(xe.FRAME_EVENT_KEY,l))return;const u=Cf.frameEvent.parse(l);u.id===i&&(o(u),window.removeEventListener("message",c))}gs.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:i=>{gs.isClient&&window.addEventListener("message",({data:o})=>{if(!__(xe.FRAME_EVENT_KEY,o))return;const a=Cf.frameEvent.parse(o);i(a)})},onAppEvent:i=>{gs.isClient&&window.addEventListener("message",({data:o})=>{if(!__(xe.APP_EVENT_KEY,o))return;const a=Cf.appEvent.parse(o);i(a)})},postAppEvent:i=>{var o;if(gs.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");Cf.appEvent.parse(i),this.iframe.contentWindow.postMessage(i,"*")}},postFrameEvent:i=>{if(gs.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");Cf.frameEvent.parse(i),parent.postMessage(i,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),n&&(this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),gs.isClient)){const i=document.createElement("iframe");i.id="w3m-iframe",i.src=`${AZ}?projectId=${e}&chainId=${r}&version=${TZ}&enableLogger=${s}`,i.name="w3m-secure-iframe",i.style.position="fixed",i.style.zIndex="999999",i.style.display="none",i.style.border="none",i.style.animationDelay="0s, 50ms",i.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",i.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=i,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class Z0e{constructor(e){var i;const n=Oh({level:IZ}),{logger:r,chunkLoggerController:s}=jA({opts:n});this.logger=mr(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class X0e{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new Z0e(e)),this.abortController=i,this.w3mFrame=new J0e({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===xe.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!zn.get(xe.EMAIL_LOGIN_USED_KEY)}getEmail(){return zn.get(xe.EMAIL)}getUsername(){return zn.get(xe.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:xe.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{gs.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:xe.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:xe.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:xe.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:xe.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:xe.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:xe.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:xe.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:xe.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:xe.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:xe.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:xe.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:xe.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:xe.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n,r;if(e!=null&&e.socialUri)try{await this.init();const s=await this.appEvent({type:xe.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId}});return s.userName&&this.setSocialLoginSuccess(s.userName),this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var n;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:xe.APP_GET_USER,payload:{...e,chainId:r}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{await this.init();const r=await this.appEvent({type:xe.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:xe.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:xe.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:xe.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const s=setTimeout(()=>{r()},3e3);await this.appEvent({type:xe.APP_SIGN_OUT}),clearTimeout(s),r()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,s,i;try{if($n.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:xe.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,o,e),o}catch(o){throw(s=this.rpcErrorHandler)==null||s.call(this,o,e),(i=this.w3mLogger)==null||i.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===xe.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===xe.FRAME_IS_CONNECTED_ERROR&&e(),n.type===xe.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===xe.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===xe.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===xe.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===xe.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:$n.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===xe.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===xe.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{$n.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(c){return c.replace("@w3m-app/","")}const i=[xe.APP_SYNC_DAPP_DATA,xe.APP_SYNC_THEME,xe.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(r=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[xe.APP_CONNECT_EMAIL,xe.APP_CONNECT_DEVICE,xe.APP_CONNECT_OTP,xe.APP_CONNECT_SOCIAL,xe.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(n=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{var f,p,g;const u=Math.random().toString(36).substring(7);(g=(f=this.w3mLogger)==null?void 0:(p=f.logger).info)==null||g.call(p,{event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const d=new AbortController;if(o==="RPC_REQUEST"){const y=e;this.openRpcRequests=[...this.openRpcRequests,{...y.payload,abortController:d}]}d.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});function h(y,w){var b,v,E;y.id===u&&((v=w==null?void 0:(b=w.logger).info)==null||v.call(b,{framEvent:y,id:u},"Received frame response"),y.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in y&&c(y.payload),c(void 0)):y.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in y&&l(new Error(((E=y.payload)==null?void 0:E.message)||"An error occurred")),l(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(u,y=>h(y,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){zn.set(xe.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){zn.set(xe.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&zn.set(xe.EMAIL,e),zn.set(xe.EMAIL_LOGIN_USED_KEY,"true"),zn.delete(xe.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){zn.delete(xe.EMAIL_LOGIN_USED_KEY),zn.delete(xe.EMAIL),zn.delete(xe.LAST_USED_CHAIN_KEY),zn.delete(xe.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&zn.set(xe.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=zn.get(xe.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){zn.set(xe.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class ql{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i}){return ql.instance||(ql.instance=new X0e({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i})),ql.instance}}var fO={};const eve={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof fO<"u"?fO.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},$x={filterOutDuplicatesByRDNS(t){const e=ie.state.enableEIP6963?pe.state.connectors:[],n=fe.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&Ae.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!i.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=pe.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=fe.getRecentWallets(),r=e.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=pe.state,{featuredWalletIds:n}=ie.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=ie.state.features)==null?void 0:c.connectMethodsOrder),r=e||pe.state.connectors;if(n)return n;const{injected:s,announced:i}=bw.getConnectorsByType(r,Ie.state.recommended,Ie.state.featured),o=s.filter(bw.showConnector),a=i.filter(bw.showConnector);return o.length||a.length?["wallet","email","social"]:eve.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Ie.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Ie.state.excludedWallets.some(r=>Cg.isLowerCaseMatch(r.name,t.name));return e||n}},bw={getConnectorsByType(t,e,n){const{customWallets:r}=ie.state,s=fe.getRecentWallets(),i=$x.filterOutDuplicateWallets(e),o=$x.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&Ie.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&Ie.state.excludedWallets.some(i=>Cg.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Ae.isMobile()||Ae.isMobile()&&!e&&!Ee.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from($.state.chains.values()).some(n=>pe.getConnectorId(n.namespace)===te.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=ie.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=bw.getIsConnectedWithWC(),f=[{type:"walletConnect",isEnabled:ie.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(w=>w.isEnabled),p=new Set(f.map(w=>w.type)),g=c.filter(w=>p.has(w)).map(w=>({type:w,isEnabled:!0})),y=f.filter(({type:w})=>!g.some(({type:v})=>v===w));return Array.from(new Set([...g,...y].map(({type:w})=>w)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,n;try{if(t.name==="Browser Wallet"&&!Ae.isMobile())return{accounts:[],chainId:void 0};if(t.id===te.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[r,s]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(n=t.provider)==null?void 0:n.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:r,chainId:s}}catch(r){return console.warn(`Failed to fetch provider data for ${t.name}`,r),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _w=globalThis,mI=_w.ShadowRoot&&(_w.ShadyCSS===void 0||_w.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,yI=Symbol(),pO=new WeakMap;let eU=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==yI)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(mI&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=pO.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&pO.set(n,e))}return e}toString(){return this.cssText}};const $s=t=>new eU(typeof t=="string"?t:t+"",void 0,yI),Md=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new eU(n,t,yI)},tve=(t,e)=>{if(mI)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=_w.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},gO=mI?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return $s(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:nve,defineProperty:rve,getOwnPropertyDescriptor:sve,getOwnPropertyNames:ive,getOwnPropertySymbols:ove,getPrototypeOf:ave}=Object,Nc=globalThis,mO=Nc.trustedTypes,cve=mO?mO.emptyScript:"",E_=Nc.reactiveElementPolyfillSupport,pp=(t,e)=>t,Dx={toAttribute(t,e){switch(e){case Boolean:t=t?cve:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},tU=(t,e)=>!nve(t,e),yO={attribute:!0,type:String,converter:Dx,reflect:!1,useDefault:!1,hasChanged:tU};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Nc.litPropertyMetadata??(Nc.litPropertyMetadata=new WeakMap);let ud=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=yO){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&rve(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:i}=sve(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const a=s==null?void 0:s.call(this);i==null||i.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??yO}static _$Ei(){if(this.hasOwnProperty(pp("elementProperties")))return;const e=ave(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(pp("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(pp("properties"))){const n=this.properties,r=[...ive(n),...ove(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(gO(s))}else e!==void 0&&n.push(gO(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return tve(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var i;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)==null?void 0:i.toAttribute)!==void 0?r.converter:Dx).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,n){var i,o;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const a=r.getPropertyOptions(s),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)==null?void 0:i.fromAttribute)!==void 0?a.converter:Dx;this._$Em=s,this[s]=c.fromAttribute(n,a.type)??((o=this._$Ej)==null?void 0:o.get(s))??null,this._$Em=null}}requestUpdate(e,n,r){var s;if(e!==void 0){const i=this.constructor,o=this[e];if(r??(r=i.getPropertyOptions(e)),!((r.hasChanged??tU)(o,n)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s){const{wrapped:a}=o,c=this[i];a!==!0||this._$AL.has(i)||c===void 0||this.C(i,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};ud.elementStyles=[],ud.shadowRootOptions={mode:"open"},ud[pp("elementProperties")]=new Map,ud[pp("finalized")]=new Map,E_==null||E_({ReactiveElement:ud}),(Nc.reactiveElementVersions??(Nc.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const gp=globalThis,O0=gp.trustedTypes,wO=O0?O0.createPolicy("lit-html",{createHTML:t=>t}):void 0,nU="$lit$",Ya=`lit$${Math.random().toFixed(9).slice(2)}$`,rU="?"+Ya,lve=`<${rU}>`,fu=document,jg=()=>fu.createComment(""),Ug=t=>t===null||typeof t!="object"&&typeof t!="function",wI=Array.isArray,uve=t=>wI(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",C_=`[ 	
\f\r]`,xf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,vO=/-->/g,bO=/>/g,sl=RegExp(`>|${C_}(?:([^\\s"'>=/]+)(${C_}*=${C_}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),_O=/'/g,EO=/"/g,sU=/^(?:script|style|textarea|title)$/i,iU=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),$Ee=iU(1),DEe=iU(2),wh=Symbol.for("lit-noChange"),kn=Symbol.for("lit-nothing"),CO=new WeakMap,Nl=fu.createTreeWalker(fu,129);function oU(t,e){if(!wI(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return wO!==void 0?wO.createHTML(e):e}const dve=(t,e)=>{const n=t.length-1,r=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=xf;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===xf?u[1]==="!--"?o=vO:u[1]!==void 0?o=bO:u[2]!==void 0?(sU.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=sl):u[3]!==void 0&&(o=sl):o===sl?u[0]===">"?(o=s??xf,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?sl:u[3]==='"'?EO:_O):o===EO||o===_O?o=sl:o===vO||o===bO?o=xf:(o=sl,s=void 0);const f=o===sl&&t[a+1].startsWith("/>")?" ":"";i+=o===xf?c+lve:d>=0?(r.push(l),c.slice(0,d)+nU+c.slice(d)+Ya+f):c+Ya+(d===-2?a:f)}return[oU(t,i+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class Lg{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[l,u]=dve(e,n);if(this.el=Lg.createElement(l,r),Nl.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=Nl.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(nU)){const h=u[o++],f=s.getAttribute(d).split(Ya),p=/([.?@])?(.*)/.exec(h);c.push({type:1,index:i,name:p[2],strings:f,ctor:p[1]==="."?fve:p[1]==="?"?pve:p[1]==="@"?gve:Qv}),s.removeAttribute(d)}else d.startsWith(Ya)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(sU.test(s.tagName)){const d=s.textContent.split(Ya),h=d.length-1;if(h>0){s.textContent=O0?O0.emptyScript:"";for(let f=0;f<h;f++)s.append(d[f],jg()),Nl.nextNode(),c.push({type:2,index:++i});s.append(d[h],jg())}}}else if(s.nodeType===8)if(s.data===rU)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(Ya,d+1))!==-1;)c.push({type:7,index:i}),d+=Ya.length-1}i++}}static createElement(e,n){const r=fu.createElement("template");return r.innerHTML=e,r}}function vh(t,e,n=t,r){var o,a;if(e===wh)return e;let s=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const i=Ug(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=vh(t,s._$AS(t,e.values),s,r)),e}class hve{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??fu).importNode(n,!0);Nl.currentNode=s;let i=Nl.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new wm(i,i.nextSibling,this,e):c.type===1?l=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(l=new mve(i,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(i=Nl.nextNode(),o++)}return Nl.currentNode=fu,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class wm{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=kn,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=vh(this,e,n),Ug(e)?e===kn||e==null||e===""?(this._$AH!==kn&&this._$AR(),this._$AH=kn):e!==this._$AH&&e!==wh&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):uve(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==kn&&Ug(this._$AH)?this._$AA.nextSibling.data=e:this.T(fu.createTextNode(e)),this._$AH=e}$(e){var i;const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=Lg.createElement(oU(r.h,r.h[0]),this.options)),r);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(n);else{const o=new hve(s,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=CO.get(e.strings);return n===void 0&&CO.set(e.strings,n=new Lg(e)),n}k(e){wI(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of e)s===n.length?n.push(r=new wm(this.O(jg()),this.O(jg()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class Qv{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,i){this.type=1,this._$AH=kn,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=kn}_$AI(e,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)e=vh(this,e,n,0),o=!Ug(e)||e!==this._$AH&&e!==wh,o&&(this._$AH=e);else{const a=e;let c,l;for(e=i[0],c=0;c<i.length-1;c++)l=vh(this,a[r+c],n,c),l===wh&&(l=this._$AH[c]),o||(o=!Ug(l)||l!==this._$AH[c]),l===kn?e=kn:e!==kn&&(e+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===kn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class fve extends Qv{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===kn?void 0:e}}class pve extends Qv{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==kn)}}class gve extends Qv{constructor(e,n,r,s,i){super(e,n,r,s,i),this.type=5}_$AI(e,n=this){if((e=vh(this,e,n,0)??kn)===wh)return;const r=this._$AH,s=e===kn&&r!==kn||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==kn&&(r===kn||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class mve{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){vh(this,e)}}const x_=gp.litHtmlPolyfillSupport;x_==null||x_(Lg,wm),(gp.litHtmlVersions??(gp.litHtmlVersions=[])).push("3.3.0");const yve=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const i=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new wm(e.insertBefore(jg(),i),i,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Wl=globalThis;class Ew extends ud{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=yve(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return wh}}var rR;Ew._$litElement$=!0,Ew.finalized=!0,(rR=Wl.litElementHydrateSupport)==null||rR.call(Wl,{LitElement:Ew});const S_=Wl.litElementPolyfillSupport;S_==null||S_({LitElement:Ew});(Wl.litElementVersions??(Wl.litElementVersions=[])).push("4.2.0");let mp,Pc,kc;function jEe(t,e){mp=document.createElement("style"),Pc=document.createElement("style"),kc=document.createElement("style"),mp.textContent=Bd(t).core.cssText,Pc.textContent=Bd(t).dark.cssText,kc.textContent=Bd(t).light.cssText,document.head.appendChild(mp),document.head.appendChild(Pc),document.head.appendChild(kc),aU(e)}function aU(t){Pc&&kc&&(t==="light"?(Pc.removeAttribute("media"),kc.media="enabled"):(kc.removeAttribute("media"),Pc.media="enabled"))}function wve(t){mp&&Pc&&kc&&(mp.textContent=Bd(t).core.cssText,Pc.textContent=Bd(t).dark.cssText,kc.textContent=Bd(t).light.cssText)}function Bd(t){return{core:Md`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${$s(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${$s((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${$s((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${$s((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${$s((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Md`
      :root {
        --w3m-color-mix: ${$s((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${$s(Vo(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${$s(Vo(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Md`
      :root {
        --w3m-color-mix: ${$s((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${$s(Vo(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${$s(Vo(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const UEe=Md`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,LEe=Md`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,MEe=Md`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,zf={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},cU=yz({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function vm(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const xO=vm({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),SO=vm({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});vm({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});vm({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});vm({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const vve={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},yp={getMethodsByChainNamespace(t){return vve[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${i}`,u=r[o];switch(u.chains.push(l),l){case xO.caipNetworkId:u.chains.push(xO.deprecatedCaipNetworkId);break;case SO.caipNetworkId:u.chains.push(SO.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await rp.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1}};class vI{constructor({provider:e,namespace:n}){this.id=te.CONNECTOR_ID.WALLET_CONNECT,this.name=fc.ConnectorNamesMap[te.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=fc.ConnectorImageIds[te.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=$.getCaipNetworks.bind($),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=ie.state.universalProviderConfigOverride,s=yp.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return fp.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:bve})}}const bve=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class lU{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>$.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:te.CONNECTOR_ID.AUTH,type:"AUTH",name:te.CONNECTOR_NAMES.AUTH,provider:e,imageId:fc.ConnectorImageIds[te.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){he.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var i;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const o=s,a=(i=he.state.preferredAccountTypes)==null?void 0:i[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof vI);if(!e)throw new Error("WalletConnectConnector not found");return e}}class _ve extends lU{setUniversalProvider(e){this.addConnector(new vI({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,i,o,a;const n=this.provider,r=((a=(o=(i=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>Ae.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var i,o,a,c,l;if(!(e.caipNetwork&&_t.BALANCE_SUPPORTED_CHAINS.includes((i=e.caipNetwork)==null?void 0:i.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(he.state.balanceLoading&&e.chainId===((c=$.state.activeCaipNetwork)==null?void 0:c.id))return{balance:he.state.balance||"0.00",symbol:he.state.balanceSymbol||""};const s=(await he.fetchTokenBalance()).find(u=>{var d,h;return u.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&u.symbol===((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=$.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===te.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:Uh.encode(new TextEncoder().encode(r)),pubkey:s}},(a=$.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},(c=$.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===te.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:Ql(n.id)}]}))}catch(u){if(u.code===zf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===zf.ERROR_INVALID_CHAIN_ID||u.code===zf.ERROR_CODE_DEFAULT||((o=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:o.code)===zf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:Ql(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const Eve=["email","socials","swaps","onramp","activity","reownBranding"],Ly={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?_t.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?_t.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?_t.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?_t.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?_t.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?_t.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?_t.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?_t.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?_t.DEFAULT_REMOTE_FEATURES.reownBranding:!!t}},Cve={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=Ly[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,s){const i=Ly[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(i.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return Ly[t].processApi(e)},processFallbackFeature(t,e){return Ly[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await Ie.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?_t.DEFAULT_REMOTE_FEATURES:_t.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of Eve){const a=this.processFeature(o,n,r,s,e);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),_t.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;fn.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return i}};class xve{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,i,o,a;if(n){const c=(i=(s=$.getNetworkData(n))==null?void 0:s.requestedCaipNetworks)==null?void 0:i.find(d=>d.id===r);if(c)return c;const l=(o=$.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=$.getRequestedCaipNetworks(n).filter(d=>d.chainNamespace===n))==null?void 0:a[0])}return $.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>$.getCaipNetworks(n),this.getActiveChainNamespace=()=>$.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{$.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>$.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>$.state.activeChain===n||!n?$.state.activeCaipAddress:$.getAccountProp("caipAddress",n),this.setClientId=n=>{Oe.setClientId(n)},this.getProvider=n=>It.getProvider(n),this.getProviderType=n=>It.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=he.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{he.setCaipAddress(n,r),n&&ie.state.enableEmbedded&&this.close()},this.setBalance=(n,r,s)=>{he.setBalance(n,r,s)},this.setProfileName=(n,r)=>{he.setProfileName(n,r)},this.setProfileImage=(n,r)=>{he.setProfileImage(n,r)},this.setUser=(n,r)=>{he.setUser(n,r)},this.resetAccount=n=>{he.resetAccount(n)},this.setCaipNetwork=n=>{$.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{$.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{he.setAllAccounts(n,r),ie.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{he.setStatus(n,r),pe.isConnected()?fe.setConnectionStatus("connected"):fe.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>$.getAccountProp("address",n),this.setConnectors=n=>{const r=[...pe.state.allConnectors,...n];pe.setConnectors(r)},this.setConnections=(n,r)=>{Ee.setConnections(n,r)},this.fetchIdentity=n=>Oe.fetchIdentity(n),this.getReownName=n=>rp.getNamesForAddress(n),this.getConnectors=()=>pe.getConnectors(),this.getConnectorImage=n=>D8.getConnectorImage(n),this.getConnections=n=>fg.getConnectionsData(n).connections,this.getRecentConnections=n=>fg.getConnectionsData(n).recentConnections,this.switchConnection=n=>Ee.switchConnection(n),this.deleteConnection=n=>fe.deleteAddressFromConnection(n),this.setConnectedWalletInfo=(n,r)=>{const s=It.getProviderId(r),i=n?{...n,type:s}:void 0;he.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!$.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{he.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{he.removeAddressLabel(n,r)},this.getAddress=n=>$.state.activeChain===n||!n?he.state.address:$.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>$.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{$.resetNetwork(n)},this.addConnector=n=>{pe.addConnector(n)},this.resetWcConnection=()=>{Ee.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{he.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{he.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{$.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{he.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{ie.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){var n,r,s;this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await Cve.fetchRemoteFeatures(e),ie.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&$C.setOnrampProviders(this.remoteFeatures.onramp),((n=ie.state.remoteFeatures)!=null&&n.email||Array.isArray((r=ie.state.remoteFeatures)==null?void 0:r.socials)&&((s=ie.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const e=await Ie.fetchAllowedOrigins();if(!e||!Ae.isClient()){fn.open(Yt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;yp.isOriginAllowed(n,e,zf.DEFAULT_ALLOWED_ANCESTORS)||fn.open(Yt.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}catch(e){if(!(e instanceof Error)){fn.open(Yt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(e.message){case"RATE_LIMITED":fn.open(Yt.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;fn.open({shortMessage:Yt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.shortMessage,longMessage:Yt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.longMessage(n.message)},"error");break}default:fn.open(Yt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,Et.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Hr.setThemeMode(e.themeMode),e.themeVariables&&Hr.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");$.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&$.setActiveCaipNetwork(n)}initializeConnectionController(e){Ee.initialize(e.adapters??[]),Ee.setWcBasic(e.basic??!1)}initializeConnectorController(){pe.initialize(this.chainNamespaces)}initializeProjectSettings(e){ie.setProjectId(e.projectId),ie.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var o;ie.setDebug(e.debug!==!1),ie.setEnableWalletConnect(e.enableWalletConnect!==!1),ie.setEnableWalletGuide(e.enableWalletGuide!==!1),ie.setEnableWallets(e.enableWallets!==!1),ie.setEIP6963Enabled(e.enableEIP6963!==!1),ie.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),ie.setEnableAuthLogger(e.enableAuthLogger!==!1),ie.setCustomRpcUrls(e.customRpcUrls),ie.setEnableEmbedded(e.enableEmbedded),ie.setAllWallets(e.allWallets),ie.setIncludeWalletIds(e.includeWalletIds),ie.setExcludeWalletIds(e.excludeWalletIds),ie.setFeaturedWalletIds(e.featuredWalletIds),ie.setTokens(e.tokens),ie.setTermsConditionsUrl(e.termsConditionsUrl),ie.setPrivacyPolicyUrl(e.privacyPolicyUrl),ie.setCustomWallets(e.customWallets),ie.setFeatures(e.features),ie.setAllowUnsupportedChain(e.allowUnsupportedChain),ie.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),ie.setPreferUniversalLinks(e.experimental_preferUniversalLinks),ie.setDefaultAccountTypes(e.defaultAccountTypes);const n=fe.getPreferredAccountTypes()||{},r={...ie.state.defaultAccountTypes,...n};he.setPreferredAccountTypes(r);const s=this.getDefaultMetaData();if(!e.metadata&&s&&(e.metadata=s),ie.setMetadata(e.metadata),ie.setDisableAppend(e.disableAppend),ie.setEnableEmbedded(e.enableEmbedded),ie.setSIWX(e.siwx),!e.projectId){fn.open(Yt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===te.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");ie.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return Ae.isClient()?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=so.getUnsupportedNetwork(`${n}:${e}`);$.setActiveCaipNetwork(r)}}getDefaultNetwork(){return so.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return so.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return so.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return n?so.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const n=this.getAdapter(e),r=It.getProvider(e),s=It.getProviderId(e),{caipAddress:i}=$.getAccountData(e)||{};this.setLoading(!0,e),i&&(n!=null&&n.disconnect)&&await n.disconnect({provider:r,providerType:s}),fe.removeConnectedNamespace(e),It.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e),this.setConnectedWalletInfo(void 0,e),pe.removeConnectorId(e),$.resetAccount(e),$.resetNetwork(e),this.setLoading(!1,e)}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var i;const e=$.state.activeChain,n=this.getAdapter(e),r=(i=this.getCaipNetwork(e))==null?void 0:i.id;if(!n)throw new Error("Adapter not found");const s=await n.connectWalletConnect(r);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),fe.setConnectedNamespaces([...$.state.chains.keys()]),this.chainNamespaces.forEach(o=>{pe.setConnectorId(zt.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:s,chain:i,caipNetwork:o,socialUri:a})=>{var g,y,w,b,v,E;const c=$.state.activeChain,l=i||c,u=this.getAdapter(l);if(i&&i!==c&&!o){const _=this.getCaipNetworks().find(x=>x.chainNamespace===i);_&&this.setCaipNetwork(_)}if(!u)throw new Error("Adapter not found");const d=this.getCaipNetwork(l),h=await u.connect({id:e,info:n,type:r,provider:s,socialUri:a,chainId:(o==null?void 0:o.id)||(d==null?void 0:d.id),rpcUrl:((w=(y=(g=o==null?void 0:o.rpcUrls)==null?void 0:g.default)==null?void 0:y.http)==null?void 0:w[0])||((E=(v=(b=d==null?void 0:d.rpcUrls)==null?void 0:b.default)==null?void 0:v.http)==null?void 0:E[0])});if(!h)return;fe.addConnectedNamespace(l),this.syncProvider({...h,chainNamespace:l});const f=he.state.allAccounts,{accounts:p}=(f==null?void 0:f.length)>0?{accounts:[...f]}:await u.getAccounts({namespace:l,id:e});this.setAllAccounts(p,l),this.setStatus("connected",l),this.syncConnectedWalletInfo(l)},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var a;const i=$.state.activeChain,o=this.getAdapter(i);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),fe.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async({chainNamespace:e}={})=>{const n=RZ(e);try{const r=await Promise.allSettled(n.map(async([i])=>this.disconnectNamespace(i)));gt.resetSend(),Ee.resetWcConnection(),await fp.clearSessions(),pe.setFilterByNamespace(void 0);const s=r.filter(i=>i.status==="rejected");if(s.length>0)throw new Error(s.map(i=>i.reason.message).join(", "));fe.deleteConnectedSocialProvider(),Et.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(r){throw new Error(`Failed to disconnect chains: ${r.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter($.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:he.state.address,provider:It.getProvider($.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(_t.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter($.state.activeChain),s=It.getProvider(n),i=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===te.CHAIN.EVM){const n=this.getAdapter($.state.activeChain),r=It.getProvider($.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const i=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:s}));return(i==null?void 0:i.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:he.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:$.state.activeChain}),he.state.profileImage||!1},getEnsAddress:async e=>await yp.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter($.state.activeChain),r=this.getCaipNetwork(),s=this.getCaipAddress(),i=It.getProvider($.state.activeChain);if(!r||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:i,caipAddress:s}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter($.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter($.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter($.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter($.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter($.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter($.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!he.state.address||this.updateNativeBalance(he.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Ee.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,i,o;if(It.getProviderId($.state.activeChain)===zt.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=It.getProvider(n),i=It.getProviderId(n);if(e.chainNamespace===$.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:s,providerType:i}))}else if(this.setCaipNetwork(e),i===zt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=fs.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var i;const s=e==null?void 0:e.find(o=>o.namespace===r);return s?(s.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new _ve({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=fe.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(fe.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:i})=>{const o=this.getCaipNetworks().find(l=>l.id===i||l.caipNetworkId===i),a=$.state.activeChain===e,c=$.getAccountProp("address",e);if(o){const l=a&&s?s:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=he.state.address,i=$.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i})=>{var a,c;const o=$.state.activeChain===e;o&&i?this.syncAccount({address:s,chainId:i,chainNamespace:e}):o&&((a=$.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:s,chainId:(c=$.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(s,i,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===te.CHAIN.EVM&&Ae.isSafeApp()&&pe.setConnectorId(te.CONNECTOR_ID.SAFE,e);const n=pe.getConnectorId(e);switch(this.setStatus("connecting",e),n){case te.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case te.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var a,c,l;const n=this.getAdapter(e),r=pe.getConnectorId(e),s=this.getCaipNetwork(e),o=pe.getConnectors(e).find(u=>u.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const u=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:s.id,rpcUrl:(l=(c=(a=s==null?void 0:s.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));if(u){const d=await(n==null?void 0:n.getAccounts({namespace:e,id:o.id}));d&&d.accounts.length>0?this.setAllAccounts(d.accounts,e):this.setAllAccounts([Ae.createAccount(e,u.address,"eoa")],e),this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){var r,s;const e=Object.keys(((s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)||{}),n=this.chainNamespaces.map(async i=>{var u,d,h,f,p;const o=this.getAdapter(i),a=((f=(h=(d=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:d.namespaces)==null?void 0:h[i])==null?void 0:f.accounts)||[],c=(p=$.state.activeCaipNetwork)==null?void 0:p.id,l=a.find(g=>{const{chainId:y}=fs.parseCaipAddress(g);return y===(c==null?void 0:c.toString())})||a[0];if(l){const g=fs.validateCaipAddress(l),{chainId:y,address:w}=fs.parseCaipAddress(g);if(It.setProviderId(i,zt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&$.state.activeCaipNetwork&&(o==null?void 0:o.namespace)!==te.CHAIN.EVM){const b=o==null?void 0:o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:$.state.activeCaipNetwork});It.setProvider(i,b)}else It.setProvider(i,this.universalProvider);pe.setConnectorId(te.CONNECTOR_ID.WALLET_CONNECT,i),fe.addConnectedNamespace(i),this.syncWalletConnectAccounts(i),await this.syncAccount({address:w,chainId:y,chainNamespace:i})}else e.includes(i)&&this.setStatus("disconnected",i);this.syncConnectedWalletInfo(i),await $.setApprovedCaipNetworksData(i)});await Promise.all(n)}syncWalletConnectAccounts(e){var r,s,i,o,a;const n=(a=(o=(i=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=fs.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>Ae.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){It.setProviderId(s,e),It.setProvider(s,n),pe.setConnectorId(r,s)}async syncAllAccounts(e){const n=pe.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),s=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));s&&s.accounts.length>0&&this.setAllAccounts(s.accounts,e)}async syncAccount(e){var d,h;const n=e.chainNamespace===$.state.activeChain,r=$.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=fe.getActiveNetworkProps(),c=i||a,l=((d=$.state.activeCaipNetwork)==null?void 0:d.name)===te.UNSUPPORTED_NETWORK_NAME,u=$.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(y=>y.id.toString()===c.toString()),p=this.getCaipNetworks().find(y=>y.chainNamespace===o);if(!u&&!f&&!p){const y=this.getApprovedCaipNetworkIds()||[],w=y.find(v=>{var E;return((E=fs.parseCaipNetworkId(v))==null?void 0:E.chainId)===c.toString()}),b=y.find(v=>{var E;return((E=fs.parseCaipNetworkId(v))==null?void 0:E.chainNamespace)===o});f=this.getCaipNetworks().find(v=>v.caipNetworkId===w),p=this.getCaipNetworks().find(v=>v.caipNetworkId===b||"deprecatedCaipNetworkId"in v&&v.deprecatedCaipNetworkId===b)}const g=f||p;(g==null?void 0:g.chainNamespace)===$.state.activeChain?ie.state.enableNetworkSwitch&&!ie.state.allowUnsupportedChain&&((h=$.state.activeCaipNetwork)==null?void 0:h.name)===te.UNSUPPORTED_NETWORK_NAME?$.showUnsupportedChainUI():this.setCaipNetwork(g):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),Cg.isLowerCaseMatch(s,he.state.address)||this.syncAccountInfo(s,g==null?void 0:g.id,o),n?await this.syncBalance({address:s,chainId:g==null?void 0:g.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),i=n||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${r}:${i}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=pe.getConnectorId(e),r=It.getProviderId(e);if(r===zt.CONNECTOR_TYPE_ANNOUNCED||r===zt.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(o=>o.id===n);if(i){const{info:o,name:a,imageUrl:c}=i,l=c||this.getConnectorImage(i);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===zt.CONNECTOR_TYPE_WALLET_CONNECT){const i=It.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n&&n===te.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(o=>o.id===te.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}}async syncBalance(e){!hg.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),i=$.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:e,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,s,i,o,a,c,l,u,d,h;const e=Oye.createLogger((f,...p)=>{f&&this.handleAlertError(f),console.error(...p)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};ie.setManualWCControl(!!((h=this.options)!=null&&h.manualWCControl)),this.universalProvider=this.options.universalProvider??await Nye.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{Ee.setUri(e)}),this.universalProvider.on("connect",Ee.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),Ee.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(s=>s.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(yp.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&Ae.isCaipAddress(r[0])&&this.syncAccount(fs.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&Ae.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Et.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(Yt.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=Yt.ALERT_ERRORS[o];a&&(fn.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&Ee.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return yt.open({...e,data:{swap:e.arguments}})}return yt.open(e)}async close(){await this.injectModalUi(),yt.close()}setLoading(e,n){yt.setLoading(e,n)}async disconnect(e){await Ee.disconnect({namespace:e})}getSIWX(){return ie.state.siwx}getError(){return""}getChainId(){var e;return(e=$.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){fn.open(Yt.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await $.switchActiveNetwork(n)}getWalletProvider(){return $.state.activeChain?It.state.providers[$.state.activeChain]:null}getWalletProviderType(){return It.getProviderId($.state.activeChain)}subscribeProviders(e){return It.subscribeProviders(e)}getThemeMode(){return Hr.state.themeMode}getThemeVariables(){return Hr.state.themeVariables}setThemeMode(e){Hr.setThemeMode(e),aU(Hr.state.themeMode)}setTermsConditionsUrl(e){ie.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){ie.setPrivacyPolicyUrl(e)}setThemeVariables(e){Hr.setThemeVariables(e),wve(Hr.state.themeVariables)}subscribeTheme(e){return Hr.subscribe(e)}subscribeConnections(e){return Ee.subscribe(e)}getWalletInfo(e){return e?$.getAccountProp("connectedWalletInfo",e):he.state.connectedWalletInfo}getAccount(e){var o;const n=pe.getAuthConnector(e),r=$.getAccountData(e),s=$.state.activeChain,i=fe.getConnectedConnectorId(e||s);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:Ae.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&i===te.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:fe.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(o=r.preferredAccountTypes)==null?void 0:o[e||s],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?$.subscribeChainProp("accountState",r,n):$.subscribe(r),pe.subscribe(r)}subscribeNetwork(e){return $.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e,n){return n?he.subscribeKey("connectedWalletInfo",e,n):he.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){he.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){$.subscribeKey("activeCaipNetwork",e)}getState(){return co.state}subscribeState(e){return co.subscribe(e)}showErrorMessage(e){Ei.showError(e)}showSuccessMessage(e){Ei.showSuccess(e)}getEvent(){return{...Et.state}}subscribeEvents(e){return Et.subscribe(e)}replace(e){De.replace(e)}redirect(e){De.push(e)}popTransactionStack(e){De.popTransactionStack(e)}isOpen(){return yt.state.open}isTransactionStackEmpty(){return De.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){ie.setFeatures(e)}updateRemoteFeatures(e){ie.setRemoteFeatures(e)}updateOptions(e){const r={...ie.state||{},...e};ie.setOptions(r)}setConnectMethodsOrder(e){ie.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){ie.setWalletFeaturesOrder(e)}setCollapseWallets(e){ie.setCollapseWallets(e)}setSocialsOrder(e){ie.setSocialsOrder(e)}getConnectMethodsOrder(){return $x.getConnectOrderMethod(ie.state.features,pe.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||$.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&$.removeNetwork(e,n)}}let AO=!1;class Sve extends xve{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{gs.checkIfRequestExists(n)?gs.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error($n.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage($n.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const s=gs.checkIfRequestIsSafe(r),i=he.state.address,o=$.state.activeCaipNetwork;s||(i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=$.state.activeChain;pe.getConnectorId(n)===te.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(n=>{var l,u;const r=$.state.activeChain,s=r===te.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,i=ie.state.defaultAccountTypes[r],o=(l=he.state.preferredAccountTypes)==null?void 0:l[r],a=n.preferredAccountType||o||i;Cg.isLowerCaseMatch(n.address,he.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(s,r),this.setUser({...he.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(a,r);const c=(u=n.accounts)==null?void 0:u.map(d=>Ae.createAccount(r,d.address,d.type||o||i));this.setAllAccounts(c||[Ae.createAccount(r,n.address,n.preferredAccountType||a)],r),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...he.state.user||{},username:n},$.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,$.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,$.state.activeChain)})}async syncAuthConnector(e,n){var d,h,f,p;const r=te.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),s=n===$.state.activeChain;if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername();this.setUser({...((d=he.state)==null?void 0:d.user)||{},username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected(),l=Hr.getSnapshot(),u=ie.getSnapshot();await Promise.all([e.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),e.syncTheme({themeMode:l.themeMode,themeVariables:l.themeVariables,w3mThemeVariables:Vo(l.themeVariables,l.themeMode)})]),await e.getSmartAccountEnabledNetworks(),n&&r&&s&&(c&&((h=this.connectionControllerClient)!=null&&h.connectExternal)?(await((p=this.connectionControllerClient)==null?void 0:p.connectExternal({id:te.CONNECTOR_ID.AUTH,info:{name:te.CONNECTOR_ID.AUTH},type:zt.CONNECTOR_TYPE_AUTH,provider:e,chainId:(f=$.state.activeCaipNetwork)==null?void 0:f.id,chain:n})),this.setStatus("connected",n)):pe.getConnectorId(n)===te.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),fe.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!Ae.isTelegram())return;const r=fe.getTelegramSocialProvider();if(!r||!Ae.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;he.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=pe.getAuthConnector();r&&o&&(this.setLoading(!0,e),await Ee.connectExternal({id:o.id,type:o.type,socialUri:i},o.chain),fe.setConnectedSocialProvider(r),fe.removeTelegramSocialProvider(),Et.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var l,u,d,h;if(!te.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=(l=this.remoteFeatures)==null?void 0:l.email,s=Array.isArray((u=this.remoteFeatures)==null?void 0:u.socials)&&this.remoteFeatures.socials.length>0,i=r||s,a=Cg.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&((d=this.options)!=null&&d.projectId)&&i&&(this.authProvider=ql.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(h=this.getCaipNetwork(a))==null?void 0:h.caipNetworkId,abortController:Yt.EmbeddedWalletAbortController,onTimeout:f=>{f==="iframe_load_failed"?fn.open(Yt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):f==="iframe_request_timeout"?fn.open(Yt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):f==="unverified_domain"&&fn.open(Yt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),co.subscribeOpen(f=>{var p;!f&&this.isTransactionStackEmpty()&&((p=this.authProvider)==null||p.rejectRpcRequests())}));const c=e===$.state.activeChain;this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Ie.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var o,a;if(!e)return;const n=$.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===n&&s){const c=this.getAdapter(r),l=It.getProvider(r),u=It.getProviderId(r);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:l,providerType:u})),this.setCaipNetwork(e)}else{const l=It.getProviderId(n)===zt.CONNECTOR_TYPE_AUTH,u=It.getProviderId(r),d=u===zt.CONNECTOR_TYPE_AUTH,h=te.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((l&&u===void 0||d)&&h)try{if($.state.activeChain=e.chainNamespace,s){const f=this.getAdapter(r);await(f==null?void 0:f.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else await((a=(o=this.connectionControllerClient)==null?void 0:o.connectExternal)==null?void 0:a.call(o,{id:te.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:zt.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const p=this.getAdapter(r);await(p==null?void 0:p.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else u===zt.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r}))}}async initialize(e){var n;await super.initialize(e),(n=this.chainNamespaces)==null||n.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),co.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const s=`${r}:${n}`,i=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===s);if(r!==te.CHAIN.EVM||i!=null&&i.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(a,r),this.setProfileImage(c,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=It.getProviderId(e);if(n===zt.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=fe.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(Ae.isClient()&&!AO)try{const e={..._t.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),Ae.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!ie.state.disableAppend&&!ie.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}AO=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!Ae.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(cn(()=>import("./embedded-wallet-DzdOzGdC.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12,13,14]))),n.email&&r.push(cn(()=>import("./email-DgVsdc0G.js"),__vite__mapDeps([15,4,14,8,13,7,12,16,9]))),n.socials&&r.push(cn(()=>import("./socials-yy9kl84v.js"),__vite__mapDeps([17,4,18,7,19,20,13,21,12,8,14,22,6,23]))),n.swaps&&n.swaps.length>0&&r.push(cn(()=>import("./swaps-BsH9KCP-.js"),__vite__mapDeps([24,4,12,8,25,26,27,6,13,23,9,7]))),e.send&&r.push(cn(()=>import("./send-BniOwaAe.js"),__vite__mapDeps([28,4,12,8,13,7,19,14,27,6,9,29,30]))),e.receive&&r.push(cn(()=>import("./receive-mnYSMSay.js"),__vite__mapDeps([31,4,32,6,22]))),n.onramp&&n.onramp.length>0&&r.push(cn(()=>import("./onramp-fZ3jyWX6.js"),__vite__mapDeps([33,4,34,23,13,6,8,35,18,7,19,36,14,12,21,9]))),n.activity&&r.push(cn(()=>import("./transactions-D3roti7T.js"),__vite__mapDeps([37,4,38,34,23,13,14,6]))),e.pay&&r.push(cn(()=>import("./index-B64yJBOe.js"),__vite__mapDeps([39,4,12,8,40,6,13,10,35,30,21]))),await Promise.all([...r,cn(()=>import("./index-DkBWXlpu.js"),__vite__mapDeps([41,4,6,8,29,13,42,26,10,35,12,11,40,38,34,23,14,25,30,7,9,16,18,19,20,5,21,32,22,36])),cn(()=>import("./w3m-modal-CqfhGRTH.js"),__vite__mapDeps([43,4,10,6,13,11,8,26,42]))])}}let $a;function Ave(t){t&&($a=t)}function Jv(){if(!$a)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function t(n){await($a==null?void 0:$a.open(n))}async function e(){await($a==null?void 0:$a.close())}return{open:t,close:e}}const Ive="1.7.10";let My;function Tve(t){return My||(My=new Sve({...t,sdkVersion:Ae.generateSdkVersion(t.adapters??[],"react",Ive)}),Ave(My)),My}const Nve=$i({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"720px",height:"600px",minWidth:"480px",minHeight:"360px",top:"calc(50vh - 300px)",left:"calc(50vw - 360px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:100},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},detailContent:{padding:"20px",color:"#000"},detailImage:{width:"100%",height:"auto",marginBottom:"20px",border:"1px solid #ccc"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),IO=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"},{slug:"lawbstation",name:"Lawbstation",api:"opensea-solana",chain:"solana"},{slug:"lawbnexus",name:"Nexus",api:"opensea-solana",chain:"solana"}],Pve=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=Nve({isOpen:t}),{open:i}=Jv(),o=M.useRef(null),[a,c]=M.useState([]),[l,u]=M.useState(!0),[d,h]=M.useState(null),[f,p]=M.useState("all"),[g,y]=M.useState(1),[w,b]=M.useState(1),[v,E]=M.useState(0),[_,x]=M.useState(null),[S,T]=M.useState(IO[0]),[C,O]=M.useState(!1),[R,B]=M.useState(null),W=M.useCallback(async()=>{var k,U;try{if((k=window.solana)!=null&&k.isPhantom){const q=await window.solana.connect();B(q.publicKey.toString());return}if((U=window.solflare)!=null&&U.isSolflare){const q=await window.solflare.connect();B(q.publicKey.toString());return}i()}catch(q){console.error("Failed to connect Solana wallet:",q),alert("Failed to connect Solana wallet. Please make sure Phantom or Solflare is installed.")}O(!1)},[i]);M.useEffect(()=>{var k,U;(k=window.solana)!=null&&k.publicKey?B(window.solana.publicKey.toString()):(U=window.solflare)!=null&&U.publicKey&&B(window.solflare.publicKey.toString())},[]),M.useEffect(()=>{t&&(async()=>{var U;u(!0),h(null);try{let q,Y=f==="owned"&&r||void 0;if(S.api==="opensea-solana"){if(f==="owned"&&!R){O(!0),u(!1);return}Y=R||void 0,q=await k8(S.slug,50),console.log("Fetched Solana NFTs from collection:",q.data.length),f==="owned"&&R&&(console.log("Filtering for owner:",R),console.log("Sample NFT owner data:",(U=q.data[0])==null?void 0:U.owners),console.log("All NFTs owner data:",q.data.map(Q=>({name:Q.name,owners:Q.owners,owner_of:Q.owner_of}))),q.data.some(Q=>Q.owners&&Q.owners.length>0)?(q.data=q.data.filter(Q=>{const ne=Q.owners.some(ae=>ae.owner_of&&ae.owner_of.toLowerCase()===R.toLowerCase());return ne&&console.log("Found owned NFT:",Q.name),ne}),console.log("NFTs after filtering:",q.data.length)):(console.log("No owner data available from OpenSea for Solana collection"),h("Owner data not available for this Solana collection. Showing all NFTs.")))}else S.api==="opensea"?q=await kA(S.slug,50,Y):q=await PA(S.slug,g,50,Y);c(q.data),b(q.totalPages),E(q.totalCount)}catch(q){q instanceof Error?h(q.message):h("An unknown error occurred."),c([])}finally{u(!1)}})()},[t,g,f,r,S,R]),M.useEffect(()=>{C&&W()},[C,W]);const F=k=>new Date(k).toLocaleDateString(),A=k=>S.api==="opensea-solana"&&(!k.owners||k.owners.length===0)?"Owner data unavailable":k.owners.length>0?`${k.owners[0].owner_of.substring(0,6)}...`:"N/A",I=()=>{n&&n()},D=async k=>{if(S.api==="opensea"&&S.chain)try{const U=await P8(S.chain,k.address,k.token_id.toString()),q={...k,attributes:JSON.stringify(U.traits||[])};x(q)}catch(U){console.error("Failed to fetch full NFT details",U),x(k)}else x(k)},N=k=>{T(k),y(1)};return t?m.jsxs(m.Fragment,{children:[m.jsx(sm,{nodeRef:o,handle:`.${s.header}`,children:m.jsxs("div",{ref:o,className:s.popup,children:[m.jsxs("div",{className:s.header,children:[m.jsx("span",{children:"LAWB NFT GALLERY"}),m.jsxs("div",{className:s.titleBarButtons,children:[m.jsx("button",{className:s.titleBarButton,onClick:I,title:"Minimize",children:"_"}),m.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:"✕"})]})]}),m.jsx("div",{className:s.collectionSelector,children:IO.map(k=>m.jsx("button",{className:`${s.collectionButton} ${S.slug===k.slug?"active":""}`,onClick:()=>N(k),children:k.name},k.slug))}),m.jsxs("div",{className:s.content,children:[m.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[m.jsx("button",{onClick:()=>p("all"),style:{background:f==="all"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:f==="all"?"white":"black"},children:"All NFTs"}),m.jsx("button",{onClick:()=>p("recent"),disabled:!r,style:{background:f==="recent"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r?"pointer":"not-allowed",color:f==="recent"?"white":"black",opacity:r?1:.6},children:"Recently Minted"}),m.jsx("button",{onClick:()=>p("owned"),disabled:!r&&!R,style:{background:f==="owned"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r||R?"pointer":"not-allowed",color:f==="owned"?"white":"black",opacity:r||R?1:.6},children:"My NFTs"}),S.api==="opensea-solana"&&m.jsx("button",{onClick:()=>{W()},style:{background:R?"#4CAF50":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:R?"white":"black",marginLeft:"auto"},children:R?`Solana: ${R.slice(0,4)}...${R.slice(-4)}`:"Connect Solana"})]}),S.api==="opensea-solana"&&!R&&m.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",padding:"10px",marginBottom:"10px",color:"#856404"},children:"Connect your Solana wallet (Phantom or Solflare) to view your NFTs from this collection."}),d&&m.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:d}),l?m.jsx("div",{children:"Loading NFTs..."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"10px",fontSize:"14px"},children:[f==="all"&&`Showing all NFTs (${v} total)`,f==="recent"&&`Recently minted NFTs by ${S.api==="opensea-solana"?(R==null?void 0:R.slice(0,6))+"..."+(R==null?void 0:R.slice(-4)):(r==null?void 0:r.slice(0,6))+"..."+(r==null?void 0:r.slice(-4))}`,f==="owned"&&`NFTs owned by ${S.api==="opensea-solana"?(R==null?void 0:R.slice(0,6))+"..."+(R==null?void 0:R.slice(-4)):(r==null?void 0:r.slice(0,6))+"..."+(r==null?void 0:r.slice(-4))}`]}),a.length===0?m.jsx("div",{children:"No NFTs found."}):m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:a.map(k=>m.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},onClick:()=>{D(k)},children:[m.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${k.image_url})`,backgroundSize:"cover",backgroundPosition:"center",marginBottom:"10px",border:"1px solid #ccc"}}),m.jsx("div",{style:{fontSize:"12px",marginBottom:"5px",color:"#000"},children:m.jsxs("strong",{children:["#",k.token_id]})}),m.jsxs("div",{style:{fontSize:"11px",marginBottom:"5px",color:"#000"},children:["Owner: ",A(k)]}),m.jsxs("div",{style:{fontSize:"11px",color:"#666"},children:["Minted: ",F(k.created_at)]})]},k.id))}),f!=="recent"&&w>1&&m.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"20px"},children:[m.jsx("button",{onClick:()=>y(k=>Math.max(1,k-1)),disabled:g===1,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:g===1?"not-allowed":"pointer"},children:"Previous"}),m.jsxs("span",{style:{padding:"5px 10px"},children:["Page ",g," of ",w]}),m.jsx("button",{onClick:()=>y(k=>Math.min(w,k+1)),disabled:g===w,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:g===w?"not-allowed":"pointer"},children:"Next"})]})]})]})]})}),_&&m.jsx(BJ,{nft:_,onClose:()=>x(null)})]}):null},kve=$i({container:{display:"flex",flexDirection:"column",gap:4,padding:4,background:"#c0c0c0",border:"2px outset #fff",borderRadius:8,maxWidth:500,width:"100%",fontFamily:"monospace",fontSize:11},header:{textAlign:"center",marginBottom:2},subtitle:{color:"#000",fontSize:"10px",textAlign:"center",marginBottom:2,lineHeight:1.1},content:{display:"flex",flexDirection:"column",gap:2},section:{display:"flex",flexDirection:"column",gap:1},sectionTitle:{fontWeight:"bold",color:"#000",fontSize:11,borderBottom:"1px solid #888",paddingBottom:0},row:{display:"flex",alignItems:"center",gap:3,flexWrap:"wrap"},label:{minWidth:55,color:"#000",fontWeight:"bold",fontSize:10},input:{flex:1,minWidth:70,padding:"2px 3px",border:"2px inset #fff",background:"#fff",fontSize:10,fontFamily:"monospace",color:"#000"},button:{padding:"3px 8px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:10,fontWeight:"bold",color:"#000","&:hover":{background:"#d0d0d0"},"&:active":{border:"2px inset #fff"}},effectButton:{padding:"2px 5px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:9,fontWeight:"bold",color:"#000","&:hover":{background:"#d0d0d0"},"&:active":{border:"2px inset #fff"}},memeArea:{display:"flex",justifyContent:"center",position:"relative",marginTop:1},canvas:{border:"2px inset #fff",background:"#333",maxWidth:"100%",height:"auto"},dropdown:{position:"relative"},dropdownContent:{position:"absolute",top:"100%",left:0,background:"#fff",border:"2px outset #fff",borderRadius:4,zIndex:10,minWidth:100,maxHeight:100,overflowY:"auto"},dropdownItem:{padding:"3px 5px",cursor:"pointer",fontSize:9,borderBottom:"1px solid #eee","&:hover":{background:"#f0f0f0"}},actions:{display:"flex",gap:3,justifyContent:"center",marginTop:1}}),Ove=[{id:"lawbsters",name:"Lawbsters",api:"opensea",slug:"lawbsters",chain:"ethereum"},{id:"lawbstarz",name:"Lawbstarz",api:"opensea",slug:"lawbstarz",chain:"ethereum"},{id:"pixelawbs",name:"Pixelawbsters",api:"scatter",slug:"pixelawbs"},{id:"halloween",name:"Halloween Lawbsters",api:"opensea",slug:"a-lawbster-halloween",chain:"base"},{id:"lawbstation",name:"Lawbstation",api:"opensea-solana",slug:"lawbstation",chain:"solana"},{id:"nexus",name:"Nexus",api:"opensea-solana",slug:"lawbnexus",chain:"solana"}];function uU(){const t=kve(),e=M.useRef(null),[n,r]=M.useState(null),[s,i]=M.useState(""),[o,a]=M.useState(""),[c,l]=M.useState(36),[u,d]=M.useState(36),[h,f]=M.useState(!1),[p,g]=M.useState(!1),[y,w]=M.useState(!1),[b,v]=M.useState(!1),[E,_]=M.useState(!1),x=M.useCallback(()=>{const F=N=>{const k=e.current;if(!k)return;N.textAlign="center";const U=(q,Y)=>{const ee=q.split(" "),Q=[];let ne="";for(let ae=0;ae<ee.length;ae++){const ye=ne?ne+" "+ee[ae]:ee[ae];N.measureText(ye).width<=Y?ne=ye:(ne&&Q.push(ne),ne=ee[ae])}return ne&&Q.push(ne),Q};if(s){N.font=`bold ${c}px Impact`;const q=k.width*.9;(function(){return N.font=`bold ${c}px Impact`,U(s,q)})().forEach((ee,Q)=>{const ne=c+10+Q*c*1.2;N.strokeStyle="#000",N.lineWidth=4,N.strokeText(ee,k.width/2,ne),N.fillStyle="#fff",N.fillText(ee,k.width/2,ne)})}if(o){N.font=`bold ${u}px Impact`;const q=k.width*.9,Y=function(){return N.font=`bold ${u}px Impact`,U(o,q)}(),ee=12;Y.forEach((Q,ne)=>{const ae=k.height-ee-(Y.length-1-ne)*u*1.2;N.strokeStyle="#000",N.lineWidth=4,N.strokeText(Q,k.width/2,ae),N.fillStyle="#fff",N.fillText(Q,k.width/2,ae)})}},A=N=>{try{h&&S(N),p&&T(N),y&&C(N)}catch{console.warn("Effects could not be applied due to CORS restrictions. Try uploading your own image instead."),f(!1),g(!1),w(!1)}},I=e.current;if(!I)return;const D=I.getContext("2d");if(D)if(D.clearRect(0,0,I.width,I.height),n){console.log("Loading image:",n);const N=new Image;N.crossOrigin="anonymous",N.onload=()=>{console.log("Image loaded successfully:",N.width,"x",N.height);const k=e.current;if(!k||k!==I)return;const U=k.getContext("2d");if(!U)return;U.clearRect(0,0,k.width,k.height);const q=Math.min(k.width/N.width,k.height/N.height),Y=(k.width-N.width*q)/2,ee=(k.height-N.height*q)/2;console.log("Drawing image at:",Y,ee,"with scale:",q),U.drawImage(N,Y,ee,N.width*q,N.height*q),F(U),A(k)},N.onerror=k=>{console.error("Failed to load image:",n,k);const U=e.current;if(!U||U!==I)return;const q=U.getContext("2d");q&&(q.clearRect(0,0,U.width,U.height),q.fillStyle="#333",q.fillRect(0,0,U.width,U.height),F(q),A(U))},N.src=n}else D.fillStyle="#333",D.fillRect(0,0,I.width,I.height),F(D),A(I)},[n,s,c,o,u,h,p,y]),S=F=>{const A=F.getContext("2d");if(!A)return;const I=A.getImageData(0,0,F.width,F.height),D=I.data;for(let N=0;N<D.length;N+=4){const k=D[N],U=D[N+1],q=D[N+2],Y=(k+U+q)/3,ee=1.8;D[N]=Math.min(255,Y+(k-Y)*ee),D[N+1]=Math.min(255,Y+(U-Y)*ee*.7),D[N+2]=Math.min(255,Y+(q-Y)*ee*.4);const Q=1.3;D[N]=Math.min(255,Math.max(0,D[N]*Q)),D[N+1]=Math.min(255,Math.max(0,D[N+1]*Q)),D[N+2]=Math.min(255,Math.max(0,D[N+2]*Q))}A.putImageData(I,0,0)},T=F=>{const A=F.getContext("2d");if(!A)return;const I=4,N=A.getImageData(0,0,F.width,F.height).data,k=new Uint8ClampedArray(N);for(let U=0;U<F.height;U+=I)for(let q=0;q<F.width;q+=I){const Y=(U*F.width+q)*4,ee=N[Y],Q=N[Y+1],ne=N[Y+2],ae=N[Y+3];for(let ye=0;ye<I&&U+ye<F.height;ye++)for(let Le=0;Le<I&&q+Le<F.width;Le++){const Re=((U+ye)*F.width+(q+Le))*4;k[Re]=ee,k[Re+1]=Q,k[Re+2]=ne,k[Re+3]=ae}}A.putImageData(new ImageData(k,F.width,F.height),0,0)},C=F=>{const A=F.getContext("2d");if(!A)return;const I=A.getImageData(0,0,F.width,F.height),D=I.data;for(let N=0;N<D.length;N+=4){const k=(Math.random()-.5)*50;D[N]=Math.max(0,Math.min(255,D[N]+k)),D[N+1]=Math.max(0,Math.min(255,D[N+1]+k)),D[N+2]=Math.max(0,Math.min(255,D[N+2]+k))}A.putImageData(I,0,0)};M.useEffect(()=>{x()},[x]);const O=F=>{var I;const A=(I=F.target.files)==null?void 0:I[0];A&&r(URL.createObjectURL(A))},R=()=>{r(null),i(""),a(""),l(36),d(36),f(!1),g(!1),w(!1)},B=()=>{const F=e.current;if(!F)return;const A=document.createElement("a");A.download="meme.png",A.href=F.toDataURL("image/png"),document.body.appendChild(A),A.click(),document.body.removeChild(A)},W=async F=>{_(!0),v(!1);try{console.log("Fetching NFTs for collection:",F);let A;if(F.api==="opensea"){console.log("Using OpenSea API for:",F.slug);const I=await kA(F.slug,50);A=I.data,console.log("OpenSea response:",I)}else if(F.api==="opensea-solana"){console.log("Using OpenSea Solana API for:",F.slug);const I=await k8(F.slug,50);A=I.data,console.log("OpenSea Solana response:",I)}else{console.log("Using Scatter API for:",F.slug);const I=await PA(F.slug,1,50);A=I.data,console.log("Scatter response:",I)}if(A&&A.length>0){const I=A[Math.floor(Math.random()*A.length)],D=I.image||I.image_url||I.image_url_shrunk;console.log("Selected NFT:",I),console.log("Image URL:",D),r(D)}else console.log("No NFTs found in collection"),alert("No NFTs found in this collection.")}catch(A){console.error("Error fetching NFTs:",A),alert("Failed to fetch NFT images. Check console for details.")}finally{_(!1)}};return m.jsxs("div",{className:t.container,children:[m.jsxs("div",{className:t.header,children:[m.jsx("h2",{style:{color:"#00ffff",textShadow:"1px 1px 0 #000",marginBottom:8,fontSize:"16px"},children:"Lawb Meme Maker"}),m.jsxs("p",{className:t.subtitle,children:["find memes or upload your own on"," ",m.jsx("a",{href:"https://memedepot.com/d/lawb",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Meme Depot"})]})]}),m.jsxs("div",{className:t.content,children:[m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Collections"}),m.jsxs("div",{className:t.row,children:[m.jsxs("div",{className:t.dropdown,children:[m.jsx("button",{className:t.button,onClick:()=>v(F=>!F),children:"Collections"}),b&&m.jsx("div",{className:t.dropdownContent,children:Ove.map(F=>m.jsx("div",{className:t.dropdownItem,onClick:()=>{W(F)},children:F.name},F.id))})]}),m.jsxs("label",{className:t.button,style:{marginBottom:0},children:["Upload Image",m.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:O})]}),E&&m.jsx("span",{style:{color:"#00ffff",marginLeft:8,fontSize:"12px"},children:"Loading NFT..."})]})]}),m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Text"}),m.jsxs("div",{className:t.row,children:[m.jsx("span",{className:t.label,children:"Top Text:"}),m.jsx("input",{className:t.input,type:"text",value:s,onChange:F=>i(F.target.value),placeholder:"Enter top text..."}),m.jsx("span",{className:t.label,children:"Size:"}),m.jsx("input",{className:t.input,type:"number",min:10,max:100,value:c,onChange:F=>l(Number(F.target.value)),style:{width:60,textAlign:"center"}})]}),m.jsxs("div",{className:t.row,children:[m.jsx("span",{className:t.label,children:"Bottom Text:"}),m.jsx("input",{className:t.input,type:"text",value:o,onChange:F=>a(F.target.value),placeholder:"Enter bottom text..."}),m.jsx("span",{className:t.label,children:"Size:"}),m.jsx("input",{className:t.input,type:"number",min:10,max:100,value:u,onChange:F=>d(Number(F.target.value)),style:{width:60,textAlign:"center"}})]})]}),m.jsxs("div",{className:t.section,children:[m.jsx("div",{className:t.sectionTitle,children:"Effects"}),m.jsxs("div",{className:t.row,children:[m.jsx("button",{className:t.effectButton,style:{background:h?"#00ffff":void 0},onClick:()=>f(F=>!F),children:"Deep Fry"}),m.jsx("button",{className:t.effectButton,style:{background:p?"#00ffff":void 0},onClick:()=>g(F=>!F),children:"Pixelate"}),m.jsx("button",{className:t.effectButton,style:{background:y?"#00ffff":void 0},onClick:()=>w(F=>!F),children:"Grain"})]})]}),m.jsxs("div",{className:t.actions,children:[m.jsx("button",{className:t.button,onClick:B,children:"Save Image"}),m.jsx("button",{className:t.button,onClick:R,children:"Restart"})]})]}),m.jsx("div",{className:t.memeArea,children:m.jsx("canvas",{ref:e,width:320,height:320,className:t.canvas})})]})}const Rve=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cn(async()=>{const{default:r}=await Promise.resolve().then(()=>zh);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class bI extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class $ve extends bI{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Dve extends bI{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jve extends bI{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(jx||(jx={}));var Uve=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class Lve{constructor(e,{headers:n={},customFetch:r,region:s=jx.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Rve(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Uve(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:l}).catch(p=>{throw new $ve(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Dve(u);if(!u.ok)throw new jve(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(s){return{data:null,error:s}}})}}var Yr={},_I={},Zv={},bm={},Xv={},eb={},Mve=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bh=Mve();const Bve=bh.fetch,dU=bh.fetch.bind(bh),hU=bh.Headers,Fve=bh.Request,zve=bh.Response,zh=Object.freeze(Object.defineProperty({__proto__:null,Headers:hU,Request:Fve,Response:zve,default:dU,fetch:Bve},Symbol.toStringTag,{value:"Module"})),qve=D0(zh);var tb={};Object.defineProperty(tb,"__esModule",{value:!0});let Wve=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};tb.default=Wve;var fU=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eb,"__esModule",{value:!0});const Hve=fU(qve),Vve=fU(tb);let Gve=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Hve.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let l=null,u=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=w:u=JSON.parse(w))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{l=JSON.parse(g),Array.isArray(l)&&i.status===404&&(u=[],l=null,h=200,f="OK")}catch{i.status===404&&g===""?(h=204,f="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,h=200,f="OK"),l&&this.shouldThrowOnError)throw new Vve.default(l)}return{error:l,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};eb.default=Gve;var Kve=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xv,"__esModule",{value:!0});const Yve=Kve(eb);let Qve=class extends Yve.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Xv.default=Qve;var Jve=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bm,"__esModule",{value:!0});const Zve=Jve(Xv);let Xve=class extends Zve.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};bm.default=Xve;var ebe=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zv,"__esModule",{value:!0});const Sf=ebe(bm);let tbe=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Sf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Sf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Sf.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Sf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Sf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Zv.default=tbe;var nb={},rb={};Object.defineProperty(rb,"__esModule",{value:!0});rb.version=void 0;rb.version="0.0.0-automated";Object.defineProperty(nb,"__esModule",{value:!0});nb.DEFAULT_HEADERS=void 0;const nbe=rb;nb.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${nbe.version}`};var pU=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_I,"__esModule",{value:!0});const rbe=pU(Zv),sbe=pU(bm),ibe=nb;let obe=class gU{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},ibe.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new rbe.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new gU(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",c=n);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new sbe.default({method:o,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};_I.default=obe;var qh=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.PostgrestError=Yr.PostgrestBuilder=Yr.PostgrestTransformBuilder=Yr.PostgrestFilterBuilder=Yr.PostgrestQueryBuilder=Yr.PostgrestClient=void 0;const mU=qh(_I);Yr.PostgrestClient=mU.default;const yU=qh(Zv);Yr.PostgrestQueryBuilder=yU.default;const wU=qh(bm);Yr.PostgrestFilterBuilder=wU.default;const vU=qh(Xv);Yr.PostgrestTransformBuilder=vU.default;const bU=qh(eb);Yr.PostgrestBuilder=bU.default;const _U=qh(tb);Yr.PostgrestError=_U.default;var abe=Yr.default={PostgrestClient:mU.default,PostgrestQueryBuilder:yU.default,PostgrestFilterBuilder:wU.default,PostgrestTransformBuilder:vU.default,PostgrestBuilder:bU.default,PostgrestError:_U.default};const{PostgrestClient:cbe,PostgrestQueryBuilder:HEe,PostgrestFilterBuilder:VEe,PostgrestTransformBuilder:GEe,PostgrestBuilder:KEe,PostgrestError:YEe}=abe;function lbe(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const ube=lbe(),dbe="2.11.13",hbe={"X-Client-Info":`realtime-js/${dbe}`},fbe="1.0.0",EU=1e4,pbe=1e3;var wp;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(wp||(wp={}));var dr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(dr||(dr={}));var yi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(yi||(yi={}));var Ux;(function(t){t.websocket="websocket"})(Ux||(Ux={}));var yl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(yl||(yl={}));class gbe{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class CU{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $t;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($t||($t={}));const TO=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=mbe(o,t,e,s),i),{})},mbe=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?xU(i,o):Lx(o)},xU=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return bbe(e,n)}switch(t){case $t.bool:return ybe(e);case $t.float4:case $t.float8:case $t.int2:case $t.int4:case $t.int8:case $t.numeric:case $t.oid:return wbe(e);case $t.json:case $t.jsonb:return vbe(e);case $t.timestamp:return _be(e);case $t.abstime:case $t.date:case $t.daterange:case $t.int4range:case $t.int8range:case $t.money:case $t.reltime:case $t.text:case $t.time:case $t.timestamptz:case $t.timetz:case $t.tsrange:case $t.tstzrange:return Lx(e);default:return Lx(e)}},Lx=t=>t,ybe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},wbe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vbe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},bbe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>xU(e,a))}return t},_be=t=>typeof t=="string"?t.replace(" ","T"):t,SU=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class A_{constructor(e,n,r={},s=EU){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var NO;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(NO||(NO={}));class vp{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vp.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=vp.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=vp.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const d=i[l];if(d){const h=u.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),p=u.filter(y=>f.indexOf(y.presence_ref)<0),g=d.filter(y=>h.indexOf(y.presence_ref)<0);p.length>0&&(a[l]=p),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,s(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var PO;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(PO||(PO={}));var kO;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(kO||(kO={}));var jo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(jo||(jo={}));class EI{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new A_(this,yi.join,this.params,this.timeout),this.rejoinTimer=new CU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yi.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new vp(this),this.broadcastEndpointURL=SU(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==dr.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(jo.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(jo.CLOSED));const c={},l={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(jo.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,p=[];for(let g=0;g<f;g++){const y=h[g],{filter:{event:w,schema:b,table:v,filter:E}}=y,_=u&&u[g];if(_&&_.event===w&&_.schema===b&&_.table===v&&_.filter===E)p.push(Object.assign(Object.assign({},y),{id:_.id}));else{this.unsubscribe(),this.state=dr.errored,e==null||e(jo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(jo.SUBSCRIBED);return}}).receive("error",u=>{this.state=dr.errored,e==null||e(jo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(jo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new A_(this,yi.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new A_(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=yi;if(r&&[a,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var p,g,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(g=f.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,g,y,w,b,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const E=f.id,_=(p=f.filter)===null||p===void 0?void 0:p.event;return E&&((g=n.ids)===null||g===void 0?void 0:g.includes(E))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const E=(b=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return E==="*"||E===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:y,commit_timestamp:w,type:b,errors:v}=p;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:w,eventType:b,new:{},old:{},errors:v}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===dr.closed}_isJoined(){return this.state===dr.joined}_isJoining(){return this.state===dr.joining}_isLeaving(){return this.state===dr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&EI.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yi.close,{},e)}_onError(e){this._on(yi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=TO(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=TO(e.columns,e.old_record)),n}}const OO=()=>{},Ebe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cbe{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=hbe,this.params={},this.timeout=EU,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=OO,this.ref=0,this.logger=OO,this.conn=null,this.sendBuffer=[],this.serializer=new gbe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>cn(async()=>{const{default:c}=await Promise.resolve().then(()=>zh);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Ux.websocket}`,this.httpEndpoint=SU(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new CU(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){this.conn||(this.transport||(this.transport=ube),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fbe}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wp.connecting:return yl.Connecting;case wp.open:return yl.Open;case wp.closing:return yl.Closing;default:return yl.Closed}}isConnected(){return this.connectionState()===yl.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new EI(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(yi.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(pbe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(yi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Ebe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class CI extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Tn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class xbe extends CI{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Mx extends CI{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Sbe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const AU=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cn(async()=>{const{default:r}=await Promise.resolve().then(()=>zh);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Abe=()=>Sbe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cn(()=>Promise.resolve().then(()=>zh),void 0)).Response:Response}),Bx=t=>{if(Array.isArray(t))return t.map(n=>Bx(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Bx(r)}),e};var Tu=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const I_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ibe=(t,e,n)=>Tu(void 0,void 0,void 0,function*(){const r=yield Abe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new xbe(I_(s),t.status||500))}).catch(s=>{e(new Mx(I_(s),s))}):e(new Mx(I_(t),t))}),Tbe=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function _m(t,e,n,r,s,i){return Tu(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Tbe(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Ibe(c,a,r))})})}function R0(t,e,n,r){return Tu(this,void 0,void 0,function*(){return _m(t,"GET",e,n,r)})}function Wa(t,e,n,r,s){return Tu(this,void 0,void 0,function*(){return _m(t,"POST",e,r,s,n)})}function Nbe(t,e,n,r,s){return Tu(this,void 0,void 0,function*(){return _m(t,"PUT",e,r,s,n)})}function Pbe(t,e,n,r){return Tu(this,void 0,void 0,function*(){return _m(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function IU(t,e,n,r,s){return Tu(this,void 0,void 0,function*(){return _m(t,"DELETE",e,r,s,n)})}var Mr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const kbe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},RO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Obe{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=AU(s)}uploadOrUpdate(e,n,r,s){return Mr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},RO),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Tn(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Mr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const l=Object.assign({upsert:RO.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Tn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Mr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Wa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new CI("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Tn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Mr(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Tn(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Mr(this,void 0,void 0,function*(){try{return{data:{path:(yield Wa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Tn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Mr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Wa(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Tn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Mr(this,void 0,void 0,function*(){try{const s=yield Wa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Tn(s))return{data:null,error:s};throw s}})}download(e,n){return Mr(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield R0(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Tn(a))return{data:null,error:a};throw a}})}info(e){return Mr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield R0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Bx(r),error:null}}catch(r){if(Tn(r))return{data:null,error:r};throw r}})}exists(e){return Mr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Pbe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Tn(r)&&r instanceof Mx){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return Mr(this,void 0,void 0,function*(){try{return{data:yield IU(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Tn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Mr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},kbe),n),{prefix:e||""});return{data:yield Wa(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Tn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Rbe="2.7.1",$be={"X-Client-Info":`storage-js/${Rbe}`};var nd=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class Dbe{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},$be),n),this.fetch=AU(r)}listBuckets(){return nd(this,void 0,void 0,function*(){try{return{data:yield R0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Tn(e))return{data:null,error:e};throw e}})}getBucket(e){return nd(this,void 0,void 0,function*(){try{return{data:yield R0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Tn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return nd(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Tn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return nd(this,void 0,void 0,function*(){try{return{data:yield Nbe(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Tn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return nd(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Tn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return nd(this,void 0,void 0,function*(){try{return{data:yield IU(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Tn(n))return{data:null,error:n};throw n}})}}class jbe extends Dbe{constructor(e,n={},r){super(e,n,r)}from(e){return new Obe(this.url,this.headers,e,this.fetch)}}const Ube="2.50.1";let qf="";typeof Deno<"u"?qf="deno":typeof document<"u"?qf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qf="react-native":qf="node";const Lbe={"X-Client-Info":`supabase-js-${qf}/${Ube}`},Mbe={headers:Lbe},Bbe={schema:"public"},Fbe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zbe={};var qbe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Wbe=t=>{let e;return t?e=t:typeof fetch>"u"?e=dU:e=fetch,(...n)=>e(...n)},Hbe=()=>typeof Headers>"u"?hU:Headers,Vbe=(t,e,n)=>{const r=Wbe(n),s=Hbe();return(i,o)=>qbe(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:l}))})};var Gbe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function Kbe(t){return t.endsWith("/")?t:t+"/"}function Ybe(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:c,auth:l,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Gbe(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const TU="2.70.0",dd=30*1e3,Fx=3,T_=Fx*dd,Qbe="http://localhost:9999",Jbe="supabase.auth.token",Zbe={"X-Client-Info":`gotrue-js/${TU}`},zx="X-Supabase-Api-Version",NU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xbe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,e1e=6e5;class xI extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ge(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class t1e extends xI{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function n1e(t){return Ge(t)&&t.name==="AuthApiError"}class PU extends xI{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Yc extends xI{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Da extends Yc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function r1e(t){return Ge(t)&&t.name==="AuthSessionMissingError"}class By extends Yc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fy extends Yc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zy extends Yc{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function s1e(t){return Ge(t)&&t.name==="AuthImplicitGrantRedirectError"}class $O extends Yc{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qx extends Yc{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function N_(t){return Ge(t)&&t.name==="AuthRetryableFetchError"}class DO extends Yc{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class bp extends Yc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jO=` 	
\r=`.split(""),i1e=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jO.length;e+=1)t[jO[e].charCodeAt(0)]=-2;for(let e=0;e<$0.length;e+=1)t[$0[e].charCodeAt(0)]=e;return t})();function UO(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n($0[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n($0[r]),e.queuedBits-=6}}function kU(t,e,n){const r=i1e[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function LO(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{c1e(o,r,n)};for(let o=0;o<t.length;o+=1)kU(t.charCodeAt(o),s,i);return e.join("")}function o1e(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function a1e(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}o1e(r,e)}}function c1e(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function l1e(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)kU(t.charCodeAt(s),n,r);return new Uint8Array(e)}function u1e(t){const e=[];return a1e(t,n=>e.push(n)),new Uint8Array(e)}function d1e(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>UO(s,n,r)),UO(null,n,r),e.join("")}function h1e(t){return Math.round(Date.now()/1e3)+t}function f1e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const di=()=>typeof window<"u"&&typeof document<"u",il={tested:!1,writable:!1},_p=()=>{if(!di())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(il.tested)return il.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),il.tested=!0,il.writable=!0}catch{il.tested=!0,il.writable=!1}return il.writable};function p1e(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const OU=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cn(async()=>{const{default:r}=await Promise.resolve().then(()=>zh);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},g1e=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",RU=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},qy=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Wy=async(t,e)=>{await t.removeItem(e)};class sb{constructor(){this.promise=new sb.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}sb.promiseConstructor=Promise;function P_(t){const e=t.split(".");if(e.length!==3)throw new bp("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Xbe.test(e[r]))throw new bp("JWT not in base64url format");return{header:JSON.parse(LO(e[0])),payload:JSON.parse(LO(e[1])),signature:l1e(e[2]),raw:{header:e[0],payload:e[1]}}}async function m1e(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function y1e(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function w1e(t){return("0"+t.toString(16)).substr(-2)}function v1e(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,w1e).join("")}async function b1e(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function _1e(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await b1e(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rd(t,e,n=!1){const r=v1e();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await RU(t,`${e}-code-verifier`,s);const i=await _1e(r);return[i,r===i?"plain":"s256"]}const E1e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function C1e(t){const e=t.headers.get(zx);if(!e||!e.match(E1e))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function x1e(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function S1e(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const A1e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sd(t){if(!A1e.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var I1e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const hl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),T1e=[502,503,504];async function MO(t){var e;if(!g1e(t))throw new qx(hl(t),0);if(T1e.includes(t.status))throw new qx(hl(t),t.status);let n;try{n=await t.json()}catch(i){throw new PU(hl(i),i)}let r;const s=C1e(t);if(s&&s.getTime()>=NU["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new DO(hl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Da}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new DO(hl(n),t.status,n.weak_password.reasons);throw new t1e(hl(n),t.status||500,r)}const N1e=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function et(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[zx]||(i[zx]=NU["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await P1e(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function P1e(t,e,n,r,s,i){const o=N1e(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new qx(hl(c),0)}if(a.ok||await MO(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await MO(c)}}function $o(t){var e;let n=null;$1e(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=h1e(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function BO(t){const e=$o(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function k1e(t){return{data:t,error:null}}function O1e(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=I1e(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function R1e(t){return t}function $1e(t){return t.access_token&&t.refresh_token&&t.expires_in}const k_=["global","local","others"];var D1e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class j1e{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=OU(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=k_[0]){if(k_.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${k_.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qa})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=D1e(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:O1e,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qa})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:R1e});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);l[`${y}Page`]=g}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Ge(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){sd(e);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qa})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){sd(e);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Qa})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){sd(e);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qa})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){sd(e.userId);try{const{data:n,error:r}=await et(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteFactor(e){sd(e.userId),sd(e.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}}const U1e={getItem:t=>_p()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{_p()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{_p()&&globalThis.localStorage.removeItem(t)}};function FO(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function L1e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const id={debug:!!(globalThis&&_p()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $U extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class M1e extends $U{}async function B1e(t,e,n){id.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),id.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){id.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{id.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw id.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new M1e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(id.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}L1e();const F1e={url:Qbe,storageKey:Jbe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zbe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zO(t,e,n){return await n()}class Mg{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mg.nextInstanceID,Mg.nextInstanceID+=1,this.instanceID>0&&di()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},F1e),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new j1e({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=OU(s.fetch),this.lock=s.lock||zO,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:di()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=B1e:this.lock=zO,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:_p()?this.storage=U1e:(this.memoryStorage={},this.storage=FO(this.memoryStorage)):(this.memoryStorage={},this.storage=FO(this.memoryStorage)),di()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${TU}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=p1e(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),di()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),s1e(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ge(n)?{error:n}:{error:new PU("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:$o}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(Ge(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await rd(this.storage,this.storageKey)),i=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:$o})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$o})}else throw new Fy("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(Ge(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:BO})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:BO})}else throw new Fy("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new By}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,c,l,u,d,h,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:y,wallet:w,statement:b,options:v}=e;let E;if(di())if(typeof w=="object")E=w;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))E=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const _=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const x=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),b?{statement:b}:null));let S;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")S=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)S=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)p=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),g=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const x=await E.signMessage(new TextEncoder().encode(p),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=x}}try{const{data:y,error:w}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:d1e(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:$o});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new By}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(Ge(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const n=await qy(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:$o});if(await Wy(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new By}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Ge(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$o}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new By}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await rd(this.storage,this.storageKey));const{error:d}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Fy("You must provide either an email or phone number.")}catch(a){if(Ge(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:$o});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(Ge(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await rd(this.storage,this.storageKey)),await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:k1e})}catch(i){if(Ge(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Da;const{error:s}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Ge(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Fy("You must provide either an email or phone number and a type")}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await qy(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<T_:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qa}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Da}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Qa})})}catch(n){if(Ge(n))return r1e(n)&&(await this._removeSession(),await Wy(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Da;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await rd(this.storage,this.storageKey));const{data:l,error:u}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:Qa});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Da;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=P_(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ge(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Da;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!di())throw new zy("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zy(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $O("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zy("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $O("No code detected.");const{data:b,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new zy("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;c&&(h=parseInt(c));const f=h-u;f*1e3<=dd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(r){if(Ge(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await qy(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(n1e(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Wy(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=f1e(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await rd(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ge(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,l,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return di()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ge(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await y1e(async s=>(s>0&&await m1e(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$o})),(s,i)=>{const o=200*Math.pow(2,s);return i&&N_(i)&&Date.now()+o-r<dd})}catch(r){if(this._debug(n,"error",r),Ge(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),di()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await qy(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<T_;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${T_}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),N_(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Da;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new sb;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Da;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Ge(i)){const o={session:null,error:i};return N_(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await RU(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Wy(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&di()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),dd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/dd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${dd}ms, refresh threshold is ${Fx} ticks`),s<=Fx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $U)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!di()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await rd(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await et(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await et(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=P_(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+e1e>Date.now()))return r;const{data:s,error:i}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new bp("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new bp("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};r=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=P_(r);if(x1e(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const l=S1e(s.alg),u=await this.fetchJwk(s.kid,n),d=await crypto.subtle.importKey("jwk",u,l,!0,["verify"]);if(!await crypto.subtle.verify(l,d,o,u1e(`${a}.${c}`)))throw new bp("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}}Mg.nextInstanceID=0;const z1e=Mg;class q1e extends z1e{constructor(e){super(e)}}var W1e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class H1e{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Kbe(e),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:Bbe,realtime:zbe,auth:Object.assign(Object.assign({},Fbe),{storageKey:l}),global:Mbe},d=Ybe(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Vbe(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new cbe(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Lve(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new jbe(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return W1e(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},l,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new q1e({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Cbe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const DU=(t,e,n)=>new H1e(t,e,n),V1e="https://roxwocgknkiqnsgiojgz.supabase.co",G1e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJveHdvY2drbmtpcW5zZ2lvamd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzA3NjMxMTIsImV4cCI6MjA0NjMzOTExMn0.NbLMZom-gk7XYGdV4MtXYcgR8R1s8xthrIQ0hpQfx9Y",ol=DU(V1e,G1e),Wi={AI:"ai",ONLINE:"online"},Hy={R:"/images/redrook.png",N:"/images/redknight.png",B:"/images/redbishop.png",Q:"/images/redqueen.png",K:"/images/redking.png",P:"/images/redpawn.png",r:"/images/bluerook.png",n:"/images/blueknight.png",b:"/images/bluebishop.png",q:"/images/bluequeen.png",k:"/images/blueking.png",p:"/images/bluepawn.png"},qO=[["R","N","B","Q","K","B","N","R"],["P","P","P","P","P","P","P","P"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["p","p","p","p","p","p","p","p"],["r","n","b","q","k","b","n","r"]],K1e=[{key:"K",name:"Red King",img:"/images/redking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"Q",name:"Red Queen",img:"/images/redqueen.png",desc:"The Queen moves any number of squares in any direction."},{key:"R",name:"Red Rook",img:"/images/redrook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"B",name:"Red Bishop",img:"/images/redbishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"N",name:"Red Knight",img:"/images/redknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"P",name:"Red Pawn",img:"/images/redpawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."},{key:"k",name:"Blue King",img:"/images/blueking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"q",name:"Blue Queen",img:"/images/bluequeen.png",desc:"The Queen moves any number of squares in any direction."},{key:"r",name:"Blue Rook",img:"/images/bluerook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"b",name:"Blue Bishop",img:"/images/bluebishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"n",name:"Blue Knight",img:"/images/blueknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"p",name:"Blue Pawn",img:"/images/bluepawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."}],Y1e=({onClose:t,onMinimize:e})=>{const{address:n}=dv(),[r,s]=M.useState(Wi.AI),[i,o]=M.useState(()=>JSON.parse(JSON.stringify(qO))),[a,c]=M.useState("blue"),[l,u]=M.useState(null),[d,h]=M.useState("active"),[f,p]=M.useState("easy"),[g,y]=M.useState("Connect wallet to play"),[w,b]=M.useState([]),[v,E]=M.useState([]),[_,x]=M.useState([]),[S,T]=M.useState(null),[C,O]=M.useState(!1),[R,B]=M.useState(!1),[W,F]=M.useState(!1),[A,I]=M.useState(!1),[D,N]=M.useState(null),[k,U]=M.useState(""),[q,Y]=M.useState(.1),[ee,Q]=M.useState({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),ne=M.useRef(null),ae=M.useRef(!1),ye=M.useRef(i);M.useEffect(()=>{ye.current=i},[i]),M.useEffect(()=>{n?y("Select game mode"):(y("Connect wallet to play"),F(!1),O(!1),B(!1))},[n]),M.useEffect(()=>(console.log("AI worker disabled for testing"),y("AI worker disabled for testing"),()=>{ne.current&&ne.current.terminate()}),[]),M.useEffect(()=>{Le()},[]);const Le=async()=>{try{const G=new Promise((L,H)=>window.setTimeout(()=>H(new Error("Database timeout")),1e4)),V=ol.from("leaderboard").select("*").order("points",{ascending:!1}),{data:J,error:j}=await Promise.race([V,G]);if(j){y("Failed to load leaderboard"),console.error("Leaderboard error:",j);return}J&&E(J)}catch(G){y("Failed to load leaderboard"),console.error("Leaderboard error:",G)}},Re=async G=>{if(n)try{const V=n.toLowerCase(),{data:J}=await ol.from("leaderboard").select("*").eq("username",V).maybeSingle(),j=((J==null?void 0:J.wins)||0)+(G==="win"?1:0),L=((J==null?void 0:J.losses)||0)+(G==="loss"?1:0),H=((J==null?void 0:J.draws)||0)+(G==="draw"?1:0),K=j+L+H,X=G==="win"?f==="hard"?5:3:G==="draw"?1:0,le=((J==null?void 0:J.points)||0)+X;J?await ol.from("leaderboard").update({wins:j,losses:L,draws:H,total_games:K,points:le,updated_at:new Date().toISOString()}).eq("username",V):await ol.from("leaderboard").insert({username:V,chain_type:"evm",wins:j,losses:L,draws:H,total_games:K,points:le,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),Le()}catch(V){console.error("Error updating score:",V)}},Be=G=>G&&G===G.toUpperCase()?"red":"blue",Xe=(G,V)=>G>=0&&G<8&&V>=0&&V<8,Wt=(G,V)=>`${String.fromCharCode(97+V)}${8-G}`,qe=(G,V)=>{const J=V==="blue"?"k":"K";let j=null;for(let K=0;K<8;K++){for(let X=0;X<8;X++)if(G[K][X]===J){j={row:K,col:X};break}if(j)break}if(!j)return console.log(`King not found for ${V}`),!1;const L=V==="blue"?"red":"blue",H=We(j.row,j.col,L,G);return console.log(`${V} king at ${j.row},${j.col} under attack: ${H}`),H},We=(G,V,J,j)=>{for(let L=0;L<8;L++)for(let H=0;H<8;H++){const K=j[L][H];if(K&&Be(K)===J&&ti(K,L,H,G,V,!1,J,j))return!0}return!1},Ht=(G,V,J,j,L,H=i)=>{const K=H.map(le=>[...le]),X=K[G][V];return K[J][j]=X,K[G][V]=null,qe(K,L)},Pt=(G,V,J,j,L,H)=>{const K=G==="blue"?-1:1,X=G==="blue"?6:1;if(J===L&&j===V+K)return H[j][L]===null;if(J===L&&V===X&&j===V+2*K)return H[V+K][J]===null&&H[j][L]===null;if(Math.abs(J-L)===1&&j===V+K){const le=H[j][L];return le!==null&&Be(le)!==G}if(Math.abs(J-L)===1&&j===V+K){const le=H[V][L];if(le&&Be(le)!==G&&le.toLowerCase()==="p"&&ee.lastPawnDoubleMove&&ee.lastPawnDoubleMove.row===V&&ee.lastPawnDoubleMove.col===L)return!0}return!1},xn=(G,V,J,j,L)=>G!==J&&V!==j?!1:ji(G,V,J,j,L),is=(G,V,J,j)=>{const L=Math.abs(G-J),H=Math.abs(V-j);return L===2&&H===1||L===1&&H===2},Lt=(G,V,J,j,L)=>Math.abs(G-J)!==Math.abs(V-j)?!1:ji(G,V,J,j,L),Kt=(G,V,J,j,L)=>xn(G,V,J,j,L)||Lt(G,V,J,j,L),jn=(G,V,J,j,L)=>{const H=Math.abs(V-j),K=Math.abs(J-L);if(H<=1&&K<=1)return!0;if(H===0&&K===2){if(G==="blue"&&!ee.blueKingMoved){if(L===6&&!ee.blueRooksMove.right||L===2&&!ee.blueRooksMove.left)return!0}else if(G==="red"&&!ee.redKingMoved&&(L===6&&!ee.redRooksMove.right||L===2&&!ee.redRooksMove.left))return!0}return!1},ji=(G,V,J,j,L)=>{const H=G===J?0:(J-G)/Math.abs(J-G),K=V===j?0:(j-V)/Math.abs(j-V);let X=G+H,le=V+K;for(;X!==J||le!==j;){if(L[X][le]!==null)return!1;X+=H,le+=K}return!0},ti=(G,V,J,j,L,H=!0,K=Be(G),X=i)=>{if(!Xe(j,L))return!1;const le=X[j][L];if(le&&Be(le)===K)return!1;const Pe=G.toLowerCase();let $e=!1;switch(Pe){case"p":$e=Pt(K,V,J,j,L,X);break;case"r":$e=xn(V,J,j,L,X);break;case"n":$e=is(V,J,j,L);break;case"b":$e=Lt(V,J,j,L,X);break;case"q":$e=Kt(V,J,j,L,X);break;case"k":$e=jn(K,V,J,j,L);break}return $e&&H?!Ht(V,J,j,L,K,X):$e},os=(G,V=i,J=a)=>{const j=[],L=V[G.row][G.col];if(!L||Be(L)!==J)return j;for(let H=0;H<8;H++)for(let K=0;K<8;K++)ti(L,G.row,G.col,H,K,!0,J,V)&&j.push({row:H,col:K});return j},tn=(G,V=i)=>{if(!qe(V,G))return!1;for(let J=0;J<8;J++)for(let j=0;j<8;j++){const L=V[J][j];if(L&&Be(L)===G&&os({row:J,col:j},V,G).length>0)return!1}return!0},Xn=(G,V=i)=>{if(qe(V,G))return!1;for(let J=0;J<8;J++)for(let j=0;j<8;j++){const L=V[J][j];if(L&&Be(L)===G&&os({row:J,col:j},V,G).length>0)return!1}return!0},vo=(G,V)=>{if(d!=="active"||ae.current)return;const J=i[G][V],j=J?Be(J):null;if(l&&_.some(L=>L.row===G&&L.col===V)){Qc(l,{row:G,col:V});return}if(J&&j===a){const L=os({row:G,col:V});u({row:G,col:V}),x(L);return}u(null),x([])},Qc=(G,V,J=!1)=>{const j=i[G.row][G.col];if(!j)return;const L=Be(j);if(j.toLowerCase()==="p"&&(L==="blue"&&V.row===0||L==="red"&&V.row===7)){N({from:G,to:V}),I(!0);return}Ui(G,V,"q",J)},Ui=(G,V,J="q",j=!1)=>{const L=i[G.row][G.col];i[V.row][V.col];const H=Be(L),K=L?L.toLowerCase():"",X=i.map(Ts=>[...Ts]);X[V.row][V.col]=K==="p"&&(H==="blue"&&V.row===0||H==="red"&&V.row===7)?H==="blue"?J:J.toUpperCase():L,X[G.row][G.col]=null;const le={...ee};K==="k"?H==="blue"?le.blueKingMoved=!0:le.redKingMoved=!0:K==="r"&&(H==="blue"?(G.col===0&&(le.blueRooksMove.left=!0),G.col===7&&(le.blueRooksMove.right=!0)):(G.col===0&&(le.redRooksMove.left=!0),G.col===7&&(le.redRooksMove.right=!0))),K==="p"&&Math.abs(G.row-V.row)===2?le.lastPawnDoubleMove={row:V.row,col:V.col}:le.lastPawnDoubleMove=null,K==="k"&&Math.abs(G.col-V.col)===2&&(V.col===6?(X[G.row][7]=null,X[G.row][5]=H==="blue"?"r":"R"):V.col===2&&(X[G.row][0]=null,X[G.row][3]=H==="blue"?"r":"R")),o(X),Q(le),u(null),x([]),T({from:G,to:V});const Pe=`${Wt(G.row,G.col)}-${Wt(V.row,V.col)}`;b(Ts=>[...Ts,Pe]);const $e=km(a),vt=Jc(X,$e);if(vt){h(vt),r===Wi.AI&&Re(vt==="checkmate"?$e==="blue"?"win":"loss":"draw");return}c($e),!j&&r===Wi.AI&&$e==="red"&&d==="active"?(y("AI is thinking..."),ae.current=!0,setTimeout(()=>{const Ts=Em(X);Ts?((ni,tr,ub="q")=>{const Ns=X[ni.row][ni.col];if(!Ns)return;const ri=Be(Ns),Om=Ns.toLowerCase(),bo=X.map(Pu=>[...Pu]);bo[tr.row][tr.col]=Om==="p"&&(ri==="blue"&&tr.row===0||ri==="red"&&tr.row===7)?ri==="blue"?ub:ub.toUpperCase():Ns,bo[ni.row][ni.col]=null,o(bo),u(null),x([]),T({from:ni,to:tr});const Wh=`${Wt(ni.row,ni.col)}-${Wt(tr.row,tr.col)}`;b(Pu=>[...Pu,Wh]);const Nu=km($e),ha=Jc(bo,Nu);if(ha){h(ha),r===Wi.AI&&Re(ha==="checkmate"?Nu==="blue"?"win":"loss":"draw");return}c(Nu),y(`Your turn (${Nu})`)})(Ts.from,Ts.to,"q"):y("AI could not find a move"),ae.current=!1},1e3)):y(`Your turn (${$e})`)},Jc=(G,V)=>(console.log("Checking game end for player:",V),console.log("Is king in check:",qe(G,V)),tn(V,G)?(console.log("CHECKMATE detected!"),y(`Checkmate! ${V==="blue"?"Red":"Blue"} wins!`),"checkmate"):Xn(V,G)?(console.log("STALEMATE detected!"),y("Stalemate! Game is a draw."),"stalemate"):(qe(G,V)?(console.log("CHECK detected!"),y(`${V==="blue"?"Blue":"Red"} is in check!`)):y(`Your turn (${V})`),null)),Em=G=>{const V=[];for(let J=0;J<8;J++)for(let j=0;j<8;j++){const L=G[J][j];L&&Be(L)==="red"&&V.push({row:J,col:j})}for(let J=V.length-1;J>0;J--){const j=Math.floor(Math.random()*(J+1));[V[J],V[j]]=[V[j],V[J]]}for(const J of V){const j=os(J,G,"red");if(j.length>0){const L=j[Math.floor(Math.random()*j.length)],H=G.map(X=>[...X]),K=H[J.row][J.col];if(H[L.row][L.col]=K,H[J.row][J.col]=null,!qe(H,"red"))return{from:J,to:L}}}return null},Cm=()=>{o(JSON.parse(JSON.stringify(qO))),c("blue"),u(null),h("active"),b([]),x([]),T(null),F(!1),O(!1),B(!1),y("Select game mode"),Q({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),ae.current&&(ae.current=!1)},xm=()=>{console.log("startAIGame called"),O(!0),B(!1),y("Select difficulty")},ib=()=>{console.log("startMultiplayerGame called"),B(!0),O(!1),y("Set wager and create/join game")},Sm=()=>{console.log("startGame called, difficulty:",f,"gameMode:",r),F(!0),O(!1),B(!1),y(`Your turn (${a})`)},Am=async()=>{if(n)try{const G=Math.random().toString(36).substring(2,8).toUpperCase(),{error:V}=await ol.from("chess_games").insert({game_id:G,blue_player:n,board:JSON.stringify({positions:i,piece_state:ee}),current_player:"blue",game_state:"waiting",bet_amount:q,chain:"evm",is_public:!0});if(V)throw V;y(`Game created! Share code: ${G}`)}catch(G){console.error("Error creating game:",G),y("Failed to create game")}},ob=async()=>{if(!(!n||!k))try{const{data:G,error:V}=await ol.from("chess_games").select("*").eq("game_id",k).eq("game_state","waiting").single();if(V||!G){y("Game not found or already full");return}const{error:J}=await ol.from("chess_games").update({red_player:n,game_state:"active",updated_at:new Date().toISOString()}).eq("game_id",k);if(J)throw J;y("Joined game! Waiting for opponent..."),Sm()}catch(G){console.error("Error joining game:",G),y("Failed to join game")}},Im=G=>`${G.slice(0,6)}...${G.slice(-4)}`,Tm=(G,V)=>{const J=i[G][V],j=(l==null?void 0:l.row)===G&&(l==null?void 0:l.col)===V,L=_.some(K=>K.row===G&&K.col===V),H=S&&(S.from.row===G&&S.from.col===V||S.to.row===G&&S.to.col===V);return m.jsxs("div",{className:`square ${j?"selected":""} ${L?"legal-move":""} ${H?"last-move":""}`,onClick:()=>vo(G,V),children:[J&&m.jsx("div",{className:"piece",style:{backgroundImage:Hy[J]?`url(${Hy[J]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),L&&m.jsx("div",{className:"legal-move-indicator"})]},`${G}-${V}`)},ab=()=>{if(!A||!D)return null;const G=a==="blue"?["q","r","b","n"]:["Q","R","B","N"];return m.jsx("div",{className:"promotion-dialog",children:m.jsxs("div",{className:"promotion-content",children:[m.jsx("h3",{children:"Choose promotion piece:"}),m.jsx("div",{className:"promotion-pieces",children:G.map(V=>m.jsx("div",{className:"promotion-piece",onClick:()=>{Ui(D.from,D.to,V),I(!1),N(null)},style:{backgroundImage:Hy[V]?`url(${Hy[V]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},V))})]})})},[cb,lb]=M.useState(null),Nm=(G=!1,V="Click a piece to learn more about it.")=>m.jsxs("div",{className:`piece-gallery${G?" piece-gallery-sm":""}`,children:[m.jsx("h3",{children:"Lawbstation Chess Pieces"}),m.jsx("div",{className:"piece-gallery-grid",children:K1e.map(J=>m.jsxs("div",{className:"piece-gallery-item",onClick:()=>lb(J.key),children:[m.jsx("img",{src:J.img,alt:J.name,className:"piece-gallery-img"}),m.jsx("div",{className:"piece-gallery-name",children:J.name}),cb===J.key&&m.jsx("div",{className:"piece-gallery-desc",children:J.desc})]},J.key))}),m.jsx("div",{className:"piece-gallery-tip",children:V})]}),Pm=()=>m.jsxs("div",{className:"difficulty-selection-row",children:[m.jsx("div",{className:"difficulty-gallery-col",children:Nm(!0,"click for chess piece movements")}),m.jsxs("div",{className:"difficulty-controls-col",children:[m.jsxs("div",{className:"difficulty-selection-panel",children:[m.jsx("h3",{children:"Select Difficulty"}),m.jsx("button",{className:`difficulty-btn ${f==="easy"?"selected":""}`,onClick:()=>p("easy"),children:"Easy"}),m.jsx("button",{className:`difficulty-btn ${f==="hard"?"selected":""}`,onClick:()=>p("hard"),children:"Kinda Harder"}),m.jsx("button",{className:"start-btn",onClick:Sm,children:"Start Game"})]}),m.jsx("div",{className:"difficulty-leaderboard-panel",children:m.jsxs("div",{className:"leaderboard",children:[m.jsx("h3",{children:"Leaderboard"}),m.jsx("div",{className:"leaderboard-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Rank"}),m.jsx("th",{children:"Player"}),m.jsx("th",{children:"W"}),m.jsx("th",{children:"L"}),m.jsx("th",{children:"D"}),m.jsx("th",{children:"Points"})]})}),m.jsx("tbody",{children:v.slice(0,10).map((G,V)=>{const J=G;return m.jsxs("tr",{children:[m.jsx("td",{children:V+1}),m.jsx("td",{children:Im(J.username)}),m.jsx("td",{children:J.wins}),m.jsx("td",{children:J.losses}),m.jsx("td",{children:J.draws}),m.jsx("td",{children:J.points})]},J.username)})})]})})]})})]})]}),km=G=>G==="blue"?"red":"blue";return n?m.jsxs("div",{className:"chess-game",children:[m.jsxs("div",{className:"chess-header",children:[m.jsx("h2",{children:"Lawb Chess"}),m.jsxs("div",{className:"chess-controls",children:[e&&m.jsx("button",{onClick:e,children:"_"}),m.jsx("button",{onClick:t,children:"×"})]})]}),m.jsxs("div",{className:"chess-content",children:[!W&&!C&&!R&&m.jsx("div",{className:"gallery-main-area",children:Nm(!1)}),!W&&!C&&!R&&m.jsxs("div",{className:"game-mode-selection",children:[m.jsx("h3",{children:"Select Game Mode"}),m.jsx("button",{className:`mode-btn ${r===Wi.AI?"selected":""}`,onClick:()=>s(Wi.AI),children:"VS the House"}),m.jsx("button",{className:`mode-btn ${r===Wi.ONLINE?"selected":""}`,onClick:()=>s(Wi.ONLINE),disabled:!0,children:"PvP Under Construction"}),m.jsx("button",{className:"start-btn",onClick:()=>{r===Wi.AI?xm():ib()},children:"Continue"})]}),C&&Pm(),R&&m.jsxs("div",{className:"multiplayer-selection",children:[m.jsx("h3",{children:"Multiplayer"}),m.jsxs("div",{className:"wager-input",children:[m.jsx("label",{children:"Wager (ETH):"}),m.jsx("input",{type:"number",value:q,onChange:G=>Y(parseFloat(G.target.value)||.1),min:"0.01",step:"0.01"})]}),m.jsx("button",{onClick:Am,children:"Create Game"}),m.jsxs("div",{className:"join-game",children:[m.jsx("input",{type:"text",value:k,onChange:G=>U(G.target.value),placeholder:"Enter invite code"}),m.jsx("button",{onClick:ob,children:"Join Game"})]}),g&&g.includes("Game created!")&&m.jsx("div",{className:"game-created",children:m.jsx("p",{children:g})})]}),W&&m.jsxs("div",{className:"game-container",children:[m.jsx("div",{className:"left-sidebar",children:m.jsxs("div",{className:"move-history",children:[m.jsx("h4",{children:"Move History"}),m.jsx("div",{className:"moves",children:w.slice().reverse().map((G,V)=>m.jsxs("span",{className:"move",children:[Math.floor((w.length-1-V)/2)+1,".",(w.length-1-V)%2===0?"":" ",G]},w.length-1-V))})]})}),m.jsxs("div",{className:"game-main",children:[m.jsxs("div",{className:"game-info",children:[m.jsx("div",{className:"status",children:g}),m.jsxs("div",{className:"current-player",children:["Current: ",a==="blue"?"Blue":"Red"]}),m.jsxs("div",{className:"wager-display",children:["Wager: ",r===Wi.AI?"NA":`${q} ETH`]})]}),m.jsx("div",{className:"chessboard-container",children:m.jsx("div",{className:"chessboard",children:Array.from({length:8},(G,V)=>m.jsx("div",{className:"board-row",children:Array.from({length:8},(J,j)=>Tm(V,j))},V))})}),m.jsxs("div",{className:"game-controls",children:[m.jsx("button",{onClick:Cm,children:"New Game"}),m.jsx("button",{onClick:Cm,children:"Back to Menu"})]})]}),!W&&!C&&!R&&m.jsx("div",{className:"right-sidebar",children:m.jsxs("div",{className:"leaderboard",children:[m.jsx("h3",{children:"Leaderboard"}),m.jsx("div",{className:"leaderboard-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Rank"}),m.jsx("th",{children:"Player"}),m.jsx("th",{children:"W"}),m.jsx("th",{children:"L"}),m.jsx("th",{children:"D"}),m.jsx("th",{children:"Points"})]})}),m.jsx("tbody",{children:v.slice(0,10).map((G,V)=>{const J=G;return m.jsxs("tr",{children:[m.jsx("td",{children:V+1}),m.jsx("td",{children:Im(J.username)}),m.jsx("td",{children:J.wins}),m.jsx("td",{children:J.losses}),m.jsx("td",{children:J.draws}),m.jsx("td",{children:J.points})]},J.username)})})]})})]})})]})]}),ab()]}):m.jsxs("div",{className:"chess-game",children:[m.jsxs("div",{className:"chess-header",children:[m.jsx("h2",{children:"Lawb Chess"}),m.jsxs("div",{className:"chess-controls",children:[e&&m.jsx("button",{onClick:e,children:"_"}),m.jsx("button",{onClick:t,children:"×"})]})]}),m.jsx("div",{className:"chess-content",children:m.jsx("div",{className:"wallet-required",children:m.jsx("p",{children:"Connect your wallet to play chess"})})})]})},Q1e=$i({body:{margin:0,height:"100vh",width:"100vw",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000",cursor:'url("/assets/lawbpointer.png"), auto'}});function J1e(){const t=Q1e(),{open:e}=Jv(),{address:n,isConnected:r}=dv(),{isPending:s}=E5(),{disconnect:i}=C5(),{data:o}=x5({address:n}),[a,c]=M.useState("pixelawbs-popup"),[l,u]=M.useState(new Set),[d,h]=M.useState(!1),[f,p]=M.useState(!1),[g,y]=M.useState(!1),[w,b]=M.useState(!1),v=M.useRef(null);M.useEffect(()=>{if(a==="halloween-popup"&&v.current){const D=v.current.querySelector("script[data-tiktok-embed]");D&&D.remove();const N=document.createElement("script");N.src="https://www.tiktok.com/embed.js",N.async=!0,N.setAttribute("data-tiktok-embed","true"),v.current.appendChild(N)}},[a]);const E=(D,N,k)=>{if(D==="url"&&k)window.open(k,"_blank");else if(D==="popup"&&N)c(N),u(U=>{const q=new Set(U);return q.delete(N),q}),document.body.offsetWidth;else if(D==="wallet")r?i():e();else if(D==="mint"){if(!n){alert("Please connect your wallet first!");return}h(!0)}else D==="nft-gallery"?p(!0):D==="meme-generator"?y(!0):D==="chess"&&b(!0)},_=()=>c(null),x=D=>{u(N=>new Set(N).add(D)),c(null)},S=D=>{D==="mint-popup"?h(!0):D==="nft-gallery-popup"?p(!0):D==="meme-generator-popup"?y(!0):D==="chess-game-popup"?b(!0):c(D),u(N=>{const k=new Set(N);return k.delete(D),k})},T=()=>h(!1),C=()=>p(!1),O=()=>y(!1),R=()=>b(!1),B=()=>{h(!1),u(D=>new Set(D).add("mint-popup"))},W=()=>{p(!1),u(D=>new Set(D).add("nft-gallery-popup"))},F=()=>{y(!1),u(D=>new Set(D).add("meme-generator-popup"))},A=()=>{b(!1),u(D=>new Set(D).add("chess-game-popup"))},I=m.jsxs("div",{onClick:()=>{r?i():e()},style:{cursor:"pointer",display:"flex",alignItems:"center",color:r?"limegreen":"red",fontWeight:"bold"},children:[m.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"8px",border:"1px solid black"}}),s?"Connecting...":r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]});return m.jsxs("div",{className:t.body,children:[m.jsx(OJ,{onIconClick:E}),m.jsx($J,{minimizedWindows:Array.from(l),onRestoreWindow:S,walletButton:I,connectionStatus:{connected:r,address:n,ens:o||void 0}}),m.jsxs(js,{id:"chat-popup",isOpen:a==="chat-popup",onClose:_,onMinimize:x,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["join the chat, there is no meme we lawb you ",m.jsx("a",{href:"https://boards.miladychan.org/milady/33793",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"/milady/33793"})]}),m.jsx("img",{src:"/assets/miladychanfaq.png",alt:"Milady Chan FAQ",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(js,{id:"purity-popup",isOpen:a==="purity-popup",onClose:_,onMinimize:x,children:[m.jsx("p",{style:{marginBottom:"10px"},children:"purify your wallet and cleanse your soul with Purity Finance."}),m.jsx("p",{style:{marginBottom:"10px"},children:"swap any sol token in your wallet directly for $LAWB"}),m.jsx("a",{href:"https://www.purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",style:{cursor:"pointer"},children:"click to Purify"}),m.jsx("img",{src:"/assets/puritylawb.png",alt:"Purity Lawb",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(js,{id:"lawbstarz-popup",isOpen:a==="lawbstarz-popup",onClose:_,onMinimize:x,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["☆ LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER ☆ 666x PREMIUM PFP COLLECTION ☆ LAWBSTARZ IS A MUSIC NFT ☆ LAWBSTARZ IS AN ",m.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE ☆ LAWBSTARZ IS INSPIRED BY ",m.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"REMILIA CORP"})," ☆ LED BY NETWORK SPIRITUALITY ☆ 666 ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",m.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 ☆"]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(js,{id:"lawbstation-popup",isOpen:a==="lawbstation-popup",onClose:_,onMinimize:x,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",m.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),m.jsx("p",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",children:"Collect Lawbstations on Secondary"})}),m.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),m.jsxs(js,{id:"nexus-popup",isOpen:a==="nexus-popup",onClose:_,onMinimize:x,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",m.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),m.jsxs(js,{id:"lawbsters-popup",isOpen:a==="lawbsters-popup",onClose:_,onMinimize:x,children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})," or ",m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"NFTX"})]}),m.jsx("div",{style:{maxWidth:"400px",margin:"0 auto"},children:m.jsx(ZG,{id:"1620879129850834944"})}),m.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),m.jsx(js,{id:"pixelawbs-popup",isOpen:a==="pixelawbs-popup",onClose:_,onMinimize:x,children:(()=>{const D=N=>{N.preventDefault(),c(null),h(!0)};return m.jsxs(m.Fragment,{children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",m.jsx("span",{style:{color:"blue",textDecoration:"underline",cursor:"pointer"},onClick:D,children:"COLLECT HERE"})," OR VISIT ",m.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"SCATTER.ART"})]}),m.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",m.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PixeladyMaker"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Ethereum"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/mint.gif",alt:"Mint",style:{maxWidth:"100%"}})]})})()}),m.jsxs(js,{id:"halloween-popup",isOpen:a==="halloween-popup",onClose:_,onMinimize:x,children:[m.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),m.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}}),m.jsx("div",{ref:v,style:{maxWidth:"400px",margin:"0 auto"},children:m.jsx("blockquote",{className:"tiktok-embed",cite:"https://www.tiktok.com/@wables.eth/video/7295660710644682027","data-video-id":"7295660710644682027",style:{maxWidth:"605px",minWidth:"325px"},children:m.jsxs("section",{children:[m.jsx("a",{target:"_blank",rel:"noreferrer",title:"@wables.eth",href:"https://www.tiktok.com/@wables.eth?refer=embed",children:"@wables.eth"})," 420 lawbsters hijacked a spirit halloween superstore 🦞🎃 minting rn on @ourzora via @PC69 ",m.jsx("a",{target:"_blank",rel:"noreferrer",title:"♬ original sound - wables.eth",href:"https://www.tiktok.com/music/original-sound-7295660837769857835?refer=embed",children:"♬ original sound - wables.eth"})]})})})]}),m.jsxs(js,{id:"lawb-popup",isOpen:a==="lawb-popup",onClose:_,onMinimize:x,children:[m.jsx("h1",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"🦞 $LAWB"})}),m.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",m.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"pump.fun"}),"."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),m.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",m.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),m.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",m.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),m.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}}),m.jsx("div",{style:{width:"100%",height:"400px",marginTop:"10px"},children:m.jsx("iframe",{src:"https://dexscreener.com/solana/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&theme=dark&info=0",title:"DexScreener",style:{width:"100%",height:"100%",border:"none"}})})]}),m.jsx(UJ,{isOpen:d,onClose:T,onMinimize:B,walletAddress:n||""}),m.jsx(Pve,{isOpen:f,onClose:C,onMinimize:W,walletAddress:n}),m.jsx(js,{id:"meme-generator-popup",isOpen:g,onClose:O,onMinimize:F,children:m.jsx(uU,{})}),w&&m.jsx(Y1e,{onClose:R,onMinimize:A})]})}const Z1e=$i({galleryContainer:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#c0c0c0",zIndex:200,display:"flex",flexDirection:"column",fontFamily:"'MS Sans Serif', Arial, sans-serif"},header:{background:"navy",color:"#fff",padding:"8px",display:"flex",alignItems:"center",gap:"10px"},backButton:{background:"#c0c0c0",border:"2px outset #fff",padding:"2px 8px",cursor:"pointer","&:active":{borderStyle:"inset"}},headerTitle:{margin:0,fontSize:"1rem",fontWeight:"bold"},content:{flex:1,overflowY:"auto",padding:"1rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",cursor:"pointer",textAlign:"center","& img":{width:"100%",height:"auto",marginBottom:"8px"}},detailView:{padding:"1rem","& img":{maxWidth:"100%",marginBottom:"1rem"}},loading:{textAlign:"center",padding:"2rem"},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff",flexWrap:"wrap"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),WO=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"},{slug:"lawbstation",name:"Lawbstation",api:"opensea-solana",chain:"solana"},{slug:"lawbnexus",name:"Nexus",api:"opensea-solana",chain:"solana"}],X1e=({onBack:t,walletAddress:e})=>{const n=Z1e(),{open:r}=Jv(),[s,i]=M.useState([]),[o,a]=M.useState(!0),[c,l]=M.useState(null),[u,d]=M.useState(WO[0]),[h,f]=M.useState(!1),[p,g]=M.useState(null),[y,w]=M.useState("all"),[b,v]=M.useState(null),E=M.useCallback(async()=>{var T,C;try{if((T=window.solana)!=null&&T.isPhantom){const O=await window.solana.connect();g(O.publicKey.toString());return}if((C=window.solflare)!=null&&C.isSolflare){const O=await window.solflare.connect();g(O.publicKey.toString());return}r()}catch(O){console.error("Failed to connect Solana wallet:",O),alert("Failed to connect Solana wallet. Please make sure Phantom or Solflare is installed.")}f(!1)},[r]);M.useEffect(()=>{var T,C;(T=window.solana)!=null&&T.publicKey?g(window.solana.publicKey.toString()):(C=window.solflare)!=null&&C.publicKey&&g(window.solflare.publicKey.toString())},[]),M.useEffect(()=>{(async()=>{a(!0);try{let C,O=e||void 0;if(u.api==="opensea-solana"){if(!p){f(!0),a(!1);return}O=p,C=await DJ(p,100),console.log("Mobile: Fetched Solana NFTs by owner:",C.data.length)}else u.api==="opensea"?C=await kA(u.slug,100,O):C=await PA(u.slug,1,100,O);y==="owned"&&p&&(console.log("Filtering for owner:",p),C.data.some(B=>B.owners&&B.owners.length>0)?C.data=C.data.filter(B=>B.owners.some(F=>F.owner_of&&F.owner_of.toLowerCase()===p.toLowerCase())):(console.log("No owner data available from OpenSea for Solana collection"),v("Owner data not available for this Solana collection. Showing all NFTs."))),i(C.data)}catch(C){console.error(C)}finally{a(!1)}})()},[e,u,p,y]),M.useEffect(()=>{h&&E()},[h,E]);const _=async T=>{if(a(!0),u.api==="opensea"&&u.chain)try{const C=await P8(u.chain,T.address,T.token_id.toString()),O={...T,attributes:JSON.stringify(C.traits||[])};l(O)}catch(C){console.error("Failed to fetch full NFT details",C),l(T)}else l(T);a(!1)},x=()=>{if(!c)return null;let T=[];try{T=JSON.parse(c.attributes||"[]")}catch(C){console.error("Failed to parse NFT attributes:",C)}return m.jsxs("div",{className:n.detailView,children:[m.jsx("img",{src:c.image,alt:c.name}),m.jsx("h2",{children:c.name}),m.jsx("h4",{children:"Traits:"}),m.jsx("ul",{children:T.map((C,O)=>m.jsxs("li",{children:[m.jsxs("strong",{children:[C.trait_type,":"]})," ",C.value]},O))})]})},S=()=>m.jsxs(m.Fragment,{children:[m.jsx("div",{className:n.collectionSelector,children:WO.map(T=>m.jsx("button",{className:`${n.collectionButton} ${u.slug===T.slug?"active":""}`,onClick:()=>d(T),children:T.name},T.slug))}),m.jsxs("div",{className:n.content,children:[m.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[m.jsx("button",{onClick:()=>w("all"),style:{background:y==="all"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:y==="all"?"white":"black"},children:"All NFTs"}),m.jsx("button",{onClick:()=>w("owned"),disabled:!e&&!p,style:{background:y==="owned"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:e||p?"pointer":"not-allowed",color:y==="owned"?"white":"black",opacity:e||p?1:.6},children:"My NFTs"}),u.api==="opensea-solana"&&m.jsx("button",{onClick:()=>{E()},style:{background:p?"#4CAF50":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:p?"white":"black",marginLeft:"auto"},children:p?`Solana: ${p.slice(0,4)}...${p.slice(-4)}`:"Connect Solana"})]}),b&&m.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:b}),u.api==="opensea-solana"&&!p&&m.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",padding:"10px",marginBottom:"10px",color:"#856404"},children:"Connect your Solana wallet (Phantom or Solflare) to view your NFTs from this collection."}),o?m.jsx("div",{className:n.loading,children:"Loading NFTs..."}):m.jsx("div",{className:n.grid,children:s.map(T=>{let C=T.image||T.image_url||T.image_url_shrunk||"/assets/pixelawb.png";return m.jsxs("div",{className:n.gridItem,onClick:()=>void _(T),children:[m.jsx("img",{src:C,alt:T.name,onError:O=>{O.currentTarget.src!==T.image_url&&T.image_url?O.currentTarget.src=T.image_url:O.currentTarget.src!==T.image_url_shrunk&&T.image_url_shrunk?O.currentTarget.src=T.image_url_shrunk:O.currentTarget.src="/assets/pixelawb.png"}}),m.jsx("span",{children:T.name})]},T.id)})})]})]});return m.jsxs("div",{className:n.galleryContainer,children:[m.jsxs("header",{className:n.header,children:[m.jsx("button",{className:n.backButton,onClick:c?()=>l(null):t,children:"Back"}),m.jsx("h2",{className:n.headerTitle,children:c?c.name:"LAWB NFT GALLERY"})]}),m.jsx("div",{className:n.content,children:o?m.jsx("p",{className:n.loading,children:"Loading..."}):c?x():S()})]})},e_e=$i({overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",zIndex:4e3,display:"flex",alignItems:"center",justifyContent:"center"},popup:{background:"#c0c0c0",border:"2px outset #fff",borderRadius:12,width:"92vw",maxWidth:420,minHeight:240,maxHeight:"90vh",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"stretch",position:"relative",overflow:"hidden"},titleBar:{background:"navy",color:"#fff",fontWeight:"bold",fontFamily:"'MS Sans Serif', Arial, sans-serif",fontSize:16,padding:"8px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px inset #fff",userSelect:"none"},closeButton:{width:28,height:28,background:"#c0c0c0",border:"2px outset #fff",borderRadius:4,color:"#000",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginLeft:8,boxShadow:"1px 1px 0 #888","&:active":{border:"2px inset #fff",background:"#e0e0e0"}},content:{padding:16,overflowY:"auto",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000",fontSize:15,background:"#fff",flex:1}}),Ds=({isOpen:t,onClose:e,title:n,children:r})=>{const s=e_e();return t?m.jsx("div",{className:s.overlay,children:m.jsxs("div",{className:s.popup,children:[m.jsxs("div",{className:s.titleBar,children:[m.jsx("span",{children:n}),m.jsx("button",{className:s.closeButton,onClick:e,title:"Close",children:"✕"})]}),m.jsx("div",{className:s.content,children:r})]})}):null},t_e=({isOpen:t,onClose:e,walletAddress:n})=>{const[r,s]=M.useState([]),[i,o]=M.useState(!1),[a,c]=M.useState(!1),[l,u]=M.useState({}),[d,h]=M.useState(null),{data:f}=S5();M.useEffect(()=>{t&&n&&p()},[t,n]);const p=async()=>{o(!0),h(null);try{const E=await T8(n);s(E);const _={};E.forEach(x=>{_[x.id]=0}),u(_)}catch(E){h(E.message)}finally{o(!1)}},g=(E,_)=>{u(x=>({...x,[E]:Math.max(0,_)}))},y=async()=>{const E=Object.entries(l).filter(([,_])=>_>0).map(([_,x])=>({id:_,quantity:x}));if(E.length===0){h("Please select at least one item to mint");return}if(!f){h("Wallet not connected");return}c(!0),h(null);try{const _=await N8(n,E);if(_.success&&_.mintTransaction){alert("Please confirm the transaction in your wallet.");try{const x=await f.sendTransaction({to:_.mintTransaction.to,value:BigInt(_.mintTransaction.value),data:_.mintTransaction.data});alert(`NFT Minted Successfully: Transaction Hash - ${x}`),e()}catch(x){h("Transaction failed: "+x.message)}}else throw new Error(_.message||"Could not retrieve minting transaction.")}catch(_){h("Minting failed: "+_.message)}finally{c(!1)}},w=(E,_)=>`${parseFloat(E)} ${_}`,b={border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#f8f8f8",borderRadius:"8px",textAlign:"left"},v={backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000",borderRadius:"8px"};return m.jsxs(Ds,{isOpen:t,onClose:e,title:"Mint Pixelawbs",children:[d&&m.jsx("div",{style:v,children:d}),i?m.jsx("div",{children:"Loading eligible invite lists..."}):r.length===0?m.jsx("div",{children:"No eligible invite lists found for your wallet."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("h3",{style:{color:"#008080",fontSize:"1rem",margin:0},children:"Available Lists:"}),r.map(E=>m.jsxs("div",{style:b,children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:E.name}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",w(E.token_price,E.currency_symbol)]}),m.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",E.wallet_limit===4294967295?"Unlimited":E.wallet_limit," per wallet"]}),m.jsx("input",{type:"number",min:0,max:E.wallet_limit===4294967295?void 0:E.wallet_limit,value:l[E.id]||"",onChange:_=>g(E.id,parseInt(_.target.value)||0),style:{width:"60px",fontSize:"1rem",marginRight:"8px"}}),m.jsx("span",{style:{fontSize:"0.95rem"},children:"Qty"})]},E.id))]}),m.jsx("button",{style:{background:"#00ffff",color:"#000",border:"none",borderRadius:"8px",padding:"12px 32px",fontWeight:"bold",fontSize:"1.1rem",marginTop:"1.5rem",cursor:"pointer",boxShadow:"1px 1px 0 #aaa"},onClick:y,disabled:a,children:a?"Minting...":"Mint"})]})]})},n_e="https://roxwocgknkiqnsgiojgz.supabase.co",r_e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJveHdvY2drbmtpcW5zZ2lvamd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzA3NjMxMTIsImV4cCI6MjA0NjMzOTExMn0.NbLMZom-gk7XYGdV4MtXYcgR8R1s8xthrIQ0hpQfx9Y",al=DU(n_e,r_e),Hi={AI:"ai",ONLINE:"online"},O_={R:"/images/redrook.png",N:"/images/redknight.png",B:"/images/redbishop.png",Q:"/images/redqueen.png",K:"/images/redking.png",P:"/images/redpawn.png",r:"/images/bluerook.png",n:"/images/blueknight.png",b:"/images/bluebishop.png",q:"/images/bluequeen.png",k:"/images/blueking.png",p:"/images/bluepawn.png"},HO=[["R","N","B","Q","K","B","N","R"],["P","P","P","P","P","P","P","P"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["p","p","p","p","p","p","p","p"],["r","n","b","q","k","b","n","r"]],s_e=[{key:"K",name:"Red King",img:"/images/redking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"Q",name:"Red Queen",img:"/images/redqueen.png",desc:"The Queen moves any number of squares in any direction."},{key:"R",name:"Red Rook",img:"/images/redrook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"B",name:"Red Bishop",img:"/images/redbishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"N",name:"Red Knight",img:"/images/redknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"P",name:"Red Pawn",img:"/images/redpawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."},{key:"k",name:"Blue King",img:"/images/blueking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"q",name:"Blue Queen",img:"/images/bluequeen.png",desc:"The Queen moves any number of squares in any direction."},{key:"r",name:"Blue Rook",img:"/images/bluerook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"b",name:"Blue Bishop",img:"/images/bluebishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"n",name:"Blue Knight",img:"/images/blueknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"p",name:"Blue Pawn",img:"/images/bluepawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."}],i_e=({onClose:t,walletAddress:e})=>{const[n,r]=M.useState(Hi.AI),[s,i]=M.useState(()=>JSON.parse(JSON.stringify(HO))),[o,a]=M.useState("blue"),[c,l]=M.useState(null),[u,d]=M.useState("active"),[h,f]=M.useState("easy"),[p,g]=M.useState("Connect wallet to play"),[y,w]=M.useState([]),[b,v]=M.useState([]),[E,_]=M.useState([]),[x,S]=M.useState(null),[T,C]=M.useState(1),[O,R]=M.useState(!1),[B,W]=M.useState(!1),[F,A]=M.useState(!1),[I,D]=M.useState(!1),[N,k]=M.useState(null),[U,q]=M.useState(""),[Y,ee]=M.useState(.1),[Q,ne]=M.useState({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),ae=M.useRef(null),ye=M.useRef(!1),Le=M.useRef(s);M.useEffect(()=>{Le.current=s},[s]),M.useEffect(()=>{e?g("Select game mode"):(g("Connect wallet to play"),A(!1),R(!1),W(!1))},[e]),M.useEffect(()=>(console.log("AI worker disabled for testing"),g("AI worker disabled for testing"),()=>{ae.current&&ae.current.terminate()}),[]),M.useEffect(()=>{Re()},[]);const Re=async()=>{try{const j=new Promise((X,le)=>window.setTimeout(()=>le(new Error("Database timeout")),1e4)),L=al.from("leaderboard").select("*").order("points",{ascending:!1}),{data:H,error:K}=await Promise.race([L,j]);if(K){g("Failed to load leaderboard"),console.error("Leaderboard error:",K);return}H&&v(H)}catch(j){g("Failed to load leaderboard"),console.error("Leaderboard error:",j)}},Be=async j=>{if(e)try{const{data:L}=await al.from("chess_leaderboard").select("*").eq("username",e.toLowerCase()).eq("chain_type","evm").single();if(L){const H=L,K=H.wins+(j==="win"?1:0),X=H.losses+(j==="loss"?1:0),le=H.draws+(j==="draw"?1:0),Pe=K+X+le,$e=K*3+le;await al.from("chess_leaderboard").update({wins:K,losses:X,draws:le,total_games:Pe,points:$e,updated_at:new Date().toISOString()}).eq("username",e.toLowerCase()).eq("chain_type","evm")}else await al.from("chess_leaderboard").insert({username:e.toLowerCase(),chain_type:"evm",wins:j==="win"?1:0,losses:j==="loss"?1:0,draws:j==="draw"?1:0,total_games:1,points:j==="win"?3:j==="draw"?1:0,updated_at:new Date().toISOString()});Re()}catch(L){console.error("Error updating score:",L)}},Xe=j=>j&&j===j.toUpperCase()?"red":"blue",Wt=(j,L)=>j>=0&&j<8&&L>=0&&L<8,qe=(j,L)=>`${String.fromCharCode(97+L)}${8-j}`,We=(j,L)=>{const H=L==="blue"?"k":"K";let K=null;for(let Pe=0;Pe<8;Pe++){for(let $e=0;$e<8;$e++)if(j[Pe][$e]===H){K={row:Pe,col:$e};break}if(K)break}if(!K)return console.log(`King not found for ${L}`),!1;const X=L==="blue"?"red":"blue",le=Ht(K.row,K.col,X,j);return console.log(`${L} king at ${K.row},${K.col} under attack: ${le}`),le},Ht=(j,L,H,K)=>{for(let X=0;X<8;X++)for(let le=0;le<8;le++){const Pe=K[X][le];if(Pe&&Xe(Pe)===H&&os(Pe,X,le,j,L,!1,H,K))return!0}return!1},Pt=(j,L,H,K,X,le=s)=>{const Pe=le.map(vt=>[...vt]),$e=Pe[j][L];return Pe[H][K]=$e,Pe[j][L]=null,We(Pe,X)},xn=(j,L,H,K,X,le)=>{const Pe=j==="blue"?-1:1,$e=j==="blue"?6:1;if(H===X&&K===L+Pe)return le[K][X]===null;if(H===X&&L===$e&&K===L+2*Pe)return le[L+Pe][H]===null&&le[K][X]===null;if(Math.abs(H-X)===1&&K===L+Pe){const vt=le[K][X];return vt!==null&&Xe(vt)!==j}if(Math.abs(H-X)===1&&K===L+Pe){const vt=le[L][X];if(vt&&Xe(vt)!==j&&vt.toLowerCase()==="p"&&Q.lastPawnDoubleMove&&Q.lastPawnDoubleMove.row===L&&Q.lastPawnDoubleMove.col===X)return!0}return!1},is=(j,L,H,K,X)=>j!==H&&L!==K?!1:ti(j,L,H,K,X),Lt=(j,L,H,K)=>{const X=Math.abs(j-H),le=Math.abs(L-K);return X===2&&le===1||X===1&&le===2},Kt=(j,L,H,K,X)=>Math.abs(j-H)!==Math.abs(L-K)?!1:ti(j,L,H,K,X),jn=(j,L,H,K,X)=>is(j,L,H,K,X)||Kt(j,L,H,K,X),ji=(j,L,H,K,X)=>{const le=Math.abs(L-K),Pe=Math.abs(H-X);if(le<=1&&Pe<=1)return!0;if(le===0&&Pe===2){if(j==="blue"&&!Q.blueKingMoved){if(X===6&&!Q.blueRooksMove.right||X===2&&!Q.blueRooksMove.left)return!0}else if(j==="red"&&!Q.redKingMoved&&(X===6&&!Q.redRooksMove.right||X===2&&!Q.redRooksMove.left))return!0}return!1},ti=(j,L,H,K,X)=>{const le=j===H?0:(H-j)/Math.abs(H-j),Pe=L===K?0:(K-L)/Math.abs(K-L);let $e=j+le,vt=L+Pe;for(;$e!==H||vt!==K;){if(X[$e][vt]!==null)return!1;$e+=le,vt+=Pe}return!0},os=(j,L,H,K,X,le=!0,Pe=Xe(j),$e=s)=>{if(!Wt(K,X))return!1;const vt=$e[K][X];if(vt&&Xe(vt)===Pe)return!1;const Ts=j.toLowerCase();let er=!1;switch(Ts){case"p":er=xn(Pe,L,H,K,X,$e);break;case"r":er=is(L,H,K,X,$e);break;case"n":er=Lt(L,H,K,X);break;case"b":er=Kt(L,H,K,X,$e);break;case"q":er=jn(L,H,K,X,$e);break;case"k":er=ji(Pe,L,H,K,X);break}return er&&le?!Pt(L,H,K,X,Pe,$e):er},tn=(j,L=s,H=o)=>{const K=[],X=L[j.row][j.col];if(!X||Xe(X)!==H)return K;for(let le=0;le<8;le++)for(let Pe=0;Pe<8;Pe++)os(X,j.row,j.col,le,Pe,!0,H,L)&&K.push({row:le,col:Pe});return K},Xn=(j,L=s)=>{if(!We(L,j))return!1;for(let H=0;H<8;H++)for(let K=0;K<8;K++){const X=L[H][K];if(X&&Xe(X)===j&&tn({row:H,col:K},L,j).length>0)return!1}return!0},vo=(j,L=s)=>{if(We(L,j))return!1;for(let H=0;H<8;H++)for(let K=0;K<8;K++){const X=L[H][K];if(X&&Xe(X)===j&&tn({row:H,col:K},L,j).length>0)return!1}return!0},Qc=(j,L)=>{if(u!=="active"||ye.current)return;const H=s[j][L],K=H?Xe(H):null;if(c&&E.some(X=>X.row===j&&X.col===L)){Ui(c,{row:j,col:L});return}if(H&&K===o){const X=tn({row:j,col:L});l({row:j,col:L}),_(X);return}l(null),_([])},Ui=(j,L,H=!1)=>{const K=s[j.row][j.col];if(!K)return;const X=Xe(K);if(K.toLowerCase()==="p"&&(X==="blue"&&L.row===0||X==="red"&&L.row===7)){k({from:j,to:L}),D(!0);return}Jc(j,L,"q",H)},Jc=(j,L,H="q",K=!1)=>{const X=s[j.row][j.col];s[L.row][L.col];const le=Xe(X),Pe=X?X.toLowerCase():"",$e=s.map(tr=>[...tr]);$e[L.row][L.col]=Pe==="p"&&(le==="blue"&&L.row===0||le==="red"&&L.row===7)?le==="blue"?H:H.toUpperCase():X,$e[j.row][j.col]=null;const vt={...Q};Pe==="k"?le==="blue"?vt.blueKingMoved=!0:vt.redKingMoved=!0:Pe==="r"&&(le==="blue"?(j.col===0&&(vt.blueRooksMove.left=!0),j.col===7&&(vt.blueRooksMove.right=!0)):(j.col===0&&(vt.redRooksMove.left=!0),j.col===7&&(vt.redRooksMove.right=!0))),Pe==="p"&&Math.abs(j.row-L.row)===2?vt.lastPawnDoubleMove={row:L.row,col:L.col}:vt.lastPawnDoubleMove=null,Pe==="k"&&Math.abs(j.col-L.col)===2&&(L.col===6?($e[j.row][7]=null,$e[j.row][5]=le==="blue"?"r":"R"):L.col===2&&($e[j.row][0]=null,$e[j.row][3]=le==="blue"?"r":"R")),i($e),ne(vt),l(null),_([]),S({from:j,to:L});const Ts=`${qe(j.row,j.col)}-${qe(L.row,L.col)}`;w(tr=>[...tr,Ts]);const er=G(o),ni=Em($e,er);if(ni){d(ni),n===Hi.AI&&Be(ni==="checkmate"?er==="blue"?"win":"loss":"draw");return}a(er),!K&&n===Hi.AI&&er==="red"&&u==="active"?(g("AI is thinking..."),ye.current=!0,setTimeout(()=>{const tr=Cm($e);tr?((Ns,ri,Om="q")=>{const bo=$e[Ns.row][Ns.col];if(!bo)return;const Wh=Xe(bo),Nu=bo.toLowerCase(),ha=$e.map($m=>[...$m]);ha[ri.row][ri.col]=Nu==="p"&&(Wh==="blue"&&ri.row===0||Wh==="red"&&ri.row===7)?Wh==="blue"?Om:Om.toUpperCase():bo,ha[Ns.row][Ns.col]=null,i(ha),l(null),_([]),S({from:Ns,to:ri});const Pu=`${qe(Ns.row,Ns.col)}-${qe(ri.row,ri.col)}`;w($m=>[...$m,Pu]);const Rm=G(er),db=Em(ha,Rm);if(db){d(db),n===Hi.AI&&Be(db==="checkmate"?Rm==="blue"?"win":"loss":"draw");return}a(Rm),g(`Your turn (${Rm})`)})(tr.from,tr.to,"q"):g("AI could not find a move"),ye.current=!1},1e3)):g(`Your turn (${er})`)},Em=(j,L)=>(console.log("Checking game end for player:",L),console.log("Is king in check:",We(j,L)),Xn(L,j)?(console.log("CHECKMATE detected!"),g(`Checkmate! ${L==="blue"?"Red":"Blue"} wins!`),"checkmate"):vo(L,j)?(console.log("STALEMATE detected!"),g("Stalemate! Game is a draw."),"stalemate"):(We(j,L)?(console.log("CHECK detected!"),g(`${L==="blue"?"Blue":"Red"} is in check!`)):g(`Your turn (${L})`),null)),Cm=j=>{const L=[];for(let H=0;H<8;H++)for(let K=0;K<8;K++){const X=j[H][K];X&&Xe(X)==="red"&&L.push({row:H,col:K})}for(let H=L.length-1;H>0;H--){const K=Math.floor(Math.random()*(H+1));[L[H],L[K]]=[L[K],L[H]]}for(const H of L){const K=tn(H,j,"red");if(K.length>0){const X=K[Math.floor(Math.random()*K.length)],le=j.map($e=>[...$e]),Pe=le[H.row][H.col];if(le[X.row][X.col]=Pe,le[H.row][H.col]=null,!We(le,"red"))return{from:H,to:X}}}return null},xm=()=>{i(JSON.parse(JSON.stringify(HO))),a("blue"),l(null),d("active"),w([]),_([]),S(null),A(!1),R(!1),W(!1),g("Select game mode"),ne({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),ye.current&&(ye.current=!1)},ib=()=>{console.log("startAIGame called"),R(!0),W(!1),g("Select difficulty")},Sm=()=>{console.log("startMultiplayerGame called"),W(!0),R(!1),g("Set wager and create/join game")},Am=()=>{console.log("startGame called, difficulty:",h,"gameMode:",n),A(!0),R(!1),W(!1),g(`Your turn (${o})`)},ob=async()=>{if(e)try{const j=Math.random().toString(36).substring(2,8).toUpperCase(),{error:L}=await al.from("chess_games").insert({game_id:j,blue_player:e,board:JSON.stringify({positions:s,piece_state:Q}),current_player:"blue",game_state:"waiting",bet_amount:Y,chain:"evm",is_public:!0});if(L)throw L;g(`Game created! Share code: ${j}`)}catch(j){console.error("Error creating game:",j),g("Failed to create game")}},Im=async()=>{if(!(!e||!U))try{const{data:j,error:L}=await al.from("chess_games").select("*").eq("game_id",U).eq("game_state","waiting").single();if(L||!j){g("Game not found or already full");return}const{error:H}=await al.from("chess_games").update({red_player:e,game_state:"active",updated_at:new Date().toISOString()}).eq("game_id",U);if(H)throw H;g("Joined game! Waiting for opponent..."),Am()}catch(j){console.error("Error joining game:",j),g("Failed to join game")}},Tm=j=>`${j.slice(0,6)}...${j.slice(-4)}`,ab=(j,L)=>{const H=s[j][L],K=(c==null?void 0:c.row)===j&&(c==null?void 0:c.col)===L,X=E.some(Pe=>Pe.row===j&&Pe.col===L),le=x&&(x.from.row===j&&x.from.col===L||x.to.row===j&&x.to.col===L);return m.jsxs("div",{className:`mobile-chess-square ${(j+L)%2===0?"light":"dark"} ${K?"selected":""} ${X?"legal-move":""} ${le?"last-move":""}`,onClick:()=>Qc(j,L),children:[H&&m.jsx("img",{src:O_[H],alt:H,className:"mobile-chess-piece"}),X&&m.jsx("div",{className:"legal-move-indicator"})]},`${j}-${L}`)},cb=()=>{if(!I||!N)return null;const j=o==="blue"?["q","r","b","n"]:["Q","R","B","N"];return m.jsx("div",{className:"promotion-dialog",children:m.jsxs("div",{className:"promotion-content",children:[m.jsx("h3",{children:"Choose promotion piece:"}),m.jsx("div",{className:"promotion-pieces",children:j.map(L=>m.jsx("div",{className:"promotion-piece",onClick:()=>{Jc(N.from,N.to,L),D(!1),k(null)},style:{backgroundImage:O_[L]?`url(${O_[L]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},L))})]})})},[lb,Nm]=M.useState(null),Pm=(j=!1,L="Click a piece to learn more about it.")=>m.jsxs("div",{className:`mobile-chess-piece-gallery${j?" mobile-chess-piece-gallery-sm":""}`,children:[m.jsx("h3",{className:"mobile-chess-section-title",children:"Lawbstation Chess Pieces"}),m.jsx("div",{className:"mobile-chess-piece-gallery-grid",children:s_e.map(H=>m.jsxs("div",{className:"mobile-chess-piece-gallery-item",onClick:()=>Nm(H.key),children:[m.jsx("img",{src:H.img,alt:H.name,className:"mobile-chess-piece-gallery-img"}),m.jsx("div",{className:"mobile-chess-piece-gallery-name",children:H.name}),lb===H.key&&m.jsx("div",{className:"mobile-chess-piece-gallery-desc",children:H.desc})]},H.key))}),m.jsx("div",{className:"mobile-chess-piece-gallery-tip",children:L})]}),km=()=>m.jsxs("div",{className:"mobile-chess-difficulty-selection-row",children:[m.jsx("div",{className:"mobile-chess-difficulty-gallery-col",children:Pm(!0,"click for chess piece movements")}),m.jsxs("div",{className:"mobile-chess-difficulty-controls-col",children:[m.jsxs("div",{className:"mobile-chess-difficulty-selection-panel",children:[m.jsx("h3",{className:"mobile-chess-section-title",children:"Select Difficulty"}),m.jsx("button",{className:`mobile-chess-difficulty-btn ${h==="easy"?"selected":""}`,onClick:()=>f("easy"),children:"Easy"}),m.jsx("button",{className:`mobile-chess-difficulty-btn ${h==="hard"?"selected":""}`,onClick:()=>f("hard"),children:"Kinda Harder"}),m.jsx("button",{className:"mobile-chess-btn",onClick:Am,children:"Start Game"})]}),m.jsx("div",{className:"mobile-chess-difficulty-leaderboard-panel",children:m.jsxs("div",{className:"mobile-chess-leaderboard",children:[m.jsx("h3",{className:"mobile-chess-section-title",children:"Leaderboard"}),m.jsx("div",{className:"mobile-chess-leaderboard-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Rank"}),m.jsx("th",{children:"Player"}),m.jsx("th",{children:"W"}),m.jsx("th",{children:"L"}),m.jsx("th",{children:"D"}),m.jsx("th",{children:"Points"})]})}),m.jsx("tbody",{children:b.slice(0,10).map((j,L)=>{const H=j;return m.jsxs("tr",{children:[m.jsx("td",{children:L+1}),m.jsx("td",{children:Tm(H.username)}),m.jsx("td",{children:H.wins}),m.jsx("td",{children:H.losses}),m.jsx("td",{children:H.draws}),m.jsx("td",{children:H.points})]},H.username)})})]})})]})})]})]}),G=j=>j==="blue"?"red":"blue",V=()=>{C(j=>j===6?1:j+1)},J=()=>({backgroundImage:`url('/images/chessboard${T}.png')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"});return e?m.jsxs("div",{className:"mobile-chess-container",children:[m.jsxs("div",{className:"mobile-chess-header",children:[m.jsx("h2",{children:"Lawb Chess"}),m.jsx("div",{className:"mobile-chess-controls",children:m.jsx("button",{className:"mobile-chess-btn",onClick:t,children:"×"})})]}),m.jsxs("div",{className:"mobile-chess-content",children:[!F&&!O&&!B&&m.jsx("div",{className:"mobile-chess-piece-gallery",children:Pm(!1)}),!F&&!O&&!B&&m.jsxs("div",{className:"mobile-chess-game-mode-selection",children:[m.jsx("h3",{className:"mobile-chess-section-title",children:"Select Game Mode"}),m.jsx("button",{className:`mobile-chess-btn ${n===Hi.AI?"selected":""}`,onClick:()=>r(Hi.AI),children:"VS the House"}),m.jsx("button",{className:`mobile-chess-btn ${n===Hi.ONLINE?"selected":""}`,onClick:()=>r(Hi.ONLINE),disabled:!0,children:"PvP Under Construction"}),m.jsx("button",{className:"mobile-chess-btn",onClick:()=>{n===Hi.AI?ib():Sm()},children:"Continue"})]}),O&&km(),B&&m.jsxs("div",{className:"mobile-chess-multiplayer-selection",children:[m.jsx("h3",{className:"mobile-chess-section-title",children:"Multiplayer"}),m.jsxs("div",{className:"mobile-chess-wager-input",children:[m.jsx("label",{children:"Wager (ETH):"}),m.jsx("input",{type:"number",value:Y,onChange:j=>ee(parseFloat(j.target.value)||.1),min:"0.01",step:"0.01"})]}),m.jsx("button",{className:"mobile-chess-btn",onClick:ob,children:"Create Game"}),m.jsxs("div",{className:"mobile-chess-join-game",children:[m.jsx("input",{type:"text",value:U,onChange:j=>q(j.target.value),placeholder:"Enter invite code"}),m.jsx("button",{className:"mobile-chess-btn",onClick:Im,children:"Join Game"})]}),p&&p.includes("Game created!")&&m.jsx("div",{className:"mobile-chess-game-created",children:m.jsx("p",{children:p})})]}),F&&m.jsxs("div",{className:"mobile-chess-game-container",children:[m.jsxs("div",{className:"mobile-chess-move-history",children:[m.jsx("h4",{className:"mobile-chess-section-title",children:"Move History"}),m.jsx("div",{className:"mobile-chess-moves",children:y.slice().reverse().map((j,L)=>m.jsxs("span",{className:"mobile-chess-move",children:[Math.floor((y.length-1-L)/2)+1,".",(y.length-1-L)%2===0?"":" ",j]},y.length-1-L))})]}),m.jsxs("div",{className:"mobile-chess-game-main",children:[m.jsxs("div",{className:"mobile-chess-game-info",children:[m.jsx("div",{className:"mobile-chess-status",children:p}),m.jsxs("div",{className:"mobile-chess-current-player",children:["Current: ",o==="blue"?"Blue":"Red"]}),m.jsxs("div",{className:"mobile-chess-wager-display",children:["Wager: ",n===Hi.AI?"NA":`${Y} ETH`]})]}),m.jsx("div",{className:"mobile-chess-board-wrapper",children:m.jsx("div",{className:"mobile-chess-board",style:J(),children:Array.from({length:8},(j,L)=>m.jsx("div",{className:"mobile-chess-board-row",children:Array.from({length:8},(H,K)=>ab(L,K))},L))})}),m.jsxs("div",{className:"mobile-chess-game-controls",children:[m.jsx("button",{className:"mobile-chess-btn",onClick:xm,children:"New Game"}),m.jsxs("button",{className:"mobile-chess-btn",onClick:V,children:["Board ",T]}),m.jsx("button",{className:"mobile-chess-btn",onClick:xm,children:"Back to Menu"})]})]}),!F&&!O&&!B&&m.jsxs("div",{className:"mobile-chess-leaderboard",children:[m.jsx("h3",{className:"mobile-chess-section-title",children:"Leaderboard"}),m.jsx("div",{className:"mobile-chess-leaderboard-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Rank"}),m.jsx("th",{children:"Player"}),m.jsx("th",{children:"W"}),m.jsx("th",{children:"L"}),m.jsx("th",{children:"D"}),m.jsx("th",{children:"Points"})]})}),m.jsx("tbody",{children:b.slice(0,10).map((j,L)=>{const H=j;return m.jsxs("tr",{children:[m.jsx("td",{children:L+1}),m.jsx("td",{children:Tm(H.username)}),m.jsx("td",{children:H.wins}),m.jsx("td",{children:H.losses}),m.jsx("td",{children:H.draws}),m.jsx("td",{children:H.points})]},H.username)})})]})})]})]})]}),cb()]}):m.jsxs("div",{className:"mobile-chess-container",children:[m.jsxs("div",{className:"mobile-chess-header",children:[m.jsx("h2",{children:"Lawb Chess"}),m.jsx("div",{className:"mobile-chess-controls",children:m.jsx("button",{className:"mobile-chess-btn",onClick:t,children:"×"})})]}),m.jsx("div",{className:"mobile-chess-status",children:m.jsx("p",{children:"Connect your wallet to play chess"})})]})},o_e=$i({mobileContainer:{minHeight:"100vh",minWidth:"100vw",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",position:"relative",overflow:"hidden"},header:{backgroundColor:"#c00",padding:"0.75rem 0",border:"none",textAlign:"center",marginBottom:"1.5rem"},title:{margin:0,fontSize:"1.1rem",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",letterSpacing:"1px",textShadow:"1px 1px 0 #000",textTransform:"uppercase"},iconGrid:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem",marginBottom:"80px"},icon:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",cursor:"pointer",textAlign:"center","& img":{width:"64px",height:"64px"},"& span":{wordBreak:"break-word"}},taskbar:{position:"fixed",left:0,bottom:0,width:"100%",maxWidth:"100vw",height:"56px",background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1rem",zIndex:1e3,borderTop:"2px solid #00ffff"},menuButton:{background:"#00ffff",color:"#000",fontWeight:"bold",border:"none",borderRadius:"4px",padding:"8px 16px",fontSize:"1rem",cursor:"pointer",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",boxShadow:"2px 2px 0 #000"},walletStatus:{display:"flex",alignItems:"center",color:"#fff",fontWeight:"bold",fontSize:"0.9rem",fontFamily:"'MS Sans Serif', Arial, sans-serif"},statusDot:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:t=>t?"limegreen":"red",marginRight:"6px",border:"1px solid #000"},clock:{color:"#00ffff",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",fontSize:"1rem",fontWeight:"bold",textShadow:"1px 1px 0 #000",marginRight:"24px"},pixelawbsPopupOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},pixelawbsPopup:{background:"#fff",borderRadius:"12px",width:"90vw",maxWidth:"420px",height:"75vh",maxHeight:"600px",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1.5rem",position:"relative"},closeButton:{position:"absolute",top:"10px",right:"10px",background:"#00ffff",color:"#000",border:"none",borderRadius:"50%",width:"32px",height:"32px",fontSize:"1.5rem",fontWeight:"bold",cursor:"pointer",boxShadow:"1px 1px 0 #000"},menuOverlay:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",zIndex:3e3,display:"flex",alignItems:"flex-end",justifyContent:"center",pointerEvents:"auto"},menuModal:{width:"100vw",background:"#c0c0c0",borderTopLeftRadius:"16px",borderTopRightRadius:"16px",boxShadow:"0 -4px 24px rgba(0,0,0,0.2)",padding:"15px 0 8px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",zIndex:3100,marginBottom:"70px",maxHeight:"calc(70vh - 56px)",overflowY:"auto",position:"absolute",left:0,bottom:"56px"},menuLink:{display:"block",width:"90%",padding:"6px",color:"#000",textDecoration:"none",background:"#e0e0e0",borderRadius:"8px",fontWeight:"bold",fontSize:"1rem",textAlign:"center",marginBottom:"3px",border:"2px outset #fff",boxShadow:"1px 1px 0 #aaa"}}),a_e=[{id:"lawbsters",name:"Lawbsters",image:"/assets/lawbsters.gif",description:"420 Lawbsters. ETH."},{id:"lawbstarz",name:"Lawbstarz",image:"/assets/lawbstarz.gif",description:"666 Lawbstarz. ETH."},{id:"halloween",name:"Halloween",image:"/assets/lawbsterhalloween.gif",description:"Halloween Lawbsters. BASE."},{id:"pixelawbs",name:"Pixelawbs",image:"/assets/pixelawb.png",description:"2222 Pixelawbs. ETH."}],c_e=[{id:"lawbstation",name:"Lawbstation",image:"/assets/lawbstation.GIF",description:"Lawbstation. SOL."},{id:"nexus",name:"Nexus",image:"/assets/nexus.gif",description:"Nexus. SOL."}],l_e=()=>{const t=o_e(),{open:e}=Jv(),{address:n,isConnected:r}=dv(),{isPending:s}=E5(),{disconnect:i}=C5(),{data:o}=x5({address:n}),[a,c]=M.useState("main"),[l,u]=M.useState(!1),[d,h]=M.useState(()=>new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),[f,p]=M.useState(!1),[g,y]=M.useState(!1),[w,b]=M.useState(!1),[v,E]=M.useState(!1),[_,x]=M.useState(!1),[S,T]=M.useState(!1),[C,O]=M.useState(!1),[R,B]=M.useState(!1),[W,F]=M.useState(!1),[A,I]=M.useState(!1),[D,N]=M.useState(!1),[k,U]=M.useState(!1),[q,Y]=M.useState(!1),ee=[{label:"Chess",icon:"/images/chessboard5.png",action:()=>Y(!0)},{label:"Mint",icon:"/assets/mint.gif",action:()=>y(!0)},{label:"EVM NFT'S FOLDER",icon:"/assets/evmfolder.png",action:()=>b(!0)},{label:"SOL NFTS FOLDER",icon:"/assets/solfolder.png",action:()=>E(!0)},{label:"$LAWB",icon:"/assets/lawbticker.gif",action:()=>x(!0)},{label:r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Wallet",icon:"/assets/wallet.png",action:()=>{r?i():e()},disabled:s}],Q=ye=>{ye.disabled||ye.action()};if(M.useEffect(()=>{const ye=window.setInterval(()=>{h(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},1e3);return()=>window.clearInterval(ye)},[]),M.useEffect(()=>{u(!0)},[]),a==="gallery")return m.jsx(X1e,{onBack:()=>c("main"),walletAddress:n||void 0});function ne({open:ye,onClose:Le,title:Re,nfts:Be}){const Xe=Wt=>{switch(Wt){case"lawbsters":T(!0);break;case"lawbstarz":O(!0);break;case"pixelawbs":B(!0);break;case"halloween":F(!0);break;case"lawbstation":I(!0);break;case"nexus":N(!0);break}};return m.jsx(Ds,{isOpen:ye,onClose:Le,title:Re,children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,width:"100%"},children:Be.map(Wt=>m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",background:"#f8f8f8",borderRadius:8,padding:8,cursor:"pointer"},onClick:()=>Xe(Wt.id),children:[m.jsx("img",{src:Wt.image,alt:Wt.name,style:{width:80,height:80,objectFit:"contain",marginBottom:8}}),m.jsx("span",{style:{fontWeight:"bold",fontSize:14},children:Wt.name}),m.jsx("span",{style:{fontSize:12,color:"#555",textAlign:"center"},children:Wt.description})]},Wt.id))})})}function ae({open:ye,onClose:Le}){return ye?m.jsxs(Ds,{isOpen:ye,onClose:Le,title:"$LAWB",children:[m.jsx("h1",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"🦞 $LAWB"})}),m.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",m.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"pump.fun"}),"."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),m.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),m.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",m.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),m.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",m.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),m.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),m.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}})]}):null}return m.jsxs("div",{className:t.mobileContainer,children:[m.jsx("header",{className:t.header,children:m.jsx("h1",{className:t.title,children:"there is no meme we lawb you"})}),m.jsx("div",{className:t.iconGrid,children:ee.map(ye=>m.jsxs("div",{className:t.icon,onClick:()=>Q(ye),children:[m.jsx("img",{src:ye.icon,alt:ye.label}),m.jsx("span",{children:ye.label})]},ye.label))}),l&&m.jsxs(Ds,{isOpen:l,onClose:()=>u(!1),title:"Pixelawbs",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",m.jsx("span",{style:{color:"#ff0000",textDecoration:"underline",cursor:"pointer"},onClick:()=>{u(!1),y(!0)},children:"COLLECT HERE"})," OR VISIT ",m.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"SCATTER.ART"})]}),m.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",m.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PixeladyMaker"})]}),m.jsx("p",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})})]}),f&&m.jsx("div",{className:t.menuOverlay,onClick:()=>p(!1),children:m.jsxs("div",{className:t.menuModal,onClick:ye=>ye.stopPropagation(),children:[m.jsx("a",{href:"https://dexscreener.com/solana/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Dexscreener"}),m.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbStation Twitter"}),m.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbNexus Twitter"}),m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"NFTX - Lawbsters"}),m.jsx("a",{href:"https://purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Purity"}),m.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"UwU LAWB"}),m.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Telegram"}),m.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Discord"}),m.jsx("a",{href:"https://store.fun/lawbshop",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Lawb.Shop"}),m.jsx("button",{className:t.menuLink,onClick:()=>{p(!1),U(!0)},style:{border:"none",cursor:"pointer",width:"90%",margin:"0 auto",display:"block"},children:"Meme Generator"})]})}),m.jsx(t_e,{isOpen:g,onClose:()=>y(!1),walletAddress:n||""}),m.jsx(ne,{open:w,onClose:()=>b(!1),title:"EVM NFT'S FOLDER",nfts:a_e}),m.jsx(ne,{open:v,onClose:()=>E(!1),title:"SOL NFTS FOLDER",nfts:c_e}),m.jsx(ae,{open:_,onClose:()=>x(!1)}),m.jsxs(Ds,{isOpen:S,onClose:()=>T(!1),title:"Lawbsters",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})," or ",m.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"NFTX"})]}),m.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),m.jsxs(Ds,{isOpen:C,onClose:()=>O(!1),title:"Lawbstarz",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["☆ LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER ☆ 666x PREMIUM PFP COLLECTION ☆ LAWBSTARZ IS A MUSIC NFT ☆ LAWBSTARZ IS AN ",m.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE ☆ LAWBSTARZ IS INSPIRED BY ",m.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"REMILIA CORP"})," ☆ LED BY NETWORK SPIRITUALITY ☆ 666 ",m.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",m.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 ☆"]}),m.jsx("p",{children:"Chain: Ethereum"}),m.jsxs("p",{children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),m.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),m.jsxs(Ds,{isOpen:R,onClose:()=>B(!1),title:"Pixelawbs",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",m.jsx("span",{style:{color:"#ff0000",textDecoration:"underline",cursor:"pointer"},onClick:()=>{B(!1),y(!0)},children:"COLLECT HERE"})," OR VISIT ",m.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"SCATTER.ART"})]}),m.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",m.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PixeladyMaker"})]})]}),m.jsxs(Ds,{isOpen:W,onClose:()=>F(!1),title:"A Lawbster Halloween",children:[m.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),m.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),m.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",m.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}})]}),m.jsxs(Ds,{isOpen:A,onClose:()=>I(!1),title:"Lawbstation",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",m.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),m.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),m.jsx("p",{style:{marginBottom:"10px"},children:m.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Collect Lawbstations on Secondary"})}),m.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),m.jsxs(Ds,{isOpen:D,onClose:()=>N(!1),title:"Nexus",children:[m.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",m.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),m.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),m.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),m.jsx(Ds,{isOpen:k,onClose:()=>U(!1),title:"Meme Generator",children:m.jsx(uU,{})}),m.jsx(Ds,{isOpen:q,onClose:()=>Y(!1),title:"Chess",children:m.jsx(i_e,{onClose:()=>Y(!1),walletAddress:n||""})}),m.jsxs("div",{className:t.taskbar,children:[m.jsx("button",{className:t.menuButton,onClick:()=>p(!0),children:"Menu"}),m.jsxs("div",{className:t.walletStatus,children:[m.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"6px",border:"1px solid #000",display:"inline-block"}}),r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]}),m.jsx("span",{className:t.clock,children:d})]})]})};function u_e(t){const e=i=>typeof window<"u"?window.matchMedia(i).matches:!1,[n,r]=M.useState(e(t));function s(){r(e(t))}return M.useEffect(()=>{const i=window.matchMedia(t);return s(),i.addEventListener("change",s),()=>{i.removeEventListener("change",s)}},[t]),n}function d_e(t){let e=[],n,r;function s(a){return hg.parseEvmChainId(a)||1}function i(){var a;return n||(n=ql.getInstance({projectId:t.options.projectId,chainId:(a=$.getActiveCaipNetwork())==null?void 0:a.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:c=>{c==="iframe_load_failed"?fn.open(Yt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?fn.open(Yt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&fn.open(Yt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:Yt.EmbeddedWalletAbortController})),n}async function o(a={}){var g,y;const c=i();let l=a.chainId;if(a.isReconnecting){const w=hg.parseEvmChainId(c.getLastUsedChainId()||""),b=(g=t.chains)==null?void 0:g[0].id;if(l=w||b,!l)throw new Error("ChainId not found in provider")}const u=(y=he.state.preferredAccountTypes)==null?void 0:y.eip155,{address:d,chainId:h,accounts:f}=await c.connect({chainId:l,preferredAccountType:u,socialUri:a.socialUri});e=(f==null?void 0:f.map(w=>w.address))||[d];const p=s(h);return{accounts:e,account:d,chainId:p,chain:{id:p,unsuported:!1}}}return a=>({id:te.CONNECTOR_ID.AUTH,name:te.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:te.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,l},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){var c;return this.provider||(this.provider=ql.getInstance({projectId:t.options.projectId,chainId:(c=$.getActiveCaipNetwork())==null?void 0:c.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:Yt.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?fn.open(Yt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?fn.open(Yt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&fn.open(Yt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return s(l)},async isAuthorized(){const l=$.state.activeChain===te.CHAIN.EVM;if(te.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(h=>pe.getConnectorId(h)===te.CONNECTOR_ID.AUTH)&&!l)return!1;const d=await this.getProvider();return Promise.resolve(d.getLoginEmailUsed())},async switchChain({chainId:c}){var l,u;try{const d=a.chains.find(g=>g.id===c);if(!d)throw new fo(new Error("chain not found on connector."));const h=await this.getProvider(),f=(l=he.state.preferredAccountTypes)==null?void 0:l.eip155,p=await h.connect({chainId:c,preferredAccountType:f});return e=((u=p==null?void 0:p.accounts)==null?void 0:u.map(g=>g.address))||[p.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),d}catch(d){throw d instanceof Error?new fo(d):d}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(lc)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}SI.type="walletConnect";function SI(t,e){const n=t.isNewChainsStale??!0;let r,s,i,o,a,c,l;return u=>({id:"walletConnect",name:"WalletConnect",type:SI.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),c||(c=this.onSessionDelete.bind(this),d.on("session_delete",c)))},async connect({...d}={}){var h,f,p;try{const g=$.getCaipNetworks(),y=await this.getProvider();if(!y)throw new La;a||(a=this.onDisplayUri,y.on("display_uri",a));const w=await this.isChainsStale();y.session&&w&&await y.disconnect();const b=ie.state.universalProviderConfigOverride;if(!y.session||w){const C=yp.createNamespaces(g,b);await y.connect({optionalNamespaces:C,..."pairingTopic"in d?{pairingTopic:d.pairingTopic}:{}}),this.setRequestedChainsIds(g.map(O=>Number(O.id)))}const v=await this.getAccounts(),E=await this.getChainId(),_=(p=(f=(h=y.session)==null?void 0:h.namespaces)==null?void 0:f.eip155)==null?void 0:p.chains,x=_==null?void 0:_.some(C=>Number(C.split(":")[1])===E);let S=1;x?S=E:_!=null&&_[0]&&(S=Number(_[0].split(":")[1])),a&&(y.removeListener("display_uri",a),a=void 0),o&&(y.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),y.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),y.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),y.on("disconnect",l)),c||(c=this.onSessionDelete.bind(this),y.on("session_delete",c));const T=b==null?void 0:b.defaultChain;return y.setDefaultChain(T??`eip155:${S}`),{accounts:v,chainId:S}}catch(g){throw/(user rejected|connection request reset)/i.test(g==null?void 0:g.message)?new vn(g):g}},async disconnect(){const d=await this.getProvider();try{await(d==null?void 0:d.disconnect())}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{i&&(d==null||d.removeListener("chainChanged",i),i=void 0),l&&(d==null||d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d==null||d.on("connect",o)),s&&(d==null||d.removeListener("accountsChanged",s),s=void 0),c&&(d==null||d.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var p,g,y;const d=await this.getProvider();if(!((p=d==null?void 0:d.session)!=null&&p.namespaces))return[];const h=(y=(g=d==null?void 0:d.session)==null?void 0:g.namespaces[te.CHAIN.EVM])==null?void 0:y.accounts;return(h==null?void 0:h.map(w=>w.split(":")[2]))??[]},async getProvider({chainId:d}={}){var p,g;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const h=fe.getActiveNamespace(),f=(p=e.getCaipNetwork())==null?void 0:p.id;if(d&&f!==d&&h){const y=fe.getStoredActiveCaipNetworkId(),w=e.getCaipNetworks(h),b=w==null?void 0:w.find(v=>v.id===y);b&&b.chainNamespace===te.CHAIN.EVM&&await((g=this.switchChain)==null?void 0:g.call(this,{chainId:Number(b.id)}))}return r},async getChainId(){var g,y,w,b;const d=(g=e.getCaipNetwork(te.CHAIN.EVM))==null?void 0:g.id;if(d)return d;const f=(b=(w=(y=(await this.getProvider()).session)==null?void 0:y.namespaces[te.CHAIN.EVM])==null?void 0:w.chains)==null?void 0:b[0],p=$.getCaipNetworks().find(v=>v.id===f);return p==null?void 0:p.id},async isAuthorized(){try{const[d,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){var g,y,w,b;const f=await this.getProvider();if(!f)throw new La;const p=$.getCaipNetworks().find(v=>v.id===h);if(!p)throw new fo(new ig);try{await f.request({method:"wallet_switchEthereumChain",params:[{chainId:Me(h)}]}),p!=null&&p.caipNetworkId&&f.setDefaultChain(p==null?void 0:p.caipNetworkId),u.emitter.emit("change",{chainId:Number(h)});const v=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...v,h]),{...p,id:p.id}}catch(v){const E=v;if(/(?:user rejected)/iu.test(E.message))throw new vn(E);try{let _;d!=null&&d.blockExplorerUrls?_=d.blockExplorerUrls:_=(g=p.blockExplorers)!=null&&g.default.url?[(y=p.blockExplorers)==null?void 0:y.default.url]:[];const x=((b=(w=p.rpcUrls)==null?void 0:w.chainDefault)==null?void 0:b.http)||[],S={blockExplorerUrls:_,chainId:Me(h),chainName:p.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:p.nativeCurrency,rpcUrls:x};await f.request({method:"wallet_addEthereumChain",params:[S]});const T=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...T,h]),{...p,id:p.id}}catch(_){throw new vn(_)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:d.map(h=>lc(h))})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},onConnect(d){this.setRequestedChainsIds($.getCaipNetworks().map(h=>Number(h.id)))},async onDisconnect(d){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const h=await this.getProvider();s&&(h.removeListener("accountsChanged",s),s=void 0),i&&(h.removeListener("chainChanged",i),i=void 0),l&&(h.removeListener("disconnect",l),l=void 0),c&&(h.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),h.on("connect",o))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var f,p,g;if(!((f=r==null?void 0:r.session)!=null&&f.namespaces))return[];const d=(g=(p=r==null?void 0:r.session)==null?void 0:p.namespaces[te.CHAIN.EVM])==null?void 0:g.accounts;return(d==null?void 0:d.map(y=>Number.parseInt(y.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var h;const d=await((h=u.storage)==null?void 0:h.getItem(this.requestedChainsStorageKey))??[];return[...new Set(d)]},async isChainsStale(){if(!n)return!1;const d=u.chains.map(p=>p.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(p=>d.includes(p)))return!1;const f=await this.getRequestedChainsIds();return!d.every(p=>f.includes(Number(p)))},async setRequestedChainsIds(d){var h;await((h=u.storage)==null?void 0:h.setItem(this.requestedChainsStorageKey,d))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const Af=Ut({pendingTransactions:0}),VO={state:Af,subscribeKey(t,e){return Yn(Af,t,e)},increase(t){Af[t]+=1},decrease(t){Af[t]-=1},reset(t){Af[t]=0}};function h_e(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}async function f_e(t){if(Ae.isSafeApp()){const{safe:e}=await cn(async()=>{const{safe:n}=await import("./index-qOtsyvCF.js");return{safe:n}},[]);if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function p_e(t){try{const{coinbaseWallet:e}=await cn(async()=>{const{coinbaseWallet:n}=await import("./index-qOtsyvCF.js");return{coinbaseWallet:n}},[]);if(e&&!t.some(n=>n.id==="coinbaseWalletSDK"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const g_e={enable:!1,pollingInterval:3e4};class m_e extends lU{constructor(e){const n=so.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=te.CHAIN.EVM,this.adapterType=te.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...g_e,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===te.CONNECTOR_ID.AUTH){const i=await n.getProvider();if(!(i!=null&&i.user))return{accounts:[]};const{address:o,accounts:a}=i.user;return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>Ae.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:s}=Dd(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(i=>Ae.createAccount("eip155",i||"","eoa"))})}checkChainId(){const{chainId:e}=Dd(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===te.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var a,c;const i=(a=e.transports)==null?void 0:a[s.id],o=so.getCaipNetworkId(s);i?n[s.id]=so.extendWagmiTransports(s,e.projectId,i):n[s.id]=so.getViemTransport(s,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=Mq({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=wq(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),VO.increase("pendingTransactions")}});const e=VO.subscribeKey("pendingTransactions",n=>{var r;n>=te.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){QD(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e!=null&&e.chainId&&(e==null?void 0:e.chainId)!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"&&(e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){const n=[];if(e.enableCoinbase!==!1){const s=await p_e(this.wagmiConfig.connectors);s&&n.push(s)}const r=await f_e(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(s=>{const i=this.wagmiConfig._internal.connectors.setup(s);return this.wagmiConfig._internal.connectors.setState(o=>[...o,i]),this.addWagmiConnector(i,e)}))}addWagmiConnectors(e,n){var o,a,c,l;const r=[];e.enableWalletConnect!==!1&&r.push(SI(e,n)),e.enableInjected!==!1&&r.push(lv({shimDisconnect:!0}));const s=((o=n==null?void 0:n.remoteFeatures)==null?void 0:o.email)??!0,i=Array.isArray((a=n==null?void 0:n.remoteFeatures)==null?void 0:a.socials)&&((l=(c=n==null?void 0:n.remoteFeatures)==null?void 0:c.socials)==null?void 0:l.length)>0;(s||i)&&r.push(d_e({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(u=>{const d=this.wagmiConfig._internal.connectors.setup(u);this.wagmiConfig._internal.connectors.setState(h=>[...h,d])})}async signMessage(e){try{return{signature:await pq(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=Dd(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await hq(this.wagmiConfig,s);const i=await fq(this.wagmiConfig,s);return await vq(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,s=Number(hg.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await bq(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await iq(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return Tz(e.value,e.decimals)}formatUnits(e){return Ih(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(e.id===te.CONNECTOR_ID.AUTH||e.id===te.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:fc.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:fc.ConnectorNamesMap[e.id]??e.name,imageId:fc.ConnectorImageIds[e.id],type:fc.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===te.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){JD(this.wagmiConfig,{onChange:r=>{r.forEach(s=>this.addWagmiConnector(s,e))}}),this.addWagmiConnectors(e,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addThirdPartyConnectors(e)}async syncConnection(e){var l,u;const{id:n,chainId:r}=e,i=Qi(this.wagmiConfig).find(d=>d.connector.id===n),o=this.getWagmiConnector(n),a=await(o==null?void 0:o.getProvider());if(Ae.isSafeApp()&&n===te.CONNECTOR_ID.SAFE&&!(i!=null&&i.accounts.length)){const d=this.getWagmiConnector("safe");if(d){const h=await ow(this.wagmiConfig,{connector:d,chainId:Number(r)}),f=await d.getProvider();return{chainId:Number(r),address:h.accounts[0],provider:f,type:(l=i==null?void 0:i.connector.type)==null?void 0:l.toUpperCase(),id:i==null?void 0:i.connector.id}}}return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:a,type:(u=i==null?void 0:i.connector.type)==null?void 0:u.toUpperCase(),id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await ow(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await dT(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var u,d,h,f,p;const{id:n,provider:r,type:s,info:i,chainId:o,socialUri:a}=e,c=this.getWagmiConnector(n);if(!c)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&i&&c.id===te.CONNECTOR_ID.EIP6963&&((u=c.setEip6963Wallet)==null||u.call(c,{provider:r,info:i})),c.uid===((h=(d=this.wagmiConfig)==null?void 0:d.state)==null?void 0:h.current)){const g=(p=(f=this.wagmiConfig.state)==null?void 0:f.connections)==null?void 0:p.get(c.uid);if(g)return{address:g==null?void 0:g.accounts[0],chainId:g==null?void 0:g.chainId,provider:r,type:s,id:n}}const l=await ow(this.wagmiConfig,{connector:c,chainId:o?Number(o):void 0,socialUri:a});return{address:l.accounts[0],chainId:l.chainId,provider:r,type:s,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await KE(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,i=this.balancePromises[s];if(i)return i;const o=fe.getNativeBalanceCacheForCaipAddress(s);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[s]=new Promise(async a=>{var c,l;try{const u=Number(e.chainId),d=await lq(this.wagmiConfig,{address:e.address,chainId:u,token:(l=(c=e.tokens)==null?void 0:c[r.caipNetworkId])==null?void 0:l.address});fe.updateNativeBalanceCache({caipAddress:s,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),a({balance:d.formatted,symbol:d.symbol})}catch(u){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",u),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=Qi(this.wagmiConfig);await Promise.allSettled(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await KD(this.wagmiConfig,{connector:r})})),this.wagmiConfig.state.connections.clear()}async switchNetwork(e){var r,s,i,o,a;const{caipNetwork:n}=e;await dT(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[((i=(s=(r=n.rpcUrls)==null?void 0:r.chainDefault)==null?void 0:s.http)==null?void 0:i[0])??""],blockExplorerUrls:[((o=n.blockExplorers)==null?void 0:o.default.url)??""],iconUrls:[((a=n.assets)==null?void 0:a.imageUrl)??""]}}),await super.switchNetwork(e)}async getCapabilities(e){var a,c;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=Qi(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(c=(a=i.session)==null?void 0:a.sessionProperties)==null?void 0:c.capabilities;if(o){const u=h_e(o)[e];if(u)return u}return await i.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=Qi(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=Qi(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=Qi(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){e.on("connect",()=>{const n=Qi(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(s=>s.connector.id===r.id)){if($.state.activeChain==="eip155")return;KE(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new vI({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}const jU="7c65f27254d6ddd24cf7eedf2685c4fb",y_e={name:"Lawb.xyz",description:"Windows 98-style NFT site",url:"https://lawb.xyz",icons:["/assets/favicon.ico"]},UU=new m_e({networks:[cU],projectId:jU,ssr:!1});Tve({adapters:[UU],networks:[cU],projectId:jU,metadata:y_e,features:{analytics:!1}});const w_e=new TW,v_e=()=>u_e("(max-width: 768px)")?m.jsx(l_e,{}):m.jsx(J1e,{});R_.createRoot(document.getElementById("root")).render(m.jsx(Hs.StrictMode,{children:m.jsx(zq,{config:UU.wagmiConfig,children:m.jsx(FW,{client:w_e,children:m.jsx(v_e,{})})})}));export{DEe as $,he as A,Oe as B,pe as C,Yn as D,rp as E,Kn as F,Ie as G,$C as H,jf as I,bi as J,iZ as K,It as L,yt as M,tZ as N,ie as O,fs as P,bw as Q,De as R,Ei as S,Hr as T,fg as U,Cg as V,$n as W,MEe as X,$x as Y,MZ as Z,fp as _,Ew as a,Ah as a$,kn as a0,pu as a1,on as a2,jEe as a3,tU as a4,Dx as a5,wh as a6,cn as a7,U_e as a8,lc as a9,RD as aA,OD as aB,Dc as aC,Xf as aD,ra as aE,P_e as aF,LB as aG,Jl as aH,N_e as aI,k_e as aJ,Kw as aK,O_e as aL,a9 as aM,N$ as aN,T_e as aO,sv as aP,Mp as aQ,Yw as aR,D0 as aS,R_e as aT,c9 as aU,jT as aV,Pq as aW,sK as aX,Zs as aY,Sz as aZ,xz as a_,fo as aa,ig as ab,Me as ac,vn as ad,La as ae,UD as af,lv as ag,Qw as ah,XS as ai,$c as aj,A_e as ak,cv as al,eA as am,S_e as an,x_e as ao,F$ as ap,nv as aq,Gw as ar,xB as as,NB as at,$_e as au,C7 as av,re as aw,VS as ax,xr as ay,S7 as az,_t as b,Ql as b0,X0 as b1,Ir as b2,dn as b3,tm as b4,te as c,Ae as d,$ as e,Et as f,Vo as g,LEe as h,Md as i,gs as j,Ee as k,zt as l,X0e as m,fn as n,eve as o,fe as p,Yt as q,UEe as r,gt as s,D8 as t,Ut as u,$Z as v,Is as w,$Ee as x,OA as y,U8 as z};
