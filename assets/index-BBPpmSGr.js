const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-CHXgIrq1.js","assets/hmac-BE5JBbja.js","assets/secp256k1-8F_nU6ZX.js","assets/embedded-wallet-CtMTA0dH.js","assets/if-defined-DPpuAWlK.js","assets/index-BOARNy6h.js","assets/index-gtmLv2Pu.js","assets/ref-D9NKmFag.js","assets/index-DswuHTAV.js","assets/index-DqpVOGMy.js","assets/index-CRzorv3P.js","assets/index-LTh9GjHD.js","assets/index-DWGVvOLz.js","assets/index-CejF07XW.js","assets/index-Dor5974g.js","assets/email-Ds9bMNgL.js","assets/index-B0sM52dc.js","assets/socials-CC05ykg6.js","assets/index-Ci9tzd_9.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-DmmFCAhL.js","assets/index-8wMXWtWC.js","assets/index-3CvxAxTH.js","assets/index-C-0Jay5e.js","assets/swaps-DYUNMjuF.js","assets/index-R6NI4P2-.js","assets/index-D6zio_rW.js","assets/index-DXMNRWjP.js","assets/send-f1LBebpV.js","assets/index-7Qy7qmlX.js","assets/index-BRGrvmi1.js","assets/receive-B21RpPKM.js","assets/index-BQ2OfhK5.js","assets/onramp-BRXjJtmE.js","assets/index-smCVQUZ8.js","assets/index-Cmhkidxg.js","assets/index-DNVIf8k9.js","assets/transactions-mLOrHoEq.js","assets/index-DfzpQhn1.js","assets/index-CcHwqGzx.js","assets/index-ecePJxve.js","assets/index-DHDnCeNC.js","assets/index-CnEup04M.js","assets/w3m-modal-B7UVly-S.js"])))=>i.map(i=>d[i]);
var nI=t=>{throw TypeError(t)};var Pb=(t,e,n)=>e.has(t)||nI("Cannot "+n);var M=(t,e,n)=>(Pb(t,e,"read from private field"),n?n.call(t):e.get(t)),Be=(t,e,n)=>e.has(t)?nI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ae=(t,e,n,r)=>(Pb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),rt=(t,e,n)=>(Pb(t,e,"access private method"),n);var Gm=(t,e,n,r)=>({set _(s){Ae(t,e,s,n)},get _(){return M(t,e,r)}});function KL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Q0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var qR={exports:{}},J0={},WR={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am=Symbol.for("react.element"),YL=Symbol.for("react.portal"),QL=Symbol.for("react.fragment"),JL=Symbol.for("react.strict_mode"),ZL=Symbol.for("react.profiler"),XL=Symbol.for("react.provider"),eM=Symbol.for("react.context"),tM=Symbol.for("react.forward_ref"),nM=Symbol.for("react.suspense"),rM=Symbol.for("react.memo"),sM=Symbol.for("react.lazy"),rI=Symbol.iterator;function iM(t){return t===null||typeof t!="object"?null:(t=rI&&t[rI]||t["@@iterator"],typeof t=="function"?t:null)}var HR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VR=Object.assign,GR={};function Oh(t,e,n){this.props=t,this.context=e,this.refs=GR,this.updater=n||HR}Oh.prototype.isReactComponent={};Oh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function KR(){}KR.prototype=Oh.prototype;function hS(t,e,n){this.props=t,this.context=e,this.refs=GR,this.updater=n||HR}var fS=hS.prototype=new KR;fS.constructor=hS;VR(fS,Oh.prototype);fS.isPureReactComponent=!0;var sI=Array.isArray,YR=Object.prototype.hasOwnProperty,pS={current:null},QR={key:!0,ref:!0,__self:!0,__source:!0};function JR(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)YR.call(e,r)&&!QR.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:am,type:t,key:i,ref:o,props:s,_owner:pS.current}}function oM(t,e){return{$$typeof:am,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gS(t){return typeof t=="object"&&t!==null&&t.$$typeof===am}function aM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iI=/\/+/g;function kb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?aM(""+t.key):e.toString(36)}function ow(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case am:case YL:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+kb(o,0):r,sI(s)?(n="",t!=null&&(n=t.replace(iI,"$&/")+"/"),ow(s,e,n,"",function(l){return l})):s!=null&&(gS(s)&&(s=oM(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(iI,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",sI(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+kb(i,a);o+=ow(i,e,n,c,s)}else if(c=iM(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+kb(i,a++),o+=ow(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Km(t,e,n){if(t==null)return t;var r=[],s=0;return ow(t,r,"","",function(i){return e.call(n,i,s++)}),r}function cM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fr={current:null},aw={transition:null},lM={ReactCurrentDispatcher:Fr,ReactCurrentBatchConfig:aw,ReactCurrentOwner:pS};function ZR(){throw Error("act(...) is not supported in production builds of React.")}at.Children={map:Km,forEach:function(t,e,n){Km(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Km(t,function(){e++}),e},toArray:function(t){return Km(t,function(e){return e})||[]},only:function(t){if(!gS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};at.Component=Oh;at.Fragment=QL;at.Profiler=ZL;at.PureComponent=hS;at.StrictMode=JL;at.Suspense=nM;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lM;at.act=ZR;at.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=VR({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=pS.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)YR.call(e,c)&&!QR.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:am,type:t.type,key:s,ref:i,props:r,_owner:o}};at.createContext=function(t){return t={$$typeof:eM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XL,_context:t},t.Consumer=t};at.createElement=JR;at.createFactory=function(t){var e=JR.bind(null,t);return e.type=t,e};at.createRef=function(){return{current:null}};at.forwardRef=function(t){return{$$typeof:tM,render:t}};at.isValidElement=gS;at.lazy=function(t){return{$$typeof:sM,_payload:{_status:-1,_result:t},_init:cM}};at.memo=function(t,e){return{$$typeof:rM,type:t,compare:e===void 0?null:e}};at.startTransition=function(t){var e=aw.transition;aw.transition={};try{t()}finally{aw.transition=e}};at.unstable_act=ZR;at.useCallback=function(t,e){return Fr.current.useCallback(t,e)};at.useContext=function(t){return Fr.current.useContext(t)};at.useDebugValue=function(){};at.useDeferredValue=function(t){return Fr.current.useDeferredValue(t)};at.useEffect=function(t,e){return Fr.current.useEffect(t,e)};at.useId=function(){return Fr.current.useId()};at.useImperativeHandle=function(t,e,n){return Fr.current.useImperativeHandle(t,e,n)};at.useInsertionEffect=function(t,e){return Fr.current.useInsertionEffect(t,e)};at.useLayoutEffect=function(t,e){return Fr.current.useLayoutEffect(t,e)};at.useMemo=function(t,e){return Fr.current.useMemo(t,e)};at.useReducer=function(t,e,n){return Fr.current.useReducer(t,e,n)};at.useRef=function(t){return Fr.current.useRef(t)};at.useState=function(t){return Fr.current.useState(t)};at.useSyncExternalStore=function(t,e,n){return Fr.current.useSyncExternalStore(t,e,n)};at.useTransition=function(){return Fr.current.useTransition()};at.version="18.3.1";WR.exports=at;var P=WR.exports;const Ps=Cu(P),uM=KL({__proto__:null,default:Ps},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dM=P,hM=Symbol.for("react.element"),fM=Symbol.for("react.fragment"),pM=Object.prototype.hasOwnProperty,gM=dM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mM={key:!0,ref:!0,__self:!0,__source:!0};function XR(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)pM.call(e,r)&&!mM.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:hM,type:t,key:i,ref:o,props:s,_owner:gM.current}}J0.Fragment=fM;J0.jsx=XR;J0.jsxs=XR;qR.exports=J0;var g=qR.exports,X_={},e3={exports:{}},js={},t3={exports:{}},n3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,$){var L=D.length;D.push($);e:for(;0<L;){var q=L-1>>>1,J=D[q];if(0<s(J,$))D[q]=$,D[L]=J,L=q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],L=D.pop();if(L!==$){D[0]=L;e:for(var q=0,J=D.length,re=J>>>1;q<re;){var ne=2*(q+1)-1,ie=D[ne],me=ne+1,K=D[me];if(0>s(ie,L))me<J&&0>s(K,ie)?(D[q]=K,D[me]=L,q=me):(D[q]=ie,D[ne]=L,q=ne);else if(me<J&&0>s(K,L))D[q]=K,D[me]=L,q=me;else break e}}return $}function s(D,$){var L=D.sortIndex-$.sortIndex;return L!==0?L:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var $=n(l);$!==null;){if($.callback===null)r(l);else if($.startTime<=D)r(l),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(l)}}function E(D){if(m=!1,b(D),!p)if(n(c)!==null)p=!0,T(_);else{var $=n(l);$!==null&&U(E,$.startTime-D)}}function _(D,$){p=!1,m&&(m=!1,w(A),A=-1),f=!0;var L=h;try{for(b($),d=n(c);d!==null&&(!(d.expirationTime>$)||D&&!O());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var J=q(d.expirationTime<=$);$=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(c)&&r(c),b($)}else r(c);d=n(c)}if(d!==null)var re=!0;else{var ne=n(l);ne!==null&&U(E,ne.startTime-$),re=!1}return re}finally{d=null,h=L,f=!1}}var x=!1,S=null,A=-1,C=5,k=-1;function O(){return!(t.unstable_now()-k<C)}function B(){if(S!==null){var D=t.unstable_now();k=D;var $=!0;try{$=S(!0,D)}finally{$?F():(x=!1,S=null)}}else x=!1}var F;if(typeof v=="function")F=function(){v(B)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,N=H.port2;H.port1.onmessage=B,F=function(){N.postMessage(null)}}else F=function(){y(B,0)};function T(D){S=D,x||(x=!0,F())}function U(D,$){A=y(function(){D(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,T(_))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var L=h;h=$;try{return D()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var L=h;h=D;try{return $()}finally{h=L}},t.unstable_scheduleCallback=function(D,$,L){var q=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?q+L:q):L=q,D){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=L+J,D={id:u++,callback:$,priorityLevel:D,startTime:L,expirationTime:J,sortIndex:-1},L>q?(D.sortIndex=L,e(l,D),n(c)===null&&D===n(l)&&(m?(w(A),A=-1):m=!0,U(E,L-q))):(D.sortIndex=J,e(c,D),p||f||(p=!0,T(_))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var $=h;return function(){var L=h;h=$;try{return D.apply(this,arguments)}finally{h=L}}}})(n3);t3.exports=n3;var yM=t3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wM=P,$s=yM;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r3=new Set,Up={};function xu(t,e){uh(t,e),uh(t+"Capture",e)}function uh(t,e){for(Up[t]=e,t=0;t<e.length;t++)r3.add(e[t])}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eE=Object.prototype.hasOwnProperty,vM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oI={},aI={};function bM(t){return eE.call(aI,t)?!0:eE.call(oI,t)?!1:vM.test(t)?aI[t]=!0:(oI[t]=!0,!1)}function _M(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EM(t,e,n,r){if(e===null||typeof e>"u"||_M(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ar[t]=new zr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ar[e]=new zr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ar[t]=new zr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ar[t]=new zr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ar[t]=new zr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ar[t]=new zr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ar[t]=new zr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ar[t]=new zr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ar[t]=new zr(t,5,!1,t.toLowerCase(),null,!1,!1)});var mS=/[\-:]([a-z])/g;function yS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(mS,yS);ar[e]=new zr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(mS,yS);ar[e]=new zr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(mS,yS);ar[e]=new zr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ar[t]=new zr(t,1,!1,t.toLowerCase(),null,!1,!1)});ar.xlinkHref=new zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ar[t]=new zr(t,1,!1,t.toLowerCase(),null,!0,!0)});function wS(t,e,n,r){var s=ar.hasOwnProperty(e)?ar[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EM(e,n,s,r)&&(n=null),r||s===null?bM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var va=wM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ym=Symbol.for("react.element"),Cd=Symbol.for("react.portal"),xd=Symbol.for("react.fragment"),vS=Symbol.for("react.strict_mode"),tE=Symbol.for("react.profiler"),s3=Symbol.for("react.provider"),i3=Symbol.for("react.context"),bS=Symbol.for("react.forward_ref"),nE=Symbol.for("react.suspense"),rE=Symbol.for("react.suspense_list"),_S=Symbol.for("react.memo"),Ga=Symbol.for("react.lazy"),o3=Symbol.for("react.offscreen"),cI=Symbol.iterator;function af(t){return t===null||typeof t!="object"?null:(t=cI&&t[cI]||t["@@iterator"],typeof t=="function"?t:null)}var dn=Object.assign,Ob;function zf(t){if(Ob===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ob=e&&e[1]||""}return`
`+Ob+t}var Rb=!1;function $b(t,e){if(!t||Rb)return"";Rb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Rb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zf(t):""}function CM(t){switch(t.tag){case 5:return zf(t.type);case 16:return zf("Lazy");case 13:return zf("Suspense");case 19:return zf("SuspenseList");case 0:case 2:case 15:return t=$b(t.type,!1),t;case 11:return t=$b(t.type.render,!1),t;case 1:return t=$b(t.type,!0),t;default:return""}}function sE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xd:return"Fragment";case Cd:return"Portal";case tE:return"Profiler";case vS:return"StrictMode";case nE:return"Suspense";case rE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case i3:return(t.displayName||"Context")+".Consumer";case s3:return(t._context.displayName||"Context")+".Provider";case bS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _S:return e=t.displayName||null,e!==null?e:sE(t.type)||"Memo";case Ga:e=t._payload,t=t._init;try{return sE(t(e))}catch{}}return null}function xM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sE(e);case 8:return e===vS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function a3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SM(t){var e=a3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qm(t){t._valueTracker||(t._valueTracker=SM(t))}function c3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=a3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function iE(t,e){var n=e.checked;return dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function l3(t,e){e=e.checked,e!=null&&wS(t,"checked",e,!1)}function oE(t,e){l3(t,e);var n=Wc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?aE(t,e.type,n):e.hasOwnProperty("defaultValue")&&aE(t,e.type,Wc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function aE(t,e,n){(e!=="number"||Lw(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qf=Array.isArray;function Ld(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wc(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function cE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(de(92));if(qf(n)){if(1<n.length)throw Error(de(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wc(n)}}function u3(t,e){var n=Wc(e.value),r=Wc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function d3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?d3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jm,h3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jm=Jm||document.createElement("div"),Jm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ip={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AM=["Webkit","ms","Moz","O"];Object.keys(ip).forEach(function(t){AM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ip[e]=ip[t]})});function f3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ip.hasOwnProperty(t)&&ip[t]?(""+e).trim():e+"px"}function p3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=f3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var IM=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uE(t,e){if(e){if(IM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function dE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hE=null;function ES(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fE=null,Md=null,Bd=null;function fI(t){if(t=um(t)){if(typeof fE!="function")throw Error(de(280));var e=t.stateNode;e&&(e=nv(e),fE(t.stateNode,t.type,e))}}function g3(t){Md?Bd?Bd.push(t):Bd=[t]:Md=t}function m3(){if(Md){var t=Md,e=Bd;if(Bd=Md=null,fI(t),e)for(t=0;t<e.length;t++)fI(e[t])}}function y3(t,e){return t(e)}function w3(){}var Db=!1;function v3(t,e,n){if(Db)return t(e,n);Db=!0;try{return y3(t,e,n)}finally{Db=!1,(Md!==null||Bd!==null)&&(w3(),m3())}}function Mp(t,e){var n=t.stateNode;if(n===null)return null;var r=nv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(de(231,e,typeof n));return n}var pE=!1;if(la)try{var cf={};Object.defineProperty(cf,"passive",{get:function(){pE=!0}}),window.addEventListener("test",cf,cf),window.removeEventListener("test",cf,cf)}catch{pE=!1}function TM(t,e,n,r,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var op=!1,Mw=null,Bw=!1,gE=null,NM={onError:function(t){op=!0,Mw=t}};function PM(t,e,n,r,s,i,o,a,c){op=!1,Mw=null,TM.apply(NM,arguments)}function kM(t,e,n,r,s,i,o,a,c){if(PM.apply(this,arguments),op){if(op){var l=Mw;op=!1,Mw=null}else throw Error(de(198));Bw||(Bw=!0,gE=l)}}function Su(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function b3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pI(t){if(Su(t)!==t)throw Error(de(188))}function OM(t){var e=t.alternate;if(!e){if(e=Su(t),e===null)throw Error(de(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return pI(s),t;if(i===r)return pI(s),e;i=i.sibling}throw Error(de(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(de(189))}}if(n.alternate!==r)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?t:e}function _3(t){return t=OM(t),t!==null?E3(t):null}function E3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=E3(t);if(e!==null)return e;t=t.sibling}return null}var C3=$s.unstable_scheduleCallback,gI=$s.unstable_cancelCallback,RM=$s.unstable_shouldYield,$M=$s.unstable_requestPaint,vn=$s.unstable_now,DM=$s.unstable_getCurrentPriorityLevel,CS=$s.unstable_ImmediatePriority,x3=$s.unstable_UserBlockingPriority,Fw=$s.unstable_NormalPriority,jM=$s.unstable_LowPriority,S3=$s.unstable_IdlePriority,Z0=null,mo=null;function UM(t){if(mo&&typeof mo.onCommitFiberRoot=="function")try{mo.onCommitFiberRoot(Z0,t,void 0,(t.current.flags&128)===128)}catch{}}var $i=Math.clz32?Math.clz32:BM,LM=Math.log,MM=Math.LN2;function BM(t){return t>>>=0,t===0?32:31-(LM(t)/MM|0)|0}var Zm=64,Xm=4194304;function Wf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zw(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Wf(a):(i&=o,i!==0&&(r=Wf(i)))}else o=n&~s,o!==0?r=Wf(o):i!==0&&(r=Wf(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$i(e),s=1<<n,r|=t[n],e&=~s;return r}function FM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-$i(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=FM(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function mE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function A3(){var t=Zm;return Zm<<=1,!(Zm&4194240)&&(Zm=64),t}function jb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$i(e),t[e]=n}function qM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-$i(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function xS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$i(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ut=0;function I3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var T3,SS,N3,P3,k3,yE=!1,ey=[],Ac=null,Ic=null,Tc=null,Bp=new Map,Fp=new Map,nc=[],WM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mI(t,e){switch(t){case"focusin":case"focusout":Ac=null;break;case"dragenter":case"dragleave":Ic=null;break;case"mouseover":case"mouseout":Tc=null;break;case"pointerover":case"pointerout":Bp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fp.delete(e.pointerId)}}function lf(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=um(e),e!==null&&SS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function HM(t,e,n,r,s){switch(e){case"focusin":return Ac=lf(Ac,t,e,n,r,s),!0;case"dragenter":return Ic=lf(Ic,t,e,n,r,s),!0;case"mouseover":return Tc=lf(Tc,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Bp.set(i,lf(Bp.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Fp.set(i,lf(Fp.get(i)||null,t,e,n,r,s)),!0}return!1}function O3(t){var e=Al(t.target);if(e!==null){var n=Su(e);if(n!==null){if(e=n.tag,e===13){if(e=b3(n),e!==null){t.blockedOn=e,k3(t.priority,function(){N3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cw(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hE=r,n.target.dispatchEvent(r),hE=null}else return e=um(n),e!==null&&SS(e),t.blockedOn=n,!1;e.shift()}return!0}function yI(t,e,n){cw(t)&&n.delete(e)}function VM(){yE=!1,Ac!==null&&cw(Ac)&&(Ac=null),Ic!==null&&cw(Ic)&&(Ic=null),Tc!==null&&cw(Tc)&&(Tc=null),Bp.forEach(yI),Fp.forEach(yI)}function uf(t,e){t.blockedOn===e&&(t.blockedOn=null,yE||(yE=!0,$s.unstable_scheduleCallback($s.unstable_NormalPriority,VM)))}function zp(t){function e(s){return uf(s,t)}if(0<ey.length){uf(ey[0],t);for(var n=1;n<ey.length;n++){var r=ey[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ac!==null&&uf(Ac,t),Ic!==null&&uf(Ic,t),Tc!==null&&uf(Tc,t),Bp.forEach(e),Fp.forEach(e),n=0;n<nc.length;n++)r=nc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<nc.length&&(n=nc[0],n.blockedOn===null);)O3(n),n.blockedOn===null&&nc.shift()}var Fd=va.ReactCurrentBatchConfig,qw=!0;function GM(t,e,n,r){var s=Ut,i=Fd.transition;Fd.transition=null;try{Ut=1,AS(t,e,n,r)}finally{Ut=s,Fd.transition=i}}function KM(t,e,n,r){var s=Ut,i=Fd.transition;Fd.transition=null;try{Ut=4,AS(t,e,n,r)}finally{Ut=s,Fd.transition=i}}function AS(t,e,n,r){if(qw){var s=wE(t,e,n,r);if(s===null)Vb(t,e,r,Ww,n),mI(t,r);else if(HM(s,t,e,n,r))r.stopPropagation();else if(mI(t,r),e&4&&-1<WM.indexOf(t)){for(;s!==null;){var i=um(s);if(i!==null&&T3(i),i=wE(t,e,n,r),i===null&&Vb(t,e,r,Ww,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Vb(t,e,r,null,n)}}var Ww=null;function wE(t,e,n,r){if(Ww=null,t=ES(r),t=Al(t),t!==null)if(e=Su(t),e===null)t=null;else if(n=e.tag,n===13){if(t=b3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ww=t,null}function R3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DM()){case CS:return 1;case x3:return 4;case Fw:case jM:return 16;case S3:return 536870912;default:return 16}default:return 16}}var wc=null,IS=null,lw=null;function $3(){if(lw)return lw;var t,e=IS,n=e.length,r,s="value"in wc?wc.value:wc.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return lw=s.slice(t,1<r?1-r:void 0)}function uw(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ty(){return!0}function wI(){return!1}function Us(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ty:wI,this.isPropagationStopped=wI,this}return dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ty)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ty)},persist:function(){},isPersistent:ty}),e}var Rh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},TS=Us(Rh),lm=dn({},Rh,{view:0,detail:0}),YM=Us(lm),Ub,Lb,df,X0=dn({},lm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:NS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==df&&(df&&t.type==="mousemove"?(Ub=t.screenX-df.screenX,Lb=t.screenY-df.screenY):Lb=Ub=0,df=t),Ub)},movementY:function(t){return"movementY"in t?t.movementY:Lb}}),vI=Us(X0),QM=dn({},X0,{dataTransfer:0}),JM=Us(QM),ZM=dn({},lm,{relatedTarget:0}),Mb=Us(ZM),XM=dn({},Rh,{animationName:0,elapsedTime:0,pseudoElement:0}),eB=Us(XM),tB=dn({},Rh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nB=Us(tB),rB=dn({},Rh,{data:0}),bI=Us(rB),sB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oB[t])?!!e[t]:!1}function NS(){return aB}var cB=dn({},lm,{key:function(t){if(t.key){var e=sB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uw(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:NS,charCode:function(t){return t.type==="keypress"?uw(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uw(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lB=Us(cB),uB=dn({},X0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_I=Us(uB),dB=dn({},lm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:NS}),hB=Us(dB),fB=dn({},Rh,{propertyName:0,elapsedTime:0,pseudoElement:0}),pB=Us(fB),gB=dn({},X0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mB=Us(gB),yB=[9,13,27,32],PS=la&&"CompositionEvent"in window,ap=null;la&&"documentMode"in document&&(ap=document.documentMode);var wB=la&&"TextEvent"in window&&!ap,D3=la&&(!PS||ap&&8<ap&&11>=ap),EI=" ",CI=!1;function j3(t,e){switch(t){case"keyup":return yB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sd=!1;function vB(t,e){switch(t){case"compositionend":return U3(e);case"keypress":return e.which!==32?null:(CI=!0,EI);case"textInput":return t=e.data,t===EI&&CI?null:t;default:return null}}function bB(t,e){if(Sd)return t==="compositionend"||!PS&&j3(t,e)?(t=$3(),lw=IS=wc=null,Sd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return D3&&e.locale!=="ko"?null:e.data;default:return null}}var _B={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_B[t.type]:e==="textarea"}function L3(t,e,n,r){g3(r),e=Hw(e,"onChange"),0<e.length&&(n=new TS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cp=null,qp=null;function EB(t){Y3(t,0)}function ev(t){var e=Td(t);if(c3(e))return t}function CB(t,e){if(t==="change")return e}var M3=!1;if(la){var Bb;if(la){var Fb="oninput"in document;if(!Fb){var SI=document.createElement("div");SI.setAttribute("oninput","return;"),Fb=typeof SI.oninput=="function"}Bb=Fb}else Bb=!1;M3=Bb&&(!document.documentMode||9<document.documentMode)}function AI(){cp&&(cp.detachEvent("onpropertychange",B3),qp=cp=null)}function B3(t){if(t.propertyName==="value"&&ev(qp)){var e=[];L3(e,qp,t,ES(t)),v3(EB,e)}}function xB(t,e,n){t==="focusin"?(AI(),cp=e,qp=n,cp.attachEvent("onpropertychange",B3)):t==="focusout"&&AI()}function SB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ev(qp)}function AB(t,e){if(t==="click")return ev(e)}function IB(t,e){if(t==="input"||t==="change")return ev(e)}function TB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mi=typeof Object.is=="function"?Object.is:TB;function Wp(t,e){if(Mi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!eE.call(e,s)||!Mi(t[s],e[s]))return!1}return!0}function II(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TI(t,e){var n=II(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=II(n)}}function F3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?F3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function z3(){for(var t=window,e=Lw();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lw(t.document)}return e}function kS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function NB(t){var e=z3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&F3(n.ownerDocument.documentElement,n)){if(r!==null&&kS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=TI(n,i);var o=TI(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PB=la&&"documentMode"in document&&11>=document.documentMode,Ad=null,vE=null,lp=null,bE=!1;function NI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bE||Ad==null||Ad!==Lw(r)||(r=Ad,"selectionStart"in r&&kS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lp&&Wp(lp,r)||(lp=r,r=Hw(vE,"onSelect"),0<r.length&&(e=new TS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ad)))}function ny(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Id={animationend:ny("Animation","AnimationEnd"),animationiteration:ny("Animation","AnimationIteration"),animationstart:ny("Animation","AnimationStart"),transitionend:ny("Transition","TransitionEnd")},zb={},q3={};la&&(q3=document.createElement("div").style,"AnimationEvent"in window||(delete Id.animationend.animation,delete Id.animationiteration.animation,delete Id.animationstart.animation),"TransitionEvent"in window||delete Id.transitionend.transition);function tv(t){if(zb[t])return zb[t];if(!Id[t])return t;var e=Id[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in q3)return zb[t]=e[n];return t}var W3=tv("animationend"),H3=tv("animationiteration"),V3=tv("animationstart"),G3=tv("transitionend"),K3=new Map,PI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tl(t,e){K3.set(t,e),xu(e,[t])}for(var qb=0;qb<PI.length;qb++){var Wb=PI[qb],kB=Wb.toLowerCase(),OB=Wb[0].toUpperCase()+Wb.slice(1);tl(kB,"on"+OB)}tl(W3,"onAnimationEnd");tl(H3,"onAnimationIteration");tl(V3,"onAnimationStart");tl("dblclick","onDoubleClick");tl("focusin","onFocus");tl("focusout","onBlur");tl(G3,"onTransitionEnd");uh("onMouseEnter",["mouseout","mouseover"]);uh("onMouseLeave",["mouseout","mouseover"]);uh("onPointerEnter",["pointerout","pointerover"]);uh("onPointerLeave",["pointerout","pointerover"]);xu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xu("onBeforeInput",["compositionend","keypress","textInput","paste"]);xu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hf));function kI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kM(r,e,void 0,t),t.currentTarget=null}function Y3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;kI(s,a,l),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;kI(s,a,l),i=c}}}if(Bw)throw t=gE,Bw=!1,gE=null,t}function Xt(t,e){var n=e[SE];n===void 0&&(n=e[SE]=new Set);var r=t+"__bubble";n.has(r)||(Q3(e,t,2,!1),n.add(r))}function Hb(t,e,n){var r=0;e&&(r|=4),Q3(n,t,r,e)}var ry="_reactListening"+Math.random().toString(36).slice(2);function Hp(t){if(!t[ry]){t[ry]=!0,r3.forEach(function(n){n!=="selectionchange"&&(RB.has(n)||Hb(n,!1,t),Hb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ry]||(e[ry]=!0,Hb("selectionchange",!1,e))}}function Q3(t,e,n,r){switch(R3(e)){case 1:var s=GM;break;case 4:s=KM;break;default:s=AS}n=s.bind(null,e,n,t),s=void 0,!pE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Vb(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Al(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}v3(function(){var l=i,u=ES(n),d=[];e:{var h=K3.get(t);if(h!==void 0){var f=TS,p=t;switch(t){case"keypress":if(uw(n)===0)break e;case"keydown":case"keyup":f=lB;break;case"focusin":p="focus",f=Mb;break;case"focusout":p="blur",f=Mb;break;case"beforeblur":case"afterblur":f=Mb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=vI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=JM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=hB;break;case W3:case H3:case V3:f=eB;break;case G3:f=pB;break;case"scroll":f=YM;break;case"wheel":f=mB;break;case"copy":case"cut":case"paste":f=nB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=_I}var m=(e&4)!==0,y=!m&&t==="scroll",w=m?h!==null?h+"Capture":null:h;m=[];for(var v=l,b;v!==null;){b=v;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,w!==null&&(E=Mp(v,w),E!=null&&m.push(Vp(v,E,b)))),y)break;v=v.return}0<m.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==hE&&(p=n.relatedTarget||n.fromElement)&&(Al(p)||p[ua]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=l,p=p?Al(p):null,p!==null&&(y=Su(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=l),f!==p)){if(m=vI,E="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=_I,E="onPointerLeave",w="onPointerEnter",v="pointer"),y=f==null?h:Td(f),b=p==null?h:Td(p),h=new m(E,v+"leave",f,n,u),h.target=y,h.relatedTarget=b,E=null,Al(u)===l&&(m=new m(w,v+"enter",p,n,u),m.target=b,m.relatedTarget=y,E=m),y=E,f&&p)t:{for(m=f,w=p,v=0,b=m;b;b=zu(b))v++;for(b=0,E=w;E;E=zu(E))b++;for(;0<v-b;)m=zu(m),v--;for(;0<b-v;)w=zu(w),b--;for(;v--;){if(m===w||w!==null&&m===w.alternate)break t;m=zu(m),w=zu(w)}m=null}else m=null;f!==null&&OI(d,h,f,m,!1),p!==null&&y!==null&&OI(d,y,p,m,!0)}}e:{if(h=l?Td(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var _=CB;else if(xI(h))if(M3)_=IB;else{_=SB;var x=xB}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=AB);if(_&&(_=_(t,l))){L3(d,_,n,u);break e}x&&x(t,h,l),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&aE(h,"number",h.value)}switch(x=l?Td(l):window,t){case"focusin":(xI(x)||x.contentEditable==="true")&&(Ad=x,vE=l,lp=null);break;case"focusout":lp=vE=Ad=null;break;case"mousedown":bE=!0;break;case"contextmenu":case"mouseup":case"dragend":bE=!1,NI(d,n,u);break;case"selectionchange":if(PB)break;case"keydown":case"keyup":NI(d,n,u)}var S;if(PS)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Sd?j3(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(D3&&n.locale!=="ko"&&(Sd||A!=="onCompositionStart"?A==="onCompositionEnd"&&Sd&&(S=$3()):(wc=u,IS="value"in wc?wc.value:wc.textContent,Sd=!0)),x=Hw(l,A),0<x.length&&(A=new bI(A,t,null,n,u),d.push({event:A,listeners:x}),S?A.data=S:(S=U3(n),S!==null&&(A.data=S)))),(S=wB?vB(t,n):bB(t,n))&&(l=Hw(l,"onBeforeInput"),0<l.length&&(u=new bI("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=S))}Y3(d,e)})}function Vp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hw(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Mp(t,n),i!=null&&r.unshift(Vp(t,i,s)),i=Mp(t,e),i!=null&&r.push(Vp(t,i,s))),t=t.return}return r}function zu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function OI(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,s?(c=Mp(n,i),c!=null&&o.unshift(Vp(n,c,a))):s||(c=Mp(n,i),c!=null&&o.push(Vp(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $B=/\r\n?/g,DB=/\u0000|\uFFFD/g;function RI(t){return(typeof t=="string"?t:""+t).replace($B,`
`).replace(DB,"")}function sy(t,e,n){if(e=RI(e),RI(t)!==e&&n)throw Error(de(425))}function Vw(){}var _E=null,EE=null;function CE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xE=typeof setTimeout=="function"?setTimeout:void 0,jB=typeof clearTimeout=="function"?clearTimeout:void 0,$I=typeof Promise=="function"?Promise:void 0,UB=typeof queueMicrotask=="function"?queueMicrotask:typeof $I<"u"?function(t){return $I.resolve(null).then(t).catch(LB)}:xE;function LB(t){setTimeout(function(){throw t})}function Gb(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),zp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zp(e)}function Nc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function DI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $h=Math.random().toString(36).slice(2),fo="__reactFiber$"+$h,Gp="__reactProps$"+$h,ua="__reactContainer$"+$h,SE="__reactEvents$"+$h,MB="__reactListeners$"+$h,BB="__reactHandles$"+$h;function Al(t){var e=t[fo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ua]||n[fo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=DI(t);t!==null;){if(n=t[fo])return n;t=DI(t)}return e}t=n,n=t.parentNode}return null}function um(t){return t=t[fo]||t[ua],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Td(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function nv(t){return t[Gp]||null}var AE=[],Nd=-1;function nl(t){return{current:t}}function nn(t){0>Nd||(t.current=AE[Nd],AE[Nd]=null,Nd--)}function Qt(t,e){Nd++,AE[Nd]=t.current,t.current=e}var Hc={},Ar=nl(Hc),ds=nl(!1),eu=Hc;function dh(t,e){var n=t.type.contextTypes;if(!n)return Hc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function hs(t){return t=t.childContextTypes,t!=null}function Gw(){nn(ds),nn(Ar)}function jI(t,e,n){if(Ar.current!==Hc)throw Error(de(168));Qt(Ar,e),Qt(ds,n)}function J3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(de(108,xM(t)||"Unknown",s));return dn({},n,r)}function Kw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hc,eu=Ar.current,Qt(Ar,t),Qt(ds,ds.current),!0}function UI(t,e,n){var r=t.stateNode;if(!r)throw Error(de(169));n?(t=J3(t,e,eu),r.__reactInternalMemoizedMergedChildContext=t,nn(ds),nn(Ar),Qt(Ar,t)):nn(ds),Qt(ds,n)}var Go=null,rv=!1,Kb=!1;function Z3(t){Go===null?Go=[t]:Go.push(t)}function FB(t){rv=!0,Z3(t)}function rl(){if(!Kb&&Go!==null){Kb=!0;var t=0,e=Ut;try{var n=Go;for(Ut=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Go=null,rv=!1}catch(s){throw Go!==null&&(Go=Go.slice(t+1)),C3(CS,rl),s}finally{Ut=e,Kb=!1}}return null}var Pd=[],kd=0,Yw=null,Qw=0,Js=[],Zs=0,tu=null,ea=1,ta="";function ml(t,e){Pd[kd++]=Qw,Pd[kd++]=Yw,Yw=t,Qw=e}function X3(t,e,n){Js[Zs++]=ea,Js[Zs++]=ta,Js[Zs++]=tu,tu=t;var r=ea;t=ta;var s=32-$i(r)-1;r&=~(1<<s),n+=1;var i=32-$i(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ea=1<<32-$i(e)+s|n<<s|r,ta=i+t}else ea=1<<i|n<<s|r,ta=t}function OS(t){t.return!==null&&(ml(t,1),X3(t,1,0))}function RS(t){for(;t===Yw;)Yw=Pd[--kd],Pd[kd]=null,Qw=Pd[--kd],Pd[kd]=null;for(;t===tu;)tu=Js[--Zs],Js[Zs]=null,ta=Js[--Zs],Js[Zs]=null,ea=Js[--Zs],Js[Zs]=null}var ks=null,Ts=null,sn=!1,Ii=null;function e$(t,e){var n=Xs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function LI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ks=t,Ts=Nc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ks=t,Ts=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=tu!==null?{id:ea,overflow:ta}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ks=t,Ts=null,!0):!1;default:return!1}}function IE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function TE(t){if(sn){var e=Ts;if(e){var n=e;if(!LI(t,e)){if(IE(t))throw Error(de(418));e=Nc(n.nextSibling);var r=ks;e&&LI(t,e)?e$(r,n):(t.flags=t.flags&-4097|2,sn=!1,ks=t)}}else{if(IE(t))throw Error(de(418));t.flags=t.flags&-4097|2,sn=!1,ks=t}}}function MI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ks=t}function iy(t){if(t!==ks)return!1;if(!sn)return MI(t),sn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!CE(t.type,t.memoizedProps)),e&&(e=Ts)){if(IE(t))throw t$(),Error(de(418));for(;e;)e$(t,e),e=Nc(e.nextSibling)}if(MI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ts=Nc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ts=null}}else Ts=ks?Nc(t.stateNode.nextSibling):null;return!0}function t$(){for(var t=Ts;t;)t=Nc(t.nextSibling)}function hh(){Ts=ks=null,sn=!1}function $S(t){Ii===null?Ii=[t]:Ii.push(t)}var zB=va.ReactCurrentBatchConfig;function hf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var r=n.stateNode}if(!r)throw Error(de(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,t))}return t}function oy(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BI(t){var e=t._init;return e(t._payload)}function n$(t){function e(w,v){if(t){var b=w.deletions;b===null?(w.deletions=[v],w.flags|=16):b.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=Rc(w,v),w.index=0,w.sibling=null,w}function i(w,v,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<v?(w.flags|=2,v):b):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,b,E){return v===null||v.tag!==6?(v=t1(b,w.mode,E),v.return=w,v):(v=s(v,b),v.return=w,v)}function c(w,v,b,E){var _=b.type;return _===xd?u(w,v,b.props.children,E,b.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ga&&BI(_)===v.type)?(E=s(v,b.props),E.ref=hf(w,v,b),E.return=w,E):(E=yw(b.type,b.key,b.props,null,w.mode,E),E.ref=hf(w,v,b),E.return=w,E)}function l(w,v,b,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=n1(b,w.mode,E),v.return=w,v):(v=s(v,b.children||[]),v.return=w,v)}function u(w,v,b,E,_){return v===null||v.tag!==7?(v=Kl(b,w.mode,E,_),v.return=w,v):(v=s(v,b),v.return=w,v)}function d(w,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=t1(""+v,w.mode,b),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ym:return b=yw(v.type,v.key,v.props,null,w.mode,b),b.ref=hf(w,null,v),b.return=w,b;case Cd:return v=n1(v,w.mode,b),v.return=w,v;case Ga:var E=v._init;return d(w,E(v._payload),b)}if(qf(v)||af(v))return v=Kl(v,w.mode,b,null),v.return=w,v;oy(w,v)}return null}function h(w,v,b,E){var _=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:a(w,v,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ym:return b.key===_?c(w,v,b,E):null;case Cd:return b.key===_?l(w,v,b,E):null;case Ga:return _=b._init,h(w,v,_(b._payload),E)}if(qf(b)||af(b))return _!==null?null:u(w,v,b,E,null);oy(w,b)}return null}function f(w,v,b,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(b)||null,a(v,w,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ym:return w=w.get(E.key===null?b:E.key)||null,c(v,w,E,_);case Cd:return w=w.get(E.key===null?b:E.key)||null,l(v,w,E,_);case Ga:var x=E._init;return f(w,v,b,x(E._payload),_)}if(qf(E)||af(E))return w=w.get(b)||null,u(v,w,E,_,null);oy(v,E)}return null}function p(w,v,b,E){for(var _=null,x=null,S=v,A=v=0,C=null;S!==null&&A<b.length;A++){S.index>A?(C=S,S=null):C=S.sibling;var k=h(w,S,b[A],E);if(k===null){S===null&&(S=C);break}t&&S&&k.alternate===null&&e(w,S),v=i(k,v,A),x===null?_=k:x.sibling=k,x=k,S=C}if(A===b.length)return n(w,S),sn&&ml(w,A),_;if(S===null){for(;A<b.length;A++)S=d(w,b[A],E),S!==null&&(v=i(S,v,A),x===null?_=S:x.sibling=S,x=S);return sn&&ml(w,A),_}for(S=r(w,S);A<b.length;A++)C=f(S,w,A,b[A],E),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?A:C.key),v=i(C,v,A),x===null?_=C:x.sibling=C,x=C);return t&&S.forEach(function(O){return e(w,O)}),sn&&ml(w,A),_}function m(w,v,b,E){var _=af(b);if(typeof _!="function")throw Error(de(150));if(b=_.call(b),b==null)throw Error(de(151));for(var x=_=null,S=v,A=v=0,C=null,k=b.next();S!==null&&!k.done;A++,k=b.next()){S.index>A?(C=S,S=null):C=S.sibling;var O=h(w,S,k.value,E);if(O===null){S===null&&(S=C);break}t&&S&&O.alternate===null&&e(w,S),v=i(O,v,A),x===null?_=O:x.sibling=O,x=O,S=C}if(k.done)return n(w,S),sn&&ml(w,A),_;if(S===null){for(;!k.done;A++,k=b.next())k=d(w,k.value,E),k!==null&&(v=i(k,v,A),x===null?_=k:x.sibling=k,x=k);return sn&&ml(w,A),_}for(S=r(w,S);!k.done;A++,k=b.next())k=f(S,w,A,k.value,E),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?A:k.key),v=i(k,v,A),x===null?_=k:x.sibling=k,x=k);return t&&S.forEach(function(B){return e(w,B)}),sn&&ml(w,A),_}function y(w,v,b,E){if(typeof b=="object"&&b!==null&&b.type===xd&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ym:e:{for(var _=b.key,x=v;x!==null;){if(x.key===_){if(_=b.type,_===xd){if(x.tag===7){n(w,x.sibling),v=s(x,b.props.children),v.return=w,w=v;break e}}else if(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ga&&BI(_)===x.type){n(w,x.sibling),v=s(x,b.props),v.ref=hf(w,x,b),v.return=w,w=v;break e}n(w,x);break}else e(w,x);x=x.sibling}b.type===xd?(v=Kl(b.props.children,w.mode,E,b.key),v.return=w,w=v):(E=yw(b.type,b.key,b.props,null,w.mode,E),E.ref=hf(w,v,b),E.return=w,w=E)}return o(w);case Cd:e:{for(x=b.key;v!==null;){if(v.key===x)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(w,v.sibling),v=s(v,b.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=n1(b,w.mode,E),v.return=w,w=v}return o(w);case Ga:return x=b._init,y(w,v,x(b._payload),E)}if(qf(b))return p(w,v,b,E);if(af(b))return m(w,v,b,E);oy(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,b),v.return=w,w=v):(n(w,v),v=t1(b,w.mode,E),v.return=w,w=v),o(w)):n(w,v)}return y}var fh=n$(!0),r$=n$(!1),Jw=nl(null),Zw=null,Od=null,DS=null;function jS(){DS=Od=Zw=null}function US(t){var e=Jw.current;nn(Jw),t._currentValue=e}function NE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zd(t,e){Zw=t,DS=Od=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ls=!0),t.firstContext=null)}function ni(t){var e=t._currentValue;if(DS!==t)if(t={context:t,memoizedValue:e,next:null},Od===null){if(Zw===null)throw Error(de(308));Od=t,Zw.dependencies={lanes:0,firstContext:t}}else Od=Od.next=t;return e}var Il=null;function LS(t){Il===null?Il=[t]:Il.push(t)}function s$(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,LS(e)):(n.next=s.next,s.next=n),e.interleaved=n,da(t,r)}function da(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ka=!1;function MS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ra(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,yt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,da(t,n)}return s=r.interleaved,s===null?(e.next=e,LS(r)):(e.next=s.next,s.next=e),r.interleaved=e,da(t,n)}function dw(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xS(t,n)}}function FI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xw(t,e,n,r){var s=t.updateQueue;Ka=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,u=l=c=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=dn({},d,h);break e;case 2:Ka=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=f,c=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=d),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ru|=o,t.lanes=o,t.memoizedState=d}}function zI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(de(191,s));s.call(r)}}}var dm={},yo=nl(dm),Kp=nl(dm),Yp=nl(dm);function Tl(t){if(t===dm)throw Error(de(174));return t}function BS(t,e){switch(Qt(Yp,e),Qt(Kp,t),Qt(yo,dm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lE(e,t)}nn(yo),Qt(yo,e)}function ph(){nn(yo),nn(Kp),nn(Yp)}function o$(t){Tl(Yp.current);var e=Tl(yo.current),n=lE(e,t.type);e!==n&&(Qt(Kp,t),Qt(yo,n))}function FS(t){Kp.current===t&&(nn(yo),nn(Kp))}var cn=nl(0);function e0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yb=[];function zS(){for(var t=0;t<Yb.length;t++)Yb[t]._workInProgressVersionPrimary=null;Yb.length=0}var hw=va.ReactCurrentDispatcher,Qb=va.ReactCurrentBatchConfig,nu=0,un=null,On=null,Fn=null,t0=!1,up=!1,Qp=0,qB=0;function pr(){throw Error(de(321))}function qS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mi(t[n],e[n]))return!1;return!0}function WS(t,e,n,r,s,i){if(nu=i,un=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hw.current=t===null||t.memoizedState===null?GB:KB,t=n(r,s),up){i=0;do{if(up=!1,Qp=0,25<=i)throw Error(de(301));i+=1,Fn=On=null,e.updateQueue=null,hw.current=YB,t=n(r,s)}while(up)}if(hw.current=n0,e=On!==null&&On.next!==null,nu=0,Fn=On=un=null,t0=!1,e)throw Error(de(300));return t}function HS(){var t=Qp!==0;return Qp=0,t}function ro(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?un.memoizedState=Fn=t:Fn=Fn.next=t,Fn}function ri(){if(On===null){var t=un.alternate;t=t!==null?t.memoizedState:null}else t=On.next;var e=Fn===null?un.memoizedState:Fn.next;if(e!==null)Fn=e,On=t;else{if(t===null)throw Error(de(310));On=t,t={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Fn===null?un.memoizedState=Fn=t:Fn=Fn.next=t}return Fn}function Jp(t,e){return typeof e=="function"?e(t):e}function Jb(t){var e=ri(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=On,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,l=i;do{var u=l.lane;if((nu&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,un.lanes|=u,ru|=u}l=l.next}while(l!==null&&l!==i);c===null?o=r:c.next=a,Mi(r,e.memoizedState)||(ls=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,un.lanes|=i,ru|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zb(t){var e=ri(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Mi(i,e.memoizedState)||(ls=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function a$(){}function c$(t,e){var n=un,r=ri(),s=e(),i=!Mi(r.memoizedState,s);if(i&&(r.memoizedState=s,ls=!0),r=r.queue,VS(d$.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Fn!==null&&Fn.memoizedState.tag&1){if(n.flags|=2048,Zp(9,u$.bind(null,n,r,s,e),void 0,null),Hn===null)throw Error(de(349));nu&30||l$(n,e,s)}return s}function l$(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function u$(t,e,n,r){e.value=n,e.getSnapshot=r,h$(e)&&f$(t)}function d$(t,e,n){return n(function(){h$(e)&&f$(t)})}function h$(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mi(t,n)}catch{return!0}}function f$(t){var e=da(t,1);e!==null&&Di(e,t,1,-1)}function qI(t){var e=ro();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jp,lastRenderedState:t},e.queue=t,t=t.dispatch=VB.bind(null,un,t),[e.memoizedState,t]}function Zp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function p$(){return ri().memoizedState}function fw(t,e,n,r){var s=ro();un.flags|=t,s.memoizedState=Zp(1|e,n,void 0,r===void 0?null:r)}function sv(t,e,n,r){var s=ri();r=r===void 0?null:r;var i=void 0;if(On!==null){var o=On.memoizedState;if(i=o.destroy,r!==null&&qS(r,o.deps)){s.memoizedState=Zp(e,n,i,r);return}}un.flags|=t,s.memoizedState=Zp(1|e,n,i,r)}function WI(t,e){return fw(8390656,8,t,e)}function VS(t,e){return sv(2048,8,t,e)}function g$(t,e){return sv(4,2,t,e)}function m$(t,e){return sv(4,4,t,e)}function y$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function w$(t,e,n){return n=n!=null?n.concat([t]):null,sv(4,4,y$.bind(null,e,t),n)}function GS(){}function v$(t,e){var n=ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function b$(t,e){var n=ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _$(t,e,n){return nu&21?(Mi(n,e)||(n=A3(),un.lanes|=n,ru|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ls=!0),t.memoizedState=n)}function WB(t,e){var n=Ut;Ut=n!==0&&4>n?n:4,t(!0);var r=Qb.transition;Qb.transition={};try{t(!1),e()}finally{Ut=n,Qb.transition=r}}function E$(){return ri().memoizedState}function HB(t,e,n){var r=Oc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},C$(t))x$(e,n);else if(n=s$(t,e,n,r),n!==null){var s=Dr();Di(n,t,r,s),S$(n,e,r)}}function VB(t,e,n){var r=Oc(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(C$(t))x$(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Mi(a,o)){var c=e.interleaved;c===null?(s.next=s,LS(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=s$(t,e,s,r),n!==null&&(s=Dr(),Di(n,t,r,s),S$(n,e,r))}}function C$(t){var e=t.alternate;return t===un||e!==null&&e===un}function x$(t,e){up=t0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function S$(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xS(t,n)}}var n0={readContext:ni,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},GB={readContext:ni,useCallback:function(t,e){return ro().memoizedState=[t,e===void 0?null:e],t},useContext:ni,useEffect:WI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fw(4194308,4,y$.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fw(4194308,4,t,e)},useInsertionEffect:function(t,e){return fw(4,2,t,e)},useMemo:function(t,e){var n=ro();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ro();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HB.bind(null,un,t),[r.memoizedState,t]},useRef:function(t){var e=ro();return t={current:t},e.memoizedState=t},useState:qI,useDebugValue:GS,useDeferredValue:function(t){return ro().memoizedState=t},useTransition:function(){var t=qI(!1),e=t[0];return t=WB.bind(null,t[1]),ro().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=un,s=ro();if(sn){if(n===void 0)throw Error(de(407));n=n()}else{if(n=e(),Hn===null)throw Error(de(349));nu&30||l$(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,WI(d$.bind(null,r,i,t),[t]),r.flags|=2048,Zp(9,u$.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ro(),e=Hn.identifierPrefix;if(sn){var n=ta,r=ea;n=(r&~(1<<32-$i(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=qB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},KB={readContext:ni,useCallback:v$,useContext:ni,useEffect:VS,useImperativeHandle:w$,useInsertionEffect:g$,useLayoutEffect:m$,useMemo:b$,useReducer:Jb,useRef:p$,useState:function(){return Jb(Jp)},useDebugValue:GS,useDeferredValue:function(t){var e=ri();return _$(e,On.memoizedState,t)},useTransition:function(){var t=Jb(Jp)[0],e=ri().memoizedState;return[t,e]},useMutableSource:a$,useSyncExternalStore:c$,useId:E$,unstable_isNewReconciler:!1},YB={readContext:ni,useCallback:v$,useContext:ni,useEffect:VS,useImperativeHandle:w$,useInsertionEffect:g$,useLayoutEffect:m$,useMemo:b$,useReducer:Zb,useRef:p$,useState:function(){return Zb(Jp)},useDebugValue:GS,useDeferredValue:function(t){var e=ri();return On===null?e.memoizedState=t:_$(e,On.memoizedState,t)},useTransition:function(){var t=Zb(Jp)[0],e=ri().memoizedState;return[t,e]},useMutableSource:a$,useSyncExternalStore:c$,useId:E$,unstable_isNewReconciler:!1};function Ei(t,e){if(t&&t.defaultProps){e=dn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function PE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var iv={isMounted:function(t){return(t=t._reactInternals)?Su(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dr(),s=Oc(t),i=ra(r,s);i.payload=e,n!=null&&(i.callback=n),e=Pc(t,i,s),e!==null&&(Di(e,t,s,r),dw(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dr(),s=Oc(t),i=ra(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Pc(t,i,s),e!==null&&(Di(e,t,s,r),dw(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dr(),r=Oc(t),s=ra(n,r);s.tag=2,e!=null&&(s.callback=e),e=Pc(t,s,r),e!==null&&(Di(e,t,r,n),dw(e,t,r))}};function HI(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Wp(n,r)||!Wp(s,i):!0}function A$(t,e,n){var r=!1,s=Hc,i=e.contextType;return typeof i=="object"&&i!==null?i=ni(i):(s=hs(e)?eu:Ar.current,r=e.contextTypes,i=(r=r!=null)?dh(t,s):Hc),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=iv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function VI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&iv.enqueueReplaceState(e,e.state,null)}function kE(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},MS(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ni(i):(i=hs(e)?eu:Ar.current,s.context=dh(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(PE(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&iv.enqueueReplaceState(s,s.state,null),Xw(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function gh(t,e){try{var n="",r=e;do n+=CM(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Xb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function OE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var QB=typeof WeakMap=="function"?WeakMap:Map;function I$(t,e,n){n=ra(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){s0||(s0=!0,zE=r),OE(t,e)},n}function T$(t,e,n){n=ra(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){OE(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){OE(t,e),typeof r!="function"&&(kc===null?kc=new Set([this]):kc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function GI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new QB;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=uF.bind(null,t,e,n),e.then(t,t))}function KI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function YI(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ra(-1,1),e.tag=2,Pc(n,e,1))),n.lanes|=1),t)}var JB=va.ReactCurrentOwner,ls=!1;function Or(t,e,n,r){e.child=t===null?r$(e,null,n,r):fh(e,t.child,n,r)}function QI(t,e,n,r,s){n=n.render;var i=e.ref;return zd(e,s),r=WS(t,e,n,r,i,s),n=HS(),t!==null&&!ls?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ha(t,e,s)):(sn&&n&&OS(e),e.flags|=1,Or(t,e,r,s),e.child)}function JI(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!tA(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,N$(t,e,i,r,s)):(t=yw(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Wp,n(o,r)&&t.ref===e.ref)return ha(t,e,s)}return e.flags|=1,t=Rc(i,r),t.ref=e.ref,t.return=e,e.child=t}function N$(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Wp(i,r)&&t.ref===e.ref)if(ls=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ls=!0);else return e.lanes=t.lanes,ha(t,e,s)}return RE(t,e,n,r,s)}function P$(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt($d,xs),xs|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qt($d,xs),xs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Qt($d,xs),xs|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Qt($d,xs),xs|=r;return Or(t,e,s,n),e.child}function k$(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function RE(t,e,n,r,s){var i=hs(n)?eu:Ar.current;return i=dh(e,i),zd(e,s),n=WS(t,e,n,r,i,s),r=HS(),t!==null&&!ls?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ha(t,e,s)):(sn&&r&&OS(e),e.flags|=1,Or(t,e,n,s),e.child)}function ZI(t,e,n,r,s){if(hs(n)){var i=!0;Kw(e)}else i=!1;if(zd(e,s),e.stateNode===null)pw(t,e),A$(e,n,r),kE(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=ni(l):(l=hs(n)?eu:Ar.current,l=dh(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&VI(e,o,r,l),Ka=!1;var h=e.memoizedState;o.state=h,Xw(e,r,o,s),c=e.memoizedState,a!==r||h!==c||ds.current||Ka?(typeof u=="function"&&(PE(e,n,u,r),c=e.memoizedState),(a=Ka||HI(e,n,a,r,h,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,i$(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Ei(e.type,a),o.props=l,d=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ni(c):(c=hs(n)?eu:Ar.current,c=dh(e,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==c)&&VI(e,o,r,c),Ka=!1,h=e.memoizedState,o.state=h,Xw(e,r,o,s);var p=e.memoizedState;a!==d||h!==p||ds.current||Ka?(typeof f=="function"&&(PE(e,n,f,r),p=e.memoizedState),(l=Ka||HI(e,n,l,r,h,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return $E(t,e,n,r,i,s)}function $E(t,e,n,r,s,i){k$(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&UI(e,n,!1),ha(t,e,i);r=e.stateNode,JB.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=fh(e,t.child,null,i),e.child=fh(e,null,a,i)):Or(t,e,a,i),e.memoizedState=r.state,s&&UI(e,n,!0),e.child}function O$(t){var e=t.stateNode;e.pendingContext?jI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jI(t,e.context,!1),BS(t,e.containerInfo)}function XI(t,e,n,r,s){return hh(),$S(s),e.flags|=256,Or(t,e,n,r),e.child}var DE={dehydrated:null,treeContext:null,retryLane:0};function jE(t){return{baseLanes:t,cachePool:null,transitions:null}}function R$(t,e,n){var r=e.pendingProps,s=cn.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Qt(cn,s&1),t===null)return TE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cv(o,r,0,null),t=Kl(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jE(n),e.memoizedState=DE,t):KS(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ZB(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Rc(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Rc(a,i):(i=Kl(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?jE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=DE,r}return i=t.child,t=i.sibling,r=Rc(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function KS(t,e){return e=cv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ay(t,e,n,r){return r!==null&&$S(r),fh(e,t.child,null,n),t=KS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZB(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Xb(Error(de(422))),ay(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=cv({mode:"visible",children:r.children},s,0,null),i=Kl(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&fh(e,t.child,null,o),e.child.memoizedState=jE(o),e.memoizedState=DE,i);if(!(e.mode&1))return ay(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(de(419)),r=Xb(i,r,void 0),ay(t,e,o,r)}if(a=(o&t.childLanes)!==0,ls||a){if(r=Hn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,da(t,s),Di(r,t,s,-1))}return eA(),r=Xb(Error(de(421))),ay(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=dF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ts=Nc(s.nextSibling),ks=e,sn=!0,Ii=null,t!==null&&(Js[Zs++]=ea,Js[Zs++]=ta,Js[Zs++]=tu,ea=t.id,ta=t.overflow,tu=e),e=KS(e,r.children),e.flags|=4096,e)}function eT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),NE(t.return,e,n)}function e1(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function $$(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Or(t,e,r.children,n),r=cn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eT(t,n,e);else if(t.tag===19)eT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qt(cn,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&e0(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),e1(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&e0(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}e1(e,!0,n,null,i);break;case"together":e1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pw(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ha(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ru|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,n=Rc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XB(t,e,n){switch(e.tag){case 3:O$(e),hh();break;case 5:o$(e);break;case 1:hs(e.type)&&Kw(e);break;case 4:BS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Qt(Jw,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qt(cn,cn.current&1),e.flags|=128,null):n&e.child.childLanes?R$(t,e,n):(Qt(cn,cn.current&1),t=ha(t,e,n),t!==null?t.sibling:null);Qt(cn,cn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $$(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qt(cn,cn.current),r)break;return null;case 22:case 23:return e.lanes=0,P$(t,e,n)}return ha(t,e,n)}var D$,UE,j$,U$;D$=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};UE=function(){};j$=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Tl(yo.current);var i=null;switch(n){case"input":s=iE(t,s),r=iE(t,r),i=[];break;case"select":s=dn({},s,{value:void 0}),r=dn({},r,{value:void 0}),i=[];break;case"textarea":s=cE(t,s),r=cE(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vw)}uE(n,r);var o;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Up.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var c=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Up.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Xt("scroll",t),i||a===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};U$=function(t,e,n,r){n!==r&&(e.flags|=4)};function ff(t,e){if(!sn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eF(t,e,n){var r=e.pendingProps;switch(RS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(e),null;case 1:return hs(e.type)&&Gw(),gr(e),null;case 3:return r=e.stateNode,ph(),nn(ds),nn(Ar),zS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(iy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ii!==null&&(HE(Ii),Ii=null))),UE(t,e),gr(e),null;case 5:FS(e);var s=Tl(Yp.current);if(n=e.type,t!==null&&e.stateNode!=null)j$(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(de(166));return gr(e),null}if(t=Tl(yo.current),iy(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[fo]=e,r[Gp]=i,t=(e.mode&1)!==0,n){case"dialog":Xt("cancel",r),Xt("close",r);break;case"iframe":case"object":case"embed":Xt("load",r);break;case"video":case"audio":for(s=0;s<Hf.length;s++)Xt(Hf[s],r);break;case"source":Xt("error",r);break;case"img":case"image":case"link":Xt("error",r),Xt("load",r);break;case"details":Xt("toggle",r);break;case"input":lI(r,i),Xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Xt("invalid",r);break;case"textarea":dI(r,i),Xt("invalid",r)}uE(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&sy(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&sy(r.textContent,a,t),s=["children",""+a]):Up.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xt("scroll",r)}switch(n){case"input":Qm(r),uI(r,i,!0);break;case"textarea":Qm(r),hI(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Vw)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=d3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fo]=e,t[Gp]=r,D$(t,e,!1,!1),e.stateNode=t;e:{switch(o=dE(n,r),n){case"dialog":Xt("cancel",t),Xt("close",t),s=r;break;case"iframe":case"object":case"embed":Xt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Hf.length;s++)Xt(Hf[s],t);s=r;break;case"source":Xt("error",t),s=r;break;case"img":case"image":case"link":Xt("error",t),Xt("load",t),s=r;break;case"details":Xt("toggle",t),s=r;break;case"input":lI(t,r),s=iE(t,r),Xt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=dn({},r,{value:void 0}),Xt("invalid",t);break;case"textarea":dI(t,r),s=cE(t,r),Xt("invalid",t);break;default:s=r}uE(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?p3(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&h3(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Lp(t,c):typeof c=="number"&&Lp(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Up.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Xt("scroll",t):c!=null&&wS(t,i,c,o))}switch(n){case"input":Qm(t),uI(t,r,!1);break;case"textarea":Qm(t),hI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wc(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ld(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ld(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gr(e),null;case 6:if(t&&e.stateNode!=null)U$(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(de(166));if(n=Tl(Yp.current),Tl(yo.current),iy(e)){if(r=e.stateNode,n=e.memoizedProps,r[fo]=e,(i=r.nodeValue!==n)&&(t=ks,t!==null))switch(t.tag){case 3:sy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sy(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fo]=e,e.stateNode=r}return gr(e),null;case 13:if(nn(cn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(sn&&Ts!==null&&e.mode&1&&!(e.flags&128))t$(),hh(),e.flags|=98560,i=!1;else if(i=iy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(de(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(de(317));i[fo]=e}else hh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gr(e),i=!1}else Ii!==null&&(HE(Ii),Ii=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||cn.current&1?Dn===0&&(Dn=3):eA())),e.updateQueue!==null&&(e.flags|=4),gr(e),null);case 4:return ph(),UE(t,e),t===null&&Hp(e.stateNode.containerInfo),gr(e),null;case 10:return US(e.type._context),gr(e),null;case 17:return hs(e.type)&&Gw(),gr(e),null;case 19:if(nn(cn),i=e.memoizedState,i===null)return gr(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ff(i,!1);else{if(Dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=e0(t),o!==null){for(e.flags|=128,ff(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qt(cn,cn.current&1|2),e.child}t=t.sibling}i.tail!==null&&vn()>mh&&(e.flags|=128,r=!0,ff(i,!1),e.lanes=4194304)}else{if(!r)if(t=e0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ff(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!sn)return gr(e),null}else 2*vn()-i.renderingStartTime>mh&&n!==1073741824&&(e.flags|=128,r=!0,ff(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=vn(),e.sibling=null,n=cn.current,Qt(cn,r?n&1|2:n&1),e):(gr(e),null);case 22:case 23:return XS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xs&1073741824&&(gr(e),e.subtreeFlags&6&&(e.flags|=8192)):gr(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function tF(t,e){switch(RS(e),e.tag){case 1:return hs(e.type)&&Gw(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ph(),nn(ds),nn(Ar),zS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return FS(e),null;case 13:if(nn(cn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));hh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nn(cn),null;case 4:return ph(),null;case 10:return US(e.type._context),null;case 22:case 23:return XS(),null;case 24:return null;default:return null}}var cy=!1,Sr=!1,nF=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Rd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pn(t,e,r)}else n.current=null}function LE(t,e,n){try{n()}catch(r){pn(t,e,r)}}var tT=!1;function rF(t,e){if(_E=qw,t=z3(),kS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++l===s&&(a=o),h===i&&++u===r&&(c=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(EE={focusedElem:t,selectionRange:n},qw=!1,$e=e;$e!==null;)if(e=$e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$e=t;else for(;$e!==null;){e=$e;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?m:Ei(e.type,m),y);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(E){pn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,$e=t;break}$e=e.return}return p=tT,tT=!1,p}function dp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&LE(e,n,i)}s=s.next}while(s!==r)}}function ov(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ME(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function L$(t){var e=t.alternate;e!==null&&(t.alternate=null,L$(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fo],delete e[Gp],delete e[SE],delete e[MB],delete e[BB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function M$(t){return t.tag===5||t.tag===3||t.tag===4}function nT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||M$(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function BE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vw));else if(r!==4&&(t=t.child,t!==null))for(BE(t,e,n),t=t.sibling;t!==null;)BE(t,e,n),t=t.sibling}function FE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(FE(t,e,n),t=t.sibling;t!==null;)FE(t,e,n),t=t.sibling}var sr=null,Si=!1;function xa(t,e,n){for(n=n.child;n!==null;)B$(t,e,n),n=n.sibling}function B$(t,e,n){if(mo&&typeof mo.onCommitFiberUnmount=="function")try{mo.onCommitFiberUnmount(Z0,n)}catch{}switch(n.tag){case 5:Sr||Rd(n,e);case 6:var r=sr,s=Si;sr=null,xa(t,e,n),sr=r,Si=s,sr!==null&&(Si?(t=sr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):sr.removeChild(n.stateNode));break;case 18:sr!==null&&(Si?(t=sr,n=n.stateNode,t.nodeType===8?Gb(t.parentNode,n):t.nodeType===1&&Gb(t,n),zp(t)):Gb(sr,n.stateNode));break;case 4:r=sr,s=Si,sr=n.stateNode.containerInfo,Si=!0,xa(t,e,n),sr=r,Si=s;break;case 0:case 11:case 14:case 15:if(!Sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&LE(n,e,o),s=s.next}while(s!==r)}xa(t,e,n);break;case 1:if(!Sr&&(Rd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pn(n,e,a)}xa(t,e,n);break;case 21:xa(t,e,n);break;case 22:n.mode&1?(Sr=(r=Sr)||n.memoizedState!==null,xa(t,e,n),Sr=r):xa(t,e,n);break;default:xa(t,e,n)}}function rT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nF),e.forEach(function(r){var s=hF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function di(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:sr=a.stateNode,Si=!1;break e;case 3:sr=a.stateNode.containerInfo,Si=!0;break e;case 4:sr=a.stateNode.containerInfo,Si=!0;break e}a=a.return}if(sr===null)throw Error(de(160));B$(i,o,s),sr=null,Si=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){pn(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)F$(e,t),e=e.sibling}function F$(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(di(e,t),Qi(t),r&4){try{dp(3,t,t.return),ov(3,t)}catch(m){pn(t,t.return,m)}try{dp(5,t,t.return)}catch(m){pn(t,t.return,m)}}break;case 1:di(e,t),Qi(t),r&512&&n!==null&&Rd(n,n.return);break;case 5:if(di(e,t),Qi(t),r&512&&n!==null&&Rd(n,n.return),t.flags&32){var s=t.stateNode;try{Lp(s,"")}catch(m){pn(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&l3(s,i),dE(a,o);var l=dE(a,i);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?p3(s,d):u==="dangerouslySetInnerHTML"?h3(s,d):u==="children"?Lp(s,d):wS(s,u,d,l)}switch(a){case"input":oE(s,i);break;case"textarea":u3(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Ld(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ld(s,!!i.multiple,i.defaultValue,!0):Ld(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gp]=i}catch(m){pn(t,t.return,m)}}break;case 6:if(di(e,t),Qi(t),r&4){if(t.stateNode===null)throw Error(de(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){pn(t,t.return,m)}}break;case 3:if(di(e,t),Qi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zp(e.containerInfo)}catch(m){pn(t,t.return,m)}break;case 4:di(e,t),Qi(t);break;case 13:di(e,t),Qi(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(JS=vn())),r&4&&rT(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Sr=(l=Sr)||u,di(e,t),Sr=l):di(e,t),Qi(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for($e=t,u=t.child;u!==null;){for(d=$e=u;$e!==null;){switch(h=$e,f=h.child,h.tag){case 0:case 11:case 14:case 15:dp(4,h,h.return);break;case 1:Rd(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){pn(r,n,m)}}break;case 5:Rd(h,h.return);break;case 22:if(h.memoizedState!==null){iT(d);continue}}f!==null?(f.return=h,$e=f):iT(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=f3("display",o))}catch(m){pn(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){pn(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:di(e,t),Qi(t),r&4&&rT(t);break;case 21:break;default:di(e,t),Qi(t)}}function Qi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(M$(n)){var r=n;break e}n=n.return}throw Error(de(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Lp(s,""),r.flags&=-33);var i=nT(t);FE(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=nT(t);BE(t,a,o);break;default:throw Error(de(161))}}catch(c){pn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sF(t,e,n){$e=t,z$(t)}function z$(t,e,n){for(var r=(t.mode&1)!==0;$e!==null;){var s=$e,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||cy;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Sr;a=cy;var l=Sr;if(cy=o,(Sr=c)&&!l)for($e=s;$e!==null;)o=$e,c=o.child,o.tag===22&&o.memoizedState!==null?oT(s):c!==null?(c.return=o,$e=c):oT(s);for(;i!==null;)$e=i,z$(i),i=i.sibling;$e=s,cy=a,Sr=l}sT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$e=i):sT(t)}}function sT(t){for(;$e!==null;){var e=$e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sr||ov(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Sr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ei(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&zI(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&zp(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Sr||e.flags&512&&ME(e)}catch(h){pn(e,e.return,h)}}if(e===t){$e=null;break}if(n=e.sibling,n!==null){n.return=e.return,$e=n;break}$e=e.return}}function iT(t){for(;$e!==null;){var e=$e;if(e===t){$e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$e=n;break}$e=e.return}}function oT(t){for(;$e!==null;){var e=$e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ov(4,e)}catch(c){pn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){pn(e,s,c)}}var i=e.return;try{ME(e)}catch(c){pn(e,i,c)}break;case 5:var o=e.return;try{ME(e)}catch(c){pn(e,o,c)}}}catch(c){pn(e,e.return,c)}if(e===t){$e=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$e=a;break}$e=e.return}}var iF=Math.ceil,r0=va.ReactCurrentDispatcher,YS=va.ReactCurrentOwner,ti=va.ReactCurrentBatchConfig,yt=0,Hn=null,An=null,or=0,xs=0,$d=nl(0),Dn=0,Xp=null,ru=0,av=0,QS=0,hp=null,as=null,JS=0,mh=1/0,Ho=null,s0=!1,zE=null,kc=null,ly=!1,vc=null,i0=0,fp=0,qE=null,gw=-1,mw=0;function Dr(){return yt&6?vn():gw!==-1?gw:gw=vn()}function Oc(t){return t.mode&1?yt&2&&or!==0?or&-or:zB.transition!==null?(mw===0&&(mw=A3()),mw):(t=Ut,t!==0||(t=window.event,t=t===void 0?16:R3(t.type)),t):1}function Di(t,e,n,r){if(50<fp)throw fp=0,qE=null,Error(de(185));cm(t,n,r),(!(yt&2)||t!==Hn)&&(t===Hn&&(!(yt&2)&&(av|=n),Dn===4&&rc(t,or)),fs(t,r),n===1&&yt===0&&!(e.mode&1)&&(mh=vn()+500,rv&&rl()))}function fs(t,e){var n=t.callbackNode;zM(t,e);var r=zw(t,t===Hn?or:0);if(r===0)n!==null&&gI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gI(n),e===1)t.tag===0?FB(aT.bind(null,t)):Z3(aT.bind(null,t)),UB(function(){!(yt&6)&&rl()}),n=null;else{switch(I3(r)){case 1:n=CS;break;case 4:n=x3;break;case 16:n=Fw;break;case 536870912:n=S3;break;default:n=Fw}n=Q$(n,q$.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function q$(t,e){if(gw=-1,mw=0,yt&6)throw Error(de(327));var n=t.callbackNode;if(qd()&&t.callbackNode!==n)return null;var r=zw(t,t===Hn?or:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=o0(t,r);else{e=r;var s=yt;yt|=2;var i=H$();(Hn!==t||or!==e)&&(Ho=null,mh=vn()+500,Gl(t,e));do try{cF();break}catch(a){W$(t,a)}while(!0);jS(),r0.current=i,yt=s,An!==null?e=0:(Hn=null,or=0,e=Dn)}if(e!==0){if(e===2&&(s=mE(t),s!==0&&(r=s,e=WE(t,s))),e===1)throw n=Xp,Gl(t,0),rc(t,r),fs(t,vn()),n;if(e===6)rc(t,r);else{if(s=t.current.alternate,!(r&30)&&!oF(s)&&(e=o0(t,r),e===2&&(i=mE(t),i!==0&&(r=i,e=WE(t,i))),e===1))throw n=Xp,Gl(t,0),rc(t,r),fs(t,vn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(de(345));case 2:yl(t,as,Ho);break;case 3:if(rc(t,r),(r&130023424)===r&&(e=JS+500-vn(),10<e)){if(zw(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Dr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xE(yl.bind(null,t,as,Ho),e);break}yl(t,as,Ho);break;case 4:if(rc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-$i(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=vn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iF(r/1960))-r,10<r){t.timeoutHandle=xE(yl.bind(null,t,as,Ho),r);break}yl(t,as,Ho);break;case 5:yl(t,as,Ho);break;default:throw Error(de(329))}}}return fs(t,vn()),t.callbackNode===n?q$.bind(null,t):null}function WE(t,e){var n=hp;return t.current.memoizedState.isDehydrated&&(Gl(t,e).flags|=256),t=o0(t,e),t!==2&&(e=as,as=n,e!==null&&HE(e)),t}function HE(t){as===null?as=t:as.push.apply(as,t)}function oF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Mi(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rc(t,e){for(e&=~QS,e&=~av,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$i(e),r=1<<n;t[n]=-1,e&=~r}}function aT(t){if(yt&6)throw Error(de(327));qd();var e=zw(t,0);if(!(e&1))return fs(t,vn()),null;var n=o0(t,e);if(t.tag!==0&&n===2){var r=mE(t);r!==0&&(e=r,n=WE(t,r))}if(n===1)throw n=Xp,Gl(t,0),rc(t,e),fs(t,vn()),n;if(n===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yl(t,as,Ho),fs(t,vn()),null}function ZS(t,e){var n=yt;yt|=1;try{return t(e)}finally{yt=n,yt===0&&(mh=vn()+500,rv&&rl())}}function su(t){vc!==null&&vc.tag===0&&!(yt&6)&&qd();var e=yt;yt|=1;var n=ti.transition,r=Ut;try{if(ti.transition=null,Ut=1,t)return t()}finally{Ut=r,ti.transition=n,yt=e,!(yt&6)&&rl()}}function XS(){xs=$d.current,nn($d)}function Gl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jB(n)),An!==null)for(n=An.return;n!==null;){var r=n;switch(RS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gw();break;case 3:ph(),nn(ds),nn(Ar),zS();break;case 5:FS(r);break;case 4:ph();break;case 13:nn(cn);break;case 19:nn(cn);break;case 10:US(r.type._context);break;case 22:case 23:XS()}n=n.return}if(Hn=t,An=t=Rc(t.current,null),or=xs=e,Dn=0,Xp=null,QS=av=ru=0,as=hp=null,Il!==null){for(e=0;e<Il.length;e++)if(n=Il[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Il=null}return t}function W$(t,e){do{var n=An;try{if(jS(),hw.current=n0,t0){for(var r=un.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}t0=!1}if(nu=0,Fn=On=un=null,up=!1,Qp=0,YS.current=null,n===null||n.return===null){Dn=1,Xp=e,An=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=or,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=KI(o);if(f!==null){f.flags&=-257,YI(f,o,a,i,e),f.mode&1&&GI(i,l,e),e=f,c=l;var p=e.updateQueue;if(p===null){var m=new Set;m.add(c),e.updateQueue=m}else p.add(c);break e}else{if(!(e&1)){GI(i,l,e),eA();break e}c=Error(de(426))}}else if(sn&&a.mode&1){var y=KI(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),YI(y,o,a,i,e),$S(gh(c,a));break e}}i=c=gh(c,a),Dn!==4&&(Dn=2),hp===null?hp=[i]:hp.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=I$(i,c,e);FI(i,w);break e;case 1:a=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(kc===null||!kc.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=T$(i,a,e);FI(i,E);break e}}i=i.return}while(i!==null)}G$(n)}catch(_){e=_,An===n&&n!==null&&(An=n=n.return);continue}break}while(!0)}function H$(){var t=r0.current;return r0.current=n0,t===null?n0:t}function eA(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Hn===null||!(ru&268435455)&&!(av&268435455)||rc(Hn,or)}function o0(t,e){var n=yt;yt|=2;var r=H$();(Hn!==t||or!==e)&&(Ho=null,Gl(t,e));do try{aF();break}catch(s){W$(t,s)}while(!0);if(jS(),yt=n,r0.current=r,An!==null)throw Error(de(261));return Hn=null,or=0,Dn}function aF(){for(;An!==null;)V$(An)}function cF(){for(;An!==null&&!RM();)V$(An)}function V$(t){var e=Y$(t.alternate,t,xs);t.memoizedProps=t.pendingProps,e===null?G$(t):An=e,YS.current=null}function G$(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tF(n,e),n!==null){n.flags&=32767,An=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dn=6,An=null;return}}else if(n=eF(n,e,xs),n!==null){An=n;return}if(e=e.sibling,e!==null){An=e;return}An=e=t}while(e!==null);Dn===0&&(Dn=5)}function yl(t,e,n){var r=Ut,s=ti.transition;try{ti.transition=null,Ut=1,lF(t,e,n,r)}finally{ti.transition=s,Ut=r}return null}function lF(t,e,n,r){do qd();while(vc!==null);if(yt&6)throw Error(de(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(qM(t,i),t===Hn&&(An=Hn=null,or=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ly||(ly=!0,Q$(Fw,function(){return qd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ti.transition,ti.transition=null;var o=Ut;Ut=1;var a=yt;yt|=4,YS.current=null,rF(t,n),F$(n,t),NB(EE),qw=!!_E,EE=_E=null,t.current=n,sF(n),$M(),yt=a,Ut=o,ti.transition=i}else t.current=n;if(ly&&(ly=!1,vc=t,i0=s),i=t.pendingLanes,i===0&&(kc=null),UM(n.stateNode),fs(t,vn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(s0)throw s0=!1,t=zE,zE=null,t;return i0&1&&t.tag!==0&&qd(),i=t.pendingLanes,i&1?t===qE?fp++:(fp=0,qE=t):fp=0,rl(),null}function qd(){if(vc!==null){var t=I3(i0),e=ti.transition,n=Ut;try{if(ti.transition=null,Ut=16>t?16:t,vc===null)var r=!1;else{if(t=vc,vc=null,i0=0,yt&6)throw Error(de(331));var s=yt;for(yt|=4,$e=t.current;$e!==null;){var i=$e,o=i.child;if($e.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for($e=l;$e!==null;){var u=$e;switch(u.tag){case 0:case 11:case 15:dp(8,u,i)}var d=u.child;if(d!==null)d.return=u,$e=d;else for(;$e!==null;){u=$e;var h=u.sibling,f=u.return;if(L$(u),u===l){$e=null;break}if(h!==null){h.return=f,$e=h;break}$e=f}}}var p=i.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}$e=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$e=o;else e:for(;$e!==null;){if(i=$e,i.flags&2048)switch(i.tag){case 0:case 11:case 15:dp(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,$e=w;break e}$e=i.return}}var v=t.current;for($e=v;$e!==null;){o=$e;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,$e=b;else e:for(o=v;$e!==null;){if(a=$e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ov(9,a)}}catch(_){pn(a,a.return,_)}if(a===o){$e=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,$e=E;break e}$e=a.return}}if(yt=s,rl(),mo&&typeof mo.onPostCommitFiberRoot=="function")try{mo.onPostCommitFiberRoot(Z0,t)}catch{}r=!0}return r}finally{Ut=n,ti.transition=e}}return!1}function cT(t,e,n){e=gh(n,e),e=I$(t,e,1),t=Pc(t,e,1),e=Dr(),t!==null&&(cm(t,1,e),fs(t,e))}function pn(t,e,n){if(t.tag===3)cT(t,t,n);else for(;e!==null;){if(e.tag===3){cT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kc===null||!kc.has(r))){t=gh(n,t),t=T$(e,t,1),e=Pc(e,t,1),t=Dr(),e!==null&&(cm(e,1,t),fs(e,t));break}}e=e.return}}function uF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dr(),t.pingedLanes|=t.suspendedLanes&n,Hn===t&&(or&n)===n&&(Dn===4||Dn===3&&(or&130023424)===or&&500>vn()-JS?Gl(t,0):QS|=n),fs(t,e)}function K$(t,e){e===0&&(t.mode&1?(e=Xm,Xm<<=1,!(Xm&130023424)&&(Xm=4194304)):e=1);var n=Dr();t=da(t,e),t!==null&&(cm(t,e,n),fs(t,n))}function dF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),K$(t,n)}function hF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(de(314))}r!==null&&r.delete(e),K$(t,n)}var Y$;Y$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ds.current)ls=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ls=!1,XB(t,e,n);ls=!!(t.flags&131072)}else ls=!1,sn&&e.flags&1048576&&X3(e,Qw,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pw(t,e),t=e.pendingProps;var s=dh(e,Ar.current);zd(e,n),s=WS(null,e,r,t,s,n);var i=HS();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hs(r)?(i=!0,Kw(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,MS(e),s.updater=iv,e.stateNode=s,s._reactInternals=e,kE(e,r,t,n),e=$E(null,e,r,!0,i,n)):(e.tag=0,sn&&i&&OS(e),Or(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pw(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=pF(r),t=Ei(r,t),s){case 0:e=RE(null,e,r,t,n);break e;case 1:e=ZI(null,e,r,t,n);break e;case 11:e=QI(null,e,r,t,n);break e;case 14:e=JI(null,e,r,Ei(r.type,t),n);break e}throw Error(de(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ei(r,s),RE(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ei(r,s),ZI(t,e,r,s,n);case 3:e:{if(O$(e),t===null)throw Error(de(387));r=e.pendingProps,i=e.memoizedState,s=i.element,i$(t,e),Xw(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=gh(Error(de(423)),e),e=XI(t,e,r,n,s);break e}else if(r!==s){s=gh(Error(de(424)),e),e=XI(t,e,r,n,s);break e}else for(Ts=Nc(e.stateNode.containerInfo.firstChild),ks=e,sn=!0,Ii=null,n=r$(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hh(),r===s){e=ha(t,e,n);break e}Or(t,e,r,n)}e=e.child}return e;case 5:return o$(e),t===null&&TE(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,CE(r,s)?o=null:i!==null&&CE(r,i)&&(e.flags|=32),k$(t,e),Or(t,e,o,n),e.child;case 6:return t===null&&TE(e),null;case 13:return R$(t,e,n);case 4:return BS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fh(e,null,r,n):Or(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ei(r,s),QI(t,e,r,s,n);case 7:return Or(t,e,e.pendingProps,n),e.child;case 8:return Or(t,e,e.pendingProps.children,n),e.child;case 12:return Or(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Qt(Jw,r._currentValue),r._currentValue=o,i!==null)if(Mi(i.value,o)){if(i.children===s.children&&!ds.current){e=ha(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ra(-1,n&-n),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),NE(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(de(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),NE(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Or(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,zd(e,n),s=ni(s),r=r(s),e.flags|=1,Or(t,e,r,n),e.child;case 14:return r=e.type,s=Ei(r,e.pendingProps),s=Ei(r.type,s),JI(t,e,r,s,n);case 15:return N$(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ei(r,s),pw(t,e),e.tag=1,hs(r)?(t=!0,Kw(e)):t=!1,zd(e,n),A$(e,r,s),kE(e,r,s,n),$E(null,e,r,!0,t,n);case 19:return $$(t,e,n);case 22:return P$(t,e,n)}throw Error(de(156,e.tag))};function Q$(t,e){return C3(t,e)}function fF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(t,e,n,r){return new fF(t,e,n,r)}function tA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pF(t){if(typeof t=="function")return tA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bS)return 11;if(t===_S)return 14}return 2}function Rc(t,e){var n=t.alternate;return n===null?(n=Xs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yw(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")tA(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xd:return Kl(n.children,s,i,e);case vS:o=8,s|=8;break;case tE:return t=Xs(12,n,e,s|2),t.elementType=tE,t.lanes=i,t;case nE:return t=Xs(13,n,e,s),t.elementType=nE,t.lanes=i,t;case rE:return t=Xs(19,n,e,s),t.elementType=rE,t.lanes=i,t;case o3:return cv(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case s3:o=10;break e;case i3:o=9;break e;case bS:o=11;break e;case _S:o=14;break e;case Ga:o=16,r=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=Xs(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Kl(t,e,n,r){return t=Xs(7,t,r,e),t.lanes=n,t}function cv(t,e,n,r){return t=Xs(22,t,r,e),t.elementType=o3,t.lanes=n,t.stateNode={isHidden:!1},t}function t1(t,e,n){return t=Xs(6,t,null,e),t.lanes=n,t}function n1(t,e,n){return e=Xs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jb(0),this.expirationTimes=jb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jb(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nA(t,e,n,r,s,i,o,a,c){return t=new gF(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xs(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},MS(i),t}function mF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function J$(t){if(!t)return Hc;t=t._reactInternals;e:{if(Su(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var n=t.type;if(hs(n))return J3(t,n,e)}return e}function Z$(t,e,n,r,s,i,o,a,c){return t=nA(n,r,!0,t,s,i,o,a,c),t.context=J$(null),n=t.current,r=Dr(),s=Oc(n),i=ra(r,s),i.callback=e??null,Pc(n,i,s),t.current.lanes=s,cm(t,s,r),fs(t,r),t}function lv(t,e,n,r){var s=e.current,i=Dr(),o=Oc(s);return n=J$(n),e.context===null?e.context=n:e.pendingContext=n,e=ra(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pc(s,e,o),t!==null&&(Di(t,s,o,i),dw(t,s,o)),o}function a0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rA(t,e){lT(t,e),(t=t.alternate)&&lT(t,e)}function yF(){return null}var X$=typeof reportError=="function"?reportError:function(t){console.error(t)};function sA(t){this._internalRoot=t}uv.prototype.render=sA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));lv(t,e,null,null)};uv.prototype.unmount=sA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;su(function(){lv(null,t,null,null)}),e[ua]=null}};function uv(t){this._internalRoot=t}uv.prototype.unstable_scheduleHydration=function(t){if(t){var e=P3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<nc.length&&e!==0&&e<nc[n].priority;n++);nc.splice(n,0,t),n===0&&O3(t)}};function iA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uT(){}function wF(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=a0(o);i.call(l)}}var o=Z$(e,r,t,0,null,!1,!1,"",uT);return t._reactRootContainer=o,t[ua]=o.current,Hp(t.nodeType===8?t.parentNode:t),su(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=a0(c);a.call(l)}}var c=nA(t,0,!1,null,null,!1,!1,"",uT);return t._reactRootContainer=c,t[ua]=c.current,Hp(t.nodeType===8?t.parentNode:t),su(function(){lv(e,c,n,r)}),c}function hv(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=a0(o);a.call(c)}}lv(e,o,t,s)}else o=wF(n,e,t,s,r);return a0(o)}T3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wf(e.pendingLanes);n!==0&&(xS(e,n|1),fs(e,vn()),!(yt&6)&&(mh=vn()+500,rl()))}break;case 13:su(function(){var r=da(t,1);if(r!==null){var s=Dr();Di(r,t,1,s)}}),rA(t,1)}};SS=function(t){if(t.tag===13){var e=da(t,134217728);if(e!==null){var n=Dr();Di(e,t,134217728,n)}rA(t,134217728)}};N3=function(t){if(t.tag===13){var e=Oc(t),n=da(t,e);if(n!==null){var r=Dr();Di(n,t,e,r)}rA(t,e)}};P3=function(){return Ut};k3=function(t,e){var n=Ut;try{return Ut=t,e()}finally{Ut=n}};fE=function(t,e,n){switch(e){case"input":if(oE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=nv(r);if(!s)throw Error(de(90));c3(r),oE(r,s)}}}break;case"textarea":u3(t,n);break;case"select":e=n.value,e!=null&&Ld(t,!!n.multiple,e,!1)}};y3=ZS;w3=su;var vF={usingClientEntryPoint:!1,Events:[um,Td,nv,g3,m3,ZS]},pf={findFiberByHostInstance:Al,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bF={bundleType:pf.bundleType,version:pf.version,rendererPackageName:pf.rendererPackageName,rendererConfig:pf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:va.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_3(t),t===null?null:t.stateNode},findFiberByHostInstance:pf.findFiberByHostInstance||yF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uy.isDisabled&&uy.supportsFiber)try{Z0=uy.inject(bF),mo=uy}catch{}}js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vF;js.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iA(e))throw Error(de(200));return mF(t,e,null,n)};js.createRoot=function(t,e){if(!iA(t))throw Error(de(299));var n=!1,r="",s=X$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=nA(t,1,!1,null,null,n,!1,r,s),t[ua]=e.current,Hp(t.nodeType===8?t.parentNode:t),new sA(e)};js.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=_3(e),t=t===null?null:t.stateNode,t};js.flushSync=function(t){return su(t)};js.hydrate=function(t,e,n){if(!dv(e))throw Error(de(200));return hv(null,t,e,!0,n)};js.hydrateRoot=function(t,e,n){if(!iA(t))throw Error(de(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=X$;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Z$(e,null,t,1,n??null,s,!1,i,o),t[ua]=e.current,Hp(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new uv(e)};js.render=function(t,e,n){if(!dv(e))throw Error(de(200));return hv(null,t,e,!1,n)};js.unmountComponentAtNode=function(t){if(!dv(t))throw Error(de(40));return t._reactRootContainer?(su(function(){hv(null,null,t,!1,function(){t._reactRootContainer=null,t[ua]=null})}),!0):!1};js.unstable_batchedUpdates=ZS;js.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dv(n))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return hv(t,e,n,!1,r)};js.version="18.3.1-next-f1338f8080-20240426";function eD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eD)}catch(t){console.error(t)}}eD(),e3.exports=js;var oA=e3.exports,dT=oA;X_.createRoot=dT.createRoot,X_.hydrateRoot=dT.hydrateRoot;const tD="2.31.4";let gf={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${tD}`},ae=class VE extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof VE?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof VE&&n.cause.docsPath||n.docsPath,i=(a=gf.getDocsUrl)==null?void 0:a.call(gf,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...gf.version?[`Version: ${gf.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=tD}walk(e){return nD(this,e)}};function nD(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?nD(t.cause,e):e?null:t}let rD=class extends ae{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class _F extends ae{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let EF=class extends ae{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class sD extends ae{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let iD=class extends ae{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class hT extends ae{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Dh(t,{dir:e,size:n=32}={}){return typeof t=="string"?$c(t,{dir:e,size:n}):CF(t,{dir:e,size:n})}function $c(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new iD({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function CF(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new iD({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}function fa(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function _n(t){return fa(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function jh(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const xF=new TextEncoder;function fv(t,e={}){return typeof t=="number"||typeof t=="bigint"?AF(t,e):typeof t=="boolean"?SF(t,e):fa(t)?Eo(t,e):Wd(t,e)}function SF(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(zi(n,{size:e.size}),Dh(n,{size:e.size})):n}const ko={zero:48,nine:57,A:65,F:70,a:97,f:102};function fT(t){if(t>=ko.zero&&t<=ko.nine)return t-ko.zero;if(t>=ko.A&&t<=ko.F)return t-(ko.A-10);if(t>=ko.a&&t<=ko.f)return t-(ko.a-10)}function Eo(t,e={}){let n=t;e.size&&(zi(n,{size:e.size}),n=Dh(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=fT(r.charCodeAt(a++)),l=fT(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new ae(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function AF(t,e){const n=Ke(t,e);return Eo(n)}function Wd(t,e={}){const n=xF.encode(t);return typeof e.size=="number"?(zi(n,{size:e.size}),Dh(n,{dir:"right",size:e.size})):n}function zi(t,{size:e}){if(_n(t)>e)throw new EF({givenSize:_n(t),maxSize:e})}function pa(t,e={}){const{signed:n}=e;e.size&&zi(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function ga(t,e={}){return Number(pa(t,e))}function oD(t,e={}){let n=Eo(t);return e.size&&(zi(n,{size:e.size}),n=jh(n,{dir:"right"})),new TextDecoder().decode(n)}const IF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function iu(t,e={}){return typeof t=="number"||typeof t=="bigint"?Ke(t,e):typeof t=="string"?pv(t,e):typeof t=="boolean"?aD(t,e):Mr(t,e)}function aD(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(zi(n,{size:e.size}),Dh(n,{size:e.size})):n}function Mr(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=IF[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(zi(r,{size:e.size}),Dh(r,{dir:"right",size:e.size})):r}function Ke(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new rD({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Dh(a,{size:r}):a}const TF=new TextEncoder;function pv(t,e={}){const n=TF.encode(t);return Mr(n,e)}async function NF(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Ke(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function Vc(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new zF(t.type);return`${t.name}(${gv(t.inputs,{includeName:e})})`}function gv(t,{includeName:e=!1}={}){return t?t.map(n=>PF(n,{includeName:e})).join(e?", ":","):""}function PF(t,{includeName:e}){return t.type.startsWith("tuple")?`(${gv(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class kF extends ae{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class pT extends ae{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class cD extends ae{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${gv(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class mv extends ae{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class OF extends ae{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class RF extends ae{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${_n(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class $F extends ae{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class FCe extends ae{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class zCe extends ae{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class lD extends ae{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class DF extends ae{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class uD extends ae{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class c0 extends ae{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class jF extends ae{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class qCe extends ae{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class UF extends ae{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Vc(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Vc(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class LF extends ae{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class GE extends ae{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${gv(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class dD extends ae{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Vc(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class MF extends ae{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class BF extends ae{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class FF extends ae{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class zF extends ae{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function Gc(t){return typeof t[0]=="string"?yv(t):qF(t)}function qF(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function yv(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class Kc extends ae{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let wv=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const dy=BigInt(2**32-1),gT=BigInt(32);function WF(t,e=!1){return e?{h:Number(t&dy),l:Number(t>>gT&dy)}:{h:Number(t>>gT&dy)|0,l:Number(t&dy)|0}}function HF(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=WF(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const VF=(t,e,n)=>t<<n|e>>>32-n,GF=(t,e,n)=>e<<n|t>>>32-n,KF=(t,e,n)=>e<<n-32|t>>>64-n,YF=(t,e,n)=>t<<n-32|e>>>64-n,qu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function QF(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function l0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ou(t,...e){if(!QF(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function HCe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");l0(t.outputLen),l0(t.blockLen)}function u0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hD(t,e){ou(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function JF(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function eg(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function r1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ji(t,e){return t<<32-e|t>>>e}const ZF=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function XF(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function e9(t){for(let e=0;e<t.length;e++)t[e]=XF(t[e]);return t}const mT=ZF?t=>t:e9,fD=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",t9=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function VCe(t){if(ou(t),fD)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=t9[t[n]];return e}const Oo={_0:48,_9:57,A:65,F:70,a:97,f:102};function yT(t){if(t>=Oo._0&&t<=Oo._9)return t-Oo._0;if(t>=Oo.A&&t<=Oo.F)return t-(Oo.A-10);if(t>=Oo.a&&t<=Oo.f)return t-(Oo.a-10)}function GCe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(fD)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=yT(t.charCodeAt(i)),a=yT(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function n9(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function vv(t){return typeof t=="string"&&(t=n9(t)),ou(t),t}function KCe(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];ou(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class pD{}function gD(t){const e=r=>t().update(vv(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function r9(t){const e=(r,s)=>t(s).update(vv(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function YCe(t=32){if(qu&&typeof qu.getRandomValues=="function")return qu.getRandomValues(new Uint8Array(t));if(qu&&typeof qu.randomBytes=="function")return Uint8Array.from(qu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const s9=BigInt(0),mf=BigInt(1),i9=BigInt(2),o9=BigInt(7),a9=BigInt(256),c9=BigInt(113),mD=[],yD=[],wD=[];for(let t=0,e=mf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],mD.push(2*(5*r+n)),yD.push((t+1)*(t+2)/2%64);let s=s9;for(let i=0;i<7;i++)e=(e<<mf^(e>>o9)*c9)%a9,e&i9&&(s^=mf<<(mf<<BigInt(i))-mf);wD.push(s)}const vD=HF(wD,!0),l9=vD[0],u9=vD[1],wT=(t,e,n)=>n>32?KF(t,e,n):VF(t,e,n),vT=(t,e,n)=>n>32?YF(t,e,n):GF(t,e,n);function bD(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=wT(l,u,1)^n[a],h=vT(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=yD[o],c=wT(s,i,a),l=vT(s,i,a),u=mD[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=l9[r],t[1]^=u9[r]}eg(n)}class hm extends pD{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,l0(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=JF(this.state)}clone(){return this._cloneInto()}keccak(){mT(this.state32),bD(this.state32,this.rounds),mT(this.state32),this.posOut=0,this.pos=0}update(e){u0(this),e=vv(e),ou(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){u0(this,!1),ou(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return l0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(hD(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,eg(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new hm(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const sl=(t,e,n)=>gD(()=>new hm(e,t,n)),d9=sl(6,144,224/8),h9=sl(6,136,256/8),f9=sl(6,104,384/8),p9=sl(6,72,512/8),g9=sl(1,144,224/8),aA=sl(1,136,256/8),m9=sl(1,104,384/8),y9=sl(1,72,512/8),_D=(t,e,n)=>r9((r={})=>new hm(e,t,r.dkLen===void 0?n:r.dkLen,!0)),w9=_D(31,168,128/8),v9=_D(31,136,256/8),QCe=Object.freeze(Object.defineProperty({__proto__:null,Keccak:hm,keccakP:bD,keccak_224:g9,keccak_256:aA,keccak_384:m9,keccak_512:y9,sha3_224:d9,sha3_256:h9,sha3_384:f9,sha3_512:p9,shake128:w9,shake256:v9},Symbol.toStringTag,{value:"Module"}));function Uh(t,e){const n=e||"hex",r=aA(fa(t,{strict:!1})?fv(t):t);return n==="bytes"?r:iu(r)}const s1=new wv(8192);function fm(t,e){if(s1.has(`${t}.${e}`))return s1.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Uh(Wd(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return s1.set(`${t}.${e}`,i),i}function bc(t,e){if(!Bi(t,{strict:!1}))throw new Kc({address:t});return fm(t,e)}const b9=/^0x[a-fA-F0-9]{40}$/,i1=new wv(8192);function Bi(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(i1.has(r))return i1.get(r);const s=b9.test(t)?t.toLowerCase()===t?!0:n?fm(t)===t:!0:!1;return i1.set(r,s),s}function d0(t,e,n,{strict:r}={}){return fa(t,{strict:!1})?KE(t,e,n,{strict:r}):xD(t,e,n,{strict:r})}function ED(t,e){if(typeof e=="number"&&e>0&&e>_n(t)-1)throw new sD({offset:e,position:"start",size:_n(t)})}function CD(t,e,n){if(typeof e=="number"&&typeof n=="number"&&_n(t)!==n-e)throw new sD({offset:n,position:"end",size:_n(t)})}function xD(t,e,n,{strict:r}={}){ED(t,e);const s=t.slice(e,n);return r&&CD(s,e,n),s}function KE(t,e,n,{strict:r}={}){ED(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&CD(s,e,n),s}const _9=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,SD=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function AD(t,e){if(t.length!==e.length)throw new $F({expectedLength:t.length,givenLength:e.length});const n=E9({params:t,values:e}),r=lA(n);return r.length===0?"0x":r}function E9({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(cA({param:t[r],value:e[r]}));return n}function cA({param:t,value:e}){const n=uA(t.type);if(n){const[r,s]=n;return x9(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return N9(e,{param:t});if(t.type==="address")return C9(e);if(t.type==="bool")return A9(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=SD.exec(t.type)??[];return I9(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return S9(e,{param:t});if(t.type==="string")return T9(e);throw new MF(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function lA(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=_n(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(Ke(e+s,{size:32})),r.push(a),s+=_n(a)):n.push(a)}return Gc([...n,...r])}function C9(t){if(!Bi(t))throw new Kc({address:t});return{dynamic:!1,encoded:$c(t.toLowerCase())}}function x9(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new FF(t);if(!r&&t.length!==e)throw new OF({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=cA({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=lA(i);if(r){const a=Ke(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Gc([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Gc(i.map(({encoded:o})=>o))}}function S9(t,{param:e}){const[,n]=e.type.split("bytes"),r=_n(t);if(!n){let s=t;return r%32!==0&&(s=$c(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Gc([$c(Ke(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new RF({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:$c(t,{dir:"right"})}}function A9(t){if(typeof t!="boolean")throw new ae(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:$c(aD(t))}}function I9(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new rD({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ke(t,{size:32,signed:e})}}function T9(t){const e=pv(t),n=Math.ceil(_n(e)/32),r=[];for(let s=0;s<n;s++)r.push($c(d0(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Gc([$c(Ke(_n(e),{size:32})),...r])}}function N9(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=cA({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?lA(r):Gc(r.map(({encoded:s})=>s))}}function uA(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const o1="/docs/contract/encodeDeployData";function dA(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new kF({docsPath:o1});if(!("inputs"in s))throw new pT({docsPath:o1});if(!s.inputs||s.inputs.length===0)throw new pT({docsPath:o1});const i=AD(s.inputs,n);return yv([r,i])}function cr(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class Au extends ae{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class ww extends ae{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function P9(t){const e=Uh(`0x${t.substring(4)}`).substring(26);return fm(`0x${e}`)}const k9="modulepreload",O9=function(t){return"/"+t},bT={},wn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=O9(c),c in bT)return;bT[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":k9,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};async function R9({hash:t,signature:e}){const n=fa(t)?t:iu(t),{secp256k1:r}=await wn(async()=>{const{secp256k1:o}=await import("./secp256k1-CHXgIrq1.js");return{secp256k1:o}},__vite__mapDeps([0,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=_T(f);return new r.Signature(pa(l),pa(u)).addRecoveryBit(p)}const o=fa(e)?e:iu(e);if(_n(o)!==65)throw new Error("invalid signature length");const a=ga(`0x${o.slice(130)}`),c=_T(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function _T(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function $9({hash:t,signature:e}){return P9(await R9({hash:t,signature:e}))}class ET extends ae{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class ID extends ae{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class D9 extends ae{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const j9={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new D9({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new ID({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new ET({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new ET({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function hA(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(j9);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function U9(t,e="hex"){const n=TD(t),r=hA(new Uint8Array(n.length));return n.encode(r),e==="hex"?Mr(r.bytes):r.bytes}function TD(t){return Array.isArray(t)?L9(t.map(e=>TD(e))):M9(t)}function L9(t){const e=t.reduce((s,i)=>s+i.length,0),n=ND(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function M9(t){const e=typeof t=="string"?Eo(t):t,n=ND(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function ND(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ae("Length is too large.")}function B9(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=Uh(yv(["0x05",U9([e?Ke(e):"0x",s,n?Ke(n):"0x"])]));return r==="bytes"?Eo(i):i}async function PD(t){const{authorization:e,signature:n}=t;return $9({hash:B9(e),signature:n??e})}class YE extends ae{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class F9 extends ae{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class z9 extends ae{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class kD extends ae{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function OD({chain:t,currentChainId:e}){if(!t)throw new z9;if(e!==t.id)throw new F9({chain:t,currentChainId:e})}const q9={gwei:9,wei:18},W9={ether:-9,wei:9},H9={ether:-18,gwei:-9};function Lh(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function ps(t,e="wei"){return Lh(t,W9[e])}class Nl extends ae{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Nl,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Nl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class h0 extends ae{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ps(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(h0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class QE extends ae{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ps(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(QE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class JE extends ae{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(JE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class ZE extends ae{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(ZE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class XE extends ae{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(XE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class eC extends ae{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(eC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class tC extends ae{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(tC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class nC extends ae{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(nC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class rC extends ae{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(rC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class f0 extends ae{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ps(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ps(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(f0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class bv extends ae{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function fA(t,e="wei"){return Lh(t,q9[e])}function pm(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class V9 extends ae{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class G9 extends ae{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",pm(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class K9 extends ae{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=pm({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${fA(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${ps(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ps(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${ps(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class RD extends ae{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class $D extends ae{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Y9 extends ae{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const jr=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n),Q9=t=>t,pA=t=>t;class pp extends ae{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${pA(o)}`,e&&`Request body: ${jr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class gA extends ae{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${pA(r)}`,`Request body: ${jr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class CT extends ae{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${pA(n)}`,`Request body: ${jr(e)}`],name:"TimeoutError"})}}const J9=-1;class ms extends ae{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof gA?e.code:n??J9}}class Ls extends ms{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class tg extends ms{constructor(e){super(e,{code:tg.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(tg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class ng extends ms{constructor(e){super(e,{code:ng.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(ng,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class rg extends ms{constructor(e,{method:n}={}){super(e,{code:rg.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(rg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class sg extends ms{constructor(e){super(e,{code:sg.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(sg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class au extends ms{constructor(e){super(e,{code:au.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(au,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class ig extends ms{constructor(e){super(e,{code:ig.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ig,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class og extends ms{constructor(e){super(e,{code:og.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(og,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Dc extends ms{constructor(e){super(e,{code:Dc.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Dc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class yh extends ms{constructor(e){super(e,{code:yh.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(yh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Pl extends ms{constructor(e,{method:n}={}){super(e,{code:Pl.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Pl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class wh extends ms{constructor(e){super(e,{code:wh.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(wh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class ag extends ms{constructor(e){super(e,{code:ag.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(ag,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class kn extends Ls{constructor(e){super(e,{code:kn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class cg extends Ls{constructor(e){super(e,{code:cg.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(cg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class lg extends Ls{constructor(e,{method:n}={}){super(e,{code:lg.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(lg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ug extends Ls{constructor(e){super(e,{code:ug.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(ug,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class dg extends Ls{constructor(e){super(e,{code:dg.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(dg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Co extends Ls{constructor(e){super(e,{code:Co.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Co,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class vh extends Ls{constructor(e){super(e,{code:vh.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(vh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class hg extends Ls{constructor(e){super(e,{code:hg.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(hg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class fg extends Ls{constructor(e){super(e,{code:fg.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(fg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class pg extends Ls{constructor(e){super(e,{code:pg.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(pg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class gg extends Ls{constructor(e){super(e,{code:gg.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(gg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class mg extends Ls{constructor(e){super(e,{code:mg.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(mg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class bh extends Ls{constructor(e){super(e,{code:bh.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(bh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Z9 extends ms{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function mA(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof ae?t.walk(s=>(s==null?void 0:s.code)===Nl.code):t;return r instanceof ae?new Nl({cause:t,message:r.details}):Nl.nodeMessage.test(n)?new Nl({cause:t,message:t.details}):h0.nodeMessage.test(n)?new h0({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):QE.nodeMessage.test(n)?new QE({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):JE.nodeMessage.test(n)?new JE({cause:t,nonce:e==null?void 0:e.nonce}):ZE.nodeMessage.test(n)?new ZE({cause:t,nonce:e==null?void 0:e.nonce}):XE.nodeMessage.test(n)?new XE({cause:t,nonce:e==null?void 0:e.nonce}):eC.nodeMessage.test(n)?new eC({cause:t}):tC.nodeMessage.test(n)?new tC({cause:t,gas:e==null?void 0:e.gas}):nC.nodeMessage.test(n)?new nC({cause:t,gas:e==null?void 0:e.gas}):rC.nodeMessage.test(n)?new rC({cause:t}):f0.nodeMessage.test(n)?new f0({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new bv({cause:t})}function DD(t,{docsPath:e,...n}){const r=(()=>{const s=mA(t,n);return s instanceof bv?t:s})();return new K9(r,{docsPath:e,...n})}function yA(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}const X9={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function _v(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=e7(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Mr(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Ke(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Ke(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Ke(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Ke(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Ke(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Ke(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=X9[t.type]),typeof t.value<"u"&&(e.value=Ke(t.value)),e}function e7(t){return t.map(e=>({address:e.address,r:e.r?Ke(BigInt(e.r)):e.r,s:e.s?Ke(BigInt(e.s)):e.s,chainId:Ke(e.chainId),nonce:Ke(e.nonce),...typeof e.yParity<"u"?{yParity:Ke(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Ke(e.v)}:{}}))}function zt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const t7=2n**256n-1n;function gm(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?cr(e):void 0;if(o&&!Bi(o.address))throw new Kc({address:o.address});if(i&&!Bi(i))throw new Kc({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new V9;if(r&&r>t7)throw new h0({maxFeePerGas:r});if(s&&r&&s>r)throw new f0({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function mm(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return ga(e)}class n7 extends ae{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class wA extends ae{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class r7 extends ae{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ps(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class jD extends ae{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const UD={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function LD(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?ga(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?ga(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?UD[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=s7(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function s7(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function i7(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:LD(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function yg(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var u,d,h;const i=r??"latest",o=s??!1,a=n!==void 0?Ke(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||i,o]},{dedupe:!!a}),!c)throw new jD({blockHash:e,blockNumber:n});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:h.format)||i7)(c)}async function MD(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function o7(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await zt(t,yg,"getBlock")({}),u=await a({block:l,client:t,request:s});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return pa(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):zt(t,yg,"getBlock")({}),zt(t,MD,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new wA;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function xT(t,e){var h,f;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var p,m;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(o<1)throw new n7;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),l=p=>p*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await zt(t,yg,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:s,type:i});if(p!==null)return p}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new wA;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await o7(t,{block:u,chain:r,request:s}),m=l(u.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??m+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await zt(t,MD,"getGasPrice")({}))}}class a7 extends ae{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=pm({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${fA(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${ps(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ps(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${ps(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function c7(t,{docsPath:e,...n}){const r=(()=>{const s=mA(t,n);return s instanceof bv?t:s})();return new a7(r,{docsPath:e,...n})}class l7 extends ae{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class u7 extends ae{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ST(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function d7(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=ST(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=ST(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function AT(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new hT({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new hT({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function h7(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=Ke(e)),n!==void 0&&(o.nonce=Ke(n)),r!==void 0&&(o.state=AT(r)),s!==void 0){if(o.state)throw new u7;o.stateDiff=AT(s)}return o}function BD(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Bi(n,{strict:!1}))throw new Kc({address:n});if(e[n])throw new l7({address:n});e[n]=h7(r)}return e}async function FD(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?Ke(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function zD(t,e){var s,i,o;const{account:n=t.account}=e,r=n?cr(n):void 0;try{let H=function(T){const{block:U,request:D,rpcStateOverride:$}=T;return t.request({method:"eth_estimateGas",params:$?[D,U??"latest",$]:U?[D,U]:[D]})};const{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:h,data:f,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,value:E,stateOverride:_,...x}=await Ev(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),A=(typeof d=="bigint"?Ke(d):void 0)||h,C=BD(_),k=await(async()=>{if(x.to)return x.to;if(c&&c.length>0)return await PD({authorization:c[0]}).catch(()=>{throw new ae("`to` is required. Could not infer from `authorizationList`")})})();gm(e);const O=(o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,F=(O||_v)({...yA(x,{format:O}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:f,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,to:k,value:E});let N=BigInt(await H({block:A,request:F,rpcStateOverride:C}));if(c){const T=await FD(t,{address:F.from}),U=await Promise.all(c.map(async D=>{const{address:$}=D,L=await H({block:A,request:{authorizationList:void 0,data:f,from:r==null?void 0:r.address,to:$,value:Ke(T)},rpcStateOverride:C}).catch(()=>100000n);return 2n*BigInt(L)}));N+=U.reduce((D,$)=>D+$,0n)}return N}catch(a){throw c7(a,{...e,account:r,chain:t.chain})}}async function qD(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Ke(r):n]},{dedupe:!!r});return ga(s)}function WD(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>Eo(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>Mr(i))}function HD(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Eo(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>Eo(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>Mr(o))}function f7(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function p7(t,e,n){return t&e^~t&n}function g7(t,e,n){return t&e^t&n^e&n}class m7 extends pD{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=r1(this.buffer)}update(e){u0(this),e=vv(e),ou(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=r1(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){u0(this),hD(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,eg(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;f7(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=r1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Sa=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),y7=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Aa=new Uint32Array(64);class w7 extends m7{constructor(e=32){super(64,e,8,!1),this.A=Sa[0]|0,this.B=Sa[1]|0,this.C=Sa[2]|0,this.D=Sa[3]|0,this.E=Sa[4]|0,this.F=Sa[5]|0,this.G=Sa[6]|0,this.H=Sa[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Aa[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Aa[d-15],f=Aa[d-2],p=Ji(h,7)^Ji(h,18)^h>>>3,m=Ji(f,17)^Ji(f,19)^f>>>10;Aa[d]=m+Aa[d-7]+p+Aa[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Ji(a,6)^Ji(a,11)^Ji(a,25),f=u+h+p7(a,c,l)+y7[d]+Aa[d]|0,m=(Ji(r,2)^Ji(r,13)^Ji(r,22))+g7(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+m|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){eg(Aa)}destroy(){this.set(0,0,0,0,0,0,0,0),eg(this.buffer)}}const v7=gD(()=>new w7),b7=v7;function _7(t,e){return b7(fa(t,{strict:!1})?fv(t):t)}function E7(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=_7(e);return s.set([n],0),r==="bytes"?s:Mr(s)}function C7(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const i of e)s.push(E7({commitment:i,to:r,version:n}));return s}const IT=6,VD=32,vA=4096,GD=VD*vA,TT=GD*IT-1-1*vA*IT;class x7 extends ae{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class S7 extends ae{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function A7(t){const e=typeof t.data=="string"?Eo(t.data):t.data,n=_n(e);if(!n)throw new S7;if(n>TT)throw new x7({maxSize:TT,size:n});const r=[];let s=!0,i=0;for(;s;){const o=hA(new Uint8Array(GD));let a=0;for(;a<vA;){const c=e.slice(i,i+(VD-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}a++,i+=31}r.push(o)}return r.map(o=>Mr(o.bytes))}function I7(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??A7({data:e}),i=t.commitments??WD({blobs:s,kzg:n,to:r}),o=t.proofs??HD({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function T7(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new G9({transaction:t})}const KD=["blobVersionedHashes","chainId","fees","gas","nonce","type"],NT=new Map;async function Ev(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:l=KD,type:u}=e,d=n&&cr(n),h={...e,...d?{from:d==null?void 0:d.address}:{}};let f;async function p(){return f||(f=await zt(t,yg,"getBlock")({blockTag:"latest"}),f)}let m;async function y(){return m||(s?s.id:typeof e.chainId<"u"?e.chainId:(m=await zt(t,mm,"getChainId")({}),m))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const w=await y();h.nonce=await c.consume({address:d.address,chainId:w,client:t})}else h.nonce=await zt(t,qD,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const w=WD({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const v=C7({commitments:w,to:"hex"});h.blobVersionedHashes=v}if(l.includes("sidecars")){const v=HD({blobs:r,commitments:w,kzg:o}),b=I7({blobs:r,commitments:w,proofs:v,to:"hex"});h.sidecars=b}}if(l.includes("chainId")&&(h.chainId=await y()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{h.type=T7(h)}catch{let w=NT.get(t.uid);if(typeof w>"u"){const v=await p();w=typeof(v==null?void 0:v.baseFeePerGas)=="bigint",NT.set(t.uid,w)}h.type=w?"eip1559":"legacy"}if(l.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const w=await p(),{maxFeePerGas:v,maxPriorityFeePerGas:b}=await xT(t,{block:w,chain:s,request:h});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<b)throw new r7({maxPriorityFeePerGas:b});h.maxPriorityFeePerGas=b,h.maxFeePerGas=v}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new wA;if(typeof e.gasPrice>"u"){const w=await p(),{gasPrice:v}=await xT(t,{block:w,chain:s,request:h,type:"legacy"});h.gasPrice=v}}return l.includes("gas")&&typeof i>"u"&&(h.gas=await zt(t,zD,"estimateGas")({...h,account:d&&{address:d.address,type:"json-rpc"}})),gm(h),delete h.parameters,h}async function YD(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const a1=new wv(128);async function ym(t,e){var v,b,E,_;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,type:p,value:m,...y}=e;if(typeof n>"u")throw new Au({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?cr(n):null;try{gm(e);const x=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await PD({authorization:i[0]}).catch(()=>{throw new ae("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let S;r!==null&&(S=await zt(t,mm,"getChainId")({}),OD({currentChainId:S,chain:r}));const A=(E=(b=(v=t.chain)==null?void 0:v.formatters)==null?void 0:b.transactionRequest)==null?void 0:E.format,k=(A||_v)({...yA(y,{format:A}),accessList:s,authorizationList:i,blobs:o,chainId:S,data:a,from:w==null?void 0:w.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,to:x,type:p,value:m}),O=a1.get(t.uid),B=O?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:B,params:[k]},{retryCount:0})}catch(F){if(O===!1)throw F;const H=F;if(H.name==="InvalidInputRpcError"||H.name==="InvalidParamsRpcError"||H.name==="MethodNotFoundRpcError"||H.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then(N=>(a1.set(t.uid,!0),N)).catch(N=>{const T=N;throw T.name==="MethodNotFoundRpcError"||T.name==="MethodNotSupportedRpcError"?(a1.set(t.uid,!1),H):T});throw H}}if((w==null?void 0:w.type)==="local"){const S=await zt(t,Ev,"prepareTransactionRequest")({account:w,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,nonceManager:w.nonceManager,parameters:[...KD,"sidecars"],type:p,value:m,...y,to:x}),A=(_=r==null?void 0:r.serializers)==null?void 0:_.transaction,C=await w.signTransaction(S,{serializer:A});return await zt(t,YD,"sendRawTransaction")({serializedTransaction:C})}throw(w==null?void 0:w.type)==="smart"?new ww({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new ww({docsPath:"/docs/actions/wallet/sendTransaction",type:w==null?void 0:w.type})}catch(x){throw x instanceof ww?x:DD(x,{...e,account:w,chain:e.chain||void 0})}}function N7(t,e){const{abi:n,args:r,bytecode:s,...i}=e,o=dA({abi:n,args:r,bytecode:s});return ym(t,{...i,...i.authorizationList?{to:null}:{},data:o})}const sC=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],JCe=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],P7=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],k7=[...P7,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}];function O7(t,e={}){typeof e.size<"u"&&zi(t,{size:e.size});const n=Mr(t,e);return pa(n,e)}function R7(t,e={}){let n=t;if(typeof e.size<"u"&&(zi(n,{size:e.size}),n=jh(n)),n.length>1||n[0]>1)throw new _F(n);return!!n[0]}function sa(t,e={}){typeof e.size<"u"&&zi(t,{size:e.size});const n=Mr(t,e);return ga(n,e)}function $7(t,e={}){let n=t;return typeof e.size<"u"&&(zi(n,{size:e.size}),n=jh(n,{dir:"right"})),new TextDecoder().decode(n)}function Cv(t,e){const n=typeof e=="string"?Eo(e):e,r=hA(n);if(_n(n)===0&&t.length>0)throw new mv;if(_n(e)&&_n(e)<32)throw new cD({data:typeof e=="string"?e:Mr(e),params:t,size:_n(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,l]=Hd(r,a,{staticPosition:0});s+=l,i.push(c)}return i}function Hd(t,e,{staticPosition:n}){const r=uA(e.type);if(r){const[s,i]=r;return j7(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return B7(t,e,{staticPosition:n});if(e.type==="address")return D7(t);if(e.type==="bool")return U7(t);if(e.type.startsWith("bytes"))return L7(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return M7(t,e);if(e.type==="string")return F7(t,{staticPosition:n});throw new BF(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const PT=32,iC=32;function D7(t){const e=t.readBytes(32);return[fm(Mr(xD(e,-20))),32]}function j7(t,e,{length:n,staticPosition:r}){if(!n){const o=sa(t.readBytes(iC)),a=r+o,c=a+PT;t.setPosition(a);const l=sa(t.readBytes(PT)),u=wg(e);let d=0;const h=[];for(let f=0;f<l;++f){t.setPosition(c+(u?f*32:d));const[p,m]=Hd(t,e,{staticPosition:c});d+=m,h.push(p)}return t.setPosition(r+32),[h,32]}if(wg(e)){const o=sa(t.readBytes(iC)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=Hd(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Hd(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function U7(t){return[R7(t.readBytes(32),{size:32}),32]}function L7(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=sa(t.readBytes(32));t.setPosition(n+o);const a=sa(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Mr(c),32]}return[Mr(t.readBytes(Number.parseInt(s),32)),32]}function M7(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?O7(s,{signed:n}):sa(s,{signed:n}),32]}function B7(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(wg(e)){const o=sa(t.readBytes(iC)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+i);const[u,d]=Hd(t,l,{staticPosition:a});i+=d,s[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=Hd(t,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=l}return[s,i]}function F7(t,{staticPosition:e}){const n=sa(t.readBytes(32)),r=e+n;t.setPosition(r);const s=sa(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=$7(jh(i));return t.setPosition(e+32),[o,32]}function wg(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(wg);const n=uA(t.type);return!!(n&&wg({...t,type:n[1]}))}const z7=t=>Uh(fv(t));function q7(t){return z7(t)}const W7="1.0.8";let oi=class oC extends Error{constructor(e,n={}){var o;const r=n.cause instanceof oC?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof oC&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${W7}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function ba(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const QD=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,JD=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ZD=/^\(.+?\).*?$/,kT=/^tuple(?<array>(\[(\d*)\])*)$/;function aC(t){let e=t.type;if(kT.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=aC(i),s<n-1&&(e+=", ")}const r=ba(kT,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,aC({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function yf(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=aC(s),r!==n-1&&(e+=", ")}return e}function H7(t){var e;return t.type==="function"?`function ${t.name}(${yf(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${yf(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${yf(t.inputs)})`:t.type==="error"?`error ${t.name}(${yf(t.inputs)})`:t.type==="constructor"?`constructor(${yf(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const XD=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function V7(t){return XD.test(t)}function G7(t){return ba(XD,t)}const e5=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function K7(t){return e5.test(t)}function Y7(t){return ba(e5,t)}const t5=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Q7(t){return t5.test(t)}function J7(t){return ba(t5,t)}const n5=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function r5(t){return n5.test(t)}function Z7(t){return ba(n5,t)}const s5=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function X7(t){return s5.test(t)}function ez(t){return ba(s5,t)}const i5=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function tz(t){return i5.test(t)}function nz(t){return ba(i5,t)}const rz=/^receive\(\) external payable$/;function sz(t){return rz.test(t)}const iz=new Set(["indexed"]),cC=new Set(["calldata","memory","storage"]);class oz extends oi{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class az extends oi{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class cz extends oi{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class lz extends oi{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class uz extends oi{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class dz extends oi{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class hz extends oi{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Mh extends oi{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class fz extends oi{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class pz extends oi{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class gz extends oi{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class mz extends oi{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function yz(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const c1=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function wz(t,e={}){if(Q7(t))return vz(t,e);if(K7(t))return bz(t,e);if(V7(t))return _z(t,e);if(X7(t))return Ez(t,e);if(tz(t))return Cz(t);if(sz(t))return{type:"receive",stateMutability:"payable"};throw new fz({signature:t})}function vz(t,e={}){const n=J7(t);if(!n)throw new Mh({signature:t,type:"function"});const r=Pi(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(cu(r[a],{modifiers:cC,structs:e,type:"function"}));const o=[];if(n.returns){const a=Pi(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(cu(a[l],{modifiers:cC,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function bz(t,e={}){const n=Y7(t);if(!n)throw new Mh({signature:t,type:"event"});const r=Pi(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(cu(r[o],{modifiers:iz,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function _z(t,e={}){const n=G7(t);if(!n)throw new Mh({signature:t,type:"error"});const r=Pi(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(cu(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Ez(t,e={}){const n=ez(t);if(!n)throw new Mh({signature:t,type:"constructor"});const r=Pi(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(cu(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Cz(t){const e=nz(t);if(!e)throw new Mh({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const xz=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Sz=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Az=/^u?int$/;function cu(t,e){var d,h;const n=yz(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(c1.has(n))return c1.get(n);const r=ZD.test(t),s=ba(r?Sz:xz,t);if(!s)throw new cz({param:t});if(s.name&&Tz(s.name))throw new lz({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const f=Pi(s.type),p=[],m=f.length;for(let y=0;y<m;y++)p.push(cu(f[y],{structs:a}));l={components:p}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(Az.test(s.type))c=`${s.type}256`;else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!o5(c))throw new az({type:c});if(s.modifier){if(!((h=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&h.call(d,s.modifier)))throw new uz({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(cC.has(s.modifier)&&!Nz(c,!!s.array))throw new dz({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return c1.set(n,u),u}function Pi(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?Pi(a,[...e,n.trim()]):Pi(a,e,`${n}${o}`,r);case"(":return Pi(a,e,`${n}${o}`,r+1);case")":return Pi(a,e,`${n}${o}`,r-1);default:return Pi(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new mz({current:n,depth:r});return e.push(n.trim()),e}function o5(t){return t==="address"||t==="bool"||t==="function"||t==="string"||QD.test(t)||JD.test(t)}const Iz=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Tz(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||QD.test(t)||JD.test(t)||Iz.test(t)}function Nz(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Pz(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!r5(a))continue;const c=Z7(a);if(!c)throw new Mh({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const p=l[h].trim();if(!p)continue;const m=cu(p,{type:"struct"});u.push(m)}if(!u.length)throw new pz({signature:a});e[c.name]=u}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=a5(c,e)}return r}const kz=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function a5(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(ZD.test(o.type))r.push(o);else{const c=ba(kz,o.type);if(!(c!=null&&c.type))throw new hz({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new gz({type:u});r.push({...o,type:`tuple${l??""}`,components:a5(e[u]??[],e,new Set([...n,u]))})}else if(o5(u))r.push(o);else throw new oz({type:u})}}return r}function c5(t){const e=Pz(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];r5(i)||n.push(wz(i,e))}return n}function Oz(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new ae("Unable to normalize signature.");return s}const Rz=t=>{const e=typeof t=="string"?t:H7(t);return Oz(e)};function l5(t){return q7(Rz(t))}const bA=l5,_A=t=>d0(l5(t),0,4);function EA(t){const{abi:e,args:n=[],name:r}=t,s=fa(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?_A(a)===r:a.type==="event"?bA(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?lC(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=u5(a.inputs,o.inputs,n);if(l)throw new UF({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function lC(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Bi(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>lC(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>lC(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function u5(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return u5(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Bi(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Bi(n[r],{strict:!1}):!1)return o}}const l1="/docs/contract/decodeFunctionResult";function CA(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=EA({abi:e,args:n,name:r});if(!a)throw new c0(r,{docsPath:l1});i=a}if(i.type!=="function")throw new c0(void 0,{docsPath:l1});if(!i.outputs)throw new jF(i.name,{docsPath:l1});const o=Cv(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const OT="/docs/contract/encodeFunctionData";function $z(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=EA({abi:e,args:n,name:r});if(!i)throw new c0(r,{docsPath:OT});s=i}if(s.type!=="function")throw new c0(void 0,{docsPath:OT});return{abi:[s],functionName:_A(Vc(s))}}function wm(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:$z(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?AD(s.inputs,e??[]):void 0;return yv([i,o??"0x"])}function xA({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new YE({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new YE({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const d5={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Dz={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},jz={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Uz(t){const{abi:e,data:n}=t,r=d0(n,0,4);if(r==="0x")throw new mv;const i=[...e||[],Dz,jz].find(o=>o.type==="error"&&r===_A(Vc(o)));if(!i)throw new lD(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Cv(i.inputs,d0(n,4)):void 0,errorName:i.name}}function h5({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?jr(e[i]):e[i]}`).join(", ")})`}class Lz extends ae{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:f}){var y;const p=n?cr(n):void 0;let m=pm({from:p==null?void 0:p.address,to:d,value:typeof h<"u"&&`${fA(h)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${ps(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ps(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${ps(l)} gwei`,nonce:u});f&&(m+=`
${d7(f)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class f5 extends ae{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=EA({abi:n,args:r,name:o}),l=c?h5({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Vc(c,{includeName:!0}):void 0,d=pm({address:s&&Q9(s),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class uC extends ae{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=Uz({abi:e,data:n});const{abiItem:u,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=d5[f]}else{const f=u?Vc(u,{includeName:!0}):void 0,p=u&&h?h5({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){i=u}else s&&(c=s);let l;i instanceof lD&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class Mz extends ae{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Bz extends ae{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class SA extends ae{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function Fz(t,e){var r,s,i,o,a,c;if(!(t instanceof ae))return!1;const n=t.walk(l=>l instanceof uC);return n instanceof uC?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((i=n.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||n.reason===d5[50]):!1}function zz(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return fa(e)?e:null}function qz(t){return`[${t.slice(2)}]`}function Wz(t){const e=new Uint8Array(32).fill(0);return t?zz(t)||Uh(Wd(t)):Mr(e)}function Hz(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Wd(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let o=Wd(s[i]);o.byteLength>255&&(o=Wd(qz(Wz(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const Vz=3;function p0(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof SA?t:t instanceof ae?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:h}=a,f=t instanceof mv?new Mz({functionName:i}):[Vz,au.code].includes(c)&&(l||u||d||h)?new uC({abi:e,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof gA?u:h??d}):t;return new f5(f,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}const Gz="0.1.1";function Kz(){return Gz}let p5=class dC extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof dC){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof dC&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Kz()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return g5(this,e)}};function g5(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?g5(t.cause,e):e?null:t}function Yz(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new Zz({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function Ko(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new Jz({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Qz(c,r):c}function Qz(t,e){return Yz(t,{dir:"left",size:e})}let Jz=class extends p5{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},Zz=class extends p5{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Xz(t){return{address:t.address,amount:Ko(t.amount),index:Ko(t.index),validatorIndex:Ko(t.validatorIndex)}}function eq(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Ko(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Ko(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Ko(t.gasLimit)},...typeof t.number=="bigint"&&{number:Ko(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Ko(t.prevRandao)},...typeof t.time=="bigint"&&{time:Ko(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Xz)}}}const tq="0x82ad56cb",nq="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",rq="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function sq(t,{docsPath:e,...n}){const r=(()=>{const s=mA(t,n);return s instanceof bv?t:s})();return new Lz(r,{docsPath:e,...n})}function AA(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const u1=new Map;function m5({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{s&&Array.isArray(h)&&h.sort(s);for(let f=0;f<u.length;f++){const{resolve:p}=u[f];p==null||p([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:p}=u[f];p==null||p(h)}})},o=()=>u1.delete(e),a=()=>c().map(({args:u})=>u),c=()=>u1.get(e)||[],l=u=>u1.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:h,reject:f}=AA();return(n==null?void 0:n([...a(),u]))&&i(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(i,r),d)}}}async function y5(t,e){var F,H,N,T;const{account:n=t.account,authorizationList:r,batch:s=!!((F=t.batch)!=null&&F.multicall),blockNumber:i,blockTag:o="latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:h,factoryData:f,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,to:E,value:_,stateOverride:x,...S}=e,A=n?cr(n):void 0;if(u&&(h||f))throw new ae("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&E)throw new ae("Cannot provide both `code` & `to` as parameters.");const C=u&&d,k=h&&f&&E&&d,O=C||k,B=C?aq({code:u,data:d}):k?cq({data:d,factory:h,factoryData:f,to:E}):d;try{gm(e);const D=(typeof i=="bigint"?Ke(i):void 0)||o,$=l?eq(l):void 0,L=BD(x),q=(T=(N=(H=t.chain)==null?void 0:H.formatters)==null?void 0:N.transactionRequest)==null?void 0:T.format,re=(q||_v)({...yA(S,{format:q}),from:A==null?void 0:A.address,accessList:a,authorizationList:r,blobs:c,data:B,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,to:O?void 0:E,value:_});if(s&&iq({request:re})&&!L&&!$)try{return await oq(t,{...re,blockNumber:i,blockTag:o})}catch(me){if(!(me instanceof kD)&&!(me instanceof YE))throw me}const ne=(()=>{const me=[re,D];return L&&$?[...me,L,$]:L?[...me,L]:$?[...me,{},$]:me})(),ie=await t.request({method:"eth_call",params:ne});return ie==="0x"?{data:void 0}:{data:ie}}catch(U){const D=lq(U),{offchainLookup:$,offchainLookupSignature:L}=await wn(async()=>{const{offchainLookup:q,offchainLookupSignature:J}=await import("./ccip-BDYk6h9e.js");return{offchainLookup:q,offchainLookupSignature:J}},[]);if(t.ccipRead!==!1&&(D==null?void 0:D.slice(0,10))===L&&E)return{data:await $(t,{data:D,to:E})};throw O&&(D==null?void 0:D.slice(0,10))==="0x101bb98d"?new Bz({factory:h}):sq(U,{...e,account:A,chain:t.chain})}}function iq({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(tq)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function oq(t,e){var m;const{batchSize:n=1024,wait:r=0}=typeof((m=t.batch)==null?void 0:m.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:a,to:c}=e;let l=a;if(!l){if(!t.chain)throw new kD;l=xA({blockNumber:s,chain:t.chain,contract:"multicall3"})}const d=(typeof s=="bigint"?Ke(s):void 0)||i,{schedule:h}=m5({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(y){return y.reduce((v,{data:b})=>v+(b.length-2),0)>n*2},fn:async y=>{const w=y.map(E=>({allowFailure:!0,callData:E.data,target:E.to})),v=wm({abi:sC,args:[w],functionName:"aggregate3"}),b=await t.request({method:"eth_call",params:[{data:v,to:l},d]});return CA({abi:sC,args:[w],functionName:"aggregate3",data:b||"0x"})}}),[{returnData:f,success:p}]=await h({data:o,to:c});if(!p)throw new SA({data:f});return f==="0x"?{data:void 0}:{data:f}}function aq(t){const{code:e,data:n}=t;return dA({abi:c5(["constructor(bytes, bytes)"]),bytecode:nq,args:[e,n]})}function cq(t){const{data:e,factory:n,factoryData:r,to:s}=t;return dA({abi:c5(["constructor(address, bytes, address, bytes)"]),bytecode:rq,args:[s,e,n,r]})}function lq(t){var n;if(!(t instanceof ae))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function IA(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=wm({abi:n,args:s,functionName:i});try{const{data:c}=await zt(t,y5,"call")({...o,data:a,to:r});return CA({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw p0(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function uq(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=xA({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:k7,functionName:"reverse",args:[iu(Hz(c))],blockNumber:n,blockTag:r},u=zt(t,IA,"readContract"),[d,h]=s?await u({...l,args:[...l.args,s]}):await u(l);return e.toLowerCase()!==h.toLowerCase()?null:d}catch(l){if(i)throw l;if(Fz(l))return null;throw l}}function dq(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(n[o]=c.request)})),i=>n[i]||t.request}async function hq(t){const e=dq(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const fq=new Map,pq=new Map;function gq(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,fq),r=e(t,pq);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function mq(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=gq(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const yq=t=>`blockNumber.${t}`;async function wq(t,{cacheTime:e=t.cacheTime}={}){const n=await mq(()=>t.request({method:"eth_blockNumber"}),{cacheKey:yq(t.uid),cacheTime:e});return BigInt(n)}function w5(t,e){if(!Bi(t,{strict:!1}))throw new Kc({address:t});if(!Bi(e,{strict:!1}))throw new Kc({address:e});return t.toLowerCase()===e.toLowerCase()}const RT="/docs/contract/decodeEventLog";function vq(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new DF({docsPath:RT});const c=e.find(m=>m.type==="event"&&o===bA(Vc(m)));if(!(c&&"name"in c)||c.type!=="event")throw new uD(o,{docsPath:RT});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(m=>!("name"in m&&m.name)),h=d?[]:{},f=u.map((m,y)=>[m,y]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<f.length;m++){const[y,w]=f[m],v=a[m];if(!v)throw new dD({abiItem:c,param:y});h[d?w:y.name||w]=bq({param:y,value:v})}const p=u.filter(m=>!("indexed"in m&&m.indexed));if(p.length>0){if(n&&n!=="0x")try{const m=Cv(p,n);if(m)if(d)for(let y=0;y<u.length;y++)h[y]=h[y]??m.shift();else for(let y=0;y<p.length;y++)h[p[y].name]=m[y]}catch(m){if(i)throw m instanceof cD||m instanceof ID?new GE({abiItem:c,data:n,params:p,size:_n(n)}):m}else if(i)throw new GE({abiItem:c,data:"0x",params:p,size:0})}return{eventName:l,args:Object.values(h).length>0?h:void 0}}function bq({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Cv([t],e)||[])[0]}function _q(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(u=>u.type==="event"&&o.topics[0]===bA(u));if(!c)return null;const l=vq({...o,abi:[c],strict:s});return i&&!i.includes(l.eventName)||!Eq({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,u;if(c instanceof uD)return null;if(c instanceof GE||c instanceof dD){if(s)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function Eq(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?w5(o,a):i.type==="string"||i.type==="bytes"?Uh(fv(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,e[i])):!1}):!1}function v5(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function Cq(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>v5(i));return!("abi"in e)||!e.abi?s:_q({abi:e.abi,logs:s,strict:n})}async function b5(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var u,d,h;const o=r||"latest",a=n!==void 0?Ke(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Ke(i)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,Ke(i)]},{dedupe:!!a}),!c)throw new RD({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:h.format)||LD)(c)}const _5={"0x0":"reverted","0x1":"success"};function xq(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>v5(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?ga(t.transactionIndex):null,status:t.status?_5[t.status]:null,type:t.type?UD[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function $T(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new $D({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||xq)(n)}async function Sq(t,e){var w;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:i,blockTag:o,multicallAddress:a,stateOverride:c}=e,l=e.contracts,u=s??(typeof((w=t.batch)==null?void 0:w.multicall)=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=xA({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=[[]];let f=0,p=0;for(let v=0;v<l.length;v++){const{abi:b,address:E,args:_,functionName:x}=l[v];try{const S=wm({abi:b,args:_,functionName:x});p+=(S.length-2)/2,u>0&&p>u&&h[f].length>0&&(f++,p=(S.length-2)/2,h[f]=[]),h[f]=[...h[f],{allowFailure:!0,callData:S,target:E}]}catch(S){const A=p0(S,{abi:b,address:E,args:_,docsPath:"/docs/contract/multicall",functionName:x,sender:n});if(!r)throw A;h[f]=[...h[f],{allowFailure:!0,callData:"0x",target:E}]}}const m=await Promise.allSettled(h.map(v=>zt(t,IA,"readContract")({abi:sC,account:n,address:d,args:[v],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:c}))),y=[];for(let v=0;v<m.length;v++){const b=m[v];if(b.status==="rejected"){if(!r)throw b.reason;for(let _=0;_<h[v].length;_++)y.push({status:"failure",error:b.reason,result:void 0});continue}const E=b.value;for(let _=0;_<E.length;_++){const{returnData:x,success:S}=E[_],{callData:A}=h[v][_],{abi:C,address:k,functionName:O,args:B}=l[y.length];try{if(A==="0x")throw new mv;if(!S)throw new SA({data:x});const F=CA({abi:C,args:B,data:x,functionName:O});y.push(r?{result:F,status:"success"}:F)}catch(F){const H=p0(F,{abi:C,address:k,args:B,docsPath:"/docs/contract/multicall",functionName:O});if(!r)throw H;y.push({error:H,result:void 0,status:"failure"})}}}if(y.length!==l.length)throw new ae("multicall results mismatch");return y}const hy=new wv(8192);function Aq(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(hy.get(n))return hy.get(n);const r=t().finally(()=>hy.delete(n));return hy.set(n,r),r}async function g0(t){return new Promise(e=>setTimeout(e,t))}function m0(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await g0(u),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}function Iq(t,e={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(l))throw new Pl(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new Pl(new Error("method not supported"),{method:l});const u=s?pv(`${c}.${jr(n)}`):void 0;return Aq(()=>m0(async()=>{try{return await t(n)}catch(h){const f=h;switch(f.code){case tg.code:throw new tg(f);case ng.code:throw new ng(f);case rg.code:throw new rg(f,{method:n.method});case sg.code:throw new sg(f);case au.code:throw new au(f);case ig.code:throw new ig(f);case og.code:throw new og(f);case Dc.code:throw new Dc(f);case yh.code:throw new yh(f);case Pl.code:throw new Pl(f,{method:n.method});case wh.code:throw new wh(f);case ag.code:throw new ag(f);case kn.code:throw new kn(f);case cg.code:throw new cg(f);case lg.code:throw new lg(f);case ug.code:throw new ug(f);case dg.code:throw new dg(f);case Co.code:throw new Co(f);case vh.code:throw new vh(f);case hg.code:throw new hg(f);case fg.code:throw new fg(f);case pg.code:throw new pg(f);case gg.code:throw new gg(f);case mg.code:throw new mg(f);case bh.code:throw new bh(f);case 5e3:throw new kn(f);default:throw h instanceof ae?h:new Z9(f)}}},{delay:({count:h,error:f})=>{var p;if(f&&f instanceof pp){const m=(p=f==null?void 0:f.headers)==null?void 0:p.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>Tq(h)}),{enabled:s,id:u})}}function Tq(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===wh.code||t.code===au.code:t instanceof pp&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Nq(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function E5(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(e)},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function Pq(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const DT=Pq();function kq(t,e={}){return{async request(n){var d;const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const h=await E5(async({signal:p})=>{const m={...a,body:Array.isArray(r)?jr(r.map(b=>({jsonrpc:"2.0",id:b.id??DT.take(),...b}))):jr({jsonrpc:"2.0",id:r.id??DT.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?p:null)},y=new Request(t,m),w=await(s==null?void 0:s(y,m))??{...m,url:t};return await fetch(w.url??t,w)},{errorInstance:new CT({body:r,url:t}),timeout:o,signal:!0});i&&await i(h);let f;if((d=h.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))f=await h.json();else{f=await h.text();try{f=JSON.parse(f||"{}")}catch(p){if(h.ok)throw p;f={error:f}}}if(!h.ok)throw new pp({body:r,details:jr(f.error)||h.statusText,headers:h.headers,status:h.status,url:t});return f}catch(h){throw h instanceof pp||h instanceof CT?h:new pp({body:r,cause:h,url:t})}}}}class Oq extends ae{constructor({domain:e}){super(`Invalid domain "${jr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Rq extends ae{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class $q extends ae{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Dq(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(c,l)=>{const u={...l};for(const d of c){const{name:h,type:f}=d;f==="address"&&(u[h]=u[h].toLowerCase())}return u},o=s.EIP712Domain?e?i(s.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return jr({domain:o,message:a,primaryType:r,types:s})}function jq(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(o,a)=>{for(const c of o){const{name:l,type:u}=c,d=a[l],h=u.match(SD);if(h&&(typeof d=="number"||typeof d=="bigint")){const[m,y,w]=h;Ke(d,{signed:y==="int",size:Number.parseInt(w)/8})}if(u==="address"&&typeof d=="string"&&!Bi(d))throw new Kc({address:d});const f=u.match(_9);if(f){const[m,y]=f;if(y&&_n(d)!==Number.parseInt(y))throw new LF({expectedSize:Number.parseInt(y),givenSize:_n(d)})}const p=s[u];p&&(Lq(u),i(p,d))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new Oq({domain:e});i(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new Rq({primaryType:r,types:s})}function Uq({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Lq(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new $q({type:t})}class Mq extends ae{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Bq(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new Mq({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}const d1=new Map,jT=new Map;let Fq=0;function vg(t,e,n){const r=++Fq,s=()=>d1.get(t)||[],i=()=>{const u=s();d1.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=s();if(!u.some(h=>h.id===r))return;const d=jT.get(t);if(u.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}i()},a=s();if(d1.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...d)=>{var f,p;const h=s();if(h.length!==0)for(const m of h)(p=(f=m.fns)[u])==null||p.call(f,...d)};const l=n(c);return typeof l=="function"&&jT.set(t,l),o}function TA(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await g0(c);const l=async()=>{s&&(await t({unpoll:i}),await g0(r),l())};l()})(),i}function zq(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=jr(["watchBlockNumber",t.uid,e,n,o]);return vg(d,{onBlockNumber:r,onError:s},h=>TA(async()=>{var f;try{const p=await zt(t,wq,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let m=c+1n;m<p;m++)h.onBlockNumber(m,c),c=m}(!c||p>c)&&(h.onBlockNumber(p,c),c=p)}catch(p){(f=h.onError)==null||f.call(h,p)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=jr(["watchBlockNumber",t.uid,e,n]);return vg(d,{onBlockNumber:r,onError:s},h=>{let f=!0,p=()=>f=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),{unsubscribe:y}=await m.subscribe({params:["newHeads"],onData(w){var b;if(!f)return;const v=pa((b=w.result)==null?void 0:b.number);h.onBlockNumber(v,c),c=v},onError(w){var v;(v=h.onError)==null||v.call(h,w)}});p=y,f||p()}catch(m){s==null||s(m)}})(),()=>p()})})()}async function qq(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Wq(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=jr(["watchPendingTransactions",t.uid,e,i]);return vg(l,{onTransactions:r,onError:n},u=>{let d;const h=TA(async()=>{var f;try{if(!d)try{d=await zt(t,hq,"createPendingTransactionFilter")({});return}catch(m){throw h(),m}const p=await zt(t,Cq,"getFilterChanges")({filter:d});if(p.length===0)return;if(e)u.onTransactions(p);else for(const m of p)u.onTransactions([m])}catch(p){(f=u.onError)==null||f.call(u,p)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await zt(t,qq,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const f=h.result;r([f])},onError(h){n==null||n(h)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}async function Hq(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>fm(r))}async function Vq(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Gq(t,e={}){const{account:n=t.account,chainId:r}=e,s=n?cr(n):void 0,i=r?[s==null?void 0:s.address,[Ke(r)]]:[s==null?void 0:s.address],o=await t.request({method:"wallet_getCapabilities",params:i}),a={};for(const[c,l]of Object.entries(o)){a[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=d}return typeof r=="number"?a[r]:a}const C5="0x5792579257925792579257925792579257925792579257925792579257925792",x5=Ke(0,{size:32});async function Kq(t,e){const{account:n=t.account,capabilities:r,chain:s=t.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=e,u=n?cr(n):null,d=e.calls.map(h=>{const f=h,p=f.abi?wm({abi:f.abi,functionName:f.functionName,args:f.args}):f.data;return{data:f.dataSuffix&&p?Gc([p,f.dataSuffix]):p,to:f.to,value:f.value?Ke(f.value):void 0}});try{const h=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:Ke(s.id),from:u==null?void 0:u.address,id:c,version:l}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const f=h;if(i&&(f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError"||f.name==="UnknownRpcError"||f.details.toLowerCase().includes("does not exist / is not available")||f.details.toLowerCase().includes("missing or invalid. request()")||f.details.toLowerCase().includes("did not match any variant of untagged enum")||f.details.toLowerCase().includes("account upgraded to unsupported contract")||f.details.toLowerCase().includes("eip-7702 not supported")||f.details.toLowerCase().includes("unsupported wc_ method"))){if(r&&Object.values(r).some(v=>!v.optional)){const v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new vh(new ae(v,{details:v}))}if(a&&d.length>1){const w="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new bh(new ae(w,{details:w}))}const p=[];for(const w of d){const v=ym(t,{account:u,chain:s,data:w.data,to:w.to,value:w.value?pa(w.value):void 0});p.push(v),o>0&&await new Promise(b=>setTimeout(b,o))}const m=await Promise.allSettled(p);if(m.every(w=>w.status==="rejected"))throw m[0].reason;const y=m.map(w=>w.status==="fulfilled"?w.value:x5);return{id:Gc([...y,Ke(s.id,{size:32}),C5])}}throw DD(h,{...e,account:u,chain:e.chain})}}async function S5(t,e){async function n(u){if(u.endsWith(C5.slice(2))){const h=jh(KE(u,-64,-32)),f=KE(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(f.map(y=>x5.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),m=p.some(y=>y===null)?100:p.every(y=>(y==null?void 0:y.status)==="0x1")?200:p.every(y=>(y==null?void 0:y.status)==="0x0")?500:600;return{atomic:!1,chainId:ga(h),receipts:p.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(e.id),[c,l]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:s?ga(s):void 0,receipts:(i==null?void 0:i.map(u=>({...u,blockNumber:pa(u.blockNumber),gasUsed:pa(u.gasUsed),status:_5[u.status]})))??[],statusCode:l,status:c,version:o}}async function Yq(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function Qq(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:h})=>h>=200,timeout:i=6e4}=e,o=jr(["waitForCallsStatus",t.uid,n]),{promise:a,resolve:c,reject:l}=AA();let u;const d=vg(o,{resolve:c,reject:l},h=>{const f=TA(async()=>{const p=m=>{clearTimeout(u),f(),m(),d()};try{const m=await S5(t,{id:n});if(!s(m))return;p(()=>h.resolve(m))}catch(m){p(()=>h.reject(m))}},{interval:r,emitOnBegin:!0});return f});return u=i?setTimeout(()=>{d(),clearTimeout(u),l(new Jq({id:n}))},i):void 0,await a}class Jq extends ae{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function Zq(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=jr(["waitForTransactionReceipt",t.uid,n]);let l,u,d,h=!1,f,p;const{promise:m,resolve:y,reject:w}=AA(),v=a?setTimeout(()=>{p(),f(),w(new Y9({hash:n}))},a):void 0;return f=vg(c,{onReplaced:r,resolve:y,reject:w},b=>{p=zt(t,zq,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(E){const _=S=>{clearTimeout(v),p(),S(),f()};let x=E;if(!h)try{if(d){if(e>1&&(!d.blockNumber||x-d.blockNumber+1n<e))return;_(()=>b.resolve(d));return}if(l||(h=!0,await m0(async()=>{l=await zt(t,b5,"getTransaction")({hash:n}),l.blockNumber&&(x=l.blockNumber)},{delay:o,retryCount:i}),h=!1),d=await zt(t,$T,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||x-d.blockNumber+1n<e))return;_(()=>b.resolve(d))}catch(S){if(S instanceof RD||S instanceof $D){if(!l){h=!1;return}try{u=l,h=!0;const A=await m0(()=>zt(t,yg,"getBlock")({blockNumber:x,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:O})=>O instanceof jD});h=!1;const C=A.transactions.find(({from:O,nonce:B})=>O===u.from&&B===u.nonce);if(!C||(d=await zt(t,$T,"getTransactionReceipt")({hash:C.hash}),e>1&&(!d.blockNumber||x-d.blockNumber+1n<e)))return;let k="replaced";C.to===u.to&&C.value===u.value&&C.input===u.input?k="repriced":C.from===C.to&&C.value===0n&&(k="cancelled"),_(()=>{var O;(O=b.onReplaced)==null||O.call(b,{reason:k,replacedTransaction:u,transaction:C,transactionReceipt:d}),b.resolve(d)})}catch(A){_(()=>b.reject(A))}}else _(()=>b.reject(S))}}})}),m}async function Xq(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>bc(n))}async function eW(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function A5(t,e){var c;const{account:n=t.account,chainId:r,nonce:s}=e;if(!n)throw new Au({docsPath:"/docs/eip7702/prepareAuthorization"});const i=cr(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:cr(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await zt(t,mm,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await zt(t,qD,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&w5(o.address,i.address))&&(a.nonce+=1)),a}async function tW(t,e){const{account:n=t.account}=e;if(!n)throw new Au({docsPath:"/docs/eip7702/signAuthorization"});const r=cr(n);if(!r.signAuthorization)throw new ww({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await A5(t,e);return r.signAuthorization(s)}async function nW(t,e){var l,u,d,h;const{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new Au({docsPath:"/docs/actions/wallet/signTransaction"});const i=cr(n);gm({account:i,...e});const o=await zt(t,mm,"getChainId")({});r!==null&&OD({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=t.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||_v;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:(h=(d=t.chain)==null?void 0:d.serializers)==null?void 0:h.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(s),chainId:Ke(o),from:i.address}]},{retryCount:0})}async function I5(t,{account:e=t.account,message:n}){if(!e)throw new Au({docsPath:"/docs/actions/wallet/signMessage"});const r=cr(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?pv(n):n.raw instanceof Uint8Array?iu(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function rW(t,e){const{account:n=t.account,domain:r,message:s,primaryType:i}=e;if(!n)throw new Au({docsPath:"/docs/actions/wallet/signTypedData"});const o=cr(n),a={EIP712Domain:Uq({domain:r}),...e.types};if(jq({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=Dq({domain:r,message:s,primaryType:i,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function sW(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Ke(e)}]},{retryCount:0})}async function iW(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function T5(t,e){const{abi:n,account:r=t.account,address:s,args:i,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new Au({docsPath:"/docs/contract/writeContract"});const l=r?cr(r):null,u=wm({abi:n,args:i,functionName:a});try{return await zt(t,ym,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:s,account:l,...c})}catch(d){throw p0(d,{abi:n,address:s,args:i,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}function Os(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const vw="2.17.3",oW=()=>`@wagmi/core@${vw}`;var N5=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},y0,P5;let _a=class hC extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return oW()}constructor(e,n={}){var i;super(),y0.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof hC?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof hC&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return N5(this,y0,"m",P5).call(this,this,e)}};y0=new WeakSet,P5=function t(e,n){return n!=null&&n(e)?e:e.cause?N5(this,y0,"m",t).call(this,e.cause,n):e};class bg extends _a{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class aW extends _a{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class cW extends _a{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class lW extends _a{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class uW extends _a{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class dW extends _a{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function bw(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new aW;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await n.connect(i),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(s){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}const fC=256;let fy=fC,py;function k5(t=11){if(!py||fy+t>fC*2){py="",fy=0;for(let e=0;e<fC;e++)py+=(256+Math.random()*256|0).toString(16).substring(1)}return py.substring(fy,fy+++t)}function O5(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,a=(n==null?void 0:n.blockTime)??12e3,c=Math.min(Math.max(Math.floor(a/2),500),4e3),l=t.pollingInterval??c,u=t.cacheTime??l,d=t.account?cr(t.account):void 0,{config:h,request:f,value:p}=t.transport({chain:n,pollingInterval:l}),m={...h,...p},y={account:d,batch:e,cacheTime:u,ccipRead:r,chain:n,key:s,name:i,pollingInterval:l,request:f,transport:m,type:o,uid:k5()};function w(v){return b=>{const E=b(v);for(const x in y)delete E[x];const _={...v,...E};return Object.assign(_,{extend:w(_)})}}return Object.assign(y,{extend:w(y)})}function NA({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=k5();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:Iq(r,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}function hW(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>NA({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}function UT(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=fW,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let h=t,f=()=>{};const p=NA({key:n,name:r,async request({method:m,params:y}){let w;const v=async(b=0)=>{const E=h[b]({...d,chain:c,retryCount:0,timeout:u});try{const _=await E.request({method:m,params:y});return f({method:m,params:y,response:_,transport:E,status:"success"}),_}catch(_){if(f({error:_,method:m,params:y,transport:E,status:"error"}),i(_)||b===h.length-1||(w??(w=h.slice(b+1).some(x=>{const{include:S,exclude:A}=x({chain:c}).config.methods||{};return S?S.includes(m):A?!A.includes(m):!0})),!w))throw _;return v(b+1)}};return v()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:m=>f=m,transports:h.map(m=>m({chain:c,retryCount:0}))});if(s){const m=typeof s=="object"?s:{};pW({chain:c,interval:m.interval??l,onTransports:y=>h=y,ping:m.ping,sampleCount:m.sampleCount,timeout:m.timeout,transports:h,weights:m.weights})}return p}}function fW(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===yh.code||t.code===kn.code||Nl.nodeMessage.test(t.message)||t.code===5e3))}function pW({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const h=await Promise.all(o.map(async m=>{const y=m({chain:t,retryCount:0,timeout:i}),w=Date.now();let v,b;try{await(r?r({transport:y}):y.request({method:"net_listening"})),b=1}catch{b=0}finally{v=Date.now()}return{latency:v-w,success:b}}));u.push(h),u.length>s&&u.shift();const f=Math.max(...u.map(m=>Math.max(...m.map(({latency:y})=>y)))),p=o.map((m,y)=>{const w=u.map(x=>x[y].latency),b=1-w.reduce((x,S)=>x+S,0)/w.length/f,E=u.map(x=>x[y].success),_=E.reduce((x,S)=>x+S,0)/E.length;return _===0?[0,y]:[l*b+c*_,y]}).sort((m,y)=>y[0]-m[0]);n(p.map(([,m])=>o[m])),await g0(e),d()};d()}class gW extends ae{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function gy(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:h,timeout:f})=>{const{batchSize:p=1e3,wait:m=0}=typeof n=="object"?n:{},y=e.retryCount??h,w=f??e.timeout??1e4,v=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!v)throw new gW;const b=kq(v,{fetchOptions:r,onRequest:a,onResponse:c,timeout:w});return NA({key:s,methods:i,name:o,async request({method:E,params:_}){const x={method:E,params:_},{schedule:S}=m5({id:v,wait:m,shouldSplitBatch(O){return O.length>p},fn:O=>b.request({body:O}),sort:(O,B)=>O.id-B.id}),A=async O=>n?S(O):[await b.request({body:O})],[{error:C,result:k}]=await A(x);if(u)return{error:C,result:k};if(C)throw new gA({body:x,error:C,url:v});return k},retryCount:y,retryDelay:l,timeout:w,type:"http"},{fetchOptions:r,url:v})}}function mW(t){return{addChain:e=>NF(t,e),deployContract:e=>N7(t,e),getAddresses:()=>Hq(t),getCallsStatus:e=>S5(t,e),getCapabilities:e=>Gq(t,e),getChainId:()=>mm(t),getPermissions:()=>Vq(t),prepareAuthorization:e=>A5(t,e),prepareTransactionRequest:e=>Ev(t,e),requestAddresses:()=>Xq(t),requestPermissions:e=>eW(t,e),sendCalls:e=>Kq(t,e),sendRawTransaction:e=>YD(t,e),sendTransaction:e=>ym(t,e),showCallsStatus:e=>Yq(t,e),signAuthorization:e=>tW(t,e),signMessage:e=>I5(t,e),signTransaction:e=>nW(t,e),signTypedData:e=>rW(t,e),switchChain:e=>sW(t,e),waitForCallsStatus:e=>Qq(t,e),watchAsset:e=>iW(t,e),writeContract:e=>T5(t,e)}}async function vm(t,e={}){let n;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new dW({connector:l});const[u,d]=await Promise.all([l.getAccounts().catch(h=>{if(e.account===null)return[];throw h}),l.getChainId()]);n={accounts:u,chainId:d,connector:l}}else n=t.state.connections.get(t.state.current);if(!n)throw new cW;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new uW({connectionChainId:n.chainId,connectorChainId:s});const i=n.connector;if(i.getClient)return i.getClient({chainId:r});const o=cr(e.account??n.accounts[0]);if(o&&(o.address=bc(o.address)),e.account&&!n.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new lW({address:o.address,connector:i});const a=t.chains.find(l=>l.id===r),c=await n.connector.getProvider({chainId:r});return O5({account:o,chain:a,name:"Connector Client",transport:l=>hW(c)({...l,retryCount:0})})}async function R5(t,e={}){var s,i;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(s=t.state.connections.get(o))==null?void 0:s.connector;if(!a)return;await((i=t.storage)==null?void 0:i.setItem("recentConnectorId",a.id))}}async function yW(t,e){const{chainId:n,connector:r,...s}=e;let i;e.account?i=e.account:i=(await vm(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return Os(o,zD,"estimateGas")({...s,account:i})}function $5(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(H9[t])}function Vd(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function wW(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=e,o=t.getClient({chainId:r});return Os(o,Sq,"multicall")({allowFailure:n,contracts:s,...i})}function vW(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return Os(s,IA,"readContract")(r)}async function bW(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=e,o=e.contracts;try{const c={};for(const[h,f]of o.entries()){const p=f.chainId??t.state.chainId;c[p]||(c[p]=[]),(a=c[p])==null||a.push({contract:f,index:h})}const l=()=>Object.entries(c).map(([h,f])=>wW(t,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(h),contracts:f.map(({contract:p})=>p)})),u=(await Promise.all(l())).flat(),d=Object.values(c).flatMap(h=>h.map(({index:f})=>f));return u.reduce((h,f,p)=>(h&&(h[d[p]]=f),h),[])}catch(c){if(c instanceof f5)throw c;const l=()=>o.map(u=>vW(t,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(l())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function _W(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=e;if(o)try{return await LT(t,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(h){if(h.name==="ContractFunctionExecutionError"){const f=await LT(t,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),p=oD(jh(f.symbol,{dir:"right"}));return{...f,symbol:p}}throw h}const c=t.getClient({chainId:i}),u=await Os(c,FD,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=t.chains.find(h=>h.id===i)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:Lh(u,$5(a)),symbol:d.nativeCurrency.symbol,value:u}}async function LT(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,l,u]=await bW(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=Lh(c??"0",$5(o??l));return{decimals:l,formatted:d,symbol:u,value:c}}function MT(t){return t.state.chainId}function lu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!lu(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!lu(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let my=[];function oo(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||lu(my,e)?my:(my=e,e)}let h1=[];function BT(t){const e=t.connectors;return lu(h1,e)?h1:(h1=e,e)}function EW(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return Os(s,uq,"getEnsName")(r)}async function CW(t,e={}){return(await vm(t,e)).extend(mW)}async function xW(t,e){const{account:n,chainId:r,...s}=e,i=n??Vd(t).address,o=t.getClient({chainId:r});return Os(o,Ev,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}let f1=!1;async function pC(t,e={}){var l,u;if(f1)return[];f1=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const d of e.connectors){let h;typeof d=="function"?h=t._internal.connectors.setup(d):h=d,n.push(h)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of t.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,h)=>(s[d.id]??10)-(s[h.id]??10)):n;let o=!1;const a=[],c=[];for(const d of i){const h=await d.getProvider().catch(()=>{});if(!h||c.some(m=>m===h)||!await d.isAuthorized())continue;const p=await d.connect({isReconnecting:!0}).catch(()=>null);p&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(m=>{const y=new Map(o?m.connections:new Map).set(d.uid,{accounts:p.accounts,chainId:p.chainId,connector:d});return{...m,current:o?m.current:d.uid,connections:y}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:d}),c.push(h),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),f1=!1,a}async function SW(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await vm(t,{account:n??void 0,chainId:r,connector:s}),await Os(o,ym,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function AW(t,e){const{account:n,connector:r,...s}=e;let i;return typeof n=="object"&&n.type==="local"?i=t.getClient():i=await vm(t,{account:n,connector:r}),Os(i,I5,"signMessage")({...s,...n?{account:n}:{}})}class Ya extends _a{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class IW extends _a{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function FT(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new IW({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const i=t.chains.find(a=>a.id===r);if(!i)throw new bg;return t.setState(a=>({...a,chainId:r})),i}function D5(t,e){const{onChange:n}=e;return t.subscribe(()=>Vd(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return lu(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function TW(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function NW(t,e){const{onChange:n}=e;return t.subscribe(()=>oo(t),n,{equalityFn:lu})}function j5(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function PW(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const i=c=>{s&&s();const l=t.getClient({chainId:c});return s=Os(l,Wq,"watchPendingTransactions")(r),s},o=i(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>i(c))),()=>{o==null||o(),a==null||a()}}async function kW(t,e){const{chainId:n,timeout:r=0,...s}=e,i=t.getClient({chainId:n}),a=await Os(i,Zq,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const l=await Os(i,b5,"getTransaction")({hash:a.transactionHash}),d=await Os(i,y5,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),h=d!=null&&d.data?oD(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...a,chainId:i.chain.id}}async function OW(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await vm(t,{account:n??void 0,chainId:r,connector:s}),await Os(o,T5,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function exe(t){return t}xv.type="injected";function xv(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...RW[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:xv.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)))},async connect({chainId:l,isReconnecting:u}={}){var f,p,m,y,w,v;const d=await this.getProvider();if(!d)throw new Ya;let h=[];if(u)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(y=(m=(p=(f=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:f.caveats)==null?void 0:p[0])==null?void 0:m.value)==null?void 0:y.map(E=>bc(E)),h.length>0&&(h=await this.getAccounts())}catch(b){const E=b;if(E.code===kn.code)throw new kn(E);if(E.code===Dc.code)throw E}try{!(h!=null&&h.length)&&!u&&(h=(await d.request({method:"eth_requestAccounts"})).map(_=>bc(_))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let b=await this.getChainId();if(l&&b!==l){const E=await this.switchChain({chainId:l}).catch(_=>{if(_.code===kn.code)throw _;return{id:b}});b=(E==null?void 0:E.id)??b}return e&&await((w=c.storage)==null?void 0:w.removeItem(`${this.id}.disconnected`)),t.target||await((v=c.storage)==null?void 0:v.setItem("injected.connected",!0)),{accounts:h,chainId:b}}catch(b){const E=b;throw E.code===kn.code?new kn(E):E.code===Dc.code?new Dc(E):E}},async disconnect(){var u,d;const l=await this.getProvider();if(!l)throw new Ya;i&&(l.removeListener("chainChanged",i),i=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await E5(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new Ya;return(await l.request({method:"eth_accounts"})).map(d=>bc(d))},async getChainId(){const l=await this.getProvider();if(!l)throw new Ya;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=_w(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),m=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(w=>window.addEventListener("ethereum#initialized",()=>w(p()),{once:!0}))]:[],new Promise(w=>setTimeout(()=>w(p()),m))]))return!0}throw new Ya}return!!(await m0(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var p,m,y,w;const d=await this.getProvider();if(!d)throw new Ya;const h=c.chains.find(v=>v.id===u);if(!h)throw new Co(new bg);const f=new Promise(v=>{const b=E=>{"chainId"in E&&E.chainId===u&&(c.emitter.off("change",b),v())};c.emitter.on("change",b)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:Ke(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),f]),h}catch(v){const b=v;if(b.code===4902||((m=(p=b==null?void 0:b.data)==null?void 0:p.originalError)==null?void 0:m.code)===4902)try{const{default:E,..._}=h.blockExplorers??{};let x;l!=null&&l.blockExplorerUrls?x=l.blockExplorerUrls:E&&(x=[E.url,...Object.values(_).map(C=>C.url)]);let S;(y=l==null?void 0:l.rpcUrls)!=null&&y.length?S=l.rpcUrls:S=[((w=h.rpcUrls.default)==null?void 0:w.http[0])??""];const A={blockExplorerUrls:x,chainId:Ke(u),chainName:(l==null?void 0:l.chainName)??h.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??h.nativeCurrency,rpcUrls:S};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[A]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new kn(new Error("User rejected switch after adding network."))}),f]),h}catch(E){throw new kn(E)}throw b.code===kn.code?new kn(b):new Co(b)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(d=>bc(d))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const d=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:d});const h=await this.getProvider();h&&(o&&(h.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const RW={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:_w(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return _w(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:_w(t,"isPhantom")}}};function _w(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function $W(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function DW(){const t=new Set;let e=[];const n=()=>$W(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const jW=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=h=>{const f=o(h);if(!u(d,f)){const p=d;a(d=f,p)}},c!=null&&c.fireImmediately&&a(d,d)}return s(l)},t(e,n,r)},UW=jW;function LW(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const gC=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return gC(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return gC(r)(n)}}}},MW=(t,e)=>(n,r,s)=>{let i={storage:LW(()=>localStorage),partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...e},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...m)},r,s);const u=()=>{const m=i.partialize({...r()});return l.setItem(i.name,{state:m,version:i.version})},d=s.setState;s.setState=(m,y)=>{d(m,y),u()};const h=t((...m)=>{n(...m),u()},r,s);s.getInitialState=()=>h;let f;const p=()=>{var m,y;if(!l)return;o=!1,a.forEach(v=>{var b;return v((b=r())!=null?b:h)});const w=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(m=r())!=null?m:h))||void 0;return gC(l.getItem.bind(l))(i.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return[!0,i.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var b;const[E,_]=v;if(f=i.merge(_,(b=r())!=null?b:h),n(f,!0),E)return u()}).then(()=>{w==null||w(f,void 0),f=r(),o=!0,c.forEach(v=>v(f))}).catch(v=>{w==null||w(void 0,v)})};return s.persist={setOptions:m=>{i={...i,...m},m.storage&&(l=m.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},i.skipHydration||p(),f||h},BW=MW,zT=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,s,a);return a},p1=t=>t?zT(t):zT;var U5={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new s(u,d||c,h),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,h,f,p){var m=n?n+l:l;if(!this._events[m])return!1;var y=this._events[m],w=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,f),!0;case 6:return y.fn.call(y.context,u,d,h,f,p),!0}for(b=1,v=new Array(w-1);b<w;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var E=y.length,_;for(b=0;b<E;b++)switch(y[b].once&&this.removeListener(l,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,d);break;case 4:y[b].fn.call(y[b].context,u,d,h);break;default:if(!v)for(_=1,v=new Array(w-1);_<w;_++)v[_-1]=arguments[_];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,h){var f=n?n+l:l;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var m=0,y=[],w=p.length;m<w;m++)(p[m].fn!==u||h&&!p[m].once||d&&p[m].context!==d)&&y.push(p[m]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(U5);var FW=U5.exports;const zW=Cu(FW);class qW{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new zW})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function WW(t){return new qW(t)}function HW(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function qT(t,e){return t.slice(0,e).join(".")||"."}function WT(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function VW(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const l=WT(s,this);l===0?s[s.length]=this:(s.splice(l),i.splice(l)),i[i.length]=a;const u=WT(s,c);if(u!==0)return r?e.call(this,a,c,qT(i,u)):`[ref=${qT(i,u)}]`}else s[0]=c,i[0]=a;return n?t.call(this,a,c):c}}function GW(t,e,n,r){return JSON.stringify(t,VW((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),n??void 0)}function KW(t){const{deserialize:e=HW,key:n="wagmi",serialize:r=GW,storage:s=L5}=t;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),l=await i(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const L5={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function YW(){const t=typeof window<"u"&&window.localStorage?window.localStorage:L5;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const mC=256;let yy=mC,wy;function QW(t=11){if(!wy||yy+t>mC*2){wy="",yy=0;for(let e=0;e<mC;e++)wy+=(256+Math.random()*256|0).toString(16).substring(1)}return wy.substring(yy,yy+++t)}function JW(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=KW({storage:YW()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?DW():void 0,a=p1(()=>i.chains),c=p1(()=>{const _=[],x=new Set;for(const S of i.connectors??[]){const A=l(S);if(_.push(A),!s&&A.rdns){const C=typeof A.rdns=="string"?[A.rdns]:A.rdns;for(const k of C)x.add(k)}}if(!s&&o){const S=o.getProviders();for(const A of S)x.has(A.info.rdns)||_.push(l(u(A)))}return _});function l(_){var A;const x=WW(QW()),S={..._({emitter:x,chains:a.getState(),storage:n,transports:i.transports}),emitter:x,uid:x.uid};return x.on("connect",b),(A=S.setup)==null||A.call(S),S}function u(_){const{info:x}=_,S=_.provider;return xv({target:{...x,id:x.rdns,provider:S}})}const d=new Map;function h(_={}){const x=_.chainId??y.getState().chainId,S=a.getState().find(C=>C.id===x);if(_.chainId&&!S)throw new bg;{const C=d.get(y.getState().chainId);if(C&&!S)return C;if(!S)throw new bg}{const C=d.get(x);if(C)return C}let A;if(i.client)A=i.client({chain:S});else{const C=S.id,k=a.getState().map(F=>F.id),O={},B=Object.entries(i);for(const[F,H]of B)if(!(F==="chains"||F==="client"||F==="connectors"||F==="transports"))if(typeof H=="object")if(C in H)O[F]=H[C];else{if(k.some(T=>T in H))continue;O[F]=H}else O[F]=H;A=O5({...O,chain:S,batch:O.batch??{multicall:!0},transport:F=>i.transports[C]({...F,connectors:c})})}return d.set(x,A),A}function f(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const m="0.0.0-canary-";vw.startsWith(m)?p=Number.parseInt(vw.replace(m,"")):p=Number.parseInt(vw.split(".")[0]??"0");const y=p1(UW(n?BW(f,{migrate(_,x){if(x===p)return _;const S=f(),A=w(_,S.chainId);return{...S,chainId:A}},name:"store",partialize(_){return{connections:{__type:"Map",value:Array.from(_.connections.entries()).map(([x,S])=>{const{id:A,name:C,type:k,uid:O}=S.connector;return[x,{...S,connector:{id:A,name:C,type:k,uid:O}}]})},chainId:_.chainId,current:_.current}},merge(_,x){typeof _=="object"&&_&&"status"in _&&delete _.status;const S=w(_,x.chainId);return{...x,..._,chainId:S}},skipHydration:s,storage:n,version:p}):f));y.setState(f());function w(_,x){return _&&typeof _=="object"&&"chainId"in _&&typeof _.chainId=="number"&&a.getState().some(S=>S.id===_.chainId)?_.chainId:x}r&&y.subscribe(({connections:_,current:x})=>{var S;return x?(S=_.get(x))==null?void 0:S.chainId:void 0},_=>{if(a.getState().some(S=>S.id===_))return y.setState(S=>({...S,chainId:_??S.chainId}))}),o==null||o.subscribe(_=>{const x=new Set,S=new Set;for(const C of c.getState())if(x.add(C.id),C.rdns){const k=typeof C.rdns=="string"?[C.rdns]:C.rdns;for(const O of k)S.add(O)}const A=[];for(const C of _){if(S.has(C.info.rdns))continue;const k=l(u(C));x.has(k.id)||A.push(k)}n&&!y.persist.hasHydrated()||c.setState(C=>[...C,...A],!0)});function v(_){y.setState(x=>{const S=x.connections.get(_.uid);return S?{...x,connections:new Map(x.connections).set(_.uid,{accounts:_.accounts??S.accounts,chainId:_.chainId??S.chainId,connector:S.connector})}:x})}function b(_){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(x=>{const S=c.getState().find(A=>A.uid===_.uid);return S?(S.emitter.listenerCount("connect")&&S.emitter.off("connect",v),S.emitter.listenerCount("change")||S.emitter.on("change",v),S.emitter.listenerCount("disconnect")||S.emitter.on("disconnect",E),{...x,connections:new Map(x.connections).set(_.uid,{accounts:_.accounts,chainId:_.chainId,connector:S}),current:_.uid,status:"connected"}):x})}function E(_){y.setState(x=>{const S=x.connections.get(_.uid);if(S){const C=S.connector;C.emitter.listenerCount("change")&&S.connector.emitter.off("change",v),C.emitter.listenerCount("disconnect")&&S.connector.emitter.off("disconnect",E),C.emitter.listenerCount("connect")||S.connector.emitter.on("connect",b)}if(x.connections.delete(_.uid),x.connections.size===0)return{...x,connections:new Map,current:null,status:"disconnected"};const A=x.connections.values().next().value;return{...x,connections:new Map(x.connections),current:A.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:h,get state(){return y.getState()},setState(_){let x;typeof _=="function"?x=_(y.getState()):x=_;const S=f();typeof x!="object"&&(x=S),Object.keys(S).some(C=>!(C in x))&&(x=S),y.setState(x,!0)},subscribe(_,x,S){return y.subscribe(_,x,S?{...S,fireImmediately:S.emitImmediately}:void 0)},_internal:{mipd:o,store:y,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(_){const x=typeof _=="function"?_(a.getState()):_;if(x.length!==0)return a.setState(x,!0)},subscribe(_){return a.subscribe(_)}},connectors:{providerDetailToConnector:u,setup:l,setState(_){return c.setState(typeof _=="function"?_(c.getState()):_,!0)},subscribe(_){return c.subscribe(_)}},events:{change:v,connect:b,disconnect:E}}}}function ZW(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var c;const i=new Set;for(const l of s??[])if(l.rdns){const u=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const d of u)i.add(d)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(i.has(l.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(l),d=t._internal.connectors.setup(u);o.push(d)}return[...s,...o]})),r?pC(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function XW(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:i}=ZW(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=P.useRef(!0);return P.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),e}const M5=P.createContext(void 0);function eH(t){const{children:e,config:n}=t,r={value:n};return P.createElement(XW,t,P.createElement(M5.Provider,r,e))}const tH="2.15.6",nH=()=>`wagmi@${tH}`;let rH=class extends _a{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return nH()}};class sH extends rH{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function il(t={}){const e=t.config??P.useContext(M5);if(!e)throw new sH;return e}var B5={exports:{}},F5={},z5={exports:{}},q5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h=P;function iH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oH=typeof Object.is=="function"?Object.is:iH,aH=_h.useState,cH=_h.useEffect,lH=_h.useLayoutEffect,uH=_h.useDebugValue;function dH(t,e){var n=e(),r=aH({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return lH(function(){s.value=n,s.getSnapshot=e,g1(s)&&i({inst:s})},[t,n,e]),cH(function(){return g1(s)&&i({inst:s}),t(function(){g1(s)&&i({inst:s})})},[t]),uH(n),n}function g1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!oH(t,n)}catch{return!0}}function hH(t,e){return e()}var fH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hH:dH;q5.useSyncExternalStore=_h.useSyncExternalStore!==void 0?_h.useSyncExternalStore:fH;z5.exports=q5;var pH=z5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv=P,gH=pH;function mH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yH=typeof Object.is=="function"?Object.is:mH,wH=gH.useSyncExternalStore,vH=Sv.useRef,bH=Sv.useEffect,_H=Sv.useMemo,EH=Sv.useDebugValue;F5.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=vH(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=_H(function(){function c(f){if(!l){if(l=!0,u=f,f=r(f),s!==void 0&&o.hasValue){var p=o.value;if(s(p,f))return d=p}return d=f}if(p=d,yH(u,f))return p;var m=r(f);return s!==void 0&&s(p,m)?(u=f,p):(u=f,d=m)}var l=!1,u,d,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,s]);var a=wH(t,i[0],i[1]);return bH(function(){o.hasValue=!0,o.value=a},[a]),EH(a),a};B5.exports=F5;var CH=B5.exports;const m1=t=>typeof t=="object"&&!Array.isArray(t);function xH(t,e,n=e,r=lu){const s=P.useRef([]),i=CH.useSyncExternalStoreWithSelector(t,e,n,o=>o,(o,a)=>{if(m1(o)&&m1(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return P.useMemo(()=>{if(m1(i)){const o={...i};let a={};for(const[c,l]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),l)}};return Object.defineProperties(o,a),o}return i},[i])}function bm(t={}){const e=il(t);return xH(n=>D5(e,{onChange:n}),()=>Vd(e))}var Bh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uu=typeof window>"u"||"Deno"in globalThis;function Rr(){}function SH(t,e){return typeof t=="function"?t(e):t}function yC(t){return typeof t=="number"&&t>=0&&t!==1/0}function W5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function jc(t,e){return typeof t=="function"?t(e):t}function Ti(t,e){return typeof t=="function"?t(e):t}function HT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==PA(o,e.options))return!1}else if(!_g(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function VT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(du(e.options.mutationKey)!==du(i))return!1}else if(!_g(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function PA(t,e){return((e==null?void 0:e.queryKeyHashFn)||du)(t)}function du(t){return JSON.stringify(t,(e,n)=>wC(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function _g(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>_g(t[n],e[n])):!1}function H5(t,e){if(t===e)return t;const n=GT(t)&&GT(e);if(n||wC(t)&&wC(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=H5(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function w0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function GT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wC(t){if(!KT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!KT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function KT(t){return Object.prototype.toString.call(t)==="[object Object]"}function AH(t){return new Promise(e=>{setTimeout(e,t)})}function vC(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?H5(t,e):e}function IH(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function TH(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var kA=Symbol();function V5(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===kA?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function G5(t,e){return typeof t=="function"?t(...e):!!t}var Ll,cc,Zd,OR,NH=(OR=class extends Bh{constructor(){super();Be(this,Ll);Be(this,cc);Be(this,Zd);Ae(this,Zd,e=>{if(!uu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){M(this,cc)||this.setEventListener(M(this,Zd))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,cc))==null||e.call(this),Ae(this,cc,void 0))}setEventListener(e){var n;Ae(this,Zd,e),(n=M(this,cc))==null||n.call(this),Ae(this,cc,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){M(this,Ll)!==e&&(Ae(this,Ll,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof M(this,Ll)=="boolean"?M(this,Ll):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ll=new WeakMap,cc=new WeakMap,Zd=new WeakMap,OR),OA=new NH,Xd,lc,eh,RR,PH=(RR=class extends Bh{constructor(){super();Be(this,Xd,!0);Be(this,lc);Be(this,eh);Ae(this,eh,e=>{if(!uu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){M(this,lc)||this.setEventListener(M(this,eh))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,lc))==null||e.call(this),Ae(this,lc,void 0))}setEventListener(e){var n;Ae(this,eh,e),(n=M(this,lc))==null||n.call(this),Ae(this,lc,e(this.setOnline.bind(this)))}setOnline(e){M(this,Xd)!==e&&(Ae(this,Xd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return M(this,Xd)}},Xd=new WeakMap,lc=new WeakMap,eh=new WeakMap,RR),v0=new PH;function bC(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function kH(t){return Math.min(1e3*2**t,3e4)}function K5(t){return(t??"online")==="online"?v0.isOnline():!0}var Y5=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function y1(t){return t instanceof Y5}function Q5(t){let e=!1,n=0,r=!1,s;const i=bC(),o=m=>{var y;r||(h(new Y5(m)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>OA.isFocused()&&(t.networkMode==="always"||v0.isOnline())&&t.canRun(),u=()=>K5(t.networkMode)&&t.canRun(),d=m=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,m),s==null||s(),i.resolve(m))},h=m=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,m),s==null||s(),i.reject(m))},f=()=>new Promise(m=>{var y;s=w=>{(r||l())&&m(w)},(y=t.onPause)==null||y.call(t)}).then(()=>{var m;s=void 0,r||(m=t.onContinue)==null||m.call(t)}),p=()=>{if(r)return;let m;const y=n===0?t.initialPromise:void 0;try{m=y??t.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(d).catch(w=>{var x;if(r)return;const v=t.retry??(uu?0:3),b=t.retryDelay??kH,E=typeof b=="function"?b(n,w):b,_=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!_){h(w);return}n++,(x=t.onFail)==null||x.call(t,n,w),AH(E).then(()=>l()?void 0:f()).then(()=>{e?h(w):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?p():f().then(p),i)}}var OH=t=>setTimeout(t,0);function RH(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=OH;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var $n=RH(),Ml,$R,J5=($R=class{constructor(){Be(this,Ml)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yC(this.gcTime)&&Ae(this,Ml,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(uu?1/0:5*60*1e3))}clearGcTimeout(){M(this,Ml)&&(clearTimeout(M(this,Ml)),Ae(this,Ml,void 0))}},Ml=new WeakMap,$R),th,Bl,Ks,Fl,xr,rm,zl,Ci,Fo,DR,$H=(DR=class extends J5{constructor(e){super();Be(this,Ci);Be(this,th);Be(this,Bl);Be(this,Ks);Be(this,Fl);Be(this,xr);Be(this,rm);Be(this,zl);Ae(this,zl,!1),Ae(this,rm,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ae(this,Fl,e.client),Ae(this,Ks,M(this,Fl).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ae(this,th,DH(this.options)),this.state=e.state??M(this,th),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=M(this,xr))==null?void 0:e.promise}setOptions(e){this.options={...M(this,rm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,Ks).remove(this)}setData(e,n){const r=vC(this.state.data,e,this.options);return rt(this,Ci,Fo).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){rt(this,Ci,Fo).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=M(this,xr))==null?void 0:r.promise;return(s=M(this,xr))==null||s.cancel(e),n?n.then(Rr).catch(Rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,th))}isActive(){return this.observers.some(e=>Ti(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>jc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!W5(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=M(this,xr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=M(this,xr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),M(this,Ks).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(M(this,xr)&&(M(this,zl)?M(this,xr).cancel({revert:!0}):M(this,xr).cancelRetry()),this.scheduleGc()),M(this,Ks).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rt(this,Ci,Fo).call(this,{type:"invalidate"})}fetch(e,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(M(this,xr))return M(this,xr).continueRetry(),M(this,xr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ae(this,zl,!0),r.signal)})},i=()=>{const h=V5(this.options,n),p=(()=>{const m={client:M(this,Fl),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return Ae(this,zl,!1),this.options.persister?this.options.persister(h,p,this):h(p)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:M(this,Fl),state:this.state,fetchFn:i};return s(h),h})();(l=this.options.behavior)==null||l.onFetch(a,this),Ae(this,Bl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&rt(this,Ci,Fo).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const c=h=>{var f,p,m,y;y1(h)&&h.silent||rt(this,Ci,Fo).call(this,{type:"error",error:h}),y1(h)||((p=(f=M(this,Ks).config).onError)==null||p.call(f,h,this),(y=(m=M(this,Ks).config).onSettled)==null||y.call(m,this.state.data,h,this)),this.scheduleGc()};return Ae(this,xr,Q5({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,m,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){c(w);return}(p=(f=M(this,Ks).config).onSuccess)==null||p.call(f,h,this),(y=(m=M(this,Ks).config).onSettled)==null||y.call(m,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,f)=>{rt(this,Ci,Fo).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{rt(this,Ci,Fo).call(this,{type:"pause"})},onContinue:()=>{rt(this,Ci,Fo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),M(this,xr).start()}},th=new WeakMap,Bl=new WeakMap,Ks=new WeakMap,Fl=new WeakMap,xr=new WeakMap,rm=new WeakMap,zl=new WeakMap,Ci=new WeakSet,Fo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Z5(r.data,this.options),fetchMeta:e.meta??null};case"success":return Ae(this,Bl,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return y1(s)&&s.revert&&M(this,Bl)?{...M(this,Bl),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),$n.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),M(this,Ks).notify({query:this,type:"updated",action:e})})},DR);function Z5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:K5(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function DH(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ao,jR,jH=(jR=class extends Bh{constructor(e={}){super();Be(this,ao);this.config=e,Ae(this,ao,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??PA(s,n);let o=this.get(i);return o||(o=new $H({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){M(this,ao).has(e.queryHash)||(M(this,ao).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=M(this,ao).get(e.queryHash);n&&(e.destroy(),n===e&&M(this,ao).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return M(this,ao).get(e)}getAll(){return[...M(this,ao).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>HT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>HT(e,r)):n}notify(e){$n.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){$n.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$n.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ao=new WeakMap,jR),co,Pr,ql,lo,qa,UR,UH=(UR=class extends J5{constructor(e){super();Be(this,lo);Be(this,co);Be(this,Pr);Be(this,ql);this.mutationId=e.mutationId,Ae(this,Pr,e.mutationCache),Ae(this,co,[]),this.state=e.state||X5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){M(this,co).includes(e)||(M(this,co).push(e),this.clearGcTimeout(),M(this,Pr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ae(this,co,M(this,co).filter(n=>n!==e)),this.scheduleGc(),M(this,Pr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){M(this,co).length||(this.state.status==="pending"?this.scheduleGc():M(this,Pr).remove(this))}continue(){var e;return((e=M(this,ql))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,l,u,d,h,f,p,m,y,w,v,b,E,_,x,S,A;const n=()=>{rt(this,lo,qa).call(this,{type:"continue"})};Ae(this,ql,Q5({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,k)=>{rt(this,lo,qa).call(this,{type:"failed",failureCount:C,error:k})},onPause:()=>{rt(this,lo,qa).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,Pr).canRun(this)}));const r=this.state.status==="pending",s=!M(this,ql).canStart();try{if(r)n();else{rt(this,lo,qa).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=M(this,Pr).config).onMutate)==null?void 0:o.call(i,e,this));const k=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));k!==this.state.context&&rt(this,lo,qa).call(this,{type:"pending",context:k,variables:e,isPaused:s})}const C=await M(this,ql).start();return await((u=(l=M(this,Pr).config).onSuccess)==null?void 0:u.call(l,C,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,C,e,this.state.context)),await((p=(f=M(this,Pr).config).onSettled)==null?void 0:p.call(f,C,null,this.state.variables,this.state.context,this)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,C,null,e,this.state.context)),rt(this,lo,qa).call(this,{type:"success",data:C}),C}catch(C){try{throw await((v=(w=M(this,Pr).config).onError)==null?void 0:v.call(w,C,e,this.state.context,this)),await((E=(b=this.options).onError)==null?void 0:E.call(b,C,e,this.state.context)),await((x=(_=M(this,Pr).config).onSettled)==null?void 0:x.call(_,void 0,C,this.state.variables,this.state.context,this)),await((A=(S=this.options).onSettled)==null?void 0:A.call(S,void 0,C,e,this.state.context)),C}finally{rt(this,lo,qa).call(this,{type:"error",error:C})}}finally{M(this,Pr).runNext(this)}}},co=new WeakMap,Pr=new WeakMap,ql=new WeakMap,lo=new WeakSet,qa=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$n.batch(()=>{M(this,co).forEach(r=>{r.onMutationUpdate(e)}),M(this,Pr).notify({mutation:this,type:"updated",action:e})})},UR);function X5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qo,xi,sm,LR,LH=(LR=class extends Bh{constructor(e={}){super();Be(this,Qo);Be(this,xi);Be(this,sm);this.config=e,Ae(this,Qo,new Set),Ae(this,xi,new Map),Ae(this,sm,0)}build(e,n,r){const s=new UH({mutationCache:this,mutationId:++Gm(this,sm)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){M(this,Qo).add(e);const n=vy(e);if(typeof n=="string"){const r=M(this,xi).get(n);r?r.push(e):M(this,xi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(M(this,Qo).delete(e)){const n=vy(e);if(typeof n=="string"){const r=M(this,xi).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&M(this,xi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=vy(e);if(typeof n=="string"){const r=M(this,xi).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=vy(e);if(typeof n=="string"){const s=(r=M(this,xi).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$n.batch(()=>{M(this,Qo).forEach(e=>{this.notify({type:"removed",mutation:e})}),M(this,Qo).clear(),M(this,xi).clear()})}getAll(){return Array.from(M(this,Qo))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>VT(n,r))}findAll(e={}){return this.getAll().filter(n=>VT(e,n))}notify(e){$n.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return $n.batch(()=>Promise.all(e.map(n=>n.continue().catch(Rr))))}},Qo=new WeakMap,xi=new WeakMap,sm=new WeakMap,LR);function vy(t){var e;return(e=t.options.scope)==null?void 0:e.id}function YT(t){return{onFetch:(e,n)=>{var u,d,h,f,p;const r=e.options,s=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let m=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},w=V5(e.options,e.fetchOptions),v=async(b,E,_)=>{if(m)return Promise.reject();if(E==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:E,direction:_?"backward":"forward",meta:e.options.meta};return y(O),O})(),A=await w(S),{maxPages:C}=e.options,k=_?TH:IH;return{pages:k(b.pages,A,C),pageParams:k(b.pageParams,E,C)}};if(s&&i.length){const b=s==="backward",E=b?MH:QT,_={pages:i,pageParams:o},x=E(r,_);a=await v(_,x,b)}else{const b=t??i.length;do{const E=c===0?o[0]??r.initialPageParam:QT(r,a);if(c>0&&E==null)break;a=await v(a,E),c++}while(c<b)}return a};e.options.persister?e.fetchFn=()=>{var m,y;return(y=(m=e.options).persister)==null?void 0:y.call(m,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function QT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function MH(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var fn,uc,dc,nh,rh,hc,sh,ih,MR,BH=(MR=class{constructor(t={}){Be(this,fn);Be(this,uc);Be(this,dc);Be(this,nh);Be(this,rh);Be(this,hc);Be(this,sh);Be(this,ih);Ae(this,fn,t.queryCache||new jH),Ae(this,uc,t.mutationCache||new LH),Ae(this,dc,t.defaultOptions||{}),Ae(this,nh,new Map),Ae(this,rh,new Map),Ae(this,hc,0)}mount(){Gm(this,hc)._++,M(this,hc)===1&&(Ae(this,sh,OA.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,fn).onFocus())})),Ae(this,ih,v0.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,fn).onOnline())})))}unmount(){var t,e;Gm(this,hc)._--,M(this,hc)===0&&((t=M(this,sh))==null||t.call(this),Ae(this,sh,void 0),(e=M(this,ih))==null||e.call(this),Ae(this,ih,void 0))}isFetching(t){return M(this,fn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return M(this,uc).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,fn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=M(this,fn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(jc(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return M(this,fn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=M(this,fn).get(r.queryHash),i=s==null?void 0:s.state.data,o=SH(e,i);if(o!==void 0)return M(this,fn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return $n.batch(()=>M(this,fn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,fn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=M(this,fn);$n.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=M(this,fn);return $n.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=$n.batch(()=>M(this,fn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Rr).catch(Rr)}invalidateQueries(t,e={}){return $n.batch(()=>(M(this,fn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=$n.batch(()=>M(this,fn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Rr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Rr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=M(this,fn).build(this,e);return n.isStaleByTime(jc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Rr).catch(Rr)}fetchInfiniteQuery(t){return t.behavior=YT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Rr).catch(Rr)}ensureInfiniteQueryData(t){return t.behavior=YT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return v0.isOnline()?M(this,uc).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,fn)}getMutationCache(){return M(this,uc)}getDefaultOptions(){return M(this,dc)}setDefaultOptions(t){Ae(this,dc,t)}setQueryDefaults(t,e){M(this,nh).set(du(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...M(this,nh).values()],n={};return e.forEach(r=>{_g(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){M(this,rh).set(du(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...M(this,rh).values()],n={};return e.forEach(r=>{_g(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...M(this,dc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=PA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===kA&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...M(this,dc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){M(this,fn).clear(),M(this,uc).clear()}},fn=new WeakMap,uc=new WeakMap,dc=new WeakMap,nh=new WeakMap,rh=new WeakMap,hc=new WeakMap,sh=new WeakMap,ih=new WeakMap,MR),ts,ht,im,kr,Wl,oh,fc,pc,om,ah,ch,Hl,Vl,gc,lh,Ot,Vf,_C,EC,CC,xC,SC,AC,IC,e8,BR,FH=(BR=class extends Bh{constructor(e,n){super();Be(this,Ot);Be(this,ts);Be(this,ht);Be(this,im);Be(this,kr);Be(this,Wl);Be(this,oh);Be(this,fc);Be(this,pc);Be(this,om);Be(this,ah);Be(this,ch);Be(this,Hl);Be(this,Vl);Be(this,gc);Be(this,lh,new Set);this.options=n,Ae(this,ts,e),Ae(this,pc,null),Ae(this,fc,bC()),this.options.experimental_prefetchInRender||M(this,fc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,ht).addObserver(this),JT(M(this,ht),this.options)?rt(this,Ot,Vf).call(this):this.updateResult(),rt(this,Ot,xC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return TC(M(this,ht),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return TC(M(this,ht),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,rt(this,Ot,SC).call(this),rt(this,Ot,AC).call(this),M(this,ht).removeObserver(this)}setOptions(e){const n=this.options,r=M(this,ht);if(this.options=M(this,ts).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ti(this.options.enabled,M(this,ht))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");rt(this,Ot,IC).call(this),M(this,ht).setOptions(this.options),n._defaulted&&!w0(this.options,n)&&M(this,ts).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,ht),observer:this});const s=this.hasListeners();s&&ZT(M(this,ht),r,this.options,n)&&rt(this,Ot,Vf).call(this),this.updateResult(),s&&(M(this,ht)!==r||Ti(this.options.enabled,M(this,ht))!==Ti(n.enabled,M(this,ht))||jc(this.options.staleTime,M(this,ht))!==jc(n.staleTime,M(this,ht)))&&rt(this,Ot,_C).call(this);const i=rt(this,Ot,EC).call(this);s&&(M(this,ht)!==r||Ti(this.options.enabled,M(this,ht))!==Ti(n.enabled,M(this,ht))||i!==M(this,gc))&&rt(this,Ot,CC).call(this,i)}getOptimisticResult(e){const n=M(this,ts).getQueryCache().build(M(this,ts),e),r=this.createResult(n,e);return qH(this,r)&&(Ae(this,kr,r),Ae(this,oh,this.options),Ae(this,Wl,M(this,ht).state)),r}getCurrentResult(){return M(this,kr)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){M(this,lh).add(e)}getCurrentQuery(){return M(this,ht)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=M(this,ts).defaultQueryOptions(e),r=M(this,ts).getQueryCache().build(M(this,ts),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return rt(this,Ot,Vf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,kr)))}createResult(e,n){var C;const r=M(this,ht),s=this.options,i=M(this,kr),o=M(this,Wl),a=M(this,oh),l=e!==r?e.state:M(this,im),{state:u}=e;let d={...u},h=!1,f;if(n._optimisticResults){const k=this.hasListeners(),O=!k&&JT(e,n),B=k&&ZT(e,r,n,s);(O||B)&&(d={...d,...Z5(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:y}=d;f=d.data;let w=!1;if(n.placeholderData!==void 0&&f===void 0&&y==="pending"){let k;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(k=i.data,w=!0):k=typeof n.placeholderData=="function"?n.placeholderData((C=M(this,ch))==null?void 0:C.state.data,M(this,ch)):n.placeholderData,k!==void 0&&(y="success",f=vC(i==null?void 0:i.data,k,n),h=!0)}if(n.select&&f!==void 0&&!w)if(i&&f===(o==null?void 0:o.data)&&n.select===M(this,om))f=M(this,ah);else try{Ae(this,om,n.select),f=n.select(f),f=vC(i==null?void 0:i.data,f,n),Ae(this,ah,f),Ae(this,pc,null)}catch(k){Ae(this,pc,k)}M(this,pc)&&(p=M(this,pc),f=M(this,ah),m=Date.now(),y="error");const v=d.fetchStatus==="fetching",b=y==="pending",E=y==="error",_=b&&v,x=f!==void 0,A={status:y,fetchStatus:d.fetchStatus,isPending:b,isSuccess:y==="success",isError:E,isInitialLoading:_,isLoading:_,data:f,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:E&&!x,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:E&&x,isStale:RA(e,n),refetch:this.refetch,promise:M(this,fc)};if(this.options.experimental_prefetchInRender){const k=F=>{A.status==="error"?F.reject(A.error):A.data!==void 0&&F.resolve(A.data)},O=()=>{const F=Ae(this,fc,A.promise=bC());k(F)},B=M(this,fc);switch(B.status){case"pending":e.queryHash===r.queryHash&&k(B);break;case"fulfilled":(A.status==="error"||A.data!==B.value)&&O();break;case"rejected":(A.status!=="error"||A.error!==B.reason)&&O();break}}return A}updateResult(){const e=M(this,kr),n=this.createResult(M(this,ht),this.options);if(Ae(this,Wl,M(this,ht).state),Ae(this,oh,this.options),M(this,Wl).data!==void 0&&Ae(this,ch,M(this,ht)),w0(n,e))return;Ae(this,kr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!M(this,lh).size)return!0;const o=new Set(i??M(this,lh));return this.options.throwOnError&&o.add("error"),Object.keys(M(this,kr)).some(a=>{const c=a;return M(this,kr)[c]!==e[c]&&o.has(c)})};rt(this,Ot,e8).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&rt(this,Ot,xC).call(this)}},ts=new WeakMap,ht=new WeakMap,im=new WeakMap,kr=new WeakMap,Wl=new WeakMap,oh=new WeakMap,fc=new WeakMap,pc=new WeakMap,om=new WeakMap,ah=new WeakMap,ch=new WeakMap,Hl=new WeakMap,Vl=new WeakMap,gc=new WeakMap,lh=new WeakMap,Ot=new WeakSet,Vf=function(e){rt(this,Ot,IC).call(this);let n=M(this,ht).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Rr)),n},_C=function(){rt(this,Ot,SC).call(this);const e=jc(this.options.staleTime,M(this,ht));if(uu||M(this,kr).isStale||!yC(e))return;const r=W5(M(this,kr).dataUpdatedAt,e)+1;Ae(this,Hl,setTimeout(()=>{M(this,kr).isStale||this.updateResult()},r))},EC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,ht)):this.options.refetchInterval)??!1},CC=function(e){rt(this,Ot,AC).call(this),Ae(this,gc,e),!(uu||Ti(this.options.enabled,M(this,ht))===!1||!yC(M(this,gc))||M(this,gc)===0)&&Ae(this,Vl,setInterval(()=>{(this.options.refetchIntervalInBackground||OA.isFocused())&&rt(this,Ot,Vf).call(this)},M(this,gc)))},xC=function(){rt(this,Ot,_C).call(this),rt(this,Ot,CC).call(this,rt(this,Ot,EC).call(this))},SC=function(){M(this,Hl)&&(clearTimeout(M(this,Hl)),Ae(this,Hl,void 0))},AC=function(){M(this,Vl)&&(clearInterval(M(this,Vl)),Ae(this,Vl,void 0))},IC=function(){const e=M(this,ts).getQueryCache().build(M(this,ts),this.options);if(e===M(this,ht))return;const n=M(this,ht);Ae(this,ht,e),Ae(this,im,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},e8=function(e){$n.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(M(this,kr))}),M(this,ts).getQueryCache().notify({query:M(this,ht),type:"observerResultsUpdated"})})},BR);function zH(t,e){return Ti(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function JT(t,e){return zH(t,e)||t.state.data!==void 0&&TC(t,e,e.refetchOnMount)}function TC(t,e,n){if(Ti(e.enabled,t)!==!1&&jc(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&RA(t,e)}return!1}function ZT(t,e,n,r){return(t!==e||Ti(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&RA(t,n)}function RA(t,e){return Ti(e.enabled,t)!==!1&&t.isStaleByTime(jc(e.staleTime,t))}function qH(t,e){return!w0(t.getCurrentResult(),e)}var mc,yc,ns,Jo,ca,Ew,NC,FR,WH=(FR=class extends Bh{constructor(n,r){super();Be(this,ca);Be(this,mc);Be(this,yc);Be(this,ns);Be(this,Jo);Ae(this,mc,n),this.setOptions(r),this.bindMethods(),rt(this,ca,Ew).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=M(this,mc).defaultMutationOptions(n),w0(this.options,r)||M(this,mc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,ns),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&du(r.mutationKey)!==du(this.options.mutationKey)?this.reset():((s=M(this,ns))==null?void 0:s.state.status)==="pending"&&M(this,ns).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=M(this,ns))==null||n.removeObserver(this)}onMutationUpdate(n){rt(this,ca,Ew).call(this),rt(this,ca,NC).call(this,n)}getCurrentResult(){return M(this,yc)}reset(){var n;(n=M(this,ns))==null||n.removeObserver(this),Ae(this,ns,void 0),rt(this,ca,Ew).call(this),rt(this,ca,NC).call(this)}mutate(n,r){var s;return Ae(this,Jo,r),(s=M(this,ns))==null||s.removeObserver(this),Ae(this,ns,M(this,mc).getMutationCache().build(M(this,mc),this.options)),M(this,ns).addObserver(this),M(this,ns).execute(n)}},mc=new WeakMap,yc=new WeakMap,ns=new WeakMap,Jo=new WeakMap,ca=new WeakSet,Ew=function(){var r;const n=((r=M(this,ns))==null?void 0:r.state)??X5();Ae(this,yc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},NC=function(n){$n.batch(()=>{var r,s,i,o,a,c,l,u;if(M(this,Jo)&&this.hasListeners()){const d=M(this,yc).variables,h=M(this,yc).context;(n==null?void 0:n.type)==="success"?((s=(r=M(this,Jo)).onSuccess)==null||s.call(r,n.data,d,h),(o=(i=M(this,Jo)).onSettled)==null||o.call(i,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((c=(a=M(this,Jo)).onError)==null||c.call(a,n.error,d,h),(u=(l=M(this,Jo)).onSettled)==null||u.call(l,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(M(this,yc))})})},FR);function HH(t){return JSON.stringify(t,(e,n)=>VH(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function VH(t){if(!XT(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!XT(n)||!n.hasOwnProperty("isPrototypeOf"))}function XT(t){return Object.prototype.toString.call(t)==="[object Object]"}function t8(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:i,maxPages:o,meta:a,networkMode:c,queryFn:l,queryHash:u,queryKey:d,queryKeyHashFn:h,retry:f,retryDelay:p,structuralSharing:m,getPreviousPageParam:y,getNextPageParam:w,initialPageParam:v,_optimisticResults:b,enabled:E,notifyOnChangeProps:_,placeholderData:x,refetchInterval:S,refetchIntervalInBackground:A,refetchOnMount:C,refetchOnReconnect:k,refetchOnWindowFocus:O,retryOnMount:B,select:F,staleTime:H,suspense:N,throwOnError:T,config:U,connector:D,query:$,...L}=t;return L}function GH(t){return{mutationFn(e){return bw(t,e)},mutationKey:["connect"]}}function KH(t){return{mutationFn(e){return R5(t,e)},mutationKey:["disconnect"]}}function YH(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("address is required");return EW(t,{...i,address:r})},queryKey:QH(e)}}function QH(t={}){return["ensName",t8(t)]}function JH(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=e,{connectorUid:s,scopeKey:i,...o}=n[1];return CW(t,{...o,connector:r})},queryKey:ZH(e)}}function ZH(t={}){const{connector:e,...n}=t;return["walletClient",{...t8(n),connectorUid:e==null?void 0:e.uid}]}var n8=P.createContext(void 0),$A=t=>{const e=P.useContext(n8);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},XH=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(n8.Provider,{value:t,children:e})),r8=P.createContext(!1),eV=()=>P.useContext(r8);r8.Provider;function tV(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var nV=P.createContext(tV()),rV=()=>P.useContext(nV),sV=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},iV=t=>{P.useEffect(()=>{t.clearReset()},[t])},oV=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||G5(n,[t.error,r])),aV=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},cV=(t,e)=>t.isLoading&&t.isFetching&&!e,lV=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,eN=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function uV(t,e,n){var d,h,f,p,m;const r=eV(),s=rV(),i=$A(),o=i.defaultQueryOptions(t);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",aV(o),sV(o,s),iV(s);const a=!i.getQueryCache().get(o.queryHash),[c]=P.useState(()=>new e(i,o)),l=c.getOptimisticResult(o),u=!r&&t.subscribed!==!1;if(P.useSyncExternalStore(P.useCallback(y=>{const w=u?c.subscribe($n.batchCalls(y)):Rr;return c.updateResult(),w},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),P.useEffect(()=>{c.setOptions(o)},[o,c]),lV(o,l))throw eN(o,c,s);if(oV({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((p=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,l),o.experimental_prefetchInRender&&!uu&&cV(l,r)){const y=a?eN(o,c,s):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;y==null||y.catch(Rr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function dV(t,e){return uV(t,FH)}function s8(t,e){const n=$A(),[r]=P.useState(()=>new WH(n,t));P.useEffect(()=>{r.setOptions(t)},[r,t]);const s=P.useSyncExternalStore(P.useCallback(o=>r.subscribe($n.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=P.useCallback((o,a)=>{r.mutate(o,a).catch(Rr)},[r]);if(s.error&&G5(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function i8(t){const e=dV({...t,queryKeyHashFn:HH});return e.queryKey=t.queryKey,e}function o8(t={}){const e=il(t);return P.useSyncExternalStore(n=>TW(e,{onChange:n}),()=>MT(e),()=>MT(e))}function hV(t={}){const e=il(t);return P.useSyncExternalStore(n=>j5(e,{onChange:n}),()=>BT(e),()=>BT(e))}function a8(t={}){const{mutation:e}=t,n=il(t),r=GH(n),{mutate:s,mutateAsync:i,...o}=s8({...e,...r});return P.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:hV({config:n})}}function fV(t={}){const e=il(t);return P.useSyncExternalStore(n=>NW(e,{onChange:n}),()=>oo(e),()=>oo(e))}function c8(t={}){const{mutation:e}=t,n=il(t),r=KH(n),{mutate:s,mutateAsync:i,...o}=s8({...e,...r});return{...o,connectors:fV({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:i}}function l8(t={}){const{address:e,query:n={}}=t,r=il(t),s=o8({config:r}),i=YH(r,{...t,chainId:t.chainId??s}),o=!!(e&&(n.enabled??!0));return i8({...n,...i,enabled:o})}function u8(t={}){const{query:e={},...n}=t,r=il(n),s=$A(),{address:i,connector:o,status:a}=bm({config:r}),c=o8({config:r}),l=t.connector??o,{queryKey:u,...d}=JH(r,{...t,chainId:t.chainId??c,connector:t.connector??o}),h=!!((a==="connected"||a==="reconnecting"&&(l!=null&&l.getProvider))&&(e.enabled??!0)),f=P.useRef(i);return P.useEffect(()=>{const p=f.current;!i&&p?(s.removeQueries({queryKey:u}),f.current=void 0):i!==p&&(s.invalidateQueries({queryKey:u}),f.current=i)},[i,s]),i8({...e,...d,queryKey:u,enabled:h,staleTime:Number.POSITIVE_INFINITY})}const pV="_verified_lvyh0_1",DA={verified:pV},gV=()=>g.jsx("svg",{viewBox:"0 0 24 24","aria-label":"Verified account",role:"img",className:DA.verified,children:g.jsx("g",{children:g.jsx("path",{d:"M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.26 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z"})})}),mV=()=>g.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:DA.verified,children:g.jsxs("g",{children:[g.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-a",x1:"4.411",x2:"18.083",y1:"2.495",y2:"21.508",children:[g.jsx("stop",{offset:"0",stopColor:"#f4e72a"}),g.jsx("stop",{offset:".539",stopColor:"#cd8105"}),g.jsx("stop",{offset:".68",stopColor:"#cb7b00"}),g.jsx("stop",{offset:"1",stopColor:"#f4ec26"}),g.jsx("stop",{offset:"1",stopColor:"#f4e72a"})]}),g.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-b",x1:"5.355",x2:"16.361",y1:"3.395",y2:"19.133",children:[g.jsx("stop",{offset:"0",stopColor:"#f9e87f"}),g.jsx("stop",{offset:".406",stopColor:"#e2b719"}),g.jsx("stop",{offset:".989",stopColor:"#e2b719"})]}),g.jsxs("g",{clipRule:"evenodd",fillRule:"evenodd",children:[g.jsx("path",{d:"M13.324 3.848L11 1.6 8.676 3.848l-3.201-.453-.559 3.184L2.06 8.095 3.48 11l-1.42 2.904 2.856 1.516.559 3.184 3.201-.452L11 20.4l2.324-2.248 3.201.452.559-3.184 2.856-1.516L18.52 11l1.42-2.905-2.856-1.516-.559-3.184zm-7.09 7.575l3.428 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-a)"}),g.jsx("path",{d:"M13.101 4.533L11 2.5 8.899 4.533l-2.895-.41-.505 2.88-2.583 1.37L4.2 11l-1.284 2.627 2.583 1.37.505 2.88 2.895-.41L11 19.5l2.101-2.033 2.895.41.505-2.88 2.583-1.37L17.8 11l1.284-2.627-2.583-1.37-.505-2.88zm-6.868 6.89l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-b)"}),g.jsx("path",{d:"M6.233 11.423l3.429 3.428 5.65-6.17.038-.033-.005 1.398-5.683 6.206-3.429-3.429-.003-1.405.005.003z",fill:"#d18800"})]})]})}),yV=()=>g.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:DA.verified,children:g.jsx("g",{children:g.jsx("path",{clipRule:"evenodd",d:"M12.05 2.056c-.568-.608-1.532-.608-2.1 0l-1.393 1.49c-.284.303-.685.47-1.1.455L5.42 3.932c-.832-.028-1.514.654-1.486 1.486l.069 2.039c.014.415-.152.816-.456 1.1l-1.49 1.392c-.608.568-.608 1.533 0 2.101l1.49 1.393c.304.284.47.684.456 1.1l-.07 2.038c-.027.832.655 1.514 1.487 1.486l2.038-.069c.415-.014.816.152 1.1.455l1.392 1.49c.569.609 1.533.609 2.102 0l1.393-1.49c.283-.303.684-.47 1.099-.455l2.038.069c.832.028 1.515-.654 1.486-1.486L18 14.542c-.015-.415.152-.815.455-1.099l1.49-1.393c.608-.568.608-1.533 0-2.101l-1.49-1.393c-.303-.283-.47-.684-.455-1.1l.068-2.038c.029-.832-.654-1.514-1.486-1.486l-2.038.07c-.415.013-.816-.153-1.1-.456zm-5.817 9.367l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fillRule:"evenodd"})})});function d8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=d8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Uc(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=d8(t))&&(r&&(r+=" "),r+=e);return r}const wV="_root_98iqw_1",vV="_article_98iqw_21",tN={root:wV,article:vV},jA=({className:t,children:e})=>g.jsx("div",{className:Uc("react-tweet-theme",tN.root,t),children:g.jsx("article",{className:tN.article,children:e})}),h8=t=>g.jsx("img",{...t}),bV="_header_nqq4j_1",_V="_avatar_nqq4j_11",EV="_avatarOverflow_nqq4j_16",CV="_avatarSquare_nqq4j_23",xV="_avatarShadow_nqq4j_26",SV="_author_nqq4j_37",AV="_authorLink_nqq4j_44",IV="_authorVerified_nqq4j_53",TV="_authorLinkText_nqq4j_56",NV="_authorMeta_nqq4j_63",PV="_authorFollow_nqq4j_66",kV="_username_nqq4j_69",OV="_follow_nqq4j_74",RV="_separator_nqq4j_82",$V="_brand_nqq4j_86",DV="_twitterIcon_nqq4j_90",Qn={header:bV,avatar:_V,avatarOverflow:EV,avatarSquare:CV,avatarShadow:xV,author:SV,authorLink:AV,authorVerified:IV,authorLinkText:TV,authorMeta:NV,authorFollow:PV,username:kV,follow:OV,separator:RV,brand:$V,twitterIcon:DV},jV="_verifiedOld_lcna5_1",UV="_verifiedBlue_lcna5_4",LV="_verifiedGovernment_lcna5_7",w1={verifiedOld:jV,verifiedBlue:UV,verifiedGovernment:LV},f8=({user:t,className:e})=>{const n=t.verified||t.is_blue_verified||t.verified_type;let r=g.jsx(gV,{}),s=w1.verifiedBlue;if(n)switch(t.is_blue_verified||(s=w1.verifiedOld),t.verified_type){case"Government":r=g.jsx(yV,{}),s=w1.verifiedGovernment;break;case"Business":r=g.jsx(mV,{}),s=null;break}return n?g.jsx("div",{className:Uc(e,s),children:r}):null},MV=({tweet:t,components:e})=>{var n;const r=(n=e==null?void 0:e.AvatarImg)!=null?n:h8,{user:s}=t;return g.jsxs("div",{className:Qn.header,children:[g.jsxs("a",{href:t.url,className:Qn.avatar,target:"_blank",rel:"noopener noreferrer",children:[g.jsx("div",{className:Uc(Qn.avatarOverflow,s.profile_image_shape==="Square"&&Qn.avatarSquare),children:g.jsx(r,{src:s.profile_image_url_https,alt:s.name,width:48,height:48})}),g.jsx("div",{className:Qn.avatarOverflow,children:g.jsx("div",{className:Qn.avatarShadow})})]}),g.jsxs("div",{className:Qn.author,children:[g.jsxs("a",{href:t.url,className:Qn.authorLink,target:"_blank",rel:"noopener noreferrer",children:[g.jsx("div",{className:Qn.authorLinkText,children:g.jsx("span",{title:s.name,children:s.name})}),g.jsx(f8,{user:s,className:Qn.authorVerified})]}),g.jsxs("div",{className:Qn.authorMeta,children:[g.jsx("a",{href:t.url,className:Qn.username,target:"_blank",rel:"noopener noreferrer",children:g.jsxs("span",{title:`@${s.screen_name}`,children:["@",s.screen_name]})}),g.jsxs("div",{className:Qn.authorFollow,children:[g.jsx("span",{className:Qn.separator,children:""}),g.jsx("a",{href:s.follow_url,className:Qn.follow,target:"_blank",rel:"noopener noreferrer",children:"Follow"})]})]})]}),g.jsx("a",{href:t.url,className:Qn.brand,target:"_blank",rel:"noopener noreferrer","aria-label":"View on Twitter",children:g.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:Qn.twitterIcon,children:g.jsx("g",{children:g.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})})]})},BV="_root_1ec15_1",FV={root:BV},zV=({tweet:t})=>g.jsxs("a",{href:t.in_reply_to_url,className:FV.root,target:"_blank",rel:"noopener noreferrer",children:["Replying to @",t.in_reply_to_screen_name]}),qV="_root_eihfa_1",WV={root:qV},HV=({href:t,children:e})=>g.jsx("a",{href:t,className:WV.root,target:"_blank",rel:"noopener noreferrer nofollow",children:e}),VV="_root_1xq52_1",GV={root:VV},KV=({tweet:t})=>g.jsx("p",{className:GV.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>{switch(e.type){case"hashtag":case"mention":case"url":case"symbol":return g.jsx(HV,{href:e.href,children:e.text},n);case"media":return;default:return g.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n)}})}),nN=t=>`https://x.com/${t.user.screen_name}/status/${t.id_str}`,p8=t=>`https://x.com/${typeof t=="string"?t:t.user.screen_name}`,YV=t=>`https://x.com/intent/like?tweet_id=${t.id_str}`,QV=t=>`https://x.com/intent/tweet?in_reply_to=${t.id_str}`,JV=t=>`https://x.com/intent/follow?screen_name=${t.user.screen_name}`,ZV=t=>`https://x.com/hashtag/${t.text}`,XV=t=>`https://x.com/search?q=%24${t.text}`,eG=t=>`https://x.com/${t.in_reply_to_screen_name}/status/${t.in_reply_to_status_id_str}`,g8=(t,e)=>{const n=new URL(t.media_url_https),r=n.pathname.split(".").pop();return r?(n.pathname=n.pathname.replace(`.${r}`,""),n.searchParams.set("format",r),n.searchParams.set("name",e),n.toString()):t.media_url_https},tG=t=>{const{variants:e}=t.video_info;return e.filter(r=>r.content_type==="video/mp4").sort((r,s)=>{var i,o;return((i=s.bitrate)!=null?i:0)-((o=r.bitrate)!=null?o:0)})},nG=t=>{const e=tG(t);return e.length>1?e[1]:e[0]},PC=t=>t>999999?`${(t/1e6).toFixed(1)}M`:t>999?`${(t/1e3).toFixed(1)}K`:t.toString();function rN(t){const e=Array.from(t.text),n=[{indices:t.display_text_range,type:"text"}];return wf(n,"hashtag",t.entities.hashtags),wf(n,"mention",t.entities.user_mentions),wf(n,"url",t.entities.urls),wf(n,"symbol",t.entities.symbols),t.entities.media&&wf(n,"media",t.entities.media),rG(t,n),n.map(r=>{const s=e.slice(r.indices[0],r.indices[1]).join("");switch(r.type){case"hashtag":return Object.assign(r,{href:ZV(r),text:s});case"mention":return Object.assign(r,{href:p8(r.screen_name),text:s});case"url":case"media":return Object.assign(r,{href:r.expanded_url,text:r.display_url});case"symbol":return Object.assign(r,{href:XV(r),text:s});default:return Object.assign(r,{text:s})}})}function wf(t,e,n){for(const r of n)for(const[s,i]of t.entries()){if(i.indices[0]>r.indices[0]||i.indices[1]<r.indices[1])continue;const o=[{...r,type:e}];i.indices[0]<r.indices[0]&&o.unshift({indices:[i.indices[0],r.indices[0]],type:"text"}),i.indices[1]>r.indices[1]&&o.push({indices:[r.indices[1],i.indices[1]],type:"text"}),t.splice(s,1,...o);break}}function rG(t,e){t.entities.media&&t.entities.media[0].indices[0]<t.display_text_range[1]&&(t.display_text_range[1]=t.entities.media[0].indices[0]);const n=e.at(-1);n&&n.indices[1]>t.display_text_range[1]&&(n.indices[1]=t.display_text_range[1])}const sG=t=>({...t,url:nN(t),user:{...t.user,url:p8(t),follow_url:JV(t)},like_url:YV(t),reply_url:QV(t),in_reply_to_url:t.in_reply_to_screen_name?eG(t):void 0,entities:rN(t),quoted_tweet:t.quoted_tweet?{...t.quoted_tweet,url:nN(t.quoted_tweet),entities:rN(t.quoted_tweet)}:void 0}),iG="_root_g9tkv_1",oG="_rounded_g9tkv_6",aG="_mediaWrapper_g9tkv_10",cG="_grid2Columns_g9tkv_17",lG="_grid3_g9tkv_20",uG="_grid2x2_g9tkv_23",dG="_mediaContainer_g9tkv_26",hG="_mediaLink_g9tkv_34",fG="_skeleton_g9tkv_38",pG="_image_g9tkv_43",_s={root:iG,rounded:oG,mediaWrapper:aG,grid2Columns:cG,grid3:lG,grid2x2:uG,mediaContainer:dG,mediaLink:hG,skeleton:fG,image:pG},gG="_anchor_fp31d_1",mG="_videoButton_fp31d_17",yG="_videoButtonIcon_fp31d_35",wG="_watchOnTwitter_fp31d_44",vG="_viewReplies_fp31d_60",Wu={anchor:gG,videoButton:mG,videoButtonIcon:yG,watchOnTwitter:wG,viewReplies:vG},bG=({tweet:t,media:e})=>{const[n,r]=P.useState(!0),[s,i]=P.useState(!1),[o,a]=P.useState(!1),c=nG(e);let l=0;return g.jsxs(g.Fragment,{children:[g.jsx("video",{className:_s.image,poster:g8(e,"small"),controls:!n,playsInline:!0,preload:"none",tabIndex:n?-1:0,onPlay:()=>{l&&window.clearTimeout(l),s||i(!0),o&&a(!1)},onPause:()=>{l&&window.clearTimeout(l),l=window.setTimeout(()=>{s&&i(!1),l=0},100)},onEnded:()=>{a(!0)},children:g.jsx("source",{src:c.url,type:c.content_type})}),n&&g.jsx("button",{type:"button",className:Wu.videoButton,"aria-label":"View video on X",onClick:u=>{const d=u.currentTarget.previousSibling;u.preventDefault(),r(!1),d.load(),d.play().then(()=>{i(!0),d.focus()}).catch(h=>{console.error("Error playing video:",h),r(!0),i(!1)})},children:g.jsx("svg",{viewBox:"0 0 24 24",className:Wu.videoButtonIcon,"aria-hidden":"true",children:g.jsx("g",{children:g.jsx("path",{d:"M21 12L4 2v20l17-10z"})})})}),!s&&!o&&g.jsx("div",{className:Wu.watchOnTwitter,children:g.jsx("a",{href:t.url,className:Wu.anchor,target:"_blank",rel:"noopener noreferrer",children:n?"Watch on X":"Continue watching on X"})}),o&&g.jsx("a",{href:t.url,className:Uc(Wu.anchor,Wu.viewReplies),target:"_blank",rel:"noopener noreferrer",children:"View replies"})]})},_G=t=>g.jsx("img",{...t}),sN=(t,e)=>{let n=56.25;return e===1&&(n=100/t.original_info.width*t.original_info.height),e===2&&(n=n*2),{width:t.type==="photo"?void 0:"unset",paddingBottom:`${n}%`}},m8=({tweet:t,components:e,quoted:n})=>{var r,s,i;const o=(i=(r=t.mediaDetails)==null?void 0:r.length)!=null?i:0;var a;const c=(a=e==null?void 0:e.MediaImg)!=null?a:_G;return g.jsx("div",{className:Uc(_s.root,!n&&_s.rounded),children:g.jsx("div",{className:Uc(_s.mediaWrapper,o>1&&_s.grid2Columns,o===3&&_s.grid3,o>4&&_s.grid2x2),children:(s=t.mediaDetails)==null?void 0:s.map(l=>g.jsx(P.Fragment,{children:l.type==="photo"?g.jsxs("a",{href:t.url,className:Uc(_s.mediaContainer,_s.mediaLink),target:"_blank",rel:"noopener noreferrer",children:[g.jsx("div",{className:_s.skeleton,style:sN(l,o)}),g.jsx(c,{src:g8(l,"small"),alt:l.ext_alt_text||"Image",className:_s.image,draggable:!0})]},l.media_url_https):g.jsxs("div",{className:_s.mediaContainer,children:[g.jsx("div",{className:_s.skeleton,style:sN(l,o)}),g.jsx(bG,{tweet:t,media:l})]},l.media_url_https)},l.media_url_https))})})},EG={hour:"numeric",minute:"2-digit",hour12:!0,weekday:"short",month:"short",day:"numeric",year:"numeric"},CG=new Intl.DateTimeFormat("en-US",EG),xG=t=>{const e={};for(const n of t)e[n.type]=n.value;return e},SG=t=>{const e=xG(CG.formatToParts(t)),n=`${e.hour}:${e.minute} ${e.dayPeriod}`,r=`${e.month} ${e.day}, ${e.year}`;return`${n}  ${r}`},AG="_root_i24yn_1",IG={root:AG},TG=({tweet:t})=>{const e=new Date(t.created_at),n=SG(e);return g.jsx("a",{className:IG.root,href:t.url,target:"_blank",rel:"noopener noreferrer","aria-label":n,children:g.jsx("time",{dateTime:e.toISOString(),children:n})})},NG="_info_19qcj_1",PG="_infoLink_19qcj_10",kG="_infoIcon_19qcj_30",v1={info:NG,infoLink:PG,infoIcon:kG},OG=({tweet:t})=>g.jsxs("div",{className:v1.info,children:[g.jsx(TG,{tweet:t}),g.jsx("a",{className:v1.infoLink,href:"https://help.x.com/en/x-for-websites-ads-info-and-privacy",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter for Websites, Ads Information and Privacy",children:g.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:v1.infoIcon,children:g.jsx("g",{children:g.jsx("path",{d:"M13.5 8.5c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5S11.17 7 12 7s1.5.67 1.5 1.5zM13 17v-5h-2v5h2zm-1 5.25c5.66 0 10.25-4.59 10.25-10.25S17.66 1.75 12 1.75 1.75 6.34 1.75 12 6.34 22.25 12 22.25zM20.25 12c0 4.56-3.69 8.25-8.25 8.25S3.75 16.56 3.75 12 7.44 3.75 12 3.75s8.25 3.69 8.25 8.25z"})})})})]}),RG="_actions_n2anf_1",$G="_like_n2anf_13",DG="_reply_n2anf_14",jG="_copy_n2anf_15",UG="_likeIconWrapper_n2anf_27",LG="_likeCount_n2anf_30",MG="_replyIconWrapper_n2anf_35",BG="_copyIconWrapper_n2anf_36",FG="_likeIcon_n2anf_27",zG="_replyIcon_n2anf_35",qG="_copyIcon_n2anf_36",WG="_replyText_n2anf_56",HG="_copyText_n2anf_57",rs={actions:RG,like:$G,reply:DG,copy:jG,likeIconWrapper:UG,likeCount:LG,replyIconWrapper:MG,copyIconWrapper:BG,likeIcon:FG,replyIcon:zG,copyIcon:qG,replyText:WG,copyText:HG},VG=({tweet:t})=>{const[e,n]=P.useState(!1),r=()=>{navigator.clipboard.writeText(t.url),n(!0)};return P.useEffect(()=>{if(e){const s=setTimeout(()=>{n(!1)},6e3);return()=>clearTimeout(s)}},[e]),g.jsxs("button",{type:"button",className:rs.copy,"aria-label":"Copy link",onClick:r,children:[g.jsx("div",{className:rs.copyIconWrapper,children:e?g.jsx("svg",{viewBox:"0 0 24 24",className:rs.copyIcon,"aria-hidden":"true",children:g.jsx("g",{children:g.jsx("path",{d:"M9.64 18.952l-5.55-4.861 1.317-1.504 3.951 3.459 8.459-10.948L19.4 6.32 9.64 18.952z"})})}):g.jsx("svg",{viewBox:"0 0 24 24",className:rs.copyIcon,"aria-hidden":"true",children:g.jsx("g",{children:g.jsx("path",{d:"M18.36 5.64c-1.95-1.96-5.11-1.96-7.07 0L9.88 7.05 8.46 5.64l1.42-1.42c2.73-2.73 7.16-2.73 9.9 0 2.73 2.74 2.73 7.17 0 9.9l-1.42 1.42-1.41-1.42 1.41-1.41c1.96-1.96 1.96-5.12 0-7.07zm-2.12 3.53l-7.07 7.07-1.41-1.41 7.07-7.07 1.41 1.41zm-12.02.71l1.42-1.42 1.41 1.42-1.41 1.41c-1.96 1.96-1.96 5.12 0 7.07 1.95 1.96 5.11 1.96 7.07 0l1.41-1.41 1.42 1.41-1.42 1.42c-2.73 2.73-7.16 2.73-9.9 0-2.73-2.74-2.73-7.17 0-9.9z"})})})}),g.jsx("span",{className:rs.copyText,children:e?"Copied!":"Copy link"})]})},GG=({tweet:t})=>{const e=PC(t.favorite_count);return g.jsxs("div",{className:rs.actions,children:[g.jsxs("a",{className:rs.like,href:t.like_url,target:"_blank",rel:"noopener noreferrer","aria-label":`Like. This Tweet has ${e} likes`,children:[g.jsx("div",{className:rs.likeIconWrapper,children:g.jsx("svg",{viewBox:"0 0 24 24",className:rs.likeIcon,"aria-hidden":"true",children:g.jsx("g",{children:g.jsx("path",{d:"M20.884 13.19c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z"})})})}),g.jsx("span",{className:rs.likeCount,children:e})]}),g.jsxs("a",{className:rs.reply,href:t.reply_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Reply to this Tweet on Twitter",children:[g.jsx("div",{className:rs.replyIconWrapper,children:g.jsx("svg",{viewBox:"0 0 24 24",className:rs.replyIcon,"aria-hidden":"true",children:g.jsx("g",{children:g.jsx("path",{d:"M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 8.129 3.64 8.129 8.13 0 2.96-1.607 5.68-4.196 7.11l-8.054 4.46v-3.69h-.067c-4.49.1-8.183-3.51-8.183-8.01z"})})})}),g.jsx("span",{className:rs.replyText,children:"Reply"})]}),g.jsx(VG,{tweet:t})]})},KG="_replies_1cutb_1",YG="_link_1cutb_4",QG="_text_1cutb_23",b1={replies:KG,link:YG,text:QG},JG=({tweet:t})=>g.jsx("div",{className:b1.replies,children:g.jsx("a",{className:b1.link,href:t.url,target:"_blank",rel:"noopener noreferrer",children:g.jsx("span",{className:b1.text,children:t.conversation_count===0?"Read more on X":t.conversation_count===1?`Read ${PC(t.conversation_count)} reply`:`Read ${PC(t.conversation_count)} replies`})})}),ZG="_root_q5799_1",XG="_article_q5799_16",iN={root:ZG,article:XG},eK=({tweet:t,children:e})=>g.jsx("div",{className:iN.root,onClick:n=>{n.preventDefault(),window.open(t.url,"_blank")},children:g.jsx("article",{className:iN.article,children:e})}),tK="_header_r31i5_1",nK="_avatar_r31i5_11",rK="_avatarSquare_r31i5_17",sK="_author_r31i5_21",iK="_authorText_r31i5_26",oK="_username_r31i5_33",cl={header:tK,avatar:nK,avatarSquare:rK,author:sK,authorText:iK,username:oK},aK=({tweet:t})=>{const{user:e}=t;return g.jsxs("div",{className:cl.header,children:[g.jsx("a",{href:t.url,className:cl.avatar,target:"_blank",rel:"noopener noreferrer",children:g.jsx("div",{className:Uc(cl.avatarOverflow,e.profile_image_shape==="Square"&&cl.avatarSquare),children:g.jsx(h8,{src:e.profile_image_url_https,alt:e.name,width:20,height:20})})}),g.jsxs("div",{className:cl.author,children:[g.jsx("div",{className:cl.authorText,children:g.jsx("span",{title:e.name,children:e.name})}),g.jsx(f8,{user:e}),g.jsx("div",{className:cl.username,children:g.jsxs("span",{title:`@${e.screen_name}`,children:["@",e.screen_name]})})]})]})},cK="_root_175ot_1",lK={root:cK},uK=({tweet:t})=>g.jsx("p",{className:lK.root,lang:t.lang,dir:"auto",children:t.entities.map((e,n)=>g.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n))}),dK=({tweet:t})=>{var e;return g.jsxs(eK,{tweet:t,children:[g.jsx(aK,{tweet:t}),g.jsx(uK,{tweet:t}),(e=t.mediaDetails)!=null&&e.length?g.jsx(m8,{quoted:!0,tweet:t}):null]})},hK=({tweet:t,components:e})=>{var n;const r=P.useMemo(()=>sG(t),[t]);return g.jsxs(jA,{children:[g.jsx(MV,{tweet:r,components:e}),r.in_reply_to_status_id_str&&g.jsx(zV,{tweet:r}),g.jsx(KV,{tweet:r}),(n=r.mediaDetails)!=null&&n.length?g.jsx(m8,{tweet:r,components:e}):null,r.quoted_tweet&&g.jsx(dK,{tweet:r.quoted_tweet}),g.jsx(OG,{tweet:r}),g.jsx(GG,{tweet:r}),g.jsx(JG,{tweet:r})]})},fK="_root_16yxa_1",pK={root:fK},gK=t=>g.jsx(jA,{children:g.jsxs("div",{className:pK.root,children:[g.jsx("h3",{children:"Tweet not found"}),g.jsx("p",{children:"The embedded tweet could not be found"})]})}),mK="_skeleton_oi7hr_1",yK={skeleton:mK},by=({style:t})=>g.jsx("span",{className:yK.skeleton,style:t}),wK="_root_17qqv_1",vK={root:wK},bK=()=>g.jsxs(jA,{className:vK.root,children:[g.jsx(by,{style:{height:"3rem",marginBottom:"0.75rem"}}),g.jsx(by,{style:{height:"6rem",margin:"0.5rem 0"}}),g.jsx("div",{style:{borderTop:"var(--tweet-border)",margin:"0.5rem 0"}}),g.jsx(by,{style:{height:"2rem"}}),g.jsx(by,{style:{height:"2rem",borderRadius:"9999px",marginTop:"0.5rem"}})]});var y8={exports:{}},w8={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh=P;function _K(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var EK=typeof Object.is=="function"?Object.is:_K,CK=Eh.useState,xK=Eh.useEffect,SK=Eh.useLayoutEffect,AK=Eh.useDebugValue;function IK(t,e){var n=e(),r=CK({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return SK(function(){s.value=n,s.getSnapshot=e,_1(s)&&i({inst:s})},[t,n,e]),xK(function(){return _1(s)&&i({inst:s}),t(function(){_1(s)&&i({inst:s})})},[t]),AK(n),n}function _1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!EK(t,n)}catch{return!0}}function TK(t,e){return e()}var NK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?TK:IK;w8.useSyncExternalStore=Eh.useSyncExternalStore!==void 0?Eh.useSyncExternalStore:NK;y8.exports=w8;var PK=y8.exports;const v8=0,b8=1,_8=2,oN=3;var aN=Object.prototype.hasOwnProperty;function kC(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&kC(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(aN.call(t,n)&&++r&&!aN.call(e,n)||!(n in e)||!kC(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const Zo=new WeakMap,_c=()=>{},$r=_c(),OC=Object,mt=t=>t===$r,po=t=>typeof t=="function",Yc=(t,e)=>({...t,...e}),E8=t=>po(t.then),E1={},_y={},UA="undefined",_m=typeof window!=UA,RC=typeof document!=UA,kK=_m&&"Deno"in window,OK=()=>_m&&typeof window.requestAnimationFrame!=UA,C8=(t,e)=>{const n=Zo.get(t);return[()=>!mt(e)&&t.get(e)||E1,r=>{if(!mt(e)){const s=t.get(e);e in _y||(_y[e]=s),n[5](e,Yc(s,r),s||E1)}},n[6],()=>!mt(e)&&e in _y?_y[e]:!mt(e)&&t.get(e)||E1]};let $C=!0;const RK=()=>$C,[DC,jC]=_m&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[_c,_c],$K=()=>{const t=RC&&document.visibilityState;return mt(t)||t!=="hidden"},DK=t=>(RC&&document.addEventListener("visibilitychange",t),DC("focus",t),()=>{RC&&document.removeEventListener("visibilitychange",t),jC("focus",t)}),jK=t=>{const e=()=>{$C=!0,t()},n=()=>{$C=!1};return DC("online",e),DC("offline",n),()=>{jC("online",e),jC("offline",n)}},UK={isOnline:RK,isVisible:$K},LK={initFocus:DK,initReconnect:jK},cN=!Ps.useId,Eg=!_m||kK,MK=t=>OK()?window.requestAnimationFrame(t):setTimeout(t,1),C1=Eg?P.useEffect:P.useLayoutEffect,x1=typeof navigator<"u"&&navigator.connection,lN=!Eg&&x1&&(["slow-2g","2g"].includes(x1.effectiveType)||x1.saveData),Ey=new WeakMap,S1=(t,e)=>OC.prototype.toString.call(t)===`[object ${e}]`;let BK=0;const UC=t=>{const e=typeof t,n=S1(t,"Date"),r=S1(t,"RegExp"),s=S1(t,"Object");let i,o;if(OC(t)===t&&!n&&!r){if(i=Ey.get(t),i)return i;if(i=++BK+"~",Ey.set(t,i),Array.isArray(t)){for(i="@",o=0;o<t.length;o++)i+=UC(t[o])+",";Ey.set(t,i)}if(s){i="#";const a=OC.keys(t).sort();for(;!mt(o=a.pop());)mt(t[o])||(i+=o+":"+UC(t[o])+",");Ey.set(t,i)}}else i=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},LA=t=>{if(po(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?UC(t):"",[t,e]};let FK=0;const LC=()=>++FK;async function x8(...t){const[e,n,r,s]=t,i=Yc({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let o=i.populateCache;const a=i.rollbackOnError;let c=i.optimisticData;const l=h=>typeof a=="function"?a(h):a!==!1,u=i.throwOnError;if(po(n)){const h=n,f=[],p=e.keys();for(const m of p)!/^\$(inf|sub)\$/.test(m)&&h(e.get(m)._k)&&f.push(m);return Promise.all(f.map(d))}return d(n);async function d(h){const[f]=LA(h);if(!f)return;const[p,m]=C8(e,f),[y,w,v,b]=Zo.get(e),E=()=>{const F=y[f];return(po(i.revalidate)?i.revalidate(p().data,h):i.revalidate!==!1)&&(delete v[f],delete b[f],F&&F[0])?F[0](_8).then(()=>p().data):p().data};if(t.length<3)return E();let _=r,x;const S=LC();w[f]=[S,0];const A=!mt(c),C=p(),k=C.data,O=C._c,B=mt(O)?k:O;if(A&&(c=po(c)?c(B,k):c,m({data:c,_c:B})),po(_))try{_=_(B)}catch(F){x=F}if(_&&E8(_))if(_=await _.catch(F=>{x=F}),S!==w[f][0]){if(x)throw x;return _}else x&&A&&l(x)&&(o=!0,m({data:B,_c:$r}));if(o&&!x)if(po(o)){const F=o(_,B);m({data:F,error:$r,_c:$r})}else m({data:_,error:$r,_c:$r});if(w[f][1]=LC(),Promise.resolve(E()).then(()=>{m({_c:$r})}),x){if(u)throw x;return}return _}}const uN=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},zK=(t,e)=>{if(!Zo.has(t)){const n=Yc(LK,e),r=Object.create(null),s=x8.bind($r,t);let i=_c;const o=Object.create(null),a=(u,d)=>{const h=o[u]||[];return o[u]=h,h.push(d),()=>h.splice(h.indexOf(d),1)},c=(u,d,h)=>{t.set(u,d);const f=o[u];if(f)for(const p of f)p(d,h)},l=()=>{if(!Zo.has(t)&&(Zo.set(t,[r,Object.create(null),Object.create(null),Object.create(null),s,c,a]),!Eg)){const u=n.initFocus(setTimeout.bind($r,uN.bind($r,r,v8))),d=n.initReconnect(setTimeout.bind($r,uN.bind($r,r,b8)));i=()=>{u&&u(),d&&d(),Zo.delete(t)}}};return l(),[t,s,l,i]}return[t,Zo.get(t)[4]]},qK=(t,e,n,r,s)=>{const i=n.errorRetryCount,o=s.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!mt(i)&&o>i||setTimeout(r,a,s)},WK=kC,[S8,HK]=zK(new Map),VK=Yc({onLoadingSlow:_c,onSuccess:_c,onError:_c,onErrorRetry:qK,onDiscarded:_c,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:lN?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:lN?5e3:3e3,compare:WK,isPaused:()=>!1,cache:S8,mutate:HK,fallback:{}},UK),GK=(t,e)=>{const n=Yc(t,e);if(e){const{use:r,fallback:s}=t,{use:i,fallback:o}=e;r&&i&&(n.use=r.concat(i)),s&&o&&(n.fallback=Yc(s,o))}return n},KK=P.createContext({}),YK="$inf$",A8=_m&&window.__SWR_DEVTOOLS_USE__,QK=A8?window.__SWR_DEVTOOLS_USE__:[],JK=()=>{A8&&(window.__SWR_DEVTOOLS_REACT__=Ps)},ZK=t=>po(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],XK=()=>Yc(VK,P.useContext(KK)),eY=t=>(e,n,r)=>t(e,n&&((...i)=>{const[o]=LA(e),[,,,a]=Zo.get(S8);if(o.startsWith(YK))return n(...i);const c=a[o];return mt(c)?n(...i):(delete a[o],c)}),r),tY=QK.concat(eY),nY=t=>function(...n){const r=XK(),[s,i,o]=ZK(n),a=GK(r,o);let c=t;const{use:l}=a,u=(l||[]).concat(tY);for(let d=u.length;d--;)c=u[d](c);return c(s,i||a.fetcher||null,a)},rY=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}};JK();const A1=Ps.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),I1={dedupe:!0},sY=(t,e,n)=>{const{cache:r,compare:s,suspense:i,fallbackData:o,revalidateOnMount:a,revalidateIfStale:c,refreshInterval:l,refreshWhenHidden:u,refreshWhenOffline:d,keepPreviousData:h}=n,[f,p,m,y]=Zo.get(r),[w,v]=LA(t),b=P.useRef(!1),E=P.useRef(!1),_=P.useRef(w),x=P.useRef(e),S=P.useRef(n),A=()=>S.current,C=()=>A().isVisible()&&A().isOnline(),[k,O,B,F]=C8(r,w),H=P.useRef({}).current,N=mt(o)?mt(n.fallback)?$r:n.fallback[w]:o,T=(Te,Ce)=>{for(const Ue in H){const Qe=Ue;if(Qe==="data"){if(!s(Te[Qe],Ce[Qe])&&(!mt(Te[Qe])||!s(ie,Ce[Qe])))return!1}else if(Ce[Qe]!==Te[Qe])return!1}return!0},U=P.useMemo(()=>{const Te=!w||!e?!1:mt(a)?A().isPaused()||i?!1:c!==!1:a,Ce=ct=>{const wt=Yc(ct);return delete wt._k,Te?{isValidating:!0,isLoading:!0,...wt}:wt},Ue=k(),Qe=F(),At=Ce(Ue),yn=Ue===Qe?At:Ce(Qe);let It=At;return[()=>{const ct=Ce(k());return T(ct,It)?(It.data=ct.data,It.isLoading=ct.isLoading,It.isValidating=ct.isValidating,It.error=ct.error,It):(It=ct,ct)},()=>yn]},[r,w]),D=PK.useSyncExternalStore(P.useCallback(Te=>B(w,(Ce,Ue)=>{T(Ue,Ce)||Te()}),[r,w]),U[0],U[1]),$=!b.current,L=f[w]&&f[w].length>0,q=D.data,J=mt(q)?N&&E8(N)?A1(N):N:q,re=D.error,ne=P.useRef(J),ie=h?mt(q)?mt(ne.current)?J:ne.current:q:J,me=L&&!mt(re)?!1:$&&!mt(a)?a:A().isPaused()?!1:i?mt(J)?!1:c:mt(J)||c,K=!!(w&&e&&$&&me),X=mt(D.isValidating)?K:D.isValidating,se=mt(D.isLoading)?K:D.isLoading,te=P.useCallback(async Te=>{const Ce=x.current;if(!w||!Ce||E.current||A().isPaused())return!1;let Ue,Qe,At=!0;const yn=Te||{},It=!m[w]||!yn.dedupe,ct=()=>cN?!E.current&&w===_.current&&b.current:w===_.current,wt={isValidating:!1,isLoading:!1},Kn=()=>{O(wt)},Hi=()=>{const In=m[w];In&&In[1]===Qe&&delete m[w]},Vi={isValidating:!0};mt(k().data)&&(Vi.isLoading=!0);try{if(It&&(O(Vi),n.loadingTimeout&&mt(k().data)&&setTimeout(()=>{At&&ct()&&A().onLoadingSlow(w,n)},n.loadingTimeout),m[w]=[Ce(v),LC()]),[Ue,Qe]=m[w],Ue=await Ue,It&&setTimeout(Hi,n.dedupingInterval),!m[w]||m[w][1]!==Qe)return It&&ct()&&A().onDiscarded(w),!1;wt.error=$r;const In=p[w];if(!mt(In)&&(Qe<=In[0]||Qe<=In[1]||In[1]===0))return Kn(),It&&ct()&&A().onDiscarded(w),!1;const Yn=k().data;wt.data=s(Yn,Ue)?Yn:Ue,It&&ct()&&A().onSuccess(Ue,w,n)}catch(In){Hi();const Yn=A(),{shouldRetryOnError:Gi}=Yn;Yn.isPaused()||(wt.error=In,It&&ct()&&(Yn.onError(In,w,Yn),(Gi===!0||po(Gi)&&Gi(In))&&(!A().revalidateOnFocus||!A().revalidateOnReconnect||C())&&Yn.onErrorRetry(In,w,Yn,Ea=>{const Ki=f[w];Ki&&Ki[0]&&Ki[0](oN,Ea)},{retryCount:(yn.retryCount||0)+1,dedupe:!0})))}return At=!1,Kn(),!0},[w,r]),he=P.useCallback((...Te)=>x8(r,_.current,...Te),[]);if(C1(()=>{x.current=e,S.current=n,mt(q)||(ne.current=q)}),C1(()=>{if(!w)return;const Te=te.bind($r,I1);let Ce=0;A().revalidateOnFocus&&(Ce=Date.now()+A().focusThrottleInterval);const Qe=rY(w,f,(At,yn={})=>{if(At==v8){const It=Date.now();A().revalidateOnFocus&&It>Ce&&C()&&(Ce=It+A().focusThrottleInterval,Te())}else if(At==b8)A().revalidateOnReconnect&&C()&&Te();else{if(At==_8)return te();if(At==oN)return te(yn)}});return E.current=!1,_.current=w,b.current=!0,O({_k:v}),me&&(mt(J)||Eg?Te():MK(Te)),()=>{E.current=!0,Qe()}},[w]),C1(()=>{let Te;function Ce(){const Qe=po(l)?l(k().data):l;Qe&&Te!==-1&&(Te=setTimeout(Ue,Qe))}function Ue(){!k().error&&(u||A().isVisible())&&(d||A().isOnline())?te(I1).then(Ce):Ce()}return Ce(),()=>{Te&&(clearTimeout(Te),Te=-1)}},[l,u,d,w]),P.useDebugValue(ie),i&&mt(J)&&w){if(!cN&&Eg)throw new Error("Fallback data is required when using Suspense in SSR.");x.current=e,S.current=n,E.current=!1;const Te=y[w];if(!mt(Te)){const Ce=he(Te);A1(Ce)}if(mt(re)){const Ce=te(I1);mt(ie)||(Ce.status="fulfilled",Ce.value=!0),A1(Ce)}else throw re}return{mutate:he,get data(){return H.data=!0,ie},get error(){return H.error=!0,re},get isValidating(){return H.isValidating=!0,X},get isLoading(){return H.isLoading=!0,se}}},dN=nY(sY);class iY extends Error{constructor({message:e,status:n,data:r}){super(e),this.name="TwitterApiError",this.status=n,this.data=r}}const oY=dN.default||dN,aY="https://react-tweet.vercel.app";async function cY([t,e]){const n=await fetch(t,e),r=await n.json();if(n.ok)return r.data||null;throw new iY({message:`Failed to fetch tweet at "${t}" with "${n.status}".`,data:r,status:n.status})}const lY=(t,e,n)=>{const{isLoading:r,data:s,error:i}=oY(()=>e||t?[e||t&&`${aY}/api/tweet/${t}`,n]:null,cY,{revalidateIfStale:!1,revalidateOnFocus:!1,shouldRetryOnError:!1});return{isLoading:!!(r||s===void 0&&!i),data:s,error:i}},uY=({id:t,apiUrl:e,fallback:n=g.jsx(bK,{}),components:r,fetchOptions:s,onError:i})=>{const{data:o,error:a,isLoading:c}=lY(t,e,s);if(c)return n;if(a||!o){const l=(r==null?void 0:r.TweetNotFound)||gK;return g.jsx(l,{error:i?i(a):a})}return g.jsx(hK,{tweet:o,components:r})};var Av={exports:{}},I8={},T8={exports:{}},dY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hY=dY,fY=hY;function N8(){}function P8(){}P8.resetWarningCache=N8;var pY=function(){function t(r,s,i,o,a,c){if(c!==fY){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:P8,resetWarningCache:N8};return n.PropTypes=n,n};T8.exports=pY();var k8=T8.exports;function O8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=O8(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function hN(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=O8(t))&&(r&&(r+=" "),r+=e);return r}const gY=Object.freeze(Object.defineProperty({__proto__:null,clsx:hN,default:hN},Symbol.toStringTag,{value:"Module"})),mY=Q0(gY);var mn={},Io={};Object.defineProperty(Io,"__esModule",{value:!0});Io.dontSetMe=_Y;Io.findInArray=yY;Io.int=bY;Io.isFunction=wY;Io.isNum=vY;function yY(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function wY(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function vY(t){return typeof t=="number"&&!isNaN(t)}function bY(t){return parseInt(t,10)}function _Y(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.browserPrefixToKey=$8;Iu.browserPrefixToStyle=EY;Iu.default=void 0;Iu.getPrefix=R8;const T1=["Moz","Webkit","O","ms"];function R8(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<T1.length;r++)if($8(e,T1[r])in n)return T1[r];return""}function $8(t,e){return e?"".concat(e).concat(CY(t)):t}function EY(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function CY(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}Iu.default=R8();Object.defineProperty(mn,"__esModule",{value:!0});mn.addClassName=U8;mn.addEvent=AY;mn.addUserSelectStyles=UY;mn.createCSSTransform=RY;mn.createSVGTransform=$Y;mn.getTouch=DY;mn.getTouchIdentifier=jY;mn.getTranslation=MA;mn.innerHeight=PY;mn.innerWidth=kY;mn.matchesSelector=j8;mn.matchesSelectorAndParentsTo=SY;mn.offsetXYFromParent=OY;mn.outerHeight=TY;mn.outerWidth=NY;mn.removeClassName=L8;mn.removeEvent=IY;mn.removeUserSelectStyles=LY;var Rs=Io,fN=xY(Iu);function D8(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(D8=function(r){return r?n:e})(t)}function xY(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=D8(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}let Cy="";function j8(t,e){return Cy||(Cy=(0,Rs.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Rs.isFunction)(t[n])})),(0,Rs.isFunction)(t[Cy])?t[Cy](e):!1}function SY(t,e,n){let r=t;do{if(j8(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function AY(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,s):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function IY(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,s):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function TY(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Rs.int)(n.borderTopWidth),e+=(0,Rs.int)(n.borderBottomWidth),e}function NY(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Rs.int)(n.borderLeftWidth),e+=(0,Rs.int)(n.borderRightWidth),e}function PY(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Rs.int)(n.paddingTop),e-=(0,Rs.int)(n.paddingBottom),e}function kY(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Rs.int)(n.paddingLeft),e-=(0,Rs.int)(n.paddingRight),e}function OY(t,e,n){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),i=(t.clientX+e.scrollLeft-s.left)/n,o=(t.clientY+e.scrollTop-s.top)/n;return{x:i,y:o}}function RY(t,e){const n=MA(t,e,"px");return{[(0,fN.browserPrefixToKey)("transform",fN.default)]:n}}function $Y(t,e){return MA(t,e,"")}function MA(t,e,n){let{x:r,y:s}=t,i="translate(".concat(r).concat(n,",").concat(s).concat(n,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);i="translate(".concat(o,", ").concat(a,")")+i}return i}function DY(t,e){return t.targetTouches&&(0,Rs.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Rs.findInArray)(t.changedTouches,n=>e===n.identifier)}function jY(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function UY(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&U8(t.body,"react-draggable-transparent-selection")}function LY(t){if(t)try{if(t.body&&L8(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function U8(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function L8(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var To={};Object.defineProperty(To,"__esModule",{value:!0});To.canDragX=FY;To.canDragY=zY;To.createCoreData=WY;To.createDraggableData=HY;To.getBoundPosition=MY;To.getControlPosition=qY;To.snapToGrid=BY;var Es=Io,Dd=mn;function MY(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:VY(r);const s=BA(t);if(typeof r=="string"){const{ownerDocument:i}=s,o=i.defaultView;let a;if(r==="parent"?a=s.parentNode:a=i.querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=a,l=o.getComputedStyle(s),u=o.getComputedStyle(c);r={left:-s.offsetLeft+(0,Es.int)(u.paddingLeft)+(0,Es.int)(l.marginLeft),top:-s.offsetTop+(0,Es.int)(u.paddingTop)+(0,Es.int)(l.marginTop),right:(0,Dd.innerWidth)(c)-(0,Dd.outerWidth)(s)-s.offsetLeft+(0,Es.int)(u.paddingRight)-(0,Es.int)(l.marginRight),bottom:(0,Dd.innerHeight)(c)-(0,Dd.outerHeight)(s)-s.offsetTop+(0,Es.int)(u.paddingBottom)-(0,Es.int)(l.marginBottom)}}return(0,Es.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Es.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Es.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Es.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function BY(t,e,n){const r=Math.round(e/t[0])*t[0],s=Math.round(n/t[1])*t[1];return[r,s]}function FY(t){return t.props.axis==="both"||t.props.axis==="x"}function zY(t){return t.props.axis==="both"||t.props.axis==="y"}function qY(t,e,n){const r=typeof e=="number"?(0,Dd.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const s=BA(n),i=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,Dd.offsetXYFromParent)(r||t,i,n.props.scale)}function WY(t,e,n){const r=!(0,Es.isNum)(t.lastX),s=BA(t);return r?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function HY(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function VY(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function BA(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var Iv={},Tv={};Object.defineProperty(Tv,"__esModule",{value:!0});Tv.default=GY;function GY(){}Object.defineProperty(Iv,"__esModule",{value:!0});Iv.default=void 0;var N1=YY(P),Wr=FA(k8),KY=FA(oA),mr=mn,Ia=To,P1=Io,vf=FA(Tv);function FA(t){return t&&t.__esModule?t:{default:t}}function M8(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(M8=function(r){return r?n:e})(t)}function YY(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=M8(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function Nr(t,e,n){return e=QY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QY(t){var e=JY(t,"string");return typeof e=="symbol"?e:String(e)}function JY(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const yi={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Ta=yi.mouse,Nv=class extends N1.Component{constructor(){super(...arguments),Nr(this,"dragging",!1),Nr(this,"lastX",NaN),Nr(this,"lastY",NaN),Nr(this,"touchIdentifier",null),Nr(this,"mounted",!1),Nr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,mr.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,mr.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const s=(0,mr.getTouchIdentifier)(e);this.touchIdentifier=s;const i=(0,Ia.getControlPosition)(e,s,this);if(i==null)return;const{x:o,y:a}=i,c=(0,Ia.createCoreData)(this,o,a);(0,vf.default)("DraggableCore: handleDragStart: %j",c),(0,vf.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,mr.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,mr.addEvent)(r,Ta.move,this.handleDrag),(0,mr.addEvent)(r,Ta.stop,this.handleDragStop))}),Nr(this,"handleDrag",e=>{const n=(0,Ia.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,c=s-this.lastY;if([a,c]=(0,Ia.snapToGrid)(this.props.grid,a,c),!a&&!c)return;r=this.lastX+a,s=this.lastY+c}const i=(0,Ia.createCoreData)(this,r,s);if((0,vf.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(e,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=s}),Nr(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Ia.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,l=s-this.lastY||0;[c,l]=(0,Ia.snapToGrid)(this.props.grid,c,l),r=this.lastX+c,s=this.lastY+l}const i=(0,Ia.createCoreData)(this,r,s);if(this.props.onStop(e,i)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,mr.removeUserSelectStyles)(a.ownerDocument),(0,vf.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,vf.default)("DraggableCore: Removing handlers"),(0,mr.removeEvent)(a.ownerDocument,Ta.move,this.handleDrag),(0,mr.removeEvent)(a.ownerDocument,Ta.stop,this.handleDragStop))}),Nr(this,"onMouseDown",e=>(Ta=yi.mouse,this.handleDragStart(e))),Nr(this,"onMouseUp",e=>(Ta=yi.mouse,this.handleDragStop(e))),Nr(this,"onTouchStart",e=>(Ta=yi.touch,this.handleDragStart(e))),Nr(this,"onTouchEnd",e=>(Ta=yi.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,mr.addEvent)(e,yi.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,mr.removeEvent)(n,yi.mouse.move,this.handleDrag),(0,mr.removeEvent)(n,yi.touch.move,this.handleDrag),(0,mr.removeEvent)(n,yi.mouse.stop,this.handleDragStop),(0,mr.removeEvent)(n,yi.touch.stop,this.handleDragStop),(0,mr.removeEvent)(e,yi.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,mr.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:KY.default.findDOMNode(this)}render(){return N1.cloneElement(N1.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Iv.default=Nv;Nr(Nv,"displayName","DraggableCore");Nr(Nv,"propTypes",{allowAnyClick:Wr.default.bool,children:Wr.default.node.isRequired,disabled:Wr.default.bool,enableUserSelectHack:Wr.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Wr.default.arrayOf(Wr.default.number),handle:Wr.default.string,cancel:Wr.default.string,nodeRef:Wr.default.object,onStart:Wr.default.func,onDrag:Wr.default.func,onStop:Wr.default.func,onMouseDown:Wr.default.func,scale:Wr.default.number,className:P1.dontSetMe,style:P1.dontSetMe,transform:P1.dontSetMe});Nr(Nv,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=h(P),n=u(k8),r=u(oA),s=u(mY),i=mn,o=To,a=Io,c=u(Iv),l=u(Tv);function u(v){return v&&v.__esModule?v:{default:v}}function d(v){if(typeof WeakMap!="function")return null;var b=new WeakMap,E=new WeakMap;return(d=function(_){return _?E:b})(v)}function h(v,b){if(v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var E=d(b);if(E&&E.has(v))return E.get(v);var _={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in v)if(S!=="default"&&Object.prototype.hasOwnProperty.call(v,S)){var A=x?Object.getOwnPropertyDescriptor(v,S):null;A&&(A.get||A.set)?Object.defineProperty(_,S,A):_[S]=v[S]}return _.default=v,E&&E.set(v,_),_}function f(){return f=Object.assign?Object.assign.bind():function(v){for(var b=1;b<arguments.length;b++){var E=arguments[b];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(v[_]=E[_])}return v},f.apply(this,arguments)}function p(v,b,E){return b=m(b),b in v?Object.defineProperty(v,b,{value:E,enumerable:!0,configurable:!0,writable:!0}):v[b]=E,v}function m(v){var b=y(v,"string");return typeof b=="symbol"?b:String(b)}function y(v,b){if(typeof v!="object"||v===null)return v;var E=v[Symbol.toPrimitive];if(E!==void 0){var _=E.call(v,b);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(v)}class w extends e.Component{static getDerivedStateFromProps(b,E){let{position:_}=b,{prevPropsPosition:x}=E;return _&&(!x||_.x!==x.x||_.y!==x.y)?((0,l.default)("Draggable: getDerivedStateFromProps %j",{position:_,prevPropsPosition:x}),{x:_.x,y:_.y,prevPropsPosition:{..._}}):null}constructor(b){super(b),p(this,"onDragStart",(E,_)=>{if((0,l.default)("Draggable: onDragStart: %j",_),this.props.onStart(E,(0,o.createDraggableData)(this,_))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(E,_)=>{if(!this.state.dragging)return!1;(0,l.default)("Draggable: onDrag: %j",_);const x=(0,o.createDraggableData)(this,_),S={x:x.x,y:x.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:k}=S;S.x+=this.state.slackX,S.y+=this.state.slackY;const[O,B]=(0,o.getBoundPosition)(this,S.x,S.y);S.x=O,S.y=B,S.slackX=this.state.slackX+(C-S.x),S.slackY=this.state.slackY+(k-S.y),x.x=S.x,x.y=S.y,x.deltaX=S.x-this.state.x,x.deltaY=S.y-this.state.y}if(this.props.onDrag(E,x)===!1)return!1;this.setState(S)}),p(this,"onDragStop",(E,_)=>{if(!this.state.dragging||this.props.onStop(E,(0,o.createDraggableData)(this,_))===!1)return!1;(0,l.default)("Draggable: onDragStop: %j",_);const S={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:k}=this.props.position;S.x=C,S.y=k}this.setState(S)}),this.state={dragging:!1,dragged:!1,x:b.position?b.position.x:b.defaultPosition.x,y:b.position?b.position.y:b.defaultPosition.y,prevPropsPosition:{...b.position},slackX:0,slackY:0,isElementSVG:!1},b.position&&!(b.onDrag||b.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var b,E;return(b=(E=this.props)===null||E===void 0||(E=E.nodeRef)===null||E===void 0?void 0:E.current)!==null&&b!==void 0?b:r.default.findDOMNode(this)}render(){const{axis:b,bounds:E,children:_,defaultPosition:x,defaultClassName:S,defaultClassNameDragging:A,defaultClassNameDragged:C,position:k,positionOffset:O,scale:B,...F}=this.props;let H={},N=null;const U=!!!k||this.state.dragging,D=k||x,$={x:(0,o.canDragX)(this)&&U?this.state.x:D.x,y:(0,o.canDragY)(this)&&U?this.state.y:D.y};this.state.isElementSVG?N=(0,i.createSVGTransform)($,O):H=(0,i.createCSSTransform)($,O);const L=(0,s.default)(_.props.className||"",S,{[A]:this.state.dragging,[C]:this.state.dragged});return e.createElement(c.default,f({},F,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(_),{className:L,style:{..._.props.style,...H},transform:N}))}}t.default=w,p(w,"displayName","Draggable"),p(w,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),p(w,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(I8);const{default:B8,DraggableCore:ZY}=I8;Av.exports=B8;Av.exports.default=B8;Av.exports.DraggableCore=ZY;var XY=Av.exports;const Em=Cu(XY);function ln(){return ln=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ln.apply(null,arguments)}function F8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var z8={exports:{}},Mt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gn=typeof Symbol=="function"&&Symbol.for,zA=Gn?Symbol.for("react.element"):60103,qA=Gn?Symbol.for("react.portal"):60106,Pv=Gn?Symbol.for("react.fragment"):60107,kv=Gn?Symbol.for("react.strict_mode"):60108,Ov=Gn?Symbol.for("react.profiler"):60114,Rv=Gn?Symbol.for("react.provider"):60109,$v=Gn?Symbol.for("react.context"):60110,WA=Gn?Symbol.for("react.async_mode"):60111,Dv=Gn?Symbol.for("react.concurrent_mode"):60111,jv=Gn?Symbol.for("react.forward_ref"):60112,Uv=Gn?Symbol.for("react.suspense"):60113,eQ=Gn?Symbol.for("react.suspense_list"):60120,Lv=Gn?Symbol.for("react.memo"):60115,Mv=Gn?Symbol.for("react.lazy"):60116,tQ=Gn?Symbol.for("react.block"):60121,nQ=Gn?Symbol.for("react.fundamental"):60117,rQ=Gn?Symbol.for("react.responder"):60118,sQ=Gn?Symbol.for("react.scope"):60119;function Ms(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case zA:switch(t=t.type,t){case WA:case Dv:case Pv:case Ov:case kv:case Uv:return t;default:switch(t=t&&t.$$typeof,t){case $v:case jv:case Mv:case Lv:case Rv:return t;default:return e}}case qA:return e}}}function q8(t){return Ms(t)===Dv}Mt.AsyncMode=WA;Mt.ConcurrentMode=Dv;Mt.ContextConsumer=$v;Mt.ContextProvider=Rv;Mt.Element=zA;Mt.ForwardRef=jv;Mt.Fragment=Pv;Mt.Lazy=Mv;Mt.Memo=Lv;Mt.Portal=qA;Mt.Profiler=Ov;Mt.StrictMode=kv;Mt.Suspense=Uv;Mt.isAsyncMode=function(t){return q8(t)||Ms(t)===WA};Mt.isConcurrentMode=q8;Mt.isContextConsumer=function(t){return Ms(t)===$v};Mt.isContextProvider=function(t){return Ms(t)===Rv};Mt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===zA};Mt.isForwardRef=function(t){return Ms(t)===jv};Mt.isFragment=function(t){return Ms(t)===Pv};Mt.isLazy=function(t){return Ms(t)===Mv};Mt.isMemo=function(t){return Ms(t)===Lv};Mt.isPortal=function(t){return Ms(t)===qA};Mt.isProfiler=function(t){return Ms(t)===Ov};Mt.isStrictMode=function(t){return Ms(t)===kv};Mt.isSuspense=function(t){return Ms(t)===Uv};Mt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Pv||t===Dv||t===Ov||t===kv||t===Uv||t===eQ||typeof t=="object"&&t!==null&&(t.$$typeof===Mv||t.$$typeof===Lv||t.$$typeof===Rv||t.$$typeof===$v||t.$$typeof===jv||t.$$typeof===nQ||t.$$typeof===rQ||t.$$typeof===sQ||t.$$typeof===tQ)};Mt.typeOf=Ms;z8.exports=Mt;var iQ=z8.exports,HA=iQ,oQ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},aQ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},cQ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},W8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},VA={};VA[HA.ForwardRef]=cQ;VA[HA.Memo]=W8;function pN(t){return HA.isMemo(t)?W8:VA[t.$$typeof]||oQ}var lQ=Object.defineProperty,uQ=Object.getOwnPropertyNames,gN=Object.getOwnPropertySymbols,dQ=Object.getOwnPropertyDescriptor,hQ=Object.getPrototypeOf,mN=Object.prototype;function H8(t,e,n){if(typeof e!="string"){if(mN){var r=hQ(e);r&&r!==mN&&H8(t,r,n)}var s=uQ(e);gN&&(s=s.concat(gN(e)));for(var i=pN(t),o=pN(e),a=0;a<s.length;++a){var c=s[a];if(!aQ[c]&&!(n&&n[c])&&!(o&&o[c])&&!(i&&i[c])){var l=dQ(e,c);try{lQ(t,c,l)}catch{}}}}return t}var fQ=H8;const pQ=Cu(fQ);var V8={};Object.defineProperty(V8,"__esModule",{value:!0});V8.default=gQ;function gQ(t){return t.displayName||t.name||(typeof t=="string"&&t.length>0?t:"Unknown")}function xy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b0(){return b0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b0.apply(this,arguments)}function mQ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Na(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yQ(t){var e=function(n){mQ(r,n);function r(){for(var i,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return i=n.call.apply(n,[this].concat(a))||this,xy(Na(Na(i)),"cachedTheme",void 0),xy(Na(Na(i)),"lastOuterTheme",void 0),xy(Na(Na(i)),"lastTheme",void 0),xy(Na(Na(i)),"renderProvider",function(l){var u=i.props.children;return Ps.createElement(t.Provider,{value:i.getTheme(l)},u)}),i}var s=r.prototype;return s.getTheme=function(o){if(this.props.theme!==this.lastTheme||o!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=o,this.lastTheme=this.props.theme,typeof this.lastTheme=="function"){var a=this.props.theme;this.cachedTheme=a(o)}else{var c=this.props.theme;this.cachedTheme=o?b0({},o,c):c}return this.cachedTheme},s.render=function(){var o=this.props.children;return o?Ps.createElement(t.Consumer,null,this.renderProvider):null},r}(Ps.Component);return e}function wQ(t){return function(n){var r=Ps.forwardRef(function(s,i){return Ps.createElement(t.Consumer,null,function(o){return Ps.createElement(n,b0({theme:o,ref:i},s))})});return pQ(r,n),r}}function vQ(t){var e=function(){var r=Ps.useContext(t);return r};return e}function bQ(t){return{context:t,withTheme:wQ(t),useTheme:vQ(t),ThemeProvider:yQ(t)}}var G8=P.createContext();bQ(G8);var yN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh=(typeof window>"u"?"undefined":yN(window))==="object"&&(typeof document>"u"?"undefined":yN(document))==="object"&&document.nodeType===9;function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function _Q(t,e){if(Cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function EQ(t){var e=_Q(t,"string");return Cg(e)=="symbol"?e:e+""}function CQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EQ(r.key),r)}}function GA(t,e,n){return e&&CQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MC(t,e){return MC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},MC(t,e)}function K8(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,MC(t,e)}function wN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var xQ={}.constructor;function BC(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(BC);if(t.constructor!==xQ)return t;var e={};for(var n in t)e[n]=BC(t[n]);return e}function Bv(t,e,n){t===void 0&&(t="unnamed");var r=n.jss,s=BC(e),i=r.plugins.onCreateRule(t,s,n);return i||(t[0],null)}var vN=function(e,n){for(var r="",s=0;s<e.length&&e[s]!=="!important";s++)r&&(r+=n),r+=e[s];return r},Yl=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)n&&(n+=", "),n+=vN(e[r]," ");else n=vN(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function zh(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function bf(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function xg(t,e,n){n===void 0&&(n={});var r="";if(!e)return r;var s=n,i=s.indent,o=i===void 0?0:i,a=e.fallbacks;n.format===!1&&(o=-1/0);var c=zh(n),l=c.linebreak,u=c.space;if(t&&o++,a)if(Array.isArray(a))for(var d=0;d<a.length;d++){var h=a[d];for(var f in h){var p=h[f];p!=null&&(r&&(r+=l),r+=bf(f+":"+u+Yl(p)+";",o))}}else for(var m in a){var y=a[m];y!=null&&(r&&(r+=l),r+=bf(m+":"+u+Yl(y)+";",o))}for(var w in e){var v=e[w];v!=null&&w!=="fallbacks"&&(r&&(r+=l),r+=bf(w+":"+u+Yl(v)+";",o))}return!r&&!n.allowEmpty||!t?r:(o--,r&&(r=""+l+r+l),bf(""+t+u+"{"+r,o)+bf("}",o))}var SQ=/([[\].#*$><+~=|^:(),"'`\s])/g,bN=typeof CSS<"u"&&CSS.escape,KA=function(t){return bN?bN(t):t.replace(SQ,"\\$1")},Y8=function(){function t(n,r,s){this.type="style",this.isProcessed=!1;var i=s.sheet,o=s.Renderer;this.key=n,this.options=s,this.style=r,i?this.renderer=i.renderer:o&&(this.renderer=new o)}var e=t.prototype;return e.prop=function(r,s,i){if(s===void 0)return this.style[r];var o=i?i.force:!1;if(!o&&this.style[r]===s)return this;var a=s;(!i||i.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(s,r,this));var c=a==null||a===!1,l=r in this.style;if(c&&!l&&!o)return this;var u=c&&l;if(u?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var d=this.options.sheet;return d&&d.attached,this},t}(),FC=function(t){K8(e,t);function e(r,s,i){var o;o=t.call(this,r,s,i)||this;var a=i.selector,c=i.scoped,l=i.sheet,u=i.generateId;return a?o.selectorText=a:c!==!1&&(o.id=u(wN(wN(o)),l),o.selectorText="."+KA(o.id)),o}var n=e.prototype;return n.applyTo=function(s){var i=this.renderer;if(i){var o=this.toJSON();for(var a in o)i.setProperty(s,a,o[a])}return this},n.toJSON=function(){var s={};for(var i in this.style){var o=this.style[i];typeof o!="object"?s[i]=o:Array.isArray(o)&&(s[i]=Yl(o))}return s},n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?ln({},s,{allowEmpty:!0}):s;return xg(this.selectorText,this.style,a)},GA(e,[{key:"selector",set:function(s){if(s!==this.selectorText){this.selectorText=s;var i=this.renderer,o=this.renderable;if(!(!o||!i)){var a=i.setSelector(o,s);a||i.replaceRule(o,this)}}},get:function(){return this.selectorText}}]),e}(Y8),AQ={onCreateRule:function(e,n,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new FC(e,n,r)}},k1={indent:1,children:!0},IQ=/@([\w-]+)/,TQ=function(){function t(n,r,s){this.type="conditional",this.isProcessed=!1,this.key=n;var i=n.match(IQ);this.at=i?i[1]:"unknown",this.query=s.name||"@"+this.at,this.options=s,this.rules=new Fv(ln({},s,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o?(this.options.jss.plugins.onProcessRule(o),o):null},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.toString=function(r){r===void 0&&(r=k1);var s=zh(r),i=s.linebreak;if(r.indent==null&&(r.indent=k1.indent),r.children==null&&(r.children=k1.children),r.children===!1)return this.query+" {}";var o=this.rules.toString(r);return o?this.query+" {"+i+o+i+"}":""},t}(),NQ=/@container|@media|@supports\s+/,PQ={onCreateRule:function(e,n,r){return NQ.test(e)?new TQ(e,n,r):null}},O1={indent:1,children:!0},kQ=/@keyframes\s+([\w-]+)/,zC=function(){function t(n,r,s){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=n.match(kQ);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=s;var o=s.scoped,a=s.sheet,c=s.generateId;this.id=o===!1?this.name:KA(c(this,a)),this.rules=new Fv(ln({},s,{parent:this}));for(var l in r)this.rules.add(l,r[l],ln({},s,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(r){r===void 0&&(r=O1);var s=zh(r),i=s.linebreak;if(r.indent==null&&(r.indent=O1.indent),r.children==null&&(r.children=O1.children),r.children===!1)return this.at+" "+this.id+" {}";var o=this.rules.toString(r);return o&&(o=""+i+o+i),this.at+" "+this.id+" {"+o+"}"},t}(),OQ=/@keyframes\s+/,RQ=/\$([\w-]+)/g,qC=function(e,n){return typeof e=="string"?e.replace(RQ,function(r,s){return s in n?n[s]:r}):e},_N=function(e,n,r){var s=e[n],i=qC(s,r);i!==s&&(e[n]=i)},$Q={onCreateRule:function(e,n,r){return typeof e=="string"&&OQ.test(e)?new zC(e,n,r):null},onProcessStyle:function(e,n,r){return n.type!=="style"||!r||("animation-name"in e&&_N(e,"animation-name",r.keyframes),"animation"in e&&_N(e,"animation",r.keyframes)),e},onChangeValue:function(e,n,r){var s=r.options.sheet;if(!s)return e;switch(n){case"animation":return qC(e,s.keyframes);case"animation-name":return qC(e,s.keyframes);default:return e}}},DQ=function(t){K8(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(s){var i=this.options.sheet,o=i?i.options.link:!1,a=o?ln({},s,{allowEmpty:!0}):s;return xg(this.key,this.style,a)},e}(Y8),jQ={onCreateRule:function(e,n,r){return r.parent&&r.parent.type==="keyframes"?new DQ(e,n,r):null}},UQ=function(){function t(n,r,s){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){var s=zh(r),i=s.linebreak;if(Array.isArray(this.style)){for(var o="",a=0;a<this.style.length;a++)o+=xg(this.at,this.style[a]),this.style[a+1]&&(o+=i);return o}return xg(this.at,this.style,r)},t}(),LQ=/@font-face/,MQ={onCreateRule:function(e,n,r){return LQ.test(e)?new UQ(e,n,r):null}},BQ=function(){function t(n,r,s){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=s}var e=t.prototype;return e.toString=function(r){return xg(this.key,this.style,r)},t}(),FQ={onCreateRule:function(e,n,r){return e==="@viewport"||e==="@-ms-viewport"?new BQ(e,n,r):null}},zQ=function(){function t(n,r,s){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=s}var e=t.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var s="",i=0;i<this.value.length;i++)s+=this.key+" "+this.value[i]+";",this.value[i+1]&&(s+=`
`);return s}return this.key+" "+this.value+";"},t}(),qQ={"@charset":!0,"@import":!0,"@namespace":!0},WQ={onCreateRule:function(e,n,r){return e in qQ?new zQ(e,n,r):null}},EN=[AQ,PQ,$Q,jQ,MQ,FQ,WQ],HQ={process:!0},CN={force:!0,process:!0},Fv=function(){function t(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var e=t.prototype;return e.add=function(r,s,i){var o=this.options,a=o.parent,c=o.sheet,l=o.jss,u=o.Renderer,d=o.generateId,h=o.scoped,f=ln({classes:this.classes,parent:a,sheet:c,jss:l,Renderer:u,generateId:d,scoped:h,name:r,keyframes:this.keyframes,selector:void 0},i),p=r;r in this.raw&&(p=r+"-d"+this.counter++),this.raw[p]=s,p in this.classes&&(f.selector="."+KA(this.classes[p]));var m=Bv(p,s,f);if(!m)return null;this.register(m);var y=f.index===void 0?this.index.length:f.index;return this.index.splice(y,0,m),m},e.replace=function(r,s,i){var o=this.get(r),a=this.index.indexOf(o);o&&this.remove(o);var c=i;return a!==-1&&(c=ln({},i,{index:a})),this.add(r,s,c)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof FC?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof zC&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof FC?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof zC&&delete this.keyframes[r.name]},e.update=function(){var r,s,i;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2]):(s=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),s,i);else for(var o=0;o<this.index.length;o++)this.updateOne(this.index[o],s,i)},e.updateOne=function(r,s,i){i===void 0&&(i=HQ);var o=this.options,a=o.jss.plugins,c=o.sheet;if(r.rules instanceof t){r.rules.update(s,i);return}var l=r.style;if(a.onUpdate(s,r,c,i),i.process&&l&&l!==r.style){a.onProcessStyle(r.style,r,c);for(var u in r.style){var d=r.style[u],h=l[u];d!==h&&r.prop(u,d,CN)}for(var f in l){var p=r.style[f],m=l[f];p==null&&p!==m&&r.prop(f,null,CN)}}},e.toString=function(r){for(var s="",i=this.options.sheet,o=i?i.options.link:!1,a=zh(r),c=a.linebreak,l=0;l<this.index.length;l++){var u=this.index[l],d=u.toString(r);!d&&!o||(s&&(s+=c),s+=d)}return s},t}(),Q8=function(){function t(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=ln({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new Fv(this.options);for(var s in n)this.rules.add(s,n[s]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,s,i){var o=this.queue;this.attached&&!o&&(this.queue=[]);var a=this.rules.add(r,s,i);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(o?o.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},e.replaceRule=function(r,s,i){var o=this.rules.get(r);if(!o)return this.addRule(r,s,i);var a=this.rules.replace(r,s,i);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?o.renderable&&this.renderer.replaceRule(o.renderable,a):this.renderer.deleteRule(o)),a):(this.deployed=!1,a)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,s){var i=[];for(var o in r){var a=this.addRule(o,r[o],s);a&&i.push(a)}return i},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var s=typeof r=="object"?r:this.rules.get(r);return!s||this.attached&&!s.renderable?!1:(this.rules.remove(s),this.attached&&s.renderable&&this.renderer?this.renderer.deleteRule(s.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,s,i){return this.rules.updateOne(r,s,i),this},e.toString=function(r){return this.rules.toString(r)},t}(),VQ=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(r,s,i){for(var o=0;o<this.registry.onCreateRule.length;o++){var a=this.registry.onCreateRule[o](r,s,i);if(a)return a}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var s=r.options.sheet,i=0;i<this.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](r,s);r.style&&this.onProcessStyle(r.style,r,s),r.isProcessed=!0}},e.onProcessStyle=function(r,s,i){for(var o=0;o<this.registry.onProcessStyle.length;o++)s.style=this.registry.onProcessStyle[o](s.style,s,i)},e.onProcessSheet=function(r){for(var s=0;s<this.registry.onProcessSheet.length;s++)this.registry.onProcessSheet[s](r)},e.onUpdate=function(r,s,i,o){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,s,i,o)},e.onChangeValue=function(r,s,i){for(var o=r,a=0;a<this.registry.onChangeValue.length;a++)o=this.registry.onChangeValue[a](o,s,i);return o},e.use=function(r,s){s===void 0&&(s={queue:"external"});var i=this.plugins[s.queue];i.indexOf(r)===-1&&(i.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(o,a){for(var c in a)c in o&&o[c].push(a[c]);return o},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),GQ=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(r){var s=this.registry,i=r.options.index;if(s.indexOf(r)===-1){if(s.length===0||i>=this.index){s.push(r);return}for(var o=0;o<s.length;o++)if(s[o].options.index>i){s.splice(o,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var s=this.registry.indexOf(r);this.registry.splice(s,1)},e.toString=function(r){for(var s=r===void 0?{}:r,i=s.attached,o=F8(s,["attached"]),a=zh(o),c=a.linebreak,l="",u=0;u<this.registry.length;u++){var d=this.registry[u];i!=null&&d.attached!==i||(l&&(l+=c),l+=d.toString(o))}return l},GA(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),gp=new GQ,WC=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),HC="2f1acc6c3a606b082e5eef5e54414ffb";WC[HC]==null&&(WC[HC]=0);var xN=WC[HC]++,SN=function(e){e===void 0&&(e={});var n=0,r=function(i,o){n+=1;var a="",c="";return o&&(o.options.classNamePrefix&&(c=o.options.classNamePrefix),o.options.jss.id!=null&&(a=String(o.options.jss.id))),e.minify?""+(c||"c")+xN+a+n:c+i.key+"-"+xN+(a?"-"+a:"")+"-"+n};return r},J8=function(e){var n;return function(){return n||(n=e()),n}},KQ=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},YQ=function(e,n,r){try{var s=r;if(Array.isArray(r)&&(s=Yl(r)),e.attributeStyleMap)e.attributeStyleMap.set(n,s);else{var i=s?s.indexOf("!important"):-1,o=i>-1?s.substr(0,i-1):s;e.style.setProperty(n,o,i>-1?"important":"")}}catch{return!1}return!0},QQ=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},JQ=function(e,n){return e.selectorText=n,e.selectorText===n},Z8=J8(function(){return document.querySelector("head")});function ZQ(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function XQ(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function eJ(t){for(var e=Z8(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===t)return r}return null}function tJ(t){var e=gp.registry;if(e.length>0){var n=ZQ(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=XQ(e,t),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&typeof r=="string"){var s=eJ(r);if(s)return{parent:s.parentNode,node:s.nextSibling}}return!1}function nJ(t,e){var n=e.insertionPoint,r=tJ(e);if(r!==!1&&r.parent){r.parent.insertBefore(t,r.node);return}if(n&&typeof n.nodeType=="number"){var s=n,i=s.parentNode;i&&i.insertBefore(t,s.nextSibling);return}Z8().appendChild(t)}var rJ=J8(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),AN=function(e,n,r){try{"insertRule"in e?e.insertRule(n,r):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[r]},IN=function(e,n){var r=e.cssRules.length;return n===void 0||n>r?r:n},sJ=function(){var e=document.createElement("style");return e.textContent=`
`,e},iJ=function(){function t(n){this.getPropertyValue=KQ,this.setProperty=YQ,this.removeProperty=QQ,this.setSelector=JQ,this.hasInsertedRules=!1,this.cssRules=[],n&&gp.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},s=r.media,i=r.meta,o=r.element;this.element=o||sJ(),this.element.setAttribute("data-jss",""),s&&this.element.setAttribute("media",s),i&&this.element.setAttribute("data-meta",i);var a=rJ();a&&this.element.setAttribute("nonce",a)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){nJ(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,s){for(var i=0;i<r.index.length;i++)this.insertRule(r.index[i],i,s)},e.insertRule=function(r,s,i){if(i===void 0&&(i=this.element.sheet),r.rules){var o=r,a=i;if(r.type==="conditional"||r.type==="keyframes"){var c=IN(i,s);if(a=AN(i,o.toString({children:!1}),c),a===!1)return!1;this.refCssRule(r,c,a)}return this.insertRules(o.rules,a),a}var l=r.toString();if(!l)return!1;var u=IN(i,s),d=AN(i,l,u);return d===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,u,d),d)},e.refCssRule=function(r,s,i){r.renderable=i,r.options.parent instanceof Q8&&this.cssRules.splice(s,0,i)},e.deleteRule=function(r){var s=this.element.sheet,i=this.indexOf(r);return i===-1?!1:(s.deleteRule(i),this.cssRules.splice(i,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,s){var i=this.indexOf(r);return i===-1?!1:(this.element.sheet.deleteRule(i),this.cssRules.splice(i,1),this.insertRule(s,i))},e.getRules=function(){return this.element.sheet.cssRules},t}(),oJ=0,aJ=function(){function t(n){this.id=oJ++,this.version="10.10.0",this.plugins=new VQ,this.options={id:{minify:!1},createGenerateId:SN,Renderer:Fh?iJ:null,plugins:[]},this.generateId=SN({minify:!1});for(var r=0;r<EN.length;r++)this.plugins.use(EN[r],{queue:"internal"});this.setup(n)}var e=t.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=ln({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,s){s===void 0&&(s={});var i=s,o=i.index;typeof o!="number"&&(o=gp.index===0?0:gp.index+1);var a=new Q8(r,ln({},s,{jss:this,generateId:s.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:o}));return this.plugins.onProcessSheet(a),a},e.removeStyleSheet=function(r){return r.detach(),gp.remove(r),this},e.createRule=function(r,s,i){if(s===void 0&&(s={}),i===void 0&&(i={}),typeof r=="object")return this.createRule(void 0,r,s);var o=ln({},i,{name:r,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var a=Bv(r,s,o);return a&&this.plugins.onProcessRule(a),a},e.use=function(){for(var r=this,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return i.forEach(function(a){r.plugins.use(a)}),this},t}(),X8=function(e){return new aJ(e)},TN=function(){function t(){this.length=0,this.sheets=new WeakMap}var e=t.prototype;return e.get=function(r){var s=this.sheets.get(r);return s&&s.sheet},e.add=function(r,s){this.sheets.has(r)||(this.length++,this.sheets.set(r,{sheet:s,refs:0}))},e.manage=function(r){var s=this.sheets.get(r);if(s)return s.refs===0&&s.sheet.attach(),s.refs++,s.sheet},e.unmanage=function(r){var s=this.sheets.get(r);s&&s.refs>0&&(s.refs--,s.refs===0&&s.sheet.detach())},GA(t,[{key:"size",get:function(){return this.length}}]),t}(),YA=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function ej(t){var e=null;for(var n in t){var r=t[n],s=typeof r;if(s==="function")e||(e={}),e[n]=r;else if(s==="object"&&r!==null&&!Array.isArray(r)){var i=ej(r);i&&(e||(e={}),e[n]=i)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */X8();var tj=Date.now(),R1="fnValues"+tj,$1="fnStyle"+ ++tj,cJ=function(){return{onCreateRule:function(n,r,s){if(typeof r!="function")return null;var i=Bv(n,{},s);return i[$1]=r,i},onProcessStyle:function(n,r){if(R1 in r||$1 in r)return n;var s={};for(var i in n){var o=n[i];typeof o=="function"&&(delete n[i],s[i]=o)}return r[R1]=s,n},onUpdate:function(n,r,s,i){var o=r,a=o[$1];a&&(o.style=a(n)||{});var c=o[R1];if(c)for(var l in c)o.prop(l,c[l](n),i)}}};function lJ(t){var e,n=t.Symbol;return typeof n=="function"?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var yd;typeof self<"u"?yd=self:typeof window<"u"?yd=window:typeof global<"u"?yd=global:typeof module<"u"?yd=module:yd=Function("return this")();var NN=lJ(yd),PN=function(e){return e&&e[NN]&&e===e[NN]()},uJ=function(e){return{onCreateRule:function(r,s,i){if(!PN(s))return null;var o=s,a=Bv(r,{},i);return o.subscribe(function(c){for(var l in c)a.prop(l,c[l],e)}),a},onProcessRule:function(r){if(!(r&&r.type!=="style")){var s=r,i=s.style,o=function(u){var d=i[u];if(!PN(d))return"continue";delete i[u],d.subscribe({next:function(f){s.prop(u,f,e)}})};for(var a in i)var c=o(a)}}}},dJ=/;\n/,hJ=function(e){for(var n={},r=e.split(dJ),s=0;s<r.length;s++){var i=(r[s]||"").trim();if(i){var o=i.indexOf(":");if(o!==-1){var a=i.substr(0,o).trim(),c=i.substr(o+1).trim();n[a]=c}}}return n},fJ=function(e){typeof e.style=="string"&&(e.style=hJ(e.style))};function pJ(){return{onProcessRule:fJ}}var Lc="@global",VC="@global ",gJ=function(){function t(n,r,s){this.type="global",this.at=Lc,this.isProcessed=!1,this.key=n,this.options=s,this.rules=new Fv(ln({},s,{parent:this}));for(var i in r)this.rules.add(i,r[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,s,i){var o=this.rules.add(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.replaceRule=function(r,s,i){var o=this.rules.replace(r,s,i);return o&&this.options.jss.plugins.onProcessRule(o),o},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},t}(),mJ=function(){function t(n,r,s){this.type="global",this.at=Lc,this.isProcessed=!1,this.key=n,this.options=s;var i=n.substr(VC.length);this.rule=s.jss.createRule(i,r,ln({},s,{parent:this}))}var e=t.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},t}(),yJ=/\s*,\s*/g;function nj(t,e){for(var n=t.split(yJ),r="",s=0;s<n.length;s++)r+=e+" "+n[s].trim(),n[s+1]&&(r+=", ");return r}function wJ(t,e){var n=t.options,r=t.style,s=r?r[Lc]:null;if(s){for(var i in s)e.addRule(i,s[i],ln({},n,{selector:nj(i,t.selector)}));delete r[Lc]}}function vJ(t,e){var n=t.options,r=t.style;for(var s in r)if(!(s[0]!=="@"||s.substr(0,Lc.length)!==Lc)){var i=nj(s.substr(Lc.length),t.selector);e.addRule(i,r[s],ln({},n,{selector:i})),delete r[s]}}function bJ(){function t(n,r,s){if(!n)return null;if(n===Lc)return new gJ(n,r,s);if(n[0]==="@"&&n.substr(0,VC.length)===VC)return new mJ(n,r,s);var i=s.parent;return i&&(i.type==="global"||i.options.parent&&i.options.parent.type==="global")&&(s.scoped=!1),!s.selector&&s.scoped===!1&&(s.selector=n),null}function e(n,r){n.type!=="style"||!r||(wJ(n,r),vJ(n,r))}return{onCreateRule:t,onProcessRule:e}}var Cw=function(e){return e&&typeof e=="object"&&!Array.isArray(e)},D1="extendCurrValue"+Date.now();function _J(t,e,n,r){var s=typeof t.extend;if(s==="string"){if(!n)return;var i=n.getRule(t.extend);if(!i||i===e)return;var o=i.options.parent;if(o){var a=o.rules.raw[t.extend];kl(a,e,n,r)}return}if(Array.isArray(t.extend)){for(var c=0;c<t.extend.length;c++){var l=t.extend[c],u=typeof l=="string"?ln({},t,{extend:l}):t.extend[c];kl(u,e,n,r)}return}for(var d in t.extend){if(d==="extend"){kl(t.extend.extend,e,n,r);continue}if(Cw(t.extend[d])){d in r||(r[d]={}),kl(t.extend[d],e,n,r[d]);continue}r[d]=t.extend[d]}}function EJ(t,e,n,r){for(var s in t)if(s!=="extend"){if(Cw(r[s])&&Cw(t[s])){kl(t[s],e,n,r[s]);continue}if(Cw(t[s])){r[s]=kl(t[s],e,n);continue}r[s]=t[s]}}function kl(t,e,n,r){return r===void 0&&(r={}),_J(t,e,n,r),EJ(t,e,n,r),r}function CJ(){function t(n,r,s){return"extend"in n?kl(n,r,s):n}function e(n,r,s){if(r!=="extend")return n;if(n==null||n===!1){for(var i in s[D1])s.prop(i,null);return s[D1]=null,null}if(typeof n=="object"){for(var o in n)s.prop(o,n[o]);s[D1]=n}return null}return{onProcessStyle:t,onChangeValue:e}}var kN=/\s*,\s*/g,xJ=/&/g,SJ=/\$([\w-]+)/g;function AJ(){function t(s,i){return function(o,a){var c=s.getRule(a)||i&&i.getRule(a);return c?c.selector:a}}function e(s,i){for(var o=i.split(kN),a=s.split(kN),c="",l=0;l<o.length;l++)for(var u=o[l],d=0;d<a.length;d++){var h=a[d];c&&(c+=", "),c+=h.indexOf("&")!==-1?h.replace(xJ,u):u+" "+h}return c}function n(s,i,o){if(o)return ln({},o,{index:o.index+1});var a=s.options.nestingLevel;a=a===void 0?1:a+1;var c=ln({},s.options,{nestingLevel:a,index:i.indexOf(s)+1});return delete c.name,c}function r(s,i,o){if(i.type!=="style")return s;var a=i,c=a.options.parent,l,u;for(var d in s){var h=d.indexOf("&")!==-1,f=d[0]==="@";if(!(!h&&!f)){if(l=n(a,c,l),h){var p=e(d,a.selector);u||(u=t(c,o)),p=p.replace(SJ,u);var m=a.key+"-"+d;"replaceRule"in c?c.replaceRule(m,s[d],ln({},l,{selector:p})):c.addRule(m,s[d],ln({},l,{selector:p}))}else f&&c.addRule(d,{},l).addRule(a.key,s[d],{selector:a.selector});delete s[d]}}return s}return{onProcessStyle:r}}function GC(t,e){if(!e)return!0;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var r=GC(t,e[n]);if(!r)return!1}return!0}if(e.indexOf(" ")>-1)return GC(t,e.split(" "));var s=t.options.parent;if(e[0]==="$"){var i=s.getRule(e.substr(1));return!i||i===t?!1:(s.classes[t.key]+=" "+s.classes[i.key],!0)}return s.classes[t.key]+=" "+e,!0}function IJ(){function t(e,n){return"composes"in e&&(GC(n,e.composes),delete e.composes),e}return{onProcessStyle:t}}var TJ=/[A-Z]/g,NJ=/^ms-/,j1={};function PJ(t){return"-"+t.toLowerCase()}function rj(t){if(j1.hasOwnProperty(t))return j1[t];var e=t.replace(TJ,PJ);return j1[t]=NJ.test(e)?"-"+e:e}function _0(t){var e={};for(var n in t){var r=n.indexOf("--")===0?n:rj(n);e[r]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(_0):e.fallbacks=_0(t.fallbacks)),e}function kJ(){function t(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=_0(n[r]);return n}return _0(n)}function e(n,r,s){if(r.indexOf("--")===0)return n;var i=rj(r);return r===i?n:(s.prop(i,n),null)}return{onProcessStyle:t,onChangeValue:e}}var Z=YA&&CSS?CSS.px:"px",Sy=YA&&CSS?CSS.ms:"ms",Hu=YA&&CSS?CSS.percent:"%",OJ={"animation-delay":Sy,"animation-duration":Sy,"background-position":Z,"background-position-x":Z,"background-position-y":Z,"background-size":Z,border:Z,"border-bottom":Z,"border-bottom-left-radius":Z,"border-bottom-right-radius":Z,"border-bottom-width":Z,"border-left":Z,"border-left-width":Z,"border-radius":Z,"border-right":Z,"border-right-width":Z,"border-top":Z,"border-top-left-radius":Z,"border-top-right-radius":Z,"border-top-width":Z,"border-width":Z,"border-block":Z,"border-block-end":Z,"border-block-end-width":Z,"border-block-start":Z,"border-block-start-width":Z,"border-block-width":Z,"border-inline":Z,"border-inline-end":Z,"border-inline-end-width":Z,"border-inline-start":Z,"border-inline-start-width":Z,"border-inline-width":Z,"border-start-start-radius":Z,"border-start-end-radius":Z,"border-end-start-radius":Z,"border-end-end-radius":Z,margin:Z,"margin-bottom":Z,"margin-left":Z,"margin-right":Z,"margin-top":Z,"margin-block":Z,"margin-block-end":Z,"margin-block-start":Z,"margin-inline":Z,"margin-inline-end":Z,"margin-inline-start":Z,padding:Z,"padding-bottom":Z,"padding-left":Z,"padding-right":Z,"padding-top":Z,"padding-block":Z,"padding-block-end":Z,"padding-block-start":Z,"padding-inline":Z,"padding-inline-end":Z,"padding-inline-start":Z,"mask-position-x":Z,"mask-position-y":Z,"mask-size":Z,height:Z,width:Z,"min-height":Z,"max-height":Z,"min-width":Z,"max-width":Z,bottom:Z,left:Z,top:Z,right:Z,inset:Z,"inset-block":Z,"inset-block-end":Z,"inset-block-start":Z,"inset-inline":Z,"inset-inline-end":Z,"inset-inline-start":Z,"box-shadow":Z,"text-shadow":Z,"column-gap":Z,"column-rule":Z,"column-rule-width":Z,"column-width":Z,"font-size":Z,"font-size-delta":Z,"letter-spacing":Z,"text-decoration-thickness":Z,"text-indent":Z,"text-stroke":Z,"text-stroke-width":Z,"word-spacing":Z,motion:Z,"motion-offset":Z,outline:Z,"outline-offset":Z,"outline-width":Z,perspective:Z,"perspective-origin-x":Hu,"perspective-origin-y":Hu,"transform-origin":Hu,"transform-origin-x":Hu,"transform-origin-y":Hu,"transform-origin-z":Hu,"transition-delay":Sy,"transition-duration":Sy,"vertical-align":Z,"flex-basis":Z,"shape-margin":Z,size:Z,gap:Z,grid:Z,"grid-gap":Z,"row-gap":Z,"grid-row-gap":Z,"grid-column-gap":Z,"grid-template-rows":Z,"grid-template-columns":Z,"grid-auto-rows":Z,"grid-auto-columns":Z,"box-shadow-x":Z,"box-shadow-y":Z,"box-shadow-blur":Z,"box-shadow-spread":Z,"font-line-height":Z,"text-shadow-x":Z,"text-shadow-y":Z,"text-shadow-blur":Z};function sj(t){var e=/(-[a-z])/g,n=function(o){return o[1].toUpperCase()},r={};for(var s in t)r[s]=t[s],r[s.replace(e,n)]=t[s];return r}var RJ=sj(OJ);function mp(t,e,n){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=mp(t,e[r],n);else if(typeof e=="object")if(t==="fallbacks")for(var s in e)e[s]=mp(s,e[s],n);else for(var i in e)e[i]=mp(t+"-"+i,e[i],n);else if(typeof e=="number"&&isNaN(e)===!1){var o=n[t]||RJ[t];return o&&!(e===0&&o===Z)?typeof o=="function"?o(e).toString():""+e+o:e.toString()}return e}function $J(t){t===void 0&&(t={});var e=sj(t);function n(s,i){if(i.type!=="style")return s;for(var o in s)s[o]=mp(o,s[o],e);return s}function r(s,i){return mp(i,s,e)}return{onProcessStyle:n,onChangeValue:r}}var DJ={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},jJ={position:!0,size:!0},Ay={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},U1={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function UJ(t,e,n){return t.map(function(r){return oj(r,e,n,!1,!0)})}function ij(t,e,n,r){return n[e]==null?t:t.length===0?[]:Array.isArray(t[0])?ij(t[0],e,n,r):typeof t[0]=="object"?UJ(t,e,r):[t]}function oj(t,e,n,r,s){if(!(Ay[e]||U1[e]))return[];var i=[];if(U1[e]&&(t=LJ(t,n,U1[e],r)),Object.keys(t).length)for(var o in Ay[e]){if(t[o]){Array.isArray(t[o])?i.push(jJ[o]===null?t[o]:t[o].join(" ")):i.push(t[o]);continue}Ay[e][o]!=null&&i.push(Ay[e][o])}return!i.length||s?i:[i]}function LJ(t,e,n,r){for(var s in n){var i=n[s];if(typeof t[s]<"u"&&(r||!e.prop(i))){var o,a=Sg((o={},o[i]=t[s],o),e)[i];r?e.style.fallbacks[i]=a:e.style[i]=a}delete t[s]}return t}function Sg(t,e,n){for(var r in t){var s=t[r];if(Array.isArray(s)){if(!Array.isArray(s[0])){if(r==="fallbacks"){for(var i=0;i<t.fallbacks.length;i++)t.fallbacks[i]=Sg(t.fallbacks[i],e,!0);continue}t[r]=ij(s,r,DJ,e),t[r].length||delete t[r]}}else if(typeof s=="object"){if(r==="fallbacks"){t.fallbacks=Sg(t.fallbacks,e,!0);continue}t[r]=oj(s,r,e,n),t[r].length||delete t[r]}else t[r]===""&&delete t[r]}return t}function MJ(){function t(e,n){if(!e||n.type!=="style")return e;if(Array.isArray(e)){for(var r=0;r<e.length;r++)e[r]=Sg(e[r],n);return e}return Sg(e,n)}return{onProcessStyle:t}}function KC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function BJ(t){if(Array.isArray(t))return KC(t)}function FJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zJ(t,e){if(t){if(typeof t=="string")return KC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KC(t,e):void 0}}function qJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WJ(t){return BJ(t)||FJ(t)||zJ(t)||qJ()}var Gf="",YC="",aj="",cj="",HJ=Fh&&"ontouchstart"in document.documentElement;if(Fh){var L1={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},VJ=document.createElement("p"),M1=VJ.style,GJ="Transform";for(var B1 in L1)if(B1+GJ in M1){Gf=B1,YC=L1[B1];break}Gf==="Webkit"&&"msHyphens"in M1&&(Gf="ms",YC=L1.ms,cj="edge"),Gf==="Webkit"&&"-apple-trailing-word"in M1&&(aj="apple")}var tt={js:Gf,css:YC,vendor:aj,browser:cj,isTouch:HJ};function KJ(t){return t[1]==="-"||tt.js==="ms"?t:"@"+tt.css+"keyframes"+t.substr(10)}var YJ={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:tt.js==="ms"?"-webkit-"+e:tt.css+e}},QJ={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:tt.js==="Webkit"?tt.css+"print-"+e:e}},JJ=/[-\s]+(.)?/g;function ZJ(t,e){return e?e.toUpperCase():""}function QA(t){return t.replace(JJ,ZJ)}function Qc(t){return QA("-"+t)}var XJ={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(tt.js==="Webkit"){var r="mask-image";if(QA(r)in n)return e;if(tt.js+Qc(r)in n)return tt.css+e}return e}},eZ={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:tt.vendor==="apple"&&!tt.isTouch?tt.css+e:e}},tZ={noPrefill:["transform"],supportedProperty:function(e,n,r){return e!=="transform"?!1:r.transform?e:tt.css+e}},nZ={noPrefill:["transition"],supportedProperty:function(e,n,r){return e!=="transition"?!1:r.transition?e:tt.css+e}},rZ={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:tt.js==="Webkit"||tt.js==="ms"&&tt.browser!=="edge"?tt.css+e:e}},sZ={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:tt.js==="Moz"||tt.js==="ms"||tt.vendor==="apple"?tt.css+e:e}},iZ={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(tt.js==="Webkit"){var r="WebkitColumn"+Qc(e);return r in n?tt.css+"column-"+e:!1}if(tt.js==="Moz"){var s="page"+Qc(e);return s in n?"page-"+e:!1}return!1}},oZ={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(tt.js==="Moz")return e;var r=e.replace("-inline","");return tt.js+Qc(r)in n?tt.css+r:!1}},aZ={supportedProperty:function(e,n){return QA(e)in n?e:!1}},cZ={supportedProperty:function(e,n){var r=Qc(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:tt.js+r in n?tt.css+e:tt.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+e:!1}},lZ={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:tt.js==="ms"?""+tt.css+e:e}},uZ={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:tt.js==="ms"?tt.css+"scroll-chaining":e}},dZ={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},hZ={supportedProperty:function(e,n){var r=dZ[e];return r&&tt.js+Qc(r)in n?tt.css+r:!1}},lj={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},fZ=Object.keys(lj),pZ=function(e){return tt.css+e},gZ={supportedProperty:function(e,n,r){var s=r.multiple;if(fZ.indexOf(e)>-1){var i=lj[e];if(!Array.isArray(i))return tt.js+Qc(i)in n?tt.css+i:!1;if(!s)return!1;for(var o=0;o<i.length;o++)if(!(tt.js+Qc(i[0])in n))return!1;return i.map(pZ)}return!1}},uj=[YJ,QJ,XJ,eZ,tZ,nZ,rZ,sZ,iZ,oZ,aZ,cZ,lZ,uZ,hZ,gZ],ON=uj.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),mZ=uj.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,WJ(e.noPrefill)),t},[]),Kf,_l={};if(Fh){Kf=document.createElement("p");var F1=window.getComputedStyle(document.documentElement,"");for(var z1 in F1)isNaN(z1)||(_l[F1[z1]]=F1[z1]);mZ.forEach(function(t){return delete _l[t]})}function QC(t,e){if(e===void 0&&(e={}),!Kf)return t;if(_l[t]!=null)return _l[t];(t==="transition"||t==="transform")&&(e[t]=t in Kf.style);for(var n=0;n<ON.length&&(_l[t]=ON[n](t,Kf.style,e),!_l[t]);n++);try{Kf.style[t]=""}catch{return!1}return _l[t]}var Vu={},yZ={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},wZ=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Wa;function vZ(t,e,n){if(e==="var")return"var";if(e==="all")return"all";if(n==="all")return", all";var r=e?QC(e):", "+QC(n);return r||e||n}Fh&&(Wa=document.createElement("p"));function RN(t,e){var n=e;if(!Wa||t==="content")return e;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=t+n;if(Vu[r]!=null)return Vu[r];try{Wa.style[t]=n}catch{return Vu[r]=!1,!1}if(yZ[t])n=n.replace(wZ,vZ);else if(Wa.style[t]===""&&(n=tt.css+n,n==="-ms-flex"&&(Wa.style[t]="-ms-flexbox"),Wa.style[t]=n,Wa.style[t]===""))return Vu[r]=!1,!1;return Wa.style[t]="",Vu[r]=n,Vu[r]}function bZ(){function t(s){if(s.type==="keyframes"){var i=s;i.at=KJ(i.at)}}function e(s){for(var i in s){var o=s[i];if(i==="fallbacks"&&Array.isArray(o)){s[i]=o.map(e);continue}var a=!1,c=QC(i);c&&c!==i&&(a=!0);var l=!1,u=RN(c,Yl(o));u&&u!==o&&(l=!0),(a||l)&&(a&&delete s[i],s[c||i]=u||o)}return s}function n(s,i){return i.type!=="style"?s:e(s)}function r(s,i){return RN(i,Yl(s))||s}return{onProcessRule:t,onProcessStyle:n,onChangeValue:r}}function _Z(){var t=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var s={},i=Object.keys(n).sort(t),o=0;o<i.length;o++)s[i[o]]=n[i[o]];return s}}}var EZ=function(e){return e===void 0&&(e={}),{plugins:[cJ(),uJ(e.observable),pJ(),bJ(),CJ(),AJ(),IJ(),kJ(),$J(e.defaultUnit),MJ(),bZ(),_Z()]}},CZ=Number.MIN_SAFE_INTEGER||-1e9,xZ=function(){return CZ++},SZ=P.createContext({classNamePrefix:"",disableStylesGeneration:!1,isSSR:!Fh}),$N=new Map,JA=function(e,n){var r=e.managers;if(r)return r[n]||(r[n]=new TN),r[n];var s=$N.get(n);return s||(s=new TN,$N.set(n,s)),s},DN=function(e){var n=e.sheet,r=e.context,s=e.index,i=e.theme;if(n){var o=JA(r,s);o.manage(i),r.registry&&r.registry.add(n)}},AZ=function(e){if(e.sheet){var n=JA(e.context,e.index);n.unmanage(e.theme)}},IZ=X8(EZ()),dj=new WeakMap,hj=function(e){return dj.get(e)},TZ=function(e,n){dj.set(e,n)},NZ=function(e){var n=e.styles;return typeof n!="function"?n:n(e.theme)};function PZ(t,e){var n;t.context.id&&t.context.id.minify!=null&&(n=t.context.id.minify);var r=t.context.classNamePrefix||"";t.name&&!n&&(r+=t.name.replace(/\s/g,"-")+"-");var s="";return t.name&&(s=t.name+", "),s+=typeof t.styles=="function"?"Themed":"Unthemed",ln({},t.sheetOptions,{index:t.index,meta:s,classNamePrefix:r,link:e,generateId:t.sheetOptions&&t.sheetOptions.generateId?t.sheetOptions.generateId:t.context.generateId})}var kZ=function(e){if(!e.context.disableStylesGeneration){var n=JA(e.context,e.index),r=n.get(e.theme);if(r)return r;var s=e.context.jss||IZ,i=NZ(e),o=ej(i),a=s.createStyleSheet(i,PZ(e,o!==null));return TZ(a,{dynamicStyles:o,styles:i}),n.add(e.theme,a),a}},OZ=function(e,n){for(var r in n)e.deleteRule(n[r])},RZ=function(e,n,r){for(var s in r)n.updateOne(r[s],e)},$Z=function(e,n){var r=hj(e);if(r){var s={};for(var i in r.dynamicStyles)for(var o=e.rules.index.length,a=e.addRule(i,r.dynamicStyles[i]),c=o;c<e.rules.index.length;c++){var l=e.rules.index[c];e.updateOne(l,n),s[a===l?i:l.key]=l}return s}},DZ=function(e,n){if(!n)return e.classes;var r=hj(e);if(!r)return e.classes;var s={};for(var i in r.styles)s[i]=e.classes[i],i in n&&(s[i]+=" "+e.classes[n[i].key]);return s};function jN(t){return t?P.useEffect:Ps.useInsertionEffect||P.useLayoutEffect}var q1={},qi=function(e,n){n===void 0&&(n={});var r=n,s=r.index,i=s===void 0?xZ():s,o=r.theming,a=r.name,c=F8(r,["index","theming","name"]),l=o&&o.context||G8,u=function(f){return typeof e=="function"&&(f||P.useContext(l))||q1},d={};return function(f){var p=P.useRef(!0),m=P.useContext(SZ),y=u(f&&f.theme),w=P.useMemo(function(){var _=kZ({context:m,styles:e,name:a,theme:y,index:i,sheetOptions:c});return _&&m.isSSR&&DN({index:i,context:m,sheet:_,theme:y}),[_,_?$Z(_,f):null]},[m,y]),v=w[0],b=w[1];jN(m.isSSR)(function(){v&&b&&!p.current&&RZ(f,v,b)},[f]),jN(m.isSSR)(function(){return v&&DN({index:i,context:m,sheet:v,theme:y}),function(){v&&(AZ({index:i,context:m,sheet:v,theme:y}),b&&OZ(v,b))}},[v]);var E=P.useMemo(function(){return v&&b?DZ(v,b):d},[v,b]);return P.useDebugValue(E),P.useDebugValue(y===q1?"No theme":y),P.useEffect(function(){p.current=!1}),E}};const jZ=qi({icon:{position:"absolute",width:"80px",textAlign:"center",cursor:"pointer",zIndex:3e3,userSelect:"none",pointerEvents:"auto"},iconImage:{width:"48px",height:"48px",display:"block",margin:"0 auto"},iconLabel:{display:"block",background:"#c0c0c0",color:"#000",fontSize:"12px",padding:"2px 4px",marginTop:"2px",border:"1px outset #fff"}});function W1({image:t,label:e,action:n,url:r,popupId:s,folderId:i,isInFolder:o=!1,position:a,onDrag:c,onClick:l}){const u=jZ(),d=P.useRef(null),h=p=>{p.stopPropagation(),p.preventDefault(),l(n,s,r,i)},f=g.jsxs("div",{ref:d,className:u.icon,onClick:h,style:{position:o?"relative":"absolute",zIndex:3e3,left:!o&&a?a.x:void 0,top:!o&&a?a.y:void 0},children:[g.jsx("img",{src:t,alt:e,className:u.iconImage}),g.jsx("span",{className:u.iconLabel,children:e})]});return o?f:g.jsx(Em,{nodeRef:d,position:a,onDrag:c,bounds:"parent",children:f})}const UZ=qi({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"15px",height:"calc(100% - 30px)",overflow:"auto"}});function Vs({id:t,isOpen:e,onClose:n,onMinimize:r,children:s,title:i,initialPosition:o,initialSize:a,zIndex:c}){const l=UZ({isOpen:e}),u=P.useRef(null),d=()=>{r&&r(t)};return g.jsx(Em,{nodeRef:u,handle:`.${l.header}`,defaultPosition:o,children:g.jsxs("div",{ref:u,className:l.popup,style:{width:a==null?void 0:a.width,height:a==null?void 0:a.height,zIndex:c||100},children:[g.jsxs("div",{className:l.header,children:[g.jsx("span",{children:i||t.replace("-popup","")}),g.jsxs("div",{className:l.titleBarButtons,children:[g.jsx("button",{className:l.titleBarButton,onClick:d,title:"Minimize",children:"_"}),g.jsx("button",{className:l.titleBarButton,onClick:n,title:"Close",children:""})]})]}),g.jsx("div",{className:l.content,children:s})]})})}const H1=[{id:"evm-folder",image:"/assets/evmfolder.png",label:"EVM NFTs",action:"folder",folderId:"evm-folder",row:0,col:3},{id:"sol-folder",image:"/assets/solfolder.png",label:"SOL NFTs",action:"folder",folderId:"sol-folder",row:1,col:3},{id:"wallet",image:"/assets/wallet.png",label:"Wallet",action:"wallet",row:0,col:0},{id:"mint",image:"/assets/mint.gif",label:"Mint",action:"mint",row:0,col:1},{id:"gallery",image:"/assets/lawbstarz.gif",label:"NFT Gallery",action:"nft-gallery",row:0,col:2},{id:"meme-generator",image:"/assets/meme.gif",label:"Meme Generator",action:"meme-generator",row:0,col:4},{id:"chess",image:"/assets/chess.svg",label:"Chess",action:"chess",row:0,col:5},{id:"purity",image:"/assets/purityfinance.png",label:"Purity",action:"popup",popupId:"purity-popup",row:1,col:0},{id:"lawbshop",image:"/assets/lawbshop.png",label:"Lawb.Shop",action:"url",url:"https://store.fun/lawbshop",row:1,col:1},{id:"lawbstarz",image:"/assets/lawbstarz.gif",label:"Lawbstarz",action:"popup",popupId:"lawbstarz-popup",row:-1,col:-1},{id:"lawbsters",image:"/assets/lawbsters.gif",label:"Lawbsters",action:"popup",popupId:"lawbsters-popup",row:-1,col:-1},{id:"halloween",image:"/assets/lawbsterhalloween.gif",label:"Halloween",action:"popup",popupId:"halloween-popup",row:-1,col:-1},{id:"pixelawbs",image:"/assets/pixelawb.png",label:"Pixelawbs",action:"popup",popupId:"pixelawbs-popup",row:-1,col:-1},{id:"lawbstation",image:"/assets/lawbstation.GIF",label:"Lawbstation",action:"popup",popupId:"lawbstation-popup",row:-1,col:-1},{id:"nexus",image:"/assets/nexus.gif",label:"Nexus",action:"popup",popupId:"nexus-popup",row:-1,col:-1},{id:"chat",image:"/assets/miladychan.png",label:"Chat",action:"popup",popupId:"chat-popup",row:3,col:0},{id:"lawb",image:"/assets/lawbticker.gif",label:"$LAWB",action:"popup",popupId:"lawb-popup",row:3,col:2}],LZ=80,MZ=80,BZ=10,FZ=10,zZ=10,qZ=10,WZ=({onIconClick:t})=>{const e=H1.filter(l=>l.row>=0&&l.col>=0),n=()=>{const l={};let u=0,d=0;return e.forEach(h=>{l[h.id]={x:zZ+d*(LZ+BZ),y:qZ+u*(MZ+FZ)},u++,u>=4&&(u=0,d++)}),l},[r,s]=P.useState(n()),[i,o]=P.useState({}),a=(l,u)=>{s(d=>({...d,[l]:{x:u.x,y:u.y}}))},c=(l,u,d,h)=>{if(l==="folder"&&h){o(f=>({...f,[h]:!0}));return}t(l,u,d)};return g.jsx("div",{style:{position:"relative",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",overflow:"hidden"},children:g.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 60px)",padding:"10px",zIndex:10,overflow:"visible"},children:[e.map(l=>g.jsx(W1,{image:l.image,label:l.label,action:l.action,url:l.url,popupId:l.popupId,folderId:l.folderId,position:r[l.id],onDrag:(u,d)=>a(l.id,d),onClick:c},l.id)),i["evm-folder"]&&g.jsx(Vs,{id:"evm-folder",isOpen:!0,onClose:()=>o(l=>({...l,"evm-folder":!1})),onMinimize:()=>o(l=>({...l,"evm-folder":!1})),zIndex:3001,children:g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:H1.filter(l=>["lawbsters","lawbstarz","halloween","pixelawbs"].includes(l.id)).map(l=>g.jsx(W1,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})}),i["sol-folder"]&&g.jsx(Vs,{id:"sol-folder",isOpen:!0,onClose:()=>o(l=>({...l,"sol-folder":!1})),onMinimize:()=>o(l=>({...l,"sol-folder":!1})),zIndex:3001,children:g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(96px, 1fr))",gap:24,padding:32,justifyItems:"center",alignItems:"center",minHeight:"100%"},children:H1.filter(l=>["lawbstation","nexus"].includes(l.id)).map(l=>g.jsx(W1,{image:l.image,label:l.label,action:l.action,popupId:l.popupId,folderId:l.folderId,onClick:c,isInFolder:!0},l.id))})})]})})},HZ=qi({taskbar:{position:"fixed",left:0,bottom:0,width:"100vw",height:40,background:"#c0c0c0",borderTop:"2px outset #fff",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:200},leftSection:{display:"flex",alignItems:"center"},rightSection:{display:"flex",alignItems:"center",marginRight:"5px",height:"100%"},statusSection:{display:"flex",alignItems:"center",padding:"0 8px",marginRight:"4px",border:"2px inset #fff",height:"calc(100% - 8px)"},menuBtn:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"},menu:{position:"absolute",bottom:"45px",left:"5px",background:"#c0c0c0",border:"2px outset #fff",padding:"5px",display:({isOpen:t})=>t?"block":"none",zIndex:9999,maxHeight:"300px",overflowY:"auto"},menuLink:{display:"block",padding:"4px 12px",color:"#000",textDecoration:"none",background:"#c0c0c0",border:"2px outset #fff",marginBottom:"1px",cursor:"pointer",fontSize:"12px","&:hover":{background:"#d0d0d0",border:"2px inset #fff"},"&:active":{border:"2px inset #c0c0c0"}},minimizedWindow:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:"12px"},clock:{padding:"5px 10px",background:"#c0c0c0",border:"2px inset #fff",fontSize:"12px",fontFamily:"monospace",height:"calc(100% - 8px)",display:"flex",alignItems:"center"},windows:{display:"flex",alignItems:"center"},windowButton:{marginLeft:"5px",padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer"}}),VZ=({minimizedWindows:t,onRestoreWindow:e,walletButton:n,connectionStatus:r})=>{const[s,i]=P.useState(!1),[o,a]=P.useState(new Date),c=HZ({isOpen:s});P.useEffect(()=>{const h=window.setInterval(()=>{a(new Date)},1e3);return()=>window.clearInterval(h)},[]);const l=h=>h.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),u=()=>{i(!s)},d=()=>{i(!1)};return g.jsxs("div",{className:c.taskbar,children:[g.jsxs("div",{className:c.leftSection,children:[g.jsx("button",{className:c.menuBtn,onClick:u,children:"Menu"}),g.jsx("div",{className:c.windows,children:t.map(h=>g.jsx("button",{className:c.windowButton,onClick:()=>e(h),children:h.replace("-popup","").replace("-"," ").toUpperCase()},h))})]}),g.jsxs("div",{className:c.rightSection,children:[g.jsxs("div",{className:c.statusSection,children:[g.jsx("div",{style:{display:"flex",alignItems:"center",gap:4,fontSize:12},children:g.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:r.connected?"limegreen":"red",marginRight:4,border:"1px solid #222"}})}),n]}),g.jsx("div",{className:c.clock,children:l(o)})]}),s&&g.jsxs("div",{className:c.menu,children:[g.jsx("a",{href:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"GeckoTerminal"}),g.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbStation Twitter"}),g.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"LawbNexus Twitter"}),g.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"NFTX - Lawbsters"}),g.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"UwU LAWB"}),g.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Telegram"}),g.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Discord"}),g.jsx("a",{href:"https://store.fun/lawbshop",target:"_blank",rel:"noopener noreferrer",className:c.menuLink,onClick:d,children:"Lawb.Shop"})]})]})};async function fj(t){const e="https://api.scatter.art/v1",n="pixelawbs";try{console.log(`Getting eligible invite lists for collection: ${n}`);const r=await fetch(`${e}/collection/${n}/eligible-invite-lists?minterAddress=${t}`);if(console.log("Response status:",r.status),r.ok){const s=await r.json();return console.log("Lists found:",s),s}else return console.log("Failed to get lists:",r.status,r.statusText),[]}catch(r){return console.log("Error getting lists:",r),[]}}async function ZA(t,e=1,n=50,r){let i=`https://api.scatter.art/v1/collection/${t}/nfts?page=${e}&pageSize=${n}&sortBy=recent&sortOrder=desc`;r&&(i+=`&ownerAddress=${r}`);try{const o=await fetch(i);if(o.ok)return await o.json();throw new Error(`Failed to get NFTs: ${o.statusText}`)}catch(o){throw console.error("Error getting collection NFTs:",o),o}}async function pj(t,e){const i=await fetch("https://api.scatter.art/v1/mint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionAddress:"0x2d278e95b2fC67D4b27a276807e24E479D9707F6",chainId:1,minterAddress:t,lists:e})}),o=await i.json();if(!i.ok)throw console.error("Scatter API Error:",JSON.stringify(o,null,2)),new Error(o.message||"Minting failed");return{success:!0,mintTransaction:o.mintTransaction,erc20s:o.erc20s}}async function XA(t,e=50,n){const r="030a5ee582f64b8ab3a598ab2b97d85f";let s=`https://api.opensea.io/api/v2/collection/${t}/nfts?limit=${e}`;n&&console.warn("Owner filtering is not supported for OpenSea collections in this view.");try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get OpenSea NFTs: ${i.statusText}`);const a=(await i.json()).nfts.map(c=>{var l,u,d;return{id:c.identifier,address:c.contract,token_id:parseInt(c.identifier,10),attributes:JSON.stringify(c.traits||[]),name:c.name||`#${c.identifier}`,image_url:c.image_url,owner_of:((u=(l=c.owners)==null?void 0:l[0])==null?void 0:u.address)||"",block_minted:0,contract_type:"ERC721",description:c.description||"",image:c.image_url,image_url_shrunk:c.image_url,animation_url:c.animation_url,metadata:"",chain_id:1,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:t,num_items:1,created_at:c.updated_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString(),owners:((d=c.owners)==null?void 0:d.map(h=>({owner_of:h.address,quantity:h.quantity})))||[]}});return{page:1,pageSize:e,totalCount:a.length,totalPages:1,data:a}}catch(i){throw console.error("Error getting OpenSea NFTs:",i),i}}async function gj(t,e,n){const r="030a5ee582f64b8ab3a598ab2b97d85f",s=`https://api.opensea.io/api/v2/chain/${t}/contract/${e}/nfts/${n}`;try{const i=await fetch(s,{headers:{"X-API-KEY":r}});if(!i.ok)throw new Error(`Failed to get single OpenSea NFT: ${i.statusText}`);return(await i.json()).nft}catch(i){throw console.error("Error getting single OpenSea NFT:",i),i}}async function mj(t,e=50){var s;const n="030a5ee582f64b8ab3a598ab2b97d85f",r=`https://api.opensea.io/api/v2/collection/${t}/nfts?chain=solana&limit=${e}&include_orders=true`;try{const i=await fetch(r,{headers:{"X-API-KEY":n}});if(!i.ok)throw new Error(`Failed to get OpenSea Solana NFTs: ${i.statusText}`);const o=await i.json();console.log("Solana collection response:",o),console.log("Sample NFT from response:",o.nfts[0]),console.log("Sample NFT owners:",(s=o.nfts[0])==null?void 0:s.owners),console.log("Sample NFT full structure:",JSON.stringify(o.nfts[0],null,2));const a=o.nfts.map(c=>{var l,u,d;return{id:c.identifier,address:c.contract,token_id:parseInt(c.identifier,10),attributes:JSON.stringify(c.traits||[]),name:c.name||`#${c.identifier}`,image_url:c.image_url,owner_of:((u=(l=c.owners)==null?void 0:l[0])==null?void 0:u.address)||"",block_minted:0,contract_type:"SOL",description:c.description||"",image:c.image_url,image_url_shrunk:c.image_url,animation_url:c.animation_url,metadata:"",chain_id:1399811149,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:t,num_items:1,created_at:c.updated_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString(),owners:((d=c.owners)==null?void 0:d.map(h=>({owner_of:h.address,quantity:h.quantity})))||[]}});return{page:1,pageSize:e,totalCount:a.length,totalPages:1,data:a}}catch(i){throw console.error("Error getting OpenSea Solana NFTs:",i),i}}async function GZ(t,e=50){var s;const n="030a5ee582f64b8ab3a598ab2b97d85f",r=[`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}`,`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}&include_orders=false`,`https://api.opensea.io/api/v2/chain/solana/account/${t}/nfts?limit=${e}&include_orders=false&include_metadata=true`];for(const i of r){console.log("Trying OpenSea endpoint:",i);try{const o=await fetch(i,{headers:{"X-API-KEY":n}});if(console.log("Response status:",o.status),!o.ok){const c=await o.text();console.error("API Error response:",c);continue}const a=await o.json();if(console.log("Raw API response:",a),console.log("Number of NFTs returned:",((s=a.nfts)==null?void 0:s.length)||0),a.nfts&&a.nfts.length>0){const c=a.nfts.map(l=>({id:l.identifier,address:l.contract,token_id:parseInt(l.identifier,10),attributes:JSON.stringify(l.traits||[]),name:l.name||`#${l.identifier}`,image_url:l.image_url,owner_of:t,block_minted:0,contract_type:"SOL",description:l.description||"",image:l.image_url,image_url_shrunk:l.image_url,animation_url:l.animation_url,metadata:"",chain_id:1399811149,old_image_url:"",old_token_uri:"",token_uri:"",log_index:0,transaction_index:0,collection_id:"",num_items:1,created_at:l.updated_at||new Date().toISOString(),updated_at:l.updated_at||new Date().toISOString(),owners:[{owner_of:t,quantity:1}]}));return console.log("Transformed NFTs:",c.length),{page:1,pageSize:e,totalCount:c.length,totalPages:1,data:c}}}catch(o){console.error("Error with endpoint:",i,o);continue}}return console.log("All OpenSea endpoints failed, returning empty result"),{page:1,pageSize:e,totalCount:0,totalPages:1,data:[]}}const KZ=qi({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"600px",height:"480px",minWidth:"360px",minHeight:"240px",top:"calc(50vh - 240px)",left:"calc(50vw - 300px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:5e3},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"}}),YZ=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=KZ({isOpen:t}),i=P.useRef(null),[o,a]=P.useState([]),[c,l]=P.useState(!1),[u,d]=P.useState(!1),[h,f]=P.useState({}),[p,m]=P.useState(null),{data:y}=u8();P.useEffect(()=>{t&&r&&w()},[t,r]);const w=async()=>{l(!0),m(null);try{const x=await fj(r);a(x);const S={};x.forEach(A=>{S[A.id]=0}),f(S)}catch(x){m(x.message)}finally{l(!1)}},v=(x,S)=>{f(A=>({...A,[x]:Math.max(0,S)}))},b=async()=>{const x=Object.entries(h).filter(([,S])=>S>0).map(([S,A])=>({id:S,quantity:A}));if(x.length===0){m("Please select at least one item to mint");return}if(!y){m("Wallet not connected");return}d(!0),m(null);try{console.log("Starting mint process for address:",r);const S=await pj(r,x);if(console.log("Mint API result:",S),S.success&&S.mintTransaction){console.log("Got mint transaction:",S.mintTransaction),alert("Please confirm the transaction in your wallet.");try{console.log("Sending transaction to wallet...");const A=await y.sendTransaction({to:S.mintTransaction.to,value:BigInt(S.mintTransaction.value),data:S.mintTransaction.data});console.log("Transaction sent successfully:",A),alert(`NFT Minted Successfully: Transaction Hash - ${A}`),e()}catch(A){console.error("Transaction sending failed:",A),m("Transaction failed: "+A.message)}}else throw new Error(S.message||"Could not retrieve minting transaction.")}catch(S){console.error("Minting failed:",S),m("Minting failed: "+S.message)}finally{d(!1)}},E=(x,S)=>`${parseFloat(x)} ${S}`,_=()=>{n&&n()};return t?g.jsx(Em,{nodeRef:i,handle:`.${s.header}`,children:g.jsxs("div",{ref:i,className:s.popup,children:[g.jsxs("div",{className:s.header,children:[g.jsx("span",{children:"Mint Pixelawbster"}),g.jsxs("div",{className:s.titleBarButtons,children:[g.jsx("button",{className:s.titleBarButton,onClick:_,title:"Minimize",children:"_"}),g.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:""})]})]}),g.jsxs("div",{className:s.content,children:[p&&g.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:p}),c?g.jsx("div",{children:"Loading eligible invite lists..."}):o.length===0?g.jsx("div",{children:"No eligible invite lists found for your wallet."}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{marginBottom:"20px"},children:[g.jsx("h3",{children:"Available Lists:"}),o.map(x=>g.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#ffffff"},children:[g.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:x.name}),g.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",E(x.token_price,x.currency_symbol)]}),g.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",x.wallet_limit===4294967295?"Unlimited":x.wallet_limit," per wallet"]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx("label",{style:{fontSize:"12px"},children:"Quantity:"}),g.jsx("input",{type:"number",min:"0",max:x.wallet_limit===4294967295?999:x.wallet_limit,value:h[x.id]||0,onChange:S=>v(x.id,parseInt(S.target.value)||0),style:{width:"60px",padding:"2px 5px",border:"1px solid #808080"}})]})]},x.id))]}),g.jsx("button",{onClick:()=>void b(),disabled:u,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"10px 20px",cursor:u?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:u?"Minting...":"Mint Selected NFTs"})]})]})]})}):null},QZ=qi({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"400px",height:"auto",top:"20vh",left:"30vw",zIndex:102,display:"flex",flexDirection:"column"},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",background:"white",color:"black"},detailImage:{width:"100%",height:"auto",marginBottom:"10px"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}}}),JZ=t=>{try{const e=JSON.parse(t);return Array.isArray(e)&&e.every(n=>"trait_type"in n&&"value"in n)?e:[]}catch{return[]}},ZZ=({nft:t,onClose:e})=>{const n=QZ(),r=P.useRef(null),s=JZ(t.attributes);return g.jsx(Em,{nodeRef:r,handle:`.${n.header}`,children:g.jsxs("div",{className:n.popup,ref:r,children:[g.jsxs("div",{className:n.header,children:[g.jsxs("span",{children:[t.name," - Details"]}),g.jsx("button",{className:n.titleBarButton,onClick:e,children:"X"})]}),g.jsxs("div",{className:n.content,children:[g.jsx("img",{src:t.image_url,alt:t.name,className:n.detailImage}),g.jsx("h3",{children:"Traits"}),g.jsx("ul",{className:n.detailTraits,children:s.length>0?s.map((i,o)=>g.jsxs("li",{children:[g.jsxs("strong",{children:[i.trait_type,":"]})," ",i.value]},o)):g.jsx("li",{children:"No traits found."})})]})]})})},XZ=Symbol(),UN=Object.getPrototypeOf,JC=new WeakMap,eX=t=>t&&(JC.has(t)?JC.get(t):UN(t)===Object.prototype||UN(t)===Array.prototype),tX=t=>eX(t)&&t[XZ]||null,LN=(t,e=!0)=>{JC.set(t,e)},E0={},V1=t=>typeof t=="object"&&t!==null,Qa=new WeakMap,Yf=new WeakSet,nX=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>V1(l)&&!Yf.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},s=new WeakMap,i=(l,u,d=r)=>{const h=s.get(l);if((h==null?void 0:h[0])===u)return h[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return LN(f,!0),s.set(l,[u,f]),Reflect.ownKeys(l).forEach(p=>{if(Object.getOwnPropertyDescriptor(f,p))return;const m=Reflect.get(l,p),{enumerable:y}=Reflect.getOwnPropertyDescriptor(l,p),w={value:m,enumerable:y,configurable:!0};if(Yf.has(m))LN(m,!1);else if(m instanceof Promise)delete w.value,w.get=()=>d(m);else if(Qa.has(m)){const[v,b]=Qa.get(m);w.value=i(v,b(),d)}Object.defineProperty(f,p,w)}),Object.preventExtensions(f)},o=new WeakMap,a=[1,1],c=l=>{if(!V1(l))throw new Error("object required");const u=o.get(l);if(u)return u;let d=a[0];const h=new Set,f=(C,k=++a[0])=>{d!==k&&(d=k,h.forEach(O=>O(C,k)))};let p=a[1];const m=(C=++a[1])=>(p!==C&&!h.size&&(p=C,w.forEach(([k])=>{const O=k[1](C);O>d&&(d=O)})),d),y=C=>(k,O)=>{const B=[...k];B[1]=[C,...B[1]],f(B,O)},w=new Map,v=(C,k)=>{if((E0?"production":void 0)!=="production"&&w.has(C))throw new Error("prop listener already exists");if(h.size){const O=k[3](y(C));w.set(C,[k,O])}else w.set(C,[k])},b=C=>{var k;const O=w.get(C);O&&(w.delete(C),(k=O[1])==null||k.call(O))},E=C=>(h.add(C),h.size===1&&w.forEach(([O,B],F)=>{if((E0?"production":void 0)!=="production"&&B)throw new Error("remove already exists");const H=O[3](y(F));w.set(F,[O,H])}),()=>{h.delete(C),h.size===0&&w.forEach(([O,B],F)=>{B&&(B(),w.set(F,[O]))})}),_=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),S=e(_,{deleteProperty(C,k){const O=Reflect.get(C,k);b(k);const B=Reflect.deleteProperty(C,k);return B&&f(["delete",[k],O]),B},set(C,k,O,B){const F=Reflect.has(C,k),H=Reflect.get(C,k,B);if(F&&(t(H,O)||o.has(O)&&t(H,o.get(O))))return!0;b(k),V1(O)&&(O=tX(O)||O);let N=O;if(O instanceof Promise)O.then(T=>{O.status="fulfilled",O.value=T,f(["resolve",[k],T])}).catch(T=>{O.status="rejected",O.reason=T,f(["reject",[k],T])});else{!Qa.has(O)&&n(O)&&(N=c(O));const T=!Yf.has(N)&&Qa.get(N);T&&v(k,T)}return Reflect.set(C,k,N,B),f(["set",[k],O,H]),!0}});o.set(l,S);const A=[_,m,i,E];return Qa.set(S,A),Reflect.ownKeys(l).forEach(C=>{const k=Object.getOwnPropertyDescriptor(l,C);"value"in k&&(S[C]=l[C],delete k.value,delete k.writable),Object.defineProperty(_,C,k)}),S})=>[c,Qa,Yf,t,e,n,r,s,i,o,a],[rX]=nX();function Jt(t={}){return rX(t)}function lr(t,e,n){const r=Qa.get(t);(E0?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[3];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Ag(t,e){const n=Qa.get(t);(E0?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,s,i]=n;return i(r,s(),e)}function hu(t){return Yf.add(t),t}function ur(t,e,n,r){let s=t[e];return lr(t,()=>{const i=t[e];Object.is(s,i)||n(s=i)})}function sX(t){const e=Jt({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const s=this.data.find(i=>i[0]===n);return s?s[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(s=>s[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(s=>s[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var MN={};const ee={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof MN<"u"?MN.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},Ig={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var s;if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return((s=ee.CHAIN_NAME_MAP)==null?void 0:s[r])||void 0}};var iX=20,oX=1,fu=1e6,BN=1e6,aX=-7,cX=21,lX=!1,Cm="[big.js] ",Tu=Cm+"Invalid ",zv=Tu+"decimal places",uX=Tu+"rounding mode",yj=Cm+"Division by zero",Lt={},wo=void 0,dX=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function wj(){function t(e){var n=this;if(!(n instanceof t))return e===wo?wj():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Tu+"value");e=e===0&&1/e<0?"-0":String(e)}hX(n,e)}n.constructor=t}return t.prototype=Lt,t.DP=iX,t.RM=oX,t.NE=aX,t.PE=cX,t.strict=lX,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function hX(t,e){var n,r,s;if(!dX.test(e))throw Error(Tu+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function Nu(t,e,n,r){var s=t.c;if(n===wo&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(uX);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==wo))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==wo||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function Pu(t,e,n){var r=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}Lt.abs=function(){var t=new this.constructor(this);return t.s=1,t};Lt.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,i=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=s.length)?a:c,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};Lt.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,i=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>fu)throw Error(zv);if(!s[0])throw Error(yj);if(!r[0])return t.s=i,t.c=[t.e=0],t;var a,c,l,u,d,h=s.slice(),f=a=s.length,p=r.length,m=r.slice(0,a),y=m.length,w=t,v=w.c=[],b=0,E=o+(w.e=e.e-t.e)+1;for(w.s=i,i=E<0?0:E,h.unshift(0);y++<a;)m.push(0);do{for(l=0;l<10;l++){if(a!=(y=m.length))u=a>y?1:-1;else for(d=-1,u=0;++d<a;)if(s[d]!=m[d]){u=s[d]>m[d]?1:-1;break}if(u<0){for(c=y==a?s:h;y;){if(m[--y]<c[y]){for(d=y;d&&!m[--d];)m[d]=9;--m[d],m[y]+=10}m[y]-=c[y]}for(;!m[0];)m.shift()}else break}v[b++]=u?l:++l,m[0]&&u?m[y]=r[f]||0:m=[r[f]]}while((f++<p||m[0]!==wo)&&i--);return!v[0]&&b!=1&&(v.shift(),w.e--,E--),b>E&&Nu(w,E,n.RM,m[0]!==wo),w};Lt.eq=function(t){return this.cmp(t)===0};Lt.gt=function(t){return this.cmp(t)>0};Lt.gte=function(t){return this.cmp(t)>-1};Lt.lt=function(t){return this.cmp(t)<0};Lt.lte=function(t){return this.cmp(t)<1};Lt.minus=Lt.sub=function(t){var e,n,r,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),u=i.e,d=t.c,h=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(i):t.s=1,t;if(a=u-h){for((s=a<0)?(a=-a,r=l):(h=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){s=l[c]<d[c];break}if(s&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t};Lt.mod=function(t){var e,n=this,r=n.constructor,s=n.s,i=(t=new r(t)).s;if(!t.c[0])throw Error(yj);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=i,e?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=i,this.minus(n.times(t)))};Lt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Lt.plus=Lt.add=function(t){var e,n,r,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Lt.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-BN||t>BN)throw Error(Tu+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};Lt.prec=function(t,e){if(t!==~~t||t<1||t>fu)throw Error(Tu+"precision");return Nu(new this.constructor(this),t,e)};Lt.round=function(t,e){if(t===wo)t=0;else if(t!==~~t||t<-fu||t>fu)throw Error(zv);return Nu(new this.constructor(this),t+this.e+1,e)};Lt.sqrt=function(){var t,e,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(Cm+"No square root");i=Math.sqrt(+Pu(r,!0,!0)),i===0||i===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Nu(t,(s.DP-=4)+t.e+1,s.RM)};Lt.times=Lt.mul=function(t){var e,n=this,r=n.constructor,s=n.c,i=(t=new r(t)).c,o=s.length,a=i.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=s,s=i,i=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+i[c]*s[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Lt.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==wo){if(t!==~~t||t<0||t>fu)throw Error(zv);for(n=Nu(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return Pu(n,!0,!!r)};Lt.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==wo){if(t!==~~t||t<0||t>fu)throw Error(zv);for(n=Nu(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return Pu(n,!1,!!r)};Lt[Symbol.for("nodejs.util.inspect.custom")]=Lt.toJSON=Lt.toString=function(){var t=this,e=t.constructor;return Pu(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Lt.toNumber=function(){var t=+Pu(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Cm+"Imprecise conversion");return t};Lt.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==wo){if(t!==~~t||t<1||t>fu)throw Error(Tu+"precision");for(n=Nu(new r(n),t,e);n.c.length<t;)n.c.push(0)}return Pu(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};Lt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Cm+"valueOf disallowed");return Pu(t,t.e<=e.NE||t.e>=e.PE,!0)};var _f=wj();const fX={bigNumber(t){return t?new _f(t):new _f(0)},multiply(t,e){if(t===void 0||e===void 0)return new _f(0);const n=new _f(t),r=new _f(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},pX=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],gX=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],mX=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],yX={getERC20Abi:t=>ee.USDT_CONTRACT_ADDRESSES.includes(t)?mX:pX,getSwapAbi:()=>gX},Ss={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Ye={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids"};function G1(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const He={setItem(t,e){Qf()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Qf())return localStorage.getItem(t)||void 0},removeItem(t){Qf()&&localStorage.removeItem(t)},clear(){Qf()&&localStorage.clear()}};function Qf(){return typeof window<"u"&&typeof localStorage<"u"}function na(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var FN={};const K1=(typeof process<"u"&&typeof FN<"u"?FN.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",vj=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]},{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]}],wX="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Dt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:K1,SECURE_SITE_DASHBOARD:`${K1}/dashboard`,SECURE_SITE_FAVICON:`${K1}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld","coinbase"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},we={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=we.getActiveNamespace(),e=we.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{He.setItem(Ye.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=He.getItem(Ye.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{He.removeItem(Ye.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{He.setItem(Ye.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{He.setItem(Ye.ACTIVE_CAIP_NETWORK_ID,t),we.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return He.getItem(Ye.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{He.removeItem(Ye.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=G1(t);He.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=we.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),He.setItem(Ye.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=He.getItem(Ye.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=G1(t);He.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return He.getItem(Ye.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=G1(t);return He.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{He.setItem(Ye.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return He.getItem(Ye.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{He.removeItem(Ye.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return He.getItem(Ye.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=He.getItem(Ye.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{He.setItem(Ye.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return He.getItem(Ye.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=He.getItem(Ye.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));He.setItem(Ye.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=we.getConnectedNamespaces();e.includes(t)||(e.push(t),we.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=we.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),we.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return He.getItem(Ye.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{He.setItem(Ye.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{He.removeItem(Ye.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=He.getItem(Ye.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=we.getBalanceCache();He.setItem(Ye.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=we.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;we.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=we.getBalanceCache();e[t.caipAddress]=t,He.setItem(Ye.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=He.getItem(Ye.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=we.getBalanceCache();He.setItem(Ye.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=we.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),we.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=we.getNativeBalanceCache();e[t.caipAddress]=t,He.setItem(Ye.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=He.getItem(Ye.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=we.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;we.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=we.getEnsCache();e[t.address]=t,He.setItem(Ye.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=we.getEnsCache();He.setItem(Ye.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=He.getItem(Ye.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=we.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;we.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=we.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},He.setItem(Ye.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=we.getIdentityCache();He.setItem(Ye.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{He.removeItem(Ye.PORTFOLIO_CACHE),He.removeItem(Ye.NATIVE_BALANCE_CACHE),He.removeItem(Ye.ENS_CACHE),He.removeItem(Ye.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{He.setItem(Ye.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=He.getItem(Ye.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=we.getConnections(),r=n[e]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of t){const a=s.get(o.connectorId),c=o.connectorId===ee.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else s.set(o.connectorId,{...o})}const i={...n,[e]:Array.from(s.values())};He.setItem(Ye.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=He.getItem(Ye.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=we.getConnections(),s=r[n]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),He.setItem(Ye.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=He.getItem(Ye.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=we.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),He.setItem(Ye.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=we.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(s=>s.toLowerCase()!==t.toLowerCase()),He.setItem(Ye.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(we.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1}},De={isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return De.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Dt.TEN_SEC_MS:!0},isAllowedRetry(t,e=Dt.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(De.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(n){const s=new URL(n),i=new URL(r);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Dt.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(De.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(t,e){if(!De.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?we.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r;if(typeof window>"u")return!1;const t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(n=window.matchMedia("(display-mode: standalone)"))==null?void 0:n.matches:!1,e=(r=window==null?void 0:window.navigator)==null?void 0:r.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,De.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return ee.W3M_API_URL},getBlockchainApiUrl(){return ee.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ee.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?Dt.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in ee.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,r+i),c=t.substring(r+i,o),l=t.substring(s),u=c+n;return a+u+l}};async function Ef(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class xm{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await Ef(i,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await Ef(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Ef(i,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Ef(i,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Ef(i,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const vX={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?Dt.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(De.isTelegram()){if(De.isIos())return t.filter(e=>e!=="google");if(De.isMac())return t.filter(e=>e!=="x");if(De.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},ze=Jt({features:Dt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Dt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),le={state:ze,subscribeKey(t,e){return ur(ze,t,e)},setOptions(t){Object.assign(ze,t)},setRemoteFeatures(t){var n;if(!t)return;const e={...ze.remoteFeatures,...t};ze.remoteFeatures=e,(n=ze.remoteFeatures)!=null&&n.socials&&(ze.remoteFeatures.socials=vX.filterSocialsByPlatform(ze.remoteFeatures.socials))},setFeatures(t){if(!t)return;ze.features||(ze.features=Dt.DEFAULT_FEATURES);const e={...ze.features,...t};ze.features=e},setProjectId(t){ze.projectId=t},setCustomRpcUrls(t){ze.customRpcUrls=t},setAllWallets(t){ze.allWallets=t},setIncludeWalletIds(t){ze.includeWalletIds=t},setExcludeWalletIds(t){ze.excludeWalletIds=t},setFeaturedWalletIds(t){ze.featuredWalletIds=t},setTokens(t){ze.tokens=t},setTermsConditionsUrl(t){ze.termsConditionsUrl=t},setPrivacyPolicyUrl(t){ze.privacyPolicyUrl=t},setCustomWallets(t){ze.customWallets=t},setIsSiweEnabled(t){ze.isSiweEnabled=t},setIsUniversalProvider(t){ze.isUniversalProvider=t},setSdkVersion(t){ze.sdkVersion=t},setMetadata(t){ze.metadata=t},setDisableAppend(t){ze.disableAppend=t},setEIP6963Enabled(t){ze.enableEIP6963=t},setDebug(t){ze.debug=t},setEnableWalletConnect(t){ze.enableWalletConnect=t},setEnableWalletGuide(t){ze.enableWalletGuide=t},setEnableAuthLogger(t){ze.enableAuthLogger=t},setEnableWallets(t){ze.enableWallets=t},setPreferUniversalLinks(t){ze.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){ze.hasMultipleAddresses=t},setSIWX(t){ze.siwx=t},setConnectMethodsOrder(t){ze.features={...ze.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){ze.features={...ze.features,walletFeaturesOrder:t}},setSocialsOrder(t){ze.remoteFeatures={...ze.remoteFeatures,socials:t}},setCollapseWallets(t){ze.features={...ze.features,collapseWallets:t}},setEnableEmbedded(t){ze.enableEmbedded=t},setAllowUnsupportedChain(t){ze.allowUnsupportedChain=t},setManualWCControl(t){ze.manualWCControl=t},setEnableNetworkSwitch(t){ze.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(ze.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){ze.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return ze.universalProviderConfigOverride},getSnapshot(){return Ag(ze)}},bX=Object.freeze({enabled:!0,events:[]}),_X=new xm({baseUrl:De.getAnalyticsUrl(),clientId:null}),EX=5,CX=60*1e3,Pa=Jt({...bX}),xX={state:Pa,subscribeKey(t,e){return ur(Pa,t,e)},async sendError(t,e){if(!Pa.enabled)return;const n=Date.now();if(Pa.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<CX}).length>=EX)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};Pa.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=le.state;await _X.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:De.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){Pa.enabled=!0},disable(){Pa.enabled=!1},clearEvents(){Pa.events=[]}};class Ch extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,Ch.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,Ch):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function zN(t,e){const n=t instanceof Ch?t:new Ch(t instanceof Error?t.message:String(t),e,t);throw xX.sendError(n,n.category),n}function Bs(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return zN(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return zN(a,e)}},n[r]=i}else n[r]=s}),n}const uo={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},SX={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===uo.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${uo.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===uo.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${uo.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===ee.CHAIN.SOLANA&&t===uo.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${uo.COINBASE.url}/dapp?cb_url=${r}`)}},ws=Jt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),AX={state:ws,subscribeNetworkImages(t){return lr(ws.networkImages,()=>t(ws.networkImages))},subscribeKey(t,e){return ur(ws,t,e)},subscribe(t){return lr(ws,()=>t(ws))},setWalletImage(t,e){ws.walletImages[t]=e},setNetworkImage(t,e){ws.networkImages[t]=e},setChainImage(t,e){ws.chainImages[t]=e},setConnectorImage(t,e){ws.connectorImages={...ws.connectorImages,[t]:e}},setTokenImage(t,e){ws.tokenImages[t]=e},setCurrencyImage(t,e){ws.currencyImages[t]=e}},Ni=Bs(AX),IX={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},Y1=Jt({networkImagePromises:{}}),bj={async fetchWalletImage(t){if(t)return await Me._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(Y1.networkImagePromises[t]||(Y1.networkImagePromises[t]=Me._fetchNetworkImage(t)),await Y1.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Ni.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Ni.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return Ni.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Ni.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return Ni.state.connectorImages[t.imageId]},getChainImage(t){return Ni.state.networkImages[IX[t]]}},ka=Jt({message:"",variant:"info",open:!1}),TX={state:ka,subscribeKey(t,e){return ur(ka,t,e)},open(t,e){const{debug:n}=le.state,{shortMessage:r,longMessage:s}=t;n&&(ka.message=r,ka.variant=e,ka.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){ka.open=!1,ka.message="",ka.variant="info"}},xn=Bs(TX),NX=De.getAnalyticsUrl(),PX=new xm({baseUrl:NX,clientId:null}),kX=["MODAL_CREATED"],Ro=Jt({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),jt={state:Ro,subscribe(t){return lr(Ro,()=>t(Ro))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=le.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=ye.state.address;if(kX.includes(t.data.event)||typeof window>"u")return;await PX.post({path:"/e",params:jt.getSdkProperties(),body:{eventId:De.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),Ro.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===ee.HTTP_STATUS_CODES.FORBIDDEN&&!Ro.reportedErrors.FORBIDDEN&&(xn.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Qf()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Ro.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;Ro.timestamp=Date.now(),Ro.data=t,(e=le.state.features)!=null&&e.analytics&&jt._sendAnalyticsEvent(Ro)}},OX=De.getApiUrl(),Hr=new xm({baseUrl:OX,clientId:null}),RX=40,qN=4,$X=20,Ze=Jt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Me={state:Ze,subscribeKey(t,e){return ur(Ze,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=le.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return le.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Hr.baseUrl}/getWalletImage/${t}`,n=await Hr.getBlob({path:e,params:Me._getSdkProperties()});Ni.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Hr.baseUrl}/public/getAssetImage/${t}`,n=await Hr.getBlob({path:e,params:Me._getSdkProperties()});Ni.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Hr.baseUrl}/public/getAssetImage/${t}`,n=await Hr.getBlob({path:e,params:Me._getSdkProperties()});Ni.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Hr.baseUrl}/public/getCurrencyImage/${t}`,n=await Hr.getBlob({path:e,params:Me._getSdkProperties()});Ni.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Hr.baseUrl}/public/getTokenImage/${t}`,n=await Hr.getBlob({path:e,params:Me._getSdkProperties()});Ni.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return De.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===uo.COINBASE.id?!0:R.state.activeChain==="solana"&&(n.id===uo.SOLFLARE.id||n.id===uo.PHANTOM.id)):t},async fetchProjectConfig(){return(await Hr.get({path:"/appkit/v1/config",params:Me._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await Hr.get({path:"/projects/v1/origins",params:Me._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===ee.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=ee.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=R.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!bj.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Me._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=be.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Me._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Me._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Me._fetchTokenImage(e)))},async fetchWallets(t){var i;const e=t.exclude??[];Me._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(uo).map(o=>o.id));const r=await Hr.get({path:"/getWallets",params:{...Me._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(i=t.include)==null?void 0:i.join(","),exclude:e.join(",")}});return{data:Me._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=le.state;if(t!=null&&t.length){const e={...Me._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??qN,include:t},{data:n}=await Me.fetchWallets(e),r=[...n].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>Me._fetchWalletImage(i))),Ze.featured=r,Ze.allFeatured=r}},async fetchRecommendedWallets(){try{Ze.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=le.state,r=[...e??[],...n??[]].filter(Boolean),s=R.getRequestedCaipNetworkIds().join(","),i={page:1,entries:qN,include:t,exclude:r,chains:s},{data:o,count:a}=await Me.fetchWallets(i),c=we.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>Me._fetchWalletImage(d))),Ze.recommended=o,Ze.allRecommended=o,Ze.count=a??0}catch{}finally{Ze.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=le.state,s=R.getRequestedCaipNetworkIds().join(","),i=[...Ze.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:RX,include:e,exclude:i,chains:s},{data:a,count:c}=await Me.fetchWallets(o),l=a.slice(0,$X).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>Me._fetchWalletImage(u))),Ze.wallets=De.uniqueBy([...Ze.wallets,...Me._filterOutExtensions(a)],"id").filter(u=>{var d;return(d=u.chains)==null?void 0:d.some(h=>s.includes(h))}),Ze.count=c>Ze.count?c:Ze.count,Ze.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await Me.fetchWallets(e);n&&n.forEach(r=>{Ze.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=le.state,s=R.getRequestedCaipNetworkIds().join(",");Ze.search=[];const i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:o}=await Me.fetchWallets(i);jt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Me._fetchWalletImage(c)),De.wait(300)]),Ze.search=Me._filterOutExtensions(o)},initPromise(t,e){const n=Ze.promises[t];return n||(Ze.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&Me.initPromise("connectorImages",Me.fetchConnectorImages),e&&Me.initPromise("featuredWallets",Me.fetchFeaturedWallets),n&&Me.initPromise("recommendedWallets",Me.fetchRecommendedWallets),r&&Me.initPromise("networkImages",Me.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=le.state.features)!=null&&t.analytics&&Me.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Hr.get({path:"/getAnalyticsConfig",params:Me._getSdkProperties()});le.setFeatures({analytics:t})}catch{le.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){Ze.featured=Ze.allFeatured,Ze.recommended=Ze.allRecommended;return}const e=R.getRequestedCaipNetworkIds().join(",");Ze.featured=Ze.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ze.recommended=Ze.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ze.filteredWallets=Ze.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){Ze.filteredWallets=[]},setFilterByNamespace(t){if(!t){Ze.featured=Ze.allFeatured,Ze.recommended=Ze.allRecommended;return}const e=R.getRequestedCaipNetworkIds().join(",");Ze.featured=Ze.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ze.recommended=Ze.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ze.filteredWallets=Ze.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},Bt=Jt({view:"Connect",history:["Connect"],transactionStack:[]}),DX={state:Bt,subscribeKey(t,e){return ur(Bt,t,e)},pushTransactionStack(t){Bt.transactionStack.push(t)},popTransactionStack(t){const e=Bt.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:s}=e;switch(t){case"success":n==null||n();break;case"error":r==null||r(),We.goBack();break;case"cancel":s==null||s(),We.goBack();break}},push(t,e){t!==Bt.view&&(Bt.view=t,Bt.history.push(t),Bt.data=e)},reset(t,e){Bt.view=t,Bt.history=[t],Bt.data=e},replace(t,e){Bt.history.at(-1)===t||(Bt.view=t,Bt.history[Bt.history.length-1]=t,Bt.data=e)},goBack(){var r;const t=R.state.activeCaipAddress,e=We.state.view==="ConnectingFarcaster",n=!t&&e;if(Bt.history.length>1){Bt.history.pop();const[s]=Bt.history.slice(-1);s&&(t&&s==="Connect"?Bt.view="Account":Bt.view=s)}else kt.close();(r=Bt.data)!=null&&r.wallet&&(Bt.data.wallet=void 0),setTimeout(()=>{var s,i,o;if(n){ye.setFarcasterUrl(void 0,R.state.activeChain);const a=be.getAuthConnector();(s=a==null?void 0:a.provider)==null||s.reload();const c=Ag(le.state);(o=(i=a==null?void 0:a.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(Bt.history.length>1){Bt.history=Bt.history.slice(0,t+1);const[e]=Bt.history.slice(-1);e&&(Bt.view=e)}},goBackOrCloseModal(){We.state.history.length>1?We.goBack():kt.close()}},We=Bs(DX),$o=Jt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),ZC={state:$o,subscribe(t){return lr($o,()=>t($o))},setThemeMode(t){$o.themeMode=t;try{const e=be.getAuthConnector();if(e){const n=ZC.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:na(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){$o.themeVariables={...$o.themeVariables,...t};try{const e=be.getAuthConnector();if(e){const n=ZC.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:na($o.themeVariables,$o.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Ag($o)}},ss=Bs(ZC),_j={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},vt=Jt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{..._j},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),jX={state:vt,subscribe(t){return lr(vt,()=>{t(vt)})},subscribeKey(t,e){return ur(vt,t,e)},initialize(t){t.forEach(e=>{const n=we.getConnectedConnectorId(e);n&&be.setConnectorId(n,e)})},setActiveConnector(t){t&&(vt.activeConnector=hu(t))},setConnectors(t){t.filter(s=>!vt.allConnectors.some(i=>i.id===s.id&&be.getConnectorName(i.name)===be.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&vt.allConnectors.push(hu(s))});const n=be.getEnabledNamespaces(),r=be.getEnabledConnectors(n);vt.connectors=be.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(vt.filterByNamespaceMap).forEach(e=>{vt.filterByNamespaceMap[e]=!1}),t.forEach(e=>{vt.filterByNamespaceMap[e]=!0}),be.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){vt.filterByNamespaceMap[t]=e,be.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=be.getEnabledNamespaces(),e=be.getEnabledConnectors(t),n=be.areAllNamespacesEnabled();vt.connectors=be.mergeMultiChainConnectors(e),n?Me.clearFilterByNamespaces():Me.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(vt.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return vt.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(vt.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=be.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],i=(s==null?void 0:s.id)===ee.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=be.getConnectorName(r);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===ee.CONNECTOR_ID.AUTH){const s=t,i=Ag(le.state),o=ss.getSnapshot().themeMode,a=ss.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:na(a,o)}),be.setConnectors([t])}else be.setConnectors([t])},getAuthConnector(t){var r;const e=t||R.state.activeChain,n=vt.connectors.find(s=>s.id===ee.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return vt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return vt.allConnectors.find(e=>e.id===t)},getConnector(t,e){return vt.allConnectors.filter(r=>r.chain===R.state.activeChain).find(r=>{var s;return r.explorerId===t||((s=r.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="ID_AUTH")return;const e=t,n=Ag(le.state),r=ss.getSnapshot().themeMode,s=ss.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:na(s,r)})},getConnectorsByNamespace(t){const e=vt.allConnectors.filter(n=>n.chain===t);return be.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=be.getConnector(t.id,t.rdns),n=R.state.activeChain;SX.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,n),e?We.push("ConnectingExternal",{connector:e}):We.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?be.getConnectorsByNamespace(t):be.mergeMultiChainConnectors(vt.allConnectors)},setFilterByNamespace(t){vt.filterByNamespace=t,vt.connectors=be.getConnectors(t),Me.setFilterByNamespace(t)},setConnectorId(t,e){t&&(vt.activeConnectorIds={...vt.activeConnectorIds,[e]:t},we.setConnectedConnectorId(e,t))},removeConnectorId(t){vt.activeConnectorIds={...vt.activeConnectorIds,[t]:void 0},we.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return vt.activeConnectorIds[t]},isConnected(t){return t?!!vt.activeConnectorIds[t]:Object.values(vt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){vt.activeConnectorIds={..._j}}},be=Bs(jX),Tg={getConnectionStatus(t,e){const n=be.state.activeConnectorIds[e],r=ke.state.connections.get(e)??[];return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},validateAccountSwitch({namespace:t,connection:e,address:n}){if(t===ee.CHAIN.BITCOIN){if(!n)throw new Error("Address parameter is required for switching bip122 connection");const{type:s}=e.accounts.find(i=>i.address.toLowerCase()===n.toLowerCase())??{};if(typeof s=="string"&&s!=="payment")throw new Error(`Switching to non-payment accounts is not allowed for ${t}`)}},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},filterConnectionsByAccountType(t,e){return t.map(n=>{const r=n.accounts.filter(s=>typeof s.type=="string"?s.type.toLowerCase()===e.toLowerCase():!0);return{...n,accounts:r}})},getConnectionsData(t){const e=ke.state.connections.get(t)??[],n=e.filter(a=>!a.recent),r=be.state.activeConnectorIds[t],i=e.filter(a=>a.recent).filter(a=>be.getConnectorById(a.connectorId)),o=Tg.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],i);return{connections:n,recentConnections:o}}};var xh={};const UX="https://secure.walletconnect.org/sdk",LX=(typeof process<"u"&&typeof xh<"u"?xh.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||UX,MX=(typeof process<"u"&&typeof xh<"u"?xh.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",BX=(typeof process<"u"&&typeof xh<"u"?xh.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Re={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Vn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},FX=1e3,Xo={checkNamespaceConnectorId(t,e){return be.getConnectorId(t)===e},isSocialProvider(t){return Dt.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&be.setActiveConnector(e),s==null||s(De.isMobile()&&t),r){const l=kt.subscribeKey("open",u=>{u||(We.state.view!==r&&We.replace(r),l(),a(new Error("Modal closed")))})}const c=R.subscribeKey("activeCaipAddress",l=>{l&&(i==null||i(),n&&kt.close(),c(),o(Ss.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,n)=>{const r=R.subscribeKey("activeCaipAddress",s=>{s&&(kt.close(),r(),e(Ss.parseCaipAddress(s)))});ke.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,closeModalOnConnect:e=!0,onOpenFarcaster:n,onConnect:r}){let s=ye.state.socialWindow,i=ye.state.socialProvider,o=!1,a=null;const c=R.subscribeKey("activeCaipAddress",l=>{l&&(e&&kt.close(),c())});return new Promise((l,u)=>{async function d(f){var p;if((p=f.data)!=null&&p.resultUri)if(f.origin===ee.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",d,!1);try{const m=be.getAuthConnector();if(m&&!o){s&&(s.close(),ye.setSocialWindow(void 0,R.state.activeChain),s=ye.state.socialWindow),o=!0;const y=f.data.resultUri;if(i&&jt.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:i}}),await m.provider.connectSocial(y),i){we.setConnectedSocialProvider(i),await ke.connectExternal({id:m.id,type:m.type,socialUri:y},m.chain);const w=R.state.activeCaipAddress;if(!w){u(new Error("Failed to connect"));return}l(Ss.parseCaipAddress(w)),jt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:i}})}}}catch{i&&jt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}}),u(new Error("Failed to connect"))}}else i&&jt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}})}async function h(){if(t&&(ye.setSocialProvider(t,R.state.activeChain),i=ye.state.socialProvider,jt.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:i}})),i==="farcaster"){n==null||n();const f=kt.subscribeKey("open",m=>{!m&&t==="farcaster"&&(u(new Error("Popup closed")),r==null||r(),f())}),p=be.getAuthConnector();if(p&&!ye.state.farcasterUrl)try{const{url:m}=await p.provider.getFarcasterUri();ye.setFarcasterUrl(m,R.state.activeChain)}catch{u(new Error("Failed to connect to farcaster"))}}else{const f=be.getAuthConnector();a=De.returnOpenHref(`${ee.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(f&&i){const{uri:p}=await f.provider.getSocialRedirectUri({provider:i});if(a&&p){ye.setSocialWindow(a,R.state.activeChain),s=ye.state.socialWindow,a.location.href=p;const m=setInterval(()=>{s!=null&&s.closed&&!o&&(u(new Error("Popup closed")),clearInterval(m))},1e3);window.addEventListener("message",d,!1)}else a==null||a.close(),u(new Error("Failed to initiate social connection"))}}catch{u(new Error("Failed to initiate social connection")),a==null||a.close()}}}h()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n==null||n(),e){const a=kt.subscribeKey("open",c=>{c||(We.state.view!==e&&We.replace(e),a(),i(new Error("Modal closed")))})}const o=R.subscribeKey("activeCaipAddress",a=>{a&&(r==null||r(),t&&kt.close(),o(),s(Ss.parseCaipAddress(a)))})})},async updateEmail(){const t=we.getConnectedConnectorId(R.state.activeChain),e=be.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==ee.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return We.push("UpdateEmailWallet",{email:n,redirectView:void 0}),new Promise((r,s)=>{const i=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(kt.close(),clearInterval(i),o(),r({email:a}))},FX),o=kt.subscribeKey("open",a=>{a||(We.state.view!=="Connect"&&We.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){var n;return R.checkIfSmartAccountEnabled()&&((n=ye.state.preferredAccountTypes)==null?void 0:n[t])===Vn.ACCOUNT_TYPES.EOA}},wl=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Tn=Jt({...wl}),zX={state:Tn,subscribeKey(t,e){return ur(Tn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=De.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){Tn.message=wl.message,Tn.variant=wl.variant,Tn.svg=wl.svg,Tn.open=wl.open,Tn.autoClose=wl.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=wl.autoClose}){Tn.open?(Tn.open=!1,setTimeout(()=>{Tn.message=t,Tn.variant=n,Tn.svg=e,Tn.open=!0,Tn.autoClose=r},150)):(Tn.message=t,Tn.variant=n,Tn.svg=e,Tn.open=!0,Tn.autoClose=r)}},ki=zX,Vt=Jt({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),qX={state:Vt,subscribe(t){return lr(Vt,()=>t(Vt))},setLastNetworkInView(t){Vt.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Vt.loading=!0;try{const s=await qe.fetchTransactions({account:t,cursor:Vt.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=R.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),i=Jf.filterSpamTransactions(s.data),o=Jf.filterByConnectedChain(i),a=[...Vt.transactions,...o];Vt.loading=!1,e==="coinbase"?Vt.coinbaseTransactions=Jf.groupTransactionsByYearAndMonth(Vt.coinbaseTransactions,s.data):(Vt.transactions=a,Vt.transactionsByYear=Jf.groupTransactionsByYearAndMonth(Vt.transactionsByYear,o)),Vt.empty=a.length===0,Vt.next=s.next?s.next:void 0}catch{const i=R.state.activeChain;jt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:le.state.projectId,cursor:Vt.next,isSmartAccount:((r=ye.state.preferredAccountTypes)==null?void 0:r[i])===Vn.ACCOUNT_TYPES.SMART_ACCOUNT}}),ki.showError("Failed to fetch transactions"),Vt.loading=!1,Vt.empty=!0,Vt.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},c=(o[i]??[]).filter(l=>l.id!==r.id);n[s]={...o,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=R.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){Vt.next=void 0},resetTransactions(){Vt.transactions=[],Vt.transactionsByYear={},Vt.lastNetworkInView=void 0,Vt.loading=!1,Vt.empty=!1,Vt.next=void 0}},Jf=Bs(qX,"API_ERROR"),pt=Jt({connections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let ll;const WX={state:pt,subscribe(t){return lr(pt,()=>t(pt))},subscribeKey(t,e){return ur(pt,t,e)},_getClient(){return pt._client},setClient(t){pt._client=hu(t)},initialize(t){const e=we.getConnections();for(const n of t){const r=n.namespace;if(r){const s=pt.connections.get(r)??[],i=e[r]??[],o=[...s,...i];pt.connections.set(r,o)}}},async connectWalletConnect(){var t,e,n,r;if(De.isTelegram()||De.isSafari()&&De.isIos()){if(ll){await ll,ll=void 0;return}if(!De.isPairingExpired(pt==null?void 0:pt.wcPairingExpiry)){const s=pt.wcUri;pt.wcUri=s;return}ll=(e=(t=ke._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),ke.state.status="connecting",await ll,ll=void 0,pt.wcPairingExpiry=void 0,ke.state.status="connected"}else await((r=(n=ke._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var s,i;const r=await((i=(s=ke._getClient())==null?void 0:s.connectExternal)==null?void 0:i.call(s,t));return n&&R.setActiveNamespace(e),r},async reconnectExternal(t){var n,r;await((r=(n=ke._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||R.state.activeChain;e&&be.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;kt.setLoading(!0,R.state.activeChain);const n=be.getAuthConnector();n&&(ye.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),we.setPreferredAccountTypes(ye.state.preferredAccountTypes??{[e]:t}),await ke.reconnectExternal(n),kt.setLoading(!1,R.state.activeChain),jt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=R.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=ke._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=ke._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=ke._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=ke._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=ke._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=ke._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=ke._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=ke._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=ke._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=ke._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=ke._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=ke._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){pt.wcUri=void 0,pt.wcPairingExpiry=void 0,pt.wcLinking=void 0,pt.recentWallet=void 0,pt.status="disconnected",Jf.resetTransactions(),we.deleteWalletConnectDeepLink()},resetUri(){pt.wcUri=void 0,pt.wcPairingExpiry=void 0,ll=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=ke.state;t&&we.setWalletConnectDeepLink(t),e&&we.setAppKitRecent(e),jt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=We.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){pt.wcBasic=t},setUri(t){pt.wcUri=t,pt.wcPairingExpiry=De.getPairingExpiry()},setWcLinking(t){pt.wcLinking=t},setWcError(t){pt.wcError=t,pt.buffering=!1},setRecentWallet(t){pt.recentWallet=t},setBuffering(t){pt.buffering=t},setStatus(t){pt.status=t},setIsSwitchingConnection(t){pt.isSwitchingConnection=t},async disconnect({id:t,namespace:e}={}){var n;try{await((n=ke._getClient())==null?void 0:n.disconnect({id:t,chainNamespace:e}))}catch(r){throw new Ch("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(t,e){pt.connections=new Map(pt.connections.set(e,t))},async handleAuthAccountSwitch({address:t,connection:e,namespace:n}){var o;const r=(o=e.accounts.find(a=>a.type==="smartAccount"))==null?void 0:o.address,i=(r==null?void 0:r.toLowerCase())===t.toLowerCase()&&Xo.canSwitchToSmartAccount(n)?"smartAccount":"eoa";await ke.setPreferredAccountType(i,n)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=be.getConnectorById(t.connectorId),s=t.connectorId===ee.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);const i=await ke.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e);return s&&n&&await ke.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),i==null?void 0:i.address},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){var l,u;const s=be.getConnectorById(t.connectorId),i=(u=(l=t.auth)==null?void 0:l.name)==null?void 0:u.toLowerCase(),o=t.connectorId===ee.CONNECTOR_ID.AUTH,a=t.connectorId===ee.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(i&&Xo.isSocialProvider(i)){const{address:d}=await Xo.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){kt.open({view:"ConnectingFarcaster"})},onConnect(){We.replace("ProfileWallets")}});c=d}else{const{address:d}=await Xo.connectEmail({closeModalOnConnect:r,onOpen(){kt.open({view:"EmailLogin"})},onConnect(){We.replace("ProfileWallets")}});c=d}else if(a){const{address:d}=await Xo.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(h){kt.open({view:h?"AllWallets":"ConnectingWalletConnect"})},onConnect(){We.replace("ProfileWallets")}});c=d}else{const d=await ke.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);d&&(c=d.address)}return o&&n&&await ke.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:s}){Tg.validateAccountSwitch({namespace:n,connection:t,address:e});let i;const o=ye.getCaipAddress(n);if(o){const{address:c}=Ss.parseCaipAddress(o);i=c}const a=Tg.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const c=await ke.handleActiveConnection({connection:t,namespace:n,address:e});if(i&&c){const l=c.toLowerCase()!==i.toLowerCase();s==null||s({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await ke.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&(s==null||s({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},ke=Bs(WX),Gu=Jt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),vo={state:Gu,subscribe(t){return lr(Gu,()=>t(Gu))},subscribeOpen(t){return ur(Gu,"open",t)},set(t){Object.assign(Gu,{...Gu,...t})}};function HX(t){const e=Array.from(R.state.chains.keys());let n=[];return t?(n.push([t,R.state.chains.get(t)]),Xo.checkNamespaceConnectorId(t,ee.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&Xo.checkNamespaceConnectorId(r,ee.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,R.state.chains.get(r)])}):Xo.checkNamespaceConnectorId(t,ee.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&Xo.checkNamespaceConnectorId(r,ee.CONNECTOR_ID.AUTH)&&n.push([r,R.state.chains.get(r)])})):n=Array.from(R.state.chains.entries()),n}function Ej(){var r,s;const t=((r=R.state.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=R.state.activeCaipNetwork)==null?void 0:s.id)||1,n=Dt.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}const VX={async getTokenList(){var r;const t=R.state.activeCaipNetwork,e=await qe.fetchSwapTokens({chainId:t==null?void 0:t.caipNetworkId});return((r=e==null?void 0:e.tokens)==null?void 0:r.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=R.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const n=(e=await(ke==null?void 0:ke.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await qe.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await qe.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&n&&r){const i=ke.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await e2.getMyTokensWithBalance(t);return ye.setTokenBalance(e,R.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:Ej(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},$t=Jt({tokenBalances:[],loading:!1}),GX={state:$t,subscribe(t){return lr($t,()=>t($t))},subscribeKey(t,e){return ur($t,t,e)},setToken(t){t&&($t.token=hu(t))},setTokenAmount(t){$t.sendTokenAmount=t},setReceiverAddress(t){$t.receiverAddress=t},setReceiverProfileImageUrl(t){$t.receiverProfileImageUrl=t},setReceiverProfileName(t){$t.receiverProfileName=t},setNetworkBalanceInUsd(t){$t.networkBalanceInUSD=t},setLoading(t){$t.loading=t},async sendToken(){var t;try{switch(St.setLoading(!0),(t=R.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await St.sendEvmToken();return;case"solana":await St.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{St.setLoading(!1)}},async sendEvmToken(){var n,r,s,i;const t=R.state.activeChain,e=(n=ye.state.preferredAccountTypes)==null?void 0:n[t];if(!St.state.sendTokenAmount||!St.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!St.state.token)throw new Error("A token is required");(r=St.state.token)!=null&&r.address?(jt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Vn.ACCOUNT_TYPES.SMART_ACCOUNT,token:St.state.token.address,amount:St.state.sendTokenAmount,network:((s=R.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await St.sendERC20Token({receiverAddress:St.state.receiverAddress,tokenAddress:St.state.token.address,sendTokenAmount:St.state.sendTokenAmount,decimals:St.state.token.quantity.decimals})):(jt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Vn.ACCOUNT_TYPES.SMART_ACCOUNT,token:St.state.token.symbol||"",amount:St.state.sendTokenAmount,network:((i=R.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),await St.sendNativeToken({receiverAddress:St.state.receiverAddress,sendTokenAmount:St.state.sendTokenAmount,decimals:St.state.token.quantity.decimals}))},async fetchTokenBalance(t){var i,o;$t.loading=!0;const e=(i=R.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=R.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=R.state.activeCaipAddress,s=r?De.getPlainAddress(r):void 0;if($t.lastRetry&&!De.isAllowedRetry($t.lastRetry,30*Dt.ONE_SEC_MS))return $t.loading=!1,[];try{if(s&&e&&n){const a=await e2.getMyTokensWithBalance();return $t.tokenBalances=a,$t.lastRetry=void 0,a}}catch(a){$t.lastRetry=Date.now(),t==null||t(a),ki.showError("Token Balance Unavailable")}finally{$t.loading=!1}return[]},fetchNetworkBalance(){if($t.tokenBalances.length===0)return;const t=VX.mapBalancesToSwapTokens($t.tokenBalances);if(!t)return;const e=t.find(n=>n.address===Ej());e&&($t.networkBalanceInUSD=e?fX.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var i,o,a,c;We.pushTransactionStack({});const e=t.receiverAddress,n=ye.state.address,r=ke.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await ke.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),jt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((i=ye.state.preferredAccountTypes)==null?void 0:i.eip155)===Vn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=St.state.token)==null?void 0:o.symbol)||"",amount:t.sendTokenAmount,network:((a=R.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),(c=ke._getClient())==null||c.updateBalance("eip155"),St.resetSend()},async sendERC20Token(t){We.pushTransactionStack({onSuccess(){We.replace("Account")}});const e=ke.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(ye.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=De.getPlainAddress(t.tokenAddress);await ke.writeContract({fromAddress:ye.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:yX.getERC20Abi(n),chainNamespace:"eip155"}),St.resetSend()}},async sendSolanaToken(){var t;if(!St.state.sendTokenAmount||!St.state.receiverAddress)throw new Error("An amount and receiver address are required");We.pushTransactionStack({onSuccess(){We.replace("Account")}}),await ke.sendTransaction({chainNamespace:"solana",to:St.state.receiverAddress,value:St.state.sendTokenAmount}),(t=ke._getClient())==null||t.updateBalance("solana"),St.resetSend()},resetSend(){$t.token=void 0,$t.sendTokenAmount=void 0,$t.receiverAddress=void 0,$t.receiverProfileImageUrl=void 0,$t.receiverProfileName=void 0,$t.loading=!1,$t.tokenBalances=[]}},St=Bs(GX),Q1={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},Iy={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},xe=Jt({chains:sX(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),KX={state:xe,subscribe(t){return lr(xe,()=>{t(xe)})},subscribeKey(t,e){return ur(xe,t,e)},subscribeChainProp(t,e,n){let r;return lr(xe.chains,()=>{var i;const s=n||xe.activeChain;if(s){const o=(i=xe.chains.get(s))==null?void 0:i[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:s}=we.getActiveNetworkProps(),i=e==null?void 0:e.find(u=>u.id.toString()===(r==null?void 0:r.toString())),a=t.find(u=>(u==null?void 0:u.namespace)===s)||(t==null?void 0:t[0]),c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=le.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(u=>u.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(xe.noAdapters=!0),xe.noAdapters||(xe.activeChain=a==null?void 0:a.namespace,xe.activeCaipNetwork=i,R.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),xe.activeChain&&vo.set({activeChain:a==null?void 0:a.namespace})),l.forEach(u=>{const d=e==null?void 0:e.filter(h=>h.chainNamespace===u);R.state.chains.set(u,{namespace:u,networkState:Jt({...Iy,caipNetwork:d==null?void 0:d[0]}),accountState:Jt(Q1),caipNetworks:d??[],...n}),R.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){var e,n;if(xe.activeChain===t){const r=Array.from(xe.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&R.setActiveCaipNetwork(s)}}xe.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){xe.chains.set(t.namespace,{namespace:t.namespace,networkState:{...Iy,caipNetwork:r[0]},accountState:Q1,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),R.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=xe.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),xe.chains.set(t.chainNamespace,{...e,caipNetworks:r}),R.setRequestedCaipNetworks(r,t.chainNamespace),be.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,s,i;const n=xe.chains.get(t);if(n){const o=((r=xe.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((s=n.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=n==null?void 0:n.caipNetworks)!=null&&i[0])&&R.setActiveCaipNetwork(n.caipNetworks[0]),xe.chains.set(t,{...n,caipNetworks:a}),R.setRequestedCaipNetworks(a||[],t),a.length===0&&be.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=xe.chains.get(t);n&&(n.networkState={...n.networkState||Iy,...e},xe.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=xe.chains.get(t);if(r){const s={...r.accountState||Q1,...e};xe.chains.set(t,{...r,accountState:s}),(xe.chains.size===1||xe.activeChain===t)&&(e.caipAddress&&(xe.activeCaipAddress=e.caipAddress),ye.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=xe.chains.get(t);if(n){const r={...n.networkState||Iy,...e};xe.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){R.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&be.removeConnectorId(n)},setActiveNamespace(t){var r,s;xe.activeChain=t;const e=t?xe.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(xe.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,xe.activeCaipNetwork=n,R.setChainNetworkData(t,{caipNetwork:n}),we.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),vo.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,i;if(!t)return;xe.activeChain!==t.chainNamespace&&R.setIsSwitchingNamespace(!0);const e=xe.chains.get(t.chainNamespace);xe.activeChain=t.chainNamespace,xe.activeCaipNetwork=t,R.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?xe.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:xe.activeCaipAddress=void 0,R.setAccountProp("caipAddress",xe.activeCaipAddress,t.chainNamespace),e&&ye.replaceState(e.accountState),St.resetSend(),vo.set({activeChain:xe.activeChain,selectedNetworkId:(i=xe.activeCaipNetwork)==null?void 0:i.caipNetworkId}),we.setActiveCaipNetworkId(t.caipNetworkId),!R.checkIfSupportedNetwork(t.chainNamespace)&&le.state.enableNetworkSwitch&&!le.state.allowUnsupportedChain&&!ke.state.wcBasic&&R.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=xe.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==R.state.activeChain,n=(s=R.getNetworkData(t))==null?void 0:s.caipNetwork,r=R.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await R.switchActiveNetwork(r)},async switchActiveNetwork(t){var s;const e=R.state.chains.get(R.state.activeChain),n=!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(i=>{var o;return i.id===((o=xe.activeCaipNetwork)==null?void 0:o.id)})),r=R.getNetworkControllerClient(t.chainNamespace);if(r){try{await r.switchCaipNetwork(t),n&&kt.close()}catch{We.goBack()}jt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||xe.activeChain,n=xe.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||xe.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=xe.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var s;let n=xe.activeChain;if(e&&(n=e),!n)return;const r=(s=xe.chains.get(n))==null?void 0:s.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=xe.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=xe.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return De.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return xe.chains.forEach(e=>{const n=R.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){R.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=R.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));be.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return xe.chains.forEach(e=>{const n=R.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return xe.activeCaipNetwork},getActiveCaipAddress(){return xe.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=xe.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=R.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());R.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||xe.activeCaipNetwork,r=R.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(s=>s.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!xe.activeChain)return!0;const e=R.getRequestedCaipNetworks(xe.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){R.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=Ig.caipNetworkIdToNumber((r=xe.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=xe.activeChain;if(!e||!t)return!1;const n=R.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},showUnsupportedChainUI(){kt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=xe.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Dt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){R.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");xe.activeCaipAddress=void 0,R.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),be.removeConnectorId(e)},setIsSwitchingNamespace(t){xe.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(xe.chains.forEach(s=>{ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=xe.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=R.state.chains.get(t))==null?void 0:e.accountState:ye.state},getNetworkData(t){var n;const e=t||xe.activeChain;if(e)return(n=R.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const n=R.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(a=>a.id===e);return r||((i=n==null?void 0:n.networkState)==null?void 0:i.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=be.state.filterByNamespace;return(t?[xe.chains.get(t)]:Array.from(xe.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?R.getRequestedCaipNetworks(t):R.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){xe.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return xe.lastConnectedSIWECaipNetwork}},R=Bs(KX),YX={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},Cj=De.getBlockchainApiUrl(),Vr=Jt({clientId:null,api:new xm({baseUrl:Cj,clientId:null}),supportedChains:{http:[],ws:[]}}),qe={state:Vr,async get(t){const{st:e,sv:n}=qe.getSdkProperties(),r=le.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return Vr.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=le.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Vr.supportedChains.http.length||await qe.getSupportedNetworks()}catch{return!1}return Vr.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await qe.get({path:"v1/supported-chains"});return Vr.supportedChains=t,t}catch{return Vr.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await qe.isNetworkSupported(e))return{avatar:"",name:""};const r=we.getIdentityFromCacheForAddress(t);if(r)return r;const s=await qe.get({path:`/v1/identity/${t}`,params:{sender:R.state.activeCaipAddress?De.getPlainAddress(R.state.activeCaipAddress):void 0}});return we.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:s,chainId:i}){var a;return await qe.isNetworkSupported((a=R.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?qe.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:i},signal:r,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var o;return await qe.isNetworkSupported((o=R.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?qe.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await qe.isNetworkSupported((n=R.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?qe.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await qe.isNetworkSupported((n=R.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Vr.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:le.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await qe.isNetworkSupported((r=R.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?qe.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=qe.getSdkProperties();if(!await qe.isNetworkSupported((s=R.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return qe.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var o;if(!await qe.isNetworkSupported((o=R.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Vr.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Dt.CONVERT_SLIPPAGE_TOLERANCE},projectId:le.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:s}=qe.getSdkProperties();if(!await qe.isNetworkSupported((o=R.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return qe.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var l;const{st:r,sv:s}=qe.getSdkProperties();if(!await qe.isNetworkSupported((l=R.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return ki.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=we.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await qe.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return we.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await qe.isNetworkSupported((n=R.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?qe.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await qe.isNetworkSupported((n=R.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?qe.get({path:`/v1/profile/reverse/${t}`,params:{sender:ye.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await qe.isNetworkSupported((n=R.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?qe.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var i;return await qe.isNetworkSupported((i=R.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?Vr.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var a;return await qe.isNetworkSupported((a=R.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await Vr.api.post({path:"/v1/generators/onrampurl",params:{projectId:le.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await qe.isNetworkSupported((e=R.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await qe.get({path:"/v1/onramp/options"})}catch{return YX}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await qe.isNetworkSupported((s=R.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await Vr.api.post({path:"/v1/onramp/quote",params:{projectId:le.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await qe.isNetworkSupported((n=R.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?qe.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await qe.isNetworkSupported((s=R.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Vr.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:le.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){Vr.clientId=t,Vr.api=new xm({baseUrl:Cj,clientId:t})}},J1={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return Lh(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},e2={async getMyTokensWithBalance(t){const e=ye.state.address,n=R.state.activeCaipNetwork,r=be.getConnectorId("eip155")===ee.CONNECTOR_ID.AUTH;if(!e||!n)return[];const s=`${n.caipNetworkId}:${e}`,i=we.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace==="eip155"&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await qe.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){var n,r;try{const s=J1.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await ke.getCapabilities(t);if(!((r=(n=i==null?void 0:i[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await ke.walletGetAssets({account:t,chainFilter:[s]});if(!J1.isWalletGetAssetsResponse(o))return null;const c=(o[s]||[]).map(l=>J1.createBalance(l,e.caipNetworkId));return we.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},Fs=Jt({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),QX={state:Fs,replaceState(t){t&&Object.assign(Fs,hu(t))},subscribe(t){return R.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return R.subscribeChainProp("accountState",s=>{if(s){const i=s[t];r!==i&&(r=i,e(i))}},n)},setStatus(t,e){R.setAccountProp("status",t,e)},getCaipAddress(t){return R.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?De.getPlainAddress(t):void 0;e===R.state.activeChain&&(R.state.activeCaipAddress=t),R.setAccountProp("caipAddress",t,e),R.setAccountProp("address",n,e)},setBalance(t,e,n){R.setAccountProp("balance",t,n),R.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){R.setAccountProp("profileName",t,e)},setProfileImage(t,e){R.setAccountProp("profileImage",t,e)},setUser(t,e){R.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){R.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){R.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){R.setAccountProp("currentTab",t,R.state.activeChain)},setTokenBalance(t,e){t&&R.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){R.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){R.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=R.getAccountProp("addressLabels",n)||new Map;r.set(t,e),R.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=R.getAccountProp("addressLabels",e)||new Map;n.delete(t),R.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){R.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){R.setAccountProp("preferredAccountTypes",{...Fs.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){Fs.preferredAccountTypes=t},setSocialProvider(t,e){t&&R.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){R.setAccountProp("socialWindow",t?hu(t):void 0,e)},setFarcasterUrl(t,e){R.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var i,o;Fs.balanceLoading=!0;const e=(i=R.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=R.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=R.state.activeCaipAddress,s=r?De.getPlainAddress(r):void 0;if(Fs.lastRetry&&!De.isAllowedRetry(Fs.lastRetry,30*Dt.ONE_SEC_MS))return Fs.balanceLoading=!1,[];try{if(s&&e&&n){const a=await e2.getMyTokensWithBalance();return ye.setTokenBalance(a,n),Fs.lastRetry=void 0,Fs.balanceLoading=!1,a}}catch(a){Fs.lastRetry=Date.now(),t==null||t(a),ki.showError("Token Balance Unavailable")}finally{Fs.balanceLoading=!1}return[]},resetAccount(t){R.resetAccount(t)}},ye=Bs(QX),JX={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=R.state.activeCaipNetwork,r=We.state.data;if(t.id===(n==null?void 0:n.id))return;const i=ye.getCaipAddress(R.state.activeChain),o=t.chainNamespace!==R.state.activeChain,a=ye.getCaipAddress(t.chainNamespace),l=be.getConnectorId(R.state.activeChain)===ee.CONNECTOR_ID.AUTH,u=ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?We.push("SwitchNetwork",{...r,network:t}):i&&o&&!a?We.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):We.push("SwitchNetwork",{...r,network:t})}},Gr=Jt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),ZX={state:Gr,subscribe(t){return lr(Gr,()=>t(Gr))},subscribeKey(t,e){return ur(Gr,t,e)},async open(t){var o,a;const e=ye.state.status==="connected",n=t==null?void 0:t.namespace,r=R.state.activeChain,s=n&&n!==r,i=(o=R.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress;if(ke.state.wcBasic?Me.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Me.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),be.setFilterByNamespace(t==null?void 0:t.namespace),kt.setLoading(!0,n),n&&s){const c=((a=R.getNetworkData(n))==null?void 0:a.caipNetwork)||R.getRequestedCaipNetworks(n)[0];c&&JX.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0})}else{const c=R.state.noAdapters;le.state.manualWCControl||c&&!i?De.isMobile()?We.reset("AllWallets"):We.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?We.reset(t.view,t.data):i?We.reset("Account"):We.reset("Connect")}Gr.open=!0,vo.set({open:!0}),jt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=le.state.enableEmbedded,e=!!R.state.activeCaipAddress;Gr.open&&jt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Gr.open=!1,We.reset("Connect"),kt.clearLoading(),t?e?We.replace("Account"):We.push("Connect"):vo.set({open:!1}),ke.resetUri()},setLoading(t,e){e&&Gr.loadingNamespaceMap.set(e,t),Gr.loading=t,vo.set({loading:t})},clearLoading(){Gr.loadingNamespaceMap.clear(),Gr.loading=!1},shake(){Gr.shake||(Gr.shake=!0,setTimeout(()=>{Gr.shake=!1},500))}},kt=Bs(ZX),yp={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},XC={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},XX={providers:vj,selectedProvider:null,error:null,purchaseCurrency:yp,paymentCurrency:XC,purchaseCurrencies:[yp],paymentCurrencies:[],quotesLoading:!1},gt=Jt(XX),eee={state:gt,subscribe(t){return lr(gt,()=>t(gt))},subscribeKey(t,e){return ur(gt,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=R.state.activeChain===ee.CHAIN.SOLANA?"SOL":"USDC",n=ye.state.address??"",r=new URL(t.url);r.searchParams.append("publicKey",wX),r.searchParams.append("destinationCurrencyCode",e),r.searchParams.append("walletAddress",n),r.searchParams.append("externalCustomerId",le.state.projectId),gt.selectedProvider={...t,url:r.toString()}}else gt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=vj.filter(r=>e.includes(r.name));gt.providers=n}else gt.providers=[]},setPurchaseCurrency(t){gt.purchaseCurrency=t},setPaymentCurrency(t){gt.paymentCurrency=t},setPurchaseAmount(t){ex.state.purchaseAmount=t},setPaymentAmount(t){ex.state.paymentAmount=t},async getAvailableCurrencies(){const t=await qe.getOnrampOptions();gt.purchaseCurrencies=t.purchaseCurrencies,gt.paymentCurrencies=t.paymentCurrencies,gt.paymentCurrency=t.paymentCurrencies[0]||XC,gt.purchaseCurrency=t.purchaseCurrencies[0]||yp,await Me.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Me.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;gt.quotesLoading=!0;try{const n=await qe.getOnrampQuote({purchaseCurrency:gt.purchaseCurrency,paymentCurrency:gt.paymentCurrency,amount:((t=gt.paymentAmount)==null?void 0:t.toString())||"0",network:(e=gt.purchaseCurrency)==null?void 0:e.symbol});return gt.quotesLoading=!1,gt.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return gt.error=n.message,gt.quotesLoading=!1,null}finally{gt.quotesLoading=!1}},resetState(){gt.selectedProvider=null,gt.error=null,gt.purchaseCurrency=yp,gt.paymentCurrency=XC,gt.purchaseCurrencies=[yp],gt.paymentCurrencies=[],gt.paymentAmount=void 0,gt.purchaseAmount=void 0,gt.quotesLoading=!1}},ex=Bs(eee),WN=2147483648,tee={convertEVMChainIdToCoinType(t){if(t>=WN)throw new Error("Invalid chainId");return(WN|t)>>>0}},zs=Jt({suggestions:[],loading:!1}),nee={state:zs,subscribe(t){return lr(zs,()=>t(zs))},subscribeKey(t,e){return ur(zs,t,e)},async resolveName(t){var e,n;try{return await qe.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await qe.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{zs.loading=!0,zs.suggestions=[];const e=await qe.getEnsNameSuggestions(t);return zs.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],zs.suggestions}catch(e){const n=wp.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{zs.loading=!1}},async getNamesForAddress(t){try{if(!R.state.activeCaipNetwork)return[];const n=we.getEnsFromCacheForAddress(t);if(n)return n;const r=await qe.reverseLookupEnsName({address:t});return we.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=wp.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=R.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=ye.state.address,r=be.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");zs.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});We.pushTransactionStack({onCancel(){We.replace("RegisterAccountName")}});const i=await ke.signMessage(s);zs.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=tee.convertEVMChainIdToCoinType(Number(o));await qe.registerEnsName({coinType:a,address:n,signature:i,message:s}),ye.setProfileName(t,e.chainNamespace),We.replace("RegisterAccountNameSuccess")}catch(s){const i=wp.parseEnsApiError(s,`Error registering name ${t}`);throw We.replace("RegisterAccountName"),new Error(i)}finally{zs.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},wp=Bs(nee);var t2={exports:{}},Gd=typeof Reflect=="object"?Reflect:null,HN=Gd&&typeof Gd.apply=="function"?Gd.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},xw;Gd&&typeof Gd.ownKeys=="function"?xw=Gd.ownKeys:Object.getOwnPropertySymbols?xw=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:xw=function(e){return Object.getOwnPropertyNames(e)};function ree(t){console&&console.warn&&console.warn(t)}var xj=Number.isNaN||function(e){return e!==e};function qt(){qt.init.call(this)}t2.exports=qt;t2.exports.once=aee;qt.EventEmitter=qt;qt.prototype._events=void 0;qt.prototype._eventsCount=0;qt.prototype._maxListeners=void 0;var VN=10;function qv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(qt,"defaultMaxListeners",{enumerable:!0,get:function(){return VN},set:function(t){if(typeof t!="number"||t<0||xj(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");VN=t}});qt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};qt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||xj(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Sj(t){return t._maxListeners===void 0?qt.defaultMaxListeners:t._maxListeners}qt.prototype.getMaxListeners=function(){return Sj(this)};qt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")HN(c,this,n);else for(var l=c.length,u=Pj(c,l),r=0;r<l;++r)HN(u[r],this,n);return!0};function Aj(t,e,n,r){var s,i,o;if(qv(n),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]),o===void 0)o=i[e]=n,++t._eventsCount;else if(typeof o=="function"?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=Sj(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,ree(a)}return t}qt.prototype.addListener=function(e,n){return Aj(this,e,n,!1)};qt.prototype.on=qt.prototype.addListener;qt.prototype.prependListener=function(e,n){return Aj(this,e,n,!0)};function see(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ij(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=see.bind(r);return s.listener=n,r.wrapFn=s,s}qt.prototype.once=function(e,n){return qv(n),this.on(e,Ij(this,e,n)),this};qt.prototype.prependOnceListener=function(e,n){return qv(n),this.prependListener(e,Ij(this,e,n)),this};qt.prototype.removeListener=function(e,n){var r,s,i,o,a;if(qv(n),s=this._events,s===void 0)return this;if(r=s[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():iee(r,i),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};qt.prototype.off=qt.prototype.removeListener;qt.prototype.removeAllListeners=function(e){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(e,n[s]);return this};function Tj(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?oee(s):Pj(s,s.length)}qt.prototype.listeners=function(e){return Tj(this,e,!0)};qt.prototype.rawListeners=function(e){return Tj(this,e,!1)};qt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Nj.call(t,e)};qt.prototype.listenerCount=Nj;function Nj(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}qt.prototype.eventNames=function(){return this._eventsCount>0?xw(this._events):[]};function Pj(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function iee(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function oee(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function aee(t,e){return new Promise(function(n,r){function s(o){t.removeListener(e,i),r(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}kj(t,e,i,{once:!0}),e!=="error"&&cee(t,s,{once:!0})})}function cee(t,e,n){typeof t.on=="function"&&kj(t,"error",e,n)}function kj(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){r.once&&t.removeEventListener(e,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var ai=t2.exports;const n2=Cu(ai);var pe={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tx=function(t,e){return tx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},tx(t,e)};function lee(t,e){tx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var nx=function(){return nx=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},nx.apply(this,arguments)};function uee(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function dee(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function hee(t,e){return function(n,r){e(n,r,t)}}function fee(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function pee(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function gee(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function mee(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function yee(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function rx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oj(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function wee(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Oj(arguments[e]));return t}function vee(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function Ng(t){return this instanceof Ng?(this.v=t,this):new Ng(t)}function bee(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,m){i.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof Ng?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function _ee(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Ng(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function Eee(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof rx=="function"?rx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function Cee(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function xee(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function See(t){return t&&t.__esModule?t:{default:t}}function Aee(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Iee(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Tee=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return nx},__asyncDelegator:_ee,__asyncGenerator:bee,__asyncValues:Eee,__await:Ng,__awaiter:pee,__classPrivateFieldGet:Aee,__classPrivateFieldSet:Iee,__createBinding:mee,__decorate:dee,__exportStar:yee,__extends:lee,__generator:gee,__importDefault:See,__importStar:xee,__makeTemplateObject:Cee,__metadata:fee,__param:hee,__read:Oj,__rest:uee,__spread:wee,__spreadArrays:vee,__values:rx},Symbol.toStringTag,{value:"Module"})),Wv=Q0(Tee);var Z1={},Cf={},GN;function Nee(){if(GN)return Cf;GN=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Cf.delay=t,Cf}var ul={},X1={},dl={},KN;function Pee(){return KN||(KN=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.ONE_THOUSAND=dl.ONE_HUNDRED=void 0,dl.ONE_HUNDRED=100,dl.ONE_THOUSAND=1e3),dl}var e_={},YN;function kee(){return YN||(YN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(e_)),e_}var QN;function Rj(){return QN||(QN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Wv;e.__exportStar(Pee(),t),e.__exportStar(kee(),t)}(X1)),X1}var JN;function Oee(){if(JN)return ul;JN=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.fromMiliseconds=ul.toMiliseconds=void 0;const t=Rj();function e(r){return r*t.ONE_THOUSAND}ul.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return ul.fromMiliseconds=n,ul}var ZN;function Ree(){return ZN||(ZN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Wv;e.__exportStar(Nee(),t),e.__exportStar(Oee(),t)}(Z1)),Z1}var Ku={},XN;function $ee(){if(XN)return Ku;XN=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Ku.Watch=t,Ku.default=t,Ku}var t_={},xf={},eP;function Dee(){if(eP)return xf;eP=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.IWatch=void 0;class t{}return xf.IWatch=t,xf}var tP;function jee(){return tP||(tP=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Wv.__exportStar(Dee(),t)}(t_)),t_}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Wv;e.__exportStar(Ree(),t),e.__exportStar($ee(),t),e.__exportStar(jee(),t),e.__exportStar(Rj(),t)})(pe);class ku{}let Uee=class extends ku{constructor(e){super()}};const nP=pe.FIVE_SECONDS,Ou={pulse:"heartbeat_pulse"};let Lee=class $j extends Uee{constructor(e){super(e),this.events=new ai.EventEmitter,this.interval=nP,this.interval=(e==null?void 0:e.interval)||nP}static async init(e){const n=new $j(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),pe.toMiliseconds(this.interval))}pulse(){this.events.emit(Ou.pulse)}};const Mee=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Bee=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Fee=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function zee(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){qee(t);return}return e}function qee(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Ty(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Fee.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Mee.test(t)||Bee.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,zee)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function Wee(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Mn(t,...e){try{return Wee(t(...e))}catch(n){return Promise.reject(n)}}function Hee(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Vee(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Sw(t){if(Hee(t))return String(t);if(Vee(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Sw(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const sx="base64:";function Gee(t){return typeof t=="string"?t:sx+Qee(t)}function Kee(t){return typeof t!="string"||!t.startsWith(sx)?t:Yee(t.slice(sx.length))}function Yee(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function Qee(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Xr(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function Jee(...t){return Xr(t.join(":"))}function Ny(t){return t=Xr(t),t?t+":":""}function Zee(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function Xee(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const ete="memory",tte=()=>{const t=new Map;return{name:ete,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function nte(t={}){const e={mounts:{"":t.driver||tte()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),s=(l,u)=>{if(e.watching){u=Xr(u);for(const d of e.watchListeners)d(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await rP(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=p=>{let m=h.get(p.base);return m||(m={driver:p.driver,base:p.base,items:[]},h.set(p.base,m)),m};for(const p of l){const m=typeof p=="string",y=Xr(m?p:p.key),w=m?void 0:p.value,v=m||!p.options?u:{...u,...p.options},b=n(y);f(b).items.push({key:y,value:w,relativeKey:b.relativeKey,options:v})}return Promise.all([...h.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=Xr(l);const{relativeKey:d,driver:h}=n(l);return Mn(h.hasItem,d,u)},getItem(l,u={}){l=Xr(l);const{relativeKey:d,driver:h}=n(l);return Mn(h.getItem,d,u).then(f=>Ty(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?Mn(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:Jee(d.base,f.key),value:Ty(f.value)}))):Promise.all(d.items.map(h=>Mn(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:Ty(f)})))))},getItemRaw(l,u={}){l=Xr(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?Mn(h.getItemRaw,d,u):Mn(h.getItem,d,u).then(f=>Kee(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=Xr(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await Mn(f.setItem,h,Sw(u),d),f.watch||s("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return Mn(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:Sw(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>Mn(d.driver.setItem,h.relativeKey,Sw(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=Xr(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await Mn(f.setItemRaw,h,u,d);else if(f.setItem)await Mn(f.setItem,h,Gee(u),d);else return;f.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=Xr(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await Mn(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await Mn(h.removeItem,d+"$",u),h.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=Xr(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await Mn(h.getMeta,d,u)),!u.nativeOnly){const p=await Mn(h.getItem,d+"$",u).then(m=>Ty(m));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var y;l=Ny(l);const d=r(l,!0);let h=[];const f=[];let p=!0;for(const w of d){(y=w.driver.flags)!=null&&y.maxDepth||(p=!1);const v=await Mn(w.driver.getKeys,w.relativeBase,u);for(const b of v){const E=w.mountpoint+Xr(b);h.some(_=>E.startsWith(_))||f.push(E)}h=[w.mountpoint,...h.filter(b=>!b.startsWith(w.mountpoint))]}const m=u.maxDepth!==void 0&&!p;return f.filter(w=>(!m||Zee(w,u.maxDepth))&&Xee(w,l))},async clear(l,u={}){l=Ny(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return Mn(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>sP(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=Ny(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(rP(u,s,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,h;l=Ny(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(d=e.unwatch)[l])==null||h.call(d),delete e.unwatch[l]),u&&await sP(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=Xr(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=Xr(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function rP(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function sP(t){typeof t.dispose=="function"&&await Mn(t.dispose)}function Ru(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Dj(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=Ru(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(e,s).objectStore(e)))}let n_;function Sm(){return n_||(n_=Dj("keyval-store","keyval")),n_}function iP(t,e=Sm()){return e("readonly",n=>Ru(n.get(t)))}function rte(t,e,n=Sm()){return n("readwrite",r=>(r.put(e,t),Ru(r.transaction)))}function ste(t,e=Sm()){return e("readwrite",n=>(n.delete(t),Ru(n.transaction)))}function ite(t=Sm()){return t("readwrite",e=>(e.clear(),Ru(e.transaction)))}function ote(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Ru(t.transaction)}function ate(t=Sm()){return t("readonly",e=>{if(e.getAllKeys)return Ru(e.getAllKeys());const n=[];return ote(e,r=>n.push(r.key)).then(()=>n)})}const cte=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),lte=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function pu(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return lte(t)}catch{return t}}function ma(t){return typeof t=="string"?t:cte(t)||""}const ute="idb-keyval";var dte=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=Dj(t.dbName,t.storeName)),{name:ute,options:t,async hasItem(s){return!(typeof await iP(n(s),r)>"u")},async getItem(s){return await iP(n(s),r)??null},setItem(s,i){return rte(n(s),i,r)},removeItem(s){return ste(n(s),r)},getKeys(){return ate(r)},clear(){return ite(r)}}};const hte="WALLET_CONNECT_V2_INDEXED_DB",fte="keyvaluestorage";let pte=class{constructor(){this.indexedDb=nte({driver:dte({dbName:hte,storeName:fte})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,ma(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var r_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Aw={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof r_<"u"&&r_.localStorage?Aw.exports=r_.localStorage:typeof window<"u"&&window.localStorage?Aw.exports=window.localStorage:Aw.exports=new e})();function gte(t){var e;return[t[0],pu((e=t[1])!=null?e:"")]}let mte=class{constructor(){this.localStorage=Aw.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(gte)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return pu(n)}async setItem(e,n){this.localStorage.setItem(e,ma(n))}async removeItem(e){this.localStorage.removeItem(e)}};const yte="wc_storage_version",oP=1,wte=async(t,e,n)=>{const r=yte,s=await e.getItem(r);if(s&&s>=oP){n(e);return}const i=await t.getKeys();if(!i.length){n(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,oP),n(e),vte(t,o)},vte=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let bte=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new mte;this.storage=e;try{const n=new pte;wte(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function _te(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var Ete=Cte;function Cte(t,e,n){var r=n&&n.stringify||_te,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var o=new Array(i);o[0]=r(t);for(var a=1;a<i;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-s,d=-1,h=t&&t.length||0,f=0;f<h;){if(t.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Number(e[u]),d=f+2,f++;break;case 105:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Math.floor(Number(e[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<f&&(l+=t.slice(d,f));var p=typeof e[u];if(p==="string"){l+="'"+e[u]+"'",d=f+2,f++;break}if(p==="function"){l+=e[u].name||"<anonymous>",d=f+2,f++;break}l+=r(e[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=t.slice(d,f)),l+=String(e[u]),d=f+2,f++;break;case 37:d<f&&(l+=t.slice(d,f)),l+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?t:(d<h&&(l+=t.slice(d)),l)}const aP=Ete;var wd=bo;const Pg=Rte().console||{},xte={mapHttpRequest:Py,mapHttpResponse:Py,wrapRequestSerializer:s_,wrapResponseSerializer:s_,wrapErrorSerializer:s_,req:Py,res:Py,err:Nte};function Ste(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function bo(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||Pg;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},s=Ste(t.browser.serialize,r);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=kg),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:s,asObject:t.browser.asObject,levels:o,timestamp:Pte(t)};c.levels=bo.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=kg,c.serializers=r,c._serialize=s,c._stdErrSerialize=i,c.child=f,e&&(c._logEvent=ix());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,Yu(l,c,"error","log"),Yu(l,c,"fatal","error"),Yu(l,c,"warn","error"),Yu(l,c,"info","log"),Yu(l,c,"debug","log"),Yu(l,c,"trace","log")}function f(p,m){if(!p)throw new Error("missing bindings for child Pino");m=m||{},s&&p.serializers&&(m.serializers=p.serializers);const y=m.serializers;if(s&&y){var w=Object.assign({},r,y),v=t.browser.serialize===!0?Object.keys(w):s;delete p.serializers,Hv([p],v,w,this._stdErrSerialize)}function b(E){this._childLevel=(E._childLevel|0)+1,this.error=Qu(E,p,"error"),this.fatal=Qu(E,p,"fatal"),this.warn=Qu(E,p,"warn"),this.info=Qu(E,p,"info"),this.debug=Qu(E,p,"debug"),this.trace=Qu(E,p,"trace"),w&&(this.serializers=w,this._serialize=v),e&&(this._logEvent=ix([].concat(E._logEvent.bindings,p)))}return b.prototype=this,new b(this)}return c}bo.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};bo.stdSerializers=xte;bo.stdTimeFunctions=Object.assign({},{nullTime:jj,epochTime:Uj,unixTime:kte,isoTime:Ote});function Yu(t,e,n,r){const s=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?kg:s[n]?s[n]:Pg[n]||Pg[r]||kg,Ate(t,e,n)}function Ate(t,e,n){!t.transmit&&e[n]===kg||(e[n]=function(r){return function(){const i=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Pg?Pg:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&Hv(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,Ite(this,n,o,i)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=bo.levels.values[l],d=bo.levels.values[n];if(d<u)return;Tte(this,{ts:i,methodLevel:n,methodValue:d,transmitValue:bo.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function Ite(t,e,n,r){t._serialize&&Hv(n,t._serialize,t.serializers,t._stdErrSerialize);const s=n.slice();let i=s[0];const o={};r&&(o.time=r),o.level=bo.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),i!==null&&typeof i=="object"){for(;a--&&typeof s[0]=="object";)Object.assign(o,s.shift());i=s.length?aP(s.shift(),s):void 0}else typeof i=="string"&&(i=aP(s.shift(),s));return i!==void 0&&(o.msg=i),o}function Hv(t,e,n,r){for(const s in t)if(r&&t[s]instanceof Error)t[s]=bo.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in n&&(t[s][i]=n[i](t[s][i]))}function Qu(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var s=1;s<r.length;s++)r[s]=arguments[s-1];return t[n].apply(this,r)}}function Tte(t,e,n){const r=e.send,s=e.ts,i=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;Hv(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=o,r(i,t._logEvent,a),t._logEvent=ix(c)}function ix(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Nte(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function Pte(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?jj:Uj}function Py(){return{}}function s_(t){return t}function kg(){}function jj(){return!1}function Uj(){return Date.now()}function kte(){return Math.round(Date.now()/1e3)}function Ote(){return new Date(Date.now()).toISOString()}function Rte(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const Am=Cu(wd),$te={level:"info"},Im="custom_context",r2=1e3*1024;let Dte=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},cP=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new Dte(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},Lj=class{constructor(e,n=r2){this.level=e??"error",this.levelValue=wd.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new cP(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===wd.levels.values.error?console.error(e):n===wd.levels.values.warn?console.warn(e):n===wd.levels.values.debug?console.debug(e):n===wd.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(ma({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new cP(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(ma({extraMetadata:e})),new Blob(n,{type:"application/json"})}},jte=class{constructor(e,n=r2){this.baseChunkLogger=new Lj(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},Ute=class{constructor(e,n=r2){this.baseChunkLogger=new Lj(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Lte=Object.defineProperty,Mte=Object.defineProperties,Bte=Object.getOwnPropertyDescriptors,lP=Object.getOwnPropertySymbols,Fte=Object.prototype.hasOwnProperty,zte=Object.prototype.propertyIsEnumerable,uP=(t,e,n)=>e in t?Lte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,C0=(t,e)=>{for(var n in e||(e={}))Fte.call(e,n)&&uP(t,n,e[n]);if(lP)for(var n of lP(e))zte.call(e,n)&&uP(t,n,e[n]);return t},x0=(t,e)=>Mte(t,Bte(e));function qh(t){return x0(C0({},t),{level:(t==null?void 0:t.level)||$te.level})}function qte(t,e=Im){return t[e]||""}function Wte(t,e,n=Im){return t[n]=e,t}function ys(t,e=Im){let n="";return typeof t.bindings>"u"?n=qte(t,e):n=t.bindings().context||"",n}function Hte(t,e,n=Im){const r=ys(t,n);return r.trim()?`${r}/${e}`:e}function Tr(t,e,n=Im){const r=Hte(t,e,n),s=t.child({context:r});return Wte(s,r,n)}function Vte(t){var e,n;const r=new jte((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Am(x0(C0({},t.opts),{level:"trace",browser:x0(C0({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function Gte(t){var e;const n=new Ute((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Am(x0(C0({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function s2(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Vte(t):Gte(t)}var Kte=Object.defineProperty,Yte=(t,e,n)=>e in t?Kte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dP=(t,e,n)=>Yte(t,typeof e!="symbol"?e+"":e,n);let Qte=class extends ku{constructor(e){super(),this.opts=e,dP(this,"protocol","wc"),dP(this,"version",2)}};var Jte=Object.defineProperty,Zte=(t,e,n)=>e in t?Jte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xte=(t,e,n)=>Zte(t,e+"",n);let ene=class extends ku{constructor(e,n){super(),this.core=e,this.logger=n,Xte(this,"records",new Map)}},tne=class{constructor(e,n){this.logger=e,this.core=n}},nne=class extends ku{constructor(e,n){super(),this.relayer=e,this.logger=n}},rne=class extends ku{constructor(e){super()}},sne=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},ine=class extends ku{constructor(e,n){super(),this.relayer=e,this.logger=n}},one=class extends ku{constructor(e,n){super(),this.core=e,this.logger=n}},ane=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},cne=class{constructor(e,n){this.projectId=e,this.logger=n}},lne=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var une=Object.defineProperty,dne=(t,e,n)=>e in t?une(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hP=(t,e,n)=>dne(t,typeof e!="symbol"?e+"":e,n);let hne=class{constructor(e){this.opts=e,hP(this,"protocol","wc"),hP(this,"version",2)}},fne=class{constructor(e){this.client=e}};function pne(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Mj(t,...e){if(!pne(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function fP(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gne(t,e){Mj(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Ju=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const i_=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function mne(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Bj(t){return typeof t=="string"&&(t=mne(t)),Mj(t),t}let yne=class{clone(){return this._cloneInto()}};function wne(t){const e=r=>t().update(Bj(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Fj(t=32){if(Ju&&typeof Ju.getRandomValues=="function")return Ju.getRandomValues(new Uint8Array(t));if(Ju&&typeof Ju.randomBytes=="function")return Ju.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function vne(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let bne=class extends yne{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=i_(this.buffer)}update(e){fP(this);const{view:n,buffer:r,blockLen:s}=this;e=Bj(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=i_(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){fP(this),gne(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;vne(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=i_(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const ky=BigInt(2**32-1),ox=BigInt(32);function zj(t,e=!1){return e?{h:Number(t&ky),l:Number(t>>ox&ky)}:{h:Number(t>>ox&ky)|0,l:Number(t&ky)|0}}function _ne(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=zj(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const Ene=(t,e)=>BigInt(t>>>0)<<ox|BigInt(e>>>0),Cne=(t,e,n)=>t>>>n,xne=(t,e,n)=>t<<32-n|e>>>n,Sne=(t,e,n)=>t>>>n|e<<32-n,Ane=(t,e,n)=>t<<32-n|e>>>n,Ine=(t,e,n)=>t<<64-n|e>>>n-32,Tne=(t,e,n)=>t>>>n-32|e<<64-n,Nne=(t,e)=>e,Pne=(t,e)=>t,kne=(t,e,n)=>t<<n|e>>>32-n,One=(t,e,n)=>e<<n|t>>>32-n,Rne=(t,e,n)=>e<<n-32|t>>>64-n,$ne=(t,e,n)=>t<<n-32|e>>>64-n;function Dne(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const jne=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Une=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Lne=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Mne=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Bne=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Fne=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,st={fromBig:zj,split:_ne,toBig:Ene,shrSH:Cne,shrSL:xne,rotrSH:Sne,rotrSL:Ane,rotrBH:Ine,rotrBL:Tne,rotr32H:Nne,rotr32L:Pne,rotlSH:kne,rotlSL:One,rotlBH:Rne,rotlBL:$ne,add:Dne,add3L:jne,add3H:Une,add4L:Lne,add4H:Mne,add5H:Fne,add5L:Bne},[zne,qne]=st.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Oa=new Uint32Array(80),Ra=new Uint32Array(80);let Wne=class extends bne{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,m,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,m,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)Oa[b]=e.getUint32(n),Ra[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const E=Oa[b-15]|0,_=Ra[b-15]|0,x=st.rotrSH(E,_,1)^st.rotrSH(E,_,8)^st.shrSH(E,_,7),S=st.rotrSL(E,_,1)^st.rotrSL(E,_,8)^st.shrSL(E,_,7),A=Oa[b-2]|0,C=Ra[b-2]|0,k=st.rotrSH(A,C,19)^st.rotrBH(A,C,61)^st.shrSH(A,C,6),O=st.rotrSL(A,C,19)^st.rotrBL(A,C,61)^st.shrSL(A,C,6),B=st.add4L(S,O,Ra[b-7],Ra[b-16]),F=st.add4H(B,x,k,Oa[b-7],Oa[b-16]);Oa[b]=F|0,Ra[b]=B|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const E=st.rotrSH(d,h,14)^st.rotrSH(d,h,18)^st.rotrBH(d,h,41),_=st.rotrSL(d,h,14)^st.rotrSL(d,h,18)^st.rotrBL(d,h,41),x=d&f^~d&m,S=h&p^~h&y,A=st.add5L(v,_,S,qne[b],Ra[b]),C=st.add5H(A,w,E,x,zne[b],Oa[b]),k=A|0,O=st.rotrSH(r,s,28)^st.rotrBH(r,s,34)^st.rotrBH(r,s,39),B=st.rotrSL(r,s,28)^st.rotrBL(r,s,34)^st.rotrBL(r,s,39),F=r&i^r&a^i&a,H=s&o^s&c^o&c;w=m|0,v=y|0,m=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=st.add(l|0,u|0,C|0,k|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const N=st.add3L(k,B,H);r=st.add3H(N,C,O,F),s=N|0}({h:r,l:s}=st.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=st.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=st.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=st.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=st.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=st.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:y}=st.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:w,l:v}=st.add(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,m,y,w,v)}roundClean(){Oa.fill(0),Ra.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Hne=wne(()=>new Wne);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const i2=BigInt(0),qj=BigInt(1),Vne=BigInt(2);function o2(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function a2(t){if(!o2(t))throw new Error("Uint8Array expected")}function o_(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Gne=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function c2(t){a2(t);let e="";for(let n=0;n<t.length;n++)e+=Gne[t[n]];return e}function Wj(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?i2:BigInt("0x"+t)}const Do={_0:48,_9:57,A:65,F:70,a:97,f:102};function pP(t){if(t>=Do._0&&t<=Do._9)return t-Do._0;if(t>=Do.A&&t<=Do.F)return t-(Do.A-10);if(t>=Do.a&&t<=Do.f)return t-(Do.a-10)}function Hj(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=pP(t.charCodeAt(i)),a=pP(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Kne(t){return Wj(c2(t))}function Iw(t){return a2(t),Wj(c2(Uint8Array.from(t).reverse()))}function Vj(t,e){return Hj(t.toString(16).padStart(e*2,"0"))}function ax(t,e){return Vj(t,e).reverse()}function jo(t,e,n){let r;if(typeof e=="string")try{r=Hj(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(o2(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function gP(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];a2(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const a_=t=>typeof t=="bigint"&&i2<=t;function Yne(t,e,n){return a_(t)&&a_(e)&&a_(n)&&e<=t&&t<n}function Sf(t,e,n,r){if(!Yne(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Qne(t){let e;for(e=0;t>i2;t>>=qj,e+=1);return e}const Jne=t=>(Vne<<BigInt(t-1))-qj,Zne={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||o2(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function l2(t,e,n={}){const r=(s,i,o)=>{const a=Zne[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function mP(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Wn=BigInt(0),bn=BigInt(1),El=BigInt(2),Xne=BigInt(3),cx=BigInt(4),yP=BigInt(5),wP=BigInt(8);function Rn(t,e){const n=t%e;return n>=Wn?n:e+n}function ere(t,e,n){if(e<Wn)throw new Error("invalid exponent, negatives unsupported");if(n<=Wn)throw new Error("invalid modulus");if(n===bn)return Wn;let r=bn;for(;e>Wn;)e&bn&&(r=r*t%n),t=t*t%n,e>>=bn;return r}function Zi(t,e,n){let r=t;for(;e-- >Wn;)r*=r,r%=n;return r}function vP(t,e){if(t===Wn)throw new Error("invert: expected non-zero number");if(e<=Wn)throw new Error("invert: expected positive modulus, got "+e);let n=Rn(t,e),r=e,s=Wn,i=bn;for(;n!==Wn;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==bn)throw new Error("invert: does not exist");return Rn(s,e)}function tre(t){const e=(t-bn)/El;let n,r,s;for(n=t-bn,r=0;n%El===Wn;n/=El,r++);for(s=El;s<t&&ere(s,e,t)!==t-bn;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+bn)/cx;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+bn)/El;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(d);h<c&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const f=o.pow(l,bn<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function nre(t){if(t%cx===Xne){const e=(t+bn)/cx;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%wP===yP){const e=(t-yP)/wP;return function(n,r){const s=n.mul(r,El),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,El),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return tre(t)}const rre=(t,e)=>(Rn(t,e)&bn)===bn,sre=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ire(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=sre.reduce((r,s)=>(r[s]="function",r),e);return l2(t,n)}function ore(t,e,n){if(n<Wn)throw new Error("invalid exponent, negatives unsupported");if(n===Wn)return t.ONE;if(n===bn)return e;let r=t.ONE,s=e;for(;n>Wn;)n&bn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=bn;return r}function are(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function Gj(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Kj(t,e,n=!1,r={}){if(t<=Wn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=Gj(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:Jne(s),ZERO:Wn,ONE:bn,create:c=>Rn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Wn<=c&&c<t},is0:c=>c===Wn,isOdd:c=>(c&bn)===bn,neg:c=>Rn(-c,t),eql:(c,l)=>c===l,sqr:c=>Rn(c*c,t),add:(c,l)=>Rn(c+l,t),sub:(c,l)=>Rn(c-l,t),mul:(c,l)=>Rn(c*l,t),pow:(c,l)=>ore(a,c,l),div:(c,l)=>Rn(c*vP(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>vP(c,t),sqrt:r.sqrt||(c=>(o||(o=nre(t)),o(a,c))),invertBatch:c=>are(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?ax(c,i):Vj(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?Iw(c):Kne(c)}});return Object.freeze(a)}const bP=BigInt(0),Oy=BigInt(1);function c_(t,e){const n=e.negate();return t?n:e}function Yj(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function l_(t,e){Yj(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function cre(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function lre(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const u_=new WeakMap,Qj=new WeakMap;function d_(t){return Qj.get(t)||1}function ure(t,e){return{constTimeNegate:c_,hasPrecomputes(n){return d_(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>bP;)r&Oy&&(s=s.add(i)),i=i.double(),r>>=Oy;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=l_(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=l_(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<i;h++){const f=h*o;let p=Number(s&l);s>>=d,p>o&&(p-=u,s+=Oy);const m=f,y=f+Math.abs(p)-1,w=h%2!==0,v=p<0;p===0?c=c.add(c_(w,r[m])):a=a.add(c_(v,r[y]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=l_(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(s===bP)break;let f=Number(s&c);if(s>>=u,f>a&&(f-=l,s+=Oy),f===0)continue;let p=r[h+Math.abs(f)-1];f<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(n,r,s){let i=u_.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&u_.set(r,s(i))),i},wNAFCached(n,r,s){const i=d_(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=d_(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){Yj(r,e),Qj.set(n,r),u_.delete(n)}}}function dre(t,e,n,r){if(cre(n,t),lre(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=Qne(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let f=0;f<r.length;f++){const p=r[f],m=Number(p>>BigInt(d)&BigInt(a));c[m]=c[m].add(n[f])}let h=s;for(let f=c.length-1,p=s;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function hre(t){return ire(t.Fp),l2(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Gj(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const hi=BigInt(0),Kr=BigInt(1),Ry=BigInt(2),fre=BigInt(8),pre={zip215:!0};function gre(t){const e=hre(t);return l2(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function mre(t){const e=gre(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=Ry<<BigInt(a*8)-Kr,u=n.create,d=Kj(e.n,e.nBitLength),h=e.uvRatio||((N,T)=>{try{return{isValid:!0,value:n.sqrt(N*n.inv(T))}}catch{return{isValid:!1,value:hi}}}),f=e.adjustScalarBytes||(N=>N),p=e.domain||((N,T,U)=>{if(o_("phflag",U),T.length||U)throw new Error("Contexts/pre-hash are not supported");return N});function m(N,T){Sf("coordinate "+N,T,hi,l)}function y(N){if(!(N instanceof b))throw new Error("ExtendedPoint expected")}const w=mP((N,T)=>{const{ex:U,ey:D,ez:$}=N,L=N.is0();T==null&&(T=L?fre:n.inv($));const q=u(U*T),J=u(D*T),re=u($*T);if(L)return{x:hi,y:Kr};if(re!==Kr)throw new Error("invZ was invalid");return{x:q,y:J}}),v=mP(N=>{const{a:T,d:U}=e;if(N.is0())throw new Error("bad point: ZERO");const{ex:D,ey:$,ez:L,et:q}=N,J=u(D*D),re=u($*$),ne=u(L*L),ie=u(ne*ne),me=u(J*T),K=u(ne*u(me+re)),X=u(ie+u(U*u(J*re)));if(K!==X)throw new Error("bad point: equation left != right (1)");const se=u(D*$),te=u(L*q);if(se!==te)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(T,U,D,$){this.ex=T,this.ey=U,this.ez=D,this.et=$,m("x",T),m("y",U),m("z",D),m("t",$),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(T){if(T instanceof b)throw new Error("extended point not allowed");const{x:U,y:D}=T||{};return m("x",U),m("y",D),new b(U,D,Kr,u(U*D))}static normalizeZ(T){const U=n.invertBatch(T.map(D=>D.ez));return T.map((D,$)=>D.toAffine(U[$])).map(b.fromAffine)}static msm(T,U){return dre(b,d,T,U)}_setWindowSize(T){x.setWindowSize(this,T)}assertValidity(){v(this)}equals(T){y(T);const{ex:U,ey:D,ez:$}=this,{ex:L,ey:q,ez:J}=T,re=u(U*J),ne=u(L*$),ie=u(D*J),me=u(q*$);return re===ne&&ie===me}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:T}=e,{ex:U,ey:D,ez:$}=this,L=u(U*U),q=u(D*D),J=u(Ry*u($*$)),re=u(T*L),ne=U+D,ie=u(u(ne*ne)-L-q),me=re+q,K=me-J,X=re-q,se=u(ie*K),te=u(me*X),he=u(ie*X),Le=u(K*me);return new b(se,te,Le,he)}add(T){y(T);const{a:U,d:D}=e,{ex:$,ey:L,ez:q,et:J}=this,{ex:re,ey:ne,ez:ie,et:me}=T;if(U===BigInt(-1)){const It=u((L-$)*(ne+re)),ct=u((L+$)*(ne-re)),wt=u(ct-It);if(wt===hi)return this.double();const Kn=u(q*Ry*me),Hi=u(J*Ry*ie),Vi=Hi+Kn,In=ct+It,Yn=Hi-Kn,Gi=u(Vi*wt),Ea=u(In*Yn),Ki=u(Vi*Yn),Lu=u(wt*In);return new b(Gi,Ea,Lu,Ki)}const K=u($*re),X=u(L*ne),se=u(J*D*me),te=u(q*ie),he=u(($+L)*(re+ne)-K-X),Le=te-se,Te=te+se,Ce=u(X-U*K),Ue=u(he*Le),Qe=u(Te*Ce),At=u(he*Ce),yn=u(Le*Te);return new b(Ue,Qe,yn,At)}subtract(T){return this.add(T.negate())}wNAF(T){return x.wNAFCached(this,T,b.normalizeZ)}multiply(T){const U=T;Sf("scalar",U,Kr,r);const{p:D,f:$}=this.wNAF(U);return b.normalizeZ([D,$])[0]}multiplyUnsafe(T,U=b.ZERO){const D=T;return Sf("scalar",D,hi,r),D===hi?_:this.is0()||D===Kr?this:x.wNAFCachedUnsafe(this,D,b.normalizeZ,U)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return x.unsafeLadder(this,r).is0()}toAffine(T){return w(this,T)}clearCofactor(){const{h:T}=e;return T===Kr?this:this.multiplyUnsafe(T)}static fromHex(T,U=!1){const{d:D,a:$}=e,L=n.BYTES;T=jo("pointHex",T,L),o_("zip215",U);const q=T.slice(),J=T[L-1];q[L-1]=J&-129;const re=Iw(q),ne=U?l:n.ORDER;Sf("pointHex.y",re,hi,ne);const ie=u(re*re),me=u(ie-Kr),K=u(D*ie-$);let{isValid:X,value:se}=h(me,K);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const te=(se&Kr)===Kr,he=(J&128)!==0;if(!U&&se===hi&&he)throw new Error("Point.fromHex: x=0 and x_0=1");return he!==te&&(se=u(-se)),b.fromAffine({x:se,y:re})}static fromPrivateKey(T){return C(T).point}toRawBytes(){const{x:T,y:U}=this.toAffine(),D=ax(U,n.BYTES);return D[D.length-1]|=T&Kr?128:0,D}toHex(){return c2(this.toRawBytes())}}b.BASE=new b(e.Gx,e.Gy,Kr,u(e.Gx*e.Gy)),b.ZERO=new b(hi,Kr,Kr,hi);const{BASE:E,ZERO:_}=b,x=ure(b,a*8);function S(N){return Rn(N,r)}function A(N){return S(Iw(N))}function C(N){const T=n.BYTES;N=jo("private key",N,T);const U=jo("hashed private key",i(N),2*T),D=f(U.slice(0,T)),$=U.slice(T,2*T),L=A(D),q=E.multiply(L),J=q.toRawBytes();return{head:D,prefix:$,scalar:L,point:q,pointBytes:J}}function k(N){return C(N).pointBytes}function O(N=new Uint8Array,...T){const U=gP(...T);return A(i(p(U,jo("context",N),!!s)))}function B(N,T,U={}){N=jo("message",N),s&&(N=s(N));const{prefix:D,scalar:$,pointBytes:L}=C(T),q=O(U.context,D,N),J=E.multiply(q).toRawBytes(),re=O(U.context,J,L,N),ne=S(q+re*$);Sf("signature.s",ne,hi,r);const ie=gP(J,ax(ne,n.BYTES));return jo("result",ie,n.BYTES*2)}const F=pre;function H(N,T,U,D=F){const{context:$,zip215:L}=D,q=n.BYTES;N=jo("signature",N,2*q),T=jo("message",T),U=jo("publicKey",U,q),L!==void 0&&o_("zip215",L),s&&(T=s(T));const J=Iw(N.slice(q,2*q));let re,ne,ie;try{re=b.fromHex(U,L),ne=b.fromHex(N.slice(0,q),L),ie=E.multiplyUnsafe(J)}catch{return!1}if(!L&&re.isSmallOrder())return!1;const me=O($,ne.toRawBytes(),re.toRawBytes(),T);return ne.add(re.multiplyUnsafe(me)).subtract(ie).clearCofactor().equals(b.ZERO)}return E._setWindowSize(8),{CURVE:e,getPublicKey:k,sign:B,verify:H,ExtendedPoint:b,utils:{getExtendedPublicKey:C,randomPrivateKey:()=>o(n.BYTES),precompute(N=8,T=b.BASE){return T._setWindowSize(N),T.multiply(BigInt(3)),T}}}}BigInt(0),BigInt(1);const u2=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),_P=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const yre=BigInt(1),EP=BigInt(2);BigInt(3);const wre=BigInt(5),vre=BigInt(8);function bre(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=u2,o=t*t%i*t%i,a=Zi(o,EP,i)*o%i,c=Zi(a,yre,i)*t%i,l=Zi(c,wre,i)*c%i,u=Zi(l,e,i)*l%i,d=Zi(u,n,i)*u%i,h=Zi(d,r,i)*d%i,f=Zi(h,s,i)*h%i,p=Zi(f,s,i)*h%i,m=Zi(p,e,i)*l%i;return{pow_p_5_8:Zi(m,EP,i)*t%i,b2:o}}function _re(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Ere(t,e){const n=u2,r=Rn(e*e*e,n),s=Rn(r*r*e,n),i=bre(t*s).pow_p_5_8;let o=Rn(t*r*i,n);const a=Rn(e*o*o,n),c=o,l=Rn(o*_P,n),u=a===t,d=a===Rn(-t,n),h=a===Rn(-t*_P,n);return u&&(o=c),(d||h)&&(o=l),rre(o,n)&&(o=Rn(-o,n)),{isValid:u||d,value:o}}const Cre=Kj(u2,void 0,!0),xre={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Cre,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:vre,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Hne,randomBytes:Fj,adjustScalarBytes:_re,uvRatio:Ere},Jj=mre(xre),Sre="EdDSA",Are="JWT",S0=".",Vv="base64url",Zj="utf8",Xj="utf8",Ire=":",Tre="did",Nre="key",CP="base58btc",Pre="z",kre="K36",Ore=32;function d2(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function e6(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?d2(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function t6(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=e6(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return d2(n)}function Rre(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,w=0,v=p.length;w!==v&&p[w]===0;)w++,m++;for(var b=(v-w)*u+1>>>0,E=new Uint8Array(b);w!==v;){for(var _=p[w],x=0,S=b-1;(_!==0||x<y)&&S!==-1;S--,x++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=x,w++}for(var A=b-y;A!==b&&E[A]===0;)A++;for(var C=c.repeat(m);A<b;++A)C+=t.charAt(E[A]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,w=0;p[m]===c;)y++,m++;for(var v=(p.length-m)*l+1>>>0,b=new Uint8Array(v);p[m];){var E=n[p.charCodeAt(m)];if(E===255)return;for(var _=0,x=v-1;(E!==0||_<w)&&x!==-1;x--,_++)E+=a*b[x]>>>0,b[x]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,m++}if(p[m]!==" "){for(var S=v-w;S!==v&&b[S]===0;)S++;for(var A=new Uint8Array(y+(v-S)),C=y;S!==v;)A[C++]=b[S++];return A}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var $re=Rre,Dre=$re;const n6=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},jre=t=>new TextEncoder().encode(t),Ure=t=>new TextDecoder().decode(t);let Lre=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Mre=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return r6(this,e)}},Bre=class{constructor(e){this.decoders=e}or(e){return r6(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const r6=(t,e)=>new Bre({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Fre=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Lre(e,n,r),this.decoder=new Mre(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Gv=({name:t,prefix:e,encode:n,decode:r})=>new Fre(t,e,n,r),Tm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Dre(n,e);return Gv({prefix:t,name:e,encode:r,decode:i=>n6(s(i))})},zre=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},qre=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},dr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Gv({prefix:e,name:t,encode(s){return qre(s,r,n)},decode(s){return zre(s,r,n,t)}}),Wre=Gv({prefix:"\0",name:"identity",encode:t=>Ure(t),decode:t=>jre(t)});var Hre=Object.freeze({__proto__:null,identity:Wre});const Vre=dr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Gre=Object.freeze({__proto__:null,base2:Vre});const Kre=dr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Yre=Object.freeze({__proto__:null,base8:Kre});const Qre=Tm({prefix:"9",name:"base10",alphabet:"0123456789"});var Jre=Object.freeze({__proto__:null,base10:Qre});const Zre=dr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Xre=dr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var ese=Object.freeze({__proto__:null,base16:Zre,base16upper:Xre});const tse=dr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),nse=dr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rse=dr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),sse=dr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ise=dr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ose=dr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ase=dr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),cse=dr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),lse=dr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var use=Object.freeze({__proto__:null,base32:tse,base32upper:nse,base32pad:rse,base32padupper:sse,base32hex:ise,base32hexupper:ose,base32hexpad:ase,base32hexpadupper:cse,base32z:lse});const dse=Tm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),hse=Tm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var fse=Object.freeze({__proto__:null,base36:dse,base36upper:hse});const pse=Tm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),gse=Tm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var mse=Object.freeze({__proto__:null,base58btc:pse,base58flickr:gse});const yse=dr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),wse=dr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),vse=dr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),bse=dr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var _se=Object.freeze({__proto__:null,base64:yse,base64pad:wse,base64url:vse,base64urlpad:bse});const s6=Array.from(""),Ese=s6.reduce((t,e,n)=>(t[n]=e,t),[]),Cse=s6.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function xse(t){return t.reduce((e,n)=>(e+=Ese[n],e),"")}function Sse(t){const e=[];for(const n of t){const r=Cse[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Ase=Gv({prefix:"",name:"base256emoji",encode:xse,decode:Sse});var Ise=Object.freeze({__proto__:null,base256emoji:Ase}),Tse=i6,xP=128,Nse=-128,Pse=Math.pow(2,31);function i6(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Pse;)e[n++]=t&255|xP,t/=128;for(;t&Nse;)e[n++]=t&255|xP,t>>>=7;return e[n]=t|0,i6.bytes=n-r+1,e}var kse=lx,Ose=128,SP=127;function lx(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw lx.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&SP)<<s:(o&SP)*Math.pow(2,s),s+=7}while(o>=Ose);return lx.bytes=i-r,n}var Rse=Math.pow(2,7),$se=Math.pow(2,14),Dse=Math.pow(2,21),jse=Math.pow(2,28),Use=Math.pow(2,35),Lse=Math.pow(2,42),Mse=Math.pow(2,49),Bse=Math.pow(2,56),Fse=Math.pow(2,63),zse=function(t){return t<Rse?1:t<$se?2:t<Dse?3:t<jse?4:t<Use?5:t<Lse?6:t<Mse?7:t<Bse?8:t<Fse?9:10},qse={encode:Tse,decode:kse,encodingLength:zse},o6=qse;const AP=(t,e,n=0)=>(o6.encode(t,e,n),e),IP=t=>o6.encodingLength(t),ux=(t,e)=>{const n=e.byteLength,r=IP(t),s=r+IP(n),i=new Uint8Array(s+n);return AP(t,i,0),AP(n,i,r),i.set(e,s),new Wse(t,n,e,i)};let Wse=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const a6=({name:t,code:e,encode:n})=>new Hse(t,e,n);let Hse=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?ux(this.code,n):n.then(r=>ux(this.code,r))}else throw Error("Unknown type, must be binary type")}};const c6=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Vse=a6({name:"sha2-256",code:18,encode:c6("SHA-256")}),Gse=a6({name:"sha2-512",code:19,encode:c6("SHA-512")});var Kse=Object.freeze({__proto__:null,sha256:Vse,sha512:Gse});const l6=0,Yse="identity",u6=n6,Qse=t=>ux(l6,u6(t)),Jse={code:l6,name:Yse,encode:u6,digest:Qse};var Zse=Object.freeze({__proto__:null,identity:Jse});new TextEncoder,new TextDecoder;const TP={...Hre,...Gre,...Yre,...Jre,...ese,...use,...fse,...mse,..._se,...Ise};({...Kse,...Zse});function d6(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const NP=d6("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),h_=d6("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=e6(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),h6={utf8:NP,"utf-8":NP,hex:TP.base16,latin1:h_,ascii:h_,binary:h_,...TP};function Kv(t,e="utf8"){const n=h6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Wh(t,e="utf8"){const n=h6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?d2(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function PP(t){return pu(Kv(Wh(t,Vv),Zj))}function A0(t){return Kv(Wh(ma(t),Zj),Vv)}function f6(t){const e=Wh(kre,CP),n=Pre+Kv(t6([e,t]),CP);return[Tre,Nre,n].join(Ire)}function Xse(t){return Kv(t,Vv)}function eie(t){return Wh(t,Vv)}function tie(t){return Wh([A0(t.header),A0(t.payload)].join(S0),Xj)}function nie(t){return[A0(t.header),A0(t.payload),Xse(t.signature)].join(S0)}function dx(t){const e=t.split(S0),n=PP(e[0]),r=PP(e[1]),s=eie(e[2]),i=Wh(e.slice(0,2).join(S0),Xj);return{header:n,payload:r,signature:s,data:i}}function kP(t=Fj(Ore)){const e=Jj.getPublicKey(t);return{secretKey:t6([t,e]),publicKey:e}}async function rie(t,e,n,r,s=pe.fromMiliseconds(Date.now())){const i={alg:Sre,typ:Are},o=f6(r.publicKey),a=s+n,c={iss:o,sub:t,aud:e,iat:s,exp:a},l=tie({header:i,payload:c}),u=Jj.sign(l,r.secretKey.slice(0,32));return nie({header:i,payload:c,signature:u})}var OP=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},sie=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),iie=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),oie=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),aie=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),cie=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),lie=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,uie=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,RP=3,die=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",lie]],$P=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function hie(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new cie:typeof navigator<"u"?pie(navigator.userAgent):mie()}function fie(t){return t!==""&&die.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var i=s.exec(t);return!!i&&[r,i]},!1)}function pie(t){var e=fie(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new aie;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<RP&&(s=OP(OP([],s,!0),yie(RP-s.length),!0)):s=[];var i=s.join("."),o=gie(t),a=uie.exec(t);return a&&a[1]?new oie(n,i,o,a[1]):new sie(n,i,o)}function gie(t){for(var e=0,n=$P.length;e<n;e++){var r=$P[e],s=r[0],i=r[1],o=i.exec(t);if(o)return s}return null}function mie(){var t=typeof process<"u"&&process.version;return t?new iie(process.version.slice(1)):null}function yie(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.getLocalStorage=Yt.getLocalStorageOrThrow=Yt.getCrypto=Yt.getCryptoOrThrow=p6=Yt.getLocation=Yt.getLocationOrThrow=h2=Yt.getNavigator=Yt.getNavigatorOrThrow=gu=Yt.getDocument=Yt.getDocumentOrThrow=Yt.getFromWindowOrThrow=Yt.getFromWindow=void 0;function $u(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Yt.getFromWindow=$u;function Hh(t){const e=$u(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Yt.getFromWindowOrThrow=Hh;function wie(){return Hh("document")}Yt.getDocumentOrThrow=wie;function vie(){return $u("document")}var gu=Yt.getDocument=vie;function bie(){return Hh("navigator")}Yt.getNavigatorOrThrow=bie;function _ie(){return $u("navigator")}var h2=Yt.getNavigator=_ie;function Eie(){return Hh("location")}Yt.getLocationOrThrow=Eie;function Cie(){return $u("location")}var p6=Yt.getLocation=Cie;function xie(){return Hh("crypto")}Yt.getCryptoOrThrow=xie;function Sie(){return $u("crypto")}Yt.getCrypto=Sie;function Aie(){return Hh("localStorage")}Yt.getLocalStorageOrThrow=Aie;function Iie(){return $u("localStorage")}Yt.getLocalStorage=Iie;var f2={};Object.defineProperty(f2,"__esModule",{value:!0});var g6=f2.getWindowMetadata=void 0;const DP=Yt;function Tie(){let t,e;try{t=DP.getDocumentOrThrow(),e=DP.getLocationOrThrow()}catch{return null}function n(){const d=t.getElementsByTagName("link"),h=[];for(let f=0;f<d.length;f++){const p=d[f],m=p.getAttribute("rel");if(m&&m.toLowerCase().indexOf("icon")>-1){const y=p.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let w=e.protocol+"//"+e.host;if(y.indexOf("/")===0)w+=y;else{const v=e.pathname.split("/");v.pop();const b=v.join("/");w+=b+"/"+y}h.push(w)}else if(y.indexOf("//")===0){const w=e.protocol+y;h.push(w)}else h.push(y)}}return h}function r(...d){const h=t.getElementsByTagName("meta");for(let f=0;f<h.length;f++){const p=h[f],m=["itemprop","property","name"].map(y=>p.getAttribute(y)).filter(y=>y?d.includes(y):!1);if(m.length&&m){const y=p.getAttribute("content");if(y)return y}}return""}function s(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function i(){return r("description","og:description","twitter:description","keywords")}const o=s(),a=i(),c=e.origin,l=n();return{description:a,url:c,icons:l,name:o}}g6=f2.getWindowMetadata=Tie;function Og(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function hx(t){return Og(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const m6="2.31.0";let Af={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${m6}`};class mu extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof mu?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof mu&&n.cause.docsPath||n.docsPath,i=(a=Af.getDocsUrl)==null?void 0:a.call(Af,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Af.version?[`Version: ${Af.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=m6}walk(e){return y6(this,e)}}function y6(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?y6(t.cause,e):e?null:t}class w6 extends mu{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Vh(t,{dir:e,size:n=32}={}){return typeof t=="string"?Nie(t,{dir:e,size:n}):Pie(t,{dir:e,size:n})}function Nie(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new w6({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Pie(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new w6({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class kie extends mu{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class Oie extends mu{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Gh(t,{size:e}){if(hx(t)>e)throw new Oie({givenSize:hx(t),maxSize:e})}function fx(t,e={}){const{signed:n}=e;e.size&&Gh(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Rie(t,e={}){return Number(fx(t,e))}const $ie=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function px(t,e={}){return typeof t=="number"||typeof t=="bigint"?b6(t,e):typeof t=="string"?Uie(t,e):typeof t=="boolean"?Die(t,e):v6(t,e)}function Die(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Gh(n,{size:e.size}),Vh(n,{size:e.size})):n}function v6(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=$ie[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Gh(r,{size:e.size}),Vh(r,{dir:"right",size:e.size})):r}function b6(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new kie({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Vh(a,{size:r}):a}const jie=new TextEncoder;function Uie(t,e={}){const n=jie.encode(t);return v6(n,e)}const Lie=new TextEncoder;function Mie(t,e={}){return typeof t=="number"||typeof t=="bigint"?Fie(t,e):typeof t=="boolean"?Bie(t,e):Og(t)?_6(t,e):E6(t,e)}function Bie(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Gh(n,{size:e.size}),Vh(n,{size:e.size})):n}const Uo={zero:48,nine:57,A:65,F:70,a:97,f:102};function jP(t){if(t>=Uo.zero&&t<=Uo.nine)return t-Uo.zero;if(t>=Uo.A&&t<=Uo.F)return t-(Uo.A-10);if(t>=Uo.a&&t<=Uo.f)return t-(Uo.a-10)}function _6(t,e={}){let n=t;e.size&&(Gh(n,{size:e.size}),n=Vh(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=jP(r.charCodeAt(a++)),l=jP(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new mu(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function Fie(t,e){const n=b6(t,e);return _6(n)}function E6(t,e={}){const n=Lie.encode(t);return typeof e.size=="number"?(Gh(n,{size:e.size}),Vh(n,{dir:"right",size:e.size})):n}function C6(t,e){const n=e||"hex",r=aA(Og(t,{strict:!1})?Mie(t):t);return n==="bytes"?r:px(r)}class zie extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const f_=new zie(8192);function qie(t,e){if(f_.has(`${t}.${e}`))return f_.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=C6(E6(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return f_.set(`${t}.${e}`,i),i}function Wie(t){const e=C6(`0x${t.substring(4)}`).substring(26);return qie(`0x${e}`)}async function Hie({hash:t,signature:e}){const n=Og(t)?t:px(t),{secp256k1:r}=await wn(async()=>{const{secp256k1:o}=await import("./secp256k1-8F_nU6ZX.js");return{secp256k1:o}},__vite__mapDeps([2,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=UP(f);return new r.Signature(fx(l),fx(u)).addRecoveryBit(p)}const o=Og(e)?e:px(e);if(hx(o)!==65)throw new Error("invalid signature length");const a=Rie(`0x${o.slice(130)}`),c=UP(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function UP(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Vie({hash:t,signature:e}){return Wie(await Hie({hash:t,signature:e}))}function Gie(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const p=(f-h)*i+1>>>0,m=new Uint8Array(p);for(;h!==f;){let v=l[h],b=0;for(let E=p-1;(v!==0||b<d)&&E!==-1;E--,b++)v+=256*m[E]>>>0,m[E]=v%n>>>0,v=v/n>>>0;if(v!==0)throw new Error("Non-zero carry");d=b,h++}let y=p-d;for(;y!==p&&m[y]===0;)y++;let w=r.repeat(u);for(;y<p;++y)w+=t.charAt(m[y]);return w}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===r;)d++,u++;const f=(l.length-u)*s+1>>>0,p=new Uint8Array(f);for(;u<l.length;){const v=l.charCodeAt(u);if(v>255)return;let b=e[v];if(b===255)return;let E=0;for(let _=f-1;(b!==0||E<h)&&_!==-1;_--,E++)b+=n*p[_]>>>0,p[_]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");h=E,u++}let m=f-h;for(;m!==f&&p[m]===0;)m++;const y=new Uint8Array(d+(f-m));let w=d;for(;m!==f;)y[w++]=p[m++];return y}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var Kie="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Kh=Gie(Kie);function Yie(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.charCodeAt(r++);if(s&4294967168)if(!(s&4294965248))n+=2;else{if(s>=55296&&s<=56319&&r<e){const i=t.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}s&4294901760?n+=4:n+=3}else{n++;continue}}return n}function Qie(t,e,n){const r=t.length;let s=n,i=0;for(;i<r;){let o=t.charCodeAt(i++);if(o&4294967168)if(!(o&4294965248))e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128):(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128)}else{e[s++]=o;continue}e[s++]=o&63|128}}const Jie=new TextEncoder,Zie=50;function Xie(t,e,n){Jie.encodeInto(t,e.subarray(n))}function eoe(t,e,n){t.length>Zie?Xie(t,e,n):Qie(t,e,n)}const toe=4096;function x6(t,e,n){let r=e;const s=r+n,i=[];let o="";for(;r<s;){const a=t[r++];if(!(a&128))i.push(a);else if((a&224)===192){const c=t[r++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;i.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d)}else i.push(a);i.length>=toe&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const noe=new TextDecoder,roe=200;function soe(t,e,n){const r=t.subarray(e,e+n);return noe.decode(r)}function ioe(t,e,n){return n>roe?soe(t,e,n):x6(t,e,n)}class $y{constructor(e,n){this.type=e,this.data=n}}class As extends Error{constructor(e){super(e);const n=Object.create(As.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:As.name})}}const If=4294967295;function ooe(t,e,n){const r=n/4294967296,s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function S6(t,e,n){const r=Math.floor(n/4294967296),s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function A6(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function aoe(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const coe=-1,loe=4294967296-1,uoe=17179869184-1;function doe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=uoe)if(e===0&&t<=loe){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),S6(r,4,t),n}}function hoe(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function foe(t){if(t instanceof Date){const e=hoe(t);return doe(e)}else return null}function poe(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=A6(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new As(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function goe(t){const e=poe(t);return new Date(e.sec*1e3+e.nsec/1e6)}const moe={type:coe,encode:foe,decode:goe};class I0{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(moe)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const s=-1-e;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=-1-r;return new $y(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=r;return new $y(o,i)}}}return e instanceof $y?e:null}decode(e,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(e,n,r):new $y(n,e)}}I0.defaultCodec=new I0;function yoe(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function gx(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):yoe(t)?new Uint8Array(t):Uint8Array.from(t)}const woe=100,voe=2048;let boe=class I6{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??I0.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??woe,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??voe,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new I6({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=Yie(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),eoe(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=gx(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of e)this.doEncode(s,n+1)}countWithoutUndefined(e,n){let r=0;for(const s of n)e[s]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),ooe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),S6(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function _oe(t,e){return new boe(e).encodeSharedRef(t)}function p_(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const Eoe=16,Coe=16;class xoe{constructor(e=Eoe,n=Coe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return i.str}return null}store(e,n){const r=this.caches[e.length-1],s={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(e,n,r){const s=this.find(e,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=x6(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,i),i}}const mx="array",vp="map_key",T6="map_value",Soe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new As("The type of key must be string or number but "+typeof t)};class Aoe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=mx,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=vp,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===mx){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===vp||e.type===T6){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Tf=-1,p2=new DataView(new ArrayBuffer(0)),Ioe=new Uint8Array(p2.buffer);try{p2.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const LP=new RangeError("Insufficient data"),Toe=new xoe;let Noe=class N6{constructor(e){this.totalPos=0,this.pos=0,this.view=p2,this.bytes=Ioe,this.headByte=Tf,this.stack=new Aoe,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??I0.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??If,this.maxBinLength=(e==null?void 0:e.maxBinLength)??If,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??If,this.maxMapLength=(e==null?void 0:e.maxMapLength)??If,this.maxExtLength=(e==null?void 0:e.maxExtLength)??If,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:Toe,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??Soe}clone(){return new N6({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Tf,this.stack.reset()}setBuffer(e){const n=gx(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Tf&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=gx(e),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${p_(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of e){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=e-160;n=this.decodeString(s,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new As(`Unrecognized type byte: ${p_(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===mx)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===vp){if(n==="__proto__")throw new As("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=T6;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=vp;continue e}}return n}}readHeadByte(){return this.headByte===Tf&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Tf}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new As(`Unrecognized array type byte: ${p_(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new As(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new As(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var i;if(e>this.maxStrLength)throw new As(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw LP;const r=this.pos+n;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,r,e):s=ioe(this.bytes,r,e),this.pos+=n+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===vp:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new As(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw LP;const r=this.pos+n,s=this.bytes.subarray(r,r+e);return this.pos+=n+e,s}decodeExtension(e,n){if(e>this.maxExtLength)throw new As(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(e,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=aoe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=A6(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function Poe(t,e){return new Noe(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function koe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function P6(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function T0(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function g2(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function yx(t){if(!Array.isArray(t))throw new Error("array expected")}function N0(t,e){if(!P6(!0,e))throw new Error(`${t}: array of strings expected`)}function Ooe(t,e){if(!P6(!1,e))throw new Error(`${t}: array of numbers expected`)}function Roe(...t){const e=i=>i,n=(i,o)=>a=>i(o(a)),r=t.map(i=>i.encode).reduceRight(n,e),s=t.map(i=>i.decode).reduce(n,e);return{encode:r,decode:s}}function $oe(t){const e=typeof t=="string"?t.split(""):t,n=e.length;N0("alphabet",e);const r=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(yx(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(yx(s),s.map(i=>{T0("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function Doe(t=""){return T0("join",t),{encode:e=>(N0("join.decode",e),e.join(t)),decode:e=>(T0("join.decode",e),e.split(t))}}function joe(t,e="="){return g2(t),T0("padding",e),{encode(n){for(N0("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){N0("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const k6=(t,e)=>e===0?t:k6(e,t%e),P0=(t,e)=>t+(e-k6(t,e)),g_=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function MP(t,e,n,r){if(yx(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(P0(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${P0(e,n)}`);let s=0,i=0;const o=g_[e],a=g_[n]-1,c=[];for(const l of t){if(g2(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(s=s<<e|l,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)c.push((s>>i-n&a)>>>0);const u=g_[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function Uoe(t,e=!1){if(g2(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(P0(8,t)>32||P0(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!koe(n))throw new Error("radix2.encode input should be Uint8Array");return MP(Array.from(n),8,t,!e)},decode:n=>(Ooe("radix2.decode",n),Uint8Array.from(MP(n,t,8,e)))}}const Loe=Roe(Uoe(5),$oe("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),joe(5),Doe(""));function m2(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function O6(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?m2(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function bp(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=O6(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return m2(n)}function Moe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,w=0,v=p.length;w!==v&&p[w]===0;)w++,m++;for(var b=(v-w)*u+1>>>0,E=new Uint8Array(b);w!==v;){for(var _=p[w],x=0,S=b-1;(_!==0||x<y)&&S!==-1;S--,x++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=x,w++}for(var A=b-y;A!==b&&E[A]===0;)A++;for(var C=c.repeat(m);A<b;++A)C+=t.charAt(E[A]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,w=0;p[m]===c;)y++,m++;for(var v=(p.length-m)*l+1>>>0,b=new Uint8Array(v);p[m];){var E=n[p.charCodeAt(m)];if(E===255)return;for(var _=0,x=v-1;(E!==0||_<w)&&x!==-1;x--,_++)E+=a*b[x]>>>0,b[x]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,m++}if(p[m]!==" "){for(var S=v-w;S!==v&&b[S]===0;)S++;for(var A=new Uint8Array(y+(v-S)),C=y;S!==v;)A[C++]=b[S++];return A}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Boe=Moe,Foe=Boe;const zoe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},qoe=t=>new TextEncoder().encode(t),Woe=t=>new TextDecoder().decode(t);class Hoe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Voe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return R6(this,e)}}class Goe{constructor(e){this.decoders=e}or(e){return R6(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const R6=(t,e)=>new Goe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Koe{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Hoe(e,n,r),this.decoder=new Voe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Yv=({name:t,prefix:e,encode:n,decode:r})=>new Koe(t,e,n,r),Nm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Foe(n,e);return Yv({prefix:t,name:e,encode:r,decode:i=>zoe(s(i))})},Yoe=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Qoe=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},hr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Yv({prefix:e,name:t,encode(s){return Qoe(s,r,n)},decode(s){return Yoe(s,r,n,t)}}),Joe=Yv({prefix:"\0",name:"identity",encode:t=>Woe(t),decode:t=>qoe(t)}),Zoe=Object.freeze(Object.defineProperty({__proto__:null,identity:Joe},Symbol.toStringTag,{value:"Module"})),Xoe=hr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),eae=Object.freeze(Object.defineProperty({__proto__:null,base2:Xoe},Symbol.toStringTag,{value:"Module"})),tae=hr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),nae=Object.freeze(Object.defineProperty({__proto__:null,base8:tae},Symbol.toStringTag,{value:"Module"})),rae=Nm({prefix:"9",name:"base10",alphabet:"0123456789"}),sae=Object.freeze(Object.defineProperty({__proto__:null,base10:rae},Symbol.toStringTag,{value:"Module"})),iae=hr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),oae=hr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),aae=Object.freeze(Object.defineProperty({__proto__:null,base16:iae,base16upper:oae},Symbol.toStringTag,{value:"Module"})),cae=hr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),lae=hr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),uae=hr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),dae=hr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),hae=hr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),fae=hr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),pae=hr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),gae=hr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),mae=hr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),yae=Object.freeze(Object.defineProperty({__proto__:null,base32:cae,base32hex:hae,base32hexpad:pae,base32hexpadupper:gae,base32hexupper:fae,base32pad:uae,base32padupper:dae,base32upper:lae,base32z:mae},Symbol.toStringTag,{value:"Module"})),wae=Nm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),vae=Nm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),bae=Object.freeze(Object.defineProperty({__proto__:null,base36:wae,base36upper:vae},Symbol.toStringTag,{value:"Module"})),_ae=Nm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Eae=Nm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Cae=Object.freeze(Object.defineProperty({__proto__:null,base58btc:_ae,base58flickr:Eae},Symbol.toStringTag,{value:"Module"})),xae=hr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Sae=hr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Aae=hr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Iae=hr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Tae=Object.freeze(Object.defineProperty({__proto__:null,base64:xae,base64pad:Sae,base64url:Aae,base64urlpad:Iae},Symbol.toStringTag,{value:"Module"})),$6=Array.from(""),Nae=$6.reduce((t,e,n)=>(t[n]=e,t),[]),Pae=$6.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function kae(t){return t.reduce((e,n)=>(e+=Nae[n],e),"")}function Oae(t){const e=[];for(const n of t){const r=Pae[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Rae=Yv({prefix:"",name:"base256emoji",encode:kae,decode:Oae}),$ae=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Rae},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const BP={...Zoe,...eae,...nae,...sae,...aae,...yae,...bae,...Cae,...Tae,...$ae};function D6(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const FP=D6("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),m_=D6("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=O6(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),j6={utf8:FP,"utf-8":FP,hex:BP.base16,latin1:m_,ascii:m_,binary:m_,...BP};function ei(t,e="utf8"){const n=j6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?m2(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function gs(t,e="utf8"){const n=j6[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Dae={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},jae="Input must be an string, Buffer or Uint8Array";function Uae(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(jae);return e}function Lae(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function Dy(t){return(4294967296+t).toString(16).substring(1)}function Mae(t,e,n){let r=`
`+t+" = ";for(let s=0;s<e.length;s+=2){if(n===32)r+=Dy(e[s]).toUpperCase(),r+=" ",r+=Dy(e[s+1]).toUpperCase();else if(n===64)r+=Dy(e[s+1]).toUpperCase(),r+=Dy(e[s]).toUpperCase();else throw new Error("Invalid size "+n);s%6===4?r+=`
`+new Array(t.length+4).join(" "):s<e.length-2&&(r+=" ")}console.log(r)}function Bae(t,e,n){let r=new Date().getTime();const s=new Uint8Array(e);for(let o=0;o<e;o++)s[o]=o%256;const i=new Date().getTime();console.log("Generated random input in "+(i-r)+"ms"),r=i;for(let o=0;o<n;o++){const a=t(s),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var U6={normalizeInput:Uae,toHex:Lae,debugPrint:Mae,testSpeed:Bae};const Tw=U6;function jy(t,e,n){const r=t[e]+t[n];let s=t[e+1]+t[n+1];r>=4294967296&&s++,t[e]=r,t[e+1]=s}function zP(t,e,n,r){let s=t[e]+n;n<0&&(s+=4294967296);let i=t[e+1]+r;s>=4294967296&&i++,t[e]=s,t[e+1]=i}function L6(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function $a(t,e,n,r,s,i){const o=Zf[s],a=Zf[s+1],c=Zf[i],l=Zf[i+1];jy(Xe,t,e),zP(Xe,t,o,a);let u=Xe[r]^Xe[t],d=Xe[r+1]^Xe[t+1];Xe[r]=d,Xe[r+1]=u,jy(Xe,n,r),u=Xe[e]^Xe[n],d=Xe[e+1]^Xe[n+1],Xe[e]=u>>>24^d<<8,Xe[e+1]=d>>>24^u<<8,jy(Xe,t,e),zP(Xe,t,c,l),u=Xe[r]^Xe[t],d=Xe[r+1]^Xe[t+1],Xe[r]=u>>>16^d<<16,Xe[r+1]=d>>>16^u<<16,jy(Xe,n,r),u=Xe[e]^Xe[n],d=Xe[e+1]^Xe[n+1],Xe[e]=d>>>31^u<<1,Xe[e+1]=u>>>31^d<<1}const M6=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Fae=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],yr=new Uint8Array(Fae.map(function(t){return t*2})),Xe=new Uint32Array(32),Zf=new Uint32Array(32);function B6(t,e){let n=0;for(n=0;n<16;n++)Xe[n]=t.h[n],Xe[n+16]=M6[n];for(Xe[24]=Xe[24]^t.t,Xe[25]=Xe[25]^t.t/4294967296,e&&(Xe[28]=~Xe[28],Xe[29]=~Xe[29]),n=0;n<32;n++)Zf[n]=L6(t.b,4*n);for(n=0;n<12;n++)$a(0,8,16,24,yr[n*16+0],yr[n*16+1]),$a(2,10,18,26,yr[n*16+2],yr[n*16+3]),$a(4,12,20,28,yr[n*16+4],yr[n*16+5]),$a(6,14,22,30,yr[n*16+6],yr[n*16+7]),$a(0,10,20,30,yr[n*16+8],yr[n*16+9]),$a(2,12,22,24,yr[n*16+10],yr[n*16+11]),$a(4,14,16,26,yr[n*16+12],yr[n*16+13]),$a(6,8,18,28,yr[n*16+14],yr[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^Xe[n]^Xe[n+16]}const Da=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function F6(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};Da.fill(0),Da[0]=t,e&&(Da[1]=e.length),Da[2]=1,Da[3]=1,n&&Da.set(n,32),r&&Da.set(r,48);for(let i=0;i<16;i++)s.h[i]=M6[i]^L6(Da,i*4);return e&&(y2(s,e),s.c=128),s}function y2(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,B6(t,!1),t.c=0),t.b[t.c++]=e[n]}function z6(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;B6(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function q6(t,e,n,r,s){n=n||64,t=Tw.normalizeInput(t),r&&(r=Tw.normalizeInput(r)),s&&(s=Tw.normalizeInput(s));const i=F6(n,e,r,s);return y2(i,t),z6(i)}function zae(t,e,n,r,s){const i=q6(t,e,n,r,s);return Tw.toHex(i)}var qae={blake2b:q6,blake2bHex:zae,blake2bInit:F6,blake2bUpdate:y2,blake2bFinal:z6};const W6=U6;function Wae(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function ja(t,e,n,r,s,i){Et[t]=Et[t]+Et[e]+s,Et[r]=Uy(Et[r]^Et[t],16),Et[n]=Et[n]+Et[r],Et[e]=Uy(Et[e]^Et[n],12),Et[t]=Et[t]+Et[e]+i,Et[r]=Uy(Et[r]^Et[t],8),Et[n]=Et[n]+Et[r],Et[e]=Uy(Et[e]^Et[n],7)}function Uy(t,e){return t>>>e^t<<32-e}const H6=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wr=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Et=new Uint32Array(16),Jn=new Uint32Array(16);function V6(t,e){let n=0;for(n=0;n<8;n++)Et[n]=t.h[n],Et[n+8]=H6[n];for(Et[12]^=t.t,Et[13]^=t.t/4294967296,e&&(Et[14]=~Et[14]),n=0;n<16;n++)Jn[n]=Wae(t.b,4*n);for(n=0;n<10;n++)ja(0,4,8,12,Jn[wr[n*16+0]],Jn[wr[n*16+1]]),ja(1,5,9,13,Jn[wr[n*16+2]],Jn[wr[n*16+3]]),ja(2,6,10,14,Jn[wr[n*16+4]],Jn[wr[n*16+5]]),ja(3,7,11,15,Jn[wr[n*16+6]],Jn[wr[n*16+7]]),ja(0,5,10,15,Jn[wr[n*16+8]],Jn[wr[n*16+9]]),ja(1,6,11,12,Jn[wr[n*16+10]],Jn[wr[n*16+11]]),ja(2,7,8,13,Jn[wr[n*16+12]],Jn[wr[n*16+13]]),ja(3,4,9,14,Jn[wr[n*16+14]],Jn[wr[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=Et[n]^Et[n+8]}function G6(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(H6),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(w2(r,e),r.c=64),r}function w2(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,V6(t,!1),t.c=0),t.b[t.c++]=e[n]}function K6(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;V6(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function Y6(t,e,n){n=n||32,t=W6.normalizeInput(t);const r=G6(n,e);return w2(r,t),K6(r)}function Hae(t,e,n){const r=Y6(t,e,n);return W6.toHex(r)}var Vae={blake2s:Y6,blake2sHex:Hae,blake2sInit:G6,blake2sUpdate:w2,blake2sFinal:K6};const Nf=qae,Pf=Vae;var Gae={blake2b:Nf.blake2b,blake2bHex:Nf.blake2bHex,blake2bInit:Nf.blake2bInit,blake2bUpdate:Nf.blake2bUpdate,blake2bFinal:Nf.blake2bFinal,blake2s:Pf.blake2s,blake2sHex:Pf.blake2sHex,blake2sInit:Pf.blake2sInit,blake2sUpdate:Pf.blake2sUpdate,blake2sFinal:Pf.blake2sFinal},Kae={};const Yae=":";function Kd(t){const[e,n]=t.split(Yae);return{namespace:e,reference:n}}function Q6(t,e){return t.includes(":")?[t]:e.chains||[]}var Qae=Object.defineProperty,Jae=Object.defineProperties,Zae=Object.getOwnPropertyDescriptors,qP=Object.getOwnPropertySymbols,Xae=Object.prototype.hasOwnProperty,ece=Object.prototype.propertyIsEnumerable,WP=(t,e,n)=>e in t?Qae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HP=(t,e)=>{for(var n in e||(e={}))Xae.call(e,n)&&WP(t,n,e[n]);if(qP)for(var n of qP(e))ece.call(e,n)&&WP(t,n,e[n]);return t},tce=(t,e)=>Jae(t,Zae(e));const nce="ReactNative",Ns={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},rce="js";function k0(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function ol(){return!gu()&&!!h2()&&navigator.product===nce}function sce(){return ol()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function ice(){return ol()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Yh(){return!k0()&&!!h2()&&!!gu()}function Pm(){return ol()?Ns.reactNative:k0()?Ns.node:Yh()?Ns.browser:Ns.unknown}function VP(){var t;try{return ol()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function oce(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function ace(t){var e,n;const r=J6();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),tce(HP(HP({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function J6(){return g6()||{name:"",description:"",url:"",icons:[""]}}function cce(){if(Pm()===Ns.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=hie();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function lce(){var t;const e=Pm();return e===Ns.browser?[e,((t=p6())==null?void 0:t.host)||"unknown"].join(":"):e}function Z6(t,e,n){const r=cce(),s=lce();return[[t,e].join("-"),[rce,n].join("-"),r,s].join("/")}function uce({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=Z6(t,e,r),d={auth:s,ua:u,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=oce(l[1]||"",d);return l[0]+"?"+h}function Ol(t,e){return t.filter(n=>e.includes(n)).length===t.length}function wx(t){return Object.fromEntries(t.entries())}function vx(t){return new Map(Object.entries(t))}function vl(t=pe.FIVE_MINUTES,e){const n=pe.toMiliseconds(t||pe.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function Ec(t,e,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),e);try{const o=await t;r(o)}catch(o){s(o)}clearTimeout(i)})}function X6(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function dce(t){return X6("topic",t)}function hce(t){return X6("id",t)}function e4(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Pn(t,e){return pe.fromMiliseconds(Date.now()+pe.toMiliseconds(t))}function Ja(t){return Date.now()>=pe.toMiliseconds(t)}function Pt(t,e){return`${t}${e?`:${e}`:""}`}function _o(t=[],e=[]){return[...new Set([...t,...e])]}async function fce({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=pce(i,t,e),a=Pm();if(a===Ns.browser){if(!((r=gu())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}gce(o)}else a===Ns.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function pce(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${vce(r,!0)}`}else s=`${s}/wc?${r}`;return s}function gce(t){let e="_self";wce()?e="_top":(yce()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function mce(t,e){let n="";try{if(Yh()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function GP(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function KP(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function v2(){return typeof process<"u"&&Kae.IS_VITEST==="true"}function yce(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function wce(){try{return window.self!==window.top}catch{return!1}}function vce(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function t4(t){return Buffer.from(t,"base64").toString("utf-8")}function bce(t){return new Promise(e=>setTimeout(e,t))}const Ly=BigInt(2**32-1),YP=BigInt(32);function n4(t,e=!1){return e?{h:Number(t&Ly),l:Number(t>>YP&Ly)}:{h:Number(t>>YP&Ly)|0,l:Number(t&Ly)|0}}function r4(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=n4(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const QP=(t,e,n)=>t>>>n,JP=(t,e,n)=>t<<32-n|e>>>n,Za=(t,e,n)=>t>>>n|e<<32-n,Xa=(t,e,n)=>t<<32-n|e>>>n,Xf=(t,e,n)=>t<<64-n|e>>>n-32,ep=(t,e,n)=>t>>>n-32|e<<64-n,_ce=(t,e)=>e,Ece=(t,e)=>t,Cce=(t,e,n)=>t<<n|e>>>32-n,xce=(t,e,n)=>e<<n|t>>>32-n,Sce=(t,e,n)=>e<<n-32|t>>>64-n,Ace=(t,e,n)=>t<<n-32|e>>>64-n;function _i(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const b2=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),_2=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Ice=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Tce=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Nce=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Pce=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Zu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function E2(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ya(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function si(t,...e){if(!E2(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function C2(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ya(t.outputLen),ya(t.blockLen)}function Jc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function x2(t,e){si(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Rg(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ii(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function y_(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Xi(t,e){return t<<32-e|t>>>e}const s4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function i4(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const zo=s4?t=>t:t=>i4(t);function kce(t){for(let e=0;e<t.length;e++)t[e]=i4(t[e]);return t}const ec=s4?t=>t:kce,o4=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Oce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function $g(t){if(si(t),o4)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Oce[t[n]];return e}const Lo={_0:48,_9:57,A:65,F:70,a:97,f:102};function ZP(t){if(t>=Lo._0&&t<=Lo._9)return t-Lo._0;if(t>=Lo.A&&t<=Lo.F)return t-(Lo.A-10);if(t>=Lo.a&&t<=Lo.f)return t-(Lo.a-10)}function S2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(o4)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=ZP(t.charCodeAt(i)),a=ZP(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Rce(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ji(t){return typeof t=="string"&&(t=Rce(t)),si(t),t}function Rl(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];si(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let Qv=class{};function km(t){const e=r=>t().update(ji(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $ce(t){const e=(r,s)=>t(s).update(ji(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Qh(t=32){if(Zu&&typeof Zu.getRandomValues=="function")return Zu.getRandomValues(new Uint8Array(t));if(Zu&&typeof Zu.randomBytes=="function")return Uint8Array.from(Zu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Dce=BigInt(0),kf=BigInt(1),jce=BigInt(2),Uce=BigInt(7),Lce=BigInt(256),Mce=BigInt(113),a4=[],c4=[],l4=[];for(let t=0,e=kf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],a4.push(2*(5*r+n)),c4.push((t+1)*(t+2)/2%64);let s=Dce;for(let i=0;i<7;i++)e=(e<<kf^(e>>Uce)*Mce)%Lce,e&jce&&(s^=kf<<(kf<<BigInt(i))-kf);l4.push(s)}const u4=r4(l4,!0),Bce=u4[0],Fce=u4[1],XP=(t,e,n)=>n>32?Sce(t,e,n):Cce(t,e,n),ek=(t,e,n)=>n>32?Ace(t,e,n):xce(t,e,n);function zce(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=XP(l,u,1)^n[a],h=ek(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=c4[o],c=XP(s,i,a),l=ek(s,i,a),u=a4[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Bce[r],t[1]^=Fce[r]}ii(n)}let qce=class d4 extends Qv{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,ya(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Rg(this.state)}clone(){return this._cloneInto()}keccak(){ec(this.state32),zce(this.state32,this.rounds),ec(this.state32),this.posOut=0,this.pos=0}update(e){Jc(this),e=ji(e),si(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Jc(this,!1),si(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ya(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(x2(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ii(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new d4(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Wce=(t,e,n)=>km(()=>new qce(e,t,n)),Hce=Wce(1,136,256/8);function Vce(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Gce(t,e,n){return t&e^~t&n}function Kce(t,e,n){return t&e^t&n^e&n}let h4=class extends Qv{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=y_(this.buffer)}update(e){Jc(this),e=ji(e),si(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=y_(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Jc(this),x2(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,ii(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Vce(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=y_(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Ua=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vr=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),br=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Yce=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),La=new Uint32Array(64);let Qce=class extends h4{constructor(e=32){super(64,e,8,!1),this.A=Ua[0]|0,this.B=Ua[1]|0,this.C=Ua[2]|0,this.D=Ua[3]|0,this.E=Ua[4]|0,this.F=Ua[5]|0,this.G=Ua[6]|0,this.H=Ua[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)La[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=La[d-15],f=La[d-2],p=Xi(h,7)^Xi(h,18)^h>>>3,m=Xi(f,17)^Xi(f,19)^f>>>10;La[d]=m+La[d-7]+p+La[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Xi(a,6)^Xi(a,11)^Xi(a,25),f=u+h+Gce(a,c,l)+Yce[d]+La[d]|0,p=(Xi(r,2)^Xi(r,13)^Xi(r,22))+Kce(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){ii(La)}destroy(){this.set(0,0,0,0,0,0,0,0),ii(this.buffer)}};const f4=r4(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Jce=f4[0],Zce=f4[1],Ma=new Uint32Array(80),Ba=new Uint32Array(80);let A2=class extends h4{constructor(e=64){super(128,e,16,!1),this.Ah=br[0]|0,this.Al=br[1]|0,this.Bh=br[2]|0,this.Bl=br[3]|0,this.Ch=br[4]|0,this.Cl=br[5]|0,this.Dh=br[6]|0,this.Dl=br[7]|0,this.Eh=br[8]|0,this.El=br[9]|0,this.Fh=br[10]|0,this.Fl=br[11]|0,this.Gh=br[12]|0,this.Gl=br[13]|0,this.Hh=br[14]|0,this.Hl=br[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,m,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,m,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)Ma[b]=e.getUint32(n),Ba[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const E=Ma[b-15]|0,_=Ba[b-15]|0,x=Za(E,_,1)^Za(E,_,8)^QP(E,_,7),S=Xa(E,_,1)^Xa(E,_,8)^JP(E,_,7),A=Ma[b-2]|0,C=Ba[b-2]|0,k=Za(A,C,19)^Xf(A,C,61)^QP(A,C,6),O=Xa(A,C,19)^ep(A,C,61)^JP(A,C,6),B=Ice(S,O,Ba[b-7],Ba[b-16]),F=Tce(B,x,k,Ma[b-7],Ma[b-16]);Ma[b]=F|0,Ba[b]=B|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const E=Za(d,h,14)^Za(d,h,18)^Xf(d,h,41),_=Xa(d,h,14)^Xa(d,h,18)^ep(d,h,41),x=d&f^~d&m,S=h&p^~h&y,A=Nce(v,_,S,Zce[b],Ba[b]),C=Pce(A,w,E,x,Jce[b],Ma[b]),k=A|0,O=Za(r,s,28)^Xf(r,s,34)^Xf(r,s,39),B=Xa(r,s,28)^ep(r,s,34)^ep(r,s,39),F=r&i^r&a^i&a,H=s&o^s&c^o&c;w=m|0,v=y|0,m=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=_i(l|0,u|0,C|0,k|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const N=b2(k,B,H);r=_2(N,C,O,F),s=N|0}({h:r,l:s}=_i(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=_i(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=_i(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=_i(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=_i(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=_i(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:y}=_i(this.Gh|0,this.Gl|0,m|0,y|0),{h:w,l:v}=_i(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,m,y,w,v)}roundClean(){ii(Ma,Ba)}destroy(){ii(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Xce=class extends A2{constructor(){super(48),this.Ah=vr[0]|0,this.Al=vr[1]|0,this.Bh=vr[2]|0,this.Bl=vr[3]|0,this.Ch=vr[4]|0,this.Cl=vr[5]|0,this.Dh=vr[6]|0,this.Dl=vr[7]|0,this.Eh=vr[8]|0,this.El=vr[9]|0,this.Fh=vr[10]|0,this.Fl=vr[11]|0,this.Gh=vr[12]|0,this.Gl=vr[13]|0,this.Hh=vr[14]|0,this.Hl=vr[15]|0}};const _r=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let ele=class extends A2{constructor(){super(32),this.Ah=_r[0]|0,this.Al=_r[1]|0,this.Bh=_r[2]|0,this.Bl=_r[3]|0,this.Ch=_r[4]|0,this.Cl=_r[5]|0,this.Dh=_r[6]|0,this.Dl=_r[7]|0,this.Eh=_r[8]|0,this.El=_r[9]|0,this.Fh=_r[10]|0,this.Fl=_r[11]|0,this.Gh=_r[12]|0,this.Gl=_r[13]|0,this.Hh=_r[14]|0,this.Hl=_r[15]|0}};const Jv=km(()=>new Qce),tle=km(()=>new A2),nle=km(()=>new Xce),rle=km(()=>new ele),sle=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Nn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Se=new Uint32Array(32);function Fa(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=Se[2*t],l=Se[2*t+1],u=Se[2*e],d=Se[2*e+1],h=Se[2*n],f=Se[2*n+1],p=Se[2*r],m=Se[2*r+1],y=b2(c,u,o);l=_2(y,l,d,a),c=y|0,{Dh:m,Dl:p}={Dh:m^l,Dl:p^c},{Dh:m,Dl:p}={Dh:_ce(m,p),Dl:Ece(m)},{h:f,l:h}=_i(f,h,m,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:Za(d,u,24),Bl:Xa(d,u,24)},Se[2*t]=c,Se[2*t+1]=l,Se[2*e]=u,Se[2*e+1]=d,Se[2*n]=h,Se[2*n+1]=f,Se[2*r]=p,Se[2*r+1]=m}function za(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=Se[2*t],l=Se[2*t+1],u=Se[2*e],d=Se[2*e+1],h=Se[2*n],f=Se[2*n+1],p=Se[2*r],m=Se[2*r+1],y=b2(c,u,o);l=_2(y,l,d,a),c=y|0,{Dh:m,Dl:p}={Dh:m^l,Dl:p^c},{Dh:m,Dl:p}={Dh:Za(m,p,16),Dl:Xa(m,p,16)},{h:f,l:h}=_i(f,h,m,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:Xf(d,u,63),Bl:ep(d,u,63)},Se[2*t]=c,Se[2*t+1]=l,Se[2*e]=u,Se[2*e+1]=d,Se[2*n]=h,Se[2*n+1]=f,Se[2*r]=p,Se[2*r+1]=m}function ile(t,e={},n,r,s){if(ya(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class ole extends Qv{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,ya(e),ya(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=Rg(this.buffer)}update(e){Jc(this),e=ji(e),si(e);const{blockLen:n,buffer:r,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===n&&(ec(s),this.compress(s,0,!1),ec(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const d=new Uint32Array(a,u,Math.floor((i-c)/4));ec(d);for(let h=0;c+n<i;h+=s.length,c+=n)this.length+=n,this.compress(d,h,!1);ec(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Jc(this),x2(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,ii(this.buffer.subarray(n)),ec(r),this.compress(r,0,!0),ec(r);const s=Rg(e);this.get().forEach((i,o)=>s[o]=zo(i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=i,e.finished=s,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class ale extends ole{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Nn[0]|0,this.v0h=Nn[1]|0,this.v1l=Nn[2]|0,this.v1h=Nn[3]|0,this.v2l=Nn[4]|0,this.v2h=Nn[5]|0,this.v3l=Nn[6]|0,this.v3h=Nn[7]|0,this.v4l=Nn[8]|0,this.v4h=Nn[9]|0,this.v5l=Nn[10]|0,this.v5h=Nn[11]|0,this.v6l=Nn[12]|0,this.v6h=Nn[13]|0,this.v7l=Nn[14]|0,this.v7h=Nn[15]|0,ile(n,e,64,16,16);let{key:r,personalization:s,salt:i}=e,o=0;if(r!==void 0&&(r=ji(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=ji(i);const a=Rg(i);this.v4l^=zo(a[0]),this.v4h^=zo(a[1]),this.v5l^=zo(a[2]),this.v5h^=zo(a[3])}if(s!==void 0){s=ji(s);const a=Rg(s);this.v6l^=zo(a[0]),this.v6h^=zo(a[1]),this.v7l^=zo(a[2]),this.v7h^=zo(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:p,v7l:m,v7h:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,m,y]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,m,y){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=p|0,this.v7l=m|0,this.v7h=y|0}compress(e,n,r){this.get().forEach((c,l)=>Se[l]=c),Se.set(Nn,16);let{h:s,l:i}=n4(BigInt(this.length));Se[24]=Nn[8]^i,Se[25]=Nn[9]^s,r&&(Se[28]=~Se[28],Se[29]=~Se[29]);let o=0;const a=sle;for(let c=0;c<12;c++)Fa(0,4,8,12,e,n+2*a[o++]),za(0,4,8,12,e,n+2*a[o++]),Fa(1,5,9,13,e,n+2*a[o++]),za(1,5,9,13,e,n+2*a[o++]),Fa(2,6,10,14,e,n+2*a[o++]),za(2,6,10,14,e,n+2*a[o++]),Fa(3,7,11,15,e,n+2*a[o++]),za(3,7,11,15,e,n+2*a[o++]),Fa(0,5,10,15,e,n+2*a[o++]),za(0,5,10,15,e,n+2*a[o++]),Fa(1,6,11,12,e,n+2*a[o++]),za(1,6,11,12,e,n+2*a[o++]),Fa(2,7,8,13,e,n+2*a[o++]),za(2,7,8,13,e,n+2*a[o++]),Fa(3,4,9,14,e,n+2*a[o++]),za(3,4,9,14,e,n+2*a[o++]);this.v0l^=Se[0]^Se[16],this.v0h^=Se[1]^Se[17],this.v1l^=Se[2]^Se[18],this.v1h^=Se[3]^Se[19],this.v2l^=Se[4]^Se[20],this.v2h^=Se[5]^Se[21],this.v3l^=Se[6]^Se[22],this.v3h^=Se[7]^Se[23],this.v4l^=Se[8]^Se[24],this.v4h^=Se[9]^Se[25],this.v5l^=Se[10]^Se[26],this.v5h^=Se[11]^Se[27],this.v6l^=Se[12]^Se[28],this.v6h^=Se[13]^Se[29],this.v7l^=Se[14]^Se[30],this.v7h^=Se[15]^Se[31],ii(Se)}destroy(){this.destroyed=!0,ii(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const cle=$ce(t=>new ale(t)),lle="https://rpc.walletconnect.org/v1";function p4(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Hce(n)).toString("hex")}async function ule(t,e,n,r,s,i){switch(n.t){case"eip191":return await dle(t,e,n.s);case"eip1271":return await hle(t,e,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function dle(t,e,n){return(await Vie({hash:p4(e),signature:n})).toLowerCase()===t.toLowerCase()}async function hle(t,e,n,r,s,i){const o=Kd(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:p4(e)).substring(2),h=a+d+c+u+l,f=await fetch(`${i||lle}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:fle(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function fle(){return Date.now()+Math.floor(Math.random()*1e3)}function ple(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return Kh.encode(i)}function gle(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const s=cle(r,{dkLen:32});return Kh.encode(s)}function tk(t){const e=new Uint8Array(Jv(mle(t)));return Kh.encode(e)}function mle(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function nk(t){const e=Buffer.from(t,"base64"),n=Poe(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=_oe(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=rle(i);return Loe.encode(o).replace(/=+$/,"")}function w_(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function yle(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(w_(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(w_(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(w_(r.length)),s.push(r);const i=Buffer.concat(s),o=Jv(i);return Buffer.from(o).toString("hex").toUpperCase()}var wle=Object.defineProperty,vle=Object.defineProperties,ble=Object.getOwnPropertyDescriptors,rk=Object.getOwnPropertySymbols,_le=Object.prototype.hasOwnProperty,Ele=Object.prototype.propertyIsEnumerable,sk=(t,e,n)=>e in t?wle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cle=(t,e)=>{for(var n in e||(e={}))_le.call(e,n)&&sk(t,n,e[n]);if(rk)for(var n of rk(e))Ele.call(e,n)&&sk(t,n,e[n]);return t},xle=(t,e)=>vle(t,ble(e));const Sle="did:pkh:",I2=t=>t==null?void 0:t.split(":"),Ale=t=>{const e=t&&I2(t);if(e)return t.includes(Sle)?e[3]:e[1]},bx=t=>{const e=t&&I2(t);if(e)return e[2]+":"+e[3]},O0=t=>{const e=t&&I2(t);if(e)return e.pop()};async function ik(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,i=g4(s,s.iss),o=O0(s.iss);return await ule(o,i,r,bx(s.iss),n)}const g4=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=O0(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Ale(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,p=Nw(t.resources);if(p){const m=Dg(p);s=Dle(s,m)}return[n,r,"",s,"",i,o,a,c,l,u,d,h,f].filter(m=>m!=null).join(`
`)};function Ile(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Tle(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function yu(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function Nle(t,e,n,r={}){return n==null||n.sort((s,i)=>s.localeCompare(i)),{att:{[t]:Ple(e,n,r)}}}function Ple(t,e,n={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function m4(t){return yu(t),`urn:recap:${Ile(t).replace(/=/g,"")}`}function Dg(t){const e=Tle(t.replace("urn:recap:",""));return yu(e),e}function kle(t,e,n){const r=Nle(t,e,n);return m4(r)}function Ole(t){return t&&t.includes("urn:recap:")}function Rle(t,e){const n=Dg(t),r=Dg(e),s=$le(n,r);return m4(s)}function $le(t,e){yu(t),yu(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=xle(Cle({},r.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),r}function Dle(t="",e){yu(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${t?t+" ":""}${o}`}function ok(t){var e;const n=Dg(t);yu(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function ak(t){const e=Dg(t);yu(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function Nw(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return Ole(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function y4(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function _x(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function v_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function os(t,...e){if(!y4(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ck(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function jle(t,e){os(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Mc(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Sh(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Ule(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Lle=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Mle(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Ex(t){if(typeof t=="string")t=Mle(t);else if(y4(t))t=Cx(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Ble(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Fle(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const zle=(t,e)=>{function n(r,...s){if(os(r),!Lle)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?os(l):os(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&os(s[1]);const o=e(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");os(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,os(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(os(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function lk(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Wle(e))throw new Error("invalid output, must be aligned");return e}function uk(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function qle(t,e,n){_x(n);const r=new Uint8Array(16),s=Ule(r);return uk(s,0,BigInt(e),n),uk(s,8,BigInt(t),n),r}function Wle(t){return t.byteOffset%4===0}function Cx(t){return Uint8Array.from(t)}const w4=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Hle=w4("expand 16-byte k"),Vle=w4("expand 32-byte k"),Gle=Mc(Hle),Kle=Mc(Vle);function bt(t,e){return t<<e|t>>>32-e}function xx(t){return t.byteOffset%4===0}const My=64,Yle=16,v4=2**32-1,dk=new Uint32Array;function Qle(t,e,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(My),u=Mc(l),d=xx(s)&&xx(i),h=d?Mc(s):dk,f=d?Mc(i):dk;for(let p=0;p<c;o++){if(t(e,n,r,u,o,a),o>=v4)throw new Error("arx: counter overflow");const m=Math.min(My,c-p);if(d&&m===My){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let w=0,v;w<Yle;w++)v=y+w,f[v]=h[v]^u[w];p+=My;continue}for(let y=0,w;y<m;y++)w=p+y,i[w]=s[w]^l[y];p+=m}}function Jle(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=Ble({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return v_(s),v_(o),_x(i),_x(n),(a,c,l,u,d=0)=>{os(a),os(c),os(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),os(u),v_(d),d<0||d>=v4)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,m,y;if(p===32)f.push(m=Cx(a)),y=Kle;else if(p===16&&n)m=new Uint8Array(32),m.set(a),m.set(a,16),y=Gle,f.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);xx(c)||f.push(c=Cx(c));const w=Mc(m);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,w,Mc(c.subarray(0,16)),w),c=c.subarray(16)}const v=16-s;if(v!==c.length)throw new Error(`arx: nonce must be ${v} or 16 bytes`);if(v!==12){const E=new Uint8Array(12);E.set(c,i?0:12-c.length),c=E,f.push(c)}const b=Mc(c);return Qle(t,y,w,b,l,u,d,o),Sh(...f),u}}const Zn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Zle{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Ex(e),os(e,32);const n=Zn(e,0),r=Zn(e,2),s=Zn(e,4),i=Zn(e,6),o=Zn(e,8),a=Zn(e,10),c=Zn(e,12),l=Zn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Zn(e,16+2*u)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],m=o[8],y=o[9],w=Zn(e,n+0),v=Zn(e,n+2),b=Zn(e,n+4),E=Zn(e,n+6),_=Zn(e,n+8),x=Zn(e,n+10),S=Zn(e,n+12),A=Zn(e,n+14);let C=i[0]+(w&8191),k=i[1]+((w>>>13|v<<3)&8191),O=i[2]+((v>>>10|b<<6)&8191),B=i[3]+((b>>>7|E<<9)&8191),F=i[4]+((E>>>4|_<<12)&8191),H=i[5]+(_>>>1&8191),N=i[6]+((_>>>14|x<<2)&8191),T=i[7]+((x>>>11|S<<5)&8191),U=i[8]+((S>>>8|A<<8)&8191),D=i[9]+(A>>>5|s),$=0,L=$+C*a+k*(5*y)+O*(5*m)+B*(5*p)+F*(5*f);$=L>>>13,L&=8191,L+=H*(5*h)+N*(5*d)+T*(5*u)+U*(5*l)+D*(5*c),$+=L>>>13,L&=8191;let q=$+C*c+k*a+O*(5*y)+B*(5*m)+F*(5*p);$=q>>>13,q&=8191,q+=H*(5*f)+N*(5*h)+T*(5*d)+U*(5*u)+D*(5*l),$+=q>>>13,q&=8191;let J=$+C*l+k*c+O*a+B*(5*y)+F*(5*m);$=J>>>13,J&=8191,J+=H*(5*p)+N*(5*f)+T*(5*h)+U*(5*d)+D*(5*u),$+=J>>>13,J&=8191;let re=$+C*u+k*l+O*c+B*a+F*(5*y);$=re>>>13,re&=8191,re+=H*(5*m)+N*(5*p)+T*(5*f)+U*(5*h)+D*(5*d),$+=re>>>13,re&=8191;let ne=$+C*d+k*u+O*l+B*c+F*a;$=ne>>>13,ne&=8191,ne+=H*(5*y)+N*(5*m)+T*(5*p)+U*(5*f)+D*(5*h),$+=ne>>>13,ne&=8191;let ie=$+C*h+k*d+O*u+B*l+F*c;$=ie>>>13,ie&=8191,ie+=H*a+N*(5*y)+T*(5*m)+U*(5*p)+D*(5*f),$+=ie>>>13,ie&=8191;let me=$+C*f+k*h+O*d+B*u+F*l;$=me>>>13,me&=8191,me+=H*c+N*a+T*(5*y)+U*(5*m)+D*(5*p),$+=me>>>13,me&=8191;let K=$+C*p+k*f+O*h+B*d+F*u;$=K>>>13,K&=8191,K+=H*l+N*c+T*a+U*(5*y)+D*(5*m),$+=K>>>13,K&=8191;let X=$+C*m+k*p+O*f+B*h+F*d;$=X>>>13,X&=8191,X+=H*u+N*l+T*c+U*a+D*(5*y),$+=X>>>13,X&=8191;let se=$+C*y+k*m+O*p+B*f+F*h;$=se>>>13,se&=8191,se+=H*d+N*u+T*l+U*c+D*a,$+=se>>>13,se&=8191,$=($<<2)+$|0,$=$+L|0,L=$&8191,$=$>>>13,q+=$,i[0]=L,i[1]=q,i[2]=J,i[3]=re,i[4]=ne,i[5]=ie,i[6]=me,i[7]=K,i[8]=X,i[9]=se}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Sh(r)}update(e){ck(this),e=Ex(e),os(e);const{buffer:n,blockLen:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Sh(this.h,this.r,this.buffer,this.pad)}digestInto(e){ck(this),jle(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function Xle(t){const e=(r,s)=>t(s).update(Ex(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const eue=Xle(t=>new Zle(t));function tue(t,e,n,r,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],m=e[5],y=e[6],w=e[7],v=s,b=n[0],E=n[1],_=n[2],x=o,S=a,A=c,C=l,k=u,O=d,B=h,F=f,H=p,N=m,T=y,U=w,D=v,$=b,L=E,q=_;for(let re=0;re<i;re+=2)x=x+k|0,D=bt(D^x,16),H=H+D|0,k=bt(k^H,12),x=x+k|0,D=bt(D^x,8),H=H+D|0,k=bt(k^H,7),S=S+O|0,$=bt($^S,16),N=N+$|0,O=bt(O^N,12),S=S+O|0,$=bt($^S,8),N=N+$|0,O=bt(O^N,7),A=A+B|0,L=bt(L^A,16),T=T+L|0,B=bt(B^T,12),A=A+B|0,L=bt(L^A,8),T=T+L|0,B=bt(B^T,7),C=C+F|0,q=bt(q^C,16),U=U+q|0,F=bt(F^U,12),C=C+F|0,q=bt(q^C,8),U=U+q|0,F=bt(F^U,7),x=x+O|0,q=bt(q^x,16),T=T+q|0,O=bt(O^T,12),x=x+O|0,q=bt(q^x,8),T=T+q|0,O=bt(O^T,7),S=S+B|0,D=bt(D^S,16),U=U+D|0,B=bt(B^U,12),S=S+B|0,D=bt(D^S,8),U=U+D|0,B=bt(B^U,7),A=A+F|0,$=bt($^A,16),H=H+$|0,F=bt(F^H,12),A=A+F|0,$=bt($^A,8),H=H+$|0,F=bt(F^H,7),C=C+k|0,L=bt(L^C,16),N=N+L|0,k=bt(k^N,12),C=C+k|0,L=bt(L^C,8),N=N+L|0,k=bt(k^N,7);let J=0;r[J++]=o+x|0,r[J++]=a+S|0,r[J++]=c+A|0,r[J++]=l+C|0,r[J++]=u+k|0,r[J++]=d+O|0,r[J++]=h+B|0,r[J++]=f+F|0,r[J++]=p+H|0,r[J++]=m+N|0,r[J++]=y+T|0,r[J++]=w+U|0,r[J++]=v+D|0,r[J++]=b+$|0,r[J++]=E+L|0,r[J++]=_+q|0}const nue=Jle(tue,{counterRight:!1,counterLength:4,allowShortKeys:!1}),rue=new Uint8Array(16),hk=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(rue.subarray(n))},sue=new Uint8Array(32);function fk(t,e,n,r,s){const i=t(e,n,sue),o=eue.create(i);s&&hk(o,s),hk(o,r);const a=qle(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return Sh(i,a),c}const iue=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=lk(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const c=fk(t,e,n,a,r);return i.set(c,o),Sh(c),i},decrypt(s,i){i=lk(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=fk(t,e,n,o,r);if(!Fle(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),Sh(c),i}}),b4=zle({blockSize:64,nonceLength:12,tagLength:16},iue(nue));let _4=class extends Qv{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,C2(e);const r=ji(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),ii(i)}update(e){return Jc(this),this.iHash.update(e),this}digestInto(e){Jc(this),si(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Zv=(t,e,n)=>new _4(t,e).update(n).digest();Zv.create=(t,e)=>new _4(t,e);function oue(t,e,n){return C2(t),n===void 0&&(n=new Uint8Array(t.outputLen)),Zv(t,ji(n),ji(e))}const b_=Uint8Array.from([0]),pk=Uint8Array.of();function aue(t,e,n,r=32){C2(t),ya(r);const s=t.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=pk);const o=new Uint8Array(i*s),a=Zv.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)b_[0]=u+1,c.update(u===0?pk:l).update(n).update(b_).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),ii(l,b_),o.slice(0,r)}const cue=(t,e,n,r,s)=>aue(t,oue(t,e,n),r,s),Xv=Jv,T2=BigInt(0),Sx=BigInt(1);function R0(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function By(t){const e=t.toString(16);return e.length&1?"0"+e:e}function E4(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?T2:BigInt("0x"+t)}function eb(t){return E4($g(t))}function $0(t){return si(t),E4($g(Uint8Array.from(t).reverse()))}function N2(t,e){return S2(t.toString(16).padStart(e*2,"0"))}function P2(t,e){return N2(t,e).reverse()}function is(t,e,n){let r;if(typeof e=="string")try{r=S2(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(E2(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const __=t=>typeof t=="bigint"&&T2<=t;function lue(t,e,n){return __(t)&&__(e)&&__(n)&&e<=t&&t<n}function Ax(t,e,n,r){if(!lue(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function uue(t){let e;for(e=0;t>T2;t>>=Sx,e+=1);return e}const tb=t=>(Sx<<BigInt(t))-Sx;function due(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let i=r(t),o=r(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...h)=>n(o,i,...h),u=(h=r(0))=>{o=l(s(0),h),i=l(),h.length!==0&&(o=l(s(1),h),i=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){i=l();const p=i.slice();f.push(p),h+=i.length}return Rl(...f)};return(h,f)=>{c(),u(h);let p;for(;!(p=f(d()));)u();return c(),p}}function nb(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function gk(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const us=BigInt(0),Ur=BigInt(1),$l=BigInt(2),hue=BigInt(3),C4=BigInt(4),x4=BigInt(5),S4=BigInt(8);function Qs(t,e){const n=t%e;return n>=us?n:e+n}function wi(t,e,n){let r=t;for(;e-- >us;)r*=r,r%=n;return r}function mk(t,e){if(t===us)throw new Error("invert: expected non-zero number");if(e<=us)throw new Error("invert: expected positive modulus, got "+e);let n=Qs(t,e),r=e,s=us,i=Ur;for(;n!==us;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==Ur)throw new Error("invert: does not exist");return Qs(s,e)}function A4(t,e){const n=(t.ORDER+Ur)/C4,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function fue(t,e){const n=(t.ORDER-x4)/S4,r=t.mul(e,$l),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,$l),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function pue(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Ur,n=0;for(;e%$l===us;)e/=$l,n++;let r=$l;const s=Jh(t);for(;yk(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return A4;let i=s.pow(r,e);const o=(e+Ur)/$l;return function(a,c){if(a.is0(c))return c;if(yk(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),d=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(f++,p=a.sqr(p),f===l)throw new Error("Cannot find square root");const m=Ur<<BigInt(l-f-1),y=a.pow(u,m);l=f,u=a.sqr(y),d=a.mul(d,u),h=a.mul(h,y)}return h}}function gue(t){return t%C4===hue?A4:t%S4===x4?fue:pue(t)}const mue=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function yue(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=mue.reduce((r,s)=>(r[s]="function",r),e);return nb(t,n),t}function wue(t,e,n){if(n<us)throw new Error("invalid exponent, negatives unsupported");if(n===us)return t.ONE;if(n===Ur)return e;let r=t.ONE,s=e;for(;n>us;)n&Ur&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Ur;return r}function I4(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function yk(t,e){const n=(t.ORDER-Ur)/$l,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function vue(t,e){e!==void 0&&ya(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Jh(t,e,n=!1,r={}){if(t<=us)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(s=u.BITS),u.sqrt&&(i=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:a}=vue(t,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:tb(o),ZERO:us,ONE:Ur,create:u=>Qs(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return us<=u&&u<t},is0:u=>u===us,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&Ur)===Ur,neg:u=>Qs(-u,t),eql:(u,d)=>u===d,sqr:u=>Qs(u*u,t),add:(u,d)=>Qs(u+d,t),sub:(u,d)=>Qs(u-d,t),mul:(u,d)=>Qs(u*d,t),pow:(u,d)=>wue(l,u,d),div:(u,d)=>Qs(u*mk(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>mk(u,t),sqrt:i||(u=>(c||(c=gue(t)),c(l,u))),toBytes:u=>n?P2(u,a):N2(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?$0(u):eb(u)},invertBatch:u=>I4(l,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(l)}function T4(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function N4(t){const e=T4(t);return e+Math.ceil(e/2)}function bue(t,e,n=!1){const r=t.length,s=T4(e),i=N4(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?$0(t):eb(t),a=Qs(o,e-Ur)+Ur;return n?P2(a,s):N2(a,s)}const Ah=BigInt(0),Dl=BigInt(1);function _p(t,e){const n=e.negate();return t?n:e}function _ue(t,e,n){const r=i=>i.pz,s=I4(t.Fp,n.map(r));return n.map((i,o)=>i.toAffine(s[o])).map(t.fromAffine)}function P4(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function E_(t,e){P4(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=tb(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function wk(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=Dl);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function Eue(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Cue(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const C_=new WeakMap,k4=new WeakMap;function x_(t){return k4.get(t)||1}function vk(t){if(t!==Ah)throw new Error("invalid wNAF")}function xue(t,e){return{constTimeNegate:_p,hasPrecomputes(n){return x_(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>Ah;)r&Dl&&(s=s.add(i)),i=i.double(),r>>=Dl;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=E_(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=E_(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=wk(s,c,a);s=l,d?o=o.add(_p(f,r[p])):i=i.add(_p(h,r[u]))}return vk(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=E_(n,e);for(let a=0;a<o.windows&&s!==Ah;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=wk(s,a,o);if(s=c,!u){const h=r[l];i=i.add(d?h.negate():h)}}return vk(s),i},getPrecomputes(n,r,s){let i=C_.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),C_.set(r,i))),i},wNAFCached(n,r,s){const i=x_(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=x_(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){P4(r,e),k4.set(n,r),C_.delete(n)}}}function Sue(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>Ah||r>Ah;)n&Dl&&(i=i.add(s)),r&Dl&&(o=o.add(s)),s=s.double(),n>>=Dl,r>>=Dl;return{p1:i,p2:o}}function Aue(t,e,n,r){Eue(n,t),Cue(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=uue(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=tb(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<i;m++){const y=r[m],w=Number(y>>BigInt(f)&l);u[w]=u[w].add(n[m])}let p=o;for(let m=u.length-1,y=o;m>0;m--)y=y.add(u[m]),p=p.add(y);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function bk(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return yue(e),e}else return Jh(t)}function Iue(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>Ah))throw new Error(`CURVE.${o} must be positive bigint`)}const r=bk(e.p,n.Fp),s=bk(e.n,n.Fn),i=["Gx","Gy","a","b"];for(const o of i)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Of=BigInt(0),Xu=BigInt(1),Fy=BigInt(2);function Tue(t){return nb(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function Nue(t){const e=Tue(t),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||Qh,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),f=a?Fy**BigInt(254):Fy**BigInt(447),p=a?BigInt(8)*Fy**BigInt(251)-Xu:BigInt(4)*Fy**BigInt(445)-Xu,m=f+p+Xu,y=C=>Qs(C,n),w=v(d);function v(C){return P2(y(C),u)}function b(C){const k=is("u coordinate",C,u);return a&&(k[31]&=127),y($0(k))}function E(C){return $0(s(is("scalar",C,u)))}function _(C,k){const O=A(b(k),E(C));if(O===Of)throw new Error("invalid private or public key received");return v(O)}function x(C){return _(C,w)}function S(C,k,O){const B=y(C*(k-O));return k=y(k-B),O=y(O+B),{x_2:k,x_3:O}}function A(C,k){Ax("u",C,Of,n),Ax("scalar",k,f,m);const O=k,B=C;let F=Xu,H=Of,N=C,T=Xu,U=Of;for(let $=BigInt(l-1);$>=Of;$--){const L=O>>$&Xu;U^=L,{x_2:F,x_3:N}=S(U,F,N),{x_2:H,x_3:T}=S(U,H,T),U=L;const q=F+H,J=y(q*q),re=F-H,ne=y(re*re),ie=J-ne,me=N+T,K=N-T,X=y(K*q),se=y(me*re),te=X+se,he=X-se;N=y(te*te),T=y(B*y(he*he)),F=y(J*ne),H=y(ie*(J+y(h*ie)))}({x_2:F,x_3:N}=S(U,F,N)),{x_2:H,x_3:T}=S(U,H,T);const D=i(H);return y(F*D)}return{scalarMult:_,scalarMultBase:x,getSharedSecret:(C,k)=>_(C,k),getPublicKey:C=>x(C),utils:{randomPrivateKey:()=>c(u)},GuBytes:w.slice()}}BigInt(0);const Pue=BigInt(1),_k=BigInt(2),kue=BigInt(3),Oue=BigInt(5);BigInt(8);const O4={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Rue(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=O4.p,o=t*t%i*t%i,a=wi(o,_k,i)*o%i,c=wi(a,Pue,i)*t%i,l=wi(c,Oue,i)*c%i,u=wi(l,e,i)*l%i,d=wi(u,n,i)*u%i,h=wi(d,r,i)*d%i,f=wi(h,s,i)*h%i,p=wi(f,s,i)*h%i,m=wi(p,e,i)*l%i;return{pow_p_5_8:wi(m,_k,i)*t%i,b2:o}}function $ue(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Ix=(()=>{const t=O4.p;return Nue({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=Rue(e);return Qs(wi(n,kue,t)*r,t)},adjustScalarBytes:$ue})})();function Ek(t){t.lowS!==void 0&&R0("lowS",t.lowS),t.prehash!==void 0&&R0("prehash",t.prehash)}class Due extends Error{constructor(e=""){super(e)}}const Yo={Err:Due,_tlv:{encode:(t,e)=>{const{Err:n}=Yo;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=By(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?By(s.length/2|128):"";return By(t)+i+s+e},decode(t,e){const{Err:n}=Yo;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Yo;if(t<Ep)throw new e("integer: negative integers are not allowed");let n=By(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Yo;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return eb(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Yo,s=is("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Yo,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},Ep=BigInt(0),Cp=BigInt(1),jue=BigInt(2),zy=BigInt(3),Uue=BigInt(4);function Lue(t,e,n){function r(s){const i=t.sqr(s),o=t.mul(i,s);return t.add(t.add(o,t.mul(s,e)),n)}return r}function R4(t,e,n){const{BYTES:r}=t;function s(i){let o;if(typeof i=="bigint")o=i;else{let a=is("private key",i);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function Mue(t,e={}){const{Fp:n,Fn:r}=Iue("weierstrass",t,e),{h:s,n:i}=t;nb(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(A,C,k){const{x:O,y:B}=C.toAffine(),F=n.toBytes(O);if(R0("isCompressed",k),k){a();const H=!n.isOdd(B);return Rl($4(H),F)}else return Rl(Uint8Array.of(4),F,n.toBytes(B))}function l(A){si(A);const C=n.BYTES,k=C+1,O=2*C+1,B=A.length,F=A[0],H=A.subarray(1);if(B===k&&(F===2||F===3)){const N=n.fromBytes(H);if(!n.isValid(N))throw new Error("bad point: is not on curve, wrong x");const T=h(N);let U;try{U=n.sqrt(T)}catch($){const L=$ instanceof Error?": "+$.message:"";throw new Error("bad point: is not on curve, sqrt error"+L)}a();const D=n.isOdd(U);return(F&1)===1!==D&&(U=n.neg(U)),{x:N,y:U}}else if(B===O&&F===4){const N=n.fromBytes(H.subarray(C*0,C*1)),T=n.fromBytes(H.subarray(C*1,C*2));if(!f(N,T))throw new Error("bad point: is not on curve");return{x:N,y:T}}else throw new Error(`bad point: got length ${B}, expected compressed=${k} or uncompressed=${O}`)}const u=e.toBytes||c,d=e.fromBytes||l,h=Lue(n,t.a,t.b);function f(A,C){const k=n.sqr(C),O=h(A);return n.eql(k,O)}if(!f(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(t.a,zy),Uue),m=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(p,m)))throw new Error("bad curve params: a or b");function y(A,C,k=!1){if(!n.isValid(C)||k&&n.is0(C))throw new Error(`bad point coordinate ${A}`);return C}function w(A){if(!(A instanceof _))throw new Error("ProjectivePoint expected")}const v=gk((A,C)=>{const{px:k,py:O,pz:B}=A;if(n.eql(B,n.ONE))return{x:k,y:O};const F=A.is0();C==null&&(C=F?n.ONE:n.inv(B));const H=n.mul(k,C),N=n.mul(O,C),T=n.mul(B,C);if(F)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:H,y:N}}),b=gk(A=>{if(A.is0()){if(e.allowInfinityPoint&&!n.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:C,y:k}=A.toAffine();if(!n.isValid(C)||!n.isValid(k))throw new Error("bad point: x or y not field elements");if(!f(C,k))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function E(A,C,k,O,B){return k=new _(n.mul(k.px,A),k.py,k.pz),C=_p(O,C),k=_p(B,k),C.add(k)}class _{constructor(C,k,O){this.px=y("x",C),this.py=y("y",k,!0),this.pz=y("z",O),Object.freeze(this)}static fromAffine(C){const{x:k,y:O}=C||{};if(!C||!n.isValid(k)||!n.isValid(O))throw new Error("invalid affine point");if(C instanceof _)throw new Error("projective point not allowed");return n.is0(k)&&n.is0(O)?_.ZERO:new _(k,O,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){return _ue(_,"pz",C)}static fromBytes(C){return si(C),_.fromHex(C)}static fromHex(C){const k=_.fromAffine(d(is("pointHex",C)));return k.assertValidity(),k}static fromPrivateKey(C){const k=R4(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return _.BASE.multiply(k(C))}static msm(C,k){return Aue(_,r,C,k)}precompute(C=8,k=!0){return S.setWindowSize(this,C),k||this.multiply(zy),this}_setWindowSize(C){this.precompute(C)}assertValidity(){b(this)}hasEvenY(){const{y:C}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(C)}equals(C){w(C);const{px:k,py:O,pz:B}=this,{px:F,py:H,pz:N}=C,T=n.eql(n.mul(k,N),n.mul(F,B)),U=n.eql(n.mul(O,N),n.mul(H,B));return T&&U}negate(){return new _(this.px,n.neg(this.py),this.pz)}double(){const{a:C,b:k}=t,O=n.mul(k,zy),{px:B,py:F,pz:H}=this;let N=n.ZERO,T=n.ZERO,U=n.ZERO,D=n.mul(B,B),$=n.mul(F,F),L=n.mul(H,H),q=n.mul(B,F);return q=n.add(q,q),U=n.mul(B,H),U=n.add(U,U),N=n.mul(C,U),T=n.mul(O,L),T=n.add(N,T),N=n.sub($,T),T=n.add($,T),T=n.mul(N,T),N=n.mul(q,N),U=n.mul(O,U),L=n.mul(C,L),q=n.sub(D,L),q=n.mul(C,q),q=n.add(q,U),U=n.add(D,D),D=n.add(U,D),D=n.add(D,L),D=n.mul(D,q),T=n.add(T,D),L=n.mul(F,H),L=n.add(L,L),D=n.mul(L,q),N=n.sub(N,D),U=n.mul(L,$),U=n.add(U,U),U=n.add(U,U),new _(N,T,U)}add(C){w(C);const{px:k,py:O,pz:B}=this,{px:F,py:H,pz:N}=C;let T=n.ZERO,U=n.ZERO,D=n.ZERO;const $=t.a,L=n.mul(t.b,zy);let q=n.mul(k,F),J=n.mul(O,H),re=n.mul(B,N),ne=n.add(k,O),ie=n.add(F,H);ne=n.mul(ne,ie),ie=n.add(q,J),ne=n.sub(ne,ie),ie=n.add(k,B);let me=n.add(F,N);return ie=n.mul(ie,me),me=n.add(q,re),ie=n.sub(ie,me),me=n.add(O,B),T=n.add(H,N),me=n.mul(me,T),T=n.add(J,re),me=n.sub(me,T),D=n.mul($,ie),T=n.mul(L,re),D=n.add(T,D),T=n.sub(J,D),D=n.add(J,D),U=n.mul(T,D),J=n.add(q,q),J=n.add(J,q),re=n.mul($,re),ie=n.mul(L,ie),J=n.add(J,re),re=n.sub(q,re),re=n.mul($,re),ie=n.add(ie,re),q=n.mul(J,ie),U=n.add(U,q),q=n.mul(me,ie),T=n.mul(ne,T),T=n.sub(T,q),q=n.mul(ne,J),D=n.mul(me,D),D=n.add(D,q),new _(T,U,D)}subtract(C){return this.add(C.negate())}is0(){return this.equals(_.ZERO)}multiply(C){const{endo:k}=e;if(!r.isValidNot0(C))throw new Error("invalid scalar: out of range");let O,B;const F=H=>S.wNAFCached(this,H,_.normalizeZ);if(k){const{k1neg:H,k1:N,k2neg:T,k2:U}=k.splitScalar(C),{p:D,f:$}=F(N),{p:L,f:q}=F(U);B=$.add(q),O=E(k.beta,D,L,H,T)}else{const{p:H,f:N}=F(C);O=H,B=N}return _.normalizeZ([O,B])[0]}multiplyUnsafe(C){const{endo:k}=e,O=this;if(!r.isValid(C))throw new Error("invalid scalar: out of range");if(C===Ep||O.is0())return _.ZERO;if(C===Cp)return O;if(S.hasPrecomputes(this))return this.multiply(C);if(k){const{k1neg:B,k1:F,k2neg:H,k2:N}=k.splitScalar(C),{p1:T,p2:U}=Sue(_,O,F,N);return E(k.beta,T,U,B,H)}else return S.wNAFCachedUnsafe(O,C)}multiplyAndAddUnsafe(C,k,O){const B=this.multiplyUnsafe(k).add(C.multiplyUnsafe(O));return B.is0()?void 0:B}toAffine(C){return v(this,C)}isTorsionFree(){const{isTorsionFree:C}=e;return s===Cp?!0:C?C(_,this):S.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:C}=e;return s===Cp?this:C?C(_,this):this.multiplyUnsafe(s)}toBytes(C=!0){return R0("isCompressed",C),this.assertValidity(),u(_,this,C)}toRawBytes(C=!0){return this.toBytes(C)}toHex(C=!0){return $g(this.toBytes(C))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}_.BASE=new _(t.Gx,t.Gy,n.ONE),_.ZERO=new _(n.ZERO,n.ONE,n.ZERO),_.Fp=n,_.Fn=r;const x=r.BITS,S=xue(_,e.endo?Math.ceil(x/2):x);return _}function $4(t){return Uint8Array.of(t?2:3)}function Bue(t,e,n={}){nb(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||Qh,s=e.hmac||((O,...B)=>Zv(e.hash,O,Rl(...B))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(O){const B=a>>Cp;return O>B}function u(O){return l(O)?o.neg(O):O}function d(O,B){if(!o.isValidNot0(B))throw new Error(`invalid signature ${O}: out of range 1..CURVE.n`)}class h{constructor(B,F,H){d("r",B),d("s",F),this.r=B,this.s=F,H!=null&&(this.recovery=H),Object.freeze(this)}static fromCompact(B){const F=o.BYTES,H=is("compactSignature",B,F*2);return new h(o.fromBytes(H.subarray(0,F)),o.fromBytes(H.subarray(F,F*2)))}static fromDER(B){const{r:F,s:H}=Yo.toSig(is("DER",B));return new h(F,H)}assertValidity(){}addRecoveryBit(B){return new h(this.r,this.s,B)}recoverPublicKey(B){const F=i.ORDER,{r:H,s:N,recovery:T}=this;if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");if(a*jue<F&&T>1)throw new Error("recovery id is ambiguous for h>1 curve");const U=T===2||T===3?H+a:H;if(!i.isValid(U))throw new Error("recovery id 2 or 3 invalid");const D=i.toBytes(U),$=t.fromHex(Rl($4((T&1)===0),D)),L=o.inv(U),q=b(is("msgHash",B)),J=o.create(-q*L),re=o.create(N*L),ne=t.BASE.multiplyUnsafe(J).add($.multiplyUnsafe(re));if(ne.is0())throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes(B){if(B==="compact")return Rl(o.toBytes(this.r),o.toBytes(this.s));if(B==="der")return S2(Yo.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return $g(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return $g(this.toBytes("compact"))}}const f=R4(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(O){try{return f(O),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const O=a;return bue(r(N4(O)),O)},precompute(O=8,B=t.BASE){return B.precompute(O,!1)}};function m(O,B=!0){return t.fromPrivateKey(O).toBytes(B)}function y(O){if(typeof O=="bigint")return!1;if(O instanceof t)return!0;const B=is("key",O).length,F=i.BYTES,H=F+1,N=2*F+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===H))return B===H||B===N}function w(O,B,F=!0){if(y(O)===!0)throw new Error("first arg must be private key");if(y(B)===!1)throw new Error("second arg must be public key");return t.fromHex(B).multiply(f(O)).toBytes(F)}const v=e.bits2int||function(O){if(O.length>8192)throw new Error("input is too large");const B=eb(O),F=O.length*8-c;return F>0?B>>BigInt(F):B},b=e.bits2int_modN||function(O){return o.create(v(O))},E=tb(c);function _(O){return Ax("num < 2^"+c,O,Ep,E),o.toBytes(O)}function x(O,B,F=S){if(["recovered","canonical"].some(ne=>ne in F))throw new Error("sign() legacy options not supported");const{hash:H}=e;let{lowS:N,prehash:T,extraEntropy:U}=F;N==null&&(N=!0),O=is("msgHash",O),Ek(F),T&&(O=is("prehashed msgHash",H(O)));const D=b(O),$=f(B),L=[_($),_(D)];if(U!=null&&U!==!1){const ne=U===!0?r(i.BYTES):U;L.push(is("extraEntropy",ne))}const q=Rl(...L),J=D;function re(ne){const ie=v(ne);if(!o.isValidNot0(ie))return;const me=o.inv(ie),K=t.BASE.multiply(ie).toAffine(),X=o.create(K.x);if(X===Ep)return;const se=o.create(me*o.create(J+X*$));if(se===Ep)return;let te=(K.x===X?0:2)|Number(K.y&Cp),he=se;return N&&l(se)&&(he=u(se),te^=1),new h(X,he,te)}return{seed:q,k2sig:re}}const S={lowS:e.lowS,prehash:!1},A={lowS:e.lowS,prehash:!1};function C(O,B,F=S){const{seed:H,k2sig:N}=x(O,B,F);return due(e.hash.outputLen,o.BYTES,s)(H,N)}t.BASE.precompute(8);function k(O,B,F,H=A){const N=O;B=is("msgHash",B),F=is("publicKey",F),Ek(H);const{lowS:T,prehash:U,format:D}=H;if("strict"in H)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&!["compact","der","js"].includes(D))throw new Error('format must be "compact", "der" or "js"');const $=typeof N=="string"||E2(N),L=!$&&!D&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!$&&!L)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,J;try{if(L)if(D===void 0||D==="js")q=new h(N.r,N.s);else throw new Error("invalid format");if($){try{D!=="compact"&&(q=h.fromDER(N))}catch(te){if(!(te instanceof Yo.Err))throw te}!q&&D!=="der"&&(q=h.fromCompact(N))}J=t.fromHex(F)}catch{return!1}if(!q||T&&q.hasHighS())return!1;U&&(B=e.hash(B));const{r:re,s:ne}=q,ie=b(B),me=o.inv(ne),K=o.create(ie*me),X=o.create(re*me),se=t.BASE.multiplyUnsafe(K).add(J.multiplyUnsafe(X));return se.is0()?!1:o.create(se.x)===re}return Object.freeze({getPublicKey:m,getSharedSecret:w,sign:C,verify:k,utils:p,Point:t,Signature:h})}function Fue(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Jh(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function zue(t){const{CURVE:e,curveOpts:n}=Fue(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function que(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Wue(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=zue(t),s=Mue(e,n),i=Bue(s,r,n);return que(t,i)}function Tx(t,e){const n=r=>Wue({...t,hash:r});return{...n(e),create:n}}const D4={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},j4={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},U4={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Hue=Jh(D4.p),Vue=Jh(j4.p),Gue=Jh(U4.p),Kue=Tx({...D4,Fp:Hue,lowS:!1},Jv);Tx({...j4,Fp:Vue,lowS:!1},nle),Tx({...U4,Fp:Gue,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},tle);const Yue=Kue,L4="base10",Lr="base16",Oi="base64pad",sc="base64url",Om="utf8",M4=0,ia=1,Rm=2,Que=0,Ck=1,xp=12,k2=32;function Jue(){const t=Ix.utils.randomPrivateKey(),e=Ix.getPublicKey(t);return{privateKey:gs(t,Lr),publicKey:gs(e,Lr)}}function Nx(){const t=Qh(k2);return gs(t,Lr)}function Zue(t,e){const n=Ix.getSharedSecret(ei(t,Lr),ei(e,Lr)),r=cue(Xv,n,void 0,void 0,k2);return gs(r,Lr)}function Pw(t){const e=Xv(ei(t,Lr));return gs(e,Lr)}function ho(t){const e=Xv(ei(t,Om));return gs(e,Lr)}function B4(t){return ei(`${t}`,L4)}function wu(t){return Number(gs(t,L4))}function F4(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function z4(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function Xue(t){const e=B4(typeof t.type<"u"?t.type:M4);if(wu(e)===ia&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?ei(t.senderPublicKey,Lr):void 0,r=typeof t.iv<"u"?ei(t.iv,Lr):Qh(xp),s=ei(t.symKey,Lr),i=b4(s,r).encrypt(ei(t.message,Om)),o=q4({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===sc?F4(o):o}function ede(t){const e=ei(t.symKey,Lr),{sealed:n,iv:r}=jg({encoded:t.encoded,encoding:t.encoding}),s=b4(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return gs(s,Om)}function tde(t,e){const n=B4(Rm),r=Qh(xp),s=ei(t,Om),i=q4({type:n,sealed:s,iv:r});return e===sc?F4(i):i}function nde(t,e){const{sealed:n}=jg({encoded:t,encoding:e});return gs(n,Om)}function q4(t){if(wu(t.type)===Rm)return gs(bp([t.type,t.sealed]),Oi);if(wu(t.type)===ia){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return gs(bp([t.type,t.senderPublicKey,t.iv,t.sealed]),Oi)}return gs(bp([t.type,t.iv,t.sealed]),Oi)}function jg(t){const e=(t.encoding||Oi)===sc?z4(t.encoded):t.encoded,n=ei(e,Oi),r=n.slice(Que,Ck),s=Ck;if(wu(r)===ia){const c=s+k2,l=c+xp,u=n.slice(s,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(wu(r)===Rm){const c=n.slice(s),l=Qh(xp);return{type:r,sealed:c,iv:l}}const i=s+xp,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function rde(t,e){const n=jg({encoded:t,encoding:e==null?void 0:e.encoding});return W4({type:wu(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?gs(n.senderPublicKey,Lr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function W4(t){const e=(t==null?void 0:t.type)||M4;if(e===ia){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function xk(t){return t.type===ia&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function Sk(t){return t.type===Rm}function sde(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return bp([new Uint8Array([4]),e,n])}function ide(t,e){const[n,r,s]=t.split("."),i=Buffer.from(z4(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=Xv(c),u=sde(e);if(!Yue.verify(bp([o,a]),l,u))throw new Error("Invalid signature");return dx(t).payload}const ode="irn";function D0(t){return(t==null?void 0:t.relay)||{protocol:ode}}function tp(t){const e=Dae[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function ade(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=t[s];n[i]=o}}),n}function Ak(t){if(!t.includes("wc:")){const l=t4(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(i),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:cde(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:ade(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function cde(t){return t.startsWith("//")?t.substring(2):t}function lde(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const i=s,o=n+e+i;t[i]&&(r[o]=t[i])}),r}function Ik(t){const e=new URLSearchParams,n=lde(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function qy(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var ude=Object.defineProperty,dde=Object.defineProperties,hde=Object.getOwnPropertyDescriptors,Tk=Object.getOwnPropertySymbols,fde=Object.prototype.hasOwnProperty,pde=Object.prototype.propertyIsEnumerable,Nk=(t,e,n)=>e in t?ude(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gde=(t,e)=>{for(var n in e||(e={}))fde.call(e,n)&&Nk(t,n,e[n]);if(Tk)for(var n of Tk(e))pde.call(e,n)&&Nk(t,n,e[n]);return t},mde=(t,e)=>dde(t,hde(e));function Zh(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function yde(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Zh(n.accounts))}),e}function wde(t,e){const n=[];return Object.values(t).forEach(r=>{Zh(r.accounts).includes(e)&&n.push(...r.methods)}),n}function vde(t,e){const n=[];return Object.values(t).forEach(r=>{Zh(r.accounts).includes(e)&&n.push(...r.events)}),n}function rb(t){return t.includes(":")}function jd(t){return rb(t)?t.split(":")[0]:t}function Pk(t){var e,n,r;const s={};if(!Bc(t))return s;for(const[i,o]of Object.entries(t)){const a=rb(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=jd(i);s[u]=mde(gde({},s[u]),{chains:_o(a,(e=s[u])==null?void 0:e.chains),methods:_o(c,(n=s[u])==null?void 0:n.methods),events:_o(l,(r=s[u])==null?void 0:r.events)})}return s}function bde(t){const e={};return t==null||t.forEach(n=>{var r;const[s,i]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${i}`)}),e}function kk(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=bde(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=_o(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}function _de(t,e){var n,r,s,i,o,a;const c=Pk(t),l=Pk(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:_o((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:_o((s=c[h])==null?void 0:s.methods,(i=l[h])==null?void 0:i.methods),events:_o((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const Ede={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Cde={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ge(t,e){const{message:n,code:r}=Cde[t];return{message:e?`${n} ${e}`:n,code:r}}function rn(t,e){const{message:n,code:r}=Ede[t];return{message:e?`${n} ${e}`:n,code:r}}function oa(t,e){return!!Array.isArray(t)}function Bc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function ir(t){return typeof t>"u"}function Sn(t,e){return e&&ir(t)?!0:typeof t=="string"&&!!t.trim().length}function O2(t,e){return e&&ir(t)?!0:typeof t=="number"&&!isNaN(t)}function xde(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let i=!0;return Ol(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=Zh(a),d=n[o];(!Ol(Q6(o,d),u)||!Ol(d.methods,c)||!Ol(d.events,l))&&(i=!1)}),i):!1}function j0(t){return Sn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Sde(t){if(Sn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&j0(n)}}return!1}function Ade(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Sn(t,!1)){if(e(t))return!0;const n=t4(t);return e(n)}}catch{}return!1}function Ide(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Tde(t){return t==null?void 0:t.topic}function Nde(t,e){let n=null;return Sn(t==null?void 0:t.publicKey,!1)||(n=ge("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function Ok(t){let e=!0;return oa(t)?t.length&&(e=t.every(n=>Sn(n,!1))):e=!1,e}function Pde(t,e,n){let r=null;return oa(e)&&e.length?e.forEach(s=>{r||j0(s)||(r=rn("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):j0(t)||(r=rn("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function kde(t,e,n){let r=null;return Object.entries(t).forEach(([s,i])=>{if(r)return;const o=Pde(s,Q6(s,i),`${e} ${n}`);o&&(r=o)}),r}function Ode(t,e){let n=null;return oa(t)?t.forEach(r=>{n||Sde(r)||(n=rn("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=rn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Rde(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=Ode(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function $de(t,e){let n=null;return Ok(t==null?void 0:t.methods)?Ok(t==null?void 0:t.events)||(n=rn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=rn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function H4(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=$de(r,`${e}, namespace`);s&&(n=s)}),n}function Dde(t,e,n){let r=null;if(t&&Bc(t)){const s=H4(t,e);s&&(r=s);const i=kde(t,e,n);i&&(r=i)}else r=ge("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function S_(t,e){let n=null;if(t&&Bc(t)){const r=H4(t,e);r&&(n=r);const s=Rde(t,e);s&&(n=s)}else n=ge("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function V4(t){return Sn(t.protocol,!0)}function jde(t,e){let n=!1;return t?t&&oa(t)&&t.length&&t.forEach(r=>{n=V4(r)}):n=!0,n}function Ude(t){return typeof t=="number"}function es(t){return typeof t<"u"&&typeof t!==null}function Lde(t){return!(!t||typeof t!="object"||!t.code||!O2(t.code,!1)||!t.message||!Sn(t.message,!1))}function Mde(t){return!(ir(t)||!Sn(t.method,!1))}function Bde(t){return!(ir(t)||ir(t.result)&&ir(t.error)||!O2(t.id,!1)||!Sn(t.jsonrpc,!1))}function Fde(t){return!(ir(t)||!Sn(t.name,!1))}function Rk(t,e){return!(!j0(e)||!yde(t).includes(e))}function zde(t,e,n){return Sn(n,!1)?wde(t,e).includes(n):!1}function qde(t,e,n){return Sn(n,!1)?vde(t,e).includes(n):!1}function $k(t,e,n){let r=null;const s=Wde(t),i=Hde(e),o=Object.keys(s),a=Object.keys(i),c=Dk(Object.keys(t)),l=Dk(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=ge("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Ol(o,a)||(r=ge("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=Zh(e[d].accounts);h.includes(d)||(r=ge("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(Ol(s[d].methods,i[d].methods)?Ol(s[d].events,i[d].events)||(r=ge("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=ge("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function Wde(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function Dk(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Hde(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Zh(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(i=>i.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Vde(t,e){return O2(t,!1)&&t<=e.max&&t>=e.min}function jk(){const t=Pm();return new Promise(e=>{switch(t){case Ns.browser:e(Gde());break;case Ns.reactNative:e(Kde());break;case Ns.node:e(Yde());break;default:e(!0)}})}function Gde(){return Yh()&&(navigator==null?void 0:navigator.onLine)}async function Kde(){if(ol()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Yde(){return!0}function Qde(t){switch(Pm()){case Ns.browser:Jde(t);break;case Ns.reactNative:Zde(t);break}}function Jde(t){!ol()&&Yh()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Zde(t){ol()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function Xde(){var t;return Yh()&&gu()?((t=gu())==null?void 0:t.visibilityState)==="visible":!0}const A_={};class Rf{static get(e){return A_[e]}static set(e,n){A_[e]=n}static delete(e){delete A_[e]}}function ehe(t){const e=Kh.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function the({publicKey:t,signature:e,payload:n}){var r;const s=Px(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=she(n.address),a=n.era==="00"?new Uint8Array([0]):Px(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${rhe(n.tip)}`),d=ohe(u),h=new Uint8Array([0,...t,o,...e,...a,...l,...d,...s]),f=ihe(h.length+1);return new Uint8Array([...f,i,...h])}function nhe(t){const e=Px(t),n=Gae.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function Px(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function rhe(t){return t.startsWith("0x")?t.slice(2):t}function she(t){const e=Kh.decode(t)[0];return e===42?0:e===60?2:1}function ihe(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function ohe(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function ahe(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=ehe(t.transaction.address),r=the({publicKey:n,signature:e,payload:t.transaction}),s=Buffer.from(r).toString("hex");return nhe(s)}const che="PARSE_ERROR",lhe="INVALID_REQUEST",uhe="METHOD_NOT_FOUND",dhe="INVALID_PARAMS",G4="INTERNAL_ERROR",R2="SERVER_ERROR",hhe=[-32700,-32600,-32601,-32602,-32603],Sp={[che]:{code:-32700,message:"Parse error"},[lhe]:{code:-32600,message:"Invalid Request"},[uhe]:{code:-32601,message:"Method not found"},[dhe]:{code:-32602,message:"Invalid params"},[G4]:{code:-32603,message:"Internal error"},[R2]:{code:-32e3,message:"Server error"}},K4=R2;function fhe(t){return hhe.includes(t)}function Uk(t){return Object.keys(Sp).includes(t)?Sp[t]:Sp[K4]}function phe(t){const e=Object.values(Sp).find(n=>n.code===t);return e||Sp[K4]}function Y4(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var Q4={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kx=function(t,e){return kx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},kx(t,e)};function ghe(t,e){kx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ox=function(){return Ox=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ox.apply(this,arguments)};function mhe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function yhe(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function whe(t,e){return function(n,r){e(n,r,t)}}function vhe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function bhe(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function _he(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ehe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Che(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Rx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function J4(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function xhe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(J4(arguments[e]));return t}function She(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function Ug(t){return this instanceof Ug?(this.v=t,this):new Ug(t)}function Ahe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,m){i.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof Ug?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Ihe(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Ug(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function The(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Rx=="function"?Rx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function Nhe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Phe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function khe(t){return t&&t.__esModule?t:{default:t}}function Ohe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Rhe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const $he=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Ox},__asyncDelegator:Ihe,__asyncGenerator:Ahe,__asyncValues:The,__await:Ug,__awaiter:bhe,__classPrivateFieldGet:Ohe,__classPrivateFieldSet:Rhe,__createBinding:Ehe,__decorate:yhe,__exportStar:Che,__extends:ghe,__generator:_he,__importDefault:khe,__importStar:Phe,__makeTemplateObject:Nhe,__metadata:vhe,__param:whe,__read:J4,__rest:mhe,__spread:xhe,__spreadArrays:She,__values:Rx},Symbol.toStringTag,{value:"Module"})),Dhe=Q0($he);var Mo={},Lk;function jhe(){if(Lk)return Mo;Lk=1,Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.isBrowserCryptoAvailable=Mo.getSubtleCrypto=Mo.getBrowerCrypto=void 0;function t(){return(gn==null?void 0:gn.crypto)||(gn==null?void 0:gn.msCrypto)||{}}Mo.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}Mo.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Mo.isBrowserCryptoAvailable=n,Mo}var Bo={},Mk;function Uhe(){if(Mk)return Bo;Mk=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.isBrowser=Bo.isNode=Bo.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Bo.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Bo.isNode=e;function n(){return!t()&&!e()}return Bo.isBrowser=n,Bo}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Dhe;e.__exportStar(jhe(),t),e.__exportStar(Uhe(),t)})(Q4);function so(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function jl(t=6){return BigInt(so(t))}function Cc(t,e,n){return{id:n||so(),jsonrpc:"2.0",method:t,params:e}}function sb(t,e){return{id:t,jsonrpc:"2.0",result:e}}function ib(t,e,n){return{id:t,jsonrpc:"2.0",error:Lhe(e)}}function Lhe(t,e){return typeof t>"u"?Uk(G4):(typeof t=="string"&&(t=Object.assign(Object.assign({},Uk(R2)),{message:t})),fhe(t.code)&&(t=phe(t.code)),t)}let Mhe=class{},Bhe=class extends Mhe{constructor(){super()}},Fhe=class extends Bhe{constructor(e){super()}};const zhe="^https?:",qhe="^wss?:";function Whe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Z4(t,e){const n=Whe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function Bk(t){return Z4(t,zhe)}function Fk(t){return Z4(t,qhe)}function Hhe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function X4(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function $2(t){return X4(t)&&"method"in t}function ob(t){return X4(t)&&(io(t)||Ys(t))}function io(t){return"result"in t}function Ys(t){return"error"in t}let ci=class extends Fhe{constructor(e){super(e),this.events=new ai.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Cc(e.method,e.params||[],e.id||jl().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{Ys(i)?s(i.error):r(i.result)});try{await this.connection.send(e,n)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),ob(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Vhe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Ghe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",zk=t=>t.split("?")[0],qk=10,Khe=Vhe();let Yhe=class{constructor(e){if(this.url=e,this.events=new ai.EventEmitter,this.registering=!1,!Fk(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(ma(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!Fk(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=Q4.isReactNative()?void 0:{rejectUnauthorized:!Hhe(e)},i=new Khe(e,[],s);Ghe()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?pu(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=ib(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return Y4(e,zk(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>qk&&this.events.setMaxListeners(qk)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${zk(this.url)}`));return this.events.emit("register_error",n),n}};var Qhe={};const eU="wc",tU=2,$x="core",xo=`${eU}@2:${$x}:`,Jhe={logger:"error"},Zhe={database:":memory:"},Xhe="crypto",Wk="client_ed25519_seed",efe=pe.ONE_DAY,tfe="keychain",nfe="0.3",rfe="messages",sfe="0.3",Hk=pe.SIX_HOURS,ife="publisher",nU="irn",ofe="error",rU="wss://relay.walletconnect.org",afe="relayer",zn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},cfe="_subscription",qs={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},lfe=.1,Dx="2.21.3",en={link_mode:"link_mode",relay:"relay"},kw={inbound:"inbound",outbound:"outbound"},ufe="0.3",dfe="WALLETCONNECT_CLIENT_ID",Vk="WALLETCONNECT_LINK_MODE_APPS",Cs={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},hfe="subscription",ffe="0.3",pfe="pairing",gfe="0.3",$f={wc_pairingDelete:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:pe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:pe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:pe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:0},res:{ttl:pe.ONE_DAY,prompt:!1,tag:0}}},Cl={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},fi={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},mfe="history",yfe="0.3",wfe="expirer",Gs={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},vfe="0.3",bfe="verify-api",_fe="https://verify.walletconnect.com",sU="https://verify.walletconnect.org",Ap=sU,Efe=`${Ap}/v3`,Cfe=[_fe,sU],xfe="echo",Sfe="https://echo.walletconnect.com",no={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},qo={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},pi={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},hl={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},fl={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Df={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Afe=.1,Ife="event-client",Tfe=86400,Nfe="https://pulse.walletconnect.org/batch";function Pfe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,w=0,v=p.length;w!==v&&p[w]===0;)w++,m++;for(var b=(v-w)*u+1>>>0,E=new Uint8Array(b);w!==v;){for(var _=p[w],x=0,S=b-1;(_!==0||x<y)&&S!==-1;S--,x++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=x,w++}for(var A=b-y;A!==b&&E[A]===0;)A++;for(var C=c.repeat(m);A<b;++A)C+=t.charAt(E[A]);return C}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,w=0;p[m]===c;)y++,m++;for(var v=(p.length-m)*l+1>>>0,b=new Uint8Array(v);p[m];){var E=n[p.charCodeAt(m)];if(E===255)return;for(var _=0,x=v-1;(E!==0||_<w)&&x!==-1;x--,_++)E+=a*b[x]>>>0,b[x]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,m++}if(p[m]!==" "){for(var S=v-w;S!==v&&b[S]===0;)S++;for(var A=new Uint8Array(y+(v-S)),C=y;S!==v;)A[C++]=b[S++];return A}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var kfe=Pfe,Ofe=kfe;const iU=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Rfe=t=>new TextEncoder().encode(t),$fe=t=>new TextDecoder().decode(t);class Dfe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class jfe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return oU(this,e)}}class Ufe{constructor(e){this.decoders=e}or(e){return oU(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const oU=(t,e)=>new Ufe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Lfe{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Dfe(e,n,r),this.decoder=new jfe(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ab=({name:t,prefix:e,encode:n,decode:r})=>new Lfe(t,e,n,r),$m=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Ofe(n,e);return ab({prefix:t,name:e,encode:r,decode:i=>iU(s(i))})},Mfe=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Bfe=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},fr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>ab({prefix:e,name:t,encode(s){return Bfe(s,r,n)},decode(s){return Mfe(s,r,n,t)}}),Ffe=ab({prefix:"\0",name:"identity",encode:t=>$fe(t),decode:t=>Rfe(t)});var zfe=Object.freeze({__proto__:null,identity:Ffe});const qfe=fr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Wfe=Object.freeze({__proto__:null,base2:qfe});const Hfe=fr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Vfe=Object.freeze({__proto__:null,base8:Hfe});const Gfe=$m({prefix:"9",name:"base10",alphabet:"0123456789"});var Kfe=Object.freeze({__proto__:null,base10:Gfe});const Yfe=fr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Qfe=fr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Jfe=Object.freeze({__proto__:null,base16:Yfe,base16upper:Qfe});const Zfe=fr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Xfe=fr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),epe=fr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tpe=fr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),npe=fr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rpe=fr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),spe=fr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ipe=fr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ope=fr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ape=Object.freeze({__proto__:null,base32:Zfe,base32upper:Xfe,base32pad:epe,base32padupper:tpe,base32hex:npe,base32hexupper:rpe,base32hexpad:spe,base32hexpadupper:ipe,base32z:ope});const cpe=$m({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),lpe=$m({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var upe=Object.freeze({__proto__:null,base36:cpe,base36upper:lpe});const dpe=$m({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hpe=$m({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var fpe=Object.freeze({__proto__:null,base58btc:dpe,base58flickr:hpe});const ppe=fr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),gpe=fr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),mpe=fr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ype=fr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var wpe=Object.freeze({__proto__:null,base64:ppe,base64pad:gpe,base64url:mpe,base64urlpad:ype});const aU=Array.from(""),vpe=aU.reduce((t,e,n)=>(t[n]=e,t),[]),bpe=aU.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function _pe(t){return t.reduce((e,n)=>(e+=vpe[n],e),"")}function Epe(t){const e=[];for(const n of t){const r=bpe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Cpe=ab({prefix:"",name:"base256emoji",encode:_pe,decode:Epe});var xpe=Object.freeze({__proto__:null,base256emoji:Cpe}),Spe=cU,Gk=128,Ape=-128,Ipe=Math.pow(2,31);function cU(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Ipe;)e[n++]=t&255|Gk,t/=128;for(;t&Ape;)e[n++]=t&255|Gk,t>>>=7;return e[n]=t|0,cU.bytes=n-r+1,e}var Tpe=jx,Npe=128,Kk=127;function jx(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw jx.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&Kk)<<s:(o&Kk)*Math.pow(2,s),s+=7}while(o>=Npe);return jx.bytes=i-r,n}var Ppe=Math.pow(2,7),kpe=Math.pow(2,14),Ope=Math.pow(2,21),Rpe=Math.pow(2,28),$pe=Math.pow(2,35),Dpe=Math.pow(2,42),jpe=Math.pow(2,49),Upe=Math.pow(2,56),Lpe=Math.pow(2,63),Mpe=function(t){return t<Ppe?1:t<kpe?2:t<Ope?3:t<Rpe?4:t<$pe?5:t<Dpe?6:t<jpe?7:t<Upe?8:t<Lpe?9:10},Bpe={encode:Spe,decode:Tpe,encodingLength:Mpe},lU=Bpe;const Yk=(t,e,n=0)=>(lU.encode(t,e,n),e),Qk=t=>lU.encodingLength(t),Ux=(t,e)=>{const n=e.byteLength,r=Qk(t),s=r+Qk(n),i=new Uint8Array(s+n);return Yk(t,i,0),Yk(n,i,r),i.set(e,s),new Fpe(t,n,e,i)};class Fpe{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const uU=({name:t,code:e,encode:n})=>new zpe(t,e,n);class zpe{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Ux(this.code,n):n.then(r=>Ux(this.code,r))}else throw Error("Unknown type, must be binary type")}}const dU=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),qpe=uU({name:"sha2-256",code:18,encode:dU("SHA-256")}),Wpe=uU({name:"sha2-512",code:19,encode:dU("SHA-512")});var Hpe=Object.freeze({__proto__:null,sha256:qpe,sha512:Wpe});const hU=0,Vpe="identity",fU=iU,Gpe=t=>Ux(hU,fU(t)),Kpe={code:hU,name:Vpe,encode:fU,digest:Gpe};var Ype=Object.freeze({__proto__:null,identity:Kpe});new TextEncoder,new TextDecoder;const Jk={...zfe,...Wfe,...Vfe,...Kfe,...Jfe,...ape,...upe,...fpe,...wpe,...xpe};({...Hpe,...Ype});function pU(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Qpe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?pU(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function gU(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Zk=gU("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),I_=gU("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Qpe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Jpe={utf8:Zk,"utf-8":Zk,hex:Jk.base16,latin1:I_,ascii:I_,binary:I_,...Jk};function Zpe(t,e="utf8"){const n=Jpe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?pU(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var Xpe=Object.defineProperty,ege=(t,e,n)=>e in t?Xpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eo=(t,e,n)=>ege(t,typeof e!="symbol"?e+"":e,n);class tge{constructor(e,n){this.core=e,this.logger=n,eo(this,"keychain",new Map),eo(this,"name",tfe),eo(this,"version",nfe),eo(this,"initialized",!1),eo(this,"storagePrefix",xo),eo(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),eo(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),eo(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),eo(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=ge("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),eo(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Tr(n,this.name)}get context(){return ys(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,wx(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?vx(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}}var nge=Object.defineProperty,rge=(t,e,n)=>e in t?nge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xn=(t,e,n)=>rge(t,typeof e!="symbol"?e+"":e,n);class sge{constructor(e,n,r){this.core=e,this.logger=n,Xn(this,"name",Xhe),Xn(this,"keychain"),Xn(this,"randomSessionIdentifier",Nx()),Xn(this,"initialized",!1),Xn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Xn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Xn(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=kP(s);return f6(i.publicKey)}),Xn(this,"generateKeyPair",()=>{this.isInitialized();const s=Jue();return this.setPrivateKey(s.publicKey,s.privateKey)}),Xn(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=kP(i),a=this.randomSessionIdentifier;return await rie(a,s,efe,o)}),Xn(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=Zue(a,i);return this.setSymKey(c,o)}),Xn(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||Pw(s);return await this.keychain.set(o,s),o}),Xn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Xn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Xn(this,"encode",async(s,i,o)=>{this.isInitialized();const a=W4(o),c=ma(i);if(Sk(a))return tde(c,o==null?void 0:o.encoding);if(xk(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;s=await this.generateSharedKey(h,f)}const l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return Xue({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),Xn(this,"decode",async(s,i,o)=>{this.isInitialized();const a=rde(i,o);if(Sk(a)){const c=nde(i,o==null?void 0:o.encoding);return pu(c)}if(xk(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=ede({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return pu(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Xn(this,"getPayloadType",(s,i=Oi)=>{const o=jg({encoded:s,encoding:i});return wu(o.type)}),Xn(this,"getPayloadSenderPublicKey",(s,i=Oi)=>{const o=jg({encoded:s,encoding:i});return o.senderPublicKey?gs(o.senderPublicKey,Lr):void 0}),this.core=e,this.logger=Tr(n,this.name),this.keychain=r||new tge(this.core,this.logger)}get context(){return ys(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Wk)}catch{e=Nx(),await this.keychain.set(Wk,e)}return Zpe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ige=Object.defineProperty,oge=Object.defineProperties,age=Object.getOwnPropertyDescriptors,Xk=Object.getOwnPropertySymbols,cge=Object.prototype.hasOwnProperty,lge=Object.prototype.propertyIsEnumerable,Lx=(t,e,n)=>e in t?ige(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uge=(t,e)=>{for(var n in e||(e={}))cge.call(e,n)&&Lx(t,n,e[n]);if(Xk)for(var n of Xk(e))lge.call(e,n)&&Lx(t,n,e[n]);return t},dge=(t,e)=>oge(t,age(e)),vs=(t,e,n)=>Lx(t,typeof e!="symbol"?e+"":e,n);class hge extends tne{constructor(e,n){super(e,n),this.logger=e,this.core=n,vs(this,"messages",new Map),vs(this,"messagesWithoutClientAck",new Map),vs(this,"name",rfe),vs(this,"version",sfe),vs(this,"initialized",!1),vs(this,"storagePrefix",xo),vs(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),vs(this,"set",async(r,s,i)=>{this.isInitialized();const o=ho(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===kw.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,dge(uge({},c),{[o]:s}))}return await this.persist(),o}),vs(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),vs(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),vs(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=ho(s);return typeof i[o]<"u"}),vs(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=ho(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),vs(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Tr(e,this.name),this.core=n}get context(){return ys(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,wx(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,wx(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?vx(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?vx(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}}var fge=Object.defineProperty,pge=Object.defineProperties,gge=Object.getOwnPropertyDescriptors,eO=Object.getOwnPropertySymbols,mge=Object.prototype.hasOwnProperty,yge=Object.prototype.propertyIsEnumerable,Mx=(t,e,n)=>e in t?fge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wy=(t,e)=>{for(var n in e||(e={}))mge.call(e,n)&&Mx(t,n,e[n]);if(eO)for(var n of eO(e))yge.call(e,n)&&Mx(t,n,e[n]);return t},T_=(t,e)=>pge(t,gge(e)),gi=(t,e,n)=>Mx(t,typeof e!="symbol"?e+"":e,n);class wge extends nne{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,gi(this,"events",new ai.EventEmitter),gi(this,"name",ife),gi(this,"queue",new Map),gi(this,"publishTimeout",pe.toMiliseconds(pe.ONE_MINUTE)),gi(this,"initialPublishTimeout",pe.toMiliseconds(pe.ONE_SECOND*15)),gi(this,"needsTransportRestart",!1),gi(this,"publish",async(r,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const a=(i==null?void 0:i.ttl)||Hk,c=D0(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,d=(i==null?void 0:i.id)||jl().toString(),h={topic:r,message:s,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},f=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const p=new Promise(async m=>{const y=({id:v})=>{h.opts.id===v&&(this.removeRequestFromQueue(v),this.relayer.events.removeListener(zn.publish,y),m(h))};this.relayer.events.on(zn.publish,y);const w=Ec(new Promise((v,b)=>{this.rpcPublish({topic:r,message:s,ttl:a,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(v).catch(E=>{this.logger.warn(E,E==null?void 0:E.message),b(E)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await w,this.events.removeListener(zn.publish,y)}catch(v){this.queue.set(d,T_(Wy({},h),{attempt:1})),this.logger.warn(v,v==null?void 0:v.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:s,opts:i}}),await Ec(p,this.publishTimeout,f)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=i==null?void 0:i.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(d)}}),gi(this,"on",(r,s)=>{this.events.on(r,s)}),gi(this,"once",(r,s)=>{this.events.once(r,s)}),gi(this,"off",(r,s)=>{this.events.off(r,s)}),gi(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=Tr(n,this.name),this.registerEventListeners()}get context(){return ys(this.logger)}async rpcPublish(e){var n,r,s,i;const{topic:o,message:a,ttl:c=Hk,prompt:l,tag:u,id:d,attestation:h,tvf:f}=e,p={method:tp(D0().protocol).publish,params:Wy({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},f),id:d};ir((n=p.params)==null?void 0:n.prompt)&&((r=p.params)==null||delete r.prompt),ir((s=p.params)==null?void 0:s.tag)&&((i=p.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const m=await this.relayer.request(p);return this.relayer.events.emit(zn.publish,e),this.logger.debug("Successfully Published Payload"),m}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,T_(Wy({},e),{attempt:r}));const{topic:s,message:i,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(T_(Wy({},e),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ou.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(zn.connection_stalled);return}this.checkQueue()}),this.relayer.on(zn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var vge=Object.defineProperty,bge=(t,e,n)=>e in t?vge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ed=(t,e,n)=>bge(t,typeof e!="symbol"?e+"":e,n);class _ge{constructor(){ed(this,"map",new Map),ed(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),ed(this,"get",e=>this.map.get(e)||[]),ed(this,"exists",(e,n)=>this.get(e).includes(n)),ed(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),ed(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Ege=Object.defineProperty,Cge=Object.defineProperties,xge=Object.getOwnPropertyDescriptors,tO=Object.getOwnPropertySymbols,Sge=Object.prototype.hasOwnProperty,Age=Object.prototype.propertyIsEnumerable,Bx=(t,e,n)=>e in t?Ege(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jf=(t,e)=>{for(var n in e||(e={}))Sge.call(e,n)&&Bx(t,n,e[n]);if(tO)for(var n of tO(e))Age.call(e,n)&&Bx(t,n,e[n]);return t},N_=(t,e)=>Cge(t,xge(e)),Wt=(t,e,n)=>Bx(t,typeof e!="symbol"?e+"":e,n);class Ige extends ine{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Wt(this,"subscriptions",new Map),Wt(this,"topicMap",new _ge),Wt(this,"events",new ai.EventEmitter),Wt(this,"name",hfe),Wt(this,"version",ffe),Wt(this,"pending",new Map),Wt(this,"cached",[]),Wt(this,"initialized",!1),Wt(this,"storagePrefix",xo),Wt(this,"subscribeTimeout",pe.toMiliseconds(pe.ONE_MINUTE)),Wt(this,"initialSubscribeTimeout",pe.toMiliseconds(pe.ONE_SECOND*15)),Wt(this,"clientId"),Wt(this,"batchSubscribeTopicsLimit",500),Wt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Wt(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const i=D0(s),o={topic:r,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,i,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),a}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),Wt(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),Wt(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),Wt(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),Wt(this,"on",(r,s)=>{this.events.on(r,s)}),Wt(this,"once",(r,s)=>{this.events.once(r,s)}),Wt(this,"off",(r,s)=>{this.events.off(r,s)}),Wt(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),Wt(this,"start",async()=>{await this.onConnect()}),Wt(this,"stop",async()=>{await this.onDisconnect()}),Wt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Wt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),Wt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ou.pulse,async()=>{await this.checkPending()}),this.events.on(Cs.created,async r=>{const s=Cs.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(Cs.deleted,async r=>{const s=Cs.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=Tr(n,this.name),this.clientId=""}get context(){return ys(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=D0(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const i=rn("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||(r==null?void 0:r.transportType)===en.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const i={method:tp(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===en.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(u=>this.logger.warn(u))},pe.toMiliseconds(pe.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(Cs.created,d),u(h.id))};this.events.on(Cs.created,d);try{const h=await Ec(new Promise((f,p)=>{this.relayer.request(i).catch(m=>{this.logger.warn(m,m==null?void 0:m.message),p(m)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Cs.created,d),u(h)}catch{}}),l=await Ec(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(zn.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:tp(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Ec(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(zn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:tp(n.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await Ec(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(zn.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:tp(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,N_(jf({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,jf({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,jf({},n)),this.topicMap.set(n.topic,e),this.events.emit(Cs.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=ge("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Cs.deleted,N_(jf({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Cs.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Cs.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>N_(jf({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await bce(pe.toMiliseconds(pe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return ho(e+await this.getClientId())}}var Tge=Object.defineProperty,nO=Object.getOwnPropertySymbols,Nge=Object.prototype.hasOwnProperty,Pge=Object.prototype.propertyIsEnumerable,Fx=(t,e,n)=>e in t?Tge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rO=(t,e)=>{for(var n in e||(e={}))Nge.call(e,n)&&Fx(t,n,e[n]);if(nO)for(var n of nO(e))Pge.call(e,n)&&Fx(t,n,e[n]);return t},_t=(t,e,n)=>Fx(t,typeof e!="symbol"?e+"":e,n);class kge extends rne{constructor(e){super(e),_t(this,"protocol","wc"),_t(this,"version",2),_t(this,"core"),_t(this,"logger"),_t(this,"events",new ai.EventEmitter),_t(this,"provider"),_t(this,"messages"),_t(this,"subscriber"),_t(this,"publisher"),_t(this,"name",afe),_t(this,"transportExplicitlyClosed",!1),_t(this,"initialized",!1),_t(this,"connectionAttemptInProgress",!1),_t(this,"relayUrl"),_t(this,"projectId"),_t(this,"packageName"),_t(this,"bundleId"),_t(this,"hasExperiencedNetworkDisruption",!1),_t(this,"pingTimeout"),_t(this,"heartBeatTimeout",pe.toMiliseconds(pe.THIRTY_SECONDS+pe.FIVE_SECONDS)),_t(this,"reconnectTimeout"),_t(this,"connectPromise"),_t(this,"reconnectInProgress",!1),_t(this,"requestsInFlight",[]),_t(this,"connectTimeout",pe.toMiliseconds(pe.ONE_SECOND*15)),_t(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||jl().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),_t(this,"resetPingTimeout",()=>{k0()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),_t(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),_t(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(zn.connect)}),_t(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),_t(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(zn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),_t(this,"registerProviderListeners",()=>{this.provider.on(qs.payload,this.onPayloadHandler),this.provider.on(qs.connect,this.onConnectHandler),this.provider.on(qs.disconnect,this.onDisconnectHandler),this.provider.on(qs.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Tr(e.logger,this.name):Am(qh({level:e.logger||ofe})),this.messages=new hge(this.logger,e.core),this.subscriber=new Ige(this,this.logger),this.publisher=new wge(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||rU,this.projectId=e.projectId,sce()?this.packageName=VP():ice()&&(this.bundleId=VP()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return ys(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:en.relay},kw.outbound)}async subscribe(e,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Cs.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Cs.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,rO({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Ec(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await jk())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=Pn(pe.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(zn.message,e),await this.recordMessageEvent(e,kw.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(qs.disconnect,i),await Ec(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(qs.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(qs.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(qs.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,pe.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,i;if(k0())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ci(new Yhe(uce({sdkVersion:Dx,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),$2(e)){if(!e.method.endsWith(cfe))return;const n=e.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:en.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(rO({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else ob(e)&&this.events.emit(zn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,kw.inbound),this.events.emit(zn.message,e))}async acknowledgePayload(e){const n=sb(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(qs.payload,this.onPayloadHandler),this.provider.off(qs.connect,this.onConnectHandler),this.provider.off(qs.disconnect,this.onDisconnectHandler),this.provider.off(qs.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await jk();Qde(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Ou.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Xde())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(zn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},pe.toMiliseconds(lfe)))))}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function Oge(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function sO(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function iO(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Rge="[object RegExp]",$ge="[object String]",Dge="[object Number]",jge="[object Boolean]",oO="[object Arguments]",Uge="[object Symbol]",Lge="[object Date]",Mge="[object Map]",Bge="[object Set]",Fge="[object Array]",zge="[object Function]",qge="[object ArrayBuffer]",P_="[object Object]",Wge="[object Error]",Hge="[object DataView]",Vge="[object Uint8Array]",Gge="[object Uint8ClampedArray]",Kge="[object Uint16Array]",Yge="[object Uint32Array]",Qge="[object BigUint64Array]",Jge="[object Int8Array]",Zge="[object Int16Array]",Xge="[object Int32Array]",eme="[object BigInt64Array]",tme="[object Float32Array]",nme="[object Float64Array]";function rme(){}function aO(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function sme(t,e,n){return np(t,e,void 0,void 0,void 0,void 0,n)}function np(t,e,n,r,s,i,o){const a=o(t,e,n,r,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Ip(t,e,i,o)}return Ip(t,e,i,o)}function Ip(t,e,n,r){if(Object.is(t,e))return!0;let s=iO(t),i=iO(e);if(s===oO&&(s=P_),i===oO&&(i=P_),s!==i)return!1;switch(s){case $ge:return t.toString()===e.toString();case Dge:{const c=t.valueOf(),l=e.valueOf();return Oge(c,l)}case jge:case Lge:case Uge:return Object.is(t.valueOf(),e.valueOf());case Rge:return t.source===e.source&&t.flags===e.flags;case zge:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(s){case Mge:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!np(l,e.get(c),c,t,e,n,r))return!1;return!0}case Bge:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>np(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case Fge:case Vge:case Gge:case Kge:case Yge:case Qge:case Jge:case Zge:case Xge:case eme:case tme:case nme:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!np(t[c],e[c],c,t,e,n,r))return!1;return!0}case qge:return t.byteLength!==e.byteLength?!1:Ip(new Uint8Array(t),new Uint8Array(e),n,r);case Hge:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Ip(new Uint8Array(t),new Uint8Array(e),n,r);case Wge:return t.name===e.name&&t.message===e.message;case P_:{if(!(Ip(t.constructor,e.constructor,n,r)||aO(t)&&aO(e)))return!1;const c=[...Object.keys(t),...sO(t)],l=[...Object.keys(e),...sO(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!np(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function ime(t,e){return sme(t,e,rme)}var ome=Object.defineProperty,cO=Object.getOwnPropertySymbols,ame=Object.prototype.hasOwnProperty,cme=Object.prototype.propertyIsEnumerable,zx=(t,e,n)=>e in t?ome(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lO=(t,e)=>{for(var n in e||(e={}))ame.call(e,n)&&zx(t,n,e[n]);if(cO)for(var n of cO(e))cme.call(e,n)&&zx(t,n,e[n]);return t},Yr=(t,e,n)=>zx(t,typeof e!="symbol"?e+"":e,n);class Du extends sne{constructor(e,n,r,s=xo,i=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,Yr(this,"map",new Map),Yr(this,"version",ufe),Yr(this,"cached",[]),Yr(this,"initialized",!1),Yr(this,"getKey"),Yr(this,"storagePrefix",xo),Yr(this,"recentlyDeleted",[]),Yr(this,"recentlyDeletedLimit",200),Yr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!ir(o)?this.map.set(this.getKey(o),o):Ide(o)?this.map.set(o.id,o):Tde(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Yr(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Yr(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Yr(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>ime(a[c],o[c]))):this.values)),Yr(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=lO(lO({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Yr(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Tr(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return ys(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=ge("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=ge("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}}var lme=Object.defineProperty,ume=(t,e,n)=>e in t?lme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ut=(t,e,n)=>ume(t,typeof e!="symbol"?e+"":e,n);class dme{constructor(e,n){this.core=e,this.logger=n,ut(this,"name",pfe),ut(this,"version",gfe),ut(this,"events",new n2),ut(this,"pairings"),ut(this,"initialized",!1),ut(this,"storagePrefix",xo),ut(this,"ignoredPayloadTypes",[ia]),ut(this,"registeredMethods",[]),ut(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),ut(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),ut(this,"create",async r=>{this.isInitialized();const s=Nx(),i=await this.core.crypto.setSymKey(s),o=Pn(pe.FIVE_MINUTES),a={protocol:nU},c={topic:i,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=Ik({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(Cl.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r==null?void 0:r.transportType}),{topic:i,uri:l}}),ut(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[no.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=Ak(r.uri);s.props.properties.topic=i,s.addTrace(no.pairing_uri_validation_success),s.addTrace(no.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(no.existing_pairing),u.active)throw s.setError(qo.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(no.pairing_not_expired)}const d=c||Pn(pe.FIVE_MINUTES),h={topic:i,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(i,d),await this.pairings.set(i,h),s.addTrace(no.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(Cl.create,h),s.addTrace(no.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(no.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(qo.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(f){throw s.setError(qo.subscribe_pairing_topic_failure),f}return s.addTrace(no.subscribe_pairing_topic_success),h}),ut(this,"activate",async({topic:r})=>{this.isInitialized();const s=Pn(pe.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),ut(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=vl();this.events.once(Pt("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),ut(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),ut(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),ut(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),ut(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",rn("USER_DISCONNECTED")),await this.deletePairing(s))}),ut(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return Ik({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),ut(this,"sendRequest",async(r,s,i)=>{const o=Cc(s,i),a=await this.core.crypto.encode(r,o),c=$f[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),ut(this,"sendResult",async(r,s,i)=>{const o=sb(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=$f[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),ut(this,"sendError",async(r,s,i)=>{const o=ib(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=$f[c]?$f[c].res:$f.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),ut(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,rn("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),ut(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>Ja(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),ut(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),ut(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),ut(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(Cl.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),ut(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{io(s)?this.events.emit(Pt("pairing_ping",i),{}):Ys(s)&&this.events.emit(Pt("pairing_ping",i),{error:s.error})},500)}),ut(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Cl.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),ut(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=rn("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),ut(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(rn("WC_METHOD_UNSUPPORTED",r))}),ut(this,"isValidPair",(r,s)=>{var i;if(!es(r)){const{message:a}=ge("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(qo.malformed_pairing_uri),new Error(a)}if(!Ade(r.uri)){const{message:a}=ge("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(qo.malformed_pairing_uri),new Error(a)}const o=Ak(r==null?void 0:r.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=ge("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(qo.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ge("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(qo.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&pe.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(qo.pairing_expired);const{message:a}=ge("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),ut(this,"isValidPing",async r=>{if(!es(r)){const{message:i}=ge("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),ut(this,"isValidDisconnect",async r=>{if(!es(r)){const{message:i}=ge("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),ut(this,"isValidPairingTopic",async r=>{if(!Sn(r,!1)){const{message:s}=ge("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=ge("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(Ja(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=ge("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=Tr(n,this.name),this.pairings=new Du(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ys(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(zn.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==en.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);$2(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):ob(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(Gs.expired,async e=>{const{topic:n}=e4(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Cl.expire,{topic:n}))})}}var hme=Object.defineProperty,fme=(t,e,n)=>e in t?hme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,er=(t,e,n)=>fme(t,typeof e!="symbol"?e+"":e,n);class pme extends ene{constructor(e,n){super(e,n),this.core=e,this.logger=n,er(this,"records",new Map),er(this,"events",new ai.EventEmitter),er(this,"name",mfe),er(this,"version",yfe),er(this,"cached",[]),er(this,"initialized",!1),er(this,"storagePrefix",xo),er(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),er(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:Pn(pe.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(fi.created,o)}),er(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=Ys(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(fi.updated,s))}),er(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),er(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(fi.deleted,i)}}),this.persist()}),er(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),er(this,"on",(r,s)=>{this.events.on(r,s)}),er(this,"once",(r,s)=>{this.events.once(r,s)}),er(this,"off",(r,s)=>{this.events.off(r,s)}),er(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Tr(n,this.name)}get context(){return ys(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Cc(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=ge("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(fi.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(fi.created,e=>{const n=fi.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(fi.updated,e=>{const n=fi.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(fi.deleted,e=>{const n=fi.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Ou.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{pe.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(fi.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}}var gme=Object.defineProperty,mme=(t,e,n)=>e in t?gme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Er=(t,e,n)=>mme(t,typeof e!="symbol"?e+"":e,n);class yme extends one{constructor(e,n){super(e,n),this.core=e,this.logger=n,Er(this,"expirations",new Map),Er(this,"events",new ai.EventEmitter),Er(this,"name",wfe),Er(this,"version",vfe),Er(this,"cached",[]),Er(this,"initialized",!1),Er(this,"storagePrefix",xo),Er(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Er(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Er(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(Gs.created,{target:i,expiration:o})}),Er(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Er(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Gs.deleted,{target:s,expiration:i})}}),Er(this,"on",(r,s)=>{this.events.on(r,s)}),Er(this,"once",(r,s)=>{this.events.once(r,s)}),Er(this,"off",(r,s)=>{this.events.off(r,s)}),Er(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Tr(n,this.name)}get context(){return ys(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return dce(e);if(typeof e=="number")return hce(e);const{message:n}=ge("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Gs.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=ge("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;pe.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Gs.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Ou.pulse,()=>this.checkExpirations()),this.events.on(Gs.created,e=>{const n=Gs.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Gs.expired,e=>{const n=Gs.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Gs.deleted,e=>{const n=Gs.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}}var wme=Object.defineProperty,vme=(t,e,n)=>e in t?wme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cn=(t,e,n)=>vme(t,typeof e!="symbol"?e+"":e,n);class bme extends ane{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Cn(this,"name",bfe),Cn(this,"abortController"),Cn(this,"isDevEnv"),Cn(this,"verifyUrlV3",Efe),Cn(this,"storagePrefix",xo),Cn(this,"version",tU),Cn(this,"publicKey"),Cn(this,"fetchPromise"),Cn(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&pe.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Cn(this,"register",async s=>{if(!Yh()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=gu(),u=this.startAbortTimer(pe.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",y),l.body.removeChild(m),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const m=l.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",p,{signal:this.abortController.signal});const y=w=>{if(w.data&&typeof w.data=="string")try{const v=JSON.parse(w.data);if(v.type==="verify_attestation"){if(dx(v.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(m),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),h(v.attestation===null?"":v.attestation)}}catch(v){this.logger.warn(v)}};l.body.appendChild(m),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),Cn(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(dx(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),Cn(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(pe.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Cn(this,"getVerifyUrl",s=>{let i=s||Ap;return Cfe.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${Ap}`),i=Ap),i}),Cn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(pe.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),Cn(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),Cn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Cn(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Cn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Cn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),Cn(this,"validateAttestation",(s,i)=>{const o=ide(s,i.publicKey),a={hasExpired:pe.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Tr(n,this.name),this.abortController=new AbortController,this.isDevEnv=v2(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ys(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),pe.toMiliseconds(e))}}var _me=Object.defineProperty,Eme=(t,e,n)=>e in t?_me(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uO=(t,e,n)=>Eme(t,typeof e!="symbol"?e+"":e,n);class Cme extends cne{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,uO(this,"context",xfe),uO(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${Sfe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=Tr(n,this.context)}}var xme=Object.defineProperty,dO=Object.getOwnPropertySymbols,Sme=Object.prototype.hasOwnProperty,Ame=Object.prototype.propertyIsEnumerable,qx=(t,e,n)=>e in t?xme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Uf=(t,e)=>{for(var n in e||(e={}))Sme.call(e,n)&&qx(t,n,e[n]);if(dO)for(var n of dO(e))Ame.call(e,n)&&qx(t,n,e[n]);return t},Un=(t,e,n)=>qx(t,typeof e!="symbol"?e+"":e,n);class Ime extends lne{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Un(this,"context",Ife),Un(this,"storagePrefix",xo),Un(this,"storageVersion",Afe),Un(this,"events",new Map),Un(this,"shouldPersist",!1),Un(this,"init",async()=>{if(!v2())try{const s={eventId:KP(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Z6(this.core.relayer.protocol,this.core.relayer.version,Dx)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),Un(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=KP(),u=this.core.projectId||"",d=Date.now(),h=Uf({eventId:l,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),Un(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Uf(Uf({},a),this.setMethods(a.eventId))}),Un(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),Un(this,"setEventListeners",()=>{this.core.heartbeat.on(Ou.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{pe.fromMiliseconds(Date.now())-pe.fromMiliseconds(s.timestamp)>Tfe&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),Un(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),Un(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),Un(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),Un(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Un(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,Uf(Uf({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),Un(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),Un(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Nfe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Dx}${i}`,{method:"POST",body:JSON.stringify(s)})}),Un(this,"getAppDomain",()=>J6().url),this.logger=Tr(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Tme=Object.defineProperty,hO=Object.getOwnPropertySymbols,Nme=Object.prototype.hasOwnProperty,Pme=Object.prototype.propertyIsEnumerable,Wx=(t,e,n)=>e in t?Tme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fO=(t,e)=>{for(var n in e||(e={}))Nme.call(e,n)&&Wx(t,n,e[n]);if(hO)for(var n of hO(e))Pme.call(e,n)&&Wx(t,n,e[n]);return t},Gt=(t,e,n)=>Wx(t,typeof e!="symbol"?e+"":e,n);let kme=class mU extends Qte{constructor(e){var n;super(e),Gt(this,"protocol",eU),Gt(this,"version",tU),Gt(this,"name",$x),Gt(this,"relayUrl"),Gt(this,"projectId"),Gt(this,"customStoragePrefix"),Gt(this,"events",new ai.EventEmitter),Gt(this,"logger"),Gt(this,"heartbeat"),Gt(this,"relayer"),Gt(this,"crypto"),Gt(this,"storage"),Gt(this,"history"),Gt(this,"expirer"),Gt(this,"pairing"),Gt(this,"verify"),Gt(this,"echoClient"),Gt(this,"linkModeSupportedApps"),Gt(this,"eventClient"),Gt(this,"initialized",!1),Gt(this,"logChunkController"),Gt(this,"on",(a,c)=>this.events.on(a,c)),Gt(this,"once",(a,c)=>this.events.once(a,c)),Gt(this,"off",(a,c)=>this.events.off(a,c)),Gt(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Gt(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:en.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||rU,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=qh({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Jhe.logger,name:$x}),{logger:i,chunkLoggerController:o}=s2({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Tr(i,this.name),this.heartbeat=new Lee,this.crypto=new sge(this,this.logger,e==null?void 0:e.keychain),this.history=new pme(this,this.logger),this.expirer=new yme(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new bte(fO(fO({},Zhe),e==null?void 0:e.storageOptions)),this.relayer=new kge({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new dme(this,this.logger),this.verify=new bme(this,this.logger,this.storage),this.echoClient=new Cme(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Ime(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new mU(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(dfe,r),n}get context(){return ys(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Vk,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Vk)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Qhe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const Ome=kme,yU="wc",wU=2,vU="client",D2=`${yU}@${wU}:${vU}:`,k_={name:vU,logger:"error"},pO="WALLETCONNECT_DEEPLINK_CHOICE",Rme="proposal",gO="Proposal expired",$me="session",td=pe.SEVEN_DAYS,Dme="engine",Ln={wc_sessionPropose:{req:{ttl:pe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:pe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:pe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:pe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:pe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:pe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:pe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:pe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:pe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1119}}},O_={min:pe.FIVE_MINUTES,max:pe.SEVEN_DAYS},to={idle:"IDLE",active:"ACTIVE"},jme={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Ume="request",Lme=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Mme="wc",Bme="auth",Fme="authKeys",zme="pairingTopics",qme="requests",cb=`${Mme}@${1.5}:${Bme}:`,Ow=`${cb}:PUB_KEY`;var Wme=Object.defineProperty,Hme=Object.defineProperties,Vme=Object.getOwnPropertyDescriptors,mO=Object.getOwnPropertySymbols,Gme=Object.prototype.hasOwnProperty,Kme=Object.prototype.propertyIsEnumerable,Hx=(t,e,n)=>e in t?Wme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zt=(t,e)=>{for(var n in e||(e={}))Gme.call(e,n)&&Hx(t,n,e[n]);if(mO)for(var n of mO(e))Kme.call(e,n)&&Hx(t,n,e[n]);return t},Qr=(t,e)=>Hme(t,Vme(e)),ce=(t,e,n)=>Hx(t,typeof e!="symbol"?e+"":e,n);class Yme extends fne{constructor(e){super(e),ce(this,"name",Dme),ce(this,"events",new n2),ce(this,"initialized",!1),ce(this,"requestQueue",{state:to.idle,queue:[]}),ce(this,"sessionRequestQueue",{state:to.idle,queue:[]}),ce(this,"requestQueueDelay",pe.ONE_SECOND),ce(this,"expectedPairingMethodMap",new Map),ce(this,"recentlyDeletedMap",new Map),ce(this,"recentlyDeletedLimit",200),ce(this,"relayMessageCache",[]),ce(this,"pendingSessions",new Map),ce(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Ln)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},pe.toMiliseconds(this.requestQueueDelay)))}),ce(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Qr(Zt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=_de(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,d,h=!1;try{if(u){const x=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=x.active}}catch(x){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),x}if(!u||!h){const{topic:x,uri:S}=await this.client.core.pairing.create();u=x,d=S}if(!u){const{message:x}=ge("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(x)}const f=await this.client.core.crypto.generateKeyPair(),p=Ln.wc_sessionPropose.req.ttl||pe.FIVE_MINUTES,m=Pn(p),y=Qr(Zt(Zt({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:nU}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:so()}),w=Pt("session_connect",y.id),{reject:v,resolve:b,done:E}=vl(p,gO),_=({id:x})=>{x===y.id&&(this.client.events.off("proposal_expire",_),this.pendingSessions.delete(y.id),this.events.emit(w,{error:{message:gO,code:0}}))};return this.client.events.on("proposal_expire",_),this.events.once(w,({error:x,session:S})=>{this.client.events.off("proposal_expire",_),x?v(x):S&&b(S)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:y,throwOnFailedPublish:!0,clientRpcId:y.id}),await this.setProposal(y.id,y),{uri:d,approval:E}}),ce(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ce(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[pi.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(C){throw o.setError(hl.no_internet_connection),C}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(C){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(hl.proposal_not_found),C}try{await this.isValidApprove(n)}catch(C){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(hl.session_approve_namespace_validation_failure),C}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:m,requiredNamespaces:y,optionalNamespaces:w}=f;let v=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});v||(v=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:pi.session_approve_started,properties:{topic:p,trace:[pi.session_approve_started,pi.session_namespaces_validation_success]}}));const b=await this.client.core.crypto.generateKeyPair(),E=m.publicKey,_=await this.client.core.crypto.generateSharedKey(b,E),x=Zt(Zt(Zt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:b,metadata:this.client.metadata},expiry:Pn(td)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),S=en.relay;v.addTrace(pi.subscribing_session_topic);try{await this.client.core.relayer.subscribe(_,{transportType:S})}catch(C){throw v.setError(hl.subscribe_session_topic_failure),C}v.addTrace(pi.subscribe_session_topic_success);const A=Qr(Zt({},x),{topic:_,requiredNamespaces:y,optionalNamespaces:w,pairingTopic:p,acknowledged:!1,self:x.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:b,transportType:en.relay});await this.client.session.set(_,A),v.addTrace(pi.store_session);try{v.addTrace(pi.publishing_session_settle),await this.sendRequest({topic:_,method:"wc_sessionSettle",params:x,throwOnFailedPublish:!0}).catch(C=>{throw v==null||v.setError(hl.session_settle_publish_failure),C}),v.addTrace(pi.session_settle_publish_success),v.addTrace(pi.publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:b},throwOnFailedPublish:!0}).catch(C=>{throw v==null||v.setError(hl.session_approve_publish_failure),C}),v.addTrace(pi.session_approve_publish_success)}catch(C){throw this.client.logger.error(C),this.client.session.delete(_,rn("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(_),C}return this.client.core.eventClient.deleteEvent({eventId:v.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:m.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(_,Pn(td)),{topic:_,acknowledged:()=>Promise.resolve(this.client.session.get(_))}}),ce(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:Ln.wc_sessionPropose.reject}),await this.deleteProposal(r)}),ce(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=vl(),c=so(),l=jl().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Pt("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:i}}),ce(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=so(),{done:i,resolve:o,reject:a}=vl();return this.events.once(Pt("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,Pn(td)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),ce(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:s,topic:i,expiry:o=Ln.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);(a==null?void 0:a.transportType)===en.relay&&await this.confirmOnlineStateOrThrow();const c=so(),l=jl().toString(),{done:u,resolve:d,reject:h}=vl(o,"Request expired. Please try again.");this.events.once(Pt("session_request",c),({error:y,result:w})=>{y?h(y):d(w)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:{request:Qr(Zt({},s),{expiryTimestamp:Pn(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const m={request:Qr(Zt({},s),{expiryTimestamp:Pn(o)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:m,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,m)}).catch(w=>h(w)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),y()}),new Promise(async y=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const v=await mce(this.client.core.storage,pO);await fce({id:c,topic:i,wcDeepLink:v})}y()}),u()]).then(y=>y[2])}),ce(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===en.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);io(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):Ys(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),ce(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=so(),i=jl().toString(),{done:o,resolve:a,reject:c}=vl();this.events.once(Pt("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ce(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=jl().toString(),a=so();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ce(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:rn("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=ge("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),ce(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>xde(r,n)))),ce(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ce(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?en.link_mode:en.relay;o===en.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:m=[],expiry:y}=n,w=[...n.resources||[]],{topic:v,uri:b}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:v,uri:b}});const E=await this.client.core.crypto.generateKeyPair(),_=Pw(E);if(await Promise.all([this.client.auth.authKeys.set(Ow,{responseTopic:_,publicKey:E}),this.client.auth.pairingTopics.set(_,{topic:_,pairingTopic:v})]),await this.client.core.relayer.subscribe(_,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${v}`),m.length>0){const{namespace:$}=Kd(a[0]);let L=kle($,"request",m);Nw(w)&&(L=Rle(L,w.pop())),w.push(L)}const x=y&&y>Ln.wc_sessionAuthenticate.req.ttl?y:Ln.wc_sessionAuthenticate.req.ttl,S={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:w},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:Pn(x)},A={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},C={requiredNamespaces:{},optionalNamespaces:A,relays:[{protocol:"irn"}],pairingTopic:v,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:Pn(Ln.wc_sessionPropose.req.ttl),id:so()},{done:k,resolve:O,reject:B}=vl(x,"Request expired"),F=so(),H=Pt("session_connect",C.id),N=Pt("session_request",F),T=async({error:$,session:L})=>{this.events.off(N,U),$?B($):L&&O({session:L})},U=async $=>{var L,q,J;if(await this.deletePendingAuthRequest(F,{message:"fulfilled",code:0}),$.error){const se=rn("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return $.error.code===se.code?void 0:(this.events.off(H,T),B($.error.message))}await this.deleteProposal(C.id),this.events.off(H,T);const{cacaos:re,responder:ne}=$.result,ie=[],me=[];for(const se of re){await ik({cacao:se,projectId:this.client.core.projectId})||(this.client.logger.error(se,"Signature verification failed"),B(rn("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:te}=se,he=Nw(te.resources),Le=[bx(te.iss)],Te=O0(te.iss);if(he){const Ce=ok(he),Ue=ak(he);ie.push(...Ce),Le.push(...Ue)}for(const Ce of Le)me.push(`${Ce}:${Te}`)}const K=await this.client.core.crypto.generateSharedKey(E,ne.publicKey);let X;ie.length>0&&(X={topic:K,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:ne,controller:ne.publicKey,expiry:Pn(td),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:v,namespaces:kk([...new Set(ie)],[...new Set(me)]),transportType:o},await this.client.core.relayer.subscribe(K,{transportType:o}),await this.client.session.set(K,X),v&&await this.client.core.pairing.updateMetadata({topic:v,metadata:ne.metadata}),X=this.client.session.get(K)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(q=ne.metadata.redirect)!=null&&q.linkMode&&(J=ne.metadata.redirect)!=null&&J.universal&&r&&(this.client.core.addLinkModeSupportedApp(ne.metadata.redirect.universal),this.client.session.update(K,{transportType:en.link_mode})),O({auths:re,session:X})};this.events.once(H,T),this.events.once(N,U);let D;try{if(i){const $=Cc("wc_sessionAuthenticate",S,F);this.client.core.history.set(v,$);const L=await this.client.core.crypto.encode("",$,{type:Rm,encoding:sc});D=qy(r,v,L)}else await Promise.all([this.sendRequest({topic:v,method:"wc_sessionAuthenticate",params:S,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:F}),this.sendRequest({topic:v,method:"wc_sessionPropose",params:C,expiry:Ln.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:C.id})])}catch($){throw this.events.off(H,T),this.events.off(N,U),$}return await this.setProposal(C.id,C),await this.setAuthRequest(F,{request:Qr(Zt({},S),{verifyContext:{}}),pairingTopic:v,transportType:o}),{uri:D??b,response:k}}),ce(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[fl.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw i.setError(Df.no_internet_connection),y}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(Df.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||en.relay;a===en.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Pw(c),d={type:ia,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const y of s){if(!await ik({cacao:y,projectId:this.client.core.projectId})){i.setError(Df.invalid_cacao);const _=rn("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:_,encodeOpts:d}),new Error(_.message)}i.addTrace(fl.cacaos_verified);const{p:w}=y,v=Nw(w.resources),b=[bx(w.iss)],E=O0(w.iss);if(v){const _=ok(v),x=ak(v);h.push(..._),b.push(...x)}for(const _ of b)f.push(`${_}:${E}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(fl.create_authenticated_session_topic);let m;if((h==null?void 0:h.length)>0){m={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Pn(td),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:kk([...new Set(h)],[...new Set(f)]),transportType:a},i.addTrace(fl.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(y){throw i.setError(Df.subscribe_authenticated_session_topic_failure),y}i.addTrace(fl.subscribe_authenticated_session_topic_success),await this.client.session.set(p,m),i.addTrace(fl.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(fl.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw i.setError(Df.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:m}}),ce(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===en.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Pw(o),l={type:ia,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:Ln.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),ce(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return g4(r,s)}),ce(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ce(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ce(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,rn("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(pO).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,rn("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=to.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),ce(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(hl.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,rn("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ce(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=to.idle,this.client.events.emit("session_request_expire",{id:n}))}),ce(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),ce(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ce(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Pn(Ln.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ce(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=en.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),ce(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||Pn(Ln.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),ce(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,h=Cc(s,i,c);let f;const p=!!u;try{const w=p?sc:Oi;f=await this.client.core.crypto.encode(r,h,{encoding:w})}catch(w){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),w}let m;if(Lme.includes(s)){const w=ho(JSON.stringify(h)),v=ho(f);m=await this.client.core.verify.register({id:v,decryptedId:w})}const y=Ln[s].req;if(y.attestation=m,o&&(y.ttl=o),a&&(y.id=a),this.client.core.history.set(r,h),p){const w=qy(u,r,f);await global.Linking.openURL(w,this.client.name)}else{const w=Ln[s].req;o&&(w.ttl=o),a&&(w.id=a),w.tvf=Qr(Zt({},d),{correlationId:h.id}),l?(w.internal=Qr(Zt({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,f,w)):this.client.core.relayer.publish(r,f,w).catch(v=>this.client.logger.error(v))}return h.id}),ce(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=sb(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?sc:Oi;u=await this.client.core.crypto.encode(s,l,Qr(Zt({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let h,f;try{h=await this.client.core.history.get(s,r);const p=h.request;try{f=this.getTVFParams(r,p.params,i)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m==null?void 0:m.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(d){const p=qy(c,s,u);await global.Linking.openURL(p,this.client.name)}else{const p=h.request.method,m=Ln[p].res;m.tvf=Qr(Zt({},f),{correlationId:r}),o?(m.internal=Qr(Zt({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,m)):this.client.core.relayer.publish(s,u,m).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),ce(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=ib(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?sc:Oi;u=await this.client.core.crypto.encode(s,l,Qr(Zt({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),f}let h;try{h=await this.client.core.history.get(s,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),f}if(d){const f=qy(c,s,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=a||Ln[f].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),ce(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;Ja(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Ja(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),ce(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ce(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ce(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===to.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=to.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=to.idle}),ce(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ce(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ce(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=ge("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),ce(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ce(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(qo.proposal_listener_not_found)),this.isValidConnect(Zt({},s.params));const u=a.expiryTimestamp||Pn(Ln.wc_sessionPropose.req.ttl),d=Zt({id:c,pairingTopic:r,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:i,hash:ho(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(no.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:Ln.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),ce(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(io(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(Ys(r)){await this.deleteProposal(i);const o=Pt("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),ce(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(f.proposalId),m=Qr(Zt(Zt(Zt({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:en.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(Pt("session_connect",f.proposalId),{session:m}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ce(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;io(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Pt("session_approve",s),{})):Ys(r)&&(await this.client.session.delete(n,rn("USER_DISCONNECTED")),this.events.emit(Pt("session_approve",s),{error:r.error}))}),ce(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=Rf.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:rn("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Zt({topic:n},s));try{Rf.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(c){throw Rf.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ce(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ce(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=Pt("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);io(r)?this.events.emit(Pt("session_update",s),{}):Ys(r)&&this.events.emit(Pt("session_update",s),{error:r.error})}),ce(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Pn(td)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),ce(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=Pt("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);io(r)?this.events.emit(Pt("session_extend",s),{}):Ys(r)&&this.events.emit(Pt("session_extend",s),{error:r.error})}),ce(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),ce(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=Pt("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);io(r)?this.events.emit(Pt("session_ping",s),{}):Ys(r)&&this.events.emit(Pt("session_ping",s),{error:r.error})},500)}),ce(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(zn.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:rn("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),ce(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(Zt({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:ho(JSON.stringify(Cc("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),m={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(m),u===en.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=f.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),ce(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=Pt("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);io(r)?this.events.emit(Pt("session_request",s),{result:r.result}):Ys(r)&&this.events.emit(Pt("session_request",s),{error:r.error})}),ce(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=Rf.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Zt({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),Rf.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ce(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),io(r)?this.events.emit(Pt("session_request",s),{result:r.result}):Ys(r)&&this.events.emit(Pt("session_request",s),{error:r.error})}),ce(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=i.params,h=await this.getVerifyContext({attestationId:o,hash:ho(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:f,pairingTopic:s,transportType:c}),c===en.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(i.params.requester.metadata,c),f={type:ia,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:f,rpcOpts:Ln.wc_sessionAuthenticate.autoReject,appLink:h})}}),ce(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ce(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=to.idle,this.processSessionRequestQueue()},pe.toMiliseconds(this.requestQueueDelay))}),ce(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=Pt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Pt("session_request",i.request.id),{error:r})})}),ce(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===to.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=to.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ce(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),ce(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Cc("wc_sessionPropose",Qr(Zt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),ce(this,"isValidConnect",async n=>{if(!es(n)){const{message:l}=ge("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(ir(r)||await this.isValidPairingTopic(r),!jde(c)){const{message:l}=ge("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!ir(s)&&Bc(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(!ir(i)&&Bc(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),ir(o)||this.validateSessionProps(o,"sessionProperties"),!ir(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),ce(this,"validateNamespaces",(n,r)=>{const s=Dde(n,"connect()",r);if(s)throw new Error(s.message)}),ce(this,"isValidApprove",async n=>{if(!es(n))throw new Error(ge("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=S_(s,"approve()");if(l)throw new Error(l.message);const u=$k(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!Sn(i,!0)){const{message:d}=ge("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(ir(o)||this.validateSessionProps(o,"sessionProperties"),!ir(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(h=>d.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),ce(this,"isValidReject",async n=>{if(!es(n)){const{message:i}=ge("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Lde(s)){const{message:i}=ge("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),ce(this,"isValidSessionSettleRequest",n=>{if(!es(n)){const{message:l}=ge("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!V4(r)){const{message:l}=ge("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Nde(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=S_(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Ja(o)){const{message:l}=ge("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),ce(this,"isValidUpdate",async n=>{if(!es(n)){const{message:c}=ge("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=S_(s,"update()");if(o)throw new Error(o.message);const a=$k(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),ce(this,"isValidExtend",async n=>{if(!es(n)){const{message:s}=ge("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ce(this,"isValidRequest",async n=>{if(!es(n)){const{message:c}=ge("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!Rk(a,i)){const{message:c}=ge("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!Mde(s)){const{message:c}=ge("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!zde(a,i,s.method)){const{message:c}=ge("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!Vde(o,O_)){const{message:c}=ge("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${O_.min} and ${O_.max}`);throw new Error(c)}}),ce(this,"isValidRespond",async n=>{var r;if(!es(n)){const{message:o}=ge("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Bde(i)){const{message:o}=ge("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),ce(this,"isValidPing",async n=>{if(!es(n)){const{message:s}=ge("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ce(this,"isValidEmit",async n=>{if(!es(n)){const{message:a}=ge("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!Rk(o,i)){const{message:a}=ge("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!Fde(s)){const{message:a}=ge("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!qde(o,i,s.name)){const{message:a}=ge("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),ce(this,"isValidDisconnect",async n=>{if(!es(n)){const{message:s}=ge("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ce(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Sn(s,!1))throw new Error("uri is required parameter");if(!Sn(i,!1))throw new Error("domain is required parameter");if(!Sn(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Kd(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Kd(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ce(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||Ap,validation:"UNKNOWN",origin:o.url||""}};try{if(a===en.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ce(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=ge("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),ce(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ce(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),ce(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=ge("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),ce(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,d,h;return!n||r!==en.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ce(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),ce(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=GP(n,"topic")||"",s=decodeURIComponent(GP(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:en.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),ce(this,"registerLinkModeListeners",async()=>{var n;if(v2()||ol()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),ce(this,"getTVFParams",(n,r,s)=>{var i,o,a;if(!((i=r.request)!=null&&i.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),ce(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),ce(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=jme[i];if(i==="sui_signTransaction")return[gle(r.transactionBytes)];if(i==="near_signTransaction")return[tk(r)];if(i==="near_signTransactions")return r.map(c=>tk(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[ahe({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return oa(r)?r.map(c=>nk(c)):[nk(r)];if(i==="cosmos_signDirect")return[yle(r)];if(typeof r=="string")return[r];const a=r[o.key];if(oa(a))return i==="solana_signAllTransactions"?a.map(c=>ple(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(zn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(Ow)?this.client.auth.authKeys.get(Ow):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===en.link_mode?sc:Oi});$2(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:ho(r)})):ob(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Gs.expired,async e=>{const{topic:n,id:r}=e4(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,ge("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,ge("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Cl.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Cl.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Sn(e,!1)){const{message:n}=ge("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=ge("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Ja(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=ge("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Sn(e,!1)){const{message:n}=ge("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=ge("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Ja(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=ge("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=ge("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Sn(e,!1)){const{message:n}=ge("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=ge("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!Ude(e)){const{message:n}=ge("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=ge("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Ja(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=ge("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class Qme extends Du{constructor(e,n){super(e,n,Rme,D2),this.core=e,this.logger=n}}let Jme=class extends Du{constructor(e,n){super(e,n,$me,D2),this.core=e,this.logger=n}};class Zme extends Du{constructor(e,n){super(e,n,Ume,D2,r=>r.id),this.core=e,this.logger=n}}class Xme extends Du{constructor(e,n){super(e,n,Fme,cb,()=>Ow),this.core=e,this.logger=n}}class eye extends Du{constructor(e,n){super(e,n,zme,cb),this.core=e,this.logger=n}}class tye extends Du{constructor(e,n){super(e,n,qme,cb,r=>r.id),this.core=e,this.logger=n}}var nye=Object.defineProperty,rye=(t,e,n)=>e in t?nye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R_=(t,e,n)=>rye(t,typeof e!="symbol"?e+"":e,n);class sye{constructor(e,n){this.core=e,this.logger=n,R_(this,"authKeys"),R_(this,"pairingTopics"),R_(this,"requests"),this.authKeys=new Xme(this.core,this.logger),this.pairingTopics=new eye(this.core,this.logger),this.requests=new tye(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var iye=Object.defineProperty,oye=(t,e,n)=>e in t?iye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dt=(t,e,n)=>oye(t,typeof e!="symbol"?e+"":e,n);let aye=class bU extends hne{constructor(e){super(e),dt(this,"protocol",yU),dt(this,"version",wU),dt(this,"name",k_.name),dt(this,"metadata"),dt(this,"core"),dt(this,"logger"),dt(this,"events",new ai.EventEmitter),dt(this,"engine"),dt(this,"session"),dt(this,"proposal"),dt(this,"pendingRequest"),dt(this,"auth"),dt(this,"signConfig"),dt(this,"on",(r,s)=>this.events.on(r,s)),dt(this,"once",(r,s)=>this.events.once(r,s)),dt(this,"off",(r,s)=>this.events.off(r,s)),dt(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),dt(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),dt(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),dt(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),dt(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),dt(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||k_.name,this.metadata=ace(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Am(qh({level:(e==null?void 0:e.logger)||k_.logger}));this.core=(e==null?void 0:e.core)||new Ome(e),this.logger=Tr(n,this.name),this.session=new Jme(this.core,this.logger),this.proposal=new Qme(this.core,this.logger),this.pendingRequest=new Zme(this.core,this.logger),this.engine=new Yme(this),this.auth=new sye(this.core,this.logger)}static async init(e){const n=new bU(e);return await n.initialize(),n}get context(){return ys(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},pe.toMiliseconds(pe.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var Vx={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof gn<"u"&&gn,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof gn<"u"&&gn||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(N){return N&&DataView.prototype.isPrototypeOf(N)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(N){return N&&u.indexOf(Object.prototype.toString.call(N))>-1};function h(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(N)||N==="")throw new TypeError('Invalid character in header field name: "'+N+'"');return N.toLowerCase()}function f(N){return typeof N!="string"&&(N=String(N)),N}function p(N){var T={next:function(){var U=N.shift();return{done:U===void 0,value:U}}};return c.iterable&&(T[Symbol.iterator]=function(){return T}),T}function m(N){this.map={},N instanceof m?N.forEach(function(T,U){this.append(U,T)},this):Array.isArray(N)?N.forEach(function(T){if(T.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+T.length);this.append(T[0],T[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(T){this.append(T,N[T])},this)}m.prototype.append=function(N,T){N=h(N),T=f(T);var U=this.map[N];this.map[N]=U?U+", "+T:T},m.prototype.delete=function(N){delete this.map[h(N)]},m.prototype.get=function(N){return N=h(N),this.has(N)?this.map[N]:null},m.prototype.has=function(N){return this.map.hasOwnProperty(h(N))},m.prototype.set=function(N,T){this.map[h(N)]=f(T)},m.prototype.forEach=function(N,T){for(var U in this.map)this.map.hasOwnProperty(U)&&N.call(T,this.map[U],U,this)},m.prototype.keys=function(){var N=[];return this.forEach(function(T,U){N.push(U)}),p(N)},m.prototype.values=function(){var N=[];return this.forEach(function(T){N.push(T)}),p(N)},m.prototype.entries=function(){var N=[];return this.forEach(function(T,U){N.push([U,T])}),p(N)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y(N){if(!N._noBody){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}}function w(N){return new Promise(function(T,U){N.onload=function(){T(N.result)},N.onerror=function(){U(N.error)}})}function v(N){var T=new FileReader,U=w(T);return T.readAsArrayBuffer(N),U}function b(N){var T=new FileReader,U=w(T),D=/charset=([A-Za-z0-9_-]+)/.exec(N.type),$=D?D[1]:"utf-8";return T.readAsText(N,$),U}function E(N){for(var T=new Uint8Array(N),U=new Array(T.length),D=0;D<T.length;D++)U[D]=String.fromCharCode(T[D]);return U.join("")}function _(N){if(N.slice)return N.slice(0);var T=new Uint8Array(N.byteLength);return T.set(new Uint8Array(N)),T.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(N){this.bodyUsed=this.bodyUsed,this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:c.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:c.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():c.arrayBuffer&&c.blob&&l(N)?(this._bodyArrayBuffer=_(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||d(N))?this._bodyArrayBuffer=_(N):this._bodyText=N=Object.prototype.toString.call(N):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var N=y(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var N=y(this);return N||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var N=y(this);if(N)return N;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function A(N){var T=N.toUpperCase();return S.indexOf(T)>-1?T:N}function C(N,T){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');T=T||{};var U=T.body;if(N instanceof C){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,T.headers||(this.headers=new m(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!U&&N._bodyInit!=null&&(U=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=T.credentials||this.credentials||"same-origin",(T.headers||!this.headers)&&(this.headers=new m(T.headers)),this.method=A(T.method||this.method||"GET"),this.mode=T.mode||this.mode||null,this.signal=T.signal||this.signal||function(){if("AbortController"in a){var L=new AbortController;return L.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&U)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(U),(this.method==="GET"||this.method==="HEAD")&&(T.cache==="no-store"||T.cache==="no-cache")){var D=/([?&])_=[^&]*/;if(D.test(this.url))this.url=this.url.replace(D,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function k(N){var T=new FormData;return N.trim().split("&").forEach(function(U){if(U){var D=U.split("="),$=D.shift().replace(/\+/g," "),L=D.join("=").replace(/\+/g," ");T.append(decodeURIComponent($),decodeURIComponent(L))}}),T}function O(N){var T=new m,U=N.replace(/\r?\n[\t ]+/g," ");return U.split("\r").map(function(D){return D.indexOf(`
`)===0?D.substr(1,D.length):D}).forEach(function(D){var $=D.split(":"),L=$.shift().trim();if(L){var q=$.join(":").trim();try{T.append(L,q)}catch(J){console.warn("Response "+J.message)}}}),T}x.call(C.prototype);function B(N,T){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(T||(T={}),this.type="default",this.status=T.status===void 0?200:T.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=T.statusText===void 0?"":""+T.statusText,this.headers=new m(T.headers),this.url=T.url||"",this._initBody(N)}x.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},B.error=function(){var N=new B(null,{status:200,statusText:""});return N.ok=!1,N.status=0,N.type="error",N};var F=[301,302,303,307,308];B.redirect=function(N,T){if(F.indexOf(T)===-1)throw new RangeError("Invalid status code");return new B(null,{status:T,headers:{location:N}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(T,U){this.message=T,this.name=U;var D=Error(T);this.stack=D.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function H(N,T){return new Promise(function(U,D){var $=new C(N,T);if($.signal&&$.signal.aborted)return D(new o.DOMException("Aborted","AbortError"));var L=new XMLHttpRequest;function q(){L.abort()}L.onload=function(){var ne={statusText:L.statusText,headers:O(L.getAllResponseHeaders()||"")};$.url.indexOf("file://")===0&&(L.status<200||L.status>599)?ne.status=200:ne.status=L.status,ne.url="responseURL"in L?L.responseURL:ne.headers.get("X-Request-URL");var ie="response"in L?L.response:L.responseText;setTimeout(function(){U(new B(ie,ne))},0)},L.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},L.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request timed out"))},0)},L.onabort=function(){setTimeout(function(){D(new o.DOMException("Aborted","AbortError"))},0)};function J(ne){try{return ne===""&&a.location.href?a.location.href:ne}catch{return ne}}if(L.open($.method,J($.url),!0),$.credentials==="include"?L.withCredentials=!0:$.credentials==="omit"&&(L.withCredentials=!1),"responseType"in L&&(c.blob?L.responseType="blob":c.arrayBuffer&&(L.responseType="arraybuffer")),T&&typeof T.headers=="object"&&!(T.headers instanceof m||a.Headers&&T.headers instanceof a.Headers)){var re=[];Object.getOwnPropertyNames(T.headers).forEach(function(ne){re.push(h(ne)),L.setRequestHeader(ne,f(T.headers[ne]))}),$.headers.forEach(function(ne,ie){re.indexOf(ie)===-1&&L.setRequestHeader(ie,ne)})}else $.headers.forEach(function(ne,ie){L.setRequestHeader(ie,ne)});$.signal&&($.signal.addEventListener("abort",q),L.onreadystatechange=function(){L.readyState===4&&$.signal.removeEventListener("abort",q)}),L.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return H.polyfill=!0,a.fetch||(a.fetch=H,a.Headers=m,a.Request=C,a.Response=B),o.Headers=m,o.Request=C,o.Response=B,o.fetch=H,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(Vx,Vx.exports);var cye=Vx.exports;const yO=Cu(cye);var lye=Object.defineProperty,uye=Object.defineProperties,dye=Object.getOwnPropertyDescriptors,wO=Object.getOwnPropertySymbols,hye=Object.prototype.hasOwnProperty,fye=Object.prototype.propertyIsEnumerable,vO=(t,e,n)=>e in t?lye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bO=(t,e)=>{for(var n in e||(e={}))hye.call(e,n)&&vO(t,n,e[n]);if(wO)for(var n of wO(e))fye.call(e,n)&&vO(t,n,e[n]);return t},_O=(t,e)=>uye(t,dye(e));const pye={Accept:"application/json","Content-Type":"application/json"},gye="POST",EO={headers:pye,method:gye},CO=10;let Wi=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new ai.EventEmitter,this.isAvailable=!1,this.registering=!1,!Bk(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=ma(e),r=await(await yO(this.url,_O(bO({},EO),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!Bk(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=ma({id:1,jsonrpc:"2.0",method:"test",params:[]});await yO(e,_O(bO({},EO),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?pu(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=ib(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return Y4(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>CO&&this.events.setMaxListeners(CO)}};const xO="error",mye="wss://relay.walletconnect.org",yye="wc",wye="universal_provider",Hy=`${yye}@2:${wye}:`,_U="https://rpc.walletconnect.org/v1/",vd="generic",vye=`${_U}bundler`,li={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function j2(t){return t==null||typeof t!="object"&&typeof t!="function"}function EU(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function CU(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const bye="[object RegExp]",xU="[object String]",SU="[object Number]",AU="[object Boolean]",IU="[object Arguments]",_ye="[object Symbol]",Eye="[object Date]",Cye="[object Map]",xye="[object Set]",Sye="[object Array]",Aye="[object ArrayBuffer]",Iye="[object Object]",Tye="[object DataView]",Nye="[object Uint8Array]",Pye="[object Uint8ClampedArray]",kye="[object Uint16Array]",Oye="[object Uint32Array]",Rye="[object Int8Array]",$ye="[object Int16Array]",Dye="[object Int32Array]",jye="[object Float32Array]",Uye="[object Float64Array]";function U2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Lye(t,e){return Ud(t,void 0,t,new Map,e)}function Ud(t,e,n,r=new Map,s=void 0){const i=s==null?void 0:s(t,e,n,r);if(i!=null)return i;if(j2(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Ud(t[a],a,n,r,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,Ud(c,a,n,r,s));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Ud(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(U2(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Ud(t[a],a,n,r,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),xl(o,t,n,r,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),xl(o,t,n,r,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),xl(o,t,n,r,s),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,xl(o,t,n,r,s),o}if(typeof t=="object"&&Mye(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),xl(o,t,n,r,s),o}return t}function xl(t,e,n=t,r,s){const i=[...Object.keys(e),...EU(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Ud(e[a],a,n,r,s))}}function Mye(t){switch(CU(t)){case IU:case Sye:case Aye:case Tye:case AU:case Eye:case jye:case Uye:case Rye:case $ye:case Dye:case Cye:case SU:case Iye:case bye:case xye:case xU:case _ye:case Nye:case Pye:case kye:case Oye:return!0;default:return!1}}function Bye(t,e){return Lye(t,(n,r,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case SU:case xU:case AU:{const o=new t.constructor(t==null?void 0:t.valueOf());return xl(o,t),o}case IU:{const o={};return xl(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function SO(t){return Bye(t)}function AO(t){return t!==null&&typeof t=="object"&&CU(t)==="[object Arguments]"}function IO(t){return typeof t=="object"&&t!==null}function Fye(){}function zye(t){return U2(t)}function qye(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Wye(t){if(j2(t))return t;if(Array.isArray(t)||U2(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function Hye(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const o=n[i];s=Gx(s,o,r,new Map)}return s}function Gx(t,e,n,r){if(j2(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return Wye(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...EU(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(AO(a)&&(a={...a}),AO(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=SO(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||IO(c)&&IO(a)?t[o]=Gx(c,a,n,r):c==null&&qye(a)?t[o]=Gx({},a,n,r):c==null&&zye(a)?t[o]=SO(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function Vye(t,...e){return Hye(t,...e,Fye)}var Gye=Object.defineProperty,Kye=Object.defineProperties,Yye=Object.getOwnPropertyDescriptors,TO=Object.getOwnPropertySymbols,Qye=Object.prototype.hasOwnProperty,Jye=Object.prototype.propertyIsEnumerable,NO=(t,e,n)=>e in t?Gye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vy=(t,e)=>{for(var n in e||(e={}))Qye.call(e,n)&&NO(t,n,e[n]);if(TO)for(var n of TO(e))Jye.call(e,n)&&NO(t,n,e[n]);return t},Zye=(t,e)=>Kye(t,Yye(e));function Ds(t,e,n){var r;const s=Kd(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${_U}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function ju(t){return t.includes(":")?t.split(":")[1]:t}function TU(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Xye(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=e.namespaces[s].accounts;r.push(...i)}),r}function Gy(t={},e={}){const n=PO(t),r=PO(e);return Vye(n,r)}function PO(t){var e,n,r,s,i;const o={};if(!Bc(t))return o;for(const[a,c]of Object.entries(t)){const l=rb(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=jd(a);o[f]=Zye(Vy(Vy({},o[f]),c),{chains:_o(l,(e=o[f])==null?void 0:e.chains),methods:_o(u,(n=o[f])==null?void 0:n.methods),events:_o(d,(r=o[f])==null?void 0:r.events)}),(Bc(h)||Bc(((s=o[f])==null?void 0:s.rpcMap)||{}))&&(o[f].rpcMap=Vy(Vy({},h),(i=o[f])==null?void 0:i.rpcMap))}return o}function kO(t){return t.includes(":")?t.split(":")[2]:t}function OO(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=rb(n)?[n]:r.chains?r.chains:TU(r.accounts);e[n]={chains:a,methods:s,events:i,accounts:o}}return e}function $_(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const NU={},xt=t=>NU[t],D_=(t,e)=>{NU[t]=e};var ewe=Object.defineProperty,twe=(t,e,n)=>e in t?ewe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nd=(t,e,n)=>twe(t,typeof e!="symbol"?e+"":e,n);class nwe{constructor(e){nd(this,"name","polkadot"),nd(this,"client"),nd(this,"httpProviders"),nd(this,"events"),nd(this,"namespace"),nd(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(li.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=ju(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ds(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ci(new Wi(r,xt("disableProviderPing")))}}var rwe=Object.defineProperty,swe=Object.defineProperties,iwe=Object.getOwnPropertyDescriptors,RO=Object.getOwnPropertySymbols,owe=Object.prototype.hasOwnProperty,awe=Object.prototype.propertyIsEnumerable,Kx=(t,e,n)=>e in t?rwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$O=(t,e)=>{for(var n in e||(e={}))owe.call(e,n)&&Kx(t,n,e[n]);if(RO)for(var n of RO(e))awe.call(e,n)&&Kx(t,n,e[n]);return t},DO=(t,e)=>swe(t,iwe(e)),rd=(t,e,n)=>Kx(t,typeof e!="symbol"?e+"":e,n);class cwe{constructor(e){rd(this,"name","eip155"),rd(this,"client"),rd(this,"chainId"),rd(this,"namespace"),rd(this,"httpProviders"),rd(this,"events"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(li.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Ds(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ci(new Wi(r,xt("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(ju(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s,i,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[],l=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((o=u==null?void 0:u.sessionProperties)==null?void 0:o.capabilities)||{};if(d!=null&&d[l])return d==null?void 0:d[l];const h=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:DO($O({},u.sessionProperties||{}),{capabilities:DO($O({},d||{}),{[l]:h})})})}catch(f){console.warn("Failed to update session with capabilities",f)}return h}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const a=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Cc("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,n){return`${vye}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var lwe=Object.defineProperty,uwe=(t,e,n)=>e in t?lwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sd=(t,e,n)=>uwe(t,typeof e!="symbol"?e+"":e,n);class dwe{constructor(e){sd(this,"name","solana"),sd(this,"client"),sd(this,"httpProviders"),sd(this,"events"),sd(this,"namespace"),sd(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(li.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=ju(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ds(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ci(new Wi(r,xt("disableProviderPing")))}}var hwe=Object.defineProperty,fwe=(t,e,n)=>e in t?hwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,id=(t,e,n)=>fwe(t,typeof e!="symbol"?e+"":e,n);class pwe{constructor(e){id(this,"name","cosmos"),id(this,"client"),id(this,"httpProviders"),id(this,"events"),id(this,"namespace"),id(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(li.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=ju(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ds(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ci(new Wi(r,xt("disableProviderPing")))}}var gwe=Object.defineProperty,mwe=(t,e,n)=>e in t?gwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,od=(t,e,n)=>mwe(t,typeof e!="symbol"?e+"":e,n);class ywe{constructor(e){od(this,"name","algorand"),od(this,"client"),od(this,"httpProviders"),od(this,"events"),od(this,"namespace"),od(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Ds(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(li.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ds(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new ci(new Wi(r,xt("disableProviderPing")))}}var wwe=Object.defineProperty,vwe=(t,e,n)=>e in t?wwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ad=(t,e,n)=>vwe(t,typeof e!="symbol"?e+"":e,n);class bwe{constructor(e){ad(this,"name","cip34"),ad(this,"client"),ad(this,"httpProviders"),ad(this,"events"),ad(this,"namespace"),ad(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(li.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=ju(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ci(new Wi(r,xt("disableProviderPing")))}}var _we=Object.defineProperty,Ewe=(t,e,n)=>e in t?_we(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cd=(t,e,n)=>Ewe(t,typeof e!="symbol"?e+"":e,n);class Cwe{constructor(e){cd(this,"name","elrond"),cd(this,"client"),cd(this,"httpProviders"),cd(this,"events"),cd(this,"namespace"),cd(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(li.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=ju(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ds(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ci(new Wi(r,xt("disableProviderPing")))}}var xwe=Object.defineProperty,Swe=(t,e,n)=>e in t?xwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ld=(t,e,n)=>Swe(t,typeof e!="symbol"?e+"":e,n);class Awe{constructor(e){ld(this,"name","multiversx"),ld(this,"client"),ld(this,"httpProviders"),ld(this,"events"),ld(this,"namespace"),ld(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(li.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=ju(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ds(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ci(new Wi(r,xt("disableProviderPing")))}}var Iwe=Object.defineProperty,Twe=(t,e,n)=>e in t?Iwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ud=(t,e,n)=>Twe(t,typeof e!="symbol"?e+"":e,n);class Nwe{constructor(e){ud(this,"name","near"),ud(this,"client"),ud(this,"httpProviders"),ud(this,"events"),ud(this,"namespace"),ud(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Ds(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(li.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ds(e,this.namespace);return typeof r>"u"?void 0:new ci(new Wi(r,xt("disableProviderPing")))}}var Pwe=Object.defineProperty,kwe=(t,e,n)=>e in t?Pwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dd=(t,e,n)=>kwe(t,typeof e!="symbol"?e+"":e,n);class Owe{constructor(e){dd(this,"name","tezos"),dd(this,"client"),dd(this,"httpProviders"),dd(this,"events"),dd(this,"namespace"),dd(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Ds(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(li.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ds(e,this.namespace);return typeof r>"u"?void 0:new ci(new Wi(r))}}var Rwe=Object.defineProperty,$we=(t,e,n)=>e in t?Rwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hd=(t,e,n)=>$we(t,typeof e!="symbol"?e+"":e,n);class Dwe{constructor(e){hd(this,"name",vd),hd(this,"client"),hd(this,"httpProviders"),hd(this,"events"),hd(this,"namespace"),hd(this,"chainId"),this.namespace=e.namespace,this.events=xt("events"),this.client=xt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(li.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const i=Kd(s);r[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ds(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ci(new Wi(r,xt("disableProviderPing")))}}var jwe=Object.defineProperty,Uwe=Object.defineProperties,Lwe=Object.getOwnPropertyDescriptors,jO=Object.getOwnPropertySymbols,Mwe=Object.prototype.hasOwnProperty,Bwe=Object.prototype.propertyIsEnumerable,Yx=(t,e,n)=>e in t?jwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ky=(t,e)=>{for(var n in e||(e={}))Mwe.call(e,n)&&Yx(t,n,e[n]);if(jO)for(var n of jO(e))Bwe.call(e,n)&&Yx(t,n,e[n]);return t},j_=(t,e)=>Uwe(t,Lwe(e)),Ws=(t,e,n)=>Yx(t,typeof e!="symbol"?e+"":e,n);let Fwe=class PU{constructor(e){Ws(this,"client"),Ws(this,"namespaces"),Ws(this,"optionalNamespaces"),Ws(this,"sessionProperties"),Ws(this,"scopedProperties"),Ws(this,"events",new n2),Ws(this,"rpcProviders",{}),Ws(this,"session"),Ws(this,"providerOpts"),Ws(this,"logger"),Ws(this,"uri"),Ws(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Am(qh({level:(e==null?void 0:e.logger)||xO})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new PU(e);return await n.initialize(),n}async request(e,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:Ky({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const i=new Date().getTime();this.request(e,r,s).then(o=>n(null,sb(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:rn("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=OO(this.session.namespaces);this.namespaces=Gy(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=OO(s.namespaces);return this.namespaces=Gy(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),i=this.getProvider(r);i.name===vd?i.setDefaultChain(`${r}:${s}`,n):i.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(oa(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await aye.init({core:this.providerOpts.core,logger:this.providerOpts.logger||xO,relayUrl:this.providerOpts.relayUrl||mye,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>jd(n)))];D_("client",this.client),D_("events",this.events),D_("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=Xye(n,this.session),s=TU(r),i=Gy(this.namespaces,this.optionalNamespaces),o=j_(Ky({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new cwe({namespace:o});break;case"algorand":this.rpcProviders[n]=new ywe({namespace:o});break;case"solana":this.rpcProviders[n]=new dwe({namespace:o});break;case"cosmos":this.rpcProviders[n]=new pwe({namespace:o});break;case"polkadot":this.rpcProviders[n]=new nwe({namespace:o});break;case"cip34":this.rpcProviders[n]=new bwe({namespace:o});break;case"elrond":this.rpcProviders[n]=new Cwe({namespace:o});break;case"multiversx":this.rpcProviders[n]=new Awe({namespace:o});break;case"near":this.rpcProviders[n]=new Nwe({namespace:o});break;case"tezos":this.rpcProviders[n]=new Owe({namespace:o});break;default:this.rpcProviders[vd]?this.rpcProviders[vd].updateNamespace(o):this.rpcProviders[vd]=new Dwe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&oa(o)&&this.events.emit("accountsChanged",o.map(kO))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=jd(o),l=$_(o)!==$_(a)?`${c}:${$_(a)}`:o;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(e);this.session=j_(Ky({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",j_(Ky({},rn("USER_DISCONNECTED")),{data:e.topic})))}),this.on(li.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[vd]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=Gy(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>jd(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=jd(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const i=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(kO);if(!oa(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Hy}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Hy}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Hy}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Hy)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const Tp={getSIWX(){return le.state.siwx},async initializeIfEnabled(){var i;const t=le.state.siwx,e=R.getActiveCaipAddress();if(!(t&&e))return;const[n,r,s]=e.split(":");if(R.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,s)).length)return;await kt.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),jt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((i=ke._getClient())==null?void 0:i.disconnect().catch(console.error)),We.reset("Connect"),ki.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=le.state.siwx,e=De.getPlainAddress(R.getActiveCaipAddress()),n=R.getActiveCaipNetwork(),r=ke._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=s.toString();be.getConnectorId(n.chainNamespace)===ee.CONNECTOR_ID.AUTH&&We.pushTransactionStack({});const a=await r.signMessage(i);await t.addSession({data:s,message:i,signature:a}),R.setLastConnectedSIWECaipNetwork(n),kt.close(),jt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!kt.state.open||We.state.view==="ApproveTransaction")&&await kt.open({view:"SIWXSignMessage"}),i.isSmartAccount?ki.showError("This application might not support Smart Accounts"):ki.showError("Signature declined"),jt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();if((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e)){const r=R.getLastConnectedSIWECaipNetwork();r?R.switchActiveNetwork(r):await ke.disconnect()}else kt.close();We.reset("Connect"),jt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const t=this.getSIWX(),e=R.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const s=await(t==null?void 0:t.getSessions(r.caipNetworkId,De.getPlainAddress(R.getActiveCaipAddress())||""));s&&n.push(...s)})),n},async getSessions(){const t=le.state.siwx,e=De.getPlainAddress(R.getActiveCaipAddress()),n=R.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=We.state.view==="ApproveTransaction",r=We.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=Tp.getSIWX(),s=new Set(e.map(u=>u.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const i=await r.createMessage({chainId:((a=R.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...e.filter(u=>u!==i.chainId)]});if(ki.showLoading("Authenticating...",{autoClose:!1}),ye.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(d=>{const h=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||i.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:h,signature:d.s.s,cacao:d}});try{await r.setSessions(u),jt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Tp.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),jt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Tp.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{ki.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=R.state.activeChain;return{network:((e=R.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=ye.state.preferredAccountTypes)==null?void 0:n[t])===Vn.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},tn={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},xc={ConnectorExplorerIds:{[ee.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ee.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ee.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ee.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[ee.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[tn.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[tn.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[tn.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[tn.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[tn.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[tn.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[tn.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[tn.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[tn.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[tn.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[tn.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[ee.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ee.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ee.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[ee.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ee.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ee.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ee.CONNECTOR_ID.INJECTED]:"Browser Wallet",[ee.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[ee.CONNECTOR_ID.COINBASE]:"Coinbase",[ee.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[ee.CONNECTOR_ID.LEDGER]:"Ledger",[ee.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[ee.CONNECTOR_ID.INJECTED]:"INJECTED",[ee.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[ee.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[ee.CONNECTOR_ID.AUTH]:"AUTH"}},Lg={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${tn.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){const t=R.state.activeChain;return ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>be.getConnectorId(e)===ee.CONNECTOR_ID.AUTH&&e===t)}},zwe=new AbortController,on={EmbeddedWalletAbortController:zwe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${qwe()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"},SERVER_ERROR_APP_CONFIGURATION:{shortMessage:"Server Error",longMessage:t=>`Failed to get App Configuration ${t||""}`},RATE_LIMITED_APP_CONFIGURATION:{shortMessage:"Rate Limited",longMessage:"Rate limited when trying to get the App Configuration"}}};function qwe(){return typeof window<"u"}const Wwe={createLogger(t,e="error"){const n=qh({level:e}),{logger:r}=s2({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},r}},Hwe="rpc.walletconnect.org";function UO(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const U_=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],go={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===Hwe}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:ee.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${ee.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,i,o;const r=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return U_.includes(e)?UO(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var h,f,p,m,y;const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(h=t.rpcUrls.default.http)==null?void 0:h[0],a=this.getDefaultRpcUrl(t,i,n),c=((m=(p=(f=t==null?void 0:t.rpcUrls)==null?void 0:f.chainDefault)==null?void 0:p.http)==null?void 0:m[0])||o,l=((y=r==null?void 0:r[i])==null?void 0:y.map(w=>w.url))||[],u=[...l,a],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:xc.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>go.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,i,o;const r=[];return n==null||n.forEach(a=>{r.push(gy(a.url,a.config))}),U_.includes(t.caipNetworkId)&&r.push(gy(UO(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{r.push(gy(a))}),UT(r)},extendWagmiTransports(t,e,n){if(U_.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return UT([n,gy(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:ee.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=we.getActiveCaipNetworkId(),n=R.getAllRequestedCaipNetworks(),r=Array.from(((c=R.state.chains)==null?void 0:c.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?r.includes(s):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},U0={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},Jr=Jt({providers:{...U0},providerIds:{...U0}}),Ft={state:Jr,subscribeKey(t,e){return ur(Jr,t,e)},subscribe(t){return lr(Jr,()=>{t(Jr)})},subscribeProviders(t){return lr(Jr.providers,()=>t(Jr.providers))},setProvider(t,e){e&&(Jr.providers[t]=hu(e))},getProvider(t){return Jr.providers[t]},setProviderId(t,e){e&&(Jr.providerIds[t]=e)},getProviderId(t){if(t)return Jr.providerIds[t]},reset(){Jr.providers={...U0},Jr.providerIds={...U0}},resetChain(t){Jr.providers[t]=void 0,Jr.providerIds[t]=void 0}},LO={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},nr={set(t,e){Is.isClient&&localStorage.setItem(`${Re.STORAGE_KEY}${t}`,e)},get(t){return Is.isClient?localStorage.getItem(`${Re.STORAGE_KEY}${t}`):null},delete(t,e){Is.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Re.STORAGE_KEY}${t}`))}},Yy=30*1e3,Is={checkIfAllowedToTriggerEmail(){const t=nr.get(Re.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Yy){const n=Math.ceil((Yy-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=nr.get(Re.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Yy)return Math.ceil((Yy-e)/1e3)}return 0},checkIfRequestExists(t){return Vn.NOT_SAFE_RPC_METHODS.includes(t.method)||Vn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(LO.transactionHash))||(t==null?void 0:t.match(LO.signedMessage)))?Re.RPC_RESPONSE_TYPE_TX:Re.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Vn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Ct;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ct||(Ct={}));var Qx;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Qx||(Qx={}));const Ie=Ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ic=t=>{switch(typeof t){case"undefined":return Ie.undefined;case"string":return Ie.string;case"number":return isNaN(t)?Ie.nan:Ie.number;case"boolean":return Ie.boolean;case"function":return Ie.function;case"bigint":return Ie.bigint;case"symbol":return Ie.symbol;case"object":return Array.isArray(t)?Ie.array:t===null?Ie.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ie.promise:typeof Map<"u"&&t instanceof Map?Ie.map:typeof Set<"u"&&t instanceof Set?Ie.set:typeof Date<"u"&&t instanceof Date?Ie.date:Ie.object;default:return Ie.unknown}},fe=Ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Vwe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ui extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ui.create=t=>new Ui(t);const Mg=(t,e)=>{let n;switch(t.code){case fe.invalid_type:t.received===Ie.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case fe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ct.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ct.joinValues(t.keys,", ")}`;break;case fe.invalid_union:n="Invalid input";break;case fe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ct.joinValues(t.options)}`;break;case fe.invalid_enum_value:n=`Invalid enum value. Expected ${Ct.joinValues(t.options)}, received '${t.received}'`;break;case fe.invalid_arguments:n="Invalid function arguments";break;case fe.invalid_return_type:n="Invalid function return type";break;case fe.invalid_date:n="Invalid date";break;case fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ct.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case fe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case fe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case fe.custom:n="Invalid input";break;case fe.invalid_intersection_types:n="Intersection results could not be merged";break;case fe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case fe.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ct.assertNever(t)}return{message:n}};let kU=Mg;function Gwe(t){kU=t}function L0(){return kU}const M0=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},Kwe=[];function Oe(t,e){const n=M0({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,L0(),Mg].filter(r=>!!r)});t.common.issues.push(n)}class Ir{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Je;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return Ir.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Je;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Je=Object.freeze({status:"aborted"}),OU=t=>({status:"dirty",value:t}),Br=t=>({status:"valid",value:t}),Jx=t=>t.status==="aborted",Zx=t=>t.status==="dirty",Bg=t=>t.status==="valid",B0=t=>typeof Promise<"u"&&t instanceof Promise;var Fe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Fe||(Fe={}));class So{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const MO=(t,e)=>{if(Bg(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ui(t.common.issues);return this._error=n,this._error}}};function nt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class it{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ic(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ic(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ir,ctx:{common:e.parent.common,data:e.data,parsedType:ic(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(B0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ic(e)},i=this._parseSync({data:e,path:s.path,parent:s});return MO(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ic(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(B0(s)?s:Promise.resolve(s));return MO(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:fe.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Fi({schema:this,typeName:Ve.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return aa.create(this,this._def)}nullable(){return _u.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Li.create(this,this._def)}promise(){return Th.create(this,this._def)}or(e){return Wg.create([this,e],this._def)}and(e){return Hg.create(this,e,this._def)}transform(e){return new Fi({...nt(this._def),schema:this,typeName:Ve.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Qg({...nt(this._def),innerType:this,defaultValue:n,typeName:Ve.ZodDefault})}brand(){return new $U({typeName:Ve.ZodBranded,type:this,...nt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new W0({...nt(this._def),innerType:this,catchValue:n,typeName:Ve.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Dm.create(this,e)}readonly(){return V0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ywe=/^c[^\s-]{8,}$/i,Qwe=/^[a-z][a-z0-9]*$/,Jwe=/^[0-9A-HJKMNP-TV-Z]{26}$/,Zwe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Xwe=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,e0e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let L_;const t0e=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,n0e=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,r0e=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function s0e(t,e){return!!((e==="v4"||!e)&&t0e.test(t)||(e==="v6"||!e)&&n0e.test(t))}class Ri extends it{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ie.string){const i=this._getOrReturnCtx(e);return Oe(i,{code:fe.invalid_type,expected:Ie.string,received:i.parsedType}),Je}const r=new Ir;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Oe(s,{code:fe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Oe(s,{code:fe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Xwe.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"email",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")L_||(L_=new RegExp(e0e,"u")),L_.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"emoji",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Zwe.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"uuid",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Ywe.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"cuid",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Qwe.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"cuid2",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Jwe.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"ulid",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Oe(s,{validation:"url",code:fe.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"regex",code:fe.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?r0e(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?s0e(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Oe(s,{validation:"ip",code:fe.invalid_string,message:i.message}),r.dirty()):Ct.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:fe.invalid_string,...Fe.errToObj(r)})}_addCheck(e){return new Ri({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Fe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Fe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Fe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Fe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Fe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Fe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Fe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Fe.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Fe.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Fe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Fe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Fe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Fe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Fe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Fe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Fe.errToObj(n)})}nonempty(e){return this.min(1,Fe.errToObj(e))}trim(){return new Ri({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ri({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ri({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ri.create=t=>{var e;return new Ri({checks:[],typeName:Ve.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...nt(t)})};function i0e(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Zc extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ie.number){const i=this._getOrReturnCtx(e);return Oe(i,{code:fe.invalid_type,expected:Ie.number,received:i.parsedType}),Je}let r;const s=new Ir;for(const i of this._def.checks)i.kind==="int"?Ct.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?i0e(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.not_finite,message:i.message}),s.dirty()):Ct.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Fe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Fe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Fe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Fe.toString(n))}setLimit(e,n,r,s){return new Zc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Fe.toString(s)}]})}_addCheck(e){return new Zc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Fe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Fe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Fe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Fe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Fe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Fe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ct.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Zc.create=t=>new Zc({checks:[],typeName:Ve.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...nt(t)});class Xc extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ie.bigint){const i=this._getOrReturnCtx(e);return Oe(i,{code:fe.invalid_type,expected:Ie.bigint,received:i.parsedType}),Je}let r;const s=new Ir;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:fe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ct.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Fe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Fe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Fe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Fe.toString(n))}setLimit(e,n,r,s){return new Xc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Fe.toString(s)}]})}_addCheck(e){return new Xc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Fe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Fe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Xc.create=t=>{var e;return new Xc({checks:[],typeName:Ve.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...nt(t)})};class Fg extends it{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ie.boolean){const r=this._getOrReturnCtx(e);return Oe(r,{code:fe.invalid_type,expected:Ie.boolean,received:r.parsedType}),Je}return Br(e.data)}}Fg.create=t=>new Fg({typeName:Ve.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...nt(t)});class vu extends it{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ie.date){const i=this._getOrReturnCtx(e);return Oe(i,{code:fe.invalid_type,expected:Ie.date,received:i.parsedType}),Je}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Oe(i,{code:fe.invalid_date}),Je}const r=new Ir;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Oe(s,{code:fe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ct.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new vu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Fe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Fe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}vu.create=t=>new vu({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ve.ZodDate,...nt(t)});class F0 extends it{_parse(e){if(this._getType(e)!==Ie.symbol){const r=this._getOrReturnCtx(e);return Oe(r,{code:fe.invalid_type,expected:Ie.symbol,received:r.parsedType}),Je}return Br(e.data)}}F0.create=t=>new F0({typeName:Ve.ZodSymbol,...nt(t)});class zg extends it{_parse(e){if(this._getType(e)!==Ie.undefined){const r=this._getOrReturnCtx(e);return Oe(r,{code:fe.invalid_type,expected:Ie.undefined,received:r.parsedType}),Je}return Br(e.data)}}zg.create=t=>new zg({typeName:Ve.ZodUndefined,...nt(t)});class qg extends it{_parse(e){if(this._getType(e)!==Ie.null){const r=this._getOrReturnCtx(e);return Oe(r,{code:fe.invalid_type,expected:Ie.null,received:r.parsedType}),Je}return Br(e.data)}}qg.create=t=>new qg({typeName:Ve.ZodNull,...nt(t)});class Ih extends it{constructor(){super(...arguments),this._any=!0}_parse(e){return Br(e.data)}}Ih.create=t=>new Ih({typeName:Ve.ZodAny,...nt(t)});class Ql extends it{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Br(e.data)}}Ql.create=t=>new Ql({typeName:Ve.ZodUnknown,...nt(t)});class wa extends it{_parse(e){const n=this._getOrReturnCtx(e);return Oe(n,{code:fe.invalid_type,expected:Ie.never,received:n.parsedType}),Je}}wa.create=t=>new wa({typeName:Ve.ZodNever,...nt(t)});class z0 extends it{_parse(e){if(this._getType(e)!==Ie.undefined){const r=this._getOrReturnCtx(e);return Oe(r,{code:fe.invalid_type,expected:Ie.void,received:r.parsedType}),Je}return Br(e.data)}}z0.create=t=>new z0({typeName:Ve.ZodVoid,...nt(t)});class Li extends it{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Ie.array)return Oe(n,{code:fe.invalid_type,expected:Ie.array,received:n.parsedType}),Je;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Oe(n,{code:o?fe.too_big:fe.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Oe(n,{code:fe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Oe(n,{code:fe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new So(n,o,n.path,a)))).then(o=>Ir.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new So(n,o,n.path,a)));return Ir.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Li({...this._def,minLength:{value:e,message:Fe.toString(n)}})}max(e,n){return new Li({...this._def,maxLength:{value:e,message:Fe.toString(n)}})}length(e,n){return new Li({...this._def,exactLength:{value:e,message:Fe.toString(n)}})}nonempty(e){return this.min(1,e)}}Li.create=(t,e)=>new Li({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ve.ZodArray,...nt(e)});function bd(t){if(t instanceof an){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=aa.create(bd(r))}return new an({...t._def,shape:()=>e})}else return t instanceof Li?new Li({...t._def,type:bd(t.element)}):t instanceof aa?aa.create(bd(t.unwrap())):t instanceof _u?_u.create(bd(t.unwrap())):t instanceof Ao?Ao.create(t.items.map(e=>bd(e))):t}class an extends it{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ct.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Ie.object){const l=this._getOrReturnCtx(e);return Oe(l,{code:fe.invalid_type,expected:Ie.object,received:l.parsedType}),Je}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof wa&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new So(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof wa){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(Oe(s,{code:fe.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new So(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>Ir.mergeObjectSync(r,l)):Ir.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Fe.errToObj,new an({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Fe.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new an({...this._def,unknownKeys:"strip"})}passthrough(){return new an({...this._def,unknownKeys:"passthrough"})}extend(e){return new an({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new an({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ve.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new an({...this._def,catchall:e})}pick(e){const n={};return Ct.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new an({...this._def,shape:()=>n})}omit(e){const n={};return Ct.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new an({...this._def,shape:()=>n})}deepPartial(){return bd(this)}partial(e){const n={};return Ct.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new an({...this._def,shape:()=>n})}required(e){const n={};return Ct.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof aa;)i=i._def.innerType;n[r]=i}}),new an({...this._def,shape:()=>n})}keyof(){return RU(Ct.objectKeys(this.shape))}}an.create=(t,e)=>new an({shape:()=>t,unknownKeys:"strip",catchall:wa.create(),typeName:Ve.ZodObject,...nt(e)});an.strictCreate=(t,e)=>new an({shape:()=>t,unknownKeys:"strict",catchall:wa.create(),typeName:Ve.ZodObject,...nt(e)});an.lazycreate=(t,e)=>new an({shape:t,unknownKeys:"strip",catchall:wa.create(),typeName:Ve.ZodObject,...nt(e)});class Wg extends it{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Ui(a.ctx.common.issues));return Oe(n,{code:fe.invalid_union,unionErrors:o}),Je}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new Ui(c));return Oe(n,{code:fe.invalid_union,unionErrors:a}),Je}}get options(){return this._def.options}}Wg.create=(t,e)=>new Wg({options:t,typeName:Ve.ZodUnion,...nt(e)});const Rw=t=>t instanceof Gg?Rw(t.schema):t instanceof Fi?Rw(t.innerType()):t instanceof Kg?[t.value]:t instanceof el?t.options:t instanceof Yg?Object.keys(t.enum):t instanceof Qg?Rw(t._def.innerType):t instanceof zg?[void 0]:t instanceof qg?[null]:null;class lb extends it{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.object)return Oe(n,{code:fe.invalid_type,expected:Ie.object,received:n.parsedType}),Je;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Oe(n,{code:fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Je)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Rw(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new lb({typeName:Ve.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...nt(r)})}}function Xx(t,e){const n=ic(t),r=ic(e);if(t===e)return{valid:!0,data:t};if(n===Ie.object&&r===Ie.object){const s=Ct.objectKeys(e),i=Ct.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=Xx(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===Ie.array&&r===Ie.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=Xx(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Ie.date&&r===Ie.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Hg extends it{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Jx(i)||Jx(o))return Je;const a=Xx(i.value,o.value);return a.valid?((Zx(i)||Zx(o))&&n.dirty(),{status:n.value,value:a.data}):(Oe(r,{code:fe.invalid_intersection_types}),Je)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Hg.create=(t,e,n)=>new Hg({left:t,right:e,typeName:Ve.ZodIntersection,...nt(n)});class Ao extends it{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.array)return Oe(r,{code:fe.invalid_type,expected:Ie.array,received:r.parsedType}),Je;if(r.data.length<this._def.items.length)return Oe(r,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Je;!this._def.rest&&r.data.length>this._def.items.length&&(Oe(r,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new So(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Ir.mergeArray(n,o)):Ir.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Ao({...this._def,rest:e})}}Ao.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ao({items:t,typeName:Ve.ZodTuple,rest:null,...nt(e)})};class Vg extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.object)return Oe(r,{code:fe.invalid_type,expected:Ie.object,received:r.parsedType}),Je;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new So(r,a,r.path,a)),value:o._parse(new So(r,r.data[a],r.path,a))});return r.common.async?Ir.mergeObjectAsync(n,s):Ir.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof it?new Vg({keyType:e,valueType:n,typeName:Ve.ZodRecord,...nt(r)}):new Vg({keyType:Ri.create(),valueType:e,typeName:Ve.ZodRecord,...nt(n)})}}class q0 extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.map)return Oe(r,{code:fe.invalid_type,expected:Ie.map,received:r.parsedType}),Je;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new So(r,a,r.path,[l,"key"])),value:i._parse(new So(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Je;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Je;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}q0.create=(t,e,n)=>new q0({valueType:e,keyType:t,typeName:Ve.ZodMap,...nt(n)});class bu extends it{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.set)return Oe(r,{code:fe.invalid_type,expected:Ie.set,received:r.parsedType}),Je;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Oe(r,{code:fe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Oe(r,{code:fe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Je;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new So(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new bu({...this._def,minSize:{value:e,message:Fe.toString(n)}})}max(e,n){return new bu({...this._def,maxSize:{value:e,message:Fe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}bu.create=(t,e)=>new bu({valueType:t,minSize:null,maxSize:null,typeName:Ve.ZodSet,...nt(e)});class Yd extends it{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.function)return Oe(n,{code:fe.invalid_type,expected:Ie.function,received:n.parsedType}),Je;function r(a,c){return M0({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,L0(),Mg].filter(l=>!!l),issueData:{code:fe.invalid_arguments,argumentsError:c}})}function s(a,c){return M0({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,L0(),Mg].filter(l=>!!l),issueData:{code:fe.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Th){const a=this;return Br(async function(...c){const l=new Ui([]),u=await a._def.args.parseAsync(c,i).catch(f=>{throw l.addIssue(r(c,f)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(f=>{throw l.addIssue(s(d,f)),l})})}else{const a=this;return Br(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new Ui([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new Ui([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Yd({...this._def,args:Ao.create(e).rest(Ql.create())})}returns(e){return new Yd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Yd({args:e||Ao.create([]).rest(Ql.create()),returns:n||Ql.create(),typeName:Ve.ZodFunction,...nt(r)})}}class Gg extends it{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Gg.create=(t,e)=>new Gg({getter:t,typeName:Ve.ZodLazy,...nt(e)});class Kg extends it{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Oe(n,{received:n.data,code:fe.invalid_literal,expected:this._def.value}),Je}return{status:"valid",value:e.data}}get value(){return this._def.value}}Kg.create=(t,e)=>new Kg({value:t,typeName:Ve.ZodLiteral,...nt(e)});function RU(t,e){return new el({values:t,typeName:Ve.ZodEnum,...nt(e)})}class el extends it{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Oe(n,{expected:Ct.joinValues(r),received:n.parsedType,code:fe.invalid_type}),Je}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Oe(n,{received:n.data,code:fe.invalid_enum_value,options:r}),Je}return Br(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return el.create(e)}exclude(e){return el.create(this.options.filter(n=>!e.includes(n)))}}el.create=RU;class Yg extends it{_parse(e){const n=Ct.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ie.string&&r.parsedType!==Ie.number){const s=Ct.objectValues(n);return Oe(r,{expected:Ct.joinValues(s),received:r.parsedType,code:fe.invalid_type}),Je}if(n.indexOf(e.data)===-1){const s=Ct.objectValues(n);return Oe(r,{received:r.data,code:fe.invalid_enum_value,options:s}),Je}return Br(e.data)}get enum(){return this._def.values}}Yg.create=(t,e)=>new Yg({values:t,typeName:Ve.ZodNativeEnum,...nt(e)});class Th extends it{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.promise&&n.common.async===!1)return Oe(n,{code:fe.invalid_type,expected:Ie.promise,received:n.parsedType}),Je;const r=n.parsedType===Ie.promise?n.data:Promise.resolve(n.data);return Br(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Th.create=(t,e)=>new Th({type:t,typeName:Ve.ZodPromise,...nt(e)});class Fi extends it{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Oe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Je:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Je:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Bg(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Bg(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Ct.assertNever(s)}}Fi.create=(t,e,n)=>new Fi({schema:t,typeName:Ve.ZodEffects,effect:e,...nt(n)});Fi.createWithPreprocess=(t,e,n)=>new Fi({schema:e,effect:{type:"preprocess",transform:t},typeName:Ve.ZodEffects,...nt(n)});class aa extends it{_parse(e){return this._getType(e)===Ie.undefined?Br(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}aa.create=(t,e)=>new aa({innerType:t,typeName:Ve.ZodOptional,...nt(e)});class _u extends it{_parse(e){return this._getType(e)===Ie.null?Br(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_u.create=(t,e)=>new _u({innerType:t,typeName:Ve.ZodNullable,...nt(e)});class Qg extends it{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ie.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Qg.create=(t,e)=>new Qg({innerType:t,typeName:Ve.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...nt(e)});class W0 extends it{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return B0(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ui(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ui(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}W0.create=(t,e)=>new W0({innerType:t,typeName:Ve.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...nt(e)});class H0 extends it{_parse(e){if(this._getType(e)!==Ie.nan){const r=this._getOrReturnCtx(e);return Oe(r,{code:fe.invalid_type,expected:Ie.nan,received:r.parsedType}),Je}return{status:"valid",value:e.data}}}H0.create=t=>new H0({typeName:Ve.ZodNaN,...nt(t)});const o0e=Symbol("zod_brand");class $U extends it{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Dm extends it{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Je:i.status==="dirty"?(n.dirty(),OU(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Je:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Dm({in:e,out:n,typeName:Ve.ZodPipeline})}}class V0 extends it{_parse(e){const n=this._def.innerType._parse(e);return Bg(n)&&(n.value=Object.freeze(n.value)),n}}V0.create=(t,e)=>new V0({innerType:t,typeName:Ve.ZodReadonly,...nt(e)});const DU=(t,e={},n)=>t?Ih.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):Ih.create(),a0e={object:an.lazycreate};var Ve;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ve||(Ve={}));const c0e=(t,e={message:`Input not instance of ${t.name}`})=>DU(n=>n instanceof t,e),jU=Ri.create,UU=Zc.create,l0e=H0.create,u0e=Xc.create,LU=Fg.create,d0e=vu.create,h0e=F0.create,f0e=zg.create,p0e=qg.create,g0e=Ih.create,m0e=Ql.create,y0e=wa.create,w0e=z0.create,v0e=Li.create,b0e=an.create,_0e=an.strictCreate,E0e=Wg.create,C0e=lb.create,x0e=Hg.create,S0e=Ao.create,A0e=Vg.create,I0e=q0.create,T0e=bu.create,N0e=Yd.create,P0e=Gg.create,k0e=Kg.create,O0e=el.create,R0e=Yg.create,$0e=Th.create,BO=Fi.create,D0e=aa.create,j0e=_u.create,U0e=Fi.createWithPreprocess,L0e=Dm.create,M0e=()=>jU().optional(),B0e=()=>UU().optional(),F0e=()=>LU().optional(),z0e={string:t=>Ri.create({...t,coerce:!0}),number:t=>Zc.create({...t,coerce:!0}),boolean:t=>Fg.create({...t,coerce:!0}),bigint:t=>Xc.create({...t,coerce:!0}),date:t=>vu.create({...t,coerce:!0})},q0e=Je;var I=Object.freeze({__proto__:null,defaultErrorMap:Mg,setErrorMap:Gwe,getErrorMap:L0,makeIssue:M0,EMPTY_PATH:Kwe,addIssueToContext:Oe,ParseStatus:Ir,INVALID:Je,DIRTY:OU,OK:Br,isAborted:Jx,isDirty:Zx,isValid:Bg,isAsync:B0,get util(){return Ct},get objectUtil(){return Qx},ZodParsedType:Ie,getParsedType:ic,ZodType:it,ZodString:Ri,ZodNumber:Zc,ZodBigInt:Xc,ZodBoolean:Fg,ZodDate:vu,ZodSymbol:F0,ZodUndefined:zg,ZodNull:qg,ZodAny:Ih,ZodUnknown:Ql,ZodNever:wa,ZodVoid:z0,ZodArray:Li,ZodObject:an,ZodUnion:Wg,ZodDiscriminatedUnion:lb,ZodIntersection:Hg,ZodTuple:Ao,ZodRecord:Vg,ZodMap:q0,ZodSet:bu,ZodFunction:Yd,ZodLazy:Gg,ZodLiteral:Kg,ZodEnum:el,ZodNativeEnum:Yg,ZodPromise:Th,ZodEffects:Fi,ZodTransformer:Fi,ZodOptional:aa,ZodNullable:_u,ZodDefault:Qg,ZodCatch:W0,ZodNaN:H0,BRAND:o0e,ZodBranded:$U,ZodPipeline:Dm,ZodReadonly:V0,custom:DU,Schema:it,ZodSchema:it,late:a0e,get ZodFirstPartyTypeKind(){return Ve},coerce:z0e,any:g0e,array:v0e,bigint:u0e,boolean:LU,date:d0e,discriminatedUnion:C0e,effect:BO,enum:O0e,function:N0e,instanceof:c0e,intersection:x0e,lazy:P0e,literal:k0e,map:I0e,nan:l0e,nativeEnum:R0e,never:y0e,null:p0e,nullable:j0e,number:UU,object:b0e,oboolean:F0e,onumber:B0e,optional:D0e,ostring:M0e,pipeline:L0e,preprocess:U0e,promise:$0e,record:A0e,set:T0e,strictObject:_0e,string:jU,symbol:h0e,transformer:BO,tuple:S0e,undefined:f0e,union:E0e,unknown:m0e,void:w0e,NEVER:q0e,ZodIssueCode:fe,quotelessJson:Vwe,ZodError:Ui});const hn=I.object({message:I.string()});function Ne(t){return I.literal(Re[t])}I.object({accessList:I.array(I.string()),blockHash:I.string().nullable(),blockNumber:I.string().nullable(),chainId:I.string().or(I.number()),from:I.string(),gas:I.string(),hash:I.string(),input:I.string().nullable(),maxFeePerGas:I.string(),maxPriorityFeePerGas:I.string(),nonce:I.string(),r:I.string(),s:I.string(),to:I.string(),transactionIndex:I.string().nullable(),type:I.string(),v:I.string(),value:I.string()});const W0e=I.object({chainId:I.string().or(I.number())}),H0e=I.object({email:I.string().email()}),V0e=I.object({otp:I.string()}),G0e=I.object({uri:I.string(),preferredAccountType:I.optional(I.string()),chainId:I.optional(I.string().or(I.number()))}),K0e=I.object({chainId:I.optional(I.string().or(I.number())),preferredAccountType:I.optional(I.string()),socialUri:I.optional(I.string())}),Y0e=I.object({provider:I.enum(["google","github","apple","facebook","x","discord"])}),Q0e=I.object({email:I.string().email()}),J0e=I.object({otp:I.string()}),Z0e=I.object({otp:I.string()}),X0e=I.object({themeMode:I.optional(I.enum(["light","dark"])),themeVariables:I.optional(I.record(I.string(),I.string().or(I.number()))),w3mThemeVariables:I.optional(I.record(I.string(),I.string()))}),eve=I.object({metadata:I.object({name:I.string(),description:I.string(),url:I.string(),icons:I.array(I.string())}).optional(),sdkVersion:I.string().optional(),sdkType:I.string().optional(),projectId:I.string()}),tve=I.object({type:I.string()}),nve=I.object({action:I.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),rve=I.object({url:I.string()}),sve=I.object({userName:I.string()}),ive=I.object({email:I.string().optional().nullable(),address:I.string(),chainId:I.string().or(I.number()),accounts:I.array(I.object({address:I.string(),type:I.enum([Vn.ACCOUNT_TYPES.EOA,Vn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:I.string().optional().nullable(),preferredAccountType:I.optional(I.string())}),ove=I.object({action:I.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),ave=I.object({email:I.string().email().optional().nullable(),address:I.string(),chainId:I.string().or(I.number()),smartAccountDeployed:I.optional(I.boolean()),accounts:I.array(I.object({address:I.string(),type:I.enum([Vn.ACCOUNT_TYPES.EOA,Vn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:I.optional(I.string())}),cve=I.object({uri:I.string()}),lve=I.object({isConnected:I.boolean()}),uve=I.object({chainId:I.string().or(I.number())}),dve=I.object({chainId:I.string().or(I.number())}),hve=I.object({newEmail:I.string().email()}),fve=I.object({smartAccountEnabledNetworks:I.array(I.number())});I.object({address:I.string(),isDeployed:I.boolean()});const pve=I.object({version:I.string().optional()}),gve=I.object({type:I.string(),address:I.string()}),mve=I.any(),yve=I.object({method:I.literal("eth_accounts")}),wve=I.object({method:I.literal("eth_blockNumber")}),vve=I.object({method:I.literal("eth_call"),params:I.array(I.any())}),bve=I.object({method:I.literal("eth_chainId")}),_ve=I.object({method:I.literal("eth_estimateGas"),params:I.array(I.any())}),Eve=I.object({method:I.literal("eth_feeHistory"),params:I.array(I.any())}),Cve=I.object({method:I.literal("eth_gasPrice")}),xve=I.object({method:I.literal("eth_getAccount"),params:I.array(I.any())}),Sve=I.object({method:I.literal("eth_getBalance"),params:I.array(I.any())}),Ave=I.object({method:I.literal("eth_getBlockByHash"),params:I.array(I.any())}),Ive=I.object({method:I.literal("eth_getBlockByNumber"),params:I.array(I.any())}),Tve=I.object({method:I.literal("eth_getBlockReceipts"),params:I.array(I.any())}),Nve=I.object({method:I.literal("eth_getBlockTransactionCountByHash"),params:I.array(I.any())}),Pve=I.object({method:I.literal("eth_getBlockTransactionCountByNumber"),params:I.array(I.any())}),kve=I.object({method:I.literal("eth_getCode"),params:I.array(I.any())}),Ove=I.object({method:I.literal("eth_getFilterChanges"),params:I.array(I.any())}),Rve=I.object({method:I.literal("eth_getFilterLogs"),params:I.array(I.any())}),$ve=I.object({method:I.literal("eth_getLogs"),params:I.array(I.any())}),Dve=I.object({method:I.literal("eth_getProof"),params:I.array(I.any())}),jve=I.object({method:I.literal("eth_getStorageAt"),params:I.array(I.any())}),Uve=I.object({method:I.literal("eth_getTransactionByBlockHashAndIndex"),params:I.array(I.any())}),Lve=I.object({method:I.literal("eth_getTransactionByBlockNumberAndIndex"),params:I.array(I.any())}),Mve=I.object({method:I.literal("eth_getTransactionByHash"),params:I.array(I.any())}),Bve=I.object({method:I.literal("eth_getTransactionCount"),params:I.array(I.any())}),Fve=I.object({method:I.literal("eth_getTransactionReceipt"),params:I.array(I.any())}),zve=I.object({method:I.literal("eth_getUncleCountByBlockHash"),params:I.array(I.any())}),qve=I.object({method:I.literal("eth_getUncleCountByBlockNumber"),params:I.array(I.any())}),Wve=I.object({method:I.literal("eth_maxPriorityFeePerGas")}),Hve=I.object({method:I.literal("eth_newBlockFilter")}),Vve=I.object({method:I.literal("eth_newFilter"),params:I.array(I.any())}),Gve=I.object({method:I.literal("eth_newPendingTransactionFilter")}),Kve=I.object({method:I.literal("eth_sendRawTransaction"),params:I.array(I.any())}),Yve=I.object({method:I.literal("eth_syncing"),params:I.array(I.any())}),Qve=I.object({method:I.literal("eth_uninstallFilter"),params:I.array(I.any())}),FO=I.object({method:I.literal("personal_sign"),params:I.array(I.any())}),Jve=I.object({method:I.literal("eth_signTypedData_v4"),params:I.array(I.any())}),Zve=I.object({method:I.literal("eth_sendTransaction"),params:I.array(I.any())}),Xve=I.object({method:I.literal("solana_signMessage"),params:I.object({message:I.string(),pubkey:I.string()})}),ebe=I.object({method:I.literal("solana_signTransaction"),params:I.object({transaction:I.string()})}),tbe=I.object({method:I.literal("solana_signAllTransactions"),params:I.object({transactions:I.array(I.string())})}),nbe=I.object({method:I.literal("solana_signAndSendTransaction"),params:I.object({transaction:I.string(),options:I.object({skipPreflight:I.boolean().optional(),preflightCommitment:I.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:I.number().optional(),minContextSlot:I.number().optional()}).optional()})}),rbe=I.object({method:I.literal("wallet_sendCalls"),params:I.array(I.object({chainId:I.string().or(I.number()).optional(),from:I.string().optional(),version:I.string().optional(),capabilities:I.any().optional(),calls:I.array(I.object({to:I.string().startsWith("0x"),data:I.string().startsWith("0x").optional(),value:I.string().optional()}))}))}),sbe=I.object({method:I.literal("wallet_getCallsStatus"),params:I.array(I.string())}),ibe=I.object({method:I.literal("wallet_getCapabilities")}),obe=I.object({method:I.literal("wallet_grantPermissions"),params:I.array(I.any())}),abe=I.object({method:I.literal("wallet_revokePermissions"),params:I.any()}),cbe=I.object({method:I.literal("wallet_getAssets"),params:I.any()}),zO=I.object({token:I.string()}),Pe=I.object({id:I.string().optional()}),Lf={appEvent:Pe.extend({type:Ne("APP_SWITCH_NETWORK"),payload:W0e}).or(Pe.extend({type:Ne("APP_CONNECT_EMAIL"),payload:H0e})).or(Pe.extend({type:Ne("APP_CONNECT_DEVICE")})).or(Pe.extend({type:Ne("APP_CONNECT_OTP"),payload:V0e})).or(Pe.extend({type:Ne("APP_CONNECT_SOCIAL"),payload:G0e})).or(Pe.extend({type:Ne("APP_GET_FARCASTER_URI")})).or(Pe.extend({type:Ne("APP_CONNECT_FARCASTER")})).or(Pe.extend({type:Ne("APP_GET_USER"),payload:I.optional(K0e)})).or(Pe.extend({type:Ne("APP_GET_SOCIAL_REDIRECT_URI"),payload:Y0e})).or(Pe.extend({type:Ne("APP_SIGN_OUT")})).or(Pe.extend({type:Ne("APP_IS_CONNECTED"),payload:I.optional(zO)})).or(Pe.extend({type:Ne("APP_GET_CHAIN_ID")})).or(Pe.extend({type:Ne("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Pe.extend({type:Ne("APP_INIT_SMART_ACCOUNT")})).or(Pe.extend({type:Ne("APP_SET_PREFERRED_ACCOUNT"),payload:tve})).or(Pe.extend({type:Ne("APP_RPC_REQUEST"),payload:FO.or(cbe).or(yve).or(wve).or(vve).or(bve).or(_ve).or(Eve).or(Cve).or(xve).or(Sve).or(Ave).or(Ive).or(Tve).or(Nve).or(Pve).or(kve).or(Ove).or(Rve).or($ve).or(Dve).or(jve).or(Uve).or(Lve).or(Mve).or(Bve).or(Fve).or(zve).or(qve).or(Wve).or(Hve).or(Vve).or(Gve).or(Kve).or(Yve).or(Qve).or(FO).or(Jve).or(Zve).or(Xve).or(ebe).or(tbe).or(nbe).or(sbe).or(rbe).or(ibe).or(obe).or(abe)})).or(Pe.extend({type:Ne("APP_UPDATE_EMAIL"),payload:Q0e})).or(Pe.extend({type:Ne("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:J0e})).or(Pe.extend({type:Ne("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Z0e})).or(Pe.extend({type:Ne("APP_SYNC_THEME"),payload:X0e})).or(Pe.extend({type:Ne("APP_SYNC_DAPP_DATA"),payload:eve})).or(Pe.extend({type:Ne("APP_RELOAD")})),frameEvent:Pe.extend({type:Ne("FRAME_SWITCH_NETWORK_ERROR"),payload:hn}).or(Pe.extend({type:Ne("FRAME_SWITCH_NETWORK_SUCCESS"),payload:dve})).or(Pe.extend({type:Ne("FRAME_CONNECT_EMAIL_SUCCESS"),payload:nve})).or(Pe.extend({type:Ne("FRAME_CONNECT_EMAIL_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:rve})).or(Pe.extend({type:Ne("FRAME_GET_FARCASTER_URI_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:sve})).or(Pe.extend({type:Ne("FRAME_CONNECT_FARCASTER_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_CONNECT_OTP_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_CONNECT_OTP_SUCCESS")})).or(Pe.extend({type:Ne("FRAME_CONNECT_DEVICE_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Pe.extend({type:Ne("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:ive})).or(Pe.extend({type:Ne("FRAME_CONNECT_SOCIAL_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_GET_USER_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_GET_USER_SUCCESS"),payload:ave})).or(Pe.extend({type:Ne("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:cve})).or(Pe.extend({type:Ne("FRAME_SIGN_OUT_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_SIGN_OUT_SUCCESS")})).or(Pe.extend({type:Ne("FRAME_IS_CONNECTED_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_IS_CONNECTED_SUCCESS"),payload:lve})).or(Pe.extend({type:Ne("FRAME_GET_CHAIN_ID_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_GET_CHAIN_ID_SUCCESS"),payload:uve})).or(Pe.extend({type:Ne("FRAME_RPC_REQUEST_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_RPC_REQUEST_SUCCESS"),payload:mve})).or(Pe.extend({type:Ne("FRAME_SESSION_UPDATE"),payload:zO})).or(Pe.extend({type:Ne("FRAME_UPDATE_EMAIL_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_UPDATE_EMAIL_SUCCESS"),payload:ove})).or(Pe.extend({type:Ne("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Pe.extend({type:Ne("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:hve})).or(Pe.extend({type:Ne("FRAME_SYNC_THEME_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_SYNC_THEME_SUCCESS")})).or(Pe.extend({type:Ne("FRAME_SYNC_DAPP_DATA_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Pe.extend({type:Ne("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:fve})).or(Pe.extend({type:Ne("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:gve})).or(Pe.extend({type:Ne("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_READY"),payload:pve})).or(Pe.extend({type:Ne("FRAME_RELOAD_ERROR"),payload:hn})).or(Pe.extend({type:Ne("FRAME_RELOAD_SUCCESS")}))};function M_(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class lbe{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=ee.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const i=document.getElementById("w3m-iframe");this.iframe&&!i&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(i,o,a)=>{function c({data:l}){if(!M_(Re.FRAME_EVENT_KEY,l))return;const u=Lf.frameEvent.parse(l);u.id===i&&(o(u),window.removeEventListener("message",c))}Is.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:i=>{Is.isClient&&window.addEventListener("message",({data:o})=>{if(!M_(Re.FRAME_EVENT_KEY,o))return;const a=Lf.frameEvent.parse(o);i(a)})},onAppEvent:i=>{Is.isClient&&window.addEventListener("message",({data:o})=>{if(!M_(Re.APP_EVENT_KEY,o))return;const a=Lf.appEvent.parse(o);i(a)})},postAppEvent:i=>{var o;if(Is.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");Lf.appEvent.parse(i),this.iframe.contentWindow.postMessage(i,"*")}},postFrameEvent:i=>{if(Is.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");Lf.frameEvent.parse(i),parent.postMessage(i,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),n&&(this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),Is.isClient)){const i=document.createElement("iframe");i.id="w3m-iframe",i.src=`${LX}?projectId=${e}&chainId=${r}&version=${BX}&enableLogger=${s}`,i.name="w3m-secure-iframe",i.style.position="fixed",i.style.zIndex="999999",i.style.display="none",i.style.border="none",i.style.animationDelay="0s, 50ms",i.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",i.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=i,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class ube{constructor(e){var i;const n=qh({level:MX}),{logger:r,chunkLoggerController:s}=s2({opts:n});this.logger=Tr(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class dbe{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new ube(e)),this.abortController=i,this.w3mFrame=new lbe({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===Re.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!nr.get(Re.EMAIL_LOGIN_USED_KEY)}getEmail(){return nr.get(Re.EMAIL)}getUsername(){return nr.get(Re.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:Re.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{Is.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:Re.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:Re.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:Re.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:Re.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:Re.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:Re.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:Re.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:Re.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:Re.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:Re.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:Re.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:Re.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:Re.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n,r;if(e!=null&&e.socialUri)try{await this.init();const s=await this.appEvent({type:Re.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId}});return s.userName&&this.setSocialLoginSuccess(s.userName),this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var n;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:Re.APP_GET_USER,payload:{...e,chainId:r}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{await this.init();const r=await this.appEvent({type:Re.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:Re.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:Re.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:Re.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const s=setTimeout(()=>{r()},3e3);await this.appEvent({type:Re.APP_SIGN_OUT}),clearTimeout(s),r()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,s,i;try{if(Vn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:Re.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,o,e),o}catch(o){throw(s=this.rpcErrorHandler)==null||s.call(this,o,e),(i=this.w3mLogger)==null||i.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Re.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Re.FRAME_IS_CONNECTED_ERROR&&e(),n.type===Re.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Re.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Re.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Re.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===Re.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Vn.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Re.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===Re.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{Vn.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(c){return c.replace("@w3m-app/","")}const i=[Re.APP_SYNC_DAPP_DATA,Re.APP_SYNC_THEME,Re.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(r=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[Re.APP_CONNECT_EMAIL,Re.APP_CONNECT_DEVICE,Re.APP_CONNECT_OTP,Re.APP_CONNECT_SOCIAL,Re.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(n=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{var f,p,m;const u=Math.random().toString(36).substring(7);(m=(f=this.w3mLogger)==null?void 0:(p=f.logger).info)==null||m.call(p,{event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const d=new AbortController;if(o==="RPC_REQUEST"){const y=e;this.openRpcRequests=[...this.openRpcRequests,{...y.payload,abortController:d}]}d.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});function h(y,w){var v,b,E;y.id===u&&((b=w==null?void 0:(v=w.logger).info)==null||b.call(v,{framEvent:y,id:u},"Received frame response"),y.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in y&&c(y.payload),c(void 0)):y.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in y&&l(new Error(((E=y.payload)==null?void 0:E.message)||"An error occurred")),l(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(u,y=>h(y,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){nr.set(Re.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){nr.set(Re.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&nr.set(Re.EMAIL,e),nr.set(Re.EMAIL_LOGIN_USED_KEY,"true"),nr.delete(Re.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){nr.delete(Re.EMAIL_LOGIN_USED_KEY),nr.delete(Re.EMAIL),nr.delete(Re.LAST_USED_CHAIN_KEY),nr.delete(Re.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&nr.set(Re.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=nr.get(Re.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){nr.set(Re.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class Jl{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i}){return Jl.instance||(Jl.instance=new dbe({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i})),Jl.instance}}var qO={};const hbe={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof qO<"u"?qO.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},eS={filterOutDuplicatesByRDNS(t){const e=le.state.enableEIP6963?be.state.connectors:[],n=we.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&De.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!i.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=be.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=we.getRecentWallets(),r=e.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=be.state,{featuredWalletIds:n}=le.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=le.state.features)==null?void 0:c.connectMethodsOrder),r=e||be.state.connectors;if(n)return n;const{injected:s,announced:i}=$w.getConnectorsByType(r,Me.state.recommended,Me.state.featured),o=s.filter($w.showConnector),a=i.filter($w.showConnector);return o.length||a.length?["wallet","email","social"]:hbe.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Me.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Me.state.excludedWallets.some(r=>Lg.isLowerCaseMatch(r.name,t.name));return e||n}},$w={getConnectorsByType(t,e,n){const{customWallets:r}=le.state,s=we.getRecentWallets(),i=eS.filterOutDuplicateWallets(e),o=eS.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&Me.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&Me.state.excludedWallets.some(i=>Lg.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!De.isMobile()||De.isMobile()&&!e&&!ke.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(R.state.chains.values()).some(n=>be.getConnectorId(n.namespace)===ee.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=le.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=$w.getIsConnectedWithWC(),f=[{type:"walletConnect",isEnabled:le.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(w=>w.isEnabled),p=new Set(f.map(w=>w.type)),m=c.filter(w=>p.has(w)).map(w=>({type:w,isEnabled:!0})),y=f.filter(({type:w})=>!m.some(({type:b})=>b===w));return Array.from(new Set([...m,...y].map(({type:w})=>w)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,n;try{if(t.name==="Browser Wallet"&&!De.isMobile())return{accounts:[],chainId:void 0};if(t.id===ee.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[r,s]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(n=t.provider)==null?void 0:n.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:r,chainId:s}}catch(r){return console.warn(`Failed to fetch provider data for ${t.name}`,r),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Dw=globalThis,L2=Dw.ShadowRoot&&(Dw.ShadyCSS===void 0||Dw.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,M2=Symbol(),WO=new WeakMap;let MU=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==M2)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(L2&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=WO.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&WO.set(n,e))}return e}toString(){return this.cssText}};const Hs=t=>new MU(typeof t=="string"?t:t+"",void 0,M2),Qd=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new MU(n,t,M2)},fbe=(t,e)=>{if(L2)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=Dw.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},HO=L2?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Hs(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:pbe,defineProperty:gbe,getOwnPropertyDescriptor:mbe,getOwnPropertyNames:ybe,getOwnPropertySymbols:wbe,getPrototypeOf:vbe}=Object,Fc=globalThis,VO=Fc.trustedTypes,bbe=VO?VO.emptyScript:"",B_=Fc.reactiveElementPolyfillSupport,Np=(t,e)=>t,tS={toAttribute(t,e){switch(e){case Boolean:t=t?bbe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},BU=(t,e)=>!pbe(t,e),GO={attribute:!0,type:String,converter:tS,reflect:!1,useDefault:!1,hasChanged:BU};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Fc.litPropertyMetadata??(Fc.litPropertyMetadata=new WeakMap);let _d=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=GO){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&gbe(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:i}=mbe(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const a=s==null?void 0:s.call(this);i==null||i.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??GO}static _$Ei(){if(this.hasOwnProperty(Np("elementProperties")))return;const e=vbe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Np("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Np("properties"))){const n=this.properties,r=[...ybe(n),...wbe(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(HO(s))}else e!==void 0&&n.push(HO(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return fbe(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var i;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)==null?void 0:i.toAttribute)!==void 0?r.converter:tS).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,n){var i,o;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const a=r.getPropertyOptions(s),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)==null?void 0:i.fromAttribute)!==void 0?a.converter:tS;this._$Em=s,this[s]=c.fromAttribute(n,a.type)??((o=this._$Ej)==null?void 0:o.get(s))??null,this._$Em=null}}requestUpdate(e,n,r){var s;if(e!==void 0){const i=this.constructor,o=this[e];if(r??(r=i.getPropertyOptions(e)),!((r.hasChanged??BU)(o,n)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s){const{wrapped:a}=o,c=this[i];a!==!0||this._$AL.has(i)||c===void 0||this.C(i,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};_d.elementStyles=[],_d.shadowRootOptions={mode:"open"},_d[Np("elementProperties")]=new Map,_d[Np("finalized")]=new Map,B_==null||B_({ReactiveElement:_d}),(Fc.reactiveElementVersions??(Fc.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Pp=globalThis,G0=Pp.trustedTypes,KO=G0?G0.createPolicy("lit-html",{createHTML:t=>t}):void 0,FU="$lit$",oc=`lit$${Math.random().toFixed(9).slice(2)}$`,zU="?"+oc,_be=`<${zU}>`,Eu=document,Jg=()=>Eu.createComment(""),Zg=t=>t===null||typeof t!="object"&&typeof t!="function",B2=Array.isArray,Ebe=t=>B2(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",F_=`[ 	
\f\r]`,Mf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,YO=/-->/g,QO=/>/g,pl=RegExp(`>|${F_}(?:([^\\s"'>=/]+)(${F_}*=${F_}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),JO=/'/g,ZO=/"/g,qU=/^(?:script|style|textarea|title)$/i,WU=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),Jxe=WU(1),Zxe=WU(2),Nh=Symbol.for("lit-noChange"),qn=Symbol.for("lit-nothing"),XO=new WeakMap,Ul=Eu.createTreeWalker(Eu,129);function HU(t,e){if(!B2(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return KO!==void 0?KO.createHTML(e):e}const Cbe=(t,e)=>{const n=t.length-1,r=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=Mf;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===Mf?u[1]==="!--"?o=YO:u[1]!==void 0?o=QO:u[2]!==void 0?(qU.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=pl):u[3]!==void 0&&(o=pl):o===pl?u[0]===">"?(o=s??Mf,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?pl:u[3]==='"'?ZO:JO):o===ZO||o===JO?o=pl:o===YO||o===QO?o=Mf:(o=pl,s=void 0);const f=o===pl&&t[a+1].startsWith("/>")?" ":"";i+=o===Mf?c+_be:d>=0?(r.push(l),c.slice(0,d)+FU+c.slice(d)+oc+f):c+oc+(d===-2?a:f)}return[HU(t,i+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class Xg{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[l,u]=Cbe(e,n);if(this.el=Xg.createElement(l,r),Ul.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=Ul.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(FU)){const h=u[o++],f=s.getAttribute(d).split(oc),p=/([.?@])?(.*)/.exec(h);c.push({type:1,index:i,name:p[2],strings:f,ctor:p[1]==="."?Sbe:p[1]==="?"?Abe:p[1]==="@"?Ibe:ub}),s.removeAttribute(d)}else d.startsWith(oc)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(qU.test(s.tagName)){const d=s.textContent.split(oc),h=d.length-1;if(h>0){s.textContent=G0?G0.emptyScript:"";for(let f=0;f<h;f++)s.append(d[f],Jg()),Ul.nextNode(),c.push({type:2,index:++i});s.append(d[h],Jg())}}}else if(s.nodeType===8)if(s.data===zU)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(oc,d+1))!==-1;)c.push({type:7,index:i}),d+=oc.length-1}i++}}static createElement(e,n){const r=Eu.createElement("template");return r.innerHTML=e,r}}function Ph(t,e,n=t,r){var o,a;if(e===Nh)return e;let s=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const i=Zg(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=Ph(t,s._$AS(t,e.values),s,r)),e}class xbe{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??Eu).importNode(n,!0);Ul.currentNode=s;let i=Ul.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new jm(i,i.nextSibling,this,e):c.type===1?l=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(l=new Tbe(i,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(i=Ul.nextNode(),o++)}return Ul.currentNode=Eu,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class jm{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=qn,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Ph(this,e,n),Zg(e)?e===qn||e==null||e===""?(this._$AH!==qn&&this._$AR(),this._$AH=qn):e!==this._$AH&&e!==Nh&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Ebe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==qn&&Zg(this._$AH)?this._$AA.nextSibling.data=e:this.T(Eu.createTextNode(e)),this._$AH=e}$(e){var i;const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=Xg.createElement(HU(r.h,r.h[0]),this.options)),r);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(n);else{const o=new xbe(s,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=XO.get(e.strings);return n===void 0&&XO.set(e.strings,n=new Xg(e)),n}k(e){B2(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of e)s===n.length?n.push(r=new jm(this.O(Jg()),this.O(Jg()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class ub{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,i){this.type=1,this._$AH=qn,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=qn}_$AI(e,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)e=Ph(this,e,n,0),o=!Zg(e)||e!==this._$AH&&e!==Nh,o&&(this._$AH=e);else{const a=e;let c,l;for(e=i[0],c=0;c<i.length-1;c++)l=Ph(this,a[r+c],n,c),l===Nh&&(l=this._$AH[c]),o||(o=!Zg(l)||l!==this._$AH[c]),l===qn?e=qn:e!==qn&&(e+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===qn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Sbe extends ub{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===qn?void 0:e}}class Abe extends ub{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==qn)}}class Ibe extends ub{constructor(e,n,r,s,i){super(e,n,r,s,i),this.type=5}_$AI(e,n=this){if((e=Ph(this,e,n,0)??qn)===Nh)return;const r=this._$AH,s=e===qn&&r!==qn||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==qn&&(r===qn||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class Tbe{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Ph(this,e)}}const z_=Pp.litHtmlPolyfillSupport;z_==null||z_(Xg,jm),(Pp.litHtmlVersions??(Pp.litHtmlVersions=[])).push("3.3.0");const Nbe=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const i=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new jm(e.insertBefore(Jg(),i),i,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Zl=globalThis;let jw=class extends _d{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Nbe(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Nh}};var zR;jw._$litElement$=!0,jw.finalized=!0,(zR=Zl.litElementHydrateSupport)==null||zR.call(Zl,{LitElement:jw});const q_=Zl.litElementPolyfillSupport;q_==null||q_({LitElement:jw});(Zl.litElementVersions??(Zl.litElementVersions=[])).push("4.2.0");let kp,zc,qc;function eSe(t,e){kp=document.createElement("style"),zc=document.createElement("style"),qc=document.createElement("style"),kp.textContent=Jd(t).core.cssText,zc.textContent=Jd(t).dark.cssText,qc.textContent=Jd(t).light.cssText,document.head.appendChild(kp),document.head.appendChild(zc),document.head.appendChild(qc),VU(e)}function VU(t){zc&&qc&&(t==="light"?(zc.removeAttribute("media"),qc.media="enabled"):(qc.removeAttribute("media"),zc.media="enabled"))}function Pbe(t){kp&&zc&&qc&&(kp.textContent=Jd(t).core.cssText,zc.textContent=Jd(t).dark.cssText,qc.textContent=Jd(t).light.cssText)}function Jd(t){return{core:Qd`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Hs(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Hs((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Hs((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${Hs((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${Hs((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Qd`
      :root {
        --w3m-color-mix: ${Hs((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${Hs(na(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Hs(na(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Qd`
      :root {
        --w3m-color-mix: ${Hs((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${Hs(na(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Hs(na(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const tSe=Qd`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,nSe=Qd`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,rSe=Qd`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,rp={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},GU=Nq({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function Um(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const eR=Um({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),tR=Um({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Um({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Um({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Um({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const kbe={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Op={getMethodsByChainNamespace(t){return kbe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${i}`,u=r[o];switch(u.chains.push(l),l){case eR.caipNetworkId:u.chains.push(eR.deprecatedCaipNetworkId);break;case tR.caipNetworkId:u.chains.push(tR.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await wp.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1}};class F2{constructor({provider:e,namespace:n}){this.id=ee.CONNECTOR_ID.WALLET_CONNECT,this.name=xc.ConnectorNamesMap[ee.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=xc.ConnectorImageIds[ee.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=R.getCaipNetworks.bind(R),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=le.state.universalProviderConfigOverride,s=Op.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return Tp.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Obe})}}const Obe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class KU{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>R.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:ee.CONNECTOR_ID.AUTH,type:"AUTH",name:ee.CONNECTOR_NAMES.AUTH,provider:e,imageId:xc.ConnectorImageIds[ee.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){ye.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var i;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const o=s,a=(i=ye.state.preferredAccountTypes)==null?void 0:i[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof F2);if(!e)throw new Error("WalletConnectConnector not found");return e}}class Rbe extends KU{setUniversalProvider(e){this.addConnector(new F2({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,i,o,a;const n=this.provider,r=((a=(o=(i=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>De.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var i,o,a,c,l;if(!(e.caipNetwork&&Dt.BALANCE_SUPPORTED_CHAINS.includes((i=e.caipNetwork)==null?void 0:i.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(ye.state.balanceLoading&&e.chainId===((c=R.state.activeCaipNetwork)==null?void 0:c.id))return{balance:ye.state.balance||"0.00",symbol:ye.state.balanceSymbol||""};const s=(await ye.fetchTokenBalance()).find(u=>{var d,h;return u.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&u.symbol===((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=R.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===ee.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:Kh.encode(new TextEncoder().encode(r)),pubkey:s}},(a=R.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},(c=R.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===ee.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:iu(n.id)}]}))}catch(u){if(u.code===rp.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===rp.ERROR_INVALID_CHAIN_ID||u.code===rp.ERROR_CODE_DEFAULT||((o=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:o.code)===rp.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:iu(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const $be=["email","socials","swaps","onramp","activity","reownBranding"],Qy={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?Dt.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?Dt.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?Dt.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Dt.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?Dt.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Dt.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?Dt.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Dt.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Dt.DEFAULT_REMOTE_FEATURES.reownBranding:!!t}},Dbe={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=Qy[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,s){const i=Qy[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(i.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return Qy[t].processApi(e)},processFallbackFeature(t,e){return Qy[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await Me.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?Dt.DEFAULT_REMOTE_FEATURES:Dt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of $be){const a=this.processFeature(o,n,r,s,e);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),Dt.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;xn.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return i}};class jbe{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,i,o,a;if(n){const c=(i=(s=R.getNetworkData(n))==null?void 0:s.requestedCaipNetworks)==null?void 0:i.find(d=>d.id===r);if(c)return c;const l=(o=R.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=R.getRequestedCaipNetworks(n).filter(d=>d.chainNamespace===n))==null?void 0:a[0])}return R.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>R.getCaipNetworks(n),this.getActiveChainNamespace=()=>R.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{R.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>R.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>R.state.activeChain===n||!n?R.state.activeCaipAddress:R.getAccountProp("caipAddress",n),this.setClientId=n=>{qe.setClientId(n)},this.getProvider=n=>Ft.getProvider(n),this.getProviderType=n=>Ft.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=ye.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{ye.setCaipAddress(n,r),n&&le.state.enableEmbedded&&this.close()},this.setBalance=(n,r,s)=>{ye.setBalance(n,r,s)},this.setProfileName=(n,r)=>{ye.setProfileName(n,r)},this.setProfileImage=(n,r)=>{ye.setProfileImage(n,r)},this.setUser=(n,r)=>{ye.setUser(n,r)},this.resetAccount=n=>{ye.resetAccount(n)},this.setCaipNetwork=n=>{R.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{R.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{ye.setAllAccounts(n,r),le.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{ye.setStatus(n,r),be.isConnected()?we.setConnectionStatus("connected"):we.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>R.getAccountProp("address",n),this.setConnectors=n=>{const r=[...be.state.allConnectors,...n];be.setConnectors(r)},this.setConnections=(n,r)=>{ke.setConnections(n,r)},this.fetchIdentity=n=>qe.fetchIdentity(n),this.getReownName=n=>wp.getNamesForAddress(n),this.getConnectors=()=>be.getConnectors(),this.getConnectorImage=n=>bj.getConnectorImage(n),this.getConnections=n=>Tg.getConnectionsData(n).connections,this.getRecentConnections=n=>Tg.getConnectionsData(n).recentConnections,this.switchConnection=n=>ke.switchConnection(n),this.deleteConnection=n=>we.deleteAddressFromConnection(n),this.setConnectedWalletInfo=(n,r)=>{const s=Ft.getProviderId(r),i=n?{...n,type:s}:void 0;ye.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!R.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{ye.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{ye.removeAddressLabel(n,r)},this.getAddress=n=>R.state.activeChain===n||!n?ye.state.address:R.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>R.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{R.resetNetwork(n)},this.addConnector=n=>{be.addConnector(n)},this.resetWcConnection=()=>{ke.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{ye.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{ye.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{R.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{ye.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{le.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){var n,r,s;this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await Dbe.fetchRemoteFeatures(e),le.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&ex.setOnrampProviders(this.remoteFeatures.onramp),((n=le.state.remoteFeatures)!=null&&n.email||Array.isArray((r=le.state.remoteFeatures)==null?void 0:r.socials)&&((s=le.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const e=await Me.fetchAllowedOrigins();if(!e||!De.isClient()){xn.open(on.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;Op.isOriginAllowed(n,e,rp.DEFAULT_ALLOWED_ANCESTORS)||xn.open(on.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}catch(e){if(!(e instanceof Error)){xn.open(on.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(e.message){case"RATE_LIMITED":xn.open(on.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;xn.open({shortMessage:on.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.shortMessage,longMessage:on.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.longMessage(n.message)},"error");break}default:xn.open(on.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,jt.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&ss.setThemeMode(e.themeMode),e.themeVariables&&ss.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");R.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&R.setActiveCaipNetwork(n)}initializeConnectionController(e){ke.initialize(e.adapters??[]),ke.setWcBasic(e.basic??!1)}initializeConnectorController(){be.initialize(this.chainNamespaces)}initializeProjectSettings(e){le.setProjectId(e.projectId),le.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var o;le.setDebug(e.debug!==!1),le.setEnableWalletConnect(e.enableWalletConnect!==!1),le.setEnableWalletGuide(e.enableWalletGuide!==!1),le.setEnableWallets(e.enableWallets!==!1),le.setEIP6963Enabled(e.enableEIP6963!==!1),le.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),le.setEnableAuthLogger(e.enableAuthLogger!==!1),le.setCustomRpcUrls(e.customRpcUrls),le.setEnableEmbedded(e.enableEmbedded),le.setAllWallets(e.allWallets),le.setIncludeWalletIds(e.includeWalletIds),le.setExcludeWalletIds(e.excludeWalletIds),le.setFeaturedWalletIds(e.featuredWalletIds),le.setTokens(e.tokens),le.setTermsConditionsUrl(e.termsConditionsUrl),le.setPrivacyPolicyUrl(e.privacyPolicyUrl),le.setCustomWallets(e.customWallets),le.setFeatures(e.features),le.setAllowUnsupportedChain(e.allowUnsupportedChain),le.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),le.setPreferUniversalLinks(e.experimental_preferUniversalLinks),le.setDefaultAccountTypes(e.defaultAccountTypes);const n=we.getPreferredAccountTypes()||{},r={...le.state.defaultAccountTypes,...n};ye.setPreferredAccountTypes(r);const s=this.getDefaultMetaData();if(!e.metadata&&s&&(e.metadata=s),le.setMetadata(e.metadata),le.setDisableAppend(e.disableAppend),le.setEnableEmbedded(e.enableEmbedded),le.setSIWX(e.siwx),!e.projectId){xn.open(on.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===ee.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");le.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return De.isClient()?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=go.getUnsupportedNetwork(`${n}:${e}`);R.setActiveCaipNetwork(r)}}getDefaultNetwork(){return go.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return go.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return go.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return n?go.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const n=this.getAdapter(e),r=Ft.getProvider(e),s=Ft.getProviderId(e),{caipAddress:i}=R.getAccountData(e)||{};this.setLoading(!0,e),i&&(n!=null&&n.disconnect)&&await n.disconnect({provider:r,providerType:s}),we.removeConnectedNamespace(e),Ft.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e),this.setConnectedWalletInfo(void 0,e),be.removeConnectorId(e),R.resetAccount(e),R.resetNetwork(e),this.setLoading(!1,e)}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var i;const e=R.state.activeChain,n=this.getAdapter(e),r=(i=this.getCaipNetwork(e))==null?void 0:i.id;if(!n)throw new Error("Adapter not found");const s=await n.connectWalletConnect(r);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),we.setConnectedNamespaces([...R.state.chains.keys()]),this.chainNamespaces.forEach(o=>{be.setConnectorId(tn.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:s,chain:i,caipNetwork:o,socialUri:a})=>{var m,y,w,v,b,E;const c=R.state.activeChain,l=i||c,u=this.getAdapter(l);if(i&&i!==c&&!o){const _=this.getCaipNetworks().find(x=>x.chainNamespace===i);_&&this.setCaipNetwork(_)}if(!u)throw new Error("Adapter not found");const d=this.getCaipNetwork(l),h=await u.connect({id:e,info:n,type:r,provider:s,socialUri:a,chainId:(o==null?void 0:o.id)||(d==null?void 0:d.id),rpcUrl:((w=(y=(m=o==null?void 0:o.rpcUrls)==null?void 0:m.default)==null?void 0:y.http)==null?void 0:w[0])||((E=(b=(v=d==null?void 0:d.rpcUrls)==null?void 0:v.default)==null?void 0:b.http)==null?void 0:E[0])});if(!h)return;we.addConnectedNamespace(l),this.syncProvider({...h,chainNamespace:l});const f=ye.state.allAccounts,{accounts:p}=(f==null?void 0:f.length)>0?{accounts:[...f]}:await u.getAccounts({namespace:l,id:e});this.setAllAccounts(p,l),this.setStatus("connected",l),this.syncConnectedWalletInfo(l)},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var a;const i=R.state.activeChain,o=this.getAdapter(i);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),we.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async({chainNamespace:e}={})=>{const n=HX(e);try{const r=await Promise.allSettled(n.map(async([i])=>this.disconnectNamespace(i)));St.resetSend(),ke.resetWcConnection(),await Tp.clearSessions(),be.setFilterByNamespace(void 0);const s=r.filter(i=>i.status==="rejected");if(s.length>0)throw new Error(s.map(i=>i.reason.message).join(", "));we.deleteConnectedSocialProvider(),jt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(r){throw new Error(`Failed to disconnect chains: ${r.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(R.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:ye.state.address,provider:Ft.getProvider(R.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(Dt.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(R.state.activeChain),s=Ft.getProvider(n),i=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===ee.CHAIN.EVM){const n=this.getAdapter(R.state.activeChain),r=Ft.getProvider(R.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const i=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:s}));return(i==null?void 0:i.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:ye.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:R.state.activeChain}),ye.state.profileImage||!1},getEnsAddress:async e=>await Op.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(R.state.activeChain),r=this.getCaipNetwork(),s=this.getCaipAddress(),i=Ft.getProvider(R.state.activeChain);if(!r||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:i,caipAddress:s}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter(R.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(R.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(R.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(R.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(R.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(R.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!ye.state.address||this.updateNativeBalance(ye.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},ke.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,i,o;if(Ft.getProviderId(R.state.activeChain)===tn.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=Ft.getProvider(n),i=Ft.getProviderId(n);if(e.chainNamespace===R.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:s,providerType:i}))}else if(this.setCaipNetwork(e),i===tn.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=Ss.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var i;const s=e==null?void 0:e.find(o=>o.namespace===r);return s?(s.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new Rbe({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=we.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(we.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:i})=>{const o=this.getCaipNetworks().find(l=>l.id===i||l.caipNetworkId===i),a=R.state.activeChain===e,c=R.getAccountProp("address",e);if(o){const l=a&&s?s:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=ye.state.address,i=R.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i})=>{var a,c;const o=R.state.activeChain===e;o&&i?this.syncAccount({address:s,chainId:i,chainNamespace:e}):o&&((a=R.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:s,chainId:(c=R.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(s,i,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===ee.CHAIN.EVM&&De.isSafeApp()&&be.setConnectorId(ee.CONNECTOR_ID.SAFE,e);const n=be.getConnectorId(e);switch(this.setStatus("connecting",e),n){case ee.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case ee.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var a,c,l;const n=this.getAdapter(e),r=be.getConnectorId(e),s=this.getCaipNetwork(e),o=be.getConnectors(e).find(u=>u.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const u=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:s.id,rpcUrl:(l=(c=(a=s==null?void 0:s.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));if(u){const d=await(n==null?void 0:n.getAccounts({namespace:e,id:o.id}));d&&d.accounts.length>0?this.setAllAccounts(d.accounts,e):this.setAllAccounts([De.createAccount(e,u.address,"eoa")],e),this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){var r,s;const e=Object.keys(((s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)||{}),n=this.chainNamespaces.map(async i=>{var u,d,h,f,p;const o=this.getAdapter(i),a=((f=(h=(d=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:d.namespaces)==null?void 0:h[i])==null?void 0:f.accounts)||[],c=(p=R.state.activeCaipNetwork)==null?void 0:p.id,l=a.find(m=>{const{chainId:y}=Ss.parseCaipAddress(m);return y===(c==null?void 0:c.toString())})||a[0];if(l){const m=Ss.validateCaipAddress(l),{chainId:y,address:w}=Ss.parseCaipAddress(m);if(Ft.setProviderId(i,tn.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&R.state.activeCaipNetwork&&(o==null?void 0:o.namespace)!==ee.CHAIN.EVM){const v=o==null?void 0:o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:R.state.activeCaipNetwork});Ft.setProvider(i,v)}else Ft.setProvider(i,this.universalProvider);be.setConnectorId(ee.CONNECTOR_ID.WALLET_CONNECT,i),we.addConnectedNamespace(i),this.syncWalletConnectAccounts(i),await this.syncAccount({address:w,chainId:y,chainNamespace:i})}else e.includes(i)&&this.setStatus("disconnected",i);this.syncConnectedWalletInfo(i),await R.setApprovedCaipNetworksData(i)});await Promise.all(n)}syncWalletConnectAccounts(e){var r,s,i,o,a;const n=(a=(o=(i=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=Ss.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>De.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){Ft.setProviderId(s,e),Ft.setProvider(s,n),be.setConnectorId(r,s)}async syncAllAccounts(e){const n=be.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),s=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));s&&s.accounts.length>0&&this.setAllAccounts(s.accounts,e)}async syncAccount(e){var d,h;const n=e.chainNamespace===R.state.activeChain,r=R.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=we.getActiveNetworkProps(),c=i||a,l=((d=R.state.activeCaipNetwork)==null?void 0:d.name)===ee.UNSUPPORTED_NETWORK_NAME,u=R.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(y=>y.id.toString()===c.toString()),p=this.getCaipNetworks().find(y=>y.chainNamespace===o);if(!u&&!f&&!p){const y=this.getApprovedCaipNetworkIds()||[],w=y.find(b=>{var E;return((E=Ss.parseCaipNetworkId(b))==null?void 0:E.chainId)===c.toString()}),v=y.find(b=>{var E;return((E=Ss.parseCaipNetworkId(b))==null?void 0:E.chainNamespace)===o});f=this.getCaipNetworks().find(b=>b.caipNetworkId===w),p=this.getCaipNetworks().find(b=>b.caipNetworkId===v||"deprecatedCaipNetworkId"in b&&b.deprecatedCaipNetworkId===v)}const m=f||p;(m==null?void 0:m.chainNamespace)===R.state.activeChain?le.state.enableNetworkSwitch&&!le.state.allowUnsupportedChain&&((h=R.state.activeCaipNetwork)==null?void 0:h.name)===ee.UNSUPPORTED_NETWORK_NAME?R.showUnsupportedChainUI():this.setCaipNetwork(m):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),Lg.isLowerCaseMatch(s,ye.state.address)||this.syncAccountInfo(s,m==null?void 0:m.id,o),n?await this.syncBalance({address:s,chainId:m==null?void 0:m.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),i=n||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${r}:${i}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=be.getConnectorId(e),r=Ft.getProviderId(e);if(r===tn.CONNECTOR_TYPE_ANNOUNCED||r===tn.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(o=>o.id===n);if(i){const{info:o,name:a,imageUrl:c}=i,l=c||this.getConnectorImage(i);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===tn.CONNECTOR_TYPE_WALLET_CONNECT){const i=Ft.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n&&n===ee.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(o=>o.id===ee.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}}async syncBalance(e){!Ig.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),i=R.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:e,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,s,i,o,a,c,l,u,d,h;const e=Wwe.createLogger((f,...p)=>{f&&this.handleAlertError(f),console.error(...p)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};le.setManualWCControl(!!((h=this.options)!=null&&h.manualWCControl)),this.universalProvider=this.options.universalProvider??await Fwe.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{ke.setUri(e)}),this.universalProvider.on("connect",ke.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),ke.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(s=>s.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(Op.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&De.isCaipAddress(r[0])&&this.syncAccount(Ss.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&De.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){jt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(on.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=on.ALERT_ERRORS[o];a&&(xn.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&ke.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return kt.open({...e,data:{swap:e.arguments}})}return kt.open(e)}async close(){await this.injectModalUi(),kt.close()}setLoading(e,n){kt.setLoading(e,n)}async disconnect(e){await ke.disconnect({namespace:e})}getSIWX(){return le.state.siwx}getError(){return""}getChainId(){var e;return(e=R.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){xn.open(on.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await R.switchActiveNetwork(n)}getWalletProvider(){return R.state.activeChain?Ft.state.providers[R.state.activeChain]:null}getWalletProviderType(){return Ft.getProviderId(R.state.activeChain)}subscribeProviders(e){return Ft.subscribeProviders(e)}getThemeMode(){return ss.state.themeMode}getThemeVariables(){return ss.state.themeVariables}setThemeMode(e){ss.setThemeMode(e),VU(ss.state.themeMode)}setTermsConditionsUrl(e){le.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){le.setPrivacyPolicyUrl(e)}setThemeVariables(e){ss.setThemeVariables(e),Pbe(ss.state.themeVariables)}subscribeTheme(e){return ss.subscribe(e)}subscribeConnections(e){return ke.subscribe(e)}getWalletInfo(e){return e?R.getAccountProp("connectedWalletInfo",e):ye.state.connectedWalletInfo}getAccount(e){var o;const n=be.getAuthConnector(e),r=R.getAccountData(e),s=R.state.activeChain,i=we.getConnectedConnectorId(e||s);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:De.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&i===ee.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:we.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(o=r.preferredAccountTypes)==null?void 0:o[e||s],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?R.subscribeChainProp("accountState",r,n):R.subscribe(r),be.subscribe(r)}subscribeNetwork(e){return R.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e,n){return n?ye.subscribeKey("connectedWalletInfo",e,n):ye.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){ye.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){R.subscribeKey("activeCaipNetwork",e)}getState(){return vo.state}subscribeState(e){return vo.subscribe(e)}showErrorMessage(e){ki.showError(e)}showSuccessMessage(e){ki.showSuccess(e)}getEvent(){return{...jt.state}}subscribeEvents(e){return jt.subscribe(e)}replace(e){We.replace(e)}redirect(e){We.push(e)}popTransactionStack(e){We.popTransactionStack(e)}isOpen(){return kt.state.open}isTransactionStackEmpty(){return We.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){le.setFeatures(e)}updateRemoteFeatures(e){le.setRemoteFeatures(e)}updateOptions(e){const r={...le.state||{},...e};le.setOptions(r)}setConnectMethodsOrder(e){le.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){le.setWalletFeaturesOrder(e)}setCollapseWallets(e){le.setCollapseWallets(e)}setSocialsOrder(e){le.setSocialsOrder(e)}getConnectMethodsOrder(){return eS.getConnectOrderMethod(le.state.features,be.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||R.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&R.removeNetwork(e,n)}}let nR=!1;class Ube extends jbe{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{Is.checkIfRequestExists(n)?Is.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(Vn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(Vn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const s=Is.checkIfRequestIsSafe(r),i=ye.state.address,o=R.state.activeCaipNetwork;s||(i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=R.state.activeChain;be.getConnectorId(n)===ee.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(n=>{var l,u;const r=R.state.activeChain,s=r===ee.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,i=le.state.defaultAccountTypes[r],o=(l=ye.state.preferredAccountTypes)==null?void 0:l[r],a=n.preferredAccountType||o||i;Lg.isLowerCaseMatch(n.address,ye.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(s,r),this.setUser({...ye.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(a,r);const c=(u=n.accounts)==null?void 0:u.map(d=>De.createAccount(r,d.address,d.type||o||i));this.setAllAccounts(c||[De.createAccount(r,n.address,n.preferredAccountType||a)],r),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...ye.state.user||{},username:n},R.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,R.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,R.state.activeChain)})}async syncAuthConnector(e,n){var d,h,f,p;const r=ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),s=n===R.state.activeChain;if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername();this.setUser({...((d=ye.state)==null?void 0:d.user)||{},username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected(),l=ss.getSnapshot(),u=le.getSnapshot();await Promise.all([e.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),e.syncTheme({themeMode:l.themeMode,themeVariables:l.themeVariables,w3mThemeVariables:na(l.themeVariables,l.themeMode)})]),await e.getSmartAccountEnabledNetworks(),n&&r&&s&&(c&&((h=this.connectionControllerClient)!=null&&h.connectExternal)?(await((p=this.connectionControllerClient)==null?void 0:p.connectExternal({id:ee.CONNECTOR_ID.AUTH,info:{name:ee.CONNECTOR_ID.AUTH},type:tn.CONNECTOR_TYPE_AUTH,provider:e,chainId:(f=R.state.activeCaipNetwork)==null?void 0:f.id,chain:n})),this.setStatus("connected",n)):be.getConnectorId(n)===ee.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),we.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!De.isTelegram())return;const r=we.getTelegramSocialProvider();if(!r||!De.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;ye.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=be.getAuthConnector();r&&o&&(this.setLoading(!0,e),await ke.connectExternal({id:o.id,type:o.type,socialUri:i},o.chain),we.setConnectedSocialProvider(r),we.removeTelegramSocialProvider(),jt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var l,u,d,h;if(!ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=(l=this.remoteFeatures)==null?void 0:l.email,s=Array.isArray((u=this.remoteFeatures)==null?void 0:u.socials)&&this.remoteFeatures.socials.length>0,i=r||s,a=Lg.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&((d=this.options)!=null&&d.projectId)&&i&&(this.authProvider=Jl.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(h=this.getCaipNetwork(a))==null?void 0:h.caipNetworkId,abortController:on.EmbeddedWalletAbortController,onTimeout:f=>{f==="iframe_load_failed"?xn.open(on.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):f==="iframe_request_timeout"?xn.open(on.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):f==="unverified_domain"&&xn.open(on.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),vo.subscribeOpen(f=>{var p;!f&&this.isTransactionStackEmpty()&&((p=this.authProvider)==null||p.rejectRpcRequests())}));const c=e===R.state.activeChain;this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Me.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var o,a;if(!e)return;const n=R.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===n&&s){const c=this.getAdapter(r),l=Ft.getProvider(r),u=Ft.getProviderId(r);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:l,providerType:u})),this.setCaipNetwork(e)}else{const l=Ft.getProviderId(n)===tn.CONNECTOR_TYPE_AUTH,u=Ft.getProviderId(r),d=u===tn.CONNECTOR_TYPE_AUTH,h=ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((l&&u===void 0||d)&&h)try{if(R.state.activeChain=e.chainNamespace,s){const f=this.getAdapter(r);await(f==null?void 0:f.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else await((a=(o=this.connectionControllerClient)==null?void 0:o.connectExternal)==null?void 0:a.call(o,{id:ee.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:tn.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const p=this.getAdapter(r);await(p==null?void 0:p.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else u===tn.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r}))}}async initialize(e){var n;await super.initialize(e),(n=this.chainNamespaces)==null||n.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),vo.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const s=`${r}:${n}`,i=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===s);if(r!==ee.CHAIN.EVM||i!=null&&i.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(a,r),this.setProfileImage(c,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=Ft.getProviderId(e);if(n===tn.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=we.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(De.isClient()&&!nR)try{const e={...Dt.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),De.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!le.state.disableAppend&&!le.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}nR=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!De.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(wn(()=>import("./embedded-wallet-CtMTA0dH.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12,13,14]))),n.email&&r.push(wn(()=>import("./email-Ds9bMNgL.js"),__vite__mapDeps([15,4,14,8,13,7,12,16,9]))),n.socials&&r.push(wn(()=>import("./socials-CC05ykg6.js"),__vite__mapDeps([17,4,18,7,19,20,13,21,12,8,14,22,6,23]))),n.swaps&&n.swaps.length>0&&r.push(wn(()=>import("./swaps-DYUNMjuF.js"),__vite__mapDeps([24,4,12,8,25,26,27,6,13,23,9,7]))),e.send&&r.push(wn(()=>import("./send-f1LBebpV.js"),__vite__mapDeps([28,4,12,8,13,7,19,14,27,6,9,29,30]))),e.receive&&r.push(wn(()=>import("./receive-B21RpPKM.js"),__vite__mapDeps([31,4,32,6,22]))),n.onramp&&n.onramp.length>0&&r.push(wn(()=>import("./onramp-BRXjJtmE.js"),__vite__mapDeps([33,4,34,23,13,6,8,35,18,7,19,36,14,12,21,9]))),n.activity&&r.push(wn(()=>import("./transactions-mLOrHoEq.js"),__vite__mapDeps([37,4,38,34,23,13,14,6]))),e.pay&&r.push(wn(()=>import("./index-CcHwqGzx.js"),__vite__mapDeps([39,4,12,8,40,6,13,10,35,30,21]))),await Promise.all([...r,wn(()=>import("./index-DHDnCeNC.js"),__vite__mapDeps([41,4,6,8,29,13,42,26,10,35,12,11,40,38,34,23,14,25,30,7,9,16,18,19,20,5,21,32,22,36])),wn(()=>import("./w3m-modal-B7UVly-S.js"),__vite__mapDeps([43,4,10,6,13,11,8,26,42]))])}}let Ha;function Lbe(t){t&&(Ha=t)}function db(){if(!Ha)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function t(n){await(Ha==null?void 0:Ha.open(n))}async function e(){await(Ha==null?void 0:Ha.close())}return{open:t,close:e}}const Mbe="1.7.10";let Jy;function Bbe(t){return Jy||(Jy=new Ube({...t,sdkVersion:De.generateSdkVersion(t.adapters??[],"react",Mbe)}),Lbe(Jy)),Jy}const Fbe=qi({popup:{position:"absolute",background:"#c0c0c0",border:"2px outset #fff",width:"720px",height:"600px",minWidth:"480px",minHeight:"360px",top:"calc(50vh - 300px)",left:"calc(50vw - 360px)",display:({isOpen:t})=>t?"block":"none",resize:"both",overflow:"auto",zIndex:100},header:{background:"navy",color:"#fff",padding:"2px 4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",fontSize:"12px",fontWeight:"bold",userSelect:"none"},titleBarButtons:{display:"flex",gap:"1px"},titleBarButton:{width:"16px",height:"14px",border:"1px outset #c0c0c0",backgroundColor:"#c0c0c0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",color:"black","&:active":{border:"1px inset #c0c0c0"}},content:{padding:"10px",height:"calc(100% - 30px)",overflow:"auto"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},detailContent:{padding:"20px",color:"#000"},detailImage:{width:"100%",height:"auto",marginBottom:"20px",border:"1px solid #ccc"},detailTraits:{listStyleType:"none",paddingLeft:"0","& li":{marginBottom:"5px"}},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),rR=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"},{slug:"lawbstation",name:"Lawbstation",api:"opensea-solana",chain:"solana"},{slug:"lawbnexus",name:"Nexus",api:"opensea-solana",chain:"solana"}],zbe=({isOpen:t,onClose:e,onMinimize:n,walletAddress:r})=>{const s=Fbe({isOpen:t}),{open:i}=db(),o=P.useRef(null),[a,c]=P.useState([]),[l,u]=P.useState(!0),[d,h]=P.useState(null),[f,p]=P.useState("all"),[m,y]=P.useState(1),[w,v]=P.useState(1),[b,E]=P.useState(0),[_,x]=P.useState(null),[S,A]=P.useState(rR[0]),[C,k]=P.useState(!1),[O,B]=P.useState(null),F=P.useCallback(async()=>{var $,L;try{if(($=window.solana)!=null&&$.isPhantom){const q=await window.solana.connect();B(q.publicKey.toString());return}if((L=window.solflare)!=null&&L.isSolflare){const q=await window.solflare.connect();B(q.publicKey.toString());return}i()}catch(q){console.error("Failed to connect Solana wallet:",q),alert("Failed to connect Solana wallet. Please make sure Phantom or Solflare is installed.")}k(!1)},[i]);P.useEffect(()=>{var $,L;($=window.solana)!=null&&$.publicKey?B(window.solana.publicKey.toString()):(L=window.solflare)!=null&&L.publicKey&&B(window.solflare.publicKey.toString())},[]),P.useEffect(()=>{t&&(async()=>{var L;u(!0),h(null);try{let q,J=f==="owned"&&r||void 0;if(S.api==="opensea-solana"){if(f==="owned"&&!O){k(!0),u(!1);return}J=O||void 0,q=await mj(S.slug,50),console.log("Fetched Solana NFTs from collection:",q.data.length),f==="owned"&&O&&(console.log("Filtering for owner:",O),console.log("Sample NFT owner data:",(L=q.data[0])==null?void 0:L.owners),console.log("All NFTs owner data:",q.data.map(ne=>({name:ne.name,owners:ne.owners,owner_of:ne.owner_of}))),q.data.some(ne=>ne.owners&&ne.owners.length>0)?(q.data=q.data.filter(ne=>{const ie=ne.owners.some(me=>me.owner_of&&me.owner_of.toLowerCase()===O.toLowerCase());return ie&&console.log("Found owned NFT:",ne.name),ie}),console.log("NFTs after filtering:",q.data.length)):(console.log("No owner data available from OpenSea for Solana collection"),h("Owner data not available for this Solana collection. Showing all NFTs.")))}else S.api==="opensea"?q=await XA(S.slug,50,J):q=await ZA(S.slug,m,50,J);c(q.data),v(q.totalPages),E(q.totalCount)}catch(q){q instanceof Error?h(q.message):h("An unknown error occurred."),c([])}finally{u(!1)}})()},[t,m,f,r,S,O]),P.useEffect(()=>{C&&F()},[C,F]);const H=$=>new Date($).toLocaleDateString(),N=$=>S.api==="opensea-solana"&&(!$.owners||$.owners.length===0)?"Owner data unavailable":$.owners.length>0?`${$.owners[0].owner_of.substring(0,6)}...`:"N/A",T=()=>{n&&n()},U=async $=>{if(S.api==="opensea"&&S.chain)try{const L=await gj(S.chain,$.address,$.token_id.toString()),q={...$,attributes:JSON.stringify(L.traits||[])};x(q)}catch(L){console.error("Failed to fetch full NFT details",L),x($)}else x($)},D=$=>{A($),y(1)};return t?g.jsxs(g.Fragment,{children:[g.jsx(Em,{nodeRef:o,handle:`.${s.header}`,children:g.jsxs("div",{ref:o,className:s.popup,children:[g.jsxs("div",{className:s.header,children:[g.jsx("span",{children:"LAWB NFT GALLERY"}),g.jsxs("div",{className:s.titleBarButtons,children:[g.jsx("button",{className:s.titleBarButton,onClick:T,title:"Minimize",children:"_"}),g.jsx("button",{className:s.titleBarButton,onClick:e,title:"Close",children:""})]})]}),g.jsx("div",{className:s.collectionSelector,children:rR.map($=>g.jsx("button",{className:`${s.collectionButton} ${S.slug===$.slug?"active":""}`,onClick:()=>D($),children:$.name},$.slug))}),g.jsxs("div",{className:s.content,children:[g.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[g.jsx("button",{onClick:()=>p("all"),style:{background:f==="all"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:f==="all"?"white":"black"},children:"All NFTs"}),g.jsx("button",{onClick:()=>p("recent"),disabled:!r,style:{background:f==="recent"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r?"pointer":"not-allowed",color:f==="recent"?"white":"black",opacity:r?1:.6},children:"Recently Minted"}),g.jsx("button",{onClick:()=>p("owned"),disabled:!r&&!O,style:{background:f==="owned"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:r||O?"pointer":"not-allowed",color:f==="owned"?"white":"black",opacity:r||O?1:.6},children:"My NFTs"}),S.api==="opensea-solana"&&g.jsx("button",{onClick:()=>{F()},style:{background:O?"#4CAF50":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:O?"white":"black",marginLeft:"auto"},children:O?`Solana: ${O.slice(0,4)}...${O.slice(-4)}`:"Connect Solana"})]}),S.api==="opensea-solana"&&!O&&g.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",padding:"10px",marginBottom:"10px",color:"#856404"},children:"Connect your Solana wallet (Phantom or Solflare) to view your NFTs from this collection."}),d&&g.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:d}),l?g.jsx("div",{children:"Loading NFTs..."}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{marginBottom:"10px",fontSize:"14px"},children:[f==="all"&&`Showing all NFTs (${b} total)`,f==="recent"&&`Recently minted NFTs by ${S.api==="opensea-solana"?(O==null?void 0:O.slice(0,6))+"..."+(O==null?void 0:O.slice(-4)):(r==null?void 0:r.slice(0,6))+"..."+(r==null?void 0:r.slice(-4))}`,f==="owned"&&`NFTs owned by ${S.api==="opensea-solana"?(O==null?void 0:O.slice(0,6))+"..."+(O==null?void 0:O.slice(-4)):(r==null?void 0:r.slice(0,6))+"..."+(r==null?void 0:r.slice(-4))}`]}),a.length===0?g.jsx("div",{children:"No NFTs found."}):g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:a.map($=>g.jsxs("div",{style:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",borderRadius:"4px",cursor:"pointer"},onClick:()=>{U($)},children:[g.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${$.image_url})`,backgroundSize:"cover",backgroundPosition:"center",marginBottom:"10px",border:"1px solid #ccc"}}),g.jsx("div",{style:{fontSize:"12px",marginBottom:"5px",color:"#000"},children:g.jsxs("strong",{children:["#",$.token_id]})}),g.jsxs("div",{style:{fontSize:"11px",marginBottom:"5px",color:"#000"},children:["Owner: ",N($)]}),g.jsxs("div",{style:{fontSize:"11px",color:"#666"},children:["Minted: ",H($.created_at)]})]},$.id))}),f!=="recent"&&w>1&&g.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"20px"},children:[g.jsx("button",{onClick:()=>y($=>Math.max(1,$-1)),disabled:m===1,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:m===1?"not-allowed":"pointer"},children:"Previous"}),g.jsxs("span",{style:{padding:"5px 10px"},children:["Page ",m," of ",w]}),g.jsx("button",{onClick:()=>y($=>Math.min(w,$+1)),disabled:m===w,style:{background:"#c0c0c0",border:"2px outset #c0c0c0",padding:"5px 10px",cursor:m===w?"not-allowed":"pointer"},children:"Next"})]})]})]})]})}),_&&g.jsx(ZZ,{nft:_,onClose:()=>x(null)})]}):null};var Zy,qbe=new Uint8Array(16);function Wbe(){if(!Zy&&(Zy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Zy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zy(qbe)}const Hbe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Vbe(t){return typeof t=="string"&&Hbe.test(t)}var tr=[];for(var W_=0;W_<256;++W_)tr.push((W_+256).toString(16).substr(1));function Gbe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(tr[t[e+0]]+tr[t[e+1]]+tr[t[e+2]]+tr[t[e+3]]+"-"+tr[t[e+4]]+tr[t[e+5]]+"-"+tr[t[e+6]]+tr[t[e+7]]+"-"+tr[t[e+8]]+tr[t[e+9]]+"-"+tr[t[e+10]]+tr[t[e+11]]+tr[t[e+12]]+tr[t[e+13]]+tr[t[e+14]]+tr[t[e+15]]).toLowerCase();if(!Vbe(n))throw TypeError("Stringified UUID is invalid");return n}function Kbe(t,e,n){t=t||{};var r=t.random||(t.rng||Wbe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Gbe(r)}const Ybe=qi({container:{display:"flex",flexDirection:"column",gap:4,padding:4,background:"#c0c0c0",border:"2px outset #fff",borderRadius:8,maxWidth:500,width:"100%",fontFamily:"monospace",fontSize:11},header:{textAlign:"center",marginBottom:2},subtitle:{color:"#000",fontSize:"10px",textAlign:"center",marginBottom:2,lineHeight:1.1},content:{display:"flex",flexDirection:"column",gap:2},section:{display:"flex",flexDirection:"column",gap:1},sectionTitle:{fontWeight:"bold",color:"#000",fontSize:11,borderBottom:"1px solid #888",paddingBottom:0},row:{display:"flex",alignItems:"center",gap:3,flexWrap:"wrap"},label:{minWidth:55,color:"#000",fontWeight:"bold",fontSize:10},input:{flex:1,minWidth:70,padding:"2px 3px",border:"2px inset #fff",background:"#fff",fontSize:10,fontFamily:"monospace",color:"#000",textTransform:"uppercase"},button:{padding:"3px 8px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:10,fontWeight:"bold",color:"#000","&:hover":{background:"#d0d0d0"},"&:active":{border:"2px inset #fff"}},effectButton:{padding:"2px 5px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer",fontSize:9,fontWeight:"bold",color:"#000","&:hover":{background:"#d0d0d0"},"&:active":{border:"2px inset #fff"}},memeArea:{display:"flex",justifyContent:"center",position:"relative",marginTop:1},canvas:{border:"2px inset #fff",background:"#333",maxWidth:"100%",height:"auto"},dropdown:{position:"relative"},dropdownContent:{position:"absolute",top:"100%",left:0,background:"#fff",border:"2px outset #fff",borderRadius:4,zIndex:10,minWidth:100,maxHeight:100,overflowY:"auto"},dropdownItem:{padding:"3px 5px",cursor:"pointer",fontSize:9,borderBottom:"1px solid #eee","&:hover":{background:"#f0f0f0"}},actions:{display:"flex",gap:3,justifyContent:"center",marginTop:1}}),Qbe=[{id:"lawbsters",name:"Lawbsters",api:"opensea",slug:"lawbsters",chain:"ethereum"},{id:"lawbstarz",name:"Lawbstarz",api:"opensea",slug:"lawbstarz",chain:"ethereum"},{id:"pixelawbs",name:"Pixelawbsters",api:"scatter",slug:"pixelawbs"},{id:"halloween",name:"Halloween Lawbsters",api:"opensea",slug:"a-lawbster-halloween",chain:"base"},{id:"lawbstation",name:"Lawbstation",api:"opensea-solana",slug:"lawbstation",chain:"solana"},{id:"nexus",name:"Nexus",api:"opensea-solana",slug:"lawbnexus",chain:"solana"}],Jbe=["/images/sticker1.png","/images/sticker2.png","/images/sticker3.png","/images/sticker4.png","/images/sticker5.png"],bs=500;function YU(){const t=Ybe(),e=P.useRef(null),[n,r]=P.useState(null),[s,i]=P.useState(""),[o,a]=P.useState(""),[c,l]=P.useState(36),[u,d]=P.useState(36),[h,f]=P.useState(!1),[p,m]=P.useState(!1),[y,w]=P.useState(!1),[v,b]=P.useState(!1),[E,_]=P.useState(!1),[x,S]=P.useState([]),[A,C]=P.useState(null),k=P.useRef(null),[O,B]=P.useState(null),F=async K=>{const X=K.getContext("2d");if(!X)return;X.clearRect(0,0,K.width,K.height),n?await new Promise(te=>{const he=new window.Image;he.crossOrigin="anonymous",he.onload=()=>{const Le=Math.min(K.width/he.width,K.height/he.height),Te=(K.width-he.width*Le)/2,Ce=(K.height-he.height*Le)/2;X.drawImage(he,Te,Ce,he.width*Le,he.height*Le),te()},he.onerror=()=>te(),he.src=n}):(X.fillStyle="#333",X.fillRect(0,0,K.width,K.height)),(te=>{te.textAlign="center",te.strokeStyle="black",te.lineWidth=3,te.fillStyle="white";const he=(Le,Te)=>{const Ce=Le.toUpperCase().split(" "),Ue=[];let Qe=Ce[0];for(let At=1;At<Ce.length;At++){const yn=Ce[At];te.measureText(Qe+" "+yn).width<Te?Qe+=" "+yn:(Ue.push(Qe),Qe=yn)}return Ue.push(Qe),Ue};s&&(te.font=`${c}px Impact`,he(s,bs-20).forEach((Te,Ce)=>{const Ue=c+Ce*c*1.2;te.strokeText(Te,bs/2,Ue),te.fillText(Te,bs/2,Ue)})),o&&(te.font=`${u}px Impact`,he(o,bs-20).reverse().forEach((Te,Ce)=>{const Ue=bs-u*1.2*(Ce+1);te.strokeText(Te,bs/2,Ue),te.fillText(Te,bs/2,Ue)}))})(X),await Promise.all(x.map(te=>new Promise(he=>{const Le=new window.Image;Le.src=te.src,Le.onload=()=>{X.save(),X.translate(te.x,te.y),X.rotate(te.rotation*Math.PI/180),X.scale(te.scale,te.scale),X.drawImage(Le,-40,-40,80,80),X.restore(),he()},Le.onerror=()=>he()})));try{h&&H(K),p&&N(K),y&&T(K)}catch(te){console.warn("Effects could not be applied due to CORS restrictions. Try uploading your own image instead.",te),f(!1),m(!1),w(!1)}},H=K=>{const X=K.getContext("2d");if(!X)return;const se=X.getImageData(0,0,K.width,K.height),te=se.data;for(let he=0;he<te.length;he+=4){const Le=te[he],Te=te[he+1],Ce=te[he+2],Ue=(Le+Te+Ce)/3,Qe=1.8;te[he]=Math.min(255,Ue+(Le-Ue)*Qe),te[he+1]=Math.min(255,Ue+(Te-Ue)*Qe*.7),te[he+2]=Math.min(255,Ue+(Ce-Ue)*Qe*.4);const At=1.3;te[he]=Math.min(255,Math.max(0,te[he]*At)),te[he+1]=Math.min(255,Math.max(0,te[he+1]*At)),te[he+2]=Math.min(255,Math.max(0,te[he+2]*At))}X.putImageData(se,0,0)},N=K=>{const X=K.getContext("2d");if(!X)return;const se=4,he=X.getImageData(0,0,K.width,K.height).data,Le=new Uint8ClampedArray(he);for(let Te=0;Te<K.height;Te+=se)for(let Ce=0;Ce<K.width;Ce+=se){const Ue=(Te*K.width+Ce)*4,Qe=he[Ue],At=he[Ue+1],yn=he[Ue+2],It=he[Ue+3];for(let ct=0;ct<se&&Te+ct<K.height;ct++)for(let wt=0;wt<se&&Ce+wt<K.width;wt++){const Kn=((Te+ct)*K.width+(Ce+wt))*4;Le[Kn]=Qe,Le[Kn+1]=At,Le[Kn+2]=yn,Le[Kn+3]=It}}X.putImageData(new ImageData(Le,K.width,K.height),0,0)},T=K=>{const X=K.getContext("2d");if(!X)return;const se=X.getImageData(0,0,K.width,K.height),te=se.data;for(let he=0;he<te.length;he+=4){const Le=(Math.random()-.5)*50;te[he]=Math.max(0,Math.min(255,te[he]+Le)),te[he+1]=Math.max(0,Math.min(255,te[he+1]+Le)),te[he+2]=Math.max(0,Math.min(255,te[he+2]+Le))}X.putImageData(se,0,0)};P.useEffect(()=>{e.current&&F(e.current)},[F]);const U=K=>{var se;const X=(se=K.target.files)==null?void 0:se[0];X&&r(URL.createObjectURL(X))},D=()=>{r(null),i(""),a(""),l(36),d(36),f(!1),m(!1),w(!1)},$=async()=>{const K=e.current;if(!K)return;await F(K);const X=document.createElement("a");X.download="meme.png",X.href=K.toDataURL("image/png"),document.body.appendChild(X),X.click(),document.body.removeChild(X)},L=async K=>{_(!0),b(!1);try{console.log("Fetching NFTs for collection:",K);let X;if(K.api==="opensea"){console.log("Using OpenSea API for:",K.slug);const se=await XA(K.slug,50);X=se.data,console.log("OpenSea response:",se)}else if(K.api==="opensea-solana"){console.log("Using OpenSea Solana API for:",K.slug);const se=await mj(K.slug,50);X=se.data,console.log("OpenSea Solana response:",se)}else{console.log("Using Scatter API for:",K.slug);const se=await ZA(K.slug,1,50);X=se.data,console.log("Scatter response:",se)}if(X&&X.length>0){const se=X[Math.floor(Math.random()*X.length)],te=se.image||se.image_url||se.image_url_shrunk;console.log("Selected NFT:",se),console.log("Image URL:",te),r(te)}else console.log("No NFTs found in collection"),alert("No NFTs found in this collection.")}catch(X){console.error("Error fetching NFTs:",X),alert("Failed to fetch NFT images. Check console for details.")}finally{_(!1)}},q=K=>{const X={id:Kbe(),src:K,x:80,y:80,scale:1,rotation:0};S(se=>se.length>=2||se.some(te=>te.src===K&&!te.id.startsWith("upload-"))?se:[...se,X]),B(X.id)},J=K=>{var se;const X=(se=K.target.files)==null?void 0:se[0];if(X){const te=URL.createObjectURL(X);q(te)}},re=(K,X,se)=>{S(te=>te.map(he=>{if(he.id!==K)return he;let Le=he.x+X/1.2,Te=he.y+se/1.2;const Ce=40*he.scale,Ue=40*he.scale;return Le=Math.max(Ce,Math.min(bs-Ce,Le)),Te=Math.max(Ue,Math.min(bs-Ue,Te)),{...he,x:Le,y:Te}}))},ne=(K,X,se,te,he)=>{S(Le=>Le.map(Te=>{if(Te.id!==K)return Te;const Ce=Te.x,Ue=Te.y,Qe=Math.atan2(he-Ue,te-Ce)*180/Math.PI;return{...Te,rotation:se+(Qe-X)*.5}}))},ie=K=>{S(X=>X.filter(se=>se.id!==K))},me=(K,X)=>{S(se=>se.map(te=>te.id===K?{...te,scale:Math.max(.2,te.scale*(1+(X-1)*.2))}:te))};return g.jsxs("div",{className:t.container,children:[g.jsxs("div",{className:t.header,children:[g.jsx("h2",{style:{color:"#00ffff",textShadow:"1px 1px 0 #000",marginBottom:8,fontSize:"16px"},children:"Lawb Meme Maker"}),g.jsxs("p",{className:t.subtitle,children:["find memes or upload your own on"," ",g.jsx("a",{href:"https://memedepot.com/d/lawb",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Meme Depot"})]})]}),g.jsxs("div",{className:t.content,children:[g.jsxs("div",{className:t.section,children:[g.jsx("div",{className:t.sectionTitle,children:"Collections"}),g.jsxs("div",{className:t.row,children:[g.jsxs("div",{className:t.dropdown,children:[g.jsx("button",{className:t.button,onClick:()=>b(K=>!K),children:"Collections"}),v&&g.jsx("div",{className:t.dropdownContent,children:Qbe.map(K=>g.jsx("div",{className:t.dropdownItem,onClick:()=>{L(K)},children:K.name},K.id))})]}),g.jsxs("label",{className:t.button,style:{marginBottom:0},children:["Upload Image",g.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:U})]}),E&&g.jsx("span",{style:{color:"#00ffff",marginLeft:8,fontSize:"12px"},children:"Loading NFT..."})]})]}),g.jsxs("div",{className:t.section,children:[g.jsx("div",{className:t.sectionTitle,children:"Text"}),g.jsxs("div",{className:t.row,children:[g.jsx("span",{className:t.label,children:"Top Text:"}),g.jsx("input",{className:t.input,type:"text",value:s,onChange:K=>i(K.target.value),placeholder:"Enter top text..."}),g.jsx("span",{className:t.label,children:"Size:"}),g.jsx("input",{className:t.input,type:"number",min:10,max:100,value:c,onChange:K=>l(Number(K.target.value)),style:{width:60,textAlign:"center"}})]}),g.jsxs("div",{className:t.row,children:[g.jsx("span",{className:t.label,children:"Bottom Text:"}),g.jsx("input",{className:t.input,type:"text",value:o,onChange:K=>a(K.target.value),placeholder:"Enter bottom text..."}),g.jsx("span",{className:t.label,children:"Size:"}),g.jsx("input",{className:t.input,type:"number",min:10,max:100,value:u,onChange:K=>d(Number(K.target.value)),style:{width:60,textAlign:"center"}})]})]}),g.jsxs("div",{className:t.section,children:[g.jsx("div",{className:t.sectionTitle,children:"Effects"}),g.jsxs("div",{className:t.row,children:[g.jsx("button",{className:t.effectButton,style:{background:h?"#00ffff":void 0},onClick:()=>f(K=>!K),children:"Deep Fry"}),g.jsx("button",{className:t.effectButton,style:{background:p?"#00ffff":void 0},onClick:()=>m(K=>!K),children:"Pixelate"}),g.jsx("button",{className:t.effectButton,style:{background:y?"#00ffff":void 0},onClick:()=>w(K=>!K),children:"Grain"})]})]}),g.jsxs("div",{className:t.section,children:[g.jsx("div",{className:t.sectionTitle,children:"Stickers"}),g.jsxs("div",{className:t.row,children:[Jbe.map((K,X)=>g.jsx("img",{src:K,alt:`sticker${X+1}`,style:{width:32,height:32,cursor:"pointer",border:"1px solid #888",marginRight:4},onClick:()=>q(K)},K)),g.jsxs("label",{className:t.button,style:{marginBottom:0},children:["Upload Sticker",g.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},ref:k,onChange:J})]})]})]}),g.jsxs("div",{className:t.actions,children:[g.jsx("button",{className:t.button,onClick:$,children:"Save Image"}),g.jsx("button",{className:t.button,onClick:D,children:"Restart"})]})]}),g.jsx("div",{className:t.memeArea,children:g.jsx("canvas",{ref:e,width:bs,height:bs,className:t.canvas})}),g.jsx("div",{style:{position:"absolute",left:0,top:0,width:bs,height:bs,pointerEvents:"none"},children:x.map(K=>O===K.id?g.jsxs("div",{style:{position:"absolute",left:K.x,top:K.y,width:80*K.scale,height:80*K.scale,transform:`rotate(${K.rotation}deg)`,cursor:"move",pointerEvents:"auto",zIndex:10,border:"2px solid #00f",boxShadow:"0 0 8px #00f"},onMouseDown:X=>{C(K.id),X.stopPropagation()},onMouseUp:()=>C(null),onMouseMove:X=>{A===K.id&&X.buttons===1&&re(K.id,X.movementX,X.movementY)},children:[g.jsx("img",{src:K.src,alt:"sticker",style:{width:"100%",height:"100%",userSelect:"none",pointerEvents:"none"},draggable:!1}),g.jsx("div",{style:{position:"absolute",right:-12,top:"40%",width:16,height:16,background:"#fff",borderRadius:"50%",border:"1px solid #888",cursor:"grab",zIndex:11},onMouseDown:X=>{var Qe;X.stopPropagation();const se=(Qe=X.currentTarget.parentElement)==null?void 0:Qe.getBoundingClientRect(),te=se?se.left+se.width/2:0,he=se?se.top+se.height/2:0,Le=Math.atan2(X.clientY-he,X.clientX-te)*180/Math.PI,Te=K.rotation,Ce=At=>{ne(K.id,Le,Te,At.clientX,At.clientY)},Ue=()=>{window.removeEventListener("mousemove",Ce),window.removeEventListener("mouseup",Ue)};window.addEventListener("mousemove",Ce),window.addEventListener("mouseup",Ue)}}),g.jsx("div",{style:{position:"absolute",bottom:-12,right:-12,width:16,height:16,background:"#fff",borderRadius:"50%",border:"1px solid #888",cursor:"nwse-resize",zIndex:11},onMouseDown:X=>{X.stopPropagation();const se=X.clientX,te=Le=>{const Te=(Le.clientX-se)/80;me(K.id,1+Te)},he=()=>{window.removeEventListener("mousemove",te),window.removeEventListener("mouseup",he)};window.addEventListener("mousemove",te),window.addEventListener("mouseup",he)}}),g.jsx("button",{style:{position:"absolute",top:-12,left:-12,width:16,height:16,background:"#f00",color:"#fff",border:"none",borderRadius:"50%",fontSize:10,cursor:"pointer",zIndex:12},onClick:()=>ie(K.id),children:""}),g.jsx("button",{style:{position:"absolute",bottom:-12,left:"50%",transform:"translateX(-50%)",width:40,height:18,background:"#0f0",color:"#000",border:"1px solid #888",borderRadius:4,fontSize:8,cursor:"pointer",zIndex:12},onClick:()=>B(null),children:"Place"})]},K.id):null)})]})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},em.apply(this,arguments)}var Sc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Sc||(Sc={}));const sR="popstate";function Zbe(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return nS("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:JU(s)}return e1e(e,n,null,t)}function jn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function QU(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xbe(){return Math.random().toString(36).substr(2,8)}function iR(t,e){return{usr:t.state,key:t.key,idx:e}}function nS(t,e,n,r){return n===void 0&&(n=null),em({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xh(e):e,{state:n,key:e&&e.key||r||Xbe()})}function JU(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function e1e(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Sc.Pop,c=null,l=u();l==null&&(l=0,o.replaceState(em({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Sc.Pop;let y=u(),w=y==null?null:y-l;l=y,c&&c({action:a,location:m.location,delta:w})}function h(y,w){a=Sc.Push;let v=nS(m.location,y,w);l=u()+1;let b=iR(v,l),E=m.createHref(v);try{o.pushState(b,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(E)}i&&c&&c({action:a,location:m.location,delta:1})}function f(y,w){a=Sc.Replace;let v=nS(m.location,y,w);l=u();let b=iR(v,l),E=m.createHref(v);o.replaceState(b,"",E),i&&c&&c({action:a,location:m.location,delta:0})}function p(y){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:JU(y);return v=v.replace(/ $/,"%20"),jn(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let m={get action(){return a},get location(){return t(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(sR,d),c=y,()=>{s.removeEventListener(sR,d),c=null}},createHref(y){return e(s,y)},createURL:p,encodeLocation(y){let w=p(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:f,go(y){return o.go(y)}};return m}var oR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(oR||(oR={}));function t1e(t,e,n){return n===void 0&&(n="/"),n1e(t,e,n)}function n1e(t,e,n,r){let s=typeof e=="string"?Xh(e):e,i=eL(s.pathname||"/",n);if(i==null)return null;let o=ZU(t);r1e(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=g1e(i);a=h1e(o[c],l)}return a}function ZU(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(jn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=Xl([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(jn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),ZU(i.children,e,u,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:u1e(l,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of XU(i.path))s(i,o,c)}),e}function XU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=XU(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function r1e(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:d1e(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const s1e=/^:[\w-]+$/,i1e=3,o1e=2,a1e=1,c1e=10,l1e=-2,aR=t=>t==="*";function u1e(t,e){let n=t.split("/"),r=n.length;return n.some(aR)&&(r+=l1e),e&&(r+=o1e),n.filter(s=>!aR(s)).reduce((s,i)=>s+(s1e.test(i)?i1e:i===""?a1e:c1e),r)}function d1e(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function h1e(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=f1e({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),h=c.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Xl([i,d.pathname]),pathnameBase:_1e(Xl([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Xl([i,d.pathnameBase]))}return o}function f1e(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p1e(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let m=a[d]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?l[h]=void 0:l[h]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:t}}function p1e(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),QU(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function g1e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return QU(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eL(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function m1e(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Xh(t):t;return{pathname:n?n.startsWith("/")?n:y1e(n,e):e,search:E1e(r),hash:C1e(s)}}function y1e(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function H_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w1e(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function v1e(t,e){let n=w1e(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function b1e(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Xh(t):(s=em({},t),jn(!s.pathname||!s.pathname.includes("?"),H_("?","pathname","search",s)),jn(!s.pathname||!s.pathname.includes("#"),H_("#","pathname","hash",s)),jn(!s.search||!s.search.includes("#"),H_("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let c=m1e(s,a),l=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const Xl=t=>t.join("/").replace(/\/\/+/g,"/"),_1e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E1e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,C1e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function x1e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tL=["post","put","patch","delete"];new Set(tL);const S1e=["get",...tL];new Set(S1e);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(this,arguments)}const z2=P.createContext(null),A1e=P.createContext(null),hb=P.createContext(null),fb=P.createContext(null),ef=P.createContext({outlet:null,matches:[],isDataRoute:!1}),nL=P.createContext(null);function pb(){return P.useContext(fb)!=null}function rL(){return pb()||jn(!1),P.useContext(fb).location}function sL(t){P.useContext(hb).static||P.useLayoutEffect(t)}function I1e(){let{isDataRoute:t}=P.useContext(ef);return t?B1e():T1e()}function T1e(){pb()||jn(!1);let t=P.useContext(z2),{basename:e,future:n,navigator:r}=P.useContext(hb),{matches:s}=P.useContext(ef),{pathname:i}=rL(),o=JSON.stringify(v1e(s,n.v7_relativeSplatPath)),a=P.useRef(!1);return sL(()=>{a.current=!0}),P.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let d=b1e(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Xl([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function N1e(t,e){return P1e(t,e)}function P1e(t,e,n,r){pb()||jn(!1);let{navigator:s}=P.useContext(hb),{matches:i}=P.useContext(ef),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let l=rL(),u;if(e){var d;let y=typeof e=="string"?Xh(e):e;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||jn(!1),u=y}else u=l;let h=u.pathname||"/",f=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=t1e(t,{pathname:f}),m=D1e(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Xl([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Xl([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&m?P.createElement(fb.Provider,{value:{location:tm({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Sc.Pop}},m):m}function k1e(){let t=M1e(),e=x1e(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:s},n):null,null)}const O1e=P.createElement(k1e,null);class R1e extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(ef.Provider,{value:this.props.routeContext},P.createElement(nL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $1e(t){let{routeContext:e,match:n,children:r}=t,s=P.useContext(z2);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(ef.Provider,{value:e},r)}function D1e(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||jn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,p=!1,m=null,y=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||O1e,c&&(l<0&&h===0?(F1e("route-fallback"),p=!0,y=null):l===h&&(p=!0,y=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,h+1)),v=()=>{let b;return f?b=m:p?b=y:d.route.Component?b=P.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,P.createElement($1e,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?P.createElement(R1e,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var iL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iL||{}),oL=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(oL||{});function j1e(t){let e=P.useContext(z2);return e||jn(!1),e}function U1e(t){let e=P.useContext(A1e);return e||jn(!1),e}function L1e(t){let e=P.useContext(ef);return e||jn(!1),e}function aL(t){let e=L1e(),n=e.matches[e.matches.length-1];return n.route.id||jn(!1),n.route.id}function M1e(){var t;let e=P.useContext(nL),n=U1e(),r=aL();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function B1e(){let{router:t}=j1e(iL.UseNavigateStable),e=aL(oL.UseNavigateStable),n=P.useRef(!1);return sL(()=>{n.current=!0}),P.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,tm({fromRouteId:e},i)))},[t,e])}const cR={};function F1e(t,e,n){cR[t]||(cR[t]=!0)}function z1e(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Uw(t){jn(!1)}function q1e(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Sc.Pop,navigator:i,static:o=!1,future:a}=t;pb()&&jn(!1);let c=e.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:c,navigator:i,static:o,future:tm({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Xh(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,m=P.useMemo(()=>{let y=eL(u,c);return y==null?null:{location:{pathname:y,search:d,hash:h,state:f,key:p},navigationType:s}},[c,u,d,h,f,p,s]);return m==null?null:P.createElement(hb.Provider,{value:l},P.createElement(fb.Provider,{children:n,value:m}))}function W1e(t){let{children:e,location:n}=t;return N1e(rS(e),n)}new Promise(()=>{});function rS(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,s)=>{if(!P.isValidElement(r))return;let i=[...e,s];if(r.type===P.Fragment){n.push.apply(n,rS(r.props.children,i));return}r.type!==Uw&&jn(!1),!r.props.index||!r.props.children||jn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=rS(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const H1e="6";try{window.__reactRouterVersion=H1e}catch{}const V1e="startTransition",lR=uM[V1e];function G1e(t){let{basename:e,children:n,future:r,window:s}=t,i=P.useRef();i.current==null&&(i.current=Zbe({window:s,v5Compat:!0}));let o=i.current,[a,c]=P.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},u=P.useCallback(d=>{l&&lR?lR(()=>c(d)):c(d)},[c,l]);return P.useLayoutEffect(()=>o.listen(u),[o,u]),P.useEffect(()=>z1e(r),[r]),P.createElement(q1e,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var uR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(uR||(uR={}));var dR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dR||(dR={}));const K1e=qi({body:{margin:0,height:"100vh",width:"100vw",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000",cursor:'url("/assets/lawbpointer.png"), auto'}});function Y1e(){const t=K1e(),{open:e}=db(),{address:n,isConnected:r}=bm(),{isPending:s}=a8(),{disconnect:i}=c8(),{data:o}=l8({address:n}),[a,c]=P.useState("pixelawbs-popup"),[l,u]=P.useState(new Set),[d,h]=P.useState(!1),[f,p]=P.useState(!1),[m,y]=P.useState(!1),[w,v]=P.useState(!1),b=I1e(),E=P.useRef(null);P.useEffect(()=>{if(a==="halloween-popup"&&E.current){const T=E.current.querySelector("script[data-tiktok-embed]");T&&T.remove();const U=document.createElement("script");U.src="https://www.tiktok.com/embed.js",U.async=!0,U.setAttribute("data-tiktok-embed","true"),E.current.appendChild(U)}},[a]);const _=(T,U,D)=>{if(T==="url"&&D)window.open(D,"_blank");else if(T==="popup"&&U)c(U),u($=>{const L=new Set($);return L.delete(U),L}),document.body.offsetWidth;else if(T==="wallet")r?i():e();else if(T==="mint"){if(!n){alert("Please connect your wallet first!");return}h(!0)}else T==="nft-gallery"?p(!0):T==="meme-generator"?y(!0):T==="chess"&&(r?(v(!0),setTimeout(()=>{v(!1),b("/chess")},1500)):e().then(()=>{const $=()=>{window.ethereum&&window.ethereum.selectedAddress?(v(!0),setTimeout(()=>{v(!1),b("/chess")},1500)):setTimeout($,200)};$()}))},x=()=>c(null),S=T=>{u(U=>new Set(U).add(T)),c(null)},A=T=>{T==="mint-popup"?h(!0):T==="nft-gallery-popup"?p(!0):T==="meme-generator-popup"?y(!0):c(T),u(U=>{const D=new Set(U);return D.delete(T),D})},C=()=>h(!1),k=()=>p(!1),O=()=>y(!1),B=()=>{h(!1),u(T=>new Set(T).add("mint-popup"))},F=()=>{p(!1),u(T=>new Set(T).add("nft-gallery-popup"))},H=()=>{y(!1),u(T=>new Set(T).add("meme-generator-popup"))},N=g.jsxs("div",{onClick:()=>{r?i():e()},style:{cursor:"pointer",display:"flex",alignItems:"center",color:r?"limegreen":"red",fontWeight:"bold"},children:[g.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"8px",border:"1px solid black"}}),s?"Connecting...":r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]});return g.jsxs("div",{className:t.body,children:[w&&g.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999},children:[g.jsx("img",{src:"/images/blueknight.png",alt:"Booting Chess...",style:{width:120,height:120,marginBottom:32}}),g.jsx("div",{style:{color:"#fff",fontSize:28,fontFamily:"monospace",letterSpacing:2},children:"LOADING LAWB CHESS..."})]}),g.jsx(WZ,{onIconClick:_}),g.jsx(VZ,{minimizedWindows:Array.from(l),onRestoreWindow:A,walletButton:N,connectionStatus:{connected:r,address:n,ens:o||void 0}}),g.jsxs(Vs,{id:"chat-popup",isOpen:a==="chat-popup",onClose:x,onMinimize:S,children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["join the chat, there is no meme we lawb you ",g.jsx("a",{href:"https://boards.miladychan.org/milady/33793",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"/milady/33793"})]}),g.jsx("img",{src:"/assets/miladychanfaq.png",alt:"Milady Chan FAQ",style:{maxWidth:"100%",marginTop:"10px"}})]}),g.jsxs(Vs,{id:"purity-popup",isOpen:a==="purity-popup",onClose:x,onMinimize:S,children:[g.jsx("p",{style:{marginBottom:"10px"},children:"purify your wallet and cleanse your soul with Purity Finance."}),g.jsx("p",{style:{marginBottom:"10px"},children:"swap any sol token in your wallet directly for $LAWB"}),g.jsx("a",{href:"https://www.purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",style:{cursor:"pointer"},children:"click to Purify"}),g.jsx("img",{src:"/assets/puritylawb.png",alt:"Purity Lawb",style:{maxWidth:"100%",marginTop:"10px"}})]}),g.jsxs(Vs,{id:"lawbstarz-popup",isOpen:a==="lawbstarz-popup",onClose:x,onMinimize:S,children:[g.jsxs("p",{style:{marginBottom:"10px"},children:[" LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER  666x PREMIUM PFP COLLECTION  LAWBSTARZ IS A MUSIC NFT  LAWBSTARZ IS AN ",g.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE  LAWBSTARZ IS INSPIRED BY ",g.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"REMILIA CORP"}),"  LED BY NETWORK SPIRITUALITY  666 ",g.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",g.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 "]}),g.jsx("p",{children:"Chain: Ethereum"}),g.jsxs("p",{children:["Collect on ",g.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),g.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),g.jsxs("blockquote",{className:"twitter-tweet","data-media-max-width":"560",children:[g.jsxs("p",{lang:"en",dir:"ltr",children:["The following  has been transcripted from a live news broadcast:",g.jsx("br",{}),g.jsx("br",{}),"Anchor: Good evening, viewers. Tonight, we embark on an extraordinary journey that defies rational explanation. It all began with February's Cigawrette Packs cargo ship hijacking, little did we know that the.. ",g.jsx("a",{href:"https://t.co/BWgLOk59N4",children:"pic.twitter.com/BWgLOk59N4"})]})," wables (@wables411) ",g.jsx("a",{href:"https://twitter.com/wables411/status/1669009492007354369?ref_src=twsrc%5Etfw",children:"June 14, 2023"})]}),g.jsx("script",{async:!0,src:"https://platform.twitter.com/widgets.js"}),g.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),g.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),g.jsxs(Vs,{id:"lawbstation-popup",isOpen:a==="lawbstation-popup",onClose:x,onMinimize:S,children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",g.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),g.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),g.jsx("p",{style:{marginBottom:"10px"},children:g.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",children:"Collect Lawbstations on Secondary"})}),g.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),g.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),g.jsxs(Vs,{id:"nexus-popup",isOpen:a==="nexus-popup",onClose:x,onMinimize:S,children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",g.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),g.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),g.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),g.jsxs(Vs,{id:"lawbsters-popup",isOpen:a==="lawbsters-popup",onClose:x,onMinimize:S,children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",g.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),g.jsx("p",{children:"Chain: Ethereum"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",g.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})," or ",g.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"NFTX"})]}),g.jsx("div",{style:{maxWidth:"400px",margin:"0 auto"},children:g.jsx(uY,{id:"1620879129850834944"})}),g.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),g.jsx(Vs,{id:"pixelawbs-popup",isOpen:a==="pixelawbs-popup",onClose:x,onMinimize:S,children:(()=>{const T=U=>{U.preventDefault(),c(null),h(!0)};return g.jsxs(g.Fragment,{children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",g.jsx("span",{style:{color:"blue",textDecoration:"underline",cursor:"pointer"},onClick:T,children:"COLLECT HERE"})," OR VISIT ",g.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"SCATTER.ART"})]}),g.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",g.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"PixeladyMaker"})]}),g.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Ethereum"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",g.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),g.jsx("img",{src:"/assets/mint.gif",alt:"Mint",style:{maxWidth:"100%"}})]})})()}),g.jsxs(Vs,{id:"halloween-popup",isOpen:a==="halloween-popup",onClose:x,onMinimize:S,children:[g.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),g.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),g.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",g.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Secondary"})]}),g.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}}),g.jsx("div",{ref:E,style:{maxWidth:"400px",margin:"0 auto"},children:g.jsx("blockquote",{className:"tiktok-embed",cite:"https://www.tiktok.com/@wables.eth/video/7295660710644682027","data-video-id":"7295660710644682027",style:{maxWidth:"605px",minWidth:"325px"},children:g.jsxs("section",{children:[g.jsx("a",{target:"_blank",rel:"noreferrer",title:"@wables.eth",href:"https://www.tiktok.com/@wables.eth?refer=embed",children:"@wables.eth"})," 420 lawbsters hijacked a spirit halloween superstore  minting rn on @ourzora via @PC69 ",g.jsx("a",{target:"_blank",rel:"noreferrer",title:" original sound - wables.eth",href:"https://www.tiktok.com/music/original-sound-7295660837769857835?refer=embed",children:" original sound - wables.eth"})]})})})]}),g.jsxs(Vs,{id:"lawb-popup",isOpen:a==="lawb-popup",onClose:x,onMinimize:S,children:[g.jsx("h1",{style:{marginBottom:"10px"},children:g.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:" $LAWB"})}),g.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",g.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"pump.fun"}),"."]}),g.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),g.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),g.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),g.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),g.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",g.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),g.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",g.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),g.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}}),g.jsx("div",{style:{width:"100%",height:"400px",marginTop:"10px"},children:g.jsx("iframe",{height:"100%",width:"100%",id:"geckoterminal-embed",title:"GeckoTerminal Embed",src:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",frameBorder:"0",allow:"clipboard-write",allowFullScreen:!0})})]}),g.jsx(YZ,{isOpen:d,onClose:C,onMinimize:B,walletAddress:n||""}),g.jsx(zbe,{isOpen:f,onClose:k,onMinimize:F,walletAddress:n}),g.jsx(Vs,{id:"meme-generator-popup",isOpen:m,onClose:O,onMinimize:H,children:g.jsx(YU,{})})]})}const Q1e=qi({galleryContainer:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#c0c0c0",zIndex:200,display:"flex",flexDirection:"column",fontFamily:"'MS Sans Serif', Arial, sans-serif"},header:{background:"navy",color:"#fff",padding:"8px",display:"flex",alignItems:"center",gap:"10px"},backButton:{background:"#c0c0c0",border:"2px outset #fff",padding:"2px 8px",cursor:"pointer","&:active":{borderStyle:"inset"}},headerTitle:{margin:0,fontSize:"1rem",fontWeight:"bold"},content:{flex:1,overflowY:"auto",padding:"1rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},gridItem:{border:"1px solid #808080",padding:"10px",backgroundColor:"#ffffff",cursor:"pointer",textAlign:"center","& img":{width:"100%",height:"auto",marginBottom:"8px"}},detailView:{padding:"1rem","& img":{maxWidth:"100%",marginBottom:"1rem"}},loading:{textAlign:"center",padding:"2rem"},collectionSelector:{display:"flex",gap:"10px",padding:"10px",borderBottom:"2px inset #fff",flexWrap:"wrap"},collectionButton:{padding:"5px 10px",background:"#c0c0c0",border:"2px outset #fff",cursor:"pointer","&.active":{borderStyle:"inset",backgroundColor:"#e0e0e0"}}}),hR=[{slug:"pixelawbs",name:"Pixelawbs",api:"scatter"},{slug:"lawbsters",name:"Lawbsters",api:"opensea",chain:"ethereum"},{slug:"lawbstarz",name:"Lawbstarz",api:"scatter"},{slug:"a-lawbster-halloween",name:"Halloween",api:"opensea",chain:"base"},{slug:"lawbstation",name:"Lawbstation",api:"opensea-solana",chain:"solana"},{slug:"lawbnexus",name:"Nexus",api:"opensea-solana",chain:"solana"}],J1e=({onBack:t,walletAddress:e})=>{const n=Q1e(),{open:r}=db(),[s,i]=P.useState([]),[o,a]=P.useState(!0),[c,l]=P.useState(null),[u,d]=P.useState(hR[0]),[h,f]=P.useState(!1),[p,m]=P.useState(null),[y,w]=P.useState("all"),[v,b]=P.useState(null),E=P.useCallback(async()=>{var A,C;try{if((A=window.solana)!=null&&A.isPhantom){const k=await window.solana.connect();m(k.publicKey.toString());return}if((C=window.solflare)!=null&&C.isSolflare){const k=await window.solflare.connect();m(k.publicKey.toString());return}r()}catch(k){console.error("Failed to connect Solana wallet:",k),alert("Failed to connect Solana wallet. Please make sure Phantom or Solflare is installed.")}f(!1)},[r]);P.useEffect(()=>{var A,C;(A=window.solana)!=null&&A.publicKey?m(window.solana.publicKey.toString()):(C=window.solflare)!=null&&C.publicKey&&m(window.solflare.publicKey.toString())},[]),P.useEffect(()=>{(async()=>{a(!0);try{let C,k=e||void 0;if(u.api==="opensea-solana"){if(!p){f(!0),a(!1);return}k=p,C=await GZ(p,100),console.log("Mobile: Fetched Solana NFTs by owner:",C.data.length)}else u.api==="opensea"?C=await XA(u.slug,100,k):C=await ZA(u.slug,1,100,k);y==="owned"&&p&&(console.log("Filtering for owner:",p),C.data.some(B=>B.owners&&B.owners.length>0)?C.data=C.data.filter(B=>B.owners.some(H=>H.owner_of&&H.owner_of.toLowerCase()===p.toLowerCase())):(console.log("No owner data available from OpenSea for Solana collection"),b("Owner data not available for this Solana collection. Showing all NFTs."))),i(C.data)}catch(C){console.error(C)}finally{a(!1)}})()},[e,u,p,y]),P.useEffect(()=>{h&&E()},[h,E]);const _=async A=>{if(a(!0),u.api==="opensea"&&u.chain)try{const C=await gj(u.chain,A.address,A.token_id.toString()),k={...A,attributes:JSON.stringify(C.traits||[])};l(k)}catch(C){console.error("Failed to fetch full NFT details",C),l(A)}else l(A);a(!1)},x=()=>{if(!c)return null;let A=[];try{A=JSON.parse(c.attributes||"[]")}catch(C){console.error("Failed to parse NFT attributes:",C)}return g.jsxs("div",{className:n.detailView,children:[g.jsx("img",{src:c.image,alt:c.name}),g.jsx("h2",{children:c.name}),g.jsx("h4",{children:"Traits:"}),g.jsx("ul",{children:A.map((C,k)=>g.jsxs("li",{children:[g.jsxs("strong",{children:[C.trait_type,":"]})," ",C.value]},k))})]})},S=()=>g.jsxs(g.Fragment,{children:[g.jsx("div",{className:n.collectionSelector,children:hR.map(A=>g.jsx("button",{className:`${n.collectionButton} ${u.slug===A.slug?"active":""}`,onClick:()=>d(A),children:A.name},A.slug))}),g.jsxs("div",{className:n.content,children:[g.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[g.jsx("button",{onClick:()=>w("all"),style:{background:y==="all"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:y==="all"?"white":"black"},children:"All NFTs"}),g.jsx("button",{onClick:()=>w("owned"),disabled:!e&&!p,style:{background:y==="owned"?"#808080":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:e||p?"pointer":"not-allowed",color:y==="owned"?"white":"black",opacity:e||p?1:.6},children:"My NFTs"}),u.api==="opensea-solana"&&g.jsx("button",{onClick:()=>{E()},style:{background:p?"#4CAF50":"#c0c0c0",border:"2px outset #c0c0c0",padding:"8px 16px",cursor:"pointer",color:p?"white":"black",marginLeft:"auto"},children:p?`Solana: ${p.slice(0,4)}...${p.slice(-4)}`:"Connect Solana"})]}),v&&g.jsx("div",{style:{backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000"},children:v}),u.api==="opensea-solana"&&!p&&g.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",padding:"10px",marginBottom:"10px",color:"#856404"},children:"Connect your Solana wallet (Phantom or Solflare) to view your NFTs from this collection."}),o?g.jsx("div",{className:n.loading,children:"Loading NFTs..."}):g.jsx("div",{className:n.grid,children:s.map(A=>{let C=A.image||A.image_url||A.image_url_shrunk||"/assets/pixelawb.png";return g.jsxs("div",{className:n.gridItem,onClick:()=>void _(A),children:[g.jsx("img",{src:C,alt:A.name,onError:k=>{k.currentTarget.src!==A.image_url&&A.image_url?k.currentTarget.src=A.image_url:k.currentTarget.src!==A.image_url_shrunk&&A.image_url_shrunk?k.currentTarget.src=A.image_url_shrunk:k.currentTarget.src="/assets/pixelawb.png"}}),g.jsx("span",{children:A.name})]},A.id)})})]})]});return g.jsxs("div",{className:n.galleryContainer,children:[g.jsxs("header",{className:n.header,children:[g.jsx("button",{className:n.backButton,onClick:c?()=>l(null):t,children:"Back"}),g.jsx("h2",{className:n.headerTitle,children:c?c.name:"LAWB NFT GALLERY"})]}),g.jsx("div",{className:n.content,children:o?g.jsx("p",{className:n.loading,children:"Loading..."}):c?x():S()})]})},Z1e=qi({overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",zIndex:4e3,display:"flex",alignItems:"center",justifyContent:"center"},popup:{background:"#c0c0c0",border:"2px outset #fff",borderRadius:12,width:"92vw",maxWidth:420,minHeight:240,maxHeight:"90vh",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"stretch",position:"relative",overflow:"hidden"},titleBar:{background:"navy",color:"#fff",fontWeight:"bold",fontFamily:"'MS Sans Serif', Arial, sans-serif",fontSize:16,padding:"8px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px inset #fff",userSelect:"none"},closeButton:{width:28,height:28,background:"#c0c0c0",border:"2px outset #fff",borderRadius:4,color:"#000",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginLeft:8,boxShadow:"1px 1px 0 #888","&:active":{border:"2px inset #fff",background:"#e0e0e0"}},content:{padding:16,overflowY:"auto",fontFamily:"'MS Sans Serif', Arial, sans-serif",color:"#000",fontSize:15,background:"#fff",flex:1}}),vi=({isOpen:t,onClose:e,title:n,children:r})=>{const s=Z1e();return t?g.jsx("div",{className:s.overlay,children:g.jsxs("div",{className:s.popup,children:[g.jsxs("div",{className:s.titleBar,children:[g.jsx("span",{children:n}),g.jsx("button",{className:s.closeButton,onClick:e,title:"Close",children:""})]}),g.jsx("div",{className:s.content,children:r})]})}):null},X1e=({isOpen:t,onClose:e,walletAddress:n})=>{const[r,s]=P.useState([]),[i,o]=P.useState(!1),[a,c]=P.useState(!1),[l,u]=P.useState({}),[d,h]=P.useState(null),{data:f}=u8();P.useEffect(()=>{t&&n&&p()},[t,n]);const p=async()=>{o(!0),h(null);try{const E=await fj(n);s(E);const _={};E.forEach(x=>{_[x.id]=0}),u(_)}catch(E){h(E.message)}finally{o(!1)}},m=(E,_)=>{u(x=>({...x,[E]:Math.max(0,_)}))},y=async()=>{const E=Object.entries(l).filter(([,_])=>_>0).map(([_,x])=>({id:_,quantity:x}));if(E.length===0){h("Please select at least one item to mint");return}if(!f){h("Wallet not connected");return}c(!0),h(null);try{const _=await pj(n,E);if(_.success&&_.mintTransaction){alert("Please confirm the transaction in your wallet.");try{const x=await f.sendTransaction({to:_.mintTransaction.to,value:BigInt(_.mintTransaction.value),data:_.mintTransaction.data});alert(`NFT Minted Successfully: Transaction Hash - ${x}`),e()}catch(x){h("Transaction failed: "+x.message)}}else throw new Error(_.message||"Could not retrieve minting transaction.")}catch(_){h("Minting failed: "+_.message)}finally{c(!1)}},w=(E,_)=>`${parseFloat(E)} ${_}`,v={border:"1px solid #808080",padding:"10px",marginBottom:"10px",backgroundColor:"#f8f8f8",borderRadius:"8px",textAlign:"left"},b={backgroundColor:"#ffcccc",border:"1px solid #ff0000",padding:"10px",marginBottom:"10px",color:"#cc0000",borderRadius:"8px"};return g.jsxs(vi,{isOpen:t,onClose:e,title:"Mint Pixelawbs",children:[d&&g.jsx("div",{style:b,children:d}),i?g.jsx("div",{children:"Loading eligible invite lists..."}):r.length===0?g.jsx("div",{children:"No eligible invite lists found for your wallet."}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{marginBottom:"20px"},children:[g.jsx("h3",{style:{color:"#008080",fontSize:"1rem",margin:0},children:"Available Lists:"}),r.map(E=>g.jsxs("div",{style:v,children:[g.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:E.name}),g.jsxs("div",{style:{fontSize:"12px",marginBottom:"5px"},children:["Price: ",w(E.token_price,E.currency_symbol)]}),g.jsxs("div",{style:{fontSize:"12px",marginBottom:"10px"},children:["Limit: ",E.wallet_limit===4294967295?"Unlimited":E.wallet_limit," per wallet"]}),g.jsx("input",{type:"number",min:0,max:E.wallet_limit===4294967295?void 0:E.wallet_limit,value:l[E.id]||"",onChange:_=>m(E.id,parseInt(_.target.value)||0),style:{width:"60px",fontSize:"1rem",marginRight:"8px"}}),g.jsx("span",{style:{fontSize:"0.95rem"},children:"Qty"})]},E.id))]}),g.jsx("button",{style:{background:"#00ffff",color:"#000",border:"none",borderRadius:"8px",padding:"12px 32px",fontWeight:"bold",fontSize:"1.1rem",marginTop:"1.5rem",cursor:"pointer",boxShadow:"1px 1px 0 #aaa"},onClick:y,disabled:a,children:a?"Minting...":"Mint"})]})]})},e_e=qi({mobileContainer:{minHeight:"100vh",minWidth:"100vw",width:"100vw",height:"100vh",background:"url('/assets/background.gif') no-repeat center center fixed",backgroundSize:"cover",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",position:"relative",overflow:"hidden"},header:{backgroundColor:"#c00",padding:"0.75rem 0",border:"none",textAlign:"center",marginBottom:"1.5rem"},title:{margin:0,fontSize:"1.1rem",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",color:"#fff",letterSpacing:"1px",textShadow:"1px 1px 0 #000",textTransform:"uppercase"},iconGrid:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem",marginBottom:"80px"},icon:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",cursor:"pointer",textAlign:"center","& img":{width:"64px",height:"64px"},"& span":{wordBreak:"break-word"}},taskbar:{position:"fixed",left:0,bottom:0,width:"100%",maxWidth:"100vw",height:"56px",background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1rem",zIndex:1e3,borderTop:"2px solid #00ffff"},menuButton:{background:"#00ffff",color:"#000",fontWeight:"bold",border:"none",borderRadius:"4px",padding:"8px 16px",fontSize:"1rem",cursor:"pointer",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",boxShadow:"2px 2px 0 #000"},walletStatus:{display:"flex",alignItems:"center",color:"#fff",fontWeight:"bold",fontSize:"0.9rem",fontFamily:"'MS Sans Serif', Arial, sans-serif"},statusDot:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:t=>t?"limegreen":"red",marginRight:"6px",border:"1px solid #000"},clock:{color:"#00ffff",fontFamily:"'Press Start 2P', 'MS Sans Serif', Arial, sans-serif",fontSize:"1rem",fontWeight:"bold",textShadow:"1px 1px 0 #000",marginRight:"24px"},pixelawbsPopupOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},pixelawbsPopup:{background:"#fff",borderRadius:"12px",width:"90vw",maxWidth:"420px",height:"75vh",maxHeight:"600px",boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1.5rem",position:"relative"},closeButton:{position:"absolute",top:"10px",right:"10px",background:"#00ffff",color:"#000",border:"none",borderRadius:"50%",width:"32px",height:"32px",fontSize:"1.5rem",fontWeight:"bold",cursor:"pointer",boxShadow:"1px 1px 0 #000"},menuOverlay:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",zIndex:3e3,display:"flex",alignItems:"flex-end",justifyContent:"center",pointerEvents:"auto"},menuModal:{width:"100vw",background:"#c0c0c0",borderTopLeftRadius:"16px",borderTopRightRadius:"16px",boxShadow:"0 -4px 24px rgba(0,0,0,0.2)",padding:"15px 0 8px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",zIndex:3100,marginBottom:"70px",maxHeight:"calc(70vh - 56px)",overflowY:"auto",position:"absolute",left:0,bottom:"56px"},menuLink:{display:"block",width:"90%",padding:"6px",color:"#000",textDecoration:"none",background:"#e0e0e0",borderRadius:"8px",fontWeight:"bold",fontSize:"1rem",textAlign:"center",marginBottom:"3px",border:"2px outset #fff",boxShadow:"1px 1px 0 #aaa"}}),t_e=[{id:"lawbsters",name:"Lawbsters",image:"/assets/lawbsters.gif",description:"420 Lawbsters. ETH."},{id:"lawbstarz",name:"Lawbstarz",image:"/assets/lawbstarz.gif",description:"666 Lawbstarz. ETH."},{id:"halloween",name:"Halloween",image:"/assets/lawbsterhalloween.gif",description:"Halloween Lawbsters. BASE."},{id:"pixelawbs",name:"Pixelawbs",image:"/assets/pixelawb.png",description:"2222 Pixelawbs. ETH."}],n_e=[{id:"lawbstation",name:"Lawbstation",image:"/assets/lawbstation.GIF",description:"Lawbstation. SOL."},{id:"nexus",name:"Nexus",image:"/assets/nexus.gif",description:"Nexus. SOL."}],r_e=()=>{const t=e_e(),{open:e}=db(),{address:n,isConnected:r}=bm(),{isPending:s}=a8(),{disconnect:i}=c8(),{data:o}=l8({address:n}),[a,c]=P.useState("main"),[l,u]=P.useState(!1),[d,h]=P.useState(()=>new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),[f,p]=P.useState(!1),[m,y]=P.useState(!1),[w,v]=P.useState(!1),[b,E]=P.useState(!1),[_,x]=P.useState(!1),[S,A]=P.useState(!1),[C,k]=P.useState(!1),[O,B]=P.useState(!1),[F,H]=P.useState(!1),[N,T]=P.useState(!1),[U,D]=P.useState(!1),[$,L]=P.useState(!1),q=[{label:"Mint",icon:"/assets/mint.gif",action:()=>y(!0)},{label:"EVM NFT'S FOLDER",icon:"/assets/evmfolder.png",action:()=>v(!0)},{label:"SOL NFTS FOLDER",icon:"/assets/solfolder.png",action:()=>E(!0)},{label:"$LAWB",icon:"/assets/lawbticker.gif",action:()=>x(!0)},{label:r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Wallet",icon:"/assets/wallet.png",action:()=>{r?i():e()},disabled:s}],J=ie=>{ie.disabled||ie.action()};if(P.useEffect(()=>{const ie=window.setInterval(()=>{h(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},1e3);return()=>window.clearInterval(ie)},[]),P.useEffect(()=>{u(!0)},[]),a==="gallery")return g.jsx(J1e,{onBack:()=>c("main"),walletAddress:n||void 0});function re({open:ie,onClose:me,title:K,nfts:X}){const se=te=>{switch(te){case"lawbsters":A(!0);break;case"lawbstarz":k(!0);break;case"pixelawbs":B(!0);break;case"halloween":H(!0);break;case"lawbstation":T(!0);break;case"nexus":D(!0);break}};return g.jsx(vi,{isOpen:ie,onClose:me,title:K,children:g.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,width:"100%"},children:X.map(te=>g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",background:"#f8f8f8",borderRadius:8,padding:8,cursor:"pointer"},onClick:()=>se(te.id),children:[g.jsx("img",{src:te.image,alt:te.name,style:{width:80,height:80,objectFit:"contain",marginBottom:8}}),g.jsx("span",{style:{fontWeight:"bold",fontSize:14},children:te.name}),g.jsx("span",{style:{fontSize:12,color:"#555",textAlign:"center"},children:te.description})]},te.id))})})}function ne({open:ie,onClose:me}){return ie?g.jsxs(vi,{isOpen:ie,onClose:me,title:"$LAWB",children:[g.jsx("h1",{style:{marginBottom:"10px"},children:g.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:" $LAWB"})}),g.jsxs("p",{style:{marginBottom:"10px"},children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",g.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"pump.fun"}),"."]}),g.jsx("p",{style:{marginBottom:"10px"},children:"$lawb airdropped to LawbStation holders 03.19.24"}),g.jsx("p",{style:{marginBottom:"10px"},children:"THERE IS NO MEME WE $LAWB YOU"}),g.jsx("p",{style:{marginBottom:"10px"},children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),g.jsx("p",{style:{marginBottom:"10px"},children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),g.jsx("p",{style:{marginBottom:"10px"},children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",g.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"https://portalbridge.com/"})]}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 3. select token quantity, confirm transactions."}),g.jsxs("p",{style:{marginBottom:"10px"},children:["step 4. now that you have $lawb on arbitrum, visit ",g.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 5. from arb wallet, select $lawb token."}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),g.jsx("p",{style:{marginBottom:"10px"},children:"step 7. select quantity and confirm transactions."}),g.jsx("img",{src:"/assets/lawbticker.gif",alt:"ticker $lawb",style:{width:"100%",marginBottom:"10px",marginTop:"10px"}}),g.jsx("div",{style:{width:"100%",height:"400px",marginTop:"10px"},children:g.jsx("iframe",{height:"100%",width:"100%",id:"geckoterminal-embed",title:"GeckoTerminal Embed",src:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",frameBorder:"0",allow:"clipboard-write",allowFullScreen:!0})})]}):null}return g.jsxs("div",{className:t.mobileContainer,children:[g.jsx("header",{className:t.header,children:g.jsx("h1",{className:t.title,children:"there is no meme we lawb you"})}),g.jsx("div",{className:t.iconGrid,children:q.map(ie=>g.jsxs("div",{className:t.icon,onClick:()=>J(ie),children:[g.jsx("img",{src:ie.icon,alt:ie.label}),g.jsx("span",{children:ie.label})]},ie.label))}),l&&g.jsxs(vi,{isOpen:l,onClose:()=>u(!1),title:"Pixelawbs",children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",g.jsx("span",{style:{color:"#ff0000",textDecoration:"underline",cursor:"pointer"},onClick:()=>{u(!1),y(!0)},children:"COLLECT HERE"})," OR VISIT ",g.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"SCATTER.ART"})]}),g.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",g.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PixeladyMaker"})]}),g.jsx("p",{style:{marginBottom:"10px"},children:g.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x2d278e95b2fc67d4b27a276807e24e479d9707f6",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})})]}),f&&g.jsx("div",{className:t.menuOverlay,onClick:()=>p(!1),children:g.jsxs("div",{className:t.menuModal,onClick:ie=>ie.stopPropagation(),children:[g.jsx("a",{href:"https://www.geckoterminal.com/solana/pools/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=market_cap&resolution=15m",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"GeckoTerminal"}),g.jsx("a",{href:"https://x.com/lawbstation",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbStation Twitter"}),g.jsx("a",{href:"https://x.com/lawbnexus",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"LawbNexus Twitter"}),g.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/info/",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"NFTX - Lawbsters"}),g.jsx("a",{href:"https://purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Purity"}),g.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"UwU LAWB"}),g.jsx("a",{href:"https://t.me/lawblawblawb",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Telegram"}),g.jsx("a",{href:"https://discord.gg/JdkzUHYmMy",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Discord"}),g.jsx("a",{href:"https://store.fun/lawbshop",target:"_blank",rel:"noopener noreferrer",className:t.menuLink,onClick:()=>p(!1),children:"Lawb.Shop"}),g.jsx("button",{className:t.menuLink,onClick:()=>{p(!1),L(!0)},style:{border:"none",cursor:"pointer",width:"90%",margin:"0 auto",display:"block"},children:"Meme Generator"})]})}),g.jsx(X1e,{isOpen:m,onClose:()=>y(!1),walletAddress:n||""}),g.jsx(re,{open:w,onClose:()=>v(!1),title:"EVM NFT'S FOLDER",nfts:t_e}),g.jsx(re,{open:b,onClose:()=>E(!1),title:"SOL NFTS FOLDER",nfts:n_e}),g.jsx(ne,{open:_,onClose:()=>x(!1)}),g.jsxs(vi,{isOpen:S,onClose:()=>A(!1),title:"Lawbsters",children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["420 Lawbsters seem nice but a human controlled by a lobster would never amount to anything without a roadmap. A ",g.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Cigawrette Packs"})," derivative."]}),g.jsx("p",{children:"Chain: Ethereum"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",g.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})," or ",g.jsx("a",{href:"https://v2.nftx.io/vault/0xdb98a1ae711d8bf186a8da0e81642d81e0f86a05/buy/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"NFTX"})]}),g.jsx("img",{src:"/assets/lawbsters.gif",alt:"Lawbsters",style:{width:"100%",marginTop:"10px"}})]}),g.jsxs(vi,{isOpen:C,onClose:()=>k(!1),title:"Lawbstarz",children:[g.jsxs("p",{style:{marginBottom:"10px"},children:[" LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER  666x PREMIUM PFP COLLECTION  LAWBSTARZ IS A MUSIC NFT  LAWBSTARZ IS AN ",g.jsx("a",{href:"https://allstarz.world",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"ALLSTARZ"})," DERIVATIVE  LAWBSTARZ IS INSPIRED BY ",g.jsx("a",{href:"https://www.remilia.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"REMILIA CORP"}),"  LED BY NETWORK SPIRITUALITY  666 ",g.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY ",g.jsx("a",{href:"https://x.com/portionclub69",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PORTIONCLUB69"})," AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 "]}),g.jsx("p",{children:"Chain: Ethereum"}),g.jsxs("p",{children:["Collect on ",g.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),g.jsx("img",{src:"/assets/lawbstarz.gif",alt:"Lawbstarz",style:{maxWidth:"100%",marginTop:"10px"}}),g.jsx("img",{src:"/assets/lawbstarzhotelroom.png",alt:"Lawbstarz Hotel Room",style:{maxWidth:"100%",marginTop:"10px"}}),g.jsx("img",{src:"/assets/tile-06-audio-image0-lawbstarz dj set 1.0 copy.png",alt:"Lawbstarz DJ Set",style:{maxWidth:"100%",marginTop:"10px"}})]}),g.jsxs(vi,{isOpen:O,onClose:()=>B(!1),title:"Pixelawbs",children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["PIXELAWBS NOW MINTING ON ETHEREUM! CONNECT WALLET AND ",g.jsx("span",{style:{color:"#ff0000",textDecoration:"underline",cursor:"pointer"},onClick:()=>{B(!1),y(!0)},children:"COLLECT HERE"})," OR VISIT ",g.jsx("a",{href:"https://www.scatter.art/collection/pixelawbs",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"SCATTER.ART"})]}),g.jsx("video",{controls:!0,src:"/assets/pixelawbs.mp4",style:{width:"100%",marginBottom:"10px"},preload:"none",poster:"/assets/pixelawbsintro.png"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["2222 Pixelated Lawbsters inspired by ",g.jsx("a",{href:"https://pixeladymaker.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"PixeladyMaker"})]})]}),g.jsxs(vi,{isOpen:F,onClose:()=>H(!1),title:"A Lawbster Halloween",children:[g.jsx("h3",{style:{marginBottom:"10px"},children:"A LAWBSTER HALLOWEEN"}),g.jsx("p",{style:{marginBottom:"10px"},children:"a Lawbster Halloween party seems nice but a a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore."}),g.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Base"}),g.jsxs("p",{style:{marginBottom:"10px"},children:["Collect on ",g.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),g.jsx("img",{src:"/assets/lawbsterhalloween.gif",alt:"Lawbster Halloween",style:{width:"100%",marginBottom:"10px"}})]}),g.jsxs(vi,{isOpen:N,onClose:()=>T(!1),title:"Lawbstation",children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["Lawbstations: low poly Lawbsters viewed through various cathode-ray tubes built on ",g.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"MiladyStation"})," technology. Inspired by Milady, Allstarz, Rusty Rollers, Cigawrette Packs, SPX6900 and Radbro. Brought to you in part by PortionClub and Mony Corp Group. LawbStations seem nice but a lobster controlled by MiladyStation will never achieve anything without a roadmap."]}),g.jsx("p",{style:{marginBottom:"10px"},children:"Chain: Solana"}),g.jsx("p",{style:{marginBottom:"10px"},children:g.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Collect Lawbstations on Secondary"})}),g.jsx("img",{src:"/assets/lawbstation.GIF",alt:"Lawbstation",style:{width:"100%",marginTop:"10px"}}),g.jsx("video",{controls:!0,src:"/assets/lawbstation.mp4",style:{width:"100%",marginTop:"10px"}})]}),g.jsxs(vi,{isOpen:U,onClose:()=>D(!1),title:"Nexus",children:[g.jsxs("p",{style:{marginBottom:"10px"},children:["1000 Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana. Collect on ",g.jsx("a",{href:"https://magiceden.us/marketplace/lawbnexus",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff0000",textDecoration:"underline"},children:"Secondary"})]}),g.jsx("img",{src:"/assets/nexus.gif",alt:"Nexus",style:{width:"100%",marginBottom:"10px"}}),g.jsx("video",{controls:!0,src:"/assets/nexusminting.mp4",style:{width:"100%"}})]}),g.jsx(vi,{isOpen:$,onClose:()=>L(!1),title:"Meme Generator",children:g.jsx(YU,{})}),g.jsxs("div",{className:t.taskbar,children:[g.jsx("button",{className:t.menuButton,onClick:()=>p(!0),children:"Menu"}),g.jsxs("div",{className:t.walletStatus,children:[g.jsx("span",{style:{height:"10px",width:"10px",borderRadius:"50%",backgroundColor:r?"limegreen":"red",marginRight:"6px",border:"1px solid #000",display:"inline-block"}}),r?o||`${n==null?void 0:n.slice(0,6)}...${n==null?void 0:n.slice(-4)}`:"Disconnected"]}),g.jsx("span",{className:t.clock,children:d})]})]})};function s_e(t){const e=i=>typeof window<"u"?window.matchMedia(i).matches:!1,[n,r]=P.useState(e(t));function s(){r(e(t))}return P.useEffect(()=>{const i=window.matchMedia(t);return s(),i.addEventListener("change",s),()=>{i.removeEventListener("change",s)}},[t]),n}function i_e(t){let e=[],n,r;function s(a){return Ig.parseEvmChainId(a)||1}function i(){var a;return n||(n=Jl.getInstance({projectId:t.options.projectId,chainId:(a=R.getActiveCaipNetwork())==null?void 0:a.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:c=>{c==="iframe_load_failed"?xn.open(on.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?xn.open(on.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&xn.open(on.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:on.EmbeddedWalletAbortController})),n}async function o(a={}){var m,y;const c=i();let l=a.chainId;if(a.isReconnecting){const w=Ig.parseEvmChainId(c.getLastUsedChainId()||""),v=(m=t.chains)==null?void 0:m[0].id;if(l=w||v,!l)throw new Error("ChainId not found in provider")}const u=(y=ye.state.preferredAccountTypes)==null?void 0:y.eip155,{address:d,chainId:h,accounts:f}=await c.connect({chainId:l,preferredAccountType:u,socialUri:a.socialUri});e=(f==null?void 0:f.map(w=>w.address))||[d];const p=s(h);return{accounts:e,account:d,chainId:p,chain:{id:p,unsuported:!1}}}return a=>({id:ee.CONNECTOR_ID.AUTH,name:ee.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:ee.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,l},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){var c;return this.provider||(this.provider=Jl.getInstance({projectId:t.options.projectId,chainId:(c=R.getActiveCaipNetwork())==null?void 0:c.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:on.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?xn.open(on.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?xn.open(on.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&xn.open(on.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return s(l)},async isAuthorized(){const l=R.state.activeChain===ee.CHAIN.EVM;if(ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(h=>be.getConnectorId(h)===ee.CONNECTOR_ID.AUTH)&&!l)return!1;const d=await this.getProvider();return Promise.resolve(d.getLoginEmailUsed())},async switchChain({chainId:c}){var l,u;try{const d=a.chains.find(m=>m.id===c);if(!d)throw new Co(new Error("chain not found on connector."));const h=await this.getProvider(),f=(l=ye.state.preferredAccountTypes)==null?void 0:l.eip155,p=await h.connect({chainId:c,preferredAccountType:f});return e=((u=p==null?void 0:p.accounts)==null?void 0:u.map(m=>m.address))||[p.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),d}catch(d){throw d instanceof Error?new Co(d):d}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(bc)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}q2.type="walletConnect";function q2(t,e){const n=t.isNewChainsStale??!0;let r,s,i,o,a,c,l;return u=>({id:"walletConnect",name:"WalletConnect",type:q2.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),c||(c=this.onSessionDelete.bind(this),d.on("session_delete",c)))},async connect({...d}={}){var h,f,p;try{const m=R.getCaipNetworks(),y=await this.getProvider();if(!y)throw new Ya;a||(a=this.onDisplayUri,y.on("display_uri",a));const w=await this.isChainsStale();y.session&&w&&await y.disconnect();const v=le.state.universalProviderConfigOverride;if(!y.session||w){const C=Op.createNamespaces(m,v);await y.connect({optionalNamespaces:C,..."pairingTopic"in d?{pairingTopic:d.pairingTopic}:{}}),this.setRequestedChainsIds(m.map(k=>Number(k.id)))}const b=await this.getAccounts(),E=await this.getChainId(),_=(p=(f=(h=y.session)==null?void 0:h.namespaces)==null?void 0:f.eip155)==null?void 0:p.chains,x=_==null?void 0:_.some(C=>Number(C.split(":")[1])===E);let S=1;x?S=E:_!=null&&_[0]&&(S=Number(_[0].split(":")[1])),a&&(y.removeListener("display_uri",a),a=void 0),o&&(y.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),y.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),y.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),y.on("disconnect",l)),c||(c=this.onSessionDelete.bind(this),y.on("session_delete",c));const A=v==null?void 0:v.defaultChain;return y.setDefaultChain(A??`eip155:${S}`),{accounts:b,chainId:S}}catch(m){throw/(user rejected|connection request reset)/i.test(m==null?void 0:m.message)?new kn(m):m}},async disconnect(){const d=await this.getProvider();try{await(d==null?void 0:d.disconnect())}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{i&&(d==null||d.removeListener("chainChanged",i),i=void 0),l&&(d==null||d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d==null||d.on("connect",o)),s&&(d==null||d.removeListener("accountsChanged",s),s=void 0),c&&(d==null||d.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var p,m,y;const d=await this.getProvider();if(!((p=d==null?void 0:d.session)!=null&&p.namespaces))return[];const h=(y=(m=d==null?void 0:d.session)==null?void 0:m.namespaces[ee.CHAIN.EVM])==null?void 0:y.accounts;return(h==null?void 0:h.map(w=>w.split(":")[2]))??[]},async getProvider({chainId:d}={}){var p,m;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const h=we.getActiveNamespace(),f=(p=e.getCaipNetwork())==null?void 0:p.id;if(d&&f!==d&&h){const y=we.getStoredActiveCaipNetworkId(),w=e.getCaipNetworks(h),v=w==null?void 0:w.find(b=>b.id===y);v&&v.chainNamespace===ee.CHAIN.EVM&&await((m=this.switchChain)==null?void 0:m.call(this,{chainId:Number(v.id)}))}return r},async getChainId(){var m,y,w,v;const d=(m=e.getCaipNetwork(ee.CHAIN.EVM))==null?void 0:m.id;if(d)return d;const f=(v=(w=(y=(await this.getProvider()).session)==null?void 0:y.namespaces[ee.CHAIN.EVM])==null?void 0:w.chains)==null?void 0:v[0],p=R.getCaipNetworks().find(b=>b.id===f);return p==null?void 0:p.id},async isAuthorized(){try{const[d,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){var m,y,w,v;const f=await this.getProvider();if(!f)throw new Ya;const p=R.getCaipNetworks().find(b=>b.id===h);if(!p)throw new Co(new bg);try{await f.request({method:"wallet_switchEthereumChain",params:[{chainId:Ke(h)}]}),p!=null&&p.caipNetworkId&&f.setDefaultChain(p==null?void 0:p.caipNetworkId),u.emitter.emit("change",{chainId:Number(h)});const b=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...b,h]),{...p,id:p.id}}catch(b){const E=b;if(/(?:user rejected)/iu.test(E.message))throw new kn(E);try{let _;d!=null&&d.blockExplorerUrls?_=d.blockExplorerUrls:_=(m=p.blockExplorers)!=null&&m.default.url?[(y=p.blockExplorers)==null?void 0:y.default.url]:[];const x=((v=(w=p.rpcUrls)==null?void 0:w.chainDefault)==null?void 0:v.http)||[],S={blockExplorerUrls:_,chainId:Ke(h),chainName:p.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:p.nativeCurrency,rpcUrls:x};await f.request({method:"wallet_addEthereumChain",params:[S]});const A=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...A,h]),{...p,id:p.id}}catch(_){throw new kn(_)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:d.map(h=>bc(h))})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},onConnect(d){this.setRequestedChainsIds(R.getCaipNetworks().map(h=>Number(h.id)))},async onDisconnect(d){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const h=await this.getProvider();s&&(h.removeListener("accountsChanged",s),s=void 0),i&&(h.removeListener("chainChanged",i),i=void 0),l&&(h.removeListener("disconnect",l),l=void 0),c&&(h.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),h.on("connect",o))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var f,p,m;if(!((f=r==null?void 0:r.session)!=null&&f.namespaces))return[];const d=(m=(p=r==null?void 0:r.session)==null?void 0:p.namespaces[ee.CHAIN.EVM])==null?void 0:m.accounts;return(d==null?void 0:d.map(y=>Number.parseInt(y.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var h;const d=await((h=u.storage)==null?void 0:h.getItem(this.requestedChainsStorageKey))??[];return[...new Set(d)]},async isChainsStale(){if(!n)return!1;const d=u.chains.map(p=>p.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(p=>d.includes(p)))return!1;const f=await this.getRequestedChainsIds();return!d.every(p=>f.includes(Number(p)))},async setRequestedChainsIds(d){var h;await((h=u.storage)==null?void 0:h.setItem(this.requestedChainsStorageKey,d))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const Bf=Jt({pendingTransactions:0}),fR={state:Bf,subscribeKey(t,e){return ur(Bf,t,e)},increase(t){Bf[t]+=1},decrease(t){Bf[t]-=1},reset(t){Bf[t]=0}};function o_e(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}async function a_e(t){if(De.isSafeApp()){const{safe:e}=await wn(async()=>{const{safe:n}=await import("./index-DmPC3n0-.js");return{safe:n}},[]);if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function c_e(t){try{const{coinbaseWallet:e}=await wn(async()=>{const{coinbaseWallet:n}=await import("./index-DmPC3n0-.js");return{coinbaseWallet:n}},[]);if(e&&!t.some(n=>n.id==="coinbaseWalletSDK"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const l_e={enable:!1,pollingInterval:3e4};class u_e extends KU{constructor(e){const n=go.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=ee.CHAIN.EVM,this.adapterType=ee.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...l_e,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===ee.CONNECTOR_ID.AUTH){const i=await n.getProvider();if(!(i!=null&&i.user))return{accounts:[]};const{address:o,accounts:a}=i.user;return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>De.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:s}=Vd(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(i=>De.createAccount("eip155",i||"","eoa"))})}checkChainId(){const{chainId:e}=Vd(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===ee.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var a,c;const i=(a=e.transports)==null?void 0:a[s.id],o=go.getCaipNetworkId(s);i?n[s.id]=go.extendWagmiTransports(s,e.projectId,i):n[s.id]=go.getViemTransport(s,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=JW({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=PW(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),fR.increase("pendingTransactions")}});const e=fR.subscribeKey("pendingTransactions",n=>{var r;n>=ee.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){D5(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e!=null&&e.chainId&&(e==null?void 0:e.chainId)!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"&&(e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){const n=[];if(e.enableCoinbase!==!1){const s=await c_e(this.wagmiConfig.connectors);s&&n.push(s)}const r=await a_e(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(s=>{const i=this.wagmiConfig._internal.connectors.setup(s);return this.wagmiConfig._internal.connectors.setState(o=>[...o,i]),this.addWagmiConnector(i,e)}))}addWagmiConnectors(e,n){var o,a,c,l;const r=[];e.enableWalletConnect!==!1&&r.push(q2(e,n)),e.enableInjected!==!1&&r.push(xv({shimDisconnect:!0}));const s=((o=n==null?void 0:n.remoteFeatures)==null?void 0:o.email)??!0,i=Array.isArray((a=n==null?void 0:n.remoteFeatures)==null?void 0:a.socials)&&((l=(c=n==null?void 0:n.remoteFeatures)==null?void 0:c.socials)==null?void 0:l.length)>0;(s||i)&&r.push(i_e({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(u=>{const d=this.wagmiConfig._internal.connectors.setup(u);this.wagmiConfig._internal.connectors.setState(h=>[...h,d])})}async signMessage(e){try{return{signature:await AW(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=Vd(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await xW(this.wagmiConfig,s);const i=await SW(this.wagmiConfig,s);return await kW(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,s=Number(Ig.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await OW(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await yW(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return Bq(e.value,e.decimals)}formatUnits(e){return Lh(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(e.id===ee.CONNECTOR_ID.AUTH||e.id===ee.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:xc.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:xc.ConnectorNamesMap[e.id]??e.name,imageId:xc.ConnectorImageIds[e.id],type:xc.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===ee.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){j5(this.wagmiConfig,{onChange:r=>{r.forEach(s=>this.addWagmiConnector(s,e))}}),this.addWagmiConnectors(e,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addThirdPartyConnectors(e)}async syncConnection(e){var l,u;const{id:n,chainId:r}=e,i=oo(this.wagmiConfig).find(d=>d.connector.id===n),o=this.getWagmiConnector(n),a=await(o==null?void 0:o.getProvider());if(De.isSafeApp()&&n===ee.CONNECTOR_ID.SAFE&&!(i!=null&&i.accounts.length)){const d=this.getWagmiConnector("safe");if(d){const h=await bw(this.wagmiConfig,{connector:d,chainId:Number(r)}),f=await d.getProvider();return{chainId:Number(r),address:h.accounts[0],provider:f,type:(l=i==null?void 0:i.connector.type)==null?void 0:l.toUpperCase(),id:i==null?void 0:i.connector.id}}}return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:a,type:(u=i==null?void 0:i.connector.type)==null?void 0:u.toUpperCase(),id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await bw(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await FT(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var u,d,h,f,p;const{id:n,provider:r,type:s,info:i,chainId:o,socialUri:a}=e,c=this.getWagmiConnector(n);if(!c)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&i&&c.id===ee.CONNECTOR_ID.EIP6963&&((u=c.setEip6963Wallet)==null||u.call(c,{provider:r,info:i})),c.uid===((h=(d=this.wagmiConfig)==null?void 0:d.state)==null?void 0:h.current)){const m=(p=(f=this.wagmiConfig.state)==null?void 0:f.connections)==null?void 0:p.get(c.uid);if(m)return{address:m==null?void 0:m.accounts[0],chainId:m==null?void 0:m.chainId,provider:r,type:s,id:n}}const l=await bw(this.wagmiConfig,{connector:c,chainId:o?Number(o):void 0,socialUri:a});return{address:l.accounts[0],chainId:l.chainId,provider:r,type:s,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await pC(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,i=this.balancePromises[s];if(i)return i;const o=we.getNativeBalanceCacheForCaipAddress(s);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[s]=new Promise(async a=>{var c,l;try{const u=Number(e.chainId),d=await _W(this.wagmiConfig,{address:e.address,chainId:u,token:(l=(c=e.tokens)==null?void 0:c[r.caipNetworkId])==null?void 0:l.address});we.updateNativeBalanceCache({caipAddress:s,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),a({balance:d.formatted,symbol:d.symbol})}catch(u){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",u),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=oo(this.wagmiConfig);await Promise.allSettled(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await R5(this.wagmiConfig,{connector:r})})),this.wagmiConfig.state.connections.clear()}async switchNetwork(e){var r,s,i,o,a;const{caipNetwork:n}=e;await FT(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[((i=(s=(r=n.rpcUrls)==null?void 0:r.chainDefault)==null?void 0:s.http)==null?void 0:i[0])??""],blockExplorerUrls:[((o=n.blockExplorers)==null?void 0:o.default.url)??""],iconUrls:[((a=n.assets)==null?void 0:a.imageUrl)??""]}}),await super.switchNetwork(e)}async getCapabilities(e){var a,c;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=oo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(c=(a=i.session)==null?void 0:a.sessionProperties)==null?void 0:c.capabilities;if(o){const u=o_e(o)[e];if(u)return u}return await i.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=oo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=oo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=oo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){e.on("connect",()=>{const n=oo(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(s=>s.connector.id===r.id)){if(R.state.activeChain==="eip155")return;pC(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new F2({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}const cL={id:1992,name:"Sanko Testnet",network:"sanko",nativeCurrency:{decimals:18,name:"tDMT",symbol:"tDMT"},rpcUrls:{public:{http:["https://sanko-arb-sepolia.rpc.caldera.xyz/http"]},default:{http:["https://sanko-arb-sepolia.rpc.caldera.xyz/http"]}},blockExplorers:{default:{name:"SankoScan",url:"https://sanko-scan.caldera.xyz"}}},lL="7c65f27254d6ddd24cf7eedf2685c4fb",d_e={name:"Lawb.xyz",description:"Windows 98-style NFT site",url:"https://lawb.xyz",icons:["/assets/favicon.ico"]},uL=new u_e({networks:[GU,cL],projectId:lL,ssr:!1});Bbe({adapters:[uL],networks:[GU,cL],projectId:lL,metadata:d_e,features:{analytics:!1}});const h_e=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wn(async()=>{const{default:r}=await Promise.resolve().then(()=>tf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class W2 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class f_e extends W2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class p_e extends W2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class g_e extends W2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var sS;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(sS||(sS={}));var m_e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class y_e{constructor(e,{headers:n={},customFetch:r,region:s=sS.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=h_e(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return m_e(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:l}).catch(p=>{throw new f_e(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new p_e(u);if(!u.ok)throw new g_e(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(s){return{data:null,error:s}}})}}var cs={},H2={},gb={},Lm={},mb={},yb={},w_e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},kh=w_e();const v_e=kh.fetch,dL=kh.fetch.bind(kh),hL=kh.Headers,b_e=kh.Request,__e=kh.Response,tf=Object.freeze(Object.defineProperty({__proto__:null,Headers:hL,Request:b_e,Response:__e,default:dL,fetch:v_e},Symbol.toStringTag,{value:"Module"})),E_e=Q0(tf);var wb={};Object.defineProperty(wb,"__esModule",{value:!0});let C_e=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};wb.default=C_e;var fL=gn&&gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yb,"__esModule",{value:!0});const x_e=fL(E_e),S_e=fL(wb);let A_e=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=x_e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let l=null,u=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=w:u=JSON.parse(w))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await i.text();try{l=JSON.parse(m),Array.isArray(l)&&i.status===404&&(u=[],l=null,h=200,f="OK")}catch{i.status===404&&m===""?(h=204,f="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,h=200,f="OK"),l&&this.shouldThrowOnError)throw new S_e.default(l)}return{error:l,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};yb.default=A_e;var I_e=gn&&gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mb,"__esModule",{value:!0});const T_e=I_e(yb);let N_e=class extends T_e.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};mb.default=N_e;var P_e=gn&&gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lm,"__esModule",{value:!0});const k_e=P_e(mb);let O_e=class extends k_e.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Lm.default=O_e;var R_e=gn&&gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gb,"__esModule",{value:!0});const Ff=R_e(Lm);let $_e=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Ff.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ff.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ff.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Ff.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ff.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};gb.default=$_e;var vb={},bb={};Object.defineProperty(bb,"__esModule",{value:!0});bb.version=void 0;bb.version="0.0.0-automated";Object.defineProperty(vb,"__esModule",{value:!0});vb.DEFAULT_HEADERS=void 0;const D_e=bb;vb.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${D_e.version}`};var pL=gn&&gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(H2,"__esModule",{value:!0});const j_e=pL(gb),U_e=pL(Lm),L_e=vb;let M_e=class gL{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},L_e.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new j_e.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new gL(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",c=n);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new U_e.default({method:o,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};H2.default=M_e;var nf=gn&&gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cs,"__esModule",{value:!0});cs.PostgrestError=cs.PostgrestBuilder=cs.PostgrestTransformBuilder=cs.PostgrestFilterBuilder=cs.PostgrestQueryBuilder=cs.PostgrestClient=void 0;const mL=nf(H2);cs.PostgrestClient=mL.default;const yL=nf(gb);cs.PostgrestQueryBuilder=yL.default;const wL=nf(Lm);cs.PostgrestFilterBuilder=wL.default;const vL=nf(mb);cs.PostgrestTransformBuilder=vL.default;const bL=nf(yb);cs.PostgrestBuilder=bL.default;const _L=nf(wb);cs.PostgrestError=_L.default;var B_e=cs.default={PostgrestClient:mL.default,PostgrestQueryBuilder:yL.default,PostgrestFilterBuilder:wL.default,PostgrestTransformBuilder:vL.default,PostgrestBuilder:bL.default,PostgrestError:_L.default};const{PostgrestClient:F_e,PostgrestQueryBuilder:lSe,PostgrestFilterBuilder:uSe,PostgrestTransformBuilder:dSe,PostgrestBuilder:hSe,PostgrestError:fSe}=B_e;function z_e(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const q_e=z_e(),W_e="2.11.13",H_e={"X-Client-Info":`realtime-js/${W_e}`},V_e="1.0.0",EL=1e4,G_e=1e3;var Rp;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Rp||(Rp={}));var Cr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Cr||(Cr={}));var Ai;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ai||(Ai={}));var iS;(function(t){t.websocket="websocket"})(iS||(iS={}));var Sl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Sl||(Sl={}));class K_e{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class CL{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Kt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Kt||(Kt={}));const pR=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Y_e(o,t,e,s),i),{})},Y_e=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?xL(i,o):oS(o)},xL=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return X_e(e,n)}switch(t){case Kt.bool:return Q_e(e);case Kt.float4:case Kt.float8:case Kt.int2:case Kt.int4:case Kt.int8:case Kt.numeric:case Kt.oid:return J_e(e);case Kt.json:case Kt.jsonb:return Z_e(e);case Kt.timestamp:return eEe(e);case Kt.abstime:case Kt.date:case Kt.daterange:case Kt.int4range:case Kt.int8range:case Kt.money:case Kt.reltime:case Kt.text:case Kt.time:case Kt.timestamptz:case Kt.timetz:case Kt.tsrange:case Kt.tstzrange:return oS(e);default:return oS(e)}},oS=t=>t,Q_e=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},J_e=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Z_e=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},X_e=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>xL(e,a))}return t},eEe=t=>typeof t=="string"?t.replace(" ","T"):t,SL=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class V_{constructor(e,n,r={},s=EL){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gR;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(gR||(gR={}));class $p{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$p.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=$p.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=$p.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const d=i[l];if(d){const h=u.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),p=u.filter(y=>f.indexOf(y.presence_ref)<0),m=d.filter(y=>h.indexOf(y.presence_ref)<0);p.length>0&&(a[l]=p),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,s(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mR;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(mR||(mR={}));var yR;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(yR||(yR={}));var Vo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Vo||(Vo={}));class V2{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Cr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new V_(this,Ai.join,this.params,this.timeout),this.rejoinTimer=new CL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Cr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ai.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new $p(this),this.broadcastEndpointURL=SL(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Cr.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Vo.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Vo.CLOSED));const c={},l={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Vo.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,p=[];for(let m=0;m<f;m++){const y=h[m],{filter:{event:w,schema:v,table:b,filter:E}}=y,_=u&&u[m];if(_&&_.event===w&&_.schema===v&&_.table===b&&_.filter===E)p.push(Object.assign(Object.assign({},y),{id:_.id}));else{this.unsubscribe(),this.state=Cr.errored,e==null||e(Vo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Vo.SUBSCRIBED);return}}).receive("error",u=>{this.state=Cr.errored,e==null||e(Vo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Vo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Cr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ai.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new V_(this,Ai.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new V_(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Ai;if(r&&[a,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var p,m,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(m=f.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,m,y,w,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const E=f.id,_=(p=f.filter)===null||p===void 0?void 0:p.event;return E&&((m=n.ids)===null||m===void 0?void 0:m.includes(E))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const E=(v=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return E==="*"||E===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:m,table:y,commit_timestamp:w,type:v,errors:b}=p;h=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:w,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===Cr.closed}_isJoined(){return this.state===Cr.joined}_isJoining(){return this.state===Cr.joining}_isLeaving(){return this.state===Cr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&V2.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ai.close,{},e)}_onError(e){this._on(Ai.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=pR(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=pR(e.columns,e.old_record)),n}}const wR=()=>{},tEe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nEe{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=H_e,this.params={},this.timeout=EL,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wR,this.ref=0,this.logger=wR,this.conn=null,this.sendBuffer=[],this.serializer=new K_e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>wn(async()=>{const{default:c}=await Promise.resolve().then(()=>tf);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${iS.websocket}`,this.httpEndpoint=SL(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new CL(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){this.conn||(this.transport||(this.transport=q_e),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:V_e}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rp.connecting:return Sl.Connecting;case Rp.open:return Sl.Open;case Rp.closing:return Sl.Closing;default:return Sl.Closed}}isConnected(){return this.connectionState()===Sl.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new V2(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Ai.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(G_e,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ai.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([tEe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class G2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Bn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class rEe extends G2{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class aS extends G2{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var sEe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const AL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wn(async()=>{const{default:r}=await Promise.resolve().then(()=>tf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},iEe=()=>sEe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wn(()=>Promise.resolve().then(()=>tf),void 0)).Response:Response}),cS=t=>{if(Array.isArray(t))return t.map(n=>cS(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=cS(r)}),e};var Uu=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const G_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oEe=(t,e,n)=>Uu(void 0,void 0,void 0,function*(){const r=yield iEe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new rEe(G_(s),t.status||500))}).catch(s=>{e(new aS(G_(s),s))}):e(new aS(G_(t),t))}),aEe=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Mm(t,e,n,r,s,i){return Uu(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,aEe(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>oEe(c,a,r))})})}function K0(t,e,n,r){return Uu(this,void 0,void 0,function*(){return Mm(t,"GET",e,n,r)})}function tc(t,e,n,r,s){return Uu(this,void 0,void 0,function*(){return Mm(t,"POST",e,r,s,n)})}function cEe(t,e,n,r,s){return Uu(this,void 0,void 0,function*(){return Mm(t,"PUT",e,r,s,n)})}function lEe(t,e,n,r){return Uu(this,void 0,void 0,function*(){return Mm(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function IL(t,e,n,r,s){return Uu(this,void 0,void 0,function*(){return Mm(t,"DELETE",e,r,s,n)})}var Zr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const uEe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dEe{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=AL(s)}uploadOrUpdate(e,n,r,s){return Zr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},vR),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Zr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Zr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const l=Object.assign({upsert:vR.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Bn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Zr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield tc(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new G2("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Zr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Zr(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Bn(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Zr(this,void 0,void 0,function*(){try{return{data:{path:(yield tc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Bn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Zr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield tc(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Bn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Zr(this,void 0,void 0,function*(){try{const s=yield tc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Bn(s))return{data:null,error:s};throw s}})}download(e,n){return Zr(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield K0(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Bn(a))return{data:null,error:a};throw a}})}info(e){return Zr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield K0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:cS(r),error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}exists(e){return Zr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield lEe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Bn(r)&&r instanceof aS){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return Zr(this,void 0,void 0,function*(){try{return{data:yield IL(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Zr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},uEe),n),{prefix:e||""});return{data:yield tc(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Bn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const hEe="2.7.1",fEe={"X-Client-Info":`storage-js/${hEe}`};var fd=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class pEe{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},fEe),n),this.fetch=AL(r)}listBuckets(){return fd(this,void 0,void 0,function*(){try{return{data:yield K0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Bn(e))return{data:null,error:e};throw e}})}getBucket(e){return fd(this,void 0,void 0,function*(){try{return{data:yield K0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return fd(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return fd(this,void 0,void 0,function*(){try{return{data:yield cEe(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return fd(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return fd(this,void 0,void 0,function*(){try{return{data:yield IL(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}}class gEe extends pEe{constructor(e,n={},r){super(e,n,r)}from(e){return new dEe(this.url,this.headers,e,this.fetch)}}const mEe="2.50.1";let sp="";typeof Deno<"u"?sp="deno":typeof document<"u"?sp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sp="react-native":sp="node";const yEe={"X-Client-Info":`supabase-js-${sp}/${mEe}`},wEe={headers:yEe},vEe={schema:"public"},bEe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_Ee={};var EEe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const CEe=t=>{let e;return t?e=t:typeof fetch>"u"?e=dL:e=fetch,(...n)=>e(...n)},xEe=()=>typeof Headers>"u"?hL:Headers,SEe=(t,e,n)=>{const r=CEe(n),s=xEe();return(i,o)=>EEe(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:l}))})};var AEe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function IEe(t){return t.endsWith("/")?t:t+"/"}function TEe(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:c,auth:l,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>AEe(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const TL="2.70.0",Ed=30*1e3,lS=3,K_=lS*Ed,NEe="http://localhost:9999",PEe="supabase.auth.token",kEe={"X-Client-Info":`gotrue-js/${TL}`},uS="X-Supabase-Api-Version",NL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},OEe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,REe=6e5;class K2 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function et(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $Ee extends K2{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function DEe(t){return et(t)&&t.name==="AuthApiError"}class PL extends K2{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class al extends K2{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Va extends al{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jEe(t){return et(t)&&t.name==="AuthSessionMissingError"}class Xy extends al{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ew extends al{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class tw extends al{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function UEe(t){return et(t)&&t.name==="AuthImplicitGrantRedirectError"}class bR extends al{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dS extends al{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Y_(t){return et(t)&&t.name==="AuthRetryableFetchError"}class _R extends al{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Dp extends al{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Y0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ER=` 	
\r=`.split(""),LEe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ER.length;e+=1)t[ER[e].charCodeAt(0)]=-2;for(let e=0;e<Y0.length;e+=1)t[Y0[e].charCodeAt(0)]=e;return t})();function CR(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Y0[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Y0[r]),e.queuedBits-=6}}function kL(t,e,n){const r=LEe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function xR(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{FEe(o,r,n)};for(let o=0;o<t.length;o+=1)kL(t.charCodeAt(o),s,i);return e.join("")}function MEe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function BEe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}MEe(r,e)}}function FEe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function zEe(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)kL(t.charCodeAt(s),n,r);return new Uint8Array(e)}function qEe(t){const e=[];return BEe(t,n=>e.push(n)),new Uint8Array(e)}function WEe(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>CR(s,n,r)),CR(null,n,r),e.join("")}function HEe(t){return Math.round(Date.now()/1e3)+t}function VEe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const bi=()=>typeof window<"u"&&typeof document<"u",gl={tested:!1,writable:!1},jp=()=>{if(!bi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gl.tested)return gl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gl.tested=!0,gl.writable=!0}catch{gl.tested=!0,gl.writable=!1}return gl.writable};function GEe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const OL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wn(async()=>{const{default:r}=await Promise.resolve().then(()=>tf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},KEe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",RL=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},nw=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},rw=async(t,e)=>{await t.removeItem(e)};class _b{constructor(){this.promise=new _b.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}_b.promiseConstructor=Promise;function Q_(t){const e=t.split(".");if(e.length!==3)throw new Dp("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!OEe.test(e[r]))throw new Dp("JWT not in base64url format");return{header:JSON.parse(xR(e[0])),payload:JSON.parse(xR(e[1])),signature:zEe(e[2]),raw:{header:e[0],payload:e[1]}}}async function YEe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function QEe(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function JEe(t){return("0"+t.toString(16)).substr(-2)}function ZEe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,JEe).join("")}async function XEe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function eCe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await XEe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pd(t,e,n=!1){const r=ZEe();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await RL(t,`${e}-code-verifier`,s);const i=await eCe(r);return[i,r===i?"plain":"s256"]}const tCe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nCe(t){const e=t.headers.get(uS);if(!e||!e.match(tCe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function rCe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function sCe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iCe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gd(t){if(!iCe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var oCe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const bl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),aCe=[502,503,504];async function SR(t){var e;if(!KEe(t))throw new dS(bl(t),0);if(aCe.includes(t.status))throw new dS(bl(t),t.status);let n;try{n=await t.json()}catch(i){throw new PL(bl(i),i)}let r;const s=nCe(t);if(s&&s.getTime()>=NL["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _R(bl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Va}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _R(bl(n),t.status,n.weak_password.reasons);throw new $Ee(bl(n),t.status||500,r)}const cCe=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ot(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[uS]||(i[uS]=NL["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await lCe(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function lCe(t,e,n,r,s,i){const o=cCe(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new dS(bl(c),0)}if(a.ok||await SR(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await SR(c)}}function Wo(t){var e;let n=null;fCe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=HEe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function AR(t){const e=Wo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ac(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function uCe(t){return{data:t,error:null}}function dCe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=oCe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function hCe(t){return t}function fCe(t){return t.access_token&&t.refresh_token&&t.expires_in}const J_=["global","local","others"];var pCe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class gCe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=OL(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=J_[0]){if(J_.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${J_.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ac})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=pCe(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:dCe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(et(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ac})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:hCe});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);l[`${y}Page`]=m}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(et(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){gd(e);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ac})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){gd(e);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ac})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){gd(e);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ac})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){gd(e.userId);try{const{data:n,error:r}=await ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(et(n))return{data:null,error:n};throw n}}async _deleteFactor(e){gd(e.userId),gd(e.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}}}const mCe={getItem:t=>jp()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{jp()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{jp()&&globalThis.localStorage.removeItem(t)}};function IR(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function yCe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const md={debug:!!(globalThis&&jp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $L extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wCe extends $L{}async function vCe(t,e,n){md.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),md.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){md.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{md.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw md.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new wCe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(md.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}yCe();const bCe={url:NEe,storageKey:PEe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kEe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function TR(t,e,n){return await n()}class nm{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=nm.nextInstanceID,nm.nextInstanceID+=1,this.instanceID>0&&bi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},bCe),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new gCe({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=OL(s.fetch),this.lock=s.lock||TR,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:bi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=vCe:this.lock=TR,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:jp()?this.storage=mCe:(this.memoryStorage={},this.storage=IR(this.memoryStorage)):(this.memoryStorage={},this.storage=IR(this.memoryStorage)),bi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${TL}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=GEe(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),bi()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),UEe(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return et(n)?{error:n}:{error:new PL("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Wo}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(et(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await pd(this.storage,this.storageKey)),i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:Wo})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Wo})}else throw new ew("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(et(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:AR})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:AR})}else throw new ew("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Xy}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(et(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,c,l,u,d,h,f;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:y,wallet:w,statement:v,options:b}=e;let E;if(bi())if(typeof w=="object")E=w;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))E=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const _=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const x=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),v?{statement:v}:null));let S;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")S=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)S=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)p=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),m=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const x=await E.signMessage(new TextEncoder().encode(p),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=x}}try{const{data:y,error:w}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:WEe(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Wo});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Xy}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(et(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const n=await nw(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Wo});if(await rw(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Xy}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(et(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Wo}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Xy}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(n){if(et(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await pd(this.storage,this.storageKey));const{error:d}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new ew("You must provide either an email or phone number.")}catch(a){if(et(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Wo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(et(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await pd(this.storage,this.storageKey)),await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:uCe})}catch(i){if(et(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Va;const{error:s}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(et(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ew("You must provide either an email or phone number and a type")}catch(n){if(et(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await nw(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<K_:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ac}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Va}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ac})})}catch(n){if(et(n))return jEe(n)&&(await this._removeSession(),await rw(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Va;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await pd(this.storage,this.storageKey));const{data:l,error:u}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:ac});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Va;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Q_(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(et(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Va;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(et(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!bi())throw new tw("No browser detected.");if(e.error||e.error_description||e.error_code)throw new tw(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bR("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tw("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bR("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new tw("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;c&&(h=parseInt(c));const f=h-u;f*1e3<=Ed&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:m,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(r){if(et(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await nw(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(DEe(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await rw(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=VEe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await pd(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(et(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,l,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return bi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(et(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(et(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await QEe(async s=>(s>0&&await YEe(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wo})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Y_(i)&&Date.now()+o-r<Ed})}catch(r){if(this._debug(n,"error",r),et(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),bi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await nw(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<K_;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${K_}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Y_(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Va;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new _b;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Va;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),et(i)){const o={session:null,error:i};return Y_(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await RL(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await rw(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&bi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ed);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Ed);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ed}ms, refresh threshold is ${lS} ticks`),s<=lS&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $L)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await pd(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(et(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(et(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(et(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(et(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Q_(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+REe>Date.now()))return r;const{data:s,error:i}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Dp("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new Dp("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};r=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=Q_(r);if(rCe(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const l=sCe(s.alg),u=await this.fetchJwk(s.kid,n),d=await crypto.subtle.importKey("jwk",u,l,!0,["verify"]);if(!await crypto.subtle.verify(l,d,o,qEe(`${a}.${c}`)))throw new Dp("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}}}nm.nextInstanceID=0;const _Ce=nm;class ECe extends _Ce{constructor(e){super(e)}}var CCe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class xCe{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=IEe(e),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:vEe,realtime:_Ee,auth:Object.assign(Object.assign({},bEe),{storageKey:l}),global:wEe},d=TEe(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=SEe(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new F_e(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new y_e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gEe(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return CCe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},l,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ECe({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new nEe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const SCe=(t,e,n)=>new xCe(t,e,n),ACe=void 0,ICe=void 0,rr=SCe(ACe,ICe,{realtime:{params:{eventsPerSecond:10}},auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),mi={LOBBY:"lobby",WAITING:"waiting",ACTIVE:"active",FINISHED:"finished"},Z_={R:"/images/redrook.png",N:"/images/redknight.png",B:"/images/redbishop.png",Q:"/images/redqueen.png",K:"/images/redking.png",P:"/images/redpawn.png",r:"/images/bluerook.png",n:"/images/blueknight.png",b:"/images/bluebishop.png",q:"/images/bluequeen.png",k:"/images/blueking.png",p:"/images/bluepawn.png"},sw=[["R","N","B","Q","K","B","N","R"],["P","P","P","P","P","P","P","P"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["p","p","p","p","p","p","p","p"],["r","n","b","q","k","b","n","r"]],TCe=[{key:"K",name:"Red King",img:"/images/redking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"Q",name:"Red Queen",img:"/images/redqueen.png",desc:"The Queen moves any number of squares in any direction."},{key:"R",name:"Red Rook",img:"/images/redrook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"B",name:"Red Bishop",img:"/images/redbishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"N",name:"Red Knight",img:"/images/redknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"P",name:"Red Pawn",img:"/images/redpawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."},{key:"k",name:"Blue King",img:"/images/blueking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"q",name:"Blue Queen",img:"/images/bluequeen.png",desc:"The Queen moves any number of squares in any direction."},{key:"r",name:"Blue Rook",img:"/images/bluerook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"b",name:"Blue Bishop",img:"/images/bluebishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"n",name:"Blue Knight",img:"/images/blueknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"p",name:"Blue Pawn",img:"/images/bluepawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."}],DL=({onClose:t,onMinimize:e,fullscreen:n=!1})=>{const{address:r,isConnected:s}=bm(),[i,o]=P.useState(sw),[a,c]=P.useState("blue"),[l,u]=P.useState(null),[d,h]=P.useState([]),[f,p]=P.useState([]),[m,y]=P.useState("Waiting for opponent..."),[w,v]=P.useState(mi.LOBBY),[b,E]=P.useState(""),[_,x]=P.useState(null),[S,A]=P.useState(null),[C,k]=P.useState(0),[O,B]=P.useState([]),[F,H]=P.useState(!1),[N,T]=P.useState(""),[U,D]=P.useState(0),[$,L]=P.useState(!1),[q,J]=P.useState(!1),[re,ne]=P.useState({show:!1,from:{row:0,col:0},to:{row:0,col:0}}),[ie,me]=P.useState(!1),[K,X]=P.useState([]),[se,te]=P.useState(null),he=P.useRef(null),Le=P.useRef(null),Te=()=>{L(!$),$?(document.documentElement.classList.remove("chess-dark-mode"),document.body.classList.remove("chess-dark-mode")):(document.documentElement.classList.add("chess-dark-mode"),document.body.classList.add("chess-dark-mode"))},Ce=async()=>{try{const{data:V,error:Q}=await rr.from("leaderboard").select("*").order("points",{ascending:!1}).limit(20);if(Q){console.error("Error loading leaderboard:",Q);return}V&&X(V)}catch(V){console.error("Error loading leaderboard:",V)}},Ue=async V=>{if(r)try{const Q=ct(r),{data:oe}=await rr.from("leaderboard").select("*").eq("username",Q).single(),ue=new Date().toISOString();if(oe){const _e={wins:oe.wins+(V==="win"?1:0),losses:oe.losses+(V==="loss"?1:0),draws:oe.draws+(V==="draw"?1:0),total_games:oe.total_games+1,points:oe.points+(V==="win"?3:V==="draw"?1:0),updated_at:ue},{error:Ge}=await rr.from("leaderboard").update(_e).eq("username",Q);Ge&&console.error("Error updating score:",Ge)}else{const _e={username:Q,chain_type:"ethereum",wins:V==="win"?1:0,losses:V==="loss"?1:0,draws:V==="draw"?1:0,total_games:1,points:V==="win"?3:V==="draw"?1:0,updated_at:ue},{error:Ge}=await rr.from("leaderboard").insert([_e]);Ge&&console.error("Error creating new user score:",Ge)}await Ce()}catch(Q){console.error("Error updating score:",Q)}},Qe=async()=>{try{const{data:V,error:Q}=await rr.from("chess_games").select("*").eq("game_state","waiting").eq("is_public",!0).order("created_at",{ascending:!1});if(Q){console.error("Error loading open games:",Q);return}B(V||[])}catch(V){console.error("Error loading open games:",V)}},At=async()=>{if(!(!r||!N||U<0)){H(!0);try{const V=`game_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Q={game_id:V,game_title:N,bet_amount:U.toString(),blue_player:r,game_state:"waiting",board:JSON.stringify({positions:sw}),current_player:"blue",chain:"sanko",contract_address:"0x3112AF5728520F52FD1C6710dD7bD52285a68e47"},{data:oe,error:ue}=await rr.from("chess_games").insert([Q]).select().single();if(ue){console.error("Error creating game:",ue);return}E(V),x("blue"),k(U),v(mi.WAITING),y("Waiting for opponent to join..."),It(V)}catch(V){console.error("Error creating game:",V)}finally{H(!1)}}},yn=async V=>{if(r)try{const{data:Q,error:oe}=await rr.from("chess_games").update({red_player:r,game_state:"active"}).eq("game_id",V).select().single();if(oe){console.error("Error joining game:",oe);return}E(V),x("red"),k(parseFloat(Q.bet_amount)),A(Q.blue_player),v(mi.ACTIVE),y("Game started!"),It(V)}catch(Q){console.error("Error joining game:",Q)}},It=V=>{he.current&&rr.removeChannel(he.current);const Q=rr.channel(`chess_game_${V}`).on("postgres_changes",{event:"*",schema:"public",table:"chess_games",filter:`game_id=eq.${V}`},oe=>{if(console.log("Game update received:",oe),oe.new){const ue=JSON.parse(oe.new.board),_e=Array.isArray(ue.positions)?ue.positions:sw;o(_e),c(oe.new.current_player||"blue"),oe.new.game_state==="active"?(v(mi.ACTIVE),y("Game in progress")):oe.new.game_state==="finished"&&(v(mi.FINISHED),y("Game finished")),oe.new.blue_player&&oe.new.red_player&&A(_==="blue"?oe.new.red_player:oe.new.blue_player)}}).subscribe();he.current=Q},ct=V=>`${V.slice(0,6)}...${V.slice(-4)}`,wt=V=>V&&V===V.toUpperCase()?"red":"blue",Kn=(V,Q)=>{const oe=Q==="red"?"K":"k";let ue=-1,_e=-1;for(let lt=0;lt<8;lt++){for(let Tt=0;Tt<8;Tt++)if(V[lt][Tt]===oe){ue=lt,_e=Tt;break}if(ue!==-1)break}return ue===-1?!1:Hi(ue,_e,Q==="red"?"blue":"red",V)},Hi=(V,Q,oe,ue)=>{for(let _e=0;_e<8;_e++)for(let Ge=0;Ge<8;Ge++){const lt=ue[_e][Ge];if(lt&&wt(lt)===oe&&Ca(lt,_e,Ge,V,Q,!1,oe,ue,!0))return!0}return!1},Vi=(V,Q,oe,ue,_e,Ge=i)=>{const lt=Ge[V][Q];if(!lt)return!1;const Tt=Ge.map(ui=>[...ui]);return Tt[oe][ue]=lt,Tt[V][Q]=null,Kn(Tt,_e)},In=(V,Q,oe,ue,_e,Ge)=>{const lt=V==="red"?-1:1,Tt=V==="red"?6:1;return oe===_e&&ue===Q+lt?Ge[ue][_e]===null:oe===_e&&Q===Tt&&ue===Q+2*lt?Ge[Q+lt][oe]===null&&Ge[ue][_e]===null:Math.abs(oe-_e)===1&&ue===Q+lt?Ge[ue][_e]!==null&&wt(Ge[ue][_e])!==V:!1},Yn=(V,Q,oe,ue,_e)=>V===oe||Q===ue,Gi=(V,Q,oe,ue)=>{const _e=Math.abs(V-oe),Ge=Math.abs(Q-ue);return _e===2&&Ge===1||_e===1&&Ge===2},Ea=(V,Q,oe,ue,_e)=>Math.abs(V-oe)===Math.abs(Q-ue),Ki=(V,Q,oe,ue,_e)=>Yn(V,Q,oe,ue)||Ea(V,Q,oe,ue),Lu=(V,Q,oe,ue,_e)=>{const Ge=Math.abs(Q-ue),lt=Math.abs(oe-_e);return Ge<=1&&lt<=1},Mu=(V,Q,oe,ue,_e)=>{const Ge=V===oe?0:(oe-V)/Math.abs(oe-V),lt=Q===ue?0:(ue-Q)/Math.abs(ue-Q);let Tt=V+Ge,ui=Q+lt;for(;Tt!==oe||ui!==ue;){if(_e[Tt][ui]!==null)return!1;Tt+=Ge,ui+=lt}return!0},Ca=(V,Q,oe,ue,_e,Ge=!0,lt=wt(V),Tt=i,ui=!1)=>{if(!V)return!1;const qr=wt(V),Vm=Tt[ue][_e];if(Vm&&wt(Vm)===qr)return!1;let Po=!1;switch(V.toUpperCase()){case"P":Po=In(qr,Q,oe,ue,_e,Tt);break;case"R":Po=Yn(Q,oe,ue,_e)&&Mu(Q,oe,ue,_e,Tt);break;case"N":Po=Gi(Q,oe,ue,_e);break;case"B":Po=Ea(Q,oe,ue,_e)&&Mu(Q,oe,ue,_e,Tt);break;case"Q":Po=Ki(Q,oe,ue,_e)&&Mu(Q,oe,ue,_e,Tt);break;case"K":Po=Lu(qr,Q,oe,ue,_e);break}return!(!Po||Ge&&Vi(Q,oe,ue,_e,qr,Tt))},Ht=(V,Q=i,oe=a)=>{const ue=Q[V.row][V.col];if(!ue||wt(ue)!==oe)return[];const _e=[];for(let Ge=0;Ge<8;Ge++)for(let lt=0;lt<8;lt++)Ca(ue,V.row,V.col,Ge,lt,!0,oe,Q)&&_e.push({row:Ge,col:lt});return _e},Bm=(V,Q=i)=>{if(!Kn(Q,V))return!1;for(let oe=0;oe<8;oe++)for(let ue=0;ue<8;ue++){const _e=Q[oe][ue];if(_e&&wt(_e)===V&&Ht({row:oe,col:ue},Q,V).length>0)return!1}return!0},Fm=(V,Q=i)=>{if(Kn(Q,V))return!1;for(let oe=0;oe<8;oe++)for(let ue=0;ue<8;ue++){const _e=Q[oe][ue];if(_e&&wt(_e)===V&&Ht({row:oe,col:ue},Q,V).length>0)return!1}return!0},Yi=(V,Q)=>{if(w!==mi.ACTIVE||!_)return;const oe=i[V][Q],ue=oe?wt(oe):null;if(a===_){if(oe&&ue===_){u({row:V,col:Q});const _e=Ht({row:V,col:Q});h(_e);return}if(l&&d.some(_e=>_e.row===V&&_e.col===Q)){Eb(l,{row:V,col:Q}),u(null),h([]);return}u(null),h([])}},Eb=async(V,Q)=>{if(!_||a!==_)return;const oe=i[V.row][V.col];if(oe){if(oe.toUpperCase()==="P"&&(_==="red"&&Q.row===0||_==="blue"&&Q.row===7)){ne({show:!0,from:V,to:Q});return}await zm(V,Q)}},zm=async(V,Q,oe="q")=>{if(!_||a!==_)return;const ue=i[V.row][V.col];if(!ue)return;const _e=i.map(qr=>[...qr]);let Ge=ue;ue.toUpperCase()==="P"&&(_==="red"&&Q.row===0||_==="blue"&&Q.row===7)&&(Ge=_==="red"?oe.toUpperCase():oe.toLowerCase()),_e[Q.row][Q.col]=Ge,_e[V.row][V.col]=null;const lt=a==="blue"?"red":"blue";let Tt="active",ui=null;Bm(lt,_e)?(Tt="finished",ui=a,y(`${a==="red"?"Red":"Blue"} wins by checkmate!`),Cb(),await Ue(a===_?"win":"loss")):Fm(lt,_e)&&(Tt="finished",y("Game ended in stalemate"),await Ue("draw"));try{const{error:qr}=await rr.from("chess_games").update({board:JSON.stringify({positions:_e}),current_player:lt,game_state:Tt,winner:ui,last_move:JSON.stringify({from:V,to:Q}),updated_at:new Date().toISOString()}).eq("game_id",b);qr&&console.error("Error updating game:",qr)}catch(qr){console.error("Error updating game:",qr)}te({from:V,to:Q}),ne({show:!1,from:{row:0,col:0},to:{row:0,col:0}})},Cb=()=>{me(!0),Le.current&&clearTimeout(Le.current),Le.current=setTimeout(()=>{me(!1)},5e3)},qm=async V=>{try{const{data:Q,error:oe}=await rr.from("chess_games").select("*").eq("game_id",V).single();if(oe){console.error("Error loading game:",oe);return}if(!Q){alert("Game not found");return}E(V),x(r===Q.blue_player?"blue":"red"),k(parseFloat(Q.bet_amount)),A(r===Q.blue_player?Q.red_player:Q.blue_player),v(mi.ACTIVE),y("Game resumed"),console.log("[DEBUG] Resuming game with board data:",Q.board,"Type:",typeof Q.board);let ue;try{ue=typeof Q.board=="string"?JSON.parse(Q.board):Q.board,console.log("[DEBUG] Parsed board object:",ue)}catch(Ge){console.log("[DEBUG] JSON parse failed, using data as-is:",Ge),ue=Q.board}const _e=Array.isArray(ue==null?void 0:ue.positions)?ue.positions:Array.isArray(ue)?ue:sw;console.log("[DEBUG] Final board state:",_e),o(_e),c(Q.current_player||"blue"),It(V)}catch(Q){console.error("Error resuming game:",Q)}},Wm=async()=>{try{const{data:V,error:Q}=await rr.from("chess_games").select("*").eq("game_state","active").or(`blue_player.eq.${r},red_player.eq.${r}`);if(Q){console.error("Error checking stuck games:",Q);return}if(V&&V.length>0){const oe=V[0];(oe.blue_player===r||oe.red_player===r)&&confirm(`You have an active game (${oe.game_id}). Would you like to resume it?`)&&qm(oe.game_id)}}catch(V){console.error("Error checking stuck games:",V)}},Hm=(V,Q)=>{const oe=i[V][Q],ue=(l==null?void 0:l.row)===V&&(l==null?void 0:l.col)===Q,_e=d.some(Tt=>Tt.row===V&&Tt.col===Q),Ge=se&&(se.from.row===V&&se.from.col===Q||se.to.row===V&&se.to.col===Q),lt=oe&&oe.toUpperCase()==="K"&&Kn(i,wt(oe));return g.jsxs("div",{className:`square ${ue?"selected":""} ${_e?"legal-move":""} ${Ge?"last-move":""} ${lt?"square-in-check":""}`,onClick:()=>Yi(V,Q),children:[oe&&g.jsx("div",{className:"piece",style:{backgroundImage:Z_[oe]?`url(${Z_[oe]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),_e&&g.jsx("div",{className:"legal-move-indicator"})]},`${V}-${Q}`)},xb=()=>{if(!re.show)return null;const V=_==="red"?["Q","R","B","N"]:["q","r","b","n"];return g.jsx("div",{className:"promotion-dialog",children:g.jsxs("div",{className:"promotion-content",children:[g.jsx("h3",{children:"Choose promotion piece"}),g.jsx("div",{className:"promotion-pieces",children:V.map(Q=>g.jsx("div",{className:"promotion-piece",onClick:()=>zm(re.from,re.to,Q.toLowerCase()),children:g.jsx("img",{src:Z_[Q],alt:Q})},Q))})]})})},Sb=()=>g.jsxs("div",{className:"piece-gallery",children:[g.jsx("h3",{children:"Chess Pieces"}),g.jsx("div",{className:"piece-gallery-grid",children:TCe.map(V=>g.jsxs("div",{className:"piece-gallery-item",children:[g.jsx("img",{src:V.img,alt:V.name,className:"piece-gallery-img"}),g.jsx("div",{className:"piece-gallery-name",children:V.name}),g.jsx("div",{className:"piece-gallery-desc",children:V.desc})]},V.key))})]}),rf=()=>g.jsxs("div",{className:"chess-multiplayer-lobby",children:[g.jsx("h2",{children:"Multiplayer Chess Lobby"}),s?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"status-bar",children:["Connected: ",ct(r)]}),g.jsxs("div",{className:"lobby-content",children:[g.jsxs("div",{className:"open-games",children:[g.jsx("h3",{children:"Open Games"}),g.jsxs("div",{className:"games-list",children:[O.map(V=>g.jsxs("div",{className:"game-item",children:[g.jsxs("div",{className:"game-info",children:[g.jsx("div",{className:"game-id",children:V.game_title||"Untitled Game"}),g.jsxs("div",{className:"wager",children:["Wager: ",parseFloat(V.bet_amount)," ETH"]}),g.jsxs("div",{className:"title",children:["Created by: ",ct(V.blue_player)]})]}),g.jsx("button",{className:"join-btn",onClick:()=>yn(V.game_id),children:"Join Game"})]},V.game_id)),O.length===0&&g.jsx("div",{className:"no-games",children:"No open games available"})]})]}),g.jsxs("div",{className:"actions",children:[g.jsx("button",{className:"create-btn",onClick:()=>H(!0),disabled:F,children:"Create New Game"}),g.jsx("button",{className:"resume-btn",onClick:Wm,style:{marginTop:"10px",background:"rgba(0, 255, 0, 0.1)",border:"2px solid #00ff00",color:"#00ff00",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontFamily:"Courier New, monospace",fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease"},children:"Check for Active Games"})]}),F&&g.jsxs("div",{className:"create-form",children:[g.jsx("h3",{children:"Create New Game"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Game Title:"}),g.jsx("input",{type:"text",value:N,onChange:V=>T(V.target.value),placeholder:"Enter game title"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Wager (ETH):"}),g.jsx("input",{type:"number",value:U,onChange:V=>D(Number(V.target.value)),placeholder:"0.01",min:"0",step:"0.01"})]}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{className:"create-confirm-btn",onClick:At,disabled:!N||U<0,children:"Create Game"}),g.jsx("button",{className:"cancel-btn",onClick:()=>H(!1),children:"Cancel"})]})]})]})]}):g.jsx("div",{className:"wallet-notice",children:"Please connect your wallet to play multiplayer chess"})]}),No=()=>g.jsxs("div",{className:"chess-multiplayer-waiting",children:[g.jsx("h2",{children:"Waiting for Opponent"}),g.jsxs("div",{className:"game-code",children:["Game ID: ",g.jsx("strong",{children:b})]}),g.jsxs("div",{className:"game-info",children:[g.jsxs("p",{children:["Wager: ",C," ETH"]}),g.jsx("p",{children:"Share this game ID with your opponent"})]})]}),Bu=()=>g.jsxs("div",{className:"chess-game",children:[g.jsxs("div",{className:"chess-header",children:[g.jsx("h2",{children:"Multiplayer Chess"}),g.jsxs("div",{className:"chess-controls",children:[g.jsx("button",{onClick:Te,children:""}),e&&g.jsx("button",{onClick:e,children:"_"}),g.jsx("button",{onClick:t,children:""})]})]}),g.jsxs("div",{className:"game-info",children:[g.jsx("span",{className:"status",children:m}),g.jsxs("span",{className:"current-player",children:["Current: ",a==="red"?"Red":"Blue"]}),g.jsxs("span",{className:"wager-display",children:["Wager: ",C," ETH"]}),S&&g.jsxs("span",{children:["Opponent: ",ct(S)]})]}),g.jsxs("div",{className:"game-stable-layout",children:[g.jsx("div",{className:"left-sidebar",children:g.jsxs("div",{className:"move-history",children:[g.jsx("h4",{children:"Move History"}),g.jsx("div",{className:"moves",children:f.slice().reverse().map((V,Q)=>g.jsx("div",{className:"move",children:V},f.length-1-Q))})]})}),g.jsxs("div",{className:"center-area",children:[g.jsx("div",{className:"chessboard-container",children:g.jsx("div",{className:"chessboard",children:Array.from({length:8},(V,Q)=>g.jsx("div",{className:"board-row",children:Array.from({length:8},(oe,ue)=>Hm(Q,ue))},Q))})}),g.jsx("div",{className:"game-controls",children:g.jsxs("button",{onClick:()=>J(!q),children:[q?"Hide":"Show"," Piece Gallery"]})})]}),g.jsx("div",{className:"right-sidebar",children:g.jsxs("div",{className:"leaderboard",children:[g.jsx("h3",{children:"Leaderboard"}),g.jsx("div",{className:"leaderboard-table",children:g.jsxs("table",{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"#"}),g.jsx("th",{children:"Player"}),g.jsx("th",{children:"W"}),g.jsx("th",{children:"L"}),g.jsx("th",{children:"D"}),g.jsx("th",{children:"Pts"})]})}),g.jsx("tbody",{children:K.map((V,Q)=>g.jsxs("tr",{children:[g.jsx("td",{children:Q+1}),g.jsx("td",{children:V.username}),g.jsx("td",{children:V.wins}),g.jsx("td",{children:V.losses}),g.jsx("td",{children:V.draws}),g.jsx("td",{children:V.points})]},V.username))})]})})]})})]}),q&&g.jsx("div",{className:"piece-gallery-panel",children:Sb()}),xb(),ie&&g.jsx("div",{className:"victory-celebration",children:g.jsxs("div",{className:"victory-content",children:[g.jsx("h2",{children:" Victory! "}),g.jsx("p",{children:"Congratulations on your win!"})]})})]});switch(P.useEffect(()=>{Ce(),Qe(),Wm();const V=setInterval(Qe,5e3);return()=>{clearInterval(V),he.current&&rr.removeChannel(he.current),Le.current&&clearTimeout(Le.current)}},[]),w){case mi.LOBBY:return rf();case mi.WAITING:return No();case mi.ACTIVE:case mi.FINISHED:return Bu();default:return rf()}},NCe={AI:"ai"},iw={R:"/images/redrook.png",N:"/images/redknight.png",B:"/images/redbishop.png",Q:"/images/redqueen.png",K:"/images/redking.png",P:"/images/redpawn.png",r:"/images/bluerook.png",n:"/images/blueknight.png",b:"/images/bluebishop.png",q:"/images/bluequeen.png",k:"/images/blueking.png",p:"/images/bluepawn.png"},NR=[["R","N","B","Q","K","B","N","R"],["P","P","P","P","P","P","P","P"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["p","p","p","p","p","p","p","p"],["r","n","b","q","k","b","n","r"]],PCe=[{key:"K",name:"Red King",img:"/images/redking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"Q",name:"Red Queen",img:"/images/redqueen.png",desc:"The Queen moves any number of squares in any direction."},{key:"R",name:"Red Rook",img:"/images/redrook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"B",name:"Red Bishop",img:"/images/redbishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"N",name:"Red Knight",img:"/images/redknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"P",name:"Red Pawn",img:"/images/redpawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."},{key:"k",name:"Blue King",img:"/images/blueking.png",desc:"The King moves one square in any direction. Protect your King at all costs!"},{key:"q",name:"Blue Queen",img:"/images/bluequeen.png",desc:"The Queen moves any number of squares in any direction."},{key:"r",name:"Blue Rook",img:"/images/bluerook.png",desc:"The Rook moves any number of squares horizontally or vertically."},{key:"b",name:"Blue Bishop",img:"/images/bluebishop.png",desc:"The Bishop moves any number of squares diagonally."},{key:"n",name:"Blue Knight",img:"/images/blueknight.png",desc:"The Knight moves in an L-shape: two squares in one direction, then one square perpendicular."},{key:"p",name:"Blue Pawn",img:"/images/bluepawn.png",desc:"The Pawn moves forward one square, with the option to move two squares on its first move. Captures diagonally."}],kCe=()=>{const[t,e]=P.useState(!1),n=P.useRef(null),r=P.useRef(!1);P.useEffect(()=>r.current||n.current?void 0:(r.current=!0,console.log("[DEBUG] Initializing LawbBot..."),(()=>{try{const a=document.createElement("script");a.src="/stockfish.js",a.onload=()=>{if(console.log("[DEBUG] LawbBot script loaded, initializing..."),typeof window<"u"&&typeof window.Stockfish=="function"){const c=window.Stockfish;c?c().then(l=>{console.log("[DEBUG] LawbBot initialized successfully"),l instanceof Worker?(n.current=l,e(!0),r.current=!1,l.postMessage("setoption name Threads value 4"),l.postMessage("setoption name Hash value 128"),l.postMessage("setoption name MultiPV value 1")):(console.error("[DEBUG] LawbBot: Stockfish is not a Worker instance"),e(!1),r.current=!1)}).catch(l=>{console.error("[DEBUG] LawbBot initialization failed:",l),e(!1),r.current=!1}):(console.error("[DEBUG] LawbBot: Stockfish is not defined as a function"),e(!1),r.current=!1)}else console.error("[DEBUG] LawbBot not found in window object"),e(!1),r.current=!1},a.onerror=c=>{console.error("[DEBUG] Failed to load LawbBot script:",c),e(!1),r.current=!1},document.head.appendChild(a)}catch(a){console.error("[DEBUG] Failed to create LawbBot script:",a),e(!1),r.current=!1}})(),()=>{if(n.current){try{n.current.terminate()}catch(a){console.warn("[DEBUG] Error terminating LawbBot:",a)}n.current=null}r.current=!1}),[]);const s=P.useCallback((o,a=4e3)=>new Promise(c=>{if(!n.current){console.warn("[DEBUG] Stockfish not ready, using fallback"),c(null);return}console.log("[DEBUG] Starting Stockfish calculation for FEN:",o,"timeLimit:",a);let l=null,u=!1;const d=h=>{var p;const f=h.data;typeof f=="string"&&f.startsWith("bestmove ")&&(l=f.split(" ")[1]||null,console.log("[DEBUG] Stockfish bestmove found:",l),u||(u=!0,(p=n.current)==null||p.removeEventListener("message",d),c(l)))};try{n.current.addEventListener("message",d),n.current.postMessage("uci"),n.current.postMessage("isready"),n.current.postMessage(`position fen ${o}`);const h=a>5e3?a*1.5:a;n.current.postMessage(`go movetime ${h} depth 20`);const f=a>5e3?a*2:a+1e3;window.setTimeout(()=>{var p;if(!u){u=!0;try{(p=n.current)==null||p.removeEventListener("message",d)}catch(m){console.warn("[DEBUG] Error removing message listener:",m)}console.warn("[DEBUG] Stockfish timeout after",f,"ms"),c(l)}},f)}catch(h){console.error("[DEBUG] Stockfish communication error:",h),c(null)}}),[]),i=P.useCallback(async(o,a=4e3)=>{try{const c=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",l="https://chess.lawb.xyz/api/stockfish";console.log(`[DEBUG] Attempting API call to ${l}`);const u=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fen:o,movetime:a})});if(u.ok){const d=await u.json();return console.log(`[DEBUG] API call successful to ${l}:`,d),d.move||null}else return console.warn(`[DEBUG] API failed with status ${u.status} on ${l}`),null}catch(c){return console.warn("[DEBUG] API error:",c),null}},[]);return{stockfishReady:t,getStockfishMove:s,getCloudflareStockfishMove:i}},OCe=()=>{const[t,e]=P.useState(null),[n,r]=P.useState(!1),s=P.useCallback(async o=>{try{r(!0);const a=await fetch(`https://explorer.lichess.ovh/lichess?fen=${encodeURIComponent(o)}`);if(a.ok){const c=await a.json();return e(c),c}}catch(a){console.warn("[DEBUG] Lichess API error:",a)}finally{r(!1)}return null},[]),i=P.useCallback(async(o,a)=>{try{const c=await fetch(`https://explorer.lichess.ovh/lichess?fen=${encodeURIComponent(o)}&play=${a}`);if(c.ok)return await c.json()}catch(c){console.warn("[DEBUG] Lichess move analysis error:",c)}return null},[]);return{openingData:t,isAnalyzing:n,getOpeningData:s,getMoveAnalysis:i}},RCe=({onClose:t,onMinimize:e,fullscreen:n=!1})=>{const{address:r}=bm(),[s,i]=P.useState(NCe.AI),[o,a]=P.useState(()=>JSON.parse(JSON.stringify(NR))),[c,l]=P.useState("blue"),[u,d]=P.useState(null),[h,f]=P.useState("active"),[p,m]=P.useState("hard"),[y,w]=P.useState("Connect wallet to play"),[v,b]=P.useState([]),[E,_]=P.useState([]),[x,S]=P.useState([]),[A,C]=P.useState(null),[k,O]=P.useState(!1),[B,F]=P.useState(!1),[H,N]=P.useState(null),[T,U]=P.useState(null),[D]=P.useState(""),[$]=P.useState(.1),[L,q]=P.useState({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),J=P.useRef(null),re=P.useRef(!1),ne=P.useRef(o),ie=P.useRef(null),me=P.useRef(null),K=P.useRef(!1),X=P.useRef(!1),[se,te]=P.useState(!1),[he,Le]=P.useState(!1),[Te,Ce]=P.useState(!1),[Ue,Qe]=P.useState(()=>typeof window<"u"&&window.localStorage?window.localStorage.getItem("lawb_chess_dark_mode")==="true":!1),At=()=>{Qe(j=>(typeof window<"u"&&window.localStorage&&window.localStorage.setItem("lawb_chess_dark_mode",String(!j)),!j))},{stockfishReady:yn}=kCe(),{getOpeningData:It}=OCe(),[ct,wt]=P.useState("loading"),[Kn,Hi]=P.useState(!1),[Vi,In]=P.useState([]),[Yn,Gi]=P.useState(!1),[Ea,Ki]=P.useState("/images/chessboard1.png"),Lu=()=>{const j=["/images/chessboard1.png","/images/chessboard2.png","/images/chessboard3.png","/images/chessboard4.png","/images/chessboard5.png","/images/chessboard6.png"],z=Math.floor(Math.random()*j.length),W=j[z];return console.log("[DEBUG] Random chessboard selected:",W,"(index:",z,")"),W};P.useEffect(()=>{if(yn)wt("ready");else{const j=window.setTimeout(()=>{yn||(wt("failed"),console.warn("[DEBUG] Stockfish failed to load within timeout"))},1e4);return()=>window.clearTimeout(j)}},[yn]),P.useEffect(()=>{ne.current=o},[o]),P.useEffect(()=>{r?w("Select game mode"):(w("Connect wallet to play"),O(!1))},[r]),P.useEffect(()=>(!J.current&&typeof Worker<"u"&&(J.current=new Worker("/aiWorker.js"),J.current.onmessage=j=>{console.log("[DEBUG] AI worker response received:",j.data);const{move:z,nodes:W}=j.data;z&&re.current&&h==="active"?(console.log("[DEBUG] AI worker move is valid, executing:",z),console.log("[DEBUG] AI searched",W,"nodes"),re.current=!1,me.current&&(window.clearTimeout(me.current),me.current=null),ie.current&&ie.current(z.from,z.to,!0)):console.log("[DEBUG] AI worker response ignored - not AI turn or game not active")},J.current.onerror=j=>{console.error("[DEBUG] AI worker error:",j),w("AI worker error - using fallback mode"),re.current=!1}),()=>{J.current&&(J.current.terminate(),J.current=null),me.current&&(window.clearTimeout(me.current),me.current=null)}),[]),P.useEffect(()=>{Mu()},[]);const Mu=async()=>{try{const j=new Promise((Y,G)=>window.setTimeout(()=>G(new Error("Database timeout")),1e4)),z=rr.from("leaderboard").select("*").order("points",{ascending:!1}),W=await Promise.race([z,j]);if(W.error)throw W.error;W.data&&_(W.data),console.log("Leaderboard data loaded:",W.data)}catch(j){w("Failed to load leaderboard"),console.error("Leaderboard error:",j)}},Ca=async j=>{if(console.log("[DEBUG] updateScore called with:",j),!r){console.log("[DEBUG] No wallet address, returning");return}try{const z=r.toLowerCase(),{data:W}=await rr.from("leaderboard").select("*").eq("username",z).maybeSingle();console.log("[DEBUG] Existing record:",W);const Y=W!=null&&W.wins?Number(W.wins):0,G=W!=null&&W.losses?Number(W.losses):0,ve=W!=null&&W.draws?Number(W.draws):0,Ee=W!=null&&W.total_games?Number(W.total_games):0,je=W!=null&&W.points?Number(W.points):0;console.log("[DEBUG] Score calculation:",{currentWins:Y,currentLosses:G,currentDraws:ve,currentTotalGames:Ee,currentPoints:je,gameResult:j});const ft=Y+(j==="win"?1:0),Nt=G+(j==="loss"?1:0),En=ve+(j==="draw"?1:0),Rt=Ee+1;let sf=0;if(j==="win")switch(p){case"easy":sf=10;break;default:sf=1}else j==="draw"&&(sf=1);const Nb=je+sf;if(console.log("[DEBUG] New values:",{newWins:ft,newLosses:Nt,newDraws:En,newTotalGames:Rt,newPoints:Nb,pointsToAdd:sf}),W){const{error:of}=await rr.from("leaderboard").update({wins:ft,losses:Nt,draws:En,total_games:Rt,points:Nb,updated_at:new Date().toISOString()}).eq("username",z);if(of){console.error("[DEBUG] Error updating leaderboard:",of);return}}else{const{error:of}=await rr.from("leaderboard").insert({username:z,chain_type:"ethereum",wins:ft,losses:Nt,draws:En,total_games:Rt,points:Nb,updated_at:new Date().toISOString()});if(of){console.error("[DEBUG] Error inserting leaderboard record:",of);return}}console.log("[DEBUG] Leaderboard updated successfully"),await Mu()}catch(z){console.error("[DEBUG] Error in updateScore:",z)}},Ht=j=>j&&j===j.toUpperCase()?"red":"blue",Bm=(j,z)=>j>=0&&j<8&&z>=0&&z<8,Fm=(j,z)=>`${String.fromCharCode(97+z)}${8-j}`,Yi=(j,z)=>{const W=z==="blue"?"k":"K";let Y=null;for(let Ee=0;Ee<8;Ee++){for(let je=0;je<8;je++)if(j[Ee][je]===W){Y={row:Ee,col:je};break}if(Y)break}if(!Y)return console.log(`King not found for ${z}`),!1;const G=z==="blue"?"red":"blue",ve=Eb(Y.row,Y.col,G,j);return console.log(`${z} king at ${Y.row},${Y.col} under attack: ${ve}`),ve},Eb=(j,z,W,Y)=>{for(let G=0;G<8;G++)for(let ve=0;ve<8;ve++){const Ee=Y[G][ve];if(Ee&&Ht(Ee)===W&&No(Ee,G,ve,j,z,!1,W,Y,!0))return!0}return!1},zm=(j,z,W,Y,G,ve=o)=>{const Ee=ve.map(ft=>[...ft]),je=Ee[j][z];return Ee[W][Y]=je,Ee[j][z]=null,Yi(Ee,G)},Cb=(j,z,W,Y,G,ve)=>{const Ee=j==="blue"?-1:1,je=j==="blue"?6:1;if(!Bm(Y,G)||j==="blue"&&Y>=z||j==="red"&&Y<=z)return!1;const ft=Math.abs(Y-z),Nt=Math.abs(G-W);if((ft===1&&Nt===0||ft===2&&Nt===0&&z===je||ft===1&&Nt===1)&&ft<=2&&Nt<=1&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&console.log("[DEBUG] Pawn move check:",{color:j,from:`${z},${W}`,to:`${Y},${G}`}),W===G&&Y===z+Ee)return ve[Y][G]===null;if(W===G&&z===je&&Y===z+2*Ee)return ve[z+Ee][W]===null&&ve[Y][G]===null;if(Math.abs(W-G)===1&&Y===z+Ee){const Rt=ve[Y][G];return Rt!==null&&Ht(Rt)!==j}if(Math.abs(W-G)===1&&Y===z+Ee){const Rt=ve[z][G];if(Rt&&Ht(Rt)!==j&&Rt.toLowerCase()==="p"&&L.lastPawnDoubleMove&&L.lastPawnDoubleMove.row===z&&L.lastPawnDoubleMove.col===G)return console.log("[DEBUG] Pawn en passant move"),!0}return!1},qm=(j,z,W,Y,G)=>j!==W&&z!==Y?!1:rf(j,z,W,Y,G),Wm=(j,z,W,Y)=>{const G=Math.abs(j-W),ve=Math.abs(z-Y);return G===2&&ve===1||G===1&&ve===2},Hm=(j,z,W,Y,G)=>Math.abs(j-W)!==Math.abs(z-Y)?!1:rf(j,z,W,Y,G),xb=(j,z,W,Y,G)=>qm(j,z,W,Y,G)||Hm(j,z,W,Y,G),Sb=(j,z,W,Y,G)=>{const ve=Math.abs(z-Y),Ee=Math.abs(W-G);if(ve<=1&&Ee<=1)return!0;if(ve===0&&Ee===2){if(j==="blue"&&!L.blueKingMoved){if(G===6&&!L.blueRooksMove.right||G===2&&!L.blueRooksMove.left)return!0}else if(j==="red"&&!L.redKingMoved&&(G===6&&!L.redRooksMove.right||G===2&&!L.redRooksMove.left))return!0}return!1},rf=(j,z,W,Y,G)=>{const ve=j===W?0:(W-j)/Math.abs(W-j),Ee=z===Y?0:(Y-z)/Math.abs(Y-z);let je=j+ve,ft=z+Ee;for(;je!==W||ft!==Y;){if(G[je][ft]!==null)return!1;je+=ve,ft+=Ee}return!0},No=(j,z,W,Y,G,ve=!0,Ee=Ht(j),je=o,ft=!1)=>{if(!Bm(Y,G))return ft||console.log("[ILLEGAL MOVE] Out of board:",{piece:j,startRow:z,startCol:W,endRow:Y,endCol:G}),!1;const Nt=je[Y][G];if(Nt&&Ht(Nt)===Ee)return ft||console.log("[ILLEGAL MOVE] Capturing own piece:",{piece:j,startRow:z,startCol:W,endRow:Y,endCol:G}),!1;const En=j.toLowerCase();let Rt=!1;switch(En){case"p":Rt=Cb(Ee,z,W,Y,G,je);break;case"r":Rt=qm(z,W,Y,G,je);break;case"n":Rt=Wm(z,W,Y,G);break;case"b":Rt=Hm(z,W,Y,G,je);break;case"q":Rt=xb(z,W,Y,G,je);break;case"k":Rt=Sb(Ee,z,W,Y,G);break}return Rt?Rt&&ve&&zm(z,W,Y,G,Ee,je)?(ft||console.log("[ILLEGAL MOVE] Move exposes king to check:",{piece:j,startRow:z,startCol:W,endRow:Y,endCol:G}),!1):Rt:(ft||console.log("[ILLEGAL MOVE] Piece cannot move that way:",{piece:j,startRow:z,startCol:W,endRow:Y,endCol:G,playerColor:Ee,pieceType:En,targetPiece:je[Y][G],targetPieceColor:je[Y][G]?Ht(je[Y][G]):null}),!1)},Bu=(j,z=o,W=c)=>{const Y=[],G=z[j.row][j.col];if(!G||Ht(G)!==W)return Y;const ve=G.toLowerCase();if(ve==="p"){const Ee=W==="blue"?-1:1,je=W==="blue"?6:1,ft=j.row+Ee;if(ft>=0&&ft<8&&No(G,j.row,j.col,ft,j.col,!0,W,z,!0)&&Y.push({row:ft,col:j.col}),j.row===je){const Nt=j.row+2*Ee;Nt>=0&&Nt<8&&No(G,j.row,j.col,Nt,j.col,!0,W,z,!0)&&Y.push({row:Nt,col:j.col})}for(const Nt of[-1,1]){const En=j.col+Nt,Rt=j.row+Ee;En>=0&&En<8&&Rt>=0&&Rt<8&&No(G,j.row,j.col,Rt,En,!0,W,z,!0)&&Y.push({row:Rt,col:En})}}else if(ve==="n"){const Ee=[[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]];for(const[je,ft]of Ee){const Nt=j.row+je,En=j.col+ft;Nt>=0&&Nt<8&&En>=0&&En<8&&No(G,j.row,j.col,Nt,En,!0,W,z,!0)&&Y.push({row:Nt,col:En})}}else for(let Ee=0;Ee<8;Ee++)for(let je=0;je<8;je++)No(G,j.row,j.col,Ee,je,!0,W,z,!0)&&Y.push({row:Ee,col:je});return Y},V=(j,z=o)=>{if(!Yi(z,j))return!1;for(let W=0;W<8;W++)for(let Y=0;Y<8;Y++){const G=z[W][Y];if(G&&Ht(G)===j&&Bu({row:W,col:Y},z,j).length>0)return!1}return!0},Q=(j,z=o)=>{if(Yi(z,j))return!1;for(let W=0;W<8;W++)for(let Y=0;Y<8;Y++){const G=z[W][Y];if(G&&Ht(G)===j&&Bu({row:W,col:Y},z,j).length>0)return!1}return!0},oe=(j,z)=>{if(h!=="active"||re.current)return;const W=o[j][z],Y=W?Ht(W):null;if(u&&x.some(G=>G.row===j&&G.col===z)){ue(u,{row:j,col:z});return}if(W&&Y===c){const G=Bu({row:j,col:z});d({row:j,col:z}),S(G);return}d(null),S([])},ue=(j,z,W=!1)=>{const Y=o[j.row][j.col];if(console.log("[MOVE ATTEMPT]",{from:j,to:z,piece:Y,isAIMove:W,board:JSON.parse(JSON.stringify(o)),moveHistory:v}),!!Y){if(Y.toLowerCase()==="p"&&(Ht(Y)==="blue"&&z.row===0||Ht(Y)==="red"&&z.row===7)){N({from:j,to:z}),F(!0);return}Q2(j,z,"q",W)}};ie.current=ue;const _e=P.useCallback((j,z,W=!1)=>{Gi(!0);const Y=o.map(Ee=>[...Ee]),G=Y[j.row][j.col];if(!G)return;Y[z.row][z.col]=G,Y[j.row][j.col]=null,ML(Y,j,z,G);const ve=BL(j,z);if(b(Ee=>{const je=[...Ee,ve];return console.log("[MOVE HISTORY UPDATED]",je),je}),C({from:j,to:z}),d(null),S([]),v.length<10&&!W){const Ee=PR(Y,c==="blue"?"red":"blue");It(Ee).then(je=>{je&&je.moves&&je.moves.length>0&&(In(je.moves.slice(0,3)),Hi(!0),setTimeout(()=>Hi(!1),5e3))})}FL(j,z,G),l(Ee=>{const je=Ee==="blue"?"red":"blue";return console.log("[DEBUG] Player switched to:",je),Ge(Y,je),je}),Ge(Y,c==="blue"?"red":"blue"),a(Y),re.current=!1,K.current=!1,X.current=!1,Gi(!1)},[o,c,v,It]);P.useEffect(()=>{if(!re.current&&s==="ai"&&c==="red"&&!K.current&&!Yn)if(re.current=!0,p==="easy")setTimeout(()=>{const j=lt(o);j?ue(j.from,j.to,!0):re.current=!1},600);else{w("AI is calculating...");const j=PR(o,c);if(X.current)return;X.current=!0,fetch("https://chess.lawb.xyz/api/stockfish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fen:j,difficulty:p,movetime:3e3})}).then(W=>{if(W.ok)return W.json();throw new Error("API call failed")}).then(W=>{const Y=W.bestmove||W.move;if(Y&&Y!=="(none)"&&Y.length===4){const G=Y.charCodeAt(0)-97,ve=parseInt(Y[1]),Ee=Y.charCodeAt(2)-97,je=parseInt(Y[3]),ft=8-ve,Nt=8-je;if(G>=0&&G<8&&ft>=0&&ft<8&&Ee>=0&&Ee<8&&Nt>=0&&Nt<8){const En={from:{row:ft,col:G},to:{row:Nt,col:Ee}},Rt=o[ft][G];Rt&&Ht(Rt)==="red"&&No(Rt,ft,G,Nt,Ee,!0,"red",o)?ue(En.from,En.to,!0):(re.current=!1,X.current=!1)}else re.current=!1,X.current=!1}else re.current=!1,X.current=!1}).catch(()=>{w("AI error. Please try again."),re.current=!1,X.current=!1})}},[c,s,p,o,L,yn]);const Ge=(j,z)=>{console.log("Checking game end for player:",z);const W=j.some(G=>G.some(ve=>ve==="k")),Y=j.some(G=>G.some(ve=>ve==="K"));if(!W)return console.log("[GAME END] KING CAPTURED - Red wins!"),f("checkmate"),w("King captured! Red wins!"),Ca("loss"),Ce(!0),setTimeout(()=>Ce(!1),3e3),"checkmate";if(!Y)return console.log("[GAME END] KING CAPTURED - Blue wins!"),f("checkmate"),w("King captured! You win!"),Ca("win"),Ce(!0),setTimeout(()=>Ce(!1),3e3),"checkmate";if(console.log("Is king in check:",Yi(j,z)),V(z,j)){console.log("[GAME END] CHECKMATE",{winner:z==="blue"?"red":"blue",board:JSON.parse(JSON.stringify(j)),moveHistory:v}),f("checkmate");const G=z==="blue"?"red":"blue";return G==="blue"?(w("Checkmate! You win!"),Fu("checkmate"),X2(!0),qL(),Ca("win"),Ce(!0),setTimeout(()=>Ce(!1),3e3)):(w(`Checkmate! ${G==="red"?"AI":"Opponent"} wins!`),Fu("checkmate"),eI(!0),Ca("loss"),Ce(!0),setTimeout(()=>Ce(!1),3e3)),"checkmate"}return Q(z,j)?(console.log("[GAME END] STALEMATE",{board:JSON.parse(JSON.stringify(j)),moveHistory:v}),f("stalemate"),w("Stalemate! Game is a draw."),Ca("draw"),Ce(!0),setTimeout(()=>Ce(!1),3e3),"stalemate"):(Yi(j,z)?(console.log("CHECK detected!"),Fu("check"),w(`${z==="blue"?"Blue":"Red"} is in check!`)):w("Your turn"),null)},lt=j=>{const z=[];for(let G=0;G<8;G++)for(let ve=0;ve<8;ve++){const Ee=j[G][ve];Ee&&Ht(Ee)==="red"&&z.push({row:G,col:ve})}for(let G=z.length-1;G>0;G--){const ve=Math.floor(Math.random()*(G+1));[z[G],z[ve]]=[z[ve],z[G]]}const W=[],Y=[];for(const G of z){const ve=Bu(G,j,"red");for(const Ee of ve){const je=j[Ee.row][Ee.col];if(je&&Ht(je)==="blue"){const Nt={p:100,n:320,b:330,r:500,q:900,k:2e4}[je.toLowerCase()]||0;W.push({from:G,to:Ee,value:Nt})}else Y.push({from:G,to:Ee})}}if(W.length>0&&Math.random()<.3){W.sort((G,ve)=>G.value-ve.value);for(const G of W){const ve=j.map(je=>[...je]),Ee=ve[G.from.row][G.from.col];if(ve[G.to.row][G.to.col]=Ee,ve[G.from.row][G.from.col]=null,!Yi(ve,"red"))return{from:G.from,to:G.to}}}for(const G of Y){const ve=j.map(je=>[...je]),Ee=ve[G.from.row][G.from.col];if(ve[G.to.row][G.to.col]=Ee,ve[G.from.row][G.from.col]=null,!Yi(ve,"red"))return G}W.sort((G,ve)=>G.value-ve.value);for(const G of W){const ve=j.map(je=>[...je]),Ee=ve[G.from.row][G.from.col];if(ve[G.to.row][G.to.col]=Ee,ve[G.from.row][G.from.col]=null,!Yi(ve,"red"))return{from:G.from,to:G.to}}return null},Tt=()=>{a(JSON.parse(JSON.stringify(NR))),l("blue"),d(null),f("active"),b([]),S([]),C(null),O(!1),w("Select game mode"),q({blueKingMoved:!1,redKingMoved:!1,blueRooksMove:{left:!1,right:!1},redRooksMove:{left:!1,right:!1},lastPawnDoubleMove:null}),Ki(Lu()),re.current&&(re.current=!1)},ui=()=>{if(VL(),console.log("[DEBUG] startGame called, difficulty:",p,"gameMode:",s),s==="online"){O(!1),te(!1);return}O(!0),te(!1),w("Game started! Your turn");const j=Lu();Ki(j),console.log("[DEBUG] Game started with chessboard:",j)},qr=j=>`${j.slice(0,6)}...${j.slice(-4)}`,Vm=(j,z)=>{const W=o[j][z],Y=(u==null?void 0:u.row)===j&&(u==null?void 0:u.col)===z,G=x.some(Ee=>Ee.row===j&&Ee.col===z),ve=A&&(A.from.row===j&&A.from.col===z||A.to.row===j&&A.to.col===z);return g.jsxs("div",{className:`square ${Y?"selected":""} ${G?"legal-move":""} ${ve?"last-move":""}`,onClick:()=>oe(j,z),children:[W&&g.jsx("div",{className:"piece",style:{backgroundImage:iw[W]?`url(${iw[W]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),G&&g.jsx("div",{className:"legal-move-indicator"})]},`${j}-${z}`)},Po=()=>{if(!B||!H)return null;const j=c==="blue"?["q","r","b","n"]:["Q","R","B","N"];return g.jsx("div",{className:"promotion-dialog",children:g.jsxs("div",{className:"promotion-content",children:[g.jsx("h3",{children:"Choose promotion piece:"}),g.jsx("div",{className:"promotion-pieces",children:j.map(z=>g.jsx("div",{className:"promotion-piece",onClick:()=>{Q2(H.from,H.to,z),F(!1),N(null)},style:{backgroundImage:iw[z]?`url(${iw[z]})`:void 0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},z))})]})})},[jL,UL]=P.useState(null),Y2=(j=!1,z="Click a piece to learn more about it.")=>g.jsxs("div",{className:`piece-gallery${j?" piece-gallery-sm":""}`,children:[g.jsx("h3",{children:"Lawbstation Chess Pieces"}),g.jsx("div",{className:"piece-gallery-grid",children:PCe.map(W=>g.jsxs("div",{className:"piece-gallery-item",onClick:()=>UL(W.key),children:[g.jsx("img",{src:W.img,alt:W.name,className:"piece-gallery-img"}),g.jsx("div",{className:"piece-gallery-name",children:W.name}),jL===W.key&&g.jsx("div",{className:"piece-gallery-desc",children:W.desc})]},W.key))}),g.jsx("div",{className:"piece-gallery-tip",children:z})]}),LL=()=>g.jsx("div",{className:"difficulty-selection-row",style:{justifyContent:"center"},children:g.jsx("div",{className:"difficulty-controls-col",children:g.jsxs("div",{className:"difficulty-selection-panel",style:{background:"#fff",borderRadius:12,padding:"32px 24px",boxShadow:"0 4px 32px rgba(0,0,0,0.12)",textAlign:"center"},children:[g.jsx("h2",{style:{fontWeight:700,letterSpacing:1,fontSize:"2rem",color:"#0a2a7a",marginBottom:16},children:"Start a New Game"}),g.jsxs("p",{style:{fontSize:"1.1rem",color:"#333",marginBottom:24},children:["Challenge the LawbBot AI to a chess match.",g.jsx("br",{}),"Good luck, have fun!"]}),g.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:16,marginBottom:24},children:[g.jsx("button",{className:`difficulty-btn${p==="easy"?" selected":""}`,style:{background:p==="easy"?"#44c0ff":"#eee",color:p==="easy"?"#fff":"#333",fontWeight:"bold",fontSize:"1.1em",padding:"12px 32px",borderRadius:8,border:"none",cursor:"pointer",letterSpacing:1,boxShadow:p==="easy"?"0 2px 8px #44c0ff44":"none"},onClick:()=>m("easy"),children:"Easy"}),g.jsx("button",{className:`difficulty-btn${p==="hard"?" selected":""}`,style:{background:p==="hard"?"#0a2a7a":"#eee",color:p==="hard"?"#fff":"#333",fontWeight:"bold",fontSize:"1.1em",padding:"12px 32px",borderRadius:8,border:"none",cursor:"pointer",letterSpacing:1,boxShadow:p==="hard"?"0 2px 8px #0a2a7a44":"none"},onClick:()=>m("hard"),children:"Hard"})]}),g.jsxs("button",{className:"difficulty-btn start-btn",onClick:()=>{ui()},style:{background:"linear-gradient(90deg, #0a2a7a 0%, #44c0ff 100%)",color:"white",fontWeight:"bold",fontSize:"1.3em",padding:"18px 48px",borderRadius:8,boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"none",cursor:"pointer",letterSpacing:1,marginBottom:8},children:[g.jsx("span",{role:"img","aria-label":"chess",children:""})," Start Game"]})]})})}),ML=(j,z,W,Y)=>{if(Y.toLowerCase()==="p"&&(Ht(Y)==="blue"&&W.row===0||Ht(Y)==="red"&&W.row===7)){const G=Ht(Y)==="blue"?"q":"Q";j[W.row][W.col]=G}Y.toLowerCase()==="k"&&Math.abs(z.col-W.col)===2&&(W.col===6?(j[z.row][7]=null,j[z.row][5]=Ht(Y)==="blue"?"r":"R"):W.col===2&&(j[z.row][0]=null,j[z.row][3]=Ht(Y)==="blue"?"r":"R"))},BL=(j,z,W,Y)=>{const G=Fm(j.row,j.col),ve=Fm(z.row,z.col);return`${G}-${ve}`},FL=(j,z,W)=>{const Y={...L};W.toLowerCase()==="k"?Ht(W)==="blue"?Y.blueKingMoved=!0:Y.redKingMoved=!0:W.toLowerCase()==="r"&&(Ht(W)==="blue"?(j.col===0&&(Y.blueRooksMove.left=!0),j.col===7&&(Y.blueRooksMove.right=!0)):(j.col===0&&(Y.redRooksMove.left=!0),j.col===7&&(Y.redRooksMove.right=!0))),W.toLowerCase()==="p"&&Math.abs(j.row-z.row)===2?Y.lastPawnDoubleMove={row:z.row,col:z.col}:Y.lastPawnDoubleMove=null,q(Y)},Q2=(j,z,W="q",Y=!1)=>{o[j.row][j.col];const ve=o[z.row][z.col]!==null;if(Fu(ve?"capture":"move"),ve){U({row:z.row,col:z.col,show:!0}),setTimeout(()=>{_e(j,z,Y),U(null)},500);return}_e(j,z,Y)},[J2,zL]=P.useState(!0),[Ab,Z2]=P.useState(!1),Fu=j=>{if(!J2)return;let z="";switch(j){case"move":z="/images/move.mp3";break;case"capture":z="/images/capture.mp3";break;case"check":z="/images/play.mp3";break;case"checkmate":z="/images/victory.mp3";break;case"victory":z="/images/victory.mp3";break;default:z="/images/move.mp3"}new Audio(z).play().catch(()=>{})},qL=()=>{if(Ab){Fu("victory");for(let j=0;j<50;j++)setTimeout(()=>{const z=document.createElement("div");z.style.cssText=`
          position: fixed;
          width: 10px;
          height: 10px;
          background: ${["#ff4444","#44ff44","#4444ff","#ffff44","#ff44ff"][Math.floor(Math.random()*5)]};
          left: ${Math.random()*window.innerWidth}px;
          top: -10px;
          z-index: 9999;
          animation: confetti-fall 3s linear forwards;
        `,document.body.appendChild(z),setTimeout(()=>z.remove(),3e3)},j*100);setTimeout(()=>Z2(!1),5e3)}},[WL,X2]=P.useState(!1),[HL,eI]=P.useState(!1),tI=()=>{X2(!1),eI(!1)},Ib=()=>{tI(),Tt()},Tb=()=>{tI(),O(!1)},VL=()=>{new Audio("/images/start.mp3").play().catch(()=>{})},GL=s==="online";return g.jsxs("div",{className:`chess-game${n?" fullscreen":""}${Ue?" chess-dark-mode":""}`,children:[!n&&g.jsxs("div",{className:"chess-header",children:[g.jsx("h2",{children:"Lawb Chess"}),g.jsxs("div",{className:"chess-controls",children:[e&&g.jsx("button",{onClick:e,children:"_"}),g.jsx("button",{onClick:t,children:""}),g.jsx("button",{className:"dark-mode-toggle",onClick:At,title:Ue?"Switch to light mode":"Switch to dark mode","aria-label":Ue?"Switch to light mode":"Switch to dark mode",style:{marginLeft:12},children:Ue?"":""})]})]}),g.jsxs("div",{className:"game-stable-layout",children:[g.jsxs("div",{className:"left-sidebar",children:[k&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"move-history-status",children:y}),g.jsxs("div",{className:"move-history",children:[g.jsx("div",{className:"move-history-title",children:"Move History"}),g.jsx("ul",{className:"move-history-list",children:v.slice().reverse().map((j,z)=>g.jsx("li",{children:j},v.length-1-z))})]})]}),!k&&g.jsxs("div",{className:"leaderboard",children:[g.jsx("h3",{children:"Leaderboard"}),g.jsx("div",{className:"leaderboard-table",children:g.jsxs("table",{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Rank"}),g.jsx("th",{children:"Player"}),g.jsx("th",{children:"W"}),g.jsx("th",{children:"L"}),g.jsx("th",{children:"D"}),g.jsx("th",{children:"Points"})]})}),g.jsx("tbody",{children:Array.isArray(E)&&E.slice(0,10).map((j,z)=>{if(typeof j=="object"&&j!==null&&"username"in j&&"wins"in j&&"losses"in j&&"draws"in j&&"points"in j){const W=j;return g.jsxs("tr",{children:[g.jsx("td",{children:z+1}),g.jsx("td",{children:qr(W.username)}),g.jsx("td",{children:W.wins}),g.jsx("td",{children:W.losses}),g.jsx("td",{children:W.draws}),g.jsx("td",{children:W.points})]},W.username)}return null})})]})})]})]}),g.jsxs("div",{className:"center-area",children:[g.jsx("div",{className:"game-info",children:g.jsxs("div",{className:"game-info-bar",children:[g.jsxs("span",{className:c==="blue"?"current-blue":"current-red",children:["Current: ",c==="blue"?"Blue":"Red"]}),g.jsx("span",{className:"wager-label",children:"Wager:"})," ",g.jsx("span",{children:s==="ai"?"NA":`${$} ETH`}),k&&!se&&g.jsxs("span",{className:"mode-play",children:["Mode: ",p==="easy"?"Easy":"Hard"]}),p==="easy"&&g.jsxs("span",{className:`stockfish-status ${ct}`,children:["LawbBot: ",ct==="loading"?"Loading...":ct==="ready"?"Ready":"Failed"]}),p==="hard"&&g.jsxs("span",{className:`stockfish-status ${ct}`,children:["LawbBot: ",ct==="loading"?"Loading...":ct==="ready"?"Ready":"Failed"]}),Kn&&Vi.length>0&&g.jsxs("div",{className:"opening-suggestions",children:[g.jsx("span",{className:"opening-label",children:"Opening:"}),Vi.map((j,z)=>g.jsxs("span",{className:"opening-move",children:[j.san," (",Math.round(j.white+j.draws+j.black)," games)"]},z))]})]})}),k?g.jsxs("div",{className:"chess-main-area",children:[g.jsx("div",{className:"chessboard-container",children:g.jsxs("div",{className:"chessboard",style:{backgroundImage:`url(${Ea})`},children:[Array.from({length:8},(j,z)=>g.jsx("div",{className:"board-row",children:Array.from({length:8},(W,Y)=>Vm(z,Y))},z)),T&&T.show&&g.jsx("div",{className:"capture-animation",style:{position:"absolute",top:`${T.row*12.5}%`,left:`${T.col*12.5}%`,width:"12.5%",height:"12.5%",zIndex:10},children:g.jsx("img",{src:"/images/capture.gif",alt:"capture",style:{width:"100%",height:"100%"}})})]})}),g.jsxs("div",{className:"game-controls",children:[g.jsx("button",{onClick:()=>Le(!0),children:"Chess Piece Info"}),g.jsx("button",{onClick:Ib,children:"New Game"}),g.jsx("button",{onClick:Tb,children:"Back to Menu"})]}),g.jsxs("div",{className:"epic-controls",children:[g.jsxs("div",{className:"epic-toggle",children:[g.jsx("input",{type:"checkbox",id:"sound-toggle",checked:J2,onChange:j=>zL(j.target.checked)}),g.jsx("label",{htmlFor:"sound-toggle",children:" Sound Effects"})]}),g.jsxs("div",{className:"epic-toggle",children:[g.jsx("input",{type:"checkbox",id:"victory-toggle",checked:Ab,onChange:j=>Z2(j.target.checked)}),g.jsx("label",{htmlFor:"victory-toggle",children:" Victory Celebration"})]})]})]}):se?LL():s==="online"?g.jsx(DL,{onClose:t,onMinimize:e,fullscreen:n}):g.jsxs("div",{className:"game-mode-panel",children:[g.jsx("h3",{className:"game-mode-title",children:"Select Game Mode"}),g.jsx("button",{className:`mode-btn ${s==="ai"?"selected":""}`,onClick:()=>i("ai"),children:"VS THE HOUSE"}),g.jsxs("div",{className:"pvp-section",children:[g.jsx("button",{className:`mode-btn ${GL?"selected":""}`,onClick:()=>i("online"),children:"PvP"}),g.jsx("img",{src:"/images/chessboard4.png",alt:"Chessboard",style:{display:"block",margin:"16px auto 0 auto",width:"180px",maxWidth:"90%"}})]}),g.jsx("button",{className:"start-btn continue-btn",onClick:()=>te(!0),children:"Continue"}),g.jsxs("div",{className:"how-to-section",children:[g.jsx("h4",{children:"How to Play"}),g.jsxs("div",{className:"how-to-content",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Chess Basics:"})," Move pieces to capture your opponent's king. Each piece moves differently - pawns forward, knights in L-shapes, bishops diagonally, rooks horizontally/vertically, queens in all directions, kings one square at a time."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Wallet Connection:"})," Connect your wallet to track your progress and compete on the leaderboard. Your wallet address serves as your username."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Points System:"})," Win points by defeating the AI. 1 win = 10pts. 1 draw = 1 point."]})]})]})]})]}),g.jsx("div",{className:"right-sidebar",children:k?g.jsxs("div",{className:"leaderboard",children:[g.jsx("h3",{children:"Leaderboard"}),g.jsx("div",{className:"leaderboard-table",children:g.jsxs("table",{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Rank"}),g.jsx("th",{children:"Player"}),g.jsx("th",{children:"W"}),g.jsx("th",{children:"L"}),g.jsx("th",{children:"D"}),g.jsx("th",{children:"Points"})]})}),g.jsx("tbody",{children:Array.isArray(E)&&E.slice(0,10).map((j,z)=>{if(typeof j=="object"&&j!==null&&"username"in j&&"wins"in j&&"losses"in j&&"draws"in j&&"points"in j){const W=j;return g.jsxs("tr",{children:[g.jsx("td",{children:z+1}),g.jsx("td",{children:qr(W.username)}),g.jsx("td",{children:W.wins}),g.jsx("td",{children:W.losses}),g.jsx("td",{children:W.draws}),g.jsx("td",{children:W.points})]},W.username)}return null})})]})})]}):g.jsx("div",{className:"piece-gallery-panel",children:Y2(!1)})})]}),he&&g.jsx("div",{className:"gallery-modal-overlay",onClick:()=>Le(!1),children:g.jsxs("div",{className:"gallery-modal",onClick:j=>j.stopPropagation(),children:[g.jsx("button",{className:"close-modal-btn",onClick:()=>Le(!1),children:""}),Y2(!1)]})}),Po(),Te&&g.jsx("div",{className:"leaderboard-updated-msg",children:"Leaderboard updated!"}),WL&&Ab&&g.jsxs("div",{className:"victory-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.0)"},children:[g.jsx("div",{className:"balloons-container"}),g.jsx("img",{src:"/images/victory.gif",alt:"Victory",style:{width:"320px",height:"auto",zIndex:2}}),g.jsxs("div",{style:{position:"absolute",bottom:40,left:0,width:"100vw",display:"flex",justifyContent:"center",gap:24},children:[g.jsx("button",{onClick:Ib,children:"New Game"}),g.jsx("button",{onClick:Tb,children:"Back to Menu"})]})]}),HL&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"blood-overlay",children:[0,1,2,3,4,5].map(j=>g.jsx("div",{className:"blood-drip",style:{left:`${10+j*14}%`,animationDelay:`${.5+j*.3}s`,background:"linear-gradient(to bottom, #a80000 0%, #d10000 80%, #5a0000 100%)",width:`${14+Math.random()*10}px`,height:`${50+Math.random()*30}px`,opacity:.85+Math.random()*.1}},j))}),g.jsxs("div",{className:"defeat-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.0)",pointerEvents:"none"},children:[g.jsx("img",{src:"/images/loser.gif",alt:"Defeat",style:{width:"320px",height:"auto",zIndex:2}}),g.jsxs("div",{style:{position:"absolute",bottom:40,left:0,width:"100vw",display:"flex",justifyContent:"center",gap:24,pointerEvents:"none"},children:[g.jsx("button",{style:{pointerEvents:"auto",zIndex:3e3},onClick:Ib,children:"New Game"}),g.jsx("button",{style:{pointerEvents:"auto",zIndex:3e3},onClick:Tb,children:"Back to Menu"})]})]})]})]})};function PR(t,e){let n="";for(let r=0;r<8;r++){let s=0;for(let i=0;i<8;i++){const o=t[r][i];o?(s>0&&(n+=s,s=0),o>="a"&&o<="z"?n+=o.toUpperCase():o>="A"&&o<="Z"?n+=o.toLowerCase():n+=o):s++}s>0&&(n+=s),r<7&&(n+="/")}return n+=" "+(e==="blue"?"w":"b"),n+=" - - 0 1",n}const kR=()=>{const[t,e]=P.useState("singleplayer");return g.jsxs("div",{className:"chess-page",children:[g.jsxs("div",{className:"chess-header",children:[g.jsx("h1",{children:" Chess"}),g.jsxs("div",{className:"mode-toggle",children:[g.jsx("button",{className:`mode-btn ${t==="singleplayer"?"active":""}`,onClick:()=>e("singleplayer"),children:"Single Player"}),g.jsx("button",{className:`mode-btn ${t==="multiplayer"?"active":""}`,onClick:()=>e("multiplayer"),children:"Multiplayer"})]})]}),g.jsx("div",{className:"chess-content",children:t==="singleplayer"?g.jsx(RCe,{onClose:()=>{}}):g.jsx(DL,{onClose:()=>{},onMinimize:()=>{},fullscreen:!1})})]})},$Ce=new BH,DCe=typeof window<"u"&&window.location.hostname.startsWith("chess."),jCe=()=>s_e("(max-width: 768px)")?g.jsx(r_e,{}):g.jsx(Y1e,{});X_.createRoot(document.getElementById("root")).render(g.jsx(Ps.StrictMode,{children:g.jsx(eH,{config:uL.wagmiConfig,children:g.jsx(XH,{client:$Ce,children:g.jsx(G1e,{children:g.jsx(W1e,{children:DCe?g.jsx(Uw,{path:"/*",element:g.jsx(kR,{})}):g.jsxs(g.Fragment,{children:[g.jsx(Uw,{path:"/",element:g.jsx(jCe,{})}),g.jsx(Uw,{path:"/chess",element:g.jsx(kR,{})})]})})})})})}));export{Zxe as $,ye as A,qe as B,be as C,ur as D,wp as E,lr as F,Me as G,ex as H,Jf as I,Ni as J,yX as K,Ft as L,kt as M,fX as N,le as O,Ss as P,$w as Q,We as R,ki as S,ss as T,Tg as U,Lg as V,Vn as W,rSe as X,eS as Y,JX as Z,Tp as _,jw as a,Uh as a$,qn as a0,Cu as a1,gn as a2,eSe as a3,BU as a4,tS as a5,Nh as a6,wn as a7,exe as a8,bc as a9,w5 as aA,y5 as aB,Gc as aC,pp as aD,fa as aE,GCe as aF,QF as aG,ou as aH,VCe as aI,KCe as aJ,l0 as aK,YCe as aL,v7 as aM,pD as aN,HCe as aO,vv as aP,eg as aQ,u0 as aR,Q0 as aS,QCe as aT,b7 as aU,hN as aV,zW as aW,mY as aX,ai as aY,Uq as aZ,jq as a_,Co as aa,bg as ab,Ke as ac,kn as ad,Ya as ae,E5 as af,xv as ag,d0 as ah,_A as ai,Vc as aj,qCe as ak,Cv as al,EA as am,zCe as an,FCe as ao,AD as ap,yv as aq,c0 as ar,jF as as,FF as at,JCe as au,Dz as av,ae as aw,pA as ax,jr as ay,Uz as az,Dt as b,iu as b0,pv as b1,Mr as b2,_n as b3,wm as b4,ee as c,De as d,R as e,jt as f,na as g,nSe as h,Qd as i,Is as j,ke as k,tn as l,dbe as m,xn as n,hbe as o,we as p,on as q,tSe as r,St as s,bj as t,Jt as u,VX as v,Bs as w,Jxe as x,e2 as y,Ej as z};
